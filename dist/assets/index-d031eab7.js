function L6(n,e){for(var r=0;r<e.length;r++){const i=e[r];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const s=Object.getOwnPropertyDescriptor(i,o);s&&Object.defineProperty(n,o,s.get?s:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();function Nu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function IR(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var r=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var o=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(r,i,o.get?o:{enumerable:!0,get:function(){return n[i]}})}),r}var P6={exports:{}},LE={},B6={exports:{}},vi={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PA=Symbol.for("react.element"),wJ=Symbol.for("react.portal"),SJ=Symbol.for("react.fragment"),_J=Symbol.for("react.strict_mode"),MJ=Symbol.for("react.profiler"),TJ=Symbol.for("react.provider"),RJ=Symbol.for("react.context"),IJ=Symbol.for("react.forward_ref"),LJ=Symbol.for("react.suspense"),PJ=Symbol.for("react.memo"),BJ=Symbol.for("react.lazy"),JO=Symbol.iterator;function OJ(n){return n===null||typeof n!="object"?null:(n=JO&&n[JO]||n["@@iterator"],typeof n=="function"?n:null)}var O6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D6=Object.assign,N6={};function dg(n,e,r){this.props=n,this.context=e,this.refs=N6,this.updater=r||O6}dg.prototype.isReactComponent={};dg.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};dg.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function k6(){}k6.prototype=dg.prototype;function LR(n,e,r){this.props=n,this.context=e,this.refs=N6,this.updater=r||O6}var PR=LR.prototype=new k6;PR.constructor=LR;D6(PR,dg.prototype);PR.isPureReactComponent=!0;var ZO=Array.isArray,F6=Object.prototype.hasOwnProperty,BR={current:null},U6={key:!0,ref:!0,__self:!0,__source:!0};function z6(n,e,r){var i,o={},s=null,l=null;if(e!=null)for(i in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(s=""+e.key),e)F6.call(e,i)&&!U6.hasOwnProperty(i)&&(o[i]=e[i]);var u=arguments.length-2;if(u===1)o.children=r;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];o.children=c}if(n&&n.defaultProps)for(i in u=n.defaultProps,u)o[i]===void 0&&(o[i]=u[i]);return{$$typeof:PA,type:n,key:s,ref:l,props:o,_owner:BR.current}}function DJ(n,e){return{$$typeof:PA,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function OR(n){return typeof n=="object"&&n!==null&&n.$$typeof===PA}function NJ(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(r){return e[r]})}var eD=/\/+/g;function VS(n,e){return typeof n=="object"&&n!==null&&n.key!=null?NJ(""+n.key):e.toString(36)}function N1(n,e,r,i,o){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var l=!1;if(n===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(n.$$typeof){case PA:case wJ:l=!0}}if(l)return l=n,o=o(l),n=i===""?"."+VS(l,0):i,ZO(o)?(r="",n!=null&&(r=n.replace(eD,"$&/")+"/"),N1(o,e,r,"",function(d){return d})):o!=null&&(OR(o)&&(o=DJ(o,r+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(eD,"$&/")+"/")+n)),e.push(o)),1;if(l=0,i=i===""?".":i+":",ZO(n))for(var u=0;u<n.length;u++){s=n[u];var c=i+VS(s,u);l+=N1(s,e,r,c,o)}else if(c=OJ(n),typeof c=="function")for(n=c.call(n),u=0;!(s=n.next()).done;)s=s.value,c=i+VS(s,u++),l+=N1(s,e,r,c,o);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function ub(n,e,r){if(n==null)return n;var i=[],o=0;return N1(n,i,"","",function(s){return e.call(r,s,o++)}),i}function kJ(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(r){(n._status===0||n._status===-1)&&(n._status=1,n._result=r)},function(r){(n._status===0||n._status===-1)&&(n._status=2,n._result=r)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Ja={current:null},k1={transition:null},FJ={ReactCurrentDispatcher:Ja,ReactCurrentBatchConfig:k1,ReactCurrentOwner:BR};vi.Children={map:ub,forEach:function(n,e,r){ub(n,function(){e.apply(this,arguments)},r)},count:function(n){var e=0;return ub(n,function(){e++}),e},toArray:function(n){return ub(n,function(e){return e})||[]},only:function(n){if(!OR(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};vi.Component=dg;vi.Fragment=SJ;vi.Profiler=MJ;vi.PureComponent=LR;vi.StrictMode=_J;vi.Suspense=LJ;vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FJ;vi.cloneElement=function(n,e,r){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=D6({},n.props),o=n.key,s=n.ref,l=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,l=BR.current),e.key!==void 0&&(o=""+e.key),n.type&&n.type.defaultProps)var u=n.type.defaultProps;for(c in e)F6.call(e,c)&&!U6.hasOwnProperty(c)&&(i[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)i.children=r;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];i.children=u}return{$$typeof:PA,type:n.type,key:o,ref:s,props:i,_owner:l}};vi.createContext=function(n){return n={$$typeof:RJ,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:TJ,_context:n},n.Consumer=n};vi.createElement=z6;vi.createFactory=function(n){var e=z6.bind(null,n);return e.type=n,e};vi.createRef=function(){return{current:null}};vi.forwardRef=function(n){return{$$typeof:IJ,render:n}};vi.isValidElement=OR;vi.lazy=function(n){return{$$typeof:BJ,_payload:{_status:-1,_result:n},_init:kJ}};vi.memo=function(n,e){return{$$typeof:PJ,type:n,compare:e===void 0?null:e}};vi.startTransition=function(n){var e=k1.transition;k1.transition={};try{n()}finally{k1.transition=e}};vi.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};vi.useCallback=function(n,e){return Ja.current.useCallback(n,e)};vi.useContext=function(n){return Ja.current.useContext(n)};vi.useDebugValue=function(){};vi.useDeferredValue=function(n){return Ja.current.useDeferredValue(n)};vi.useEffect=function(n,e){return Ja.current.useEffect(n,e)};vi.useId=function(){return Ja.current.useId()};vi.useImperativeHandle=function(n,e,r){return Ja.current.useImperativeHandle(n,e,r)};vi.useInsertionEffect=function(n,e){return Ja.current.useInsertionEffect(n,e)};vi.useLayoutEffect=function(n,e){return Ja.current.useLayoutEffect(n,e)};vi.useMemo=function(n,e){return Ja.current.useMemo(n,e)};vi.useReducer=function(n,e,r){return Ja.current.useReducer(n,e,r)};vi.useRef=function(n){return Ja.current.useRef(n)};vi.useState=function(n){return Ja.current.useState(n)};vi.useSyncExternalStore=function(n,e,r){return Ja.current.useSyncExternalStore(n,e,r)};vi.useTransition=function(){return Ja.current.useTransition()};vi.version="18.2.0";B6.exports=vi;var M=B6.exports;const nn=Nu(M),BA=L6({__proto__:null,default:nn},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UJ=M,zJ=Symbol.for("react.element"),HJ=Symbol.for("react.fragment"),$J=Object.prototype.hasOwnProperty,GJ=UJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jJ={key:!0,ref:!0,__self:!0,__source:!0};function H6(n,e,r){var i,o={},s=null,l=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(l=e.ref);for(i in e)$J.call(e,i)&&!jJ.hasOwnProperty(i)&&(o[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)o[i]===void 0&&(o[i]=e[i]);return{$$typeof:zJ,type:n,key:s,ref:l,props:o,_owner:GJ.current}}LE.Fragment=HJ;LE.jsx=H6;LE.jsxs=H6;P6.exports=LE;var Fr=P6.exports,_M={},$6={exports:{}},Fs={},G6={exports:{}},j6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(G,j){var Q=G.length;G.push(j);e:for(;0<Q;){var X=Q-1>>>1,J=G[X];if(0<o(J,j))G[X]=j,G[Q]=J,Q=X;else break e}}function r(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var j=G[0],Q=G.pop();if(Q!==j){G[0]=Q;e:for(var X=0,J=G.length,Z=J>>>1;X<Z;){var oe=2*(X+1)-1,ue=G[oe],Be=oe+1,ge=G[Be];if(0>o(ue,Q))Be<J&&0>o(ge,ue)?(G[X]=ge,G[Be]=Q,X=Be):(G[X]=ue,G[oe]=Q,X=oe);else if(Be<J&&0>o(ge,Q))G[X]=ge,G[Be]=Q,X=Be;else break e}}return j}function o(G,j){var Q=G.sortIndex-j.sortIndex;return Q!==0?Q:G.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var c=[],d=[],h=1,p=null,m=3,v=!1,y=!1,A=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(G){for(var j=r(d);j!==null;){if(j.callback===null)i(d);else if(j.startTime<=G)i(d),j.sortIndex=j.expirationTime,e(c,j);else break;j=r(d)}}function C(G){if(A=!1,E(G),!y)if(r(c)!==null)y=!0,k(_);else{var j=r(d);j!==null&&z(C,j.startTime-G)}}function _(G,j){y=!1,A&&(A=!1,g(P),P=-1),v=!0;var Q=m;try{for(E(j),p=r(c);p!==null&&(!(p.expirationTime>j)||G&&!$());){var X=p.callback;if(typeof X=="function"){p.callback=null,m=p.priorityLevel;var J=X(p.expirationTime<=j);j=n.unstable_now(),typeof J=="function"?p.callback=J:p===r(c)&&i(c),E(j)}else i(c);p=r(c)}if(p!==null)var Z=!0;else{var oe=r(d);oe!==null&&z(C,oe.startTime-j),Z=!1}return Z}finally{p=null,m=Q,v=!1}}var L=!1,R=null,P=-1,T=5,D=-1;function $(){return!(n.unstable_now()-D<T)}function V(){if(R!==null){var G=n.unstable_now();D=G;var j=!0;try{j=R(!0,G)}finally{j?B():(L=!1,R=null)}}else L=!1}var B;if(typeof w=="function")B=function(){w(V)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,F=O.port2;O.port1.onmessage=V,B=function(){F.postMessage(null)}}else B=function(){b(V,0)};function k(G){R=G,L||(L=!0,B())}function z(G,j){P=b(function(){G(n.unstable_now())},j)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){y||v||(y=!0,k(_))},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return r(c)},n.unstable_next=function(G){switch(m){case 1:case 2:case 3:var j=3;break;default:j=m}var Q=m;m=j;try{return G()}finally{m=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,j){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Q=m;m=G;try{return j()}finally{m=Q}},n.unstable_scheduleCallback=function(G,j,Q){var X=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?X+Q:X):Q=X,G){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Q+J,G={id:h++,callback:j,priorityLevel:G,startTime:Q,expirationTime:J,sortIndex:-1},Q>X?(G.sortIndex=Q,e(d,G),r(c)===null&&G===r(d)&&(A?(g(P),P=-1):A=!0,z(C,Q-X))):(G.sortIndex=J,e(c,G),y||v||(y=!0,k(_))),G},n.unstable_shouldYield=$,n.unstable_wrapCallback=function(G){var j=m;return function(){var Q=m;m=j;try{return G.apply(this,arguments)}finally{m=Q}}}})(j6);G6.exports=j6;var VJ=G6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V6=M,Ds=VJ;function Un(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var W6=new Set,Q0={};function Sh(n,e){Um(n,e),Um(n+"Capture",e)}function Um(n,e){for(Q0[n]=e,n=0;n<e.length;n++)W6.add(e[n])}var wu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),MM=Object.prototype.hasOwnProperty,WJ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tD={},nD={};function QJ(n){return MM.call(nD,n)?!0:MM.call(tD,n)?!1:WJ.test(n)?nD[n]=!0:(tD[n]=!0,!1)}function KJ(n,e,r,i){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function XJ(n,e,r,i){if(e===null||typeof e>"u"||KJ(n,e,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Za(n,e,r,i,o,s,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=l}var Aa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Aa[n]=new Za(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Aa[e]=new Za(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Aa[n]=new Za(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Aa[n]=new Za(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Aa[n]=new Za(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Aa[n]=new Za(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Aa[n]=new Za(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Aa[n]=new Za(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Aa[n]=new Za(n,5,!1,n.toLowerCase(),null,!1,!1)});var DR=/[\-:]([a-z])/g;function NR(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(DR,NR);Aa[e]=new Za(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(DR,NR);Aa[e]=new Za(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(DR,NR);Aa[e]=new Za(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Aa[n]=new Za(n,1,!1,n.toLowerCase(),null,!1,!1)});Aa.xlinkHref=new Za("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Aa[n]=new Za(n,1,!1,n.toLowerCase(),null,!0,!0)});function kR(n,e,r,i){var o=Aa.hasOwnProperty(e)?Aa[e]:null;(o!==null?o.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(XJ(e,r,o,i)&&(r=null),i||o===null?QJ(e)&&(r===null?n.removeAttribute(e):n.setAttribute(e,""+r)):o.mustUseProperty?n[o.propertyName]=r===null?o.type===3?!1:"":r:(e=o.attributeName,i=o.attributeNamespace,r===null?n.removeAttribute(e):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,i?n.setAttributeNS(i,e,r):n.setAttribute(e,r))))}var ku=V6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,db=Symbol.for("react.element"),Zp=Symbol.for("react.portal"),em=Symbol.for("react.fragment"),FR=Symbol.for("react.strict_mode"),TM=Symbol.for("react.profiler"),Q6=Symbol.for("react.provider"),K6=Symbol.for("react.context"),UR=Symbol.for("react.forward_ref"),RM=Symbol.for("react.suspense"),IM=Symbol.for("react.suspense_list"),zR=Symbol.for("react.memo"),bd=Symbol.for("react.lazy"),X6=Symbol.for("react.offscreen"),rD=Symbol.iterator;function Av(n){return n===null||typeof n!="object"?null:(n=rD&&n[rD]||n["@@iterator"],typeof n=="function"?n:null)}var go=Object.assign,WS;function o0(n){if(WS===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);WS=e&&e[1]||""}return`
`+WS+n}var QS=!1;function KS(n,e){if(!n||QS)return"";QS=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var i=d}Reflect.construct(n,[],e)}else{try{e.call()}catch(d){i=d}n.call(e.prototype)}else{try{throw Error()}catch(d){i=d}n()}}catch(d){if(d&&i&&typeof d.stack=="string"){for(var o=d.stack.split(`
`),s=i.stack.split(`
`),l=o.length-1,u=s.length-1;1<=l&&0<=u&&o[l]!==s[u];)u--;for(;1<=l&&0<=u;l--,u--)if(o[l]!==s[u]){if(l!==1||u!==1)do if(l--,u--,0>u||o[l]!==s[u]){var c=`
`+o[l].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=l&&0<=u);break}}}finally{QS=!1,Error.prepareStackTrace=r}return(n=n?n.displayName||n.name:"")?o0(n):""}function qJ(n){switch(n.tag){case 5:return o0(n.type);case 16:return o0("Lazy");case 13:return o0("Suspense");case 19:return o0("SuspenseList");case 0:case 2:case 15:return n=KS(n.type,!1),n;case 11:return n=KS(n.type.render,!1),n;case 1:return n=KS(n.type,!0),n;default:return""}}function LM(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case em:return"Fragment";case Zp:return"Portal";case TM:return"Profiler";case FR:return"StrictMode";case RM:return"Suspense";case IM:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case K6:return(n.displayName||"Context")+".Consumer";case Q6:return(n._context.displayName||"Context")+".Provider";case UR:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case zR:return e=n.displayName||null,e!==null?e:LM(n.type)||"Memo";case bd:e=n._payload,n=n._init;try{return LM(n(e))}catch{}}return null}function YJ(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return LM(e);case 8:return e===FR?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gd(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function q6(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function JJ(n){var e=q6(n)?"checked":"value",r=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,s=r.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return o.call(this)},set:function(l){i=""+l,s.call(this,l)}}),Object.defineProperty(n,e,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(l){i=""+l},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function fb(n){n._valueTracker||(n._valueTracker=JJ(n))}function Y6(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var r=e.getValue(),i="";return n&&(i=q6(n)?n.checked?"true":"false":n.value),n=i,n!==r?(e.setValue(n),!0):!1}function px(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function PM(n,e){var r=e.checked;return go({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??n._wrapperState.initialChecked})}function iD(n,e){var r=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;r=Gd(e.value!=null?e.value:r),n._wrapperState={initialChecked:i,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function J6(n,e){e=e.checked,e!=null&&kR(n,"checked",e,!1)}function BM(n,e){J6(n,e);var r=Gd(e.value),i=e.type;if(r!=null)i==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+r):n.value!==""+r&&(n.value=""+r);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?OM(n,e.type,r):e.hasOwnProperty("defaultValue")&&OM(n,e.type,Gd(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function oD(n,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,r||e===n.value||(n.value=e),n.defaultValue=e}r=n.name,r!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,r!==""&&(n.name=r)}function OM(n,e,r){(e!=="number"||px(n.ownerDocument)!==n)&&(r==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+r&&(n.defaultValue=""+r))}var a0=Array.isArray;function xm(n,e,r,i){if(n=n.options,e){e={};for(var o=0;o<r.length;o++)e["$"+r[o]]=!0;for(r=0;r<n.length;r++)o=e.hasOwnProperty("$"+n[r].value),n[r].selected!==o&&(n[r].selected=o),o&&i&&(n[r].defaultSelected=!0)}else{for(r=""+Gd(r),e=null,o=0;o<n.length;o++){if(n[o].value===r){n[o].selected=!0,i&&(n[o].defaultSelected=!0);return}e!==null||n[o].disabled||(e=n[o])}e!==null&&(e.selected=!0)}}function DM(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Un(91));return go({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function aD(n,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Un(92));if(a0(r)){if(1<r.length)throw Error(Un(93));r=r[0]}e=r}e==null&&(e=""),r=e}n._wrapperState={initialValue:Gd(r)}}function Z6(n,e){var r=Gd(e.value),i=Gd(e.defaultValue);r!=null&&(r=""+r,r!==n.value&&(n.value=r),e.defaultValue==null&&n.defaultValue!==r&&(n.defaultValue=r)),i!=null&&(n.defaultValue=""+i)}function sD(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function eU(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function NM(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?eU(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var hb,tU=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,i,o){MSApp.execUnsafeLocalFunction(function(){return n(e,r,i,o)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(hb=hb||document.createElement("div"),hb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hb.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function K0(n,e){if(e){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=e;return}}n.textContent=e}var y0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ZJ=["Webkit","ms","Moz","O"];Object.keys(y0).forEach(function(n){ZJ.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),y0[e]=y0[n]})});function nU(n,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||y0.hasOwnProperty(n)&&y0[n]?(""+e).trim():e+"px"}function rU(n,e){n=n.style;for(var r in e)if(e.hasOwnProperty(r)){var i=r.indexOf("--")===0,o=nU(r,e[r],i);r==="float"&&(r="cssFloat"),i?n.setProperty(r,o):n[r]=o}}var eZ=go({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kM(n,e){if(e){if(eZ[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Un(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Un(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Un(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Un(62))}}function FM(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var UM=null;function HR(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var zM=null,Em=null,Cm=null;function lD(n){if(n=NA(n)){if(typeof zM!="function")throw Error(Un(280));var e=n.stateNode;e&&(e=NE(e),zM(n.stateNode,n.type,e))}}function iU(n){Em?Cm?Cm.push(n):Cm=[n]:Em=n}function oU(){if(Em){var n=Em,e=Cm;if(Cm=Em=null,lD(n),e)for(n=0;n<e.length;n++)lD(e[n])}}function aU(n,e){return n(e)}function sU(){}var XS=!1;function lU(n,e,r){if(XS)return n(e,r);XS=!0;try{return aU(n,e,r)}finally{XS=!1,(Em!==null||Cm!==null)&&(sU(),oU())}}function X0(n,e){var r=n.stateNode;if(r===null)return null;var i=NE(r);if(i===null)return null;r=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(Un(231,e,typeof r));return r}var HM=!1;if(wu)try{var yv={};Object.defineProperty(yv,"passive",{get:function(){HM=!0}}),window.addEventListener("test",yv,yv),window.removeEventListener("test",yv,yv)}catch{HM=!1}function tZ(n,e,r,i,o,s,l,u,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(h){this.onError(h)}}var b0=!1,mx=null,gx=!1,$M=null,nZ={onError:function(n){b0=!0,mx=n}};function rZ(n,e,r,i,o,s,l,u,c){b0=!1,mx=null,tZ.apply(nZ,arguments)}function iZ(n,e,r,i,o,s,l,u,c){if(rZ.apply(this,arguments),b0){if(b0){var d=mx;b0=!1,mx=null}else throw Error(Un(198));gx||(gx=!0,$M=d)}}function _h(n){var e=n,r=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(r=e.return),n=e.return;while(n)}return e.tag===3?r:null}function cU(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function cD(n){if(_h(n)!==n)throw Error(Un(188))}function oZ(n){var e=n.alternate;if(!e){if(e=_h(n),e===null)throw Error(Un(188));return e!==n?null:n}for(var r=n,i=e;;){var o=r.return;if(o===null)break;var s=o.alternate;if(s===null){if(i=o.return,i!==null){r=i;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===r)return cD(o),n;if(s===i)return cD(o),e;s=s.sibling}throw Error(Un(188))}if(r.return!==i.return)r=o,i=s;else{for(var l=!1,u=o.child;u;){if(u===r){l=!0,r=o,i=s;break}if(u===i){l=!0,i=o,r=s;break}u=u.sibling}if(!l){for(u=s.child;u;){if(u===r){l=!0,r=s,i=o;break}if(u===i){l=!0,i=s,r=o;break}u=u.sibling}if(!l)throw Error(Un(189))}}if(r.alternate!==i)throw Error(Un(190))}if(r.tag!==3)throw Error(Un(188));return r.stateNode.current===r?n:e}function uU(n){return n=oZ(n),n!==null?dU(n):null}function dU(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=dU(n);if(e!==null)return e;n=n.sibling}return null}var fU=Ds.unstable_scheduleCallback,uD=Ds.unstable_cancelCallback,aZ=Ds.unstable_shouldYield,sZ=Ds.unstable_requestPaint,Io=Ds.unstable_now,lZ=Ds.unstable_getCurrentPriorityLevel,$R=Ds.unstable_ImmediatePriority,hU=Ds.unstable_UserBlockingPriority,vx=Ds.unstable_NormalPriority,cZ=Ds.unstable_LowPriority,pU=Ds.unstable_IdlePriority,PE=null,gc=null;function uZ(n){if(gc&&typeof gc.onCommitFiberRoot=="function")try{gc.onCommitFiberRoot(PE,n,void 0,(n.current.flags&128)===128)}catch{}}var Gl=Math.clz32?Math.clz32:hZ,dZ=Math.log,fZ=Math.LN2;function hZ(n){return n>>>=0,n===0?32:31-(dZ(n)/fZ|0)|0}var pb=64,mb=4194304;function s0(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ax(n,e){var r=n.pendingLanes;if(r===0)return 0;var i=0,o=n.suspendedLanes,s=n.pingedLanes,l=r&268435455;if(l!==0){var u=l&~o;u!==0?i=s0(u):(s&=l,s!==0&&(i=s0(s)))}else l=r&~o,l!==0?i=s0(l):s!==0&&(i=s0(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&o)&&(o=i&-i,s=e&-e,o>=s||o===16&&(s&4194240)!==0))return e;if(i&4&&(i|=r&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)r=31-Gl(e),o=1<<r,i|=n[r],e&=~o;return i}function pZ(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mZ(n,e){for(var r=n.suspendedLanes,i=n.pingedLanes,o=n.expirationTimes,s=n.pendingLanes;0<s;){var l=31-Gl(s),u=1<<l,c=o[l];c===-1?(!(u&r)||u&i)&&(o[l]=pZ(u,e)):c<=e&&(n.expiredLanes|=u),s&=~u}}function GM(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function mU(){var n=pb;return pb<<=1,!(pb&4194240)&&(pb=64),n}function qS(n){for(var e=[],r=0;31>r;r++)e.push(n);return e}function OA(n,e,r){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Gl(e),n[e]=r}function gZ(n,e){var r=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<r;){var o=31-Gl(r),s=1<<o;e[o]=0,i[o]=-1,n[o]=-1,r&=~s}}function GR(n,e){var r=n.entangledLanes|=e;for(n=n.entanglements;r;){var i=31-Gl(r),o=1<<i;o&e|n[i]&e&&(n[i]|=e),r&=~o}}var Fi=0;function gU(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var vU,jR,AU,yU,bU,jM=!1,gb=[],Bd=null,Od=null,Dd=null,q0=new Map,Y0=new Map,Sd=[],vZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dD(n,e){switch(n){case"focusin":case"focusout":Bd=null;break;case"dragenter":case"dragleave":Od=null;break;case"mouseover":case"mouseout":Dd=null;break;case"pointerover":case"pointerout":q0.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Y0.delete(e.pointerId)}}function bv(n,e,r,i,o,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:r,eventSystemFlags:i,nativeEvent:s,targetContainers:[o]},e!==null&&(e=NA(e),e!==null&&jR(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),n)}function AZ(n,e,r,i,o){switch(e){case"focusin":return Bd=bv(Bd,n,e,r,i,o),!0;case"dragenter":return Od=bv(Od,n,e,r,i,o),!0;case"mouseover":return Dd=bv(Dd,n,e,r,i,o),!0;case"pointerover":var s=o.pointerId;return q0.set(s,bv(q0.get(s)||null,n,e,r,i,o)),!0;case"gotpointercapture":return s=o.pointerId,Y0.set(s,bv(Y0.get(s)||null,n,e,r,i,o)),!0}return!1}function xU(n){var e=Wf(n.target);if(e!==null){var r=_h(e);if(r!==null){if(e=r.tag,e===13){if(e=cU(r),e!==null){n.blockedOn=e,bU(n.priority,function(){AU(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function F1(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var r=VM(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(r===null){r=n.nativeEvent;var i=new r.constructor(r.type,r);UM=i,r.target.dispatchEvent(i),UM=null}else return e=NA(r),e!==null&&jR(e),n.blockedOn=r,!1;e.shift()}return!0}function fD(n,e,r){F1(n)&&r.delete(e)}function yZ(){jM=!1,Bd!==null&&F1(Bd)&&(Bd=null),Od!==null&&F1(Od)&&(Od=null),Dd!==null&&F1(Dd)&&(Dd=null),q0.forEach(fD),Y0.forEach(fD)}function xv(n,e){n.blockedOn===e&&(n.blockedOn=null,jM||(jM=!0,Ds.unstable_scheduleCallback(Ds.unstable_NormalPriority,yZ)))}function J0(n){function e(o){return xv(o,n)}if(0<gb.length){xv(gb[0],n);for(var r=1;r<gb.length;r++){var i=gb[r];i.blockedOn===n&&(i.blockedOn=null)}}for(Bd!==null&&xv(Bd,n),Od!==null&&xv(Od,n),Dd!==null&&xv(Dd,n),q0.forEach(e),Y0.forEach(e),r=0;r<Sd.length;r++)i=Sd[r],i.blockedOn===n&&(i.blockedOn=null);for(;0<Sd.length&&(r=Sd[0],r.blockedOn===null);)xU(r),r.blockedOn===null&&Sd.shift()}var wm=ku.ReactCurrentBatchConfig,yx=!0;function bZ(n,e,r,i){var o=Fi,s=wm.transition;wm.transition=null;try{Fi=1,VR(n,e,r,i)}finally{Fi=o,wm.transition=s}}function xZ(n,e,r,i){var o=Fi,s=wm.transition;wm.transition=null;try{Fi=4,VR(n,e,r,i)}finally{Fi=o,wm.transition=s}}function VR(n,e,r,i){if(yx){var o=VM(n,e,r,i);if(o===null)a2(n,e,i,bx,r),dD(n,i);else if(AZ(o,n,e,r,i))i.stopPropagation();else if(dD(n,i),e&4&&-1<vZ.indexOf(n)){for(;o!==null;){var s=NA(o);if(s!==null&&vU(s),s=VM(n,e,r,i),s===null&&a2(n,e,i,bx,r),s===o)break;o=s}o!==null&&i.stopPropagation()}else a2(n,e,i,null,r)}}var bx=null;function VM(n,e,r,i){if(bx=null,n=HR(i),n=Wf(n),n!==null)if(e=_h(n),e===null)n=null;else if(r=e.tag,r===13){if(n=cU(e),n!==null)return n;n=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return bx=n,null}function EU(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lZ()){case $R:return 1;case hU:return 4;case vx:case cZ:return 16;case pU:return 536870912;default:return 16}default:return 16}}var Md=null,WR=null,U1=null;function CU(){if(U1)return U1;var n,e=WR,r=e.length,i,o="value"in Md?Md.value:Md.textContent,s=o.length;for(n=0;n<r&&e[n]===o[n];n++);var l=r-n;for(i=1;i<=l&&e[r-i]===o[s-i];i++);return U1=o.slice(n,1<i?1-i:void 0)}function z1(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function vb(){return!0}function hD(){return!1}function Us(n){function e(r,i,o,s,l){this._reactName=r,this._targetInst=o,this.type=i,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var u in n)n.hasOwnProperty(u)&&(r=n[u],this[u]=r?r(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?vb:hD,this.isPropagationStopped=hD,this}return go(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=vb)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=vb)},persist:function(){},isPersistent:vb}),e}var fg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},QR=Us(fg),DA=go({},fg,{view:0,detail:0}),EZ=Us(DA),YS,JS,Ev,BE=go({},DA,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:KR,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ev&&(Ev&&n.type==="mousemove"?(YS=n.screenX-Ev.screenX,JS=n.screenY-Ev.screenY):JS=YS=0,Ev=n),YS)},movementY:function(n){return"movementY"in n?n.movementY:JS}}),pD=Us(BE),CZ=go({},BE,{dataTransfer:0}),wZ=Us(CZ),SZ=go({},DA,{relatedTarget:0}),ZS=Us(SZ),_Z=go({},fg,{animationName:0,elapsedTime:0,pseudoElement:0}),MZ=Us(_Z),TZ=go({},fg,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),RZ=Us(TZ),IZ=go({},fg,{data:0}),mD=Us(IZ),LZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OZ(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=BZ[n])?!!e[n]:!1}function KR(){return OZ}var DZ=go({},DA,{key:function(n){if(n.key){var e=LZ[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=z1(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?PZ[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:KR,charCode:function(n){return n.type==="keypress"?z1(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?z1(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),NZ=Us(DZ),kZ=go({},BE,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gD=Us(kZ),FZ=go({},DA,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:KR}),UZ=Us(FZ),zZ=go({},fg,{propertyName:0,elapsedTime:0,pseudoElement:0}),HZ=Us(zZ),$Z=go({},BE,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),GZ=Us($Z),jZ=[9,13,27,32],XR=wu&&"CompositionEvent"in window,x0=null;wu&&"documentMode"in document&&(x0=document.documentMode);var VZ=wu&&"TextEvent"in window&&!x0,wU=wu&&(!XR||x0&&8<x0&&11>=x0),vD=String.fromCharCode(32),AD=!1;function SU(n,e){switch(n){case"keyup":return jZ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _U(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var tm=!1;function WZ(n,e){switch(n){case"compositionend":return _U(e);case"keypress":return e.which!==32?null:(AD=!0,vD);case"textInput":return n=e.data,n===vD&&AD?null:n;default:return null}}function QZ(n,e){if(tm)return n==="compositionend"||!XR&&SU(n,e)?(n=CU(),U1=WR=Md=null,tm=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wU&&e.locale!=="ko"?null:e.data;default:return null}}var KZ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yD(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!KZ[n.type]:e==="textarea"}function MU(n,e,r,i){iU(i),e=xx(e,"onChange"),0<e.length&&(r=new QR("onChange","change",null,r,i),n.push({event:r,listeners:e}))}var E0=null,Z0=null;function XZ(n){FU(n,0)}function OE(n){var e=im(n);if(Y6(e))return n}function qZ(n,e){if(n==="change")return e}var TU=!1;if(wu){var e2;if(wu){var t2="oninput"in document;if(!t2){var bD=document.createElement("div");bD.setAttribute("oninput","return;"),t2=typeof bD.oninput=="function"}e2=t2}else e2=!1;TU=e2&&(!document.documentMode||9<document.documentMode)}function xD(){E0&&(E0.detachEvent("onpropertychange",RU),Z0=E0=null)}function RU(n){if(n.propertyName==="value"&&OE(Z0)){var e=[];MU(e,Z0,n,HR(n)),lU(XZ,e)}}function YZ(n,e,r){n==="focusin"?(xD(),E0=e,Z0=r,E0.attachEvent("onpropertychange",RU)):n==="focusout"&&xD()}function JZ(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return OE(Z0)}function ZZ(n,e){if(n==="click")return OE(e)}function eee(n,e){if(n==="input"||n==="change")return OE(e)}function tee(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Wl=typeof Object.is=="function"?Object.is:tee;function eA(n,e){if(Wl(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var r=Object.keys(n),i=Object.keys(e);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var o=r[i];if(!MM.call(e,o)||!Wl(n[o],e[o]))return!1}return!0}function ED(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function CD(n,e){var r=ED(n);n=0;for(var i;r;){if(r.nodeType===3){if(i=n+r.textContent.length,n<=e&&i>=e)return{node:r,offset:e-n};n=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ED(r)}}function IU(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?IU(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function LU(){for(var n=window,e=px();e instanceof n.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)n=e.contentWindow;else break;e=px(n.document)}return e}function qR(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function nee(n){var e=LU(),r=n.focusedElem,i=n.selectionRange;if(e!==r&&r&&r.ownerDocument&&IU(r.ownerDocument.documentElement,r)){if(i!==null&&qR(r)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(n,r.value.length);else if(n=(e=r.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var o=r.textContent.length,s=Math.min(i.start,o);i=i.end===void 0?s:Math.min(i.end,o),!n.extend&&s>i&&(o=i,i=s,s=o),o=CD(r,s);var l=CD(r,i);o&&l&&(n.rangeCount!==1||n.anchorNode!==o.node||n.anchorOffset!==o.offset||n.focusNode!==l.node||n.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),n.addRange(e)))}}for(e=[],n=r;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)n=e[r],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var ree=wu&&"documentMode"in document&&11>=document.documentMode,nm=null,WM=null,C0=null,QM=!1;function wD(n,e,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;QM||nm==null||nm!==px(i)||(i=nm,"selectionStart"in i&&qR(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),C0&&eA(C0,i)||(C0=i,i=xx(WM,"onSelect"),0<i.length&&(e=new QR("onSelect","select",null,e,r),n.push({event:e,listeners:i}),e.target=nm)))}function Ab(n,e){var r={};return r[n.toLowerCase()]=e.toLowerCase(),r["Webkit"+n]="webkit"+e,r["Moz"+n]="moz"+e,r}var rm={animationend:Ab("Animation","AnimationEnd"),animationiteration:Ab("Animation","AnimationIteration"),animationstart:Ab("Animation","AnimationStart"),transitionend:Ab("Transition","TransitionEnd")},n2={},PU={};wu&&(PU=document.createElement("div").style,"AnimationEvent"in window||(delete rm.animationend.animation,delete rm.animationiteration.animation,delete rm.animationstart.animation),"TransitionEvent"in window||delete rm.transitionend.transition);function DE(n){if(n2[n])return n2[n];if(!rm[n])return n;var e=rm[n],r;for(r in e)if(e.hasOwnProperty(r)&&r in PU)return n2[n]=e[r];return n}var BU=DE("animationend"),OU=DE("animationiteration"),DU=DE("animationstart"),NU=DE("transitionend"),kU=new Map,SD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xd(n,e){kU.set(n,e),Sh(e,[n])}for(var r2=0;r2<SD.length;r2++){var i2=SD[r2],iee=i2.toLowerCase(),oee=i2[0].toUpperCase()+i2.slice(1);Xd(iee,"on"+oee)}Xd(BU,"onAnimationEnd");Xd(OU,"onAnimationIteration");Xd(DU,"onAnimationStart");Xd("dblclick","onDoubleClick");Xd("focusin","onFocus");Xd("focusout","onBlur");Xd(NU,"onTransitionEnd");Um("onMouseEnter",["mouseout","mouseover"]);Um("onMouseLeave",["mouseout","mouseover"]);Um("onPointerEnter",["pointerout","pointerover"]);Um("onPointerLeave",["pointerout","pointerover"]);Sh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var l0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aee=new Set("cancel close invalid load scroll toggle".split(" ").concat(l0));function _D(n,e,r){var i=n.type||"unknown-event";n.currentTarget=r,iZ(i,e,void 0,n),n.currentTarget=null}function FU(n,e){e=(e&4)!==0;for(var r=0;r<n.length;r++){var i=n[r],o=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var l=i.length-1;0<=l;l--){var u=i[l],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==s&&o.isPropagationStopped())break e;_D(o,u,d),s=c}else for(l=0;l<i.length;l++){if(u=i[l],c=u.instance,d=u.currentTarget,u=u.listener,c!==s&&o.isPropagationStopped())break e;_D(o,u,d),s=c}}}if(gx)throw n=$M,gx=!1,$M=null,n}function Ji(n,e){var r=e[JM];r===void 0&&(r=e[JM]=new Set);var i=n+"__bubble";r.has(i)||(UU(e,n,2,!1),r.add(i))}function o2(n,e,r){var i=0;e&&(i|=4),UU(r,n,i,e)}var yb="_reactListening"+Math.random().toString(36).slice(2);function tA(n){if(!n[yb]){n[yb]=!0,W6.forEach(function(r){r!=="selectionchange"&&(aee.has(r)||o2(r,!1,n),o2(r,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[yb]||(e[yb]=!0,o2("selectionchange",!1,e))}}function UU(n,e,r,i){switch(EU(e)){case 1:var o=bZ;break;case 4:o=xZ;break;default:o=VR}r=o.bind(null,e,r,n),o=void 0,!HM||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),i?o!==void 0?n.addEventListener(e,r,{capture:!0,passive:o}):n.addEventListener(e,r,!0):o!==void 0?n.addEventListener(e,r,{passive:o}):n.addEventListener(e,r,!1)}function a2(n,e,r,i,o){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var l=i.tag;if(l===3||l===4){var u=i.stateNode.containerInfo;if(u===o||u.nodeType===8&&u.parentNode===o)break;if(l===4)for(l=i.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;l=l.return}for(;u!==null;){if(l=Wf(u),l===null)return;if(c=l.tag,c===5||c===6){i=s=l;continue e}u=u.parentNode}}i=i.return}lU(function(){var d=s,h=HR(r),p=[];e:{var m=kU.get(n);if(m!==void 0){var v=QR,y=n;switch(n){case"keypress":if(z1(r)===0)break e;case"keydown":case"keyup":v=NZ;break;case"focusin":y="focus",v=ZS;break;case"focusout":y="blur",v=ZS;break;case"beforeblur":case"afterblur":v=ZS;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=pD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=wZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=UZ;break;case BU:case OU:case DU:v=MZ;break;case NU:v=HZ;break;case"scroll":v=EZ;break;case"wheel":v=GZ;break;case"copy":case"cut":case"paste":v=RZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=gD}var A=(e&4)!==0,b=!A&&n==="scroll",g=A?m!==null?m+"Capture":null:m;A=[];for(var w=d,E;w!==null;){E=w;var C=E.stateNode;if(E.tag===5&&C!==null&&(E=C,g!==null&&(C=X0(w,g),C!=null&&A.push(nA(w,C,E)))),b)break;w=w.return}0<A.length&&(m=new v(m,y,null,r,h),p.push({event:m,listeners:A}))}}if(!(e&7)){e:{if(m=n==="mouseover"||n==="pointerover",v=n==="mouseout"||n==="pointerout",m&&r!==UM&&(y=r.relatedTarget||r.fromElement)&&(Wf(y)||y[Su]))break e;if((v||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,v?(y=r.relatedTarget||r.toElement,v=d,y=y?Wf(y):null,y!==null&&(b=_h(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=d),v!==y)){if(A=pD,C="onMouseLeave",g="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(A=gD,C="onPointerLeave",g="onPointerEnter",w="pointer"),b=v==null?m:im(v),E=y==null?m:im(y),m=new A(C,w+"leave",v,r,h),m.target=b,m.relatedTarget=E,C=null,Wf(h)===d&&(A=new A(g,w+"enter",y,r,h),A.target=E,A.relatedTarget=b,C=A),b=C,v&&y)t:{for(A=v,g=y,w=0,E=A;E;E=up(E))w++;for(E=0,C=g;C;C=up(C))E++;for(;0<w-E;)A=up(A),w--;for(;0<E-w;)g=up(g),E--;for(;w--;){if(A===g||g!==null&&A===g.alternate)break t;A=up(A),g=up(g)}A=null}else A=null;v!==null&&MD(p,m,v,A,!1),y!==null&&b!==null&&MD(p,b,y,A,!0)}}e:{if(m=d?im(d):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var _=qZ;else if(yD(m))if(TU)_=eee;else{_=JZ;var L=YZ}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(_=ZZ);if(_&&(_=_(n,d))){MU(p,_,r,h);break e}L&&L(n,m,d),n==="focusout"&&(L=m._wrapperState)&&L.controlled&&m.type==="number"&&OM(m,"number",m.value)}switch(L=d?im(d):window,n){case"focusin":(yD(L)||L.contentEditable==="true")&&(nm=L,WM=d,C0=null);break;case"focusout":C0=WM=nm=null;break;case"mousedown":QM=!0;break;case"contextmenu":case"mouseup":case"dragend":QM=!1,wD(p,r,h);break;case"selectionchange":if(ree)break;case"keydown":case"keyup":wD(p,r,h)}var R;if(XR)e:{switch(n){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else tm?SU(n,r)&&(P="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(wU&&r.locale!=="ko"&&(tm||P!=="onCompositionStart"?P==="onCompositionEnd"&&tm&&(R=CU()):(Md=h,WR="value"in Md?Md.value:Md.textContent,tm=!0)),L=xx(d,P),0<L.length&&(P=new mD(P,n,null,r,h),p.push({event:P,listeners:L}),R?P.data=R:(R=_U(r),R!==null&&(P.data=R)))),(R=VZ?WZ(n,r):QZ(n,r))&&(d=xx(d,"onBeforeInput"),0<d.length&&(h=new mD("onBeforeInput","beforeinput",null,r,h),p.push({event:h,listeners:d}),h.data=R))}FU(p,e)})}function nA(n,e,r){return{instance:n,listener:e,currentTarget:r}}function xx(n,e){for(var r=e+"Capture",i=[];n!==null;){var o=n,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=X0(n,r),s!=null&&i.unshift(nA(n,s,o)),s=X0(n,e),s!=null&&i.push(nA(n,s,o))),n=n.return}return i}function up(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function MD(n,e,r,i,o){for(var s=e._reactName,l=[];r!==null&&r!==i;){var u=r,c=u.alternate,d=u.stateNode;if(c!==null&&c===i)break;u.tag===5&&d!==null&&(u=d,o?(c=X0(r,s),c!=null&&l.unshift(nA(r,c,u))):o||(c=X0(r,s),c!=null&&l.push(nA(r,c,u)))),r=r.return}l.length!==0&&n.push({event:e,listeners:l})}var see=/\r\n?/g,lee=/\u0000|\uFFFD/g;function TD(n){return(typeof n=="string"?n:""+n).replace(see,`
`).replace(lee,"")}function bb(n,e,r){if(e=TD(e),TD(n)!==e&&r)throw Error(Un(425))}function Ex(){}var KM=null,XM=null;function qM(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var YM=typeof setTimeout=="function"?setTimeout:void 0,cee=typeof clearTimeout=="function"?clearTimeout:void 0,RD=typeof Promise=="function"?Promise:void 0,uee=typeof queueMicrotask=="function"?queueMicrotask:typeof RD<"u"?function(n){return RD.resolve(null).then(n).catch(dee)}:YM;function dee(n){setTimeout(function(){throw n})}function s2(n,e){var r=e,i=0;do{var o=r.nextSibling;if(n.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(i===0){n.removeChild(o),J0(e);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=o}while(r);J0(e)}function Nd(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function ID(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return n;e--}else r==="/$"&&e++}n=n.previousSibling}return null}var hg=Math.random().toString(36).slice(2),pc="__reactFiber$"+hg,rA="__reactProps$"+hg,Su="__reactContainer$"+hg,JM="__reactEvents$"+hg,fee="__reactListeners$"+hg,hee="__reactHandles$"+hg;function Wf(n){var e=n[pc];if(e)return e;for(var r=n.parentNode;r;){if(e=r[Su]||r[pc]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(n=ID(n);n!==null;){if(r=n[pc])return r;n=ID(n)}return e}n=r,r=n.parentNode}return null}function NA(n){return n=n[pc]||n[Su],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function im(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Un(33))}function NE(n){return n[rA]||null}var ZM=[],om=-1;function qd(n){return{current:n}}function to(n){0>om||(n.current=ZM[om],ZM[om]=null,om--)}function qi(n,e){om++,ZM[om]=n.current,n.current=e}var jd={},Pa=qd(jd),ss=qd(!1),ph=jd;function zm(n,e){var r=n.type.contextTypes;if(!r)return jd;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in r)o[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=o),o}function ls(n){return n=n.childContextTypes,n!=null}function Cx(){to(ss),to(Pa)}function LD(n,e,r){if(Pa.current!==jd)throw Error(Un(168));qi(Pa,e),qi(ss,r)}function zU(n,e,r){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var o in i)if(!(o in e))throw Error(Un(108,YJ(n)||"Unknown",o));return go({},r,i)}function wx(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||jd,ph=Pa.current,qi(Pa,n),qi(ss,ss.current),!0}function PD(n,e,r){var i=n.stateNode;if(!i)throw Error(Un(169));r?(n=zU(n,e,ph),i.__reactInternalMemoizedMergedChildContext=n,to(ss),to(Pa),qi(Pa,n)):to(ss),qi(ss,r)}var uu=null,kE=!1,l2=!1;function HU(n){uu===null?uu=[n]:uu.push(n)}function pee(n){kE=!0,HU(n)}function Yd(){if(!l2&&uu!==null){l2=!0;var n=0,e=Fi;try{var r=uu;for(Fi=1;n<r.length;n++){var i=r[n];do i=i(!0);while(i!==null)}uu=null,kE=!1}catch(o){throw uu!==null&&(uu=uu.slice(n+1)),fU($R,Yd),o}finally{Fi=e,l2=!1}}return null}var am=[],sm=0,Sx=null,_x=0,Zs=[],el=0,mh=null,pu=1,mu="";function Df(n,e){am[sm++]=_x,am[sm++]=Sx,Sx=n,_x=e}function $U(n,e,r){Zs[el++]=pu,Zs[el++]=mu,Zs[el++]=mh,mh=n;var i=pu;n=mu;var o=32-Gl(i)-1;i&=~(1<<o),r+=1;var s=32-Gl(e)+o;if(30<s){var l=o-o%5;s=(i&(1<<l)-1).toString(32),i>>=l,o-=l,pu=1<<32-Gl(e)+o|r<<o|i,mu=s+n}else pu=1<<s|r<<o|i,mu=n}function YR(n){n.return!==null&&(Df(n,1),$U(n,1,0))}function JR(n){for(;n===Sx;)Sx=am[--sm],am[sm]=null,_x=am[--sm],am[sm]=null;for(;n===mh;)mh=Zs[--el],Zs[el]=null,mu=Zs[--el],Zs[el]=null,pu=Zs[--el],Zs[el]=null}var Os=null,Ls=null,so=!1,Nl=null;function GU(n,e){var r=ol(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=n,e=n.deletions,e===null?(n.deletions=[r],n.flags|=16):e.push(r)}function BD(n,e){switch(n.tag){case 5:var r=n.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Os=n,Ls=Nd(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Os=n,Ls=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=mh!==null?{id:pu,overflow:mu}:null,n.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ol(18,null,null,0),r.stateNode=e,r.return=n,n.child=r,Os=n,Ls=null,!0):!1;default:return!1}}function eT(n){return(n.mode&1)!==0&&(n.flags&128)===0}function tT(n){if(so){var e=Ls;if(e){var r=e;if(!BD(n,e)){if(eT(n))throw Error(Un(418));e=Nd(r.nextSibling);var i=Os;e&&BD(n,e)?GU(i,r):(n.flags=n.flags&-4097|2,so=!1,Os=n)}}else{if(eT(n))throw Error(Un(418));n.flags=n.flags&-4097|2,so=!1,Os=n}}}function OD(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Os=n}function xb(n){if(n!==Os)return!1;if(!so)return OD(n),so=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!qM(n.type,n.memoizedProps)),e&&(e=Ls)){if(eT(n))throw jU(),Error(Un(418));for(;e;)GU(n,e),e=Nd(e.nextSibling)}if(OD(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Un(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var r=n.data;if(r==="/$"){if(e===0){Ls=Nd(n.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}n=n.nextSibling}Ls=null}}else Ls=Os?Nd(n.stateNode.nextSibling):null;return!0}function jU(){for(var n=Ls;n;)n=Nd(n.nextSibling)}function Hm(){Ls=Os=null,so=!1}function ZR(n){Nl===null?Nl=[n]:Nl.push(n)}var mee=ku.ReactCurrentBatchConfig;function Il(n,e){if(n&&n.defaultProps){e=go({},e),n=n.defaultProps;for(var r in n)e[r]===void 0&&(e[r]=n[r]);return e}return e}var Mx=qd(null),Tx=null,lm=null,eI=null;function tI(){eI=lm=Tx=null}function nI(n){var e=Mx.current;to(Mx),n._currentValue=e}function nT(n,e,r){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===r)break;n=n.return}}function Sm(n,e){Tx=n,eI=lm=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(os=!0),n.firstContext=null)}function ll(n){var e=n._currentValue;if(eI!==n)if(n={context:n,memoizedValue:e,next:null},lm===null){if(Tx===null)throw Error(Un(308));lm=n,Tx.dependencies={lanes:0,firstContext:n}}else lm=lm.next=n;return e}var Qf=null;function rI(n){Qf===null?Qf=[n]:Qf.push(n)}function VU(n,e,r,i){var o=e.interleaved;return o===null?(r.next=r,rI(e)):(r.next=o.next,o.next=r),e.interleaved=r,_u(n,i)}function _u(n,e){n.lanes|=e;var r=n.alternate;for(r!==null&&(r.lanes|=e),r=n,n=n.return;n!==null;)n.childLanes|=e,r=n.alternate,r!==null&&(r.childLanes|=e),r=n,n=n.return;return r.tag===3?r.stateNode:null}var xd=!1;function iI(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function WU(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function yu(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function kd(n,e,r){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Ri&2){var o=i.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),i.pending=e,_u(n,r)}return o=i.interleaved,o===null?(e.next=e,rI(i)):(e.next=o.next,o.next=e),i.interleaved=e,_u(n,r)}function H1(n,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,r|=i,e.lanes=r,GR(n,r)}}function DD(n,e){var r=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var o=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?o=s=l:s=s.next=l,r=r.next}while(r!==null);s===null?o=s=e:s=s.next=e}else o=s=e;r={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=e:n.next=e,r.lastBaseUpdate=e}function Rx(n,e,r,i){var o=n.updateQueue;xd=!1;var s=o.firstBaseUpdate,l=o.lastBaseUpdate,u=o.shared.pending;if(u!==null){o.shared.pending=null;var c=u,d=c.next;c.next=null,l===null?s=d:l.next=d,l=c;var h=n.alternate;h!==null&&(h=h.updateQueue,u=h.lastBaseUpdate,u!==l&&(u===null?h.firstBaseUpdate=d:u.next=d,h.lastBaseUpdate=c))}if(s!==null){var p=o.baseState;l=0,h=d=c=null,u=s;do{var m=u.lane,v=u.eventTime;if((i&m)===m){h!==null&&(h=h.next={eventTime:v,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var y=n,A=u;switch(m=e,v=r,A.tag){case 1:if(y=A.payload,typeof y=="function"){p=y.call(v,p,m);break e}p=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=A.payload,m=typeof y=="function"?y.call(v,p,m):y,m==null)break e;p=go({},p,m);break e;case 2:xd=!0}}u.callback!==null&&u.lane!==0&&(n.flags|=64,m=o.effects,m===null?o.effects=[u]:m.push(u))}else v={eventTime:v,lane:m,tag:u.tag,payload:u.payload,callback:u.callback,next:null},h===null?(d=h=v,c=p):h=h.next=v,l|=m;if(u=u.next,u===null){if(u=o.shared.pending,u===null)break;m=u,u=m.next,m.next=null,o.lastBaseUpdate=m,o.shared.pending=null}}while(1);if(h===null&&(c=p),o.baseState=c,o.firstBaseUpdate=d,o.lastBaseUpdate=h,e=o.shared.interleaved,e!==null){o=e;do l|=o.lane,o=o.next;while(o!==e)}else s===null&&(o.shared.lanes=0);vh|=l,n.lanes=l,n.memoizedState=p}}function ND(n,e,r){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],o=i.callback;if(o!==null){if(i.callback=null,i=r,typeof o!="function")throw Error(Un(191,o));o.call(i)}}}var QU=new V6.Component().refs;function rT(n,e,r,i){e=n.memoizedState,r=r(i,e),r=r==null?e:go({},e,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var FE={isMounted:function(n){return(n=n._reactInternals)?_h(n)===n:!1},enqueueSetState:function(n,e,r){n=n._reactInternals;var i=Wa(),o=Ud(n),s=yu(i,o);s.payload=e,r!=null&&(s.callback=r),e=kd(n,s,o),e!==null&&(jl(e,n,o,i),H1(e,n,o))},enqueueReplaceState:function(n,e,r){n=n._reactInternals;var i=Wa(),o=Ud(n),s=yu(i,o);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=kd(n,s,o),e!==null&&(jl(e,n,o,i),H1(e,n,o))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var r=Wa(),i=Ud(n),o=yu(r,i);o.tag=2,e!=null&&(o.callback=e),e=kd(n,o,i),e!==null&&(jl(e,n,i,r),H1(e,n,i))}};function kD(n,e,r,i,o,s,l){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,l):e.prototype&&e.prototype.isPureReactComponent?!eA(r,i)||!eA(o,s):!0}function KU(n,e,r){var i=!1,o=jd,s=e.contextType;return typeof s=="object"&&s!==null?s=ll(s):(o=ls(e)?ph:Pa.current,i=e.contextTypes,s=(i=i!=null)?zm(n,o):jd),e=new e(r,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=FE,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=o,n.__reactInternalMemoizedMaskedChildContext=s),e}function FD(n,e,r,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,i),e.state!==n&&FE.enqueueReplaceState(e,e.state,null)}function iT(n,e,r,i){var o=n.stateNode;o.props=r,o.state=n.memoizedState,o.refs=QU,iI(n);var s=e.contextType;typeof s=="object"&&s!==null?o.context=ll(s):(s=ls(e)?ph:Pa.current,o.context=zm(n,s)),o.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(rT(n,e,s,r),o.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&FE.enqueueReplaceState(o,o.state,null),Rx(n,r,o,i),o.state=n.memoizedState),typeof o.componentDidMount=="function"&&(n.flags|=4194308)}function Cv(n,e,r){if(n=r.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Un(309));var i=r.stateNode}if(!i)throw Error(Un(147,n));var o=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(l){var u=o.refs;u===QU&&(u=o.refs={}),l===null?delete u[s]:u[s]=l},e._stringRef=s,e)}if(typeof n!="string")throw Error(Un(284));if(!r._owner)throw Error(Un(290,n))}return n}function Eb(n,e){throw n=Object.prototype.toString.call(e),Error(Un(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function UD(n){var e=n._init;return e(n._payload)}function XU(n){function e(g,w){if(n){var E=g.deletions;E===null?(g.deletions=[w],g.flags|=16):E.push(w)}}function r(g,w){if(!n)return null;for(;w!==null;)e(g,w),w=w.sibling;return null}function i(g,w){for(g=new Map;w!==null;)w.key!==null?g.set(w.key,w):g.set(w.index,w),w=w.sibling;return g}function o(g,w){return g=zd(g,w),g.index=0,g.sibling=null,g}function s(g,w,E){return g.index=E,n?(E=g.alternate,E!==null?(E=E.index,E<w?(g.flags|=2,w):E):(g.flags|=2,w)):(g.flags|=1048576,w)}function l(g){return n&&g.alternate===null&&(g.flags|=2),g}function u(g,w,E,C){return w===null||w.tag!==6?(w=m2(E,g.mode,C),w.return=g,w):(w=o(w,E),w.return=g,w)}function c(g,w,E,C){var _=E.type;return _===em?h(g,w,E.props.children,C,E.key):w!==null&&(w.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===bd&&UD(_)===w.type)?(C=o(w,E.props),C.ref=Cv(g,w,E),C.return=g,C):(C=Q1(E.type,E.key,E.props,null,g.mode,C),C.ref=Cv(g,w,E),C.return=g,C)}function d(g,w,E,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==E.containerInfo||w.stateNode.implementation!==E.implementation?(w=g2(E,g.mode,C),w.return=g,w):(w=o(w,E.children||[]),w.return=g,w)}function h(g,w,E,C,_){return w===null||w.tag!==7?(w=ih(E,g.mode,C,_),w.return=g,w):(w=o(w,E),w.return=g,w)}function p(g,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return w=m2(""+w,g.mode,E),w.return=g,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case db:return E=Q1(w.type,w.key,w.props,null,g.mode,E),E.ref=Cv(g,null,w),E.return=g,E;case Zp:return w=g2(w,g.mode,E),w.return=g,w;case bd:var C=w._init;return p(g,C(w._payload),E)}if(a0(w)||Av(w))return w=ih(w,g.mode,E,null),w.return=g,w;Eb(g,w)}return null}function m(g,w,E,C){var _=w!==null?w.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return _!==null?null:u(g,w,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case db:return E.key===_?c(g,w,E,C):null;case Zp:return E.key===_?d(g,w,E,C):null;case bd:return _=E._init,m(g,w,_(E._payload),C)}if(a0(E)||Av(E))return _!==null?null:h(g,w,E,C,null);Eb(g,E)}return null}function v(g,w,E,C,_){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(E)||null,u(w,g,""+C,_);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case db:return g=g.get(C.key===null?E:C.key)||null,c(w,g,C,_);case Zp:return g=g.get(C.key===null?E:C.key)||null,d(w,g,C,_);case bd:var L=C._init;return v(g,w,E,L(C._payload),_)}if(a0(C)||Av(C))return g=g.get(E)||null,h(w,g,C,_,null);Eb(w,C)}return null}function y(g,w,E,C){for(var _=null,L=null,R=w,P=w=0,T=null;R!==null&&P<E.length;P++){R.index>P?(T=R,R=null):T=R.sibling;var D=m(g,R,E[P],C);if(D===null){R===null&&(R=T);break}n&&R&&D.alternate===null&&e(g,R),w=s(D,w,P),L===null?_=D:L.sibling=D,L=D,R=T}if(P===E.length)return r(g,R),so&&Df(g,P),_;if(R===null){for(;P<E.length;P++)R=p(g,E[P],C),R!==null&&(w=s(R,w,P),L===null?_=R:L.sibling=R,L=R);return so&&Df(g,P),_}for(R=i(g,R);P<E.length;P++)T=v(R,g,P,E[P],C),T!==null&&(n&&T.alternate!==null&&R.delete(T.key===null?P:T.key),w=s(T,w,P),L===null?_=T:L.sibling=T,L=T);return n&&R.forEach(function($){return e(g,$)}),so&&Df(g,P),_}function A(g,w,E,C){var _=Av(E);if(typeof _!="function")throw Error(Un(150));if(E=_.call(E),E==null)throw Error(Un(151));for(var L=_=null,R=w,P=w=0,T=null,D=E.next();R!==null&&!D.done;P++,D=E.next()){R.index>P?(T=R,R=null):T=R.sibling;var $=m(g,R,D.value,C);if($===null){R===null&&(R=T);break}n&&R&&$.alternate===null&&e(g,R),w=s($,w,P),L===null?_=$:L.sibling=$,L=$,R=T}if(D.done)return r(g,R),so&&Df(g,P),_;if(R===null){for(;!D.done;P++,D=E.next())D=p(g,D.value,C),D!==null&&(w=s(D,w,P),L===null?_=D:L.sibling=D,L=D);return so&&Df(g,P),_}for(R=i(g,R);!D.done;P++,D=E.next())D=v(R,g,P,D.value,C),D!==null&&(n&&D.alternate!==null&&R.delete(D.key===null?P:D.key),w=s(D,w,P),L===null?_=D:L.sibling=D,L=D);return n&&R.forEach(function(V){return e(g,V)}),so&&Df(g,P),_}function b(g,w,E,C){if(typeof E=="object"&&E!==null&&E.type===em&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case db:e:{for(var _=E.key,L=w;L!==null;){if(L.key===_){if(_=E.type,_===em){if(L.tag===7){r(g,L.sibling),w=o(L,E.props.children),w.return=g,g=w;break e}}else if(L.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===bd&&UD(_)===L.type){r(g,L.sibling),w=o(L,E.props),w.ref=Cv(g,L,E),w.return=g,g=w;break e}r(g,L);break}else e(g,L);L=L.sibling}E.type===em?(w=ih(E.props.children,g.mode,C,E.key),w.return=g,g=w):(C=Q1(E.type,E.key,E.props,null,g.mode,C),C.ref=Cv(g,w,E),C.return=g,g=C)}return l(g);case Zp:e:{for(L=E.key;w!==null;){if(w.key===L)if(w.tag===4&&w.stateNode.containerInfo===E.containerInfo&&w.stateNode.implementation===E.implementation){r(g,w.sibling),w=o(w,E.children||[]),w.return=g,g=w;break e}else{r(g,w);break}else e(g,w);w=w.sibling}w=g2(E,g.mode,C),w.return=g,g=w}return l(g);case bd:return L=E._init,b(g,w,L(E._payload),C)}if(a0(E))return y(g,w,E,C);if(Av(E))return A(g,w,E,C);Eb(g,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,w!==null&&w.tag===6?(r(g,w.sibling),w=o(w,E),w.return=g,g=w):(r(g,w),w=m2(E,g.mode,C),w.return=g,g=w),l(g)):r(g,w)}return b}var $m=XU(!0),qU=XU(!1),kA={},vc=qd(kA),iA=qd(kA),oA=qd(kA);function Kf(n){if(n===kA)throw Error(Un(174));return n}function oI(n,e){switch(qi(oA,e),qi(iA,n),qi(vc,kA),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:NM(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=NM(e,n)}to(vc),qi(vc,e)}function Gm(){to(vc),to(iA),to(oA)}function YU(n){Kf(oA.current);var e=Kf(vc.current),r=NM(e,n.type);e!==r&&(qi(iA,n),qi(vc,r))}function aI(n){iA.current===n&&(to(vc),to(iA))}var po=qd(0);function Ix(n){for(var e=n;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var c2=[];function sI(){for(var n=0;n<c2.length;n++)c2[n]._workInProgressVersionPrimary=null;c2.length=0}var $1=ku.ReactCurrentDispatcher,u2=ku.ReactCurrentBatchConfig,gh=0,mo=null,$o=null,ra=null,Lx=!1,w0=!1,aA=0,gee=0;function Sa(){throw Error(Un(321))}function lI(n,e){if(e===null)return!1;for(var r=0;r<e.length&&r<n.length;r++)if(!Wl(n[r],e[r]))return!1;return!0}function cI(n,e,r,i,o,s){if(gh=s,mo=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$1.current=n===null||n.memoizedState===null?bee:xee,n=r(i,o),w0){s=0;do{if(w0=!1,aA=0,25<=s)throw Error(Un(301));s+=1,ra=$o=null,e.updateQueue=null,$1.current=Eee,n=r(i,o)}while(w0)}if($1.current=Px,e=$o!==null&&$o.next!==null,gh=0,ra=$o=mo=null,Lx=!1,e)throw Error(Un(300));return n}function uI(){var n=aA!==0;return aA=0,n}function uc(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ra===null?mo.memoizedState=ra=n:ra=ra.next=n,ra}function cl(){if($o===null){var n=mo.alternate;n=n!==null?n.memoizedState:null}else n=$o.next;var e=ra===null?mo.memoizedState:ra.next;if(e!==null)ra=e,$o=n;else{if(n===null)throw Error(Un(310));$o=n,n={memoizedState:$o.memoizedState,baseState:$o.baseState,baseQueue:$o.baseQueue,queue:$o.queue,next:null},ra===null?mo.memoizedState=ra=n:ra=ra.next=n}return ra}function sA(n,e){return typeof e=="function"?e(n):e}function d2(n){var e=cl(),r=e.queue;if(r===null)throw Error(Un(311));r.lastRenderedReducer=n;var i=$o,o=i.baseQueue,s=r.pending;if(s!==null){if(o!==null){var l=o.next;o.next=s.next,s.next=l}i.baseQueue=o=s,r.pending=null}if(o!==null){s=o.next,i=i.baseState;var u=l=null,c=null,d=s;do{var h=d.lane;if((gh&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:n(i,d.action);else{var p={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=p,l=i):c=c.next=p,mo.lanes|=h,vh|=h}d=d.next}while(d!==null&&d!==s);c===null?l=i:c.next=u,Wl(i,e.memoizedState)||(os=!0),e.memoizedState=i,e.baseState=l,e.baseQueue=c,r.lastRenderedState=i}if(n=r.interleaved,n!==null){o=n;do s=o.lane,mo.lanes|=s,vh|=s,o=o.next;while(o!==n)}else o===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function f2(n){var e=cl(),r=e.queue;if(r===null)throw Error(Un(311));r.lastRenderedReducer=n;var i=r.dispatch,o=r.pending,s=e.memoizedState;if(o!==null){r.pending=null;var l=o=o.next;do s=n(s,l.action),l=l.next;while(l!==o);Wl(s,e.memoizedState)||(os=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,i]}function JU(){}function ZU(n,e){var r=mo,i=cl(),o=e(),s=!Wl(i.memoizedState,o);if(s&&(i.memoizedState=o,os=!0),i=i.queue,dI(n7.bind(null,r,i,n),[n]),i.getSnapshot!==e||s||ra!==null&&ra.memoizedState.tag&1){if(r.flags|=2048,lA(9,t7.bind(null,r,i,o,e),void 0,null),aa===null)throw Error(Un(349));gh&30||e7(r,e,o)}return o}function e7(n,e,r){n.flags|=16384,n={getSnapshot:e,value:r},e=mo.updateQueue,e===null?(e={lastEffect:null,stores:null},mo.updateQueue=e,e.stores=[n]):(r=e.stores,r===null?e.stores=[n]:r.push(n))}function t7(n,e,r,i){e.value=r,e.getSnapshot=i,r7(e)&&i7(n)}function n7(n,e,r){return r(function(){r7(e)&&i7(n)})}function r7(n){var e=n.getSnapshot;n=n.value;try{var r=e();return!Wl(n,r)}catch{return!0}}function i7(n){var e=_u(n,1);e!==null&&jl(e,n,1,-1)}function zD(n){var e=uc();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sA,lastRenderedState:n},e.queue=n,n=n.dispatch=yee.bind(null,mo,n),[e.memoizedState,n]}function lA(n,e,r,i){return n={tag:n,create:e,destroy:r,deps:i,next:null},e=mo.updateQueue,e===null?(e={lastEffect:null,stores:null},mo.updateQueue=e,e.lastEffect=n.next=n):(r=e.lastEffect,r===null?e.lastEffect=n.next=n:(i=r.next,r.next=n,n.next=i,e.lastEffect=n)),n}function o7(){return cl().memoizedState}function G1(n,e,r,i){var o=uc();mo.flags|=n,o.memoizedState=lA(1|e,r,void 0,i===void 0?null:i)}function UE(n,e,r,i){var o=cl();i=i===void 0?null:i;var s=void 0;if($o!==null){var l=$o.memoizedState;if(s=l.destroy,i!==null&&lI(i,l.deps)){o.memoizedState=lA(e,r,s,i);return}}mo.flags|=n,o.memoizedState=lA(1|e,r,s,i)}function HD(n,e){return G1(8390656,8,n,e)}function dI(n,e){return UE(2048,8,n,e)}function a7(n,e){return UE(4,2,n,e)}function s7(n,e){return UE(4,4,n,e)}function l7(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function c7(n,e,r){return r=r!=null?r.concat([n]):null,UE(4,4,l7.bind(null,e,n),r)}function fI(){}function u7(n,e){var r=cl();e=e===void 0?null:e;var i=r.memoizedState;return i!==null&&e!==null&&lI(e,i[1])?i[0]:(r.memoizedState=[n,e],n)}function d7(n,e){var r=cl();e=e===void 0?null:e;var i=r.memoizedState;return i!==null&&e!==null&&lI(e,i[1])?i[0]:(n=n(),r.memoizedState=[n,e],n)}function f7(n,e,r){return gh&21?(Wl(r,e)||(r=mU(),mo.lanes|=r,vh|=r,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,os=!0),n.memoizedState=r)}function vee(n,e){var r=Fi;Fi=r!==0&&4>r?r:4,n(!0);var i=u2.transition;u2.transition={};try{n(!1),e()}finally{Fi=r,u2.transition=i}}function h7(){return cl().memoizedState}function Aee(n,e,r){var i=Ud(n);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},p7(n))m7(e,r);else if(r=VU(n,e,r,i),r!==null){var o=Wa();jl(r,n,i,o),g7(r,e,i)}}function yee(n,e,r){var i=Ud(n),o={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(p7(n))m7(e,o);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var l=e.lastRenderedState,u=s(l,r);if(o.hasEagerState=!0,o.eagerState=u,Wl(u,l)){var c=e.interleaved;c===null?(o.next=o,rI(e)):(o.next=c.next,c.next=o),e.interleaved=o;return}}catch{}finally{}r=VU(n,e,o,i),r!==null&&(o=Wa(),jl(r,n,i,o),g7(r,e,i))}}function p7(n){var e=n.alternate;return n===mo||e!==null&&e===mo}function m7(n,e){w0=Lx=!0;var r=n.pending;r===null?e.next=e:(e.next=r.next,r.next=e),n.pending=e}function g7(n,e,r){if(r&4194240){var i=e.lanes;i&=n.pendingLanes,r|=i,e.lanes=r,GR(n,r)}}var Px={readContext:ll,useCallback:Sa,useContext:Sa,useEffect:Sa,useImperativeHandle:Sa,useInsertionEffect:Sa,useLayoutEffect:Sa,useMemo:Sa,useReducer:Sa,useRef:Sa,useState:Sa,useDebugValue:Sa,useDeferredValue:Sa,useTransition:Sa,useMutableSource:Sa,useSyncExternalStore:Sa,useId:Sa,unstable_isNewReconciler:!1},bee={readContext:ll,useCallback:function(n,e){return uc().memoizedState=[n,e===void 0?null:e],n},useContext:ll,useEffect:HD,useImperativeHandle:function(n,e,r){return r=r!=null?r.concat([n]):null,G1(4194308,4,l7.bind(null,e,n),r)},useLayoutEffect:function(n,e){return G1(4194308,4,n,e)},useInsertionEffect:function(n,e){return G1(4,2,n,e)},useMemo:function(n,e){var r=uc();return e=e===void 0?null:e,n=n(),r.memoizedState=[n,e],n},useReducer:function(n,e,r){var i=uc();return e=r!==void 0?r(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=Aee.bind(null,mo,n),[i.memoizedState,n]},useRef:function(n){var e=uc();return n={current:n},e.memoizedState=n},useState:zD,useDebugValue:fI,useDeferredValue:function(n){return uc().memoizedState=n},useTransition:function(){var n=zD(!1),e=n[0];return n=vee.bind(null,n[1]),uc().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,r){var i=mo,o=uc();if(so){if(r===void 0)throw Error(Un(407));r=r()}else{if(r=e(),aa===null)throw Error(Un(349));gh&30||e7(i,e,r)}o.memoizedState=r;var s={value:r,getSnapshot:e};return o.queue=s,HD(n7.bind(null,i,s,n),[n]),i.flags|=2048,lA(9,t7.bind(null,i,s,r,e),void 0,null),r},useId:function(){var n=uc(),e=aa.identifierPrefix;if(so){var r=mu,i=pu;r=(i&~(1<<32-Gl(i)-1)).toString(32)+r,e=":"+e+"R"+r,r=aA++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=gee++,e=":"+e+"r"+r.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},xee={readContext:ll,useCallback:u7,useContext:ll,useEffect:dI,useImperativeHandle:c7,useInsertionEffect:a7,useLayoutEffect:s7,useMemo:d7,useReducer:d2,useRef:o7,useState:function(){return d2(sA)},useDebugValue:fI,useDeferredValue:function(n){var e=cl();return f7(e,$o.memoizedState,n)},useTransition:function(){var n=d2(sA)[0],e=cl().memoizedState;return[n,e]},useMutableSource:JU,useSyncExternalStore:ZU,useId:h7,unstable_isNewReconciler:!1},Eee={readContext:ll,useCallback:u7,useContext:ll,useEffect:dI,useImperativeHandle:c7,useInsertionEffect:a7,useLayoutEffect:s7,useMemo:d7,useReducer:f2,useRef:o7,useState:function(){return f2(sA)},useDebugValue:fI,useDeferredValue:function(n){var e=cl();return $o===null?e.memoizedState=n:f7(e,$o.memoizedState,n)},useTransition:function(){var n=f2(sA)[0],e=cl().memoizedState;return[n,e]},useMutableSource:JU,useSyncExternalStore:ZU,useId:h7,unstable_isNewReconciler:!1};function jm(n,e){try{var r="",i=e;do r+=qJ(i),i=i.return;while(i);var o=r}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:o,digest:null}}function h2(n,e,r){return{value:n,source:null,stack:r??null,digest:e??null}}function oT(n,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Cee=typeof WeakMap=="function"?WeakMap:Map;function v7(n,e,r){r=yu(-1,r),r.tag=3,r.payload={element:null};var i=e.value;return r.callback=function(){Ox||(Ox=!0,mT=i),oT(n,e)},r}function A7(n,e,r){r=yu(-1,r),r.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var o=e.value;r.payload=function(){return i(o)},r.callback=function(){oT(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){oT(n,e),typeof i!="function"&&(Fd===null?Fd=new Set([this]):Fd.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),r}function $D(n,e,r){var i=n.pingCache;if(i===null){i=n.pingCache=new Cee;var o=new Set;i.set(e,o)}else o=i.get(e),o===void 0&&(o=new Set,i.set(e,o));o.has(r)||(o.add(r),n=kee.bind(null,n,e,r),e.then(n,n))}function GD(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function jD(n,e,r,i,o){return n.mode&1?(n.flags|=65536,n.lanes=o,n):(n===e?n.flags|=65536:(n.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=yu(-1,1),e.tag=2,kd(r,e,1))),r.lanes|=1),n)}var wee=ku.ReactCurrentOwner,os=!1;function Ga(n,e,r,i){e.child=n===null?qU(e,null,r,i):$m(e,n.child,r,i)}function VD(n,e,r,i,o){r=r.render;var s=e.ref;return Sm(e,o),i=cI(n,e,r,i,s,o),r=uI(),n!==null&&!os?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~o,Mu(n,e,o)):(so&&r&&YR(e),e.flags|=1,Ga(n,e,i,o),e.child)}function WD(n,e,r,i,o){if(n===null){var s=r.type;return typeof s=="function"&&!bI(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,y7(n,e,s,i,o)):(n=Q1(r.type,null,i,e,e.mode,o),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&o)){var l=s.memoizedProps;if(r=r.compare,r=r!==null?r:eA,r(l,i)&&n.ref===e.ref)return Mu(n,e,o)}return e.flags|=1,n=zd(s,i),n.ref=e.ref,n.return=e,e.child=n}function y7(n,e,r,i,o){if(n!==null){var s=n.memoizedProps;if(eA(s,i)&&n.ref===e.ref)if(os=!1,e.pendingProps=i=s,(n.lanes&o)!==0)n.flags&131072&&(os=!0);else return e.lanes=n.lanes,Mu(n,e,o)}return aT(n,e,r,i,o)}function b7(n,e,r){var i=e.pendingProps,o=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qi(um,Ts),Ts|=r;else{if(!(r&1073741824))return n=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,qi(um,Ts),Ts|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:r,qi(um,Ts),Ts|=i}else s!==null?(i=s.baseLanes|r,e.memoizedState=null):i=r,qi(um,Ts),Ts|=i;return Ga(n,e,o,r),e.child}function x7(n,e){var r=e.ref;(n===null&&r!==null||n!==null&&n.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function aT(n,e,r,i,o){var s=ls(r)?ph:Pa.current;return s=zm(e,s),Sm(e,o),r=cI(n,e,r,i,s,o),i=uI(),n!==null&&!os?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~o,Mu(n,e,o)):(so&&i&&YR(e),e.flags|=1,Ga(n,e,r,o),e.child)}function QD(n,e,r,i,o){if(ls(r)){var s=!0;wx(e)}else s=!1;if(Sm(e,o),e.stateNode===null)j1(n,e),KU(e,r,i),iT(e,r,i,o),i=!0;else if(n===null){var l=e.stateNode,u=e.memoizedProps;l.props=u;var c=l.context,d=r.contextType;typeof d=="object"&&d!==null?d=ll(d):(d=ls(r)?ph:Pa.current,d=zm(e,d));var h=r.getDerivedStateFromProps,p=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==i||c!==d)&&FD(e,l,i,d),xd=!1;var m=e.memoizedState;l.state=m,Rx(e,i,l,o),c=e.memoizedState,u!==i||m!==c||ss.current||xd?(typeof h=="function"&&(rT(e,r,h,i),c=e.memoizedState),(u=xd||kD(e,r,u,i,m,c,d))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),l.props=i,l.state=c,l.context=d,i=u):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{l=e.stateNode,WU(n,e),u=e.memoizedProps,d=e.type===e.elementType?u:Il(e.type,u),l.props=d,p=e.pendingProps,m=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=ll(c):(c=ls(r)?ph:Pa.current,c=zm(e,c));var v=r.getDerivedStateFromProps;(h=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==p||m!==c)&&FD(e,l,i,c),xd=!1,m=e.memoizedState,l.state=m,Rx(e,i,l,o);var y=e.memoizedState;u!==p||m!==y||ss.current||xd?(typeof v=="function"&&(rT(e,r,v,i),y=e.memoizedState),(d=xd||kD(e,r,d,i,m,y,c)||!1)?(h||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,y,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,y,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===n.memoizedProps&&m===n.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===n.memoizedProps&&m===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),l.props=i,l.state=y,l.context=c,i=d):(typeof l.componentDidUpdate!="function"||u===n.memoizedProps&&m===n.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===n.memoizedProps&&m===n.memoizedState||(e.flags|=1024),i=!1)}return sT(n,e,r,i,s,o)}function sT(n,e,r,i,o,s){x7(n,e);var l=(e.flags&128)!==0;if(!i&&!l)return o&&PD(e,r,!1),Mu(n,e,s);i=e.stateNode,wee.current=e;var u=l&&typeof r.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&l?(e.child=$m(e,n.child,null,s),e.child=$m(e,null,u,s)):Ga(n,e,u,s),e.memoizedState=i.state,o&&PD(e,r,!0),e.child}function E7(n){var e=n.stateNode;e.pendingContext?LD(n,e.pendingContext,e.pendingContext!==e.context):e.context&&LD(n,e.context,!1),oI(n,e.containerInfo)}function KD(n,e,r,i,o){return Hm(),ZR(o),e.flags|=256,Ga(n,e,r,i),e.child}var lT={dehydrated:null,treeContext:null,retryLane:0};function cT(n){return{baseLanes:n,cachePool:null,transitions:null}}function C7(n,e,r){var i=e.pendingProps,o=po.current,s=!1,l=(e.flags&128)!==0,u;if((u=l)||(u=n!==null&&n.memoizedState===null?!1:(o&2)!==0),u?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(o|=1),qi(po,o&1),n===null)return tT(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=i.children,n=i.fallback,s?(i=e.mode,s=e.child,l={mode:"hidden",children:l},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=$E(l,i,0,null),n=ih(n,i,r,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=cT(r),e.memoizedState=lT,n):hI(e,l));if(o=n.memoizedState,o!==null&&(u=o.dehydrated,u!==null))return See(n,e,l,i,u,o,r);if(s){s=i.fallback,l=e.mode,o=n.child,u=o.sibling;var c={mode:"hidden",children:i.children};return!(l&1)&&e.child!==o?(i=e.child,i.childLanes=0,i.pendingProps=c,e.deletions=null):(i=zd(o,c),i.subtreeFlags=o.subtreeFlags&14680064),u!==null?s=zd(u,s):(s=ih(s,l,r,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,l=n.child.memoizedState,l=l===null?cT(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=n.childLanes&~r,e.memoizedState=lT,i}return s=n.child,n=s.sibling,i=zd(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=r),i.return=e,i.sibling=null,n!==null&&(r=e.deletions,r===null?(e.deletions=[n],e.flags|=16):r.push(n)),e.child=i,e.memoizedState=null,i}function hI(n,e){return e=$E({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Cb(n,e,r,i){return i!==null&&ZR(i),$m(e,n.child,null,r),n=hI(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function See(n,e,r,i,o,s,l){if(r)return e.flags&256?(e.flags&=-257,i=h2(Error(Un(422))),Cb(n,e,l,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,o=e.mode,i=$E({mode:"visible",children:i.children},o,0,null),s=ih(s,o,l,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&$m(e,n.child,null,l),e.child.memoizedState=cT(l),e.memoizedState=lT,s);if(!(e.mode&1))return Cb(n,e,l,null);if(o.data==="$!"){if(i=o.nextSibling&&o.nextSibling.dataset,i)var u=i.dgst;return i=u,s=Error(Un(419)),i=h2(s,i,void 0),Cb(n,e,l,i)}if(u=(l&n.childLanes)!==0,os||u){if(i=aa,i!==null){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(i.suspendedLanes|l)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,_u(n,o),jl(i,n,o,-1))}return yI(),i=h2(Error(Un(421))),Cb(n,e,l,i)}return o.data==="$?"?(e.flags|=128,e.child=n.child,e=Fee.bind(null,n),o._reactRetry=e,null):(n=s.treeContext,Ls=Nd(o.nextSibling),Os=e,so=!0,Nl=null,n!==null&&(Zs[el++]=pu,Zs[el++]=mu,Zs[el++]=mh,pu=n.id,mu=n.overflow,mh=e),e=hI(e,i.children),e.flags|=4096,e)}function XD(n,e,r){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),nT(n.return,e,r)}function p2(n,e,r,i,o){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:o}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=r,s.tailMode=o)}function w7(n,e,r){var i=e.pendingProps,o=i.revealOrder,s=i.tail;if(Ga(n,e,i.children,r),i=po.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&XD(n,r,e);else if(n.tag===19)XD(n,r,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(qi(po,i),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(r=e.child,o=null;r!==null;)n=r.alternate,n!==null&&Ix(n)===null&&(o=r),r=r.sibling;r=o,r===null?(o=e.child,e.child=null):(o=r.sibling,r.sibling=null),p2(e,!1,o,r,s);break;case"backwards":for(r=null,o=e.child,e.child=null;o!==null;){if(n=o.alternate,n!==null&&Ix(n)===null){e.child=o;break}n=o.sibling,o.sibling=r,r=o,o=n}p2(e,!0,r,null,s);break;case"together":p2(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function j1(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Mu(n,e,r){if(n!==null&&(e.dependencies=n.dependencies),vh|=e.lanes,!(r&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Un(153));if(e.child!==null){for(n=e.child,r=zd(n,n.pendingProps),e.child=r,r.return=e;n.sibling!==null;)n=n.sibling,r=r.sibling=zd(n,n.pendingProps),r.return=e;r.sibling=null}return e.child}function _ee(n,e,r){switch(e.tag){case 3:E7(e),Hm();break;case 5:YU(e);break;case 1:ls(e.type)&&wx(e);break;case 4:oI(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,o=e.memoizedProps.value;qi(Mx,i._currentValue),i._currentValue=o;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(qi(po,po.current&1),e.flags|=128,null):r&e.child.childLanes?C7(n,e,r):(qi(po,po.current&1),n=Mu(n,e,r),n!==null?n.sibling:null);qi(po,po.current&1);break;case 19:if(i=(r&e.childLanes)!==0,n.flags&128){if(i)return w7(n,e,r);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),qi(po,po.current),i)break;return null;case 22:case 23:return e.lanes=0,b7(n,e,r)}return Mu(n,e,r)}var S7,uT,_7,M7;S7=function(n,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)n.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};uT=function(){};_7=function(n,e,r,i){var o=n.memoizedProps;if(o!==i){n=e.stateNode,Kf(vc.current);var s=null;switch(r){case"input":o=PM(n,o),i=PM(n,i),s=[];break;case"select":o=go({},o,{value:void 0}),i=go({},i,{value:void 0}),s=[];break;case"textarea":o=DM(n,o),i=DM(n,i),s=[];break;default:typeof o.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=Ex)}kM(r,i);var l;r=null;for(d in o)if(!i.hasOwnProperty(d)&&o.hasOwnProperty(d)&&o[d]!=null)if(d==="style"){var u=o[d];for(l in u)u.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Q0.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in i){var c=i[d];if(u=o!=null?o[d]:void 0,i.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(s||(s=[]),s.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Q0.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ji("scroll",n),s||u===c||(s=[])):(s=s||[]).push(d,c))}r&&(s=s||[]).push("style",r);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};M7=function(n,e,r,i){r!==i&&(e.flags|=4)};function wv(n,e){if(!so)switch(n.tailMode){case"hidden":e=n.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function _a(n){var e=n.alternate!==null&&n.alternate.child===n.child,r=0,i=0;if(e)for(var o=n.child;o!==null;)r|=o.lanes|o.childLanes,i|=o.subtreeFlags&14680064,i|=o.flags&14680064,o.return=n,o=o.sibling;else for(o=n.child;o!==null;)r|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=n,o=o.sibling;return n.subtreeFlags|=i,n.childLanes=r,e}function Mee(n,e,r){var i=e.pendingProps;switch(JR(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _a(e),null;case 1:return ls(e.type)&&Cx(),_a(e),null;case 3:return i=e.stateNode,Gm(),to(ss),to(Pa),sI(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(xb(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Nl!==null&&(AT(Nl),Nl=null))),uT(n,e),_a(e),null;case 5:aI(e);var o=Kf(oA.current);if(r=e.type,n!==null&&e.stateNode!=null)_7(n,e,r,i,o),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Un(166));return _a(e),null}if(n=Kf(vc.current),xb(e)){i=e.stateNode,r=e.type;var s=e.memoizedProps;switch(i[pc]=e,i[rA]=s,n=(e.mode&1)!==0,r){case"dialog":Ji("cancel",i),Ji("close",i);break;case"iframe":case"object":case"embed":Ji("load",i);break;case"video":case"audio":for(o=0;o<l0.length;o++)Ji(l0[o],i);break;case"source":Ji("error",i);break;case"img":case"image":case"link":Ji("error",i),Ji("load",i);break;case"details":Ji("toggle",i);break;case"input":iD(i,s),Ji("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Ji("invalid",i);break;case"textarea":aD(i,s),Ji("invalid",i)}kM(r,s),o=null;for(var l in s)if(s.hasOwnProperty(l)){var u=s[l];l==="children"?typeof u=="string"?i.textContent!==u&&(s.suppressHydrationWarning!==!0&&bb(i.textContent,u,n),o=["children",u]):typeof u=="number"&&i.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&bb(i.textContent,u,n),o=["children",""+u]):Q0.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&Ji("scroll",i)}switch(r){case"input":fb(i),oD(i,s,!0);break;case"textarea":fb(i),sD(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Ex)}i=o,e.updateQueue=i,i!==null&&(e.flags|=4)}else{l=o.nodeType===9?o:o.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=eU(r)),n==="http://www.w3.org/1999/xhtml"?r==="script"?(n=l.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=l.createElement(r,{is:i.is}):(n=l.createElement(r),r==="select"&&(l=n,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):n=l.createElementNS(n,r),n[pc]=e,n[rA]=i,S7(n,e,!1,!1),e.stateNode=n;e:{switch(l=FM(r,i),r){case"dialog":Ji("cancel",n),Ji("close",n),o=i;break;case"iframe":case"object":case"embed":Ji("load",n),o=i;break;case"video":case"audio":for(o=0;o<l0.length;o++)Ji(l0[o],n);o=i;break;case"source":Ji("error",n),o=i;break;case"img":case"image":case"link":Ji("error",n),Ji("load",n),o=i;break;case"details":Ji("toggle",n),o=i;break;case"input":iD(n,i),o=PM(n,i),Ji("invalid",n);break;case"option":o=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},o=go({},i,{value:void 0}),Ji("invalid",n);break;case"textarea":aD(n,i),o=DM(n,i),Ji("invalid",n);break;default:o=i}kM(r,o),u=o;for(s in u)if(u.hasOwnProperty(s)){var c=u[s];s==="style"?rU(n,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&tU(n,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&K0(n,c):typeof c=="number"&&K0(n,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Q0.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Ji("scroll",n):c!=null&&kR(n,s,c,l))}switch(r){case"input":fb(n),oD(n,i,!1);break;case"textarea":fb(n),sD(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Gd(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?xm(n,!!i.multiple,s,!1):i.defaultValue!=null&&xm(n,!!i.multiple,i.defaultValue,!0);break;default:typeof o.onClick=="function"&&(n.onclick=Ex)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _a(e),null;case 6:if(n&&e.stateNode!=null)M7(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Un(166));if(r=Kf(oA.current),Kf(vc.current),xb(e)){if(i=e.stateNode,r=e.memoizedProps,i[pc]=e,(s=i.nodeValue!==r)&&(n=Os,n!==null))switch(n.tag){case 3:bb(i.nodeValue,r,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&bb(i.nodeValue,r,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[pc]=e,e.stateNode=i}return _a(e),null;case 13:if(to(po),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(so&&Ls!==null&&e.mode&1&&!(e.flags&128))jU(),Hm(),e.flags|=98560,s=!1;else if(s=xb(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(Un(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Un(317));s[pc]=e}else Hm(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_a(e),s=!1}else Nl!==null&&(AT(Nl),Nl=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||po.current&1?Vo===0&&(Vo=3):yI())),e.updateQueue!==null&&(e.flags|=4),_a(e),null);case 4:return Gm(),uT(n,e),n===null&&tA(e.stateNode.containerInfo),_a(e),null;case 10:return nI(e.type._context),_a(e),null;case 17:return ls(e.type)&&Cx(),_a(e),null;case 19:if(to(po),s=e.memoizedState,s===null)return _a(e),null;if(i=(e.flags&128)!==0,l=s.rendering,l===null)if(i)wv(s,!1);else{if(Vo!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(l=Ix(n),l!==null){for(e.flags|=128,wv(s,!1),i=l.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=r,r=e.child;r!==null;)s=r,n=i,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,n=l.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),r=r.sibling;return qi(po,po.current&1|2),e.child}n=n.sibling}s.tail!==null&&Io()>Vm&&(e.flags|=128,i=!0,wv(s,!1),e.lanes=4194304)}else{if(!i)if(n=Ix(l),n!==null){if(e.flags|=128,i=!0,r=n.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),wv(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!so)return _a(e),null}else 2*Io()-s.renderingStartTime>Vm&&r!==1073741824&&(e.flags|=128,i=!0,wv(s,!1),e.lanes=4194304);s.isBackwards?(l.sibling=e.child,e.child=l):(r=s.last,r!==null?r.sibling=l:e.child=l,s.last=l)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Io(),e.sibling=null,r=po.current,qi(po,i?r&1|2:r&1),e):(_a(e),null);case 22:case 23:return AI(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Ts&1073741824&&(_a(e),e.subtreeFlags&6&&(e.flags|=8192)):_a(e),null;case 24:return null;case 25:return null}throw Error(Un(156,e.tag))}function Tee(n,e){switch(JR(e),e.tag){case 1:return ls(e.type)&&Cx(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Gm(),to(ss),to(Pa),sI(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return aI(e),null;case 13:if(to(po),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Un(340));Hm()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return to(po),null;case 4:return Gm(),null;case 10:return nI(e.type._context),null;case 22:case 23:return AI(),null;case 24:return null;default:return null}}var wb=!1,La=!1,Ree=typeof WeakSet=="function"?WeakSet:Set,Cr=null;function cm(n,e){var r=n.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){xo(n,e,i)}else r.current=null}function dT(n,e,r){try{r()}catch(i){xo(n,e,i)}}var qD=!1;function Iee(n,e){if(KM=yx,n=LU(),qR(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else e:{r=(r=n.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var o=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var l=0,u=-1,c=-1,d=0,h=0,p=n,m=null;t:for(;;){for(var v;p!==r||o!==0&&p.nodeType!==3||(u=l+o),p!==s||i!==0&&p.nodeType!==3||(c=l+i),p.nodeType===3&&(l+=p.nodeValue.length),(v=p.firstChild)!==null;)m=p,p=v;for(;;){if(p===n)break t;if(m===r&&++d===o&&(u=l),m===s&&++h===i&&(c=l),(v=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=v}r=u===-1||c===-1?null:{start:u,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(XM={focusedElem:n,selectionRange:r},yx=!1,Cr=e;Cr!==null;)if(e=Cr,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Cr=n;else for(;Cr!==null;){e=Cr;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var A=y.memoizedProps,b=y.memoizedState,g=e.stateNode,w=g.getSnapshotBeforeUpdate(e.elementType===e.type?A:Il(e.type,A),b);g.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Un(163))}}catch(C){xo(e,e.return,C)}if(n=e.sibling,n!==null){n.return=e.return,Cr=n;break}Cr=e.return}return y=qD,qD=!1,y}function S0(n,e,r){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&n)===n){var s=o.destroy;o.destroy=void 0,s!==void 0&&dT(e,r,s)}o=o.next}while(o!==i)}}function zE(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&n)===n){var i=r.create;r.destroy=i()}r=r.next}while(r!==e)}}function fT(n){var e=n.ref;if(e!==null){var r=n.stateNode;switch(n.tag){case 5:n=r;break;default:n=r}typeof e=="function"?e(n):e.current=n}}function T7(n){var e=n.alternate;e!==null&&(n.alternate=null,T7(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[pc],delete e[rA],delete e[JM],delete e[fee],delete e[hee])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function R7(n){return n.tag===5||n.tag===3||n.tag===4}function YD(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||R7(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function hT(n,e,r){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(n,e):r.insertBefore(n,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(n,r)):(e=r,e.appendChild(n)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ex));else if(i!==4&&(n=n.child,n!==null))for(hT(n,e,r),n=n.sibling;n!==null;)hT(n,e,r),n=n.sibling}function pT(n,e,r){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?r.insertBefore(n,e):r.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(pT(n,e,r),n=n.sibling;n!==null;)pT(n,e,r),n=n.sibling}var ma=null,Ll=!1;function nd(n,e,r){for(r=r.child;r!==null;)I7(n,e,r),r=r.sibling}function I7(n,e,r){if(gc&&typeof gc.onCommitFiberUnmount=="function")try{gc.onCommitFiberUnmount(PE,r)}catch{}switch(r.tag){case 5:La||cm(r,e);case 6:var i=ma,o=Ll;ma=null,nd(n,e,r),ma=i,Ll=o,ma!==null&&(Ll?(n=ma,r=r.stateNode,n.nodeType===8?n.parentNode.removeChild(r):n.removeChild(r)):ma.removeChild(r.stateNode));break;case 18:ma!==null&&(Ll?(n=ma,r=r.stateNode,n.nodeType===8?s2(n.parentNode,r):n.nodeType===1&&s2(n,r),J0(n)):s2(ma,r.stateNode));break;case 4:i=ma,o=Ll,ma=r.stateNode.containerInfo,Ll=!0,nd(n,e,r),ma=i,Ll=o;break;case 0:case 11:case 14:case 15:if(!La&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){o=i=i.next;do{var s=o,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&dT(r,e,l),o=o.next}while(o!==i)}nd(n,e,r);break;case 1:if(!La&&(cm(r,e),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(u){xo(r,e,u)}nd(n,e,r);break;case 21:nd(n,e,r);break;case 22:r.mode&1?(La=(i=La)||r.memoizedState!==null,nd(n,e,r),La=i):nd(n,e,r);break;default:nd(n,e,r)}}function JD(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var r=n.stateNode;r===null&&(r=n.stateNode=new Ree),e.forEach(function(i){var o=Uee.bind(null,n,i);r.has(i)||(r.add(i),i.then(o,o))})}}function Cl(n,e){var r=e.deletions;if(r!==null)for(var i=0;i<r.length;i++){var o=r[i];try{var s=n,l=e,u=l;e:for(;u!==null;){switch(u.tag){case 5:ma=u.stateNode,Ll=!1;break e;case 3:ma=u.stateNode.containerInfo,Ll=!0;break e;case 4:ma=u.stateNode.containerInfo,Ll=!0;break e}u=u.return}if(ma===null)throw Error(Un(160));I7(s,l,o),ma=null,Ll=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(d){xo(o,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)L7(e,n),e=e.sibling}function L7(n,e){var r=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Cl(e,n),lc(n),i&4){try{S0(3,n,n.return),zE(3,n)}catch(A){xo(n,n.return,A)}try{S0(5,n,n.return)}catch(A){xo(n,n.return,A)}}break;case 1:Cl(e,n),lc(n),i&512&&r!==null&&cm(r,r.return);break;case 5:if(Cl(e,n),lc(n),i&512&&r!==null&&cm(r,r.return),n.flags&32){var o=n.stateNode;try{K0(o,"")}catch(A){xo(n,n.return,A)}}if(i&4&&(o=n.stateNode,o!=null)){var s=n.memoizedProps,l=r!==null?r.memoizedProps:s,u=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&J6(o,s),FM(u,l);var d=FM(u,s);for(l=0;l<c.length;l+=2){var h=c[l],p=c[l+1];h==="style"?rU(o,p):h==="dangerouslySetInnerHTML"?tU(o,p):h==="children"?K0(o,p):kR(o,h,p,d)}switch(u){case"input":BM(o,s);break;case"textarea":Z6(o,s);break;case"select":var m=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?xm(o,!!s.multiple,v,!1):m!==!!s.multiple&&(s.defaultValue!=null?xm(o,!!s.multiple,s.defaultValue,!0):xm(o,!!s.multiple,s.multiple?[]:"",!1))}o[rA]=s}catch(A){xo(n,n.return,A)}}break;case 6:if(Cl(e,n),lc(n),i&4){if(n.stateNode===null)throw Error(Un(162));o=n.stateNode,s=n.memoizedProps;try{o.nodeValue=s}catch(A){xo(n,n.return,A)}}break;case 3:if(Cl(e,n),lc(n),i&4&&r!==null&&r.memoizedState.isDehydrated)try{J0(e.containerInfo)}catch(A){xo(n,n.return,A)}break;case 4:Cl(e,n),lc(n);break;case 13:Cl(e,n),lc(n),o=n.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(gI=Io())),i&4&&JD(n);break;case 22:if(h=r!==null&&r.memoizedState!==null,n.mode&1?(La=(d=La)||h,Cl(e,n),La=d):Cl(e,n),lc(n),i&8192){if(d=n.memoizedState!==null,(n.stateNode.isHidden=d)&&!h&&n.mode&1)for(Cr=n,h=n.child;h!==null;){for(p=Cr=h;Cr!==null;){switch(m=Cr,v=m.child,m.tag){case 0:case 11:case 14:case 15:S0(4,m,m.return);break;case 1:cm(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){i=m,r=m.return;try{e=i,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(A){xo(i,r,A)}}break;case 5:cm(m,m.return);break;case 22:if(m.memoizedState!==null){e4(p);continue}}v!==null?(v.return=m,Cr=v):e4(p)}h=h.sibling}e:for(h=null,p=n;;){if(p.tag===5){if(h===null){h=p;try{o=p.stateNode,d?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=p.stateNode,c=p.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=nU("display",l))}catch(A){xo(n,n.return,A)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(A){xo(n,n.return,A)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===n)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Cl(e,n),lc(n),i&4&&JD(n);break;case 21:break;default:Cl(e,n),lc(n)}}function lc(n){var e=n.flags;if(e&2){try{e:{for(var r=n.return;r!==null;){if(R7(r)){var i=r;break e}r=r.return}throw Error(Un(160))}switch(i.tag){case 5:var o=i.stateNode;i.flags&32&&(K0(o,""),i.flags&=-33);var s=YD(n);pT(n,s,o);break;case 3:case 4:var l=i.stateNode.containerInfo,u=YD(n);hT(n,u,l);break;default:throw Error(Un(161))}}catch(c){xo(n,n.return,c)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function Lee(n,e,r){Cr=n,P7(n)}function P7(n,e,r){for(var i=(n.mode&1)!==0;Cr!==null;){var o=Cr,s=o.child;if(o.tag===22&&i){var l=o.memoizedState!==null||wb;if(!l){var u=o.alternate,c=u!==null&&u.memoizedState!==null||La;u=wb;var d=La;if(wb=l,(La=c)&&!d)for(Cr=o;Cr!==null;)l=Cr,c=l.child,l.tag===22&&l.memoizedState!==null?t4(o):c!==null?(c.return=l,Cr=c):t4(o);for(;s!==null;)Cr=s,P7(s),s=s.sibling;Cr=o,wb=u,La=d}ZD(n)}else o.subtreeFlags&8772&&s!==null?(s.return=o,Cr=s):ZD(n)}}function ZD(n){for(;Cr!==null;){var e=Cr;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:La||zE(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!La)if(r===null)i.componentDidMount();else{var o=e.elementType===e.type?r.memoizedProps:Il(e.type,r.memoizedProps);i.componentDidUpdate(o,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ND(e,s,i);break;case 3:var l=e.updateQueue;if(l!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}ND(e,l,r)}break;case 5:var u=e.stateNode;if(r===null&&e.flags&4){r=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&J0(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Un(163))}La||e.flags&512&&fT(e)}catch(m){xo(e,e.return,m)}}if(e===n){Cr=null;break}if(r=e.sibling,r!==null){r.return=e.return,Cr=r;break}Cr=e.return}}function e4(n){for(;Cr!==null;){var e=Cr;if(e===n){Cr=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Cr=r;break}Cr=e.return}}function t4(n){for(;Cr!==null;){var e=Cr;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{zE(4,e)}catch(c){xo(e,r,c)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var o=e.return;try{i.componentDidMount()}catch(c){xo(e,o,c)}}var s=e.return;try{fT(e)}catch(c){xo(e,s,c)}break;case 5:var l=e.return;try{fT(e)}catch(c){xo(e,l,c)}}}catch(c){xo(e,e.return,c)}if(e===n){Cr=null;break}var u=e.sibling;if(u!==null){u.return=e.return,Cr=u;break}Cr=e.return}}var Pee=Math.ceil,Bx=ku.ReactCurrentDispatcher,pI=ku.ReactCurrentOwner,al=ku.ReactCurrentBatchConfig,Ri=0,aa=null,ko=null,ga=0,Ts=0,um=qd(0),Vo=0,cA=null,vh=0,HE=0,mI=0,_0=null,is=null,gI=0,Vm=1/0,su=null,Ox=!1,mT=null,Fd=null,Sb=!1,Td=null,Dx=0,M0=0,gT=null,V1=-1,W1=0;function Wa(){return Ri&6?Io():V1!==-1?V1:V1=Io()}function Ud(n){return n.mode&1?Ri&2&&ga!==0?ga&-ga:mee.transition!==null?(W1===0&&(W1=mU()),W1):(n=Fi,n!==0||(n=window.event,n=n===void 0?16:EU(n.type)),n):1}function jl(n,e,r,i){if(50<M0)throw M0=0,gT=null,Error(Un(185));OA(n,r,i),(!(Ri&2)||n!==aa)&&(n===aa&&(!(Ri&2)&&(HE|=r),Vo===4&&_d(n,ga)),cs(n,i),r===1&&Ri===0&&!(e.mode&1)&&(Vm=Io()+500,kE&&Yd()))}function cs(n,e){var r=n.callbackNode;mZ(n,e);var i=Ax(n,n===aa?ga:0);if(i===0)r!==null&&uD(r),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(r!=null&&uD(r),e===1)n.tag===0?pee(n4.bind(null,n)):HU(n4.bind(null,n)),uee(function(){!(Ri&6)&&Yd()}),r=null;else{switch(gU(i)){case 1:r=$R;break;case 4:r=hU;break;case 16:r=vx;break;case 536870912:r=pU;break;default:r=vx}r=z7(r,B7.bind(null,n))}n.callbackPriority=e,n.callbackNode=r}}function B7(n,e){if(V1=-1,W1=0,Ri&6)throw Error(Un(327));var r=n.callbackNode;if(_m()&&n.callbackNode!==r)return null;var i=Ax(n,n===aa?ga:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=Nx(n,i);else{e=i;var o=Ri;Ri|=2;var s=D7();(aa!==n||ga!==e)&&(su=null,Vm=Io()+500,rh(n,e));do try{Dee();break}catch(u){O7(n,u)}while(1);tI(),Bx.current=s,Ri=o,ko!==null?e=0:(aa=null,ga=0,e=Vo)}if(e!==0){if(e===2&&(o=GM(n),o!==0&&(i=o,e=vT(n,o))),e===1)throw r=cA,rh(n,0),_d(n,i),cs(n,Io()),r;if(e===6)_d(n,i);else{if(o=n.current.alternate,!(i&30)&&!Bee(o)&&(e=Nx(n,i),e===2&&(s=GM(n),s!==0&&(i=s,e=vT(n,s))),e===1))throw r=cA,rh(n,0),_d(n,i),cs(n,Io()),r;switch(n.finishedWork=o,n.finishedLanes=i,e){case 0:case 1:throw Error(Un(345));case 2:Nf(n,is,su);break;case 3:if(_d(n,i),(i&130023424)===i&&(e=gI+500-Io(),10<e)){if(Ax(n,0)!==0)break;if(o=n.suspendedLanes,(o&i)!==i){Wa(),n.pingedLanes|=n.suspendedLanes&o;break}n.timeoutHandle=YM(Nf.bind(null,n,is,su),e);break}Nf(n,is,su);break;case 4:if(_d(n,i),(i&4194240)===i)break;for(e=n.eventTimes,o=-1;0<i;){var l=31-Gl(i);s=1<<l,l=e[l],l>o&&(o=l),i&=~s}if(i=o,i=Io()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Pee(i/1960))-i,10<i){n.timeoutHandle=YM(Nf.bind(null,n,is,su),i);break}Nf(n,is,su);break;case 5:Nf(n,is,su);break;default:throw Error(Un(329))}}}return cs(n,Io()),n.callbackNode===r?B7.bind(null,n):null}function vT(n,e){var r=_0;return n.current.memoizedState.isDehydrated&&(rh(n,e).flags|=256),n=Nx(n,e),n!==2&&(e=is,is=r,e!==null&&AT(e)),n}function AT(n){is===null?is=n:is.push.apply(is,n)}function Bee(n){for(var e=n;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var o=r[i],s=o.getSnapshot;o=o.value;try{if(!Wl(s(),o))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _d(n,e){for(e&=~mI,e&=~HE,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var r=31-Gl(e),i=1<<r;n[r]=-1,e&=~i}}function n4(n){if(Ri&6)throw Error(Un(327));_m();var e=Ax(n,0);if(!(e&1))return cs(n,Io()),null;var r=Nx(n,e);if(n.tag!==0&&r===2){var i=GM(n);i!==0&&(e=i,r=vT(n,i))}if(r===1)throw r=cA,rh(n,0),_d(n,e),cs(n,Io()),r;if(r===6)throw Error(Un(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Nf(n,is,su),cs(n,Io()),null}function vI(n,e){var r=Ri;Ri|=1;try{return n(e)}finally{Ri=r,Ri===0&&(Vm=Io()+500,kE&&Yd())}}function Ah(n){Td!==null&&Td.tag===0&&!(Ri&6)&&_m();var e=Ri;Ri|=1;var r=al.transition,i=Fi;try{if(al.transition=null,Fi=1,n)return n()}finally{Fi=i,al.transition=r,Ri=e,!(Ri&6)&&Yd()}}function AI(){Ts=um.current,to(um)}function rh(n,e){n.finishedWork=null,n.finishedLanes=0;var r=n.timeoutHandle;if(r!==-1&&(n.timeoutHandle=-1,cee(r)),ko!==null)for(r=ko.return;r!==null;){var i=r;switch(JR(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Cx();break;case 3:Gm(),to(ss),to(Pa),sI();break;case 5:aI(i);break;case 4:Gm();break;case 13:to(po);break;case 19:to(po);break;case 10:nI(i.type._context);break;case 22:case 23:AI()}r=r.return}if(aa=n,ko=n=zd(n.current,null),ga=Ts=e,Vo=0,cA=null,mI=HE=vh=0,is=_0=null,Qf!==null){for(e=0;e<Qf.length;e++)if(r=Qf[e],i=r.interleaved,i!==null){r.interleaved=null;var o=i.next,s=r.pending;if(s!==null){var l=s.next;s.next=o,i.next=l}r.pending=i}Qf=null}return n}function O7(n,e){do{var r=ko;try{if(tI(),$1.current=Px,Lx){for(var i=mo.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Lx=!1}if(gh=0,ra=$o=mo=null,w0=!1,aA=0,pI.current=null,r===null||r.return===null){Vo=1,cA=e,ko=null;break}e:{var s=n,l=r.return,u=r,c=e;if(e=ga,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=u,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=GD(l);if(v!==null){v.flags&=-257,jD(v,l,u,s,e),v.mode&1&&$D(s,d,e),e=v,c=d;var y=e.updateQueue;if(y===null){var A=new Set;A.add(c),e.updateQueue=A}else y.add(c);break e}else{if(!(e&1)){$D(s,d,e),yI();break e}c=Error(Un(426))}}else if(so&&u.mode&1){var b=GD(l);if(b!==null){!(b.flags&65536)&&(b.flags|=256),jD(b,l,u,s,e),ZR(jm(c,u));break e}}s=c=jm(c,u),Vo!==4&&(Vo=2),_0===null?_0=[s]:_0.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=v7(s,c,e);DD(s,g);break e;case 1:u=c;var w=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Fd===null||!Fd.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=A7(s,u,e);DD(s,C);break e}}s=s.return}while(s!==null)}k7(r)}catch(_){e=_,ko===r&&r!==null&&(ko=r=r.return);continue}break}while(1)}function D7(){var n=Bx.current;return Bx.current=Px,n===null?Px:n}function yI(){(Vo===0||Vo===3||Vo===2)&&(Vo=4),aa===null||!(vh&268435455)&&!(HE&268435455)||_d(aa,ga)}function Nx(n,e){var r=Ri;Ri|=2;var i=D7();(aa!==n||ga!==e)&&(su=null,rh(n,e));do try{Oee();break}catch(o){O7(n,o)}while(1);if(tI(),Ri=r,Bx.current=i,ko!==null)throw Error(Un(261));return aa=null,ga=0,Vo}function Oee(){for(;ko!==null;)N7(ko)}function Dee(){for(;ko!==null&&!aZ();)N7(ko)}function N7(n){var e=U7(n.alternate,n,Ts);n.memoizedProps=n.pendingProps,e===null?k7(n):ko=e,pI.current=null}function k7(n){var e=n;do{var r=e.alternate;if(n=e.return,e.flags&32768){if(r=Tee(r,e),r!==null){r.flags&=32767,ko=r;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Vo=6,ko=null;return}}else if(r=Mee(r,e,Ts),r!==null){ko=r;return}if(e=e.sibling,e!==null){ko=e;return}ko=e=n}while(e!==null);Vo===0&&(Vo=5)}function Nf(n,e,r){var i=Fi,o=al.transition;try{al.transition=null,Fi=1,Nee(n,e,r,i)}finally{al.transition=o,Fi=i}return null}function Nee(n,e,r,i){do _m();while(Td!==null);if(Ri&6)throw Error(Un(327));r=n.finishedWork;var o=n.finishedLanes;if(r===null)return null;if(n.finishedWork=null,n.finishedLanes=0,r===n.current)throw Error(Un(177));n.callbackNode=null,n.callbackPriority=0;var s=r.lanes|r.childLanes;if(gZ(n,s),n===aa&&(ko=aa=null,ga=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Sb||(Sb=!0,z7(vx,function(){return _m(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=al.transition,al.transition=null;var l=Fi;Fi=1;var u=Ri;Ri|=4,pI.current=null,Iee(n,r),L7(r,n),nee(XM),yx=!!KM,XM=KM=null,n.current=r,Lee(r),sZ(),Ri=u,Fi=l,al.transition=s}else n.current=r;if(Sb&&(Sb=!1,Td=n,Dx=o),s=n.pendingLanes,s===0&&(Fd=null),uZ(r.stateNode),cs(n,Io()),e!==null)for(i=n.onRecoverableError,r=0;r<e.length;r++)o=e[r],i(o.value,{componentStack:o.stack,digest:o.digest});if(Ox)throw Ox=!1,n=mT,mT=null,n;return Dx&1&&n.tag!==0&&_m(),s=n.pendingLanes,s&1?n===gT?M0++:(M0=0,gT=n):M0=0,Yd(),null}function _m(){if(Td!==null){var n=gU(Dx),e=al.transition,r=Fi;try{if(al.transition=null,Fi=16>n?16:n,Td===null)var i=!1;else{if(n=Td,Td=null,Dx=0,Ri&6)throw Error(Un(331));var o=Ri;for(Ri|=4,Cr=n.current;Cr!==null;){var s=Cr,l=s.child;if(Cr.flags&16){var u=s.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(Cr=d;Cr!==null;){var h=Cr;switch(h.tag){case 0:case 11:case 15:S0(8,h,s)}var p=h.child;if(p!==null)p.return=h,Cr=p;else for(;Cr!==null;){h=Cr;var m=h.sibling,v=h.return;if(T7(h),h===d){Cr=null;break}if(m!==null){m.return=v,Cr=m;break}Cr=v}}}var y=s.alternate;if(y!==null){var A=y.child;if(A!==null){y.child=null;do{var b=A.sibling;A.sibling=null,A=b}while(A!==null)}}Cr=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,Cr=l;else e:for(;Cr!==null;){if(s=Cr,s.flags&2048)switch(s.tag){case 0:case 11:case 15:S0(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Cr=g;break e}Cr=s.return}}var w=n.current;for(Cr=w;Cr!==null;){l=Cr;var E=l.child;if(l.subtreeFlags&2064&&E!==null)E.return=l,Cr=E;else e:for(l=w;Cr!==null;){if(u=Cr,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:zE(9,u)}}catch(_){xo(u,u.return,_)}if(u===l){Cr=null;break e}var C=u.sibling;if(C!==null){C.return=u.return,Cr=C;break e}Cr=u.return}}if(Ri=o,Yd(),gc&&typeof gc.onPostCommitFiberRoot=="function")try{gc.onPostCommitFiberRoot(PE,n)}catch{}i=!0}return i}finally{Fi=r,al.transition=e}}return!1}function r4(n,e,r){e=jm(r,e),e=v7(n,e,1),n=kd(n,e,1),e=Wa(),n!==null&&(OA(n,1,e),cs(n,e))}function xo(n,e,r){if(n.tag===3)r4(n,n,r);else for(;e!==null;){if(e.tag===3){r4(e,n,r);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Fd===null||!Fd.has(i))){n=jm(r,n),n=A7(e,n,1),e=kd(e,n,1),n=Wa(),e!==null&&(OA(e,1,n),cs(e,n));break}}e=e.return}}function kee(n,e,r){var i=n.pingCache;i!==null&&i.delete(e),e=Wa(),n.pingedLanes|=n.suspendedLanes&r,aa===n&&(ga&r)===r&&(Vo===4||Vo===3&&(ga&130023424)===ga&&500>Io()-gI?rh(n,0):mI|=r),cs(n,e)}function F7(n,e){e===0&&(n.mode&1?(e=mb,mb<<=1,!(mb&130023424)&&(mb=4194304)):e=1);var r=Wa();n=_u(n,e),n!==null&&(OA(n,e,r),cs(n,r))}function Fee(n){var e=n.memoizedState,r=0;e!==null&&(r=e.retryLane),F7(n,r)}function Uee(n,e){var r=0;switch(n.tag){case 13:var i=n.stateNode,o=n.memoizedState;o!==null&&(r=o.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(Un(314))}i!==null&&i.delete(e),F7(n,r)}var U7;U7=function(n,e,r){if(n!==null)if(n.memoizedProps!==e.pendingProps||ss.current)os=!0;else{if(!(n.lanes&r)&&!(e.flags&128))return os=!1,_ee(n,e,r);os=!!(n.flags&131072)}else os=!1,so&&e.flags&1048576&&$U(e,_x,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;j1(n,e),n=e.pendingProps;var o=zm(e,Pa.current);Sm(e,r),o=cI(null,e,i,n,o,r);var s=uI();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ls(i)?(s=!0,wx(e)):s=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,iI(e),o.updater=FE,e.stateNode=o,o._reactInternals=e,iT(e,i,n,r),e=sT(null,e,i,!0,s,r)):(e.tag=0,so&&s&&YR(e),Ga(null,e,o,r),e=e.child),e;case 16:i=e.elementType;e:{switch(j1(n,e),n=e.pendingProps,o=i._init,i=o(i._payload),e.type=i,o=e.tag=Hee(i),n=Il(i,n),o){case 0:e=aT(null,e,i,n,r);break e;case 1:e=QD(null,e,i,n,r);break e;case 11:e=VD(null,e,i,n,r);break e;case 14:e=WD(null,e,i,Il(i.type,n),r);break e}throw Error(Un(306,i,""))}return e;case 0:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:Il(i,o),aT(n,e,i,o,r);case 1:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:Il(i,o),QD(n,e,i,o,r);case 3:e:{if(E7(e),n===null)throw Error(Un(387));i=e.pendingProps,s=e.memoizedState,o=s.element,WU(n,e),Rx(e,i,null,r);var l=e.memoizedState;if(i=l.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){o=jm(Error(Un(423)),e),e=KD(n,e,i,r,o);break e}else if(i!==o){o=jm(Error(Un(424)),e),e=KD(n,e,i,r,o);break e}else for(Ls=Nd(e.stateNode.containerInfo.firstChild),Os=e,so=!0,Nl=null,r=qU(e,null,i,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Hm(),i===o){e=Mu(n,e,r);break e}Ga(n,e,i,r)}e=e.child}return e;case 5:return YU(e),n===null&&tT(e),i=e.type,o=e.pendingProps,s=n!==null?n.memoizedProps:null,l=o.children,qM(i,o)?l=null:s!==null&&qM(i,s)&&(e.flags|=32),x7(n,e),Ga(n,e,l,r),e.child;case 6:return n===null&&tT(e),null;case 13:return C7(n,e,r);case 4:return oI(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=$m(e,null,i,r):Ga(n,e,i,r),e.child;case 11:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:Il(i,o),VD(n,e,i,o,r);case 7:return Ga(n,e,e.pendingProps,r),e.child;case 8:return Ga(n,e,e.pendingProps.children,r),e.child;case 12:return Ga(n,e,e.pendingProps.children,r),e.child;case 10:e:{if(i=e.type._context,o=e.pendingProps,s=e.memoizedProps,l=o.value,qi(Mx,i._currentValue),i._currentValue=l,s!==null)if(Wl(s.value,l)){if(s.children===o.children&&!ss.current){e=Mu(n,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){l=s.child;for(var c=u.firstContext;c!==null;){if(c.context===i){if(s.tag===1){c=yu(-1,r&-r),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),nT(s.return,r,e),u.lanes|=r;break}c=c.next}}else if(s.tag===10)l=s.type===e.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(Un(341));l.lanes|=r,u=l.alternate,u!==null&&(u.lanes|=r),nT(l,r,e),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===e){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}Ga(n,e,o.children,r),e=e.child}return e;case 9:return o=e.type,i=e.pendingProps.children,Sm(e,r),o=ll(o),i=i(o),e.flags|=1,Ga(n,e,i,r),e.child;case 14:return i=e.type,o=Il(i,e.pendingProps),o=Il(i.type,o),WD(n,e,i,o,r);case 15:return y7(n,e,e.type,e.pendingProps,r);case 17:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:Il(i,o),j1(n,e),e.tag=1,ls(i)?(n=!0,wx(e)):n=!1,Sm(e,r),KU(e,i,o),iT(e,i,o,r),sT(null,e,i,!0,n,r);case 19:return w7(n,e,r);case 22:return b7(n,e,r)}throw Error(Un(156,e.tag))};function z7(n,e){return fU(n,e)}function zee(n,e,r,i){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ol(n,e,r,i){return new zee(n,e,r,i)}function bI(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Hee(n){if(typeof n=="function")return bI(n)?1:0;if(n!=null){if(n=n.$$typeof,n===UR)return 11;if(n===zR)return 14}return 2}function zd(n,e){var r=n.alternate;return r===null?(r=ol(n.tag,e,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=e,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&14680064,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,e=n.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r}function Q1(n,e,r,i,o,s){var l=2;if(i=n,typeof n=="function")bI(n)&&(l=1);else if(typeof n=="string")l=5;else e:switch(n){case em:return ih(r.children,o,s,e);case FR:l=8,o|=8;break;case TM:return n=ol(12,r,e,o|2),n.elementType=TM,n.lanes=s,n;case RM:return n=ol(13,r,e,o),n.elementType=RM,n.lanes=s,n;case IM:return n=ol(19,r,e,o),n.elementType=IM,n.lanes=s,n;case X6:return $E(r,o,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Q6:l=10;break e;case K6:l=9;break e;case UR:l=11;break e;case zR:l=14;break e;case bd:l=16,i=null;break e}throw Error(Un(130,n==null?n:typeof n,""))}return e=ol(l,r,e,o),e.elementType=n,e.type=i,e.lanes=s,e}function ih(n,e,r,i){return n=ol(7,n,i,e),n.lanes=r,n}function $E(n,e,r,i){return n=ol(22,n,i,e),n.elementType=X6,n.lanes=r,n.stateNode={isHidden:!1},n}function m2(n,e,r){return n=ol(6,n,null,e),n.lanes=r,n}function g2(n,e,r){return e=ol(4,n.children!==null?n.children:[],n.key,e),e.lanes=r,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function $ee(n,e,r,i,o){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qS(0),this.expirationTimes=qS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qS(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function xI(n,e,r,i,o,s,l,u,c){return n=new $ee(n,e,r,u,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ol(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},iI(s),n}function Gee(n,e,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zp,key:i==null?null:""+i,children:n,containerInfo:e,implementation:r}}function H7(n){if(!n)return jd;n=n._reactInternals;e:{if(_h(n)!==n||n.tag!==1)throw Error(Un(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ls(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Un(171))}if(n.tag===1){var r=n.type;if(ls(r))return zU(n,r,e)}return e}function $7(n,e,r,i,o,s,l,u,c){return n=xI(r,i,!0,n,o,s,l,u,c),n.context=H7(null),r=n.current,i=Wa(),o=Ud(r),s=yu(i,o),s.callback=e??null,kd(r,s,o),n.current.lanes=o,OA(n,o,i),cs(n,i),n}function GE(n,e,r,i){var o=e.current,s=Wa(),l=Ud(o);return r=H7(r),e.context===null?e.context=r:e.pendingContext=r,e=yu(s,l),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=kd(o,e,l),n!==null&&(jl(n,o,l,s),H1(n,o,l)),l}function kx(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function i4(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<e?r:e}}function EI(n,e){i4(n,e),(n=n.alternate)&&i4(n,e)}function jee(){return null}var G7=typeof reportError=="function"?reportError:function(n){console.error(n)};function CI(n){this._internalRoot=n}jE.prototype.render=CI.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Un(409));GE(n,e,null,null)};jE.prototype.unmount=CI.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Ah(function(){GE(null,n,null,null)}),e[Su]=null}};function jE(n){this._internalRoot=n}jE.prototype.unstable_scheduleHydration=function(n){if(n){var e=yU();n={blockedOn:null,target:n,priority:e};for(var r=0;r<Sd.length&&e!==0&&e<Sd[r].priority;r++);Sd.splice(r,0,n),r===0&&xU(n)}};function wI(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function VE(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function o4(){}function Vee(n,e,r,i,o){if(o){if(typeof i=="function"){var s=i;i=function(){var d=kx(l);s.call(d)}}var l=$7(e,i,n,0,null,!1,!1,"",o4);return n._reactRootContainer=l,n[Su]=l.current,tA(n.nodeType===8?n.parentNode:n),Ah(),l}for(;o=n.lastChild;)n.removeChild(o);if(typeof i=="function"){var u=i;i=function(){var d=kx(c);u.call(d)}}var c=xI(n,0,!1,null,null,!1,!1,"",o4);return n._reactRootContainer=c,n[Su]=c.current,tA(n.nodeType===8?n.parentNode:n),Ah(function(){GE(e,c,r,i)}),c}function WE(n,e,r,i,o){var s=r._reactRootContainer;if(s){var l=s;if(typeof o=="function"){var u=o;o=function(){var c=kx(l);u.call(c)}}GE(e,l,n,o)}else l=Vee(r,e,n,o,i);return kx(l)}vU=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var r=s0(e.pendingLanes);r!==0&&(GR(e,r|1),cs(e,Io()),!(Ri&6)&&(Vm=Io()+500,Yd()))}break;case 13:Ah(function(){var i=_u(n,1);if(i!==null){var o=Wa();jl(i,n,1,o)}}),EI(n,1)}};jR=function(n){if(n.tag===13){var e=_u(n,134217728);if(e!==null){var r=Wa();jl(e,n,134217728,r)}EI(n,134217728)}};AU=function(n){if(n.tag===13){var e=Ud(n),r=_u(n,e);if(r!==null){var i=Wa();jl(r,n,e,i)}EI(n,e)}};yU=function(){return Fi};bU=function(n,e){var r=Fi;try{return Fi=n,e()}finally{Fi=r}};zM=function(n,e,r){switch(e){case"input":if(BM(n,r),e=r.name,r.type==="radio"&&e!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var i=r[e];if(i!==n&&i.form===n.form){var o=NE(i);if(!o)throw Error(Un(90));Y6(i),BM(i,o)}}}break;case"textarea":Z6(n,r);break;case"select":e=r.value,e!=null&&xm(n,!!r.multiple,e,!1)}};aU=vI;sU=Ah;var Wee={usingClientEntryPoint:!1,Events:[NA,im,NE,iU,oU,vI]},Sv={findFiberByHostInstance:Wf,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Qee={bundleType:Sv.bundleType,version:Sv.version,rendererPackageName:Sv.rendererPackageName,rendererConfig:Sv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ku.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=uU(n),n===null?null:n.stateNode},findFiberByHostInstance:Sv.findFiberByHostInstance||jee,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_b.isDisabled&&_b.supportsFiber)try{PE=_b.inject(Qee),gc=_b}catch{}}Fs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wee;Fs.createPortal=function(n,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wI(e))throw Error(Un(200));return Gee(n,e,null,r)};Fs.createRoot=function(n,e){if(!wI(n))throw Error(Un(299));var r=!1,i="",o=G7;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=xI(n,1,!1,null,null,r,!1,i,o),n[Su]=e.current,tA(n.nodeType===8?n.parentNode:n),new CI(e)};Fs.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Un(188)):(n=Object.keys(n).join(","),Error(Un(268,n)));return n=uU(e),n=n===null?null:n.stateNode,n};Fs.flushSync=function(n){return Ah(n)};Fs.hydrate=function(n,e,r){if(!VE(e))throw Error(Un(200));return WE(null,n,e,!0,r)};Fs.hydrateRoot=function(n,e,r){if(!wI(n))throw Error(Un(405));var i=r!=null&&r.hydratedSources||null,o=!1,s="",l=G7;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),e=$7(e,null,n,1,r??null,o,!1,s,l),n[Su]=e.current,tA(n),i)for(n=0;n<i.length;n++)r=i[n],o=r._getVersion,o=o(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,o]:e.mutableSourceEagerHydrationData.push(r,o);return new jE(e)};Fs.render=function(n,e,r){if(!VE(e))throw Error(Un(200));return WE(null,n,e,!1,r)};Fs.unmountComponentAtNode=function(n){if(!VE(n))throw Error(Un(40));return n._reactRootContainer?(Ah(function(){WE(null,null,n,!1,function(){n._reactRootContainer=null,n[Su]=null})}),!0):!1};Fs.unstable_batchedUpdates=vI;Fs.unstable_renderSubtreeIntoContainer=function(n,e,r,i){if(!VE(r))throw Error(Un(200));if(n==null||n._reactInternals===void 0)throw Error(Un(38));return WE(n,e,r,!1,i)};Fs.version="18.2.0-next-9e3b772b8-20220608";function j7(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(j7)}catch(n){console.error(n)}}j7(),$6.exports=Fs;var Ns=$6.exports;const Fx=Nu(Ns),Kee=L6({__proto__:null,default:Fx},[Ns]);var a4=Ns;_M.createRoot=a4.createRoot,_M.hydrateRoot=a4.hydrateRoot;var Xee=M.createContext({});const SI=Xee;function on(){return on=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},on.apply(this,arguments)}function V7(n){if(Array.isArray(n))return n}function qee(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,s,l,u=[],c=!0,d=!1;try{if(s=(r=r.call(n)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(i=s.call(r)).done)&&(u.push(i.value),u.length!==e);c=!0);}catch(h){d=!0,o=h}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw o}}return u}}function yT(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function _I(n,e){if(n){if(typeof n=="string")return yT(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yT(n,e)}}function W7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nt(n,e){return V7(n)||qee(n,e)||_I(n,e)||W7()}function Ir(n){"@babel/helpers - typeof";return Ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ir(n)}function Yee(n,e){if(Ir(n)!=="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(Ir(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Q7(n){var e=Yee(n,"string");return Ir(e)==="symbol"?e:String(e)}function ct(n,e,r){return e=Q7(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function Jee(n,e){if(n==null)return{};var r={},i=Object.keys(n),o,s;for(s=0;s<i.length;s++)o=i[s],!(e.indexOf(o)>=0)&&(r[o]=n[o]);return r}function Pr(n,e){if(n==null)return{};var r=Jee(n,e),i,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(o=0;o<s.length;o++)i=s[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(r[i]=n[i])}return r}var K7={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function r(){for(var i=[],o=0;o<arguments.length;o++){var s=arguments[o];if(s){var l=typeof s;if(l==="string"||l==="number")i.push(s);else if(Array.isArray(s)){if(s.length){var u=r.apply(null,s);u&&i.push(u)}}else if(l==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){i.push(s.toString());continue}for(var c in s)e.call(s,c)&&s[c]&&i.push(c)}}}return i.join(" ")}n.exports?(r.default=r,n.exports=r):window.classNames=r})()})(K7);var Zee=K7.exports;const Et=Nu(Zee);function va(n,e){ete(n)&&(n="100%");var r=tte(n);return n=e===360?n:Math.min(e,Math.max(0,parseFloat(n))),r&&(n=parseInt(String(n*e),10)/100),Math.abs(n-e)<1e-6?1:(e===360?n=(n<0?n%e+e:n%e)/parseFloat(String(e)):n=n%e/parseFloat(String(e)),n)}function Mb(n){return Math.min(1,Math.max(0,n))}function ete(n){return typeof n=="string"&&n.indexOf(".")!==-1&&parseFloat(n)===1}function tte(n){return typeof n=="string"&&n.indexOf("%")!==-1}function X7(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function Tb(n){return n<=1?"".concat(Number(n)*100,"%"):n}function Xf(n){return n.length===1?"0"+n:String(n)}function nte(n,e,r){return{r:va(n,255)*255,g:va(e,255)*255,b:va(r,255)*255}}function s4(n,e,r){n=va(n,255),e=va(e,255),r=va(r,255);var i=Math.max(n,e,r),o=Math.min(n,e,r),s=0,l=0,u=(i+o)/2;if(i===o)l=0,s=0;else{var c=i-o;switch(l=u>.5?c/(2-i-o):c/(i+o),i){case n:s=(e-r)/c+(e<r?6:0);break;case e:s=(r-n)/c+2;break;case r:s=(n-e)/c+4;break}s/=6}return{h:s,s:l,l:u}}function v2(n,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?n+(e-n)*(6*r):r<1/2?e:r<2/3?n+(e-n)*(2/3-r)*6:n}function rte(n,e,r){var i,o,s;if(n=va(n,360),e=va(e,100),r=va(r,100),e===0)o=r,s=r,i=r;else{var l=r<.5?r*(1+e):r+e-r*e,u=2*r-l;i=v2(u,l,n+1/3),o=v2(u,l,n),s=v2(u,l,n-1/3)}return{r:i*255,g:o*255,b:s*255}}function bT(n,e,r){n=va(n,255),e=va(e,255),r=va(r,255);var i=Math.max(n,e,r),o=Math.min(n,e,r),s=0,l=i,u=i-o,c=i===0?0:u/i;if(i===o)s=0;else{switch(i){case n:s=(e-r)/u+(e<r?6:0);break;case e:s=(r-n)/u+2;break;case r:s=(n-e)/u+4;break}s/=6}return{h:s,s:c,v:l}}function ite(n,e,r){n=va(n,360)*6,e=va(e,100),r=va(r,100);var i=Math.floor(n),o=n-i,s=r*(1-e),l=r*(1-o*e),u=r*(1-(1-o)*e),c=i%6,d=[r,l,s,s,u,r][c],h=[u,r,r,l,s,s][c],p=[s,s,u,r,r,l][c];return{r:d*255,g:h*255,b:p*255}}function xT(n,e,r,i){var o=[Xf(Math.round(n).toString(16)),Xf(Math.round(e).toString(16)),Xf(Math.round(r).toString(16))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function ote(n,e,r,i,o){var s=[Xf(Math.round(n).toString(16)),Xf(Math.round(e).toString(16)),Xf(Math.round(r).toString(16)),Xf(ate(i))];return o&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function ate(n){return Math.round(parseFloat(n)*255).toString(16)}function l4(n){return _s(n)/255}function _s(n){return parseInt(n,16)}function ste(n){return{r:n>>16,g:(n&65280)>>8,b:n&255}}var ET={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Jp(n){var e={r:0,g:0,b:0},r=1,i=null,o=null,s=null,l=!1,u=!1;return typeof n=="string"&&(n=ute(n)),typeof n=="object"&&(Vc(n.r)&&Vc(n.g)&&Vc(n.b)?(e=nte(n.r,n.g,n.b),l=!0,u=String(n.r).substr(-1)==="%"?"prgb":"rgb"):Vc(n.h)&&Vc(n.s)&&Vc(n.v)?(i=Tb(n.s),o=Tb(n.v),e=ite(n.h,i,o),l=!0,u="hsv"):Vc(n.h)&&Vc(n.s)&&Vc(n.l)&&(i=Tb(n.s),s=Tb(n.l),e=rte(n.h,i,s),l=!0,u="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(r=n.a)),r=X7(r),{ok:l,format:n.format||u,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}var lte="[-\\+]?\\d+%?",cte="[-\\+]?\\d*\\.\\d+%?",Rd="(?:".concat(cte,")|(?:").concat(lte,")"),A2="[\\s|\\(]+(".concat(Rd,")[,|\\s]+(").concat(Rd,")[,|\\s]+(").concat(Rd,")\\s*\\)?"),y2="[\\s|\\(]+(".concat(Rd,")[,|\\s]+(").concat(Rd,")[,|\\s]+(").concat(Rd,")[,|\\s]+(").concat(Rd,")\\s*\\)?"),Ml={CSS_UNIT:new RegExp(Rd),rgb:new RegExp("rgb"+A2),rgba:new RegExp("rgba"+y2),hsl:new RegExp("hsl"+A2),hsla:new RegExp("hsla"+y2),hsv:new RegExp("hsv"+A2),hsva:new RegExp("hsva"+y2),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function ute(n){if(n=n.trim().toLowerCase(),n.length===0)return!1;var e=!1;if(ET[n])n=ET[n],e=!0;else if(n==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r=Ml.rgb.exec(n);return r?{r:r[1],g:r[2],b:r[3]}:(r=Ml.rgba.exec(n),r?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Ml.hsl.exec(n),r?{h:r[1],s:r[2],l:r[3]}:(r=Ml.hsla.exec(n),r?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Ml.hsv.exec(n),r?{h:r[1],s:r[2],v:r[3]}:(r=Ml.hsva.exec(n),r?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Ml.hex8.exec(n),r?{r:_s(r[1]),g:_s(r[2]),b:_s(r[3]),a:l4(r[4]),format:e?"name":"hex8"}:(r=Ml.hex6.exec(n),r?{r:_s(r[1]),g:_s(r[2]),b:_s(r[3]),format:e?"name":"hex"}:(r=Ml.hex4.exec(n),r?{r:_s(r[1]+r[1]),g:_s(r[2]+r[2]),b:_s(r[3]+r[3]),a:l4(r[4]+r[4]),format:e?"name":"hex8"}:(r=Ml.hex3.exec(n),r?{r:_s(r[1]+r[1]),g:_s(r[2]+r[2]),b:_s(r[3]+r[3]),format:e?"name":"hex"}:!1)))))))))}function Vc(n){return!!Ml.CSS_UNIT.exec(String(n))}var Ki=function(){function n(e,r){e===void 0&&(e=""),r===void 0&&(r={});var i;if(e instanceof n)return e;typeof e=="number"&&(e=ste(e)),this.originalInput=e;var o=Jp(e);this.originalInput=e,this.r=o.r,this.g=o.g,this.b=o.b,this.a=o.a,this.roundA=Math.round(100*this.a)/100,this.format=(i=r.format)!==null&&i!==void 0?i:o.format,this.gradientType=r.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=o.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},n.prototype.getLuminance=function(){var e=this.toRgb(),r,i,o,s=e.r/255,l=e.g/255,u=e.b/255;return s<=.03928?r=s/12.92:r=Math.pow((s+.055)/1.055,2.4),l<=.03928?i=l/12.92:i=Math.pow((l+.055)/1.055,2.4),u<=.03928?o=u/12.92:o=Math.pow((u+.055)/1.055,2.4),.2126*r+.7152*i+.0722*o},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(e){return this.a=X7(e),this.roundA=Math.round(100*this.a)/100,this},n.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},n.prototype.toHsv=function(){var e=bT(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},n.prototype.toHsvString=function(){var e=bT(this.r,this.g,this.b),r=Math.round(e.h*360),i=Math.round(e.s*100),o=Math.round(e.v*100);return this.a===1?"hsv(".concat(r,", ").concat(i,"%, ").concat(o,"%)"):"hsva(".concat(r,", ").concat(i,"%, ").concat(o,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var e=s4(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},n.prototype.toHslString=function(){var e=s4(this.r,this.g,this.b),r=Math.round(e.h*360),i=Math.round(e.s*100),o=Math.round(e.l*100);return this.a===1?"hsl(".concat(r,", ").concat(i,"%, ").concat(o,"%)"):"hsla(".concat(r,", ").concat(i,"%, ").concat(o,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(e){return e===void 0&&(e=!1),xT(this.r,this.g,this.b,e)},n.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},n.prototype.toHex8=function(e){return e===void 0&&(e=!1),ote(this.r,this.g,this.b,this.a,e)},n.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},n.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var e=Math.round(this.r),r=Math.round(this.g),i=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(r,", ").concat(i,")"):"rgba(".concat(e,", ").concat(r,", ").concat(i,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var e=function(r){return"".concat(Math.round(va(r,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var e=function(r){return Math.round(va(r,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+xT(this.r,this.g,this.b,!1),r=0,i=Object.entries(ET);r<i.length;r++){var o=i[r],s=o[0],l=o[1];if(e===l)return s}return!1},n.prototype.toString=function(e){var r=!!e;e=e??this.format;var i=!1,o=this.a<1&&this.a>=0,s=!r&&o&&(e.startsWith("hex")||e==="name");return s?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.l+=e/100,r.l=Mb(r.l),new n(r)},n.prototype.brighten=function(e){e===void 0&&(e=10);var r=this.toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),new n(r)},n.prototype.darken=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.l-=e/100,r.l=Mb(r.l),new n(r)},n.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},n.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},n.prototype.desaturate=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.s-=e/100,r.s=Mb(r.s),new n(r)},n.prototype.saturate=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.s+=e/100,r.s=Mb(r.s),new n(r)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(e){var r=this.toHsl(),i=(r.h+e)%360;return r.h=i<0?360+i:i,new n(r)},n.prototype.mix=function(e,r){r===void 0&&(r=50);var i=this.toRgb(),o=new n(e).toRgb(),s=r/100,l={r:(o.r-i.r)*s+i.r,g:(o.g-i.g)*s+i.g,b:(o.b-i.b)*s+i.b,a:(o.a-i.a)*s+i.a};return new n(l)},n.prototype.analogous=function(e,r){e===void 0&&(e=6),r===void 0&&(r=30);var i=this.toHsl(),o=360/r,s=[this];for(i.h=(i.h-(o*e>>1)+720)%360;--e;)i.h=(i.h+o)%360,s.push(new n(i));return s},n.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new n(e)},n.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var r=this.toHsv(),i=r.h,o=r.s,s=r.v,l=[],u=1/e;e--;)l.push(new n({h:i,s:o,v:s})),s=(s+u)%1;return l},n.prototype.splitcomplement=function(){var e=this.toHsl(),r=e.h;return[this,new n({h:(r+72)%360,s:e.s,l:e.l}),new n({h:(r+216)%360,s:e.s,l:e.l})]},n.prototype.onBackground=function(e){var r=this.toRgb(),i=new n(e).toRgb(),o=r.a+i.a*(1-r.a);return new n({r:(r.r*r.a+i.r*i.a*(1-r.a))/o,g:(r.g*r.a+i.g*i.a*(1-r.a))/o,b:(r.b*r.a+i.b*i.a*(1-r.a))/o,a:o})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(e){for(var r=this.toHsl(),i=r.h,o=[this],s=360/e,l=1;l<e;l++)o.push(new n({h:(i+l*s)%360,s:r.s,l:r.l}));return o},n.prototype.equals=function(e){return this.toRgbString()===new n(e).toRgbString()},n}(),Rb=2,c4=.16,dte=.05,fte=.05,hte=.15,q7=5,Y7=4,pte=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function u4(n){var e=n.r,r=n.g,i=n.b,o=bT(e,r,i);return{h:o.h*360,s:o.s,v:o.v}}function Ib(n){var e=n.r,r=n.g,i=n.b;return"#".concat(xT(e,r,i,!1))}function mte(n,e,r){var i=r/100,o={r:(e.r-n.r)*i+n.r,g:(e.g-n.g)*i+n.g,b:(e.b-n.b)*i+n.b};return o}function d4(n,e,r){var i;return Math.round(n.h)>=60&&Math.round(n.h)<=240?i=r?Math.round(n.h)-Rb*e:Math.round(n.h)+Rb*e:i=r?Math.round(n.h)+Rb*e:Math.round(n.h)-Rb*e,i<0?i+=360:i>=360&&(i-=360),i}function f4(n,e,r){if(n.h===0&&n.s===0)return n.s;var i;return r?i=n.s-c4*e:e===Y7?i=n.s+c4:i=n.s+dte*e,i>1&&(i=1),r&&e===q7&&i>.1&&(i=.1),i<.06&&(i=.06),Number(i.toFixed(2))}function h4(n,e,r){var i;return r?i=n.v+fte*e:i=n.v-hte*e,i>1&&(i=1),Number(i.toFixed(2))}function Tu(n){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=[],i=Jp(n),o=q7;o>0;o-=1){var s=u4(i),l=Ib(Jp({h:d4(s,o,!0),s:f4(s,o,!0),v:h4(s,o,!0)}));r.push(l)}r.push(Ib(i));for(var u=1;u<=Y7;u+=1){var c=u4(i),d=Ib(Jp({h:d4(c,u),s:f4(c,u),v:h4(c,u)}));r.push(d)}return e.theme==="dark"?pte.map(function(h){var p=h.index,m=h.opacity,v=Ib(mte(Jp(e.backgroundColor||"#141414"),Jp(r[p]),m*100));return v}):r}var Mm={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},T0={},b2={};Object.keys(Mm).forEach(function(n){T0[n]=Tu(Mm[n]),T0[n].primary=T0[n][5],b2[n]=Tu(Mm[n],{theme:"dark",backgroundColor:"#141414"}),b2[n].primary=b2[n][5]});var gte=T0.gold,CT=T0.blue;function p4(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function mt(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p4(Object(r),!0).forEach(function(i){ct(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):p4(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function la(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function vte(n,e){if(!n)return!1;if(n.contains)return n.contains(e);for(var r=e;r;){if(r===n)return!0;r=r.parentNode}return!1}var m4="data-rc-order",g4="data-rc-priority",Ate="rc-util-key",wT=new Map;function J7(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.mark;return e?e.startsWith("data-")?e:"data-".concat(e):Ate}function QE(n){if(n.attachTo)return n.attachTo;var e=document.querySelector("head");return e||document.body}function yte(n){return n==="queue"?"prependQueue":n?"prepend":"append"}function Z7(n){return Array.from((wT.get(n)||n).children).filter(function(e){return e.tagName==="STYLE"})}function ez(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!la())return null;var r=e.csp,i=e.prepend,o=e.priority,s=o===void 0?0:o,l=yte(i),u=l==="prependQueue",c=document.createElement("style");c.setAttribute(m4,l),u&&s&&c.setAttribute(g4,"".concat(s)),r!=null&&r.nonce&&(c.nonce=r==null?void 0:r.nonce),c.innerHTML=n;var d=QE(e),h=d.firstChild;if(i){if(u){var p=Z7(d).filter(function(m){if(!["prepend","prependQueue"].includes(m.getAttribute(m4)))return!1;var v=Number(m.getAttribute(g4)||0);return s>=v});if(p.length)return d.insertBefore(c,p[p.length-1].nextSibling),c}d.insertBefore(c,h)}else d.appendChild(c);return c}function tz(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=QE(e);return Z7(r).find(function(i){return i.getAttribute(J7(e))===n})}function Ux(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=tz(n,e);if(r){var i=QE(e);i.removeChild(r)}}function bte(n,e){var r=wT.get(n);if(!r||!vte(document,r)){var i=ez("",e),o=i.parentNode;wT.set(n,o),n.removeChild(i)}}function Wm(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=QE(r);bte(i,r);var o=tz(e,r);if(o){var s,l;if((s=r.csp)!==null&&s!==void 0&&s.nonce&&o.nonce!==((l=r.csp)===null||l===void 0?void 0:l.nonce)){var u;o.nonce=(u=r.csp)===null||u===void 0?void 0:u.nonce}return o.innerHTML!==n&&(o.innerHTML=n),o}var c=ez(n,r);return c.setAttribute(J7(r),e),c}function nz(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}function xte(n){return nz(n)instanceof ShadowRoot}function zx(n){return xte(n)?nz(n):null}var ST={},Ete=function(e){};function Cte(n,e){}function wte(n,e){}function Ste(){ST={}}function rz(n,e,r){!e&&!ST[r]&&(n(!1,r),ST[r]=!0)}function no(n,e){rz(Cte,n,e)}function _te(n,e){rz(wte,n,e)}no.preMessage=Ete;no.resetWarned=Ste;no.noteOnce=_te;function Mte(n){return n.replace(/-(.)/g,function(e,r){return r.toUpperCase()})}function Tte(n,e){no(n,"[@ant-design/icons] ".concat(e))}function v4(n){return Ir(n)==="object"&&typeof n.name=="string"&&typeof n.theme=="string"&&(Ir(n.icon)==="object"||typeof n.icon=="function")}function A4(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(n).reduce(function(e,r){var i=n[r];switch(r){case"class":e.className=i,delete e.class;break;default:delete e[r],e[Mte(r)]=i}return e},{})}function _T(n,e,r){return r?nn.createElement(n.tag,mt(mt({key:e},A4(n.attrs)),r),(n.children||[]).map(function(i,o){return _T(i,"".concat(e,"-").concat(n.tag,"-").concat(o))})):nn.createElement(n.tag,mt({key:e},A4(n.attrs)),(n.children||[]).map(function(i,o){return _T(i,"".concat(e,"-").concat(n.tag,"-").concat(o))}))}function iz(n){return Tu(n)[0]}function oz(n){return n?Array.isArray(n)?n:[n]:[]}var Rte=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,Ite=function(e){var r=M.useContext(SI),i=r.csp,o=r.prefixCls,s=Rte;o&&(s=s.replace(/anticon/g,o)),M.useEffect(function(){var l=e.current,u=zx(l);Wm(s,"@ant-design-icons",{prepend:!0,csp:i,attachTo:u})},[])},Lte=["icon","className","onClick","style","primaryColor","secondaryColor"],R0={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function Pte(n){var e=n.primaryColor,r=n.secondaryColor;R0.primaryColor=e,R0.secondaryColor=r||iz(e),R0.calculated=!!r}function Bte(){return mt({},R0)}var KE=function(e){var r=e.icon,i=e.className,o=e.onClick,s=e.style,l=e.primaryColor,u=e.secondaryColor,c=Pr(e,Lte),d=M.useRef(),h=R0;if(l&&(h={primaryColor:l,secondaryColor:u||iz(l)}),Ite(d),Tte(v4(r),"icon should be icon definiton, but got ".concat(r)),!v4(r))return null;var p=r;return p&&typeof p.icon=="function"&&(p=mt(mt({},p),{},{icon:p.icon(h.primaryColor,h.secondaryColor)})),_T(p.icon,"svg-".concat(p.name),mt(mt({className:i,onClick:o,style:s,"data-icon":p.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},c),{},{ref:d}))};KE.displayName="IconReact";KE.getTwoToneColors=Bte;KE.setTwoToneColors=Pte;const MI=KE;function az(n){var e=oz(n),r=Nt(e,2),i=r[0],o=r[1];return MI.setTwoToneColors({primaryColor:i,secondaryColor:o})}function Ote(){var n=MI.getTwoToneColors();return n.calculated?[n.primaryColor,n.secondaryColor]:n.primaryColor}var Dte=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];az(CT.primary);var XE=M.forwardRef(function(n,e){var r,i=n.className,o=n.icon,s=n.spin,l=n.rotate,u=n.tabIndex,c=n.onClick,d=n.twoToneColor,h=Pr(n,Dte),p=M.useContext(SI),m=p.prefixCls,v=m===void 0?"anticon":m,y=p.rootClassName,A=Et(y,v,(r={},ct(r,"".concat(v,"-").concat(o.name),!!o.name),ct(r,"".concat(v,"-spin"),!!s||o.name==="loading"),r),i),b=u;b===void 0&&c&&(b=-1);var g=l?{msTransform:"rotate(".concat(l,"deg)"),transform:"rotate(".concat(l,"deg)")}:void 0,w=oz(d),E=Nt(w,2),C=E[0],_=E[1];return M.createElement("span",on({role:"img","aria-label":o.name},h,{ref:e,tabIndex:b,onClick:c,className:A}),M.createElement(MI,{icon:o,primaryColor:C,secondaryColor:_,style:g}))});XE.displayName="AntdIcon";XE.getTwoToneColor=Ote;XE.setTwoToneColor=az;const ri=XE;var Nte={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"};const kte=Nte;var Fte=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:kte}))};const Ute=M.forwardRef(Fte);var zte={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};const Hte=zte;var $te=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:Hte}))};const Gte=M.forwardRef($te);var jte={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"};const Vte=jte;var Wte=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:Vte}))};const Qte=M.forwardRef(Wte);var Kte={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"};const Xte=Kte;var qte=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:Xte}))};const Yte=M.forwardRef(qte);var Jte={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};const Zte=Jte;var ene=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:Zte}))};const sz=M.forwardRef(ene);var tne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};const nne=tne;var rne=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:nne}))};const TI=M.forwardRef(rne);var ine={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};const one=ine;var ane=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:one}))};const FA=M.forwardRef(ane);var sne={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};const lne=sne;var cne=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:lne}))};const pg=M.forwardRef(cne);var une={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"};const dne=une;var fne=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:dne}))};const hne=M.forwardRef(fne);var pne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};const mne=pne;var gne=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:mne}))};const vne=M.forwardRef(gne);var Ane={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"};const yne=Ane;var bne=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:yne}))};const xne=M.forwardRef(bne);var Ene={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"};const Cne=Ene;var wne=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:Cne}))};const y4=M.forwardRef(wne);var Sne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"};const _ne=Sne;var Mne=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:_ne}))};const b4=M.forwardRef(Mne);var Tne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};const Rne=Tne;var Ine=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:Rne}))};const lz=M.forwardRef(Ine);var Lne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};const Pne=Lne;var Bne=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:Pne}))};const One=M.forwardRef(Bne);var Dne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};const Nne=Dne;var kne=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:Nne}))};const Fne=M.forwardRef(kne);var Une={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"};const zne=Une;var Hne=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:zne}))};const RI=M.forwardRef(Hne);var $ne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"};const Gne=$ne;var jne=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:Gne}))};const Vne=M.forwardRef(jne);var Wne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};const Qne=Wne;var Kne=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:Qne}))};const Xne=M.forwardRef(Kne);var qne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"};const Yne=qne;var Jne=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:Yne}))};const Zne=M.forwardRef(Jne);var ere={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};const tre=ere;var nre=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:tre}))};const cz=M.forwardRef(nre);var rre={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};const ire=rre;var ore=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:ire}))};const uz=M.forwardRef(ore);var are={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M296 256c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm192 200v-48c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8zm-48 396H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h272c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm104.1-115.6c1.8-34.5 16.2-66.8 40.8-91.4 26.2-26.2 62-41 99.1-41 37.4 0 72.6 14.6 99.1 41 3.2 3.2 6.3 6.6 9.2 10.1L769.2 673a8 8 0 003 14.1l93.3 22.5c5 1.2 9.8-2.6 9.9-7.7l.6-95.4a8 8 0 00-12.9-6.4l-20.3 15.8C805.4 569.6 748.1 540 684 540c-109.9 0-199.6 86.9-204 195.7-.2 4.5 3.5 8.3 8 8.3h48.1c4.3 0 7.8-3.3 8-7.6zM880 744h-48.1c-4.3 0-7.8 3.3-8 7.6-1.8 34.5-16.2 66.8-40.8 91.4-26.2 26.2-62 41-99.1 41-37.4 0-72.6-14.6-99.1-41-3.2-3.2-6.3-6.6-9.2-10.1l23.1-17.9a8 8 0 00-3-14.1l-93.3-22.5c-5-1.2-9.8 2.6-9.9 7.7l-.6 95.4a8 8 0 0012.9 6.4l20.3-15.8C562.6 918.4 619.9 948 684 948c109.9 0 199.6-86.9 204-195.7.2-4.5-3.5-8.3-8-8.3z"}}]},name:"file-sync",theme:"outlined"};const sre=are;var lre=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:sre}))};const cre=M.forwardRef(lre);var ure={icon:function(e,r){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:r}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:e}}]}},name:"file",theme:"twotone"};const dre=ure;var fre=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:dre}))};const hre=M.forwardRef(fre);var pre={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"};const mre=pre;var gre=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:mre}))};const vre=M.forwardRef(gre);var Are={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};const yre=Are;var bre=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:yre}))};const xre=M.forwardRef(bre);var Ere={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"};const Cre=Ere;var wre=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:Cre}))};const Sre=M.forwardRef(wre);var _re={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"};const Mre=_re;var Tre=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:Mre}))};const Rre=M.forwardRef(Tre);var Ire={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"};const Lre=Ire;var Pre=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:Lre}))};const Bre=M.forwardRef(Pre);var Ore={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};const Dre=Ore;var Nre=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:Dre}))};const kre=M.forwardRef(Nre);var Fre={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"};const Ure=Fre;var zre=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:Ure}))};const Hx=M.forwardRef(zre);var Hre={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};const $re=Hre;var Gre=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:$re}))};const Qm=M.forwardRef(Gre);var jre={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};const Vre=jre;var Wre=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:Vre}))};const Qre=M.forwardRef(Wre);var Kre={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"};const Xre=Kre;var qre=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:Xre}))};const Yre=M.forwardRef(qre);var Jre={icon:function(e,r){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:e}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:r}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:r}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:r}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:e}}]}},name:"picture",theme:"twotone"};const Zre=Jre;var eie=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:Zre}))};const tie=M.forwardRef(eie);var nie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};const rie=nie;var iie=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:rie}))};const oie=M.forwardRef(iie);var aie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};const sie=aie;var lie=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:sie}))};const cie=M.forwardRef(lie);var uie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};const die=uie;var fie=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:die}))};const uA=M.forwardRef(fie);var hie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};const pie=hie;var mie=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:pie}))};const II=M.forwardRef(mie);var gie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 000-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"}}]},name:"share-alt",theme:"outlined"};const vie=gie;var Aie=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:vie}))};const dz=M.forwardRef(Aie);var yie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M848 359.3H627.7L825.8 109c4.1-5.3.4-13-6.3-13H436c-2.8 0-5.5 1.5-6.9 4L170 547.5c-3.1 5.3.7 12 6.9 12h174.4l-89.4 357.6c-1.9 7.8 7.5 13.3 13.3 7.7L853.5 373c5.2-4.9 1.7-13.7-5.5-13.7zM378.2 732.5l60.3-241H281.1l189.6-327.4h224.6L487 427.4h211L378.2 732.5z"}}]},name:"thunderbolt",theme:"outlined"};const bie=yie;var xie=function(e,r){return M.createElement(ri,on({},e,{ref:r,icon:bie}))};const Eie=M.forwardRef(xie);var fz={exports:{}},Ui={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LI=Symbol.for("react.element"),PI=Symbol.for("react.portal"),qE=Symbol.for("react.fragment"),YE=Symbol.for("react.strict_mode"),JE=Symbol.for("react.profiler"),ZE=Symbol.for("react.provider"),eC=Symbol.for("react.context"),Cie=Symbol.for("react.server_context"),tC=Symbol.for("react.forward_ref"),nC=Symbol.for("react.suspense"),rC=Symbol.for("react.suspense_list"),iC=Symbol.for("react.memo"),oC=Symbol.for("react.lazy"),wie=Symbol.for("react.offscreen"),hz;hz=Symbol.for("react.module.reference");function dl(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case LI:switch(n=n.type,n){case qE:case JE:case YE:case nC:case rC:return n;default:switch(n=n&&n.$$typeof,n){case Cie:case eC:case tC:case oC:case iC:case ZE:return n;default:return e}}case PI:return e}}}Ui.ContextConsumer=eC;Ui.ContextProvider=ZE;Ui.Element=LI;Ui.ForwardRef=tC;Ui.Fragment=qE;Ui.Lazy=oC;Ui.Memo=iC;Ui.Portal=PI;Ui.Profiler=JE;Ui.StrictMode=YE;Ui.Suspense=nC;Ui.SuspenseList=rC;Ui.isAsyncMode=function(){return!1};Ui.isConcurrentMode=function(){return!1};Ui.isContextConsumer=function(n){return dl(n)===eC};Ui.isContextProvider=function(n){return dl(n)===ZE};Ui.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===LI};Ui.isForwardRef=function(n){return dl(n)===tC};Ui.isFragment=function(n){return dl(n)===qE};Ui.isLazy=function(n){return dl(n)===oC};Ui.isMemo=function(n){return dl(n)===iC};Ui.isPortal=function(n){return dl(n)===PI};Ui.isProfiler=function(n){return dl(n)===JE};Ui.isStrictMode=function(n){return dl(n)===YE};Ui.isSuspense=function(n){return dl(n)===nC};Ui.isSuspenseList=function(n){return dl(n)===rC};Ui.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===qE||n===JE||n===YE||n===nC||n===rC||n===wie||typeof n=="object"&&n!==null&&(n.$$typeof===oC||n.$$typeof===iC||n.$$typeof===ZE||n.$$typeof===eC||n.$$typeof===tC||n.$$typeof===hz||n.getModuleId!==void 0)};Ui.typeOf=dl;fz.exports=Ui;var BI=fz.exports;function Mh(n,e,r){var i=M.useRef({});return(!("value"in i.current)||r(i.current.condition,e))&&(i.current.value=n(),i.current.condition=e),i.current.value}function dA(n,e){typeof n=="function"?n(e):Ir(n)==="object"&&n&&"current"in n&&(n.current=e)}function zs(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];var i=e.filter(function(o){return o});return i.length<=1?i[0]:function(o){e.forEach(function(s){dA(s,o)})}}function Th(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return Mh(function(){return zs.apply(void 0,e)},e,function(i,o){return i.length!==o.length||i.every(function(s,l){return s!==o[l]})})}function bc(n){var e,r,i=BI.isMemo(n)?n.type.type:n.type;return!(typeof i=="function"&&!((e=i.prototype)!==null&&e!==void 0&&e.render)||typeof n=="function"&&!((r=n.prototype)!==null&&r!==void 0&&r.render))}function Sie(n){return!M.isValidElement(n)||BI.isFragment(n)?!1:bc(n)}function qa(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=[];return nn.Children.forEach(n,function(i){i==null&&!e.keepEmpty||(Array.isArray(i)?r=r.concat(qa(i)):BI.isFragment(i)&&i.props?r=r.concat(qa(i.props.children,e)):r.push(i))}),r}function $x(n){return n instanceof HTMLElement||n instanceof SVGElement}function I0(n){return $x(n)?n:n instanceof nn.Component?Fx.findDOMNode(n):null}var MT=M.createContext(null);function _ie(n){var e=n.children,r=n.onBatchResize,i=M.useRef(0),o=M.useRef([]),s=M.useContext(MT),l=M.useCallback(function(u,c,d){i.current+=1;var h=i.current;o.current.push({size:u,element:c,data:d}),Promise.resolve().then(function(){h===i.current&&(r==null||r(o.current),o.current=[])}),s==null||s(u,c,d)},[r,s]);return M.createElement(MT.Provider,{value:l},e)}var pz=function(){if(typeof Map<"u")return Map;function n(e,r){var i=-1;return e.some(function(o,s){return o[0]===r?(i=s,!0):!1}),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(r){var i=n(this.__entries__,r),o=this.__entries__[i];return o&&o[1]},e.prototype.set=function(r,i){var o=n(this.__entries__,r);~o?this.__entries__[o][1]=i:this.__entries__.push([r,i])},e.prototype.delete=function(r){var i=this.__entries__,o=n(i,r);~o&&i.splice(o,1)},e.prototype.has=function(r){return!!~n(this.__entries__,r)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(r,i){i===void 0&&(i=null);for(var o=0,s=this.__entries__;o<s.length;o++){var l=s[o];r.call(i,l[1],l[0])}},e}()}(),TT=typeof window<"u"&&typeof document<"u"&&window.document===document,Gx=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Mie=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Gx):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),Tie=2;function Rie(n,e){var r=!1,i=!1,o=0;function s(){r&&(r=!1,n()),i&&u()}function l(){Mie(s)}function u(){var c=Date.now();if(r){if(c-o<Tie)return;i=!0}else r=!0,i=!1,setTimeout(l,e);o=c}return u}var Iie=20,Lie=["top","right","bottom","left","width","height","size","weight"],Pie=typeof MutationObserver<"u",Bie=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Rie(this.refresh.bind(this),Iie)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var r=this.observers_,i=r.indexOf(e);~i&&r.splice(i,1),!r.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return e.forEach(function(r){return r.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!TT||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Pie?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!TT||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var r=e.propertyName,i=r===void 0?"":r,o=Lie.some(function(s){return!!~i.indexOf(s)});o&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),mz=function(n,e){for(var r=0,i=Object.keys(e);r<i.length;r++){var o=i[r];Object.defineProperty(n,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0})}return n},Km=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||Gx},gz=aC(0,0,0,0);function jx(n){return parseFloat(n)||0}function x4(n){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.reduce(function(i,o){var s=n["border-"+o+"-width"];return i+jx(s)},0)}function Oie(n){for(var e=["top","right","bottom","left"],r={},i=0,o=e;i<o.length;i++){var s=o[i],l=n["padding-"+s];r[s]=jx(l)}return r}function Die(n){var e=n.getBBox();return aC(0,0,e.width,e.height)}function Nie(n){var e=n.clientWidth,r=n.clientHeight;if(!e&&!r)return gz;var i=Km(n).getComputedStyle(n),o=Oie(i),s=o.left+o.right,l=o.top+o.bottom,u=jx(i.width),c=jx(i.height);if(i.boxSizing==="border-box"&&(Math.round(u+s)!==e&&(u-=x4(i,"left","right")+s),Math.round(c+l)!==r&&(c-=x4(i,"top","bottom")+l)),!Fie(n)){var d=Math.round(u+s)-e,h=Math.round(c+l)-r;Math.abs(d)!==1&&(u-=d),Math.abs(h)!==1&&(c-=h)}return aC(o.left,o.top,u,c)}var kie=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof Km(n).SVGGraphicsElement}:function(n){return n instanceof Km(n).SVGElement&&typeof n.getBBox=="function"}}();function Fie(n){return n===Km(n).document.documentElement}function Uie(n){return TT?kie(n)?Die(n):Nie(n):gz}function zie(n){var e=n.x,r=n.y,i=n.width,o=n.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,l=Object.create(s.prototype);return mz(l,{x:e,y:r,width:i,height:o,top:r,right:e+i,bottom:o+r,left:e}),l}function aC(n,e,r,i){return{x:n,y:e,width:r,height:i}}var Hie=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=aC(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=Uie(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),$ie=function(){function n(e,r){var i=zie(r);mz(this,{target:e,contentRect:i})}return n}(),Gie=function(){function n(e,r,i){if(this.activeObservations_=[],this.observations_=new pz,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=r,this.callbackCtx_=i}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Km(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)||(r.set(e,new Hie(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Km(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)&&(r.delete(e),r.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&e.activeObservations_.push(r)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,r=this.activeObservations_.map(function(i){return new $ie(i.target,i.broadcastRect())});this.callback_.call(e,r,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),vz=typeof WeakMap<"u"?new WeakMap:new pz,Az=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=Bie.getInstance(),i=new Gie(e,r,this);vz.set(this,i)}return n}();["observe","unobserve","disconnect"].forEach(function(n){Az.prototype[n]=function(){var e;return(e=vz.get(this))[n].apply(e,arguments)}});var jie=function(){return typeof Gx.ResizeObserver<"u"?Gx.ResizeObserver:Az}(),Id=new Map;function Vie(n){n.forEach(function(e){var r,i=e.target;(r=Id.get(i))===null||r===void 0||r.forEach(function(o){return o(i)})})}var yz=new jie(Vie);function Wie(n,e){Id.has(n)||(Id.set(n,new Set),yz.observe(n)),Id.get(n).add(e)}function Qie(n,e){Id.has(n)&&(Id.get(n).delete(e),Id.get(n).size||(yz.unobserve(n),Id.delete(n)))}function ca(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function E4(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,Q7(i.key),i)}}function ua(n,e,r){return e&&E4(n.prototype,e),r&&E4(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}function Xm(n,e){return Xm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},Xm(n,e)}function ql(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Xm(n,e)}function fA(n){return fA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fA(n)}function bz(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ei(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Kie(n,e){if(e&&(Ir(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ei(n)}function Yl(n){var e=bz();return function(){var i=fA(n),o;if(e){var s=fA(this).constructor;o=Reflect.construct(i,arguments,s)}else o=i.apply(this,arguments);return Kie(this,o)}}var Xie=function(n){ql(r,n);var e=Yl(r);function r(){return ca(this,r),e.apply(this,arguments)}return ua(r,[{key:"render",value:function(){return this.props.children}}]),r}(M.Component);function qie(n,e){var r=n.children,i=n.disabled,o=M.useRef(null),s=M.useRef(null),l=M.useContext(MT),u=typeof r=="function",c=u?r(o):r,d=M.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),h=!u&&M.isValidElement(c)&&bc(c),p=h?c.ref:null,m=Th(p,o),v=function(){var g;return I0(o.current)||(o.current&&Ir(o.current)==="object"?I0((g=o.current)===null||g===void 0?void 0:g.nativeElement):null)||I0(s.current)};M.useImperativeHandle(e,function(){return v()});var y=M.useRef(n);y.current=n;var A=M.useCallback(function(b){var g=y.current,w=g.onResize,E=g.data,C=b.getBoundingClientRect(),_=C.width,L=C.height,R=b.offsetWidth,P=b.offsetHeight,T=Math.floor(_),D=Math.floor(L);if(d.current.width!==T||d.current.height!==D||d.current.offsetWidth!==R||d.current.offsetHeight!==P){var $={width:T,height:D,offsetWidth:R,offsetHeight:P};d.current=$;var V=R===Math.round(_)?_:R,B=P===Math.round(L)?L:P,O=mt(mt({},$),{},{offsetWidth:V,offsetHeight:B});l==null||l(O,b,E),w&&Promise.resolve().then(function(){w(O,b)})}},[]);return M.useEffect(function(){var b=v();return b&&!i&&Wie(b,A),function(){return Qie(b,A)}},[o.current,i]),M.createElement(Xie,{ref:s},h?M.cloneElement(c,{ref:m}):c)}var Yie=M.forwardRef(qie),Jie="rc-observer-key";function Zie(n,e){var r=n.children,i=typeof r=="function"?[r]:qa(r);return i.map(function(o,s){var l=(o==null?void 0:o.key)||"".concat(Jie,"-").concat(s);return M.createElement(Yie,on({},n,{key:l,ref:s===0?e:void 0}),o)})}var Qa=M.forwardRef(Zie);Qa.Collection=_ie;function vo(n,e){var r=mt({},n);return Array.isArray(e)&&e.forEach(function(i){delete r[i]}),r}function eoe(n){if(Array.isArray(n))return yT(n)}function xz(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function toe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function An(n){return eoe(n)||xz(n)||_I(n)||toe()}var Ez=function(e){return+setTimeout(e,16)},Cz=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(Ez=function(e){return window.requestAnimationFrame(e)},Cz=function(e){return window.cancelAnimationFrame(e)});var C4=0,OI=new Map;function wz(n){OI.delete(n)}var Oi=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;C4+=1;var i=C4;function o(s){if(s===0)wz(i),e();else{var l=Ez(function(){o(s-1)});OI.set(i,l)}}return o(r),i};Oi.cancel=function(n){var e=OI.get(n);return wz(e),Cz(e)};function DI(n){for(var e=0,r,i=0,o=n.length;o>=4;++i,o-=4)r=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(o){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function Ru(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=new Set;function o(s,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,c=i.has(s);if(no(!c,"Warning: There may be circular references"),c)return!1;if(s===l)return!0;if(r&&u>1)return!1;i.add(s);var d=u+1;if(Array.isArray(s)){if(!Array.isArray(l)||s.length!==l.length)return!1;for(var h=0;h<s.length;h++)if(!o(s[h],l[h],d))return!1;return!0}if(s&&l&&Ir(s)==="object"&&Ir(l)==="object"){var p=Object.keys(s);return p.length!==Object.keys(l).length?!1:p.every(function(m){return o(s[m],l[m],d)})}return!1}return o(n,e)}var w4="%",noe=function(){function n(e){ca(this,n),ct(this,"instanceId",void 0),ct(this,"cache",new Map),this.instanceId=e}return ua(n,[{key:"get",value:function(r){return this.cache.get(r.join(w4))||null}},{key:"update",value:function(r,i){var o=r.join(w4),s=this.cache.get(o),l=i(s);l===null?this.cache.delete(o):this.cache.set(o,l)}}]),n}(),RT="data-token-hash",oh="data-css-hash",dm="__cssinjs_instance__";function roe(){var n=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(oh,"]"))||[],r=document.head.firstChild;Array.from(e).forEach(function(o){o[dm]=o[dm]||n,o[dm]===n&&document.head.insertBefore(o,r)});var i={};Array.from(document.querySelectorAll("style[".concat(oh,"]"))).forEach(function(o){var s=o.getAttribute(oh);if(i[s]){if(o[dm]===n){var l;(l=o.parentNode)===null||l===void 0||l.removeChild(o)}}else i[s]=!0})}return new noe(n)}var NI=M.createContext({hashPriority:"low",cache:roe(),defaultCache:!0});function ioe(n,e){if(n.length!==e.length)return!1;for(var r=0;r<n.length;r++)if(n[r]!==e[r])return!1;return!0}var kI=function(){function n(){ca(this,n),ct(this,"cache",void 0),ct(this,"keys",void 0),ct(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return ua(n,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(r){var i,o,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l={map:this.cache};return r.forEach(function(u){if(!l)l=void 0;else{var c,d;l=(c=l)===null||c===void 0||(d=c.map)===null||d===void 0?void 0:d.get(u)}}),(i=l)!==null&&i!==void 0&&i.value&&s&&(l.value[1]=this.cacheCallTimes++),(o=l)===null||o===void 0?void 0:o.value}},{key:"get",value:function(r){var i;return(i=this.internalGet(r,!0))===null||i===void 0?void 0:i[0]}},{key:"has",value:function(r){return!!this.internalGet(r)}},{key:"set",value:function(r,i){var o=this;if(!this.has(r)){if(this.size()+1>n.MAX_CACHE_SIZE+n.MAX_CACHE_OFFSET){var s=this.keys.reduce(function(d,h){var p=Nt(d,2),m=p[1];return o.internalGet(h)[1]<m?[h,o.internalGet(h)[1]]:d},[this.keys[0],this.cacheCallTimes]),l=Nt(s,1),u=l[0];this.delete(u)}this.keys.push(r)}var c=this.cache;r.forEach(function(d,h){if(h===r.length-1)c.set(d,{value:[i,o.cacheCallTimes++]});else{var p=c.get(d);p?p.map||(p.map=new Map):c.set(d,{map:new Map}),c=c.get(d).map}})}},{key:"deleteByPath",value:function(r,i){var o=r.get(i[0]);if(i.length===1){var s;return o.map?r.set(i[0],{map:o.map}):r.delete(i[0]),(s=o.value)===null||s===void 0?void 0:s[0]}var l=this.deleteByPath(o.map,i.slice(1));return(!o.map||o.map.size===0)&&!o.value&&r.delete(i[0]),l}},{key:"delete",value:function(r){if(this.has(r))return this.keys=this.keys.filter(function(i){return!ioe(i,r)}),this.deleteByPath(this.cache,r)}}]),n}();ct(kI,"MAX_CACHE_SIZE",20);ct(kI,"MAX_CACHE_OFFSET",5);var S4=0,Sz=function(){function n(e){ca(this,n),ct(this,"derivatives",void 0),ct(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=S4,e.length===0&&(e.length>0,void 0),S4+=1}return ua(n,[{key:"getDerivativeToken",value:function(r){return this.derivatives.reduce(function(i,o){return o(r,i)},void 0)}}]),n}(),x2=new kI;function hA(n){var e=Array.isArray(n)?n:[n];return x2.has(e)||x2.set(e,new Sz(e)),x2.get(e)}var ooe=new WeakMap,E2={};function aoe(n,e){for(var r=ooe,i=0;i<e.length;i+=1){var o=e[i];r.has(o)||r.set(o,new WeakMap),r=r.get(o)}return r.has(E2)||r.set(E2,n()),r.get(E2)}var _4=new WeakMap;function Vx(n){var e=_4.get(n)||"";return e||(Object.keys(n).forEach(function(r){var i=n[r];e+=r,i instanceof Sz?e+=i.id:i&&Ir(i)==="object"?e+=Vx(i):e+=i}),_4.set(n,e)),e}function soe(n,e){return DI("".concat(e,"_").concat(Vx(n)))}var L0="random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,""),_z="_bAmBoO_";function loe(n,e,r){if(la()){var i,o;Wm(n,L0);var s=document.createElement("div");s.style.position="fixed",s.style.left="0",s.style.top="0",e==null||e(s),document.body.appendChild(s);var l=r?r(s):(i=getComputedStyle(s).content)===null||i===void 0?void 0:i.includes(_z);return(o=s.parentNode)===null||o===void 0||o.removeChild(s),Ux(L0),l}return!1}var C2=void 0;function coe(){return C2===void 0&&(C2=loe("@layer ".concat(L0," { .").concat(L0,' { content: "').concat(_z,'"!important; } }'),function(n){n.className=L0})),C2}var M4=la()?M.useLayoutEffect:M.useEffect,Ti=function(e,r){var i=M.useRef(!0);M4(function(){return e(i.current)},r),M4(function(){return i.current=!1,function(){i.current=!0}},[])},IT=function(e,r){Ti(function(i){if(!i)return e()},r)},uoe=mt({},BA),T4=uoe.useInsertionEffect,doe=function(e,r,i){M.useMemo(e,i),Ti(function(){return r(!0)},i)},foe=T4?function(n,e,r){return T4(function(){return n(),e()},r)}:doe,hoe=mt({},BA),poe=hoe.useInsertionEffect,moe=function(e){var r=[],i=!1;function o(s){i||r.push(s)}return M.useEffect(function(){return i=!1,function(){i=!0,r.length&&r.forEach(function(s){return s()})}},e),o},goe=function(){return function(e){e()}},voe=typeof poe<"u"?moe:goe;function Mz(n,e,r,i,o){var s=M.useContext(NI),l=s.cache,u=[n].concat(An(e)),c=u.join("_"),d=voe([c]),h=function(y){l.update(u,function(A){var b=A||[],g=Nt(b,2),w=g[0],E=w===void 0?0:w,C=g[1],_=C,L=_||r(),R=[E,L];return y?y(R):R})};M.useMemo(function(){h()},[c]);var p=l.get(u),m=p[1];return foe(function(){o==null||o(m)},function(v){return h(function(y){var A=Nt(y,2),b=A[0],g=A[1];return v&&b===0&&(o==null||o(m)),[b+1,g]}),function(){l.update(u,function(y){var A=y||[],b=Nt(A,2),g=b[0],w=g===void 0?0:g,E=b[1],C=w-1;return C===0?(d(function(){return i==null?void 0:i(E,!1)}),null):[w-1,E]})}},[c]),m}var Aoe={},yoe="css",$f=new Map;function boe(n){$f.set(n,($f.get(n)||0)+1)}function xoe(n,e){if(typeof document<"u"){var r=document.querySelectorAll("style[".concat(RT,'="').concat(n,'"]'));r.forEach(function(i){if(i[dm]===e){var o;(o=i.parentNode)===null||o===void 0||o.removeChild(i)}})}}var Eoe=0;function Coe(n,e){$f.set(n,($f.get(n)||0)-1);var r=Array.from($f.keys()),i=r.filter(function(o){var s=$f.get(o)||0;return s<=0});r.length-i.length>Eoe&&i.forEach(function(o){xoe(o,e),$f.delete(o)})}var Tz=function(e,r,i,o){var s=i.getDerivativeToken(e),l=mt(mt({},s),r);return o&&(l=o(l)),l};function woe(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=M.useContext(NI),o=i.cache.instanceId,s=r.salt,l=s===void 0?"":s,u=r.override,c=u===void 0?Aoe:u,d=r.formatToken,h=r.getComputedToken,p=aoe(function(){return Object.assign.apply(Object,[{}].concat(An(e)))},e),m=Vx(p),v=Vx(c),y=Mz("token",[l,n.id,m,v],function(){var A=h?h(p,c,n):Tz(p,c,n,d),b=soe(A,l);A._tokenKey=b,boe(b);var g="".concat(yoe,"-").concat(DI(b));return A._hashId=g,[A,g]},function(A){Coe(A[0]._tokenKey,o)});return y}var Soe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Rz="comm",Iz="rule",Lz="decl",_oe="@import",Moe="@keyframes",Toe="@layer",Roe=Math.abs,FI=String.fromCharCode;function Pz(n){return n.trim()}function K1(n,e,r){return n.replace(e,r)}function Ioe(n,e){return n.indexOf(e)}function pA(n,e){return n.charCodeAt(e)|0}function mA(n,e,r){return n.slice(e,r)}function Ed(n){return n.length}function Bz(n){return n.length}function Lb(n,e){return e.push(n),n}var sC=1,qm=1,Oz=0,ul=0,No=0,mg="";function UI(n,e,r,i,o,s,l){return{value:n,root:e,parent:r,type:i,props:o,children:s,line:sC,column:qm,length:l,return:""}}function Loe(){return No}function Poe(){return No=ul>0?pA(mg,--ul):0,qm--,No===10&&(qm=1,sC--),No}function Vl(){return No=ul<Oz?pA(mg,ul++):0,qm++,No===10&&(qm=1,sC++),No}function ah(){return pA(mg,ul)}function X1(){return ul}function lC(n,e){return mA(mg,n,e)}function LT(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Boe(n){return sC=qm=1,Oz=Ed(mg=n),ul=0,[]}function Ooe(n){return mg="",n}function w2(n){return Pz(lC(ul-1,PT(n===91?n+2:n===40?n+1:n)))}function Doe(n){for(;(No=ah())&&No<33;)Vl();return LT(n)>2||LT(No)>3?"":" "}function Noe(n,e){for(;--e&&Vl()&&!(No<48||No>102||No>57&&No<65||No>70&&No<97););return lC(n,X1()+(e<6&&ah()==32&&Vl()==32))}function PT(n){for(;Vl();)switch(No){case n:return ul;case 34:case 39:n!==34&&n!==39&&PT(No);break;case 40:n===41&&PT(n);break;case 92:Vl();break}return ul}function koe(n,e){for(;Vl()&&n+No!==47+10;)if(n+No===42+42&&ah()===47)break;return"/*"+lC(e,ul-1)+"*"+FI(n===47?n:Vl())}function Foe(n){for(;!LT(ah());)Vl();return lC(n,ul)}function Uoe(n){return Ooe(q1("",null,null,null,[""],n=Boe(n),0,[0],n))}function q1(n,e,r,i,o,s,l,u,c){for(var d=0,h=0,p=l,m=0,v=0,y=0,A=1,b=1,g=1,w=0,E="",C=o,_=s,L=i,R=E;b;)switch(y=w,w=Vl()){case 40:if(y!=108&&pA(R,p-1)==58){Ioe(R+=K1(w2(w),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:R+=w2(w);break;case 9:case 10:case 13:case 32:R+=Doe(y);break;case 92:R+=Noe(X1()-1,7);continue;case 47:switch(ah()){case 42:case 47:Lb(zoe(koe(Vl(),X1()),e,r),c);break;default:R+="/"}break;case 123*A:u[d++]=Ed(R)*g;case 125*A:case 59:case 0:switch(w){case 0:case 125:b=0;case 59+h:g==-1&&(R=K1(R,/\f/g,"")),v>0&&Ed(R)-p&&Lb(v>32?I4(R+";",i,r,p-1):I4(K1(R," ","")+";",i,r,p-2),c);break;case 59:R+=";";default:if(Lb(L=R4(R,e,r,d,h,o,u,E,C=[],_=[],p),s),w===123)if(h===0)q1(R,e,L,L,C,s,p,u,_);else switch(m===99&&pA(R,3)===110?100:m){case 100:case 108:case 109:case 115:q1(n,L,L,i&&Lb(R4(n,L,L,0,0,o,u,E,o,C=[],p),_),o,_,p,u,i?C:_);break;default:q1(R,L,L,L,[""],_,0,u,_)}}d=h=v=0,A=g=1,E=R="",p=l;break;case 58:p=1+Ed(R),v=y;default:if(A<1){if(w==123)--A;else if(w==125&&A++==0&&Poe()==125)continue}switch(R+=FI(w),w*A){case 38:g=h>0?1:(R+="\f",-1);break;case 44:u[d++]=(Ed(R)-1)*g,g=1;break;case 64:ah()===45&&(R+=w2(Vl())),m=ah(),h=p=Ed(E=R+=Foe(X1())),w++;break;case 45:y===45&&Ed(R)==2&&(A=0)}}return s}function R4(n,e,r,i,o,s,l,u,c,d,h){for(var p=o-1,m=o===0?s:[""],v=Bz(m),y=0,A=0,b=0;y<i;++y)for(var g=0,w=mA(n,p+1,p=Roe(A=l[y])),E=n;g<v;++g)(E=Pz(A>0?m[g]+" "+w:K1(w,/&\f/g,m[g])))&&(c[b++]=E);return UI(n,e,r,o===0?Iz:u,c,d,h)}function zoe(n,e,r){return UI(n,e,r,Rz,FI(Loe()),mA(n,2,-2),0)}function I4(n,e,r,i){return UI(n,e,r,Lz,mA(n,0,i),mA(n,i+1,-1),i)}function BT(n,e){for(var r="",i=Bz(n),o=0;o<i;o++)r+=e(n[o],o,n,e)||"";return r}function Hoe(n,e,r,i){switch(n.type){case Toe:if(n.children.length)break;case _oe:case Lz:return n.return=n.return||n.value;case Rz:return"";case Moe:return n.return=n.value+"{"+BT(n.children,i)+"}";case Iz:n.value=n.props.join(",")}return Ed(r=BT(n.children,i))?n.return=n.value+"{"+r+"}":""}var L4="data-ant-cssinjs-cache-path",Dz="_FILE_STYLE__",sh,Nz=!0;function $oe(){if(!sh&&(sh={},la())){var n=document.createElement("div");n.className=L4,n.style.position="fixed",n.style.visibility="hidden",n.style.top="-9999px",document.body.appendChild(n);var e=getComputedStyle(n).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(o){var s=o.split(":"),l=Nt(s,2),u=l[0],c=l[1];sh[u]=c});var r=document.querySelector("style[".concat(L4,"]"));if(r){var i;Nz=!1,(i=r.parentNode)===null||i===void 0||i.removeChild(r)}document.body.removeChild(n)}}function Goe(n){return $oe(),!!sh[n]}function joe(n){var e=sh[n],r=null;if(e&&la())if(Nz)r=Dz;else{var i=document.querySelector("style[".concat(oh,'="').concat(sh[n],'"]'));i?r=i.innerHTML:delete sh[n]}return[r,e]}var P4=la(),Voe="_skip_check_",kz="_multi_value_";function B4(n){var e=BT(Uoe(n),Hoe);return e.replace(/\{%%%\:[^;];}/g,";")}function Woe(n){return Ir(n)==="object"&&n&&(Voe in n||kz in n)}function Qoe(n,e,r){if(!e)return n;var i=".".concat(e),o=r==="low"?":where(".concat(i,")"):i,s=n.split(",").map(function(l){var u,c=l.trim().split(/\s+/),d=c[0]||"",h=((u=d.match(/^\w+/))===null||u===void 0?void 0:u[0])||"";return d="".concat(h).concat(o).concat(d.slice(h.length)),[d].concat(An(c.slice(1))).join(" ")});return s.join(",")}var Koe=function n(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},o=i.root,s=i.injectHash,l=i.parentSelectors,u=r.hashId,c=r.layer;r.path;var d=r.hashPriority,h=r.transformers,p=h===void 0?[]:h;r.linters;var m="",v={};function y(E){var C=E.getName(u);if(!v[C]){var _=n(E.style,r,{root:!1,parentSelectors:l}),L=Nt(_,1),R=L[0];v[C]="@keyframes ".concat(E.getName(u)).concat(R)}}function A(E){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return E.forEach(function(_){Array.isArray(_)?A(_,C):_&&C.push(_)}),C}var b=A(Array.isArray(e)?e:[e]);if(b.forEach(function(E){var C=typeof E=="string"&&!o?{}:E;if(typeof C=="string")m+="".concat(C,`
`);else if(C._keyframe)y(C);else{var _=p.reduce(function(L,R){var P;return(R==null||(P=R.visit)===null||P===void 0?void 0:P.call(R,L))||L},C);Object.keys(_).forEach(function(L){var R=_[L];if(Ir(R)==="object"&&R&&(L!=="animationName"||!R._keyframe)&&!Woe(R)){var P=!1,T=L.trim(),D=!1;(o||s)&&u?T.startsWith("@")?P=!0:T=Qoe(L,u,d):o&&!u&&(T==="&"||T==="")&&(T="",D=!0);var $=n(R,r,{root:D,injectHash:P,parentSelectors:[].concat(An(l),[T])}),V=Nt($,2),B=V[0],O=V[1];v=mt(mt({},v),O),m+="".concat(T).concat(B)}else{let G=function(j,Q){var X=j.replace(/[A-Z]/g,function(Z){return"-".concat(Z.toLowerCase())}),J=Q;!Soe[j]&&typeof J=="number"&&J!==0&&(J="".concat(J,"px")),j==="animationName"&&Q!==null&&Q!==void 0&&Q._keyframe&&(y(Q),J=Q.getName(u)),m+="".concat(X,":").concat(J,";")};var z=G,F,k=(F=R==null?void 0:R.value)!==null&&F!==void 0?F:R;Ir(R)==="object"&&R!==null&&R!==void 0&&R[kz]&&Array.isArray(k)?k.forEach(function(j){G(L,j)}):G(L,k)}})}}),!o)m="{".concat(m,"}");else if(c&&coe()){var g=c.split(","),w=g[g.length-1].trim();m="@layer ".concat(w," {").concat(m,"}"),g.length>1&&(m="@layer ".concat(c,"{%%%:%}").concat(m))}return[m,v]};function Xoe(n,e){return DI("".concat(n.join("%")).concat(e))}function qoe(){return null}function OT(n,e){var r=n.token,i=n.path,o=n.hashId,s=n.layer,l=n.nonce,u=n.clientOnly,c=n.order,d=c===void 0?0:c,h=M.useContext(NI),p=h.autoClear;h.mock;var m=h.defaultCache,v=h.hashPriority,y=h.container,A=h.ssrInline,b=h.transformers,g=h.linters,w=h.cache,E=r._tokenKey,C=[E].concat(An(i)),_=P4,L=Mz("style",C,function(){var $=C.join("|");if(Goe($)){var V=joe($),B=Nt(V,2),O=B[0],F=B[1];if(O)return[O,E,F,{},u,d]}var k=e(),z=Koe(k,{hashId:o,hashPriority:v,layer:s,path:i.join("-"),transformers:b,linters:g}),G=Nt(z,2),j=G[0],Q=G[1],X=B4(j),J=Xoe(C,X);return[X,E,J,Q,u,d]},function($,V){var B=Nt($,3),O=B[2];(V||p)&&P4&&Ux(O,{mark:oh})},function($){var V=Nt($,4),B=V[0];V[1];var O=V[2],F=V[3];if(_&&B!==Dz){var k={mark:oh,prepend:"queue",attachTo:y,priority:d},z=typeof l=="function"?l():l;z&&(k.csp={nonce:z});var G=Wm(B,O,k);G[dm]=w.instanceId,G.setAttribute(RT,E),Object.keys(F).forEach(function(j){Wm(B4(F[j]),"_effect-".concat(j),k)})}}),R=Nt(L,3),P=R[0],T=R[1],D=R[2];return function($){var V;if(!A||_||!m)V=M.createElement(qoe,null);else{var B;V=M.createElement("style",on({},(B={},ct(B,RT,T),ct(B,oh,D),B),{dangerouslySetInnerHTML:{__html:P}}))}return M.createElement(M.Fragment,null,V,$)}}var ui=function(){function n(e,r){ca(this,n),ct(this,"name",void 0),ct(this,"style",void 0),ct(this,"_keyframe",!0),this.name=e,this.style=r}return ua(n,[{key:"getName",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return r?"".concat(r,"-").concat(this.name):this.name}}]),n}();function dp(n){return n.notSplit=!0,n}dp(["borderTop","borderBottom"]),dp(["borderTop"]),dp(["borderBottom"]),dp(["borderLeft","borderRight"]),dp(["borderLeft"]),dp(["borderRight"]);function Fz(n){return V7(n)||xz(n)||_I(n)||W7()}function Ps(n,e){for(var r=n,i=0;i<e.length;i+=1){if(r==null)return;r=r[e[i]]}return r}function Uz(n,e,r,i){if(!e.length)return r;var o=Fz(e),s=o[0],l=o.slice(1),u;return!n&&typeof s=="number"?u=[]:Array.isArray(n)?u=An(n):u=mt({},n),i&&r===void 0&&l.length===1?delete u[s][l[0]]:u[s]=Uz(u[s],l,r,i),u}function Pl(n,e,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&i&&r===void 0&&!Ps(n,e.slice(0,-1))?n:Uz(n,e,r,i)}function Yoe(n){return Ir(n)==="object"&&n!==null&&Object.getPrototypeOf(n)===Object.prototype}function O4(n){return Array.isArray(n)?[]:{}}var Joe=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function fm(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];var i=O4(e[0]);return e.forEach(function(o){function s(l,u){var c=new Set(u),d=Ps(o,l),h=Array.isArray(d);if(h||Yoe(d)){if(!c.has(d)){c.add(d);var p=Ps(i,l);h?i=Pl(i,l,[]):(!p||Ir(p)!=="object")&&(i=Pl(i,l,O4(d))),Joe(d).forEach(function(m){s([].concat(An(l),[m]),c)})}}else i=Pl(i,l,d)}s([])}),i}function Zoe(){}const eae=M.createContext({}),gg=()=>{const n=()=>{};return n.deprecated=Zoe,n},tae=M.createContext(void 0),zz={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"};var nae={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"};const rae={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Hz=rae,iae={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},nae),timePickerLocale:Object.assign({},Hz)},D4=iae,Es="${label} is not a valid ${type}",oae={locale:"en",Pagination:zz,DatePicker:D4,TimePicker:Hz,Calendar:D4,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Es,method:Es,array:Es,object:Es,number:Es,date:Es,boolean:Es,integer:Es,float:Es,regexp:Es,email:Es,url:Es,hex:Es},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh"},ColorPicker:{presetEmpty:"Empty"}},Vd=oae;Object.assign({},Vd.Modal);let Y1=[];const N4=()=>Y1.reduce((n,e)=>Object.assign(Object.assign({},n),e),Vd.Modal);function aae(n){if(n){const e=Object.assign({},n);return Y1.push(e),N4(),()=>{Y1=Y1.filter(r=>r!==e),N4()}}Object.assign({},Vd.Modal)}const sae=M.createContext(void 0),zI=sae,lae=(n,e)=>{const r=M.useContext(zI),i=M.useMemo(()=>{var s;const l=e||Vd[n],u=(s=r==null?void 0:r[n])!==null&&s!==void 0?s:{};return Object.assign(Object.assign({},typeof l=="function"?l():l),u||{})},[n,e,r]),o=M.useMemo(()=>{const s=r==null?void 0:r.locale;return r!=null&&r.exist&&!s?Vd.locale:s},[r]);return[i,o]},cC=lae,cae="internalMark",uae=n=>{const{locale:e={},children:r,_ANT_MARK__:i}=n;M.useEffect(()=>aae(e&&e.Modal),[e]);const o=M.useMemo(()=>Object.assign(Object.assign({},e),{exist:!0}),[e]);return M.createElement(zI.Provider,{value:o},r)},dae=uae,fae=n=>{const{controlHeight:e}=n;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}},$z=fae;function hae(n){const{sizeUnit:e,sizeStep:r}=n;return{sizeXXL:e*(r+8),sizeXL:e*(r+4),sizeLG:e*(r+2),sizeMD:e*(r+1),sizeMS:e*r,size:e*r,sizeSM:e*(r-1),sizeXS:e*(r-2),sizeXXS:e*(r-3)}}const HI={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},Ym=Object.assign(Object.assign({},HI),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});function Gz(n,e){let{generateColorPalettes:r,generateNeutralColorPalettes:i}=e;const{colorSuccess:o,colorWarning:s,colorError:l,colorInfo:u,colorPrimary:c,colorBgBase:d,colorTextBase:h}=n,p=r(c),m=r(o),v=r(s),y=r(l),A=r(u),b=i(d,h),g=n.colorLink||n.colorInfo,w=r(g);return Object.assign(Object.assign({},b),{colorPrimaryBg:p[1],colorPrimaryBgHover:p[2],colorPrimaryBorder:p[3],colorPrimaryBorderHover:p[4],colorPrimaryHover:p[5],colorPrimary:p[6],colorPrimaryActive:p[7],colorPrimaryTextHover:p[8],colorPrimaryText:p[9],colorPrimaryTextActive:p[10],colorSuccessBg:m[1],colorSuccessBgHover:m[2],colorSuccessBorder:m[3],colorSuccessBorderHover:m[4],colorSuccessHover:m[4],colorSuccess:m[6],colorSuccessActive:m[7],colorSuccessTextHover:m[8],colorSuccessText:m[9],colorSuccessTextActive:m[10],colorErrorBg:y[1],colorErrorBgHover:y[2],colorErrorBorder:y[3],colorErrorBorderHover:y[4],colorErrorHover:y[5],colorError:y[6],colorErrorActive:y[7],colorErrorTextHover:y[8],colorErrorText:y[9],colorErrorTextActive:y[10],colorWarningBg:v[1],colorWarningBgHover:v[2],colorWarningBorder:v[3],colorWarningBorderHover:v[4],colorWarningHover:v[4],colorWarning:v[6],colorWarningActive:v[7],colorWarningTextHover:v[8],colorWarningText:v[9],colorWarningTextActive:v[10],colorInfoBg:A[1],colorInfoBgHover:A[2],colorInfoBorder:A[3],colorInfoBorderHover:A[4],colorInfoHover:A[4],colorInfo:A[6],colorInfoActive:A[7],colorInfoTextHover:A[8],colorInfoText:A[9],colorInfoTextActive:A[10],colorLinkHover:w[4],colorLink:w[6],colorLinkActive:w[7],colorBgMask:new Ki("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}const pae=n=>{let e=n,r=n,i=n,o=n;return n<6&&n>=5?e=n+1:n<16&&n>=6?e=n+2:n>=16&&(e=16),n<7&&n>=5?r=4:n<8&&n>=7?r=5:n<14&&n>=8?r=6:n<16&&n>=14?r=7:n>=16&&(r=8),n<6&&n>=2?i=1:n>=6&&(i=2),n>4&&n<8?o=4:n>=8&&(o=6),{borderRadius:n,borderRadiusXS:i,borderRadiusSM:r,borderRadiusLG:e,borderRadiusOuter:o}},mae=pae;function gae(n){const{motionUnit:e,motionBase:r,borderRadius:i,lineWidth:o}=n;return Object.assign({motionDurationFast:`${(r+e).toFixed(1)}s`,motionDurationMid:`${(r+e*2).toFixed(1)}s`,motionDurationSlow:`${(r+e*3).toFixed(1)}s`,lineWidthBold:o+1},mae(i))}const Wc=(n,e)=>new Ki(n).setAlpha(e).toRgbString(),_v=(n,e)=>new Ki(n).darken(e).toHexString(),vae=n=>{const e=Tu(n);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},Aae=(n,e)=>{const r=n||"#fff",i=e||"#000";return{colorBgBase:r,colorTextBase:i,colorText:Wc(i,.88),colorTextSecondary:Wc(i,.65),colorTextTertiary:Wc(i,.45),colorTextQuaternary:Wc(i,.25),colorFill:Wc(i,.15),colorFillSecondary:Wc(i,.06),colorFillTertiary:Wc(i,.04),colorFillQuaternary:Wc(i,.02),colorBgLayout:_v(r,4),colorBgContainer:_v(r,0),colorBgElevated:_v(r,0),colorBgSpotlight:Wc(i,.85),colorBgBlur:"transparent",colorBorder:_v(r,15),colorBorderSecondary:_v(r,6)}};function yae(n){const e=new Array(10).fill(null).map((r,i)=>{const o=i-1,s=n*Math.pow(2.71828,o/5),l=i>1?Math.floor(s):Math.ceil(s);return Math.floor(l/2)*2});return e[1]=n,e.map(r=>{const i=r+8;return{size:r,lineHeight:i/r}})}const bae=n=>{const e=yae(n),r=e.map(o=>o.size),i=e.map(o=>o.lineHeight);return{fontSizeSM:r[0],fontSize:r[1],fontSizeLG:r[2],fontSizeXL:r[3],fontSizeHeading1:r[6],fontSizeHeading2:r[5],fontSizeHeading3:r[4],fontSizeHeading4:r[3],fontSizeHeading5:r[2],lineHeight:i[1],lineHeightLG:i[2],lineHeightSM:i[0],lineHeightHeading1:i[6],lineHeightHeading2:i[5],lineHeightHeading3:i[4],lineHeightHeading4:i[3],lineHeightHeading5:i[2]}},jz=bae;function UA(n){const e=Object.keys(HI).map(r=>{const i=Tu(n[r]);return new Array(10).fill(1).reduce((o,s,l)=>(o[`${r}-${l+1}`]=i[l],o[`${r}${l+1}`]=i[l],o),{})}).reduce((r,i)=>(r=Object.assign(Object.assign({},r),i),r),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),e),Gz(n,{generateColorPalettes:vae,generateNeutralColorPalettes:Aae})),jz(n.fontSize)),hae(n)),$z(n)),gae(n))}const Vz=hA(UA),Wx={token:Ym,override:{override:Ym},hashed:!0},Wz=nn.createContext(Wx),$I="anticon",xae=(n,e)=>e||(n?`ant-${n}`:"ant"),_r=M.createContext({getPrefixCls:xae,iconPrefixCls:$I}),Eae=`-ant-${Date.now()}-${Math.random()}`;function Cae(n,e){const r={},i=(l,u)=>{let c=l.clone();return c=(u==null?void 0:u(c))||c,c.toRgbString()},o=(l,u)=>{const c=new Ki(l),d=Tu(c.toRgbString());r[`${u}-color`]=i(c),r[`${u}-color-disabled`]=d[1],r[`${u}-color-hover`]=d[4],r[`${u}-color-active`]=d[6],r[`${u}-color-outline`]=c.clone().setAlpha(.2).toRgbString(),r[`${u}-color-deprecated-bg`]=d[0],r[`${u}-color-deprecated-border`]=d[2]};if(e.primaryColor){o(e.primaryColor,"primary");const l=new Ki(e.primaryColor),u=Tu(l.toRgbString());u.forEach((d,h)=>{r[`primary-${h+1}`]=d}),r["primary-color-deprecated-l-35"]=i(l,d=>d.lighten(35)),r["primary-color-deprecated-l-20"]=i(l,d=>d.lighten(20)),r["primary-color-deprecated-t-20"]=i(l,d=>d.tint(20)),r["primary-color-deprecated-t-50"]=i(l,d=>d.tint(50)),r["primary-color-deprecated-f-12"]=i(l,d=>d.setAlpha(d.getAlpha()*.12));const c=new Ki(u[0]);r["primary-color-active-deprecated-f-30"]=i(c,d=>d.setAlpha(d.getAlpha()*.3)),r["primary-color-active-deprecated-d-02"]=i(c,d=>d.darken(2))}return e.successColor&&o(e.successColor,"success"),e.warningColor&&o(e.warningColor,"warning"),e.errorColor&&o(e.errorColor,"error"),e.infoColor&&o(e.infoColor,"info"),`
  :root {
    ${Object.keys(r).map(l=>`--${n}-${l}: ${r[l]};`).join(`
`)}
  }
  `.trim()}function wae(n,e){const r=Cae(n,e);la()&&Wm(r,`${Eae}-dynamic-theme`)}const DT=M.createContext(!1),Sae=n=>{let{children:e,disabled:r}=n;const i=M.useContext(DT);return M.createElement(DT.Provider,{value:r??i},e)},Jd=DT,NT=M.createContext(void 0),_ae=n=>{let{children:e,size:r}=n;const i=M.useContext(NT);return M.createElement(NT.Provider,{value:r||i},e)},uC=NT;function Mae(){const n=M.useContext(Jd),e=M.useContext(uC);return{componentDisabled:n,componentSize:e}}const Qx=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"],Tae="5.10.3";function S2(n){return n>=0&&n<=255}function Pb(n,e){const{r,g:i,b:o,a:s}=new Ki(n).toRgb();if(s<1)return n;const{r:l,g:u,b:c}=new Ki(e).toRgb();for(let d=.01;d<=1;d+=.01){const h=Math.round((r-l*(1-d))/d),p=Math.round((i-u*(1-d))/d),m=Math.round((o-c*(1-d))/d);if(S2(h)&&S2(p)&&S2(m))return new Ki({r:h,g:p,b:m,a:Math.round(d*100)/100}).toRgbString()}return new Ki({r,g:i,b:o,a:1}).toRgbString()}var Rae=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};function GI(n){const{override:e}=n,r=Rae(n,["override"]),i=Object.assign({},e);Object.keys(Ym).forEach(m=>{delete i[m]});const o=Object.assign(Object.assign({},r),i),s=480,l=576,u=768,c=992,d=1200,h=1600;if(o.motion===!1){const m="0s";o.motionDurationFast=m,o.motionDurationMid=m,o.motionDurationSlow=m}return Object.assign(Object.assign(Object.assign({},o),{colorFillContent:o.colorFillSecondary,colorFillContentHover:o.colorFill,colorFillAlter:o.colorFillQuaternary,colorBgContainerDisabled:o.colorFillTertiary,colorBorderBg:o.colorBgContainer,colorSplit:Pb(o.colorBorderSecondary,o.colorBgContainer),colorTextPlaceholder:o.colorTextQuaternary,colorTextDisabled:o.colorTextQuaternary,colorTextHeading:o.colorText,colorTextLabel:o.colorTextSecondary,colorTextDescription:o.colorTextTertiary,colorTextLightSolid:o.colorWhite,colorHighlight:o.colorError,colorBgTextHover:o.colorFillSecondary,colorBgTextActive:o.colorFill,colorIcon:o.colorTextTertiary,colorIconHover:o.colorText,colorErrorOutline:Pb(o.colorErrorBg,o.colorBgContainer),colorWarningOutline:Pb(o.colorWarningBg,o.colorBgContainer),fontSizeIcon:o.fontSizeSM,lineWidthFocus:o.lineWidth*4,lineWidth:o.lineWidth,controlOutlineWidth:o.lineWidth*2,controlInteractiveSize:o.controlHeight/2,controlItemBgHover:o.colorFillTertiary,controlItemBgActive:o.colorPrimaryBg,controlItemBgActiveHover:o.colorPrimaryBgHover,controlItemBgActiveDisabled:o.colorFill,controlTmpOutline:o.colorFillQuaternary,controlOutline:Pb(o.colorPrimaryBg,o.colorBgContainer),lineType:o.lineType,borderRadius:o.borderRadius,borderRadiusXS:o.borderRadiusXS,borderRadiusSM:o.borderRadiusSM,borderRadiusLG:o.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:o.sizeXXS,paddingXS:o.sizeXS,paddingSM:o.sizeSM,padding:o.size,paddingMD:o.sizeMD,paddingLG:o.sizeLG,paddingXL:o.sizeXL,paddingContentHorizontalLG:o.sizeLG,paddingContentVerticalLG:o.sizeMS,paddingContentHorizontal:o.sizeMS,paddingContentVertical:o.sizeSM,paddingContentHorizontalSM:o.size,paddingContentVerticalSM:o.sizeXS,marginXXS:o.sizeXXS,marginXS:o.sizeXS,marginSM:o.sizeSM,margin:o.size,marginMD:o.sizeMD,marginLG:o.sizeLG,marginXL:o.sizeXL,marginXXL:o.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:s,screenXSMin:s,screenXSMax:l-1,screenSM:l,screenSMMin:l,screenSMMax:u-1,screenMD:u,screenMDMin:u,screenMDMax:c-1,screenLG:c,screenLGMin:c,screenLGMax:d-1,screenXL:d,screenXLMin:d,screenXLMax:h-1,screenXXL:h,screenXXLMin:h,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new Ki("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new Ki("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new Ki("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),i)}var k4=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const Qz=(n,e,r)=>{const i=r.getDerivativeToken(n),{override:o}=e,s=k4(e,["override"]);let l=Object.assign(Object.assign({},i),{override:o});return l=GI(l),s&&Object.entries(s).forEach(u=>{let[c,d]=u;const{theme:h}=d,p=k4(d,["theme"]);let m=p;h&&(m=Qz(Object.assign(Object.assign({},l),p),{override:p},h)),l[c]=m}),l};function fl(){const{token:n,hashed:e,theme:r,override:i}=nn.useContext(Wz),o=`${Tae}-${e||""}`,s=r||Vz,[l,u]=woe(s,[Ym,n],{salt:o,override:i,getComputedToken:Qz,formatToken:GI});return[s,l,e?u:""]}function jo(n){var e=M.useRef();e.current=n;var r=M.useCallback(function(){for(var i,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return(i=e.current)===null||i===void 0?void 0:i.call.apply(i,[e].concat(s))},[]);return r}function Tm(n){var e=M.useRef(!1),r=M.useState(n),i=Nt(r,2),o=i[0],s=i[1];M.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function l(u,c){c&&e.current||s(u)}return[o,l]}function _2(n){return n!==void 0}function Fo(n,e){var r=e||{},i=r.defaultValue,o=r.value,s=r.onChange,l=r.postState,u=Tm(function(){return _2(o)?o:_2(i)?typeof i=="function"?i():i:typeof n=="function"?n():n}),c=Nt(u,2),d=c[0],h=c[1],p=o!==void 0?o:d,m=l?l(p):p,v=jo(s),y=Tm([p]),A=Nt(y,2),b=A[0],g=A[1];IT(function(){var E=b[0];d!==E&&v(d,E)},[b]),IT(function(){_2(o)||h(o)},[o]);var w=jo(function(E,C){h(E,C),g([p],C)});return[m,w]}const jI=n=>({color:n.colorLink,textDecoration:"none",outline:"none",cursor:"pointer",transition:`color ${n.motionDurationSlow}`,"&:focus, &:hover":{color:n.colorLinkHover},"&:active":{color:n.colorLinkActive}}),Iae=(n,e,r,i,o)=>{const s=n/2,l=0,u=s,c=r*1/Math.sqrt(2),d=s-r*(1-1/Math.sqrt(2)),h=s-e*(1/Math.sqrt(2)),p=r*(Math.sqrt(2)-1)+e*(1/Math.sqrt(2)),m=2*s-h,v=p,y=2*s-c,A=d,b=2*s-l,g=u,w=s*Math.sqrt(2)+r*(Math.sqrt(2)-2),E=r*(Math.sqrt(2)-1);return{pointerEvents:"none",width:n,height:n,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:n,height:n/2,background:i,clipPath:{_multi_value_:!0,value:[`polygon(${E}px 100%, 50% ${E}px, ${2*s-E}px 100%, ${E}px 100%)`,`path('M ${l} ${u} A ${r} ${r} 0 0 0 ${c} ${d} L ${h} ${p} A ${e} ${e} 0 0 1 ${m} ${v} L ${y} ${A} A ${r} ${r} 0 0 0 ${b} ${g} Z')`]},content:'""'},"&::after":{content:'""',position:"absolute",width:w,height:w,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${e}px 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:o,zIndex:0,background:"transparent"}}},xc={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},ji=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:n.colorText,fontSize:n.fontSize,lineHeight:n.lineHeight,listStyle:"none",fontFamily:e?"inherit":n.fontFamily}},dC=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),Ec=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),Lae=n=>({a:{color:n.colorLink,textDecoration:n.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${n.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:n.colorLinkHover},"&:active":{color:n.colorLinkActive},"&:active,\n  &:hover":{textDecoration:n.linkHoverDecoration,outline:0},"&:focus":{textDecoration:n.linkFocusDecoration,outline:0},"&[disabled]":{color:n.colorTextDisabled,cursor:"not-allowed"}}}),Pae=(n,e)=>{const{fontFamily:r,fontSize:i}=n,o=`[class^="${e}"], [class*=" ${e}"]`;return{[o]:{fontFamily:r,fontSize:i,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"},[o]:{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}}}},Iu=n=>({outline:`${n.lineWidthFocus}px solid ${n.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),Jm=n=>({"&:focus-visible":Object.assign({},Iu(n))}),Kz=typeof CSSINJS_STATISTIC<"u";let kT=!0;function ti(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];if(!Kz)return Object.assign.apply(Object,[{}].concat(e));kT=!1;const i={};return e.forEach(o=>{Object.keys(o).forEach(l=>{Object.defineProperty(i,l,{configurable:!0,enumerable:!0,get:()=>o[l]})})}),kT=!0,i}const F4={};function Bae(){}function Oae(n){let e,r=n,i=Bae;return Kz&&(e=new Set,r=new Proxy(n,{get(o,s){return kT&&e.add(s),o[s]}}),i=(o,s)=>{var l;F4[o]={global:Array.from(e),component:Object.assign(Object.assign({},(l=F4[o])===null||l===void 0?void 0:l.component),s)}}),{token:r,keys:e,flush:i}}const Dae=(n,e)=>{const[r,i]=fl();return OT({theme:r,token:i,hashId:"",path:["ant-design-icons",n],nonce:()=>e==null?void 0:e.nonce},()=>[{[`.${n}`]:Object.assign(Object.assign({},dC()),{[`.${n} .${n}-icon`]:{display:"block"}})}])},Xz=Dae;function zi(n,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=Array.isArray(n)?n:[n,n],[s]=o,l=o.join("-");return u=>{const[c,d,h]=fl(),{getPrefixCls:p,iconPrefixCls:m,csp:v}=M.useContext(_r),y=p(),A={theme:c,token:d,hashId:h,nonce:()=>v==null?void 0:v.nonce,clientOnly:i.clientOnly,order:i.order||-999};return OT(Object.assign(Object.assign({},A),{clientOnly:!1,path:["Shared",y]}),()=>[{"&":Lae(d)}]),Xz(m,v),[OT(Object.assign(Object.assign({},A),{path:[l,u,m]}),()=>{const{token:b,flush:g}=Oae(d),w=Object.assign({},d[s]);if(i.deprecatedTokens){const{deprecatedTokens:P}=i;P.forEach(T=>{let[D,$]=T;var V;(w!=null&&w[D]||w!=null&&w[$])&&((V=w[$])!==null&&V!==void 0||(w[$]=w==null?void 0:w[D]))})}const E=typeof r=="function"?r(ti(b,w??{})):r,C=Object.assign(Object.assign({},E),w),_=`.${u}`,L=ti(b,{componentCls:_,prefixCls:u,iconCls:`.${m}`,antCls:`.${y}`},C),R=e(L,{hashId:h,prefixCls:u,rootPrefixCls:y,iconPrefixCls:m,overrideComponentToken:w});return g(s,C),[i.resetStyle===!1?null:Pae(d,u),R]}),h]}}const VI=(n,e,r,i)=>{const o=zi(n,e,r,Object.assign({resetStyle:!1,order:-998},i));return l=>{let{prefixCls:u}=l;return o(u),null}};function qz(n,e){return Qx.reduce((r,i)=>{const o=n[`${i}1`],s=n[`${i}3`],l=n[`${i}6`],u=n[`${i}7`];return Object.assign(Object.assign({},r),e(i,{lightColor:o,lightBorderColor:s,darkColor:l,textColor:u}))},{})}function Nae(n,e){const r=n||{},i=r.inherit===!1||!e?Wx:e;return Mh(()=>{if(!n)return e;const o=Object.assign({},i.components);return Object.keys(n.components||{}).forEach(s=>{o[s]=Object.assign(Object.assign({},o[s]),n.components[s])}),Object.assign(Object.assign(Object.assign({},i),r),{token:Object.assign(Object.assign({},i.token),r.token),components:o})},[r,i],(o,s)=>o.some((l,u)=>{const c=s[u];return!Ru(l,c,!0)}))}var kae=["children"],Yz=M.createContext({});function Fae(n){var e=n.children,r=Pr(n,kae);return M.createElement(Yz.Provider,{value:r},e)}var Uae=function(n){ql(r,n);var e=Yl(r);function r(){return ca(this,r),e.apply(this,arguments)}return ua(r,[{key:"render",value:function(){return this.props.children}}]),r}(M.Component),kf="none",Bb="appear",Ob="enter",Db="leave",U4="none",Bl="prepare",hm="start",pm="active",WI="end",Jz="prepared";function z4(n,e){var r={};return r[n.toLowerCase()]=e.toLowerCase(),r["Webkit".concat(n)]="webkit".concat(e),r["Moz".concat(n)]="moz".concat(e),r["ms".concat(n)]="MS".concat(e),r["O".concat(n)]="o".concat(e.toLowerCase()),r}function zae(n,e){var r={animationend:z4("Animation","AnimationEnd"),transitionend:z4("Transition","TransitionEnd")};return n&&("AnimationEvent"in e||delete r.animationend.animation,"TransitionEvent"in e||delete r.transitionend.transition),r}var Hae=zae(la(),typeof window<"u"?window:{}),Zz={};if(la()){var $ae=document.createElement("div");Zz=$ae.style}var Nb={};function e9(n){if(Nb[n])return Nb[n];var e=Hae[n];if(e)for(var r=Object.keys(e),i=r.length,o=0;o<i;o+=1){var s=r[o];if(Object.prototype.hasOwnProperty.call(e,s)&&s in Zz)return Nb[n]=e[s],Nb[n]}return""}var t9=e9("animationend"),n9=e9("transitionend"),r9=!!(t9&&n9),H4=t9||"animationend",$4=n9||"transitionend";function G4(n,e){if(!n)return null;if(Ir(n)==="object"){var r=e.replace(/-\w/g,function(i){return i[1].toUpperCase()});return n[r]}return"".concat(n,"-").concat(e)}const Gae=function(n){var e=M.useRef(),r=M.useRef(n);r.current=n;var i=M.useCallback(function(l){r.current(l)},[]);function o(l){l&&(l.removeEventListener($4,i),l.removeEventListener(H4,i))}function s(l){e.current&&e.current!==l&&o(e.current),l&&l!==e.current&&(l.addEventListener($4,i),l.addEventListener(H4,i),e.current=l)}return M.useEffect(function(){return function(){o(e.current)}},[]),[s,o]};var i9=la()?M.useLayoutEffect:M.useEffect;const jae=function(){var n=M.useRef(null);function e(){Oi.cancel(n.current)}function r(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var s=Oi(function(){o<=1?i({isCanceled:function(){return s!==n.current}}):r(i,o-1)});n.current=s}return M.useEffect(function(){return function(){e()}},[]),[r,e]};var Vae=[Bl,hm,pm,WI],Wae=[Bl,Jz],o9=!1,Qae=!0;function a9(n){return n===pm||n===WI}const Kae=function(n,e,r){var i=Tm(U4),o=Nt(i,2),s=o[0],l=o[1],u=jae(),c=Nt(u,2),d=c[0],h=c[1];function p(){l(Bl,!0)}var m=e?Wae:Vae;return i9(function(){if(s!==U4&&s!==WI){var v=m.indexOf(s),y=m[v+1],A=r(s);A===o9?l(y,!0):y&&d(function(b){function g(){b.isCanceled()||l(y,!0)}A===!0?g():Promise.resolve(A).then(g)})}},[n,s]),M.useEffect(function(){return function(){h()}},[]),[p,s]};function Xae(n,e,r,i){var o=i.motionEnter,s=o===void 0?!0:o,l=i.motionAppear,u=l===void 0?!0:l,c=i.motionLeave,d=c===void 0?!0:c,h=i.motionDeadline,p=i.motionLeaveImmediately,m=i.onAppearPrepare,v=i.onEnterPrepare,y=i.onLeavePrepare,A=i.onAppearStart,b=i.onEnterStart,g=i.onLeaveStart,w=i.onAppearActive,E=i.onEnterActive,C=i.onLeaveActive,_=i.onAppearEnd,L=i.onEnterEnd,R=i.onLeaveEnd,P=i.onVisibleChanged,T=Tm(),D=Nt(T,2),$=D[0],V=D[1],B=Tm(kf),O=Nt(B,2),F=O[0],k=O[1],z=Tm(null),G=Nt(z,2),j=G[0],Q=G[1],X=M.useRef(!1),J=M.useRef(null);function Z(){return r()}var oe=M.useRef(!1);function ue(){k(kf,!0),Q(null,!0)}function Be(Ct){var Tt=Z();if(!(Ct&&!Ct.deadline&&Ct.target!==Tt)){var Dt=oe.current,Yt;F===Bb&&Dt?Yt=_==null?void 0:_(Tt,Ct):F===Ob&&Dt?Yt=L==null?void 0:L(Tt,Ct):F===Db&&Dt&&(Yt=R==null?void 0:R(Tt,Ct)),F!==kf&&Dt&&Yt!==!1&&ue()}}var ge=Gae(Be),Ie=Nt(ge,1),He=Ie[0],Ze=function(Tt){var Dt,Yt,Ve;switch(Tt){case Bb:return Dt={},ct(Dt,Bl,m),ct(Dt,hm,A),ct(Dt,pm,w),Dt;case Ob:return Yt={},ct(Yt,Bl,v),ct(Yt,hm,b),ct(Yt,pm,E),Yt;case Db:return Ve={},ct(Ve,Bl,y),ct(Ve,hm,g),ct(Ve,pm,C),Ve;default:return{}}},Xe=M.useMemo(function(){return Ze(F)},[F]),ke=Kae(F,!n,function(Ct){if(Ct===Bl){var Tt=Xe[Bl];return Tt?Tt(Z()):o9}if(it in Xe){var Dt;Q(((Dt=Xe[it])===null||Dt===void 0?void 0:Dt.call(Xe,Z(),null))||null)}return it===pm&&(He(Z()),h>0&&(clearTimeout(J.current),J.current=setTimeout(function(){Be({deadline:!0})},h))),it===Jz&&ue(),Qae}),lt=Nt(ke,2),ot=lt[0],it=lt[1],ft=a9(it);oe.current=ft,i9(function(){V(e);var Ct=X.current;X.current=!0;var Tt;!Ct&&e&&u&&(Tt=Bb),Ct&&e&&s&&(Tt=Ob),(Ct&&!e&&d||!Ct&&p&&!e&&d)&&(Tt=Db);var Dt=Ze(Tt);Tt&&(n||Dt[Bl])?(k(Tt),ot()):k(kf)},[e]),M.useEffect(function(){(F===Bb&&!u||F===Ob&&!s||F===Db&&!d)&&k(kf)},[u,s,d]),M.useEffect(function(){return function(){X.current=!1,clearTimeout(J.current)}},[]);var xt=M.useRef(!1);M.useEffect(function(){$&&(xt.current=!0),$!==void 0&&F===kf&&((xt.current||$)&&(P==null||P($)),xt.current=!0)},[$,F]);var At=j;return Xe[Bl]&&it===hm&&(At=mt({transition:"none"},At)),[F,it,At,$??e]}function qae(n){var e=n;Ir(n)==="object"&&(e=n.transitionSupport);function r(o,s){return!!(o.motionName&&e&&s!==!1)}var i=M.forwardRef(function(o,s){var l=o.visible,u=l===void 0?!0:l,c=o.removeOnLeave,d=c===void 0?!0:c,h=o.forceRender,p=o.children,m=o.motionName,v=o.leavedClassName,y=o.eventProps,A=M.useContext(Yz),b=A.motion,g=r(o,b),w=M.useRef(),E=M.useRef();function C(){try{return w.current instanceof HTMLElement?w.current:I0(E.current)}catch{return null}}var _=Xae(g,u,C,o),L=Nt(_,4),R=L[0],P=L[1],T=L[2],D=L[3],$=M.useRef(D);D&&($.current=!0);var V=M.useCallback(function(Q){w.current=Q,dA(s,Q)},[s]),B,O=mt(mt({},y),{},{visible:u});if(!p)B=null;else if(R===kf)D?B=p(mt({},O),V):!d&&$.current&&v?B=p(mt(mt({},O),{},{className:v}),V):h||!d&&!v?B=p(mt(mt({},O),{},{style:{display:"none"}}),V):B=null;else{var F,k;P===Bl?k="prepare":a9(P)?k="active":P===hm&&(k="start");var z=G4(m,"".concat(R,"-").concat(k));B=p(mt(mt({},O),{},{className:Et(G4(m,R),(F={},ct(F,z,z&&k),ct(F,m,typeof m=="string"),F)),style:T}),V)}if(M.isValidElement(B)&&bc(B)){var G=B,j=G.ref;j||(B=M.cloneElement(B,{ref:V}))}return M.createElement(Uae,{ref:E},B)});return i.displayName="CSSMotion",i}const wc=qae(r9);var FT="add",UT="keep",zT="remove",M2="removed";function Yae(n){var e;return n&&Ir(n)==="object"&&"key"in n?e=n:e={key:n},mt(mt({},e),{},{key:String(e.key)})}function HT(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return n.map(Yae)}function Jae(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=[],i=0,o=e.length,s=HT(n),l=HT(e);s.forEach(function(d){for(var h=!1,p=i;p<o;p+=1){var m=l[p];if(m.key===d.key){i<p&&(r=r.concat(l.slice(i,p).map(function(v){return mt(mt({},v),{},{status:FT})})),i=p),r.push(mt(mt({},m),{},{status:UT})),i+=1,h=!0;break}}h||r.push(mt(mt({},d),{},{status:zT}))}),i<o&&(r=r.concat(l.slice(i).map(function(d){return mt(mt({},d),{},{status:FT})})));var u={};r.forEach(function(d){var h=d.key;u[h]=(u[h]||0)+1});var c=Object.keys(u).filter(function(d){return u[d]>1});return c.forEach(function(d){r=r.filter(function(h){var p=h.key,m=h.status;return p!==d||m!==zT}),r.forEach(function(h){h.key===d&&(h.status=UT)})}),r}var Zae=["component","children","onVisibleChanged","onAllRemoved"],ese=["status"],tse=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function nse(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wc,r=function(i){ql(s,i);var o=Yl(s);function s(){var l;ca(this,s);for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];return l=o.call.apply(o,[this].concat(c)),ct(ei(l),"state",{keyEntities:[]}),ct(ei(l),"removeKey",function(h){var p=l.state.keyEntities,m=p.map(function(v){return v.key!==h?v:mt(mt({},v),{},{status:M2})});return l.setState({keyEntities:m}),m.filter(function(v){var y=v.status;return y!==M2}).length}),l}return ua(s,[{key:"render",value:function(){var u=this,c=this.state.keyEntities,d=this.props,h=d.component,p=d.children,m=d.onVisibleChanged,v=d.onAllRemoved,y=Pr(d,Zae),A=h||M.Fragment,b={};return tse.forEach(function(g){b[g]=y[g],delete y[g]}),delete y.keys,M.createElement(A,y,c.map(function(g,w){var E=g.status,C=Pr(g,ese),_=E===FT||E===UT;return M.createElement(e,on({},b,{key:C.key,visible:_,eventProps:C,onVisibleChanged:function(R){if(m==null||m(R,{key:C.key}),!R){var P=u.removeKey(C.key);P===0&&v&&v()}}}),function(L,R){return p(mt(mt({},L),{},{index:w}),R)})}))}}],[{key:"getDerivedStateFromProps",value:function(u,c){var d=u.keys,h=c.keyEntities,p=HT(d),m=Jae(h,p);return{keyEntities:m.filter(function(v){var y=h.find(function(A){var b=A.key;return v.key===b});return!(y&&y.status===M2&&v.status===zT)})}}}]),s}(M.Component);return ct(r,"defaultProps",{component:"div"}),r}const s9=nse(r9);function rse(n){const{children:e}=n,[,r]=fl(),{motion:i}=r,o=M.useRef(!1);return o.current=o.current||i===!1,o.current?M.createElement(Fae,{motion:i},e):e}const ise=()=>null;var ose=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const ase=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","pagination","form","select","button"],sse="ant";let Kx,l9,c9;function J1(){return Kx||sse}function lse(){return l9||$I}function cse(n){return Object.keys(n).some(e=>e.endsWith("Color"))}const use=n=>{let{prefixCls:e,iconPrefixCls:r,theme:i}=n;e!==void 0&&(Kx=e),r!==void 0&&(l9=r),i&&(cse(i)?wae(J1(),i):c9=i)},u9=()=>({getPrefixCls:(n,e)=>e||(n?`${J1()}-${n}`:J1()),getIconPrefixCls:lse,getRootPrefixCls:()=>Kx||J1(),getTheme:()=>c9}),dse=n=>{const{children:e,csp:r,autoInsertSpaceInButton:i,alert:o,anchor:s,form:l,locale:u,componentSize:c,direction:d,space:h,virtual:p,dropdownMatchSelectWidth:m,popupMatchSelectWidth:v,popupOverflow:y,legacyLocale:A,parentContext:b,iconPrefixCls:g,theme:w,componentDisabled:E,segmented:C,statistic:_,spin:L,calendar:R,carousel:P,cascader:T,collapse:D,typography:$,checkbox:V,descriptions:B,divider:O,drawer:F,skeleton:k,steps:z,image:G,layout:j,list:Q,mentions:X,modal:J,progress:Z,result:oe,slider:ue,breadcrumb:Be,menu:ge,pagination:Ie,input:He,empty:Ze,badge:Xe,radio:ke,rate:lt,switch:ot,transfer:it,avatar:ft,message:xt,tag:At,table:Ct,card:Tt,tabs:Dt,timeline:Yt,timePicker:Ve,upload:be,notification:fe,tree:me,colorPicker:Te,datePicker:Ce,flex:Se,wave:we,warning:Ge}=n,Ae=M.useCallback((Je,Qe)=>{const{prefixCls:nt}=n;if(Qe)return Qe;const It=nt||b.getPrefixCls("");return Je?`${It}-${Je}`:It},[b.getPrefixCls,n.prefixCls]),Ue=g||b.iconPrefixCls||$I,et=r||b.csp;Xz(Ue,et);const ce=Nae(w,b.theme),Y={csp:et,autoInsertSpaceInButton:i,alert:o,anchor:s,locale:u||A,direction:d,space:h,virtual:p,popupMatchSelectWidth:v??m,popupOverflow:y,getPrefixCls:Ae,iconPrefixCls:Ue,theme:ce,segmented:C,statistic:_,spin:L,calendar:R,carousel:P,cascader:T,collapse:D,typography:$,checkbox:V,descriptions:B,divider:O,drawer:F,skeleton:k,steps:z,image:G,input:He,layout:j,list:Q,mentions:X,modal:J,progress:Z,result:oe,slider:ue,breadcrumb:Be,menu:ge,pagination:Ie,empty:Ze,badge:Xe,radio:ke,rate:lt,switch:ot,transfer:it,avatar:ft,message:xt,tag:At,table:Ct,card:Tt,tabs:Dt,timeline:Yt,timePicker:Ve,upload:be,notification:fe,tree:me,colorPicker:Te,datePicker:Ce,flex:Se,wave:we,warning:Ge},ne=Object.assign({},b);Object.keys(Y).forEach(Je=>{Y[Je]!==void 0&&(ne[Je]=Y[Je])}),ase.forEach(Je=>{const Qe=n[Je];Qe&&(ne[Je]=Qe)});const Le=Mh(()=>ne,ne,(Je,Qe)=>{const nt=Object.keys(Je),It=Object.keys(Qe);return nt.length!==It.length||nt.some(kt=>Je[kt]!==Qe[kt])}),We=M.useMemo(()=>({prefixCls:Ue,csp:et}),[Ue,et]);let ve=M.createElement(M.Fragment,null,M.createElement(ise,{dropdownMatchSelectWidth:m}),e);const he=M.useMemo(()=>{var Je,Qe,nt,It;return fm(((Je=Vd.Form)===null||Je===void 0?void 0:Je.defaultValidateMessages)||{},((nt=(Qe=Le.locale)===null||Qe===void 0?void 0:Qe.Form)===null||nt===void 0?void 0:nt.defaultValidateMessages)||{},((It=Le.form)===null||It===void 0?void 0:It.validateMessages)||{},(l==null?void 0:l.validateMessages)||{})},[Le,l==null?void 0:l.validateMessages]);Object.keys(he).length>0&&(ve=M.createElement(tae.Provider,{value:he},ve)),u&&(ve=M.createElement(dae,{locale:u,_ANT_MARK__:cae},ve)),(Ue||et)&&(ve=M.createElement(SI.Provider,{value:We},ve)),c&&(ve=M.createElement(_ae,{size:c},ve)),ve=M.createElement(rse,null,ve);const qe=M.useMemo(()=>{const Je=ce||{},{algorithm:Qe,token:nt,components:It}=Je,kt=ose(Je,["algorithm","token","components"]),Bt=Qe&&(!Array.isArray(Qe)||Qe.length>0)?hA(Qe):Vz,Gt={};Object.entries(It||{}).forEach(Pt=>{let[pt,Ot]=Pt;const cn=Object.assign({},Ot);"algorithm"in cn&&(cn.algorithm===!0?cn.theme=Bt:(Array.isArray(cn.algorithm)||typeof cn.algorithm=="function")&&(cn.theme=hA(cn.algorithm)),delete cn.algorithm),Gt[pt]=cn});const Vt=Object.assign(Object.assign({},Ym),nt);return Object.assign(Object.assign({},kt),{theme:Bt,token:Vt,components:Gt,override:Object.assign({override:Vt},Gt)})},[ce]);return w&&(ve=M.createElement(Wz.Provider,{value:qe},ve)),Le.warning&&(ve=M.createElement(eae.Provider,{value:Le.warning},ve)),E!==void 0&&(ve=M.createElement(Sae,{disabled:E},ve)),M.createElement(_r.Provider,{value:Le},ve)},Rh=n=>{const e=M.useContext(_r),r=M.useContext(zI);return M.createElement(dse,Object.assign({parentContext:e,legacyLocale:r},n))};Rh.ConfigContext=_r;Rh.SizeContext=uC;Rh.config=use;Rh.useConfig=Mae;Object.defineProperty(Rh,"SizeContext",{get:()=>uC});var fse=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,hse=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,pse="".concat(fse," ").concat(hse).split(/[\s\n]+/),mse="aria-",gse="data-";function j4(n,e){return n.indexOf(e)===0}function Ql(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r;e===!1?r={aria:!0,data:!0,attr:!0}:e===!0?r={aria:!0}:r=mt({},e);var i={};return Object.keys(n).forEach(function(o){(r.aria&&(o==="role"||j4(o,mse))||r.data&&j4(o,gse)||r.attr&&pse.includes(o))&&(i[o]=n[o])}),i}const{isValidElement:us}=BA;function d9(n){return n&&us(n)&&n.type===M.Fragment}function vse(n,e,r){return us(n)?M.cloneElement(n,typeof r=="function"?r(n.props||{}):r):e}function ya(n,e){return vse(n,n,e)}function $T(n){return n!=null&&n===n.window}function Ase(n,e){var r,i;if(typeof window>"u")return 0;const o=e?"scrollTop":"scrollLeft";let s=0;return $T(n)?s=n[e?"pageYOffset":"pageXOffset"]:n instanceof Document?s=n.documentElement[o]:(n instanceof HTMLElement||n)&&(s=n[o]),n&&!$T(n)&&typeof s!="number"&&(s=(i=((r=n.ownerDocument)!==null&&r!==void 0?r:n).documentElement)===null||i===void 0?void 0:i[o]),s}function yse(n,e,r,i){const o=r-e;return n/=i/2,n<1?o/2*n*n*n+e:o/2*((n-=2)*n*n+2)+e}function bse(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{getContainer:r=()=>window,callback:i,duration:o=450}=e,s=r(),l=Ase(s,!0),u=Date.now(),c=()=>{const h=Date.now()-u,p=yse(h>o?o:h,l,n,o);$T(s)?s.scrollTo(window.pageXOffset,p):s instanceof Document||s.constructor.name==="HTMLDocument"?s.documentElement.scrollTop=p:s.scrollTop=p,h<o?Oi(c):typeof i=="function"&&i()};Oi(c)}var vn={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var r=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||r>=vn.F1&&r<=vn.F12)return!1;switch(r){case vn.ALT:case vn.CAPS_LOCK:case vn.CONTEXT_MENU:case vn.CTRL:case vn.DOWN:case vn.END:case vn.ESC:case vn.HOME:case vn.INSERT:case vn.LEFT:case vn.MAC_FF_META:case vn.META:case vn.NUMLOCK:case vn.NUM_CENTER:case vn.PAGE_DOWN:case vn.PAGE_UP:case vn.PAUSE:case vn.PRINT_SCREEN:case vn.RIGHT:case vn.SHIFT:case vn.UP:case vn.WIN_KEY:case vn.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=vn.ZERO&&e<=vn.NINE||e>=vn.NUM_ZERO&&e<=vn.NUM_MULTIPLY||e>=vn.A&&e<=vn.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&e===0)return!0;switch(e){case vn.SPACE:case vn.QUESTION_MARK:case vn.NUM_PLUS:case vn.NUM_MINUS:case vn.NUM_PERIOD:case vn.NUM_DIVISION:case vn.SEMICOLON:case vn.DASH:case vn.EQUALS:case vn.COMMA:case vn.PERIOD:case vn.SLASH:case vn.APOSTROPHE:case vn.SINGLE_QUOTE:case vn.OPEN_SQUARE_BRACKET:case vn.BACKSLASH:case vn.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},f9=M.forwardRef(function(n,e){var r=n.prefixCls,i=n.style,o=n.className,s=n.duration,l=s===void 0?4.5:s,u=n.eventKey,c=n.content,d=n.closable,h=n.closeIcon,p=h===void 0?"x":h,m=n.props,v=n.onClick,y=n.onNoticeClose,A=n.times,b=n.hovering,g=M.useState(!1),w=Nt(g,2),E=w[0],C=w[1],_=b||E,L=function(){y(u)},R=function(D){(D.key==="Enter"||D.code==="Enter"||D.keyCode===vn.ENTER)&&L()};M.useEffect(function(){if(!_&&l>0){var T=setTimeout(function(){L()},l*1e3);return function(){clearTimeout(T)}}},[l,_,A]);var P="".concat(r,"-notice");return M.createElement("div",on({},m,{ref:e,className:Et(P,o,ct({},"".concat(P,"-closable"),d)),style:i,onMouseEnter:function(D){var $;C(!0),m==null||($=m.onMouseEnter)===null||$===void 0||$.call(m,D)},onMouseLeave:function(D){var $;C(!1),m==null||($=m.onMouseLeave)===null||$===void 0||$.call(m,D)},onClick:v}),M.createElement("div",{className:"".concat(P,"-content")},c),d&&M.createElement("a",{tabIndex:0,className:"".concat(P,"-close"),onKeyDown:R,onClick:function(D){D.preventDefault(),D.stopPropagation(),L()}},p))}),h9=nn.createContext({}),xse=function(e){var r=e.children,i=e.classNames;return nn.createElement(h9.Provider,{value:{classNames:i}},r)},V4=8,W4=3,Q4=16,Ese=function(e){var r={offset:V4,threshold:W4,gap:Q4};if(e&&Ir(e)==="object"){var i,o,s;r.offset=(i=e.offset)!==null&&i!==void 0?i:V4,r.threshold=(o=e.threshold)!==null&&o!==void 0?o:W4,r.gap=(s=e.gap)!==null&&s!==void 0?s:Q4}return[!!e,r]},Cse=["className","style","classNames","styles"],wse=function(e){var r,i=e.configList,o=e.placement,s=e.prefixCls,l=e.className,u=e.style,c=e.motion,d=e.onAllNoticeRemoved,h=e.onNoticeClose,p=e.stack,m=M.useContext(h9),v=m.classNames,y=M.useRef({}),A=M.useState(null),b=Nt(A,2),g=b[0],w=b[1],E=M.useState([]),C=Nt(E,2),_=C[0],L=C[1],R=i.map(function(z){return{config:z,key:String(z.key)}}),P=Ese(p),T=Nt(P,2),D=T[0],$=T[1],V=$.offset,B=$.threshold,O=$.gap,F=D&&(_.length>0||R.length<=B),k=typeof c=="function"?c(o):c;return M.useEffect(function(){D&&_.length>1&&L(function(z){return z.filter(function(G){return R.some(function(j){var Q=j.key;return G===Q})})})},[_,R,D]),M.useEffect(function(){var z;if(D&&y.current[(z=R[R.length-1])===null||z===void 0?void 0:z.key]){var G;w(y.current[(G=R[R.length-1])===null||G===void 0?void 0:G.key])}},[R,D]),nn.createElement(s9,on({key:o,className:Et(s,"".concat(s,"-").concat(o),v==null?void 0:v.list,l,(r={},ct(r,"".concat(s,"-stack"),!!D),ct(r,"".concat(s,"-stack-expanded"),F),r)),style:u,keys:R,motionAppear:!0},k,{onAllRemoved:function(){d(o)}}),function(z,G){var j=z.config,Q=z.className,X=z.style,J=z.index,Z=j,oe=Z.key,ue=Z.times,Be=String(oe),ge=j,Ie=ge.className,He=ge.style,Ze=ge.classNames,Xe=ge.styles,ke=Pr(ge,Cse),lt=R.findIndex(function(fe){return fe.key===Be}),ot={};if(D){var it=R.length-1-(lt>-1?lt:J-1),ft=o==="top"||o==="bottom"?"-50%":"0";if(it>0){var xt,At,Ct;ot.height=F?(xt=y.current[Be])===null||xt===void 0?void 0:xt.offsetHeight:g==null?void 0:g.offsetHeight;for(var Tt=0,Dt=0;Dt<it;Dt++){var Yt;Tt+=((Yt=y.current[R[R.length-1-Dt].key])===null||Yt===void 0?void 0:Yt.offsetHeight)+O}var Ve=(F?Tt:it*V)*(o.startsWith("top")?1:-1),be=!F&&g!==null&&g!==void 0&&g.offsetWidth&&(At=y.current[Be])!==null&&At!==void 0&&At.offsetWidth?((g==null?void 0:g.offsetWidth)-V*2*(it<3?it:3))/((Ct=y.current[Be])===null||Ct===void 0?void 0:Ct.offsetWidth):1;ot.transform="translate3d(".concat(ft,", ").concat(Ve,"px, 0) scaleX(").concat(be,")")}else ot.transform="translate3d(".concat(ft,", 0, 0)")}return nn.createElement("div",{ref:G,className:Et("".concat(s,"-notice-wrapper"),Q,Ze==null?void 0:Ze.wrapper),style:mt(mt(mt({},X),ot),Xe==null?void 0:Xe.wrapper),onMouseEnter:function(){return L(function(me){return me.includes(Be)?me:[].concat(An(me),[Be])})},onMouseLeave:function(){return L(function(me){return me.filter(function(Te){return Te!==Be})})}},nn.createElement(f9,on({},ke,{ref:function(me){lt>-1?y.current[Be]=me:delete y.current[Be]},prefixCls:s,classNames:Ze,styles:Xe,className:Et(Ie,v==null?void 0:v.notice),style:He,times:ue,key:oe,eventKey:oe,onNoticeClose:h,hovering:D&&_.length>0})))})},Sse=M.forwardRef(function(n,e){var r=n.prefixCls,i=r===void 0?"rc-notification":r,o=n.container,s=n.motion,l=n.maxCount,u=n.className,c=n.style,d=n.onAllRemoved,h=n.stack,p=n.renderNotifications,m=M.useState([]),v=Nt(m,2),y=v[0],A=v[1],b=function(T){var D,$=y.find(function(V){return V.key===T});$==null||(D=$.onClose)===null||D===void 0||D.call($),A(function(V){return V.filter(function(B){return B.key!==T})})};M.useImperativeHandle(e,function(){return{open:function(T){A(function(D){var $=An(D),V=$.findIndex(function(F){return F.key===T.key}),B=mt({},T);if(V>=0){var O;B.times=(((O=D[V])===null||O===void 0?void 0:O.times)||0)+1,$[V]=B}else B.times=0,$.push(B);return l>0&&$.length>l&&($=$.slice(-l)),$})},close:function(T){b(T)},destroy:function(){A([])}}});var g=M.useState({}),w=Nt(g,2),E=w[0],C=w[1];M.useEffect(function(){var P={};y.forEach(function(T){var D=T.placement,$=D===void 0?"topRight":D;$&&(P[$]=P[$]||[],P[$].push(T))}),Object.keys(E).forEach(function(T){P[T]=P[T]||[]}),C(P)},[y]);var _=function(T){C(function(D){var $=mt({},D),V=$[T]||[];return V.length||delete $[T],$})},L=M.useRef(!1);if(M.useEffect(function(){Object.keys(E).length>0?L.current=!0:L.current&&(d==null||d(),L.current=!1)},[E]),!o)return null;var R=Object.keys(E);return Ns.createPortal(M.createElement(M.Fragment,null,R.map(function(P){var T=E[P],D=M.createElement(wse,{key:P,configList:T,placement:P,prefixCls:i,className:u==null?void 0:u(P),style:c==null?void 0:c(P),motion:s,onNoticeClose:b,onAllNoticeRemoved:_,stack:h});return p?p(D,{prefixCls:i,key:P}):D})),o)}),_se=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],Mse=function(){return document.body},K4=0;function Tse(){for(var n={},e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return r.forEach(function(o){o&&Object.keys(o).forEach(function(s){var l=o[s];l!==void 0&&(n[s]=l)})}),n}function Rse(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.getContainer,r=e===void 0?Mse:e,i=n.motion,o=n.prefixCls,s=n.maxCount,l=n.className,u=n.style,c=n.onAllRemoved,d=n.stack,h=n.renderNotifications,p=Pr(n,_se),m=M.useState(),v=Nt(m,2),y=v[0],A=v[1],b=M.useRef(),g=M.createElement(Sse,{container:y,ref:b,prefixCls:o,motion:i,maxCount:s,className:l,style:u,onAllRemoved:c,stack:d,renderNotifications:h}),w=M.useState([]),E=Nt(w,2),C=E[0],_=E[1],L=M.useMemo(function(){return{open:function(P){var T=Tse(p,P);(T.key===null||T.key===void 0)&&(T.key="rc-notification-".concat(K4),K4+=1),_(function(D){return[].concat(An(D),[{type:"open",config:T}])})},close:function(P){_(function(T){return[].concat(An(T),[{type:"close",key:P}])})},destroy:function(){_(function(P){return[].concat(An(P),[{type:"destroy"}])})}}},[]);return M.useEffect(function(){A(r())}),M.useEffect(function(){b.current&&C.length&&(C.forEach(function(R){switch(R.type){case"open":b.current.open(R.config);break;case"close":b.current.close(R.key);break;case"destroy":b.current.destroy();break}}),_(function(R){return R.filter(function(P){return!C.includes(P)})}))},[C]),[L,g]}const Ise=n=>{const{componentCls:e,iconCls:r,boxShadow:i,colorText:o,colorSuccess:s,colorError:l,colorWarning:u,colorInfo:c,fontSizeLG:d,motionEaseInOutCirc:h,motionDurationSlow:p,marginXS:m,paddingXS:v,borderRadiusLG:y,zIndexPopup:A,contentPadding:b,contentBg:g}=n,w=`${e}-notice`,E=new ui("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:v,transform:"translateY(0)",opacity:1}}),C=new ui("MessageMoveOut",{"0%":{maxHeight:n.height,padding:v,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),_={padding:v,textAlign:"center",[`${e}-custom-content > ${r}`]:{verticalAlign:"text-bottom",marginInlineEnd:m,fontSize:d},[`${w}-content`]:{display:"inline-block",padding:b,background:g,borderRadius:y,boxShadow:i,pointerEvents:"all"},[`${e}-success > ${r}`]:{color:s},[`${e}-error > ${r}`]:{color:l},[`${e}-warning > ${r}`]:{color:u},[`${e}-info > ${r},
      ${e}-loading > ${r}`]:{color:c}};return[{[e]:Object.assign(Object.assign({},ji(n)),{color:o,position:"fixed",top:m,width:"100%",pointerEvents:"none",zIndex:A,[`${e}-move-up`]:{animationFillMode:"forwards"},[`
        ${e}-move-up-appear,
        ${e}-move-up-enter
      `]:{animationName:E,animationDuration:p,animationPlayState:"paused",animationTimingFunction:h},[`
        ${e}-move-up-appear${e}-move-up-appear-active,
        ${e}-move-up-enter${e}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${e}-move-up-leave`]:{animationName:C,animationDuration:p,animationPlayState:"paused",animationTimingFunction:h},[`${e}-move-up-leave${e}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[e]:{[`${w}-wrapper`]:Object.assign({},_)}},{[`${e}-notice-pure-panel`]:Object.assign(Object.assign({},_),{padding:0,textAlign:"start"})}]},p9=zi("Message",n=>{const e=ti(n,{height:150});return[Ise(e)]},n=>({zIndexPopup:n.zIndexPopupBase+10,contentBg:n.colorBgElevated,contentPadding:`${(n.controlHeightLG-n.fontSize*n.lineHeight)/2}px ${n.paddingSM}px`}));var Lse=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const Pse={info:M.createElement(kre,null),success:M.createElement(sz,null),error:M.createElement(FA,null),warning:M.createElement(Xne,null),loading:M.createElement(Qm,null)},m9=n=>{let{prefixCls:e,type:r,icon:i,children:o}=n;return M.createElement("div",{className:Et(`${e}-custom-content`,`${e}-${r}`)},i||Pse[r],M.createElement("span",null,o))},Bse=n=>{const{prefixCls:e,className:r,type:i,icon:o,content:s}=n,l=Lse(n,["prefixCls","className","type","icon","content"]),{getPrefixCls:u}=M.useContext(_r),c=e||u("message"),[,d]=p9(c);return M.createElement(f9,Object.assign({},l,{prefixCls:c,className:Et(r,d,`${c}-notice-pure-panel`),eventKey:"pure",duration:null,content:M.createElement(m9,{prefixCls:c,type:i,icon:o},s)}))},Ose=Bse;function Dse(n,e){return{motionName:e??`${n}-move-up`}}function QI(n){let e;const r=new Promise(o=>{e=n(()=>{o(!0)})}),i=()=>{e==null||e()};return i.then=(o,s)=>r.then(o,s),i.promise=r,i}var Nse=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const kse=8,Fse=3,Use=n=>{let{children:e,prefixCls:r}=n;const[,i]=p9(r);return M.createElement(xse,{classNames:{list:i,notice:i}},e)},zse=(n,e)=>{let{prefixCls:r,key:i}=e;return M.createElement(Use,{prefixCls:r,key:i},n)},Hse=M.forwardRef((n,e)=>{const{top:r,prefixCls:i,getContainer:o,maxCount:s,duration:l=Fse,rtl:u,transitionName:c,onAllRemoved:d}=n,{getPrefixCls:h,getPopupContainer:p,message:m}=M.useContext(_r),v=i||h("message"),y=()=>({left:"50%",transform:"translateX(-50%)",top:r??kse}),A=()=>Et({[`${v}-rtl`]:u}),b=()=>Dse(v,c),g=M.createElement("span",{className:`${v}-close-x`},M.createElement(pg,{className:`${v}-close-icon`})),[w,E]=Rse({prefixCls:v,style:y,className:A,motion:b,closable:!1,closeIcon:g,duration:l,getContainer:()=>(o==null?void 0:o())||(p==null?void 0:p())||document.body,maxCount:s,onAllRemoved:d,renderNotifications:zse});return M.useImperativeHandle(e,()=>Object.assign(Object.assign({},w),{prefixCls:v,message:m})),E});let X4=0;function g9(n){const e=M.useRef(null);return gg(),[M.useMemo(()=>{const i=c=>{var d;(d=e.current)===null||d===void 0||d.close(c)},o=c=>{if(!e.current){const L=()=>{};return L.then=()=>{},L}const{open:d,prefixCls:h,message:p}=e.current,m=`${h}-notice`,{content:v,icon:y,type:A,key:b,className:g,style:w,onClose:E}=c,C=Nse(c,["content","icon","type","key","className","style","onClose"]);let _=b;return _==null&&(X4+=1,_=`antd-message-${X4}`),QI(L=>(d(Object.assign(Object.assign({},C),{key:_,content:M.createElement(m9,{prefixCls:h,type:A,icon:y},v),placement:"top",className:Et(A&&`${m}-${A}`,g,p==null?void 0:p.className),style:Object.assign(Object.assign({},p==null?void 0:p.style),w),onClose:()=>{E==null||E(),L()}})),()=>{i(_)}))},l={open:o,destroy:c=>{var d;c!==void 0?i(c):(d=e.current)===null||d===void 0||d.destroy()}};return["info","success","warning","error","loading"].forEach(c=>{const d=(h,p,m)=>{let v;h&&typeof h=="object"&&"content"in h?v=h:v={content:h};let y,A;typeof p=="function"?A=p:(y=p,A=m);const b=Object.assign(Object.assign({onClose:A,duration:y},v),{type:c});return o(b)};l[c]=d}),l},[]),M.createElement(Hse,Object.assign({key:"message-holder"},n,{ref:e}))]}function $se(n){return g9(n)}function ba(){ba=function(){return e};var n,e={},r=Object.prototype,i=r.hasOwnProperty,o=Object.defineProperty||function(k,z,G){k[z]=G.value},s=typeof Symbol=="function"?Symbol:{},l=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function d(k,z,G){return Object.defineProperty(k,z,{value:G,enumerable:!0,configurable:!0,writable:!0}),k[z]}try{d({},"")}catch{d=function(G,j,Q){return G[j]=Q}}function h(k,z,G,j){var Q=z&&z.prototype instanceof g?z:g,X=Object.create(Q.prototype),J=new O(j||[]);return o(X,"_invoke",{value:D(k,G,J)}),X}function p(k,z,G){try{return{type:"normal",arg:k.call(z,G)}}catch(j){return{type:"throw",arg:j}}}e.wrap=h;var m="suspendedStart",v="suspendedYield",y="executing",A="completed",b={};function g(){}function w(){}function E(){}var C={};d(C,l,function(){return this});var _=Object.getPrototypeOf,L=_&&_(_(F([])));L&&L!==r&&i.call(L,l)&&(C=L);var R=E.prototype=g.prototype=Object.create(C);function P(k){["next","throw","return"].forEach(function(z){d(k,z,function(G){return this._invoke(z,G)})})}function T(k,z){function G(Q,X,J,Z){var oe=p(k[Q],k,X);if(oe.type!=="throw"){var ue=oe.arg,Be=ue.value;return Be&&Ir(Be)=="object"&&i.call(Be,"__await")?z.resolve(Be.__await).then(function(ge){G("next",ge,J,Z)},function(ge){G("throw",ge,J,Z)}):z.resolve(Be).then(function(ge){ue.value=ge,J(ue)},function(ge){return G("throw",ge,J,Z)})}Z(oe.arg)}var j;o(this,"_invoke",{value:function(X,J){function Z(){return new z(function(oe,ue){G(X,J,oe,ue)})}return j=j?j.then(Z,Z):Z()}})}function D(k,z,G){var j=m;return function(Q,X){if(j===y)throw new Error("Generator is already running");if(j===A){if(Q==="throw")throw X;return{value:n,done:!0}}for(G.method=Q,G.arg=X;;){var J=G.delegate;if(J){var Z=$(J,G);if(Z){if(Z===b)continue;return Z}}if(G.method==="next")G.sent=G._sent=G.arg;else if(G.method==="throw"){if(j===m)throw j=A,G.arg;G.dispatchException(G.arg)}else G.method==="return"&&G.abrupt("return",G.arg);j=y;var oe=p(k,z,G);if(oe.type==="normal"){if(j=G.done?A:v,oe.arg===b)continue;return{value:oe.arg,done:G.done}}oe.type==="throw"&&(j=A,G.method="throw",G.arg=oe.arg)}}}function $(k,z){var G=z.method,j=k.iterator[G];if(j===n)return z.delegate=null,G==="throw"&&k.iterator.return&&(z.method="return",z.arg=n,$(k,z),z.method==="throw")||G!=="return"&&(z.method="throw",z.arg=new TypeError("The iterator does not provide a '"+G+"' method")),b;var Q=p(j,k.iterator,z.arg);if(Q.type==="throw")return z.method="throw",z.arg=Q.arg,z.delegate=null,b;var X=Q.arg;return X?X.done?(z[k.resultName]=X.value,z.next=k.nextLoc,z.method!=="return"&&(z.method="next",z.arg=n),z.delegate=null,b):X:(z.method="throw",z.arg=new TypeError("iterator result is not an object"),z.delegate=null,b)}function V(k){var z={tryLoc:k[0]};1 in k&&(z.catchLoc=k[1]),2 in k&&(z.finallyLoc=k[2],z.afterLoc=k[3]),this.tryEntries.push(z)}function B(k){var z=k.completion||{};z.type="normal",delete z.arg,k.completion=z}function O(k){this.tryEntries=[{tryLoc:"root"}],k.forEach(V,this),this.reset(!0)}function F(k){if(k||k===""){var z=k[l];if(z)return z.call(k);if(typeof k.next=="function")return k;if(!isNaN(k.length)){var G=-1,j=function Q(){for(;++G<k.length;)if(i.call(k,G))return Q.value=k[G],Q.done=!1,Q;return Q.value=n,Q.done=!0,Q};return j.next=j}}throw new TypeError(Ir(k)+" is not iterable")}return w.prototype=E,o(R,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:w,configurable:!0}),w.displayName=d(E,c,"GeneratorFunction"),e.isGeneratorFunction=function(k){var z=typeof k=="function"&&k.constructor;return!!z&&(z===w||(z.displayName||z.name)==="GeneratorFunction")},e.mark=function(k){return Object.setPrototypeOf?Object.setPrototypeOf(k,E):(k.__proto__=E,d(k,c,"GeneratorFunction")),k.prototype=Object.create(R),k},e.awrap=function(k){return{__await:k}},P(T.prototype),d(T.prototype,u,function(){return this}),e.AsyncIterator=T,e.async=function(k,z,G,j,Q){Q===void 0&&(Q=Promise);var X=new T(h(k,z,G,j),Q);return e.isGeneratorFunction(z)?X:X.next().then(function(J){return J.done?J.value:X.next()})},P(R),d(R,c,"Generator"),d(R,l,function(){return this}),d(R,"toString",function(){return"[object Generator]"}),e.keys=function(k){var z=Object(k),G=[];for(var j in z)G.push(j);return G.reverse(),function Q(){for(;G.length;){var X=G.pop();if(X in z)return Q.value=X,Q.done=!1,Q}return Q.done=!0,Q}},e.values=F,O.prototype={constructor:O,reset:function(z){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(B),!z)for(var G in this)G.charAt(0)==="t"&&i.call(this,G)&&!isNaN(+G.slice(1))&&(this[G]=n)},stop:function(){this.done=!0;var z=this.tryEntries[0].completion;if(z.type==="throw")throw z.arg;return this.rval},dispatchException:function(z){if(this.done)throw z;var G=this;function j(ue,Be){return J.type="throw",J.arg=z,G.next=ue,Be&&(G.method="next",G.arg=n),!!Be}for(var Q=this.tryEntries.length-1;Q>=0;--Q){var X=this.tryEntries[Q],J=X.completion;if(X.tryLoc==="root")return j("end");if(X.tryLoc<=this.prev){var Z=i.call(X,"catchLoc"),oe=i.call(X,"finallyLoc");if(Z&&oe){if(this.prev<X.catchLoc)return j(X.catchLoc,!0);if(this.prev<X.finallyLoc)return j(X.finallyLoc)}else if(Z){if(this.prev<X.catchLoc)return j(X.catchLoc,!0)}else{if(!oe)throw new Error("try statement without catch or finally");if(this.prev<X.finallyLoc)return j(X.finallyLoc)}}}},abrupt:function(z,G){for(var j=this.tryEntries.length-1;j>=0;--j){var Q=this.tryEntries[j];if(Q.tryLoc<=this.prev&&i.call(Q,"finallyLoc")&&this.prev<Q.finallyLoc){var X=Q;break}}X&&(z==="break"||z==="continue")&&X.tryLoc<=G&&G<=X.finallyLoc&&(X=null);var J=X?X.completion:{};return J.type=z,J.arg=G,X?(this.method="next",this.next=X.finallyLoc,b):this.complete(J)},complete:function(z,G){if(z.type==="throw")throw z.arg;return z.type==="break"||z.type==="continue"?this.next=z.arg:z.type==="return"?(this.rval=this.arg=z.arg,this.method="return",this.next="end"):z.type==="normal"&&G&&(this.next=G),b},finish:function(z){for(var G=this.tryEntries.length-1;G>=0;--G){var j=this.tryEntries[G];if(j.finallyLoc===z)return this.complete(j.completion,j.afterLoc),B(j),b}},catch:function(z){for(var G=this.tryEntries.length-1;G>=0;--G){var j=this.tryEntries[G];if(j.tryLoc===z){var Q=j.completion;if(Q.type==="throw"){var X=Q.arg;B(j)}return X}}throw new Error("illegal catch attempt")},delegateYield:function(z,G,j){return this.delegate={iterator:F(z),resultName:G,nextLoc:j},this.method==="next"&&(this.arg=n),b}},e}function q4(n,e,r,i,o,s,l){try{var u=n[s](l),c=u.value}catch(d){r(d);return}u.done?e(c):Promise.resolve(c).then(i,o)}function Zd(n){return function(){var e=this,r=arguments;return new Promise(function(i,o){var s=n.apply(e,r);function l(c){q4(s,i,o,l,u,"next",c)}function u(c){q4(s,i,o,l,u,"throw",c)}l(void 0)})}}var zA=mt({},Kee),Gse=zA.version,jse=zA.render,Vse=zA.unmountComponentAtNode,fC;try{var Wse=Number((Gse||"").split(".")[0]);Wse>=18&&(fC=zA.createRoot)}catch{}function Y4(n){var e=zA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&Ir(e)==="object"&&(e.usingClientEntryPoint=n)}var Xx="__rc_react_root__";function Qse(n,e){Y4(!0);var r=e[Xx]||fC(e);Y4(!1),r.render(n),e[Xx]=r}function Kse(n,e){jse(n,e)}function v9(n,e){if(fC){Qse(n,e);return}Kse(n,e)}function Xse(n){return GT.apply(this,arguments)}function GT(){return GT=Zd(ba().mark(function n(e){return ba().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Promise.resolve().then(function(){var o;(o=e[Xx])===null||o===void 0||o.unmount(),delete e[Xx]}));case 1:case"end":return i.stop()}},n)})),GT.apply(this,arguments)}function qse(n){Vse(n)}function Yse(n){return jT.apply(this,arguments)}function jT(){return jT=Zd(ba().mark(function n(e){return ba().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(fC===void 0){i.next=2;break}return i.abrupt("return",Xse(e));case 2:qse(e);case 3:case"end":return i.stop()}},n)})),jT.apply(this,arguments)}const T2=()=>({height:0,opacity:0}),J4=n=>{const{scrollHeight:e}=n;return{height:e,opacity:1}},Jse=n=>({height:n?n.offsetHeight:0}),R2=(n,e)=>(e==null?void 0:e.deadline)===!0||e.propertyName==="height",Zse=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ant"}-motion-collapse`,onAppearStart:T2,onEnterStart:T2,onAppearActive:J4,onEnterActive:J4,onLeaveStart:Jse,onLeaveActive:T2,onAppearEnd:R2,onEnterEnd:R2,onLeaveEnd:R2,motionDeadline:500}},KI=(n,e,r)=>r!==void 0?r:`${n}-${e}`,XI=Zse,hC=function(n){if(!n)return!1;if(n instanceof Element){if(n.offsetParent)return!0;if(n.getBBox){var e=n.getBBox(),r=e.width,i=e.height;if(r||i)return!0}if(n.getBoundingClientRect){var o=n.getBoundingClientRect(),s=o.width,l=o.height;if(s||l)return!0}}return!1},ele=n=>{const{componentCls:e,colorPrimary:r}=n;return{[e]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${r})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${n.motionEaseOutCirc}`,`opacity 2s ${n.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow 0.3s ${n.motionEaseInOut}`,`opacity 0.35s ${n.motionEaseInOut}`].join(",")}}}}},tle=zi("Wave",n=>[ele(n)]);function nle(n){const e=(n||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return e&&e[1]&&e[2]&&e[3]?!(e[1]===e[2]&&e[2]===e[3]):!0}function I2(n){return n&&n!=="#fff"&&n!=="#ffffff"&&n!=="rgb(255, 255, 255)"&&n!=="rgba(255, 255, 255, 1)"&&nle(n)&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&n!=="transparent"}function rle(n){const{borderTopColor:e,borderColor:r,backgroundColor:i}=getComputedStyle(n);return I2(e)?e:I2(r)?r:I2(i)?i:null}const pC="ant-wave-target";function L2(n){return Number.isNaN(n)?0:n}const ile=n=>{const{className:e,target:r,component:i}=n,o=M.useRef(null),[s,l]=M.useState(null),[u,c]=M.useState([]),[d,h]=M.useState(0),[p,m]=M.useState(0),[v,y]=M.useState(0),[A,b]=M.useState(0),[g,w]=M.useState(!1),E={left:d,top:p,width:v,height:A,borderRadius:u.map(L=>`${L}px`).join(" ")};s&&(E["--wave-color"]=s);function C(){const L=getComputedStyle(r);l(rle(r));const R=L.position==="static",{borderLeftWidth:P,borderTopWidth:T}=L;h(R?r.offsetLeft:L2(-parseFloat(P))),m(R?r.offsetTop:L2(-parseFloat(T))),y(r.offsetWidth),b(r.offsetHeight);const{borderTopLeftRadius:D,borderTopRightRadius:$,borderBottomLeftRadius:V,borderBottomRightRadius:B}=L;c([D,$,B,V].map(O=>L2(parseFloat(O))))}if(M.useEffect(()=>{if(r){const L=Oi(()=>{C(),w(!0)});let R;return typeof ResizeObserver<"u"&&(R=new ResizeObserver(C),R.observe(r)),()=>{Oi.cancel(L),R==null||R.disconnect()}}},[]),!g)return null;const _=(i==="Checkbox"||i==="Radio")&&(r==null?void 0:r.classList.contains(pC));return M.createElement(wc,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(L,R)=>{var P;if(R.deadline||R.propertyName==="opacity"){const T=(P=o.current)===null||P===void 0?void 0:P.parentElement;Yse(T).then(()=>{T==null||T.remove()})}return!1}},L=>{let{className:R}=L;return M.createElement("div",{ref:o,className:Et(e,{"wave-quick":_},R),style:E})})},ole=(n,e)=>{var r;const{component:i}=e;if(i==="Checkbox"&&!(!((r=n.querySelector("input"))===null||r===void 0)&&r.checked))return;const o=document.createElement("div");o.style.position="absolute",o.style.left="0px",o.style.top="0px",n==null||n.insertBefore(o,n==null?void 0:n.firstChild),v9(M.createElement(ile,Object.assign({},e,{target:n})),o)},ale=ole;function sle(n,e,r){const{wave:i}=M.useContext(_r),[,o,s]=fl(),l=jo(d=>{const h=n.current;if(i!=null&&i.disabled||!h)return;const p=h.querySelector(`.${pC}`)||h,{showEffect:m}=i||{};(m||ale)(p,{className:e,token:o,component:r,event:d,hashId:s})}),u=M.useRef();return d=>{Oi.cancel(u.current),u.current=Oi(()=>{l(d)})}}const lle=n=>{const{children:e,disabled:r,component:i}=n,{getPrefixCls:o}=M.useContext(_r),s=M.useRef(null),l=o("wave"),[,u]=tle(l),c=sle(s,Et(l,u),i);if(nn.useEffect(()=>{const h=s.current;if(!h||h.nodeType!==1||r)return;const p=m=>{!hC(m.target)||!h.getAttribute||h.getAttribute("disabled")||h.disabled||h.className.includes("disabled")||h.className.includes("-leave")||c(m)};return h.addEventListener("click",p,!0),()=>{h.removeEventListener("click",p,!0)}},[r]),!nn.isValidElement(e))return e??null;const d=bc(e)?zs(e.ref,s):s;return ya(e,{ref:d})},mC=lle,cle=n=>{const e=nn.useContext(uC);return nn.useMemo(()=>n?typeof n=="string"?n??e:n instanceof Function?n(e):e:e,[n,e])},Jl=cle,ule=n=>{const{componentCls:e}=n;return{[e]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},dle=ule,fle=n=>{const{componentCls:e}=n;return{[e]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${e}-item:empty`]:{display:"none"}}}},hle=n=>{const{componentCls:e}=n;return{[e]:{"&-gap-row-small":{rowGap:n.spaceGapSmallSize},"&-gap-row-middle":{rowGap:n.spaceGapMiddleSize},"&-gap-row-large":{rowGap:n.spaceGapLargeSize},"&-gap-col-small":{columnGap:n.spaceGapSmallSize},"&-gap-col-middle":{columnGap:n.spaceGapMiddleSize},"&-gap-col-large":{columnGap:n.spaceGapLargeSize}}}},A9=zi("Space",n=>{const e=ti(n,{spaceGapSmallSize:n.paddingXS,spaceGapMiddleSize:n.padding,spaceGapLargeSize:n.paddingLG});return[fle(e),hle(e),dle(e)]},()=>({}),{resetStyle:!1});var y9=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const gC=M.createContext(null),HA=(n,e)=>{const r=M.useContext(gC),i=M.useMemo(()=>{if(!r)return"";const{compactDirection:o,isFirstItem:s,isLastItem:l}=r,u=o==="vertical"?"-vertical-":"-";return Et(`${n}-compact${u}item`,{[`${n}-compact${u}first-item`]:s,[`${n}-compact${u}last-item`]:l,[`${n}-compact${u}item-rtl`]:e==="rtl"})},[n,e,r]);return{compactSize:r==null?void 0:r.compactSize,compactDirection:r==null?void 0:r.compactDirection,compactItemClassnames:i}},qx=n=>{let{children:e}=n;return M.createElement(gC.Provider,{value:null},e)},ple=n=>{var{children:e}=n,r=y9(n,["children"]);return M.createElement(gC.Provider,{value:r},e)},mle=n=>{const{getPrefixCls:e,direction:r}=M.useContext(_r),{size:i,direction:o,block:s,prefixCls:l,className:u,rootClassName:c,children:d}=n,h=y9(n,["size","direction","block","prefixCls","className","rootClassName","children"]),p=Jl(E=>i??E),m=e("space-compact",l),[v,y]=A9(m),A=Et(m,y,{[`${m}-rtl`]:r==="rtl",[`${m}-block`]:s,[`${m}-vertical`]:o==="vertical"},u,c),b=M.useContext(gC),g=qa(d),w=M.useMemo(()=>g.map((E,C)=>{const _=E&&E.key||`${m}-item-${C}`;return M.createElement(ple,{key:_,compactSize:p,compactDirection:o,isFirstItem:C===0&&(!b||(b==null?void 0:b.isFirstItem)),isLastItem:C===g.length-1&&(!b||(b==null?void 0:b.isLastItem))},E)}),[i,g,b]);return g.length===0?null:v(M.createElement("div",Object.assign({className:A},h),w))};var gle=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const b9=M.createContext(void 0),vle=n=>{const{getPrefixCls:e,direction:r}=M.useContext(_r),{prefixCls:i,size:o,className:s}=n,l=gle(n,["prefixCls","size","className"]),u=e("btn-group",i),[,,c]=fl();let d="";switch(o){case"large":d="lg";break;case"small":d="sm";break}const h=Et(u,{[`${u}-${d}`]:d,[`${u}-rtl`]:r==="rtl"},s,c);return M.createElement(b9.Provider,{value:o},M.createElement("div",Object.assign({},l,{className:h})))},Ale=vle,Z4=/^[\u4e00-\u9fa5]{2}$/,VT=Z4.test.bind(Z4);function eN(n){return typeof n=="string"}function P2(n){return n==="text"||n==="link"}function yle(n,e){if(n==null)return;const r=e?" ":"";return typeof n!="string"&&typeof n!="number"&&eN(n.type)&&VT(n.props.children)?ya(n,{children:n.props.children.split("").join(r)}):eN(n)?VT(n)?nn.createElement("span",null,n.split("").join(r)):nn.createElement("span",null,n):d9(n)?nn.createElement("span",null,n):n}function ble(n,e){let r=!1;const i=[];return nn.Children.forEach(n,o=>{const s=typeof o,l=s==="string"||s==="number";if(r&&l){const u=i.length-1,c=i[u];i[u]=`${c}${o}`}else i.push(o);r=l}),nn.Children.map(i,o=>yle(o,e))}const xle=M.forwardRef((n,e)=>{const{className:r,style:i,children:o,prefixCls:s}=n,l=Et(`${s}-icon`,r);return nn.createElement("span",{ref:e,className:l,style:i},o)}),x9=xle,tN=M.forwardRef((n,e)=>{let{prefixCls:r,className:i,style:o,iconClassName:s}=n;const l=Et(`${r}-loading-icon`,i);return nn.createElement(x9,{prefixCls:r,className:l,style:o,ref:e},nn.createElement(Qm,{className:s}))}),B2=()=>({width:0,opacity:0,transform:"scale(0)"}),O2=n=>({width:n.scrollWidth,opacity:1,transform:"scale(1)"}),Ele=n=>{const{prefixCls:e,loading:r,existIcon:i,className:o,style:s}=n,l=!!r;return i?nn.createElement(tN,{prefixCls:e,className:o,style:s}):nn.createElement(wc,{visible:l,motionName:`${e}-loading-icon-motion`,motionLeave:l,removeOnLeave:!0,onAppearStart:B2,onAppearActive:O2,onEnterStart:B2,onEnterActive:O2,onLeaveStart:O2,onLeaveActive:B2},(u,c)=>{let{className:d,style:h}=u;return nn.createElement(tN,{prefixCls:e,className:o,style:Object.assign(Object.assign({},s),h),ref:c,iconClassName:d})})},Cle=Ele,nN=(n,e)=>({[`> span, > ${n}`]:{"&:not(:last-child)":{[`&, & > ${n}`]:{"&:not(:disabled)":{borderInlineEndColor:e}}},"&:not(:first-child)":{[`&, & > ${n}`]:{"&:not(:disabled)":{borderInlineStartColor:e}}}}}),wle=n=>{const{componentCls:e,fontSize:r,lineWidth:i,groupBorderColor:o,colorErrorHover:s}=n;return{[`${e}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:-i,[`&, & > ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[e]:{position:"relative",zIndex:1,"&:hover,\n          &:focus,\n          &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${e}-icon-only`]:{fontSize:r}},nN(`${e}-primary`,o),nN(`${e}-danger`,s)]}},Sle=wle,_le=n=>{const{componentCls:e,iconCls:r,fontWeight:i}=n;return{[e]:{outline:"none",position:"relative",display:"inline-block",fontWeight:i,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",backgroundColor:"transparent",border:`${n.lineWidth}px ${n.lineType} transparent`,cursor:"pointer",transition:`all ${n.motionDurationMid} ${n.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",lineHeight:n.lineHeight,color:n.colorText,"&:disabled > *":{pointerEvents:"none"},"> span":{display:"inline-block"},[`${e}-icon`]:{lineHeight:0},[`> ${r} + span, > span + ${r}`]:{marginInlineStart:n.marginXS},[`&:not(${e}-icon-only) > ${e}-icon`]:{[`&${e}-loading-icon, &:not(:last-child)`]:{marginInlineEnd:n.marginXS}},"> a":{color:"currentColor"},"&:not(:disabled)":Object.assign({},Jm(n)),[`&${e}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${e}-two-chinese-chars > *:not(${r})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&-icon-only${e}-compact-item`]:{flex:"none"},[`&-compact-item${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-n.lineWidth,insetInlineStart:-n.lineWidth,display:"inline-block",width:n.lineWidth,height:`calc(100% + ${n.lineWidth*2}px)`,backgroundColor:n.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-vertical-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-n.lineWidth,insetInlineStart:-n.lineWidth,display:"inline-block",width:`calc(100% + ${n.lineWidth*2}px)`,height:n.lineWidth,backgroundColor:n.colorPrimaryHover,content:'""'}}}}}}},Lu=(n,e,r)=>({[`&:not(:disabled):not(${n}-disabled)`]:{"&:hover":e,"&:active":r}}),Mle=n=>({minWidth:n.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),Tle=n=>({borderRadius:n.controlHeight,paddingInlineStart:n.controlHeight/2,paddingInlineEnd:n.controlHeight/2}),Rle=n=>({cursor:"not-allowed",borderColor:n.borderColorDisabled,color:n.colorTextDisabled,backgroundColor:n.colorBgContainerDisabled,boxShadow:"none"}),gA=(n,e,r,i,o,s,l,u)=>({[`&${n}-background-ghost`]:Object.assign(Object.assign({color:r||void 0,backgroundColor:e,borderColor:i||void 0,boxShadow:"none"},Lu(n,Object.assign({backgroundColor:e},l),Object.assign({backgroundColor:e},u))),{"&:disabled":{cursor:"not-allowed",color:o||void 0,borderColor:s||void 0}})}),qI=n=>({[`&:disabled, &${n.componentCls}-disabled`]:Object.assign({},Rle(n))}),E9=n=>Object.assign({},qI(n)),Yx=n=>({[`&:disabled, &${n.componentCls}-disabled`]:{cursor:"not-allowed",color:n.colorTextDisabled}}),C9=n=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},E9(n)),{backgroundColor:n.defaultBg,borderColor:n.defaultBorderColor,color:n.defaultColor,boxShadow:n.defaultShadow}),Lu(n.componentCls,{color:n.colorPrimaryHover,borderColor:n.colorPrimaryHover},{color:n.colorPrimaryActive,borderColor:n.colorPrimaryActive})),gA(n.componentCls,n.ghostBg,n.defaultGhostColor,n.defaultGhostBorderColor,n.colorTextDisabled,n.colorBorder)),{[`&${n.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({color:n.colorError,borderColor:n.colorError},Lu(n.componentCls,{color:n.colorErrorHover,borderColor:n.colorErrorBorderHover},{color:n.colorErrorActive,borderColor:n.colorErrorActive})),gA(n.componentCls,n.ghostBg,n.colorError,n.colorError,n.colorTextDisabled,n.colorBorder)),qI(n))}),Ile=n=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},E9(n)),{color:n.primaryColor,backgroundColor:n.colorPrimary,boxShadow:n.primaryShadow}),Lu(n.componentCls,{color:n.colorTextLightSolid,backgroundColor:n.colorPrimaryHover},{color:n.colorTextLightSolid,backgroundColor:n.colorPrimaryActive})),gA(n.componentCls,n.ghostBg,n.colorPrimary,n.colorPrimary,n.colorTextDisabled,n.colorBorder,{color:n.colorPrimaryHover,borderColor:n.colorPrimaryHover},{color:n.colorPrimaryActive,borderColor:n.colorPrimaryActive})),{[`&${n.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({backgroundColor:n.colorError,boxShadow:n.dangerShadow,color:n.dangerColor},Lu(n.componentCls,{backgroundColor:n.colorErrorHover},{backgroundColor:n.colorErrorActive})),gA(n.componentCls,n.ghostBg,n.colorError,n.colorError,n.colorTextDisabled,n.colorBorder,{color:n.colorErrorHover,borderColor:n.colorErrorHover},{color:n.colorErrorActive,borderColor:n.colorErrorActive})),qI(n))}),Lle=n=>Object.assign(Object.assign({},C9(n)),{borderStyle:"dashed"}),Ple=n=>Object.assign(Object.assign(Object.assign({color:n.colorLink},Lu(n.componentCls,{color:n.colorLinkHover,backgroundColor:n.linkHoverBg},{color:n.colorLinkActive})),Yx(n)),{[`&${n.componentCls}-dangerous`]:Object.assign(Object.assign({color:n.colorError},Lu(n.componentCls,{color:n.colorErrorHover},{color:n.colorErrorActive})),Yx(n))}),Ble=n=>Object.assign(Object.assign(Object.assign({},Lu(n.componentCls,{color:n.colorText,backgroundColor:n.textHoverBg},{color:n.colorText,backgroundColor:n.colorBgTextActive})),Yx(n)),{[`&${n.componentCls}-dangerous`]:Object.assign(Object.assign({color:n.colorError},Yx(n)),Lu(n.componentCls,{color:n.colorErrorHover,backgroundColor:n.colorErrorBg},{color:n.colorErrorHover,backgroundColor:n.colorErrorBg}))}),Ole=n=>{const{componentCls:e}=n;return{[`${e}-default`]:C9(n),[`${e}-primary`]:Ile(n),[`${e}-dashed`]:Lle(n),[`${e}-link`]:Ple(n),[`${e}-text`]:Ble(n),[`${e}-ghost`]:gA(n.componentCls,n.ghostBg,n.colorBgContainer,n.colorBgContainer,n.colorTextDisabled,n.colorBorder)}},YI=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:r,controlHeight:i,fontSize:o,lineHeight:s,lineWidth:l,borderRadius:u,buttonPaddingHorizontal:c,iconCls:d}=n,h=Math.max(0,(i-o*s)/2-l),p=`${r}-icon-only`;return[{[`${r}${e}`]:{fontSize:o,height:i,padding:`${h}px ${c}px`,borderRadius:u,[`&${p}`]:{width:i,paddingInlineStart:0,paddingInlineEnd:0,[`&${r}-round`]:{width:"auto"},[d]:{fontSize:n.buttonIconOnlyFontSize}},[`&${r}-loading`]:{opacity:n.opacityLoading,cursor:"default"},[`${r}-loading-icon`]:{transition:`width ${n.motionDurationSlow} ${n.motionEaseInOut}, opacity ${n.motionDurationSlow} ${n.motionEaseInOut}`}}},{[`${r}${r}-circle${e}`]:Mle(n)},{[`${r}${r}-round${e}`]:Tle(n)}]},Dle=n=>YI(ti(n,{fontSize:n.contentFontSize})),Nle=n=>{const e=ti(n,{controlHeight:n.controlHeightSM,fontSize:n.contentFontSizeSM,padding:n.paddingXS,buttonPaddingHorizontal:n.paddingInlineSM,borderRadius:n.borderRadiusSM,buttonIconOnlyFontSize:n.onlyIconSizeSM});return YI(e,`${n.componentCls}-sm`)},kle=n=>{const e=ti(n,{controlHeight:n.controlHeightLG,fontSize:n.contentFontSizeLG,buttonPaddingHorizontal:n.paddingInlineLG,borderRadius:n.borderRadiusLG,buttonIconOnlyFontSize:n.onlyIconSizeLG});return YI(e,`${n.componentCls}-lg`)},Fle=n=>{const{componentCls:e}=n;return{[e]:{[`&${e}-block`]:{width:"100%"}}}},w9=n=>{const{paddingInline:e,onlyIconSize:r}=n;return ti(n,{buttonPaddingHorizontal:e,buttonIconOnlyFontSize:r})},S9=n=>({fontWeight:400,defaultShadow:`0 ${n.controlOutlineWidth}px 0 ${n.controlTmpOutline}`,primaryShadow:`0 ${n.controlOutlineWidth}px 0 ${n.controlOutline}`,dangerShadow:`0 ${n.controlOutlineWidth}px 0 ${n.colorErrorOutline}`,primaryColor:n.colorTextLightSolid,dangerColor:n.colorTextLightSolid,borderColorDisabled:n.colorBorder,defaultGhostColor:n.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:n.colorBgContainer,paddingInline:n.paddingContentHorizontal-n.lineWidth,paddingInlineLG:n.paddingContentHorizontal-n.lineWidth,paddingInlineSM:8-n.lineWidth,onlyIconSize:n.fontSizeLG,onlyIconSizeSM:n.fontSizeLG-2,onlyIconSizeLG:n.fontSizeLG+2,groupBorderColor:n.colorPrimaryHover,linkHoverBg:"transparent",textHoverBg:n.colorBgTextHover,defaultColor:n.colorText,defaultBg:n.colorBgContainer,defaultBorderColor:n.colorBorder,defaultBorderColorDisabled:n.colorBorder,contentFontSize:n.fontSize,contentFontSizeSM:n.fontSize,contentFontSizeLG:n.fontSizeLG}),Ule=zi("Button",n=>{const e=w9(n);return[_le(e),Nle(e),Dle(e),kle(e),Fle(e),Ole(e),Sle(e)]},S9);function zle(n,e,r){const{focusElCls:i,focus:o,borderElCls:s}=r,l=s?"> *":"",u=["hover",o?"focus":null,"active"].filter(Boolean).map(c=>`&:${c} ${l}`).join(",");return{[`&-item:not(${e}-last-item)`]:{marginInlineEnd:-n.lineWidth},"&-item":Object.assign(Object.assign({[u]:{zIndex:2}},i?{[`&${i}`]:{zIndex:2}}:{}),{[`&[disabled] ${l}`]:{zIndex:0}})}}function Hle(n,e,r){const{borderElCls:i}=r,o=i?`> ${i}`:"";return{[`&-item:not(${e}-first-item):not(${e}-last-item) ${o}`]:{borderRadius:0},[`&-item:not(${e}-last-item)${e}-first-item`]:{[`& ${o}, &${n}-sm ${o}, &${n}-lg ${o}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${e}-first-item)${e}-last-item`]:{[`& ${o}, &${n}-sm ${o}, &${n}-lg ${o}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function JI(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:r}=n,i=`${r}-compact`;return{[i]:Object.assign(Object.assign({},zle(n,i,e)),Hle(r,i,e))}}function $le(n,e){return{[`&-item:not(${e}-last-item)`]:{marginBottom:-n.lineWidth},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function Gle(n,e){return{[`&-item:not(${e}-first-item):not(${e}-last-item)`]:{borderRadius:0},[`&-item${e}-first-item:not(${e}-last-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${e}-last-item:not(${e}-first-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function jle(n){const e=`${n.componentCls}-compact-vertical`;return{[e]:Object.assign(Object.assign({},$le(n,e)),Gle(n.componentCls,e))}}const Vle=VI(["Button","compact"],n=>{const e=w9(n);return[JI(e),jle(e)]},S9);var Wle=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};function Qle(n){if(typeof n=="object"&&n){let e=n==null?void 0:n.delay;return e=!Number.isNaN(e)&&typeof e=="number"?e:0,{loading:e<=0,delay:e}}return{loading:!!n,delay:0}}const Kle=(n,e)=>{var r,i;const{loading:o=!1,prefixCls:s,type:l="default",danger:u,shape:c="default",size:d,styles:h,disabled:p,className:m,rootClassName:v,children:y,icon:A,ghost:b=!1,block:g=!1,htmlType:w="button",classNames:E,style:C={}}=n,_=Wle(n,["loading","prefixCls","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","ghost","block","htmlType","classNames","style"]),{getPrefixCls:L,autoInsertSpaceInButton:R,direction:P,button:T}=M.useContext(_r),D=L("btn",s),[$,V]=Ule(D),B=M.useContext(Jd),O=p??B,F=M.useContext(b9),k=M.useMemo(()=>Qle(o),[o]),[z,G]=M.useState(k.loading),[j,Q]=M.useState(!1),J=zs(e,M.createRef()),Z=M.Children.count(y)===1&&!A&&!P2(l);M.useEffect(()=>{let Tt=null;k.delay>0?Tt=setTimeout(()=>{Tt=null,G(!0)},k.delay):G(k.loading);function Dt(){Tt&&(clearTimeout(Tt),Tt=null)}return Dt},[k]),M.useEffect(()=>{if(!J||!J.current||R===!1)return;const Tt=J.current.textContent;Z&&VT(Tt)?j||Q(!0):j&&Q(!1)},[J]);const oe=Tt=>{const{onClick:Dt}=n;if(z||O){Tt.preventDefault();return}Dt==null||Dt(Tt)},ue=R!==!1,{compactSize:Be,compactItemClassnames:ge}=HA(D,P),Ie={large:"lg",small:"sm",middle:void 0},He=Jl(Tt=>{var Dt,Yt;return(Yt=(Dt=d??Be)!==null&&Dt!==void 0?Dt:F)!==null&&Yt!==void 0?Yt:Tt}),Ze=He&&Ie[He]||"",Xe=z?"loading":A,ke=vo(_,["navigate"]),lt=Et(D,V,{[`${D}-${c}`]:c!=="default"&&c,[`${D}-${l}`]:l,[`${D}-${Ze}`]:Ze,[`${D}-icon-only`]:!y&&y!==0&&!!Xe,[`${D}-background-ghost`]:b&&!P2(l),[`${D}-loading`]:z,[`${D}-two-chinese-chars`]:j&&ue&&!z,[`${D}-block`]:g,[`${D}-dangerous`]:!!u,[`${D}-rtl`]:P==="rtl"},ge,m,v,T==null?void 0:T.className),ot=Object.assign(Object.assign({},T==null?void 0:T.style),C),it=Et(E==null?void 0:E.icon,(r=T==null?void 0:T.classNames)===null||r===void 0?void 0:r.icon),ft=Object.assign(Object.assign({},(h==null?void 0:h.icon)||{}),((i=T==null?void 0:T.styles)===null||i===void 0?void 0:i.icon)||{}),xt=A&&!z?nn.createElement(x9,{prefixCls:D,className:it,style:ft},A):nn.createElement(Cle,{existIcon:!!A,prefixCls:D,loading:!!z}),At=y||y===0?ble(y,Z&&ue):null;if(ke.href!==void 0)return $(nn.createElement("a",Object.assign({},ke,{className:Et(lt,{[`${D}-disabled`]:O}),style:ot,onClick:oe,ref:J}),xt,At));let Ct=nn.createElement("button",Object.assign({},_,{type:w,className:lt,style:ot,onClick:oe,disabled:O,ref:J}),xt,At,ge&&nn.createElement(Vle,{key:"compact",prefixCls:D}));return P2(l)||(Ct=nn.createElement(mC,{component:"Button",disabled:!!z},Ct)),$(Ct)},ZI=M.forwardRef(Kle);ZI.Group=Ale;ZI.__ANT_BUTTON=!0;const yh=ZI;var _9=M.createContext(null),rN=[];function Xle(n,e){var r=M.useState(function(){if(!la())return null;var y=document.createElement("div");return y}),i=Nt(r,1),o=i[0],s=M.useRef(!1),l=M.useContext(_9),u=M.useState(rN),c=Nt(u,2),d=c[0],h=c[1],p=l||(s.current?void 0:function(y){h(function(A){var b=[y].concat(An(A));return b})});function m(){o.parentElement||document.body.appendChild(o),s.current=!0}function v(){var y;(y=o.parentElement)===null||y===void 0||y.removeChild(o),s.current=!1}return Ti(function(){return n?l?l(m):m():v(),v},[n]),Ti(function(){d.length&&(d.forEach(function(y){return y()}),h(rN))},[d]),[o,p]}var D2;function WT(n){if(typeof document>"u")return 0;if(n||D2===void 0){var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var r=document.createElement("div"),i=r.style;i.position="absolute",i.top="0",i.left="0",i.pointerEvents="none",i.visibility="hidden",i.width="200px",i.height="150px",i.overflow="hidden",r.appendChild(e),document.body.appendChild(r);var o=e.offsetWidth;r.style.overflow="scroll";var s=e.offsetWidth;o===s&&(s=r.clientWidth),document.body.removeChild(r),D2=o-s}return D2}function iN(n){var e=n.match(/^(.*)px$/),r=Number(e==null?void 0:e[1]);return Number.isNaN(r)?WT():r}function QT(n){if(typeof document>"u"||!n||!(n instanceof Element))return{width:0,height:0};var e=getComputedStyle(n,"::-webkit-scrollbar"),r=e.width,i=e.height;return{width:iN(r),height:iN(i)}}function qle(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var Yle="rc-util-locker-".concat(Date.now()),oN=0;function Jle(n){var e=!!n,r=M.useState(function(){return oN+=1,"".concat(Yle,"_").concat(oN)}),i=Nt(r,1),o=i[0];Ti(function(){if(e){var s=QT(document.body).width,l=qle();Wm(`
html body {
  overflow-y: hidden;
  `.concat(l?"width: calc(100% - ".concat(s,"px);"):"",`
}`),o)}else Ux(o);return function(){Ux(o)}},[e,o])}var aN=!1;function Zle(n){return typeof n=="boolean"&&(aN=n),aN}var sN=function(e){return e===!1?!1:!la()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e},M9=M.forwardRef(function(n,e){var r=n.open,i=n.autoLock,o=n.getContainer;n.debug;var s=n.autoDestroy,l=s===void 0?!0:s,u=n.children,c=M.useState(r),d=Nt(c,2),h=d[0],p=d[1],m=h||r;M.useEffect(function(){(l||r)&&p(r)},[r,l]);var v=M.useState(function(){return sN(o)}),y=Nt(v,2),A=y[0],b=y[1];M.useEffect(function(){var $=sN(o);b($??null)});var g=Xle(m&&!A),w=Nt(g,2),E=w[0],C=w[1],_=A??E;Jle(i&&r&&la()&&(_===E||_===document.body));var L=null;if(u&&bc(u)&&e){var R=u;L=R.ref}var P=Th(L,e);if(!m||!la()||A===void 0)return null;var T=_===!1||Zle(),D=u;return e&&(D=M.cloneElement(u,{ref:P})),M.createElement(_9.Provider,{value:C},T?D:Ns.createPortal(D,_))});function ece(){var n=mt({},BA);return n.useId}var lN=0,cN=ece();const tce=cN?function(e){var r=cN();return e||r}:function(e){var r=M.useState("ssr-id"),i=Nt(r,2),o=i[0],s=i[1];return M.useEffect(function(){var l=lN;lN+=1,s("rc_unique_".concat(l))},[]),e||o};function nce(n,e,r){return typeof n=="boolean"?n:e===void 0?!!r:e!==!1&&e!==null}function rce(n,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:nn.createElement(pg,null),o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(!nce(n,e,o))return[!1,null];const l=typeof e=="boolean"||e===void 0||e===null?i:e;return[!0,r?r(l):l]}var T9=function(e){if(la()&&window.document.documentElement){var r=Array.isArray(e)?e:[e],i=window.document.documentElement;return r.some(function(o){return o in i.style})}return!1},ice=function(e,r){if(!T9(e))return!1;var i=document.createElement("div"),o=i.style[e];return i.style[e]=r,i.style[e]!==o};function KT(n,e){return!Array.isArray(n)&&e!==void 0?ice(n,e):T9(n)}var qf="RC_FORM_INTERNAL_HOOKS",Hi=function(){no(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Zm=M.createContext({getFieldValue:Hi,getFieldsValue:Hi,getFieldError:Hi,getFieldWarning:Hi,getFieldsError:Hi,isFieldsTouched:Hi,isFieldTouched:Hi,isFieldValidating:Hi,isFieldsValidating:Hi,resetFields:Hi,setFields:Hi,setFieldValue:Hi,setFieldsValue:Hi,validateFields:Hi,submit:Hi,getInternalHooks:function(){return Hi(),{dispatch:Hi,initEntityValue:Hi,registerField:Hi,useSubscribe:Hi,setInitialValues:Hi,destroyForm:Hi,setCallbacks:Hi,registerWatch:Hi,getFields:Hi,setValidateMessages:Hi,setPreserve:Hi,getInitialValue:Hi}}}),Jx=M.createContext(null);function XT(n){return n==null?[]:Array.isArray(n)?n:[n]}function oce(n){return n&&!!n._init}function Yf(){return Yf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},Yf.apply(this,arguments)}function ace(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,vA(n,e)}function qT(n){return qT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qT(n)}function vA(n,e){return vA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},vA(n,e)}function sce(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Z1(n,e,r){return sce()?Z1=Reflect.construct.bind():Z1=function(o,s,l){var u=[null];u.push.apply(u,s);var c=Function.bind.apply(o,u),d=new c;return l&&vA(d,l.prototype),d},Z1.apply(null,arguments)}function lce(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function YT(n){var e=typeof Map=="function"?new Map:void 0;return YT=function(i){if(i===null||!lce(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(i))return e.get(i);e.set(i,o)}function o(){return Z1(i,arguments,qT(this).constructor)}return o.prototype=Object.create(i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),vA(o,i)},YT(n)}var cce=/%[sdj%]/g,uce=function(){};typeof process<"u"&&process.env;function JT(n){if(!n||!n.length)return null;var e={};return n.forEach(function(r){var i=r.field;e[i]=e[i]||[],e[i].push(r)}),e}function Bs(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];var o=0,s=r.length;if(typeof n=="function")return n.apply(null,r);if(typeof n=="string"){var l=n.replace(cce,function(u){if(u==="%%")return"%";if(o>=s)return u;switch(u){case"%s":return String(r[o++]);case"%d":return Number(r[o++]);case"%j":try{return JSON.stringify(r[o++])}catch{return"[Circular]"}break;default:return u}});return l}return n}function dce(n){return n==="string"||n==="url"||n==="hex"||n==="email"||n==="date"||n==="pattern"}function Qo(n,e){return!!(n==null||e==="array"&&Array.isArray(n)&&!n.length||dce(e)&&typeof n=="string"&&!n)}function fce(n,e,r){var i=[],o=0,s=n.length;function l(u){i.push.apply(i,u||[]),o++,o===s&&r(i)}n.forEach(function(u){e(u,l)})}function uN(n,e,r){var i=0,o=n.length;function s(l){if(l&&l.length){r(l);return}var u=i;i=i+1,u<o?e(n[u],s):r([])}s([])}function hce(n){var e=[];return Object.keys(n).forEach(function(r){e.push.apply(e,n[r]||[])}),e}var dN=function(n){ace(e,n);function e(r,i){var o;return o=n.call(this,"Async Validation Error")||this,o.errors=r,o.fields=i,o}return e}(YT(Error));function pce(n,e,r,i,o){if(e.first){var s=new Promise(function(m,v){var y=function(g){return i(g),g.length?v(new dN(g,JT(g))):m(o)},A=hce(n);uN(A,r,y)});return s.catch(function(m){return m}),s}var l=e.firstFields===!0?Object.keys(n):e.firstFields||[],u=Object.keys(n),c=u.length,d=0,h=[],p=new Promise(function(m,v){var y=function(b){if(h.push.apply(h,b),d++,d===c)return i(h),h.length?v(new dN(h,JT(h))):m(o)};u.length||(i(h),m(o)),u.forEach(function(A){var b=n[A];l.indexOf(A)!==-1?uN(b,r,y):fce(b,r,y)})});return p.catch(function(m){return m}),p}function mce(n){return!!(n&&n.message!==void 0)}function gce(n,e){for(var r=n,i=0;i<e.length;i++){if(r==null)return r;r=r[e[i]]}return r}function fN(n,e){return function(r){var i;return n.fullFields?i=gce(e,n.fullFields):i=e[r.field||n.fullField],mce(r)?(r.field=r.field||n.fullField,r.fieldValue=i,r):{message:typeof r=="function"?r():r,fieldValue:i,field:r.field||n.fullField}}}function hN(n,e){if(e){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];typeof i=="object"&&typeof n[r]=="object"?n[r]=Yf({},n[r],i):n[r]=i}}return n}var R9=function(e,r,i,o,s,l){e.required&&(!i.hasOwnProperty(e.field)||Qo(r,l||e.type))&&o.push(Bs(s.messages.required,e.fullField))},vce=function(e,r,i,o,s){(/^\s+$/.test(r)||r==="")&&o.push(Bs(s.messages.whitespace,e.fullField))},kb,Ace=function(){if(kb)return kb;var n="[a-fA-F\\d:]",e=function(C){return C&&C.includeBoundaries?"(?:(?<=\\s|^)(?="+n+")|(?<="+n+")(?=\\s|$))":""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",i="[a-fA-F\\d]{1,4}",o=(`
(?:
(?:`+i+":){7}(?:"+i+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+i+":){6}(?:"+r+"|:"+i+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+i+":){5}(?::"+r+"|(?::"+i+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+i+":){4}(?:(?::"+i+"){0,1}:"+r+"|(?::"+i+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+i+":){3}(?:(?::"+i+"){0,2}:"+r+"|(?::"+i+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+i+":){2}(?:(?::"+i+"){0,3}:"+r+"|(?::"+i+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+i+":){1}(?:(?::"+i+"){0,4}:"+r+"|(?::"+i+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+i+"){0,5}:"+r+"|(?::"+i+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),s=new RegExp("(?:^"+r+"$)|(?:^"+o+"$)"),l=new RegExp("^"+r+"$"),u=new RegExp("^"+o+"$"),c=function(C){return C&&C.exact?s:new RegExp("(?:"+e(C)+r+e(C)+")|(?:"+e(C)+o+e(C)+")","g")};c.v4=function(E){return E&&E.exact?l:new RegExp(""+e(E)+r+e(E),"g")},c.v6=function(E){return E&&E.exact?u:new RegExp(""+e(E)+o+e(E),"g")};var d="(?:(?:[a-z]+:)?//)",h="(?:\\S+(?::\\S*)?@)?",p=c.v4().source,m=c.v6().source,v="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",y="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",A="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",b="(?::\\d{2,5})?",g='(?:[/?#][^\\s"]*)?',w="(?:"+d+"|www\\.)"+h+"(?:localhost|"+p+"|"+m+"|"+v+y+A+")"+b+g;return kb=new RegExp("(?:^"+w+"$)","i"),kb},pN={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},c0={integer:function(e){return c0.number(e)&&parseInt(e,10)===e},float:function(e){return c0.number(e)&&!c0.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!c0.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(pN.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(Ace())},hex:function(e){return typeof e=="string"&&!!e.match(pN.hex)}},yce=function(e,r,i,o,s){if(e.required&&r===void 0){R9(e,r,i,o,s);return}var l=["integer","float","array","regexp","object","method","email","number","date","url","hex"],u=e.type;l.indexOf(u)>-1?c0[u](r)||o.push(Bs(s.messages.types[u],e.fullField,e.type)):u&&typeof r!==e.type&&o.push(Bs(s.messages.types[u],e.fullField,e.type))},bce=function(e,r,i,o,s){var l=typeof e.len=="number",u=typeof e.min=="number",c=typeof e.max=="number",d=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,h=r,p=null,m=typeof r=="number",v=typeof r=="string",y=Array.isArray(r);if(m?p="number":v?p="string":y&&(p="array"),!p)return!1;y&&(h=r.length),v&&(h=r.replace(d,"_").length),l?h!==e.len&&o.push(Bs(s.messages[p].len,e.fullField,e.len)):u&&!c&&h<e.min?o.push(Bs(s.messages[p].min,e.fullField,e.min)):c&&!u&&h>e.max?o.push(Bs(s.messages[p].max,e.fullField,e.max)):u&&c&&(h<e.min||h>e.max)&&o.push(Bs(s.messages[p].range,e.fullField,e.min,e.max))},fp="enum",xce=function(e,r,i,o,s){e[fp]=Array.isArray(e[fp])?e[fp]:[],e[fp].indexOf(r)===-1&&o.push(Bs(s.messages[fp],e.fullField,e[fp].join(", ")))},Ece=function(e,r,i,o,s){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(r)||o.push(Bs(s.messages.pattern.mismatch,e.fullField,r,e.pattern));else if(typeof e.pattern=="string"){var l=new RegExp(e.pattern);l.test(r)||o.push(Bs(s.messages.pattern.mismatch,e.fullField,r,e.pattern))}}},gi={required:R9,whitespace:vce,type:yce,range:bce,enum:xce,pattern:Ece},Cce=function(e,r,i,o,s){var l=[],u=e.required||!e.required&&o.hasOwnProperty(e.field);if(u){if(Qo(r,"string")&&!e.required)return i();gi.required(e,r,o,l,s,"string"),Qo(r,"string")||(gi.type(e,r,o,l,s),gi.range(e,r,o,l,s),gi.pattern(e,r,o,l,s),e.whitespace===!0&&gi.whitespace(e,r,o,l,s))}i(l)},wce=function(e,r,i,o,s){var l=[],u=e.required||!e.required&&o.hasOwnProperty(e.field);if(u){if(Qo(r)&&!e.required)return i();gi.required(e,r,o,l,s),r!==void 0&&gi.type(e,r,o,l,s)}i(l)},Sce=function(e,r,i,o,s){var l=[],u=e.required||!e.required&&o.hasOwnProperty(e.field);if(u){if(r===""&&(r=void 0),Qo(r)&&!e.required)return i();gi.required(e,r,o,l,s),r!==void 0&&(gi.type(e,r,o,l,s),gi.range(e,r,o,l,s))}i(l)},_ce=function(e,r,i,o,s){var l=[],u=e.required||!e.required&&o.hasOwnProperty(e.field);if(u){if(Qo(r)&&!e.required)return i();gi.required(e,r,o,l,s),r!==void 0&&gi.type(e,r,o,l,s)}i(l)},Mce=function(e,r,i,o,s){var l=[],u=e.required||!e.required&&o.hasOwnProperty(e.field);if(u){if(Qo(r)&&!e.required)return i();gi.required(e,r,o,l,s),Qo(r)||gi.type(e,r,o,l,s)}i(l)},Tce=function(e,r,i,o,s){var l=[],u=e.required||!e.required&&o.hasOwnProperty(e.field);if(u){if(Qo(r)&&!e.required)return i();gi.required(e,r,o,l,s),r!==void 0&&(gi.type(e,r,o,l,s),gi.range(e,r,o,l,s))}i(l)},Rce=function(e,r,i,o,s){var l=[],u=e.required||!e.required&&o.hasOwnProperty(e.field);if(u){if(Qo(r)&&!e.required)return i();gi.required(e,r,o,l,s),r!==void 0&&(gi.type(e,r,o,l,s),gi.range(e,r,o,l,s))}i(l)},Ice=function(e,r,i,o,s){var l=[],u=e.required||!e.required&&o.hasOwnProperty(e.field);if(u){if(r==null&&!e.required)return i();gi.required(e,r,o,l,s,"array"),r!=null&&(gi.type(e,r,o,l,s),gi.range(e,r,o,l,s))}i(l)},Lce=function(e,r,i,o,s){var l=[],u=e.required||!e.required&&o.hasOwnProperty(e.field);if(u){if(Qo(r)&&!e.required)return i();gi.required(e,r,o,l,s),r!==void 0&&gi.type(e,r,o,l,s)}i(l)},Pce="enum",Bce=function(e,r,i,o,s){var l=[],u=e.required||!e.required&&o.hasOwnProperty(e.field);if(u){if(Qo(r)&&!e.required)return i();gi.required(e,r,o,l,s),r!==void 0&&gi[Pce](e,r,o,l,s)}i(l)},Oce=function(e,r,i,o,s){var l=[],u=e.required||!e.required&&o.hasOwnProperty(e.field);if(u){if(Qo(r,"string")&&!e.required)return i();gi.required(e,r,o,l,s),Qo(r,"string")||gi.pattern(e,r,o,l,s)}i(l)},Dce=function(e,r,i,o,s){var l=[],u=e.required||!e.required&&o.hasOwnProperty(e.field);if(u){if(Qo(r,"date")&&!e.required)return i();if(gi.required(e,r,o,l,s),!Qo(r,"date")){var c;r instanceof Date?c=r:c=new Date(r),gi.type(e,c,o,l,s),c&&gi.range(e,c.getTime(),o,l,s)}}i(l)},Nce=function(e,r,i,o,s){var l=[],u=Array.isArray(r)?"array":typeof r;gi.required(e,r,o,l,s,u),i(l)},N2=function(e,r,i,o,s){var l=e.type,u=[],c=e.required||!e.required&&o.hasOwnProperty(e.field);if(c){if(Qo(r,l)&&!e.required)return i();gi.required(e,r,o,u,s,l),Qo(r,l)||gi.type(e,r,o,u,s)}i(u)},kce=function(e,r,i,o,s){var l=[],u=e.required||!e.required&&o.hasOwnProperty(e.field);if(u){if(Qo(r)&&!e.required)return i();gi.required(e,r,o,l,s)}i(l)},P0={string:Cce,method:wce,number:Sce,boolean:_ce,regexp:Mce,integer:Tce,float:Rce,array:Ice,object:Lce,enum:Bce,pattern:Oce,date:Dce,url:N2,hex:N2,email:N2,required:Nce,any:kce};function ZT(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var e3=ZT(),$A=function(){function n(r){this.rules=null,this._messages=e3,this.define(r)}var e=n.prototype;return e.define=function(i){var o=this;if(!i)throw new Error("Cannot configure a schema with no rules");if(typeof i!="object"||Array.isArray(i))throw new Error("Rules must be an object");this.rules={},Object.keys(i).forEach(function(s){var l=i[s];o.rules[s]=Array.isArray(l)?l:[l]})},e.messages=function(i){return i&&(this._messages=hN(ZT(),i)),this._messages},e.validate=function(i,o,s){var l=this;o===void 0&&(o={}),s===void 0&&(s=function(){});var u=i,c=o,d=s;if(typeof c=="function"&&(d=c,c={}),!this.rules||Object.keys(this.rules).length===0)return d&&d(null,u),Promise.resolve(u);function h(A){var b=[],g={};function w(C){if(Array.isArray(C)){var _;b=(_=b).concat.apply(_,C)}else b.push(C)}for(var E=0;E<A.length;E++)w(A[E]);b.length?(g=JT(b),d(b,g)):d(null,u)}if(c.messages){var p=this.messages();p===e3&&(p=ZT()),hN(p,c.messages),c.messages=p}else c.messages=this.messages();var m={},v=c.keys||Object.keys(this.rules);v.forEach(function(A){var b=l.rules[A],g=u[A];b.forEach(function(w){var E=w;typeof E.transform=="function"&&(u===i&&(u=Yf({},u)),g=u[A]=E.transform(g)),typeof E=="function"?E={validator:E}:E=Yf({},E),E.validator=l.getValidationMethod(E),E.validator&&(E.field=A,E.fullField=E.fullField||A,E.type=l.getType(E),m[A]=m[A]||[],m[A].push({rule:E,value:g,source:u,field:A}))})});var y={};return pce(m,c,function(A,b){var g=A.rule,w=(g.type==="object"||g.type==="array")&&(typeof g.fields=="object"||typeof g.defaultField=="object");w=w&&(g.required||!g.required&&A.value),g.field=A.field;function E(L,R){return Yf({},R,{fullField:g.fullField+"."+L,fullFields:g.fullFields?[].concat(g.fullFields,[L]):[L]})}function C(L){L===void 0&&(L=[]);var R=Array.isArray(L)?L:[L];!c.suppressWarning&&R.length&&n.warning("async-validator:",R),R.length&&g.message!==void 0&&(R=[].concat(g.message));var P=R.map(fN(g,u));if(c.first&&P.length)return y[g.field]=1,b(P);if(!w)b(P);else{if(g.required&&!A.value)return g.message!==void 0?P=[].concat(g.message).map(fN(g,u)):c.error&&(P=[c.error(g,Bs(c.messages.required,g.field))]),b(P);var T={};g.defaultField&&Object.keys(A.value).map(function(V){T[V]=g.defaultField}),T=Yf({},T,A.rule.fields);var D={};Object.keys(T).forEach(function(V){var B=T[V],O=Array.isArray(B)?B:[B];D[V]=O.map(E.bind(null,V))});var $=new n(D);$.messages(c.messages),A.rule.options&&(A.rule.options.messages=c.messages,A.rule.options.error=c.error),$.validate(A.value,A.rule.options||c,function(V){var B=[];P&&P.length&&B.push.apply(B,P),V&&V.length&&B.push.apply(B,V),b(B.length?B:null)})}}var _;if(g.asyncValidator)_=g.asyncValidator(g,A.value,C,A.source,c);else if(g.validator){try{_=g.validator(g,A.value,C,A.source,c)}catch(L){console.error==null||console.error(L),c.suppressValidatorError||setTimeout(function(){throw L},0),C(L.message)}_===!0?C():_===!1?C(typeof g.message=="function"?g.message(g.fullField||g.field):g.message||(g.fullField||g.field)+" fails"):_ instanceof Array?C(_):_ instanceof Error&&C(_.message)}_&&_.then&&_.then(function(){return C()},function(L){return C(L)})},function(A){h(A)},u)},e.getType=function(i){if(i.type===void 0&&i.pattern instanceof RegExp&&(i.type="pattern"),typeof i.validator!="function"&&i.type&&!P0.hasOwnProperty(i.type))throw new Error(Bs("Unknown rule type %s",i.type));return i.type||"string"},e.getValidationMethod=function(i){if(typeof i.validator=="function")return i.validator;var o=Object.keys(i),s=o.indexOf("message");return s!==-1&&o.splice(s,1),o.length===1&&o[0]==="required"?P0.required:P0[this.getType(i)]||void 0},n}();$A.register=function(e,r){if(typeof r!="function")throw new Error("Cannot register a validator by type, validator is not a function");P0[e]=r};$A.warning=uce;$A.messages=e3;$A.validators=P0;var Cs="'${name}' is not a valid ${type}",I9={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Cs,method:Cs,array:Cs,object:Cs,number:Cs,date:Cs,boolean:Cs,integer:Cs,float:Cs,regexp:Cs,email:Cs,url:Cs,hex:Cs},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},mN=$A;function Fce(n,e){return n.replace(/\$\{\w+\}/g,function(r){var i=r.slice(2,-1);return e[i]})}var gN="CODE_LOGIC_ERROR";function t3(n,e,r,i,o){return n3.apply(this,arguments)}function n3(){return n3=Zd(ba().mark(function n(e,r,i,o,s){var l,u,c,d,h,p,m,v,y;return ba().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return l=mt({},i),delete l.ruleIndex,mN.warning=function(){},l.validator&&(u=l.validator,l.validator=function(){try{return u.apply(void 0,arguments)}catch(g){return console.error(g),Promise.reject(gN)}}),c=null,l&&l.type==="array"&&l.defaultField&&(c=l.defaultField,delete l.defaultField),d=new mN(ct({},e,[l])),h=fm(I9,o.validateMessages),d.messages(h),p=[],b.prev=10,b.next=13,Promise.resolve(d.validate(ct({},e,r),mt({},o)));case 13:b.next=18;break;case 15:b.prev=15,b.t0=b.catch(10),b.t0.errors&&(p=b.t0.errors.map(function(g,w){var E=g.message,C=E===gN?h.default:E;return M.isValidElement(C)?M.cloneElement(C,{key:"error_".concat(w)}):C}));case 18:if(!(!p.length&&c)){b.next=23;break}return b.next=21,Promise.all(r.map(function(g,w){return t3("".concat(e,".").concat(w),g,c,o,s)}));case 21:return m=b.sent,b.abrupt("return",m.reduce(function(g,w){return[].concat(An(g),An(w))},[]));case 23:return v=mt(mt({},i),{},{name:e,enum:(i.enum||[]).join(", ")},s),y=p.map(function(g){return typeof g=="string"?Fce(g,v):g}),b.abrupt("return",y);case 26:case"end":return b.stop()}},n,null,[[10,15]])})),n3.apply(this,arguments)}function Uce(n,e,r,i,o,s){var l=n.join("."),u=r.map(function(h,p){var m=h.validator,v=mt(mt({},h),{},{ruleIndex:p});return m&&(v.validator=function(y,A,b){var g=!1,w=function(){for(var _=arguments.length,L=new Array(_),R=0;R<_;R++)L[R]=arguments[R];Promise.resolve().then(function(){no(!g,"Your validator function has already return a promise. `callback` will be ignored."),g||b.apply(void 0,L)})},E=m(y,A,w);g=E&&typeof E.then=="function"&&typeof E.catch=="function",no(g,"`callback` is deprecated. Please return a promise instead."),g&&E.then(function(){b()}).catch(function(C){b(C||" ")})}),v}).sort(function(h,p){var m=h.warningOnly,v=h.ruleIndex,y=p.warningOnly,A=p.ruleIndex;return!!m==!!y?v-A:m?1:-1}),c;if(o===!0)c=new Promise(function(){var h=Zd(ba().mark(function p(m,v){var y,A,b;return ba().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:y=0;case 1:if(!(y<u.length)){w.next=12;break}return A=u[y],w.next=5,t3(l,e,A,i,s);case 5:if(b=w.sent,!b.length){w.next=9;break}return v([{errors:b,rule:A}]),w.abrupt("return");case 9:y+=1,w.next=1;break;case 12:m([]);case 13:case"end":return w.stop()}},p)}));return function(p,m){return h.apply(this,arguments)}}());else{var d=u.map(function(h){return t3(l,e,h,i,s).then(function(p){return{errors:p,rule:h}})});c=(o?Hce(d):zce(d)).then(function(h){return Promise.reject(h)})}return c.catch(function(h){return h}),c}function zce(n){return r3.apply(this,arguments)}function r3(){return r3=Zd(ba().mark(function n(e){return ba().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Promise.all(e).then(function(o){var s,l=(s=[]).concat.apply(s,An(o));return l}));case 1:case"end":return i.stop()}},n)})),r3.apply(this,arguments)}function Hce(n){return i3.apply(this,arguments)}function i3(){return i3=Zd(ba().mark(function n(e){var r;return ba().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return r=0,o.abrupt("return",new Promise(function(s){e.forEach(function(l){l.then(function(u){u.errors.length&&s([u]),r+=1,r===e.length&&s([])})})}));case 2:case"end":return o.stop()}},n)})),i3.apply(this,arguments)}function Mo(n){return XT(n)}function vN(n,e){var r={};return e.forEach(function(i){var o=Ps(n,i);r=Pl(r,i,o)}),r}function Rm(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return n&&n.some(function(i){return L9(e,i,r)})}function L9(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!n||!e||!r&&n.length!==e.length?!1:e.every(function(i,o){return n[o]===i})}function $ce(n,e){if(n===e)return!0;if(!n&&e||n&&!e||!n||!e||Ir(n)!=="object"||Ir(e)!=="object")return!1;var r=Object.keys(n),i=Object.keys(e),o=new Set([].concat(r,i));return An(o).every(function(s){var l=n[s],u=e[s];return typeof l=="function"&&typeof u=="function"?!0:l===u})}function Gce(n){var e=arguments.length<=1?void 0:arguments[1];return e&&e.target&&Ir(e.target)==="object"&&n in e.target?e.target[n]:e}function AN(n,e,r){var i=n.length;if(e<0||e>=i||r<0||r>=i)return n;var o=n[e],s=e-r;return s>0?[].concat(An(n.slice(0,r)),[o],An(n.slice(r,e)),An(n.slice(e+1,i))):s<0?[].concat(An(n.slice(0,e)),An(n.slice(e+1,r+1)),[o],An(n.slice(r+1,i))):n}var jce=["name"],Ws=[];function yN(n,e,r,i,o,s){return typeof n=="function"?n(e,r,"source"in s?{source:s.source}:{}):i!==o}var eL=function(n){ql(r,n);var e=Yl(r);function r(i){var o;if(ca(this,r),o=e.call(this,i),ct(ei(o),"state",{resetCount:0}),ct(ei(o),"cancelRegisterFunc",null),ct(ei(o),"mounted",!1),ct(ei(o),"touched",!1),ct(ei(o),"dirty",!1),ct(ei(o),"validatePromise",void 0),ct(ei(o),"prevValidating",void 0),ct(ei(o),"errors",Ws),ct(ei(o),"warnings",Ws),ct(ei(o),"cancelRegister",function(){var c=o.props,d=c.preserve,h=c.isListField,p=c.name;o.cancelRegisterFunc&&o.cancelRegisterFunc(h,d,Mo(p)),o.cancelRegisterFunc=null}),ct(ei(o),"getNamePath",function(){var c=o.props,d=c.name,h=c.fieldContext,p=h.prefixName,m=p===void 0?[]:p;return d!==void 0?[].concat(An(m),An(d)):[]}),ct(ei(o),"getRules",function(){var c=o.props,d=c.rules,h=d===void 0?[]:d,p=c.fieldContext;return h.map(function(m){return typeof m=="function"?m(p):m})}),ct(ei(o),"refresh",function(){o.mounted&&o.setState(function(c){var d=c.resetCount;return{resetCount:d+1}})}),ct(ei(o),"metaCache",null),ct(ei(o),"triggerMetaEvent",function(c){var d=o.props.onMetaChange;if(d){var h=mt(mt({},o.getMeta()),{},{destroy:c});Ru(o.metaCache,h)||d(h),o.metaCache=h}else o.metaCache=null}),ct(ei(o),"onStoreChange",function(c,d,h){var p=o.props,m=p.shouldUpdate,v=p.dependencies,y=v===void 0?[]:v,A=p.onReset,b=h.store,g=o.getNamePath(),w=o.getValue(c),E=o.getValue(b),C=d&&Rm(d,g);switch(h.type==="valueUpdate"&&h.source==="external"&&w!==E&&(o.touched=!0,o.dirty=!0,o.validatePromise=null,o.errors=Ws,o.warnings=Ws,o.triggerMetaEvent()),h.type){case"reset":if(!d||C){o.touched=!1,o.dirty=!1,o.validatePromise=void 0,o.errors=Ws,o.warnings=Ws,o.triggerMetaEvent(),A==null||A(),o.refresh();return}break;case"remove":{if(m){o.reRender();return}break}case"setField":{var _=h.data;if(C){"touched"in _&&(o.touched=_.touched),"validating"in _&&!("originRCField"in _)&&(o.validatePromise=_.validating?Promise.resolve([]):null),"errors"in _&&(o.errors=_.errors||Ws),"warnings"in _&&(o.warnings=_.warnings||Ws),o.dirty=!0,o.triggerMetaEvent(),o.reRender();return}else if("value"in _&&Rm(d,g,!0)){o.reRender();return}if(m&&!g.length&&yN(m,c,b,w,E,h)){o.reRender();return}break}case"dependenciesUpdate":{var L=y.map(Mo);if(L.some(function(R){return Rm(h.relatedFields,R)})){o.reRender();return}break}default:if(C||(!y.length||g.length||m)&&yN(m,c,b,w,E,h)){o.reRender();return}break}m===!0&&o.reRender()}),ct(ei(o),"validateRules",function(c){var d=o.getNamePath(),h=o.getValue(),p=c||{},m=p.triggerName,v=p.validateOnly,y=v===void 0?!1:v,A=Promise.resolve().then(Zd(ba().mark(function b(){var g,w,E,C,_,L,R;return ba().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(o.mounted){T.next=2;break}return T.abrupt("return",[]);case 2:if(g=o.props,w=g.validateFirst,E=w===void 0?!1:w,C=g.messageVariables,_=g.validateDebounce,L=o.getRules(),m&&(L=L.filter(function(D){return D}).filter(function(D){var $=D.validateTrigger;if(!$)return!0;var V=XT($);return V.includes(m)})),!(_&&m)){T.next=10;break}return T.next=8,new Promise(function(D){setTimeout(D,_)});case 8:if(o.validatePromise===A){T.next=10;break}return T.abrupt("return",[]);case 10:return R=Uce(d,h,L,c,E,C),R.catch(function(D){return D}).then(function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ws;if(o.validatePromise===A){var $;o.validatePromise=null;var V=[],B=[];($=D.forEach)===null||$===void 0||$.call(D,function(O){var F=O.rule.warningOnly,k=O.errors,z=k===void 0?Ws:k;F?B.push.apply(B,An(z)):V.push.apply(V,An(z))}),o.errors=V,o.warnings=B,o.triggerMetaEvent(),o.reRender()}}),T.abrupt("return",R);case 13:case"end":return T.stop()}},b)})));return y||(o.validatePromise=A,o.dirty=!0,o.errors=Ws,o.warnings=Ws,o.triggerMetaEvent(),o.reRender()),A}),ct(ei(o),"isFieldValidating",function(){return!!o.validatePromise}),ct(ei(o),"isFieldTouched",function(){return o.touched}),ct(ei(o),"isFieldDirty",function(){if(o.dirty||o.props.initialValue!==void 0)return!0;var c=o.props.fieldContext,d=c.getInternalHooks(qf),h=d.getInitialValue;return h(o.getNamePath())!==void 0}),ct(ei(o),"getErrors",function(){return o.errors}),ct(ei(o),"getWarnings",function(){return o.warnings}),ct(ei(o),"isListField",function(){return o.props.isListField}),ct(ei(o),"isList",function(){return o.props.isList}),ct(ei(o),"isPreserve",function(){return o.props.preserve}),ct(ei(o),"getMeta",function(){o.prevValidating=o.isFieldValidating();var c={touched:o.isFieldTouched(),validating:o.prevValidating,errors:o.errors,warnings:o.warnings,name:o.getNamePath(),validated:o.validatePromise===null};return c}),ct(ei(o),"getOnlyChild",function(c){if(typeof c=="function"){var d=o.getMeta();return mt(mt({},o.getOnlyChild(c(o.getControlled(),d,o.props.fieldContext))),{},{isFunction:!0})}var h=qa(c);return h.length!==1||!M.isValidElement(h[0])?{child:h,isFunction:!1}:{child:h[0],isFunction:!1}}),ct(ei(o),"getValue",function(c){var d=o.props.fieldContext.getFieldsValue,h=o.getNamePath();return Ps(c||d(!0),h)}),ct(ei(o),"getControlled",function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=o.props,h=d.trigger,p=d.validateTrigger,m=d.getValueFromEvent,v=d.normalize,y=d.valuePropName,A=d.getValueProps,b=d.fieldContext,g=p!==void 0?p:b.validateTrigger,w=o.getNamePath(),E=b.getInternalHooks,C=b.getFieldsValue,_=E(qf),L=_.dispatch,R=o.getValue(),P=A||function(V){return ct({},y,V)},T=c[h],D=mt(mt({},c),P(R));D[h]=function(){o.touched=!0,o.dirty=!0,o.triggerMetaEvent();for(var V,B=arguments.length,O=new Array(B),F=0;F<B;F++)O[F]=arguments[F];m?V=m.apply(void 0,O):V=Gce.apply(void 0,[y].concat(O)),v&&(V=v(V,R,C(!0))),L({type:"updateValue",namePath:w,value:V}),T&&T.apply(void 0,O)};var $=XT(g||[]);return $.forEach(function(V){var B=D[V];D[V]=function(){B&&B.apply(void 0,arguments);var O=o.props.rules;O&&O.length&&L({type:"validateField",namePath:w,triggerName:V})}}),D}),i.fieldContext){var s=i.fieldContext.getInternalHooks,l=s(qf),u=l.initEntityValue;u(ei(o))}return o}return ua(r,[{key:"componentDidMount",value:function(){var o=this.props,s=o.shouldUpdate,l=o.fieldContext;if(this.mounted=!0,l){var u=l.getInternalHooks,c=u(qf),d=c.registerField;this.cancelRegisterFunc=d(this)}s===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var o=this.state.resetCount,s=this.props.children,l=this.getOnlyChild(s),u=l.child,c=l.isFunction,d;return c?d=u:M.isValidElement(u)?d=M.cloneElement(u,this.getControlled(u.props)):(no(!u,"`children` of Field is not validate ReactElement."),d=u),M.createElement(M.Fragment,{key:o},d)}}]),r}(M.Component);ct(eL,"contextType",Zm);ct(eL,"defaultProps",{trigger:"onChange",valuePropName:"value"});function P9(n){var e=n.name,r=Pr(n,jce),i=M.useContext(Zm),o=M.useContext(Jx),s=e!==void 0?Mo(e):void 0,l="keep";return r.isListField||(l="_".concat((s||[]).join("_"))),M.createElement(eL,on({key:l,name:s,isListField:!!o},r,{fieldContext:i}))}function Vce(n){var e=n.name,r=n.initialValue,i=n.children,o=n.rules,s=n.validateTrigger,l=n.isListField,u=M.useContext(Zm),c=M.useContext(Jx),d=M.useRef({keys:[],id:0}),h=d.current,p=M.useMemo(function(){var A=Mo(u.prefixName)||[];return[].concat(An(A),An(Mo(e)))},[u.prefixName,e]),m=M.useMemo(function(){return mt(mt({},u),{},{prefixName:p})},[u,p]),v=M.useMemo(function(){return{getKey:function(b){var g=p.length,w=b[g];return[h.keys[w],b.slice(g+1)]}}},[p]);if(typeof i!="function")return no(!1,"Form.List only accepts function as children."),null;var y=function(b,g,w){var E=w.source;return E==="internal"?!1:b!==g};return M.createElement(Jx.Provider,{value:v},M.createElement(Zm.Provider,{value:m},M.createElement(P9,{name:[],shouldUpdate:y,rules:o,validateTrigger:s,initialValue:r,isList:!0,isListField:l??!!c},function(A,b){var g=A.value,w=g===void 0?[]:g,E=A.onChange,C=u.getFieldValue,_=function(){var T=C(p||[]);return T||[]},L={add:function(T,D){var $=_();D>=0&&D<=$.length?(h.keys=[].concat(An(h.keys.slice(0,D)),[h.id],An(h.keys.slice(D))),E([].concat(An($.slice(0,D)),[T],An($.slice(D))))):(h.keys=[].concat(An(h.keys),[h.id]),E([].concat(An($),[T]))),h.id+=1},remove:function(T){var D=_(),$=new Set(Array.isArray(T)?T:[T]);$.size<=0||(h.keys=h.keys.filter(function(V,B){return!$.has(B)}),E(D.filter(function(V,B){return!$.has(B)})))},move:function(T,D){if(T!==D){var $=_();T<0||T>=$.length||D<0||D>=$.length||(h.keys=AN(h.keys,T,D),E(AN($,T,D)))}}},R=w||[];return Array.isArray(R)||(R=[]),i(R.map(function(P,T){var D=h.keys[T];return D===void 0&&(h.keys[T]=h.id,D=h.keys[T],h.id+=1),{name:T,key:D,isListField:!0}}),L,b)})))}function Wce(n){var e=!1,r=n.length,i=[];return n.length?new Promise(function(o,s){n.forEach(function(l,u){l.catch(function(c){return e=!0,c}).then(function(c){r-=1,i[u]=c,!(r>0)&&(e&&s(i),o(i))})})}):Promise.resolve([])}var B9="__@field_split__";function k2(n){return n.map(function(e){return"".concat(Ir(e),":").concat(e)}).join(B9)}var hp=function(){function n(){ca(this,n),ct(this,"kvs",new Map)}return ua(n,[{key:"set",value:function(r,i){this.kvs.set(k2(r),i)}},{key:"get",value:function(r){return this.kvs.get(k2(r))}},{key:"update",value:function(r,i){var o=this.get(r),s=i(o);s?this.set(r,s):this.delete(r)}},{key:"delete",value:function(r){this.kvs.delete(k2(r))}},{key:"map",value:function(r){return An(this.kvs.entries()).map(function(i){var o=Nt(i,2),s=o[0],l=o[1],u=s.split(B9);return r({key:u.map(function(c){var d=c.match(/^([^:]*):(.*)$/),h=Nt(d,3),p=h[1],m=h[2];return p==="number"?Number(m):m}),value:l})})}},{key:"toJSON",value:function(){var r={};return this.map(function(i){var o=i.key,s=i.value;return r[o.join(".")]=s,null}),r}}]),n}(),Qce=["name"],Kce=ua(function n(e){var r=this;ca(this,n),ct(this,"formHooked",!1),ct(this,"forceRootUpdate",void 0),ct(this,"subscribable",!0),ct(this,"store",{}),ct(this,"fieldEntities",[]),ct(this,"initialValues",{}),ct(this,"callbacks",{}),ct(this,"validateMessages",null),ct(this,"preserve",null),ct(this,"lastValidatePromise",null),ct(this,"getForm",function(){return{getFieldValue:r.getFieldValue,getFieldsValue:r.getFieldsValue,getFieldError:r.getFieldError,getFieldWarning:r.getFieldWarning,getFieldsError:r.getFieldsError,isFieldsTouched:r.isFieldsTouched,isFieldTouched:r.isFieldTouched,isFieldValidating:r.isFieldValidating,isFieldsValidating:r.isFieldsValidating,resetFields:r.resetFields,setFields:r.setFields,setFieldValue:r.setFieldValue,setFieldsValue:r.setFieldsValue,validateFields:r.validateFields,submit:r.submit,_init:!0,getInternalHooks:r.getInternalHooks}}),ct(this,"getInternalHooks",function(i){return i===qf?(r.formHooked=!0,{dispatch:r.dispatch,initEntityValue:r.initEntityValue,registerField:r.registerField,useSubscribe:r.useSubscribe,setInitialValues:r.setInitialValues,destroyForm:r.destroyForm,setCallbacks:r.setCallbacks,setValidateMessages:r.setValidateMessages,getFields:r.getFields,setPreserve:r.setPreserve,getInitialValue:r.getInitialValue,registerWatch:r.registerWatch}):(no(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),ct(this,"useSubscribe",function(i){r.subscribable=i}),ct(this,"prevWithoutPreserves",null),ct(this,"setInitialValues",function(i,o){if(r.initialValues=i||{},o){var s,l=fm(i,r.store);(s=r.prevWithoutPreserves)===null||s===void 0||s.map(function(u){var c=u.key;l=Pl(l,c,Ps(i,c))}),r.prevWithoutPreserves=null,r.updateStore(l)}}),ct(this,"destroyForm",function(){var i=new hp;r.getFieldEntities(!0).forEach(function(o){r.isMergedPreserve(o.isPreserve())||i.set(o.getNamePath(),!0)}),r.prevWithoutPreserves=i}),ct(this,"getInitialValue",function(i){var o=Ps(r.initialValues,i);return i.length?fm(o):o}),ct(this,"setCallbacks",function(i){r.callbacks=i}),ct(this,"setValidateMessages",function(i){r.validateMessages=i}),ct(this,"setPreserve",function(i){r.preserve=i}),ct(this,"watchList",[]),ct(this,"registerWatch",function(i){return r.watchList.push(i),function(){r.watchList=r.watchList.filter(function(o){return o!==i})}}),ct(this,"notifyWatch",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(r.watchList.length){var o=r.getFieldsValue(),s=r.getFieldsValue(!0);r.watchList.forEach(function(l){l(o,s,i)})}}),ct(this,"timeoutId",null),ct(this,"warningUnhooked",function(){}),ct(this,"updateStore",function(i){r.store=i}),ct(this,"getFieldEntities",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return i?r.fieldEntities.filter(function(o){return o.getNamePath().length}):r.fieldEntities}),ct(this,"getFieldsMap",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,o=new hp;return r.getFieldEntities(i).forEach(function(s){var l=s.getNamePath();o.set(l,s)}),o}),ct(this,"getFieldEntitiesForNamePathList",function(i){if(!i)return r.getFieldEntities(!0);var o=r.getFieldsMap(!0);return i.map(function(s){var l=Mo(s);return o.get(l)||{INVALIDATE_NAME_PATH:Mo(s)}})}),ct(this,"getFieldsValue",function(i,o){r.warningUnhooked();var s,l,u;if(i===!0||Array.isArray(i)?(s=i,l=o):i&&Ir(i)==="object"&&(u=i.strict,l=i.filter),s===!0&&!l)return r.store;var c=r.getFieldEntitiesForNamePathList(Array.isArray(s)?s:null),d=[];return c.forEach(function(h){var p,m,v="INVALIDATE_NAME_PATH"in h?h.INVALIDATE_NAME_PATH:h.getNamePath();if(u){var y,A;if((y=(A=h).isList)!==null&&y!==void 0&&y.call(A))return}else if(!s&&(p=(m=h).isListField)!==null&&p!==void 0&&p.call(m))return;if(!l)d.push(v);else{var b="getMeta"in h?h.getMeta():null;l(b)&&d.push(v)}}),vN(r.store,d.map(Mo))}),ct(this,"getFieldValue",function(i){r.warningUnhooked();var o=Mo(i);return Ps(r.store,o)}),ct(this,"getFieldsError",function(i){r.warningUnhooked();var o=r.getFieldEntitiesForNamePathList(i);return o.map(function(s,l){return s&&!("INVALIDATE_NAME_PATH"in s)?{name:s.getNamePath(),errors:s.getErrors(),warnings:s.getWarnings()}:{name:Mo(i[l]),errors:[],warnings:[]}})}),ct(this,"getFieldError",function(i){r.warningUnhooked();var o=Mo(i),s=r.getFieldsError([o])[0];return s.errors}),ct(this,"getFieldWarning",function(i){r.warningUnhooked();var o=Mo(i),s=r.getFieldsError([o])[0];return s.warnings}),ct(this,"isFieldsTouched",function(){r.warningUnhooked();for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var l=o[0],u=o[1],c,d=!1;o.length===0?c=null:o.length===1?Array.isArray(l)?(c=l.map(Mo),d=!1):(c=null,d=l):(c=l.map(Mo),d=u);var h=r.getFieldEntities(!0),p=function(b){return b.isFieldTouched()};if(!c)return d?h.every(p):h.some(p);var m=new hp;c.forEach(function(A){m.set(A,[])}),h.forEach(function(A){var b=A.getNamePath();c.forEach(function(g){g.every(function(w,E){return b[E]===w})&&m.update(g,function(w){return[].concat(An(w),[A])})})});var v=function(b){return b.some(p)},y=m.map(function(A){var b=A.value;return b});return d?y.every(v):y.some(v)}),ct(this,"isFieldTouched",function(i){return r.warningUnhooked(),r.isFieldsTouched([i])}),ct(this,"isFieldsValidating",function(i){r.warningUnhooked();var o=r.getFieldEntities();if(!i)return o.some(function(l){return l.isFieldValidating()});var s=i.map(Mo);return o.some(function(l){var u=l.getNamePath();return Rm(s,u)&&l.isFieldValidating()})}),ct(this,"isFieldValidating",function(i){return r.warningUnhooked(),r.isFieldsValidating([i])}),ct(this,"resetWithFieldInitialValue",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=new hp,s=r.getFieldEntities(!0);s.forEach(function(c){var d=c.props.initialValue,h=c.getNamePath();if(d!==void 0){var p=o.get(h)||new Set;p.add({entity:c,value:d}),o.set(h,p)}});var l=function(d){d.forEach(function(h){var p=h.props.initialValue;if(p!==void 0){var m=h.getNamePath(),v=r.getInitialValue(m);if(v!==void 0)no(!1,"Form already set 'initialValues' with path '".concat(m.join("."),"'. Field can not overwrite it."));else{var y=o.get(m);if(y&&y.size>1)no(!1,"Multiple Field with path '".concat(m.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(y){var A=r.getFieldValue(m),b=h.isListField();!b&&(!i.skipExist||A===void 0)&&r.updateStore(Pl(r.store,m,An(y)[0].value))}}}})},u;i.entities?u=i.entities:i.namePathList?(u=[],i.namePathList.forEach(function(c){var d=o.get(c);if(d){var h;(h=u).push.apply(h,An(An(d).map(function(p){return p.entity})))}})):u=s,l(u)}),ct(this,"resetFields",function(i){r.warningUnhooked();var o=r.store;if(!i){r.updateStore(fm(r.initialValues)),r.resetWithFieldInitialValue(),r.notifyObservers(o,null,{type:"reset"}),r.notifyWatch();return}var s=i.map(Mo);s.forEach(function(l){var u=r.getInitialValue(l);r.updateStore(Pl(r.store,l,u))}),r.resetWithFieldInitialValue({namePathList:s}),r.notifyObservers(o,s,{type:"reset"}),r.notifyWatch(s)}),ct(this,"setFields",function(i){r.warningUnhooked();var o=r.store,s=[];i.forEach(function(l){var u=l.name,c=Pr(l,Qce),d=Mo(u);s.push(d),"value"in c&&r.updateStore(Pl(r.store,d,c.value)),r.notifyObservers(o,[d],{type:"setField",data:l})}),r.notifyWatch(s)}),ct(this,"getFields",function(){var i=r.getFieldEntities(!0),o=i.map(function(s){var l=s.getNamePath(),u=s.getMeta(),c=mt(mt({},u),{},{name:l,value:r.getFieldValue(l)});return Object.defineProperty(c,"originRCField",{value:!0}),c});return o}),ct(this,"initEntityValue",function(i){var o=i.props.initialValue;if(o!==void 0){var s=i.getNamePath(),l=Ps(r.store,s);l===void 0&&r.updateStore(Pl(r.store,s,o))}}),ct(this,"isMergedPreserve",function(i){var o=i!==void 0?i:r.preserve;return o??!0}),ct(this,"registerField",function(i){r.fieldEntities.push(i);var o=i.getNamePath();if(r.notifyWatch([o]),i.props.initialValue!==void 0){var s=r.store;r.resetWithFieldInitialValue({entities:[i],skipExist:!0}),r.notifyObservers(s,[i.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(l,u){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(r.fieldEntities=r.fieldEntities.filter(function(p){return p!==i}),!r.isMergedPreserve(u)&&(!l||c.length>1)){var d=l?void 0:r.getInitialValue(o);if(o.length&&r.getFieldValue(o)!==d&&r.fieldEntities.every(function(p){return!L9(p.getNamePath(),o)})){var h=r.store;r.updateStore(Pl(h,o,d,!0)),r.notifyObservers(h,[o],{type:"remove"}),r.triggerDependenciesUpdate(h,o)}}r.notifyWatch([o])}}),ct(this,"dispatch",function(i){switch(i.type){case"updateValue":{var o=i.namePath,s=i.value;r.updateValue(o,s);break}case"validateField":{var l=i.namePath,u=i.triggerName;r.validateFields([l],{triggerName:u});break}}}),ct(this,"notifyObservers",function(i,o,s){if(r.subscribable){var l=mt(mt({},s),{},{store:r.getFieldsValue(!0)});r.getFieldEntities().forEach(function(u){var c=u.onStoreChange;c(i,o,l)})}else r.forceRootUpdate()}),ct(this,"triggerDependenciesUpdate",function(i,o){var s=r.getDependencyChildrenFields(o);return s.length&&r.validateFields(s),r.notifyObservers(i,s,{type:"dependenciesUpdate",relatedFields:[o].concat(An(s))}),s}),ct(this,"updateValue",function(i,o){var s=Mo(i),l=r.store;r.updateStore(Pl(r.store,s,o)),r.notifyObservers(l,[s],{type:"valueUpdate",source:"internal"}),r.notifyWatch([s]);var u=r.triggerDependenciesUpdate(l,s),c=r.callbacks.onValuesChange;if(c){var d=vN(r.store,[s]);c(d,r.getFieldsValue())}r.triggerOnFieldsChange([s].concat(An(u)))}),ct(this,"setFieldsValue",function(i){r.warningUnhooked();var o=r.store;if(i){var s=fm(r.store,i);r.updateStore(s)}r.notifyObservers(o,null,{type:"valueUpdate",source:"external"}),r.notifyWatch()}),ct(this,"setFieldValue",function(i,o){r.setFields([{name:i,value:o}])}),ct(this,"getDependencyChildrenFields",function(i){var o=new Set,s=[],l=new hp;r.getFieldEntities().forEach(function(c){var d=c.props.dependencies;(d||[]).forEach(function(h){var p=Mo(h);l.update(p,function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return m.add(c),m})})});var u=function c(d){var h=l.get(d)||new Set;h.forEach(function(p){if(!o.has(p)){o.add(p);var m=p.getNamePath();p.isFieldDirty()&&m.length&&(s.push(m),c(m))}})};return u(i),s}),ct(this,"triggerOnFieldsChange",function(i,o){var s=r.callbacks.onFieldsChange;if(s){var l=r.getFields();if(o){var u=new hp;o.forEach(function(d){var h=d.name,p=d.errors;u.set(h,p)}),l.forEach(function(d){d.errors=u.get(d.name)||d.errors})}var c=l.filter(function(d){var h=d.name;return Rm(i,h)});c.length&&s(c,l)}}),ct(this,"validateFields",function(i,o){var s;r.warningUnhooked();var l,u;Array.isArray(i)||typeof i=="string"||typeof o=="string"?(l=i,u=o):u=i;var c=!!l,d=c?l.map(Mo):[],h=[],p=String(Date.now()),m=new Set,v=(s=u)===null||s===void 0?void 0:s.recursive;r.getFieldEntities(!0).forEach(function(g){if(c||d.push(g.getNamePath()),!(!g.props.rules||!g.props.rules.length)){var w=g.getNamePath();if(m.add(w.join(p)),!c||Rm(d,w,v)){var E=g.validateRules(mt({validateMessages:mt(mt({},I9),r.validateMessages)},u));h.push(E.then(function(){return{name:w,errors:[],warnings:[]}}).catch(function(C){var _,L=[],R=[];return(_=C.forEach)===null||_===void 0||_.call(C,function(P){var T=P.rule.warningOnly,D=P.errors;T?R.push.apply(R,An(D)):L.push.apply(L,An(D))}),L.length?Promise.reject({name:w,errors:L,warnings:R}):{name:w,errors:L,warnings:R}}))}}});var y=Wce(h);r.lastValidatePromise=y,y.catch(function(g){return g}).then(function(g){var w=g.map(function(E){var C=E.name;return C});r.notifyObservers(r.store,w,{type:"validateFinish"}),r.triggerOnFieldsChange(w,g)});var A=y.then(function(){return r.lastValidatePromise===y?Promise.resolve(r.getFieldsValue(d)):Promise.reject([])}).catch(function(g){var w=g.filter(function(E){return E&&E.errors.length});return Promise.reject({values:r.getFieldsValue(d),errorFields:w,outOfDate:r.lastValidatePromise!==y})});A.catch(function(g){return g});var b=d.filter(function(g){return m.has(g.join(p))});return r.triggerOnFieldsChange(b),A}),ct(this,"submit",function(){r.warningUnhooked(),r.validateFields().then(function(i){var o=r.callbacks.onFinish;if(o)try{o(i)}catch(s){console.error(s)}}).catch(function(i){var o=r.callbacks.onFinishFailed;o&&o(i)})}),this.forceRootUpdate=e});function O9(n){var e=M.useRef(),r=M.useState({}),i=Nt(r,2),o=i[1];if(!e.current)if(n)e.current=n;else{var s=function(){o({})},l=new Kce(s);e.current=l.getForm()}return[e.current]}var o3=M.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Xce=function(e){var r=e.validateMessages,i=e.onFormChange,o=e.onFormFinish,s=e.children,l=M.useContext(o3),u=M.useRef({});return M.createElement(o3.Provider,{value:mt(mt({},l),{},{validateMessages:mt(mt({},l.validateMessages),r),triggerFormChange:function(d,h){i&&i(d,{changedFields:h,forms:u.current}),l.triggerFormChange(d,h)},triggerFormFinish:function(d,h){o&&o(d,{values:h,forms:u.current}),l.triggerFormFinish(d,h)},registerForm:function(d,h){d&&(u.current=mt(mt({},u.current),{},ct({},d,h))),l.registerForm(d,h)},unregisterForm:function(d){var h=mt({},u.current);delete h[d],u.current=h,l.unregisterForm(d)}})},s)},qce=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],Yce=function(e,r){var i=e.name,o=e.initialValues,s=e.fields,l=e.form,u=e.preserve,c=e.children,d=e.component,h=d===void 0?"form":d,p=e.validateMessages,m=e.validateTrigger,v=m===void 0?"onChange":m,y=e.onValuesChange,A=e.onFieldsChange,b=e.onFinish,g=e.onFinishFailed,w=Pr(e,qce),E=M.useContext(o3),C=O9(l),_=Nt(C,1),L=_[0],R=L.getInternalHooks(qf),P=R.useSubscribe,T=R.setInitialValues,D=R.setCallbacks,$=R.setValidateMessages,V=R.setPreserve,B=R.destroyForm;M.useImperativeHandle(r,function(){return L}),M.useEffect(function(){return E.registerForm(i,L),function(){E.unregisterForm(i)}},[E,L,i]),$(mt(mt({},E.validateMessages),p)),D({onValuesChange:y,onFieldsChange:function(J){if(E.triggerFormChange(i,J),A){for(var Z=arguments.length,oe=new Array(Z>1?Z-1:0),ue=1;ue<Z;ue++)oe[ue-1]=arguments[ue];A.apply(void 0,[J].concat(oe))}},onFinish:function(J){E.triggerFormFinish(i,J),b&&b(J)},onFinishFailed:g}),V(u);var O=M.useRef(null);T(o,!O.current),O.current||(O.current=!0),M.useEffect(function(){return B},[]);var F,k=typeof c=="function";if(k){var z=L.getFieldsValue(!0);F=c(z,L)}else F=c;P(!k);var G=M.useRef();M.useEffect(function(){$ce(G.current||[],s||[])||L.setFields(s||[]),G.current=s},[s,L]);var j=M.useMemo(function(){return mt(mt({},L),{},{validateTrigger:v})},[L,v]),Q=M.createElement(Jx.Provider,{value:null},M.createElement(Zm.Provider,{value:j},F));return h===!1?Q:M.createElement(h,on({},w,{onSubmit:function(J){J.preventDefault(),J.stopPropagation(),L.submit()},onReset:function(J){var Z;J.preventDefault(),L.resetFields(),(Z=w.onReset)===null||Z===void 0||Z.call(w,J)}}),Q)};function bN(n){try{return JSON.stringify(n)}catch{return Math.random()}}function Jce(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];var i=e[0],o=i===void 0?[]:i,s=e[1],l=s===void 0?{}:s,u=oce(l)?{form:l}:l,c=u.form,d=M.useState(),h=Nt(d,2),p=h[0],m=h[1],v=M.useMemo(function(){return bN(p)},[p]),y=M.useRef(v);y.current=v;var A=M.useContext(Zm),b=c||A,g=b&&b._init,w=Mo(o),E=M.useRef(w);return E.current=w,M.useEffect(function(){if(g){var C=b.getFieldsValue,_=b.getInternalHooks,L=_(qf),R=L.registerWatch,P=R(function(D,$){var V=Ps(u.preserve?$:D,E.current),B=bN(V);y.current!==B&&(y.current=B,m(V))}),T=Ps(u.preserve?C(!0):C(),E.current);return p!==T&&m(T),P}},[g]),p}var Zce=M.forwardRef(Yce),GA=Zce;GA.FormProvider=Xce;GA.Field=P9;GA.List=Vce;GA.useForm=O9;GA.useWatch=Jce;const Pu=M.createContext({}),xN=n=>{let{children:e,status:r,override:i}=n;const o=M.useContext(Pu),s=M.useMemo(()=>{const l=Object.assign({},o);return i&&delete l.isFormItemInput,r&&(delete l.status,delete l.hasFeedback,delete l.feedbackIcon),l},[r,i,o]);return M.createElement(Pu.Provider,{value:s},e)},eue=n=>({animationDuration:n,animationFillMode:"both"}),tue=n=>({animationDuration:n,animationFillMode:"both"}),vC=function(n,e,r,i){const s=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${s}${n}-enter,
      ${s}${n}-appear
    `]:Object.assign(Object.assign({},eue(i)),{animationPlayState:"paused"}),[`${s}${n}-leave`]:Object.assign(Object.assign({},tue(i)),{animationPlayState:"paused"}),[`
      ${s}${n}-enter${n}-enter-active,
      ${s}${n}-appear${n}-appear-active
    `]:{animationName:e,animationPlayState:"running"},[`${s}${n}-leave${n}-leave-active`]:{animationName:r,animationPlayState:"running",pointerEvents:"none"}}},nue=new ui("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),rue=new ui("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),iue=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:r}=n,i=`${r}-fade`,o=e?"&":"";return[vC(i,nue,rue,n.motionDurationMid,e),{[`
        ${o}${i}-enter,
        ${o}${i}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${o}${i}-leave`]:{animationTimingFunction:"linear"}}]},oue=new ui("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),aue=new ui("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),sue=new ui("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),lue=new ui("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),cue=new ui("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),uue=new ui("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),due=new ui("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),fue=new ui("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),hue={"move-up":{inKeyframes:due,outKeyframes:fue},"move-down":{inKeyframes:oue,outKeyframes:aue},"move-left":{inKeyframes:sue,outKeyframes:lue},"move-right":{inKeyframes:cue,outKeyframes:uue}},Zx=(n,e)=>{const{antCls:r}=n,i=`${r}-${e}`,{inKeyframes:o,outKeyframes:s}=hue[e];return[vC(i,o,s,n.motionDurationMid),{[`
        ${i}-enter,
        ${i}-appear
      `]:{opacity:0,animationTimingFunction:n.motionEaseOutCirc},[`${i}-leave`]:{animationTimingFunction:n.motionEaseInOutCirc}}]},tL=new ui("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),nL=new ui("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),rL=new ui("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),iL=new ui("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),pue=new ui("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),mue=new ui("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),gue=new ui("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),vue=new ui("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),Aue={"slide-up":{inKeyframes:tL,outKeyframes:nL},"slide-down":{inKeyframes:rL,outKeyframes:iL},"slide-left":{inKeyframes:pue,outKeyframes:mue},"slide-right":{inKeyframes:gue,outKeyframes:vue}},Wd=(n,e)=>{const{antCls:r}=n,i=`${r}-${e}`,{inKeyframes:o,outKeyframes:s}=Aue[e];return[vC(i,o,s,n.motionDurationMid),{[`
      ${i}-enter,
      ${i}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:n.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${i}-leave`]:{animationTimingFunction:n.motionEaseInQuint}}]},yue=new ui("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),bue=new ui("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),EN=new ui("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),CN=new ui("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),xue=new ui("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),Eue=new ui("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),Cue=new ui("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),wue=new ui("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),Sue=new ui("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),_ue=new ui("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),Mue=new ui("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),Tue=new ui("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),Rue={zoom:{inKeyframes:yue,outKeyframes:bue},"zoom-big":{inKeyframes:EN,outKeyframes:CN},"zoom-big-fast":{inKeyframes:EN,outKeyframes:CN},"zoom-left":{inKeyframes:Cue,outKeyframes:wue},"zoom-right":{inKeyframes:Sue,outKeyframes:_ue},"zoom-up":{inKeyframes:xue,outKeyframes:Eue},"zoom-down":{inKeyframes:Mue,outKeyframes:Tue}},oL=(n,e)=>{const{antCls:r}=n,i=`${r}-${e}`,{inKeyframes:o,outKeyframes:s}=Rue[e];return[vC(i,o,s,e==="zoom-big-fast"?n.motionDurationFast:n.motionDurationMid),{[`
        ${i}-enter,
        ${i}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:n.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${i}-leave`]:{animationTimingFunction:n.motionEaseInOutCirc}}]},Iue=n=>({[n.componentCls]:{[`${n.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${n.motionDurationMid} ${n.motionEaseInOut},
        opacity ${n.motionDurationMid} ${n.motionEaseInOut} !important`}},[`${n.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${n.motionDurationMid} ${n.motionEaseInOut},
        opacity ${n.motionDurationMid} ${n.motionEaseInOut} !important`}}}),aL=Iue;function Lue(n){return function(r){return M.createElement(Rh,{theme:{token:{motion:!1,zIndexPopupBase:0}}},M.createElement(n,Object.assign({},r)))}}function D9(n,e,r,i){function o(s){const{prefixCls:l,style:u}=s,c=M.useRef(null),[d,h]=M.useState(0),[p,m]=M.useState(0),[v,y]=Fo(!1,{value:s.open}),{getPrefixCls:A}=M.useContext(_r),b=A(e||"select",l);M.useEffect(()=>{if(y(!0),typeof ResizeObserver<"u"){const w=new ResizeObserver(C=>{const _=C[0].target;h(_.offsetHeight+8),m(_.offsetWidth)}),E=setInterval(()=>{var C;const _=r?`.${r(b)}`:`.${b}-dropdown`,L=(C=c.current)===null||C===void 0?void 0:C.querySelector(_);L&&(clearInterval(E),w.observe(L))},10);return()=>{clearInterval(E),w.disconnect()}}},[]);let g=Object.assign(Object.assign({},s),{style:Object.assign(Object.assign({},u),{margin:0}),open:v,visible:v,getPopupContainer:()=>c.current});return i&&(g=i(g)),M.createElement("div",{ref:c,style:{paddingBottom:d,position:"relative",minWidth:p}},M.createElement(n,Object.assign({},g)))}return Lue(o)}const sL=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var n=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(n==null?void 0:n.substr(0,4))};var AC=function(e){var r=e.className,i=e.customizeIcon,o=e.customizeIconProps,s=e.onMouseDown,l=e.onClick,u=e.children,c;return typeof i=="function"?c=i(o):c=i,M.createElement("span",{className:r,onMouseDown:function(h){h.preventDefault(),s&&s(h)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:l,"aria-hidden":!0},c!==void 0?c:M.createElement("span",{className:Et(r.split(/\s+/).map(function(d){return"".concat(d,"-icon")}))},u))};function Pue(n,e,r,i,o){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,l=arguments.length>6?arguments[6]:void 0,u=arguments.length>7?arguments[7]:void 0,c=nn.useMemo(function(){if(Ir(i)==="object")return i.clearIcon;if(o)return o},[i,o]),d=nn.useMemo(function(){return!!(!s&&i&&(r.length||l)&&!(u==="combobox"&&l===""))},[i,s,r.length,l,u]);return{allowClear:d,clearIcon:nn.createElement(AC,{className:"".concat(n,"-clear"),onMouseDown:e,customizeIcon:c},"×")}}var N9=M.createContext(null);function Bue(){return M.useContext(N9)}function Oue(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,e=M.useState(!1),r=Nt(e,2),i=r[0],o=r[1],s=M.useRef(null),l=function(){window.clearTimeout(s.current)};M.useEffect(function(){return l},[]);var u=function(d,h){l(),s.current=window.setTimeout(function(){o(d),h&&h()},n)};return[i,u,l]}function k9(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=M.useRef(null),r=M.useRef(null);M.useEffect(function(){return function(){window.clearTimeout(r.current)}},[]);function i(o){(o||e.current===null)&&(e.current=o),window.clearTimeout(r.current),r.current=window.setTimeout(function(){e.current=null},n)}return[function(){return e.current},i]}function Due(n,e,r,i){var o=M.useRef(null);o.current={open:e,triggerOpen:r,customizedTrigger:i},M.useEffect(function(){function s(l){var u;if(!((u=o.current)!==null&&u!==void 0&&u.customizedTrigger)){var c=l.target;c.shadowRoot&&l.composed&&(c=l.composedPath()[0]||c),o.current.open&&n().filter(function(d){return d}).every(function(d){return!d.contains(c)&&d!==c})&&o.current.triggerOpen(!1)}}return window.addEventListener("mousedown",s),function(){return window.removeEventListener("mousedown",s)}},[])}var Nue=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],pp=void 0;function kue(n,e){var r=n.prefixCls,i=n.invalidate,o=n.item,s=n.renderItem,l=n.responsive,u=n.responsiveDisabled,c=n.registerSize,d=n.itemKey,h=n.className,p=n.style,m=n.children,v=n.display,y=n.order,A=n.component,b=A===void 0?"div":A,g=Pr(n,Nue),w=l&&!v;function E(P){c(d,P)}M.useEffect(function(){return function(){E(null)}},[]);var C=s&&o!==pp?s(o):m,_;i||(_={opacity:w?0:1,height:w?0:pp,overflowY:w?"hidden":pp,order:l?y:pp,pointerEvents:w?"none":pp,position:w?"absolute":pp});var L={};w&&(L["aria-hidden"]=!0);var R=M.createElement(b,on({className:Et(!i&&r,h),style:mt(mt({},_),p)},L,g,{ref:e}),C);return l&&(R=M.createElement(Qa,{onResize:function(T){var D=T.offsetWidth;E(D)},disabled:u},R)),R}var B0=M.forwardRef(kue);B0.displayName="Item";function Fue(n){if(typeof MessageChannel>"u")Oi(n);else{var e=new MessageChannel;e.port1.onmessage=function(){return n()},e.port2.postMessage(void 0)}}function Uue(){var n=M.useRef(null),e=function(i){n.current||(n.current=[],Fue(function(){Ns.unstable_batchedUpdates(function(){n.current.forEach(function(o){o()}),n.current=null})})),n.current.push(i)};return e}function Mv(n,e){var r=M.useState(e),i=Nt(r,2),o=i[0],s=i[1],l=jo(function(u){n(function(){s(u)})});return[o,l]}var eE=nn.createContext(null),zue=["component"],Hue=["className"],$ue=["className"],Gue=function(e,r){var i=M.useContext(eE);if(!i){var o=e.component,s=o===void 0?"div":o,l=Pr(e,zue);return M.createElement(s,on({},l,{ref:r}))}var u=i.className,c=Pr(i,Hue),d=e.className,h=Pr(e,$ue);return M.createElement(eE.Provider,{value:null},M.createElement(B0,on({ref:r,className:Et(u,d)},c,h)))},F9=M.forwardRef(Gue);F9.displayName="RawItem";var jue=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],U9="responsive",z9="invalidate";function Vue(n){return"+ ".concat(n.length," ...")}function Wue(n,e){var r=n.prefixCls,i=r===void 0?"rc-overflow":r,o=n.data,s=o===void 0?[]:o,l=n.renderItem,u=n.renderRawItem,c=n.itemKey,d=n.itemWidth,h=d===void 0?10:d,p=n.ssr,m=n.style,v=n.className,y=n.maxCount,A=n.renderRest,b=n.renderRawRest,g=n.suffix,w=n.component,E=w===void 0?"div":w,C=n.itemComponent,_=n.onVisibleChange,L=Pr(n,jue),R=p==="full",P=Uue(),T=Mv(P,null),D=Nt(T,2),$=D[0],V=D[1],B=$||0,O=Mv(P,new Map),F=Nt(O,2),k=F[0],z=F[1],G=Mv(P,0),j=Nt(G,2),Q=j[0],X=j[1],J=Mv(P,0),Z=Nt(J,2),oe=Z[0],ue=Z[1],Be=Mv(P,0),ge=Nt(Be,2),Ie=ge[0],He=ge[1],Ze=M.useState(null),Xe=Nt(Ze,2),ke=Xe[0],lt=Xe[1],ot=M.useState(null),it=Nt(ot,2),ft=it[0],xt=it[1],At=M.useMemo(function(){return ft===null&&R?Number.MAX_SAFE_INTEGER:ft||0},[ft,$]),Ct=M.useState(!1),Tt=Nt(Ct,2),Dt=Tt[0],Yt=Tt[1],Ve="".concat(i,"-item"),be=Math.max(Q,oe),fe=y===U9,me=s.length&&fe,Te=y===z9,Ce=me||typeof y=="number"&&s.length>y,Se=M.useMemo(function(){var kt=s;return me?$===null&&R?kt=s:kt=s.slice(0,Math.min(s.length,B/h)):typeof y=="number"&&(kt=s.slice(0,y)),kt},[s,h,$,y,me]),we=M.useMemo(function(){return me?s.slice(At+1):s.slice(Se.length)},[s,Se,me,At]),Ge=M.useCallback(function(kt,Bt){var Gt;return typeof c=="function"?c(kt):(Gt=c&&(kt==null?void 0:kt[c]))!==null&&Gt!==void 0?Gt:Bt},[c]),Ae=M.useCallback(l||function(kt){return kt},[l]);function Ue(kt,Bt,Gt){ft===kt&&(Bt===void 0||Bt===ke)||(xt(kt),Gt||(Yt(kt<s.length-1),_==null||_(kt)),Bt!==void 0&&lt(Bt))}function et(kt,Bt){V(Bt.clientWidth)}function ce(kt,Bt){z(function(Gt){var Vt=new Map(Gt);return Bt===null?Vt.delete(kt):Vt.set(kt,Bt),Vt})}function Y(kt,Bt){ue(Bt),X(oe)}function ne(kt,Bt){He(Bt)}function Le(kt){return k.get(Ge(Se[kt],kt))}Ti(function(){if(B&&typeof be=="number"&&Se){var kt=Ie,Bt=Se.length,Gt=Bt-1;if(!Bt){Ue(0,null);return}for(var Vt=0;Vt<Bt;Vt+=1){var Pt=Le(Vt);if(R&&(Pt=Pt||0),Pt===void 0){Ue(Vt-1,void 0,!0);break}if(kt+=Pt,Gt===0&&kt<=B||Vt===Gt-1&&kt+Le(Gt)<=B){Ue(Gt,null);break}else if(kt+be>B){Ue(Vt-1,kt-Pt-Ie+oe);break}}g&&Le(0)+Ie>B&&lt(null)}},[B,k,oe,Ie,Ge,Se]);var We=Dt&&!!we.length,ve={};ke!==null&&me&&(ve={position:"absolute",left:ke,top:0});var he={prefixCls:Ve,responsive:me,component:C,invalidate:Te},qe=u?function(kt,Bt){var Gt=Ge(kt,Bt);return M.createElement(eE.Provider,{key:Gt,value:mt(mt({},he),{},{order:Bt,item:kt,itemKey:Gt,registerSize:ce,display:Bt<=At})},u(kt,Bt))}:function(kt,Bt){var Gt=Ge(kt,Bt);return M.createElement(B0,on({},he,{order:Bt,key:Gt,item:kt,renderItem:Ae,itemKey:Gt,registerSize:ce,display:Bt<=At}))},Je,Qe={order:We?At:Number.MAX_SAFE_INTEGER,className:"".concat(Ve,"-rest"),registerSize:Y,display:We};if(b)b&&(Je=M.createElement(eE.Provider,{value:mt(mt({},he),Qe)},b(we)));else{var nt=A||Vue;Je=M.createElement(B0,on({},he,Qe),typeof nt=="function"?nt(we):nt)}var It=M.createElement(E,on({className:Et(!Te&&i,v),style:m,ref:e},L),Se.map(qe),Ce?Je:null,g&&M.createElement(B0,on({},he,{responsive:fe,responsiveDisabled:!me,order:At,className:"".concat(Ve,"-suffix"),registerSize:ne,display:!0,style:ve}),g));return fe&&(It=M.createElement(Qa,{onResize:et,disabled:!me},It)),It}var Ac=M.forwardRef(Wue);Ac.displayName="Overflow";Ac.Item=F9;Ac.RESPONSIVE=U9;Ac.INVALIDATE=z9;var Que=function(e,r){var i,o,s=e.prefixCls,l=e.id,u=e.inputElement,c=e.disabled,d=e.tabIndex,h=e.autoFocus,p=e.autoComplete,m=e.editable,v=e.activeDescendantId,y=e.value,A=e.maxLength,b=e.onKeyDown,g=e.onMouseDown,w=e.onChange,E=e.onPaste,C=e.onCompositionStart,_=e.onCompositionEnd,L=e.open,R=e.attrs,P=u||M.createElement("input",null),T=P,D=T.ref,$=T.props,V=$.onKeyDown,B=$.onChange,O=$.onMouseDown,F=$.onCompositionStart,k=$.onCompositionEnd,z=$.style;return"maxLength"in P.props,P=M.cloneElement(P,mt(mt(mt({type:"search"},$),{},{id:l,ref:zs(r,D),disabled:c,tabIndex:d,autoComplete:p||"off",autoFocus:h,className:Et("".concat(s,"-selection-search-input"),(i=P)===null||i===void 0||(o=i.props)===null||o===void 0?void 0:o.className),role:"combobox","aria-expanded":L||!1,"aria-haspopup":"listbox","aria-owns":"".concat(l,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(l,"_list"),"aria-activedescendant":L?v:void 0},R),{},{value:m?y:"",maxLength:A,readOnly:!m,unselectable:m?null:"on",style:mt(mt({},z),{},{opacity:m?null:0}),onKeyDown:function(j){b(j),V&&V(j)},onMouseDown:function(j){g(j),O&&O(j)},onChange:function(j){w(j),B&&B(j)},onCompositionStart:function(j){C(j),F&&F(j)},onCompositionEnd:function(j){_(j),k&&k(j)},onPaste:E})),P},lL=M.forwardRef(Que);lL.displayName="Input";function H9(n){return Array.isArray(n)?n:n!==void 0?[n]:[]}var Kue=typeof window<"u"&&window.document&&window.document.documentElement,Xue=Kue;function que(n){return n!=null}function Yue(n){return!n&&n!==0}function wN(n){return["string","number"].includes(Ir(n))}function $9(n){var e=void 0;return n&&(wN(n.title)?e=n.title.toString():wN(n.label)&&(e=n.label.toString())),e}function Jue(n,e){Xue?M.useLayoutEffect(n,e):M.useEffect(n,e)}function Zue(n){var e;return(e=n.key)!==null&&e!==void 0?e:n.value}var SN=function(e){e.preventDefault(),e.stopPropagation()},ede=function(e){var r=e.id,i=e.prefixCls,o=e.values,s=e.open,l=e.searchValue,u=e.autoClearSearchValue,c=e.inputRef,d=e.placeholder,h=e.disabled,p=e.mode,m=e.showSearch,v=e.autoFocus,y=e.autoComplete,A=e.activeDescendantId,b=e.tabIndex,g=e.removeIcon,w=e.maxTagCount,E=e.maxTagTextLength,C=e.maxTagPlaceholder,_=C===void 0?function(lt){return"+ ".concat(lt.length," ...")}:C,L=e.tagRender,R=e.onToggleOpen,P=e.onRemove,T=e.onInputChange,D=e.onInputPaste,$=e.onInputKeyDown,V=e.onInputMouseDown,B=e.onInputCompositionStart,O=e.onInputCompositionEnd,F=M.useRef(null),k=M.useState(0),z=Nt(k,2),G=z[0],j=z[1],Q=M.useState(!1),X=Nt(Q,2),J=X[0],Z=X[1],oe="".concat(i,"-selection"),ue=s||p==="multiple"&&u===!1||p==="tags"?l:"",Be=p==="tags"||p==="multiple"&&u===!1||m&&(s||J);Jue(function(){j(F.current.scrollWidth)},[ue]);function ge(lt,ot,it,ft,xt){return M.createElement("span",{className:Et("".concat(oe,"-item"),ct({},"".concat(oe,"-item-disabled"),it)),title:$9(lt)},M.createElement("span",{className:"".concat(oe,"-item-content")},ot),ft&&M.createElement(AC,{className:"".concat(oe,"-item-remove"),onMouseDown:SN,onClick:xt,customizeIcon:g},"×"))}function Ie(lt,ot,it,ft,xt){var At=function(Tt){SN(Tt),R(!s)};return M.createElement("span",{onMouseDown:At},L({label:ot,value:lt,disabled:it,closable:ft,onClose:xt}))}function He(lt){var ot=lt.disabled,it=lt.label,ft=lt.value,xt=!h&&!ot,At=it;if(typeof E=="number"&&(typeof it=="string"||typeof it=="number")){var Ct=String(At);Ct.length>E&&(At="".concat(Ct.slice(0,E),"..."))}var Tt=function(Yt){Yt&&Yt.stopPropagation(),P(lt)};return typeof L=="function"?Ie(ft,At,ot,xt,Tt):ge(lt,At,ot,xt,Tt)}function Ze(lt){var ot=typeof _=="function"?_(lt):_;return ge({title:ot},ot,!1)}var Xe=M.createElement("div",{className:"".concat(oe,"-search"),style:{width:G},onFocus:function(){Z(!0)},onBlur:function(){Z(!1)}},M.createElement(lL,{ref:c,open:s,prefixCls:i,id:r,inputElement:null,disabled:h,autoFocus:v,autoComplete:y,editable:Be,activeDescendantId:A,value:ue,onKeyDown:$,onMouseDown:V,onChange:T,onPaste:D,onCompositionStart:B,onCompositionEnd:O,tabIndex:b,attrs:Ql(e,!0)}),M.createElement("span",{ref:F,className:"".concat(oe,"-search-mirror"),"aria-hidden":!0},ue," ")),ke=M.createElement(Ac,{prefixCls:"".concat(oe,"-overflow"),data:o,renderItem:He,renderRest:Ze,suffix:Xe,itemKey:Zue,maxCount:w});return M.createElement(M.Fragment,null,ke,!o.length&&!ue&&M.createElement("span",{className:"".concat(oe,"-placeholder")},d))},tde=function(e){var r=e.inputElement,i=e.prefixCls,o=e.id,s=e.inputRef,l=e.disabled,u=e.autoFocus,c=e.autoComplete,d=e.activeDescendantId,h=e.mode,p=e.open,m=e.values,v=e.placeholder,y=e.tabIndex,A=e.showSearch,b=e.searchValue,g=e.activeValue,w=e.maxLength,E=e.onInputKeyDown,C=e.onInputMouseDown,_=e.onInputChange,L=e.onInputPaste,R=e.onInputCompositionStart,P=e.onInputCompositionEnd,T=e.title,D=M.useState(!1),$=Nt(D,2),V=$[0],B=$[1],O=h==="combobox",F=O||A,k=m[0],z=b||"";O&&g&&!V&&(z=g),M.useEffect(function(){O&&B(!1)},[O,g]);var G=h!=="combobox"&&!p&&!A?!1:!!z,j=T===void 0?$9(k):T,Q=function(){if(k)return null;var J=G?{visibility:"hidden"}:void 0;return M.createElement("span",{className:"".concat(i,"-selection-placeholder"),style:J},v)};return M.createElement(M.Fragment,null,M.createElement("span",{className:"".concat(i,"-selection-search")},M.createElement(lL,{ref:s,prefixCls:i,id:o,open:p,inputElement:r,disabled:l,autoFocus:u,autoComplete:c,editable:F,activeDescendantId:d,value:z,onKeyDown:E,onMouseDown:C,onChange:function(J){B(!0),_(J)},onPaste:L,onCompositionStart:R,onCompositionEnd:P,tabIndex:y,attrs:Ql(e,!0),maxLength:O?w:void 0})),!O&&k?M.createElement("span",{className:"".concat(i,"-selection-item"),title:j,style:G?{visibility:"hidden"}:void 0},k.label):null,Q())};function nde(n){return![vn.ESC,vn.SHIFT,vn.BACKSPACE,vn.TAB,vn.WIN_KEY,vn.ALT,vn.META,vn.WIN_KEY_RIGHT,vn.CTRL,vn.SEMICOLON,vn.EQUALS,vn.CAPS_LOCK,vn.CONTEXT_MENU,vn.F1,vn.F2,vn.F3,vn.F4,vn.F5,vn.F6,vn.F7,vn.F8,vn.F9,vn.F10,vn.F11,vn.F12].includes(n)}var rde=function(e,r){var i=M.useRef(null),o=M.useRef(!1),s=e.prefixCls,l=e.open,u=e.mode,c=e.showSearch,d=e.tokenWithEnter,h=e.autoClearSearchValue,p=e.onSearch,m=e.onSearchSubmit,v=e.onToggleOpen,y=e.onInputKeyDown,A=e.domRef;M.useImperativeHandle(r,function(){return{focus:function(){i.current.focus()},blur:function(){i.current.blur()}}});var b=k9(0),g=Nt(b,2),w=g[0],E=g[1],C=function(z){var G=z.which;(G===vn.UP||G===vn.DOWN)&&z.preventDefault(),y&&y(z),G===vn.ENTER&&u==="tags"&&!o.current&&!l&&(m==null||m(z.target.value)),nde(G)&&v(!0)},_=function(){E(!0)},L=M.useRef(null),R=function(z){p(z,!0,o.current)!==!1&&v(!0)},P=function(){o.current=!0},T=function(z){o.current=!1,u!=="combobox"&&R(z.target.value)},D=function(z){var G=z.target.value;if(d&&L.current&&/[\r\n]/.test(L.current)){var j=L.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");G=G.replace(j,L.current)}L.current=null,R(G)},$=function(z){var G=z.clipboardData,j=G.getData("text");L.current=j},V=function(z){var G=z.target;if(G!==i.current){var j=document.body.style.msTouchAction!==void 0;j?setTimeout(function(){i.current.focus()}):i.current.focus()}},B=function(z){var G=w();z.target!==i.current&&!G&&u!=="combobox"&&z.preventDefault(),(u!=="combobox"&&(!c||!G)||!l)&&(l&&h!==!1&&p("",!0,!1),v())},O={inputRef:i,onInputKeyDown:C,onInputMouseDown:_,onInputChange:D,onInputPaste:$,onInputCompositionStart:P,onInputCompositionEnd:T},F=u==="multiple"||u==="tags"?M.createElement(ede,on({},e,O)):M.createElement(tde,on({},e,O));return M.createElement("div",{ref:A,className:"".concat(s,"-selector"),onClick:V,onMouseDown:B},F)},G9=M.forwardRef(rde);G9.displayName="Selector";function ide(n){var e=n.prefixCls,r=n.align,i=n.arrow,o=n.arrowPos,s=i||{},l=s.className,u=s.content,c=o.x,d=c===void 0?0:c,h=o.y,p=h===void 0?0:h,m=M.useRef();if(!r||!r.points)return null;var v={position:"absolute"};if(r.autoArrow!==!1){var y=r.points[0],A=r.points[1],b=y[0],g=y[1],w=A[0],E=A[1];b===w||!["t","b"].includes(b)?v.top=p:b==="t"?v.top=0:v.bottom=0,g===E||!["l","r"].includes(g)?v.left=d:g==="l"?v.left=0:v.right=0}return M.createElement("div",{ref:m,className:Et("".concat(e,"-arrow"),l),style:v},u)}function ode(n){var e=n.prefixCls,r=n.open,i=n.zIndex,o=n.mask,s=n.motion;return o?M.createElement(wc,on({},s,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(l){var u=l.className;return M.createElement("div",{style:{zIndex:i},className:Et("".concat(e,"-mask"),u)})}):null}var ade=M.memo(function(n){var e=n.children;return e},function(n,e){return e.cache}),sde=M.forwardRef(function(n,e){var r=n.popup,i=n.className,o=n.prefixCls,s=n.style,l=n.target,u=n.onVisibleChanged,c=n.open,d=n.keepDom,h=n.fresh,p=n.onClick,m=n.mask,v=n.arrow,y=n.arrowPos,A=n.align,b=n.motion,g=n.maskMotion,w=n.forceRender,E=n.getPopupContainer,C=n.autoDestroy,_=n.portal,L=n.zIndex,R=n.onMouseEnter,P=n.onMouseLeave,T=n.onPointerEnter,D=n.ready,$=n.offsetX,V=n.offsetY,B=n.offsetR,O=n.offsetB,F=n.onAlign,k=n.onPrepare,z=n.stretch,G=n.targetWidth,j=n.targetHeight,Q=typeof r=="function"?r():r,X=c||d,J=(E==null?void 0:E.length)>0,Z=M.useState(!E||!J),oe=Nt(Z,2),ue=oe[0],Be=oe[1];if(Ti(function(){!ue&&J&&l&&Be(!0)},[ue,J,l]),!ue)return null;var ge="auto",Ie={left:"-1000vw",top:"-1000vh",right:ge,bottom:ge};if(D||!c){var He,Ze=A.points,Xe=A.dynamicInset||((He=A._experimental)===null||He===void 0?void 0:He.dynamicInset),ke=Xe&&Ze[0][1]==="r",lt=Xe&&Ze[0][0]==="b";ke?(Ie.right=B,Ie.left=ge):(Ie.left=$,Ie.right=ge),lt?(Ie.bottom=O,Ie.top=ge):(Ie.top=V,Ie.bottom=ge)}var ot={};return z&&(z.includes("height")&&j?ot.height=j:z.includes("minHeight")&&j&&(ot.minHeight=j),z.includes("width")&&G?ot.width=G:z.includes("minWidth")&&G&&(ot.minWidth=G)),c||(ot.pointerEvents="none"),M.createElement(_,{open:w||X,getContainer:E&&function(){return E(l)},autoDestroy:C},M.createElement(ode,{prefixCls:o,open:c,zIndex:L,mask:m,motion:g}),M.createElement(Qa,{onResize:F,disabled:!c},function(it){return M.createElement(wc,on({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:w,leavedClassName:"".concat(o,"-hidden")},b,{onAppearPrepare:k,onEnterPrepare:k,visible:c,onVisibleChanged:function(xt){var At;b==null||(At=b.onVisibleChanged)===null||At===void 0||At.call(b,xt),u(xt)}}),function(ft,xt){var At=ft.className,Ct=ft.style,Tt=Et(o,At,i);return M.createElement("div",{ref:zs(it,e,xt),className:Tt,style:mt(mt(mt(mt({"--arrow-x":"".concat(y.x||0,"px"),"--arrow-y":"".concat(y.y||0,"px")},Ie),ot),Ct),{},{boxSizing:"border-box",zIndex:L},s),onMouseEnter:R,onMouseLeave:P,onPointerEnter:T,onClick:p},v&&M.createElement(ide,{prefixCls:o,arrow:v,arrowPos:y,align:A}),M.createElement(ade,{cache:!c&&!h},Q))})}))}),lde=M.forwardRef(function(n,e){var r=n.children,i=n.getTriggerDOMNode,o=bc(r),s=M.useCallback(function(u){dA(e,i?i(u):u)},[i]),l=Th(s,r.ref);return o?M.cloneElement(r,{ref:l}):r}),_N=M.createContext(null);function MN(n){return n?Array.isArray(n)?n:[n]:[]}function cde(n,e,r,i){return M.useMemo(function(){var o=MN(r??e),s=MN(i??e),l=new Set(o),u=new Set(s);return n&&(l.has("hover")&&(l.delete("hover"),l.add("click")),u.has("hover")&&(u.delete("hover"),u.add("click"))),[l,u]},[n,e,r,i])}function ude(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?n[0]===e[0]:n[0]===e[0]&&n[1]===e[1]}function dde(n,e,r,i){for(var o=r.points,s=Object.keys(n),l=0;l<s.length;l+=1){var u,c=s[l];if(ude((u=n[c])===null||u===void 0?void 0:u.points,o,i))return"".concat(e,"-placement-").concat(c)}return""}function TN(n,e,r,i){return e||(r?{motionName:"".concat(n,"-").concat(r)}:i?{motionName:i}:null)}function jA(n){return n.ownerDocument.defaultView}function a3(n){for(var e=[],r=n==null?void 0:n.parentElement,i=["hidden","scroll","clip","auto"];r;){var o=jA(r).getComputedStyle(r),s=o.overflowX,l=o.overflowY,u=o.overflow;[s,l,u].some(function(c){return i.includes(c)})&&e.push(r),r=r.parentElement}return e}function AA(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(n)?e:n}function Tv(n){return AA(parseFloat(n),0)}function RN(n,e){var r=mt({},n);return(e||[]).forEach(function(i){if(!(i instanceof HTMLBodyElement||i instanceof HTMLHtmlElement)){var o=jA(i).getComputedStyle(i),s=o.overflow,l=o.overflowClipMargin,u=o.borderTopWidth,c=o.borderBottomWidth,d=o.borderLeftWidth,h=o.borderRightWidth,p=i.getBoundingClientRect(),m=i.offsetHeight,v=i.clientHeight,y=i.offsetWidth,A=i.clientWidth,b=Tv(u),g=Tv(c),w=Tv(d),E=Tv(h),C=AA(Math.round(p.width/y*1e3)/1e3),_=AA(Math.round(p.height/m*1e3)/1e3),L=(y-A-w-E)*C,R=(m-v-b-g)*_,P=b*_,T=g*_,D=w*C,$=E*C,V=0,B=0;if(s==="clip"){var O=Tv(l);V=O*C,B=O*_}var F=p.x+D-V,k=p.y+P-B,z=F+p.width+2*V-D-$-L,G=k+p.height+2*B-P-T-R;r.left=Math.max(r.left,F),r.top=Math.max(r.top,k),r.right=Math.min(r.right,z),r.bottom=Math.min(r.bottom,G)}}),r}function IN(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r="".concat(e),i=r.match(/^(.*)\%$/);return i?n*(parseFloat(i[1])/100):parseFloat(r)}function LN(n,e){var r=e||[],i=Nt(r,2),o=i[0],s=i[1];return[IN(n.width,o),IN(n.height,s)]}function PN(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[n[0],n[1]]}function mp(n,e){var r=e[0],i=e[1],o,s;return r==="t"?s=n.y:r==="b"?s=n.y+n.height:s=n.y+n.height/2,i==="l"?o=n.x:i==="r"?o=n.x+n.width:o=n.x+n.width/2,{x:o,y:s}}function rd(n,e){var r={t:"b",b:"t",l:"r",r:"l"};return n.map(function(i,o){return o===e?r[i]||"c":i}).join("")}function fde(n,e,r,i,o,s,l){var u=M.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:o[i]||{}}),c=Nt(u,2),d=c[0],h=c[1],p=M.useRef(0),m=M.useMemo(function(){return e?a3(e):[]},[e]),v=M.useRef({}),y=function(){v.current={}};n||y();var A=jo(function(){if(e&&r&&n){let Me=function(yt,Ft){var Zt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ct,dn=j.x+yt,Bn=j.y+Ft,ln=dn+Ie,Wn=Bn+ge,pr=Math.max(dn,Zt.left),$n=Math.max(Bn,Zt.top),fn=Math.min(ln,Zt.right),xn=Math.min(Wn,Zt.bottom);return Math.max(0,(fn-pr)*(xn-$n))},Pe=function(){yn=j.y+Qe,Pn=yn+ge,rr=j.x+Je,Gn=rr+Ie};var ye=Me,Ee=Pe,w,E,C=e,_=C.ownerDocument,L=jA(C),R=L.getComputedStyle(C),P=R.width,T=R.height,D=R.position,$=C.style.left,V=C.style.top,B=C.style.right,O=C.style.bottom,F=mt(mt({},o[i]),s),k=_.createElement("div");(w=C.parentElement)===null||w===void 0||w.appendChild(k),k.style.left="".concat(C.offsetLeft,"px"),k.style.top="".concat(C.offsetTop,"px"),k.style.position=D,k.style.height="".concat(C.offsetHeight,"px"),k.style.width="".concat(C.offsetWidth,"px"),C.style.left="0",C.style.top="0",C.style.right="auto",C.style.bottom="auto";var z;if(Array.isArray(r))z={x:r[0],y:r[1],width:0,height:0};else{var G=r.getBoundingClientRect();z={x:G.x,y:G.y,width:G.width,height:G.height}}var j=C.getBoundingClientRect(),Q=_.documentElement,X=Q.clientWidth,J=Q.clientHeight,Z=Q.scrollWidth,oe=Q.scrollHeight,ue=Q.scrollTop,Be=Q.scrollLeft,ge=j.height,Ie=j.width,He=z.height,Ze=z.width,Xe={left:0,top:0,right:X,bottom:J},ke={left:-Be,top:-ue,right:Z-Be,bottom:oe-ue},lt=F.htmlRegion,ot="visible",it="visibleFirst";lt!=="scroll"&&lt!==it&&(lt=ot);var ft=lt===it,xt=RN(ke,m),At=RN(Xe,m),Ct=lt===ot?At:xt,Tt=ft?At:Ct;C.style.left="auto",C.style.top="auto",C.style.right="0",C.style.bottom="0";var Dt=C.getBoundingClientRect();C.style.left=$,C.style.top=V,C.style.right=B,C.style.bottom=O,(E=C.parentElement)===null||E===void 0||E.removeChild(k);var Yt=AA(Math.round(Ie/parseFloat(P)*1e3)/1e3),Ve=AA(Math.round(ge/parseFloat(T)*1e3)/1e3);if(Yt===0||Ve===0||$x(r)&&!hC(r))return;var be=F.offset,fe=F.targetOffset,me=LN(j,be),Te=Nt(me,2),Ce=Te[0],Se=Te[1],we=LN(z,fe),Ge=Nt(we,2),Ae=Ge[0],Ue=Ge[1];z.x-=Ae,z.y-=Ue;var et=F.points||[],ce=Nt(et,2),Y=ce[0],ne=ce[1],Le=PN(ne),We=PN(Y),ve=mp(z,Le),he=mp(j,We),qe=mt({},F),Je=ve.x-he.x+Ce,Qe=ve.y-he.y+Se,nt=Me(Je,Qe),It=Me(Je,Qe,At),kt=mp(z,["t","l"]),Bt=mp(j,["t","l"]),Gt=mp(z,["b","r"]),Vt=mp(j,["b","r"]),Pt=F.overflow||{},pt=Pt.adjustX,Ot=Pt.adjustY,cn=Pt.shiftX,qt=Pt.shiftY,Sn=function(Ft){return typeof Ft=="boolean"?Ft:Ft>=0},yn,Pn,rr,Gn;Pe();var Fn=Sn(Ot),Cn=We[0]===Le[0];if(Fn&&We[0]==="t"&&(Pn>Tt.bottom||v.current.bt)){var Oe=Qe;Cn?Oe-=ge-He:Oe=kt.y-Vt.y-Se;var st=Me(Je,Oe),wt=Me(Je,Oe,At);st>nt||st===nt&&(!ft||wt>=It)?(v.current.bt=!0,Qe=Oe,Se=-Se,qe.points=[rd(We,0),rd(Le,0)]):v.current.bt=!1}if(Fn&&We[0]==="b"&&(yn<Tt.top||v.current.tb)){var xe=Qe;Cn?xe+=ge-He:xe=Gt.y-Bt.y-Se;var De=Me(Je,xe),tt=Me(Je,xe,At);De>nt||De===nt&&(!ft||tt>=It)?(v.current.tb=!0,Qe=xe,Se=-Se,qe.points=[rd(We,0),rd(Le,0)]):v.current.tb=!1}var St=Sn(pt),Mt=We[1]===Le[1];if(St&&We[1]==="l"&&(Gn>Tt.right||v.current.rl)){var Ut=Je;Mt?Ut-=Ie-Ze:Ut=kt.x-Vt.x-Ce;var Qt=Me(Ut,Qe),mn=Me(Ut,Qe,At);Qt>nt||Qt===nt&&(!ft||mn>=It)?(v.current.rl=!0,Je=Ut,Ce=-Ce,qe.points=[rd(We,1),rd(Le,1)]):v.current.rl=!1}if(St&&We[1]==="r"&&(rr<Tt.left||v.current.lr)){var sn=Je;Mt?sn+=Ie-Ze:sn=Gt.x-Bt.x-Ce;var Kt=Me(sn,Qe),Hn=Me(sn,Qe,At);Kt>nt||Kt===nt&&(!ft||Hn>=It)?(v.current.lr=!0,Je=sn,Ce=-Ce,qe.points=[rd(We,1),rd(Le,1)]):v.current.lr=!1}Pe();var Nn=cn===!0?0:cn;typeof Nn=="number"&&(rr<At.left&&(Je-=rr-At.left-Ce,z.x+Ze<At.left+Nn&&(Je+=z.x-At.left+Ze-Nn)),Gn>At.right&&(Je-=Gn-At.right-Ce,z.x>At.right-Nn&&(Je+=z.x-At.right+Nn)));var er=qt===!0?0:qt;typeof er=="number"&&(yn<At.top&&(Qe-=yn-At.top-Se,z.y+He<At.top+er&&(Qe+=z.y-At.top+He-er)),Pn>At.bottom&&(Qe-=Pn-At.bottom-Se,z.y>At.bottom-er&&(Qe+=z.y-At.bottom+er)));var yr=j.x+Je,kn=yr+Ie,dr=j.y+Qe,sr=dr+ge,Dr=z.x,or=Dr+Ze,Jt=z.y,bn=Jt+He,qn=Math.max(yr,Dr),jn=Math.min(kn,or),re=(qn+jn)/2,se=re-yr,_e=Math.max(dr,Jt),Fe=Math.min(sr,bn),Ye=(_e+Fe)/2,at=Ye-dr;l==null||l(e,qe);var bt=Dt.right-j.x-(Je+j.width),pe=Dt.bottom-j.y-(Qe+j.height);h({ready:!0,offsetX:Je/Yt,offsetY:Qe/Ve,offsetR:bt/Yt,offsetB:pe/Ve,arrowX:se/Yt,arrowY:at/Ve,scaleX:Yt,scaleY:Ve,align:qe})}}),b=function(){p.current+=1;var E=p.current;Promise.resolve().then(function(){p.current===E&&A()})},g=function(){h(function(E){return mt(mt({},E),{},{ready:!1})})};return Ti(g,[i]),Ti(function(){n||g()},[n]),[d.ready,d.offsetX,d.offsetY,d.offsetR,d.offsetB,d.arrowX,d.arrowY,d.scaleX,d.scaleY,d.align,b]}function hde(n,e,r,i,o){Ti(function(){if(n&&e&&r){let m=function(){i(),o()};var p=m,s=e,l=r,u=a3(s),c=a3(l),d=jA(l),h=new Set([d].concat(An(u),An(c)));return h.forEach(function(v){v.addEventListener("scroll",m,{passive:!0})}),d.addEventListener("resize",m,{passive:!0}),i(),function(){h.forEach(function(v){v.removeEventListener("scroll",m),d.removeEventListener("resize",m)})}}},[n,e,r])}function pde(n,e,r,i,o,s,l,u){var c=M.useRef(n),d=M.useRef(!1);c.current!==n&&(d.current=!0,c.current=n),M.useEffect(function(){var h=Oi(function(){d.current=!1});return function(){Oi.cancel(h)}},[n]),M.useEffect(function(){if(e&&i&&(!o||s)){var h=function(){var L=!1,R=function(D){var $=D.target;L=l($)},P=function(D){var $=D.target;!d.current&&c.current&&!L&&!l($)&&u(!1)};return[R,P]},p=h(),m=Nt(p,2),v=m[0],y=m[1],A=h(),b=Nt(A,2),g=b[0],w=b[1],E=jA(i);E.addEventListener("mousedown",v,!0),E.addEventListener("click",y,!0),E.addEventListener("contextmenu",y,!0);var C=zx(r);return C&&(C.addEventListener("mousedown",g,!0),C.addEventListener("click",w,!0),C.addEventListener("contextmenu",w,!0)),function(){E.removeEventListener("mousedown",v,!0),E.removeEventListener("click",y,!0),E.removeEventListener("contextmenu",y,!0),C&&(C.removeEventListener("mousedown",g,!0),C.removeEventListener("click",w,!0),C.removeEventListener("contextmenu",w,!0))}}},[e,r,i,o,s])}var mde=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function gde(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:M9,e=M.forwardRef(function(r,i){var o=r.prefixCls,s=o===void 0?"rc-trigger-popup":o,l=r.children,u=r.action,c=u===void 0?"hover":u,d=r.showAction,h=r.hideAction,p=r.popupVisible,m=r.defaultPopupVisible,v=r.onPopupVisibleChange,y=r.afterPopupVisibleChange,A=r.mouseEnterDelay,b=r.mouseLeaveDelay,g=b===void 0?.1:b,w=r.focusDelay,E=r.blurDelay,C=r.mask,_=r.maskClosable,L=_===void 0?!0:_,R=r.getPopupContainer,P=r.forceRender,T=r.autoDestroy,D=r.destroyPopupOnHide,$=r.popup,V=r.popupClassName,B=r.popupStyle,O=r.popupPlacement,F=r.builtinPlacements,k=F===void 0?{}:F,z=r.popupAlign,G=r.zIndex,j=r.stretch,Q=r.getPopupClassNameFromAlign,X=r.fresh,J=r.alignPoint,Z=r.onPopupClick,oe=r.onPopupAlign,ue=r.arrow,Be=r.popupMotion,ge=r.maskMotion,Ie=r.popupTransitionName,He=r.popupAnimation,Ze=r.maskTransitionName,Xe=r.maskAnimation,ke=r.className,lt=r.getTriggerDOMNode,ot=Pr(r,mde),it=T||D||!1,ft=M.useState(!1),xt=Nt(ft,2),At=xt[0],Ct=xt[1];Ti(function(){Ct(sL())},[]);var Tt=M.useRef({}),Dt=M.useContext(_N),Yt=M.useMemo(function(){return{registerSubPopup:function(xn,Yn){Tt.current[xn]=Yn,Dt==null||Dt.registerSubPopup(xn,Yn)}}},[Dt]),Ve=tce(),be=M.useState(null),fe=Nt(be,2),me=fe[0],Te=fe[1],Ce=jo(function(fn){$x(fn)&&me!==fn&&Te(fn),Dt==null||Dt.registerSubPopup(Ve,fn)}),Se=M.useState(null),we=Nt(Se,2),Ge=we[0],Ae=we[1],Ue=M.useRef(null),et=jo(function(fn){$x(fn)&&Ge!==fn&&(Ae(fn),Ue.current=fn)}),ce=M.Children.only(l),Y=(ce==null?void 0:ce.props)||{},ne={},Le=jo(function(fn){var xn,Yn,lr=Ge;return(lr==null?void 0:lr.contains(fn))||((xn=zx(lr))===null||xn===void 0?void 0:xn.host)===fn||fn===lr||(me==null?void 0:me.contains(fn))||((Yn=zx(me))===null||Yn===void 0?void 0:Yn.host)===fn||fn===me||Object.values(Tt.current).some(function(mr){return(mr==null?void 0:mr.contains(fn))||fn===mr})}),We=TN(s,Be,He,Ie),ve=TN(s,ge,Xe,Ze),he=M.useState(m||!1),qe=Nt(he,2),Je=qe[0],Qe=qe[1],nt=p??Je,It=jo(function(fn){p===void 0&&Qe(fn)});Ti(function(){Qe(p||!1)},[p]);var kt=M.useRef(nt);kt.current=nt;var Bt=jo(function(fn){Ns.flushSync(function(){nt!==fn&&(It(fn),v==null||v(fn))})}),Gt=M.useRef(),Vt=function(){clearTimeout(Gt.current)},Pt=function(xn){var Yn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Vt(),Yn===0?Bt(xn):Gt.current=setTimeout(function(){Bt(xn)},Yn*1e3)};M.useEffect(function(){return Vt},[]);var pt=M.useState(!1),Ot=Nt(pt,2),cn=Ot[0],qt=Ot[1];Ti(function(fn){(!fn||nt)&&qt(!0)},[nt]);var Sn=M.useState(null),yn=Nt(Sn,2),Pn=yn[0],rr=yn[1],Gn=M.useState([0,0]),Fn=Nt(Gn,2),Cn=Fn[0],Oe=Fn[1],st=function(xn){Oe([xn.clientX,xn.clientY])},wt=fde(nt,me,J?Cn:Ge,O,k,z,oe),xe=Nt(wt,11),De=xe[0],tt=xe[1],St=xe[2],Mt=xe[3],Ut=xe[4],Qt=xe[5],mn=xe[6],sn=xe[7],Kt=xe[8],Hn=xe[9],Nn=xe[10],er=cde(At,c,d,h),yr=Nt(er,2),kn=yr[0],dr=yr[1],sr=kn.has("click"),Dr=dr.has("click")||dr.has("contextMenu"),or=jo(function(){cn||Nn()}),Jt=function(){kt.current&&J&&Dr&&Pt(!1)};hde(nt,Ge,me,or,Jt),Ti(function(){or()},[Cn,O]),Ti(function(){nt&&!(k!=null&&k[O])&&or()},[JSON.stringify(z)]);var bn=M.useMemo(function(){var fn=dde(k,s,Hn,J);return Et(fn,Q==null?void 0:Q(Hn))},[Hn,Q,k,s,J]);M.useImperativeHandle(i,function(){return{nativeElement:Ue.current,forceAlign:or}});var qn=M.useState(0),jn=Nt(qn,2),re=jn[0],se=jn[1],_e=M.useState(0),Fe=Nt(_e,2),Ye=Fe[0],at=Fe[1],bt=function(){if(j&&Ge){var xn=Ge.getBoundingClientRect();se(xn.width),at(xn.height)}},pe=function(){bt(),or()},ye=function(xn){qt(!1),Nn(),y==null||y(xn)},Ee=function(){return new Promise(function(xn){bt(),rr(function(){return xn})})};Ti(function(){Pn&&(Nn(),Pn(),rr(null))},[Pn]);function Me(fn,xn,Yn,lr){ne[fn]=function(mr){var Br;lr==null||lr(mr),Pt(xn,Yn);for(var ni=arguments.length,Kr=new Array(ni>1?ni-1:0),Ii=1;Ii<ni;Ii++)Kr[Ii-1]=arguments[Ii];(Br=Y[fn])===null||Br===void 0||Br.call.apply(Br,[Y,mr].concat(Kr))}}(sr||Dr)&&(ne.onClick=function(fn){var xn;kt.current&&Dr?Pt(!1):!kt.current&&sr&&(st(fn),Pt(!0));for(var Yn=arguments.length,lr=new Array(Yn>1?Yn-1:0),mr=1;mr<Yn;mr++)lr[mr-1]=arguments[mr];(xn=Y.onClick)===null||xn===void 0||xn.call.apply(xn,[Y,fn].concat(lr))}),pde(nt,Dr,Ge,me,C,L,Le,Pt);var Pe=kn.has("hover"),yt=dr.has("hover"),Ft,Zt;Pe&&(Me("onMouseEnter",!0,A,function(fn){st(fn)}),Me("onPointerEnter",!0,A,function(fn){st(fn)}),Ft=function(){(nt||cn)&&Pt(!0,A)},J&&(ne.onMouseMove=function(fn){var xn;(xn=Y.onMouseMove)===null||xn===void 0||xn.call(Y,fn)})),yt&&(Me("onMouseLeave",!1,g),Me("onPointerLeave",!1,g),Zt=function(){Pt(!1,g)}),kn.has("focus")&&Me("onFocus",!0,w),dr.has("focus")&&Me("onBlur",!1,E),kn.has("contextMenu")&&(ne.onContextMenu=function(fn){var xn;kt.current&&dr.has("contextMenu")?Pt(!1):(st(fn),Pt(!0)),fn.preventDefault();for(var Yn=arguments.length,lr=new Array(Yn>1?Yn-1:0),mr=1;mr<Yn;mr++)lr[mr-1]=arguments[mr];(xn=Y.onContextMenu)===null||xn===void 0||xn.call.apply(xn,[Y,fn].concat(lr))}),ke&&(ne.className=Et(Y.className,ke));var dn=mt(mt({},Y),ne),Bn={},ln=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];ln.forEach(function(fn){ot[fn]&&(Bn[fn]=function(){for(var xn,Yn=arguments.length,lr=new Array(Yn),mr=0;mr<Yn;mr++)lr[mr]=arguments[mr];(xn=dn[fn])===null||xn===void 0||xn.call.apply(xn,[dn].concat(lr)),ot[fn].apply(ot,lr)})});var Wn=M.cloneElement(ce,mt(mt({},dn),Bn)),pr={x:Qt,y:mn},$n=ue?mt({},ue!==!0?ue:{}):null;return M.createElement(M.Fragment,null,M.createElement(Qa,{disabled:!nt,ref:et,onResize:pe},M.createElement(lde,{getTriggerDOMNode:lt},Wn)),M.createElement(_N.Provider,{value:Yt},M.createElement(sde,{portal:n,ref:Ce,prefixCls:s,popup:$,className:Et(V,bn),style:B,target:Ge,onMouseEnter:Ft,onMouseLeave:Zt,onPointerEnter:Ft,zIndex:G,open:nt,keepDom:cn,fresh:X,onClick:Z,mask:C,motion:We,maskMotion:ve,onVisibleChanged:ye,onPrepare:Ee,forceRender:P,autoDestroy:it,getPopupContainer:R,align:Hn,arrow:$n,arrowPos:pr,ready:De,offsetX:tt,offsetY:St,offsetR:Mt,offsetB:Ut,onAlign:or,stretch:j,targetWidth:re/sn,targetHeight:Ye/Kt})))});return e}const yC=gde(M9);var vde=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],Ade=function(e){var r=e===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:r,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:r,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:r,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:r,adjustY:1},htmlRegion:"scroll"}}},yde=function(e,r){var i=e.prefixCls;e.disabled;var o=e.visible,s=e.children,l=e.popupElement,u=e.animation,c=e.transitionName,d=e.dropdownStyle,h=e.dropdownClassName,p=e.direction,m=p===void 0?"ltr":p,v=e.placement,y=e.builtinPlacements,A=e.dropdownMatchSelectWidth,b=e.dropdownRender,g=e.dropdownAlign,w=e.getPopupContainer,E=e.empty,C=e.getTriggerDOMNode,_=e.onPopupVisibleChange,L=e.onPopupMouseEnter,R=Pr(e,vde),P="".concat(i,"-dropdown"),T=l;b&&(T=b(l));var D=M.useMemo(function(){return y||Ade(A)},[y,A]),$=u?"".concat(P,"-").concat(u):c,V=typeof A=="number",B=M.useMemo(function(){return V?null:A===!1?"minWidth":"width"},[A,V]),O=d;V&&(O=mt(mt({},O),{},{width:A}));var F=M.useRef(null);return M.useImperativeHandle(r,function(){return{getPopupElement:function(){return F.current}}}),M.createElement(yC,on({},R,{showAction:_?["click"]:[],hideAction:_?["click"]:[],popupPlacement:v||(m==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:D,prefixCls:P,popupTransitionName:$,popup:M.createElement("div",{ref:F,onMouseEnter:L},T),stretch:B,popupAlign:g,popupVisible:o,getPopupContainer:w,popupClassName:Et(h,ct({},"".concat(P,"-empty"),E)),popupStyle:O,getTriggerDOMNode:C,onPopupVisibleChange:_}),s)},j9=M.forwardRef(yde);j9.displayName="SelectTrigger";function BN(n,e){var r=n.key,i;return"value"in n&&(i=n.value),r??(i!==void 0?i:"rc-index-key-".concat(e))}function V9(n,e){var r=n||{},i=r.label,o=r.value,s=r.options,l=r.groupLabel,u=i||(e?"children":"label");return{label:u,value:o||"value",options:s||"options",groupLabel:l||u}}function bde(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.fieldNames,i=e.childrenAsData,o=[],s=V9(r,!1),l=s.label,u=s.value,c=s.options,d=s.groupLabel;function h(p,m){p.forEach(function(v){if(m||!(c in v)){var y=v[u];o.push({key:BN(v,o.length),groupOption:m,data:v,label:v[l],value:y})}else{var A=v[d];A===void 0&&i&&(A=v.label),o.push({key:BN(v,o.length),group:!0,data:v,label:A}),h(v[c],!0)}})}return h(n,!1),o}function s3(n){var e=mt({},n);return"props"in e||Object.defineProperty(e,"props",{get:function(){return no(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),e}}),e}function xde(n,e){if(!e||!e.length)return null;var r=!1;function i(s,l){var u=Fz(l),c=u[0],d=u.slice(1);if(!c)return[s];var h=s.split(c);return r=r||h.length>1,h.reduce(function(p,m){return[].concat(An(p),An(i(m,d)))},[]).filter(function(p){return p})}var o=i(n,e);return r?o:null}var Ede=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],Cde=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function l3(n){return n==="tags"||n==="multiple"}var wde=M.forwardRef(function(n,e){var r,i,o=n.id,s=n.prefixCls,l=n.className,u=n.showSearch,c=n.tagRender,d=n.direction,h=n.omitDomProps,p=n.displayValues,m=n.onDisplayValuesChange,v=n.emptyOptions,y=n.notFoundContent,A=y===void 0?"Not Found":y,b=n.onClear,g=n.mode,w=n.disabled,E=n.loading,C=n.getInputElement,_=n.getRawInputElement,L=n.open,R=n.defaultOpen,P=n.onDropdownVisibleChange,T=n.activeValue,D=n.onActiveValueChange,$=n.activeDescendantId,V=n.searchValue,B=n.autoClearSearchValue,O=n.onSearch,F=n.onSearchSplit,k=n.tokenSeparators,z=n.allowClear,G=n.suffixIcon,j=n.clearIcon,Q=n.OptionList,X=n.animation,J=n.transitionName,Z=n.dropdownStyle,oe=n.dropdownClassName,ue=n.dropdownMatchSelectWidth,Be=n.dropdownRender,ge=n.dropdownAlign,Ie=n.placement,He=n.builtinPlacements,Ze=n.getPopupContainer,Xe=n.showAction,ke=Xe===void 0?[]:Xe,lt=n.onFocus,ot=n.onBlur,it=n.onKeyUp,ft=n.onKeyDown,xt=n.onMouseDown,At=Pr(n,Ede),Ct=l3(g),Tt=(u!==void 0?u:Ct)||g==="combobox",Dt=mt({},At);Cde.forEach(function(or){delete Dt[or]}),h==null||h.forEach(function(or){delete Dt[or]});var Yt=M.useState(!1),Ve=Nt(Yt,2),be=Ve[0],fe=Ve[1];M.useEffect(function(){fe(sL())},[]);var me=M.useRef(null),Te=M.useRef(null),Ce=M.useRef(null),Se=M.useRef(null),we=M.useRef(null),Ge=M.useRef(!1),Ae=Oue(),Ue=Nt(Ae,3),et=Ue[0],ce=Ue[1],Y=Ue[2];M.useImperativeHandle(e,function(){var or,Jt;return{focus:(or=Se.current)===null||or===void 0?void 0:or.focus,blur:(Jt=Se.current)===null||Jt===void 0?void 0:Jt.blur,scrollTo:function(qn){var jn;return(jn=we.current)===null||jn===void 0?void 0:jn.scrollTo(qn)}}});var ne=M.useMemo(function(){var or;if(g!=="combobox")return V;var Jt=(or=p[0])===null||or===void 0?void 0:or.value;return typeof Jt=="string"||typeof Jt=="number"?String(Jt):""},[V,g,p]),Le=g==="combobox"&&typeof C=="function"&&C()||null,We=typeof _=="function"&&_(),ve=Th(Te,We==null||(r=We.props)===null||r===void 0?void 0:r.ref),he=M.useState(!1),qe=Nt(he,2),Je=qe[0],Qe=qe[1];Ti(function(){Qe(!0)},[]);var nt=Fo(!1,{defaultValue:R,value:L}),It=Nt(nt,2),kt=It[0],Bt=It[1],Gt=Je?kt:!1,Vt=!A&&v;(w||Vt&&Gt&&g==="combobox")&&(Gt=!1);var Pt=Vt?!1:Gt,pt=M.useCallback(function(or){var Jt=or!==void 0?or:!Gt;w||(Bt(Jt),Gt!==Jt&&(P==null||P(Jt)))},[w,Gt,Bt,P]),Ot=M.useMemo(function(){return(k||[]).some(function(or){return[`
`,`\r
`].includes(or)})},[k]),cn=function(Jt,bn,qn){var jn=!0,re=Jt;D==null||D(null);var se=qn?null:xde(Jt,k);return g!=="combobox"&&se&&(re="",F==null||F(se),pt(!1),jn=!1),O&&ne!==re&&O(re,{source:bn?"typing":"effect"}),jn},qt=function(Jt){!Jt||!Jt.trim()||O(Jt,{source:"submit"})};M.useEffect(function(){!Gt&&!Ct&&g!=="combobox"&&cn("",!1,!1)},[Gt]),M.useEffect(function(){kt&&w&&Bt(!1),w&&!Ge.current&&ce(!1)},[w]);var Sn=k9(),yn=Nt(Sn,2),Pn=yn[0],rr=yn[1],Gn=function(Jt){var bn=Pn(),qn=Jt.which;if(qn===vn.ENTER&&(g!=="combobox"&&Jt.preventDefault(),Gt||pt(!0)),rr(!!ne),qn===vn.BACKSPACE&&!bn&&Ct&&!ne&&p.length){for(var jn=An(p),re=null,se=jn.length-1;se>=0;se-=1){var _e=jn[se];if(!_e.disabled){jn.splice(se,1),re=_e;break}}re&&m(jn,{type:"remove",values:[re]})}for(var Fe=arguments.length,Ye=new Array(Fe>1?Fe-1:0),at=1;at<Fe;at++)Ye[at-1]=arguments[at];if(Gt&&we.current){var bt;(bt=we.current).onKeyDown.apply(bt,[Jt].concat(Ye))}ft==null||ft.apply(void 0,[Jt].concat(Ye))},Fn=function(Jt){for(var bn=arguments.length,qn=new Array(bn>1?bn-1:0),jn=1;jn<bn;jn++)qn[jn-1]=arguments[jn];if(Gt&&we.current){var re;(re=we.current).onKeyUp.apply(re,[Jt].concat(qn))}it==null||it.apply(void 0,[Jt].concat(qn))},Cn=function(Jt){var bn=p.filter(function(qn){return qn!==Jt});m(bn,{type:"remove",values:[Jt]})},Oe=M.useRef(!1),st=function(){ce(!0),w||(lt&&!Oe.current&&lt.apply(void 0,arguments),ke.includes("focus")&&pt(!0)),Oe.current=!0},wt=function(){Ge.current=!0,ce(!1,function(){Oe.current=!1,Ge.current=!1,pt(!1)}),!w&&(ne&&(g==="tags"?O(ne,{source:"submit"}):g==="multiple"&&O("",{source:"blur"})),ot&&ot.apply(void 0,arguments))},xe=[];M.useEffect(function(){return function(){xe.forEach(function(or){return clearTimeout(or)}),xe.splice(0,xe.length)}},[]);var De=function(Jt){var bn,qn=Jt.target,jn=(bn=Ce.current)===null||bn===void 0?void 0:bn.getPopupElement();if(jn&&jn.contains(qn)){var re=setTimeout(function(){var Ye=xe.indexOf(re);if(Ye!==-1&&xe.splice(Ye,1),Y(),!be&&!jn.contains(document.activeElement)){var at;(at=Se.current)===null||at===void 0||at.focus()}});xe.push(re)}for(var se=arguments.length,_e=new Array(se>1?se-1:0),Fe=1;Fe<se;Fe++)_e[Fe-1]=arguments[Fe];xt==null||xt.apply(void 0,[Jt].concat(_e))},tt=M.useState({}),St=Nt(tt,2),Mt=St[1];function Ut(){Mt({})}var Qt;We&&(Qt=function(Jt){pt(Jt)}),Due(function(){var or;return[me.current,(or=Ce.current)===null||or===void 0?void 0:or.getPopupElement()]},Pt,pt,!!We);var mn=M.useMemo(function(){return mt(mt({},n),{},{notFoundContent:A,open:Gt,triggerOpen:Pt,id:o,showSearch:Tt,multiple:Ct,toggleOpen:pt})},[n,A,Pt,Gt,o,Tt,Ct,pt]),sn=!!G||E,Kt;sn&&(Kt=M.createElement(AC,{className:Et("".concat(s,"-arrow"),ct({},"".concat(s,"-arrow-loading"),E)),customizeIcon:G,customizeIconProps:{loading:E,searchValue:ne,open:Gt,focused:et,showSearch:Tt}}));var Hn=function(){var Jt;b==null||b(),(Jt=Se.current)===null||Jt===void 0||Jt.focus(),m([],{type:"clear",values:p}),cn("",!1,!1)},Nn=Pue(s,Hn,p,z,j,w,ne,g),er=Nn.allowClear,yr=Nn.clearIcon,kn=M.createElement(Q,{ref:we}),dr=Et(s,l,(i={},ct(i,"".concat(s,"-focused"),et),ct(i,"".concat(s,"-multiple"),Ct),ct(i,"".concat(s,"-single"),!Ct),ct(i,"".concat(s,"-allow-clear"),z),ct(i,"".concat(s,"-show-arrow"),sn),ct(i,"".concat(s,"-disabled"),w),ct(i,"".concat(s,"-loading"),E),ct(i,"".concat(s,"-open"),Gt),ct(i,"".concat(s,"-customize-input"),Le),ct(i,"".concat(s,"-show-search"),Tt),i)),sr=M.createElement(j9,{ref:Ce,disabled:w,prefixCls:s,visible:Pt,popupElement:kn,animation:X,transitionName:J,dropdownStyle:Z,dropdownClassName:oe,direction:d,dropdownMatchSelectWidth:ue,dropdownRender:Be,dropdownAlign:ge,placement:Ie,builtinPlacements:He,getPopupContainer:Ze,empty:v,getTriggerDOMNode:function(){return Te.current},onPopupVisibleChange:Qt,onPopupMouseEnter:Ut},We?M.cloneElement(We,{ref:ve}):M.createElement(G9,on({},n,{domRef:Te,prefixCls:s,inputElement:Le,ref:Se,id:o,showSearch:Tt,autoClearSearchValue:B,mode:g,activeDescendantId:$,tagRender:c,values:p,open:Gt,onToggleOpen:pt,activeValue:T,searchValue:ne,onSearch:cn,onSearchSubmit:qt,onRemove:Cn,tokenWithEnter:Ot}))),Dr;return We?Dr=sr:Dr=M.createElement("div",on({className:dr},Dt,{ref:me,onMouseDown:De,onKeyDown:Gn,onKeyUp:Fn,onFocus:st,onBlur:wt}),et&&!Gt&&M.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(p.map(function(or){var Jt=or.label,bn=or.value;return["number","string"].includes(Ir(Jt))?Jt:bn}).join(", "))),sr,Kt,er&&yr),M.createElement(N9.Provider,{value:mn},Dr)});const Sde=function(n,e){var r=M.useRef({values:new Map,options:new Map}),i=M.useMemo(function(){var s=r.current,l=s.values,u=s.options,c=n.map(function(p){if(p.label===void 0){var m;return mt(mt({},p),{},{label:(m=l.get(p.value))===null||m===void 0?void 0:m.label})}return p}),d=new Map,h=new Map;return c.forEach(function(p){d.set(p.value,p),h.set(p.value,e.get(p.value)||u.get(p.value))}),r.current.values=d,r.current.options=h,c},[n,e]),o=M.useCallback(function(s){return e.get(s)||r.current.options.get(s)},[e]);return[i,o]};function F2(n,e){return H9(n).join("").toUpperCase().includes(e)}const _de=function(n,e,r,i,o){return M.useMemo(function(){if(!r||i===!1)return n;var s=e.options,l=e.label,u=e.value,c=[],d=typeof i=="function",h=r.toUpperCase(),p=d?i:function(v,y){return o?F2(y[o],h):y[s]?F2(y[l!=="children"?l:"label"],h):F2(y[u],h)},m=d?function(v){return s3(v)}:function(v){return v};return n.forEach(function(v){if(v[s]){var y=p(r,m(v));if(y)c.push(v);else{var A=v[s].filter(function(b){return p(r,m(b))});A.length&&c.push(mt(mt({},v),{},ct({},s,A)))}return}p(r,m(v))&&c.push(v)}),c},[n,i,o,r,e])};var ON=0,Mde=la();function Tde(){var n;return Mde?(n=ON,ON+=1):n="TEST_OR_SSR",n}function Rde(n){var e=M.useState(),r=Nt(e,2),i=r[0],o=r[1];return M.useEffect(function(){o("rc_select_".concat(Tde()))},[]),n||i}var Ide=["children","value"],Lde=["children"];function Pde(n){var e=n,r=e.key,i=e.props,o=i.children,s=i.value,l=Pr(i,Ide);return mt({key:r,value:s!==void 0?s:r,children:o},l)}function W9(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return qa(n).map(function(r,i){if(!M.isValidElement(r)||!r.type)return null;var o=r,s=o.type.isSelectOptGroup,l=o.key,u=o.props,c=u.children,d=Pr(u,Lde);return e||!s?Pde(r):mt(mt({key:"__RC_SELECT_GRP__".concat(l===null?i:l,"__"),label:l},d),{},{options:W9(c)})}).filter(function(r){return r})}function Bde(n,e,r,i,o){return M.useMemo(function(){var s=n,l=!n;l&&(s=W9(e));var u=new Map,c=new Map,d=function(m,v,y){y&&typeof y=="string"&&m.set(v[y],v)};function h(p){for(var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v=0;v<p.length;v+=1){var y=p[v];!y[r.options]||m?(u.set(y[r.value],y),d(c,y,r.label),d(c,y,i),d(c,y,o)):h(y[r.options],!0)}}return h(s),{options:s,valueOptions:u,labelOptions:c}},[n,e,r,i,o])}function DN(n){var e=M.useRef();e.current=n;var r=M.useCallback(function(){return e.current.apply(e,arguments)},[]);return r}var cL=function(){return null};cL.isSelectOptGroup=!0;var uL=function(){return null};uL.isSelectOption=!0;var Q9=M.forwardRef(function(n,e){var r=n.height,i=n.offsetY,o=n.offsetX,s=n.children,l=n.prefixCls,u=n.onInnerResize,c=n.innerProps,d=n.rtl,h=n.extra,p={},m={display:"flex",flexDirection:"column"};if(i!==void 0){var v;p={height:r,position:"relative",overflow:"hidden"},m=mt(mt({},m),{},(v={transform:"translateY(".concat(i,"px)")},ct(v,d?"marginRight":"marginLeft",-o),ct(v,"position","absolute"),ct(v,"left",0),ct(v,"right",0),ct(v,"top",0),v))}return M.createElement("div",{style:p},M.createElement(Qa,{onResize:function(A){var b=A.offsetHeight;b&&u&&u()}},M.createElement("div",on({style:m,className:Et(ct({},"".concat(l,"-holder-inner"),l)),ref:e},c),s,h)))});Q9.displayName="Filler";function NN(n,e){var r="touches"in n?n.touches[0]:n;return r[e?"pageX":"pageY"]}var kN=M.forwardRef(function(n,e){var r,i=n.prefixCls,o=n.rtl,s=n.scrollOffset,l=n.scrollRange,u=n.onStartMove,c=n.onStopMove,d=n.onScroll,h=n.horizontal,p=n.spinSize,m=n.containerSize,v=n.style,y=n.thumbStyle,A=M.useState(!1),b=Nt(A,2),g=b[0],w=b[1],E=M.useState(null),C=Nt(E,2),_=C[0],L=C[1],R=M.useState(null),P=Nt(R,2),T=P[0],D=P[1],$=!o,V=M.useRef(),B=M.useRef(),O=M.useState(!1),F=Nt(O,2),k=F[0],z=F[1],G=M.useRef(),j=function(){clearTimeout(G.current),z(!0),G.current=setTimeout(function(){z(!1)},3e3)},Q=l-m||0,X=m-p||0,J=Q>0,Z=M.useMemo(function(){if(s===0||Q===0)return 0;var ke=s/Q;return ke*X},[s,Q,X]),oe=function(lt){lt.stopPropagation(),lt.preventDefault()},ue=M.useRef({top:Z,dragging:g,pageY:_,startTop:T});ue.current={top:Z,dragging:g,pageY:_,startTop:T};var Be=function(lt){w(!0),L(NN(lt,h)),D(ue.current.top),u(),lt.stopPropagation(),lt.preventDefault()};M.useEffect(function(){var ke=function(ft){ft.preventDefault()},lt=V.current,ot=B.current;return lt.addEventListener("touchstart",ke),ot.addEventListener("touchstart",Be),function(){lt.removeEventListener("touchstart",ke),ot.removeEventListener("touchstart",Be)}},[]);var ge=M.useRef();ge.current=Q;var Ie=M.useRef();Ie.current=X,M.useEffect(function(){if(g){var ke,lt=function(ft){var xt=ue.current,At=xt.dragging,Ct=xt.pageY,Tt=xt.startTop;if(Oi.cancel(ke),At){var Dt=NN(ft,h)-Ct,Yt=Tt;!$&&h?Yt-=Dt:Yt+=Dt;var Ve=ge.current,be=Ie.current,fe=be?Yt/be:0,me=Math.ceil(fe*Ve);me=Math.max(me,0),me=Math.min(me,Ve),ke=Oi(function(){d(me,h)})}},ot=function(){w(!1),c()};return window.addEventListener("mousemove",lt),window.addEventListener("touchmove",lt),window.addEventListener("mouseup",ot),window.addEventListener("touchend",ot),function(){window.removeEventListener("mousemove",lt),window.removeEventListener("touchmove",lt),window.removeEventListener("mouseup",ot),window.removeEventListener("touchend",ot),Oi.cancel(ke)}}},[g]),M.useEffect(function(){j()},[s]),M.useImperativeHandle(e,function(){return{delayHidden:j}});var He="".concat(i,"-scrollbar"),Ze={position:"absolute",visibility:k&&J?null:"hidden"},Xe={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return h?(Ze.height=8,Ze.left=0,Ze.right=0,Ze.bottom=0,Xe.height="100%",Xe.width=p,$?Xe.left=Z:Xe.right=Z):(Ze.width=8,Ze.top=0,Ze.bottom=0,$?Ze.right=0:Ze.left=0,Xe.width="100%",Xe.height=p,Xe.top=Z),M.createElement("div",{ref:V,className:Et(He,(r={},ct(r,"".concat(He,"-horizontal"),h),ct(r,"".concat(He,"-vertical"),!h),ct(r,"".concat(He,"-visible"),k),r)),style:mt(mt({},Ze),v),onMouseDown:oe,onMouseMove:j},M.createElement("div",{ref:B,className:Et("".concat(He,"-thumb"),ct({},"".concat(He,"-thumb-moving"),g)),style:mt(mt({},Xe),y),onMouseDown:Be}))});function Ode(n){var e=n.children,r=n.setRef,i=M.useCallback(function(o){r(o)},[]);return M.cloneElement(e,{ref:i})}function Dde(n,e,r,i,o,s,l){var u=l.getKey;return n.slice(e,r+1).map(function(c,d){var h=e+d,p=s(c,h,{style:{width:i}}),m=u(c);return M.createElement(Ode,{key:m,setRef:function(y){return o(c,y)}},p)})}var Nde=function(){function n(){ca(this,n),this.maps=void 0,this.id=0,this.maps=Object.create(null)}return ua(n,[{key:"set",value:function(r,i){this.maps[r]=i,this.id+=1}},{key:"get",value:function(r){return this.maps[r]}}]),n}();function kde(n,e,r){var i=M.useState(0),o=Nt(i,2),s=o[0],l=o[1],u=M.useRef(new Map),c=M.useRef(new Nde),d=M.useRef();function h(){Oi.cancel(d.current)}function p(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;h();var y=function(){u.current.forEach(function(b,g){if(b&&b.offsetParent){var w=I0(b),E=w.offsetHeight;c.current.get(g)!==E&&c.current.set(g,w.offsetHeight)}}),l(function(b){return b+1})};v?y():d.current=Oi(y)}function m(v,y){var A=n(v),b=u.current.get(A);y?(u.current.set(A,y),p()):u.current.delete(A),!b!=!y&&(y?e==null||e(v):r==null||r(v))}return M.useEffect(function(){return h},[]),[m,p,c.current,s]}var Fde=10;function Ude(n,e,r,i,o,s,l,u){var c=M.useRef(),d=M.useState(null),h=Nt(d,2),p=h[0],m=h[1];return Ti(function(){if(p&&p.times<Fde){if(!n.current){m(function(j){return mt({},j)});return}s();var v=p.targetAlign,y=p.originAlign,A=p.index,b=p.offset,g=n.current.clientHeight,w=!1,E=v,C=null;if(g){for(var _=v||y,L=0,R=0,P=0,T=Math.min(e.length-1,A),D=0;D<=T;D+=1){var $=o(e[D]);R=L;var V=r.get($);P=R+(V===void 0?i:V),L=P}for(var B=_==="top"?b:g-b,O=T;O>=0;O-=1){var F=o(e[O]),k=r.get(F);if(k===void 0){w=!0;break}if(B-=k,B<=0)break}switch(_){case"top":C=R-b;break;case"bottom":C=P-g+b;break;default:{var z=n.current.scrollTop,G=z+g;R<z?E="top":P>G&&(E="bottom")}}C!==null&&l(C),C!==p.lastTop&&(w=!0)}w&&m(mt(mt({},p),{},{times:p.times+1,targetAlign:E,lastTop:C}))}},[p,n.current]),function(v){if(v==null){u();return}if(Oi.cancel(c.current),typeof v=="number")l(v);else if(v&&Ir(v)==="object"){var y,A=v.align;"index"in v?y=v.index:y=e.findIndex(function(w){return o(w)===v.key});var b=v.offset,g=b===void 0?0:b;m({times:0,index:y,offset:g,originAlign:A})}}}function zde(n,e,r){var i=n.length,o=e.length,s,l;if(i===0&&o===0)return null;i<o?(s=n,l=e):(s=e,l=n);var u={__EMPTY_ITEM__:!0};function c(y){return y!==void 0?r(y):u}for(var d=null,h=Math.abs(i-o)!==1,p=0;p<l.length;p+=1){var m=c(s[p]),v=c(l[p]);if(m!==v){d=p,h=h||m!==c(l[p+1]);break}}return d===null?null:{index:d,multiple:h}}function Hde(n,e,r){var i=M.useState(n),o=Nt(i,2),s=o[0],l=o[1],u=M.useState(null),c=Nt(u,2),d=c[0],h=c[1];return M.useEffect(function(){var p=zde(s||[],n||[],e);(p==null?void 0:p.index)!==void 0&&(r==null||r(p.index),h(n[p.index])),l(n)},[n]),[d]}var FN=(typeof navigator>"u"?"undefined":Ir(navigator))==="object"&&/Firefox/i.test(navigator.userAgent);const K9=function(n,e){var r=M.useRef(!1),i=M.useRef(null);function o(){clearTimeout(i.current),r.current=!0,i.current=setTimeout(function(){r.current=!1},50)}var s=M.useRef({top:n,bottom:e});return s.current.top=n,s.current.bottom=e,function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=l<0&&s.current.top||l>0&&s.current.bottom;return u&&c?(clearTimeout(i.current),r.current=!1):(!c||r.current)&&o(),!r.current&&c}};function $de(n,e,r,i,o){var s=M.useRef(0),l=M.useRef(null),u=M.useRef(null),c=M.useRef(!1),d=K9(e,r);function h(b,g){Oi.cancel(l.current),s.current+=g,u.current=g,!d(g)&&(FN||b.preventDefault(),l.current=Oi(function(){var w=c.current?10:1;o(s.current*w),s.current=0}))}function p(b,g){o(g,!0),FN||b.preventDefault()}var m=M.useRef(null),v=M.useRef(null);function y(b){if(n){Oi.cancel(v.current),v.current=Oi(function(){m.current=null},2);var g=b.deltaX,w=b.deltaY,E=b.shiftKey,C=g,_=w;(m.current==="sx"||!m.current&&E&&w&&!g)&&(C=w,_=0,m.current="sx");var L=Math.abs(C),R=Math.abs(_);m.current===null&&(m.current=i&&L>R?"x":"y"),m.current==="y"?h(b,_):p(b,C)}}function A(b){n&&(c.current=b.detail===u.current)}return[y,A]}var Gde=14/15;function jde(n,e,r){var i=M.useRef(!1),o=M.useRef(0),s=M.useRef(null),l=M.useRef(null),u,c=function(m){if(i.current){var v=Math.ceil(m.touches[0].pageY),y=o.current-v;o.current=v,r(y)&&m.preventDefault(),clearInterval(l.current),l.current=setInterval(function(){y*=Gde,(!r(y,!0)||Math.abs(y)<=.1)&&clearInterval(l.current)},16)}},d=function(){i.current=!1,u()},h=function(m){u(),m.touches.length===1&&!i.current&&(i.current=!0,o.current=Math.ceil(m.touches[0].pageY),s.current=m.target,s.current.addEventListener("touchmove",c),s.current.addEventListener("touchend",d))};u=function(){s.current&&(s.current.removeEventListener("touchmove",c),s.current.removeEventListener("touchend",d))},Ti(function(){return n&&e.current.addEventListener("touchstart",h),function(){var p;(p=e.current)===null||p===void 0||p.removeEventListener("touchstart",h),u(),clearInterval(l.current)}},[n])}var Vde=20;function UN(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=n/e*100;return isNaN(r)&&(r=0),r=Math.max(r,Vde),r=Math.min(r,n/2),Math.floor(r)}function Wde(n,e,r,i){var o=M.useMemo(function(){return[new Map,[]]},[n,r.id,i]),s=Nt(o,2),l=s[0],u=s[1],c=function(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h,m=l.get(h),v=l.get(p);if(m===void 0||v===void 0)for(var y=n.length,A=u.length;A<y;A+=1){var b,g=n[A],w=e(g);l.set(w,A);var E=(b=r.get(w))!==null&&b!==void 0?b:i;if(u[A]=(u[A-1]||0)+E,w===h&&(m=A),w===p&&(v=A),m!==void 0&&v!==void 0)break}return{top:u[m-1]||0,bottom:u[v]}};return c}var Qde=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],Kde=[],Xde={overflowY:"auto",overflowAnchor:"none"};function qde(n,e){var r=n.prefixCls,i=r===void 0?"rc-virtual-list":r,o=n.className,s=n.height,l=n.itemHeight,u=n.fullHeight,c=u===void 0?!0:u,d=n.style,h=n.data,p=n.children,m=n.itemKey,v=n.virtual,y=n.direction,A=n.scrollWidth,b=n.component,g=b===void 0?"div":b,w=n.onScroll,E=n.onVirtualScroll,C=n.onVisibleChange,_=n.innerProps,L=n.extraRender,R=n.styles,P=Pr(n,Qde),T=!!(v!==!1&&s&&l),D=T&&h&&(l*h.length>s||!!A),$=y==="rtl",V=Et(i,ct({},"".concat(i,"-rtl"),$),o),B=h||Kde,O=M.useRef(),F=M.useRef(),k=M.useState(0),z=Nt(k,2),G=z[0],j=z[1],Q=M.useState(0),X=Nt(Q,2),J=X[0],Z=X[1],oe=M.useState(!1),ue=Nt(oe,2),Be=ue[0],ge=ue[1],Ie=function(){ge(!0)},He=function(){ge(!1)},Ze=M.useCallback(function(Cn){return typeof m=="function"?m(Cn):Cn==null?void 0:Cn[m]},[m]),Xe={getKey:Ze};function ke(Cn){j(function(Oe){var st;typeof Cn=="function"?st=Cn(Oe):st=Cn;var wt=ve(st);return O.current.scrollTop=wt,wt})}var lt=M.useRef({start:0,end:B.length}),ot=M.useRef(),it=Hde(B,Ze),ft=Nt(it,1),xt=ft[0];ot.current=xt;var At=kde(Ze,null,null),Ct=Nt(At,4),Tt=Ct[0],Dt=Ct[1],Yt=Ct[2],Ve=Ct[3],be=M.useMemo(function(){if(!T)return{scrollHeight:void 0,start:0,end:B.length-1,offset:void 0};if(!D){var Cn;return{scrollHeight:((Cn=F.current)===null||Cn===void 0?void 0:Cn.offsetHeight)||0,start:0,end:B.length-1,offset:void 0}}for(var Oe=0,st,wt,xe,De=B.length,tt=0;tt<De;tt+=1){var St=B[tt],Mt=Ze(St),Ut=Yt.get(Mt),Qt=Oe+(Ut===void 0?l:Ut);Qt>=G&&st===void 0&&(st=tt,wt=Oe),Qt>G+s&&xe===void 0&&(xe=tt),Oe=Qt}return st===void 0&&(st=0,wt=0,xe=Math.ceil(s/l)),xe===void 0&&(xe=B.length-1),xe=Math.min(xe+1,B.length-1),{scrollHeight:Oe,start:st,end:xe,offset:wt}},[D,T,G,B,Ve,s]),fe=be.scrollHeight,me=be.start,Te=be.end,Ce=be.offset;lt.current.start=me,lt.current.end=Te;var Se=M.useState({width:0,height:s}),we=Nt(Se,2),Ge=we[0],Ae=we[1],Ue=function(Oe){Ae({width:Oe.width||Oe.offsetWidth,height:Oe.height||Oe.offsetHeight})},et=M.useRef(),ce=M.useRef(),Y=M.useMemo(function(){return UN(Ge.width,A)},[Ge.width,A]),ne=M.useMemo(function(){return UN(Ge.height,fe)},[Ge.height,fe]),Le=fe-s,We=M.useRef(Le);We.current=Le;function ve(Cn){var Oe=Cn;return Number.isNaN(We.current)||(Oe=Math.min(Oe,We.current)),Oe=Math.max(Oe,0),Oe}var he=G<=0,qe=G>=Le,Je=K9(he,qe),Qe=function(){return{x:$?-J:J,y:G}},nt=M.useRef(Qe()),It=jo(function(){if(E){var Cn=Qe();(nt.current.x!==Cn.x||nt.current.y!==Cn.y)&&(E(Cn),nt.current=Cn)}});function kt(Cn,Oe){var st=Cn;Oe?(Ns.flushSync(function(){Z(st)}),It()):ke(st)}function Bt(Cn){var Oe=Cn.currentTarget.scrollTop;Oe!==G&&ke(Oe),w==null||w(Cn),It()}var Gt=function(Oe){var st=Oe,wt=A-Ge.width;return st=Math.max(st,0),st=Math.min(st,wt),st},Vt=jo(function(Cn,Oe){Oe?(Ns.flushSync(function(){Z(function(st){var wt=st+($?-Cn:Cn);return Gt(wt)})}),It()):ke(function(st){var wt=st+Cn;return wt})}),Pt=$de(T,he,qe,!!A,Vt),pt=Nt(Pt,2),Ot=pt[0],cn=pt[1];jde(T,O,function(Cn,Oe){return Je(Cn,Oe)?!1:(Ot({preventDefault:function(){},deltaY:Cn}),!0)}),Ti(function(){function Cn(st){T&&st.preventDefault()}var Oe=O.current;return Oe.addEventListener("wheel",Ot),Oe.addEventListener("DOMMouseScroll",cn),Oe.addEventListener("MozMousePixelScroll",Cn),function(){Oe.removeEventListener("wheel",Ot),Oe.removeEventListener("DOMMouseScroll",cn),Oe.removeEventListener("MozMousePixelScroll",Cn)}},[T]),Ti(function(){A&&Z(function(Cn){return Gt(Cn)})},[Ge.width,A]);var qt=function(){var Oe,st;(Oe=et.current)===null||Oe===void 0||Oe.delayHidden(),(st=ce.current)===null||st===void 0||st.delayHidden()},Sn=Ude(O,B,Yt,l,Ze,function(){return Dt(!0)},ke,qt);M.useImperativeHandle(e,function(){return{getScrollInfo:Qe,scrollTo:function(Oe){function st(wt){return wt&&Ir(wt)==="object"&&("left"in wt||"top"in wt)}st(Oe)?(Oe.left!==void 0&&Z(Gt(Oe.left)),Sn(Oe.top)):Sn(Oe)}}}),Ti(function(){if(C){var Cn=B.slice(me,Te+1);C(Cn,B)}},[me,Te,B]);var yn=Wde(B,Ze,Yt,l),Pn=L==null?void 0:L({start:me,end:Te,virtual:D,offsetX:J,offsetY:Ce,rtl:$,getSize:yn}),rr=Dde(B,me,Te,A,Tt,p,Xe),Gn=null;s&&(Gn=mt(ct({},c?"height":"maxHeight",s),Xde),T&&(Gn.overflowY="hidden",A&&(Gn.overflowX="hidden"),Be&&(Gn.pointerEvents="none")));var Fn={};return $&&(Fn.dir="rtl"),M.createElement("div",on({style:mt(mt({},d),{},{position:"relative"}),className:V},Fn,P),M.createElement(Qa,{onResize:Ue},M.createElement(g,{className:"".concat(i,"-holder"),style:Gn,ref:O,onScroll:Bt,onMouseEnter:qt},M.createElement(Q9,{prefixCls:i,height:fe,offsetX:J,offsetY:Ce,scrollWidth:A,onInnerResize:Dt,ref:F,innerProps:_,rtl:$,extra:Pn},rr))),D&&fe>s&&M.createElement(kN,{ref:et,prefixCls:i,scrollOffset:G,scrollRange:fe,rtl:$,onScroll:kt,onStartMove:Ie,onStopMove:He,spinSize:ne,containerSize:Ge.height,style:R==null?void 0:R.verticalScrollBar,thumbStyle:R==null?void 0:R.verticalScrollBarThumb}),D&&A&&M.createElement(kN,{ref:ce,prefixCls:i,scrollOffset:J,scrollRange:A,rtl:$,onScroll:kt,onStartMove:Ie,onStopMove:He,spinSize:Y,containerSize:Ge.width,horizontal:!0,style:R==null?void 0:R.horizontalScrollBar,thumbStyle:R==null?void 0:R.horizontalScrollBarThumb}))}var bC=M.forwardRef(qde);bC.displayName="List";var X9=M.createContext(null);function Yde(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var Jde=["disabled","title","children","style","className"];function zN(n){return typeof n=="string"||typeof n=="number"}var Zde=function(e,r){var i=Bue(),o=i.prefixCls,s=i.id,l=i.open,u=i.multiple,c=i.mode,d=i.searchValue,h=i.toggleOpen,p=i.notFoundContent,m=i.onPopupScroll,v=M.useContext(X9),y=v.flattenOptions,A=v.onActiveValue,b=v.defaultActiveFirstOption,g=v.onSelect,w=v.menuItemSelectedIcon,E=v.rawValues,C=v.fieldNames,_=v.virtual,L=v.direction,R=v.listHeight,P=v.listItemHeight,T="".concat(o,"-item"),D=Mh(function(){return y},[l,y],function(ge,Ie){return Ie[0]&&ge[1]!==Ie[1]}),$=M.useRef(null),V=function(Ie){Ie.preventDefault()},B=function(Ie){$.current&&$.current.scrollTo(typeof Ie=="number"?{index:Ie}:Ie)},O=function(Ie){for(var He=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Ze=D.length,Xe=0;Xe<Ze;Xe+=1){var ke=(Ie+Xe*He+Ze)%Ze,lt=D[ke],ot=lt.group,it=lt.data;if(!ot&&!it.disabled)return ke}return-1},F=M.useState(function(){return O(0)}),k=Nt(F,2),z=k[0],G=k[1],j=function(Ie){var He=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;G(Ie);var Ze={source:He?"keyboard":"mouse"},Xe=D[Ie];if(!Xe){A(null,-1,Ze);return}A(Xe.value,Ie,Ze)};M.useEffect(function(){j(b!==!1?O(0):-1)},[D.length,d]);var Q=M.useCallback(function(ge){return E.has(ge)&&c!=="combobox"},[c,An(E).toString(),E.size]);M.useEffect(function(){var ge=setTimeout(function(){if(!u&&l&&E.size===1){var He=Array.from(E)[0],Ze=D.findIndex(function(Xe){var ke=Xe.data;return ke.value===He});Ze!==-1&&(j(Ze),B(Ze))}});if(l){var Ie;(Ie=$.current)===null||Ie===void 0||Ie.scrollTo(void 0)}return function(){return clearTimeout(ge)}},[l,d]);var X=function(Ie){Ie!==void 0&&g(Ie,{selected:!E.has(Ie)}),u||h(!1)};if(M.useImperativeHandle(r,function(){return{onKeyDown:function(Ie){var He=Ie.which,Ze=Ie.ctrlKey;switch(He){case vn.N:case vn.P:case vn.UP:case vn.DOWN:{var Xe=0;if(He===vn.UP?Xe=-1:He===vn.DOWN?Xe=1:Yde()&&Ze&&(He===vn.N?Xe=1:He===vn.P&&(Xe=-1)),Xe!==0){var ke=O(z+Xe,Xe);B(ke),j(ke,!0)}break}case vn.ENTER:{var lt=D[z];lt&&!lt.data.disabled?X(lt.value):X(void 0),l&&Ie.preventDefault();break}case vn.ESC:h(!1),l&&Ie.stopPropagation()}},onKeyUp:function(){},scrollTo:function(Ie){B(Ie)}}}),D.length===0)return M.createElement("div",{role:"listbox",id:"".concat(s,"_list"),className:"".concat(T,"-empty"),onMouseDown:V},p);var J=Object.keys(C).map(function(ge){return C[ge]}),Z=function(Ie){return Ie.label};function oe(ge,Ie){var He=ge.group;return{role:He?"presentation":"option",id:"".concat(s,"_list_").concat(Ie)}}var ue=function(Ie){var He=D[Ie];if(!He)return null;var Ze=He.data||{},Xe=Ze.value,ke=He.group,lt=Ql(Ze,!0),ot=Z(He);return He?M.createElement("div",on({"aria-label":typeof ot=="string"&&!ke?ot:null},lt,{key:Ie},oe(He,Ie),{"aria-selected":Q(Xe)}),Xe):null},Be={role:"listbox",id:"".concat(s,"_list")};return M.createElement(M.Fragment,null,_&&M.createElement("div",on({},Be,{style:{height:0,width:0,overflow:"hidden"}}),ue(z-1),ue(z),ue(z+1)),M.createElement(bC,{itemKey:"key",ref:$,data:D,height:R,itemHeight:P,fullHeight:!1,onMouseDown:V,onScroll:m,virtual:_,direction:L,innerProps:_?null:Be},function(ge,Ie){var He,Ze=ge.group,Xe=ge.groupOption,ke=ge.data,lt=ge.label,ot=ge.value,it=ke.key;if(Ze){var ft,xt=(ft=ke.title)!==null&&ft!==void 0?ft:zN(lt)?lt.toString():void 0;return M.createElement("div",{className:Et(T,"".concat(T,"-group")),title:xt},lt!==void 0?lt:it)}var At=ke.disabled,Ct=ke.title;ke.children;var Tt=ke.style,Dt=ke.className,Yt=Pr(ke,Jde),Ve=vo(Yt,J),be=Q(ot),fe="".concat(T,"-option"),me=Et(T,fe,Dt,(He={},ct(He,"".concat(fe,"-grouped"),Xe),ct(He,"".concat(fe,"-active"),z===Ie&&!At),ct(He,"".concat(fe,"-disabled"),At),ct(He,"".concat(fe,"-selected"),be),He)),Te=Z(ge),Ce=!w||typeof w=="function"||be,Se=typeof Te=="number"?Te:Te||ot,we=zN(Se)?Se.toString():void 0;return Ct!==void 0&&(we=Ct),M.createElement("div",on({},Ql(Ve),_?{}:oe(ge,Ie),{"aria-selected":be,className:me,title:we,onMouseMove:function(){z===Ie||At||j(Ie)},onClick:function(){At||X(ot)},style:Tt}),M.createElement("div",{className:"".concat(fe,"-content")},Se),M.isValidElement(w)||be,Ce&&M.createElement(AC,{className:"".concat(T,"-option-state"),customizeIcon:w,customizeIconProps:{value:ot,disabled:At,isSelected:be}},be?"✓":null))}))},q9=M.forwardRef(Zde);q9.displayName="OptionList";var efe=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],tfe=["inputValue"];function nfe(n){return!n||Ir(n)!=="object"}var rfe=M.forwardRef(function(n,e){var r=n.id,i=n.mode,o=n.prefixCls,s=o===void 0?"rc-select":o,l=n.backfill,u=n.fieldNames,c=n.inputValue,d=n.searchValue,h=n.onSearch,p=n.autoClearSearchValue,m=p===void 0?!0:p,v=n.onSelect,y=n.onDeselect,A=n.dropdownMatchSelectWidth,b=A===void 0?!0:A,g=n.filterOption,w=n.filterSort,E=n.optionFilterProp,C=n.optionLabelProp,_=n.options,L=n.children,R=n.defaultActiveFirstOption,P=n.menuItemSelectedIcon,T=n.virtual,D=n.direction,$=n.listHeight,V=$===void 0?200:$,B=n.listItemHeight,O=B===void 0?20:B,F=n.value,k=n.defaultValue,z=n.labelInValue,G=n.onChange,j=Pr(n,efe),Q=Rde(r),X=l3(i),J=!!(!_&&L),Z=M.useMemo(function(){return g===void 0&&i==="combobox"?!1:g},[g,i]),oe=M.useMemo(function(){return V9(u,J)},[JSON.stringify(u),J]),ue=Fo("",{value:d!==void 0?d:c,postState:function(Gt){return Gt||""}}),Be=Nt(ue,2),ge=Be[0],Ie=Be[1],He=Bde(_,L,oe,E,C),Ze=He.valueOptions,Xe=He.labelOptions,ke=He.options,lt=M.useCallback(function(Bt){var Gt=H9(Bt);return Gt.map(function(Vt){var Pt,pt,Ot,cn,qt;if(nfe(Vt))Pt=Vt;else{var Sn;Ot=Vt.key,pt=Vt.label,Pt=(Sn=Vt.value)!==null&&Sn!==void 0?Sn:Ot}var yn=Ze.get(Pt);if(yn){var Pn;pt===void 0&&(pt=yn==null?void 0:yn[C||oe.label]),Ot===void 0&&(Ot=(Pn=yn==null?void 0:yn.key)!==null&&Pn!==void 0?Pn:Pt),cn=yn==null?void 0:yn.disabled,qt=yn==null?void 0:yn.title}return{label:pt,value:Pt,key:Ot,disabled:cn,title:qt}})},[oe,C,Ze]),ot=Fo(k,{value:F}),it=Nt(ot,2),ft=it[0],xt=it[1],At=M.useMemo(function(){var Bt,Gt=lt(ft);return i==="combobox"&&Yue((Bt=Gt[0])===null||Bt===void 0?void 0:Bt.value)?[]:Gt},[ft,lt,i]),Ct=Sde(At,Ze),Tt=Nt(Ct,2),Dt=Tt[0],Yt=Tt[1],Ve=M.useMemo(function(){if(!i&&Dt.length===1){var Bt=Dt[0];if(Bt.value===null&&(Bt.label===null||Bt.label===void 0))return[]}return Dt.map(function(Gt){var Vt;return mt(mt({},Gt),{},{label:(Vt=Gt.label)!==null&&Vt!==void 0?Vt:Gt.value})})},[i,Dt]),be=M.useMemo(function(){return new Set(Dt.map(function(Bt){return Bt.value}))},[Dt]);M.useEffect(function(){if(i==="combobox"){var Bt,Gt=(Bt=Dt[0])===null||Bt===void 0?void 0:Bt.value;Ie(que(Gt)?String(Gt):"")}},[Dt]);var fe=DN(function(Bt,Gt){var Vt,Pt=Gt??Bt;return Vt={},ct(Vt,oe.value,Bt),ct(Vt,oe.label,Pt),Vt}),me=M.useMemo(function(){if(i!=="tags")return ke;var Bt=An(ke),Gt=function(Pt){return Ze.has(Pt)};return An(Dt).sort(function(Vt,Pt){return Vt.value<Pt.value?-1:1}).forEach(function(Vt){var Pt=Vt.value;Gt(Pt)||Bt.push(fe(Pt,Vt.label))}),Bt},[fe,ke,Ze,Dt,i]),Te=_de(me,oe,ge,Z,E),Ce=M.useMemo(function(){return i!=="tags"||!ge||Te.some(function(Bt){return Bt[E||"value"]===ge})||Te.some(function(Bt){return Bt[oe.value]===ge})?Te:[fe(ge)].concat(An(Te))},[fe,E,i,Te,ge,oe]),Se=M.useMemo(function(){return w?An(Ce).sort(function(Bt,Gt){return w(Bt,Gt)}):Ce},[Ce,w]),we=M.useMemo(function(){return bde(Se,{fieldNames:oe,childrenAsData:J})},[Se,oe,J]),Ge=function(Gt){var Vt=lt(Gt);if(xt(Vt),G&&(Vt.length!==Dt.length||Vt.some(function(Ot,cn){var qt;return((qt=Dt[cn])===null||qt===void 0?void 0:qt.value)!==(Ot==null?void 0:Ot.value)}))){var Pt=z?Vt:Vt.map(function(Ot){return Ot.value}),pt=Vt.map(function(Ot){return s3(Yt(Ot.value))});G(X?Pt:Pt[0],X?pt:pt[0])}},Ae=M.useState(null),Ue=Nt(Ae,2),et=Ue[0],ce=Ue[1],Y=M.useState(0),ne=Nt(Y,2),Le=ne[0],We=ne[1],ve=R!==void 0?R:i!=="combobox",he=M.useCallback(function(Bt,Gt){var Vt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Pt=Vt.source,pt=Pt===void 0?"keyboard":Pt;We(Gt),l&&i==="combobox"&&Bt!==null&&pt==="keyboard"&&ce(String(Bt))},[l,i]),qe=function(Gt,Vt,Pt){var pt=function(){var Cn,Oe=Yt(Gt);return[z?{label:Oe==null?void 0:Oe[oe.label],value:Gt,key:(Cn=Oe==null?void 0:Oe.key)!==null&&Cn!==void 0?Cn:Gt}:Gt,s3(Oe)]};if(Vt&&v){var Ot=pt(),cn=Nt(Ot,2),qt=cn[0],Sn=cn[1];v(qt,Sn)}else if(!Vt&&y&&Pt!=="clear"){var yn=pt(),Pn=Nt(yn,2),rr=Pn[0],Gn=Pn[1];y(rr,Gn)}},Je=DN(function(Bt,Gt){var Vt,Pt=X?Gt.selected:!0;Pt?Vt=X?[].concat(An(Dt),[Bt]):[Bt]:Vt=Dt.filter(function(pt){return pt.value!==Bt}),Ge(Vt),qe(Bt,Pt),i==="combobox"?ce(""):(!l3||m)&&(Ie(""),ce(""))}),Qe=function(Gt,Vt){Ge(Gt);var Pt=Vt.type,pt=Vt.values;(Pt==="remove"||Pt==="clear")&&pt.forEach(function(Ot){qe(Ot.value,!1,Pt)})},nt=function(Gt,Vt){if(Ie(Gt),ce(null),Vt.source==="submit"){var Pt=(Gt||"").trim();if(Pt){var pt=Array.from(new Set([].concat(An(be),[Pt])));Ge(pt),qe(Pt,!0),Ie("")}return}Vt.source!=="blur"&&(i==="combobox"&&Ge(Gt),h==null||h(Gt))},It=function(Gt){var Vt=Gt;i!=="tags"&&(Vt=Gt.map(function(pt){var Ot=Xe.get(pt);return Ot==null?void 0:Ot.value}).filter(function(pt){return pt!==void 0}));var Pt=Array.from(new Set([].concat(An(be),An(Vt))));Ge(Pt),Pt.forEach(function(pt){qe(pt,!0)})},kt=M.useMemo(function(){var Bt=T!==!1&&b!==!1;return mt(mt({},He),{},{flattenOptions:we,onActiveValue:he,defaultActiveFirstOption:ve,onSelect:Je,menuItemSelectedIcon:P,rawValues:be,fieldNames:oe,virtual:Bt,direction:D,listHeight:V,listItemHeight:O,childrenAsData:J})},[He,we,he,ve,Je,P,be,oe,T,b,V,O,J]);return M.createElement(X9.Provider,{value:kt},M.createElement(wde,on({},j,{id:Q,prefixCls:s,ref:e,omitDomProps:tfe,mode:i,displayValues:Ve,onDisplayValuesChange:Qe,direction:D,searchValue:ge,onSearch:nt,autoClearSearchValue:m,onSearchSplit:It,dropdownMatchSelectWidth:b,OptionList:q9,emptyOptions:!we.length,activeValue:et,activeDescendantId:"".concat(Q,"_list_").concat(Le)})))}),dL=rfe;dL.Option=uL;dL.OptGroup=cL;function Im(n,e,r){return Et({[`${n}-status-success`]:e==="success",[`${n}-status-warning`]:e==="warning",[`${n}-status-error`]:e==="error",[`${n}-status-validating`]:e==="validating",[`${n}-has-feedback`]:r})}const fL=(n,e)=>e||n,ife=()=>{const[,n]=fl(),r=new Ki(n.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return M.createElement("svg",{style:r,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},M.createElement("g",{fill:"none",fillRule:"evenodd"},M.createElement("g",{transform:"translate(24 31.67)"},M.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),M.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),M.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),M.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),M.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),M.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),M.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},M.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),M.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},ofe=ife,afe=()=>{const[,n]=fl(),{colorFill:e,colorFillTertiary:r,colorFillQuaternary:i,colorBgContainer:o}=n,{borderColor:s,shadowColor:l,contentColor:u}=M.useMemo(()=>({borderColor:new Ki(e).onBackground(o).toHexShortString(),shadowColor:new Ki(r).onBackground(o).toHexShortString(),contentColor:new Ki(i).onBackground(o).toHexShortString()}),[e,r,i,o]);return M.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},M.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},M.createElement("ellipse",{fill:l,cx:"32",cy:"33",rx:"32",ry:"7"}),M.createElement("g",{fillRule:"nonzero",stroke:s},M.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),M.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:u}))))},sfe=afe,lfe=n=>{const{componentCls:e,margin:r,marginXS:i,marginXL:o,fontSize:s,lineHeight:l}=n;return{[e]:{marginInline:i,fontSize:s,lineHeight:l,textAlign:"center",[`${e}-image`]:{height:n.emptyImgHeight,marginBottom:i,opacity:n.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${e}-description`]:{color:n.colorText},[`${e}-footer`]:{marginTop:r},"&-normal":{marginBlock:o,color:n.colorTextDisabled,[`${e}-description`]:{color:n.colorTextDisabled},[`${e}-image`]:{height:n.emptyImgHeightMD}},"&-small":{marginBlock:i,color:n.colorTextDisabled,[`${e}-image`]:{height:n.emptyImgHeightSM}}}}},cfe=zi("Empty",n=>{const{componentCls:e,controlHeightLG:r}=n,i=ti(n,{emptyImgCls:`${e}-img`,emptyImgHeight:r*2.5,emptyImgHeightMD:r,emptyImgHeightSM:r*.875});return[lfe(i)]});var ufe=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const Y9=M.createElement(ofe,null),J9=M.createElement(sfe,null),hL=n=>{var{className:e,rootClassName:r,prefixCls:i,image:o=Y9,description:s,children:l,imageStyle:u,style:c}=n,d=ufe(n,["className","rootClassName","prefixCls","image","description","children","imageStyle","style"]);const{getPrefixCls:h,direction:p,empty:m}=M.useContext(_r),v=h("empty",i),[y,A]=cfe(v),[b]=cC("Empty"),g=typeof s<"u"?s:b==null?void 0:b.description,w=typeof g=="string"?g:"empty";let E=null;return typeof o=="string"?E=M.createElement("img",{alt:w,src:o}):E=o,y(M.createElement("div",Object.assign({className:Et(A,v,m==null?void 0:m.className,{[`${v}-normal`]:o===J9,[`${v}-rtl`]:p==="rtl"},e,r),style:Object.assign(Object.assign({},m==null?void 0:m.style),c)},d),M.createElement("div",{className:`${v}-image`,style:u},E),g&&M.createElement("div",{className:`${v}-description`},g),l&&M.createElement("div",{className:`${v}-footer`},l)))};hL.PRESENTED_IMAGE_DEFAULT=Y9;hL.PRESENTED_IMAGE_SIMPLE=J9;const Gf=hL,dfe=n=>{const{componentName:e}=n,{getPrefixCls:r}=M.useContext(_r),i=r("empty");switch(e){case"Table":case"List":return nn.createElement(Gf,{image:Gf.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return nn.createElement(Gf,{image:Gf.PRESENTED_IMAGE_SIMPLE,className:`${i}-small`});default:return nn.createElement(Gf,null)}},Z9=dfe,ffe=n=>{const{optionHeight:e,optionFontSize:r,optionLineHeight:i,optionPadding:o}=n;return{position:"relative",display:"block",minHeight:e,padding:o,color:n.colorText,fontWeight:"normal",fontSize:r,lineHeight:i,boxSizing:"border-box"}},hfe=n=>{const{antCls:e,componentCls:r}=n,i=`${r}-item`,o=`&${e}-slide-up-enter${e}-slide-up-enter-active`,s=`&${e}-slide-up-appear${e}-slide-up-appear-active`,l=`&${e}-slide-up-leave${e}-slide-up-leave-active`,u=`${r}-dropdown-placement-`;return[{[`${r}-dropdown`]:Object.assign(Object.assign({},ji(n)),{position:"absolute",top:-9999,zIndex:n.zIndexPopup,boxSizing:"border-box",padding:n.paddingXXS,overflow:"hidden",fontSize:n.fontSize,fontVariant:"initial",backgroundColor:n.colorBgElevated,borderRadius:n.borderRadiusLG,outline:"none",boxShadow:n.boxShadowSecondary,[`
          ${o}${u}bottomLeft,
          ${s}${u}bottomLeft
        `]:{animationName:tL},[`
          ${o}${u}topLeft,
          ${s}${u}topLeft,
          ${o}${u}topRight,
          ${s}${u}topRight
        `]:{animationName:rL},[`${l}${u}bottomLeft`]:{animationName:nL},[`
          ${l}${u}topLeft,
          ${l}${u}topRight
        `]:{animationName:iL},"&-hidden":{display:"none"},[`${i}`]:Object.assign(Object.assign({},ffe(n)),{cursor:"pointer",transition:`background ${n.motionDurationSlow} ease`,borderRadius:n.borderRadiusSM,"&-group":{color:n.colorTextDescription,fontSize:n.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},xc),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${i}-option-disabled)`]:{backgroundColor:n.optionActiveBg},[`&-selected:not(${i}-option-disabled)`]:{color:n.optionSelectedColor,fontWeight:n.optionSelectedFontWeight,backgroundColor:n.optionSelectedBg,[`${i}-option-state`]:{color:n.colorPrimary}},"&-disabled":{[`&${i}-option-selected`]:{backgroundColor:n.colorBgContainerDisabled},color:n.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:n.controlPaddingHorizontal*2}}}),"&-rtl":{direction:"rtl"}})},Wd(n,"slide-up"),Wd(n,"slide-down"),Zx(n,"move-up"),Zx(n,"move-down")]},pfe=hfe,gp=2,eH=n=>{let{multipleSelectItemHeight:e,selectHeight:r,lineWidth:i}=n;const o=(r-e)/2-i,s=Math.ceil(o/2);return[o,s]};function U2(n,e){const{componentCls:r,iconCls:i}=n,o=`${r}-selection-overflow`,s=n.multipleSelectItemHeight,[l]=eH(n),u=e?`${r}-${e}`:"";return{[`${r}-multiple${u}`]:{fontSize:n.fontSize,[o]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"}},[`${r}-selector`]:{display:"flex",flexWrap:"wrap",alignItems:"center",height:"100%",padding:`${l-gp}px ${gp*2}px`,borderRadius:n.borderRadius,[`${r}-show-search&`]:{cursor:"text"},[`${r}-disabled&`]:{background:n.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${gp}px 0`,lineHeight:`${s}px`,visibility:"hidden",content:'"\\a0"'}},[`
        &${r}-show-arrow ${r}-selector,
        &${r}-allow-clear ${r}-selector
      `]:{paddingInlineEnd:n.fontSizeIcon+n.controlPaddingHorizontal},[`${r}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",height:s,marginTop:gp,marginBottom:gp,lineHeight:`${s-n.lineWidth*2}px`,background:n.multipleItemBg,border:`${n.lineWidth}px ${n.lineType} ${n.multipleItemBorderColor}`,borderRadius:n.borderRadiusSM,cursor:"default",transition:`font-size ${n.motionDurationSlow}, line-height ${n.motionDurationSlow}, height ${n.motionDurationSlow}`,marginInlineEnd:gp*2,paddingInlineStart:n.paddingXS,paddingInlineEnd:n.paddingXS/2,[`${r}-disabled&`]:{color:n.multipleItemColorDisabled,borderColor:n.multipleItemBorderColorDisabled,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:n.paddingXS/2,overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},dC()),{display:"inline-flex",alignItems:"center",color:n.colorIcon,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${i}`]:{verticalAlign:"-0.2em"},"&:hover":{color:n.colorIconHover}})},[`${o}-item + ${o}-item`]:{[`${r}-selection-search`]:{marginInlineStart:0}},[`${o}-item-suffix`]:{height:"100%"},[`${r}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:n.inputPaddingHorizontalBase-l,"\n          &-input,\n          &-mirror\n        ":{height:s,fontFamily:n.fontFamily,lineHeight:`${s}px`,transition:`all ${n.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${r}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:n.inputPaddingHorizontalBase,insetInlineEnd:n.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${n.motionDurationSlow}`}}}}const mfe=n=>{const{componentCls:e}=n,r=ti(n,{selectHeight:n.controlHeightSM,multipleSelectItemHeight:n.controlHeightXS,borderRadius:n.borderRadiusSM,borderRadiusSM:n.borderRadiusXS}),i=ti(n,{fontSize:n.fontSizeLG,selectHeight:n.controlHeightLG,multipleSelectItemHeight:n.multipleItemHeightLG,borderRadius:n.borderRadiusLG,borderRadiusSM:n.borderRadius}),[,o]=eH(n);return[U2(n),U2(r,"sm"),{[`${e}-multiple${e}-sm`]:{[`${e}-selection-placeholder`]:{insetInline:n.controlPaddingHorizontalSM-n.lineWidth},[`${e}-selection-search`]:{marginInlineStart:o}}},U2(i,"lg")]},gfe=mfe;function z2(n,e){const{componentCls:r,inputPaddingHorizontalBase:i,borderRadius:o}=n,s=n.controlHeight-n.lineWidth*2,l=Math.ceil(n.fontSize*1.25),u=e?`${r}-${e}`:"";return{[`${r}-single${u}`]:{fontSize:n.fontSize,height:n.controlHeight,[`${r}-selector`]:Object.assign(Object.assign({},ji(n,!0)),{display:"flex",borderRadius:o,[`${r}-selection-search`]:{position:"absolute",top:0,insetInlineStart:i,insetInlineEnd:i,bottom:0,"&-input":{width:"100%"}},[`
          ${r}-selection-item,
          ${r}-selection-placeholder
        `]:{padding:0,lineHeight:`${s}px`,transition:`all ${n.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${r}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${r}-selection-item:empty:after`,`${r}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${r}-show-arrow ${r}-selection-item,
        &${r}-show-arrow ${r}-selection-placeholder
      `]:{paddingInlineEnd:l},[`&${r}-open ${r}-selection-item`]:{color:n.colorTextPlaceholder},[`&:not(${r}-customize-input)`]:{[`${r}-selector`]:{width:"100%",height:"100%",padding:`0 ${i}px`,[`${r}-selection-search-input`]:{height:s},"&:after":{lineHeight:`${s}px`}}},[`&${r}-customize-input`]:{[`${r}-selector`]:{"&:after":{display:"none"},[`${r}-selection-search`]:{position:"static",width:"100%"},[`${r}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${i}px`,"&:after":{display:"none"}}}}}}}function vfe(n){const{componentCls:e}=n,r=n.controlPaddingHorizontalSM-n.lineWidth;return[z2(n),z2(ti(n,{controlHeight:n.controlHeightSM,borderRadius:n.borderRadiusSM}),"sm"),{[`${e}-single${e}-sm`]:{[`&:not(${e}-customize-input)`]:{[`${e}-selection-search`]:{insetInlineStart:r,insetInlineEnd:r},[`${e}-selector`]:{padding:`0 ${r}px`},[`&${e}-show-arrow ${e}-selection-search`]:{insetInlineEnd:r+n.fontSize*1.5},[`
            &${e}-show-arrow ${e}-selection-item,
            &${e}-show-arrow ${e}-selection-placeholder
          `]:{paddingInlineEnd:n.fontSize*1.5}}}},z2(ti(n,{controlHeight:n.singleItemHeightLG,fontSize:n.fontSizeLG,borderRadius:n.borderRadiusLG}),"lg")]}const Afe=n=>{const{componentCls:e,selectorBg:r}=n;return{position:"relative",backgroundColor:r,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,transition:`all ${n.motionDurationMid} ${n.motionEaseInOut}`,input:{cursor:"pointer"},[`${e}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${e}-disabled&`]:{color:n.colorTextDisabled,background:n.colorBgContainerDisabled,cursor:"not-allowed",[`${e}-multiple&`]:{background:n.multipleSelectorBgDisabled},input:{cursor:"not-allowed"}}}},H2=function(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{componentCls:i,borderHoverColor:o,antCls:s,borderActiveColor:l,outlineColor:u,controlOutlineWidth:c}=e,d=r?{[`${i}-selector`]:{borderColor:l}}:{};return{[n]:{[`&:not(${i}-disabled):not(${i}-customize-input):not(${s}-pagination-size-changer)`]:Object.assign(Object.assign({},d),{[`&:hover ${i}-selector`]:{borderColor:o},[`${i}-focused& ${i}-selector`]:{borderColor:l,boxShadow:`0 0 0 ${c}px ${u}`,outline:0}})}}},yfe=n=>{const{componentCls:e}=n;return{[`${e}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},bfe=n=>{const{antCls:e,componentCls:r,inputPaddingHorizontalBase:i,iconCls:o}=n;return{[r]:Object.assign(Object.assign({},ji(n)),{position:"relative",display:"inline-block",cursor:"pointer",[`&:not(${r}-customize-input) ${r}-selector`]:Object.assign(Object.assign({},Afe(n)),yfe(n)),[`${r}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},xc),{[`> ${e}-typography`]:{display:"inline"}}),[`${r}-selection-placeholder`]:Object.assign(Object.assign({},xc),{flex:1,color:n.colorTextPlaceholder,pointerEvents:"none"}),[`${r}-arrow`]:Object.assign(Object.assign({},dC()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:i,height:n.fontSizeIcon,marginTop:-n.fontSizeIcon/2,color:n.colorTextQuaternary,fontSize:n.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",[o]:{verticalAlign:"top",transition:`transform ${n.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${r}-suffix)`]:{pointerEvents:"auto"}},[`${r}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${r}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:i,zIndex:1,display:"inline-block",width:n.fontSizeIcon,height:n.fontSizeIcon,marginTop:-n.fontSizeIcon/2,color:n.colorTextQuaternary,fontSize:n.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",background:n.clearBg,cursor:"pointer",opacity:0,transition:`color ${n.motionDurationMid} ease, opacity ${n.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:n.colorTextTertiary}},"&:hover":{[`${r}-clear`]:{opacity:1}}}),[`${r}-has-feedback`]:{[`${r}-clear`]:{insetInlineEnd:i+n.fontSize+n.paddingXS}}}},xfe=n=>{const{componentCls:e}=n;return[{[e]:{[`&-borderless ${e}-selector`]:{backgroundColor:"transparent !important",borderColor:"transparent !important",boxShadow:"none !important"},[`&${e}-in-form-item`]:{width:"100%"}}},bfe(n),vfe(n),gfe(n),pfe(n),{[`${e}-rtl`]:{direction:"rtl"}},H2(e,ti(n,{borderHoverColor:n.colorPrimaryHover,borderActiveColor:n.colorPrimary,outlineColor:n.controlOutline})),H2(`${e}-status-error`,ti(n,{borderHoverColor:n.colorErrorHover,borderActiveColor:n.colorError,outlineColor:n.colorErrorOutline}),!0),H2(`${e}-status-warning`,ti(n,{borderHoverColor:n.colorWarningHover,borderActiveColor:n.colorWarning,outlineColor:n.colorWarningOutline}),!0),JI(n,{borderElCls:`${e}-selector`,focusElCls:`${e}-focused`})]},Efe=zi("Select",(n,e)=>{let{rootPrefixCls:r}=e;const i=ti(n,{rootPrefixCls:r,inputPaddingHorizontalBase:n.paddingSM-1,multipleSelectItemHeight:n.multipleItemHeight,selectHeight:n.controlHeight});return[xfe(i)]},n=>{const{fontSize:e,lineHeight:r,controlHeight:i,controlPaddingHorizontal:o,zIndexPopupBase:s,colorText:l,fontWeightStrong:u,controlItemBgActive:c,controlItemBgHover:d,colorBgContainer:h,colorFillSecondary:p,controlHeightLG:m,controlHeightSM:v,colorBgContainerDisabled:y,colorTextDisabled:A}=n;return{zIndexPopup:s+50,optionSelectedColor:l,optionSelectedFontWeight:u,optionSelectedBg:c,optionActiveBg:d,optionPadding:`${(i-e*r)/2}px ${o}px`,optionFontSize:e,optionLineHeight:r,optionHeight:i,selectorBg:h,clearBg:h,singleItemHeightLG:m,multipleItemBg:p,multipleItemBorderColor:"transparent",multipleItemHeight:v,multipleItemHeightLG:i,multipleSelectorBgDisabled:y,multipleItemColorDisabled:A,multipleItemBorderColorDisabled:"transparent"}}),Cfe=n=>{const r={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:n==="scroll"?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},r),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},r),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},r),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},r),{points:["br","tr"],offset:[0,-4]})}};function wfe(n,e){return n||Cfe(e)}function Sfe(n,e){return e!==void 0?e:n!==null}function _fe(n){let{suffixIcon:e,clearIcon:r,menuItemSelectedIcon:i,removeIcon:o,loading:s,multiple:l,hasFeedback:u,prefixCls:c,showSuffixIcon:d,feedbackIcon:h,showArrow:p,componentName:m}=n;const v=r??M.createElement(FA,null),y=w=>e===null&&!u&&!p?null:M.createElement(M.Fragment,null,d!==!1&&w,u&&h);let A=null;if(e!==void 0)A=y(e);else if(s)A=y(M.createElement(Qm,{spin:!0}));else{const w=`${c}-suffix`;A=E=>{let{open:C,showSearch:_}=E;return y(C&&_?M.createElement(II,{className:w}):M.createElement(lz,{className:w}))}}let b=null;i!==void 0?b=i:l?b=M.createElement(TI,null):b=null;let g=null;return o!==void 0?g=o:g=M.createElement(pg,null),{clearIcon:v,suffixIcon:A,itemIcon:b,removeIcon:g}}var Mfe=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const tH="SECRET_COMBOBOX_MODE_DO_NOT_USE",Tfe=(n,e)=>{var r,{prefixCls:i,bordered:o=!0,className:s,rootClassName:l,getPopupContainer:u,popupClassName:c,dropdownClassName:d,listHeight:h=256,placement:p,listItemHeight:m=24,size:v,disabled:y,notFoundContent:A,status:b,builtinPlacements:g,dropdownMatchSelectWidth:w,popupMatchSelectWidth:E,direction:C,style:_,allowClear:L}=n,R=Mfe(n,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear"]);const{getPopupContainer:P,getPrefixCls:T,renderEmpty:D,direction:$,virtual:V,popupMatchSelectWidth:B,popupOverflow:O,select:F}=M.useContext(_r),k=T("select",i),z=T(),G=C??$,{compactSize:j,compactItemClassnames:Q}=HA(k,G),[X,J]=Efe(k),Z=M.useMemo(()=>{const{mode:me}=R;if(me!=="combobox")return me===tH?"combobox":me},[R.mode]),oe=Z==="multiple"||Z==="tags",ue=Sfe(R.suffixIcon,R.showArrow),Be=(r=E??w)!==null&&r!==void 0?r:B,{status:ge,hasFeedback:Ie,isFormItemInput:He,feedbackIcon:Ze}=M.useContext(Pu),Xe=fL(ge,b);let ke;A!==void 0?ke=A:Z==="combobox"?ke=null:ke=(D==null?void 0:D("Select"))||M.createElement(Z9,{componentName:"Select"});const{suffixIcon:lt,itemIcon:ot,removeIcon:it,clearIcon:ft}=_fe(Object.assign(Object.assign({},R),{multiple:oe,hasFeedback:Ie,feedbackIcon:Ze,showSuffixIcon:ue,prefixCls:k,showArrow:R.showArrow,componentName:"Select"})),xt=L===!0?{clearIcon:ft}:L,At=vo(R,["suffixIcon","itemIcon"]),Ct=Et(c||d,{[`${k}-dropdown-${G}`]:G==="rtl"},l,J),Tt=Jl(me=>{var Te;return(Te=v??j)!==null&&Te!==void 0?Te:me}),Dt=M.useContext(Jd),Yt=y??Dt,Ve=Et({[`${k}-lg`]:Tt==="large",[`${k}-sm`]:Tt==="small",[`${k}-rtl`]:G==="rtl",[`${k}-borderless`]:!o,[`${k}-in-form-item`]:He},Im(k,Xe,Ie),Q,F==null?void 0:F.className,s,l,J),be=M.useMemo(()=>p!==void 0?p:G==="rtl"?"bottomRight":"bottomLeft",[p,G]),fe=wfe(g,O);return X(M.createElement(dL,Object.assign({ref:e,virtual:V,showSearch:F==null?void 0:F.showSearch},At,{style:Object.assign(Object.assign({},F==null?void 0:F.style),_),dropdownMatchSelectWidth:Be,builtinPlacements:fe,transitionName:KI(z,"slide-up",R.transitionName),listHeight:h,listItemHeight:m,mode:Z,prefixCls:k,placement:be,direction:G,suffixIcon:lt,menuItemSelectedIcon:ot,removeIcon:it,allowClear:xt,notFoundContent:ke,className:Ve,getPopupContainer:u||P,dropdownClassName:Ct,disabled:Yt})))},vg=M.forwardRef(Tfe),Rfe=D9(vg);vg.SECRET_COMBOBOX_MODE_DO_NOT_USE=tH;vg.Option=uL;vg.OptGroup=cL;vg._InternalPanelDoNotUseOrYouWillBeFired=Rfe;const xC=vg,yA=["xxl","xl","lg","md","sm","xs"],Ife=n=>({xs:`(max-width: ${n.screenXSMax}px)`,sm:`(min-width: ${n.screenSM}px)`,md:`(min-width: ${n.screenMD}px)`,lg:`(min-width: ${n.screenLG}px)`,xl:`(min-width: ${n.screenXL}px)`,xxl:`(min-width: ${n.screenXXL}px)`}),Lfe=n=>{const e=n,r=[].concat(yA).reverse();return r.forEach((i,o)=>{const s=i.toUpperCase(),l=`screen${s}Min`,u=`screen${s}`;if(!(e[l]<=e[u]))throw new Error(`${l}<=${u} fails : !(${e[l]}<=${e[u]})`);if(o<r.length-1){const c=`screen${s}Max`;if(!(e[u]<=e[c]))throw new Error(`${u}<=${c} fails : !(${e[u]}<=${e[c]})`);const h=`screen${r[o+1].toUpperCase()}Min`;if(!(e[c]<=e[h]))throw new Error(`${c}<=${h} fails : !(${e[c]}<=${e[h]})`)}}),n};function nH(){const[,n]=fl(),e=Ife(Lfe(n));return nn.useMemo(()=>{const r=new Map;let i=-1,o={};return{matchHandlers:{},dispatch(s){return o=s,r.forEach(l=>l(o)),r.size>=1},subscribe(s){return r.size||this.register(),i+=1,r.set(i,s),s(o),i},unsubscribe(s){r.delete(s),r.size||this.unregister()},unregister(){Object.keys(e).forEach(s=>{const l=e[s],u=this.matchHandlers[l];u==null||u.mql.removeListener(u==null?void 0:u.listener)}),r.clear()},register(){Object.keys(e).forEach(s=>{const l=e[s],u=d=>{let{matches:h}=d;this.dispatch(Object.assign(Object.assign({},o),{[s]:h}))},c=window.matchMedia(l);c.addListener(u),this.matchHandlers[l]={mql:c,listener:u},u(c)})},responsiveMap:e}},[n])}function EC(){const[,n]=M.useReducer(e=>e+1,0);return n}function rH(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const e=M.useRef({}),r=EC(),i=nH();return Ti(()=>{const o=i.subscribe(s=>{e.current=s,n&&r()});return()=>i.unsubscribe(o)},[]),e.current}function iH(n){var e=n.children,r=n.prefixCls,i=n.id,o=n.overlayInnerStyle,s=n.className,l=n.style;return M.createElement("div",{className:Et("".concat(r,"-content"),s),style:l},M.createElement("div",{className:"".concat(r,"-inner"),id:i,role:"tooltip",style:o},typeof e=="function"?e():e))}var vp={shiftX:64,adjustY:1},Ap={adjustX:1,shiftY:!0},Qs=[0,0],Pfe={left:{points:["cr","cl"],overflow:Ap,offset:[-4,0],targetOffset:Qs},right:{points:["cl","cr"],overflow:Ap,offset:[4,0],targetOffset:Qs},top:{points:["bc","tc"],overflow:vp,offset:[0,-4],targetOffset:Qs},bottom:{points:["tc","bc"],overflow:vp,offset:[0,4],targetOffset:Qs},topLeft:{points:["bl","tl"],overflow:vp,offset:[0,-4],targetOffset:Qs},leftTop:{points:["tr","tl"],overflow:Ap,offset:[-4,0],targetOffset:Qs},topRight:{points:["br","tr"],overflow:vp,offset:[0,-4],targetOffset:Qs},rightTop:{points:["tl","tr"],overflow:Ap,offset:[4,0],targetOffset:Qs},bottomRight:{points:["tr","br"],overflow:vp,offset:[0,4],targetOffset:Qs},rightBottom:{points:["bl","br"],overflow:Ap,offset:[4,0],targetOffset:Qs},bottomLeft:{points:["tl","bl"],overflow:vp,offset:[0,4],targetOffset:Qs},leftBottom:{points:["br","bl"],overflow:Ap,offset:[-4,0],targetOffset:Qs}},Bfe=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],Ofe=function(e,r){var i=e.overlayClassName,o=e.trigger,s=o===void 0?["hover"]:o,l=e.mouseEnterDelay,u=l===void 0?0:l,c=e.mouseLeaveDelay,d=c===void 0?.1:c,h=e.overlayStyle,p=e.prefixCls,m=p===void 0?"rc-tooltip":p,v=e.children,y=e.onVisibleChange,A=e.afterVisibleChange,b=e.transitionName,g=e.animation,w=e.motion,E=e.placement,C=E===void 0?"right":E,_=e.align,L=_===void 0?{}:_,R=e.destroyTooltipOnHide,P=R===void 0?!1:R,T=e.defaultVisible,D=e.getTooltipContainer,$=e.overlayInnerStyle;e.arrowContent;var V=e.overlay,B=e.id,O=e.showArrow,F=O===void 0?!0:O,k=Pr(e,Bfe),z=M.useRef(null);M.useImperativeHandle(r,function(){return z.current});var G=mt({},k);"visible"in e&&(G.popupVisible=e.visible);var j=function(){return M.createElement(iH,{key:"content",prefixCls:m,id:B,overlayInnerStyle:$},V)};return M.createElement(yC,on({popupClassName:i,prefixCls:m,popup:j,action:s,builtinPlacements:Pfe,popupPlacement:C,ref:z,popupAlign:L,getPopupContainer:D,onPopupVisibleChange:y,afterPopupVisibleChange:A,popupTransitionName:b,popupAnimation:g,popupMotion:w,defaultPopupVisible:T,autoDestroy:P,mouseLeaveDelay:d,popupStyle:h,mouseEnterDelay:u,arrow:F},G),v)};const Dfe=M.forwardRef(Ofe),oH=8;function pL(n){const e=oH,{contentRadius:r,limitVerticalRadius:i}=n,o=r>12?r+2:12;return{dropdownArrowOffset:o,dropdownArrowOffsetVertical:i?e:o}}function Fb(n,e){return n?e:{}}function aH(n,e){const{componentCls:r,sizePopupArrow:i,borderRadiusXS:o,borderRadiusOuter:s,boxShadowPopoverArrow:l}=n,{colorBg:u,contentRadius:c=n.borderRadiusLG,limitVerticalRadius:d,arrowDistance:h=0,arrowPlacement:p={left:!0,right:!0,top:!0,bottom:!0}}=e,{dropdownArrowOffsetVertical:m,dropdownArrowOffset:v}=pL({contentRadius:c,limitVerticalRadius:d});return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({[`${r}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},Iae(i,o,s,u,l)),{"&:before":{background:u}})]},Fb(!!p.top,{[[`&-placement-top ${r}-arrow`,`&-placement-topLeft ${r}-arrow`,`&-placement-topRight ${r}-arrow`].join(",")]:{bottom:h,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft ${r}-arrow`]:{left:{_skip_check_:!0,value:v}},[`&-placement-topRight ${r}-arrow`]:{right:{_skip_check_:!0,value:v}}})),Fb(!!p.bottom,{[[`&-placement-bottom ${r}-arrow`,`&-placement-bottomLeft ${r}-arrow`,`&-placement-bottomRight ${r}-arrow`].join(",")]:{top:h,transform:"translateY(-100%)"},[`&-placement-bottom ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},[`&-placement-bottomLeft ${r}-arrow`]:{left:{_skip_check_:!0,value:v}},[`&-placement-bottomRight ${r}-arrow`]:{right:{_skip_check_:!0,value:v}}})),Fb(!!p.left,{[[`&-placement-left ${r}-arrow`,`&-placement-leftTop ${r}-arrow`,`&-placement-leftBottom ${r}-arrow`].join(",")]:{right:{_skip_check_:!0,value:h},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop ${r}-arrow`]:{top:m},[`&-placement-leftBottom ${r}-arrow`]:{bottom:m}})),Fb(!!p.right,{[[`&-placement-right ${r}-arrow`,`&-placement-rightTop ${r}-arrow`,`&-placement-rightBottom ${r}-arrow`].join(",")]:{left:{_skip_check_:!0,value:h},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop ${r}-arrow`]:{top:m},[`&-placement-rightBottom ${r}-arrow`]:{bottom:m}}))}}function Nfe(n,e,r,i){if(i===!1)return{adjustX:!1,adjustY:!1};const o=i&&typeof i=="object"?i:{},s={};switch(n){case"top":case"bottom":s.shiftX=e.dropdownArrowOffset*2+r,s.shiftY=!0,s.adjustY=!0;break;case"left":case"right":s.shiftY=e.dropdownArrowOffsetVertical*2+r,s.shiftX=!0,s.adjustX=!0;break}const l=Object.assign(Object.assign({},s),o);return l.shiftX||(l.adjustX=!0),l.shiftY||(l.adjustY=!0),l}const HN={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},kfe={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},Ffe=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function sH(n){const{arrowWidth:e,autoAdjustOverflow:r,arrowPointAtCenter:i,offset:o,borderRadius:s,visibleFirst:l}=n,u=e/2,c={};return Object.keys(HN).forEach(d=>{const h=i&&kfe[d]||HN[d],p=Object.assign(Object.assign({},h),{offset:[0,0],dynamicInset:!0});switch(c[d]=p,Ffe.has(d)&&(p.autoArrow=!1),d){case"top":case"topLeft":case"topRight":p.offset[1]=-u-o;break;case"bottom":case"bottomLeft":case"bottomRight":p.offset[1]=u+o;break;case"left":case"leftTop":case"leftBottom":p.offset[0]=-u-o;break;case"right":case"rightTop":case"rightBottom":p.offset[0]=u+o;break}const m=pL({contentRadius:s,limitVerticalRadius:!0});if(i)switch(d){case"topLeft":case"bottomLeft":p.offset[0]=-m.dropdownArrowOffset-u;break;case"topRight":case"bottomRight":p.offset[0]=m.dropdownArrowOffset+u;break;case"leftTop":case"rightTop":p.offset[1]=-m.dropdownArrowOffset-u;break;case"leftBottom":case"rightBottom":p.offset[1]=m.dropdownArrowOffset+u;break}p.overflow=Nfe(d,m,e,r),l&&(p.htmlRegion="visibleFirst")}),c}const Ufe=n=>{const{componentCls:e,tooltipMaxWidth:r,tooltipColor:i,tooltipBg:o,tooltipBorderRadius:s,zIndexPopup:l,controlHeight:u,boxShadowSecondary:c,paddingSM:d,paddingXS:h,tooltipRadiusOuter:p}=n;return[{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},ji(n)),{position:"absolute",zIndex:l,display:"block",width:"max-content",maxWidth:r,visibility:"visible",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","&-hidden":{display:"none"},"--antd-arrow-background-color":o,[`${e}-inner`]:{minWidth:u,minHeight:u,padding:`${d/2}px ${h}px`,color:i,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:o,borderRadius:s,boxShadow:c,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${e}-inner`]:{borderRadius:Math.min(s,oH)}},[`${e}-content`]:{position:"relative"}}),qz(n,(m,v)=>{let{darkColor:y}=v;return{[`&${e}-${m}`]:{[`${e}-inner`]:{backgroundColor:y},[`${e}-arrow`]:{"--antd-arrow-background-color":y}}}})),{"&-rtl":{direction:"rtl"}})},aH(ti(n,{borderRadiusOuter:p}),{colorBg:"var(--antd-arrow-background-color)",contentRadius:s,limitVerticalRadius:!0}),{[`${e}-pure`]:{position:"relative",maxWidth:"none",margin:n.sizePopupArrow}}]},lH=(n,e)=>zi("Tooltip",i=>{if(e===!1)return[];const{borderRadius:o,colorTextLightSolid:s,colorBgDefault:l,borderRadiusOuter:u}=i,c=ti(i,{tooltipMaxWidth:250,tooltipColor:s,tooltipBorderRadius:o,tooltipBg:l,tooltipRadiusOuter:u>4?4:u});return[Ufe(c),oL(i,"zoom-big-fast")]},i=>{let{zIndexPopupBase:o,colorBgSpotlight:s}=i;return{zIndexPopup:o+70,colorBgDefault:s}},{resetStyle:!1})(n),zfe=Qx.map(n=>`${n}-inverse`),Hfe=["success","processing","error","default","warning"];function cH(n){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat(An(zfe),An(Qx)).includes(n):Qx.includes(n)}function $fe(n){return Hfe.includes(n)}function uH(n,e){const r=cH(e),i=Et({[`${n}-${e}`]:e&&r}),o={},s={};return e&&!r&&(o.background=e,s["--antd-arrow-background-color"]=e),{className:i,overlayStyle:o,arrowStyle:s}}const Gfe=n=>{const{prefixCls:e,className:r,placement:i="top",title:o,color:s,overlayInnerStyle:l}=n,{getPrefixCls:u}=M.useContext(_r),c=u("tooltip",e),[d,h]=lH(c,!0),p=uH(c,s),m=p.arrowStyle,v=Object.assign(Object.assign({},l),p.overlayStyle),y=Et(h,c,`${c}-pure`,`${c}-placement-${i}`,r,p.className);return d(M.createElement("div",{className:y,style:m},M.createElement("div",{className:`${c}-arrow`}),M.createElement(iH,Object.assign({},n,{className:h,prefixCls:c,overlayInnerStyle:v}),o)))},jfe=Gfe;var Vfe=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const dH=M.forwardRef((n,e)=>{var r,i;const{prefixCls:o,openClassName:s,getTooltipContainer:l,overlayClassName:u,color:c,overlayInnerStyle:d,children:h,afterOpenChange:p,afterVisibleChange:m,destroyTooltipOnHide:v,arrow:y=!0,title:A,overlay:b,builtinPlacements:g,arrowPointAtCenter:w=!1,autoAdjustOverflow:E=!0}=n,C=!!y,[,_]=fl(),{getPopupContainer:L,getPrefixCls:R,direction:P}=M.useContext(_r),T=gg(),D=M.useRef(null),$=()=>{var Ct;(Ct=D.current)===null||Ct===void 0||Ct.forceAlign()};M.useImperativeHandle(e,()=>({forceAlign:$,forcePopupAlign:()=>{T.deprecated(!1,"forcePopupAlign","forceAlign"),$()}}));const[V,B]=Fo(!1,{value:(r=n.open)!==null&&r!==void 0?r:n.visible,defaultValue:(i=n.defaultOpen)!==null&&i!==void 0?i:n.defaultVisible}),O=!A&&!b&&A!==0,F=Ct=>{var Tt,Dt;B(O?!1:Ct),O||((Tt=n.onOpenChange)===null||Tt===void 0||Tt.call(n,Ct),(Dt=n.onVisibleChange)===null||Dt===void 0||Dt.call(n,Ct))},k=M.useMemo(()=>{var Ct,Tt;let Dt=w;return typeof y=="object"&&(Dt=(Tt=(Ct=y.pointAtCenter)!==null&&Ct!==void 0?Ct:y.arrowPointAtCenter)!==null&&Tt!==void 0?Tt:w),g||sH({arrowPointAtCenter:Dt,autoAdjustOverflow:E,arrowWidth:C?_.sizePopupArrow:0,borderRadius:_.borderRadius,offset:_.marginXXS,visibleFirst:!0})},[w,y,g,_]),z=M.useMemo(()=>A===0?A:b||A||"",[b,A]),G=M.createElement(qx,null,typeof z=="function"?z():z),{getPopupContainer:j,placement:Q="top",mouseEnterDelay:X=.1,mouseLeaveDelay:J=.1,overlayStyle:Z,rootClassName:oe}=n,ue=Vfe(n,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),Be=R("tooltip",o),ge=R(),Ie=n["data-popover-inject"];let He=V;!("open"in n)&&!("visible"in n)&&O&&(He=!1);const Ze=us(h)&&!d9(h)?h:M.createElement("span",null,h),Xe=Ze.props,ke=!Xe.className||typeof Xe.className=="string"?Et(Xe.className,s||`${Be}-open`):Xe.className,[lt,ot]=lH(Be,!Ie),it=uH(Be,c),ft=it.arrowStyle,xt=Object.assign(Object.assign({},d),it.overlayStyle),At=Et(u,{[`${Be}-rtl`]:P==="rtl"},it.className,oe,ot);return lt(M.createElement(Dfe,Object.assign({},ue,{showArrow:C,placement:Q,mouseEnterDelay:X,mouseLeaveDelay:J,prefixCls:Be,overlayClassName:At,overlayStyle:Object.assign(Object.assign({},ft),Z),getTooltipContainer:j||l||L,ref:D,builtinPlacements:k,overlay:G,visible:He,onVisibleChange:F,afterVisibleChange:p??m,overlayInnerStyle:xt,arrowContent:M.createElement("span",{className:`${Be}-arrow-content`}),motion:{motionName:KI(ge,"zoom-big-fast",n.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!v}),He?ya(Ze,{className:ke}):Ze))});dH._InternalPanelDoNotUseOrYouWillBeFired=jfe;const bh=dH;var Wfe=vn.ESC,Qfe=vn.TAB;function Kfe(n){var e=n.visible,r=n.triggerRef,i=n.onVisibleChange,o=n.autoFocus,s=n.overlayRef,l=M.useRef(!1),u=function(){if(e){var p,m;(p=r.current)===null||p===void 0||(m=p.focus)===null||m===void 0||m.call(p),i==null||i(!1)}},c=function(){var p;return(p=s.current)!==null&&p!==void 0&&p.focus?(s.current.focus(),l.current=!0,!0):!1},d=function(p){switch(p.keyCode){case Wfe:u();break;case Qfe:{var m=!1;l.current||(m=c()),m?p.preventDefault():u();break}}};M.useEffect(function(){return e?(window.addEventListener("keydown",d),o&&Oi(c,3),function(){window.removeEventListener("keydown",d),l.current=!1}):function(){l.current=!1}},[e])}var Xfe=M.forwardRef(function(n,e){var r=n.overlay,i=n.arrow,o=n.prefixCls,s=M.useMemo(function(){var u;return typeof r=="function"?u=r():u=r,u},[r]),l=zs(e,s==null?void 0:s.ref);return nn.createElement(nn.Fragment,null,i&&nn.createElement("div",{className:"".concat(o,"-arrow")}),nn.cloneElement(s,{ref:bc(s)?l:void 0}))}),yp={adjustX:1,adjustY:1},bp=[0,0],qfe={topLeft:{points:["bl","tl"],overflow:yp,offset:[0,-4],targetOffset:bp},top:{points:["bc","tc"],overflow:yp,offset:[0,-4],targetOffset:bp},topRight:{points:["br","tr"],overflow:yp,offset:[0,-4],targetOffset:bp},bottomLeft:{points:["tl","bl"],overflow:yp,offset:[0,4],targetOffset:bp},bottom:{points:["tc","bc"],overflow:yp,offset:[0,4],targetOffset:bp},bottomRight:{points:["tr","br"],overflow:yp,offset:[0,4],targetOffset:bp}},Yfe=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function Jfe(n,e){var r,i=n.arrow,o=i===void 0?!1:i,s=n.prefixCls,l=s===void 0?"rc-dropdown":s,u=n.transitionName,c=n.animation,d=n.align,h=n.placement,p=h===void 0?"bottomLeft":h,m=n.placements,v=m===void 0?qfe:m,y=n.getPopupContainer,A=n.showAction,b=n.hideAction,g=n.overlayClassName,w=n.overlayStyle,E=n.visible,C=n.trigger,_=C===void 0?["hover"]:C,L=n.autoFocus,R=n.overlay,P=n.children,T=n.onVisibleChange,D=Pr(n,Yfe),$=nn.useState(),V=Nt($,2),B=V[0],O=V[1],F="visible"in n?E:B,k=nn.useRef(null),z=nn.useRef(null),G=nn.useRef(null);nn.useImperativeHandle(e,function(){return k.current});var j=function(Ie){O(Ie),T==null||T(Ie)};Kfe({visible:F,triggerRef:G,onVisibleChange:j,autoFocus:L,overlayRef:z});var Q=function(Ie){var He=n.onOverlayClick;O(!1),He&&He(Ie)},X=function(){return nn.createElement(Xfe,{ref:z,overlay:R,prefixCls:l,arrow:o})},J=function(){return typeof R=="function"?X:X()},Z=function(){var Ie=n.minOverlayWidthMatchTrigger,He=n.alignPoint;return"minOverlayWidthMatchTrigger"in n?Ie:!He},oe=function(){var Ie=n.openClassName;return Ie!==void 0?Ie:"".concat(l,"-open")},ue=nn.cloneElement(P,{className:Et((r=P.props)===null||r===void 0?void 0:r.className,F&&oe()),ref:bc(P)?zs(G,P.ref):void 0}),Be=b;return!Be&&_.indexOf("contextMenu")!==-1&&(Be=["click"]),nn.createElement(yC,on({builtinPlacements:v},D,{prefixCls:l,ref:k,popupClassName:Et(g,ct({},"".concat(l,"-show-arrow"),o)),popupStyle:w,action:_,showAction:A,hideAction:Be,popupPlacement:p,popupAlign:d,popupTransitionName:u,popupAnimation:c,popupVisible:F,stretch:Z()?"minWidth":"",popup:J(),onPopupVisibleChange:j,onPopupClick:Q,getPopupContainer:y}),ue)}const fH=nn.forwardRef(Jfe);var hH=M.createContext(null);function mL(n,e){return n===void 0?null:"".concat(n,"-").concat(e)}function pH(n){var e=M.useContext(hH);return mL(e,n)}var Zfe=["children","locked"],Kl=M.createContext(null);function ehe(n,e){var r=mt({},n);return Object.keys(e).forEach(function(i){var o=e[i];o!==void 0&&(r[i]=o)}),r}function bA(n){var e=n.children,r=n.locked,i=Pr(n,Zfe),o=M.useContext(Kl),s=Mh(function(){return ehe(o,i)},[o,i],function(l,u){return!r&&(l[0]!==u[0]||!Ru(l[1],u[1],!0))});return M.createElement(Kl.Provider,{value:s},e)}var the=[],mH=M.createContext(null);function CC(){return M.useContext(mH)}var gH=M.createContext(the);function Ag(n){var e=M.useContext(gH);return M.useMemo(function(){return n!==void 0?[].concat(An(e),[n]):e},[e,n])}var vH=M.createContext(null),gL=M.createContext({});function $N(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(hC(n)){var r=n.nodeName.toLowerCase(),i=["input","select","textarea","button"].includes(r)||n.isContentEditable||r==="a"&&!!n.getAttribute("href"),o=n.getAttribute("tabindex"),s=Number(o),l=null;return o&&!Number.isNaN(s)?l=s:i&&l===null&&(l=0),i&&n.disabled&&(l=null),l!==null&&(l>=0||e&&l<0)}return!1}function nhe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=An(n.querySelectorAll("*")).filter(function(i){return $N(i,e)});return $N(n,e)&&r.unshift(n),r}var c3=vn.LEFT,u3=vn.RIGHT,d3=vn.UP,ex=vn.DOWN,tx=vn.ENTER,AH=vn.ESC,Rv=vn.HOME,Iv=vn.END,GN=[d3,ex,c3,u3];function rhe(n,e,r,i){var o,s,l,u,c="prev",d="next",h="children",p="parent";if(n==="inline"&&i===tx)return{inlineTrigger:!0};var m=(o={},ct(o,d3,c),ct(o,ex,d),o),v=(s={},ct(s,c3,r?d:c),ct(s,u3,r?c:d),ct(s,ex,h),ct(s,tx,h),s),y=(l={},ct(l,d3,c),ct(l,ex,d),ct(l,tx,h),ct(l,AH,p),ct(l,c3,r?h:p),ct(l,u3,r?p:h),l),A={inline:m,horizontal:v,vertical:y,inlineSub:m,horizontalSub:y,verticalSub:y},b=(u=A["".concat(n).concat(e?"":"Sub")])===null||u===void 0?void 0:u[i];switch(b){case c:return{offset:-1,sibling:!0};case d:return{offset:1,sibling:!0};case p:return{offset:-1,sibling:!1};case h:return{offset:1,sibling:!1};default:return null}}function ihe(n){for(var e=n;e;){if(e.getAttribute("data-menu-list"))return e;e=e.parentElement}return null}function ohe(n,e){for(var r=n||document.activeElement;r;){if(e.has(r))return r;r=r.parentElement}return null}function yH(n,e){var r=nhe(n,!0);return r.filter(function(i){return e.has(i)})}function jN(n,e,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!n)return null;var o=yH(n,e),s=o.length,l=o.findIndex(function(u){return r===u});return i<0?l===-1?l=s-1:l-=1:i>0&&(l+=1),l=(l+s)%s,o[l]}function ahe(n,e,r,i,o,s,l,u,c,d){var h=M.useRef(),p=M.useRef();p.current=e;var m=function(){Oi.cancel(h.current)};return M.useEffect(function(){return function(){m()}},[]),function(v){var y=v.which;if([].concat(GN,[tx,AH,Rv,Iv]).includes(y)){var A,b,g,w=function(){A=new Set,b=new Map,g=new Map;var F=s();return F.forEach(function(k){var z=document.querySelector("[data-menu-id='".concat(mL(i,k),"']"));z&&(A.add(z),g.set(z,k),b.set(k,z))}),A};w();var E=b.get(e),C=ohe(E,A),_=g.get(C),L=rhe(n,l(_,!0).length===1,r,y);if(!L&&y!==Rv&&y!==Iv)return;(GN.includes(y)||[Rv,Iv].includes(y))&&v.preventDefault();var R=function(F){if(F){var k=F,z=F.querySelector("a");z!=null&&z.getAttribute("href")&&(k=z);var G=g.get(F);u(G),m(),h.current=Oi(function(){p.current===G&&k.focus()})}};if([Rv,Iv].includes(y)||L.sibling||!C){var P;!C||n==="inline"?P=o.current:P=ihe(C);var T,D=yH(P,A);y===Rv?T=D[0]:y===Iv?T=D[D.length-1]:T=jN(P,A,C,L.offset),R(T)}else if(L.inlineTrigger)c(_);else if(L.offset>0)c(_,!0),m(),h.current=Oi(function(){w();var O=C.getAttribute("aria-controls"),F=document.getElementById(O),k=jN(F,A);R(k)},5);else if(L.offset<0){var $=l(_,!0),V=$[$.length-2],B=b.get(V);c(V,!1),R(B)}}d==null||d(v)}}function she(n){Promise.resolve().then(n)}var vL="__RC_UTIL_PATH_SPLIT__",VN=function(e){return e.join(vL)},lhe=function(e){return e.split(vL)},f3="rc-menu-more";function che(){var n=M.useState({}),e=Nt(n,2),r=e[1],i=M.useRef(new Map),o=M.useRef(new Map),s=M.useState([]),l=Nt(s,2),u=l[0],c=l[1],d=M.useRef(0),h=M.useRef(!1),p=function(){h.current||r({})},m=M.useCallback(function(E,C){var _=VN(C);o.current.set(_,E),i.current.set(E,_),d.current+=1;var L=d.current;she(function(){L===d.current&&p()})},[]),v=M.useCallback(function(E,C){var _=VN(C);o.current.delete(_),i.current.delete(E)},[]),y=M.useCallback(function(E){c(E)},[]),A=M.useCallback(function(E,C){var _=i.current.get(E)||"",L=lhe(_);return C&&u.includes(L[0])&&L.unshift(f3),L},[u]),b=M.useCallback(function(E,C){return E.some(function(_){var L=A(_,!0);return L.includes(C)})},[A]),g=function(){var C=An(i.current.keys());return u.length&&C.push(f3),C},w=M.useCallback(function(E){var C="".concat(i.current.get(E)).concat(vL),_=new Set;return An(o.current.keys()).forEach(function(L){L.startsWith(C)&&_.add(o.current.get(L))}),_},[]);return M.useEffect(function(){return function(){h.current=!0}},[]),{registerPath:m,unregisterPath:v,refreshOverflowKeys:y,isSubPathKey:b,getKeyPath:A,getKeys:g,getSubPathKeys:w}}function u0(n){var e=M.useRef(n);e.current=n;var r=M.useCallback(function(){for(var i,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return(i=e.current)===null||i===void 0?void 0:i.call.apply(i,[e].concat(s))},[]);return n?r:void 0}var uhe=Math.random().toFixed(5).toString().slice(2),WN=0;function dhe(n){var e=Fo(n,{value:n}),r=Nt(e,2),i=r[0],o=r[1];return M.useEffect(function(){WN+=1;var s="".concat(uhe,"-").concat(WN);o("rc-menu-uuid-".concat(s))},[]),i}function bH(n,e,r,i){var o=M.useContext(Kl),s=o.activeKey,l=o.onActive,u=o.onInactive,c={active:s===n};return e||(c.onMouseEnter=function(d){r==null||r({key:n,domEvent:d}),l(n)},c.onMouseLeave=function(d){i==null||i({key:n,domEvent:d}),u(n)}),c}function xH(n){var e=M.useContext(Kl),r=e.mode,i=e.rtl,o=e.inlineIndent;if(r!=="inline")return null;var s=n;return i?{paddingRight:s*o}:{paddingLeft:s*o}}function EH(n){var e=n.icon,r=n.props,i=n.children,o;return e===null||e===!1?null:(typeof e=="function"?o=M.createElement(e,mt({},r)):typeof e!="boolean"&&(o=e),o||i||null)}var fhe=["item"];function tE(n){var e=n.item,r=Pr(n,fhe);return Object.defineProperty(r,"item",{get:function(){return no(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),e}}),r}var hhe=["title","attribute","elementRef"],phe=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],mhe=["active"],ghe=function(n){ql(r,n);var e=Yl(r);function r(){return ca(this,r),e.apply(this,arguments)}return ua(r,[{key:"render",value:function(){var o=this.props,s=o.title,l=o.attribute,u=o.elementRef,c=Pr(o,hhe),d=vo(c,["eventKey","popupClassName","popupOffset","onTitleClick"]);return no(!l,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),M.createElement(Ac.Item,on({},l,{title:typeof s=="string"?s:void 0},d,{ref:u}))}}]),r}(M.Component),vhe=M.forwardRef(function(n,e){var r,i=n.style,o=n.className,s=n.eventKey;n.warnKey;var l=n.disabled,u=n.itemIcon,c=n.children,d=n.role,h=n.onMouseEnter,p=n.onMouseLeave,m=n.onClick,v=n.onKeyDown,y=n.onFocus,A=Pr(n,phe),b=pH(s),g=M.useContext(Kl),w=g.prefixCls,E=g.onItemClick,C=g.disabled,_=g.overflowDisabled,L=g.itemIcon,R=g.selectedKeys,P=g.onActive,T=M.useContext(gL),D=T._internalRenderMenuItem,$="".concat(w,"-item"),V=M.useRef(),B=M.useRef(),O=C||l,F=Th(e,B),k=Ag(s),z=function(Ze){return{key:s,keyPath:An(k).reverse(),item:V.current,domEvent:Ze}},G=u||L,j=bH(s,O,h,p),Q=j.active,X=Pr(j,mhe),J=R.includes(s),Z=xH(k.length),oe=function(Ze){if(!O){var Xe=z(Ze);m==null||m(tE(Xe)),E(Xe)}},ue=function(Ze){if(v==null||v(Ze),Ze.which===vn.ENTER){var Xe=z(Ze);m==null||m(tE(Xe)),E(Xe)}},Be=function(Ze){P(s),y==null||y(Ze)},ge={};n.role==="option"&&(ge["aria-selected"]=J);var Ie=M.createElement(ghe,on({ref:V,elementRef:F,role:d===null?"none":d||"menuitem",tabIndex:l?null:-1,"data-menu-id":_&&b?null:b},A,X,ge,{component:"li","aria-disabled":l,style:mt(mt({},Z),i),className:Et($,(r={},ct(r,"".concat($,"-active"),Q),ct(r,"".concat($,"-selected"),J),ct(r,"".concat($,"-disabled"),O),r),o),onClick:oe,onKeyDown:ue,onFocus:Be}),c,M.createElement(EH,{props:mt(mt({},n),{},{isSelected:J}),icon:G}));return D&&(Ie=D(Ie,n,{selected:J})),Ie});function Ahe(n,e){var r=n.eventKey,i=CC(),o=Ag(r);return M.useEffect(function(){if(i)return i.registerPath(r,o),function(){i.unregisterPath(r,o)}},[o]),i?null:M.createElement(vhe,on({},n,{ref:e}))}const VA=M.forwardRef(Ahe);var yhe=["className","children"],bhe=function(e,r){var i=e.className,o=e.children,s=Pr(e,yhe),l=M.useContext(Kl),u=l.prefixCls,c=l.mode,d=l.rtl;return M.createElement("ul",on({className:Et(u,d&&"".concat(u,"-rtl"),"".concat(u,"-sub"),"".concat(u,"-").concat(c==="inline"?"inline":"vertical"),i),role:"menu"},s,{"data-menu-list":!0,ref:r}),o)},AL=M.forwardRef(bhe);AL.displayName="SubMenuList";function yL(n,e){return qa(n).map(function(r,i){if(M.isValidElement(r)){var o,s,l=r.key,u=(o=(s=r.props)===null||s===void 0?void 0:s.eventKey)!==null&&o!==void 0?o:l,c=u==null;c&&(u="tmp_key-".concat([].concat(An(e),[i]).join("-")));var d={key:u,eventKey:u};return M.cloneElement(r,d)}return r})}var Ia={adjustX:1,adjustY:1},xhe={topLeft:{points:["bl","tl"],overflow:Ia},topRight:{points:["br","tr"],overflow:Ia},bottomLeft:{points:["tl","bl"],overflow:Ia},bottomRight:{points:["tr","br"],overflow:Ia},leftTop:{points:["tr","tl"],overflow:Ia},leftBottom:{points:["br","bl"],overflow:Ia},rightTop:{points:["tl","tr"],overflow:Ia},rightBottom:{points:["bl","br"],overflow:Ia}},Ehe={topLeft:{points:["bl","tl"],overflow:Ia},topRight:{points:["br","tr"],overflow:Ia},bottomLeft:{points:["tl","bl"],overflow:Ia},bottomRight:{points:["tr","br"],overflow:Ia},rightTop:{points:["tr","tl"],overflow:Ia},rightBottom:{points:["br","bl"],overflow:Ia},leftTop:{points:["tl","tr"],overflow:Ia},leftBottom:{points:["bl","br"],overflow:Ia}};function CH(n,e,r){if(e)return e;if(r)return r[n]||r.other}var Che={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function whe(n){var e=n.prefixCls,r=n.visible,i=n.children,o=n.popup,s=n.popupStyle,l=n.popupClassName,u=n.popupOffset,c=n.disabled,d=n.mode,h=n.onVisibleChange,p=M.useContext(Kl),m=p.getPopupContainer,v=p.rtl,y=p.subMenuOpenDelay,A=p.subMenuCloseDelay,b=p.builtinPlacements,g=p.triggerSubMenuAction,w=p.forceSubMenuRender,E=p.rootClassName,C=p.motion,_=p.defaultMotions,L=M.useState(!1),R=Nt(L,2),P=R[0],T=R[1],D=mt(v?mt({},Ehe):mt({},xhe),b),$=Che[d],V=CH(d,C,_),B=M.useRef(V);d!=="inline"&&(B.current=V);var O=mt(mt({},B.current),{},{leavedClassName:"".concat(e,"-hidden"),removeOnLeave:!1,motionAppear:!0}),F=M.useRef();return M.useEffect(function(){return F.current=Oi(function(){T(r)}),function(){Oi.cancel(F.current)}},[r]),M.createElement(yC,{prefixCls:e,popupClassName:Et("".concat(e,"-popup"),ct({},"".concat(e,"-rtl"),v),l,E),stretch:d==="horizontal"?"minWidth":null,getPopupContainer:m,builtinPlacements:D,popupPlacement:$,popupVisible:P,popup:o,popupStyle:s,popupAlign:u&&{offset:u},action:c?[]:[g],mouseEnterDelay:y,mouseLeaveDelay:A,onPopupVisibleChange:h,forceRender:w,popupMotion:O,fresh:!0},i)}function She(n){var e=n.id,r=n.open,i=n.keyPath,o=n.children,s="inline",l=M.useContext(Kl),u=l.prefixCls,c=l.forceSubMenuRender,d=l.motion,h=l.defaultMotions,p=l.mode,m=M.useRef(!1);m.current=p===s;var v=M.useState(!m.current),y=Nt(v,2),A=y[0],b=y[1],g=m.current?r:!1;M.useEffect(function(){m.current&&b(!1)},[p]);var w=mt({},CH(s,d,h));i.length>1&&(w.motionAppear=!1);var E=w.onVisibleChanged;return w.onVisibleChanged=function(C){return!m.current&&!C&&b(!0),E==null?void 0:E(C)},A?null:M.createElement(bA,{mode:s,locked:!m.current},M.createElement(wc,on({visible:g},w,{forceRender:c,removeOnLeave:!1,leavedClassName:"".concat(u,"-hidden")}),function(C){var _=C.className,L=C.style;return M.createElement(AL,{id:e,className:_,style:L},o)}))}var _he=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],Mhe=["active"],The=function(e){var r,i=e.style,o=e.className,s=e.title,l=e.eventKey;e.warnKey;var u=e.disabled,c=e.internalPopupClose,d=e.children,h=e.itemIcon,p=e.expandIcon,m=e.popupClassName,v=e.popupOffset,y=e.popupStyle,A=e.onClick,b=e.onMouseEnter,g=e.onMouseLeave,w=e.onTitleClick,E=e.onTitleMouseEnter,C=e.onTitleMouseLeave,_=Pr(e,_he),L=pH(l),R=M.useContext(Kl),P=R.prefixCls,T=R.mode,D=R.openKeys,$=R.disabled,V=R.overflowDisabled,B=R.activeKey,O=R.selectedKeys,F=R.itemIcon,k=R.expandIcon,z=R.onItemClick,G=R.onOpenChange,j=R.onActive,Q=M.useContext(gL),X=Q._internalRenderSubMenuItem,J=M.useContext(vH),Z=J.isSubPathKey,oe=Ag(),ue="".concat(P,"-submenu"),Be=$||u,ge=M.useRef(),Ie=M.useRef(),He=h??F,Ze=p??k,Xe=D.includes(l),ke=!V&&Xe,lt=Z(O,l),ot=bH(l,Be,E,C),it=ot.active,ft=Pr(ot,Mhe),xt=M.useState(!1),At=Nt(xt,2),Ct=At[0],Tt=At[1],Dt=function(Y){Be||Tt(Y)},Yt=function(Y){Dt(!0),b==null||b({key:l,domEvent:Y})},Ve=function(Y){Dt(!1),g==null||g({key:l,domEvent:Y})},be=M.useMemo(function(){return it||(T!=="inline"?Ct||Z([B],l):!1)},[T,it,B,Ct,l,Z]),fe=xH(oe.length),me=function(Y){Be||(w==null||w({key:l,domEvent:Y}),T==="inline"&&G(l,!Xe))},Te=u0(function(ce){A==null||A(tE(ce)),z(ce)}),Ce=function(Y){T!=="inline"&&G(l,Y)},Se=function(){j(l)},we=L&&"".concat(L,"-popup"),Ge=M.createElement("div",on({role:"menuitem",style:fe,className:"".concat(ue,"-title"),tabIndex:Be?null:-1,ref:ge,title:typeof s=="string"?s:null,"data-menu-id":V&&L?null:L,"aria-expanded":ke,"aria-haspopup":!0,"aria-controls":we,"aria-disabled":Be,onClick:me,onFocus:Se},ft),s,M.createElement(EH,{icon:T!=="horizontal"?Ze:void 0,props:mt(mt({},e),{},{isOpen:ke,isSubMenu:!0})},M.createElement("i",{className:"".concat(ue,"-arrow")}))),Ae=M.useRef(T);if(T!=="inline"&&oe.length>1?Ae.current="vertical":Ae.current=T,!V){var Ue=Ae.current;Ge=M.createElement(whe,{mode:Ue,prefixCls:ue,visible:!c&&ke&&T!=="inline",popupClassName:m,popupOffset:v,popupStyle:y,popup:M.createElement(bA,{mode:Ue==="horizontal"?"vertical":Ue},M.createElement(AL,{id:we,ref:Ie},d)),disabled:Be,onVisibleChange:Ce},Ge)}var et=M.createElement(Ac.Item,on({role:"none"},_,{component:"li",style:i,className:Et(ue,"".concat(ue,"-").concat(T),o,(r={},ct(r,"".concat(ue,"-open"),ke),ct(r,"".concat(ue,"-active"),be),ct(r,"".concat(ue,"-selected"),lt),ct(r,"".concat(ue,"-disabled"),Be),r)),onMouseEnter:Yt,onMouseLeave:Ve}),Ge,!V&&M.createElement(She,{id:we,open:ke,keyPath:oe},d));return X&&(et=X(et,e,{selected:lt,active:be,open:ke,disabled:Be})),M.createElement(bA,{onItemClick:Te,mode:T==="horizontal"?"vertical":T,itemIcon:He,expandIcon:Ze},et)};function wC(n){var e=n.eventKey,r=n.children,i=Ag(e),o=yL(r,i),s=CC();M.useEffect(function(){if(s)return s.registerPath(e,i),function(){s.unregisterPath(e,i)}},[i]);var l;return s?l=o:l=M.createElement(The,n,o),M.createElement(gH.Provider,{value:i},l)}var Rhe=["className","title","eventKey","children"],Ihe=["children"],Lhe=function(e){var r=e.className,i=e.title;e.eventKey;var o=e.children,s=Pr(e,Rhe),l=M.useContext(Kl),u=l.prefixCls,c="".concat(u,"-item-group");return M.createElement("li",on({role:"presentation"},s,{onClick:function(h){return h.stopPropagation()},className:Et(c,r)}),M.createElement("div",{role:"presentation",className:"".concat(c,"-title"),title:typeof i=="string"?i:void 0},i),M.createElement("ul",{role:"group",className:"".concat(c,"-list")},o))};function SC(n){var e=n.children,r=Pr(n,Ihe),i=Ag(r.eventKey),o=yL(e,i),s=CC();return s?o:M.createElement(Lhe,vo(r,["warnKey"]),o)}function bL(n){var e=n.className,r=n.style,i=M.useContext(Kl),o=i.prefixCls,s=CC();return s?null:M.createElement("li",{role:"separator",className:Et("".concat(o,"-item-divider"),e),style:r})}var Phe=["label","children","key","type"];function h3(n){return(n||[]).map(function(e,r){if(e&&Ir(e)==="object"){var i=e,o=i.label,s=i.children,l=i.key,u=i.type,c=Pr(i,Phe),d=l??"tmp-".concat(r);return s||u==="group"?u==="group"?M.createElement(SC,on({key:d},c,{title:o}),h3(s)):M.createElement(wC,on({key:d},c,{title:o}),h3(s)):u==="divider"?M.createElement(bL,on({key:d},c)):M.createElement(VA,on({key:d},c),o)}return null}).filter(function(e){return e})}function Bhe(n,e,r){var i=n;return e&&(i=h3(e)),yL(i,r)}var Ohe=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],xp=[],Dhe=M.forwardRef(function(n,e){var r,i,o=n,s=o.prefixCls,l=s===void 0?"rc-menu":s,u=o.rootClassName,c=o.style,d=o.className,h=o.tabIndex,p=h===void 0?0:h,m=o.items,v=o.children,y=o.direction,A=o.id,b=o.mode,g=b===void 0?"vertical":b,w=o.inlineCollapsed,E=o.disabled,C=o.disabledOverflow,_=o.subMenuOpenDelay,L=_===void 0?.1:_,R=o.subMenuCloseDelay,P=R===void 0?.1:R,T=o.forceSubMenuRender,D=o.defaultOpenKeys,$=o.openKeys,V=o.activeKey,B=o.defaultActiveFirst,O=o.selectable,F=O===void 0?!0:O,k=o.multiple,z=k===void 0?!1:k,G=o.defaultSelectedKeys,j=o.selectedKeys,Q=o.onSelect,X=o.onDeselect,J=o.inlineIndent,Z=J===void 0?24:J,oe=o.motion,ue=o.defaultMotions,Be=o.triggerSubMenuAction,ge=Be===void 0?"hover":Be,Ie=o.builtinPlacements,He=o.itemIcon,Ze=o.expandIcon,Xe=o.overflowedIndicator,ke=Xe===void 0?"...":Xe,lt=o.overflowedIndicatorPopupClassName,ot=o.getPopupContainer,it=o.onClick,ft=o.onOpenChange,xt=o.onKeyDown;o.openAnimation,o.openTransitionName;var At=o._internalRenderMenuItem,Ct=o._internalRenderSubMenuItem,Tt=Pr(o,Ohe),Dt=M.useMemo(function(){return Bhe(v,m,xp)},[v,m]),Yt=M.useState(!1),Ve=Nt(Yt,2),be=Ve[0],fe=Ve[1],me=M.useRef(),Te=dhe(A),Ce=y==="rtl",Se=Fo(D,{value:$,postState:function(bn){return bn||xp}}),we=Nt(Se,2),Ge=we[0],Ae=we[1],Ue=function(bn){var qn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function jn(){Ae(bn),ft==null||ft(bn)}qn?Ns.flushSync(jn):jn()},et=M.useState(Ge),ce=Nt(et,2),Y=ce[0],ne=ce[1],Le=M.useRef(!1),We=M.useMemo(function(){return(g==="inline"||g==="vertical")&&w?["vertical",w]:[g,!1]},[g,w]),ve=Nt(We,2),he=ve[0],qe=ve[1],Je=he==="inline",Qe=M.useState(he),nt=Nt(Qe,2),It=nt[0],kt=nt[1],Bt=M.useState(qe),Gt=Nt(Bt,2),Vt=Gt[0],Pt=Gt[1];M.useEffect(function(){kt(he),Pt(qe),Le.current&&(Je?Ae(Y):Ue(xp))},[he,qe]);var pt=M.useState(0),Ot=Nt(pt,2),cn=Ot[0],qt=Ot[1],Sn=cn>=Dt.length-1||It!=="horizontal"||C;M.useEffect(function(){Je&&ne(Ge)},[Ge]),M.useEffect(function(){return Le.current=!0,function(){Le.current=!1}},[]);var yn=che(),Pn=yn.registerPath,rr=yn.unregisterPath,Gn=yn.refreshOverflowKeys,Fn=yn.isSubPathKey,Cn=yn.getKeyPath,Oe=yn.getKeys,st=yn.getSubPathKeys,wt=M.useMemo(function(){return{registerPath:Pn,unregisterPath:rr}},[Pn,rr]),xe=M.useMemo(function(){return{isSubPathKey:Fn}},[Fn]);M.useEffect(function(){Gn(Sn?xp:Dt.slice(cn+1).map(function(Jt){return Jt.key}))},[cn,Sn]);var De=Fo(V||B&&((r=Dt[0])===null||r===void 0?void 0:r.key),{value:V}),tt=Nt(De,2),St=tt[0],Mt=tt[1],Ut=u0(function(Jt){Mt(Jt)}),Qt=u0(function(){Mt(void 0)});M.useImperativeHandle(e,function(){return{list:me.current,focus:function(bn){var qn,jn=St??((qn=Dt.find(function(Fe){return!Fe.props.disabled}))===null||qn===void 0?void 0:qn.key);if(jn){var re,se,_e;(re=me.current)===null||re===void 0||(se=re.querySelector("li[data-menu-id='".concat(mL(Te,jn),"']")))===null||se===void 0||(_e=se.focus)===null||_e===void 0||_e.call(se,bn)}}}});var mn=Fo(G||[],{value:j,postState:function(bn){return Array.isArray(bn)?bn:bn==null?xp:[bn]}}),sn=Nt(mn,2),Kt=sn[0],Hn=sn[1],Nn=function(bn){if(F){var qn=bn.key,jn=Kt.includes(qn),re;z?jn?re=Kt.filter(function(_e){return _e!==qn}):re=[].concat(An(Kt),[qn]):re=[qn],Hn(re);var se=mt(mt({},bn),{},{selectedKeys:re});jn?X==null||X(se):Q==null||Q(se)}!z&&Ge.length&&It!=="inline"&&Ue(xp)},er=u0(function(Jt){it==null||it(tE(Jt)),Nn(Jt)}),yr=u0(function(Jt,bn){var qn=Ge.filter(function(re){return re!==Jt});if(bn)qn.push(Jt);else if(It!=="inline"){var jn=st(Jt);qn=qn.filter(function(re){return!jn.has(re)})}Ru(Ge,qn,!0)||Ue(qn,!0)}),kn=function(bn,qn){var jn=qn??!Ge.includes(bn);yr(bn,jn)},dr=ahe(It,St,Ce,Te,me,Oe,Cn,Mt,kn,xt);M.useEffect(function(){fe(!0)},[]);var sr=M.useMemo(function(){return{_internalRenderMenuItem:At,_internalRenderSubMenuItem:Ct}},[At,Ct]),Dr=It!=="horizontal"||C?Dt:Dt.map(function(Jt,bn){return M.createElement(bA,{key:Jt.key,overflowDisabled:bn>cn},Jt)}),or=M.createElement(Ac,on({id:A,ref:me,prefixCls:"".concat(l,"-overflow"),component:"ul",itemComponent:VA,className:Et(l,"".concat(l,"-root"),"".concat(l,"-").concat(It),d,(i={},ct(i,"".concat(l,"-inline-collapsed"),Vt),ct(i,"".concat(l,"-rtl"),Ce),i),u),dir:y,style:c,role:"menu",tabIndex:p,data:Dr,renderRawItem:function(bn){return bn},renderRawRest:function(bn){var qn=bn.length,jn=qn?Dt.slice(-qn):null;return M.createElement(wC,{eventKey:f3,title:ke,disabled:Sn,internalPopupClose:qn===0,popupClassName:lt},jn)},maxCount:It!=="horizontal"||C?Ac.INVALIDATE:Ac.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(bn){qt(bn)},onKeyDown:dr},Tt));return M.createElement(gL.Provider,{value:sr},M.createElement(hH.Provider,{value:Te},M.createElement(bA,{prefixCls:l,rootClassName:u,mode:It,openKeys:Ge,rtl:Ce,disabled:E,motion:be?oe:null,defaultMotions:be?ue:null,activeKey:St,onActive:Ut,onInactive:Qt,selectedKeys:Kt,inlineIndent:Z,subMenuOpenDelay:L,subMenuCloseDelay:P,forceSubMenuRender:T,builtinPlacements:Ie,triggerSubMenuAction:ge,getPopupContainer:ot,itemIcon:He,expandIcon:Ze,onItemClick:er,onOpenChange:yr},M.createElement(vH.Provider,{value:xe},or),M.createElement("div",{style:{display:"none"},"aria-hidden":!0},M.createElement(mH.Provider,{value:wt},Dt)))))}),yg=Dhe;yg.Item=VA;yg.SubMenu=wC;yg.ItemGroup=SC;yg.Divider=bL;const Nhe=n=>!isNaN(parseFloat(n))&&isFinite(n),khe=Nhe,wH=M.createContext({siderHook:{addSider:()=>null,removeSider:()=>null}});var Fhe=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const QN={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},xL=M.createContext({}),Uhe=(()=>{let n=0;return function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return n+=1,`${e}${n}`}})(),zhe=M.forwardRef((n,e)=>{const{prefixCls:r,className:i,trigger:o,children:s,defaultCollapsed:l=!1,theme:u="dark",style:c={},collapsible:d=!1,reverseArrow:h=!1,width:p=200,collapsedWidth:m=80,zeroWidthTriggerStyle:v,breakpoint:y,onCollapse:A,onBreakpoint:b}=n,g=Fhe(n,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),{siderHook:w}=M.useContext(wH),[E,C]=M.useState("collapsed"in n?n.collapsed:l),[_,L]=M.useState(!1);M.useEffect(()=>{"collapsed"in n&&C(n.collapsed)},[n.collapsed]);const R=(B,O)=>{"collapsed"in n||C(B),A==null||A(B,O)},P=M.useRef();P.current=B=>{L(B.matches),b==null||b(B.matches),E!==B.matches&&R(B.matches,"responsive")},M.useEffect(()=>{function B(F){return P.current(F)}let O;if(typeof window<"u"){const{matchMedia:F}=window;if(F&&y&&y in QN){O=F(`(max-width: ${QN[y]})`);try{O.addEventListener("change",B)}catch{O.addListener(B)}B(O)}}return()=>{try{O==null||O.removeEventListener("change",B)}catch{O==null||O.removeListener(B)}}},[y]),M.useEffect(()=>{const B=Uhe("ant-sider-");return w.addSider(B),()=>w.removeSider(B)},[]);const T=()=>{R(!E,"clickTrigger")},{getPrefixCls:D}=M.useContext(_r),$=()=>{const B=D("layout-sider",r),O=vo(g,["collapsed"]),F=E?m:p,k=khe(F)?`${F}px`:String(F),z=parseFloat(String(m||0))===0?M.createElement("span",{onClick:T,className:Et(`${B}-zero-width-trigger`,`${B}-zero-width-trigger-${h?"right":"left"}`),style:v},o||M.createElement(Ute,null)):null,Q={expanded:h?M.createElement(uA,null):M.createElement(Hx,null),collapsed:h?M.createElement(Hx,null):M.createElement(uA,null)}[E?"collapsed":"expanded"],X=o!==null?z||M.createElement("div",{className:`${B}-trigger`,onClick:T,style:{width:k}},o||Q):null,J=Object.assign(Object.assign({},c),{flex:`0 0 ${k}`,maxWidth:k,minWidth:k,width:k}),Z=Et(B,`${B}-${u}`,{[`${B}-collapsed`]:!!E,[`${B}-has-trigger`]:d&&o!==null&&!z,[`${B}-below`]:!!_,[`${B}-zero-width`]:parseFloat(k)===0},i);return M.createElement("aside",Object.assign({className:Z},O,{style:J,ref:e}),M.createElement("div",{className:`${B}-children`},s),d||_&&z?X:null)},V=M.useMemo(()=>({siderCollapsed:E}),[E]);return M.createElement(xL.Provider,{value:V},$())}),SH=zhe;var Hhe=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const $he=n=>{const{prefixCls:e,className:r,dashed:i}=n,o=Hhe(n,["prefixCls","className","dashed"]),{getPrefixCls:s}=M.useContext(_r),l=s("menu",e),u=Et({[`${l}-item-divider-dashed`]:!!i},r);return M.createElement(bL,Object.assign({className:u},o))},_H=$he,Ghe=M.createContext({prefixCls:"",firstLevel:!0,inlineCollapsed:!1}),nE=Ghe,jhe=n=>{var e;const{className:r,children:i,icon:o,title:s,danger:l}=n,{prefixCls:u,firstLevel:c,direction:d,disableMenuItemTitleTooltip:h,inlineCollapsed:p}=M.useContext(nE),m=w=>{const E=M.createElement("span",{className:`${u}-title-content`},i);return(!o||us(i)&&i.type==="span")&&i&&w&&c&&typeof i=="string"?M.createElement("div",{className:`${u}-inline-collapsed-noicon`},i.charAt(0)):E},{siderCollapsed:v}=M.useContext(xL);let y=s;typeof s>"u"?y=c?i:"":s===!1&&(y="");const A={title:y};!v&&!p&&(A.title=null,A.open=!1);const b=qa(i).length;let g=M.createElement(VA,Object.assign({},vo(n,["title","icon","danger"]),{className:Et({[`${u}-item-danger`]:l,[`${u}-item-only-child`]:(o?b+1:b)===1},r),title:typeof s=="string"?s:void 0}),ya(o,{className:Et(us(o)?(e=o.props)===null||e===void 0?void 0:e.className:"",`${u}-item-icon`)}),m(p));return h||(g=M.createElement(bh,Object.assign({},A,{placement:d==="rtl"?"left":"right",overlayClassName:`${u}-inline-collapsed-tooltip`}),g)),g},MH=jhe,Vhe=n=>{var e;const{popupClassName:r,icon:i,title:o,theme:s}=n,l=M.useContext(nE),{prefixCls:u,inlineCollapsed:c,theme:d}=l,h=Ag();let p;if(!i)p=c&&!h.length&&o&&typeof o=="string"?M.createElement("div",{className:`${u}-inline-collapsed-noicon`},o.charAt(0)):M.createElement("span",{className:`${u}-title-content`},o);else{const v=us(o)&&o.type==="span";p=M.createElement(M.Fragment,null,ya(i,{className:Et(us(i)?(e=i.props)===null||e===void 0?void 0:e.className:"",`${u}-item-icon`)}),v?o:M.createElement("span",{className:`${u}-title-content`},o))}const m=M.useMemo(()=>Object.assign(Object.assign({},l),{firstLevel:!1}),[l]);return M.createElement(nE.Provider,{value:m},M.createElement(wC,Object.assign({},vo(n,["icon"]),{title:p,popupClassName:Et(u,r,`${u}-${s||d}`)})))},TH=Vhe;var Whe=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};function p3(n){return(n||[]).map((e,r)=>{if(e&&typeof e=="object"){const i=e,{label:o,children:s,key:l,type:u}=i,c=Whe(i,["label","children","key","type"]),d=l??`tmp-${r}`;return s||u==="group"?u==="group"?M.createElement(SC,Object.assign({key:d},c,{title:o}),p3(s)):M.createElement(TH,Object.assign({key:d},c,{title:o}),p3(s)):u==="divider"?M.createElement(_H,Object.assign({key:d},c)):M.createElement(MH,Object.assign({key:d},c),o)}return null}).filter(e=>e)}function Qhe(n){return M.useMemo(()=>n&&p3(n),[n])}var Khe=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const m3=M.createContext(null),RH=M.forwardRef((n,e)=>{const{children:r}=n,i=Khe(n,["children"]),o=M.useContext(m3),s=M.useMemo(()=>Object.assign(Object.assign({},o),i),[o,i.prefixCls,i.mode,i.selectable]),l=Sie(r),u=Th(e,l?r.ref:null);return M.createElement(m3.Provider,{value:s},M.createElement(qx,null,l?M.cloneElement(r,{ref:u}):r))}),KN=m3,Xhe=n=>{const{componentCls:e,motionDurationSlow:r,horizontalLineHeight:i,colorSplit:o,lineWidth:s,lineType:l,itemPaddingInline:u}=n;return{[`${e}-horizontal`]:{lineHeight:i,border:0,borderBottom:`${s}px ${l} ${o}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${e}-item, ${e}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:u},[`> ${e}-item:hover,
        > ${e}-item-active,
        > ${e}-submenu ${e}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${e}-item, ${e}-submenu-title`]:{transition:[`border-color ${r}`,`background ${r}`].join(",")},[`${e}-submenu-arrow`]:{display:"none"}}}},qhe=Xhe,Yhe=n=>{let{componentCls:e,menuArrowOffset:r}=n;return{[`${e}-rtl`]:{direction:"rtl"},[`${e}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${e}-rtl${e}-vertical,
    ${e}-submenu-rtl ${e}-vertical`]:{[`${e}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(-${r})`},"&::after":{transform:`rotate(45deg) translateY(${r})`}}}}},Jhe=Yhe,XN=n=>Object.assign({},Iu(n)),Zhe=(n,e)=>{const{componentCls:r,itemColor:i,itemSelectedColor:o,groupTitleColor:s,itemBg:l,subMenuItemBg:u,itemSelectedBg:c,activeBarHeight:d,activeBarWidth:h,activeBarBorderWidth:p,motionDurationSlow:m,motionEaseInOut:v,motionEaseOut:y,itemPaddingInline:A,motionDurationMid:b,itemHoverColor:g,lineType:w,colorSplit:E,itemDisabledColor:C,dangerItemColor:_,dangerItemHoverColor:L,dangerItemSelectedColor:R,dangerItemActiveBg:P,dangerItemSelectedBg:T,itemHoverBg:D,itemActiveBg:$,menuSubMenuBg:V,horizontalItemSelectedColor:B,horizontalItemSelectedBg:O,horizontalItemBorderRadius:F,horizontalItemHoverBg:k,popupBg:z}=n;return{[`${r}-${e}, ${r}-${e} > ${r}`]:{color:i,background:l,[`&${r}-root:focus-visible`]:Object.assign({},XN(n)),[`${r}-item-group-title`]:{color:s},[`${r}-submenu-selected`]:{[`> ${r}-submenu-title`]:{color:o}},[`${r}-item-disabled, ${r}-submenu-disabled`]:{color:`${C} !important`},[`${r}-item:not(${r}-item-selected):not(${r}-submenu-selected)`]:{[`&:hover, > ${r}-submenu-title:hover`]:{color:g}},[`&:not(${r}-horizontal)`]:{[`${r}-item:not(${r}-item-selected)`]:{"&:hover":{backgroundColor:D},"&:active":{backgroundColor:$}},[`${r}-submenu-title`]:{"&:hover":{backgroundColor:D},"&:active":{backgroundColor:$}}},[`${r}-item-danger`]:{color:_,[`&${r}-item:hover`]:{[`&:not(${r}-item-selected):not(${r}-submenu-selected)`]:{color:L}},[`&${r}-item:active`]:{background:P}},[`${r}-item a`]:{"&, &:hover":{color:"inherit"}},[`${r}-item-selected`]:{color:o,[`&${r}-item-danger`]:{color:R},"a, a:hover":{color:"inherit"}},[`& ${r}-item-selected`]:{backgroundColor:c,[`&${r}-item-danger`]:{backgroundColor:T}},[`${r}-item, ${r}-submenu-title`]:{[`&:not(${r}-item-disabled):focus-visible`]:Object.assign({},XN(n))},[`&${r}-submenu > ${r}`]:{backgroundColor:V},[`&${r}-popup > ${r}`]:{backgroundColor:z},[`&${r}-horizontal`]:Object.assign(Object.assign({},e==="dark"?{borderBottom:0}:{}),{[`> ${r}-item, > ${r}-submenu`]:{top:p,marginTop:-p,marginBottom:0,borderRadius:F,"&::after":{position:"absolute",insetInline:A,bottom:0,borderBottom:`${d}px solid transparent`,transition:`border-color ${m} ${v}`,content:'""'},"&:hover, &-active, &-open":{background:k,"&::after":{borderBottomWidth:d,borderBottomColor:B}},"&-selected":{color:B,backgroundColor:O,"&:hover":{backgroundColor:O},"&::after":{borderBottomWidth:d,borderBottomColor:B}}}}),[`&${r}-root`]:{[`&${r}-inline, &${r}-vertical`]:{borderInlineEnd:`${p}px ${w} ${E}`}},[`&${r}-inline`]:{[`${r}-sub${r}-inline`]:{background:u},[`${r}-item, ${r}-submenu-title`]:p&&h?{width:`calc(100% + ${p}px)`}:{},[`${r}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${h}px solid ${o}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${b} ${y}`,`opacity ${b} ${y}`].join(","),content:'""'},[`&${r}-item-danger`]:{"&::after":{borderInlineEndColor:R}}},[`${r}-selected, ${r}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${b} ${v}`,`opacity ${b} ${v}`].join(",")}}}}}},qN=Zhe,YN=n=>{const{componentCls:e,itemHeight:r,itemMarginInline:i,padding:o,menuArrowSize:s,marginXS:l,itemMarginBlock:u}=n,c=o+s+l;return{[`${e}-item`]:{position:"relative",overflow:"hidden"},[`${e}-item, ${e}-submenu-title`]:{height:r,lineHeight:`${r}px`,paddingInline:o,overflow:"hidden",textOverflow:"ellipsis",marginInline:i,marginBlock:u,width:`calc(100% - ${i*2}px)`},[`> ${e}-item,
            > ${e}-submenu > ${e}-submenu-title`]:{height:r,lineHeight:`${r}px`},[`${e}-item-group-list ${e}-submenu-title,
            ${e}-submenu-title`]:{paddingInlineEnd:c}}},epe=n=>{const{componentCls:e,iconCls:r,itemHeight:i,colorTextLightSolid:o,dropdownWidth:s,controlHeightLG:l,motionDurationMid:u,motionEaseOut:c,paddingXL:d,itemMarginInline:h,fontSizeLG:p,motionDurationSlow:m,paddingXS:v,boxShadowSecondary:y,collapsedWidth:A,collapsedIconSize:b}=n,g={height:i,lineHeight:`${i}px`,listStylePosition:"inside",listStyleType:"disc"};return[{[e]:{"&-inline, &-vertical":Object.assign({[`&${e}-root`]:{boxShadow:"none"}},YN(n))},[`${e}-submenu-popup`]:{[`${e}-vertical`]:Object.assign(Object.assign({},YN(n)),{boxShadow:y})}},{[`${e}-submenu-popup ${e}-vertical${e}-sub`]:{minWidth:s,maxHeight:`calc(100vh - ${l*2.5}px)`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${e}-inline`]:{width:"100%",[`&${e}-root`]:{[`${e}-item, ${e}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${m}`,`background ${m}`,`padding ${u} ${c}`].join(","),[`> ${e}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${e}-sub${e}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${e}-submenu > ${e}-submenu-title`]:g,[`& ${e}-item-group-title`]:{paddingInlineStart:d}},[`${e}-item`]:g}},{[`${e}-inline-collapsed`]:{width:A,[`&${e}-root`]:{[`${e}-item, ${e}-submenu ${e}-submenu-title`]:{[`> ${e}-inline-collapsed-noicon`]:{fontSize:p,textAlign:"center"}}},[`> ${e}-item,
          > ${e}-item-group > ${e}-item-group-list > ${e}-item,
          > ${e}-item-group > ${e}-item-group-list > ${e}-submenu > ${e}-submenu-title,
          > ${e}-submenu > ${e}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${p/2}px - ${h}px)`,textOverflow:"clip",[`
            ${e}-submenu-arrow,
            ${e}-submenu-expand-icon
          `]:{opacity:0},[`${e}-item-icon, ${r}`]:{margin:0,fontSize:b,lineHeight:`${i}px`,"+ span":{display:"inline-block",opacity:0}}},[`${e}-item-icon, ${r}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${e}-item-icon, ${r}`]:{display:"none"},"a, a:hover":{color:o}},[`${e}-item-group-title`]:Object.assign(Object.assign({},xc),{paddingInline:v})}}]},tpe=epe,JN=n=>{const{componentCls:e,motionDurationSlow:r,motionDurationMid:i,motionEaseInOut:o,motionEaseOut:s,iconCls:l,iconSize:u,iconMarginInlineEnd:c}=n;return{[`${e}-item, ${e}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${r}`,`background ${r}`,`padding ${r} ${o}`].join(","),[`${e}-item-icon, ${l}`]:{minWidth:u,fontSize:u,transition:[`font-size ${i} ${s}`,`margin ${r} ${o}`,`color ${r}`].join(","),"+ span":{marginInlineStart:c,opacity:1,transition:[`opacity ${r} ${o}`,`margin ${r}`,`color ${r}`].join(",")}},[`${e}-item-icon`]:Object.assign({},dC()),[`&${e}-item-only-child`]:{[`> ${l}, > ${e}-item-icon`]:{marginInlineEnd:0}}},[`${e}-item-disabled, ${e}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important"},[`> ${e}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},ZN=n=>{const{componentCls:e,motionDurationSlow:r,motionEaseInOut:i,borderRadius:o,menuArrowSize:s,menuArrowOffset:l}=n;return{[`${e}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:n.margin,width:s,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${r} ${i}, opacity ${r}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:s*.6,height:s*.15,backgroundColor:"currentcolor",borderRadius:o,transition:[`background ${r} ${i}`,`transform ${r} ${i}`,`top ${r} ${i}`,`color ${r} ${i}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(-${l})`},"&::after":{transform:`rotate(-45deg) translateY(${l})`}}}}},npe=n=>{const{antCls:e,componentCls:r,fontSize:i,motionDurationSlow:o,motionDurationMid:s,motionEaseInOut:l,paddingXS:u,padding:c,colorSplit:d,lineWidth:h,zIndexPopup:p,borderRadiusLG:m,subMenuItemBorderRadius:v,menuArrowSize:y,menuArrowOffset:A,lineType:b,menuPanelMaskInset:g,groupTitleLineHeight:w,groupTitleFontSize:E}=n;return[{"":{[`${r}`]:Object.assign(Object.assign({},Ec()),{"&-hidden":{display:"none"}})},[`${r}-submenu-hidden`]:{display:"none"}},{[r]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ji(n)),Ec()),{marginBottom:0,paddingInlineStart:0,fontSize:i,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${o} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${r}-item`]:{flex:"none"}},[`${r}-item, ${r}-submenu, ${r}-submenu-title`]:{borderRadius:n.itemBorderRadius},[`${r}-item-group-title`]:{padding:`${u}px ${c}px`,fontSize:E,lineHeight:w,transition:`all ${o}`},[`&-horizontal ${r}-submenu`]:{transition:[`border-color ${o} ${l}`,`background ${o} ${l}`].join(",")},[`${r}-submenu, ${r}-submenu-inline`]:{transition:[`border-color ${o} ${l}`,`background ${o} ${l}`,`padding ${s} ${l}`].join(",")},[`${r}-submenu ${r}-sub`]:{cursor:"initial",transition:[`background ${o} ${l}`,`padding ${o} ${l}`].join(",")},[`${r}-title-content`]:{transition:`color ${o}`,[`> ${e}-typography-ellipsis-single-line`]:{display:"inline",verticalAlign:"unset"}},[`${r}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${r}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:d,borderStyle:b,borderWidth:0,borderTopWidth:h,marginBlock:h,padding:0,"&-dashed":{borderStyle:"dashed"}}}),JN(n)),{[`${r}-item-group`]:{[`${r}-item-group-list`]:{margin:0,padding:0,[`${r}-item, ${r}-submenu-title`]:{paddingInline:`${i*2}px ${c}px`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:p,borderRadius:m,boxShadow:"none",transformOrigin:"0 0",[`&${r}-submenu`]:{background:"transparent"},"&::before":{position:"absolute",inset:`${g}px 0 0`,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'}},"&-placement-rightTop::before":{top:0,insetInlineStart:g},"\n          &-placement-leftTop,\n          &-placement-bottomRight,\n          ":{transformOrigin:"100% 0"},"\n          &-placement-leftBottom,\n          &-placement-topRight,\n          ":{transformOrigin:"100% 100%"},"\n          &-placement-rightBottom,\n          &-placement-topLeft,\n          ":{transformOrigin:"0 100%"},"\n          &-placement-bottomLeft,\n          &-placement-rightTop,\n          ":{transformOrigin:"0 0"},"\n          &-placement-leftTop,\n          &-placement-leftBottom\n          ":{paddingInlineEnd:n.paddingXS},"\n          &-placement-rightTop,\n          &-placement-rightBottom\n          ":{paddingInlineStart:n.paddingXS},"\n          &-placement-topRight,\n          &-placement-topLeft\n          ":{paddingBottom:n.paddingXS},"\n          &-placement-bottomRight,\n          &-placement-bottomLeft\n          ":{paddingTop:n.paddingXS},[`> ${r}`]:Object.assign(Object.assign(Object.assign({borderRadius:m},JN(n)),ZN(n)),{[`${r}-item, ${r}-submenu > ${r}-submenu-title`]:{borderRadius:v},[`${r}-submenu-title::after`]:{transition:`transform ${o} ${l}`}})}}),ZN(n)),{[`&-inline-collapsed ${r}-submenu-arrow,
        &-inline ${r}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${A})`},"&::after":{transform:`rotate(45deg) translateX(-${A})`}},[`${r}-submenu-open${r}-submenu-inline > ${r}-submenu-title > ${r}-submenu-arrow`]:{transform:`translateY(-${y*.2}px)`,"&::after":{transform:`rotate(-45deg) translateX(-${A})`},"&::before":{transform:`rotate(45deg) translateX(${A})`}}})},{[`${e}-layout-header`]:{[r]:{lineHeight:"inherit"}}}]},rpe=(n,e)=>zi("Menu",i=>{if(e===!1)return[];const{colorBgElevated:o,colorPrimary:s,colorTextLightSolid:l,controlHeightLG:u,fontSize:c,darkItemColor:d,darkDangerItemColor:h,darkItemBg:p,darkSubMenuItemBg:m,darkItemSelectedColor:v,darkItemSelectedBg:y,darkDangerItemSelectedBg:A,darkItemHoverBg:b,darkGroupTitleColor:g,darkItemHoverColor:w,darkItemDisabledColor:E,darkDangerItemHoverColor:C,darkDangerItemSelectedColor:_,darkDangerItemActiveBg:L}=i,R=c/7*5,P=ti(i,{menuArrowSize:R,menuHorizontalHeight:u*1.15,menuArrowOffset:`${R*.25}px`,menuPanelMaskInset:-7,menuSubMenuBg:o}),T=ti(P,{itemColor:d,itemHoverColor:w,groupTitleColor:g,itemSelectedColor:v,itemBg:p,popupBg:p,subMenuItemBg:m,itemActiveBg:"transparent",itemSelectedBg:y,activeBarHeight:0,activeBarBorderWidth:0,itemHoverBg:b,itemDisabledColor:E,dangerItemColor:h,dangerItemHoverColor:C,dangerItemSelectedColor:_,dangerItemActiveBg:L,dangerItemSelectedBg:A,menuSubMenuBg:m,horizontalItemSelectedColor:l,horizontalItemSelectedBg:s});return[npe(P),qhe(P),tpe(P),qN(P,"light"),qN(T,"dark"),Jhe(P),aL(P),Wd(P,"slide-up"),Wd(P,"slide-down"),oL(P,"zoom-big")]},i=>{const{colorPrimary:o,colorError:s,colorTextDisabled:l,colorErrorBg:u,colorText:c,colorTextDescription:d,colorBgContainer:h,colorFillAlter:p,colorFillContent:m,lineWidth:v,lineWidthBold:y,controlItemBgActive:A,colorBgTextHover:b,controlHeightLG:g,lineHeight:w,colorBgElevated:E,marginXXS:C,padding:_,fontSize:L,controlHeightSM:R,fontSizeLG:P,colorTextLightSolid:T,colorErrorHover:D}=i,$=new Ki(T).setAlpha(.65).toRgbString();return{dropdownWidth:160,zIndexPopup:i.zIndexPopupBase+50,radiusItem:i.borderRadiusLG,itemBorderRadius:i.borderRadiusLG,radiusSubMenuItem:i.borderRadiusSM,subMenuItemBorderRadius:i.borderRadiusSM,colorItemText:c,itemColor:c,colorItemTextHover:c,itemHoverColor:c,colorItemTextHoverHorizontal:o,horizontalItemHoverColor:o,colorGroupTitle:d,groupTitleColor:d,colorItemTextSelected:o,itemSelectedColor:o,colorItemTextSelectedHorizontal:o,horizontalItemSelectedColor:o,colorItemBg:h,itemBg:h,colorItemBgHover:b,itemHoverBg:b,colorItemBgActive:m,itemActiveBg:A,colorSubItemBg:p,subMenuItemBg:p,colorItemBgSelected:A,itemSelectedBg:A,colorItemBgSelectedHorizontal:"transparent",horizontalItemSelectedBg:"transparent",colorActiveBarWidth:0,activeBarWidth:0,colorActiveBarHeight:y,activeBarHeight:y,colorActiveBarBorderSize:v,activeBarBorderWidth:v,colorItemTextDisabled:l,itemDisabledColor:l,colorDangerItemText:s,dangerItemColor:s,colorDangerItemTextHover:s,dangerItemHoverColor:s,colorDangerItemTextSelected:s,dangerItemSelectedColor:s,colorDangerItemBgActive:u,dangerItemActiveBg:u,colorDangerItemBgSelected:u,dangerItemSelectedBg:u,itemMarginInline:i.marginXXS,horizontalItemBorderRadius:0,horizontalItemHoverBg:"transparent",itemHeight:g,groupTitleLineHeight:w,collapsedWidth:g*2,popupBg:E,itemMarginBlock:C,itemPaddingInline:_,horizontalLineHeight:`${g*1.15}px`,iconSize:L,iconMarginInlineEnd:R-L,collapsedIconSize:P,groupTitleFontSize:L,darkItemDisabledColor:new Ki(T).setAlpha(.25).toRgbString(),darkItemColor:$,darkDangerItemColor:s,darkItemBg:"#001529",darkSubMenuItemBg:"#000c17",darkItemSelectedColor:T,darkItemSelectedBg:o,darkDangerItemSelectedBg:s,darkItemHoverBg:"transparent",darkGroupTitleColor:$,darkItemHoverColor:T,darkDangerItemHoverColor:D,darkDangerItemSelectedColor:T,darkDangerItemActiveBg:s}},{deprecatedTokens:[["colorGroupTitle","groupTitleColor"],["radiusItem","itemBorderRadius"],["radiusSubMenuItem","subMenuItemBorderRadius"],["colorItemText","itemColor"],["colorItemTextHover","itemHoverColor"],["colorItemTextHoverHorizontal","horizontalItemHoverColor"],["colorItemTextSelected","itemSelectedColor"],["colorItemTextSelectedHorizontal","horizontalItemSelectedColor"],["colorItemTextDisabled","itemDisabledColor"],["colorDangerItemText","dangerItemColor"],["colorDangerItemTextHover","dangerItemHoverColor"],["colorDangerItemTextSelected","dangerItemSelectedColor"],["colorDangerItemBgActive","dangerItemActiveBg"],["colorDangerItemBgSelected","dangerItemSelectedBg"],["colorItemBg","itemBg"],["colorItemBgHover","itemHoverBg"],["colorSubItemBg","subMenuItemBg"],["colorItemBgActive","itemActiveBg"],["colorItemBgSelectedHorizontal","horizontalItemSelectedBg"],["colorActiveBarWidth","activeBarWidth"],["colorActiveBarHeight","activeBarHeight"],["colorActiveBarBorderSize","activeBarBorderWidth"],["colorItemBgSelected","itemSelectedBg"]]})(n);var ipe=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const ope=M.forwardRef((n,e)=>{var r,i;const o=M.useContext(KN),s=o||{},{getPrefixCls:l,getPopupContainer:u,direction:c,menu:d}=M.useContext(_r),h=l(),{prefixCls:p,className:m,style:v,theme:y="light",expandIcon:A,_internalDisableMenuItemTitleTooltip:b,inlineCollapsed:g,siderCollapsed:w,items:E,children:C,rootClassName:_,mode:L,selectable:R,onClick:P,overflowedIndicatorPopupClassName:T}=n,D=ipe(n,["prefixCls","className","style","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","items","children","rootClassName","mode","selectable","onClick","overflowedIndicatorPopupClassName"]),$=vo(D,["collapsedWidth"]),V=Qhe(E)||C;(r=s.validator)===null||r===void 0||r.call(s,{mode:L});const B=jo(function(){var oe;P==null||P.apply(void 0,arguments),(oe=s.onClick)===null||oe===void 0||oe.call(s)}),O=s.mode||L,F=R??s.selectable,k=M.useMemo(()=>w!==void 0?w:g,[g,w]),z={horizontal:{motionName:`${h}-slide-up`},inline:XI(h),other:{motionName:`${h}-zoom-big`}},G=l("menu",p||s.prefixCls),[j,Q]=rpe(G,!o),X=Et(`${G}-${y}`,d==null?void 0:d.className,m);let J;if(typeof A=="function")J=A;else if(A===null||A===!1)J=null;else if(s.expandIcon===null||s.expandIcon===!1)J=null;else{const oe=A??s.expandIcon;J=ya(oe,{className:Et(`${G}-submenu-expand-icon`,us(oe)?(i=oe.props)===null||i===void 0?void 0:i.className:"")})}const Z=M.useMemo(()=>({prefixCls:G,inlineCollapsed:k||!1,direction:c,firstLevel:!0,theme:y,mode:O,disableMenuItemTitleTooltip:b}),[G,k,c,b,y]);return j(M.createElement(KN.Provider,{value:null},M.createElement(nE.Provider,{value:Z},M.createElement(yg,Object.assign({getPopupContainer:u,overflowedIndicator:M.createElement(RI,null),overflowedIndicatorPopupClassName:Et(G,`${G}-${y}`,T),mode:O,selectable:F,onClick:B},$,{inlineCollapsed:k,style:Object.assign(Object.assign({},d==null?void 0:d.style),v),className:X,prefixCls:G,direction:c,defaultMotions:z,expandIcon:J,ref:e,rootClassName:Et(_,Q)}),V))))}),ape=ope,WA=M.forwardRef((n,e)=>{const r=M.useRef(null),i=M.useContext(xL);return M.useImperativeHandle(e,()=>({menu:r.current,focus:o=>{var s;(s=r.current)===null||s===void 0||s.focus(o)}})),M.createElement(ape,Object.assign({ref:r},n,i))});WA.Item=MH;WA.SubMenu=TH;WA.Divider=_H;WA.ItemGroup=SC;const EL=WA,spe=n=>{const{componentCls:e,menuCls:r,colorError:i,colorTextLightSolid:o}=n,s=`${r}-item`;return{[`${e}, ${e}-menu-submenu`]:{[`${r} ${s}`]:{[`&${s}-danger:not(${s}-disabled)`]:{color:i,"&:hover":{color:o,backgroundColor:i}}}}}},lpe=spe,cpe=n=>{const{componentCls:e,menuCls:r,zIndexPopup:i,dropdownArrowDistance:o,sizePopupArrow:s,antCls:l,iconCls:u,motionDurationMid:c,dropdownPaddingVertical:d,fontSize:h,dropdownEdgeChildPadding:p,colorTextDisabled:m,fontSizeIcon:v,controlPaddingHorizontal:y,colorBgElevated:A}=n;return[{[e]:Object.assign(Object.assign({},ji(n)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:i,display:"block","&::before":{position:"absolute",insetBlock:-o+s/2,zIndex:-9999,opacity:1e-4,content:'""'},[`&-trigger${l}-btn`]:{[`& > ${u}-down, & > ${l}-btn-icon > ${u}-down`]:{fontSize:v}},[`${e}-wrap`]:{position:"relative",[`${l}-btn > ${u}-down`]:{fontSize:v},[`${u}-down::before`]:{transition:`transform ${c}`}},[`${e}-wrap-open`]:{[`${u}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`&${l}-slide-down-enter${l}-slide-down-enter-active${e}-placement-bottomLeft,
          &${l}-slide-down-appear${l}-slide-down-appear-active${e}-placement-bottomLeft,
          &${l}-slide-down-enter${l}-slide-down-enter-active${e}-placement-bottom,
          &${l}-slide-down-appear${l}-slide-down-appear-active${e}-placement-bottom,
          &${l}-slide-down-enter${l}-slide-down-enter-active${e}-placement-bottomRight,
          &${l}-slide-down-appear${l}-slide-down-appear-active${e}-placement-bottomRight`]:{animationName:tL},[`&${l}-slide-up-enter${l}-slide-up-enter-active${e}-placement-topLeft,
          &${l}-slide-up-appear${l}-slide-up-appear-active${e}-placement-topLeft,
          &${l}-slide-up-enter${l}-slide-up-enter-active${e}-placement-top,
          &${l}-slide-up-appear${l}-slide-up-appear-active${e}-placement-top,
          &${l}-slide-up-enter${l}-slide-up-enter-active${e}-placement-topRight,
          &${l}-slide-up-appear${l}-slide-up-appear-active${e}-placement-topRight`]:{animationName:rL},[`&${l}-slide-down-leave${l}-slide-down-leave-active${e}-placement-bottomLeft,
          &${l}-slide-down-leave${l}-slide-down-leave-active${e}-placement-bottom,
          &${l}-slide-down-leave${l}-slide-down-leave-active${e}-placement-bottomRight`]:{animationName:nL},[`&${l}-slide-up-leave${l}-slide-up-leave-active${e}-placement-topLeft,
          &${l}-slide-up-leave${l}-slide-up-leave-active${e}-placement-top,
          &${l}-slide-up-leave${l}-slide-up-leave-active${e}-placement-topRight`]:{animationName:iL}})},aH(n,{colorBg:A,limitVerticalRadius:!0,arrowPlacement:{top:!0,bottom:!0}}),{[`${e} ${r}`]:{position:"relative",margin:0},[`${r}-submenu-popup`]:{position:"absolute",zIndex:i,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}},[`${e}, ${e}-menu-submenu`]:{[r]:Object.assign(Object.assign({padding:p,listStyleType:"none",backgroundColor:A,backgroundClip:"padding-box",borderRadius:n.borderRadiusLG,outline:"none",boxShadow:n.boxShadowSecondary},Jm(n)),{[`${r}-item-group-title`]:{padding:`${d}px ${y}px`,color:n.colorTextDescription,transition:`all ${c}`},[`${r}-item`]:{position:"relative",display:"flex",alignItems:"center"},[`${r}-item-icon`]:{minWidth:h,marginInlineEnd:n.marginXS,fontSize:n.fontSizeSM},[`${r}-title-content`]:{flex:"auto","> a":{color:"inherit",transition:`all ${c}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}}},[`${r}-item, ${r}-submenu-title`]:Object.assign(Object.assign({clear:"both",margin:0,padding:`${d}px ${y}px`,color:n.colorText,fontWeight:"normal",fontSize:h,lineHeight:n.lineHeight,cursor:"pointer",transition:`all ${c}`,borderRadius:n.borderRadiusSM,"&:hover, &-active":{backgroundColor:n.controlItemBgHover}},Jm(n)),{"&-selected":{color:n.colorPrimary,backgroundColor:n.controlItemBgActive,"&:hover, &-active":{backgroundColor:n.controlItemBgActiveHover}},"&-disabled":{color:m,cursor:"not-allowed","&:hover":{color:m,backgroundColor:A,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${n.marginXXS}px 0`,overflow:"hidden",lineHeight:0,backgroundColor:n.colorSplit},[`${e}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:n.paddingXS,[`${e}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:n.colorTextDescription,fontSize:v,fontStyle:"normal"}}}),[`${r}-item-group-list`]:{margin:`0 ${n.marginXS}px`,padding:0,listStyle:"none"},[`${r}-submenu-title`]:{paddingInlineEnd:y+n.fontSizeSM},[`${r}-submenu-vertical`]:{position:"relative"},[`${r}-submenu${r}-submenu-disabled ${e}-menu-submenu-title`]:{[`&, ${e}-menu-submenu-arrow-icon`]:{color:m,backgroundColor:A,cursor:"not-allowed"}},[`${r}-submenu-selected ${e}-menu-submenu-title`]:{color:n.colorPrimary}})}},[Wd(n,"slide-up"),Wd(n,"slide-down"),Zx(n,"move-up"),Zx(n,"move-down"),oL(n,"zoom-big")]]},IH=zi("Dropdown",(n,e)=>{let{rootPrefixCls:r}=e;const{marginXXS:i,sizePopupArrow:o,controlHeight:s,fontSize:l,lineHeight:u,paddingXXS:c,componentCls:d,borderRadiusLG:h}=n,p=(s-l*u)/2,{dropdownArrowOffset:m}=pL({contentRadius:h}),v=ti(n,{menuCls:`${d}-menu`,rootPrefixCls:r,dropdownArrowDistance:o/2+i,dropdownArrowOffset:m,dropdownPaddingVertical:p,dropdownEdgeChildPadding:c});return[cpe(v),lpe(v)]},n=>({zIndexPopup:n.zIndexPopupBase+50})),CL=n=>{const{menu:e,arrow:r,prefixCls:i,children:o,trigger:s,disabled:l,dropdownRender:u,getPopupContainer:c,overlayClassName:d,rootClassName:h,open:p,onOpenChange:m,visible:v,onVisibleChange:y,mouseEnterDelay:A=.15,mouseLeaveDelay:b=.1,autoAdjustOverflow:g=!0,placement:w="",overlay:E,transitionName:C}=n,{getPopupContainer:_,getPrefixCls:L,direction:R}=M.useContext(_r);gg();const P=M.useMemo(()=>{const ue=L();return C!==void 0?C:w.includes("top")?`${ue}-slide-down`:`${ue}-slide-up`},[L,w,C]),T=M.useMemo(()=>w?w.includes("Center")?w.slice(0,w.indexOf("Center")):w:R==="rtl"?"bottomRight":"bottomLeft",[w,R]),D=L("dropdown",i),[$,V]=IH(D),[,B]=fl(),O=M.Children.only(o),F=ya(O,{className:Et(`${D}-trigger`,{[`${D}-rtl`]:R==="rtl"},O.props.className),disabled:l}),k=l?[]:s;let z;k&&k.includes("contextMenu")&&(z=!0);const[G,j]=Fo(!1,{value:p??v}),Q=jo(ue=>{m==null||m(ue),y==null||y(ue),j(ue)}),X=Et(d,h,V,{[`${D}-rtl`]:R==="rtl"}),J=sH({arrowPointAtCenter:typeof r=="object"&&r.pointAtCenter,autoAdjustOverflow:g,offset:B.marginXXS,arrowWidth:r?B.sizePopupArrow:0,borderRadius:B.borderRadius}),Z=M.useCallback(()=>{e!=null&&e.selectable&&(e!=null&&e.multiple)||j(!1)},[e==null?void 0:e.selectable,e==null?void 0:e.multiple]),oe=()=>{let ue;return e!=null&&e.items?ue=M.createElement(EL,Object.assign({},e)):typeof E=="function"?ue=E():ue=E,u&&(ue=u(ue)),ue=M.Children.only(typeof ue=="string"?M.createElement("span",null,ue):ue),M.createElement(RH,{prefixCls:`${D}-menu`,expandIcon:M.createElement("span",{className:`${D}-menu-submenu-arrow`},M.createElement(uA,{className:`${D}-menu-submenu-arrow-icon`})),mode:"vertical",selectable:!1,onClick:Z,validator:Be=>{}},ue)};return $(M.createElement(fH,Object.assign({alignPoint:z},vo(n,["rootClassName"]),{mouseEnterDelay:A,mouseLeaveDelay:b,visible:G,builtinPlacements:J,arrow:!!r,overlayClassName:X,prefixCls:D,getPopupContainer:c||_,transitionName:P,trigger:k,overlay:oe,placement:T,onVisibleChange:Q}),F))};function upe(n){return Object.assign(Object.assign({},n),{align:{overflow:{adjustX:!1,adjustY:!1}}})}const dpe=D9(CL,"dropdown",n=>n,upe),fpe=n=>M.createElement(dpe,Object.assign({},n),M.createElement("span",null));CL._InternalPanelDoNotUseOrYouWillBeFired=fpe;const LH=CL,PH=M.createContext(null),hpe=PH.Provider,BH=M.createContext(null),ppe=BH.Provider;var mpe=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],OH=M.forwardRef(function(n,e){var r,i=n.prefixCls,o=i===void 0?"rc-checkbox":i,s=n.className,l=n.style,u=n.checked,c=n.disabled,d=n.defaultChecked,h=d===void 0?!1:d,p=n.type,m=p===void 0?"checkbox":p,v=n.title,y=n.onChange,A=Pr(n,mpe),b=M.useRef(null),g=Fo(h,{value:u}),w=Nt(g,2),E=w[0],C=w[1];M.useImperativeHandle(e,function(){return{focus:function(){var P;(P=b.current)===null||P===void 0||P.focus()},blur:function(){var P;(P=b.current)===null||P===void 0||P.blur()},input:b.current}});var _=Et(o,s,(r={},ct(r,"".concat(o,"-checked"),E),ct(r,"".concat(o,"-disabled"),c),r)),L=function(P){c||("checked"in n||C(P.target.checked),y==null||y({target:mt(mt({},n),{},{type:m,checked:P.target.checked}),stopPropagation:function(){P.stopPropagation()},preventDefault:function(){P.preventDefault()},nativeEvent:P.nativeEvent}))};return M.createElement("span",{className:_,title:v,style:l},M.createElement("input",on({},A,{className:"".concat(o,"-input"),ref:b,onChange:L,disabled:c,checked:!!E,type:m})),M.createElement("span",{className:"".concat(o,"-inner")}))});const gpe=n=>{const{componentCls:e,antCls:r}=n,i=`${e}-group`;return{[i]:Object.assign(Object.assign({},ji(n)),{display:"inline-block",fontSize:0,[`&${i}-rtl`]:{direction:"rtl"},[`${r}-badge ${r}-badge-count`]:{zIndex:1},[`> ${r}-badge:not(:first-child) > ${r}-button-wrapper`]:{borderInlineStart:"none"}})}},vpe=n=>{const{componentCls:e,wrapperMarginInlineEnd:r,colorPrimary:i,radioSize:o,motionDurationSlow:s,motionDurationMid:l,motionEaseInOutCirc:u,colorBgContainer:c,colorBorder:d,lineWidth:h,dotSize:p,colorBgContainerDisabled:m,colorTextDisabled:v,paddingXS:y,dotColorDisabled:A,lineType:b,radioDotDisabledSize:g,wireframe:w,colorWhite:E}=n,C=`${e}-inner`;return{[`${e}-wrapper`]:Object.assign(Object.assign({},ji(n)),{display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:r,cursor:"pointer",[`&${e}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:n.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},[`${e}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${h}px ${b} ${i}`,borderRadius:"50%",visibility:"hidden",content:'""'},[e]:Object.assign(Object.assign({},ji(n)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center",borderRadius:"50%"}),[`${e}-wrapper:hover &,
        &:hover ${C}`]:{borderColor:i},[`${e}-input:focus-visible + ${C}`]:Object.assign({},Iu(n)),[`${e}:hover::after, ${e}-wrapper:hover &::after`]:{visibility:"visible"},[`${e}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:o,height:o,marginBlockStart:o/-2,marginInlineStart:o/-2,backgroundColor:w?i:E,borderBlockStart:0,borderInlineStart:0,borderRadius:o,transform:"scale(0)",opacity:0,transition:`all ${s} ${u}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:o,height:o,backgroundColor:c,borderColor:d,borderStyle:"solid",borderWidth:h,borderRadius:"50%",transition:`all ${l}`},[`${e}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0},[`${e}-checked`]:{[C]:{borderColor:i,backgroundColor:w?c:i,"&::after":{transform:`scale(${p/o})`,opacity:1,transition:`all ${s} ${u}`}}},[`${e}-disabled`]:{cursor:"not-allowed",[C]:{backgroundColor:m,borderColor:d,cursor:"not-allowed","&::after":{backgroundColor:A}},[`${e}-input`]:{cursor:"not-allowed"},[`${e}-disabled + span`]:{color:v,cursor:"not-allowed"},[`&${e}-checked`]:{[C]:{"&::after":{transform:`scale(${g/o})`}}}},[`span${e} + *`]:{paddingInlineStart:y,paddingInlineEnd:y}})}},Ape=n=>{const{buttonColor:e,controlHeight:r,componentCls:i,lineWidth:o,lineType:s,colorBorder:l,motionDurationSlow:u,motionDurationMid:c,buttonPaddingInline:d,fontSize:h,buttonBg:p,fontSizeLG:m,controlHeightLG:v,controlHeightSM:y,paddingXS:A,borderRadius:b,borderRadiusSM:g,borderRadiusLG:w,buttonCheckedBg:E,buttonSolidCheckedColor:C,colorTextDisabled:_,colorBgContainerDisabled:L,buttonCheckedBgDisabled:R,buttonCheckedColorDisabled:P,colorPrimary:T,colorPrimaryHover:D,colorPrimaryActive:$,buttonSolidCheckedBg:V,buttonSolidCheckedHoverBg:B,buttonSolidCheckedActiveBg:O}=n;return{[`${i}-button-wrapper`]:{position:"relative",display:"inline-block",height:r,margin:0,paddingInline:d,paddingBlock:0,color:e,fontSize:h,lineHeight:`${r-o*2}px`,background:p,border:`${o}px ${s} ${l}`,borderBlockStartWidth:o+.02,borderInlineStartWidth:0,borderInlineEndWidth:o,cursor:"pointer",transition:[`color ${c}`,`background ${c}`,`box-shadow ${c}`].join(","),a:{color:e},[`> ${i}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:first-child)":{"&::before":{position:"absolute",insetBlockStart:-o,insetInlineStart:-o,display:"block",boxSizing:"content-box",width:1,height:"100%",paddingBlock:o,paddingInline:0,backgroundColor:l,transition:`background-color ${u}`,content:'""'}},"&:first-child":{borderInlineStart:`${o}px ${s} ${l}`,borderStartStartRadius:b,borderEndStartRadius:b},"&:last-child":{borderStartEndRadius:b,borderEndEndRadius:b},"&:first-child:last-child":{borderRadius:b},[`${i}-group-large &`]:{height:v,fontSize:m,lineHeight:`${v-o*2}px`,"&:first-child":{borderStartStartRadius:w,borderEndStartRadius:w},"&:last-child":{borderStartEndRadius:w,borderEndEndRadius:w}},[`${i}-group-small &`]:{height:y,paddingInline:A-o,paddingBlock:0,lineHeight:`${y-o*2}px`,"&:first-child":{borderStartStartRadius:g,borderEndStartRadius:g},"&:last-child":{borderStartEndRadius:g,borderEndEndRadius:g}},"&:hover":{position:"relative",color:T},"&:has(:focus-visible)":Object.assign({},Iu(n)),[`${i}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${i}-button-wrapper-disabled)`]:{zIndex:1,color:T,background:E,borderColor:T,"&::before":{backgroundColor:T},"&:first-child":{borderColor:T},"&:hover":{color:D,borderColor:D,"&::before":{backgroundColor:D}},"&:active":{color:$,borderColor:$,"&::before":{backgroundColor:$}}},[`${i}-group-solid &-checked:not(${i}-button-wrapper-disabled)`]:{color:C,background:V,borderColor:V,"&:hover":{color:C,background:B,borderColor:B},"&:active":{color:C,background:O,borderColor:O}},"&-disabled":{color:_,backgroundColor:L,borderColor:l,cursor:"not-allowed","&:first-child, &:hover":{color:_,backgroundColor:L,borderColor:l}},[`&-disabled${i}-button-wrapper-checked`]:{color:P,backgroundColor:R,borderColor:l,boxShadow:"none"}}}},ek=n=>n-4*2,DH=zi("Radio",n=>{const{controlOutline:e,controlOutlineWidth:r,radioSize:i}=n,o=`0 0 0 ${r}px ${e}`,s=o,l=ek(i),u=ti(n,{radioDotDisabledSize:l,radioFocusShadow:o,radioButtonFocusShadow:s});return[gpe(u),vpe(u),Ape(u)]},n=>{const{wireframe:e,padding:r,marginXS:i,lineWidth:o,fontSizeLG:s,colorText:l,colorBgContainer:u,colorTextDisabled:c,controlItemBgActiveDisabled:d,colorTextLightSolid:h,colorPrimary:p,colorPrimaryHover:m,colorPrimaryActive:v}=n,y=4,A=s,b=e?ek(A):A-(y+o)*2;return{radioSize:A,dotSize:b,dotColorDisabled:c,buttonSolidCheckedColor:h,buttonSolidCheckedBg:p,buttonSolidCheckedHoverBg:m,buttonSolidCheckedActiveBg:v,buttonBg:u,buttonCheckedBg:u,buttonColor:l,buttonCheckedBgDisabled:d,buttonCheckedColorDisabled:c,buttonPaddingInline:r-o,wrapperMarginInlineEnd:i}});var ype=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const bpe=(n,e)=>{var r,i;const o=M.useContext(PH),s=M.useContext(BH),{getPrefixCls:l,direction:u,radio:c}=M.useContext(_r),d=M.useRef(null),h=zs(e,d),{isFormItemInput:p}=M.useContext(Pu),m=$=>{var V,B;(V=n.onChange)===null||V===void 0||V.call(n,$),(B=o==null?void 0:o.onChange)===null||B===void 0||B.call(o,$)},{prefixCls:v,className:y,rootClassName:A,children:b,style:g}=n,w=ype(n,["prefixCls","className","rootClassName","children","style"]),E=l("radio",v),C=((o==null?void 0:o.optionType)||s)==="button",_=C?`${E}-button`:E,[L,R]=DH(E),P=Object.assign({},w),T=M.useContext(Jd);o&&(P.name=o.name,P.onChange=m,P.checked=n.value===o.value,P.disabled=(r=P.disabled)!==null&&r!==void 0?r:o.disabled),P.disabled=(i=P.disabled)!==null&&i!==void 0?i:T;const D=Et(`${_}-wrapper`,{[`${_}-wrapper-checked`]:P.checked,[`${_}-wrapper-disabled`]:P.disabled,[`${_}-wrapper-rtl`]:u==="rtl",[`${_}-wrapper-in-form-item`]:p},c==null?void 0:c.className,y,A,R);return L(M.createElement(mC,{component:"Radio",disabled:P.disabled},M.createElement("label",{className:D,style:Object.assign(Object.assign({},c==null?void 0:c.style),g),onMouseEnter:n.onMouseEnter,onMouseLeave:n.onMouseLeave},M.createElement(OH,Object.assign({},P,{className:Et(P.className,!C&&pC),type:"radio",prefixCls:_,ref:h})),b!==void 0?M.createElement("span",null,b):null)))},xpe=M.forwardRef(bpe),rE=xpe,Epe=M.forwardRef((n,e)=>{const{getPrefixCls:r,direction:i}=M.useContext(_r),[o,s]=Fo(n.defaultValue,{value:n.value}),l=V=>{const B=o,O=V.target.value;"value"in n||s(O);const{onChange:F}=n;F&&O!==B&&F(V)},{prefixCls:u,className:c,rootClassName:d,options:h,buttonStyle:p="outline",disabled:m,children:v,size:y,style:A,id:b,onMouseEnter:g,onMouseLeave:w,onFocus:E,onBlur:C}=n,_=r("radio",u),L=`${_}-group`,[R,P]=DH(_);let T=v;h&&h.length>0&&(T=h.map(V=>typeof V=="string"||typeof V=="number"?M.createElement(rE,{key:V.toString(),prefixCls:_,disabled:m,value:V,checked:o===V},V):M.createElement(rE,{key:`radio-group-value-options-${V.value}`,prefixCls:_,disabled:V.disabled||m,value:V.value,checked:o===V.value,title:V.title,style:V.style,id:V.id},V.label)));const D=Jl(y),$=Et(L,`${L}-${p}`,{[`${L}-${D}`]:D,[`${L}-rtl`]:i==="rtl"},c,d,P);return R(M.createElement("div",Object.assign({},Ql(n,{aria:!0,data:!0}),{className:$,style:A,onMouseEnter:g,onMouseLeave:w,onFocus:E,onBlur:C,id:b,ref:e}),M.createElement(hpe,{value:{onChange:l,value:o,disabled:n.disabled,name:n.name,optionType:n.optionType}},T)))}),Cpe=M.memo(Epe);var wpe=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const Spe=(n,e)=>{const{getPrefixCls:r}=M.useContext(_r),{prefixCls:i}=n,o=wpe(n,["prefixCls"]),s=r("radio",i);return M.createElement(ppe,{value:"button"},M.createElement(rE,Object.assign({prefixCls:s},o,{type:"radio",ref:e})))},_pe=M.forwardRef(Spe),_C=rE;_C.Button=_pe;_C.Group=Cpe;_C.__ANT_RADIO=!0;const NH=_C,Mpe=n=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:n,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),kH=n=>({borderColor:n.hoverBorderColor,backgroundColor:n.hoverBg}),g3=n=>({borderColor:n.activeBorderColor,boxShadow:n.activeShadow,outline:0,backgroundColor:n.activeBg}),FH=n=>({color:n.colorTextDisabled,backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"&:hover":Object.assign({},kH(ti(n,{hoverBorderColor:n.colorBorder,hoverBg:n.colorBgContainerDisabled})))}),UH=n=>{const{paddingBlockLG:e,fontSizeLG:r,lineHeightLG:i,borderRadiusLG:o,paddingInlineLG:s}=n;return{padding:`${e}px ${s}px`,fontSize:r,lineHeight:i,borderRadius:o}},wL=n=>({padding:`${n.paddingBlockSM}px ${n.paddingInlineSM}px`,borderRadius:n.borderRadiusSM}),zH=(n,e)=>{const{componentCls:r,colorError:i,colorWarning:o,errorActiveShadow:s,warningActiveShadow:l,colorErrorBorderHover:u,colorWarningBorderHover:c}=n;return{[`&-status-error:not(${e}-disabled):not(${e}-borderless)${e}`]:{borderColor:i,"&:hover":{borderColor:u},"&:focus, &:focus-within":Object.assign({},g3(ti(n,{activeBorderColor:i,activeShadow:s}))),[`${r}-prefix, ${r}-suffix`]:{color:i}},[`&-status-warning:not(${e}-disabled):not(${e}-borderless)${e}`]:{borderColor:o,"&:hover":{borderColor:c},"&:focus, &:focus-within":Object.assign({},g3(ti(n,{activeBorderColor:o,activeShadow:l}))),[`${r}-prefix, ${r}-suffix`]:{color:o}}}},SL=n=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${n.paddingBlock}px ${n.paddingInline}px`,color:n.colorText,fontSize:n.fontSize,lineHeight:n.lineHeight,backgroundColor:n.colorBgContainer,backgroundImage:"none",borderWidth:n.lineWidth,borderStyle:n.lineType,borderColor:n.colorBorder,borderRadius:n.borderRadius,transition:`all ${n.motionDurationMid}`},Mpe(n.colorTextPlaceholder)),{"&:hover":Object.assign({},kH(n)),"&:focus, &:focus-within":Object.assign({},g3(n)),"&-disabled, &[disabled]":Object.assign({},FH(n)),"&-borderless":{"&, &:hover, &:focus, &-focused, &-disabled, &[disabled]":{backgroundColor:"transparent",border:"none",boxShadow:"none"}},"textarea&":{maxWidth:"100%",height:"auto",minHeight:n.controlHeight,lineHeight:n.lineHeight,verticalAlign:"bottom",transition:`all ${n.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":Object.assign({},UH(n)),"&-sm":Object.assign({},wL(n)),"&-rtl":{direction:"rtl"},"&-textarea-rtl":{direction:"rtl"}}),Tpe=n=>{const{componentCls:e,antCls:r}=n;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:n.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${e}, &-lg > ${e}-group-addon`]:Object.assign({},UH(n)),[`&-sm ${e}, &-sm > ${e}-group-addon`]:Object.assign({},wL(n)),[`&-lg ${r}-select-single ${r}-select-selector`]:{height:n.controlHeightLG},[`&-sm ${r}-select-single ${r}-select-selector`]:{height:n.controlHeightSM},[`> ${e}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${e}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${n.paddingInline}px`,color:n.colorText,fontWeight:"normal",fontSize:n.fontSize,textAlign:"center",backgroundColor:n.addonBg,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadius,transition:`all ${n.motionDurationSlow}`,lineHeight:1,[`${r}-select`]:{margin:`-${n.paddingBlock+1}px -${n.paddingInline}px`,[`&${r}-select-single:not(${r}-select-customize-input):not(${r}-pagination-size-changer)`]:{[`${r}-select-selector`]:{backgroundColor:"inherit",border:`${n.lineWidth}px ${n.lineType} transparent`,boxShadow:"none"}},"&-open, &-focused":{[`${r}-select-selector`]:{color:n.colorPrimary}}},[`${r}-cascader-picker`]:{margin:`-9px -${n.paddingInline}px`,backgroundColor:"transparent",[`${r}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}},[`${e}`]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${e}-search-with-button &`]:{zIndex:0}}},[`> ${e}:first-child, ${e}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${r}-select ${r}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}-affix-wrapper`]:{[`&:not(:first-child) ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}:last-child, ${e}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${r}-select ${r}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${e}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${e}-search &`]:{borderStartStartRadius:n.borderRadius,borderEndStartRadius:n.borderRadius}},[`&:not(:first-child), ${e}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${e}-group-compact`]:Object.assign(Object.assign({display:"block"},Ec()),{[`${e}-group-addon, ${e}-group-wrap, > ${e}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:n.lineWidth,"&:hover":{zIndex:1},"&:focus":{zIndex:1}}},"& > *":{display:"inline-block",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${e}-affix-wrapper,
        & > ${e}-number-affix-wrapper,
        & > ${r}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:-n.lineWidth,borderInlineEndWidth:n.lineWidth},[`${e}`]:{float:"none"},[`& > ${r}-select > ${r}-select-selector,
      & > ${r}-select-auto-complete ${e},
      & > ${r}-cascader-picker ${e},
      & > ${e}-group-wrapper ${e}`]:{borderInlineEndWidth:n.lineWidth,borderRadius:0,"&:hover":{zIndex:1},"&:focus":{zIndex:1}},[`& > ${r}-select-focused`]:{zIndex:1},[`& > ${r}-select > ${r}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${r}-select:first-child > ${r}-select-selector,
      & > ${r}-select-auto-complete:first-child ${e},
      & > ${r}-cascader-picker:first-child ${e}`]:{borderStartStartRadius:n.borderRadius,borderEndStartRadius:n.borderRadius},[`& > *:last-child,
      & > ${r}-select:last-child > ${r}-select-selector,
      & > ${r}-cascader-picker:last-child ${e},
      & > ${r}-cascader-picker-focused:last-child ${e}`]:{borderInlineEndWidth:n.lineWidth,borderStartEndRadius:n.borderRadius,borderEndEndRadius:n.borderRadius},[`& > ${r}-select-auto-complete ${e}`]:{verticalAlign:"top"},[`${e}-group-wrapper + ${e}-group-wrapper`]:{marginInlineStart:-n.lineWidth,[`${e}-affix-wrapper`]:{borderRadius:0}},[`${e}-group-wrapper:not(:last-child)`]:{[`&${e}-search > ${e}-group`]:{[`& > ${e}-group-addon > ${e}-search-button`]:{borderRadius:0},[`& > ${e}`]:{borderStartStartRadius:n.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:n.borderRadius}}}})}},Rpe=n=>{const{componentCls:e,controlHeightSM:r,lineWidth:i}=n,o=16,s=(r-i*2-o)/2;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},ji(n)),SL(n)),zH(n,e)),{'&[type="color"]':{height:n.controlHeight,[`&${e}-lg`]:{height:n.controlHeightLG},[`&${e}-sm`]:{height:r,paddingTop:s,paddingBottom:s}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},Ipe=n=>{const{componentCls:e}=n;return{[`${e}-clear-icon`]:{margin:0,color:n.colorTextQuaternary,fontSize:n.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${n.motionDurationSlow}`,"&:hover":{color:n.colorTextTertiary},"&:active":{color:n.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${n.inputAffixPadding}px`}}}},Lpe=n=>{const{componentCls:e,inputAffixPadding:r,colorTextDescription:i,motionDurationSlow:o,colorIcon:s,colorIconHover:l,iconCls:u}=n;return{[`${e}-affix-wrapper`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},SL(n)),{display:"inline-flex",[`&:not(${e}-affix-wrapper-disabled):hover`]:{zIndex:1,[`${e}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},"&-disabled":{[`${e}[disabled]`]:{background:"transparent"}},[`> input${e}`]:{padding:0,fontSize:"inherit",border:"none",borderRadius:0,outline:"none","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${e}`]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:n.paddingXS}},"&-show-count-suffix":{color:i},"&-show-count-has-suffix":{marginInlineEnd:n.paddingXXS},"&-prefix":{marginInlineEnd:r},"&-suffix":{marginInlineStart:r}}}),Ipe(n)),{[`${u}${e}-password-icon`]:{color:s,cursor:"pointer",transition:`all ${o}`,"&:hover":{color:l}}}),zH(n,`${e}-affix-wrapper`))}},Ppe=n=>{const{componentCls:e,colorError:r,colorWarning:i,borderRadiusLG:o,borderRadiusSM:s}=n;return{[`${e}-group`]:Object.assign(Object.assign(Object.assign({},ji(n)),Tpe(n)),{"&-rtl":{direction:"rtl"},"&-wrapper":{display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${e}-group-addon`]:{borderRadius:o,fontSize:n.fontSizeLG}},"&-sm":{[`${e}-group-addon`]:{borderRadius:s}},"&-status-error":{[`${e}-group-addon`]:{color:r,borderColor:r}},"&-status-warning":{[`${e}-group-addon`]:{color:i,borderColor:i}},"&-disabled":{[`${e}-group-addon`]:Object.assign({},FH(n))},[`&:not(${e}-compact-first-item):not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}, ${e}-group-addon`]:{borderRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-first-item`]:{[`${e}, ${e}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${e}-compact-first-item)${e}-compact-last-item`]:{[`${e}, ${e}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}})}},Bpe=n=>{const{componentCls:e,antCls:r}=n,i=`${e}-search`;return{[i]:{[`${e}`]:{"&:hover, &:focus":{borderColor:n.colorPrimaryHover,[`+ ${e}-group-addon ${i}-button:not(${r}-btn-primary)`]:{borderInlineStartColor:n.colorPrimaryHover}}},[`${e}-affix-wrapper`]:{borderRadius:0},[`${e}-lg`]:{lineHeight:n.lineHeightLG-2e-4},[`> ${e}-group`]:{[`> ${e}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${i}-button`]:{paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderStartEndRadius:n.borderRadius,borderEndEndRadius:n.borderRadius,borderEndStartRadius:0,boxShadow:"none"},[`${i}-button:not(${r}-btn-primary)`]:{color:n.colorTextDescription,"&:hover":{color:n.colorPrimaryHover},"&:active":{color:n.colorPrimaryActive},[`&${r}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${i}-button`]:{height:n.controlHeight,"&:hover, &:focus":{zIndex:1}},[`&-large ${i}-button`]:{height:n.controlHeightLG},[`&-small ${i}-button`]:{height:n.controlHeightSM},"&-rtl":{direction:"rtl"},[`&${e}-compact-item`]:{[`&:not(${e}-compact-last-item)`]:{[`${e}-group-addon`]:{[`${e}-search-button`]:{marginInlineEnd:-n.lineWidth,borderRadius:0}}},[`&:not(${e}-compact-first-item)`]:{[`${e},${e}-affix-wrapper`]:{borderRadius:0}},[`> ${e}-group-addon ${e}-search-button,
        > ${e},
        ${e}-affix-wrapper`]:{"&:hover,&:focus,&:active":{zIndex:2}},[`> ${e}-affix-wrapper-focused`]:{zIndex:2}}}}},Ope=n=>{const{componentCls:e,paddingLG:r}=n,i=`${e}-textarea`;return{[i]:{position:"relative","&-show-count":{[`> ${e}`]:{height:"100%"},[`${e}-data-count`]:{position:"absolute",bottom:-n.fontSize*n.lineHeight,insetInlineEnd:0,color:n.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},"&-allow-clear":{[`> ${e}`]:{paddingInlineEnd:r}},[`&-affix-wrapper${i}-has-feedback`]:{[`${e}`]:{paddingInlineEnd:r}},[`&-affix-wrapper${e}-affix-wrapper`]:{padding:0,[`> textarea${e}`]:{fontSize:"inherit",border:"none",outline:"none","&:focus":{boxShadow:"none !important"}},[`${e}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${e}-clear-icon`]:{position:"absolute",insetInlineEnd:n.paddingXS,insetBlockStart:n.paddingXS},[`${i}-suffix`]:{position:"absolute",top:0,insetInlineEnd:n.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}}}}};function HH(n){return ti(n,{inputAffixPadding:n.paddingXXS})}const $H=n=>{const{controlHeight:e,fontSize:r,lineHeight:i,lineWidth:o,controlHeightSM:s,controlHeightLG:l,fontSizeLG:u,lineHeightLG:c,paddingSM:d,controlPaddingHorizontalSM:h,controlPaddingHorizontal:p,colorFillAlter:m,colorPrimaryHover:v,colorPrimary:y,controlOutlineWidth:A,controlOutline:b,colorErrorOutline:g,colorWarningOutline:w}=n;return{paddingBlock:Math.max(Math.round((e-r*i)/2*10)/10-o,0),paddingBlockSM:Math.max(Math.round((s-r*i)/2*10)/10-o,0),paddingBlockLG:Math.ceil((l-u*c)/2*10)/10-o,paddingInline:d-o,paddingInlineSM:h-o,paddingInlineLG:p-o,addonBg:m,activeBorderColor:y,hoverBorderColor:v,activeShadow:`0 0 0 ${A}px ${b}`,errorActiveShadow:`0 0 0 ${A}px ${g}`,warningActiveShadow:`0 0 0 ${A}px ${w}`,hoverBg:"",activeBg:""}},_L=zi("Input",n=>{const e=ti(n,HH(n));return[Rpe(e),Ope(e),Lpe(e),Ppe(e),Bpe(e),JI(e)]},$H),Dpe=n=>{const{prefixCls:e,className:r,style:i,size:o,shape:s}=n,l=Et({[`${e}-lg`]:o==="large",[`${e}-sm`]:o==="small"}),u=Et({[`${e}-circle`]:s==="circle",[`${e}-square`]:s==="square",[`${e}-round`]:s==="round"}),c=M.useMemo(()=>typeof o=="number"?{width:o,height:o,lineHeight:`${o}px`}:{},[o]);return M.createElement("span",{className:Et(e,l,u,r),style:Object.assign(Object.assign({},c),i)})},MC=Dpe,Npe=new ui("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),TC=n=>({height:n,lineHeight:`${n}px`}),Lm=n=>Object.assign({width:n},TC(n)),kpe=n=>({background:n.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:Npe,animationDuration:n.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),$2=n=>Object.assign({width:n*5,minWidth:n*5},TC(n)),Fpe=n=>{const{skeletonAvatarCls:e,gradientFromColor:r,controlHeight:i,controlHeightLG:o,controlHeightSM:s}=n;return{[`${e}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:r},Lm(i)),[`${e}${e}-circle`]:{borderRadius:"50%"},[`${e}${e}-lg`]:Object.assign({},Lm(o)),[`${e}${e}-sm`]:Object.assign({},Lm(s))}},Upe=n=>{const{controlHeight:e,borderRadiusSM:r,skeletonInputCls:i,controlHeightLG:o,controlHeightSM:s,gradientFromColor:l}=n;return{[`${i}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:l,borderRadius:r},$2(e)),[`${i}-lg`]:Object.assign({},$2(o)),[`${i}-sm`]:Object.assign({},$2(s))}},tk=n=>Object.assign({width:n},TC(n)),zpe=n=>{const{skeletonImageCls:e,imageSizeBase:r,gradientFromColor:i,borderRadiusSM:o}=n;return{[`${e}`]:Object.assign(Object.assign({display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",background:i,borderRadius:o},tk(r*2)),{[`${e}-path`]:{fill:"#bfbfbf"},[`${e}-svg`]:Object.assign(Object.assign({},tk(r)),{maxWidth:r*4,maxHeight:r*4}),[`${e}-svg${e}-svg-circle`]:{borderRadius:"50%"}}),[`${e}${e}-circle`]:{borderRadius:"50%"}}},G2=(n,e,r)=>{const{skeletonButtonCls:i}=n;return{[`${r}${i}-circle`]:{width:e,minWidth:e,borderRadius:"50%"},[`${r}${i}-round`]:{borderRadius:e}}},j2=n=>Object.assign({width:n*2,minWidth:n*2},TC(n)),Hpe=n=>{const{borderRadiusSM:e,skeletonButtonCls:r,controlHeight:i,controlHeightLG:o,controlHeightSM:s,gradientFromColor:l}=n;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[`${r}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:l,borderRadius:e,width:i*2,minWidth:i*2},j2(i))},G2(n,i,r)),{[`${r}-lg`]:Object.assign({},j2(o))}),G2(n,o,`${r}-lg`)),{[`${r}-sm`]:Object.assign({},j2(s))}),G2(n,s,`${r}-sm`))},$pe=n=>{const{componentCls:e,skeletonAvatarCls:r,skeletonTitleCls:i,skeletonParagraphCls:o,skeletonButtonCls:s,skeletonInputCls:l,skeletonImageCls:u,controlHeight:c,controlHeightLG:d,controlHeightSM:h,gradientFromColor:p,padding:m,marginSM:v,borderRadius:y,titleHeight:A,blockRadius:b,paragraphLiHeight:g,controlHeightXS:w,paragraphMarginTop:E}=n;return{[`${e}`]:{display:"table",width:"100%",[`${e}-header`]:{display:"table-cell",paddingInlineEnd:m,verticalAlign:"top",[`${r}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:p},Lm(c)),[`${r}-circle`]:{borderRadius:"50%"},[`${r}-lg`]:Object.assign({},Lm(d)),[`${r}-sm`]:Object.assign({},Lm(h))},[`${e}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[`${i}`]:{width:"100%",height:A,background:p,borderRadius:b,[`+ ${o}`]:{marginBlockStart:h}},[`${o}`]:{padding:0,"> li":{width:"100%",height:g,listStyle:"none",background:p,borderRadius:b,"+ li":{marginBlockStart:w}}},[`${o}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${e}-content`]:{[`${i}, ${o} > li`]:{borderRadius:y}}},[`${e}-with-avatar ${e}-content`]:{[`${i}`]:{marginBlockStart:v,[`+ ${o}`]:{marginBlockStart:E}}},[`${e}${e}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},Hpe(n)),Fpe(n)),Upe(n)),zpe(n)),[`${e}${e}-block`]:{width:"100%",[`${s}`]:{width:"100%"},[`${l}`]:{width:"100%"}},[`${e}${e}-active`]:{[`
        ${i},
        ${o} > li,
        ${r},
        ${s},
        ${l},
        ${u}
      `]:Object.assign({},kpe(n))}}},bg=zi("Skeleton",n=>{const{componentCls:e}=n,r=ti(n,{skeletonAvatarCls:`${e}-avatar`,skeletonTitleCls:`${e}-title`,skeletonParagraphCls:`${e}-paragraph`,skeletonButtonCls:`${e}-button`,skeletonInputCls:`${e}-input`,skeletonImageCls:`${e}-image`,imageSizeBase:n.controlHeight*1.5,borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${n.gradientFromColor} 25%, ${n.gradientToColor} 37%, ${n.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[$pe(r)]},n=>{const{colorFillContent:e,colorFill:r}=n,i=e,o=r;return{color:i,colorGradientEnd:o,gradientFromColor:i,gradientToColor:o,titleHeight:n.controlHeight/2,blockRadius:n.borderRadiusSM,paragraphMarginTop:n.marginLG+n.marginXXS,paragraphLiHeight:n.controlHeight/2}},{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),Gpe=n=>{const{prefixCls:e,className:r,rootClassName:i,active:o,shape:s="circle",size:l="default"}=n,{getPrefixCls:u}=M.useContext(_r),c=u("skeleton",e),[d,h]=bg(c),p=vo(n,["prefixCls","className"]),m=Et(c,`${c}-element`,{[`${c}-active`]:o},r,i,h);return d(M.createElement("div",{className:m},M.createElement(MC,Object.assign({prefixCls:`${c}-avatar`,shape:s,size:l},p))))},jpe=Gpe,Vpe=n=>{const{prefixCls:e,className:r,rootClassName:i,active:o,block:s=!1,size:l="default"}=n,{getPrefixCls:u}=M.useContext(_r),c=u("skeleton",e),[d,h]=bg(c),p=vo(n,["prefixCls"]),m=Et(c,`${c}-element`,{[`${c}-active`]:o,[`${c}-block`]:s},r,i,h);return d(M.createElement("div",{className:m},M.createElement(MC,Object.assign({prefixCls:`${c}-button`,size:l},p))))},Wpe=Vpe,Qpe="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",Kpe=n=>{const{prefixCls:e,className:r,rootClassName:i,style:o,active:s}=n,{getPrefixCls:l}=M.useContext(_r),u=l("skeleton",e),[c,d]=bg(u),h=Et(u,`${u}-element`,{[`${u}-active`]:s},r,i,d);return c(M.createElement("div",{className:h},M.createElement("div",{className:Et(`${u}-image`,r),style:o},M.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${u}-image-svg`},M.createElement("path",{d:Qpe,className:`${u}-image-path`})))))},Xpe=Kpe,qpe=n=>{const{prefixCls:e,className:r,rootClassName:i,active:o,block:s,size:l="default"}=n,{getPrefixCls:u}=M.useContext(_r),c=u("skeleton",e),[d,h]=bg(c),p=vo(n,["prefixCls"]),m=Et(c,`${c}-element`,{[`${c}-active`]:o,[`${c}-block`]:s},r,i,h);return d(M.createElement("div",{className:m},M.createElement(MC,Object.assign({prefixCls:`${c}-input`,size:l},p))))},Ype=qpe,Jpe=n=>{const{prefixCls:e,className:r,rootClassName:i,style:o,active:s,children:l}=n,{getPrefixCls:u}=M.useContext(_r),c=u("skeleton",e),[d,h]=bg(c),p=Et(c,`${c}-element`,{[`${c}-active`]:s},h,r,i),m=l??M.createElement(xne,null);return d(M.createElement("div",{className:p},M.createElement("div",{className:Et(`${c}-image`,r),style:o},m)))},Zpe=Jpe,eme=n=>{const e=u=>{const{width:c,rows:d=2}=n;if(Array.isArray(c))return c[u];if(d-1===u)return c},{prefixCls:r,className:i,style:o,rows:s}=n,l=An(Array(s)).map((u,c)=>M.createElement("li",{key:c,style:{width:e(c)}}));return M.createElement("ul",{className:Et(r,i),style:o},l)},tme=eme,nme=n=>{let{prefixCls:e,className:r,width:i,style:o}=n;return M.createElement("h3",{className:Et(e,r),style:Object.assign({width:i},o)})},rme=nme;function V2(n){return n&&typeof n=="object"?n:{}}function ime(n,e){return n&&!e?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function ome(n,e){return!n&&e?{width:"38%"}:n&&e?{width:"50%"}:{}}function ame(n,e){const r={};return(!n||!e)&&(r.width="61%"),!n&&e?r.rows=3:r.rows=2,r}const xg=n=>{const{prefixCls:e,loading:r,className:i,rootClassName:o,style:s,children:l,avatar:u=!1,title:c=!0,paragraph:d=!0,active:h,round:p}=n,{getPrefixCls:m,direction:v,skeleton:y}=M.useContext(_r),A=m("skeleton",e),[b,g]=bg(A);if(r||!("loading"in n)){const w=!!u,E=!!c,C=!!d;let _;if(w){const P=Object.assign(Object.assign({prefixCls:`${A}-avatar`},ime(E,C)),V2(u));_=M.createElement("div",{className:`${A}-header`},M.createElement(MC,Object.assign({},P)))}let L;if(E||C){let P;if(E){const D=Object.assign(Object.assign({prefixCls:`${A}-title`},ome(w,C)),V2(c));P=M.createElement(rme,Object.assign({},D))}let T;if(C){const D=Object.assign(Object.assign({prefixCls:`${A}-paragraph`},ame(w,E)),V2(d));T=M.createElement(tme,Object.assign({},D))}L=M.createElement("div",{className:`${A}-content`},P,T)}const R=Et(A,{[`${A}-with-avatar`]:w,[`${A}-active`]:h,[`${A}-rtl`]:v==="rtl",[`${A}-round`]:p},y==null?void 0:y.className,i,o,g);return b(M.createElement("div",{className:R,style:Object.assign(Object.assign({},y==null?void 0:y.style),s)},_,L))}return typeof l<"u"?l:null};xg.Button=Wpe;xg.Avatar=jpe;xg.Input=Ype;xg.Image=Xpe;xg.Node=Zpe;const GH=xg,RC=M.createContext(null);var jH=M.forwardRef(function(n,e){var r=n.prefixCls,i=n.className,o=n.style,s=n.id,l=n.active,u=n.tabKey,c=n.children;return M.createElement("div",{id:s&&"".concat(s,"-panel-").concat(u),role:"tabpanel",tabIndex:l?0:-1,"aria-labelledby":s&&"".concat(s,"-tab-").concat(u),"aria-hidden":!l,style:o,className:Et(r,l&&"".concat(r,"-active"),i),ref:e},c)}),sme=["key","forceRender","style","className"];function lme(n){var e=n.id,r=n.activeKey,i=n.animated,o=n.tabPosition,s=n.destroyInactiveTabPane,l=M.useContext(RC),u=l.prefixCls,c=l.tabs,d=i.tabPane,h="".concat(u,"-tabpane");return M.createElement("div",{className:Et("".concat(u,"-content-holder"))},M.createElement("div",{className:Et("".concat(u,"-content"),"".concat(u,"-content-").concat(o),ct({},"".concat(u,"-content-animated"),d))},c.map(function(p){var m=p.key,v=p.forceRender,y=p.style,A=p.className,b=Pr(p,sme),g=m===r;return M.createElement(wc,on({key:m,visible:g,forceRender:v,removeOnLeave:!!s,leavedClassName:"".concat(h,"-hidden")},i.tabPaneMotion),function(w,E){var C=w.style,_=w.className;return M.createElement(jH,on({},b,{prefixCls:h,id:e,tabKey:m,animated:d,active:g,style:mt(mt({},y),C),className:Et(A,_),ref:E}))})})))}var nk={width:0,height:0,left:0,top:0};function cme(n,e,r){return M.useMemo(function(){for(var i,o=new Map,s=e.get((i=n[0])===null||i===void 0?void 0:i.key)||nk,l=s.left+s.width,u=0;u<n.length;u+=1){var c=n[u].key,d=e.get(c);if(!d){var h;d=e.get((h=n[u-1])===null||h===void 0?void 0:h.key)||nk}var p=o.get(c)||mt({},d);p.right=l-p.left-p.width,o.set(c,p)}return o},[n.map(function(i){return i.key}).join("_"),e,r])}function rk(n,e){var r=M.useRef(n),i=M.useState({}),o=Nt(i,2),s=o[1];function l(u){var c=typeof u=="function"?u(r.current):u;c!==r.current&&e(c,r.current),r.current=c,s({})}return[r.current,l]}var ume=.1,ik=.01,nx=20,ok=Math.pow(.995,nx);function dme(n,e){var r=M.useState(),i=Nt(r,2),o=i[0],s=i[1],l=M.useState(0),u=Nt(l,2),c=u[0],d=u[1],h=M.useState(0),p=Nt(h,2),m=p[0],v=p[1],y=M.useState(),A=Nt(y,2),b=A[0],g=A[1],w=M.useRef();function E(T){var D=T.touches[0],$=D.screenX,V=D.screenY;s({x:$,y:V}),window.clearInterval(w.current)}function C(T){if(o){T.preventDefault();var D=T.touches[0],$=D.screenX,V=D.screenY;s({x:$,y:V});var B=$-o.x,O=V-o.y;e(B,O);var F=Date.now();d(F),v(F-c),g({x:B,y:O})}}function _(){if(o&&(s(null),g(null),b)){var T=b.x/m,D=b.y/m,$=Math.abs(T),V=Math.abs(D);if(Math.max($,V)<ume)return;var B=T,O=D;w.current=window.setInterval(function(){if(Math.abs(B)<ik&&Math.abs(O)<ik){window.clearInterval(w.current);return}B*=ok,O*=ok,e(B*nx,O*nx)},nx)}}var L=M.useRef();function R(T){var D=T.deltaX,$=T.deltaY,V=0,B=Math.abs(D),O=Math.abs($);B===O?V=L.current==="x"?D:$:B>O?(V=D,L.current="x"):(V=$,L.current="y"),e(-V,-V)&&T.preventDefault()}var P=M.useRef(null);P.current={onTouchStart:E,onTouchMove:C,onTouchEnd:_,onWheel:R},M.useEffect(function(){function T(B){P.current.onTouchStart(B)}function D(B){P.current.onTouchMove(B)}function $(B){P.current.onTouchEnd(B)}function V(B){P.current.onWheel(B)}return document.addEventListener("touchmove",D,{passive:!1}),document.addEventListener("touchend",$,{passive:!1}),n.current.addEventListener("touchstart",T,{passive:!1}),n.current.addEventListener("wheel",V),function(){document.removeEventListener("touchmove",D),document.removeEventListener("touchend",$)}},[])}function VH(n){var e=M.useState(0),r=Nt(e,2),i=r[0],o=r[1],s=M.useRef(0),l=M.useRef();return l.current=n,IT(function(){var u;(u=l.current)===null||u===void 0||u.call(l)},[i]),function(){s.current===i&&(s.current+=1,o(s.current))}}function fme(n){var e=M.useRef([]),r=M.useState({}),i=Nt(r,2),o=i[1],s=M.useRef(typeof n=="function"?n():n),l=VH(function(){var c=s.current;e.current.forEach(function(d){c=d(c)}),e.current=[],s.current=c,o({})});function u(c){e.current.push(c),l()}return[s.current,u]}var ak={width:0,height:0,left:0,top:0,right:0};function hme(n,e,r,i,o,s,l){var u=l.tabs,c=l.tabPosition,d=l.rtl,h,p,m;return["top","bottom"].includes(c)?(h="width",p=d?"right":"left",m=Math.abs(r)):(h="height",p="top",m=-r),M.useMemo(function(){if(!u.length)return[0,0];for(var v=u.length,y=v,A=0;A<v;A+=1){var b=n.get(u[A].key)||ak;if(b[p]+b[h]>m+e){y=A-1;break}}for(var g=0,w=v-1;w>=0;w-=1){var E=n.get(u[w].key)||ak;if(E[p]<m){g=w+1;break}}return g>=y?[0,0]:[g,y]},[n,e,i,o,s,m,c,u.map(function(v){return v.key}).join("_"),d])}function sk(n){var e;return n instanceof Map?(e={},n.forEach(function(r,i){e[i]=r})):e=n,JSON.stringify(e)}var pme="TABS_DQ";function WH(n){return String(n).replace(/"/g,pme)}function QH(n,e,r,i){return!(!r||i||n===!1||n===void 0&&(e===!1||e===null))}function mme(n,e){var r=n.prefixCls,i=n.editable,o=n.locale,s=n.style;return!i||i.showAdd===!1?null:M.createElement("button",{ref:e,type:"button",className:"".concat(r,"-nav-add"),style:s,"aria-label":(o==null?void 0:o.addAriaLabel)||"Add tab",onClick:function(u){i.onEdit("add",{event:u})}},i.addIcon||"+")}const KH=M.forwardRef(mme);var lk=M.forwardRef(function(n,e){var r=n.position,i=n.prefixCls,o=n.extra;if(!o)return null;var s,l={};return Ir(o)==="object"&&!M.isValidElement(o)?l=o:l.right=o,r==="right"&&(s=l.right),r==="left"&&(s=l.left),s?M.createElement("div",{className:"".concat(i,"-extra-content"),ref:e},s):null});function gme(n,e){var r=n.prefixCls,i=n.id,o=n.tabs,s=n.locale,l=n.mobile,u=n.moreIcon,c=u===void 0?"More":u,d=n.moreTransitionName,h=n.style,p=n.className,m=n.editable,v=n.tabBarGutter,y=n.rtl,A=n.removeAriaLabel,b=n.onTabClick,g=n.getPopupContainer,w=n.popupClassName,E=M.useState(!1),C=Nt(E,2),_=C[0],L=C[1],R=M.useState(null),P=Nt(R,2),T=P[0],D=P[1],$="".concat(i,"-more-popup"),V="".concat(r,"-dropdown"),B=T!==null?"".concat($,"-").concat(T):null,O=s==null?void 0:s.dropdownAriaLabel;function F(J,Z){J.preventDefault(),J.stopPropagation(),m.onEdit("remove",{key:Z,event:J})}var k=M.createElement(yg,{onClick:function(Z){var oe=Z.key,ue=Z.domEvent;b(oe,ue),L(!1)},prefixCls:"".concat(V,"-menu"),id:$,tabIndex:-1,role:"listbox","aria-activedescendant":B,selectedKeys:[T],"aria-label":O!==void 0?O:"expanded dropdown"},o.map(function(J){var Z=J.closable,oe=J.disabled,ue=J.closeIcon,Be=J.key,ge=J.label,Ie=QH(Z,ue,m,oe);return M.createElement(VA,{key:Be,id:"".concat($,"-").concat(Be),role:"option","aria-controls":i&&"".concat(i,"-panel-").concat(Be),disabled:oe},M.createElement("span",null,ge),Ie&&M.createElement("button",{type:"button","aria-label":A||"remove",tabIndex:0,className:"".concat(V,"-menu-item-remove"),onClick:function(Ze){Ze.stopPropagation(),F(Ze,Be)}},ue||m.removeIcon||"×"))}));function z(J){for(var Z=o.filter(function(Ie){return!Ie.disabled}),oe=Z.findIndex(function(Ie){return Ie.key===T})||0,ue=Z.length,Be=0;Be<ue;Be+=1){oe=(oe+J+ue)%ue;var ge=Z[oe];if(!ge.disabled){D(ge.key);return}}}function G(J){var Z=J.which;if(!_){[vn.DOWN,vn.SPACE,vn.ENTER].includes(Z)&&(L(!0),J.preventDefault());return}switch(Z){case vn.UP:z(-1),J.preventDefault();break;case vn.DOWN:z(1),J.preventDefault();break;case vn.ESC:L(!1);break;case vn.SPACE:case vn.ENTER:T!==null&&b(T,J);break}}M.useEffect(function(){var J=document.getElementById(B);J&&J.scrollIntoView&&J.scrollIntoView(!1)},[T]),M.useEffect(function(){_||D(null)},[_]);var j=ct({},y?"marginRight":"marginLeft",v);o.length||(j.visibility="hidden",j.order=1);var Q=Et(ct({},"".concat(V,"-rtl"),y)),X=l?null:M.createElement(fH,{prefixCls:V,overlay:k,trigger:["hover"],visible:o.length?_:!1,transitionName:d,onVisibleChange:L,overlayClassName:Et(Q,w),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:g},M.createElement("button",{type:"button",className:"".concat(r,"-nav-more"),style:j,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":$,id:"".concat(i,"-more"),"aria-expanded":_,onKeyDown:G},c));return M.createElement("div",{className:Et("".concat(r,"-nav-operations"),p),style:h,ref:e},X,M.createElement(KH,{prefixCls:r,locale:s,editable:m}))}const vme=M.memo(M.forwardRef(gme),function(n,e){return e.tabMoving});function Ame(n){var e,r=n.prefixCls,i=n.id,o=n.active,s=n.tab,l=s.key,u=s.label,c=s.disabled,d=s.closeIcon,h=n.closable,p=n.renderWrapper,m=n.removeAriaLabel,v=n.editable,y=n.onClick,A=n.onFocus,b=n.style,g="".concat(r,"-tab"),w=QH(h,d,v,c);function E(L){c||y(L)}function C(L){L.preventDefault(),L.stopPropagation(),v.onEdit("remove",{key:l,event:L})}var _=M.createElement("div",{key:l,"data-node-key":WH(l),className:Et(g,(e={},ct(e,"".concat(g,"-with-remove"),w),ct(e,"".concat(g,"-active"),o),ct(e,"".concat(g,"-disabled"),c),e)),style:b,onClick:E},M.createElement("div",{role:"tab","aria-selected":o,id:i&&"".concat(i,"-tab-").concat(l),className:"".concat(g,"-btn"),"aria-controls":i&&"".concat(i,"-panel-").concat(l),"aria-disabled":c,tabIndex:c?null:0,onClick:function(R){R.stopPropagation(),E(R)},onKeyDown:function(R){[vn.SPACE,vn.ENTER].includes(R.which)&&(R.preventDefault(),E(R))},onFocus:A},u),w&&M.createElement("button",{type:"button","aria-label":m||"remove",tabIndex:0,className:"".concat(g,"-remove"),onClick:function(R){R.stopPropagation(),C(R)}},d||v.removeIcon||"×"));return p?p(_):_}var yme=function(e){var r=e.activeTabOffset,i=e.horizontal,o=e.rtl,s=e.indicatorSize,l=M.useState(),u=Nt(l,2),c=u[0],d=u[1],h=M.useRef(),p=function(y){return typeof s=="function"?s(y):typeof s=="number"?s:y};function m(){Oi.cancel(h.current)}return M.useEffect(function(){var v={};return r&&(i?(o?(v.right=r.right+r.width/2,v.transform="translateX(50%)"):(v.left=r.left+r.width/2,v.transform="translateX(-50%)"),v.width=p(r.width)):(v.top=r.top+r.height/2,v.transform="translateY(-50%)",v.height=p(r.height))),m(),h.current=Oi(function(){d(v)}),m},[r,i,o,s]),{style:c}},Ep=function(e){var r=e.current||{},i=r.offsetWidth,o=i===void 0?0:i,s=r.offsetHeight,l=s===void 0?0:s;return[o,l]},Ub=function(e,r){return e[r?0:1]};function bme(n,e){var r,i=M.useContext(RC),o=i.prefixCls,s=i.tabs,l=n.className,u=n.style,c=n.id,d=n.animated,h=n.activeKey,p=n.rtl,m=n.extra,v=n.editable,y=n.locale,A=n.tabPosition,b=n.tabBarGutter,g=n.children,w=n.onTabClick,E=n.onTabScroll,C=n.indicatorSize,_=M.useRef(),L=M.useRef(),R=M.useRef(),P=M.useRef(),T=M.useRef(),D=M.useRef(),$=M.useRef(),V=A==="top"||A==="bottom",B=rk(0,function(Gn,Fn){V&&E&&E({direction:Gn>Fn?"left":"right"})}),O=Nt(B,2),F=O[0],k=O[1],z=rk(0,function(Gn,Fn){!V&&E&&E({direction:Gn>Fn?"top":"bottom"})}),G=Nt(z,2),j=G[0],Q=G[1],X=M.useState([0,0]),J=Nt(X,2),Z=J[0],oe=J[1],ue=M.useState([0,0]),Be=Nt(ue,2),ge=Be[0],Ie=Be[1],He=M.useState([0,0]),Ze=Nt(He,2),Xe=Ze[0],ke=Ze[1],lt=M.useState([0,0]),ot=Nt(lt,2),it=ot[0],ft=ot[1],xt=fme(new Map),At=Nt(xt,2),Ct=At[0],Tt=At[1],Dt=cme(s,Ct,ge[0]),Yt=Ub(Z,V),Ve=Ub(ge,V),be=Ub(Xe,V),fe=Ub(it,V),me=Yt<Ve+be,Te=me?Yt-fe:Yt-be,Ce="".concat(o,"-nav-operations-hidden"),Se=0,we=0;V&&p?(Se=0,we=Math.max(0,Ve-Te)):(Se=Math.min(0,Te-Ve),we=0);function Ge(Gn){return Gn<Se?Se:Gn>we?we:Gn}var Ae=M.useRef(),Ue=M.useState(),et=Nt(Ue,2),ce=et[0],Y=et[1];function ne(){Y(Date.now())}function Le(){window.clearTimeout(Ae.current)}dme(P,function(Gn,Fn){function Cn(Oe,st){Oe(function(wt){var xe=Ge(wt+st);return xe})}return me?(V?Cn(k,Gn):Cn(Q,Fn),Le(),ne(),!0):!1}),M.useEffect(function(){return Le(),ce&&(Ae.current=window.setTimeout(function(){Y(0)},100)),Le},[ce]);var We=hme(Dt,Te,V?F:j,Ve,be,fe,mt(mt({},n),{},{tabs:s})),ve=Nt(We,2),he=ve[0],qe=ve[1],Je=jo(function(){var Gn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h,Fn=Dt.get(Gn)||{width:0,height:0,left:0,right:0,top:0};if(V){var Cn=F;p?Fn.right<F?Cn=Fn.right:Fn.right+Fn.width>F+Te&&(Cn=Fn.right+Fn.width-Te):Fn.left<-F?Cn=-Fn.left:Fn.left+Fn.width>-F+Te&&(Cn=-(Fn.left+Fn.width-Te)),Q(0),k(Ge(Cn))}else{var Oe=j;Fn.top<-j?Oe=-Fn.top:Fn.top+Fn.height>-j+Te&&(Oe=-(Fn.top+Fn.height-Te)),k(0),Q(Ge(Oe))}}),Qe={};A==="top"||A==="bottom"?Qe[p?"marginRight":"marginLeft"]=b:Qe.marginTop=b;var nt=s.map(function(Gn,Fn){var Cn=Gn.key;return M.createElement(Ame,{id:c,prefixCls:o,key:Cn,tab:Gn,style:Fn===0?void 0:Qe,closable:Gn.closable,editable:v,active:Cn===h,renderWrapper:g,removeAriaLabel:y==null?void 0:y.removeAriaLabel,onClick:function(st){w(Cn,st)},onFocus:function(){Je(Cn),ne(),P.current&&(p||(P.current.scrollLeft=0),P.current.scrollTop=0)}})}),It=function(){return Tt(function(){var Fn=new Map;return s.forEach(function(Cn){var Oe,st=Cn.key,wt=(Oe=T.current)===null||Oe===void 0?void 0:Oe.querySelector('[data-node-key="'.concat(WH(st),'"]'));wt&&Fn.set(st,{width:wt.offsetWidth,height:wt.offsetHeight,left:wt.offsetLeft,top:wt.offsetTop})}),Fn})};M.useEffect(function(){It()},[s.map(function(Gn){return Gn.key}).join("_")]);var kt=VH(function(){var Gn=Ep(_),Fn=Ep(L),Cn=Ep(R);oe([Gn[0]-Fn[0]-Cn[0],Gn[1]-Fn[1]-Cn[1]]);var Oe=Ep($);ke(Oe);var st=Ep(D);ft(st);var wt=Ep(T);Ie([wt[0]-Oe[0],wt[1]-Oe[1]]),It()}),Bt=s.slice(0,he),Gt=s.slice(qe+1),Vt=[].concat(An(Bt),An(Gt)),Pt=Dt.get(h),pt=yme({activeTabOffset:Pt,horizontal:V,rtl:p,indicatorSize:C}),Ot=pt.style;M.useEffect(function(){Je()},[h,Se,we,sk(Pt),sk(Dt),V]),M.useEffect(function(){kt()},[p]);var cn=!!Vt.length,qt="".concat(o,"-nav-wrap"),Sn,yn,Pn,rr;return V?p?(yn=F>0,Sn=F!==we):(Sn=F<0,yn=F!==Se):(Pn=j<0,rr=j!==Se),M.createElement(Qa,{onResize:kt},M.createElement("div",{ref:Th(e,_),role:"tablist",className:Et("".concat(o,"-nav"),l),style:u,onKeyDown:function(){ne()}},M.createElement(lk,{ref:L,position:"left",extra:m,prefixCls:o}),M.createElement(Qa,{onResize:kt},M.createElement("div",{className:Et(qt,(r={},ct(r,"".concat(qt,"-ping-left"),Sn),ct(r,"".concat(qt,"-ping-right"),yn),ct(r,"".concat(qt,"-ping-top"),Pn),ct(r,"".concat(qt,"-ping-bottom"),rr),r)),ref:P},M.createElement(Qa,{onResize:kt},M.createElement("div",{ref:T,className:"".concat(o,"-nav-list"),style:{transform:"translate(".concat(F,"px, ").concat(j,"px)"),transition:ce?"none":void 0}},nt,M.createElement(KH,{ref:$,prefixCls:o,locale:y,editable:v,style:mt(mt({},nt.length===0?void 0:Qe),{},{visibility:cn?"hidden":null})}),M.createElement("div",{className:Et("".concat(o,"-ink-bar"),ct({},"".concat(o,"-ink-bar-animated"),d.inkBar)),style:Ot}))))),M.createElement(vme,on({},n,{removeAriaLabel:y==null?void 0:y.removeAriaLabel,ref:D,prefixCls:o,tabs:Vt,className:!cn&&Ce,tabMoving:!!ce})),M.createElement(lk,{ref:R,position:"right",extra:m,prefixCls:o})))}const ck=M.forwardRef(bme);var xme=["renderTabBar"],Eme=["label","key"];function Cme(n){var e=n.renderTabBar,r=Pr(n,xme),i=M.useContext(RC),o=i.tabs;if(e){var s=mt(mt({},r),{},{panes:o.map(function(l){var u=l.label,c=l.key,d=Pr(l,Eme);return M.createElement(jH,on({tab:u,key:c,tabKey:c},d))})});return e(s,ck)}return M.createElement(ck,r)}function wme(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{inkBar:!0,tabPane:!1},e;return n===!1?e={inkBar:!1,tabPane:!1}:n===!0?e={inkBar:!0,tabPane:!1}:e=mt({inkBar:!0},Ir(n)==="object"?n:{}),e.tabPaneMotion&&e.tabPane===void 0&&(e.tabPane=!0),!e.tabPaneMotion&&e.tabPane&&(e.tabPane=!1),e}var Sme=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName","indicatorSize"],uk=0;function _me(n,e){var r,i=n.id,o=n.prefixCls,s=o===void 0?"rc-tabs":o,l=n.className,u=n.items,c=n.direction,d=n.activeKey,h=n.defaultActiveKey,p=n.editable,m=n.animated,v=n.tabPosition,y=v===void 0?"top":v,A=n.tabBarGutter,b=n.tabBarStyle,g=n.tabBarExtraContent,w=n.locale,E=n.moreIcon,C=n.moreTransitionName,_=n.destroyInactiveTabPane,L=n.renderTabBar,R=n.onChange,P=n.onTabClick,T=n.onTabScroll,D=n.getPopupContainer,$=n.popupClassName,V=n.indicatorSize,B=Pr(n,Sme),O=M.useMemo(function(){return(u||[]).filter(function(ft){return ft&&Ir(ft)==="object"&&"key"in ft})},[u]),F=c==="rtl",k=wme(m),z=M.useState(!1),G=Nt(z,2),j=G[0],Q=G[1];M.useEffect(function(){Q(sL())},[]);var X=Fo(function(){var ft;return(ft=O[0])===null||ft===void 0?void 0:ft.key},{value:d,defaultValue:h}),J=Nt(X,2),Z=J[0],oe=J[1],ue=M.useState(function(){return O.findIndex(function(ft){return ft.key===Z})}),Be=Nt(ue,2),ge=Be[0],Ie=Be[1];M.useEffect(function(){var ft=O.findIndex(function(At){return At.key===Z});if(ft===-1){var xt;ft=Math.max(0,Math.min(ge,O.length-1)),oe((xt=O[ft])===null||xt===void 0?void 0:xt.key)}Ie(ft)},[O.map(function(ft){return ft.key}).join("_"),Z,ge]);var He=Fo(null,{value:i}),Ze=Nt(He,2),Xe=Ze[0],ke=Ze[1];M.useEffect(function(){i||(ke("rc-tabs-".concat(uk)),uk+=1)},[]);function lt(ft,xt){P==null||P(ft,xt);var At=ft!==Z;oe(ft),At&&(R==null||R(ft))}var ot={id:Xe,activeKey:Z,animated:k,tabPosition:y,rtl:F,mobile:j},it=mt(mt({},ot),{},{editable:p,locale:w,moreIcon:E,moreTransitionName:C,tabBarGutter:A,onTabClick:lt,onTabScroll:T,extra:g,style:b,panes:null,getPopupContainer:D,popupClassName:$,indicatorSize:V});return M.createElement(RC.Provider,{value:{tabs:O,prefixCls:s}},M.createElement("div",on({ref:e,id:i,className:Et(s,"".concat(s,"-").concat(y),(r={},ct(r,"".concat(s,"-mobile"),j),ct(r,"".concat(s,"-editable"),p),ct(r,"".concat(s,"-rtl"),F),r),l)},B),M.createElement(Cme,on({},it,{renderTabBar:L})),M.createElement(lme,on({destroyInactiveTabPane:_},ot,{animated:k}))))}var Mme=M.forwardRef(_me);const Tme={motionAppear:!1,motionEnter:!0,motionLeave:!0};function Rme(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inkBar:!0,tabPane:!1},r;return e===!1?r={inkBar:!1,tabPane:!1}:e===!0?r={inkBar:!0,tabPane:!0}:r=Object.assign({inkBar:!0},typeof e=="object"?e:{}),r.tabPane&&(r.tabPaneMotion=Object.assign(Object.assign({},Tme),{motionName:KI(n,"switch")})),r}var Ime=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};function Lme(n){return n.filter(e=>e)}function Pme(n,e){if(n)return n;const r=qa(e).map(i=>{if(M.isValidElement(i)){const{key:o,props:s}=i,l=s||{},{tab:u}=l,c=Ime(l,["tab"]);return Object.assign(Object.assign({key:String(o)},c),{label:u})}return null});return Lme(r)}const Bme=n=>{const{componentCls:e,motionDurationSlow:r}=n;return[{[e]:{[`${e}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${r}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${r}`}}}}},[Wd(n,"slide-up"),Wd(n,"slide-down")]]},Ome=Bme,Dme=n=>{const{componentCls:e,tabsCardPadding:r,cardBg:i,cardGutter:o,colorBorderSecondary:s,itemSelectedColor:l}=n;return{[`${e}-card`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{margin:0,padding:r,background:i,border:`${n.lineWidth}px ${n.lineType} ${s}`,transition:`all ${n.motionDurationSlow} ${n.motionEaseInOut}`},[`${e}-tab-active`]:{color:l,background:n.colorBgContainer},[`${e}-ink-bar`]:{visibility:"hidden"}},[`&${e}-top, &${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab + ${e}-tab`]:{marginLeft:{_skip_check_:!0,value:`${o}px`}}}},[`&${e}-top`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:`${n.borderRadiusLG}px ${n.borderRadiusLG}px 0 0`},[`${e}-tab-active`]:{borderBottomColor:n.colorBgContainer}}},[`&${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:`0 0 ${n.borderRadiusLG}px ${n.borderRadiusLG}px`},[`${e}-tab-active`]:{borderTopColor:n.colorBgContainer}}},[`&${e}-left, &${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab + ${e}-tab`]:{marginTop:`${o}px`}}},[`&${e}-left`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`${n.borderRadiusLG}px 0 0 ${n.borderRadiusLG}px`}},[`${e}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:n.colorBgContainer}}}},[`&${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${n.borderRadiusLG}px ${n.borderRadiusLG}px 0`}},[`${e}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:n.colorBgContainer}}}}}}},Nme=n=>{const{componentCls:e,itemHoverColor:r,dropdownEdgeChildVerticalPadding:i}=n;return{[`${e}-dropdown`]:Object.assign(Object.assign({},ji(n)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:n.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${e}-dropdown-menu`]:{maxHeight:n.tabsDropdownHeight,margin:0,padding:`${i}px 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:n.colorBgContainer,backgroundClip:"padding-box",borderRadius:n.borderRadiusLG,outline:"none",boxShadow:n.boxShadowSecondary,"&-item":Object.assign(Object.assign({},xc),{display:"flex",alignItems:"center",minWidth:n.tabsDropdownWidth,margin:0,padding:`${n.paddingXXS}px ${n.paddingSM}px`,color:n.colorText,fontWeight:"normal",fontSize:n.fontSize,lineHeight:n.lineHeight,cursor:"pointer",transition:`all ${n.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:n.marginSM},color:n.colorTextDescription,fontSize:n.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:r}},"&:hover":{background:n.controlItemBgHover},"&-disabled":{"&, &:hover":{color:n.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},kme=n=>{const{componentCls:e,margin:r,colorBorderSecondary:i,horizontalMargin:o,verticalItemPadding:s,verticalItemMargin:l}=n;return{[`${e}-top, ${e}-bottom`]:{flexDirection:"column",[`> ${e}-nav, > div > ${e}-nav`]:{margin:o,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${n.lineWidth}px ${n.lineType} ${i}`,content:"''"},[`${e}-ink-bar`]:{height:n.lineWidthBold,"&-animated":{transition:`width ${n.motionDurationSlow}, left ${n.motionDurationSlow},
            right ${n.motionDurationSlow}`}},[`${e}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:n.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:n.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:n.boxShadowTabsOverflowRight},[`&${e}-nav-wrap-ping-left::before`]:{opacity:1},[`&${e}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${e}-top`]:{[`> ${e}-nav,
        > div > ${e}-nav`]:{"&::before":{bottom:0},[`${e}-ink-bar`]:{bottom:0}}},[`${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{order:1,marginTop:`${r}px`,marginBottom:0,"&::before":{top:0},[`${e}-ink-bar`]:{top:0}},[`> ${e}-content-holder, > div > ${e}-content-holder`]:{order:0}},[`${e}-left, ${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{flexDirection:"column",minWidth:n.controlHeight*1.25,[`${e}-tab`]:{padding:s,textAlign:"center"},[`${e}-tab + ${e}-tab`]:{margin:l},[`${e}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:n.controlHeight},"&::before":{top:0,boxShadow:n.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:n.boxShadowTabsOverflowBottom},[`&${e}-nav-wrap-ping-top::before`]:{opacity:1},[`&${e}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${e}-ink-bar`]:{width:n.lineWidthBold,"&-animated":{transition:`height ${n.motionDurationSlow}, top ${n.motionDurationSlow}`}},[`${e}-nav-list, ${e}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${e}-left`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${e}-content-holder, > div > ${e}-content-holder`]:{marginLeft:{_skip_check_:!0,value:`-${n.lineWidth}px`},borderLeft:{_skip_check_:!0,value:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`},[`> ${e}-content > ${e}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:n.paddingLG}}}},[`${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{order:1,[`${e}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${e}-content-holder, > div > ${e}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:-n.lineWidth},borderRight:{_skip_check_:!0,value:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`},[`> ${e}-content > ${e}-tabpane`]:{paddingRight:{_skip_check_:!0,value:n.paddingLG}}}}}},Fme=n=>{const{componentCls:e,cardPaddingSM:r,cardPaddingLG:i,horizontalItemPaddingSM:o,horizontalItemPaddingLG:s}=n;return{[e]:{"&-small":{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:o,fontSize:n.titleFontSizeSM}}},"&-large":{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:s,fontSize:n.titleFontSizeLG}}}},[`${e}-card`]:{[`&${e}-small`]:{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:r}},[`&${e}-bottom`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:`0 0 ${n.borderRadius}px ${n.borderRadius}px`}},[`&${e}-top`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:`${n.borderRadius}px ${n.borderRadius}px 0 0`}},[`&${e}-right`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${n.borderRadius}px ${n.borderRadius}px 0`}}},[`&${e}-left`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`${n.borderRadius}px 0 0 ${n.borderRadius}px`}}}},[`&${e}-large`]:{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:i}}}}}},Ume=n=>{const{componentCls:e,itemActiveColor:r,itemHoverColor:i,iconCls:o,tabsHorizontalItemMargin:s,horizontalItemPadding:l,itemSelectedColor:u,itemColor:c}=n,d=`${e}-tab`;return{[d]:{position:"relative",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",display:"inline-flex",alignItems:"center",padding:l,fontSize:n.titleFontSize,background:"transparent",border:0,outline:"none",cursor:"pointer",color:c,"&-btn, &-remove":Object.assign({"&:focus:not(:focus-visible), &:active":{color:r}},Jm(n)),"&-btn":{outline:"none",transition:"all 0.3s"},"&-remove":{flex:"none",marginRight:{_skip_check_:!0,value:-n.marginXXS},marginLeft:{_skip_check_:!0,value:n.marginXS},color:n.colorTextDescription,fontSize:n.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${n.motionDurationSlow}`,"&:hover":{color:n.colorTextHeading}},"&:hover":{color:i},[`&${d}-active ${d}-btn`]:{color:u,textShadow:n.tabsActiveTextShadow},[`&${d}-disabled`]:{color:n.colorTextDisabled,cursor:"not-allowed"},[`&${d}-disabled ${d}-btn, &${d}-disabled ${e}-remove`]:{"&:focus, &:active":{color:n.colorTextDisabled}},[`& ${d}-remove ${o}`]:{margin:0},[o]:{marginRight:{_skip_check_:!0,value:n.marginSM}}},[`${d} + ${d}`]:{margin:{_skip_check_:!0,value:s}}}},zme=n=>{const{componentCls:e,tabsHorizontalItemMarginRTL:r,iconCls:i,cardGutter:o}=n;return{[`${e}-rtl`]:{direction:"rtl",[`${e}-nav`]:{[`${e}-tab`]:{margin:{_skip_check_:!0,value:r},[`${e}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[i]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:`${n.marginSM}px`}},[`${e}-tab-remove`]:{marginRight:{_skip_check_:!0,value:`${n.marginXS}px`},marginLeft:{_skip_check_:!0,value:`-${n.marginXXS}px`},[i]:{margin:0}}}},[`&${e}-left`]:{[`> ${e}-nav`]:{order:1},[`> ${e}-content-holder`]:{order:0}},[`&${e}-right`]:{[`> ${e}-nav`]:{order:0},[`> ${e}-content-holder`]:{order:1}},[`&${e}-card${e}-top, &${e}-card${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab + ${e}-tab`]:{marginRight:{_skip_check_:!0,value:o},marginLeft:{_skip_check_:!0,value:0}}}}},[`${e}-dropdown-rtl`]:{direction:"rtl"},[`${e}-menu-item`]:{[`${e}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},Hme=n=>{const{componentCls:e,tabsCardPadding:r,cardHeight:i,cardGutter:o,itemHoverColor:s,itemActiveColor:l,colorBorderSecondary:u}=n;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},ji(n)),{display:"flex",[`> ${e}-nav, > div > ${e}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${e}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${n.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${e}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${n.motionDurationSlow}`},[`${e}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${e}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${e}-nav-more`]:{position:"relative",padding:r,background:"transparent",border:0,color:n.colorText,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:n.controlHeightLG/8,transform:"translateY(100%)",content:"''"}},[`${e}-nav-add`]:Object.assign({minWidth:i,marginLeft:{_skip_check_:!0,value:o},padding:`0 ${n.paddingXS}px`,background:"transparent",border:`${n.lineWidth}px ${n.lineType} ${u}`,borderRadius:`${n.borderRadiusLG}px ${n.borderRadiusLG}px 0 0`,outline:"none",cursor:"pointer",color:n.colorText,transition:`all ${n.motionDurationSlow} ${n.motionEaseInOut}`,"&:hover":{color:s},"&:active, &:focus:not(:focus-visible)":{color:l}},Jm(n))},[`${e}-extra-content`]:{flex:"none"},[`${e}-ink-bar`]:{position:"absolute",background:n.inkBarColor,pointerEvents:"none"}}),Ume(n)),{[`${e}-content`]:{position:"relative",width:"100%"},[`${e}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${e}-tabpane`]:{outline:"none","&-hidden":{display:"none"}}}),[`${e}-centered`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-nav-wrap`]:{[`&:not([class*='${e}-nav-wrap-ping'])`]:{justifyContent:"center"}}}}}},$me=zi("Tabs",n=>{const e=ti(n,{tabsCardPadding:n.cardPadding||`${(n.cardHeight-Math.round(n.fontSize*n.lineHeight))/2-n.lineWidth}px ${n.padding}px`,dropdownEdgeChildVerticalPadding:n.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120,tabsHorizontalItemMargin:`0 0 0 ${n.horizontalItemGutter}px`,tabsHorizontalItemMarginRTL:`0 0 0 ${n.horizontalItemGutter}px`});return[Fme(e),zme(e),kme(e),Nme(e),Dme(e),Hme(e),Ome(e)]},n=>{const e=n.controlHeightLG;return{zIndexPopup:n.zIndexPopupBase+50,cardBg:n.colorFillAlter,cardHeight:e,cardPadding:"",cardPaddingSM:`${n.paddingXXS*1.5}px ${n.padding}px`,cardPaddingLG:`${n.paddingXS}px ${n.padding}px ${n.paddingXXS*1.5}px`,titleFontSize:n.fontSize,titleFontSizeLG:n.fontSizeLG,titleFontSizeSM:n.fontSize,inkBarColor:n.colorPrimary,horizontalMargin:`0 0 ${n.margin}px 0`,horizontalItemGutter:32,horizontalItemMargin:"",horizontalItemMarginRTL:"",horizontalItemPadding:`${n.paddingSM}px 0`,horizontalItemPaddingSM:`${n.paddingXS}px 0`,horizontalItemPaddingLG:`${n.padding}px 0`,verticalItemPadding:`${n.paddingXS}px ${n.paddingLG}px`,verticalItemMargin:`${n.margin}px 0 0 0`,itemColor:n.colorText,itemSelectedColor:n.colorPrimary,itemHoverColor:n.colorPrimaryHover,itemActiveColor:n.colorPrimaryActive,cardGutter:n.marginXXS/2}}),Gme=()=>null,jme=Gme;var Vme=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const XH=n=>{const{type:e,className:r,rootClassName:i,size:o,onEdit:s,hideAdd:l,centered:u,addIcon:c,popupClassName:d,children:h,items:p,animated:m,style:v,indicatorSize:y}=n,A=Vme(n,["type","className","rootClassName","size","onEdit","hideAdd","centered","addIcon","popupClassName","children","items","animated","style","indicatorSize"]),{prefixCls:b,moreIcon:g=M.createElement(RI,null)}=A,{direction:w,tabs:E,getPrefixCls:C,getPopupContainer:_}=M.useContext(_r),L=C("tabs",b),[R,P]=$me(L);let T;e==="editable-card"&&(T={onEdit:(F,k)=>{let{key:z,event:G}=k;s==null||s(F==="add"?G:z,F)},removeIcon:M.createElement(pg,null),addIcon:c||M.createElement(oie,null),showAdd:l!==!0});const D=C(),$=Pme(p,h),V=Rme(L,m),B=Jl(o),O=Object.assign(Object.assign({},E==null?void 0:E.style),v);return R(M.createElement(Mme,Object.assign({direction:w,getPopupContainer:_,moreTransitionName:`${D}-slide-up`},A,{items:$,className:Et({[`${L}-${B}`]:B,[`${L}-card`]:["card","editable-card"].includes(e),[`${L}-editable-card`]:e==="editable-card",[`${L}-centered`]:u},E==null?void 0:E.className,r,i,P),popupClassName:Et(d,P),style:O,editable:T,moreIcon:g,prefixCls:L,animated:V,indicatorSize:y??(E==null?void 0:E.indicatorSize)})))};XH.TabPane=jme;const Wme=XH;var Qme=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const Kme=n=>{var{prefixCls:e,className:r,hoverable:i=!0}=n,o=Qme(n,["prefixCls","className","hoverable"]);const{getPrefixCls:s}=M.useContext(_r),l=s("card",e),u=Et(`${l}-grid`,r,{[`${l}-grid-hoverable`]:i});return M.createElement("div",Object.assign({},o,{className:u}))},qH=Kme,Xme=n=>{const{antCls:e,componentCls:r,headerHeight:i,cardPaddingBase:o,tabsMarginBottom:s}=n;return Object.assign(Object.assign({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:i,marginBottom:-1,padding:`0 ${o}px`,color:n.colorTextHeading,fontWeight:n.fontWeightStrong,fontSize:n.headerFontSize,background:n.headerBg,borderBottom:`${n.lineWidth}px ${n.lineType} ${n.colorBorderSecondary}`,borderRadius:`${n.borderRadiusLG}px ${n.borderRadiusLG}px 0 0`},Ec()),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":Object.assign(Object.assign({display:"inline-block",flex:1},xc),{[`
          > ${r}-typography,
          > ${r}-typography-edit-content
        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${e}-tabs-top`]:{clear:"both",marginBottom:s,color:n.colorText,fontWeight:"normal",fontSize:n.fontSize,"&-bar":{borderBottom:`${n.lineWidth}px ${n.lineType} ${n.colorBorderSecondary}`}}})},qme=n=>{const{cardPaddingBase:e,colorBorderSecondary:r,cardShadow:i,lineWidth:o}=n;return{width:"33.33%",padding:e,border:0,borderRadius:0,boxShadow:`
      ${o}px 0 0 0 ${r},
      0 ${o}px 0 0 ${r},
      ${o}px ${o}px 0 0 ${r},
      ${o}px 0 0 0 ${r} inset,
      0 ${o}px 0 0 ${r} inset;
    `,transition:`all ${n.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:i}}},Yme=n=>{const{componentCls:e,iconCls:r,actionsLiMargin:i,cardActionsIconSize:o,colorBorderSecondary:s,actionsBg:l}=n;return Object.assign(Object.assign({margin:0,padding:0,listStyle:"none",background:l,borderTop:`${n.lineWidth}px ${n.lineType} ${s}`,display:"flex",borderRadius:`0 0 ${n.borderRadiusLG}px ${n.borderRadiusLG}px `},Ec()),{"& > li":{margin:i,color:n.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:n.cardActionsIconSize*2,fontSize:n.fontSize,lineHeight:n.lineHeight,cursor:"pointer","&:hover":{color:n.colorPrimary,transition:`color ${n.motionDurationMid}`},[`a:not(${e}-btn), > ${r}`]:{display:"inline-block",width:"100%",color:n.colorTextDescription,lineHeight:`${n.fontSize*n.lineHeight}px`,transition:`color ${n.motionDurationMid}`,"&:hover":{color:n.colorPrimary}},[`> ${r}`]:{fontSize:o,lineHeight:`${o*n.lineHeight}px`}},"&:not(:last-child)":{borderInlineEnd:`${n.lineWidth}px ${n.lineType} ${s}`}}})},Jme=n=>Object.assign(Object.assign({margin:`-${n.marginXXS}px 0`,display:"flex"},Ec()),{"&-avatar":{paddingInlineEnd:n.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:n.marginXS}},"&-title":Object.assign({color:n.colorTextHeading,fontWeight:n.fontWeightStrong,fontSize:n.fontSizeLG},xc),"&-description":{color:n.colorTextDescription}}),Zme=n=>{const{componentCls:e,cardPaddingBase:r,colorFillAlter:i}=n;return{[`${e}-head`]:{padding:`0 ${r}px`,background:i,"&-title":{fontSize:n.fontSize}},[`${e}-body`]:{padding:`${n.padding}px ${r}px`}}},ege=n=>{const{componentCls:e}=n;return{overflow:"hidden",[`${e}-body`]:{userSelect:"none"}}},tge=n=>{const{antCls:e,componentCls:r,cardShadow:i,cardHeadPadding:o,colorBorderSecondary:s,boxShadowTertiary:l,cardPaddingBase:u,extraColor:c}=n;return{[r]:Object.assign(Object.assign({},ji(n)),{position:"relative",background:n.colorBgContainer,borderRadius:n.borderRadiusLG,[`&:not(${r}-bordered)`]:{boxShadow:l},[`${r}-head`]:Xme(n),[`${r}-extra`]:{marginInlineStart:"auto",color:c,fontWeight:"normal",fontSize:n.fontSize},[`${r}-body`]:Object.assign({padding:u,borderRadius:` 0 0 ${n.borderRadiusLG}px ${n.borderRadiusLG}px`},Ec()),[`${r}-grid`]:qme(n),[`${r}-cover`]:{"> *":{display:"block",width:"100%"},[`img, img + ${e}-image-mask`]:{borderRadius:`${n.borderRadiusLG}px ${n.borderRadiusLG}px 0 0`}},[`${r}-actions`]:Yme(n),[`${r}-meta`]:Jme(n)}),[`${r}-bordered`]:{border:`${n.lineWidth}px ${n.lineType} ${s}`,[`${r}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${r}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${n.motionDurationMid}, border-color ${n.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:i}},[`${r}-contain-grid`]:{borderRadius:`${n.borderRadiusLG}px ${n.borderRadiusLG}px 0 0 `,[`${r}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${r}-loading) ${r}-body`]:{marginBlockStart:-n.lineWidth,marginInlineStart:-n.lineWidth,padding:0}},[`${r}-contain-tabs`]:{[`> ${r}-head`]:{minHeight:0,[`${r}-head-title, ${r}-extra`]:{paddingTop:o}}},[`${r}-type-inner`]:Zme(n),[`${r}-loading`]:ege(n),[`${r}-rtl`]:{direction:"rtl"}}},nge=n=>{const{componentCls:e,cardPaddingSM:r,headerHeightSM:i,headerFontSizeSM:o}=n;return{[`${e}-small`]:{[`> ${e}-head`]:{minHeight:i,padding:`0 ${r}px`,fontSize:o,[`> ${e}-head-wrapper`]:{[`> ${e}-extra`]:{fontSize:n.fontSize}}},[`> ${e}-body`]:{padding:r}},[`${e}-small${e}-contain-tabs`]:{[`> ${e}-head`]:{[`${e}-head-title, ${e}-extra`]:{paddingTop:0,display:"flex",alignItems:"center"}}}}},rge=zi("Card",n=>{const e=ti(n,{cardShadow:n.boxShadowCard,cardHeadPadding:n.padding,cardPaddingBase:n.paddingLG,cardActionsIconSize:n.fontSize,cardPaddingSM:12});return[tge(e),nge(e)]},n=>({headerBg:"transparent",headerFontSize:n.fontSizeLG,headerFontSizeSM:n.fontSize,headerHeight:n.fontSizeLG*n.lineHeightLG+n.padding*2,headerHeightSM:n.fontSize*n.lineHeight+n.paddingXS*2,actionsBg:n.colorBgContainer,actionsLiMargin:`${n.paddingSM}px 0`,tabsMarginBottom:-n.padding-n.lineWidth,extraColor:n.colorText}));var dk=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};function ige(n){return n.map((e,r)=>M.createElement("li",{style:{width:`${100/n.length}%`},key:`action-${r}`},M.createElement("span",null,e)))}const oge=M.forwardRef((n,e)=>{const{prefixCls:r,className:i,rootClassName:o,style:s,extra:l,headStyle:u={},bodyStyle:c={},title:d,loading:h,bordered:p=!0,size:m,type:v,cover:y,actions:A,tabList:b,children:g,activeTabKey:w,defaultActiveTabKey:E,tabBarExtraContent:C,hoverable:_,tabProps:L={}}=n,R=dk(n,["prefixCls","className","rootClassName","style","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),{getPrefixCls:P,direction:T,card:D}=M.useContext(_r),$=He=>{var Ze;(Ze=n.onTabChange)===null||Ze===void 0||Ze.call(n,He)},V=M.useMemo(()=>{let He=!1;return M.Children.forEach(g,Ze=>{Ze&&Ze.type&&Ze.type===qH&&(He=!0)}),He},[g]),B=P("card",r),[O,F]=rge(B),k=M.createElement(GH,{loading:!0,active:!0,paragraph:{rows:4},title:!1},g),z=w!==void 0,G=Object.assign(Object.assign({},L),{[z?"activeKey":"defaultActiveKey"]:z?w:E,tabBarExtraContent:C});let j;const Q=Jl(m),X=!Q||Q==="default"?"large":Q,J=b?M.createElement(Wme,Object.assign({size:X},G,{className:`${B}-head-tabs`,onChange:$,items:b.map(He=>{var{tab:Ze}=He,Xe=dk(He,["tab"]);return Object.assign({label:Ze},Xe)})})):null;(d||l||J)&&(j=M.createElement("div",{className:`${B}-head`,style:u},M.createElement("div",{className:`${B}-head-wrapper`},d&&M.createElement("div",{className:`${B}-head-title`},d),l&&M.createElement("div",{className:`${B}-extra`},l)),J));const Z=y?M.createElement("div",{className:`${B}-cover`},y):null,oe=M.createElement("div",{className:`${B}-body`,style:c},h?k:g),ue=A&&A.length?M.createElement("ul",{className:`${B}-actions`},ige(A)):null,Be=vo(R,["onTabChange"]),ge=Et(B,D==null?void 0:D.className,{[`${B}-loading`]:h,[`${B}-bordered`]:p,[`${B}-hoverable`]:_,[`${B}-contain-grid`]:V,[`${B}-contain-tabs`]:b&&b.length,[`${B}-${Q}`]:Q,[`${B}-type-${v}`]:!!v,[`${B}-rtl`]:T==="rtl"},i,o,F),Ie=Object.assign(Object.assign({},D==null?void 0:D.style),s);return O(M.createElement("div",Object.assign({ref:e},Be,{className:ge,style:Ie}),j,Z,oe,ue))}),age=oge;var sge=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const lge=n=>{const{prefixCls:e,className:r,avatar:i,title:o,description:s}=n,l=sge(n,["prefixCls","className","avatar","title","description"]),{getPrefixCls:u}=M.useContext(_r),c=u("card",e),d=Et(`${c}-meta`,r),h=i?M.createElement("div",{className:`${c}-meta-avatar`},i):null,p=o?M.createElement("div",{className:`${c}-meta-title`},o):null,m=s?M.createElement("div",{className:`${c}-meta-description`},s):null,v=p||m?M.createElement("div",{className:`${c}-meta-detail`},p,m):null;return M.createElement("div",Object.assign({},l,{className:d}),h,v)},cge=lge,ML=age;ML.Grid=qH;ML.Meta=cge;const IC=ML;function uge(n,e,r){var i=r||{},o=i.noTrailing,s=o===void 0?!1:o,l=i.noLeading,u=l===void 0?!1:l,c=i.debounceMode,d=c===void 0?void 0:c,h,p=!1,m=0;function v(){h&&clearTimeout(h)}function y(b){var g=b||{},w=g.upcomingOnly,E=w===void 0?!1:w;v(),p=!E}function A(){for(var b=arguments.length,g=new Array(b),w=0;w<b;w++)g[w]=arguments[w];var E=this,C=Date.now()-m;if(p)return;function _(){m=Date.now(),e.apply(E,g)}function L(){h=void 0}!u&&d&&!h&&_(),v(),d===void 0&&C>n?u?(m=Date.now(),s||(h=setTimeout(d?L:_,n))):_():s!==!0&&(h=setTimeout(d?L:_,d===void 0?n-C:n))}return A.cancel=y,A}function dge(n,e,r){var i=r||{},o=i.atBegin,s=o===void 0?!1:o;return uge(n,e,{debounceMode:s!==!1})}function Is(n,e){return n[e]}var fge=["children"];function YH(n,e){return"".concat(n,"-").concat(e)}function hge(n){return n&&n.type&&n.type.isTreeNode}function QA(n,e){return n??e}function eg(n){var e=n||{},r=e.title,i=e._title,o=e.key,s=e.children,l=r||"title";return{title:l,_title:i||[l],key:o||"key",children:s||"children"}}function JH(n){function e(r){var i=qa(r);return i.map(function(o){if(!hge(o))return no(!o,"Tree/TreeNode can only accept TreeNode as children."),null;var s=o.key,l=o.props,u=l.children,c=Pr(l,fge),d=mt({key:s},c),h=e(u);return h.length&&(d.children=h),d}).filter(function(o){return o})}return e(n)}function W2(n,e,r){var i=eg(r),o=i._title,s=i.key,l=i.children,u=new Set(e===!0?[]:e),c=[];function d(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return h.map(function(m,v){for(var y=YH(p?p.pos:"0",v),A=QA(m[s],y),b,g=0;g<o.length;g+=1){var w=o[g];if(m[w]!==void 0){b=m[w];break}}var E=mt(mt({},vo(m,[].concat(An(o),[s,l]))),{},{title:b,key:A,parent:p,pos:y,children:null,data:m,isStart:[].concat(An(p?p.isStart:[]),[v===0]),isEnd:[].concat(An(p?p.isEnd:[]),[v===h.length-1])});return c.push(E),e===!0||u.has(A)?E.children=d(m[l]||[],E):E.children=[],E})}return d(n),c}function pge(n,e,r){var i={};Ir(r)==="object"?i=r:i={externalGetKey:r},i=i||{};var o=i,s=o.childrenPropName,l=o.externalGetKey,u=o.fieldNames,c=eg(u),d=c.key,h=c.children,p=s||h,m;l?typeof l=="string"?m=function(A){return A[l]}:typeof l=="function"&&(m=function(A){return l(A)}):m=function(A,b){return QA(A[d],b)};function v(y,A,b,g){var w=y?y[p]:n,E=y?YH(b.pos,A):"0",C=y?[].concat(An(g),[y]):[];if(y){var _=m(y,E),L={node:y,index:A,pos:E,key:_,parentPos:b.node?b.pos:null,level:b.level+1,nodes:C};e(L)}w&&w.forEach(function(R,P){v(R,P,{node:y,pos:E,level:b?b.level+1:-1},C)})}v(null)}function TL(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.initWrapper,i=e.processEntity,o=e.onProcessFinished,s=e.externalGetKey,l=e.childrenPropName,u=e.fieldNames,c=arguments.length>2?arguments[2]:void 0,d=s||c,h={},p={},m={posEntities:h,keyEntities:p};return r&&(m=r(m)||m),pge(n,function(v){var y=v.node,A=v.index,b=v.pos,g=v.key,w=v.parentPos,E=v.level,C=v.nodes,_={node:y,nodes:C,index:A,key:g,pos:b,level:E},L=QA(g,b);h[b]=_,p[L]=_,_.parent=h[w],_.parent&&(_.parent.children=_.parent.children||[],_.parent.children.push(_)),i&&i(_,m)},{externalGetKey:d,childrenPropName:l,fieldNames:u}),o&&o(m),m}function O0(n,e){var r=e.expandedKeys,i=e.selectedKeys,o=e.loadedKeys,s=e.loadingKeys,l=e.checkedKeys,u=e.halfCheckedKeys,c=e.dragOverNodeKey,d=e.dropPosition,h=e.keyEntities,p=Is(h,n),m={eventKey:n,expanded:r.indexOf(n)!==-1,selected:i.indexOf(n)!==-1,loaded:o.indexOf(n)!==-1,loading:s.indexOf(n)!==-1,checked:l.indexOf(n)!==-1,halfChecked:u.indexOf(n)!==-1,pos:String(p?p.pos:""),dragOver:c===n&&d===0,dragOverGapTop:c===n&&d===-1,dragOverGapBottom:c===n&&d===1};return m}function Do(n){var e=n.data,r=n.expanded,i=n.selected,o=n.checked,s=n.loaded,l=n.loading,u=n.halfChecked,c=n.dragOver,d=n.dragOverGapTop,h=n.dragOverGapBottom,p=n.pos,m=n.active,v=n.eventKey,y=mt(mt({},e),{},{expanded:r,selected:i,checked:o,loaded:s,loading:l,halfChecked:u,dragOver:c,dragOverGapTop:d,dragOverGapBottom:h,pos:p,active:m,key:v});return"props"in y||Object.defineProperty(y,"props",{get:function(){return no(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),n}}),y}function ZH(n,e){var r=new Set;return n.forEach(function(i){e.has(i)||r.add(i)}),r}function mge(n){var e=n||{},r=e.disabled,i=e.disableCheckbox,o=e.checkable;return!!(r||i)||o===!1}function gge(n,e,r,i){for(var o=new Set(n),s=new Set,l=0;l<=r;l+=1){var u=e.get(l)||new Set;u.forEach(function(p){var m=p.key,v=p.node,y=p.children,A=y===void 0?[]:y;o.has(m)&&!i(v)&&A.filter(function(b){return!i(b.node)}).forEach(function(b){o.add(b.key)})})}for(var c=new Set,d=r;d>=0;d-=1){var h=e.get(d)||new Set;h.forEach(function(p){var m=p.parent,v=p.node;if(!(i(v)||!p.parent||c.has(p.parent.key))){if(i(p.parent.node)){c.add(m.key);return}var y=!0,A=!1;(m.children||[]).filter(function(b){return!i(b.node)}).forEach(function(b){var g=b.key,w=o.has(g);y&&!w&&(y=!1),!A&&(w||s.has(g))&&(A=!0)}),y&&o.add(m.key),A&&s.add(m.key),c.add(m.key)}})}return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(ZH(s,o))}}function vge(n,e,r,i,o){for(var s=new Set(n),l=new Set(e),u=0;u<=i;u+=1){var c=r.get(u)||new Set;c.forEach(function(m){var v=m.key,y=m.node,A=m.children,b=A===void 0?[]:A;!s.has(v)&&!l.has(v)&&!o(y)&&b.filter(function(g){return!o(g.node)}).forEach(function(g){s.delete(g.key)})})}l=new Set;for(var d=new Set,h=i;h>=0;h-=1){var p=r.get(h)||new Set;p.forEach(function(m){var v=m.parent,y=m.node;if(!(o(y)||!m.parent||d.has(m.parent.key))){if(o(m.parent.node)){d.add(v.key);return}var A=!0,b=!1;(v.children||[]).filter(function(g){return!o(g.node)}).forEach(function(g){var w=g.key,E=s.has(w);A&&!E&&(A=!1),!b&&(E||l.has(w))&&(b=!0)}),A||s.delete(v.key),b&&l.add(v.key),d.add(v.key)}})}return{checkedKeys:Array.from(s),halfCheckedKeys:Array.from(ZH(l,s))}}function Pm(n,e,r,i){var o=[],s;i?s=i:s=mge;var l=new Set(n.filter(function(h){var p=!!Is(r,h);return p||o.push(h),p})),u=new Map,c=0;Object.keys(r).forEach(function(h){var p=r[h],m=p.level,v=u.get(m);v||(v=new Set,u.set(m,v)),v.add(p),c=Math.max(c,m)}),no(!o.length,"Tree missing follow keys: ".concat(o.slice(0,100).map(function(h){return"'".concat(h,"'")}).join(", ")));var d;return e===!0?d=gge(l,u,c,s):d=vge(l,e.halfCheckedKeys,u,c,s),d}const Age=n=>{const{checkboxCls:e}=n,r=`${e}-wrapper`;return[{[`${e}-group`]:Object.assign(Object.assign({},ji(n)),{display:"inline-flex",flexWrap:"wrap",columnGap:n.marginXS,[`> ${n.antCls}-row`]:{flex:1}}),[r]:Object.assign(Object.assign({},ji(n)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${r}`]:{marginInlineStart:0},[`&${r}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[e]:Object.assign(Object.assign({},ji(n)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:n.borderRadiusSM,alignSelf:"center",[`${e}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${e}-inner`]:Object.assign({},Iu(n))},[`${e}-inner`]:{boxSizing:"border-box",position:"relative",top:0,insetInlineStart:0,display:"block",width:n.checkboxSize,height:n.checkboxSize,direction:"ltr",backgroundColor:n.colorBgContainer,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadiusSM,borderCollapse:"separate",transition:`all ${n.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:n.checkboxSize/14*5,height:n.checkboxSize/14*8,border:`${n.lineWidthBold}px solid ${n.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${n.motionDurationFast} ${n.motionEaseInBack}, opacity ${n.motionDurationFast}`}},"& + span":{paddingInlineStart:n.paddingXS,paddingInlineEnd:n.paddingXS}})},{[`
        ${r}:not(${r}-disabled),
        ${e}:not(${e}-disabled)
      `]:{[`&:hover ${e}-inner`]:{borderColor:n.colorPrimary}},[`${r}:not(${r}-disabled)`]:{[`&:hover ${e}-checked:not(${e}-disabled) ${e}-inner`]:{backgroundColor:n.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${e}-checked:not(${e}-disabled):after`]:{borderColor:n.colorPrimaryHover}}},{[`${e}-checked`]:{[`${e}-inner`]:{backgroundColor:n.colorPrimary,borderColor:n.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${n.motionDurationMid} ${n.motionEaseOutBack} ${n.motionDurationFast}`}}},[`
        ${r}-checked:not(${r}-disabled),
        ${e}-checked:not(${e}-disabled)
      `]:{[`&:hover ${e}-inner`]:{backgroundColor:n.colorPrimaryHover,borderColor:"transparent"}}},{[e]:{"&-indeterminate":{[`${e}-inner`]:{backgroundColor:n.colorBgContainer,borderColor:n.colorBorder,"&:after":{top:"50%",insetInlineStart:"50%",width:n.fontSizeLG/2,height:n.fontSizeLG/2,backgroundColor:n.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}}}}},{[`${r}-disabled`]:{cursor:"not-allowed"},[`${e}-disabled`]:{[`&, ${e}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${e}-inner`]:{background:n.colorBgContainerDisabled,borderColor:n.colorBorder,"&:after":{borderColor:n.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:n.colorTextDisabled},[`&${e}-indeterminate ${e}-inner::after`]:{background:n.colorTextDisabled}}}]};function e$(n,e){const r=ti(e,{checkboxCls:`.${n}`,checkboxSize:e.controlInteractiveSize});return[Age(r)]}const t$=zi("Checkbox",(n,e)=>{let{prefixCls:r}=e;return[e$(r,n)]}),yge=nn.createContext(null),n$=yge;var bge=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const xge=(n,e)=>{var r;const{prefixCls:i,className:o,rootClassName:s,children:l,indeterminate:u=!1,style:c,onMouseEnter:d,onMouseLeave:h,skipGroup:p=!1,disabled:m}=n,v=bge(n,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:y,direction:A,checkbox:b}=M.useContext(_r),g=M.useContext(n$),{isFormItemInput:w}=M.useContext(Pu),E=M.useContext(Jd),C=(r=(g==null?void 0:g.disabled)||m)!==null&&r!==void 0?r:E,_=M.useRef(v.value);M.useEffect(()=>{g==null||g.registerValue(v.value)},[]),M.useEffect(()=>{if(!p)return v.value!==_.current&&(g==null||g.cancelValue(_.current),g==null||g.registerValue(v.value),_.current=v.value),()=>g==null?void 0:g.cancelValue(v.value)},[v.value]);const L=y("checkbox",i),[R,P]=t$(L),T=Object.assign({},v);g&&!p&&(T.onChange=function(){v.onChange&&v.onChange.apply(v,arguments),g.toggleOption&&g.toggleOption({label:l,value:v.value})},T.name=g.name,T.checked=g.value.includes(v.value));const D=Et(`${L}-wrapper`,{[`${L}-rtl`]:A==="rtl",[`${L}-wrapper-checked`]:T.checked,[`${L}-wrapper-disabled`]:C,[`${L}-wrapper-in-form-item`]:w},b==null?void 0:b.className,o,s,P),$=Et({[`${L}-indeterminate`]:u},pC,P),V=u?"mixed":void 0;return R(M.createElement(mC,{component:"Checkbox",disabled:C},M.createElement("label",{className:D,style:Object.assign(Object.assign({},b==null?void 0:b.style),c),onMouseEnter:d,onMouseLeave:h},M.createElement(OH,Object.assign({"aria-checked":V},T,{prefixCls:L,className:$,disabled:C,ref:e})),l!==void 0&&M.createElement("span",null,l))))},Ege=M.forwardRef(xge),r$=Ege;var Cge=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const wge=(n,e)=>{const{defaultValue:r,children:i,options:o=[],prefixCls:s,className:l,rootClassName:u,style:c,onChange:d}=n,h=Cge(n,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:p,direction:m}=M.useContext(_r),[v,y]=M.useState(h.value||r||[]),[A,b]=M.useState([]);M.useEffect(()=>{"value"in h&&y(h.value||[])},[h.value]);const g=M.useMemo(()=>o.map(B=>typeof B=="string"||typeof B=="number"?{label:B,value:B}:B),[o]),w=B=>{b(O=>O.filter(F=>F!==B))},E=B=>{b(O=>[].concat(An(O),[B]))},C=B=>{const O=v.indexOf(B.value),F=An(v);O===-1?F.push(B.value):F.splice(O,1),"value"in h||y(F),d==null||d(F.filter(k=>A.includes(k)).sort((k,z)=>{const G=g.findIndex(Q=>Q.value===k),j=g.findIndex(Q=>Q.value===z);return G-j}))},_=p("checkbox",s),L=`${_}-group`,[R,P]=t$(_),T=vo(h,["value","disabled"]),D=o.length?g.map(B=>M.createElement(r$,{prefixCls:_,key:B.value.toString(),disabled:"disabled"in B?B.disabled:h.disabled,value:B.value,checked:v.includes(B.value),onChange:B.onChange,className:`${L}-item`,style:B.style,title:B.title,id:B.id},B.label)):i,$={toggleOption:C,value:v,disabled:h.disabled,name:h.name,registerValue:E,cancelValue:w},V=Et(L,{[`${L}-rtl`]:m==="rtl"},l,u,P);return R(M.createElement("div",Object.assign({className:V,style:c},T,{ref:e}),M.createElement(n$.Provider,{value:$},D)))},Sge=M.forwardRef(wge),_ge=M.memo(Sge),RL=r$;RL.Group=_ge;RL.__ANT_CHECKBOX=!0;const iE=RL,Mge=M.createContext({}),i$=Mge,Tge=n=>{const{componentCls:e}=n;return{[e]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},Rge=n=>{const{componentCls:e}=n;return{[e]:{position:"relative",maxWidth:"100%",minHeight:1}}},Ige=(n,e)=>{const{componentCls:r,gridColumns:i}=n,o={};for(let s=i;s>=0;s--)s===0?(o[`${r}${e}-${s}`]={display:"none"},o[`${r}-push-${s}`]={insetInlineStart:"auto"},o[`${r}-pull-${s}`]={insetInlineEnd:"auto"},o[`${r}${e}-push-${s}`]={insetInlineStart:"auto"},o[`${r}${e}-pull-${s}`]={insetInlineEnd:"auto"},o[`${r}${e}-offset-${s}`]={marginInlineStart:0},o[`${r}${e}-order-${s}`]={order:0}):(o[`${r}${e}-${s}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${s/i*100}%`,maxWidth:`${s/i*100}%`}],o[`${r}${e}-push-${s}`]={insetInlineStart:`${s/i*100}%`},o[`${r}${e}-pull-${s}`]={insetInlineEnd:`${s/i*100}%`},o[`${r}${e}-offset-${s}`]={marginInlineStart:`${s/i*100}%`},o[`${r}${e}-order-${s}`]={order:s});return o},v3=(n,e)=>Ige(n,e),Lge=(n,e,r)=>({[`@media (min-width: ${e}px)`]:Object.assign({},v3(n,r))}),Pge=zi("Grid",n=>[Tge(n)]),Bge=zi("Grid",n=>{const e=ti(n,{gridColumns:24}),r={"-sm":e.screenSMMin,"-md":e.screenMDMin,"-lg":e.screenLGMin,"-xl":e.screenXLMin,"-xxl":e.screenXXLMin};return[Rge(e),v3(e,""),v3(e,"-xs"),Object.keys(r).map(i=>Lge(e,r[i],i)).reduce((i,o)=>Object.assign(Object.assign({},i),o),{})]});var Oge=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};function Dge(n){return typeof n=="number"?`${n} ${n} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(n)?`0 0 ${n}`:n}const Nge=["xs","sm","md","lg","xl","xxl"],kge=M.forwardRef((n,e)=>{const{getPrefixCls:r,direction:i}=M.useContext(_r),{gutter:o,wrap:s}=M.useContext(i$),{prefixCls:l,span:u,order:c,offset:d,push:h,pull:p,className:m,children:v,flex:y,style:A}=n,b=Oge(n,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),g=r("col",l),[w,E]=Bge(g);let C={};Nge.forEach(R=>{let P={};const T=n[R];typeof T=="number"?P.span=T:typeof T=="object"&&(P=T||{}),delete b[R],C=Object.assign(Object.assign({},C),{[`${g}-${R}-${P.span}`]:P.span!==void 0,[`${g}-${R}-order-${P.order}`]:P.order||P.order===0,[`${g}-${R}-offset-${P.offset}`]:P.offset||P.offset===0,[`${g}-${R}-push-${P.push}`]:P.push||P.push===0,[`${g}-${R}-pull-${P.pull}`]:P.pull||P.pull===0,[`${g}-${R}-flex-${P.flex}`]:P.flex||P.flex==="auto",[`${g}-rtl`]:i==="rtl"})});const _=Et(g,{[`${g}-${u}`]:u!==void 0,[`${g}-order-${c}`]:c,[`${g}-offset-${d}`]:d,[`${g}-push-${h}`]:h,[`${g}-pull-${p}`]:p},m,C,E),L={};if(o&&o[0]>0){const R=o[0]/2;L.paddingLeft=R,L.paddingRight=R}return y&&(L.flex=Dge(y),s===!1&&!L.minWidth&&(L.minWidth=0)),w(M.createElement("div",Object.assign({},b,{style:Object.assign(Object.assign({},L),A),className:_,ref:e}),v))}),Jf=kge;var Fge=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};function fk(n,e){const[r,i]=M.useState(typeof n=="string"?n:""),o=()=>{if(typeof n=="string"&&i(n),typeof n=="object")for(let s=0;s<yA.length;s++){const l=yA[s];if(!e[l])continue;const u=n[l];if(u!==void 0){i(u);return}}};return M.useEffect(()=>{o()},[JSON.stringify(n),e]),r}const Uge=M.forwardRef((n,e)=>{const{prefixCls:r,justify:i,align:o,className:s,style:l,children:u,gutter:c=0,wrap:d}=n,h=Fge(n,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:p,direction:m}=M.useContext(_r),[v,y]=M.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[A,b]=M.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),g=fk(o,A),w=fk(i,A),E=M.useRef(c),C=nH();M.useEffect(()=>{const k=C.subscribe(z=>{b(z);const G=E.current||0;(!Array.isArray(G)&&typeof G=="object"||Array.isArray(G)&&(typeof G[0]=="object"||typeof G[1]=="object"))&&y(z)});return()=>C.unsubscribe(k)},[]);const _=()=>{const k=[void 0,void 0];return(Array.isArray(c)?c:[c,void 0]).forEach((G,j)=>{if(typeof G=="object")for(let Q=0;Q<yA.length;Q++){const X=yA[Q];if(v[X]&&G[X]!==void 0){k[j]=G[X];break}}else k[j]=G}),k},L=p("row",r),[R,P]=Pge(L),T=_(),D=Et(L,{[`${L}-no-wrap`]:d===!1,[`${L}-${w}`]:w,[`${L}-${g}`]:g,[`${L}-rtl`]:m==="rtl"},s,P),$={},V=T[0]!=null&&T[0]>0?T[0]/-2:void 0;V&&($.marginLeft=V,$.marginRight=V),[,$.rowGap]=T;const[B,O]=T,F=M.useMemo(()=>({gutter:[B,O],wrap:d}),[B,O,d]);return R(M.createElement(i$.Provider,{value:F},M.createElement("div",Object.assign({},h,{className:D,style:Object.assign(Object.assign({},$),l),ref:e}),u)))}),o$=Uge,zge=n=>{const{componentCls:e,sizePaddingEdgeHorizontal:r,colorSplit:i,lineWidth:o,textPaddingInline:s,orientationMargin:l,verticalMarginInline:u}=n;return{[e]:Object.assign(Object.assign({},ji(n)),{borderBlockStart:`${o}px solid ${i}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:u,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${o}px solid ${i}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${n.dividerHorizontalGutterMargin}px 0`},[`&-horizontal${e}-with-text`]:{display:"flex",alignItems:"center",margin:`${n.dividerHorizontalWithTextGutterMargin}px 0`,color:n.colorTextHeading,fontWeight:500,fontSize:n.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${i}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${o}px solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${e}-with-text-left`]:{"&::before":{width:`${l*100}%`},"&::after":{width:`${100-l*100}%`}},[`&-horizontal${e}-with-text-right`]:{"&::before":{width:`${100-l*100}%`},"&::after":{width:`${l*100}%`}},[`${e}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:s},"&-dashed":{background:"none",borderColor:i,borderStyle:"dashed",borderWidth:`${o}px 0 0`},[`&-horizontal${e}-with-text${e}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${e}-dashed`]:{borderInlineStartWidth:o,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${e}-with-text`]:{color:n.colorText,fontWeight:"normal",fontSize:n.fontSize},[`&-horizontal${e}-with-text-left${e}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${e}-inner-text`]:{paddingInlineStart:r}},[`&-horizontal${e}-with-text-right${e}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${e}-inner-text`]:{paddingInlineEnd:r}}})}},Hge=zi("Divider",n=>{const e=ti(n,{dividerHorizontalWithTextGutterMargin:n.margin,dividerHorizontalGutterMargin:n.marginLG,sizePaddingEdgeHorizontal:0});return[zge(e)]},n=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:n.marginXS}));var $ge=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const Gge=n=>{const{getPrefixCls:e,direction:r,divider:i}=M.useContext(_r),{prefixCls:o,type:s="horizontal",orientation:l="center",orientationMargin:u,className:c,rootClassName:d,children:h,dashed:p,plain:m,style:v}=n,y=$ge(n,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","plain","style"]),A=e("divider",o),[b,g]=Hge(A),w=l.length>0?`-${l}`:l,E=!!h,C=l==="left"&&u!=null,_=l==="right"&&u!=null,L=Et(A,i==null?void 0:i.className,g,`${A}-${s}`,{[`${A}-with-text`]:E,[`${A}-with-text${w}`]:E,[`${A}-dashed`]:!!p,[`${A}-plain`]:!!m,[`${A}-rtl`]:r==="rtl",[`${A}-no-default-orientation-margin-left`]:C,[`${A}-no-default-orientation-margin-right`]:_},c,d),R=M.useMemo(()=>typeof u=="number"?u:/^\d+$/.test(u)?Number(u):u,[u]),P=Object.assign(Object.assign({},C&&{marginLeft:R}),_&&{marginRight:R});return b(M.createElement("div",Object.assign({className:L,style:Object.assign(Object.assign({},i==null?void 0:i.style),v)},y,{role:"separator"}),h&&s!=="vertical"&&M.createElement("span",{className:`${A}-inner-text`,style:P},h)))},jge=Gge;function Cp(n){return!!(n.addonBefore||n.addonAfter)}function Q2(n){return!!(n.prefix||n.suffix||n.allowClear)}function D0(n,e,r,i){if(r){var o=e;if(e.type==="click"){var s=n.cloneNode(!0);o=Object.create(e,{target:{value:s},currentTarget:{value:s}}),s.value="",r(o);return}if(i!==void 0){o=Object.create(e,{target:{value:n},currentTarget:{value:n}}),n.value=i,r(o);return}r(o)}}function Vge(n,e){if(n){n.focus(e);var r=e||{},i=r.cursor;if(i){var o=n.value.length;switch(i){case"start":n.setSelectionRange(0,0);break;case"end":n.setSelectionRange(o,o);break;default:n.setSelectionRange(0,o)}}}}function A3(n){return typeof n>"u"||n===null?"":String(n)}var a$=function(e){var r,i,o=e.inputElement,s=e.prefixCls,l=e.prefix,u=e.suffix,c=e.addonBefore,d=e.addonAfter,h=e.className,p=e.style,m=e.disabled,v=e.readOnly,y=e.focused,A=e.triggerFocus,b=e.allowClear,g=e.value,w=e.handleReset,E=e.hidden,C=e.classes,_=e.classNames,L=e.dataAttrs,R=e.styles,P=e.components,T=(P==null?void 0:P.affixWrapper)||"span",D=(P==null?void 0:P.groupWrapper)||"span",$=(P==null?void 0:P.wrapper)||"span",V=(P==null?void 0:P.groupAddon)||"span",B=M.useRef(null),O=function(Be){var ge;(ge=B.current)!==null&&ge!==void 0&&ge.contains(Be.target)&&(A==null||A())},F=function(){var Be;if(!b)return null;var ge=!m&&!v&&g,Ie="".concat(s,"-clear-icon"),He=Ir(b)==="object"&&b!==null&&b!==void 0&&b.clearIcon?b.clearIcon:"✖";return nn.createElement("span",{onClick:w,onMouseDown:function(Xe){return Xe.preventDefault()},className:Et(Ie,(Be={},ct(Be,"".concat(Ie,"-hidden"),!ge),ct(Be,"".concat(Ie,"-has-suffix"),!!u),Be)),role:"button",tabIndex:-1},He)},k=M.cloneElement(o,{value:g,hidden:E,className:Et((r=o.props)===null||r===void 0?void 0:r.className,!Q2(e)&&!Cp(e)&&h)||null,style:mt(mt({},(i=o.props)===null||i===void 0?void 0:i.style),!Q2(e)&&!Cp(e)?p:{})});if(Q2(e)){var z,G="".concat(s,"-affix-wrapper"),j=Et(G,(z={},ct(z,"".concat(G,"-disabled"),m),ct(z,"".concat(G,"-focused"),y),ct(z,"".concat(G,"-readonly"),v),ct(z,"".concat(G,"-input-with-clear-btn"),u&&b&&g),z),!Cp(e)&&h,C==null?void 0:C.affixWrapper,_==null?void 0:_.affixWrapper),Q=(u||b)&&nn.createElement("span",{className:Et("".concat(s,"-suffix"),_==null?void 0:_.suffix),style:R==null?void 0:R.suffix},F(),u);k=nn.createElement(T,on({className:j,style:mt(mt({},Cp(e)?void 0:p),R==null?void 0:R.affixWrapper),hidden:!Cp(e)&&E,onClick:O},L==null?void 0:L.affixWrapper,{ref:B}),l&&nn.createElement("span",{className:Et("".concat(s,"-prefix"),_==null?void 0:_.prefix),style:R==null?void 0:R.prefix},l),M.cloneElement(o,{value:g,hidden:null}),Q)}if(Cp(e)){var X="".concat(s,"-group"),J="".concat(X,"-addon"),Z=Et("".concat(s,"-wrapper"),X,C==null?void 0:C.wrapper),oe=Et("".concat(s,"-group-wrapper"),h,C==null?void 0:C.group);return nn.createElement(D,{className:oe,style:p,hidden:E},nn.createElement($,{className:Z},c&&nn.createElement(V,{className:J},c),M.cloneElement(k,{hidden:null}),d&&nn.createElement(V,{className:J},d)))}return k},Wge=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","type","classes","classNames","styles"],Qge=M.forwardRef(function(n,e){var r=n.autoComplete,i=n.onChange,o=n.onFocus,s=n.onBlur,l=n.onPressEnter,u=n.onKeyDown,c=n.prefixCls,d=c===void 0?"rc-input":c,h=n.disabled,p=n.htmlSize,m=n.className,v=n.maxLength,y=n.suffix,A=n.showCount,b=n.type,g=b===void 0?"text":b,w=n.classes,E=n.classNames,C=n.styles,_=Pr(n,Wge),L=Fo(n.defaultValue,{value:n.value}),R=Nt(L,2),P=R[0],T=R[1],D=M.useState(!1),$=Nt(D,2),V=$[0],B=$[1],O=M.useRef(null),F=function(oe){O.current&&Vge(O.current,oe)};M.useImperativeHandle(e,function(){return{focus:F,blur:function(){var oe;(oe=O.current)===null||oe===void 0||oe.blur()},setSelectionRange:function(oe,ue,Be){var ge;(ge=O.current)===null||ge===void 0||ge.setSelectionRange(oe,ue,Be)},select:function(){var oe;(oe=O.current)===null||oe===void 0||oe.select()},input:O.current}}),M.useEffect(function(){B(function(Z){return Z&&h?!1:Z})},[h]);var k=function(oe){n.value===void 0&&T(oe.target.value),O.current&&D0(O.current,oe,i)},z=function(oe){l&&oe.key==="Enter"&&l(oe),u==null||u(oe)},G=function(oe){B(!0),o==null||o(oe)},j=function(oe){B(!1),s==null||s(oe)},Q=function(oe){T(""),F(),O.current&&D0(O.current,oe,i)},X=function(){var oe=vo(n,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","classes","htmlSize","styles","classNames"]);return nn.createElement("input",on({autoComplete:r},oe,{onChange:k,onFocus:G,onBlur:j,onKeyDown:z,className:Et(d,ct({},"".concat(d,"-disabled"),h),E==null?void 0:E.input),style:C==null?void 0:C.input,ref:O,size:p,type:g}))},J=function(){var oe=Number(v)>0;if(y||A){var ue=A3(P),Be=An(ue).length,ge=Ir(A)==="object"?A.formatter({value:ue,count:Be,maxLength:v}):"".concat(Be).concat(oe?" / ".concat(v):"");return nn.createElement(nn.Fragment,null,!!A&&nn.createElement("span",{className:Et("".concat(d,"-show-count-suffix"),ct({},"".concat(d,"-show-count-has-suffix"),!!y),E==null?void 0:E.count),style:mt({},C==null?void 0:C.count)},ge),y)}return null};return nn.createElement(a$,on({},_,{prefixCls:d,className:m,inputElement:X(),handleReset:Q,value:A3(P),focused:V,triggerFocus:F,suffix:J(),disabled:h,classes:w,classNames:E,styles:C}))});const Kge=n=>{const{getPrefixCls:e,direction:r}=M.useContext(_r),{prefixCls:i,className:o}=n,s=e("input-group",i),l=e("input"),[u,c]=_L(l),d=Et(s,{[`${s}-lg`]:n.size==="large",[`${s}-sm`]:n.size==="small",[`${s}-compact`]:n.compact,[`${s}-rtl`]:r==="rtl"},c,o),h=M.useContext(Pu),p=M.useMemo(()=>Object.assign(Object.assign({},h),{isFormItemInput:!1}),[h]);return u(M.createElement("span",{className:d,style:n.style,onMouseEnter:n.onMouseEnter,onMouseLeave:n.onMouseLeave,onFocus:n.onFocus,onBlur:n.onBlur},M.createElement(Pu.Provider,{value:p},n.children)))},Xge=Kge;function s$(n,e){const r=M.useRef([]),i=()=>{r.current.push(setTimeout(()=>{var o,s,l,u;!((o=n.current)===null||o===void 0)&&o.input&&((s=n.current)===null||s===void 0?void 0:s.input.getAttribute("type"))==="password"&&(!((l=n.current)===null||l===void 0)&&l.input.hasAttribute("value"))&&((u=n.current)===null||u===void 0||u.input.removeAttribute("value"))}))};return M.useEffect(()=>(e&&i(),()=>r.current.forEach(o=>{o&&clearTimeout(o)})),[]),i}function qge(n){return!!(n.prefix||n.suffix||n.allowClear)}var Yge=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};function Jge(n,e){if(!n)return;n.focus(e);const{cursor:r}=e||{};if(r){const i=n.value.length;switch(r){case"start":n.setSelectionRange(0,0);break;case"end":n.setSelectionRange(i,i);break;default:n.setSelectionRange(0,i);break}}}const IL=M.forwardRef((n,e)=>{var r;const{prefixCls:i,bordered:o=!0,status:s,size:l,disabled:u,onBlur:c,onFocus:d,suffix:h,allowClear:p,addonAfter:m,addonBefore:v,className:y,style:A,styles:b,rootClassName:g,onChange:w,classNames:E}=n,C=Yge(n,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames"]),{getPrefixCls:_,direction:L,input:R}=nn.useContext(_r),P=_("input",i),T=M.useRef(null),[D,$]=_L(P),{compactSize:V,compactItemClassnames:B}=HA(P,L),O=Jl(Ie=>{var He;return(He=l??V)!==null&&He!==void 0?He:Ie}),F=nn.useContext(Jd),k=u??F,{status:z,hasFeedback:G,feedbackIcon:j}=M.useContext(Pu),Q=fL(z,s),X=qge(n)||!!G;M.useRef(X);const J=s$(T,!0),Z=Ie=>{J(),c==null||c(Ie)},oe=Ie=>{J(),d==null||d(Ie)},ue=Ie=>{J(),w==null||w(Ie)},Be=(G||h)&&nn.createElement(nn.Fragment,null,h,G&&j);let ge;return typeof p=="object"&&(p!=null&&p.clearIcon)?ge=p:p&&(ge={clearIcon:nn.createElement(FA,null)}),D(nn.createElement(Qge,Object.assign({ref:zs(e,T),prefixCls:P,autoComplete:R==null?void 0:R.autoComplete},C,{disabled:k,onBlur:Z,onFocus:oe,style:Object.assign(Object.assign({},R==null?void 0:R.style),A),styles:Object.assign(Object.assign({},R==null?void 0:R.styles),b),suffix:Be,allowClear:ge,className:Et(y,g,B,R==null?void 0:R.className),onChange:ue,addonAfter:m&&nn.createElement(qx,null,nn.createElement(xN,{override:!0,status:!0},m)),addonBefore:v&&nn.createElement(qx,null,nn.createElement(xN,{override:!0,status:!0},v)),classNames:Object.assign(Object.assign(Object.assign({},E),R==null?void 0:R.classNames),{input:Et({[`${P}-sm`]:O==="small",[`${P}-lg`]:O==="large",[`${P}-rtl`]:L==="rtl",[`${P}-borderless`]:!o},!X&&Im(P,Q),E==null?void 0:E.input,(r=R==null?void 0:R.classNames)===null||r===void 0?void 0:r.input,$)}),classes:{affixWrapper:Et({[`${P}-affix-wrapper-sm`]:O==="small",[`${P}-affix-wrapper-lg`]:O==="large",[`${P}-affix-wrapper-rtl`]:L==="rtl",[`${P}-affix-wrapper-borderless`]:!o},Im(`${P}-affix-wrapper`,Q,G),$),wrapper:Et({[`${P}-group-rtl`]:L==="rtl"},$),group:Et({[`${P}-group-wrapper-sm`]:O==="small",[`${P}-group-wrapper-lg`]:O==="large",[`${P}-group-wrapper-rtl`]:L==="rtl",[`${P}-group-wrapper-disabled`]:k},Im(`${P}-group-wrapper`,Q,G),$)}})))});var Zge=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const eve=n=>n?M.createElement(cz,null):M.createElement(Zne,null),tve={click:"onClick",hover:"onMouseOver"},nve=M.forwardRef((n,e)=>{const{visibilityToggle:r=!0}=n,i=typeof r=="object"&&r.visible!==void 0,[o,s]=M.useState(()=>i?r.visible:!1),l=M.useRef(null);M.useEffect(()=>{i&&s(r.visible)},[i,r]);const u=s$(l),c=()=>{const{disabled:_}=n;_||(o&&u(),s(L=>{var R;const P=!L;return typeof r=="object"&&((R=r.onVisibleChange)===null||R===void 0||R.call(r,P)),P}))},d=_=>{const{action:L="click",iconRender:R=eve}=n,P=tve[L]||"",T=R(o),D={[P]:c,className:`${_}-icon`,key:"passwordIcon",onMouseDown:$=>{$.preventDefault()},onMouseUp:$=>{$.preventDefault()}};return M.cloneElement(M.isValidElement(T)?T:M.createElement("span",null,T),D)},{className:h,prefixCls:p,inputPrefixCls:m,size:v}=n,y=Zge(n,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:A}=M.useContext(_r),b=A("input",m),g=A("input-password",p),w=r&&d(g),E=Et(g,h,{[`${g}-${v}`]:!!v}),C=Object.assign(Object.assign({},vo(y,["suffix","iconRender","visibilityToggle"])),{type:o?"text":"password",className:E,prefixCls:b,suffix:w});return v&&(C.size=v),M.createElement(IL,Object.assign({ref:zs(e,l)},C))}),rve=nve;var ive=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const ove=M.forwardRef((n,e)=>{const{prefixCls:r,inputPrefixCls:i,className:o,size:s,suffix:l,enterButton:u=!1,addonAfter:c,loading:d,disabled:h,onSearch:p,onChange:m,onCompositionStart:v,onCompositionEnd:y}=n,A=ive(n,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:b,direction:g}=M.useContext(_r),w=M.useRef(!1),E=b("input-search",r),C=b("input",i),{compactSize:_}=HA(E,g),L=Jl(Q=>{var X;return(X=s??_)!==null&&X!==void 0?X:Q}),R=M.useRef(null),P=Q=>{Q&&Q.target&&Q.type==="click"&&p&&p(Q.target.value,Q,{source:"clear"}),m&&m(Q)},T=Q=>{var X;document.activeElement===((X=R.current)===null||X===void 0?void 0:X.input)&&Q.preventDefault()},D=Q=>{var X,J;p&&p((J=(X=R.current)===null||X===void 0?void 0:X.input)===null||J===void 0?void 0:J.value,Q,{source:"input"})},$=Q=>{w.current||d||D(Q)},V=typeof u=="boolean"?M.createElement(II,null):null,B=`${E}-button`;let O;const F=u||{},k=F.type&&F.type.__ANT_BUTTON===!0;k||F.type==="button"?O=ya(F,Object.assign({onMouseDown:T,onClick:Q=>{var X,J;(J=(X=F==null?void 0:F.props)===null||X===void 0?void 0:X.onClick)===null||J===void 0||J.call(X,Q),D(Q)},key:"enterButton"},k?{className:B,size:L}:{})):O=M.createElement(yh,{className:B,type:u?"primary":void 0,size:L,disabled:h,key:"enterButton",onMouseDown:T,onClick:D,loading:d,icon:V},u),c&&(O=[O,ya(c,{key:"addonAfter"})]);const z=Et(E,{[`${E}-rtl`]:g==="rtl",[`${E}-${L}`]:!!L,[`${E}-with-button`]:!!u},o),G=Q=>{w.current=!0,v==null||v(Q)},j=Q=>{w.current=!1,y==null||y(Q)};return M.createElement(IL,Object.assign({ref:zs(R,e),onPressEnter:$},A,{size:L,onCompositionStart:G,onCompositionEnd:j,prefixCls:C,addonAfter:O,suffix:l,onChange:P,className:z,disabled:h}))}),ave=ove;var sve=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,lve=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],K2={},Ks;function cve(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=n.getAttribute("id")||n.getAttribute("data-reactid")||n.getAttribute("name");if(e&&K2[r])return K2[r];var i=window.getComputedStyle(n),o=i.getPropertyValue("box-sizing")||i.getPropertyValue("-moz-box-sizing")||i.getPropertyValue("-webkit-box-sizing"),s=parseFloat(i.getPropertyValue("padding-bottom"))+parseFloat(i.getPropertyValue("padding-top")),l=parseFloat(i.getPropertyValue("border-bottom-width"))+parseFloat(i.getPropertyValue("border-top-width")),u=lve.map(function(d){return"".concat(d,":").concat(i.getPropertyValue(d))}).join(";"),c={sizingStyle:u,paddingSize:s,borderSize:l,boxSizing:o};return e&&r&&(K2[r]=c),c}function uve(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;Ks||(Ks=document.createElement("textarea"),Ks.setAttribute("tab-index","-1"),Ks.setAttribute("aria-hidden","true"),document.body.appendChild(Ks)),n.getAttribute("wrap")?Ks.setAttribute("wrap",n.getAttribute("wrap")):Ks.removeAttribute("wrap");var o=cve(n,e),s=o.paddingSize,l=o.borderSize,u=o.boxSizing,c=o.sizingStyle;Ks.setAttribute("style","".concat(c,";").concat(sve)),Ks.value=n.value||n.placeholder||"";var d=void 0,h=void 0,p,m=Ks.scrollHeight;if(u==="border-box"?m+=l:u==="content-box"&&(m-=s),r!==null||i!==null){Ks.value=" ";var v=Ks.scrollHeight-s;r!==null&&(d=v*r,u==="border-box"&&(d=d+s+l),m=Math.max(d,m)),i!==null&&(h=v*i,u==="border-box"&&(h=h+s+l),p=m>h?"":"hidden",m=Math.min(h,m))}var y={height:m,overflowY:p,resize:"none"};return d&&(y.minHeight=d),h&&(y.maxHeight=h),y}var dve=["prefixCls","onPressEnter","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],X2=0,q2=1,Y2=2,fve=M.forwardRef(function(n,e){var r=n,i=r.prefixCls;r.onPressEnter;var o=r.defaultValue,s=r.value,l=r.autoSize,u=r.onResize,c=r.className,d=r.style,h=r.disabled,p=r.onChange;r.onInternalAutoSize;var m=Pr(r,dve),v=Fo(o,{value:s,postState:function(oe){return oe??""}}),y=Nt(v,2),A=y[0],b=y[1],g=function(oe){b(oe.target.value),p==null||p(oe)},w=M.useRef();M.useImperativeHandle(e,function(){return{textArea:w.current}});var E=M.useMemo(function(){return l&&Ir(l)==="object"?[l.minRows,l.maxRows]:[]},[l]),C=Nt(E,2),_=C[0],L=C[1],R=!!l,P=function(){try{if(document.activeElement===w.current){var oe=w.current,ue=oe.selectionStart,Be=oe.selectionEnd,ge=oe.scrollTop;w.current.setSelectionRange(ue,Be),w.current.scrollTop=ge}}catch{}},T=M.useState(Y2),D=Nt(T,2),$=D[0],V=D[1],B=M.useState(),O=Nt(B,2),F=O[0],k=O[1],z=function(){V(X2)};Ti(function(){R&&z()},[s,_,L,R]),Ti(function(){if($===X2)V(q2);else if($===q2){var Z=uve(w.current,!1,_,L);V(Y2),k(Z)}else P()},[$]);var G=M.useRef(),j=function(){Oi.cancel(G.current)},Q=function(oe){$===Y2&&(u==null||u(oe),l&&(j(),G.current=Oi(function(){z()})))};M.useEffect(function(){return j},[]);var X=R?F:null,J=mt(mt({},d),X);return($===X2||$===q2)&&(J.overflowY="hidden",J.overflowX="hidden"),M.createElement(Qa,{onResize:Q,disabled:!(l||u)},M.createElement("textarea",on({},m,{ref:w,style:J,className:Et(i,c,ct({},"".concat(i,"-disabled"),h)),disabled:h,value:A,onChange:g})))}),hve=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","classes","showCount","className","style","disabled","hidden","classNames","styles","onResize"];function l$(n,e){return An(n||"").slice(0,e).join("")}function hk(n,e,r,i){var o=r;return n?o=l$(r,i):An(e||"").length<r.length&&An(r||"").length>i&&(o=e),o}var pve=nn.forwardRef(function(n,e){var r,i=n.defaultValue,o=n.value,s=n.onFocus,l=n.onBlur,u=n.onChange,c=n.allowClear,d=n.maxLength,h=n.onCompositionStart,p=n.onCompositionEnd,m=n.suffix,v=n.prefixCls,y=v===void 0?"rc-textarea":v,A=n.classes,b=n.showCount,g=n.className,w=n.style,E=n.disabled,C=n.hidden,_=n.classNames,L=n.styles,R=n.onResize,P=Pr(n,hve),T=Fo(i,{value:o,defaultValue:i}),D=Nt(T,2),$=D[0],V=D[1],B=M.useRef(null),O=nn.useState(!1),F=Nt(O,2),k=F[0],z=F[1],G=nn.useState(!1),j=Nt(G,2),Q=j[0],X=j[1],J=nn.useRef(),Z=nn.useRef(0),oe=nn.useState(null),ue=Nt(oe,2),Be=ue[0],ge=ue[1],Ie=function(){var fe;(fe=B.current)===null||fe===void 0||fe.textArea.focus()};M.useImperativeHandle(e,function(){return{resizableTextArea:B.current,focus:Ie,blur:function(){var fe;(fe=B.current)===null||fe===void 0||fe.textArea.blur()}}}),M.useEffect(function(){z(function(be){return!E&&be})},[E]);var He=Number(d)>0,Ze=function(fe){X(!0),J.current=$,Z.current=fe.currentTarget.selectionStart,h==null||h(fe)},Xe=function(fe){X(!1);var me=fe.currentTarget.value;if(He){var Te,Ce=Z.current>=d+1||Z.current===((Te=J.current)===null||Te===void 0?void 0:Te.length);me=hk(Ce,J.current,me,d)}me!==$&&(V(me),D0(fe.currentTarget,fe,u,me)),p==null||p(fe)},ke=function(fe){var me=fe.target.value;if(!Q&&He){var Te=fe.target.selectionStart>=d+1||fe.target.selectionStart===me.length||!fe.target.selectionStart;me=hk(Te,$,me,d)}V(me),D0(fe.currentTarget,fe,u,me)},lt=function(fe){var me=P.onPressEnter,Te=P.onKeyDown;fe.key==="Enter"&&me&&me(fe),Te==null||Te(fe)},ot=function(fe){z(!0),s==null||s(fe)},it=function(fe){z(!1),l==null||l(fe)},ft=function(fe){var me;V(""),Ie(),D0((me=B.current)===null||me===void 0?void 0:me.textArea,fe,u)},xt=A3($);!Q&&He&&o==null&&(xt=l$(xt,d));var At=m,Ct;if(b){var Tt=An(xt).length;Ir(b)==="object"?Ct=b.formatter({value:xt,count:Tt,maxLength:d}):Ct="".concat(Tt).concat(He?" / ".concat(d):""),At=nn.createElement(nn.Fragment,null,At,nn.createElement("span",{className:Et("".concat(y,"-data-count"),_==null?void 0:_.count),style:L==null?void 0:L.count},Ct))}var Dt=function(fe){var me;R==null||R(fe),(me=B.current)!==null&&me!==void 0&&me.textArea.style.height&&ge(!0)},Yt=!P.autoSize&&!b&&!c,Ve=nn.createElement(a$,{value:xt,allowClear:c,handleReset:ft,suffix:At,prefixCls:y,classes:{affixWrapper:Et(A==null?void 0:A.affixWrapper,(r={},ct(r,"".concat(y,"-show-count"),b),ct(r,"".concat(y,"-textarea-allow-clear"),c),r))},disabled:E,focused:k,className:g,style:mt(mt({},w),Be&&!Yt?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof Ct=="string"?Ct:void 0}},hidden:C,inputElement:nn.createElement(fve,on({},P,{onKeyDown:lt,onChange:ke,onFocus:ot,onBlur:it,onCompositionStart:Ze,onCompositionEnd:Xe,className:_==null?void 0:_.textarea,style:mt(mt({},L==null?void 0:L.textarea),{},{resize:w==null?void 0:w.resize}),disabled:E,prefixCls:y,onResize:Dt,ref:B}))});return Ve}),mve=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const gve=M.forwardRef((n,e)=>{const{prefixCls:r,bordered:i=!0,size:o,disabled:s,status:l,allowClear:u,showCount:c,classNames:d,rootClassName:h,className:p}=n,m=mve(n,["prefixCls","bordered","size","disabled","status","allowClear","showCount","classNames","rootClassName","className"]),{getPrefixCls:v,direction:y}=M.useContext(_r),A=Jl(o),b=M.useContext(Jd),g=s??b,{status:w,hasFeedback:E,feedbackIcon:C}=M.useContext(Pu),_=fL(w,l),L=M.useRef(null);M.useImperativeHandle(e,()=>{var $;return{resizableTextArea:($=L.current)===null||$===void 0?void 0:$.resizableTextArea,focus:V=>{var B,O;Jge((O=(B=L.current)===null||B===void 0?void 0:B.resizableTextArea)===null||O===void 0?void 0:O.textArea,V)},blur:()=>{var V;return(V=L.current)===null||V===void 0?void 0:V.blur()}}});const R=v("input",r);let P;typeof u=="object"&&(u!=null&&u.clearIcon)?P=u:u&&(P={clearIcon:M.createElement(FA,null)});const[T,D]=_L(R);return T(M.createElement(pve,Object.assign({},m,{disabled:g,allowClear:P,className:Et(p,h),classes:{affixWrapper:Et(`${R}-textarea-affix-wrapper`,{[`${R}-affix-wrapper-rtl`]:y==="rtl",[`${R}-affix-wrapper-borderless`]:!i,[`${R}-affix-wrapper-sm`]:A==="small",[`${R}-affix-wrapper-lg`]:A==="large",[`${R}-textarea-show-count`]:c},Im(`${R}-affix-wrapper`,_),D)},classNames:Object.assign(Object.assign({},d),{textarea:Et({[`${R}-borderless`]:!i,[`${R}-sm`]:A==="small",[`${R}-lg`]:A==="large"},Im(R,_),D,d==null?void 0:d.textarea)}),prefixCls:R,suffix:E&&M.createElement("span",{className:`${R}-textarea-suffix`},C),showCount:c,ref:L})))}),c$=gve,KA=IL;KA.Group=Xge;KA.Search=ave;KA.TextArea=c$;KA.Password=rve;const vve=KA;function pk(n){return["small","middle","large"].includes(n)}function mk(n){return n?typeof n=="number"&&!Number.isNaN(n):!1}const u$=nn.createContext({latestIndex:0}),Ave=u$.Provider,yve=n=>{let{className:e,index:r,children:i,split:o,style:s}=n;const{latestIndex:l}=M.useContext(u$);return i==null?null:M.createElement(M.Fragment,null,M.createElement("div",{className:e,style:s},i),r<l&&o&&M.createElement("span",{className:`${e}-split`},o))},bve=yve;var xve=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const Eve=M.forwardRef((n,e)=>{var r,i;const{getPrefixCls:o,space:s,direction:l}=M.useContext(_r),{size:u=(s==null?void 0:s.size)||"small",align:c,className:d,rootClassName:h,children:p,direction:m="horizontal",prefixCls:v,split:y,style:A,wrap:b=!1,classNames:g,styles:w}=n,E=xve(n,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[C,_]=Array.isArray(u)?u:[u,u],L=pk(_),R=pk(C),P=mk(_),T=mk(C),D=qa(p,{keepEmpty:!0}),$=c===void 0&&m==="horizontal"?"center":c,V=o("space",v),[B,O]=A9(V),F=Et(V,s==null?void 0:s.className,O,`${V}-${m}`,{[`${V}-rtl`]:l==="rtl",[`${V}-align-${$}`]:$,[`${V}-gap-row-${_}`]:L,[`${V}-gap-col-${C}`]:R},d,h),k=Et(`${V}-item`,(r=g==null?void 0:g.item)!==null&&r!==void 0?r:(i=s==null?void 0:s.classNames)===null||i===void 0?void 0:i.item);let z=0;const G=D.map((X,J)=>{var Z,oe;X!=null&&(z=J);const ue=X&&X.key||`${k}-${J}`;return M.createElement(bve,{className:k,key:ue,index:J,split:y,style:(Z=w==null?void 0:w.item)!==null&&Z!==void 0?Z:(oe=s==null?void 0:s.styles)===null||oe===void 0?void 0:oe.item},X)}),j=M.useMemo(()=>({latestIndex:z}),[z]);if(D.length===0)return null;const Q={};return b&&(Q.flexWrap="wrap"),!R&&T&&(Q.columnGap=C),!L&&P&&(Q.rowGap=_),B(M.createElement("div",Object.assign({ref:e,className:F,style:Object.assign(Object.assign(Object.assign({},Q),s==null?void 0:s.style),A)},E),M.createElement(Ave,{value:j},G)))}),d$=Eve;d$.Compact=mle;const Cve=d$;var wve=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const f$=n=>{const{getPopupContainer:e,getPrefixCls:r,direction:i}=M.useContext(_r),{prefixCls:o,type:s="default",danger:l,disabled:u,loading:c,onClick:d,htmlType:h,children:p,className:m,menu:v,arrow:y,autoFocus:A,overlay:b,trigger:g,align:w,open:E,onOpenChange:C,placement:_,getPopupContainer:L,href:R,icon:P=M.createElement(RI,null),title:T,buttonsRender:D=Ze=>Ze,mouseEnterDelay:$,mouseLeaveDelay:V,overlayClassName:B,overlayStyle:O,destroyPopupOnHide:F,dropdownRender:k}=n,z=wve(n,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","dropdownRender"]),G=r("dropdown",o),j=`${G}-button`,[Q,X]=IH(G),J={menu:v,arrow:y,autoFocus:A,align:w,disabled:u,trigger:u?[]:g,onOpenChange:C,getPopupContainer:L||e,mouseEnterDelay:$,mouseLeaveDelay:V,overlayClassName:B,overlayStyle:O,destroyPopupOnHide:F,dropdownRender:k},{compactSize:Z,compactItemClassnames:oe}=HA(G,i),ue=Et(j,oe,m,X);"overlay"in n&&(J.overlay=b),"open"in n&&(J.open=E),"placement"in n?J.placement=_:J.placement=i==="rtl"?"bottomLeft":"bottomRight";const Be=M.createElement(yh,{type:s,danger:l,disabled:u,loading:c,onClick:d,htmlType:h,href:R,title:T},p),ge=M.createElement(yh,{type:s,danger:l,icon:P}),[Ie,He]=D([Be,ge]);return Q(M.createElement(Cve.Compact,Object.assign({className:ue,size:Z,block:!0},z),Ie,M.createElement(LH,Object.assign({},J),He)))};f$.__ANT_BUTTON=!0;const Sve=f$,h$=LH;h$.Button=Sve;const p$=h$;function gk(n){var e=n.getBoundingClientRect(),r=document.documentElement;return{left:e.left+(window.pageXOffset||r.scrollLeft)-(r.clientLeft||document.body.clientLeft||0),top:e.top+(window.pageYOffset||r.scrollTop)-(r.clientTop||document.body.clientTop||0)}}function zb(n,e,r,i){var o=Fx.unstable_batchedUpdates?function(l){Fx.unstable_batchedUpdates(r,l)}:r;return n!=null&&n.addEventListener&&n.addEventListener(e,o,i),{remove:function(){n!=null&&n.removeEventListener&&n.removeEventListener(e,o,i)}}}function _ve(n,e,r){return typeof r=="boolean"?r:n.length?!0:qa(e).some(o=>o.type===SH)}const Mve=n=>{const{componentCls:e,bodyBg:r,lightSiderBg:i,lightTriggerBg:o,lightTriggerColor:s}=n;return{[`${e}-sider-light`]:{background:i,[`${e}-sider-trigger`]:{color:s,background:o},[`${e}-sider-zero-width-trigger`]:{color:s,background:o,border:`1px solid ${r}`,borderInlineStart:0}}}},Tve=Mve,Rve=n=>{const{antCls:e,componentCls:r,colorText:i,triggerColor:o,footerBg:s,triggerBg:l,headerHeight:u,headerPadding:c,headerColor:d,footerPadding:h,triggerHeight:p,zeroTriggerHeight:m,zeroTriggerWidth:v,motionDurationMid:y,motionDurationSlow:A,fontSize:b,borderRadius:g,bodyBg:w,headerBg:E,siderBg:C}=n;return{[r]:Object.assign(Object.assign({display:"flex",flex:"auto",flexDirection:"column",minHeight:0,background:w,"&, *":{boxSizing:"border-box"},[`&${r}-has-sider`]:{flexDirection:"row",[`> ${r}, > ${r}-content`]:{width:0}},[`${r}-header, &${r}-footer`]:{flex:"0 0 auto"},[`${r}-sider`]:{position:"relative",minWidth:0,background:C,transition:`all ${y}, background 0s`,"&-children":{height:"100%",marginTop:-.1,paddingTop:.1,[`${e}-menu${e}-menu-inline-collapsed`]:{width:"auto"}},"&-has-trigger":{paddingBottom:p},"&-right":{order:1},"&-trigger":{position:"fixed",bottom:0,zIndex:1,height:p,color:o,lineHeight:`${p}px`,textAlign:"center",background:l,cursor:"pointer",transition:`all ${y}`},"&-zero-width":{"> *":{overflow:"hidden"},"&-trigger":{position:"absolute",top:u,insetInlineEnd:-v,zIndex:1,width:v,height:m,color:o,fontSize:n.fontSizeXL,display:"flex",alignItems:"center",justifyContent:"center",background:C,borderStartStartRadius:0,borderStartEndRadius:g,borderEndEndRadius:g,borderEndStartRadius:0,cursor:"pointer",transition:`background ${A} ease`,"&::after":{position:"absolute",inset:0,background:"transparent",transition:`all ${A}`,content:'""'},"&:hover::after":{background:"rgba(255, 255, 255, 0.2)"},"&-right":{insetInlineStart:-v,borderStartStartRadius:g,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:g}}}}},Tve(n)),{"&-rtl":{direction:"rtl"}}),[`${r}-header`]:{height:u,padding:c,color:d,lineHeight:`${u}px`,background:E,[`${e}-menu`]:{lineHeight:"inherit"}},[`${r}-footer`]:{padding:h,color:i,fontSize:b,background:s},[`${r}-content`]:{flex:"auto",minHeight:0}}},m$=zi("Layout",n=>[Rve(n)],n=>{const{colorBgLayout:e,controlHeight:r,controlHeightLG:i,colorText:o,controlHeightSM:s,marginXXS:l,colorTextLightSolid:u,colorBgContainer:c}=n,d=i*1.25;return{colorBgHeader:"#001529",colorBgBody:e,colorBgTrigger:"#002140",bodyBg:e,headerBg:"#001529",headerHeight:r*2,headerPadding:`0 ${d}px`,headerColor:o,footerPadding:`${s}px ${d}px`,footerBg:e,siderBg:"#001529",triggerHeight:i+l*2,triggerBg:"#002140",triggerColor:u,zeroTriggerWidth:i,zeroTriggerHeight:i,lightSiderBg:c,lightTriggerBg:c,lightTriggerColor:o}},{deprecatedTokens:[["colorBgBody","bodyBg"],["colorBgHeader","headerBg"],["colorBgTrigger","triggerBg"]]});var g$=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};function LC(n){let{suffixCls:e,tagName:r,displayName:i}=n;return o=>M.forwardRef((l,u)=>M.createElement(o,Object.assign({ref:u,suffixCls:e,tagName:r},l)))}const LL=M.forwardRef((n,e)=>{const{prefixCls:r,suffixCls:i,className:o,tagName:s}=n,l=g$(n,["prefixCls","suffixCls","className","tagName"]),{getPrefixCls:u}=M.useContext(_r),c=u("layout",r),[d,h]=m$(c),p=i?`${c}-${i}`:c;return d(M.createElement(s,Object.assign({className:Et(r||p,o,h),ref:e},l)))}),Ive=M.forwardRef((n,e)=>{const{direction:r}=M.useContext(_r),[i,o]=M.useState([]),{prefixCls:s,className:l,rootClassName:u,children:c,hasSider:d,tagName:h,style:p}=n,m=g$(n,["prefixCls","className","rootClassName","children","hasSider","tagName","style"]),v=vo(m,["suffixCls"]),{getPrefixCls:y,layout:A}=M.useContext(_r),b=y("layout",s),g=_ve(i,c,d),[w,E]=m$(b),C=Et(b,{[`${b}-has-sider`]:g,[`${b}-rtl`]:r==="rtl"},A==null?void 0:A.className,l,u,E),_=M.useMemo(()=>({siderHook:{addSider:L=>{o(R=>[].concat(An(R),[L]))},removeSider:L=>{o(R=>R.filter(P=>P!==L))}}}),[]);return w(M.createElement(wH.Provider,{value:_},M.createElement(h,Object.assign({ref:e,className:C,style:Object.assign(Object.assign({},A==null?void 0:A.style),p)},v),c)))}),Lve=LC({tagName:"div",displayName:"Layout"})(Ive),Pve=LC({suffixCls:"header",tagName:"header",displayName:"Header"})(LL),Bve=LC({suffixCls:"footer",tagName:"footer",displayName:"Footer"})(LL),Ove=LC({suffixCls:"content",tagName:"main",displayName:"Content"})(LL),Dve=Lve,XA=Dve;XA.Header=Pve;XA.Footer=Bve;XA.Content=Ove;XA.Sider=SH;const y3=XA;function Nve(){const n=Object.assign({},arguments.length<=0?void 0:arguments[0]);for(let e=1;e<arguments.length;e++){const r=e<0||arguments.length<=e?void 0:arguments[e];r&&Object.keys(r).forEach(i=>{const o=r[i];o!==void 0&&(n[i]=o)})}return n}var Ff={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40};const kve={items_per_page:"条/页",jump_to:"跳至",jump_to_confirm:"确定",page:"页",prev_page:"上一页",next_page:"下一页",prev_5:"向前 5 页",next_5:"向后 5 页",prev_3:"向前 3 页",next_3:"向后 3 页",page_size:"页码"};var v$=function(n){ql(r,n);var e=Yl(r);function r(){var i;ca(this,r);for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return i=e.call.apply(e,[this].concat(s)),i.state={goInputText:""},i.getValidValue=function(){var u=i.state.goInputText;return!u||Number.isNaN(u)?void 0:Number(u)},i.buildOptionText=function(u){return"".concat(u," ").concat(i.props.locale.items_per_page)},i.changeSize=function(u){i.props.changeSize(Number(u))},i.handleChange=function(u){i.setState({goInputText:u.target.value})},i.handleBlur=function(u){var c=i.props,d=c.goButton,h=c.quickGo,p=c.rootPrefixCls,m=i.state.goInputText;d||m===""||(i.setState({goInputText:""}),!(u.relatedTarget&&(u.relatedTarget.className.indexOf("".concat(p,"-item-link"))>=0||u.relatedTarget.className.indexOf("".concat(p,"-item"))>=0))&&h(i.getValidValue()))},i.go=function(u){var c=i.state.goInputText;c!==""&&(u.keyCode===Ff.ENTER||u.type==="click")&&(i.setState({goInputText:""}),i.props.quickGo(i.getValidValue()))},i}return ua(r,[{key:"getPageSizeOptions",value:function(){var o=this.props,s=o.pageSize,l=o.pageSizeOptions;return l.some(function(u){return u.toString()===s.toString()})?l:l.concat([s.toString()]).sort(function(u,c){var d=Number.isNaN(Number(u))?0:Number(u),h=Number.isNaN(Number(c))?0:Number(c);return d-h})}},{key:"render",value:function(){var o=this,s=this.props,l=s.pageSize,u=s.locale,c=s.rootPrefixCls,d=s.changeSize,h=s.quickGo,p=s.goButton,m=s.selectComponentClass,v=s.buildOptionText,y=s.selectPrefixCls,A=s.disabled,b=this.state.goInputText,g="".concat(c,"-options"),w=m,E=null,C=null,_=null;if(!d&&!h)return null;var L=this.getPageSizeOptions();if(d&&w){var R=L.map(function(P,T){return nn.createElement(w.Option,{key:T,value:P.toString()},(v||o.buildOptionText)(P))});E=nn.createElement(w,{disabled:A,prefixCls:y,showSearch:!1,className:"".concat(g,"-size-changer"),optionLabelProp:"children",popupMatchSelectWidth:!1,value:(l||L[0]).toString(),onChange:this.changeSize,getPopupContainer:function(T){return T.parentNode},"aria-label":u.page_size,defaultOpen:!1},R)}return h&&(p&&(_=typeof p=="boolean"?nn.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:A,className:"".concat(g,"-quick-jumper-button")},u.jump_to_confirm):nn.createElement("span",{onClick:this.go,onKeyUp:this.go},p)),C=nn.createElement("div",{className:"".concat(g,"-quick-jumper")},u.jump_to,nn.createElement("input",{disabled:A,type:"text",value:b,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur,"aria-label":u.page}),u.page,_)),nn.createElement("li",{className:"".concat(g)},E,C)}}]),r}(nn.Component);v$.defaultProps={pageSizeOptions:["10","20","50","100"]};var Lv=function(e){var r,i=e.rootPrefixCls,o=e.page,s=e.active,l=e.className,u=e.showTitle,c=e.onClick,d=e.onKeyPress,h=e.itemRender,p="".concat(i,"-item"),m=Et(p,"".concat(p,"-").concat(o),(r={},ct(r,"".concat(p,"-active"),s),ct(r,"".concat(p,"-disabled"),!o),ct(r,e.className,l),r)),v=function(){c(o)},y=function(g){d(g,c,o)},A=h(o,"page",nn.createElement("a",{rel:"nofollow"},o));return A?nn.createElement("li",{title:u?o.toString():null,className:m,onClick:v,onKeyPress:y,tabIndex:0},A):null};function b3(){}function vk(n){var e=Number(n);return typeof e=="number"&&!Number.isNaN(e)&&isFinite(e)&&Math.floor(e)===e}var Fve=function(e,r,i){return i};function id(n,e,r){var i=typeof n>"u"?e.pageSize:n;return Math.floor((r.total-1)/i)+1}var A$=function(n){ql(r,n);var e=Yl(r);function r(i){var o;ca(this,r),o=e.call(this,i),o.paginationNode=nn.createRef(),o.getJumpPrevPage=function(){return Math.max(1,o.state.current-(o.props.showLessItems?3:5))},o.getJumpNextPage=function(){return Math.min(id(void 0,o.state,o.props),o.state.current+(o.props.showLessItems?3:5))},o.getItemIcon=function(d,h){var p=o.props.prefixCls,m=d||nn.createElement("button",{type:"button","aria-label":h,className:"".concat(p,"-item-link")});return typeof d=="function"&&(m=nn.createElement(d,mt({},o.props))),m},o.isValid=function(d){var h=o.props.total;return vk(d)&&d!==o.state.current&&vk(h)&&h>0},o.shouldDisplayQuickJumper=function(){var d=o.props,h=d.showQuickJumper,p=d.total,m=o.state.pageSize;return p<=m?!1:h},o.handleKeyDown=function(d){(d.keyCode===Ff.ARROW_UP||d.keyCode===Ff.ARROW_DOWN)&&d.preventDefault()},o.handleKeyUp=function(d){var h=o.getValidValue(d),p=o.state.currentInputValue;h!==p&&o.setState({currentInputValue:h}),d.keyCode===Ff.ENTER?o.handleChange(h):d.keyCode===Ff.ARROW_UP?o.handleChange(h-1):d.keyCode===Ff.ARROW_DOWN&&o.handleChange(h+1)},o.handleBlur=function(d){var h=o.getValidValue(d);o.handleChange(h)},o.changePageSize=function(d){var h=o.state.current,p=id(d,o.state,o.props);h=h>p?p:h,p===0&&(h=o.state.current),typeof d=="number"&&("pageSize"in o.props||o.setState({pageSize:d}),"current"in o.props||o.setState({current:h,currentInputValue:h})),o.props.onShowSizeChange(h,d),"onChange"in o.props&&o.props.onChange&&o.props.onChange(h,d)},o.handleChange=function(d){var h=o.props,p=h.disabled,m=h.onChange,v=o.state,y=v.pageSize,A=v.current,b=v.currentInputValue;if(o.isValid(d)&&!p){var g=id(void 0,o.state,o.props),w=d;return d>g?w=g:d<1&&(w=1),"current"in o.props||o.setState({current:w}),w!==b&&o.setState({currentInputValue:w}),m(w,y),w}return A},o.prev=function(){o.hasPrev()&&o.handleChange(o.state.current-1)},o.next=function(){o.hasNext()&&o.handleChange(o.state.current+1)},o.jumpPrev=function(){o.handleChange(o.getJumpPrevPage())},o.jumpNext=function(){o.handleChange(o.getJumpNextPage())},o.hasPrev=function(){return o.state.current>1},o.hasNext=function(){return o.state.current<id(void 0,o.state,o.props)},o.runIfEnter=function(d,h){if(d.key==="Enter"||d.charCode===13){for(var p=arguments.length,m=new Array(p>2?p-2:0),v=2;v<p;v++)m[v-2]=arguments[v];h.apply(void 0,m)}},o.runIfEnterPrev=function(d){o.runIfEnter(d,o.prev)},o.runIfEnterNext=function(d){o.runIfEnter(d,o.next)},o.runIfEnterJumpPrev=function(d){o.runIfEnter(d,o.jumpPrev)},o.runIfEnterJumpNext=function(d){o.runIfEnter(d,o.jumpNext)},o.handleGoTO=function(d){(d.keyCode===Ff.ENTER||d.type==="click")&&o.handleChange(o.state.currentInputValue)},o.renderPrev=function(d){var h=o.props,p=h.prevIcon,m=h.itemRender,v=m(d,"prev",o.getItemIcon(p,"prev page")),y=!o.hasPrev();return M.isValidElement(v)?M.cloneElement(v,{disabled:y}):v},o.renderNext=function(d){var h=o.props,p=h.nextIcon,m=h.itemRender,v=m(d,"next",o.getItemIcon(p,"next page")),y=!o.hasNext();return M.isValidElement(v)?M.cloneElement(v,{disabled:y}):v};var s=i.onChange!==b3,l="current"in i;l&&!s&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var u=i.defaultCurrent;"current"in i&&(u=i.current);var c=i.defaultPageSize;return"pageSize"in i&&(c=i.pageSize),u=Math.min(u,id(c,void 0,i)),o.state={current:u,currentInputValue:u,pageSize:c},o}return ua(r,[{key:"componentDidUpdate",value:function(o,s){var l=this.props.prefixCls;if(s.current!==this.state.current&&this.paginationNode.current){var u=this.paginationNode.current.querySelector(".".concat(l,"-item-").concat(s.current));if(u&&document.activeElement===u){var c;u==null||(c=u.blur)===null||c===void 0||c.call(u)}}}},{key:"getValidValue",value:function(o){var s=o.target.value,l=id(void 0,this.state,this.props),u=this.state.currentInputValue,c;return s===""?c=s:Number.isNaN(Number(s))?c=u:s>=l?c=l:c=Number(s),c}},{key:"getShowSizeChanger",value:function(){var o=this.props,s=o.showSizeChanger,l=o.total,u=o.totalBoundaryShowSizeChanger;return typeof s<"u"?s:l>u}},{key:"render",value:function(){var o=this.props,s=o.prefixCls,l=o.className,u=o.style,c=o.disabled,d=o.hideOnSinglePage,h=o.total,p=o.locale,m=o.showQuickJumper,v=o.showLessItems,y=o.showTitle,A=o.showTotal,b=o.simple,g=o.itemRender,w=o.showPrevNextJumpers,E=o.jumpPrevIcon,C=o.jumpNextIcon,_=o.selectComponentClass,L=o.selectPrefixCls,R=o.pageSizeOptions,P=this.state,T=P.current,D=P.pageSize,$=P.currentInputValue;if(d===!0&&h<=D)return null;var V=id(void 0,this.state,this.props),B=[],O=null,F=null,k=null,z=null,G=null,j=m&&m.goButton,Q=v?1:2,X=T-1>0?T-1:0,J=T+1<V?T+1:V,Z=Ql(this.props,{aria:!0,data:!0}),oe=A&&nn.createElement("li",{className:"".concat(s,"-total-text")},A(h,[h===0?0:(T-1)*D+1,T*D>h?h:T*D]));if(b){j&&(typeof j=="boolean"?G=nn.createElement("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},p.jump_to_confirm):G=nn.createElement("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO},j),G=nn.createElement("li",{title:y?"".concat(p.jump_to).concat(T,"/").concat(V):null,className:"".concat(s,"-simple-pager")},G));var ue=this.renderPrev(X);return nn.createElement("ul",on({className:Et(s,"".concat(s,"-simple"),ct({},"".concat(s,"-disabled"),c),l),style:u,ref:this.paginationNode},Z),oe,ue?nn.createElement("li",{title:y?p.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:Et("".concat(s,"-prev"),ct({},"".concat(s,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev()},ue):null,nn.createElement("li",{title:y?"".concat(T,"/").concat(V):null,className:"".concat(s,"-simple-pager")},nn.createElement("input",{type:"text",value:$,disabled:c,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,onBlur:this.handleBlur,size:3}),nn.createElement("span",{className:"".concat(s,"-slash")},"/"),V),nn.createElement("li",{title:y?p.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:Et("".concat(s,"-next"),ct({},"".concat(s,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext()},this.renderNext(J)),G)}if(V<=3+Q*2){var Be={locale:p,rootPrefixCls:s,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:y,itemRender:g};V||B.push(nn.createElement(Lv,on({},Be,{key:"noPager",page:1,className:"".concat(s,"-item-disabled")})));for(var ge=1;ge<=V;ge+=1){var Ie=T===ge;B.push(nn.createElement(Lv,on({},Be,{key:ge,page:ge,active:Ie})))}}else{var He=v?p.prev_3:p.prev_5,Ze=v?p.next_3:p.next_5,Xe=g(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(E,"prev page")),ke=g(this.getJumpNextPage(),"jump-next",this.getItemIcon(C,"next page"));w&&(O=Xe?nn.createElement("li",{title:y?He:null,key:"prev",onClick:this.jumpPrev,tabIndex:0,onKeyPress:this.runIfEnterJumpPrev,className:Et("".concat(s,"-jump-prev"),ct({},"".concat(s,"-jump-prev-custom-icon"),!!E))},Xe):null,F=ke?nn.createElement("li",{title:y?Ze:null,key:"next",tabIndex:0,onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:Et("".concat(s,"-jump-next"),ct({},"".concat(s,"-jump-next-custom-icon"),!!C))},ke):null),z=nn.createElement(Lv,{locale:p,last:!0,rootPrefixCls:s,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:V,page:V,active:!1,showTitle:y,itemRender:g}),k=nn.createElement(Lv,{locale:p,rootPrefixCls:s,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:y,itemRender:g});var lt=Math.max(1,T-Q),ot=Math.min(T+Q,V);T-1<=Q&&(ot=1+Q*2),V-T<=Q&&(lt=V-Q*2);for(var it=lt;it<=ot;it+=1){var ft=T===it;B.push(nn.createElement(Lv,{locale:p,rootPrefixCls:s,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:it,page:it,active:ft,showTitle:y,itemRender:g}))}T-1>=Q*2&&T!==1+2&&(B[0]=M.cloneElement(B[0],{className:"".concat(s,"-item-after-jump-prev")}),B.unshift(O)),V-T>=Q*2&&T!==V-2&&(B[B.length-1]=M.cloneElement(B[B.length-1],{className:"".concat(s,"-item-before-jump-next")}),B.push(F)),lt!==1&&B.unshift(k),ot!==V&&B.push(z)}var xt=!this.hasPrev()||!V,At=!this.hasNext()||!V,Ct=this.renderPrev(X),Tt=this.renderNext(J);return nn.createElement("ul",on({className:Et(s,l,ct({},"".concat(s,"-disabled"),c)),style:u,ref:this.paginationNode},Z),oe,Ct?nn.createElement("li",{title:y?p.prev_page:null,onClick:this.prev,tabIndex:xt?null:0,onKeyPress:this.runIfEnterPrev,className:Et("".concat(s,"-prev"),ct({},"".concat(s,"-disabled"),xt)),"aria-disabled":xt},Ct):null,B,Tt?nn.createElement("li",{title:y?p.next_page:null,onClick:this.next,tabIndex:At?null:0,onKeyPress:this.runIfEnterNext,className:Et("".concat(s,"-next"),ct({},"".concat(s,"-disabled"),At)),"aria-disabled":At},Tt):null,nn.createElement(v$,{disabled:c,locale:p,rootPrefixCls:s,selectComponentClass:_,selectPrefixCls:L,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:T,pageSize:D,pageSizeOptions:R,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:j}))}}],[{key:"getDerivedStateFromProps",value:function(o,s){var l={};if("current"in o&&(l.current=o.current,o.current!==s.current&&(l.currentInputValue=l.current)),"pageSize"in o&&o.pageSize!==s.pageSize){var u=s.current,c=id(o.pageSize,s,o);u=u>c?c:u,"current"in o||(l.current=u,l.currentInputValue=u),l.pageSize=o.pageSize}return l}}]),r}(nn.Component);A$.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:b3,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:b3,locale:kve,style:{},itemRender:Fve,totalBoundaryShowSizeChanger:50};const y$=n=>M.createElement(xC,Object.assign({},n,{showSearch:!0,size:"small"})),b$=n=>M.createElement(xC,Object.assign({},n,{showSearch:!0,size:"middle"}));y$.Option=xC.Option;b$.Option=xC.Option;const Uve=n=>{const{componentCls:e}=n;return{[`${e}-disabled`]:{"&, &:hover":{cursor:"not-allowed",[`${e}-item-link`]:{color:n.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",[`${e}-item-link`]:{color:n.colorTextDisabled,cursor:"not-allowed"}}},[`&${e}-disabled`]:{cursor:"not-allowed",[`${e}-item`]:{cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},a:{color:n.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:n.colorBorder,backgroundColor:n.itemActiveBgDisabled,"&:hover, &:active":{backgroundColor:n.itemActiveBgDisabled},a:{color:n.itemActiveColorDisabled}}},[`${e}-item-link`]:{color:n.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},[`${e}-simple&`]:{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}}},[`${e}-simple-pager`]:{color:n.colorTextDisabled},[`${e}-jump-prev, ${e}-jump-next`]:{[`${e}-item-link-icon`]:{opacity:0},[`${e}-item-ellipsis`]:{opacity:1}}},[`&${e}-simple`]:{[`${e}-prev, ${e}-next`]:{[`&${e}-disabled ${e}-item-link`]:{"&:hover, &:active":{backgroundColor:"transparent"}}}}}},zve=n=>{const{componentCls:e}=n;return{[`&${e}-mini ${e}-total-text, &${e}-mini ${e}-simple-pager`]:{height:n.itemSizeSM,lineHeight:`${n.itemSizeSM}px`},[`&${e}-mini ${e}-item`]:{minWidth:n.itemSizeSM,height:n.itemSizeSM,margin:0,lineHeight:`${n.itemSizeSM-2}px`},[`&${e}-mini:not(${e}-disabled) ${e}-item:not(${e}-item-active)`]:{backgroundColor:"transparent",borderColor:"transparent","&:hover":{backgroundColor:n.colorBgTextHover},"&:active":{backgroundColor:n.colorBgTextActive}},[`&${e}-mini ${e}-prev, &${e}-mini ${e}-next`]:{minWidth:n.itemSizeSM,height:n.itemSizeSM,margin:0,lineHeight:`${n.itemSizeSM}px`},[`&${e}-mini:not(${e}-disabled)`]:{[`${e}-prev, ${e}-next`]:{[`&:hover ${e}-item-link`]:{backgroundColor:n.colorBgTextHover},[`&:active ${e}-item-link`]:{backgroundColor:n.colorBgTextActive},[`&${e}-disabled:hover ${e}-item-link`]:{backgroundColor:"transparent"}}},[`
    &${e}-mini ${e}-prev ${e}-item-link,
    &${e}-mini ${e}-next ${e}-item-link
    `]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:n.itemSizeSM,lineHeight:`${n.itemSizeSM}px`}},[`&${e}-mini ${e}-jump-prev, &${e}-mini ${e}-jump-next`]:{height:n.itemSizeSM,marginInlineEnd:0,lineHeight:`${n.itemSizeSM}px`},[`&${e}-mini ${e}-options`]:{marginInlineStart:n.paginationMiniOptionsMarginInlineStart,"&-size-changer":{top:n.miniOptionsSizeChangerTop},"&-quick-jumper":{height:n.itemSizeSM,lineHeight:`${n.itemSizeSM}px`,input:Object.assign(Object.assign({},wL(n)),{width:n.paginationMiniQuickJumperInputWidth,height:n.controlHeightSM})}}}},Hve=n=>{const{componentCls:e}=n;return{[`
    &${e}-simple ${e}-prev,
    &${e}-simple ${e}-next
    `]:{height:n.itemSizeSM,lineHeight:`${n.itemSizeSM}px`,verticalAlign:"top",[`${e}-item-link`]:{height:n.itemSizeSM,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:n.colorBgTextHover},"&:active":{backgroundColor:n.colorBgTextActive},"&::after":{height:n.itemSizeSM,lineHeight:`${n.itemSizeSM}px`}}},[`&${e}-simple ${e}-simple-pager`]:{display:"inline-block",height:n.itemSizeSM,marginInlineEnd:n.marginXS,input:{boxSizing:"border-box",height:"100%",marginInlineEnd:n.marginXS,padding:`0 ${n.paginationItemPaddingInline}px`,textAlign:"center",backgroundColor:n.itemInputBg,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadius,outline:"none",transition:`border-color ${n.motionDurationMid}`,color:"inherit","&:hover":{borderColor:n.colorPrimary},"&:focus":{borderColor:n.colorPrimaryHover,boxShadow:`${n.inputOutlineOffset}px 0 ${n.controlOutlineWidth}px ${n.controlOutline}`},"&[disabled]":{color:n.colorTextDisabled,backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,cursor:"not-allowed"}}}}},$ve=n=>{const{componentCls:e}=n;return{[`${e}-jump-prev, ${e}-jump-next`]:{outline:0,[`${e}-item-container`]:{position:"relative",[`${e}-item-link-icon`]:{color:n.colorPrimary,fontSize:n.fontSizeSM,opacity:0,transition:`all ${n.motionDurationMid}`,"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},[`${e}-item-ellipsis`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:n.colorTextDisabled,fontFamily:"Arial, Helvetica, sans-serif",letterSpacing:n.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:n.paginationEllipsisTextIndent,opacity:1,transition:`all ${n.motionDurationMid}`}},"&:hover":{[`${e}-item-link-icon`]:{opacity:1},[`${e}-item-ellipsis`]:{opacity:0}}},[`
    ${e}-prev,
    ${e}-jump-prev,
    ${e}-jump-next
    `]:{marginInlineEnd:n.marginXS},[`
    ${e}-prev,
    ${e}-next,
    ${e}-jump-prev,
    ${e}-jump-next
    `]:{display:"inline-block",minWidth:n.itemSize,height:n.itemSize,color:n.colorText,fontFamily:n.fontFamily,lineHeight:`${n.itemSize}px`,textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:n.borderRadius,cursor:"pointer",transition:`all ${n.motionDurationMid}`},[`${e}-prev, ${e}-next`]:{fontFamily:"Arial, Helvetica, sans-serif",outline:0,button:{color:n.colorText,cursor:"pointer",userSelect:"none"},[`${e}-item-link`]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:n.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:`${n.lineWidth}px ${n.lineType} transparent`,borderRadius:n.borderRadius,outline:"none",transition:`all ${n.motionDurationMid}`},[`&:hover ${e}-item-link`]:{backgroundColor:n.colorBgTextHover},[`&:active ${e}-item-link`]:{backgroundColor:n.colorBgTextActive},[`&${e}-disabled:hover`]:{[`${e}-item-link`]:{backgroundColor:"transparent"}}},[`${e}-slash`]:{marginInlineEnd:n.paginationSlashMarginInlineEnd,marginInlineStart:n.paginationSlashMarginInlineStart},[`${e}-options`]:{display:"inline-block",marginInlineStart:n.margin,verticalAlign:"middle","&-size-changer.-select":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:n.controlHeight,marginInlineStart:n.marginXS,lineHeight:`${n.controlHeight}px`,verticalAlign:"top",input:Object.assign(Object.assign({},SL(n)),{width:n.controlHeightLG*1.25,height:n.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:n.marginXS,marginInlineEnd:n.marginXS})}}}},Gve=n=>{const{componentCls:e}=n;return{[`${e}-item`]:{display:"inline-block",minWidth:n.itemSize,height:n.itemSize,marginInlineEnd:n.marginXS,fontFamily:n.fontFamily,lineHeight:`${n.itemSize-2}px`,textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:"transparent",border:`${n.lineWidth}px ${n.lineType} transparent`,borderRadius:n.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:`0 ${n.paginationItemPaddingInline}px`,color:n.colorText,"&:hover":{textDecoration:"none"}},[`&:not(${e}-item-active)`]:{"&:hover":{transition:`all ${n.motionDurationMid}`,backgroundColor:n.colorBgTextHover},"&:active":{backgroundColor:n.colorBgTextActive}},"&-active":{fontWeight:n.fontWeightStrong,backgroundColor:n.itemActiveBg,borderColor:n.colorPrimary,a:{color:n.colorPrimary},"&:hover":{borderColor:n.colorPrimaryHover},"&:hover a":{color:n.colorPrimaryHover}}}}},jve=n=>{const{componentCls:e}=n;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ji(n)),{"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},[`${e}-total-text`]:{display:"inline-block",height:n.itemSize,marginInlineEnd:n.marginXS,lineHeight:`${n.itemSize-2}px`,verticalAlign:"middle"}}),Gve(n)),$ve(n)),Hve(n)),zve(n)),Uve(n)),{[`@media only screen and (max-width: ${n.screenLG}px)`]:{[`${e}-item`]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},[`@media only screen and (max-width: ${n.screenSM}px)`]:{[`${e}-options`]:{display:"none"}}}),[`&${n.componentCls}-rtl`]:{direction:"rtl"}}},Vve=n=>{const{componentCls:e}=n;return{[`${e}${e}-disabled:not(${e}-mini)`]:{"&, &:hover":{[`${e}-item-link`]:{borderColor:n.colorBorder}},"&:focus-visible":{[`${e}-item-link`]:{borderColor:n.colorBorder}},[`${e}-item, ${e}-item-link`]:{backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,[`&:hover:not(${e}-item-active)`]:{backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,a:{color:n.colorTextDisabled}},[`&${e}-item-active`]:{backgroundColor:n.itemActiveBgDisabled}},[`${e}-prev, ${e}-next`]:{"&:hover button":{backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,color:n.colorTextDisabled},[`${e}-item-link`]:{backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder}}},[`${e}:not(${e}-mini)`]:{[`${e}-prev, ${e}-next`]:{"&:hover button":{borderColor:n.colorPrimaryHover,backgroundColor:n.itemBg},[`${e}-item-link`]:{backgroundColor:n.itemLinkBg,borderColor:n.colorBorder},[`&:hover ${e}-item-link`]:{borderColor:n.colorPrimary,backgroundColor:n.itemBg,color:n.colorPrimary},[`&${e}-disabled`]:{[`${e}-item-link`]:{borderColor:n.colorBorder,color:n.colorTextDisabled}}},[`${e}-item`]:{backgroundColor:n.itemBg,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,[`&:hover:not(${e}-item-active)`]:{borderColor:n.colorPrimary,backgroundColor:n.itemBg,a:{color:n.colorPrimary}},"&-active":{borderColor:n.colorPrimary}}}}},Wve=n=>{const{componentCls:e}=n;return{[`${e}:not(${e}-disabled)`]:{[`${e}-item`]:Object.assign({},Jm(n)),[`${e}-jump-prev, ${e}-jump-next`]:{"&:focus-visible":Object.assign({[`${e}-item-link-icon`]:{opacity:1},[`${e}-item-ellipsis`]:{opacity:0}},Iu(n))},[`${e}-prev, ${e}-next`]:{[`&:focus-visible ${e}-item-link`]:Object.assign({},Iu(n))}}}},Qve=zi("Pagination",n=>{const e=ti(n,{inputOutlineOffset:0,paginationMiniOptionsMarginInlineStart:n.marginXXS/2,paginationMiniQuickJumperInputWidth:n.controlHeightLG*1.1,paginationItemPaddingInline:n.marginXXS*1.5,paginationEllipsisLetterSpacing:n.marginXXS/2,paginationSlashMarginInlineStart:n.marginXXS,paginationSlashMarginInlineEnd:n.marginSM,paginationEllipsisTextIndent:"0.13em"},HH(n),$H(n));return[jve(e),Wve(e),n.wireframe&&Vve(e)]},n=>({itemBg:n.colorBgContainer,itemSize:n.controlHeight,itemSizeSM:n.controlHeightSM,itemActiveBg:n.colorBgContainer,itemLinkBg:n.colorBgContainer,itemActiveColorDisabled:n.colorTextDisabled,itemActiveBgDisabled:n.controlItemBgActiveDisabled,itemInputBg:n.colorBgContainer,miniOptionsSizeChangerTop:0}));var Kve=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const Xve=n=>{const{prefixCls:e,selectPrefixCls:r,className:i,rootClassName:o,style:s,size:l,locale:u,selectComponentClass:c,responsive:d,showSizeChanger:h}=n,p=Kve(n,["prefixCls","selectPrefixCls","className","rootClassName","style","size","locale","selectComponentClass","responsive","showSizeChanger"]),{xs:m}=rH(d),{getPrefixCls:v,direction:y,pagination:A={}}=M.useContext(_r),b=v("pagination",e),[g,w]=Qve(b),E=h??A.showSizeChanger,C=M.useMemo(()=>{const V=M.createElement("span",{className:`${b}-item-ellipsis`},"•••"),B=M.createElement("button",{className:`${b}-item-link`,type:"button",tabIndex:-1},y==="rtl"?M.createElement(uA,null):M.createElement(Hx,null)),O=M.createElement("button",{className:`${b}-item-link`,type:"button",tabIndex:-1},y==="rtl"?M.createElement(Hx,null):M.createElement(uA,null)),F=M.createElement("a",{className:`${b}-item-link`},M.createElement("div",{className:`${b}-item-container`},y==="rtl"?M.createElement(b4,{className:`${b}-item-link-icon`}):M.createElement(y4,{className:`${b}-item-link-icon`}),V)),k=M.createElement("a",{className:`${b}-item-link`},M.createElement("div",{className:`${b}-item-container`},y==="rtl"?M.createElement(y4,{className:`${b}-item-link-icon`}):M.createElement(b4,{className:`${b}-item-link-icon`}),V));return{prevIcon:B,nextIcon:O,jumpPrevIcon:F,jumpNextIcon:k}},[y,b]),[_]=cC("Pagination",zz),L=Object.assign(Object.assign({},_),u),R=Jl(l),P=R==="small"||!!(m&&!R&&d),T=v("select",r),D=Et({[`${b}-mini`]:P,[`${b}-rtl`]:y==="rtl"},A==null?void 0:A.className,i,o,w),$=Object.assign(Object.assign({},A==null?void 0:A.style),s);return g(M.createElement(A$,Object.assign({},C,p,{style:$,prefixCls:b,selectPrefixCls:T,className:D,selectComponentClass:c||(P?y$:b$),locale:L,showSizeChanger:E})))},qve=Xve,Yve=new ui("antSpinMove",{to:{opacity:1}}),Jve=new ui("antRotate",{to:{transform:"rotate(405deg)"}}),Zve=n=>({[`${n.componentCls}`]:Object.assign(Object.assign({},ji(n)),{position:"absolute",display:"none",color:n.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${n.motionDurationSlow} ${n.motionEaseInOutCirc}`,"&-spinning":{position:"static",display:"inline-block",opacity:1},"&-nested-loading":{position:"relative",[`> div > ${n.componentCls}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:n.contentHeight,[`${n.componentCls}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:-n.dotSize/2},[`${n.componentCls}-text`]:{position:"absolute",top:"50%",width:"100%",paddingTop:(n.dotSize-n.fontSize)/2+2,textShadow:`0 1px 2px ${n.colorBgContainer}`,fontSize:n.fontSize},[`&${n.componentCls}-show-text ${n.componentCls}-dot`]:{marginTop:-(n.dotSize/2)-10},"&-sm":{[`${n.componentCls}-dot`]:{margin:-n.dotSizeSM/2},[`${n.componentCls}-text`]:{paddingTop:(n.dotSizeSM-n.fontSize)/2+2},[`&${n.componentCls}-show-text ${n.componentCls}-dot`]:{marginTop:-(n.dotSizeSM/2)-10}},"&-lg":{[`${n.componentCls}-dot`]:{margin:-(n.dotSizeLG/2)},[`${n.componentCls}-text`]:{paddingTop:(n.dotSizeLG-n.fontSize)/2+2},[`&${n.componentCls}-show-text ${n.componentCls}-dot`]:{marginTop:-(n.dotSizeLG/2)-10}}},[`${n.componentCls}-container`]:{position:"relative",transition:`opacity ${n.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:n.colorBgContainer,opacity:0,transition:`all ${n.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${n.componentCls}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:n.spinDotDefault},[`${n.componentCls}-dot`]:{position:"relative",display:"inline-block",fontSize:n.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:(n.dotSize-n.marginXXS/2)/2,height:(n.dotSize-n.marginXXS/2)/2,backgroundColor:n.colorPrimary,borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:Yve,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:Jve,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&-sm ${n.componentCls}-dot`]:{fontSize:n.dotSizeSM,i:{width:(n.dotSizeSM-n.marginXXS/2)/2,height:(n.dotSizeSM-n.marginXXS/2)/2}},[`&-lg ${n.componentCls}-dot`]:{fontSize:n.dotSizeLG,i:{width:(n.dotSizeLG-n.marginXXS)/2,height:(n.dotSizeLG-n.marginXXS)/2}},[`&${n.componentCls}-show-text ${n.componentCls}-text`]:{display:"block"}})}),e0e=zi("Spin",n=>{const e=ti(n,{spinDotDefault:n.colorTextDescription});return[Zve(e)]},n=>({contentHeight:400,dotSize:n.controlHeightLG/2,dotSizeSM:n.controlHeightLG*.35,dotSizeLG:n.controlHeight}));var t0e=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};let rx=null;function n0e(n,e){const{indicator:r}=e,i=`${n}-dot`;return r===null?null:us(r)?ya(r,{className:Et(r.props.className,i)}):us(rx)?ya(rx,{className:Et(rx.props.className,i)}):M.createElement("span",{className:Et(i,`${n}-dot-spin`)},M.createElement("i",{className:`${n}-dot-item`,key:1}),M.createElement("i",{className:`${n}-dot-item`,key:2}),M.createElement("i",{className:`${n}-dot-item`,key:3}),M.createElement("i",{className:`${n}-dot-item`,key:4}))}function r0e(n,e){return!!n&&!!e&&!isNaN(Number(e))}const i0e=n=>{const{spinPrefixCls:e,spinning:r=!0,delay:i=0,className:o,rootClassName:s,size:l="default",tip:u,wrapperClassName:c,style:d,children:h,hashId:p}=n,m=t0e(n,["spinPrefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","hashId"]),[v,y]=M.useState(()=>r&&!r0e(r,i));M.useEffect(()=>{if(r){const R=dge(i,()=>{y(!0)});return R(),()=>{var P;(P=R==null?void 0:R.cancel)===null||P===void 0||P.call(R)}}y(!1)},[i,r]);const A=M.useMemo(()=>typeof h<"u",[h]),{direction:b,spin:g}=M.useContext(_r),w=Et(e,g==null?void 0:g.className,{[`${e}-sm`]:l==="small",[`${e}-lg`]:l==="large",[`${e}-spinning`]:v,[`${e}-show-text`]:!!u,[`${e}-rtl`]:b==="rtl"},o,s,p),E=Et(`${e}-container`,{[`${e}-blur`]:v}),C=vo(m,["indicator","prefixCls"]),_=Object.assign(Object.assign({},g==null?void 0:g.style),d),L=M.createElement("div",Object.assign({},C,{style:_,className:w,"aria-live":"polite","aria-busy":v}),n0e(e,n),u&&A?M.createElement("div",{className:`${e}-text`},u):null);return A?M.createElement("div",Object.assign({},C,{className:Et(`${e}-nested-loading`,c,p)}),v&&M.createElement("div",{key:"loading"},L),M.createElement("div",{className:E,key:"container"},h)):L},x$=n=>{const{prefixCls:e}=n,{getPrefixCls:r}=M.useContext(_r),i=r("spin",e),[o,s]=e0e(i),l=Object.assign(Object.assign({},n),{spinPrefixCls:i,hashId:s});return o(M.createElement(i0e,Object.assign({},l)))};x$.setDefaultIndicator=n=>{rx=n};const o0e=x$;let Ys=null,Zf=n=>n(),xA=[],oE={};function Ak(){const{prefixCls:n,getContainer:e,duration:r,rtl:i,maxCount:o,top:s}=oE,l=n??u9().getPrefixCls("message"),u=(e==null?void 0:e())||document.body;return{prefixCls:l,getContainer:()=>u,duration:r,rtl:i,maxCount:o,top:s}}const a0e=M.forwardRef((n,e)=>{const[r,i]=M.useState(Ak),[o,s]=g9(r),l=u9(),u=l.getRootPrefixCls(),c=l.getIconPrefixCls(),d=l.getTheme(),h=()=>{i(Ak)};return M.useEffect(h,[]),M.useImperativeHandle(e,()=>{const p=Object.assign({},o);return Object.keys(p).forEach(m=>{p[m]=function(){return h(),o[m].apply(o,arguments)}}),{instance:p,sync:h}}),M.createElement(Rh,{prefixCls:u,iconPrefixCls:c,theme:d},s)});function PC(){if(!Ys){const n=document.createDocumentFragment(),e={fragment:n};Ys=e,Zf(()=>{v9(M.createElement(a0e,{ref:r=>{const{instance:i,sync:o}=r||{};Promise.resolve().then(()=>{!e.instance&&i&&(e.instance=i,e.sync=o,PC())})}}),n)});return}Ys.instance&&(xA.forEach(n=>{const{type:e,skipped:r}=n;if(!r)switch(e){case"open":{Zf(()=>{const i=Ys.instance.open(Object.assign(Object.assign({},oE),n.config));i==null||i.then(n.resolve),n.setCloseFn(i)});break}case"destroy":Zf(()=>{Ys==null||Ys.instance.destroy(n.key)});break;default:Zf(()=>{var i;const o=(i=Ys.instance)[e].apply(i,An(n.args));o==null||o.then(n.resolve),n.setCloseFn(o)})}}),xA=[])}function s0e(n){oE=Object.assign(Object.assign({},oE),n),Zf(()=>{var e;(e=Ys==null?void 0:Ys.sync)===null||e===void 0||e.call(Ys)})}function l0e(n){const e=QI(r=>{let i;const o={type:"open",config:n,resolve:r,setCloseFn:s=>{i=s}};return xA.push(o),()=>{i?Zf(()=>{i()}):o.skipped=!0}});return PC(),e}function c0e(n,e){const r=QI(i=>{let o;const s={type:n,args:e,resolve:i,setCloseFn:l=>{o=l}};return xA.push(s),()=>{o?Zf(()=>{o()}):s.skipped=!0}});return PC(),r}function u0e(n){xA.push({type:"destroy",key:n}),PC()}const d0e=["success","info","warning","error","loading"],f0e={open:l0e,destroy:u0e,config:s0e,useMessage:$se,_InternalPanelDoNotUseOrYouWillBeFired:Ose},E$=f0e;d0e.forEach(n=>{E$[n]=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return c0e(n,r)}});const yk=E$;var h0e={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},p0e=function(){var e=M.useRef([]),r=M.useRef(null);return M.useEffect(function(){var i=Date.now(),o=!1;e.current.forEach(function(s){if(s){o=!0;var l=s.style;l.transitionDuration=".3s, .3s, .3s, .06s",r.current&&i-r.current<100&&(l.transitionDuration="0s, 0s")}}),o&&(r.current=Date.now())}),e.current},bk=0,m0e=la();function g0e(){var n;return m0e?(n=bk,bk+=1):n="TEST_OR_SSR",n}const v0e=function(n){var e=M.useState(),r=Nt(e,2),i=r[0],o=r[1];return M.useEffect(function(){o("rc_progress_".concat(g0e()))},[]),n||i};var xk=function(e){var r=e.bg,i=e.children;return M.createElement("div",{style:{width:"100%",height:"100%",background:r}},i)};function Ek(n,e){return Object.keys(n).map(function(r){var i=parseFloat(r),o="".concat(Math.floor(i*e),"%");return"".concat(n[r]," ").concat(o)})}var A0e=M.forwardRef(function(n,e){var r=n.prefixCls,i=n.color,o=n.gradientId,s=n.radius,l=n.style,u=n.ptg,c=n.strokeLinecap,d=n.strokeWidth,h=n.size,p=n.gapDegree,m=i&&Ir(i)==="object",v=m?"#FFF":void 0,y=h/2,A=M.createElement("circle",{className:"".concat(r,"-circle-path"),r:s,cx:y,cy:y,stroke:v,strokeLinecap:c,strokeWidth:d,opacity:u===0?0:1,style:l,ref:e});if(!m)return A;var b="".concat(o,"-conic"),g=p?"".concat(180+p/2,"deg"):"0deg",w=Ek(i,(360-p)/360),E=Ek(i,1),C="conic-gradient(from ".concat(g,", ").concat(w.join(", "),")"),_="linear-gradient(to ".concat(p?"bottom":"top",", ").concat(E.join(", "),")");return M.createElement(M.Fragment,null,M.createElement("mask",{id:b},A),M.createElement("foreignObject",{x:0,y:0,width:h,height:h,mask:"url(#".concat(b,")")},M.createElement(xk,{bg:_},M.createElement(xk,{bg:C}))))}),d0=100,J2=function(e,r,i,o,s,l,u,c,d,h){var p=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,m=i/100*360*((360-l)/360),v=l===0?0:{bottom:0,top:180,left:90,right:-90}[u],y=(100-o)/100*r;d==="round"&&o!==100&&(y+=h/2,y>=r&&(y=r-.01));var A=d0/2;return{stroke:typeof c=="string"?c:void 0,strokeDasharray:"".concat(r,"px ").concat(e),strokeDashoffset:y+p,transform:"rotate(".concat(s+m+v,"deg)"),transformOrigin:"".concat(A,"px ").concat(A,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},y0e=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function Ck(n){var e=n??[];return Array.isArray(e)?e:[e]}var b0e=function(e){var r=mt(mt({},h0e),e),i=r.id,o=r.prefixCls,s=r.steps,l=r.strokeWidth,u=r.trailWidth,c=r.gapDegree,d=c===void 0?0:c,h=r.gapPosition,p=r.trailColor,m=r.strokeLinecap,v=r.style,y=r.className,A=r.strokeColor,b=r.percent,g=Pr(r,y0e),w=d0/2,E=v0e(i),C="".concat(E,"-gradient"),_=w-l/2,L=Math.PI*2*_,R=d>0?90+d/2:-90,P=L*((360-d)/360),T=Ir(s)==="object"?s:{count:s,space:2},D=T.count,$=T.space,V=Ck(b),B=Ck(A),O=B.find(function(X){return X&&Ir(X)==="object"}),F=O&&Ir(O)==="object",k=F?"butt":m,z=J2(L,P,0,100,R,d,h,p,k,l),G=p0e(),j=function(){var J=0;return V.map(function(Z,oe){var ue=B[oe]||B[B.length-1],Be=J2(L,P,J,Z,R,d,h,ue,k,l);return J+=Z,M.createElement(A0e,{key:oe,color:ue,ptg:Z,radius:_,prefixCls:o,gradientId:C,style:Be,strokeLinecap:k,strokeWidth:l,gapDegree:d,ref:function(Ie){G[oe]=Ie},size:d0})}).reverse()},Q=function(){var J=Math.round(D*(V[0]/100)),Z=100/D,oe=0;return new Array(D).fill(null).map(function(ue,Be){var ge=Be<=J-1?B[0]:p,Ie=ge&&Ir(ge)==="object"?"url(#".concat(C,")"):void 0,He=J2(L,P,oe,Z,R,d,h,ge,"butt",l,$);return oe+=(P-He.strokeDashoffset+$)*100/P,M.createElement("circle",{key:Be,className:"".concat(o,"-circle-path"),r:_,cx:w,cy:w,stroke:Ie,strokeWidth:l,opacity:1,style:He,ref:function(Xe){G[Be]=Xe}})})};return M.createElement("svg",on({className:Et("".concat(o,"-circle"),y),viewBox:"0 0 ".concat(d0," ").concat(d0),style:v,id:i,role:"presentation"},g),!D&&M.createElement("circle",{className:"".concat(o,"-circle-trail"),r:_,cx:w,cy:w,stroke:p,strokeLinecap:k,strokeWidth:u||l,style:z}),D?Q():j())};function lh(n){return!n||n<0?0:n>100?100:n}function aE(n){let{success:e,successPercent:r}=n,i=r;return e&&"progress"in e&&(i=e.progress),e&&"percent"in e&&(i=e.percent),i}const x0e=n=>{let{percent:e,success:r,successPercent:i}=n;const o=lh(aE({success:r,successPercent:i}));return[o,lh(lh(e)-o)]},E0e=n=>{let{success:e={},strokeColor:r}=n;const{strokeColor:i}=e;return[i||Mm.green,r||null]},BC=(n,e,r)=>{var i,o,s,l;let u=-1,c=-1;if(e==="step"){const d=r.steps,h=r.strokeWidth;typeof n=="string"||typeof n>"u"?(u=n==="small"?2:14,c=h??8):typeof n=="number"?[u,c]=[n,n]:[u=14,c=8]=n,u*=d}else if(e==="line"){const d=r==null?void 0:r.strokeWidth;typeof n=="string"||typeof n>"u"?c=d||(n==="small"?6:8):typeof n=="number"?[u,c]=[n,n]:[u=-1,c=8]=n}else(e==="circle"||e==="dashboard")&&(typeof n=="string"||typeof n>"u"?[u,c]=n==="small"?[60,60]:[120,120]:typeof n=="number"?[u,c]=[n,n]:(u=(o=(i=n[0])!==null&&i!==void 0?i:n[1])!==null&&o!==void 0?o:120,c=(l=(s=n[0])!==null&&s!==void 0?s:n[1])!==null&&l!==void 0?l:120));return[u,c]},C0e=3,w0e=n=>C0e/n*100,S0e=n=>{const{prefixCls:e,trailColor:r=null,strokeLinecap:i="round",gapPosition:o,gapDegree:s,width:l=120,type:u,children:c,success:d,size:h=l}=n,[p,m]=BC(h,"circle");let{strokeWidth:v}=n;v===void 0&&(v=Math.max(w0e(p),6));const y={width:p,height:m,fontSize:p*.15+6},A=M.useMemo(()=>{if(s||s===0)return s;if(u==="dashboard")return 75},[s,u]),b=o||u==="dashboard"&&"bottom"||void 0,g=Object.prototype.toString.call(n.strokeColor)==="[object Object]",w=E0e({success:d,strokeColor:n.strokeColor}),E=Et(`${e}-inner`,{[`${e}-circle-gradient`]:g}),C=M.createElement(b0e,{percent:x0e(n),strokeWidth:v,trailWidth:v,strokeColor:w,strokeLinecap:i,trailColor:r,prefixCls:e,gapDegree:A,gapPosition:b});return M.createElement("div",{className:E,style:y},p<=20?M.createElement(bh,{title:c},M.createElement("span",null,C)):M.createElement(M.Fragment,null,C,c))},_0e=S0e;var M0e=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const T0e=n=>{let e=[];return Object.keys(n).forEach(r=>{const i=parseFloat(r.replace(/%/g,""));isNaN(i)||e.push({key:i,value:n[r]})}),e=e.sort((r,i)=>r.key-i.key),e.map(r=>{let{key:i,value:o}=r;return`${o} ${i}%`}).join(", ")},R0e=(n,e)=>{const{from:r=Mm.blue,to:i=Mm.blue,direction:o=e==="rtl"?"to left":"to right"}=n,s=M0e(n,["from","to","direction"]);if(Object.keys(s).length!==0){const l=T0e(s);return{backgroundImage:`linear-gradient(${o}, ${l})`}}return{backgroundImage:`linear-gradient(${o}, ${r}, ${i})`}},I0e=n=>{const{prefixCls:e,direction:r,percent:i,size:o,strokeWidth:s,strokeColor:l,strokeLinecap:u="round",children:c,trailColor:d=null,success:h}=n,p=l&&typeof l!="string"?R0e(l,r):{backgroundColor:l},m=u==="square"||u==="butt"?0:void 0,v={backgroundColor:d||void 0,borderRadius:m},y=o??[-1,s||(o==="small"?6:8)],[A,b]=BC(y,"line",{strokeWidth:s}),g=Object.assign({width:`${lh(i)}%`,height:b,borderRadius:m},p),w=aE(n),E={width:`${lh(w)}%`,height:b,borderRadius:m,backgroundColor:h==null?void 0:h.strokeColor},C={width:A<0?"100%":A,height:b};return M.createElement(M.Fragment,null,M.createElement("div",{className:`${e}-outer`,style:C},M.createElement("div",{className:`${e}-inner`,style:v},M.createElement("div",{className:`${e}-bg`,style:g}),w!==void 0?M.createElement("div",{className:`${e}-success-bg`,style:E}):null)),c)},L0e=I0e,P0e=n=>{const{size:e,steps:r,percent:i=0,strokeWidth:o=8,strokeColor:s,trailColor:l=null,prefixCls:u,children:c}=n,d=Math.round(r*(i/100)),p=e??[e==="small"?2:14,o],[m,v]=BC(p,"step",{steps:r,strokeWidth:o}),y=m/r,A=new Array(r);for(let b=0;b<r;b++){const g=Array.isArray(s)?s[b]:s;A[b]=M.createElement("div",{key:b,className:Et(`${u}-steps-item`,{[`${u}-steps-item-active`]:b<=d-1}),style:{backgroundColor:b<=d-1?g:l,width:y,height:v}})}return M.createElement("div",{className:`${u}-steps-outer`},A,c)},B0e=P0e,wk=n=>{const e=n?"100%":"-100%";return new ui(`antProgress${n?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${e}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${e}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},O0e=n=>{const{componentCls:e,iconCls:r}=n;return{[e]:Object.assign(Object.assign({},ji(n)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:n.fontSize,marginInlineEnd:n.marginXS,marginBottom:n.marginXS},[`${e}-outer`]:{display:"inline-block",width:"100%"},[`&${e}-show-info`]:{[`${e}-outer`]:{marginInlineEnd:`calc(-2em - ${n.marginXS}px)`,paddingInlineEnd:`calc(2em + ${n.paddingXS}px)`}},[`${e}-inner`]:{position:"relative",display:"inline-block",width:"100%",overflow:"hidden",verticalAlign:"middle",backgroundColor:n.remainingColor,borderRadius:n.lineBorderRadius},[`${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:n.defaultColor}},[`${e}-success-bg, ${e}-bg`]:{position:"relative",backgroundColor:n.defaultColor,borderRadius:n.lineBorderRadius,transition:`all ${n.motionDurationSlow} ${n.motionEaseInOutCirc}`},[`${e}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:n.colorSuccess},[`${e}-text`]:{display:"inline-block",width:"2em",marginInlineStart:n.marginXS,color:n.colorText,lineHeight:1,whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[r]:{fontSize:n.fontSize}},[`&${e}-status-active`]:{[`${e}-bg::before`]:{position:"absolute",inset:0,backgroundColor:n.colorBgContainer,borderRadius:n.lineBorderRadius,opacity:0,animationName:wk(),animationDuration:n.progressActiveMotionDuration,animationTimingFunction:n.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${e}-rtl${e}-status-active`]:{[`${e}-bg::before`]:{animationName:wk(!0)}},[`&${e}-status-exception`]:{[`${e}-bg`]:{backgroundColor:n.colorError},[`${e}-text`]:{color:n.colorError}},[`&${e}-status-exception ${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:n.colorError}},[`&${e}-status-success`]:{[`${e}-bg`]:{backgroundColor:n.colorSuccess},[`${e}-text`]:{color:n.colorSuccess}},[`&${e}-status-success ${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:n.colorSuccess}}})}},D0e=n=>{const{componentCls:e,iconCls:r}=n;return{[e]:{[`${e}-circle-trail`]:{stroke:n.remainingColor},[`&${e}-circle ${e}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${e}-circle ${e}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:n.circleTextColor,fontSize:n.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[r]:{fontSize:`${n.fontSize/n.fontSizeSM}em`}},[`${e}-circle&-status-exception`]:{[`${e}-text`]:{color:n.colorError}},[`${e}-circle&-status-success`]:{[`${e}-text`]:{color:n.colorSuccess}}},[`${e}-inline-circle`]:{lineHeight:1,[`${e}-inner`]:{verticalAlign:"bottom"}}}},N0e=n=>{const{componentCls:e}=n;return{[e]:{[`${e}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:n.progressStepMinWidth,marginInlineEnd:n.progressStepMarginInlineEnd,backgroundColor:n.remainingColor,transition:`all ${n.motionDurationSlow}`,"&-active":{backgroundColor:n.defaultColor}}}}}},k0e=n=>{const{componentCls:e,iconCls:r}=n;return{[e]:{[`${e}-small&-line, ${e}-small&-line ${e}-text ${r}`]:{fontSize:n.fontSizeSM}}}},F0e=zi("Progress",n=>{const e=n.marginXXS/2,r=ti(n,{progressStepMarginInlineEnd:e,progressStepMinWidth:e,progressActiveMotionDuration:"2.4s"});return[O0e(r),D0e(r),N0e(r),k0e(r)]},n=>({circleTextColor:n.colorText,defaultColor:n.colorInfo,remainingColor:n.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em"}));var U0e=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const z0e=["normal","exception","active","success"],H0e=M.forwardRef((n,e)=>{const{prefixCls:r,className:i,rootClassName:o,steps:s,strokeColor:l,percent:u=0,size:c="default",showInfo:d=!0,type:h="line",status:p,format:m,style:v}=n,y=U0e(n,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style"]),A=M.useMemo(()=>{var V,B;const O=aE(n);return parseInt(O!==void 0?(V=O??0)===null||V===void 0?void 0:V.toString():(B=u??0)===null||B===void 0?void 0:B.toString(),10)},[u,n.success,n.successPercent]),b=M.useMemo(()=>!z0e.includes(p)&&A>=100?"success":p||"normal",[p,A]),{getPrefixCls:g,direction:w,progress:E}=M.useContext(_r),C=g("progress",r),[_,L]=F0e(C),R=M.useMemo(()=>{if(!d)return null;const V=aE(n);let B;const O=m||(k=>`${k}%`),F=h==="line";return m||b!=="exception"&&b!=="success"?B=O(lh(u),lh(V)):b==="exception"?B=F?M.createElement(FA,null):M.createElement(pg,null):b==="success"&&(B=F?M.createElement(sz,null):M.createElement(TI,null)),M.createElement("span",{className:`${C}-text`,title:typeof B=="string"?B:void 0},B)},[d,u,A,b,h,C,m]),P=Array.isArray(l)?l[0]:l,T=typeof l=="string"||Array.isArray(l)?l:void 0;let D;h==="line"?D=s?M.createElement(B0e,Object.assign({},n,{strokeColor:T,prefixCls:C,steps:s}),R):M.createElement(L0e,Object.assign({},n,{strokeColor:P,prefixCls:C,direction:w}),R):(h==="circle"||h==="dashboard")&&(D=M.createElement(_0e,Object.assign({},n,{strokeColor:P,prefixCls:C,progressStatus:b}),R));const $=Et(C,`${C}-status-${b}`,`${C}-${h==="dashboard"&&"circle"||s&&"steps"||h}`,{[`${C}-inline-circle`]:h==="circle"&&BC(c,"circle")[0]<=20,[`${C}-show-info`]:d,[`${C}-${c}`]:typeof c=="string",[`${C}-rtl`]:w==="rtl"},E==null?void 0:E.className,i,o,L);return _(M.createElement("div",Object.assign({ref:e,style:Object.assign(Object.assign({},E==null?void 0:E.style),v),className:$,role:"progressbar","aria-valuenow":A},vo(y,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),D))}),$0e=H0e,G0e=n=>{const{value:e,formatter:r,precision:i,decimalSeparator:o,groupSeparator:s="",prefixCls:l}=n;let u;if(typeof r=="function")u=r(e);else{const c=String(e),d=c.match(/^(-?)(\d*)(\.(\d+))?$/);if(!d||c==="-")u=c;else{const h=d[1];let p=d[2]||"0",m=d[4]||"";p=p.replace(/\B(?=(\d{3})+(?!\d))/g,s),typeof i=="number"&&(m=m.padEnd(i,"0").slice(0,i>0?i:0)),m&&(m=`${o}${m}`),u=[M.createElement("span",{key:"int",className:`${l}-content-value-int`},h,p),m&&M.createElement("span",{key:"decimal",className:`${l}-content-value-decimal`},m)]}}return M.createElement("span",{className:`${l}-content-value`},u)},j0e=G0e,V0e=n=>{const{componentCls:e,marginXXS:r,padding:i,colorTextDescription:o,titleFontSize:s,colorTextHeading:l,contentFontSize:u,fontFamily:c}=n;return{[`${e}`]:Object.assign(Object.assign({},ji(n)),{[`${e}-title`]:{marginBottom:r,color:o,fontSize:s},[`${e}-skeleton`]:{paddingTop:i},[`${e}-content`]:{color:l,fontSize:u,fontFamily:c,[`${e}-content-value`]:{display:"inline-block",direction:"ltr"},[`${e}-content-prefix, ${e}-content-suffix`]:{display:"inline-block"},[`${e}-content-prefix`]:{marginInlineEnd:r},[`${e}-content-suffix`]:{marginInlineStart:r}}})}},W0e=zi("Statistic",n=>{const e=ti(n,{});return[V0e(e)]},n=>{const{fontSizeHeading3:e,fontSize:r}=n;return{titleFontSize:r,contentFontSize:e}}),Q0e=n=>{const{prefixCls:e,className:r,rootClassName:i,style:o,valueStyle:s,value:l=0,title:u,valueRender:c,prefix:d,suffix:h,loading:p=!1,onMouseEnter:m,onMouseLeave:v,decimalSeparator:y=".",groupSeparator:A=","}=n,{getPrefixCls:b,direction:g,statistic:w}=M.useContext(_r),E=b("statistic",e),[C,_]=W0e(E),L=M.createElement(j0e,Object.assign({decimalSeparator:y,groupSeparator:A,prefixCls:E},n,{value:l})),R=Et(E,{[`${E}-rtl`]:g==="rtl"},w==null?void 0:w.className,r,i,_);return C(M.createElement("div",{className:R,style:Object.assign(Object.assign({},w==null?void 0:w.style),o),onMouseEnter:m,onMouseLeave:v},u&&M.createElement("div",{className:`${E}-title`},u),M.createElement(GH,{paragraph:!1,loading:p,className:`${E}-skeleton`},M.createElement("div",{style:s,className:`${E}-content`},d&&M.createElement("span",{className:`${E}-content-prefix`},d),c?c(L):L,h&&M.createElement("span",{className:`${E}-content-suffix`},h)))))},mm=Q0e,K0e=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function X0e(n,e){let r=n;const i=/\[[^\]]*]/g,o=(e.match(i)||[]).map(c=>c.slice(1,-1)),s=e.replace(i,"[]"),l=K0e.reduce((c,d)=>{let[h,p]=d;if(c.includes(h)){const m=Math.floor(r/p);return r-=m*p,c.replace(new RegExp(`${h}+`,"g"),v=>{const y=v.length;return m.toString().padStart(y,"0")})}return c},s);let u=0;return l.replace(i,()=>{const c=o[u];return u+=1,c})}function q0e(n,e){const{format:r=""}=e,i=new Date(n).getTime(),o=Date.now(),s=Math.max(i-o,0);return X0e(s,r)}const Y0e=1e3/30;function J0e(n){return new Date(n).getTime()}const Z0e=n=>{const{value:e,format:r="HH:mm:ss",onChange:i,onFinish:o}=n,s=EC(),l=M.useRef(null),u=()=>{o==null||o(),l.current&&(clearInterval(l.current),l.current=null)},c=()=>{const p=J0e(e);p>=Date.now()&&(l.current=setInterval(()=>{s(),i==null||i(p-Date.now()),p<Date.now()&&u()},Y0e))};M.useEffect(()=>(c(),()=>{l.current&&(clearInterval(l.current),l.current=null)}),[e]);const d=(p,m)=>q0e(p,Object.assign(Object.assign({},m),{format:r})),h=p=>ya(p,{title:void 0});return M.createElement(mm,Object.assign({},n,{valueRender:h,formatter:d}))},eAe=M.memo(Z0e);mm.Countdown=eAe;var Cd={},qA="rc-table-internal-hook";function PL(n){var e=M.createContext(void 0),r=function(o){var s=o.value,l=o.children,u=M.useRef(s);u.current=s;var c=M.useState(function(){return{getValue:function(){return u.current},listeners:new Set}}),d=Nt(c,1),h=d[0];return Ti(function(){Ns.unstable_batchedUpdates(function(){h.listeners.forEach(function(p){p(s)})})},[s]),M.createElement(e.Provider,{value:h},l)};return{Context:e,Provider:r,defaultValue:n}}function Ya(n,e){var r=jo(typeof e=="function"?e:function(p){if(e===void 0)return p;if(!Array.isArray(e))return p[e];var m={};return e.forEach(function(v){m[v]=p[v]}),m}),i=M.useContext(n==null?void 0:n.Context),o=i||{},s=o.listeners,l=o.getValue,u=M.useRef();u.current=r(i?l():n==null?void 0:n.defaultValue);var c=M.useState({}),d=Nt(c,2),h=d[1];return Ti(function(){if(!i)return;function p(m){var v=r(m);Ru(u.current,v,!0)||h({})}return s.add(p),function(){s.delete(p)}},[i]),u.current}function tAe(){var n=M.createContext(null);function e(){return M.useContext(n)}function r(o,s){var l=bc(o),u=function(d,h){var p=l?{ref:h}:{},m=M.useRef(0),v=M.useRef(d),y=e();return y!==null?M.createElement(o,on({},d,p)):((!s||s(v.current,d))&&(m.current+=1),v.current=d,M.createElement(n.Provider,{value:m.current},M.createElement(o,on({},d,p))))};return l?M.forwardRef(u):u}function i(o,s){var l=bc(o),u=function(d,h){var p=l?{ref:h}:{};return e(),M.createElement(o,on({},d,p))};return l?M.memo(M.forwardRef(u),s):M.memo(u,s)}return{makeImmutable:r,responseImmutable:i,useImmutableMark:e}}var BL=tAe(),C$=BL.makeImmutable,Eg=BL.responseImmutable,nAe=BL.useImmutableMark,ds=PL();function rAe(n,e){var r=M.useRef(0);r.current+=1;var i=M.useRef(n),o=[];Object.keys(n||{}).map(function(l){var u;(n==null?void 0:n[l])!==((u=i.current)===null||u===void 0?void 0:u[l])&&o.push(l)}),i.current=n;var s=M.useRef([]);return o.length&&(s.current=o),M.useDebugValue(r.current),M.useDebugValue(s.current.join(", ")),e&&console.log("".concat(e,":"),r.current,s.current),r.current}var iAe=M.memo(function(){var n=rAe();return M.createElement("h1",null,"Render Times: ",n)});iAe.displayName="RenderBlock";var w$=M.createContext({renderWithProps:!1}),oAe="RC_TABLE_KEY";function aAe(n){return n==null?[]:Array.isArray(n)?n:[n]}function OC(n){var e=[],r={};return n.forEach(function(i){for(var o=i||{},s=o.key,l=o.dataIndex,u=s||aAe(l).join("-")||oAe;r[u];)u="".concat(u,"_next");r[u]=!0,e.push(u)}),e}function x3(n){return n!=null}function sAe(n){return n&&Ir(n)==="object"&&!Array.isArray(n)&&!M.isValidElement(n)}function lAe(n,e,r,i,o,s){var l=M.useContext(w$),u=nAe(),c=Mh(function(){if(x3(i))return[i];var d=e==null||e===""?[]:Array.isArray(e)?e:[e],h=Ps(n,d),p=h,m=void 0;if(o){var v=o(h,n,r);sAe(v)?(p=v.children,m=v.props,l.renderWithProps=!0):p=v}return[p,m]},[u,n,i,e,o,r],function(d,h){if(s){var p=Nt(d,2),m=p[1],v=Nt(h,2),y=v[1];return s(y,m)}return l.renderWithProps?!0:!Ru(d,h,!0)});return c}function cAe(n,e,r,i){var o=n+e-1;return n<=i&&o>=r}function uAe(n,e){return Ya(ds,function(r){var i=cAe(n,e||1,r.hoverStartRow,r.hoverEndRow);return[i,r.onHover]})}var dAe=function(e){var r=e.ellipsis,i=e.rowType,o=e.children,s,l=r===!0?{showTitle:!0}:r;return l&&(l.showTitle||i==="header")&&(typeof o=="string"||typeof o=="number"?s=o.toString():M.isValidElement(o)&&typeof o.props.children=="string"&&(s=o.props.children)),s};function fAe(n){var e,r,i,o,s,l,u,c,d=n.component,h=n.children,p=n.ellipsis,m=n.scope,v=n.prefixCls,y=n.className,A=n.align,b=n.record,g=n.render,w=n.dataIndex,E=n.renderIndex,C=n.shouldCellUpdate,_=n.index,L=n.rowType,R=n.colSpan,P=n.rowSpan,T=n.fixLeft,D=n.fixRight,$=n.firstFixLeft,V=n.lastFixLeft,B=n.firstFixRight,O=n.lastFixRight,F=n.appendNode,k=n.additionalProps,z=k===void 0?{}:k,G=n.isSticky,j="".concat(v,"-cell"),Q=Ya(ds,["supportSticky","allColumnsFixedLeft"]),X=Q.supportSticky,J=Q.allColumnsFixedLeft,Z=lAe(b,w,E,h,g,C),oe=Nt(Z,2),ue=oe[0],Be=oe[1],ge={},Ie=typeof T=="number"&&X,He=typeof D=="number"&&X;Ie&&(ge.position="sticky",ge.left=T),He&&(ge.position="sticky",ge.right=D);var Ze=(e=(r=(i=Be==null?void 0:Be.colSpan)!==null&&i!==void 0?i:z.colSpan)!==null&&r!==void 0?r:R)!==null&&e!==void 0?e:1,Xe=(o=(s=(l=Be==null?void 0:Be.rowSpan)!==null&&l!==void 0?l:z.rowSpan)!==null&&s!==void 0?s:P)!==null&&o!==void 0?o:1,ke=uAe(_,Xe),lt=Nt(ke,2),ot=lt[0],it=lt[1],ft=function(be){var fe;b&&it(_,_+Xe-1),z==null||(fe=z.onMouseEnter)===null||fe===void 0||fe.call(z,be)},xt=function(be){var fe;b&&it(-1,-1),z==null||(fe=z.onMouseLeave)===null||fe===void 0||fe.call(z,be)};if(Ze===0||Xe===0)return null;var At=(u=z.title)!==null&&u!==void 0?u:dAe({rowType:L,ellipsis:p,children:ue}),Ct=Et(j,y,(c={},ct(c,"".concat(j,"-fix-left"),Ie&&X),ct(c,"".concat(j,"-fix-left-first"),$&&X),ct(c,"".concat(j,"-fix-left-last"),V&&X),ct(c,"".concat(j,"-fix-left-all"),V&&J&&X),ct(c,"".concat(j,"-fix-right"),He&&X),ct(c,"".concat(j,"-fix-right-first"),B&&X),ct(c,"".concat(j,"-fix-right-last"),O&&X),ct(c,"".concat(j,"-ellipsis"),p),ct(c,"".concat(j,"-with-append"),F),ct(c,"".concat(j,"-fix-sticky"),(Ie||He)&&G&&X),ct(c,"".concat(j,"-row-hover"),!Be&&ot),c),z.className,Be==null?void 0:Be.className),Tt={};A&&(Tt.textAlign=A);var Dt=mt(mt(mt(mt({},ge),z.style),Tt),Be==null?void 0:Be.style),Yt=ue;return Ir(Yt)==="object"&&!Array.isArray(Yt)&&!M.isValidElement(Yt)&&(Yt=null),p&&(V||B)&&(Yt=M.createElement("span",{className:"".concat(j,"-content")},Yt)),M.createElement(d,on({},Be,z,{className:Ct,style:Dt,title:At,scope:m,onMouseEnter:ft,onMouseLeave:xt,colSpan:Ze!==1?Ze:null,rowSpan:Xe!==1?Xe:null}),F,Yt)}const Ih=M.memo(fAe);function OL(n,e,r,i,o,s){var l=r[n]||{},u=r[e]||{},c,d;l.fixed==="left"?c=i.left[o==="rtl"?e:n]:u.fixed==="right"&&(d=i.right[o==="rtl"?n:e]);var h=!1,p=!1,m=!1,v=!1,y=r[e+1],A=r[n-1],b=!(s!=null&&s.children);if(o==="rtl"){if(c!==void 0){var g=A&&A.fixed==="left";v=!g&&b}else if(d!==void 0){var w=y&&y.fixed==="right";m=!w&&b}}else if(c!==void 0){var E=y&&y.fixed==="left";h=!E&&b}else if(d!==void 0){var C=A&&A.fixed==="right";p=!C&&b}return{fixLeft:c,fixRight:d,lastFixLeft:h,firstFixRight:p,lastFixRight:m,firstFixLeft:v,isSticky:i.isSticky}}var S$=M.createContext({});function hAe(n){var e=n.className,r=n.index,i=n.children,o=n.colSpan,s=o===void 0?1:o,l=n.rowSpan,u=n.align,c=Ya(ds,["prefixCls","direction"]),d=c.prefixCls,h=c.direction,p=M.useContext(S$),m=p.scrollColumnIndex,v=p.stickyOffsets,y=p.flattenColumns,A=p.columns,b=r+s-1,g=b+1===m?s+1:s,w=OL(r,r+g-1,y,v,h,A==null?void 0:A[r]);return M.createElement(Ih,on({className:e,index:r,component:"td",prefixCls:d,record:null,dataIndex:null,align:u,colSpan:g,rowSpan:l,render:function(){return i}},w))}var pAe=["children"];function mAe(n){var e=n.children,r=Pr(n,pAe);return M.createElement("tr",r,e)}function DC(n){var e=n.children;return e}DC.Row=mAe;DC.Cell=hAe;function gAe(n){var e=n.children,r=n.stickyOffsets,i=n.flattenColumns,o=n.columns,s=Ya(ds,"prefixCls"),l=i.length-1,u=i[l],c=M.useMemo(function(){return{stickyOffsets:r,flattenColumns:i,scrollColumnIndex:u!=null&&u.scrollbar?l:null,columns:o}},[u,i,l,r,o]);return M.createElement(S$.Provider,{value:c},M.createElement("tfoot",{className:"".concat(s,"-summary")},e))}const Hb=Eg(gAe);var _$=DC;function M$(n,e,r,i,o,s,l){n.push({record:e,indent:r,index:l});var u=s(e),c=o==null?void 0:o.has(u);if(e&&Array.isArray(e[i])&&c)for(var d=0;d<e[i].length;d+=1)M$(n,e[i][d],r+1,i,o,s,d)}function T$(n,e,r,i){var o=M.useMemo(function(){if(r!=null&&r.size){for(var s=[],l=0;l<(n==null?void 0:n.length);l+=1){var u=n[l];M$(s,u,0,e,r,i,l)}return s}return n==null?void 0:n.map(function(c,d){return{record:c,indent:0,index:d}})},[n,e,r,i]);return o}function R$(n,e,r,i){var o=Ya(ds,["prefixCls","fixedInfoList","flattenColumns","expandableType","expandRowByClick","onTriggerExpand","rowClassName","expandedRowClassName","indentSize","expandIcon","expandedRowRender","expandIconColumnIndex","expandedKeys","childrenColumnName","rowExpandable","onRow"]),s=o.flattenColumns,l=o.expandableType,u=o.expandedKeys,c=o.childrenColumnName,d=o.onTriggerExpand,h=o.rowExpandable,p=o.onRow,m=o.expandRowByClick,v=o.rowClassName,y=l==="nest",A=l==="row"&&(!h||h(n)),b=A||y,g=u&&u.has(e),w=c&&n&&n[c],E=jo(d),C=p==null?void 0:p(n,r),_=C==null?void 0:C.onClick,L=function(D){m&&b&&d(n,D);for(var $=arguments.length,V=new Array($>1?$-1:0),B=1;B<$;B++)V[B-1]=arguments[B];_==null||_.apply(void 0,[D].concat(V))},R;typeof v=="string"?R=v:typeof v=="function"&&(R=v(n,r,i));var P=OC(s);return mt(mt({},o),{},{columnsKey:P,nestExpandable:y,expanded:g,hasNestChildren:w,record:n,onTriggerExpand:E,rowSupportExpand:A,expandable:b,rowProps:mt(mt({},C),{},{className:Et(R,C==null?void 0:C.className),onClick:L})})}function I$(n){var e=n.prefixCls,r=n.children,i=n.component,o=n.cellComponent,s=n.className,l=n.expanded,u=n.colSpan,c=n.isEmpty,d=Ya(ds,["scrollbarSize","fixHeader","fixColumn","componentWidth","horizonScroll"]),h=d.scrollbarSize,p=d.fixHeader,m=d.fixColumn,v=d.componentWidth,y=d.horizonScroll,A=r;return(c?y&&v:m)&&(A=M.createElement("div",{style:{width:v-(p?h:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(e,"-expanded-row-fixed")},A)),M.createElement(i,{className:s,style:{display:l?null:"none"}},M.createElement(Ih,{component:o,prefixCls:e,colSpan:u},A))}function L$(n,e,r,i,o){var s=n.record,l=n.prefixCls,u=n.columnsKey,c=n.fixedInfoList,d=n.expandIconColumnIndex,h=n.nestExpandable,p=n.indentSize,m=n.expandIcon,v=n.expanded,y=n.hasNestChildren,A=n.onTriggerExpand,b=u[r],g=c[r],w;r===(d||0)&&h&&(w=M.createElement(M.Fragment,null,M.createElement("span",{style:{paddingLeft:"".concat(p*i,"px")},className:"".concat(l,"-row-indent indent-level-").concat(i)}),m({prefixCls:l,expanded:v,expandable:y,record:s,onExpand:A})));var E;return e.onCell&&(E=e.onCell(s,o)),{key:b,fixedInfo:g,appendCellNode:w,additionalCellProps:E||{}}}function P$(n){var e=n.className,r=n.style,i=n.record,o=n.index,s=n.renderIndex,l=n.rowKey,u=n.indent,c=u===void 0?0:u,d=n.rowComponent,h=n.cellComponent,p=n.scopeCellComponent,m=R$(i,l,o,c),v=m.prefixCls,y=m.flattenColumns,A=m.expandedRowClassName,b=m.expandedRowRender,g=m.rowProps,w=m.expanded,E=m.rowSupportExpand,C=M.useRef(!1);C.current||(C.current=w);var _=M.createElement(d,on({},g,{"data-row-key":l,className:Et(e,"".concat(v,"-row"),"".concat(v,"-row-level-").concat(c),g==null?void 0:g.className),style:mt(mt({},r),g==null?void 0:g.style)}),y.map(function(T,D){var $=T.render,V=T.dataIndex,B=T.className,O=L$(m,T,D,c,o),F=O.key,k=O.fixedInfo,z=O.appendCellNode,G=O.additionalCellProps;return M.createElement(Ih,on({className:B,ellipsis:T.ellipsis,align:T.align,scope:T.rowScope,component:T.rowScope?p:h,prefixCls:v,key:F,record:i,index:o,renderIndex:s,dataIndex:V,render:$,shouldCellUpdate:T.shouldCellUpdate},k,{appendNode:z,additionalProps:G}))})),L;if(E&&(C.current||w)){var R=b(i,o,c+1,w),P=A&&A(i,o,c);L=M.createElement(I$,{expanded:w,className:Et("".concat(v,"-expanded-row"),"".concat(v,"-expanded-row-level-").concat(c+1),P),prefixCls:v,component:d,cellComponent:h,colSpan:y.length,isEmpty:!1},R)}return M.createElement(M.Fragment,null,_,L)}P$.displayName="BodyRow";const vAe=Eg(P$);function AAe(n){var e=n.columnKey,r=n.onColumnResize,i=M.useRef();return M.useEffect(function(){i.current&&r(e,i.current.offsetWidth)},[]),M.createElement(Qa,{data:e},M.createElement("td",{ref:i,style:{padding:0,border:0,height:0}},M.createElement("div",{style:{height:0,overflow:"hidden"}}," ")))}function yAe(n){var e=n.prefixCls,r=n.columnsKey,i=n.onColumnResize;return M.createElement("tr",{"aria-hidden":"true",className:"".concat(e,"-measure-row"),style:{height:0,fontSize:0}},M.createElement(Qa.Collection,{onBatchResize:function(s){s.forEach(function(l){var u=l.data,c=l.size;i(u,c.offsetWidth)})}},r.map(function(o){return M.createElement(AAe,{key:o,columnKey:o,onColumnResize:i})})))}function B$(n){var e=n.data,r=n.measureColumnWidth,i=Ya(ds,["prefixCls","getComponent","onColumnResize","flattenColumns","getRowKey","expandedKeys","childrenColumnName","emptyNode"]),o=i.prefixCls,s=i.getComponent,l=i.onColumnResize,u=i.flattenColumns,c=i.getRowKey,d=i.expandedKeys,h=i.childrenColumnName,p=i.emptyNode,m=T$(e,h,d,c),v=M.useRef({renderWithProps:!1}),y=s(["body","wrapper"],"tbody"),A=s(["body","row"],"tr"),b=s(["body","cell"],"td"),g=s(["body","cell"],"th"),w;e.length?w=m.map(function(C,_){var L=C.record,R=C.indent,P=C.index,T=c(L,_);return M.createElement(vAe,{key:T,rowKey:T,record:L,index:_,renderIndex:P,rowComponent:A,cellComponent:b,scopeCellComponent:g,getRowKey:c,indent:R})}):w=M.createElement(I$,{expanded:!0,className:"".concat(o,"-placeholder"),prefixCls:o,component:A,cellComponent:b,colSpan:u.length,isEmpty:!0},p);var E=OC(u);return M.createElement(w$.Provider,{value:v.current},M.createElement(y,{className:"".concat(o,"-tbody")},r&&M.createElement(yAe,{prefixCls:o,columnsKey:E,onColumnResize:l}),w))}B$.displayName="Body";const bAe=Eg(B$);var xAe=["expandable"],N0="RC_TABLE_INTERNAL_COL_DEFINE";function EAe(n){var e=n.expandable,r=Pr(n,xAe),i;return"expandable"in n?i=mt(mt({},r),e):i=r,i.showExpandColumn===!1&&(i.expandIconColumnIndex=-1),i}var CAe=["columnType"];function O$(n){for(var e=n.colWidths,r=n.columns,i=n.columCount,o=[],s=i||r.length,l=!1,u=s-1;u>=0;u-=1){var c=e[u],d=r&&r[u],h=d&&d[N0];if(c||h||l){var p=h||{};p.columnType;var m=Pr(p,CAe);o.unshift(M.createElement("col",on({key:u,style:{width:c}},m))),l=!0}}return M.createElement("colgroup",null,o)}var wAe=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];function SAe(n,e){return M.useMemo(function(){for(var r=[],i=0;i<e;i+=1){var o=n[i];if(o!==void 0)r[i]=o;else return null}return r},[n.join("_"),e])}var D$=M.forwardRef(function(n,e){var r=n.className,i=n.noData,o=n.columns,s=n.flattenColumns,l=n.colWidths,u=n.columCount,c=n.stickyOffsets,d=n.direction,h=n.fixHeader,p=n.stickyTopOffset,m=n.stickyBottomOffset,v=n.stickyClassName,y=n.onScroll,A=n.maxContentScroll,b=n.children,g=Pr(n,wAe),w=Ya(ds,["prefixCls","scrollbarSize","isSticky"]),E=w.prefixCls,C=w.scrollbarSize,_=w.isSticky,L=_&&!h?0:C,R=M.useRef(null),P=M.useCallback(function(k){dA(e,k),dA(R,k)},[]);M.useEffect(function(){var k;function z(G){var j=G,Q=j.currentTarget,X=j.deltaX;X&&(y({currentTarget:Q,scrollLeft:Q.scrollLeft+X}),G.preventDefault())}return(k=R.current)===null||k===void 0||k.addEventListener("wheel",z),function(){var G;(G=R.current)===null||G===void 0||G.removeEventListener("wheel",z)}},[]);var T=M.useMemo(function(){return s.every(function(k){return k.width})},[s]),D=s[s.length-1],$={fixed:D?D.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(E,"-cell-scrollbar")}}},V=M.useMemo(function(){return L?[].concat(An(o),[$]):o},[L,o]),B=M.useMemo(function(){return L?[].concat(An(s),[$]):s},[L,s]),O=M.useMemo(function(){var k=c.right,z=c.left;return mt(mt({},c),{},{left:d==="rtl"?[].concat(An(z.map(function(G){return G+L})),[0]):z,right:d==="rtl"?k:[].concat(An(k.map(function(G){return G+L})),[0]),isSticky:_})},[L,c,_]),F=SAe(l,u);return M.createElement("div",{style:mt({overflow:"hidden"},_?{top:p,bottom:m}:{}),ref:P,className:Et(r,ct({},v,!!v))},M.createElement("table",{style:{tableLayout:"fixed",visibility:i||F?null:"hidden"}},(!i||!A||T)&&M.createElement(O$,{colWidths:F?[].concat(An(F),[L]):[],columCount:u+1,columns:B}),b(mt(mt({},g),{},{stickyOffsets:O,columns:V,flattenColumns:B}))))});D$.displayName="FixedHolder";const Sk=M.memo(D$);function N$(n){var e=n.cells,r=n.stickyOffsets,i=n.flattenColumns,o=n.rowComponent,s=n.cellComponent,l=n.tdCellComponent,u=n.onHeaderRow,c=n.index,d=Ya(ds,["prefixCls","direction"]),h=d.prefixCls,p=d.direction,m;u&&(m=u(e.map(function(y){return y.column}),c));var v=OC(e.map(function(y){return y.column}));return M.createElement(o,m,e.map(function(y,A){var b=y.column,g=OL(y.colStart,y.colEnd,i,r,p,b),w;return b&&b.onHeaderCell&&(w=y.column.onHeaderCell(b)),M.createElement(Ih,on({},y,{scope:b.title?y.colSpan>1?"colgroup":"col":null,ellipsis:b.ellipsis,align:b.align,component:b.title?s:l,prefixCls:h,key:v[A]},g,{additionalProps:w,rowType:"header"}))}))}N$.displayName="HeaderRow";function _Ae(n){var e=[];function r(l,u){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;e[c]=e[c]||[];var d=u,h=l.filter(Boolean).map(function(p){var m={key:p.key,className:p.className||"",children:p.title,column:p,colStart:d},v=1,y=p.children;return y&&y.length>0&&(v=r(y,d,c+1).reduce(function(A,b){return A+b},0),m.hasSubColumns=!0),"colSpan"in p&&(v=p.colSpan),"rowSpan"in p&&(m.rowSpan=p.rowSpan),m.colSpan=v,m.colEnd=m.colStart+v-1,e[c].push(m),d+=v,v});return h}r(n,0);for(var i=e.length,o=function(u){e[u].forEach(function(c){!("rowSpan"in c)&&!c.hasSubColumns&&(c.rowSpan=i-u)})},s=0;s<i;s+=1)o(s);return e}function MAe(n){var e=n.stickyOffsets,r=n.columns,i=n.flattenColumns,o=n.onHeaderRow,s=Ya(ds,["prefixCls","getComponent"]),l=s.prefixCls,u=s.getComponent,c=M.useMemo(function(){return _Ae(r)},[r]),d=u(["header","wrapper"],"thead"),h=u(["header","row"],"tr"),p=u(["header","cell"],"th"),m=u(["header","cell"],"td");return M.createElement(d,{className:"".concat(l,"-thead")},c.map(function(v,y){var A=M.createElement(N$,{key:y,flattenColumns:i,cells:v,stickyOffsets:e,rowComponent:h,cellComponent:p,tdCellComponent:m,onHeaderRow:o,index:y});return A}))}const _k=Eg(MAe);function Mk(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return typeof e=="number"?e:e.endsWith("%")?n*parseFloat(e)/100:null}function TAe(n,e,r){return M.useMemo(function(){if(e&&e>0){var i=0,o=0;n.forEach(function(m){var v=Mk(e,m.width);v?i+=v:o+=1});var s=Math.max(e-i,o),l=o,u=s/o,c=0,d=n.map(function(m){var v=mt({},m),y=Mk(e,v.width);if(y)v.width=y;else{var A=Math.floor(u);v.width=l===1?s:A,s-=A,l-=1}return c+=v.width,v}),h=Math.max(e,r);if(c<h){var p=h/c;s=h,d.forEach(function(m,v){var y=Math.floor(m.width*p);m.width=v===d.length-1?s:y,s-=y})}return[d,Math.max(c,h)]}return[n,e]},[n,e,r])}var RAe=["children"],IAe=["fixed"];function DL(n){return qa(n).filter(function(e){return M.isValidElement(e)}).map(function(e){var r=e.key,i=e.props,o=i.children,s=Pr(i,RAe),l=mt({key:r},s);return o&&(l.children=DL(o)),l})}function E3(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"key";return n.filter(function(r){return r&&Ir(r)==="object"}).reduce(function(r,i,o){var s=i.fixed,l=s===!0?"left":s,u="".concat(e,"-").concat(o),c=i.children;return c&&c.length>0?[].concat(An(r),An(E3(c,u).map(function(d){return mt({fixed:l},d)}))):[].concat(An(r),[mt(mt({key:u},i),{},{fixed:l})])},[])}function LAe(n){return n.map(function(e){var r=e.fixed,i=Pr(e,IAe),o=r;return r==="left"?o="right":r==="right"&&(o="left"),mt({fixed:o},i)})}function PAe(n,e){var r=n.prefixCls,i=n.columns,o=n.children,s=n.expandable,l=n.expandedKeys,u=n.columnTitle,c=n.getRowKey,d=n.onTriggerExpand,h=n.expandIcon,p=n.rowExpandable,m=n.expandIconColumnIndex,v=n.direction,y=n.expandRowByClick,A=n.columnWidth,b=n.fixed,g=n.scrollWidth,w=n.clientWidth,E=M.useMemo(function(){return i||DL(o)},[i,o]),C=M.useMemo(function(){if(s){var $,V=E.slice();if(!V.includes(Cd)){var B=m||0;B>=0&&V.splice(B,0,Cd)}var O=V.indexOf(Cd);V=V.filter(function(G,j){return G!==Cd||j===O});var F=E[O],k;(b==="left"||b)&&!m?k="left":(b==="right"||b)&&m===E.length?k="right":k=F?F.fixed:null;var z=($={},ct($,N0,{className:"".concat(r,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),ct($,"title",u),ct($,"fixed",k),ct($,"className","".concat(r,"-row-expand-icon-cell")),ct($,"width",A),ct($,"render",function(j,Q,X){var J=c(Q,X),Z=l.has(J),oe=p?p(Q):!0,ue=h({prefixCls:r,expanded:Z,expandable:oe,record:Q,onExpand:d});return y?M.createElement("span",{onClick:function(ge){return ge.stopPropagation()}},ue):ue}),$);return V.map(function(G){return G===Cd?z:G})}return E.filter(function(G){return G!==Cd})},[s,E,c,l,h,v]),_=M.useMemo(function(){var $=C;return e&&($=e($)),$.length||($=[{render:function(){return null}}]),$},[e,C,v]),L=M.useMemo(function(){return v==="rtl"?LAe(E3(_)):E3(_)},[_,v,g]),R=TAe(L,g,w),P=Nt(R,2),T=P[0],D=P[1];return[_,T,D]}function BAe(n){var e,r=n.prefixCls,i=n.record,o=n.onExpand,s=n.expanded,l=n.expandable,u="".concat(r,"-row-expand-icon");if(!l)return M.createElement("span",{className:Et(u,"".concat(r,"-row-spaced"))});var c=function(h){o(i,h),h.stopPropagation()};return M.createElement("span",{className:Et(u,(e={},ct(e,"".concat(r,"-row-expanded"),s),ct(e,"".concat(r,"-row-collapsed"),!s),e)),onClick:c})}function OAe(n,e,r){var i=[];function o(s){(s||[]).forEach(function(l,u){i.push(e(l,u)),o(l[r])})}return o(n),i}function DAe(n,e,r){var i=EAe(n),o=i.expandIcon,s=i.expandedRowKeys,l=i.defaultExpandedRowKeys,u=i.defaultExpandAllRows,c=i.expandedRowRender,d=i.onExpand,h=i.onExpandedRowsChange,p=i.childrenColumnName,m=o||BAe,v=p||"children",y=M.useMemo(function(){return c?"row":n.expandable&&n.internalHooks===qA&&n.expandable.__PARENT_RENDER_ICON__||e.some(function(_){return _&&Ir(_)==="object"&&_[v]})?"nest":!1},[!!c,e]),A=M.useState(function(){return l||(u?OAe(e,r,v):[])}),b=Nt(A,2),g=b[0],w=b[1],E=M.useMemo(function(){return new Set(s||g||[])},[s,g]),C=M.useCallback(function(_){var L=r(_,e.indexOf(_)),R,P=E.has(L);P?(E.delete(L),R=An(E)):R=[].concat(An(E),[L]),w(R),d&&d(!P,_),h&&h(R)},[r,E,e,d,h]);return[i,y,E,m,v,C]}function NAe(n,e,r,i){var o=n.map(function(s,l){return OL(l,l,n,e,r,i==null?void 0:i[l])});return Mh(function(){return o},[o],function(s,l){return!Ru(s,l)})}function k$(n){var e=M.useRef(n),r=M.useState({}),i=Nt(r,2),o=i[1],s=M.useRef(null),l=M.useRef([]);function u(c){l.current.push(c);var d=Promise.resolve();s.current=d,d.then(function(){if(s.current===d){var h=l.current,p=e.current;l.current=[],h.forEach(function(m){e.current=m(e.current)}),s.current=null,p!==e.current&&o({})}})}return M.useEffect(function(){return function(){s.current=null}},[]),[e.current,u]}function kAe(n){var e=M.useRef(n||null),r=M.useRef();function i(){window.clearTimeout(r.current)}function o(l){e.current=l,i(),r.current=window.setTimeout(function(){e.current=null,r.current=void 0},100)}function s(){return e.current}return M.useEffect(function(){return i},[]),[o,s]}function FAe(){var n=M.useState(-1),e=Nt(n,2),r=e[0],i=e[1],o=M.useState(-1),s=Nt(o,2),l=s[0],u=s[1],c=M.useCallback(function(d,h){i(d),u(h)},[]);return[r,l,c]}var Tk=la()?window:null;function UAe(n,e){var r=Ir(n)==="object"?n:{},i=r.offsetHeader,o=i===void 0?0:i,s=r.offsetSummary,l=s===void 0?0:s,u=r.offsetScroll,c=u===void 0?0:u,d=r.getContainer,h=d===void 0?function(){return Tk}:d,p=h()||Tk;return M.useMemo(function(){var m=!!n;return{isSticky:m,stickyClassName:m?"".concat(e,"-sticky-holder"):"",offsetHeader:o,offsetSummary:l,offsetScroll:c,container:p}},[c,o,l,e,p])}function zAe(n,e,r){var i=M.useMemo(function(){for(var o=[],s=[],l=0,u=0,c=0;c<e;c+=1)if(r==="rtl"){s[c]=u,u+=n[c]||0;var d=e-c-1;o[d]=l,l+=n[d]||0}else{o[c]=l,l+=n[c]||0;var h=e-c-1;s[h]=u,u+=n[h]||0}return{left:o,right:s}},[n,e,r]);return i}function Rk(n){var e=n.className,r=n.children;return M.createElement("div",{className:e},r)}var HAe=function(e,r){var i,o,s=e.scrollBodyRef,l=e.onScroll,u=e.offsetScroll,c=e.container,d=Ya(ds,"prefixCls"),h=((i=s.current)===null||i===void 0?void 0:i.scrollWidth)||0,p=((o=s.current)===null||o===void 0?void 0:o.clientWidth)||0,m=h&&p*(p/h),v=M.useRef(),y=k$({scrollLeft:0,isHiddenScrollBar:!1}),A=Nt(y,2),b=A[0],g=A[1],w=M.useRef({delta:0,x:0}),E=M.useState(!1),C=Nt(E,2),_=C[0],L=C[1],R=function(){L(!1)},P=function(B){B.persist(),w.current.delta=B.pageX-b.scrollLeft,w.current.x=0,L(!0),B.preventDefault()},T=function(B){var O,F=B||((O=window)===null||O===void 0?void 0:O.event),k=F.buttons;if(!_||k===0){_&&L(!1);return}var z=w.current.x+B.pageX-w.current.x-w.current.delta;z<=0&&(z=0),z+m>=p&&(z=p-m),l({scrollLeft:z/p*(h+2)}),w.current.x=B.pageX},D=function(){if(s.current){var B=gk(s.current).top,O=B+s.current.offsetHeight,F=c===window?document.documentElement.scrollTop+window.innerHeight:gk(c).top+c.clientHeight;O-WT()<=F||B>=F-u?g(function(k){return mt(mt({},k),{},{isHiddenScrollBar:!0})}):g(function(k){return mt(mt({},k),{},{isHiddenScrollBar:!1})})}},$=function(B){g(function(O){return mt(mt({},O),{},{scrollLeft:B/h*p||0})})};return M.useImperativeHandle(r,function(){return{setScrollLeft:$}}),M.useEffect(function(){var V=zb(document.body,"mouseup",R,!1),B=zb(document.body,"mousemove",T,!1);return D(),function(){V.remove(),B.remove()}},[m,_]),M.useEffect(function(){var V=zb(c,"scroll",D,!1),B=zb(window,"resize",D,!1);return function(){V.remove(),B.remove()}},[c]),M.useEffect(function(){b.isHiddenScrollBar||g(function(V){var B=s.current;return B?mt(mt({},V),{},{scrollLeft:B.scrollLeft/B.scrollWidth*B.clientWidth}):V})},[b.isHiddenScrollBar]),h<=p||!m||b.isHiddenScrollBar?null:M.createElement("div",{style:{height:WT(),width:p,bottom:u},className:"".concat(d,"-sticky-scroll")},M.createElement("div",{onMouseDown:P,ref:v,className:Et("".concat(d,"-sticky-scroll-bar"),ct({},"".concat(d,"-sticky-scroll-bar-active"),_)),style:{width:"".concat(m,"px"),transform:"translate3d(".concat(b.scrollLeft,"px, 0, 0)")}}))};const $Ae=M.forwardRef(HAe);function GAe(n){return null}function jAe(n){return null}var F$="rc-table",VAe=[],WAe={};function QAe(){return"No Data"}function KAe(n){var e,r=mt({rowKey:"key",prefixCls:F$,emptyText:QAe},n),i=r.prefixCls,o=r.className,s=r.rowClassName,l=r.style,u=r.data,c=r.rowKey,d=r.scroll,h=r.tableLayout,p=r.direction,m=r.title,v=r.footer,y=r.summary,A=r.caption,b=r.id,g=r.showHeader,w=r.components,E=r.emptyText,C=r.onRow,_=r.onHeaderRow,L=r.internalHooks,R=r.transformColumns,P=r.internalRefs,T=r.tailor,D=r.getContainerWidth,$=r.sticky,V=u||VAe,B=!!V.length,O=L===qA,F=M.useCallback(function(bt,pe){return Ps(w,bt)||pe},[w]),k=M.useMemo(function(){return typeof c=="function"?c:function(bt){var pe=bt&&bt[c];return pe}},[c]),z=F(["body"]),G=FAe(),j=Nt(G,3),Q=j[0],X=j[1],J=j[2],Z=DAe(r,V,k),oe=Nt(Z,6),ue=oe[0],Be=oe[1],ge=oe[2],Ie=oe[3],He=oe[4],Ze=oe[5],Xe=d==null?void 0:d.x,ke=M.useState(0),lt=Nt(ke,2),ot=lt[0],it=lt[1],ft=PAe(mt(mt(mt({},r),ue),{},{expandable:!!ue.expandedRowRender,columnTitle:ue.columnTitle,expandedKeys:ge,getRowKey:k,onTriggerExpand:Ze,expandIcon:Ie,expandIconColumnIndex:ue.expandIconColumnIndex,direction:p,scrollWidth:O&&T&&typeof Xe=="number"?Xe:null,clientWidth:ot}),O?R:null),xt=Nt(ft,3),At=xt[0],Ct=xt[1],Tt=xt[2],Dt=Tt??Xe,Yt=M.useMemo(function(){return{columns:At,flattenColumns:Ct}},[At,Ct]),Ve=M.useRef(),be=M.useRef(),fe=M.useRef(),me=M.useRef(),Te=M.useRef(),Ce=M.useState(!1),Se=Nt(Ce,2),we=Se[0],Ge=Se[1],Ae=M.useState(!1),Ue=Nt(Ae,2),et=Ue[0],ce=Ue[1],Y=k$(new Map),ne=Nt(Y,2),Le=ne[0],We=ne[1],ve=OC(Ct),he=ve.map(function(bt){return Le.get(bt)}),qe=M.useMemo(function(){return he},[he.join("_")]),Je=zAe(qe,Ct.length,p),Qe=d&&x3(d.y),nt=d&&x3(Dt)||!!ue.fixed,It=nt&&Ct.some(function(bt){var pe=bt.fixed;return pe}),kt=M.useRef(),Bt=UAe($,i),Gt=Bt.isSticky,Vt=Bt.offsetHeader,Pt=Bt.offsetSummary,pt=Bt.offsetScroll,Ot=Bt.stickyClassName,cn=Bt.container,qt=M.useMemo(function(){return y==null?void 0:y(V)},[y,V]),Sn=(Qe||Gt)&&M.isValidElement(qt)&&qt.type===DC&&qt.props.fixed,yn,Pn,rr;Qe&&(Pn={overflowY:"scroll",maxHeight:d.y}),nt&&(yn={overflowX:"auto"},Qe||(Pn={overflowY:"hidden"}),rr={width:Dt===!0?"auto":Dt,minWidth:"100%"});var Gn=M.useCallback(function(bt,pe){hC(Ve.current)&&We(function(ye){if(ye.get(bt)!==pe){var Ee=new Map(ye);return Ee.set(bt,pe),Ee}return ye})},[]),Fn=kAe(null),Cn=Nt(Fn,2),Oe=Cn[0],st=Cn[1];function wt(bt,pe){pe&&(typeof pe=="function"?pe(bt):pe.scrollLeft!==bt&&(pe.scrollLeft=bt,pe.scrollLeft!==bt&&setTimeout(function(){pe.scrollLeft=bt},0)))}var xe=jo(function(bt){var pe=bt.currentTarget,ye=bt.scrollLeft,Ee=p==="rtl",Me=typeof ye=="number"?ye:pe.scrollLeft,Pe=pe||WAe;if(!st()||st()===Pe){var yt;Oe(Pe),wt(Me,be.current),wt(Me,fe.current),wt(Me,Te.current),wt(Me,(yt=kt.current)===null||yt===void 0?void 0:yt.setScrollLeft)}var Ft=pe||be.current;if(Ft){var Zt=Ft.scrollWidth,dn=Ft.clientWidth;if(Zt===dn){Ge(!1),ce(!1);return}Ee?(Ge(-Me<Zt-dn),ce(-Me>0)):(Ge(Me>0),ce(Me<Zt-dn))}}),De=function(){nt&&fe.current?xe({currentTarget:fe.current}):(Ge(!1),ce(!1))},tt=function(pe){var ye=pe.width,Ee=Ve.current?Ve.current.offsetWidth:ye;O&&D&&Ve.current&&(Ee=D(Ve.current,Ee)||Ee),Ee!==ot&&(De(),it(Ee))},St=M.useRef(!1);M.useEffect(function(){St.current&&De()},[nt,u,At.length]),M.useEffect(function(){St.current=!0},[]);var Mt=M.useState(0),Ut=Nt(Mt,2),Qt=Ut[0],mn=Ut[1],sn=M.useState(!0),Kt=Nt(sn,2),Hn=Kt[0],Nn=Kt[1];M.useEffect(function(){(!T||!O)&&(fe.current instanceof Element?mn(QT(fe.current).width):mn(QT(me.current).width)),Nn(KT("position","sticky"))},[]),M.useEffect(function(){O&&P&&(P.body.current=fe.current)});var er=M.useCallback(function(bt){return M.createElement(M.Fragment,null,M.createElement(_k,bt),Sn==="top"&&M.createElement(Hb,bt,qt))},[Sn,qt]),yr=M.useCallback(function(bt){return M.createElement(Hb,bt,qt)},[qt]),kn=F(["table"],"table"),dr=M.useMemo(function(){return h||(It?Dt==="max-content"?"auto":"fixed":Qe||Gt||Ct.some(function(bt){var pe=bt.ellipsis;return pe})?"fixed":"auto")},[Qe,It,Ct,h,Gt]),sr,Dr={colWidths:qe,columCount:Ct.length,stickyOffsets:Je,onHeaderRow:_,fixHeader:Qe,scroll:d},or=M.useMemo(function(){return B?null:typeof E=="function"?E():E},[B,E]),Jt=M.createElement(bAe,{data:V,measureColumnWidth:Qe||nt||Gt}),bn=M.createElement(O$,{colWidths:Ct.map(function(bt){var pe=bt.width;return pe}),columns:Ct}),qn=A!=null?M.createElement("caption",{className:"".concat(i,"-caption")},A):void 0,jn=Ql(r,{data:!0}),re=Ql(r,{aria:!0});if(Qe||Gt){var se;typeof z=="function"?(se=z(V,{scrollbarSize:Qt,ref:fe,onScroll:xe}),Dr.colWidths=Ct.map(function(bt,pe){var ye=bt.width,Ee=pe===Ct.length-1?ye-Qt:ye;return typeof Ee=="number"&&!Number.isNaN(Ee)?Ee:0})):se=M.createElement("div",{style:mt(mt({},yn),Pn),onScroll:xe,ref:fe,className:Et("".concat(i,"-body"))},M.createElement(kn,on({style:mt(mt({},rr),{},{tableLayout:dr})},re),qn,bn,Jt,!Sn&&qt&&M.createElement(Hb,{stickyOffsets:Je,flattenColumns:Ct,columns:At},qt)));var _e=mt(mt(mt({noData:!V.length,maxContentScroll:nt&&Dt==="max-content"},Dr),Yt),{},{direction:p,stickyClassName:Ot,onScroll:xe});sr=M.createElement(M.Fragment,null,g!==!1&&M.createElement(Sk,on({},_e,{stickyTopOffset:Vt,className:"".concat(i,"-header"),ref:be}),er),se,Sn&&Sn!=="top"&&M.createElement(Sk,on({},_e,{stickyBottomOffset:Pt,className:"".concat(i,"-summary"),ref:Te}),yr),Gt&&fe.current&&fe.current instanceof Element&&M.createElement($Ae,{ref:kt,offsetScroll:pt,scrollBodyRef:fe,onScroll:xe,container:cn}))}else sr=M.createElement("div",{style:mt(mt({},yn),Pn),className:Et("".concat(i,"-content")),onScroll:xe,ref:fe},M.createElement(kn,on({style:mt(mt({},rr),{},{tableLayout:dr})},re),qn,bn,g!==!1&&M.createElement(_k,on({},Dr,Yt)),Jt,qt&&M.createElement(Hb,{stickyOffsets:Je,flattenColumns:Ct,columns:At},qt)));var Fe=M.createElement("div",on({className:Et(i,o,(e={},ct(e,"".concat(i,"-rtl"),p==="rtl"),ct(e,"".concat(i,"-ping-left"),we),ct(e,"".concat(i,"-ping-right"),et),ct(e,"".concat(i,"-layout-fixed"),h==="fixed"),ct(e,"".concat(i,"-fixed-header"),Qe),ct(e,"".concat(i,"-fixed-column"),It),ct(e,"".concat(i,"-scroll-horizontal"),nt),ct(e,"".concat(i,"-has-fix-left"),Ct[0]&&Ct[0].fixed),ct(e,"".concat(i,"-has-fix-right"),Ct[Ct.length-1]&&Ct[Ct.length-1].fixed==="right"),e)),style:l,id:b,ref:Ve},jn),m&&M.createElement(Rk,{className:"".concat(i,"-title")},m(V)),M.createElement("div",{ref:me,className:"".concat(i,"-container")},sr),v&&M.createElement(Rk,{className:"".concat(i,"-footer")},v(V)));nt&&(Fe=M.createElement(Qa,{onResize:tt},Fe));var Ye=NAe(Ct,Je,p,At),at=M.useMemo(function(){return{scrollX:Dt,prefixCls:i,getComponent:F,scrollbarSize:Qt,direction:p,fixedInfoList:Ye,isSticky:Gt,supportSticky:Hn,componentWidth:ot,fixHeader:Qe,fixColumn:It,horizonScroll:nt,tableLayout:dr,rowClassName:s,expandedRowClassName:ue.expandedRowClassName,expandIcon:Ie,expandableType:Be,expandRowByClick:ue.expandRowByClick,expandedRowRender:ue.expandedRowRender,onTriggerExpand:Ze,expandIconColumnIndex:ue.expandIconColumnIndex,indentSize:ue.indentSize,allColumnsFixedLeft:Ct.every(function(bt){return bt.fixed==="left"}),emptyNode:or,columns:At,flattenColumns:Ct,onColumnResize:Gn,hoverStartRow:Q,hoverEndRow:X,onHover:J,rowExpandable:ue.rowExpandable,onRow:C,getRowKey:k,expandedKeys:ge,childrenColumnName:He}},[Dt,i,F,Qt,p,Ye,Gt,Hn,ot,Qe,It,nt,dr,s,ue.expandedRowClassName,Ie,Be,ue.expandRowByClick,ue.expandedRowRender,Ze,ue.expandIconColumnIndex,ue.indentSize,or,At,Ct,Gn,Q,X,J,ue.rowExpandable,C,k,ge,He]);return M.createElement(ds.Provider,{value:at},Fe)}function U$(n){return C$(KAe,n)}var Cg=U$();Cg.EXPAND_COLUMN=Cd;Cg.INTERNAL_HOOKS=qA;Cg.Column=GAe;Cg.ColumnGroup=jAe;Cg.Summary=_$;var z$=PL(null),H$=PL(null);function XAe(n,e,r){var i=e||1;return r[n+i]-(r[n]||0)}function qAe(n){var e=n.rowInfo,r=n.column,i=n.colIndex,o=n.indent,s=n.index,l=n.renderIndex,u=n.record,c=n.style,d=n.className,h=n.inverse,p=n.getHeight,m=r.render,v=r.dataIndex,y=r.className,A=r.width,b=Ya(H$,["columnsOffset"]),g=b.columnsOffset,w=L$(e,r,i,o,s),E=w.key,C=w.fixedInfo,_=w.appendCellNode,L=w.additionalCellProps,R=L.style,P=L.colSpan,T=P===void 0?1:P,D=L.rowSpan,$=D===void 0?1:D,V=i-1,B=XAe(V,T,g),O=T>1?A-B:0,F=mt(mt(mt({},R),c),{},{flex:"0 0 ".concat(B,"px"),width:"".concat(B,"px"),marginRight:O,pointerEvents:"auto"}),k=M.useMemo(function(){return h?$<=1:T===0||$===0||$>1},[$,T,h]);k?F.visibility="hidden":h&&(F.height=p==null?void 0:p($));var z=k?function(){return null}:m,G={};return($===0||T===0)&&(G.rowSpan=1,G.colSpan=1),M.createElement(Ih,on({className:Et(y,d),ellipsis:r.ellipsis,align:r.align,scope:r.rowScope,component:"div",prefixCls:e.prefixCls,key:E,record:u,index:s,renderIndex:l,dataIndex:v,render:z,shouldCellUpdate:r.shouldCellUpdate},C,{appendNode:_,additionalProps:mt(mt({},L),{},{style:F},G)}))}var YAe=["data","index","className","rowKey","style","extra","getHeight"],JAe=M.forwardRef(function(n,e){var r=n.data,i=n.index,o=n.className,s=n.rowKey,l=n.style,u=n.extra,c=n.getHeight,d=Pr(n,YAe),h=r.record,p=r.indent,m=r.index,v=Ya(ds,["prefixCls","flattenColumns","fixColumn","componentWidth","scrollX"]),y=v.scrollX,A=v.flattenColumns,b=v.prefixCls,g=v.fixColumn,w=v.componentWidth,E=R$(h,s,i,p),C=E.rowSupportExpand,_=E.expanded,L=E.rowProps,R=E.expandedRowRender,P=E.expandedRowClassName,T;if(C&&_){var D=R(h,i,p+1,_),$=P==null?void 0:P(h,i,p),V={};g&&(V={style:ct({},"--virtual-width","".concat(w,"px"))});var B="".concat(b,"-expanded-row-cell");T=M.createElement("div",{className:Et("".concat(b,"-expanded-row"),"".concat(b,"-expanded-row-level-").concat(p+1),$)},M.createElement(Ih,{component:"div",prefixCls:b,className:Et(B,ct({},"".concat(B,"-fixed"),g)),additionalProps:V},D))}var O=mt(mt({},l),{},{width:y});u&&(O.position="absolute",O.pointerEvents="none");var F=M.createElement("div",on({},L,d,{ref:C?null:e,className:Et(o,"".concat(b,"-row"),L==null?void 0:L.className,ct({},"".concat(b,"-row-extra"),u)),style:mt(mt({},O),L==null?void 0:L.style)}),A.map(function(k,z){return M.createElement(qAe,{key:z,rowInfo:E,column:k,colIndex:z,indent:p,index:i,renderIndex:m,record:h,inverse:u,getHeight:c})}));return C?M.createElement("div",{ref:e},F,T):F}),Ik=Eg(JAe),ZAe=M.forwardRef(function(n,e){var r=n.data,i=n.onScroll,o=Ya(ds,["flattenColumns","onColumnResize","getRowKey","prefixCls","expandedKeys","childrenColumnName","emptyNode","scrollX"]),s=o.flattenColumns,l=o.onColumnResize,u=o.getRowKey,c=o.expandedKeys,d=o.prefixCls,h=o.childrenColumnName,p=o.emptyNode,m=o.scrollX,v=Ya(z$),y=v.sticky,A=v.scrollY,b=v.listItemHeight,g=M.useRef(),w=T$(r,h,c,u),E=M.useMemo(function(){var $=0;return s.map(function(V){var B=V.width,O=V.key;return $+=B,[O,B,$]})},[s]),C=M.useMemo(function(){return E.map(function($){return $[2]})},[E]);M.useEffect(function(){E.forEach(function($){var V=Nt($,2),B=V[0],O=V[1];l(B,O)})},[E]),M.useImperativeHandle(e,function(){var $={};return Object.defineProperty($,"scrollLeft",{get:function(){var B;return((B=g.current)===null||B===void 0?void 0:B.getScrollInfo().x)||0},set:function(B){var O;(O=g.current)===null||O===void 0||O.scrollTo({left:B})}}),$});var _=function(V,B){var O,F=(O=w[B])===null||O===void 0?void 0:O.record,k=V.onCell;if(k){var z,G=k(F,B);return(z=G==null?void 0:G.rowSpan)!==null&&z!==void 0?z:1}return 1},L=function(V){var B=V.start,O=V.end,F=V.getSize,k=V.offsetY;if(O<0)return null;for(var z=s.filter(function(ke){return _(ke,B)===0}),G=B,j=function(lt){if(z=z.filter(function(ot){return _(ot,lt)===0}),!z.length)return G=lt,"break"},Q=B;Q>=0;Q-=1){var X=j(Q);if(X==="break")break}for(var J=s.filter(function(ke){return _(ke,O)!==1}),Z=O,oe=function(lt){if(J=J.filter(function(ot){return _(ot,lt)!==1}),!J.length)return Z=Math.max(lt-1,O),"break"},ue=O;ue<w.length;ue+=1){var Be=oe(ue);if(Be==="break")break}for(var ge=[],Ie=function(lt){var ot=w[lt];if(!ot)return"continue";s.some(function(it){return _(it,lt)>1})&&ge.push(lt)},He=G;He<=Z;He+=1)var Ze=Ie(He);var Xe=ge.map(function(ke){var lt=w[ke],ot=u(lt.record,ke),it=function(At){var Ct=ke+At-1,Tt=u(w[Ct].record,Ct),Dt=F(ot,Tt);return Dt.bottom-Dt.top},ft=F(ot);return M.createElement(Ik,{key:ke,data:lt,rowKey:ot,index:ke,style:{top:-k+ft.top},extra:!0,getHeight:it})});return Xe},R=M.useMemo(function(){return{columnsOffset:C}},[C]),P="".concat(d,"-tbody"),T;if(w.length){var D={};y&&(D.position="sticky",D.bottom=0,Ir(y)==="object"&&y.offsetScroll&&(D.bottom=y.offsetScroll)),T=M.createElement(bC,{fullHeight:!1,ref:g,styles:{horizontalScrollBar:D},className:Et(P,"".concat(P,"-virtual")),height:A,itemHeight:b||24,data:w,itemKey:function(V){return u(V.record)},scrollWidth:m,onVirtualScroll:function(V){var B=V.x;i({scrollLeft:B})},extraRender:L},function($,V,B){var O=u($.record,V);return M.createElement(Ik,on({data:$,rowKey:O,index:V},B))})}else T=M.createElement("div",{className:Et("".concat(d,"-placeholder"))},M.createElement(Ih,{component:"div",prefixCls:d},p));return M.createElement(H$.Provider,{value:R},T)}),eye=Eg(ZAe),tye=function(e,r){var i=r.ref,o=r.onScroll;return M.createElement(eye,{ref:i,data:e,onScroll:o})};function nye(n){var e=n.columns,r=n.scroll,i=n.sticky,o=n.prefixCls,s=o===void 0?F$:o,l=n.className,u=n.listItemHeight,c=r||{},d=c.x,h=c.y;typeof d!="number"&&(d=1),typeof h!="number"&&(h=500);var p=M.useMemo(function(){return{sticky:i,scrollY:h,listItemHeight:u}},[i,h,u]);return M.createElement(z$.Provider,{value:p},M.createElement(Cg,on({},n,{className:Et(l,"".concat(s,"-virtual")),scroll:mt(mt({},r),{},{x:d}),components:{body:tye},columns:e,internalHooks:qA,tailor:!0})))}function $$(n){return C$(nye,n)}$$();function rye(n){return null}function iye(n){return null}function oye(n){return function(r){let{prefixCls:i,onExpand:o,record:s,expanded:l,expandable:u}=r;const c=`${i}-row-expand-icon`;return M.createElement("button",{type:"button",onClick:d=>{o(s,d),d.stopPropagation()},className:Et(c,{[`${c}-spaced`]:!u,[`${c}-expanded`]:u&&l,[`${c}-collapsed`]:u&&!l}),"aria-label":l?n.collapse:n.expand,"aria-expanded":l})}}function aye(n){return(r,i)=>{const o=r.querySelector(`.${n}-container`);let s=i;if(o){const l=getComputedStyle(o),u=parseInt(l.borderLeftWidth,10),c=parseInt(l.borderRightWidth,10);s=i-u-c}return s}}function xh(n,e){return"key"in n&&n.key!==void 0&&n.key!==null?n.key:n.dataIndex?Array.isArray(n.dataIndex)?n.dataIndex.join("."):n.dataIndex:e}function YA(n,e){return e?`${e}-${n}`:`${n}`}function NC(n,e){return typeof n=="function"?n(e):n}function sye(n,e){const r=NC(n,e);return Object.prototype.toString.call(r)==="[object Object]"?"":r}function lye(n){const e=M.useRef(n),r=EC();return[()=>e.current,i=>{e.current=i,r()}]}var NL=M.createContext(null);function cye(n){var e=n.dropPosition,r=n.dropLevelOffset,i=n.indent,o={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(e){case-1:o.top=0,o.left=-r*i;break;case 1:o.bottom=0,o.left=-r*i;break;case 0:o.bottom=0,o.left=i;break}return M.createElement("div",{style:o})}function G$(n){if(n==null)throw new TypeError("Cannot destructure "+n)}var uye=function(e){for(var r=e.prefixCls,i=e.level,o=e.isStart,s=e.isEnd,l="".concat(r,"-indent-unit"),u=[],c=0;c<i;c+=1){var d;u.push(M.createElement("span",{key:c,className:Et(l,(d={},ct(d,"".concat(l,"-start"),o[c]),ct(d,"".concat(l,"-end"),s[c]),d))}))}return M.createElement("span",{"aria-hidden":"true",className:"".concat(r,"-indent")},u)};const dye=M.memo(uye);var fye=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],Lk="open",Pk="close",hye="---",pye=function(n){ql(r,n);var e=Yl(r);function r(){var i;ca(this,r);for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return i=e.call.apply(e,[this].concat(s)),i.state={dragNodeHighlight:!1},i.selectHandle=void 0,i.cacheIndent=void 0,i.onSelectorClick=function(u){var c=i.props.context.onNodeClick;c(u,Do(i.props)),i.isSelectable()?i.onSelect(u):i.onCheck(u)},i.onSelectorDoubleClick=function(u){var c=i.props.context.onNodeDoubleClick;c(u,Do(i.props))},i.onSelect=function(u){if(!i.isDisabled()){var c=i.props.context.onNodeSelect;c(u,Do(i.props))}},i.onCheck=function(u){if(!i.isDisabled()){var c=i.props,d=c.disableCheckbox,h=c.checked,p=i.props.context.onNodeCheck;if(!(!i.isCheckable()||d)){var m=!h;p(u,Do(i.props),m)}}},i.onMouseEnter=function(u){var c=i.props.context.onNodeMouseEnter;c(u,Do(i.props))},i.onMouseLeave=function(u){var c=i.props.context.onNodeMouseLeave;c(u,Do(i.props))},i.onContextMenu=function(u){var c=i.props.context.onNodeContextMenu;c(u,Do(i.props))},i.onDragStart=function(u){var c=i.props.context.onNodeDragStart;u.stopPropagation(),i.setState({dragNodeHighlight:!0}),c(u,ei(i));try{u.dataTransfer.setData("text/plain","")}catch{}},i.onDragEnter=function(u){var c=i.props.context.onNodeDragEnter;u.preventDefault(),u.stopPropagation(),c(u,ei(i))},i.onDragOver=function(u){var c=i.props.context.onNodeDragOver;u.preventDefault(),u.stopPropagation(),c(u,ei(i))},i.onDragLeave=function(u){var c=i.props.context.onNodeDragLeave;u.stopPropagation(),c(u,ei(i))},i.onDragEnd=function(u){var c=i.props.context.onNodeDragEnd;u.stopPropagation(),i.setState({dragNodeHighlight:!1}),c(u,ei(i))},i.onDrop=function(u){var c=i.props.context.onNodeDrop;u.preventDefault(),u.stopPropagation(),i.setState({dragNodeHighlight:!1}),c(u,ei(i))},i.onExpand=function(u){var c=i.props,d=c.loading,h=c.context.onNodeExpand;d||h(u,Do(i.props))},i.setSelectHandle=function(u){i.selectHandle=u},i.getNodeState=function(){var u=i.props.expanded;return i.isLeaf()?null:u?Lk:Pk},i.hasChildren=function(){var u=i.props.eventKey,c=i.props.context.keyEntities,d=Is(c,u)||{},h=d.children;return!!(h||[]).length},i.isLeaf=function(){var u=i.props,c=u.isLeaf,d=u.loaded,h=i.props.context.loadData,p=i.hasChildren();return c===!1?!1:c||!h&&!p||h&&d&&!p},i.isDisabled=function(){var u=i.props.disabled,c=i.props.context.disabled;return!!(c||u)},i.isCheckable=function(){var u=i.props.checkable,c=i.props.context.checkable;return!c||u===!1?!1:c},i.syncLoadData=function(u){var c=u.expanded,d=u.loading,h=u.loaded,p=i.props.context,m=p.loadData,v=p.onNodeLoad;d||m&&c&&!i.isLeaf()&&!i.hasChildren()&&!h&&v(Do(i.props))},i.isDraggable=function(){var u=i.props,c=u.data,d=u.context.draggable;return!!(d&&(!d.nodeDraggable||d.nodeDraggable(c)))},i.renderDragHandler=function(){var u=i.props.context,c=u.draggable,d=u.prefixCls;return c!=null&&c.icon?M.createElement("span",{className:"".concat(d,"-draggable-icon")},c.icon):null},i.renderSwitcherIconDom=function(u){var c=i.props.switcherIcon,d=i.props.context.switcherIcon,h=c||d;return typeof h=="function"?h(mt(mt({},i.props),{},{isLeaf:u})):h},i.renderSwitcher=function(){var u=i.props.expanded,c=i.props.context.prefixCls;if(i.isLeaf()){var d=i.renderSwitcherIconDom(!0);return d!==!1?M.createElement("span",{className:Et("".concat(c,"-switcher"),"".concat(c,"-switcher-noop"))},d):null}var h=Et("".concat(c,"-switcher"),"".concat(c,"-switcher_").concat(u?Lk:Pk)),p=i.renderSwitcherIconDom(!1);return p!==!1?M.createElement("span",{onClick:i.onExpand,className:h},p):null},i.renderCheckbox=function(){var u=i.props,c=u.checked,d=u.halfChecked,h=u.disableCheckbox,p=i.props.context.prefixCls,m=i.isDisabled(),v=i.isCheckable();if(!v)return null;var y=typeof v!="boolean"?v:null;return M.createElement("span",{className:Et("".concat(p,"-checkbox"),c&&"".concat(p,"-checkbox-checked"),!c&&d&&"".concat(p,"-checkbox-indeterminate"),(m||h)&&"".concat(p,"-checkbox-disabled")),onClick:i.onCheck},y)},i.renderIcon=function(){var u=i.props.loading,c=i.props.context.prefixCls;return M.createElement("span",{className:Et("".concat(c,"-iconEle"),"".concat(c,"-icon__").concat(i.getNodeState()||"docu"),u&&"".concat(c,"-icon_loading"))})},i.renderSelector=function(){var u=i.state.dragNodeHighlight,c=i.props,d=c.title,h=d===void 0?hye:d,p=c.selected,m=c.icon,v=c.loading,y=c.data,A=i.props.context,b=A.prefixCls,g=A.showIcon,w=A.icon,E=A.loadData,C=A.titleRender,_=i.isDisabled(),L="".concat(b,"-node-content-wrapper"),R;if(g){var P=m||w;R=P?M.createElement("span",{className:Et("".concat(b,"-iconEle"),"".concat(b,"-icon__customize"))},typeof P=="function"?P(i.props):P):i.renderIcon()}else E&&v&&(R=i.renderIcon());var T;typeof h=="function"?T=h(y):C?T=C(y):T=h;var D=M.createElement("span",{className:"".concat(b,"-title")},T);return M.createElement("span",{ref:i.setSelectHandle,title:typeof h=="string"?h:"",className:Et("".concat(L),"".concat(L,"-").concat(i.getNodeState()||"normal"),!_&&(p||u)&&"".concat(b,"-node-selected")),onMouseEnter:i.onMouseEnter,onMouseLeave:i.onMouseLeave,onContextMenu:i.onContextMenu,onClick:i.onSelectorClick,onDoubleClick:i.onSelectorDoubleClick},R,D,i.renderDropIndicator())},i.renderDropIndicator=function(){var u=i.props,c=u.disabled,d=u.eventKey,h=i.props.context,p=h.draggable,m=h.dropLevelOffset,v=h.dropPosition,y=h.prefixCls,A=h.indent,b=h.dropIndicatorRender,g=h.dragOverNodeKey,w=h.direction,E=!!p,C=!c&&E&&g===d,_=A??i.cacheIndent;return i.cacheIndent=A,C?b({dropPosition:v,dropLevelOffset:m,indent:_,prefixCls:y,direction:w}):null},i}return ua(r,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var o=this.props.selectable,s=this.props.context.selectable;return typeof o=="boolean"?o:s}},{key:"render",value:function(){var o,s=this.props,l=s.eventKey,u=s.className,c=s.style,d=s.dragOver,h=s.dragOverGapTop,p=s.dragOverGapBottom,m=s.isLeaf,v=s.isStart,y=s.isEnd,A=s.expanded,b=s.selected,g=s.checked,w=s.halfChecked,E=s.loading,C=s.domRef,_=s.active;s.data;var L=s.onMouseMove,R=s.selectable,P=Pr(s,fye),T=this.props.context,D=T.prefixCls,$=T.filterTreeNode,V=T.keyEntities,B=T.dropContainerKey,O=T.dropTargetKey,F=T.draggingNodeKey,k=this.isDisabled(),z=Ql(P,{aria:!0,data:!0}),G=Is(V,l)||{},j=G.level,Q=y[y.length-1],X=this.isDraggable(),J=!k&&X,Z=F===l,oe=R!==void 0?{"aria-selected":!!R}:void 0;return M.createElement("div",on({ref:C,className:Et(u,"".concat(D,"-treenode"),(o={},ct(o,"".concat(D,"-treenode-disabled"),k),ct(o,"".concat(D,"-treenode-switcher-").concat(A?"open":"close"),!m),ct(o,"".concat(D,"-treenode-checkbox-checked"),g),ct(o,"".concat(D,"-treenode-checkbox-indeterminate"),w),ct(o,"".concat(D,"-treenode-selected"),b),ct(o,"".concat(D,"-treenode-loading"),E),ct(o,"".concat(D,"-treenode-active"),_),ct(o,"".concat(D,"-treenode-leaf-last"),Q),ct(o,"".concat(D,"-treenode-draggable"),X),ct(o,"dragging",Z),ct(o,"drop-target",O===l),ct(o,"drop-container",B===l),ct(o,"drag-over",!k&&d),ct(o,"drag-over-gap-top",!k&&h),ct(o,"drag-over-gap-bottom",!k&&p),ct(o,"filter-node",$&&$(Do(this.props))),o)),style:c,draggable:J,"aria-grabbed":Z,onDragStart:J?this.onDragStart:void 0,onDragEnter:X?this.onDragEnter:void 0,onDragOver:X?this.onDragOver:void 0,onDragLeave:X?this.onDragLeave:void 0,onDrop:X?this.onDrop:void 0,onDragEnd:X?this.onDragEnd:void 0,onMouseMove:L},oe,z),M.createElement(dye,{prefixCls:D,level:j,isStart:v,isEnd:y}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),r}(M.Component),tg=function(e){return M.createElement(NL.Consumer,null,function(r){return M.createElement(pye,on({},e,{context:r}))})};tg.displayName="TreeNode";tg.isTreeNode=1;function mye(n,e){var r=M.useState(!1),i=Nt(r,2),o=i[0],s=i[1];M.useLayoutEffect(function(){if(o)return n(),function(){e()}},[o]),M.useLayoutEffect(function(){return s(!0),function(){s(!1)}},[])}var gye=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],j$=function(e,r){var i=e.className,o=e.style,s=e.motion,l=e.motionNodes,u=e.motionType,c=e.onMotionStart,d=e.onMotionEnd,h=e.active,p=e.treeNodeRequiredProps,m=Pr(e,gye),v=M.useState(!0),y=Nt(v,2),A=y[0],b=y[1],g=M.useContext(NL),w=g.prefixCls,E=l&&u!=="hide";Ti(function(){l&&E!==A&&b(E)},[l]);var C=function(){l&&c()},_=M.useRef(!1),L=function(){l&&!_.current&&(_.current=!0,d())};mye(C,L);var R=function(T){E===T&&L()};return l?M.createElement(wc,on({ref:r,visible:A},s,{motionAppear:u==="show",onVisibleChanged:R}),function(P,T){var D=P.className,$=P.style;return M.createElement("div",{ref:T,className:Et("".concat(w,"-treenode-motion"),D),style:$},l.map(function(V){var B=on({},(G$(V.data),V.data)),O=V.title,F=V.key,k=V.isStart,z=V.isEnd;delete B.children;var G=O0(F,p);return M.createElement(tg,on({},B,G,{title:O,active:h,data:V.data,key:F,isStart:k,isEnd:z}))}))}):M.createElement(tg,on({domRef:r,className:i,style:o},m,{active:h}))};j$.displayName="MotionTreeNode";var vye=M.forwardRef(j$);function Aye(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=n.length,i=e.length;if(Math.abs(r-i)!==1)return{add:!1,key:null};function o(s,l){var u=new Map;s.forEach(function(d){u.set(d,!0)});var c=l.filter(function(d){return!u.has(d)});return c.length===1?c[0]:null}return r<i?{add:!0,key:o(n,e)}:{add:!1,key:o(e,n)}}function Bk(n,e,r){var i=n.findIndex(function(u){return u.key===r}),o=n[i+1],s=e.findIndex(function(u){return u.key===r});if(o){var l=e.findIndex(function(u){return u.key===o.key});return e.slice(s+1,l)}return e.slice(s+1)}var yye=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],Ok={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},bye=function(){},Eh="RC_TREE_MOTION_".concat(Math.random()),C3={key:Eh},V$={key:Eh,level:0,index:0,pos:"0",node:C3,nodes:[C3]},Dk={parent:null,children:[],pos:V$.pos,data:C3,title:null,key:Eh,isStart:[],isEnd:[]};function Nk(n,e,r,i){return e===!1||!r?n:n.slice(0,Math.ceil(r/i)+1)}function kk(n){var e=n.key,r=n.pos;return QA(e,r)}function xye(n){for(var e=String(n.data.key),r=n;r.parent;)r=r.parent,e="".concat(r.data.key," > ").concat(e);return e}var W$=M.forwardRef(function(n,e){var r=n.prefixCls,i=n.data;n.selectable,n.checkable;var o=n.expandedKeys,s=n.selectedKeys,l=n.checkedKeys,u=n.loadedKeys,c=n.loadingKeys,d=n.halfCheckedKeys,h=n.keyEntities,p=n.disabled,m=n.dragging,v=n.dragOverNodeKey,y=n.dropPosition,A=n.motion,b=n.height,g=n.itemHeight,w=n.virtual,E=n.focusable,C=n.activeItem,_=n.focused,L=n.tabIndex,R=n.onKeyDown,P=n.onFocus,T=n.onBlur,D=n.onActiveChange,$=n.onListChangeStart,V=n.onListChangeEnd,B=Pr(n,yye),O=M.useRef(null),F=M.useRef(null);M.useImperativeHandle(e,function(){return{scrollTo:function(Dt){O.current.scrollTo(Dt)},getIndentWidth:function(){return F.current.offsetWidth}}});var k=M.useState(o),z=Nt(k,2),G=z[0],j=z[1],Q=M.useState(i),X=Nt(Q,2),J=X[0],Z=X[1],oe=M.useState(i),ue=Nt(oe,2),Be=ue[0],ge=ue[1],Ie=M.useState([]),He=Nt(Ie,2),Ze=He[0],Xe=He[1],ke=M.useState(null),lt=Nt(ke,2),ot=lt[0],it=lt[1],ft=M.useRef(i);ft.current=i;function xt(){var Tt=ft.current;Z(Tt),ge(Tt),Xe([]),it(null),V()}Ti(function(){j(o);var Tt=Aye(G,o);if(Tt.key!==null)if(Tt.add){var Dt=J.findIndex(function(Te){var Ce=Te.key;return Ce===Tt.key}),Yt=Nk(Bk(J,i,Tt.key),w,b,g),Ve=J.slice();Ve.splice(Dt+1,0,Dk),ge(Ve),Xe(Yt),it("show")}else{var be=i.findIndex(function(Te){var Ce=Te.key;return Ce===Tt.key}),fe=Nk(Bk(i,J,Tt.key),w,b,g),me=i.slice();me.splice(be+1,0,Dk),ge(me),Xe(fe),it("hide")}else J!==i&&(Z(i),ge(i))},[o,i]),M.useEffect(function(){m||xt()},[m]);var At=A?Be:i,Ct={expandedKeys:o,selectedKeys:s,loadedKeys:u,loadingKeys:c,checkedKeys:l,halfCheckedKeys:d,dragOverNodeKey:v,dropPosition:y,keyEntities:h};return M.createElement(M.Fragment,null,_&&C&&M.createElement("span",{style:Ok,"aria-live":"assertive"},xye(C)),M.createElement("div",null,M.createElement("input",{style:Ok,disabled:E===!1||p,tabIndex:E!==!1?L:null,onKeyDown:R,onFocus:P,onBlur:T,value:"",onChange:bye,"aria-label":"for screen reader"})),M.createElement("div",{className:"".concat(r,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},M.createElement("div",{className:"".concat(r,"-indent")},M.createElement("div",{ref:F,className:"".concat(r,"-indent-unit")}))),M.createElement(bC,on({},B,{data:At,itemKey:kk,height:b,fullHeight:!1,virtual:w,itemHeight:g,prefixCls:"".concat(r,"-list"),ref:O,onVisibleChange:function(Dt,Yt){var Ve=new Set(Dt),be=Yt.filter(function(fe){return!Ve.has(fe)});be.some(function(fe){return kk(fe)===Eh})&&xt()}}),function(Tt){var Dt=Tt.pos,Yt=on({},(G$(Tt.data),Tt.data)),Ve=Tt.title,be=Tt.key,fe=Tt.isStart,me=Tt.isEnd,Te=QA(be,Dt);delete Yt.key,delete Yt.children;var Ce=O0(Te,Ct);return M.createElement(vye,on({},Yt,Ce,{title:Ve,active:!!C&&be===C.key,pos:Dt,data:Tt.data,isStart:fe,isEnd:me,motion:A,motionNodes:be===Eh?Ze:null,motionType:ot,onMotionStart:$,onMotionEnd:xt,treeNodeRequiredProps:Ct,onMouseMove:function(){D(null)}}))}))});W$.displayName="NodeList";function cc(n,e){if(!n)return[];var r=n.slice(),i=r.indexOf(e);return i>=0&&r.splice(i,1),r}function ou(n,e){var r=(n||[]).slice();return r.indexOf(e)===-1&&r.push(e),r}function kL(n){return n.split("-")}function Eye(n,e){var r=[],i=Is(e,n);function o(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];s.forEach(function(l){var u=l.key,c=l.children;r.push(u),o(c)})}return o(i.children),r}function Cye(n){if(n.parent){var e=kL(n.pos);return Number(e[e.length-1])===n.parent.children.length-1}return!1}function wye(n){var e=kL(n.pos);return Number(e[e.length-1])===0}function Fk(n,e,r,i,o,s,l,u,c,d){var h,p=n.clientX,m=n.clientY,v=n.target.getBoundingClientRect(),y=v.top,A=v.height,b=(d==="rtl"?-1:1)*(((o==null?void 0:o.x)||0)-p),g=(b-12)/i,w=Is(u,r.props.eventKey);if(m<y+A/2){var E=l.findIndex(function(F){return F.key===w.key}),C=E<=0?0:E-1,_=l[C].key;w=Is(u,_)}var L=w.key,R=w,P=w.key,T=0,D=0;if(!c.includes(L))for(var $=0;$<g&&Cye(w);$+=1)w=w.parent,D+=1;var V=e.props.data,B=w.node,O=!0;return wye(w)&&w.level===0&&m<y+A/2&&s({dragNode:V,dropNode:B,dropPosition:-1})&&w.key===r.props.eventKey?T=-1:(R.children||[]).length&&c.includes(P)?s({dragNode:V,dropNode:B,dropPosition:0})?T=0:O=!1:D===0?g>-1.5?s({dragNode:V,dropNode:B,dropPosition:1})?T=1:O=!1:s({dragNode:V,dropNode:B,dropPosition:0})?T=0:s({dragNode:V,dropNode:B,dropPosition:1})?T=1:O=!1:s({dragNode:V,dropNode:B,dropPosition:1})?T=1:O=!1,{dropPosition:T,dropLevelOffset:D,dropTargetKey:w.key,dropTargetPos:w.pos,dragOverNodeKey:P,dropContainerKey:T===0?null:((h=w.parent)===null||h===void 0?void 0:h.key)||null,dropAllowed:O}}function Uk(n,e){if(n){var r=e.multiple;return r?n.slice():n.length?[n[0]]:n}}function Z2(n){if(!n)return null;var e;if(Array.isArray(n))e={checkedKeys:n,halfCheckedKeys:void 0};else if(Ir(n)==="object")e={checkedKeys:n.checked||void 0,halfCheckedKeys:n.halfChecked||void 0};else return no(!1,"`checkedKeys` is not an array or an object"),null;return e}function w3(n,e){var r=new Set;function i(o){if(!r.has(o)){var s=Is(e,o);if(s){r.add(o);var l=s.parent,u=s.node;u.disabled||l&&i(l.key)}}}return(n||[]).forEach(function(o){i(o)}),An(r)}var Sye=10,FL=function(n){ql(r,n);var e=Yl(r);function r(){var i;ca(this,r);for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return i=e.call.apply(e,[this].concat(s)),i.destroyed=!1,i.delayedDragEnterLogic=void 0,i.loadingRetryTimes={},i.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:eg()},i.dragStartMousePosition=null,i.dragNode=void 0,i.currentMouseOverDroppableNodeKey=null,i.listRef=M.createRef(),i.onNodeDragStart=function(u,c){var d=i.state,h=d.expandedKeys,p=d.keyEntities,m=i.props.onDragStart,v=c.props.eventKey;i.dragNode=c,i.dragStartMousePosition={x:u.clientX,y:u.clientY};var y=cc(h,v);i.setState({draggingNodeKey:v,dragChildrenKeys:Eye(v,p),indent:i.listRef.current.getIndentWidth()}),i.setExpandedKeys(y),window.addEventListener("dragend",i.onWindowDragEnd),m==null||m({event:u,node:Do(c.props)})},i.onNodeDragEnter=function(u,c){var d=i.state,h=d.expandedKeys,p=d.keyEntities,m=d.dragChildrenKeys,v=d.flattenNodes,y=d.indent,A=i.props,b=A.onDragEnter,g=A.onExpand,w=A.allowDrop,E=A.direction,C=c.props,_=C.pos,L=C.eventKey,R=ei(i),P=R.dragNode;if(i.currentMouseOverDroppableNodeKey!==L&&(i.currentMouseOverDroppableNodeKey=L),!P){i.resetDragState();return}var T=Fk(u,P,c,y,i.dragStartMousePosition,w,v,p,h,E),D=T.dropPosition,$=T.dropLevelOffset,V=T.dropTargetKey,B=T.dropContainerKey,O=T.dropTargetPos,F=T.dropAllowed,k=T.dragOverNodeKey;if(m.indexOf(V)!==-1||!F){i.resetDragState();return}if(i.delayedDragEnterLogic||(i.delayedDragEnterLogic={}),Object.keys(i.delayedDragEnterLogic).forEach(function(z){clearTimeout(i.delayedDragEnterLogic[z])}),P.props.eventKey!==c.props.eventKey&&(u.persist(),i.delayedDragEnterLogic[_]=window.setTimeout(function(){if(i.state.draggingNodeKey!==null){var z=An(h),G=Is(p,c.props.eventKey);G&&(G.children||[]).length&&(z=ou(h,c.props.eventKey)),"expandedKeys"in i.props||i.setExpandedKeys(z),g==null||g(z,{node:Do(c.props),expanded:!0,nativeEvent:u.nativeEvent})}},800)),P.props.eventKey===V&&$===0){i.resetDragState();return}i.setState({dragOverNodeKey:k,dropPosition:D,dropLevelOffset:$,dropTargetKey:V,dropContainerKey:B,dropTargetPos:O,dropAllowed:F}),b==null||b({event:u,node:Do(c.props),expandedKeys:h})},i.onNodeDragOver=function(u,c){var d=i.state,h=d.dragChildrenKeys,p=d.flattenNodes,m=d.keyEntities,v=d.expandedKeys,y=d.indent,A=i.props,b=A.onDragOver,g=A.allowDrop,w=A.direction,E=ei(i),C=E.dragNode;if(C){var _=Fk(u,C,c,y,i.dragStartMousePosition,g,p,m,v,w),L=_.dropPosition,R=_.dropLevelOffset,P=_.dropTargetKey,T=_.dropContainerKey,D=_.dropAllowed,$=_.dropTargetPos,V=_.dragOverNodeKey;h.indexOf(P)!==-1||!D||(C.props.eventKey===P&&R===0?i.state.dropPosition===null&&i.state.dropLevelOffset===null&&i.state.dropTargetKey===null&&i.state.dropContainerKey===null&&i.state.dropTargetPos===null&&i.state.dropAllowed===!1&&i.state.dragOverNodeKey===null||i.resetDragState():L===i.state.dropPosition&&R===i.state.dropLevelOffset&&P===i.state.dropTargetKey&&T===i.state.dropContainerKey&&$===i.state.dropTargetPos&&D===i.state.dropAllowed&&V===i.state.dragOverNodeKey||i.setState({dropPosition:L,dropLevelOffset:R,dropTargetKey:P,dropContainerKey:T,dropTargetPos:$,dropAllowed:D,dragOverNodeKey:V}),b==null||b({event:u,node:Do(c.props)}))}},i.onNodeDragLeave=function(u,c){i.currentMouseOverDroppableNodeKey===c.props.eventKey&&!u.currentTarget.contains(u.relatedTarget)&&(i.resetDragState(),i.currentMouseOverDroppableNodeKey=null);var d=i.props.onDragLeave;d==null||d({event:u,node:Do(c.props)})},i.onWindowDragEnd=function(u){i.onNodeDragEnd(u,null,!0),window.removeEventListener("dragend",i.onWindowDragEnd)},i.onNodeDragEnd=function(u,c){var d=i.props.onDragEnd;i.setState({dragOverNodeKey:null}),i.cleanDragState(),d==null||d({event:u,node:Do(c.props)}),i.dragNode=null,window.removeEventListener("dragend",i.onWindowDragEnd)},i.onNodeDrop=function(u,c){var d,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,p=i.state,m=p.dragChildrenKeys,v=p.dropPosition,y=p.dropTargetKey,A=p.dropTargetPos,b=p.dropAllowed;if(b){var g=i.props.onDrop;if(i.setState({dragOverNodeKey:null}),i.cleanDragState(),y!==null){var w=mt(mt({},O0(y,i.getTreeNodeRequiredProps())),{},{active:((d=i.getActiveItem())===null||d===void 0?void 0:d.key)===y,data:Is(i.state.keyEntities,y).node}),E=m.indexOf(y)!==-1;no(!E,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var C=kL(A),_={event:u,node:Do(w),dragNode:i.dragNode?Do(i.dragNode.props):null,dragNodesKeys:[i.dragNode.props.eventKey].concat(m),dropToGap:v!==0,dropPosition:v+Number(C[C.length-1])};h||g==null||g(_),i.dragNode=null}}},i.cleanDragState=function(){var u=i.state.draggingNodeKey;u!==null&&i.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),i.dragStartMousePosition=null,i.currentMouseOverDroppableNodeKey=null},i.triggerExpandActionExpand=function(u,c){var d=i.state,h=d.expandedKeys,p=d.flattenNodes,m=c.expanded,v=c.key,y=c.isLeaf;if(!(y||u.shiftKey||u.metaKey||u.ctrlKey)){var A=p.filter(function(g){return g.key===v})[0],b=Do(mt(mt({},O0(v,i.getTreeNodeRequiredProps())),{},{data:A.data}));i.setExpandedKeys(m?cc(h,v):ou(h,v)),i.onNodeExpand(u,b)}},i.onNodeClick=function(u,c){var d=i.props,h=d.onClick,p=d.expandAction;p==="click"&&i.triggerExpandActionExpand(u,c),h==null||h(u,c)},i.onNodeDoubleClick=function(u,c){var d=i.props,h=d.onDoubleClick,p=d.expandAction;p==="doubleClick"&&i.triggerExpandActionExpand(u,c),h==null||h(u,c)},i.onNodeSelect=function(u,c){var d=i.state.selectedKeys,h=i.state,p=h.keyEntities,m=h.fieldNames,v=i.props,y=v.onSelect,A=v.multiple,b=c.selected,g=c[m.key],w=!b;w?A?d=ou(d,g):d=[g]:d=cc(d,g);var E=d.map(function(C){var _=Is(p,C);return _?_.node:null}).filter(function(C){return C});i.setUncontrolledState({selectedKeys:d}),y==null||y(d,{event:"select",selected:w,node:c,selectedNodes:E,nativeEvent:u.nativeEvent})},i.onNodeCheck=function(u,c,d){var h=i.state,p=h.keyEntities,m=h.checkedKeys,v=h.halfCheckedKeys,y=i.props,A=y.checkStrictly,b=y.onCheck,g=c.key,w,E={event:"check",node:c,checked:d,nativeEvent:u.nativeEvent};if(A){var C=d?ou(m,g):cc(m,g),_=cc(v,g);w={checked:C,halfChecked:_},E.checkedNodes=C.map(function($){return Is(p,$)}).filter(function($){return $}).map(function($){return $.node}),i.setUncontrolledState({checkedKeys:C})}else{var L=Pm([].concat(An(m),[g]),!0,p),R=L.checkedKeys,P=L.halfCheckedKeys;if(!d){var T=new Set(R);T.delete(g);var D=Pm(Array.from(T),{checked:!1,halfCheckedKeys:P},p);R=D.checkedKeys,P=D.halfCheckedKeys}w=R,E.checkedNodes=[],E.checkedNodesPositions=[],E.halfCheckedKeys=P,R.forEach(function($){var V=Is(p,$);if(V){var B=V.node,O=V.pos;E.checkedNodes.push(B),E.checkedNodesPositions.push({node:B,pos:O})}}),i.setUncontrolledState({checkedKeys:R},!1,{halfCheckedKeys:P})}b==null||b(w,E)},i.onNodeLoad=function(u){var c=u.key,d=new Promise(function(h,p){i.setState(function(m){var v=m.loadedKeys,y=v===void 0?[]:v,A=m.loadingKeys,b=A===void 0?[]:A,g=i.props,w=g.loadData,E=g.onLoad;if(!w||y.indexOf(c)!==-1||b.indexOf(c)!==-1)return null;var C=w(u);return C.then(function(){var _=i.state.loadedKeys,L=ou(_,c);E==null||E(L,{event:"load",node:u}),i.setUncontrolledState({loadedKeys:L}),i.setState(function(R){return{loadingKeys:cc(R.loadingKeys,c)}}),h()}).catch(function(_){if(i.setState(function(R){return{loadingKeys:cc(R.loadingKeys,c)}}),i.loadingRetryTimes[c]=(i.loadingRetryTimes[c]||0)+1,i.loadingRetryTimes[c]>=Sye){var L=i.state.loadedKeys;no(!1,"Retry for `loadData` many times but still failed. No more retry."),i.setUncontrolledState({loadedKeys:ou(L,c)}),h()}p(_)}),{loadingKeys:ou(b,c)}})});return d.catch(function(){}),d},i.onNodeMouseEnter=function(u,c){var d=i.props.onMouseEnter;d==null||d({event:u,node:c})},i.onNodeMouseLeave=function(u,c){var d=i.props.onMouseLeave;d==null||d({event:u,node:c})},i.onNodeContextMenu=function(u,c){var d=i.props.onRightClick;d&&(u.preventDefault(),d({event:u,node:c}))},i.onFocus=function(){var u=i.props.onFocus;i.setState({focused:!0});for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];u==null||u.apply(void 0,d)},i.onBlur=function(){var u=i.props.onBlur;i.setState({focused:!1}),i.onActiveChange(null);for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];u==null||u.apply(void 0,d)},i.getTreeNodeRequiredProps=function(){var u=i.state,c=u.expandedKeys,d=u.selectedKeys,h=u.loadedKeys,p=u.loadingKeys,m=u.checkedKeys,v=u.halfCheckedKeys,y=u.dragOverNodeKey,A=u.dropPosition,b=u.keyEntities;return{expandedKeys:c||[],selectedKeys:d||[],loadedKeys:h||[],loadingKeys:p||[],checkedKeys:m||[],halfCheckedKeys:v||[],dragOverNodeKey:y,dropPosition:A,keyEntities:b}},i.setExpandedKeys=function(u){var c=i.state,d=c.treeData,h=c.fieldNames,p=W2(d,u,h);i.setUncontrolledState({expandedKeys:u,flattenNodes:p},!0)},i.onNodeExpand=function(u,c){var d=i.state.expandedKeys,h=i.state,p=h.listChanging,m=h.fieldNames,v=i.props,y=v.onExpand,A=v.loadData,b=c.expanded,g=c[m.key];if(!p){var w=d.indexOf(g),E=!b;if(no(b&&w!==-1||!b&&w===-1,"Expand state not sync with index check"),E?d=ou(d,g):d=cc(d,g),i.setExpandedKeys(d),y==null||y(d,{node:c,expanded:E,nativeEvent:u.nativeEvent}),E&&A){var C=i.onNodeLoad(c);C&&C.then(function(){var _=W2(i.state.treeData,d,m);i.setUncontrolledState({flattenNodes:_})}).catch(function(){var _=i.state.expandedKeys,L=cc(_,g);i.setExpandedKeys(L)})}}},i.onListChangeStart=function(){i.setUncontrolledState({listChanging:!0})},i.onListChangeEnd=function(){setTimeout(function(){i.setUncontrolledState({listChanging:!1})})},i.onActiveChange=function(u){var c=i.state.activeKey,d=i.props.onActiveChange;c!==u&&(i.setState({activeKey:u}),u!==null&&i.scrollTo({key:u}),d==null||d(u))},i.getActiveItem=function(){var u=i.state,c=u.activeKey,d=u.flattenNodes;return c===null?null:d.find(function(h){var p=h.key;return p===c})||null},i.offsetActiveKey=function(u){var c=i.state,d=c.flattenNodes,h=c.activeKey,p=d.findIndex(function(y){var A=y.key;return A===h});p===-1&&u<0&&(p=d.length),p=(p+u+d.length)%d.length;var m=d[p];if(m){var v=m.key;i.onActiveChange(v)}else i.onActiveChange(null)},i.onKeyDown=function(u){var c=i.state,d=c.activeKey,h=c.expandedKeys,p=c.checkedKeys,m=c.fieldNames,v=i.props,y=v.onKeyDown,A=v.checkable,b=v.selectable;switch(u.which){case vn.UP:{i.offsetActiveKey(-1),u.preventDefault();break}case vn.DOWN:{i.offsetActiveKey(1),u.preventDefault();break}}var g=i.getActiveItem();if(g&&g.data){var w=i.getTreeNodeRequiredProps(),E=g.data.isLeaf===!1||!!(g.data[m.children]||[]).length,C=Do(mt(mt({},O0(d,w)),{},{data:g.data,active:!0}));switch(u.which){case vn.LEFT:{E&&h.includes(d)?i.onNodeExpand({},C):g.parent&&i.onActiveChange(g.parent.key),u.preventDefault();break}case vn.RIGHT:{E&&!h.includes(d)?i.onNodeExpand({},C):g.children&&g.children.length&&i.onActiveChange(g.children[0].key),u.preventDefault();break}case vn.ENTER:case vn.SPACE:{A&&!C.disabled&&C.checkable!==!1&&!C.disableCheckbox?i.onNodeCheck({},C,!p.includes(d)):!A&&b&&!C.disabled&&C.selectable!==!1&&i.onNodeSelect({},C);break}}}y==null||y(u)},i.setUncontrolledState=function(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!i.destroyed){var h=!1,p=!0,m={};Object.keys(u).forEach(function(v){if(v in i.props){p=!1;return}h=!0,m[v]=u[v]}),h&&(!c||p)&&i.setState(mt(mt({},m),d))}},i.scrollTo=function(u){i.listRef.current.scrollTo(u)},i}return ua(r,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var o=this.props.activeKey;o!==void 0&&o!==this.state.activeKey&&(this.setState({activeKey:o}),o!==null&&this.scrollTo({key:o}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var o,s=this.state,l=s.focused,u=s.flattenNodes,c=s.keyEntities,d=s.draggingNodeKey,h=s.activeKey,p=s.dropLevelOffset,m=s.dropContainerKey,v=s.dropTargetKey,y=s.dropPosition,A=s.dragOverNodeKey,b=s.indent,g=this.props,w=g.prefixCls,E=g.className,C=g.style,_=g.showLine,L=g.focusable,R=g.tabIndex,P=R===void 0?0:R,T=g.selectable,D=g.showIcon,$=g.icon,V=g.switcherIcon,B=g.draggable,O=g.checkable,F=g.checkStrictly,k=g.disabled,z=g.motion,G=g.loadData,j=g.filterTreeNode,Q=g.height,X=g.itemHeight,J=g.virtual,Z=g.titleRender,oe=g.dropIndicatorRender,ue=g.onContextMenu,Be=g.onScroll,ge=g.direction,Ie=g.rootClassName,He=g.rootStyle,Ze=Ql(this.props,{aria:!0,data:!0}),Xe;return B&&(Ir(B)==="object"?Xe=B:typeof B=="function"?Xe={nodeDraggable:B}:Xe={}),M.createElement(NL.Provider,{value:{prefixCls:w,selectable:T,showIcon:D,icon:$,switcherIcon:V,draggable:Xe,draggingNodeKey:d,checkable:O,checkStrictly:F,disabled:k,keyEntities:c,dropLevelOffset:p,dropContainerKey:m,dropTargetKey:v,dropPosition:y,dragOverNodeKey:A,indent:b,direction:ge,dropIndicatorRender:oe,loadData:G,filterTreeNode:j,titleRender:Z,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},M.createElement("div",{role:"tree",className:Et(w,E,Ie,(o={},ct(o,"".concat(w,"-show-line"),_),ct(o,"".concat(w,"-focused"),l),ct(o,"".concat(w,"-active-focused"),h!==null),o)),style:He},M.createElement(W$,on({ref:this.listRef,prefixCls:w,style:C,data:u,disabled:k,selectable:T,checkable:!!O,motion:z,dragging:d!==null,height:Q,itemHeight:X,virtual:J,focusable:L,focused:l,tabIndex:P,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:ue,onScroll:Be},this.getTreeNodeRequiredProps(),Ze))))}}],[{key:"getDerivedStateFromProps",value:function(o,s){var l=s.prevProps,u={prevProps:o};function c(L){return!l&&L in o||l&&l[L]!==o[L]}var d,h=s.fieldNames;if(c("fieldNames")&&(h=eg(o.fieldNames),u.fieldNames=h),c("treeData")?d=o.treeData:c("children")&&(no(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),d=JH(o.children)),d){u.treeData=d;var p=TL(d,{fieldNames:h});u.keyEntities=mt(ct({},Eh,V$),p.keyEntities)}var m=u.keyEntities||s.keyEntities;if(c("expandedKeys")||l&&c("autoExpandParent"))u.expandedKeys=o.autoExpandParent||!l&&o.defaultExpandParent?w3(o.expandedKeys,m):o.expandedKeys;else if(!l&&o.defaultExpandAll){var v=mt({},m);delete v[Eh],u.expandedKeys=Object.keys(v).map(function(L){return v[L].key})}else!l&&o.defaultExpandedKeys&&(u.expandedKeys=o.autoExpandParent||o.defaultExpandParent?w3(o.defaultExpandedKeys,m):o.defaultExpandedKeys);if(u.expandedKeys||delete u.expandedKeys,d||u.expandedKeys){var y=W2(d||s.treeData,u.expandedKeys||s.expandedKeys,h);u.flattenNodes=y}if(o.selectable&&(c("selectedKeys")?u.selectedKeys=Uk(o.selectedKeys,o):!l&&o.defaultSelectedKeys&&(u.selectedKeys=Uk(o.defaultSelectedKeys,o))),o.checkable){var A;if(c("checkedKeys")?A=Z2(o.checkedKeys)||{}:!l&&o.defaultCheckedKeys?A=Z2(o.defaultCheckedKeys)||{}:d&&(A=Z2(o.checkedKeys)||{checkedKeys:s.checkedKeys,halfCheckedKeys:s.halfCheckedKeys}),A){var b=A,g=b.checkedKeys,w=g===void 0?[]:g,E=b.halfCheckedKeys,C=E===void 0?[]:E;if(!o.checkStrictly){var _=Pm(w,!0,m);w=_.checkedKeys,C=_.halfCheckedKeys}u.checkedKeys=w,u.halfCheckedKeys=C}}return c("loadedKeys")&&(u.loadedKeys=o.loadedKeys),u}}]),r}(M.Component);FL.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:cye,allowDrop:function(){return!0},expandAction:!1};FL.TreeNode=tg;const _ye=new ui("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),Mye=(n,e)=>({[`.${n}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${e.motionDurationSlow}`}}}),Tye=(n,e)=>({[`.${n}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:e.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${e.lineWidthBold}px solid ${e.colorPrimary}`,borderRadius:"50%",content:'""'}}}),Rye=(n,e)=>{const{treeCls:r,treeNodeCls:i,treeNodePadding:o,titleHeight:s,nodeSelectedBg:l,nodeHoverBg:u}=e,c=e.paddingXS;return{[r]:Object.assign(Object.assign({},ji(e)),{background:e.colorBgContainer,borderRadius:e.borderRadius,transition:`background-color ${e.motionDurationSlow}`,[`&${r}-rtl`]:{[`${r}-switcher`]:{"&_close":{[`${r}-switcher-icon`]:{svg:{transform:"rotate(90deg)"}}}}},[`&-focused:not(:hover):not(${r}-active-focused)`]:Object.assign({},Iu(e)),[`${r}-list-holder-inner`]:{alignItems:"flex-start"},[`&${r}-block-node`]:{[`${r}-list-holder-inner`]:{alignItems:"stretch",[`${r}-node-content-wrapper`]:{flex:"auto"},[`${i}.dragging`]:{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:o,insetInlineStart:0,border:`1px solid ${e.colorPrimary}`,opacity:0,animationName:_ye,animationDuration:e.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}}},[`${i}`]:{display:"flex",alignItems:"flex-start",padding:`0 0 ${o}px 0`,outline:"none","&-rtl":{direction:"rtl"},"&-disabled":{[`${r}-node-content-wrapper`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}}},[`&-active ${r}-node-content-wrapper`]:Object.assign({},Iu(e)),[`&:not(${i}-disabled).filter-node ${r}-title`]:{color:"inherit",fontWeight:500},"&-draggable":{[`${r}-draggable-icon`]:{flexShrink:0,width:s,lineHeight:`${s}px`,textAlign:"center",visibility:"visible",opacity:.2,transition:`opacity ${e.motionDurationSlow}`,[`${i}:hover &`]:{opacity:.45}},[`&${i}-disabled`]:{[`${r}-draggable-icon`]:{visibility:"hidden"}}}},[`${r}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:s}},[`${r}-draggable-icon`]:{visibility:"hidden"},[`${r}-switcher`]:Object.assign(Object.assign({},Mye(n,e)),{position:"relative",flex:"none",alignSelf:"stretch",width:s,margin:0,lineHeight:`${s}px`,textAlign:"center",cursor:"pointer",userSelect:"none","&-noop":{cursor:"default"},"&_close":{[`${r}-switcher-icon`]:{svg:{transform:"rotate(-90deg)"}}},"&-loading-icon":{color:e.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:s/2,bottom:-o,marginInlineStart:-1,borderInlineEnd:`1px solid ${e.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:s/2*.8,height:s/2,borderBottom:`1px solid ${e.colorBorder}`,content:'""'}}}),[`${r}-checkbox`]:{top:"initial",marginInlineEnd:c,alignSelf:"flex-start",marginTop:e.marginXXS},[`${r}-node-content-wrapper, ${r}-checkbox + span`]:{position:"relative",zIndex:"auto",minHeight:s,margin:0,padding:`0 ${e.paddingXS/2}px`,color:"inherit",lineHeight:`${s}px`,background:"transparent",borderRadius:e.borderRadius,cursor:"pointer",transition:`all ${e.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`,"&:hover":{backgroundColor:u},[`&${r}-node-selected`]:{backgroundColor:l},[`${r}-iconEle`]:{display:"inline-block",width:s,height:s,lineHeight:`${s}px`,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}},[`${r}-unselectable ${r}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${r}-node-content-wrapper`]:Object.assign({lineHeight:`${s}px`,userSelect:"none"},Tye(n,e)),[`${i}.drop-container`]:{"> [draggable]":{boxShadow:`0 0 0 2px ${e.colorPrimary}`}},"&-show-line":{[`${r}-indent`]:{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:s/2,bottom:-o,borderInlineEnd:`1px solid ${e.colorBorder}`,content:'""'},"&-end":{"&:before":{display:"none"}}}},[`${r}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${i}-leaf-last`]:{[`${r}-switcher`]:{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:`${s/2}px !important`}}}}})}},Iye=n=>{const{treeCls:e,treeNodeCls:r,treeNodePadding:i,directoryNodeSelectedBg:o,directoryNodeSelectedColor:s}=n;return{[`${e}${e}-directory`]:{[r]:{position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:i,insetInlineStart:0,transition:`background-color ${n.motionDurationMid}`,content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:n.controlItemBgHover}},"> *":{zIndex:1},[`${e}-switcher`]:{transition:`color ${n.motionDurationMid}`},[`${e}-node-content-wrapper`]:{borderRadius:0,userSelect:"none","&:hover":{background:"transparent"},[`&${e}-node-selected`]:{color:s,background:"transparent"}},"&-selected":{"\n            &:hover::before,\n            &::before\n          ":{background:o},[`${e}-switcher`]:{color:s},[`${e}-node-content-wrapper`]:{color:s,background:"transparent"}}}}}},Lye=(n,e)=>{const r=`.${n}`,i=`${r}-treenode`,o=e.paddingXS/2,s=ti(e,{treeCls:r,treeNodeCls:i,treeNodePadding:o});return[Rye(n,s),Iye(s)]},Pye=n=>{const{controlHeightSM:e}=n;return{titleHeight:e,nodeHoverBg:n.controlItemBgHover,nodeSelectedBg:n.controlItemBgActive}},Bye=zi("Tree",(n,e)=>{let{prefixCls:r}=e;return[{[n.componentCls]:e$(`${r}-checkbox`,n)},Lye(r,n),aL(n)]},n=>{const{colorTextLightSolid:e,colorPrimary:r}=n;return Object.assign(Object.assign({},Pye(n)),{directoryNodeSelectedColor:e,directoryNodeSelectedBg:r})}),zk=4;function Oye(n){const{dropPosition:e,dropLevelOffset:r,prefixCls:i,indent:o,direction:s="ltr"}=n,l=s==="ltr"?"left":"right",u=s==="ltr"?"right":"left",c={[l]:-r*o+zk,[u]:0};switch(e){case-1:c.top=-3;break;case 1:c.bottom=-3;break;default:c.bottom=-3,c[l]=o+zk;break}return nn.createElement("div",{style:c,className:`${i}-drop-indicator`})}const Dye=n=>{const{prefixCls:e,switcherIcon:r,treeNodeProps:i,showLine:o}=n,{isLeaf:s,expanded:l,loading:u}=i;if(u)return M.createElement(Qm,{className:`${e}-switcher-loading-icon`});let c;if(o&&typeof o=="object"&&(c=o.showLeafIcon),s){if(!o)return null;if(typeof c!="boolean"&&c){const p=typeof c=="function"?c(i):c,m=`${e}-switcher-line-custom-icon`;return us(p)?ya(p,{className:Et(p.props.className||"",m)}):p}return c?M.createElement(uz,{className:`${e}-switcher-line-icon`}):M.createElement("span",{className:`${e}-switcher-leaf-line`})}const d=`${e}-switcher-icon`,h=typeof r=="function"?r(i):r;return us(h)?ya(h,{className:Et(h.props.className||"",d)}):h!==void 0?h:o?l?M.createElement(Qre,{className:`${e}-switcher-line-icon`}):M.createElement(cie,{className:`${e}-switcher-line-icon`}):M.createElement(Gte,{className:d})},Nye=Dye,kye=nn.forwardRef((n,e)=>{const{getPrefixCls:r,direction:i,virtual:o,tree:s}=nn.useContext(_r),{prefixCls:l,className:u,showIcon:c=!1,showLine:d,switcherIcon:h,blockNode:p=!1,children:m,checkable:v=!1,selectable:y=!0,draggable:A,motion:b,style:g}=n,w=r("tree",l),E=r(),C=b??Object.assign(Object.assign({},XI(E)),{motionAppear:!1}),_=Object.assign(Object.assign({},n),{checkable:v,selectable:y,showIcon:c,motion:C,blockNode:p,showLine:!!d,dropIndicatorRender:Oye}),[L,R]=Bye(w),P=nn.useMemo(()=>{if(!A)return!1;let D={};switch(typeof A){case"function":D.nodeDraggable=A;break;case"object":D=Object.assign({},A);break}return D.icon!==!1&&(D.icon=D.icon||nn.createElement(Rre,null)),D},[A]),T=D=>nn.createElement(Nye,{prefixCls:w,switcherIcon:h,treeNodeProps:D,showLine:d});return L(nn.createElement(FL,Object.assign({itemHeight:20,ref:e,virtual:o},_,{style:Object.assign(Object.assign({},s==null?void 0:s.style),g),prefixCls:w,className:Et({[`${w}-icon-hide`]:!c,[`${w}-block-node`]:p,[`${w}-unselectable`]:!y,[`${w}-rtl`]:i==="rtl"},s==null?void 0:s.className,u,R),direction:i,checkable:v&&nn.createElement("span",{className:`${w}-checkbox-inner`}),selectable:y,switcherIcon:T,draggable:P}),m))}),Q$=kye;var lu;(function(n){n[n.None=0]="None",n[n.Start=1]="Start",n[n.End=2]="End"})(lu||(lu={}));function UL(n,e,r){const{key:i,children:o}=r;function s(l){const u=l[i],c=l[o];e(u,l)!==!1&&UL(c||[],e,r)}n.forEach(s)}function Fye(n){let{treeData:e,expandedKeys:r,startKey:i,endKey:o,fieldNames:s}=n;const l=[];let u=lu.None;if(i&&i===o)return[i];if(!i||!o)return[];function c(d){return d===i||d===o}return UL(e,d=>{if(u===lu.End)return!1;if(c(d)){if(l.push(d),u===lu.None)u=lu.Start;else if(u===lu.Start)return u=lu.End,!1}else u===lu.Start&&l.push(d);return r.includes(d)},eg(s)),l}function e_(n,e,r){const i=An(e),o=[];return UL(n,(s,l)=>{const u=i.indexOf(s);return u!==-1&&(o.push(l),i.splice(u,1)),!!i.length},eg(r)),o}var Hk=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};function Uye(n){const{isLeaf:e,expanded:r}=n;return e?M.createElement(uz,null):r?M.createElement(xre,null):M.createElement(Sre,null)}function $k(n){let{treeData:e,children:r}=n;return e||JH(r)}const zye=(n,e)=>{var{defaultExpandAll:r,defaultExpandParent:i,defaultExpandedKeys:o}=n,s=Hk(n,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const l=M.useRef(),u=M.useRef(),c=()=>{const{keyEntities:P}=TL($k(s));let T;return r?T=Object.keys(P):i?T=w3(s.expandedKeys||o||[],P):T=s.expandedKeys||o,T},[d,h]=M.useState(s.selectedKeys||s.defaultSelectedKeys||[]),[p,m]=M.useState(()=>c());M.useEffect(()=>{"selectedKeys"in s&&h(s.selectedKeys)},[s.selectedKeys]),M.useEffect(()=>{"expandedKeys"in s&&m(s.expandedKeys)},[s.expandedKeys]);const v=(P,T)=>{var D;return"expandedKeys"in s||m(P),(D=s.onExpand)===null||D===void 0?void 0:D.call(s,P,T)},y=(P,T)=>{var D;const{multiple:$,fieldNames:V}=s,{node:B,nativeEvent:O}=T,{key:F=""}=B,k=$k(s),z=Object.assign(Object.assign({},T),{selected:!0}),G=(O==null?void 0:O.ctrlKey)||(O==null?void 0:O.metaKey),j=O==null?void 0:O.shiftKey;let Q;$&&G?(Q=P,l.current=F,u.current=Q,z.selectedNodes=e_(k,Q,V)):$&&j?(Q=Array.from(new Set([].concat(An(u.current||[]),An(Fye({treeData:k,expandedKeys:p,startKey:F,endKey:l.current,fieldNames:V}))))),z.selectedNodes=e_(k,Q,V)):(Q=[F],l.current=F,u.current=Q,z.selectedNodes=e_(k,Q,V)),(D=s.onSelect)===null||D===void 0||D.call(s,Q,z),"selectedKeys"in s||h(Q)},{getPrefixCls:A,direction:b}=M.useContext(_r),{prefixCls:g,className:w,showIcon:E=!0,expandAction:C="click"}=s,_=Hk(s,["prefixCls","className","showIcon","expandAction"]),L=A("tree",g),R=Et(`${L}-directory`,{[`${L}-directory-rtl`]:b==="rtl"},w);return M.createElement(Q$,Object.assign({icon:Uye,ref:e,blockNode:!0},_,{showIcon:E,expandAction:C,prefixCls:L,className:R,expandedKeys:p,selectedKeys:d,onSelect:y,onExpand:v}))},Hye=M.forwardRef(zye),$ye=Hye,zL=Q$;zL.DirectoryTree=$ye;zL.TreeNode=tg;const Gye=zL;function Gk(n){let{value:e,onChange:r,filterSearch:i,tablePrefixCls:o,locale:s}=n;return i?M.createElement("div",{className:`${o}-filter-dropdown-search`},M.createElement(vve,{prefix:M.createElement(II,null),placeholder:s.filterSearchPlaceholder,onChange:r,value:e,htmlSize:1,className:`${o}-filter-dropdown-search-input`})):null}const jye=n=>{const{keyCode:e}=n;e===vn.ENTER&&n.stopPropagation()},Vye=M.forwardRef((n,e)=>M.createElement("div",{className:n.className,onClick:r=>r.stopPropagation(),onKeyDown:jye,ref:e},n.children)),Wye=Vye;function Bm(n){let e=[];return(n||[]).forEach(r=>{let{value:i,children:o}=r;e.push(i),o&&(e=[].concat(An(e),An(Bm(o))))}),e}function Qye(n){return n.some(e=>{let{children:r}=e;return r})}function K$(n,e){return typeof e=="string"||typeof e=="number"?e==null?void 0:e.toString().toLowerCase().includes(n.trim().toLowerCase()):!1}function X$(n){let{filters:e,prefixCls:r,filteredKeys:i,filterMultiple:o,searchValue:s,filterSearch:l}=n;return e.map((u,c)=>{const d=String(u.value);if(u.children)return{key:d||c,label:u.text,popupClassName:`${r}-dropdown-submenu`,children:X$({filters:u.children,prefixCls:r,filteredKeys:i,filterMultiple:o,searchValue:s,filterSearch:l})};const h=o?iE:NH,p={key:u.value!==void 0?d:c,label:M.createElement(M.Fragment,null,M.createElement(h,{checked:i.includes(d)}),M.createElement("span",null,u.text))};return s.trim()?typeof l=="function"?l(s,u)?p:null:K$(s,u.text)?p:null:p})}function t_(n){return n||[]}function Kye(n){var e,r;const{tablePrefixCls:i,prefixCls:o,column:s,dropdownPrefixCls:l,columnKey:u,filterMultiple:c,filterMode:d="menu",filterSearch:h=!1,filterState:p,triggerFilter:m,locale:v,children:y,getPopupContainer:A}=n,{filterDropdownOpen:b,onFilterDropdownOpenChange:g,filterResetToDefaultFilteredValue:w,defaultFilteredValue:E,filterDropdownVisible:C,onFilterDropdownVisibleChange:_}=s,[L,R]=M.useState(!1),P=!!(p&&(!((e=p.filteredKeys)===null||e===void 0)&&e.length||p.forceFiltered)),T=it=>{R(it),g==null||g(it),_==null||_(it)},D=(r=b??C)!==null&&r!==void 0?r:L,$=p==null?void 0:p.filteredKeys,[V,B]=lye(t_($)),O=it=>{let{selectedKeys:ft}=it;B(ft)},F=(it,ft)=>{let{node:xt,checked:At}=ft;O(c?{selectedKeys:it}:{selectedKeys:At&&xt.key?[xt.key]:[]})};M.useEffect(()=>{L&&O({selectedKeys:t_($)})},[$]);const[k,z]=M.useState([]),G=it=>{z(it)},[j,Q]=M.useState(""),X=it=>{const{value:ft}=it.target;Q(ft)};M.useEffect(()=>{L||Q("")},[L]);const J=it=>{const ft=it&&it.length?it:null;if(ft===null&&(!p||!p.filteredKeys)||Ru(ft,p==null?void 0:p.filteredKeys,!0))return null;m({column:s,key:u,filteredKeys:ft})},Z=()=>{T(!1),J(V())},oe=function(){let{confirm:it,closeDropdown:ft}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{confirm:!1,closeDropdown:!1};it&&J([]),ft&&T(!1),Q(""),B(w?(E||[]).map(xt=>String(xt)):[])},ue=function(){let{closeDropdown:it}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{closeDropdown:!0};it&&T(!1),J(V())},Be=it=>{it&&$!==void 0&&B(t_($)),T(it),!it&&!s.filterDropdown&&Z()},ge=Et({[`${l}-menu-without-submenu`]:!Qye(s.filters||[])}),Ie=it=>{if(it.target.checked){const ft=Bm(s==null?void 0:s.filters).map(xt=>String(xt));B(ft)}else B([])},He=it=>{let{filters:ft}=it;return(ft||[]).map((xt,At)=>{const Ct=String(xt.value),Tt={title:xt.text,key:xt.value!==void 0?Ct:String(At)};return xt.children&&(Tt.children=He({filters:xt.children})),Tt})},Ze=it=>{var ft;return Object.assign(Object.assign({},it),{text:it.title,value:it.key,children:((ft=it.children)===null||ft===void 0?void 0:ft.map(xt=>Ze(xt)))||[]})};let Xe;if(typeof s.filterDropdown=="function")Xe=s.filterDropdown({prefixCls:`${l}-custom`,setSelectedKeys:it=>O({selectedKeys:it}),selectedKeys:V(),confirm:ue,clearFilters:oe,filters:s.filters,visible:D,close:()=>{T(!1)}});else if(s.filterDropdown)Xe=s.filterDropdown;else{const it=V()||[],ft=()=>(s.filters||[]).length===0?M.createElement(Gf,{image:Gf.PRESENTED_IMAGE_SIMPLE,description:v.filterEmptyText,imageStyle:{height:24},style:{margin:0,padding:"16px 0"}}):d==="tree"?M.createElement(M.Fragment,null,M.createElement(Gk,{filterSearch:h,value:j,onChange:X,tablePrefixCls:i,locale:v}),M.createElement("div",{className:`${i}-filter-dropdown-tree`},c?M.createElement(iE,{checked:it.length===Bm(s.filters).length,indeterminate:it.length>0&&it.length<Bm(s.filters).length,className:`${i}-filter-dropdown-checkall`,onChange:Ie},v.filterCheckall):null,M.createElement(Gye,{checkable:!0,selectable:!1,blockNode:!0,multiple:c,checkStrictly:!c,className:`${l}-menu`,onCheck:F,checkedKeys:it,selectedKeys:it,showIcon:!1,treeData:He({filters:s.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:j.trim()?At=>typeof h=="function"?h(j,Ze(At)):K$(j,At.title):void 0}))):M.createElement(M.Fragment,null,M.createElement(Gk,{filterSearch:h,value:j,onChange:X,tablePrefixCls:i,locale:v}),M.createElement(EL,{selectable:!0,multiple:c,prefixCls:`${l}-menu`,className:ge,onSelect:O,onDeselect:O,selectedKeys:it,getPopupContainer:A,openKeys:k,onOpenChange:G,items:X$({filters:s.filters||[],filterSearch:h,prefixCls:o,filteredKeys:V(),filterMultiple:c,searchValue:j})})),xt=()=>w?Ru((E||[]).map(At=>String(At)),it,!0):it.length===0;Xe=M.createElement(M.Fragment,null,ft(),M.createElement("div",{className:`${o}-dropdown-btns`},M.createElement(yh,{type:"link",size:"small",disabled:xt(),onClick:()=>oe()},v.filterReset),M.createElement(yh,{type:"primary",size:"small",onClick:Z},v.filterConfirm)))}s.filterDropdown&&(Xe=M.createElement(RH,{selectable:void 0},Xe));const ke=()=>M.createElement(Wye,{className:`${o}-dropdown`},Xe);let lt;typeof s.filterIcon=="function"?lt=s.filterIcon(P):s.filterIcon?lt=s.filterIcon:lt=M.createElement(vre,null);const{direction:ot}=M.useContext(_r);return M.createElement("div",{className:`${o}-column`},M.createElement("span",{className:`${i}-column-title`},y),M.createElement(p$,{dropdownRender:ke,trigger:["click"],open:D,onOpenChange:Be,getPopupContainer:A,placement:ot==="rtl"?"bottomLeft":"bottomRight"},M.createElement("span",{role:"button",tabIndex:-1,className:Et(`${o}-trigger`,{active:P}),onClick:it=>{it.stopPropagation()}},lt)))}function S3(n,e,r){let i=[];return(n||[]).forEach((o,s)=>{var l;const u=YA(s,r);if(o.filters||"filterDropdown"in o||"onFilter"in o)if("filteredValue"in o){let c=o.filteredValue;"filterDropdown"in o||(c=(l=c==null?void 0:c.map(String))!==null&&l!==void 0?l:c),i.push({column:o,key:xh(o,u),filteredKeys:c,forceFiltered:o.filtered})}else i.push({column:o,key:xh(o,u),filteredKeys:e&&o.defaultFilteredValue?o.defaultFilteredValue:void 0,forceFiltered:o.filtered});"children"in o&&(i=[].concat(An(i),An(S3(o.children,e,u))))}),i}function q$(n,e,r,i,o,s,l,u){return r.map((c,d)=>{const h=YA(d,u),{filterMultiple:p=!0,filterMode:m,filterSearch:v}=c;let y=c;if(y.filters||y.filterDropdown){const A=xh(y,h),b=i.find(g=>{let{key:w}=g;return A===w});y=Object.assign(Object.assign({},y),{title:g=>M.createElement(Kye,{tablePrefixCls:n,prefixCls:`${n}-filter`,dropdownPrefixCls:e,column:y,columnKey:A,filterState:b,filterMultiple:p,filterMode:m,filterSearch:v,triggerFilter:s,locale:o,getPopupContainer:l},NC(c.title,g))})}return"children"in y&&(y=Object.assign(Object.assign({},y),{children:q$(n,e,y.children,i,o,s,l,h)})),y})}function jk(n){const e={};return n.forEach(r=>{let{key:i,filteredKeys:o,column:s}=r;const l=i,{filters:u,filterDropdown:c}=s;if(c)e[l]=o||null;else if(Array.isArray(o)){const d=Bm(u);e[l]=d.filter(h=>o.includes(String(h)))}else e[l]=null}),e}function Vk(n,e){return e.reduce((r,i)=>{const{column:{onFilter:o,filters:s},filteredKeys:l}=i;return o&&l&&l.length?r.filter(u=>l.some(c=>{const d=Bm(s),h=d.findIndex(m=>String(m)===String(c)),p=h!==-1?d[h]:c;return o(p,u)})):r},n)}const Y$=n=>n.flatMap(e=>"children"in e?[e].concat(An(Y$(e.children||[]))):[e]);function Xye(n){let{prefixCls:e,dropdownPrefixCls:r,mergedColumns:i,onFilterChange:o,getPopupContainer:s,locale:l}=n;gg();const u=M.useMemo(()=>Y$(i||[]),[i]),[c,d]=M.useState(()=>S3(u,!0)),h=M.useMemo(()=>{const y=S3(u,!1);if(y.length===0)return y;let A=!0;if(y.forEach(b=>{let{filteredKeys:g}=b;g!==void 0&&(A=!1)}),A){const b=(u||[]).map((g,w)=>xh(g,YA(w)));return c.filter(g=>{let{key:w}=g;return b.includes(w)}).map(g=>{const w=u[b.findIndex(E=>E===g.key)];return Object.assign(Object.assign({},g),{column:Object.assign(Object.assign({},g.column),w),forceFiltered:w.filtered})})}return y},[u,c]),p=M.useMemo(()=>jk(h),[h]),m=y=>{const A=h.filter(b=>{let{key:g}=b;return g!==y.key});A.push(y),d(A),o(jk(A),A)};return[y=>q$(e,r,y,h,l,m,s),h,p]}function qye(n,e,r){const i=M.useRef({});function o(s){if(!i.current||i.current.data!==n||i.current.childrenColumnName!==e||i.current.getRowKey!==r){let c=function(d){d.forEach((h,p)=>{const m=r(h,p);u.set(m,h),h&&typeof h=="object"&&e in h&&c(h[e]||[])})};var l=c;const u=new Map;c(n),i.current={data:n,childrenColumnName:e,kvMap:u,getRowKey:r}}return i.current.kvMap.get(s)}return[o]}var Yye=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const J$=10;function Jye(n,e){const r={current:n.current,pageSize:n.pageSize};return Object.keys(e&&typeof e=="object"?e:{}).forEach(o=>{const s=n[o];typeof s!="function"&&(r[o]=s)}),r}function Zye(n,e,r){const i=r&&typeof r=="object"?r:{},{total:o=0}=i,s=Yye(i,["total"]),[l,u]=M.useState(()=>({current:"defaultCurrent"in s?s.defaultCurrent:1,pageSize:"defaultPageSize"in s?s.defaultPageSize:J$})),c=Nve(l,s,{total:o>0?o:n}),d=Math.ceil((o||n)/c.pageSize);c.current>d&&(c.current=d||1);const h=(m,v)=>{u({current:m??1,pageSize:v||c.pageSize})},p=(m,v)=>{var y;r&&((y=r.onChange)===null||y===void 0||y.call(r,m,v)),h(m,v),e(m,v||(c==null?void 0:c.pageSize))};return r===!1?[{},()=>{}]:[Object.assign(Object.assign({},c),{onChange:p}),h]}const gd={},_3="SELECT_ALL",M3="SELECT_INVERT",T3="SELECT_NONE",Wk=[],Z$=(n,e)=>{let r=[];return(e||[]).forEach(i=>{r.push(i),i&&typeof i=="object"&&n in i&&(r=[].concat(An(r),An(Z$(n,i[n]))))}),r},ebe=(n,e)=>{const{preserveSelectedRowKeys:r,selectedRowKeys:i,defaultSelectedRowKeys:o,getCheckboxProps:s,onChange:l,onSelect:u,onSelectAll:c,onSelectInvert:d,onSelectNone:h,onSelectMultiple:p,columnWidth:m,type:v,selections:y,fixed:A,renderCell:b,hideSelectAll:g,checkStrictly:w=!0}=e||{},{prefixCls:E,data:C,pageData:_,getRecordByKey:L,getRowKey:R,expandType:P,childrenColumnName:T,locale:D,getPopupContainer:$}=n,V=gg(),[B,O]=Fo(i||o||Wk,{value:i}),F=M.useRef(new Map),k=M.useCallback(Xe=>{if(r){const ke=new Map;Xe.forEach(lt=>{let ot=L(lt);!ot&&F.current.has(lt)&&(ot=F.current.get(lt)),ke.set(lt,ot)}),F.current=ke}},[L,r]);M.useEffect(()=>{k(B)},[B]);const{keyEntities:z}=M.useMemo(()=>{if(w)return{keyEntities:null};let Xe=C;if(r){const ke=new Set(C.map((ot,it)=>R(ot,it))),lt=Array.from(F.current).reduce((ot,it)=>{let[ft,xt]=it;return ke.has(ft)?ot:ot.concat(xt)},[]);Xe=[].concat(An(Xe),An(lt))}return TL(Xe,{externalGetKey:R,childrenPropName:T})},[C,R,w,T,r]),G=M.useMemo(()=>Z$(T,_),[T,_]),j=M.useMemo(()=>{const Xe=new Map;return G.forEach((ke,lt)=>{const ot=R(ke,lt),it=(s?s(ke):null)||{};Xe.set(ot,it)}),Xe},[G,R,s]),Q=M.useCallback(Xe=>{var ke;return!!(!((ke=j.get(R(Xe)))===null||ke===void 0)&&ke.disabled)},[j,R]),[X,J]=M.useMemo(()=>{if(w)return[B||[],[]];const{checkedKeys:Xe,halfCheckedKeys:ke}=Pm(B,!0,z,Q);return[Xe||[],ke]},[B,w,z,Q]),Z=M.useMemo(()=>{const Xe=v==="radio"?X.slice(0,1):X;return new Set(Xe)},[X,v]),oe=M.useMemo(()=>v==="radio"?new Set:new Set(J),[J,v]),[ue,Be]=M.useState(null);M.useEffect(()=>{e||O(Wk)},[!!e]);const ge=M.useCallback((Xe,ke)=>{let lt,ot;k(Xe),r?(lt=Xe,ot=Xe.map(it=>F.current.get(it))):(lt=[],ot=[],Xe.forEach(it=>{const ft=L(it);ft!==void 0&&(lt.push(it),ot.push(ft))})),O(lt),l==null||l(lt,ot,{type:ke})},[O,L,l,r]),Ie=M.useCallback((Xe,ke,lt,ot)=>{if(u){const it=lt.map(ft=>L(ft));u(L(Xe),ke,it,ot)}ge(lt,"single")},[u,L,ge]),He=M.useMemo(()=>!y||g?null:(y===!0?[_3,M3,T3]:y).map(ke=>ke===_3?{key:"all",text:D.selectionAll,onSelect(){ge(C.map((lt,ot)=>R(lt,ot)).filter(lt=>{const ot=j.get(lt);return!(ot!=null&&ot.disabled)||Z.has(lt)}),"all")}}:ke===M3?{key:"invert",text:D.selectInvert,onSelect(){const lt=new Set(Z);_.forEach((it,ft)=>{const xt=R(it,ft),At=j.get(xt);At!=null&&At.disabled||(lt.has(xt)?lt.delete(xt):lt.add(xt))});const ot=Array.from(lt);d&&(V.deprecated(!1,"onSelectInvert","onChange"),d(ot)),ge(ot,"invert")}}:ke===T3?{key:"none",text:D.selectNone,onSelect(){h==null||h(),ge(Array.from(Z).filter(lt=>{const ot=j.get(lt);return ot==null?void 0:ot.disabled}),"none")}}:ke).map(ke=>Object.assign(Object.assign({},ke),{onSelect:function(){for(var lt,ot,it=arguments.length,ft=new Array(it),xt=0;xt<it;xt++)ft[xt]=arguments[xt];(ot=ke.onSelect)===null||ot===void 0||(lt=ot).call.apply(lt,[ke].concat(ft)),Be(null)}})),[y,Z,_,R,d,ge]);return[M.useCallback(Xe=>{var ke;if(!e)return Xe.filter(Ce=>Ce!==gd);let lt=An(Xe);const ot=new Set(Z),it=G.map(R).filter(Ce=>!j.get(Ce).disabled),ft=it.every(Ce=>ot.has(Ce)),xt=it.some(Ce=>ot.has(Ce)),At=()=>{const Ce=[];ft?it.forEach(we=>{ot.delete(we),Ce.push(we)}):it.forEach(we=>{ot.has(we)||(ot.add(we),Ce.push(we))});const Se=Array.from(ot);c==null||c(!ft,Se.map(we=>L(we)),Ce.map(we=>L(we))),ge(Se,"all"),Be(null)};let Ct;if(v!=="radio"){let Ce;if(He){const Ue={getPopupContainer:$,items:He.map((et,ce)=>{const{key:Y,text:ne,onSelect:Le}=et;return{key:Y??ce,onClick:()=>{Le==null||Le(it)},label:ne}})};Ce=M.createElement("div",{className:`${E}-selection-extra`},M.createElement(p$,{menu:Ue,getPopupContainer:$},M.createElement("span",null,M.createElement(lz,null))))}const Se=G.map((Ue,et)=>{const ce=R(Ue,et),Y=j.get(ce)||{};return Object.assign({checked:ot.has(ce)},Y)}).filter(Ue=>{let{disabled:et}=Ue;return et}),we=!!Se.length&&Se.length===G.length,Ge=we&&Se.every(Ue=>{let{checked:et}=Ue;return et}),Ae=we&&Se.some(Ue=>{let{checked:et}=Ue;return et});Ct=!g&&M.createElement("div",{className:`${E}-selection`},M.createElement(iE,{checked:we?Ge:!!G.length&&ft,indeterminate:we?!Ge&&Ae:!ft&&xt,onChange:At,disabled:G.length===0||we,"aria-label":Ce?"Custom selection":"Select all",skipGroup:!0}),Ce)}let Tt;v==="radio"?Tt=(Ce,Se,we)=>{const Ge=R(Se,we),Ae=ot.has(Ge);return{node:M.createElement(NH,Object.assign({},j.get(Ge),{checked:Ae,onClick:Ue=>Ue.stopPropagation(),onChange:Ue=>{ot.has(Ge)||Ie(Ge,!0,[Ge],Ue.nativeEvent)}})),checked:Ae}}:Tt=(Ce,Se,we)=>{var Ge;const Ae=R(Se,we),Ue=ot.has(Ae),et=oe.has(Ae),ce=j.get(Ae);let Y;return P==="nest"?Y=et:Y=(Ge=ce==null?void 0:ce.indeterminate)!==null&&Ge!==void 0?Ge:et,{node:M.createElement(iE,Object.assign({},ce,{indeterminate:Y,checked:Ue,skipGroup:!0,onClick:ne=>ne.stopPropagation(),onChange:ne=>{let{nativeEvent:Le}=ne;const{shiftKey:We}=Le;let ve=-1,he=-1;if(We&&w){const qe=new Set([ue,Ae]);it.some((Je,Qe)=>{if(qe.has(Je))if(ve===-1)ve=Qe;else return he=Qe,!0;return!1})}if(he!==-1&&ve!==he&&w){const qe=it.slice(ve,he+1),Je=[];Ue?qe.forEach(nt=>{ot.has(nt)&&(Je.push(nt),ot.delete(nt))}):qe.forEach(nt=>{ot.has(nt)||(Je.push(nt),ot.add(nt))});const Qe=Array.from(ot);p==null||p(!Ue,Qe.map(nt=>L(nt)),Je.map(nt=>L(nt))),ge(Qe,"multiple")}else{const qe=X;if(w){const Je=Ue?cc(qe,Ae):ou(qe,Ae);Ie(Ae,!Ue,Je,Le)}else{const Je=Pm([].concat(An(qe),[Ae]),!0,z,Q),{checkedKeys:Qe,halfCheckedKeys:nt}=Je;let It=Qe;if(Ue){const kt=new Set(Qe);kt.delete(Ae),It=Pm(Array.from(kt),{checked:!1,halfCheckedKeys:nt},z,Q).checkedKeys}Ie(Ae,!Ue,It,Le)}}Be(Ue?null:Ae)}})),checked:Ue}};const Dt=(Ce,Se,we)=>{const{node:Ge,checked:Ae}=Tt(Ce,Se,we);return b?b(Ae,Se,we,Ge):Ge};if(!lt.includes(gd))if(lt.findIndex(Ce=>{var Se;return((Se=Ce[N0])===null||Se===void 0?void 0:Se.columnType)==="EXPAND_COLUMN"})===0){const[Ce,...Se]=lt;lt=[Ce,gd].concat(An(Se))}else lt=[gd].concat(An(lt));const Yt=lt.indexOf(gd);lt=lt.filter((Ce,Se)=>Ce!==gd||Se===Yt);const Ve=lt[Yt-1],be=lt[Yt+1];let fe=A;fe===void 0&&((be==null?void 0:be.fixed)!==void 0?fe=be.fixed:(Ve==null?void 0:Ve.fixed)!==void 0&&(fe=Ve.fixed)),fe&&Ve&&((ke=Ve[N0])===null||ke===void 0?void 0:ke.columnType)==="EXPAND_COLUMN"&&Ve.fixed===void 0&&(Ve.fixed=fe);const me=Et(`${E}-selection-col`,{[`${E}-selection-col-with-dropdown`]:y&&v==="checkbox"}),Te={fixed:fe,width:m,className:`${E}-selection-column`,title:e.columnTitle||Ct,render:Dt,onCell:e.onCell,[N0]:{className:me}};return lt.map(Ce=>Ce===gd?Te:Ce)},[R,G,e,X,Z,oe,m,He,P,ue,j,p,Ie,Q]),Z]},ix="ascend",n_="descend";function sE(n){return typeof n.sorter=="object"&&typeof n.sorter.multiple=="number"?n.sorter.multiple:!1}function Qk(n){return typeof n=="function"?n:n&&typeof n=="object"&&n.compare?n.compare:!1}function tbe(n,e){return e?n[n.indexOf(e)+1]:n[0]}function R3(n,e,r){let i=[];function o(s,l){i.push({column:s,key:xh(s,l),multiplePriority:sE(s),sortOrder:s.sortOrder})}return(n||[]).forEach((s,l)=>{const u=YA(l,r);s.children?("sortOrder"in s&&o(s,u),i=[].concat(An(i),An(R3(s.children,e,u)))):s.sorter&&("sortOrder"in s?o(s,u):e&&s.defaultSortOrder&&i.push({column:s,key:xh(s,u),multiplePriority:sE(s),sortOrder:s.defaultSortOrder}))}),i}function eG(n,e,r,i,o,s,l,u){return(e||[]).map((c,d)=>{const h=YA(d,u);let p=c;if(p.sorter){const m=p.sortDirections||o,v=p.showSorterTooltip===void 0?l:p.showSorterTooltip,y=xh(p,h),A=r.find(P=>{let{key:T}=P;return T===y}),b=A?A.sortOrder:null,g=tbe(m,b);let w;if(c.sortIcon)w=c.sortIcon({sortOrder:b});else{const P=m.includes(ix)&&M.createElement(Yte,{className:Et(`${n}-column-sorter-up`,{active:b===ix})}),T=m.includes(n_)&&M.createElement(Qte,{className:Et(`${n}-column-sorter-down`,{active:b===n_})});w=M.createElement("span",{className:Et(`${n}-column-sorter`,{[`${n}-column-sorter-full`]:!!(P&&T)})},M.createElement("span",{className:`${n}-column-sorter-inner`,"aria-hidden":"true"},P,T))}const{cancelSort:E,triggerAsc:C,triggerDesc:_}=s||{};let L=E;g===n_?L=_:g===ix&&(L=C);const R=typeof v=="object"?Object.assign({title:L},v):{title:L};p=Object.assign(Object.assign({},p),{className:Et(p.className,{[`${n}-column-sort`]:b}),title:P=>{const T=M.createElement("div",{className:`${n}-column-sorters`},M.createElement("span",{className:`${n}-column-title`},NC(c.title,P)),w);return v?M.createElement(bh,Object.assign({},R),T):T},onHeaderCell:P=>{const T=c.onHeaderCell&&c.onHeaderCell(P)||{},D=T.onClick,$=T.onKeyDown;T.onClick=O=>{i({column:c,key:y,sortOrder:g,multiplePriority:sE(c)}),D==null||D(O)},T.onKeyDown=O=>{O.keyCode===vn.ENTER&&(i({column:c,key:y,sortOrder:g,multiplePriority:sE(c)}),$==null||$(O))};const V=sye(c.title,{}),B=V==null?void 0:V.toString();return b?T["aria-sort"]=b==="ascend"?"ascending":"descending":T["aria-label"]=B||"",T.className=Et(T.className,`${n}-column-has-sorters`),T.tabIndex=0,c.ellipsis&&(T.title=(V??"").toString()),T}})}return"children"in p&&(p=Object.assign(Object.assign({},p),{children:eG(n,p.children,r,i,o,s,l,h)})),p})}function Kk(n){const{column:e,sortOrder:r}=n;return{column:e,order:r,field:e.dataIndex,columnKey:e.key}}function Xk(n){const e=n.filter(r=>{let{sortOrder:i}=r;return i}).map(Kk);return e.length===0&&n.length?Object.assign(Object.assign({},Kk(n[n.length-1])),{column:void 0}):e.length<=1?e[0]||{}:e}function I3(n,e,r){const i=e.slice().sort((l,u)=>u.multiplePriority-l.multiplePriority),o=n.slice(),s=i.filter(l=>{let{column:{sorter:u},sortOrder:c}=l;return Qk(u)&&c});return s.length?o.sort((l,u)=>{for(let c=0;c<s.length;c+=1){const d=s[c],{column:{sorter:h},sortOrder:p}=d,m=Qk(h);if(m&&p){const v=m(l,u,p);if(v!==0)return p===ix?v:-v}}return 0}).map(l=>{const u=l[r];return u?Object.assign(Object.assign({},l),{[r]:I3(u,e,r)}):l}):o}function nbe(n){let{prefixCls:e,mergedColumns:r,onSorterChange:i,sortDirections:o,tableLocale:s,showSorterTooltip:l}=n;const[u,c]=M.useState(R3(r,!0)),d=M.useMemo(()=>{let y=!0;const A=R3(r,!1);if(!A.length)return u;const b=[];function g(E){y?b.push(E):b.push(Object.assign(Object.assign({},E),{sortOrder:null}))}let w=null;return A.forEach(E=>{w===null?(g(E),E.sortOrder&&(E.multiplePriority===!1?y=!1:w=!0)):(w&&E.multiplePriority!==!1||(y=!1),g(E))}),b},[r,u]),h=M.useMemo(()=>{const y=d.map(A=>{let{column:b,sortOrder:g}=A;return{column:b,order:g}});return{sortColumns:y,sortColumn:y[0]&&y[0].column,sortOrder:y[0]&&y[0].order}},[d]);function p(y){let A;y.multiplePriority===!1||!d.length||d[0].multiplePriority===!1?A=[y]:A=[].concat(An(d.filter(b=>{let{key:g}=b;return g!==y.key})),[y]),c(A),i(Xk(A),A)}return[y=>eG(e,y,d,p,o,s,l),d,h,()=>Xk(d)]}function tG(n,e){return n.map(r=>{const i=Object.assign({},r);return i.title=NC(r.title,e),"children"in i&&(i.children=tG(i.children,e)),i})}function rbe(n){return[M.useCallback(r=>tG(r,n),[n])]}const ibe=U$((n,e)=>{const{_renderTimes:r}=n,{_renderTimes:i}=e;return r!==i}),obe=$$((n,e)=>{const{_renderTimes:r}=n,{_renderTimes:i}=e;return r!==i}),abe=n=>{const{componentCls:e}=n,r=`${n.lineWidth}px ${n.lineType} ${n.tableBorderColor}`,i=(o,s,l)=>({[`&${e}-${o}`]:{[`> ${e}-container`]:{[`> ${e}-content, > ${e}-body`]:{"\n            > table > tbody > tr > th,\n            > table > tbody > tr > td\n          ":{[`> ${e}-expanded-row-fixed`]:{margin:`-${s}px -${l+n.lineWidth}px`}}}}}});return{[`${e}-wrapper`]:{[`${e}${e}-bordered`]:Object.assign(Object.assign(Object.assign({[`> ${e}-title`]:{border:r,borderBottom:0},[`> ${e}-container`]:{borderInlineStart:r,borderTop:r,[`
            > ${e}-content,
            > ${e}-header,
            > ${e}-body,
            > ${e}-summary
          `]:{"> table":{"\n                > thead > tr > th,\n                > thead > tr > td,\n                > tbody > tr > th,\n                > tbody > tr > td,\n                > tfoot > tr > th,\n                > tfoot > tr > td\n              ":{borderInlineEnd:r},"> thead":{"> tr:not(:last-child) > th":{borderBottom:r},"> tr > th::before":{backgroundColor:"transparent !important"}},"\n                > thead > tr,\n                > tbody > tr,\n                > tfoot > tr\n              ":{[`> ${e}-cell-fix-right-first::after`]:{borderInlineEnd:r}},"\n                > tbody > tr > th,\n                > tbody > tr > td\n              ":{[`> ${e}-expanded-row-fixed`]:{margin:`-${n.tablePaddingVertical}px -${n.tablePaddingHorizontal+n.lineWidth}px`,"&::after":{position:"absolute",top:0,insetInlineEnd:n.lineWidth,bottom:0,borderInlineEnd:r,content:'""'}}}}}},[`&${e}-scroll-horizontal`]:{[`> ${e}-container > ${e}-body`]:{"> table > tbody":{[`
                > tr${e}-expanded-row,
                > tr${e}-placeholder
              `]:{"> th, > td":{borderInlineEnd:0}}}}}},i("middle",n.tablePaddingVerticalMiddle,n.tablePaddingHorizontalMiddle)),i("small",n.tablePaddingVerticalSmall,n.tablePaddingHorizontalSmall)),{[`> ${e}-footer`]:{border:r,borderTop:0}}),[`${e}-cell`]:{[`${e}-container:first-child`]:{borderTop:0},"&-scrollbar:not([rowspan])":{boxShadow:`0 ${n.lineWidth}px 0 ${n.lineWidth}px ${n.tableHeaderBg}`}},[`${e}-bordered ${e}-cell-scrollbar`]:{borderInlineEnd:r}}}},sbe=abe,lbe=n=>{const{componentCls:e}=n;return{[`${e}-wrapper`]:{[`${e}-cell-ellipsis`]:Object.assign(Object.assign({},xc),{wordBreak:"keep-all",[`
          &${e}-cell-fix-left-last,
          &${e}-cell-fix-right-first
        `]:{overflow:"visible",[`${e}-cell-content`]:{display:"block",overflow:"hidden",textOverflow:"ellipsis"}},[`${e}-column-title`]:{overflow:"hidden",textOverflow:"ellipsis",wordBreak:"keep-all"}})}}},cbe=lbe,ube=n=>{const{componentCls:e}=n;return{[`${e}-wrapper`]:{[`${e}-tbody > tr${e}-placeholder`]:{textAlign:"center",color:n.colorTextDisabled,"\n          &:hover > th,\n          &:hover > td,\n        ":{background:n.colorBgContainer}}}}},dbe=ube,fbe=n=>{const{componentCls:e,antCls:r,controlInteractiveSize:i,motionDurationSlow:o,lineWidth:s,paddingXS:l,lineType:u,tableBorderColor:c,tableExpandIconBg:d,tableExpandColumnWidth:h,borderRadius:p,fontSize:m,fontSizeSM:v,lineHeight:y,tablePaddingVertical:A,tablePaddingHorizontal:b,tableExpandedRowBg:g,paddingXXS:w}=n,E=i/2-s,C=E*2+s*3,_=`${s}px ${u} ${c}`,L=w-s;return{[`${e}-wrapper`]:{[`${e}-expand-icon-col`]:{width:h},[`${e}-row-expand-icon-cell`]:{textAlign:"center",[`${e}-row-expand-icon`]:{display:"inline-flex",float:"none",verticalAlign:"sub"}},[`${e}-row-indent`]:{height:1,float:"left"},[`${e}-row-expand-icon`]:Object.assign(Object.assign({},jI(n)),{position:"relative",float:"left",boxSizing:"border-box",width:C,height:C,padding:0,color:"inherit",lineHeight:`${C}px`,background:d,border:_,borderRadius:p,transform:`scale(${i/C})`,transition:`all ${o}`,userSelect:"none","&:focus, &:hover, &:active":{borderColor:"currentcolor"},"&::before, &::after":{position:"absolute",background:"currentcolor",transition:`transform ${o} ease-out`,content:'""'},"&::before":{top:E,insetInlineEnd:L,insetInlineStart:L,height:s},"&::after":{top:L,bottom:L,insetInlineStart:E,width:s,transform:"rotate(90deg)"},"&-collapsed::before":{transform:"rotate(-180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"},"&-spaced":{"&::before, &::after":{display:"none",content:"none"},background:"transparent",border:0,visibility:"hidden"}}),[`${e}-row-indent + ${e}-row-expand-icon`]:{marginTop:(m*y-s*3)/2-Math.ceil((v*1.4-s*3)/2),marginInlineEnd:l},[`tr${e}-expanded-row`]:{"&, &:hover":{"> th, > td":{background:g}},[`${r}-descriptions-view`]:{display:"flex",table:{flex:"auto",width:"auto"}}},[`${e}-expanded-row-fixed`]:{position:"relative",margin:`-${A}px -${b}px`,padding:`${A}px ${b}px`}}}},hbe=fbe,pbe=n=>{const{componentCls:e,antCls:r,iconCls:i,tableFilterDropdownWidth:o,tableFilterDropdownSearchWidth:s,paddingXXS:l,paddingXS:u,colorText:c,lineWidth:d,lineType:h,tableBorderColor:p,tableHeaderIconColor:m,fontSizeSM:v,tablePaddingHorizontal:y,borderRadius:A,motionDurationSlow:b,colorTextDescription:g,colorPrimary:w,tableHeaderFilterActiveBg:E,colorTextDisabled:C,tableFilterDropdownBg:_,tableFilterDropdownHeight:L,controlItemBgHover:R,controlItemBgActive:P,boxShadowSecondary:T,filterDropdownMenuBg:D}=n,$=`${r}-dropdown`,V=`${e}-filter-dropdown`,B=`${r}-tree`,O=`${d}px ${h} ${p}`;return[{[`${e}-wrapper`]:{[`${e}-filter-column`]:{display:"flex",justifyContent:"space-between"},[`${e}-filter-trigger`]:{position:"relative",display:"flex",alignItems:"center",marginBlock:-l,marginInline:`${l}px ${-y/2}px`,padding:`0 ${l}px`,color:m,fontSize:v,borderRadius:A,cursor:"pointer",transition:`all ${b}`,"&:hover":{color:g,background:E},"&.active":{color:w}}}},{[`${r}-dropdown`]:{[V]:Object.assign(Object.assign({},ji(n)),{minWidth:o,backgroundColor:_,borderRadius:A,boxShadow:T,overflow:"hidden",[`${$}-menu`]:{maxHeight:L,overflowX:"hidden",border:0,boxShadow:"none",borderRadius:"unset",backgroundColor:D,"&:empty::after":{display:"block",padding:`${u}px 0`,color:C,fontSize:v,textAlign:"center",content:'"Not Found"'}},[`${V}-tree`]:{paddingBlock:`${u}px 0`,paddingInline:u,[B]:{padding:0},[`${B}-treenode ${B}-node-content-wrapper:hover`]:{backgroundColor:R},[`${B}-treenode-checkbox-checked ${B}-node-content-wrapper`]:{"&, &:hover":{backgroundColor:P}}},[`${V}-search`]:{padding:u,borderBottom:O,"&-input":{input:{minWidth:s},[i]:{color:C}}},[`${V}-checkall`]:{width:"100%",marginBottom:l,marginInlineStart:l},[`${V}-btns`]:{display:"flex",justifyContent:"space-between",padding:`${u-d}px ${u}px`,overflow:"hidden",borderTop:O}})}},{[`${r}-dropdown ${V}, ${V}-submenu`]:{[`${r}-checkbox-wrapper + span`]:{paddingInlineStart:u,color:c},"> ul":{maxHeight:"calc(100vh - 130px)",overflowX:"hidden",overflowY:"auto"}}}]},mbe=pbe,gbe=n=>{const{componentCls:e,lineWidth:r,colorSplit:i,motionDurationSlow:o,zIndexTableFixed:s,tableBg:l,zIndexTableSticky:u}=n,c=i;return{[`${e}-wrapper`]:{[`
        ${e}-cell-fix-left,
        ${e}-cell-fix-right
      `]:{position:"sticky !important",zIndex:s,background:l},[`
        ${e}-cell-fix-left-first::after,
        ${e}-cell-fix-left-last::after
      `]:{position:"absolute",top:0,right:{_skip_check_:!0,value:0},bottom:-r,width:30,transform:"translateX(100%)",transition:`box-shadow ${o}`,content:'""',pointerEvents:"none"},[`${e}-cell-fix-left-all::after`]:{display:"none"},[`
        ${e}-cell-fix-right-first::after,
        ${e}-cell-fix-right-last::after
      `]:{position:"absolute",top:0,bottom:-r,left:{_skip_check_:!0,value:0},width:30,transform:"translateX(-100%)",transition:`box-shadow ${o}`,content:'""',pointerEvents:"none"},[`${e}-container`]:{"&::before, &::after":{position:"absolute",top:0,bottom:0,zIndex:u+1,width:30,transition:`box-shadow ${o}`,content:'""',pointerEvents:"none"},"&::before":{insetInlineStart:0},"&::after":{insetInlineEnd:0}},[`${e}-ping-left`]:{[`&:not(${e}-has-fix-left) ${e}-container`]:{position:"relative","&::before":{boxShadow:`inset 10px 0 8px -8px ${c}`}},[`
          ${e}-cell-fix-left-first::after,
          ${e}-cell-fix-left-last::after
        `]:{boxShadow:`inset 10px 0 8px -8px ${c}`},[`${e}-cell-fix-left-last::before`]:{backgroundColor:"transparent !important"}},[`${e}-ping-right`]:{[`&:not(${e}-has-fix-right) ${e}-container`]:{position:"relative","&::after":{boxShadow:`inset -10px 0 8px -8px ${c}`}},[`
          ${e}-cell-fix-right-first::after,
          ${e}-cell-fix-right-last::after
        `]:{boxShadow:`inset -10px 0 8px -8px ${c}`}}}}},vbe=gbe,Abe=n=>{const{componentCls:e,antCls:r}=n;return{[`${e}-wrapper`]:{[`${e}-pagination${r}-pagination`]:{margin:`${n.margin}px 0`},[`${e}-pagination`]:{display:"flex",flexWrap:"wrap",rowGap:n.paddingXS,"> *":{flex:"none"},"&-left":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-right":{justifyContent:"flex-end"}}}}},ybe=Abe,bbe=n=>{const{componentCls:e,tableRadius:r}=n;return{[`${e}-wrapper`]:{[e]:{[`${e}-title, ${e}-header`]:{borderRadius:`${r}px ${r}px 0 0`},[`${e}-title + ${e}-container`]:{borderStartStartRadius:0,borderStartEndRadius:0,[`${e}-header, table`]:{borderRadius:0},"table > thead > tr:first-child":{"th:first-child, th:last-child, td:first-child, td:last-child":{borderRadius:0}}},"&-container":{borderStartStartRadius:r,borderStartEndRadius:r,"table > thead > tr:first-child":{"> *:first-child":{borderStartStartRadius:r},"> *:last-child":{borderStartEndRadius:r}}},"&-footer":{borderRadius:`0 0 ${r}px ${r}px`}}}}},xbe=bbe,Ebe=n=>{const{componentCls:e}=n;return{[`${e}-wrapper-rtl`]:{direction:"rtl",table:{direction:"rtl"},[`${e}-pagination-left`]:{justifyContent:"flex-end"},[`${e}-pagination-right`]:{justifyContent:"flex-start"},[`${e}-row-expand-icon`]:{float:"right","&::after":{transform:"rotate(-90deg)"},"&-collapsed::before":{transform:"rotate(180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"}},[`${e}-container`]:{"&::before":{insetInlineStart:"unset",insetInlineEnd:0},"&::after":{insetInlineStart:0,insetInlineEnd:"unset"},[`${e}-row-indent`]:{float:"right"}}}}},Cbe=Ebe,wbe=n=>{const{componentCls:e,antCls:r,iconCls:i,fontSizeIcon:o,padding:s,paddingXS:l,tableHeaderIconColor:u,tableHeaderIconColorHover:c,tableSelectionColumnWidth:d,tableSelectedRowBg:h,tableSelectedRowHoverBg:p,tableRowHoverBg:m}=n;return{[`${e}-wrapper`]:{[`${e}-selection-col`]:{width:d,[`&${e}-selection-col-with-dropdown`]:{width:d+o+s/4}},[`${e}-bordered ${e}-selection-col`]:{width:d+l*2,[`&${e}-selection-col-with-dropdown`]:{width:d+o+s/4+l*2}},[`
        table tr th${e}-selection-column,
        table tr td${e}-selection-column,
        ${e}-selection-column
      `]:{paddingInlineEnd:n.paddingXS,paddingInlineStart:n.paddingXS,textAlign:"center",[`${r}-radio-wrapper`]:{marginInlineEnd:0}},[`table tr th${e}-selection-column${e}-cell-fix-left`]:{zIndex:n.zIndexTableFixed+1},[`table tr th${e}-selection-column::after`]:{backgroundColor:"transparent !important"},[`${e}-selection`]:{position:"relative",display:"inline-flex",flexDirection:"column"},[`${e}-selection-extra`]:{position:"absolute",top:0,zIndex:1,cursor:"pointer",transition:`all ${n.motionDurationSlow}`,marginInlineStart:"100%",paddingInlineStart:`${n.tablePaddingHorizontal/4}px`,[i]:{color:u,fontSize:o,verticalAlign:"baseline","&:hover":{color:c}}},[`${e}-tbody`]:{[`${e}-row`]:{[`&${e}-row-selected`]:{[`> ${e}-cell`]:{background:h,"&-row-hover":{background:p}}},[`> ${e}-cell-row-hover`]:{background:m}}}}}},Sbe=wbe,_be=n=>{const{componentCls:e}=n,r=(i,o,s,l)=>({[`${e}${e}-${i}`]:{fontSize:l,[`
        ${e}-title,
        ${e}-footer,
        ${e}-cell,
        ${e}-thead > tr > th,
        ${e}-tbody > tr > th,
        ${e}-tbody > tr > td,
        tfoot > tr > th,
        tfoot > tr > td
      `]:{padding:`${o}px ${s}px`},[`${e}-filter-trigger`]:{marginInlineEnd:`-${s/2}px`},[`${e}-expanded-row-fixed`]:{margin:`-${o}px -${s}px`},[`${e}-tbody`]:{[`${e}-wrapper:only-child ${e}`]:{marginBlock:`-${o}px`,marginInline:`${n.tableExpandColumnWidth-s}px -${s}px`}},[`${e}-selection-extra`]:{paddingInlineStart:`${s/4}px`}}});return{[`${e}-wrapper`]:Object.assign(Object.assign({},r("middle",n.tablePaddingVerticalMiddle,n.tablePaddingHorizontalMiddle,n.tableFontSizeMiddle)),r("small",n.tablePaddingVerticalSmall,n.tablePaddingHorizontalSmall,n.tableFontSizeSmall))}},Mbe=_be,Tbe=n=>{const{componentCls:e,marginXXS:r,fontSizeIcon:i,tableHeaderIconColor:o,tableHeaderIconColorHover:s}=n;return{[`${e}-wrapper`]:{[`${e}-thead th${e}-column-has-sorters`]:{outline:"none",cursor:"pointer",transition:`all ${n.motionDurationSlow}`,"&:hover":{background:n.tableHeaderSortHoverBg,"&::before":{backgroundColor:"transparent !important"}},"&:focus-visible":{color:n.colorPrimary},[`
          &${e}-cell-fix-left:hover,
          &${e}-cell-fix-right:hover
        `]:{background:n.tableFixedHeaderSortActiveBg}},[`${e}-thead th${e}-column-sort`]:{background:n.tableHeaderSortBg,"&::before":{backgroundColor:"transparent !important"}},[`td${e}-column-sort`]:{background:n.tableBodySortBg},[`${e}-column-title`]:{position:"relative",zIndex:1,flex:1},[`${e}-column-sorters`]:{display:"flex",flex:"auto",alignItems:"center",justifyContent:"space-between","&::after":{position:"absolute",inset:0,width:"100%",height:"100%",content:'""'}},[`${e}-column-sorter`]:{marginInlineStart:r,color:o,fontSize:0,transition:`color ${n.motionDurationSlow}`,"&-inner":{display:"inline-flex",flexDirection:"column",alignItems:"center"},"&-up, &-down":{fontSize:i,"&.active":{color:n.colorPrimary}},[`${e}-column-sorter-up + ${e}-column-sorter-down`]:{marginTop:"-0.3em"}},[`${e}-column-sorters:hover ${e}-column-sorter`]:{color:s}}}},Rbe=Tbe,Ibe=n=>{const{componentCls:e,opacityLoading:r,tableScrollThumbBg:i,tableScrollThumbBgHover:o,tableScrollThumbSize:s,tableScrollBg:l,zIndexTableSticky:u,stickyScrollBarBorderRadius:c}=n,d=`${n.lineWidth}px ${n.lineType} ${n.tableBorderColor}`;return{[`${e}-wrapper`]:{[`${e}-sticky`]:{"&-holder":{position:"sticky",zIndex:u,background:n.colorBgContainer},"&-scroll":{position:"sticky",bottom:0,height:`${s}px !important`,zIndex:u,display:"flex",alignItems:"center",background:l,borderTop:d,opacity:r,"&:hover":{transformOrigin:"center bottom"},"&-bar":{height:s,backgroundColor:i,borderRadius:c,transition:`all ${n.motionDurationSlow}, transform none`,position:"absolute",bottom:0,"&:hover, &-active":{backgroundColor:o}}}}}}},Lbe=Ibe,Pbe=n=>{const{componentCls:e,lineWidth:r,tableBorderColor:i}=n,o=`${r}px ${n.lineType} ${i}`;return{[`${e}-wrapper`]:{[`${e}-summary`]:{position:"relative",zIndex:n.zIndexTableFixed,background:n.tableBg,"> tr":{"> th, > td":{borderBottom:o}}},[`div${e}-summary`]:{boxShadow:`0 -${r}px 0 ${i}`}}}},qk=Pbe,Bbe=n=>{const{componentCls:e,motionDurationMid:r}=n,i=`${n.lineWidth}px ${n.lineType} ${n.tableBorderColor}`,o=`${e}-expanded-row-cell`;return{[`${e}-wrapper`]:{[`${e}-tbody-virtual`]:{[`${e}-row`]:{display:"flex",boxSizing:"border-box",width:"100%"},[`${e}-cell`]:{borderBottom:i,transition:`background ${r}`},[`${e}-expanded-row`]:{[`${o}${o}-fixed`]:{position:"sticky",insetInlineStart:0,overflow:"hidden",width:`calc(var(--virtual-width) - ${n.lineWidth}px)`,borderInlineEnd:"none"}}},[`${e}-bordered`]:{[`${e}-tbody-virtual`]:{"&:after":{content:'""',insetInline:0,bottom:0,borderBottom:i,position:"absolute"},[`${e}-cell`]:{borderInlineEnd:i,[`&${e}-cell-fix-right-first:before`]:{content:'""',position:"absolute",insetBlock:0,insetInlineStart:-n.lineWidth,borderInlineStart:i}}},[`&${e}-virtual`]:{[`${e}-placeholder ${e}-cell`]:{borderInlineEnd:i,borderBottom:i}}}}}},Obe=Bbe,Dbe=n=>{const{componentCls:e,fontWeightStrong:r,tablePaddingVertical:i,tablePaddingHorizontal:o,lineWidth:s,lineType:l,tableBorderColor:u,tableFontSize:c,tableBg:d,tableRadius:h,tableHeaderTextColor:p,motionDurationMid:m,tableHeaderBg:v,tableHeaderCellSplitColor:y,tableFooterTextColor:A,tableFooterBg:b}=n,g=`${s}px ${l} ${u}`;return{[`${e}-wrapper`]:Object.assign(Object.assign({clear:"both",maxWidth:"100%"},Ec()),{[e]:Object.assign(Object.assign({},ji(n)),{fontSize:c,background:d,borderRadius:`${h}px ${h}px 0 0`}),table:{width:"100%",textAlign:"start",borderRadius:`${h}px ${h}px 0 0`,borderCollapse:"separate",borderSpacing:0},[`
          ${e}-cell,
          ${e}-thead > tr > th,
          ${e}-tbody > tr > th,
          ${e}-tbody > tr > td,
          tfoot > tr > th,
          tfoot > tr > td
        `]:{position:"relative",padding:`${i}px ${o}px`,overflowWrap:"break-word"},[`${e}-title`]:{padding:`${i}px ${o}px`},[`${e}-thead`]:{"\n          > tr > th,\n          > tr > td\n        ":{position:"relative",color:p,fontWeight:r,textAlign:"start",background:v,borderBottom:g,transition:`background ${m} ease`,"&[colspan]:not([colspan='1'])":{textAlign:"center"},[`&:not(:last-child):not(${e}-selection-column):not(${e}-row-expand-icon-cell):not([colspan])::before`]:{position:"absolute",top:"50%",insetInlineEnd:0,width:1,height:"1.6em",backgroundColor:y,transform:"translateY(-50%)",transition:`background-color ${m}`,content:'""'}},"> tr:not(:last-child) > th[colspan]":{borderBottom:0}},[`${e}-tbody`]:{"> tr":{"> th, > td":{transition:`background ${m}, border-color ${m}`,borderBottom:g,[`
              > ${e}-wrapper:only-child,
              > ${e}-expanded-row-fixed > ${e}-wrapper:only-child
            `]:{[e]:{marginBlock:`-${i}px`,marginInline:`${n.tableExpandColumnWidth-o}px -${o}px`,[`${e}-tbody > tr:last-child > td`]:{borderBottom:0,"&:first-child, &:last-child":{borderRadius:0}}}}},"> th":{position:"relative",color:p,fontWeight:r,textAlign:"start",background:v,borderBottom:g,transition:`background ${m} ease`}}},[`${e}-footer`]:{padding:`${i}px ${o}px`,color:A,background:b}})}},Nbe=zi("Table",n=>{const{colorTextHeading:e,colorSplit:r,colorIcon:i,colorIconHover:o,opacityLoading:s,colorBgContainer:l,controlInteractiveSize:u,headerBg:c,headerColor:d,headerSortActiveBg:h,headerSortHoverBg:p,bodySortBg:m,rowHoverBg:v,rowSelectedBg:y,rowSelectedHoverBg:A,rowExpandedBg:b,cellPaddingBlock:g,cellPaddingInline:w,cellPaddingBlockMD:E,cellPaddingInlineMD:C,cellPaddingBlockSM:_,cellPaddingInlineSM:L,borderColor:R,footerBg:P,footerColor:T,headerBorderRadius:D,cellFontSize:$,cellFontSizeMD:V,cellFontSizeSM:B,headerSplitColor:O,fixedHeaderSortActiveBg:F,headerFilterHoverBg:k,filterDropdownBg:z,expandIconBg:G,selectionColumnWidth:j,stickyScrollBarBg:Q}=n,X=new Ki(i),J=new Ki(o),Z=2,oe=ti(n,{tableFontSize:$,tableBg:l,tableRadius:D,tablePaddingVertical:g,tablePaddingHorizontal:w,tablePaddingVerticalMiddle:E,tablePaddingHorizontalMiddle:C,tablePaddingVerticalSmall:_,tablePaddingHorizontalSmall:L,tableBorderColor:R,tableHeaderTextColor:d,tableHeaderBg:c,tableFooterTextColor:T,tableFooterBg:P,tableHeaderCellSplitColor:O,tableHeaderSortBg:h,tableHeaderSortHoverBg:p,tableHeaderIconColor:X.clone().setAlpha(X.getAlpha()*s).toRgbString(),tableHeaderIconColorHover:J.clone().setAlpha(J.getAlpha()*s).toRgbString(),tableBodySortBg:m,tableFixedHeaderSortActiveBg:F,tableHeaderFilterActiveBg:k,tableFilterDropdownBg:z,tableRowHoverBg:v,tableSelectedRowBg:y,tableSelectedRowHoverBg:A,zIndexTableFixed:Z,zIndexTableSticky:Z+1,tableFontSizeMiddle:V,tableFontSizeSmall:B,tableSelectionColumnWidth:j,tableExpandIconBg:G,tableExpandColumnWidth:u+2*n.padding,tableExpandedRowBg:b,tableFilterDropdownWidth:120,tableFilterDropdownHeight:264,tableFilterDropdownSearchWidth:140,tableScrollThumbSize:8,tableScrollThumbBg:Q,tableScrollThumbBgHover:e,tableScrollBg:r});return[Dbe(oe),ybe(oe),qk(oe),Rbe(oe),mbe(oe),sbe(oe),xbe(oe),hbe(oe),qk(oe),dbe(oe),Sbe(oe),vbe(oe),Lbe(oe),cbe(oe),Mbe(oe),Cbe(oe),Obe(oe)]},n=>{const{colorFillAlter:e,colorBgContainer:r,colorTextHeading:i,colorFillSecondary:o,colorFillContent:s,controlItemBgActive:l,controlItemBgActiveHover:u,padding:c,paddingSM:d,paddingXS:h,colorBorderSecondary:p,borderRadiusLG:m,fontSize:v,controlHeight:y,colorTextPlaceholder:A}=n,b=new Ki(o).onBackground(r).toHexShortString(),g=new Ki(s).onBackground(r).toHexShortString(),w=new Ki(e).onBackground(r).toHexShortString();return{headerBg:w,headerColor:i,headerSortActiveBg:b,headerSortHoverBg:g,bodySortBg:w,rowHoverBg:w,rowSelectedBg:l,rowSelectedHoverBg:u,rowExpandedBg:e,cellPaddingBlock:c,cellPaddingInline:c,cellPaddingBlockMD:d,cellPaddingInlineMD:h,cellPaddingBlockSM:h,cellPaddingInlineSM:h,borderColor:p,headerBorderRadius:m,footerBg:w,footerColor:i,cellFontSize:v,cellFontSizeMD:v,cellFontSizeSM:v,headerSplitColor:p,fixedHeaderSortActiveBg:b,headerFilterHoverBg:s,filterDropdownMenuBg:r,filterDropdownBg:r,expandIconBg:r,selectionColumnWidth:y,stickyScrollBarBg:A,stickyScrollBarBorderRadius:100}}),kbe=[],Fbe=(n,e)=>{const{prefixCls:r,className:i,rootClassName:o,style:s,size:l,bordered:u,dropdownPrefixCls:c,dataSource:d,pagination:h,rowSelection:p,rowKey:m="key",rowClassName:v,columns:y,children:A,childrenColumnName:b,onChange:g,getPopupContainer:w,loading:E,expandIcon:C,expandable:_,expandedRowRender:L,expandIconColumnIndex:R,indentSize:P,scroll:T,sortDirections:D,locale:$,showSorterTooltip:V=!0,virtual:B}=n;gg();const O=M.useMemo(()=>y||DL(A),[y,A]),F=M.useMemo(()=>O.some(pt=>pt.responsive),[O]),k=rH(F),z=M.useMemo(()=>{const pt=new Set(Object.keys(k).filter(Ot=>k[Ot]));return O.filter(Ot=>!Ot.responsive||Ot.responsive.some(cn=>pt.has(cn)))},[O,k]),G=vo(n,["className","style","columns"]),{locale:j=Vd,direction:Q,table:X,renderEmpty:J,getPrefixCls:Z,getPopupContainer:oe}=M.useContext(_r),ue=Jl(l),Be=Object.assign(Object.assign({},j.Table),$),ge=d||kbe,Ie=Z("table",r),He=Z("dropdown",c),Ze=Object.assign({childrenColumnName:b,expandIconColumnIndex:R},_),{childrenColumnName:Xe="children"}=Ze,ke=M.useMemo(()=>ge.some(pt=>pt==null?void 0:pt[Xe])?"nest":L||_&&_.expandedRowRender?"row":null,[ge]),lt={body:M.useRef()},ot=aye(Ie),it=M.useMemo(()=>typeof m=="function"?m:pt=>pt==null?void 0:pt[m],[m]),[ft]=qye(ge,Xe,it),xt={},At=function(pt,Ot){let cn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var qt,Sn,yn;const Pn=Object.assign(Object.assign({},xt),pt);cn&&((qt=xt.resetPagination)===null||qt===void 0||qt.call(xt),!((Sn=Pn.pagination)===null||Sn===void 0)&&Sn.current&&(Pn.pagination.current=1),h&&h.onChange&&h.onChange(1,(yn=Pn.pagination)===null||yn===void 0?void 0:yn.pageSize)),T&&T.scrollToFirstRowOnChange!==!1&&lt.body.current&&bse(0,{getContainer:()=>lt.body.current}),g==null||g(Pn.pagination,Pn.filters,Pn.sorter,{currentDataSource:Vk(I3(ge,Pn.sorterStates,Xe),Pn.filterStates),action:Ot})},Ct=(pt,Ot)=>{At({sorter:pt,sorterStates:Ot},"sort",!1)},[Tt,Dt,Yt,Ve]=nbe({prefixCls:Ie,mergedColumns:z,onSorterChange:Ct,sortDirections:D||["ascend","descend"],tableLocale:Be,showSorterTooltip:V}),be=M.useMemo(()=>I3(ge,Dt,Xe),[ge,Dt]);xt.sorter=Ve(),xt.sorterStates=Dt;const fe=(pt,Ot)=>{At({filters:pt,filterStates:Ot},"filter",!0)},[me,Te,Ce]=Xye({prefixCls:Ie,locale:Be,dropdownPrefixCls:He,mergedColumns:z,onFilterChange:fe,getPopupContainer:w||oe}),Se=Vk(be,Te);xt.filters=Ce,xt.filterStates=Te;const we=M.useMemo(()=>{const pt={};return Object.keys(Ce).forEach(Ot=>{Ce[Ot]!==null&&(pt[Ot]=Ce[Ot])}),Object.assign(Object.assign({},Yt),{filters:pt})},[Yt,Ce]),[Ge]=rbe(we),Ae=(pt,Ot)=>{At({pagination:Object.assign(Object.assign({},xt.pagination),{current:pt,pageSize:Ot})},"paginate")},[Ue,et]=Zye(Se.length,Ae,h);xt.pagination=h===!1?{}:Jye(Ue,h),xt.resetPagination=et;const ce=M.useMemo(()=>{if(h===!1||!Ue.pageSize)return Se;const{current:pt=1,total:Ot,pageSize:cn=J$}=Ue;return Se.length<Ot?Se.length>cn?Se.slice((pt-1)*cn,pt*cn):Se:Se.slice((pt-1)*cn,pt*cn)},[!!h,Se,Ue&&Ue.current,Ue&&Ue.pageSize,Ue&&Ue.total]),[Y,ne]=ebe({prefixCls:Ie,data:Se,pageData:ce,getRowKey:it,getRecordByKey:ft,expandType:ke,childrenColumnName:Xe,locale:Be,getPopupContainer:w||oe},p),Le=(pt,Ot,cn)=>{let qt;return typeof v=="function"?qt=Et(v(pt,Ot,cn)):qt=Et(v),Et({[`${Ie}-row-selected`]:ne.has(it(pt,Ot))},qt)};Ze.__PARENT_RENDER_ICON__=Ze.expandIcon,Ze.expandIcon=Ze.expandIcon||C||oye(Be),ke==="nest"&&Ze.expandIconColumnIndex===void 0?Ze.expandIconColumnIndex=p?1:0:Ze.expandIconColumnIndex>0&&p&&(Ze.expandIconColumnIndex-=1),typeof Ze.indentSize!="number"&&(Ze.indentSize=typeof P=="number"?P:15);const We=M.useCallback(pt=>Ge(Y(me(Tt(pt)))),[Tt,me,Y]);let ve,he;if(h!==!1&&(Ue!=null&&Ue.total)){let pt;Ue.size?pt=Ue.size:pt=ue==="small"||ue==="middle"?"small":void 0;const Ot=Sn=>M.createElement(qve,Object.assign({},Ue,{className:Et(`${Ie}-pagination ${Ie}-pagination-${Sn}`,Ue.className),size:pt})),cn=Q==="rtl"?"left":"right",{position:qt}=Ue;if(qt!==null&&Array.isArray(qt)){const Sn=qt.find(rr=>rr.includes("top")),yn=qt.find(rr=>rr.includes("bottom")),Pn=qt.every(rr=>`${rr}`=="none");!Sn&&!yn&&!Pn&&(he=Ot(cn)),Sn&&(ve=Ot(Sn.toLowerCase().replace("top",""))),yn&&(he=Ot(yn.toLowerCase().replace("bottom","")))}else he=Ot(cn)}let qe;typeof E=="boolean"?qe={spinning:E}:typeof E=="object"&&(qe=Object.assign({spinning:!0},E));const[Je,Qe]=Nbe(Ie),[,nt]=fl(),It=Et(`${Ie}-wrapper`,X==null?void 0:X.className,{[`${Ie}-wrapper-rtl`]:Q==="rtl"},i,o,Qe),kt=Object.assign(Object.assign({},X==null?void 0:X.style),s),Bt=$&&$.emptyText||(J==null?void 0:J("Table"))||M.createElement(Z9,{componentName:"Table"}),Gt=B?obe:ibe,Vt={},Pt=M.useMemo(()=>{const{fontSize:pt,lineHeight:Ot,padding:cn,paddingXS:qt,paddingSM:Sn}=nt,yn=Math.floor(pt*Ot);switch(ue){case"large":return cn*2+yn;case"small":return qt*2+yn;default:return Sn*2+yn}},[nt,ue]);return B&&(Vt.listItemHeight=Pt),Je(M.createElement("div",{ref:e,className:It,style:kt},M.createElement(o0e,Object.assign({spinning:!1},qe),ve,M.createElement(Gt,Object.assign({},Vt,G,{columns:z,direction:Q,expandable:Ze,prefixCls:Ie,className:Et({[`${Ie}-middle`]:ue==="middle",[`${Ie}-small`]:ue==="small",[`${Ie}-bordered`]:u,[`${Ie}-empty`]:ge.length===0}),data:ce,rowKey:it,rowClassName:Le,emptyText:Bt,internalHooks:qA,internalRefs:lt,transformColumns:We,getContainerWidth:ot})),he)))},Ube=M.forwardRef(Fbe),zbe=(n,e)=>{const r=M.useRef(0);return r.current+=1,M.createElement(Ube,Object.assign({},n,{ref:e,_renderTimes:r.current}))},Fu=M.forwardRef(zbe);Fu.SELECTION_COLUMN=gd;Fu.EXPAND_COLUMN=Cd;Fu.SELECTION_ALL=_3;Fu.SELECTION_INVERT=M3;Fu.SELECTION_NONE=T3;Fu.Column=rye;Fu.ColumnGroup=iye;Fu.Summary=_$;const Hbe=Fu,$be=n=>{const{paddingXXS:e,lineWidth:r,tagPaddingHorizontal:i,componentCls:o}=n,s=i-r,l=e-r;return{[o]:Object.assign(Object.assign({},ji(n)),{display:"inline-block",height:"auto",marginInlineEnd:n.marginXS,paddingInline:s,fontSize:n.tagFontSize,lineHeight:n.tagLineHeight,whiteSpace:"nowrap",background:n.defaultBg,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadiusSM,opacity:1,transition:`all ${n.motionDurationMid}`,textAlign:"start",position:"relative",[`&${o}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:n.defaultColor},[`${o}-close-icon`]:{marginInlineStart:l,color:n.colorTextDescription,fontSize:n.tagIconSize,cursor:"pointer",transition:`all ${n.motionDurationMid}`,"&:hover":{color:n.colorTextHeading}},[`&${o}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${n.iconCls}-close, ${n.iconCls}-close:hover`]:{color:n.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${o}-checkable-checked):hover`]:{color:n.colorPrimary,backgroundColor:n.colorFillSecondary},"&:active, &-checked":{color:n.colorTextLightSolid},"&-checked":{backgroundColor:n.colorPrimary,"&:hover":{backgroundColor:n.colorPrimaryHover}},"&:active":{backgroundColor:n.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${n.iconCls} + span, > span + ${n.iconCls}`]:{marginInlineStart:s}}),[`${o}-borderless`]:{borderColor:"transparent",background:n.tagBorderlessBg}}},HL=n=>{const{lineWidth:e,fontSizeIcon:r}=n,i=n.fontSizeSM,o=`${n.lineHeightSM*i}px`;return ti(n,{tagFontSize:i,tagLineHeight:o,tagIconSize:r-2*e,tagPaddingHorizontal:8,tagBorderlessBg:n.colorFillTertiary})},$L=n=>({defaultBg:n.colorFillQuaternary,defaultColor:n.colorText}),nG=zi("Tag",n=>{const e=HL(n);return $be(e)},$L);var Gbe=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const jbe=M.forwardRef((n,e)=>{const{prefixCls:r,style:i,className:o,checked:s,onChange:l,onClick:u}=n,c=Gbe(n,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:d,tag:h}=M.useContext(_r),p=b=>{l==null||l(!s),u==null||u(b)},m=d("tag",r),[v,y]=nG(m),A=Et(m,`${m}-checkable`,{[`${m}-checkable-checked`]:s},h==null?void 0:h.className,o,y);return v(M.createElement("span",Object.assign({},c,{ref:e,style:Object.assign(Object.assign({},i),h==null?void 0:h.style),className:A,onClick:p})))}),Vbe=jbe,Wbe=n=>qz(n,(e,r)=>{let{textColor:i,lightBorderColor:o,lightColor:s,darkColor:l}=r;return{[`${n.componentCls}-${e}`]:{color:i,background:s,borderColor:o,"&-inverse":{color:n.colorTextLightSolid,background:l,borderColor:l},[`&${n.componentCls}-borderless`]:{borderColor:"transparent"}}}}),Qbe=VI(["Tag","preset"],n=>{const e=HL(n);return Wbe(e)},$L);function Kbe(n){return typeof n!="string"?n:n.charAt(0).toUpperCase()+n.slice(1)}const $b=(n,e,r)=>{const i=Kbe(r);return{[`${n.componentCls}-${e}`]:{color:n[`color${r}`],background:n[`color${i}Bg`],borderColor:n[`color${i}Border`],[`&${n.componentCls}-borderless`]:{borderColor:"transparent"}}}},Xbe=VI(["Tag","status"],n=>{const e=HL(n);return[$b(e,"success","Success"),$b(e,"processing","Info"),$b(e,"error","Error"),$b(e,"warning","Warning")]},$L);var qbe=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const Ybe=(n,e)=>{const{prefixCls:r,className:i,rootClassName:o,style:s,children:l,icon:u,color:c,onClose:d,closeIcon:h,closable:p,bordered:m=!0}=n,v=qbe(n,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable","bordered"]),{getPrefixCls:y,direction:A,tag:b}=M.useContext(_r),[g,w]=M.useState(!0);M.useEffect(()=>{"visible"in v&&w(v.visible)},[v.visible]);const E=cH(c),C=$fe(c),_=E||C,L=Object.assign(Object.assign({backgroundColor:c&&!_?c:void 0},b==null?void 0:b.style),s),R=y("tag",r),[P,T]=nG(R),D=Et(R,b==null?void 0:b.className,{[`${R}-${c}`]:_,[`${R}-has-color`]:c&&!_,[`${R}-hidden`]:!g,[`${R}-rtl`]:A==="rtl",[`${R}-borderless`]:!m},i,o,T),$=z=>{z.stopPropagation(),d==null||d(z),!z.defaultPrevented&&w(!1)},[,V]=rce(p,h,z=>z===null?M.createElement(pg,{className:`${R}-close-icon`,onClick:$}):M.createElement("span",{className:`${R}-close-icon`,onClick:$},z),null,!1),B=typeof v.onClick=="function"||l&&l.type==="a",O=u||null,F=O?M.createElement(M.Fragment,null,O,l&&M.createElement("span",null,l)):l,k=M.createElement("span",Object.assign({},v,{ref:e,className:D,style:L}),F,V,E&&M.createElement(Qbe,{key:"preset",prefixCls:R}),C&&M.createElement(Xbe,{key:"status",prefixCls:R}));return P(B?M.createElement(mC,{component:"Tag"},k):k)},rG=M.forwardRef(Ybe);rG.CheckableTag=Vbe;const Jbe=rG,Zbe=n=>{const e=n!=null&&n.algorithm?hA(n.algorithm):hA(UA),r=Object.assign(Object.assign({},Ym),n==null?void 0:n.token);return Tz(r,{override:n==null?void 0:n.token},e,GI)},e1e=Zbe;function t1e(n){const{sizeUnit:e,sizeStep:r}=n,i=r-2;return{sizeXXL:e*(i+10),sizeXL:e*(i+6),sizeLG:e*(i+2),sizeMD:e*(i+2),sizeMS:e*(i+1),size:e*i,sizeSM:e*i,sizeXS:e*(i-1),sizeXXS:e*(i-1)}}const n1e=(n,e)=>{const r=e??UA(n),i=r.fontSizeSM,o=r.controlHeight-4;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},r),t1e(e??n)),jz(i)),{controlHeight:o}),$z(Object.assign(Object.assign({},r),{controlHeight:o})))},r1e=n1e,Qc=(n,e)=>new Ki(n).setAlpha(e).toRgbString(),wp=(n,e)=>new Ki(n).lighten(e).toHexString(),i1e=n=>{const e=Tu(n,{theme:"dark"});return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[6],6:e[5],7:e[4],8:e[6],9:e[5],10:e[4]}},o1e=(n,e)=>{const r=n||"#000",i=e||"#fff";return{colorBgBase:r,colorTextBase:i,colorText:Qc(i,.85),colorTextSecondary:Qc(i,.65),colorTextTertiary:Qc(i,.45),colorTextQuaternary:Qc(i,.25),colorFill:Qc(i,.18),colorFillSecondary:Qc(i,.12),colorFillTertiary:Qc(i,.08),colorFillQuaternary:Qc(i,.04),colorBgElevated:wp(r,12),colorBgContainer:wp(r,8),colorBgLayout:wp(r,0),colorBgSpotlight:wp(r,26),colorBgBlur:Qc(i,.04),colorBorder:wp(r,26),colorBorderSecondary:wp(r,19)}},a1e=(n,e)=>{const r=Object.keys(HI).map(o=>{const s=Tu(n[o],{theme:"dark"});return new Array(10).fill(1).reduce((l,u,c)=>(l[`${o}-${c+1}`]=s[c],l[`${o}${c+1}`]=s[c],l),{})}).reduce((o,s)=>(o=Object.assign(Object.assign({},o),s),o),{}),i=e??UA(n);return Object.assign(Object.assign(Object.assign({},i),r),Gz(n,{generateColorPalettes:i1e,generateNeutralColorPalettes:o1e}))},s1e=a1e;function l1e(){const[n,e,r]=fl();return{theme:n,token:e,hashId:r}}const c1e={defaultConfig:Wx,defaultSeed:Wx.token,useToken:l1e,defaultAlgorithm:UA,darkAlgorithm:s1e,compactAlgorithm:r1e,getDesignToken:e1e};var u1e=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const d1e={border:0,background:"transparent",padding:0,lineHeight:"inherit",display:"inline-block"},f1e=M.forwardRef((n,e)=>{const r=d=>{const{keyCode:h}=d;h===vn.ENTER&&d.preventDefault()},i=d=>{const{keyCode:h}=d,{onClick:p}=n;h===vn.ENTER&&p&&p()},{style:o,noStyle:s,disabled:l}=n,u=u1e(n,["style","noStyle","disabled"]);let c={};return s||(c=Object.assign({},d1e)),l&&(c.pointerEvents="none"),c=Object.assign(Object.assign({},c),o),M.createElement("div",Object.assign({role:"button",tabIndex:0,ref:e},u,{onKeyDown:r,onKeyUp:i,style:c}))}),Yk=f1e;var h1e=function(){var n=document.getSelection();if(!n.rangeCount)return function(){};for(var e=document.activeElement,r=[],i=0;i<n.rangeCount;i++)r.push(n.getRangeAt(i));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return n.removeAllRanges(),function(){n.type==="Caret"&&n.removeAllRanges(),n.rangeCount||r.forEach(function(o){n.addRange(o)}),e&&e.focus()}},p1e=h1e,Jk={"text/plain":"Text","text/html":"Url",default:"Text"},m1e="Copy to clipboard: #{key}, Enter";function g1e(n){var e=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return n.replace(/#{\s*key\s*}/g,e)}function v1e(n,e){var r,i,o,s,l,u,c=!1;e||(e={}),r=e.debug||!1;try{o=p1e(),s=document.createRange(),l=document.getSelection(),u=document.createElement("span"),u.textContent=n,u.ariaHidden="true",u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",function(h){if(h.stopPropagation(),e.format)if(h.preventDefault(),typeof h.clipboardData>"u"){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var p=Jk[e.format]||Jk.default;window.clipboardData.setData(p,n)}else h.clipboardData.clearData(),h.clipboardData.setData(e.format,n);e.onCopy&&(h.preventDefault(),e.onCopy(h.clipboardData))}),document.body.appendChild(u),s.selectNodeContents(u),l.addRange(s);var d=document.execCommand("copy");if(!d)throw new Error("copy command was unsuccessful");c=!0}catch(h){r&&console.error("unable to copy using execCommand: ",h),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",n),e.onCopy&&e.onCopy(window.clipboardData),c=!0}catch(p){r&&console.error("unable to copy using clipboardData: ",p),r&&console.error("falling back to prompt"),i=g1e("message"in e?e.message:m1e),window.prompt(i,n)}}finally{l&&(typeof l.removeRange=="function"?l.removeRange(s):l.removeAllRanges()),u&&document.body.removeChild(u),o()}return c}var A1e=v1e;const y1e=Nu(A1e),b1e=(n,e,r,i)=>{const{titleMarginBottom:o,fontWeightStrong:s}=i;return{marginBottom:o,color:r,fontWeight:s,fontSize:n,lineHeight:e}},x1e=n=>{const e=[1,2,3,4,5],r={};return e.forEach(i=>{r[`
      h${i}&,
      div&-h${i},
      div&-h${i} > textarea,
      h${i}
    `]=b1e(n[`fontSizeHeading${i}`],n[`lineHeightHeading${i}`],n.colorTextHeading,n)}),r},E1e=n=>{const{componentCls:e}=n;return{"a&, a":Object.assign(Object.assign({},jI(n)),{textDecoration:n.linkDecoration,"&:active, &:hover":{textDecoration:n.linkHoverDecoration},[`&[disabled], &${e}-disabled`]:{color:n.colorTextDisabled,cursor:"not-allowed","&:active, &:hover":{color:n.colorTextDisabled},"&:active":{pointerEvents:"none"}}})}},C1e=n=>({code:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.2em 0.1em",fontSize:"85%",fontFamily:n.fontFamilyCode,background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3},kbd:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.15em 0.1em",fontSize:"90%",fontFamily:n.fontFamilyCode,background:"rgba(150, 150, 150, 0.06)",border:"1px solid rgba(100, 100, 100, 0.2)",borderBottomWidth:2,borderRadius:3},mark:{padding:0,backgroundColor:gte[2]},"u, ins":{textDecoration:"underline",textDecorationSkipInk:"auto"},"s, del":{textDecoration:"line-through"},strong:{fontWeight:600},"ul, ol":{marginInline:0,marginBlock:"0 1em",padding:0,li:{marginInline:"20px 0",marginBlock:0,paddingInline:"4px 0",paddingBlock:0}},ul:{listStyleType:"circle",ul:{listStyleType:"disc"}},ol:{listStyleType:"decimal"},"pre, blockquote":{margin:"1em 0"},pre:{padding:"0.4em 0.6em",whiteSpace:"pre-wrap",wordWrap:"break-word",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3,fontFamily:n.fontFamilyCode,code:{display:"inline",margin:0,padding:0,fontSize:"inherit",fontFamily:"inherit",background:"transparent",border:0}},blockquote:{paddingInline:"0.6em 0",paddingBlock:0,borderInlineStart:"4px solid rgba(100, 100, 100, 0.2)",opacity:.85}}),w1e=n=>{const{componentCls:e,paddingSM:r}=n,i=r;return{"&-edit-content":{position:"relative","div&":{insetInlineStart:-n.paddingSM,marginTop:-i,marginBottom:`calc(1em - ${i}px)`},[`${e}-edit-content-confirm`]:{position:"absolute",insetInlineEnd:n.marginXS+2,insetBlockEnd:n.marginXS,color:n.colorTextDescription,fontWeight:"normal",fontSize:n.fontSize,fontStyle:"normal",pointerEvents:"none"},textarea:{margin:"0!important",MozTransition:"none",height:"1em"}}}},S1e=n=>({"&-copy-success":{"\n    &,\n    &:hover,\n    &:focus":{color:n.colorSuccess}}}),_1e=()=>({"\n  a&-ellipsis,\n  span&-ellipsis\n  ":{display:"inline-block",maxWidth:"100%"},"&-single-line":{whiteSpace:"nowrap"},"&-ellipsis-single-line":{overflow:"hidden",textOverflow:"ellipsis","a&, span&":{verticalAlign:"bottom"},"> code":{paddingBlock:0,maxWidth:"calc(100% - 1.2em)",display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",verticalAlign:"bottom"}},"&-ellipsis-multiple-line":{display:"-webkit-box",overflow:"hidden",WebkitLineClamp:3,WebkitBoxOrient:"vertical"}}),M1e=n=>{const{componentCls:e,titleMarginTop:r}=n;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:n.colorText,wordBreak:"break-word",lineHeight:n.lineHeight,[`&${e}-secondary`]:{color:n.colorTextDescription},[`&${e}-success`]:{color:n.colorSuccess},[`&${e}-warning`]:{color:n.colorWarning},[`&${e}-danger`]:{color:n.colorError,"a&:active, a&:focus":{color:n.colorErrorActive},"a&:hover":{color:n.colorErrorHover}},[`&${e}-disabled`]:{color:n.colorTextDisabled,cursor:"not-allowed",userSelect:"none"},"\n        div&,\n        p\n      ":{marginBottom:"1em"}},x1e(n)),{[`
      & + h1${e},
      & + h2${e},
      & + h3${e},
      & + h4${e},
      & + h5${e}
      `]:{marginTop:r},"\n      div,\n      ul,\n      li,\n      p,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5":{"\n        + h1,\n        + h2,\n        + h3,\n        + h4,\n        + h5\n        ":{marginTop:r}}}),C1e(n)),E1e(n)),{[`
        ${e}-expand,
        ${e}-edit,
        ${e}-copy
      `]:Object.assign(Object.assign({},jI(n)),{marginInlineStart:n.marginXXS})}),w1e(n)),S1e(n)),_1e()),{"&-rtl":{direction:"rtl"}})}},iG=zi("Typography",n=>[M1e(n)],()=>({titleMarginTop:"1.2em",titleMarginBottom:"0.5em"})),T1e=n=>{const{prefixCls:e,"aria-label":r,className:i,style:o,direction:s,maxLength:l,autoSize:u=!0,value:c,onSave:d,onCancel:h,onEnd:p,component:m,enterIcon:v=M.createElement(Vne,null)}=n,y=M.useRef(null),A=M.useRef(!1),b=M.useRef(),[g,w]=M.useState(c);M.useEffect(()=>{w(c)},[c]),M.useEffect(()=>{if(y.current&&y.current.resizableTextArea){const{textArea:O}=y.current.resizableTextArea;O.focus();const{length:F}=O.value;O.setSelectionRange(F,F)}},[]);const E=O=>{let{target:F}=O;w(F.value.replace(/[\n\r]/g,""))},C=()=>{A.current=!0},_=()=>{A.current=!1},L=O=>{let{keyCode:F}=O;A.current||(b.current=F)},R=()=>{d(g.trim())},P=O=>{let{keyCode:F,ctrlKey:k,altKey:z,metaKey:G,shiftKey:j}=O;b.current===F&&!A.current&&!k&&!z&&!G&&!j&&(F===vn.ENTER?(R(),p==null||p()):F===vn.ESC&&h())},T=()=>{R()},D=m?`${e}-${m}`:"",[$,V]=iG(e),B=Et(e,`${e}-edit-content`,{[`${e}-rtl`]:s==="rtl"},i,D,V);return $(M.createElement("div",{className:B,style:o},M.createElement(c$,{ref:y,maxLength:l,value:g,onChange:E,onKeyDown:L,onKeyUp:P,onCompositionStart:C,onCompositionEnd:_,onBlur:T,"aria-label":r,rows:1,autoSize:u}),v!==null?ya(v,{className:`${e}-edit-content-confirm`}):null))},R1e=T1e;var I1e=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const L1e=M.forwardRef((n,e)=>{const{prefixCls:r,component:i="article",className:o,rootClassName:s,setContentRef:l,children:u,direction:c,style:d}=n,h=I1e(n,["prefixCls","component","className","rootClassName","setContentRef","children","direction","style"]),{getPrefixCls:p,direction:m,typography:v}=M.useContext(_r),y=c??m;let A=e;l&&(A=zs(e,l));const b=p("typography",r),[g,w]=iG(b),E=Et(b,v==null?void 0:v.className,{[`${b}-rtl`]:y==="rtl"},o,s,w),C=Object.assign(Object.assign({},v==null?void 0:v.style),d);return g(M.createElement(i,Object.assign({className:E,style:C,ref:A},h),u))}),P1e=L1e;function r_(n,e){return M.useMemo(()=>{const r=!!n;return[r,Object.assign(Object.assign({},e),r&&typeof n=="object"?n:null)]},[n])}const B1e=(n,e)=>{const r=M.useRef(!1);M.useEffect(()=>{r.current?n():r.current=!0},e)},O1e=B1e;function oG(n){const e=typeof n;return e==="string"||e==="number"}function D1e(n){let e=0;return n.forEach(r=>{oG(r)?e+=String(r).length:e+=1}),e}function i_(n,e){let r=0;const i=[];for(let o=0;o<n.length;o+=1){if(r===e)return i;const s=n[o],u=oG(s)?String(s).length:1,c=r+u;if(c>e){const d=e-r;return i.push(String(s).slice(0,d)),i}i.push(s),r=c}return n}const N1e=0,Gb=1,Zk=2,o_=3,a_=4,k1e=n=>{let{enabledMeasure:e,children:r,text:i,width:o,fontSize:s,rows:l,onEllipsis:u}=n;const[[c,d,h],p]=M.useState([0,0,0]),[m,v]=M.useState(0),[y,A]=M.useState(N1e),[b,g]=M.useState(0),w=M.useRef(null),E=M.useRef(null),C=M.useMemo(()=>qa(i),[i]),_=M.useMemo(()=>D1e(C),[C]),L=M.useMemo(()=>!e||y!==o_?m&&y!==a_&&e?r(i_(C,m),m<_):r(C,!1):r(i_(C,d),d<_),[e,y,r,C,d,_]);Ti(()=>{e&&o&&s&&_&&(A(Gb),p([0,Math.ceil(_/2),_]))},[e,o,s,i,_,l]),Ti(()=>{var D;y===Gb&&g(((D=w.current)===null||D===void 0?void 0:D.offsetHeight)||0)},[y]),Ti(()=>{var D,$;if(b){if(y===Gb){const V=((D=E.current)===null||D===void 0?void 0:D.offsetHeight)||0,B=l*b;V<=B?(A(a_),u(!1)):A(Zk)}else if(y===Zk)if(c!==h){const V=(($=E.current)===null||$===void 0?void 0:$.offsetHeight)||0,B=l*b;let O=c,F=h;c===h-1?F=c:V<=B?O=d:F=d;const k=Math.ceil((O+F)/2);p([O,k,F])}else A(o_),v(d),u(!0)}},[y,c,h,l,b]);const R={width:o,whiteSpace:"normal",margin:0,padding:0},P=(D,$,V)=>M.createElement("span",{"aria-hidden":!0,ref:$,style:Object.assign({position:"fixed",display:"block",left:0,top:0,zIndex:-9999,visibility:"hidden",pointerEvents:"none",fontSize:Math.ceil(s/2)*2},V)},D),T=(D,$)=>{const V=i_(C,D);return P(r(V,!0),$,R)};return M.createElement(M.Fragment,null,L,e&&y!==o_&&y!==a_&&M.createElement(M.Fragment,null,P("lg",w,{wordBreak:"keep-all",whiteSpace:"nowrap"}),y===Gb?P(r(C,!1),E,R):T(d,E)))},F1e=k1e,U1e=n=>{let{enabledEllipsis:e,isEllipsis:r,children:i,tooltipProps:o}=n;return!(o!=null&&o.title)||!e?i:M.createElement(bh,Object.assign({open:r?void 0:!1},o),i)},z1e=U1e;var H1e=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};function $1e(n,e){let{mark:r,code:i,underline:o,delete:s,strong:l,keyboard:u,italic:c}=n,d=e;function h(p,m){m&&(d=M.createElement(p,{},d))}return h("strong",l),h("u",o),h("del",s),h("code",i),h("mark",r),h("kbd",u),h("i",c),d}function jb(n,e,r){return n===!0||n===void 0?e:n||r&&e}function eF(n){return n===!1?[!1,!1]:Array.isArray(n)?n:[n]}const G1e="...",j1e=M.forwardRef((n,e)=>{var r,i,o;const{prefixCls:s,className:l,style:u,type:c,disabled:d,children:h,ellipsis:p,editable:m,copyable:v,component:y,title:A}=n,b=H1e(n,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),{getPrefixCls:g,direction:w}=M.useContext(_r),[E]=cC("Text"),C=M.useRef(null),_=M.useRef(null),L=g("typography",s),R=vo(b,["mark","code","delete","underline","strong","keyboard","italic"]),[P,T]=r_(m),[D,$]=Fo(!1,{value:T.editing}),{triggerType:V=["icon"]}=T,B=ve=>{var he;ve&&((he=T.onStart)===null||he===void 0||he.call(T)),$(ve)};O1e(()=>{var ve;D||(ve=_.current)===null||ve===void 0||ve.focus()},[D]);const O=ve=>{ve==null||ve.preventDefault(),B(!0)},F=ve=>{var he;(he=T.onChange)===null||he===void 0||he.call(T,ve),B(!1)},k=()=>{var ve;(ve=T.onCancel)===null||ve===void 0||ve.call(T),B(!1)},[z,G]=r_(v),[j,Q]=M.useState(!1),X=M.useRef(null),J={};G.format&&(J.format=G.format);const Z=()=>{X.current&&clearTimeout(X.current)},oe=ve=>{var he;ve==null||ve.preventDefault(),ve==null||ve.stopPropagation(),y1e(G.text||String(h)||"",J),Q(!0),Z(),X.current=setTimeout(()=>{Q(!1)},3e3),(he=G.onCopy)===null||he===void 0||he.call(G,ve)};M.useEffect(()=>Z,[]);const[ue,Be]=M.useState(!1),[ge,Ie]=M.useState(!1),[He,Ze]=M.useState(!1),[Xe,ke]=M.useState(!1),[lt,ot]=M.useState(!1),[it,ft]=M.useState(!0),[xt,At]=r_(p,{expandable:!1}),Ct=xt&&!He,{rows:Tt=1}=At,Dt=M.useMemo(()=>!Ct||At.suffix!==void 0||At.onEllipsis||At.expandable||P||z,[Ct,At,P,z]);Ti(()=>{xt&&!Dt&&(Be(KT("webkitLineClamp")),Ie(KT("textOverflow")))},[Dt,xt]);const Yt=M.useMemo(()=>Dt?!1:Tt===1?ge:ue,[Dt,ge,ue]),Ve=Ct&&(Yt?lt:Xe),be=Ct&&Tt===1&&Yt,fe=Ct&&Tt>1&&Yt,me=ve=>{var he;Ze(!0),(he=At.onExpand)===null||he===void 0||he.call(At,ve)},[Te,Ce]=M.useState(0),[Se,we]=M.useState(0),Ge=(ve,he)=>{let{offsetWidth:qe}=ve;var Je;Ce(qe),we(parseInt((Je=window.getComputedStyle)===null||Je===void 0?void 0:Je.call(window,he).fontSize,10)||0)},Ae=ve=>{var he;ke(ve),Xe!==ve&&((he=At.onEllipsis)===null||he===void 0||he.call(At,ve))};M.useEffect(()=>{const ve=C.current;if(xt&&Yt&&ve){const he=fe?ve.offsetHeight<ve.scrollHeight:ve.offsetWidth<ve.scrollWidth;lt!==he&&ot(he)}},[xt,Yt,h,fe,it]),M.useEffect(()=>{const ve=C.current;if(typeof IntersectionObserver>"u"||!ve||!Yt||!Ct)return;const he=new IntersectionObserver(()=>{ft(!!ve.offsetParent)});return he.observe(ve),()=>{he.disconnect()}},[Yt,Ct]);let Ue={};At.tooltip===!0?Ue={title:(r=T.text)!==null&&r!==void 0?r:h}:M.isValidElement(At.tooltip)?Ue={title:At.tooltip}:typeof At.tooltip=="object"?Ue=Object.assign({title:(i=T.text)!==null&&i!==void 0?i:h},At.tooltip):Ue={title:At.tooltip};const et=M.useMemo(()=>{const ve=he=>["string","number"].includes(typeof he);if(!(!xt||Yt)){if(ve(T.text))return T.text;if(ve(h))return h;if(ve(A))return A;if(ve(Ue.title))return Ue.title}},[xt,Yt,A,Ue.title,Ve]);if(D)return M.createElement(R1e,{value:(o=T.text)!==null&&o!==void 0?o:typeof h=="string"?h:"",onSave:F,onCancel:k,onEnd:T.onEnd,prefixCls:L,className:l,style:u,direction:w,component:y,maxLength:T.maxLength,autoSize:T.autoSize,enterIcon:T.enterIcon});const ce=()=>{const{expandable:ve,symbol:he}=At;if(!ve)return null;let qe;return he?qe=he:qe=E==null?void 0:E.expand,M.createElement("a",{key:"expand",className:`${L}-expand`,onClick:me,"aria-label":E==null?void 0:E.expand},qe)},Y=()=>{if(!P)return;const{icon:ve,tooltip:he}=T,qe=qa(he)[0]||(E==null?void 0:E.edit),Je=typeof qe=="string"?qe:"";return V.includes("icon")?M.createElement(bh,{key:"edit",title:he===!1?"":qe},M.createElement(Yk,{ref:_,className:`${L}-edit`,onClick:O,"aria-label":Je},ve||M.createElement(Fne,{role:"button"}))):null},ne=()=>{if(!z)return;const{tooltips:ve,icon:he}=G,qe=eF(ve),Je=eF(he),Qe=j?jb(qe[1],E==null?void 0:E.copied):jb(qe[0],E==null?void 0:E.copy),nt=j?E==null?void 0:E.copied:E==null?void 0:E.copy,It=typeof Qe=="string"?Qe:nt;return M.createElement(bh,{key:"copy",title:Qe},M.createElement(Yk,{className:Et(`${L}-copy`,j&&`${L}-copy-success`),onClick:oe,"aria-label":It},j?jb(Je[1],M.createElement(TI,null),!0):jb(Je[0],M.createElement(hne,null),!0)))},Le=ve=>[ve&&ce(),Y(),ne()],We=ve=>[ve&&M.createElement("span",{"aria-hidden":!0,key:"ellipsis"},G1e),At.suffix,Le(ve)];return M.createElement(Qa,{onResize:Ge,disabled:!Ct||Yt},ve=>M.createElement(z1e,{tooltipProps:Ue,enabledEllipsis:Ct,isEllipsis:Ve},M.createElement(P1e,Object.assign({className:Et({[`${L}-${c}`]:c,[`${L}-disabled`]:d,[`${L}-ellipsis`]:xt,[`${L}-single-line`]:Ct&&Tt===1,[`${L}-ellipsis-single-line`]:be,[`${L}-ellipsis-multiple-line`]:fe},l),prefixCls:s,style:Object.assign(Object.assign({},u),{WebkitLineClamp:fe?Tt:void 0}),component:y,ref:zs(ve,C,e),direction:w,onClick:V.includes("text")?O:void 0,"aria-label":et==null?void 0:et.toString(),title:A},R),M.createElement(F1e,{enabledMeasure:Ct&&!Yt,text:h,rows:Tt,width:Te,fontSize:Se,onEllipsis:Ae},(he,qe)=>{let Je=he;return he.length&&qe&&et&&(Je=M.createElement("span",{key:"show-content","aria-hidden":!0},Je)),$1e(n,M.createElement(M.Fragment,null,Je,We(qe)))}))))}),V1e=j1e;var W1e=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const Q1e=M.forwardRef((n,e)=>{var{ellipsis:r,rel:i}=n,o=W1e(n,["ellipsis","rel"]);const s=Object.assign(Object.assign({},o),{rel:i===void 0&&o.target==="_blank"?"noopener noreferrer":i});return delete s.navigate,M.createElement(V1e,Object.assign({},s,{ref:e,ellipsis:!!r,component:"a"}))}),K1e=Q1e;function X1e(n,e){var r="cannot ".concat(n.method," ").concat(n.action," ").concat(e.status,"'"),i=new Error(r);return i.status=e.status,i.method=n.method,i.url=n.action,i}function tF(n){var e=n.responseText||n.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}function q1e(n){var e=new XMLHttpRequest;n.onProgress&&e.upload&&(e.upload.onprogress=function(s){s.total>0&&(s.percent=s.loaded/s.total*100),n.onProgress(s)});var r=new FormData;n.data&&Object.keys(n.data).forEach(function(o){var s=n.data[o];if(Array.isArray(s)){s.forEach(function(l){r.append("".concat(o,"[]"),l)});return}r.append(o,s)}),n.file instanceof Blob?r.append(n.filename,n.file,n.file.name):r.append(n.filename,n.file),e.onerror=function(s){n.onError(s)},e.onload=function(){return e.status<200||e.status>=300?n.onError(X1e(n,e),tF(e)):n.onSuccess(tF(e),e)},e.open(n.method,n.action,!0),n.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);var i=n.headers||{};return i["X-Requested-With"]!==null&&e.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(i).forEach(function(o){i[o]!==null&&e.setRequestHeader(o,i[o])}),e.send(r),{abort:function(){e.abort()}}}var Y1e=+new Date,J1e=0;function s_(){return"rc-upload-".concat(Y1e,"-").concat(++J1e)}const l_=function(n,e){if(n&&e){var r=Array.isArray(e)?e:e.split(","),i=n.name||"",o=n.type||"",s=o.replace(/\/.*$/,"");return r.some(function(l){var u=l.trim();if(/^\*(\/\*)?$/.test(l))return!0;if(u.charAt(0)==="."){var c=i.toLowerCase(),d=u.toLowerCase(),h=[d];return(d===".jpg"||d===".jpeg")&&(h=[".jpg",".jpeg"]),h.some(function(p){return c.endsWith(p)})}return/\/\*$/.test(u)?s===u.replace(/\/.*$/,""):o===u?!0:/^\w+$/.test(u)?(no(!1,"Upload takes an invalidate 'accept' type '".concat(u,"'.Skip for check.")),!0):!1})}return!0};function Z1e(n,e){var r=n.createReader(),i=[];function o(){r.readEntries(function(s){var l=Array.prototype.slice.apply(s);i=i.concat(l);var u=!l.length;u?e(i):o()})}o()}var exe=function(e,r,i){var o=function s(l,u){l&&(l.path=u||"",l.isFile?l.file(function(c){i(c)&&(l.fullPath&&!c.webkitRelativePath&&(Object.defineProperties(c,{webkitRelativePath:{writable:!0}}),c.webkitRelativePath=l.fullPath.replace(/^\//,""),Object.defineProperties(c,{webkitRelativePath:{writable:!1}})),r([c]))}):l.isDirectory&&Z1e(l,function(c){c.forEach(function(d){s(d,"".concat(u).concat(l.name,"/"))})}))};e.forEach(function(s){o(s.webkitGetAsEntry())})},txe=["component","prefixCls","className","disabled","id","style","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave"],nxe=function(n){ql(r,n);var e=Yl(r);function r(){var i;ca(this,r);for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return i=e.call.apply(e,[this].concat(s)),i.state={uid:s_()},i.reqs={},i.fileInput=void 0,i._isMounted=void 0,i.onChange=function(u){var c=i.props,d=c.accept,h=c.directory,p=u.target.files,m=An(p).filter(function(v){return!h||l_(v,d)});i.uploadFiles(m),i.reset()},i.onClick=function(u){var c=i.fileInput;if(c){var d=i.props,h=d.children,p=d.onClick;if(h&&h.type==="button"){var m=c.parentNode;m.focus(),m.querySelector("button").blur()}c.click(),p&&p(u)}},i.onKeyDown=function(u){u.key==="Enter"&&i.onClick(u)},i.onFileDrop=function(u){var c=i.props.multiple;if(u.preventDefault(),u.type!=="dragover")if(i.props.directory)exe(Array.prototype.slice.call(u.dataTransfer.items),i.uploadFiles,function(h){return l_(h,i.props.accept)});else{var d=An(u.dataTransfer.files).filter(function(h){return l_(h,i.props.accept)});c===!1&&(d=d.slice(0,1)),i.uploadFiles(d)}},i.uploadFiles=function(u){var c=An(u),d=c.map(function(h){return h.uid=s_(),i.processFile(h,c)});Promise.all(d).then(function(h){var p=i.props.onBatchStart;p==null||p(h.map(function(m){var v=m.origin,y=m.parsedFile;return{file:v,parsedFile:y}})),h.filter(function(m){return m.parsedFile!==null}).forEach(function(m){i.post(m)})})},i.processFile=function(){var u=Zd(ba().mark(function c(d,h){var p,m,v,y,A,b,g,w,E;return ba().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(p=i.props.beforeUpload,m=d,!p){_.next=14;break}return _.prev=3,_.next=6,p(d,h);case 6:m=_.sent,_.next=12;break;case 9:_.prev=9,_.t0=_.catch(3),m=!1;case 12:if(m!==!1){_.next=14;break}return _.abrupt("return",{origin:d,parsedFile:null,action:null,data:null});case 14:if(v=i.props.action,typeof v!="function"){_.next=21;break}return _.next=18,v(d);case 18:y=_.sent,_.next=22;break;case 21:y=v;case 22:if(A=i.props.data,typeof A!="function"){_.next=29;break}return _.next=26,A(d);case 26:b=_.sent,_.next=30;break;case 29:b=A;case 30:return g=(Ir(m)==="object"||typeof m=="string")&&m?m:d,g instanceof File?w=g:w=new File([g],d.name,{type:d.type}),E=w,E.uid=d.uid,_.abrupt("return",{origin:d,data:b,parsedFile:E,action:y});case 35:case"end":return _.stop()}},c,null,[[3,9]])}));return function(c,d){return u.apply(this,arguments)}}(),i.saveFileInput=function(u){i.fileInput=u},i}return ua(r,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(o){var s=this,l=o.data,u=o.origin,c=o.action,d=o.parsedFile;if(this._isMounted){var h=this.props,p=h.onStart,m=h.customRequest,v=h.name,y=h.headers,A=h.withCredentials,b=h.method,g=u.uid,w=m||q1e,E={action:c,filename:v,data:l,file:d,headers:y,withCredentials:A,method:b||"post",onProgress:function(_){var L=s.props.onProgress;L==null||L(_,d)},onSuccess:function(_,L){var R=s.props.onSuccess;R==null||R(_,d,L),delete s.reqs[g]},onError:function(_,L){var R=s.props.onError;R==null||R(_,L,d),delete s.reqs[g]}};p(u),this.reqs[g]=w(E)}}},{key:"reset",value:function(){this.setState({uid:s_()})}},{key:"abort",value:function(o){var s=this.reqs;if(o){var l=o.uid?o.uid:o;s[l]&&s[l].abort&&s[l].abort(),delete s[l]}else Object.keys(s).forEach(function(u){s[u]&&s[u].abort&&s[u].abort(),delete s[u]})}},{key:"render",value:function(){var o,s=this.props,l=s.component,u=s.prefixCls,c=s.className,d=s.disabled,h=s.id,p=s.style,m=s.multiple,v=s.accept,y=s.capture,A=s.children,b=s.directory,g=s.openFileDialogOnClick,w=s.onMouseEnter,E=s.onMouseLeave,C=Pr(s,txe),_=Et((o={},ct(o,u,!0),ct(o,"".concat(u,"-disabled"),d),ct(o,c,c),o)),L=b?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},R=d?{}:{onClick:g?this.onClick:function(){},onKeyDown:g?this.onKeyDown:function(){},onMouseEnter:w,onMouseLeave:E,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:"0"};return nn.createElement(l,on({},R,{className:_,role:"button",style:p}),nn.createElement("input",on({},Ql(C,{aria:!0,data:!0}),{id:h,disabled:d,type:"file",ref:this.saveFileInput,onClick:function(T){return T.stopPropagation()},key:this.state.uid,style:{display:"none"},accept:v},L,{multiple:m,onChange:this.onChange},y!=null?{capture:y}:{})),A)}}]),r}(M.Component);function c_(){}var L3=function(n){ql(r,n);var e=Yl(r);function r(){var i;ca(this,r);for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return i=e.call.apply(e,[this].concat(s)),i.uploader=void 0,i.saveUploader=function(u){i.uploader=u},i}return ua(r,[{key:"abort",value:function(o){this.uploader.abort(o)}},{key:"render",value:function(){return nn.createElement(nxe,on({},this.props,{ref:this.saveUploader}))}}]),r}(M.Component);L3.defaultProps={component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:c_,onError:c_,onSuccess:c_,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0};const rxe=n=>{const{componentCls:e,iconCls:r}=n;return{[`${e}-wrapper`]:{[`${e}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:n.colorFillAlter,border:`${n.lineWidth}px dashed ${n.colorBorder}`,borderRadius:n.borderRadiusLG,cursor:"pointer",transition:`border-color ${n.motionDurationSlow}`,[e]:{padding:`${n.padding}px 0`},[`${e}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none"},[`${e}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`&:not(${e}-disabled):hover`]:{borderColor:n.colorPrimaryHover},[`p${e}-drag-icon`]:{marginBottom:n.margin,[r]:{color:n.colorPrimary,fontSize:n.uploadThumbnailSize}},[`p${e}-text`]:{margin:`0 0 ${n.marginXXS}px`,color:n.colorTextHeading,fontSize:n.fontSizeLG},[`p${e}-hint`]:{color:n.colorTextDescription,fontSize:n.fontSize},[`&${e}-disabled`]:{[`p${e}-drag-icon ${r},
            p${e}-text,
            p${e}-hint
          `]:{color:n.colorTextDisabled}}}}}},ixe=rxe,oxe=n=>{const{componentCls:e,antCls:r,iconCls:i,fontSize:o,lineHeight:s}=n,l=`${e}-list-item`,u=`${l}-actions`,c=`${l}-action`,d=Math.round(o*s);return{[`${e}-wrapper`]:{[`${e}-list`]:Object.assign(Object.assign({},Ec()),{lineHeight:n.lineHeight,[l]:{position:"relative",height:n.lineHeight*o,marginTop:n.marginXS,fontSize:o,display:"flex",alignItems:"center",transition:`background-color ${n.motionDurationSlow}`,"&:hover":{backgroundColor:n.controlItemBgHover},[`${l}-name`]:Object.assign(Object.assign({},xc),{padding:`0 ${n.paddingXS}px`,lineHeight:s,flex:"auto",transition:`all ${n.motionDurationSlow}`}),[u]:{[c]:{opacity:0},[`${c}${r}-btn-sm`]:{height:d,border:0,lineHeight:1,"> span":{transform:"scale(1)"}},[`
              ${c}:focus-visible,
              &.picture ${c}
            `]:{opacity:1},[i]:{color:n.actionsColor,transition:`all ${n.motionDurationSlow}`},[`&:hover ${i}`]:{color:n.colorText}},[`${e}-icon ${i}`]:{color:n.colorTextDescription,fontSize:o},[`${l}-progress`]:{position:"absolute",bottom:-n.uploadProgressOffset,width:"100%",paddingInlineStart:o+n.paddingXS,fontSize:o,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${l}:hover ${c}`]:{opacity:1,color:n.colorText},[`${l}-error`]:{color:n.colorError,[`${l}-name, ${e}-icon ${i}`]:{color:n.colorError},[u]:{[`${i}, ${i}:hover`]:{color:n.colorError},[c]:{opacity:1}}},[`${e}-list-item-container`]:{transition:`opacity ${n.motionDurationSlow}, height ${n.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},axe=oxe,nF=new ui("uploadAnimateInlineIn",{from:{width:0,height:0,margin:0,padding:0,opacity:0}}),rF=new ui("uploadAnimateInlineOut",{to:{width:0,height:0,margin:0,padding:0,opacity:0}}),sxe=n=>{const{componentCls:e}=n,r=`${e}-animate-inline`;return[{[`${e}-wrapper`]:{[`${r}-appear, ${r}-enter, ${r}-leave`]:{animationDuration:n.motionDurationSlow,animationTimingFunction:n.motionEaseInOutCirc,animationFillMode:"forwards"},[`${r}-appear, ${r}-enter`]:{animationName:nF},[`${r}-leave`]:{animationName:rF}}},{[`${e}-wrapper`]:iue(n)},nF,rF]},lxe=sxe,cxe=n=>{const{componentCls:e,iconCls:r,uploadThumbnailSize:i,uploadProgressOffset:o}=n,s=`${e}-list`,l=`${s}-item`;return{[`${e}-wrapper`]:{[`
        ${s}${s}-picture,
        ${s}${s}-picture-card,
        ${s}${s}-picture-circle
      `]:{[l]:{position:"relative",height:i+n.lineWidth*2+n.paddingXS*2,padding:n.paddingXS,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadiusLG,"&:hover":{background:"transparent"},[`${l}-thumbnail`]:Object.assign(Object.assign({},xc),{width:i,height:i,lineHeight:`${i+n.paddingSM}px`,textAlign:"center",flex:"none",[r]:{fontSize:n.fontSizeHeading2,color:n.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${l}-progress`]:{bottom:o,width:`calc(100% - ${n.paddingSM*2}px)`,marginTop:0,paddingInlineStart:i+n.paddingXS}},[`${l}-error`]:{borderColor:n.colorError,[`${l}-thumbnail ${r}`]:{[`svg path[fill='${CT[0]}']`]:{fill:n.colorErrorBg},[`svg path[fill='${CT.primary}']`]:{fill:n.colorError}}},[`${l}-uploading`]:{borderStyle:"dashed",[`${l}-name`]:{marginBottom:o}}},[`${s}${s}-picture-circle ${l}`]:{[`&, &::before, ${l}-thumbnail`]:{borderRadius:"50%"}}}}},uxe=n=>{const{componentCls:e,iconCls:r,fontSizeLG:i,colorTextLightSolid:o}=n,s=`${e}-list`,l=`${s}-item`,u=n.uploadPicCardSize;return{[`
      ${e}-wrapper${e}-picture-card-wrapper,
      ${e}-wrapper${e}-picture-circle-wrapper
    `]:Object.assign(Object.assign({},Ec()),{display:"inline-block",width:"100%",[`${e}${e}-select`]:{width:u,height:u,marginInlineEnd:n.marginXS,marginBottom:n.marginXS,textAlign:"center",verticalAlign:"top",backgroundColor:n.colorFillAlter,border:`${n.lineWidth}px dashed ${n.colorBorder}`,borderRadius:n.borderRadiusLG,cursor:"pointer",transition:`border-color ${n.motionDurationSlow}`,[`> ${e}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${e}-disabled):hover`]:{borderColor:n.colorPrimary}},[`${s}${s}-picture-card, ${s}${s}-picture-circle`]:{[`${s}-item-container`]:{display:"inline-block",width:u,height:u,marginBlock:`0 ${n.marginXS}px`,marginInline:`0 ${n.marginXS}px`,verticalAlign:"top"},"&::after":{display:"none"},[l]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${n.paddingXS*2}px)`,height:`calc(100% - ${n.paddingXS*2}px)`,backgroundColor:n.colorBgMask,opacity:0,transition:`all ${n.motionDurationSlow}`,content:'" "'}},[`${l}:hover`]:{[`&::before, ${l}-actions`]:{opacity:1}},[`${l}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${n.motionDurationSlow}`,[`${r}-eye, ${r}-download, ${r}-delete`]:{zIndex:10,width:i,margin:`0 ${n.marginXXS}px`,fontSize:i,cursor:"pointer",transition:`all ${n.motionDurationSlow}`,svg:{verticalAlign:"baseline"}}},[`${l}-actions, ${l}-actions:hover`]:{[`${r}-eye, ${r}-download, ${r}-delete`]:{color:new Ki(o).setAlpha(.65).toRgbString(),"&:hover":{color:o}}},[`${l}-thumbnail, ${l}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${l}-name`]:{display:"none",textAlign:"center"},[`${l}-file + ${l}-name`]:{position:"absolute",bottom:n.margin,display:"block",width:`calc(100% - ${n.paddingXS*2}px)`},[`${l}-uploading`]:{[`&${l}`]:{backgroundColor:n.colorFillAlter},[`&::before, ${r}-eye, ${r}-download, ${r}-delete`]:{display:"none"}},[`${l}-progress`]:{bottom:n.marginXL,width:`calc(100% - ${n.paddingXS*2}px)`,paddingInlineStart:0}}}),[`${e}-wrapper${e}-picture-circle-wrapper`]:{[`${e}${e}-select`]:{borderRadius:"50%"}}}},dxe=n=>{const{componentCls:e}=n;return{[`${e}-rtl`]:{direction:"rtl"}}},fxe=dxe,hxe=n=>{const{componentCls:e,colorTextDisabled:r}=n;return{[`${e}-wrapper`]:Object.assign(Object.assign({},ji(n)),{[e]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${e}-select`]:{display:"inline-block"},[`${e}-disabled`]:{color:r,cursor:"not-allowed"}})}},pxe=zi("Upload",n=>{const{fontSizeHeading3:e,fontSize:r,lineHeight:i,lineWidth:o,controlHeightLG:s}=n,l=Math.round(r*i),u=ti(n,{uploadThumbnailSize:e*2,uploadProgressOffset:l/2+o,uploadPicCardSize:s*2.55});return[hxe(u),ixe(u),cxe(u),uxe(u),axe(u),lxe(u),fxe(u),aL(u)]},n=>({actionsColor:n.colorTextDescription}));function Vb(n){return Object.assign(Object.assign({},n),{lastModified:n.lastModified,lastModifiedDate:n.lastModifiedDate,name:n.name,size:n.size,type:n.type,uid:n.uid,percent:0,originFileObj:n})}function Wb(n,e){const r=An(e),i=r.findIndex(o=>{let{uid:s}=o;return s===n.uid});return i===-1?r.push(n):r[i]=n,r}function u_(n,e){const r=n.uid!==void 0?"uid":"name";return e.filter(i=>i[r]===n[r])[0]}function mxe(n,e){const r=n.uid!==void 0?"uid":"name",i=e.filter(o=>o[r]!==n[r]);return i.length===e.length?null:i}const gxe=function(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split("/"),i=e[e.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(i)||[""])[0]},aG=n=>n.indexOf("image/")===0,vxe=n=>{if(n.type&&!n.thumbUrl)return aG(n.type);const e=n.thumbUrl||n.url||"",r=gxe(e);return/^data:image\//.test(e)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(r)?!0:!(/^data:/.test(e)||r)},od=200;function Axe(n){return new Promise(e=>{if(!n.type||!aG(n.type)){e("");return}const r=document.createElement("canvas");r.width=od,r.height=od,r.style.cssText=`position: fixed; left: 0; top: 0; width: ${od}px; height: ${od}px; z-index: 9999; display: none;`,document.body.appendChild(r);const i=r.getContext("2d"),o=new Image;if(o.onload=()=>{const{width:s,height:l}=o;let u=od,c=od,d=0,h=0;s>l?(c=l*(od/s),h=-(c-u)/2):(u=s*(od/l),d=-(u-c)/2),i.drawImage(o,d,h,u,c);const p=r.toDataURL();document.body.removeChild(r),window.URL.revokeObjectURL(o.src),e(p)},o.crossOrigin="anonymous",n.type.startsWith("image/svg+xml")){const s=new FileReader;s.onload=()=>{s.result&&(o.src=s.result)},s.readAsDataURL(n)}else if(n.type.startsWith("image/gif")){const s=new FileReader;s.onload=()=>{s.result&&e(s.result)},s.readAsDataURL(n)}else o.src=window.URL.createObjectURL(n)})}const yxe=M.forwardRef((n,e)=>{let{prefixCls:r,className:i,style:o,locale:s,listType:l,file:u,items:c,progress:d,iconRender:h,actionIconRender:p,itemRender:m,isImgUrl:v,showPreviewIcon:y,showRemoveIcon:A,showDownloadIcon:b,previewIcon:g,removeIcon:w,downloadIcon:E,onPreview:C,onDownload:_,onClose:L}=n;var R,P;const{status:T}=u,[D,$]=M.useState(T);M.useEffect(()=>{T!=="removed"&&$(T)},[T]);const[V,B]=M.useState(!1);M.useEffect(()=>{const Xe=setTimeout(()=>{B(!0)},300);return()=>{clearTimeout(Xe)}},[]);const O=h(u);let F=M.createElement("div",{className:`${r}-icon`},O);if(l==="picture"||l==="picture-card"||l==="picture-circle")if(D==="uploading"||!u.thumbUrl&&!u.url){const Xe=Et(`${r}-list-item-thumbnail`,{[`${r}-list-item-file`]:D!=="uploading"});F=M.createElement("div",{className:Xe},O)}else{const Xe=v!=null&&v(u)?M.createElement("img",{src:u.thumbUrl||u.url,alt:u.name,className:`${r}-list-item-image`,crossOrigin:u.crossOrigin}):O,ke=Et(`${r}-list-item-thumbnail`,{[`${r}-list-item-file`]:v&&!v(u)});F=M.createElement("a",{className:ke,onClick:lt=>C(u,lt),href:u.url||u.thumbUrl,target:"_blank",rel:"noopener noreferrer"},Xe)}const k=Et(`${r}-list-item`,`${r}-list-item-${D}`),z=typeof u.linkProps=="string"?JSON.parse(u.linkProps):u.linkProps,G=A?p((typeof w=="function"?w(u):w)||M.createElement(vne,null),()=>L(u),r,s.removeFile):null,j=b&&D==="done"?p((typeof E=="function"?E(u):E)||M.createElement(One,null),()=>_(u),r,s.downloadFile):null,Q=l!=="picture-card"&&l!=="picture-circle"&&M.createElement("span",{key:"download-delete",className:Et(`${r}-list-item-actions`,{picture:l==="picture"})},j,G),X=Et(`${r}-list-item-name`),J=u.url?[M.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:X,title:u.name},z,{href:u.url,onClick:Xe=>C(u,Xe)}),u.name),Q]:[M.createElement("span",{key:"view",className:X,onClick:Xe=>C(u,Xe),title:u.name},u.name),Q],Z={pointerEvents:"none",opacity:.5},oe=y?M.createElement("a",{href:u.url||u.thumbUrl,target:"_blank",rel:"noopener noreferrer",style:u.url||u.thumbUrl?void 0:Z,onClick:Xe=>C(u,Xe),title:s.previewFile},typeof g=="function"?g(u):g||M.createElement(cz,null)):null,ue=(l==="picture-card"||l==="picture-circle")&&D!=="uploading"&&M.createElement("span",{className:`${r}-list-item-actions`},oe,D==="done"&&j,G),{getPrefixCls:Be}=M.useContext(_r),ge=Be(),Ie=M.createElement("div",{className:k},F,J,ue,V&&M.createElement(wc,{motionName:`${ge}-fade`,visible:D==="uploading",motionDeadline:2e3},Xe=>{let{className:ke}=Xe;const lt="percent"in u?M.createElement($0e,Object.assign({},d,{type:"line",percent:u.percent,"aria-label":u["aria-label"],"aria-labelledby":u["aria-labelledby"]})):null;return M.createElement("div",{className:Et(`${r}-list-item-progress`,ke)},lt)})),He=u.response&&typeof u.response=="string"?u.response:((R=u.error)===null||R===void 0?void 0:R.statusText)||((P=u.error)===null||P===void 0?void 0:P.message)||s.uploadError,Ze=D==="error"?M.createElement(bh,{title:He,getPopupContainer:Xe=>Xe.parentNode},Ie):Ie;return M.createElement("div",{className:Et(`${r}-list-item-container`,i),style:o,ref:e},m?m(Ze,u,c,{download:_.bind(null,u),preview:C.bind(null,u),remove:L.bind(null,u)}):Ze)}),bxe=yxe,xxe=(n,e)=>{const{listType:r="text",previewFile:i=Axe,onPreview:o,onDownload:s,onRemove:l,locale:u,iconRender:c,isImageUrl:d=vxe,prefixCls:h,items:p=[],showPreviewIcon:m=!0,showRemoveIcon:v=!0,showDownloadIcon:y=!1,removeIcon:A,previewIcon:b,downloadIcon:g,progress:w={size:[-1,2],showInfo:!1},appendAction:E,appendActionVisible:C=!0,itemRender:_,disabled:L}=n,R=EC(),[P,T]=M.useState(!1);M.useEffect(()=>{r!=="picture"&&r!=="picture-card"&&r!=="picture-circle"||(p||[]).forEach(Z=>{typeof document>"u"||typeof window>"u"||!window.FileReader||!window.File||!(Z.originFileObj instanceof File||Z.originFileObj instanceof Blob)||Z.thumbUrl!==void 0||(Z.thumbUrl="",i&&i(Z.originFileObj).then(oe=>{Z.thumbUrl=oe||"",R()}))})},[r,p,i]),M.useEffect(()=>{T(!0)},[]);const D=(Z,oe)=>{if(o)return oe==null||oe.preventDefault(),o(Z)},$=Z=>{typeof s=="function"?s(Z):Z.url&&window.open(Z.url)},V=Z=>{l==null||l(Z)},B=Z=>{if(c)return c(Z,r);const oe=Z.status==="uploading",ue=d&&d(Z)?M.createElement(tie,null):M.createElement(hre,null);let Be=oe?M.createElement(Qm,null):M.createElement(Yre,null);return r==="picture"?Be=oe?M.createElement(Qm,null):ue:(r==="picture-card"||r==="picture-circle")&&(Be=oe?u.uploading:ue),Be},O=(Z,oe,ue,Be)=>{const ge={type:"text",size:"small",title:Be,onClick:Ie=>{oe(),us(Z)&&Z.props.onClick&&Z.props.onClick(Ie)},className:`${ue}-list-item-action`,disabled:L};if(us(Z)){const Ie=ya(Z,Object.assign(Object.assign({},Z.props),{onClick:()=>{}}));return M.createElement(yh,Object.assign({},ge,{icon:Ie}))}return M.createElement(yh,Object.assign({},ge),M.createElement("span",null,Z))};M.useImperativeHandle(e,()=>({handlePreview:D,handleDownload:$}));const{getPrefixCls:F}=M.useContext(_r),k=F("upload",h),z=F(),G=Et(`${k}-list`,`${k}-list-${r}`),j=An(p.map(Z=>({key:Z.uid,file:Z})));let X={motionDeadline:2e3,motionName:`${k}-${r==="picture-card"||r==="picture-circle"?"animate-inline":"animate"}`,keys:j,motionAppear:P};const J=M.useMemo(()=>{const Z=Object.assign({},XI(z));return delete Z.onAppearEnd,delete Z.onEnterEnd,delete Z.onLeaveEnd,Z},[z]);return r!=="picture-card"&&r!=="picture-circle"&&(X=Object.assign(Object.assign({},J),X)),M.createElement("div",{className:G},M.createElement(s9,Object.assign({},X,{component:!1}),Z=>{let{key:oe,file:ue,className:Be,style:ge}=Z;return M.createElement(bxe,{key:oe,locale:u,prefixCls:k,className:Be,style:ge,file:ue,items:p,progress:w,listType:r,isImgUrl:d,showPreviewIcon:m,showRemoveIcon:v,showDownloadIcon:y,removeIcon:A,previewIcon:b,downloadIcon:g,iconRender:B,actionIconRender:O,itemRender:_,onPreview:D,onDownload:$,onClose:V})}),E&&M.createElement(wc,Object.assign({},X,{visible:C,forceRender:!0}),Z=>{let{className:oe,style:ue}=Z;return ya(E,Be=>({className:Et(Be.className,oe),style:Object.assign(Object.assign(Object.assign({},ue),{pointerEvents:oe?"none":void 0}),Be.style)}))}))},Exe=M.forwardRef(xxe),Cxe=Exe;var wxe=globalThis&&globalThis.__awaiter||function(n,e,r,i){function o(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(h){try{d(i.next(h))}catch(p){l(p)}}function c(h){try{d(i.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):o(h.value).then(u,c)}d((i=i.apply(n,e||[])).next())})};const f0=`__LIST_IGNORE_${Date.now()}__`,Sxe=(n,e)=>{const{fileList:r,defaultFileList:i,onRemove:o,showUploadList:s=!0,listType:l="text",onPreview:u,onDownload:c,onChange:d,onDrop:h,previewFile:p,disabled:m,locale:v,iconRender:y,isImageUrl:A,progress:b,prefixCls:g,className:w,type:E="select",children:C,style:_,itemRender:L,maxCount:R,data:P={},multiple:T=!1,action:D="",accept:$="",supportServerRender:V=!0,rootClassName:B}=n,O=M.useContext(Jd),F=m??O,[k,z]=Fo(i||[],{value:r,postState:Se=>Se??[]}),[G,j]=M.useState("drop"),Q=M.useRef(null);M.useMemo(()=>{const Se=Date.now();(r||[]).forEach((we,Ge)=>{!we.uid&&!Object.isFrozen(we)&&(we.uid=`__AUTO__${Se}_${Ge}__`)})},[r]);const X=(Se,we,Ge)=>{let Ae=An(we),Ue=!1;R===1?Ae=Ae.slice(-1):R&&(Ue=Ae.length>R,Ae=Ae.slice(0,R)),Ns.flushSync(()=>{z(Ae)});const et={file:Se,fileList:Ae};Ge&&(et.event=Ge),(!Ue||Ae.some(ce=>ce.uid===Se.uid))&&Ns.flushSync(()=>{d==null||d(et)})},J=(Se,we)=>wxe(void 0,void 0,void 0,function*(){const{beforeUpload:Ge,transformFile:Ae}=n;let Ue=Se;if(Ge){const et=yield Ge(Se,we);if(et===!1)return!1;if(delete Se[f0],et===f0)return Object.defineProperty(Se,f0,{value:!0,configurable:!0}),!1;typeof et=="object"&&et&&(Ue=et)}return Ae&&(Ue=yield Ae(Ue)),Ue}),Z=Se=>{const we=Se.filter(Ue=>!Ue.file[f0]);if(!we.length)return;const Ge=we.map(Ue=>Vb(Ue.file));let Ae=An(k);Ge.forEach(Ue=>{Ae=Wb(Ue,Ae)}),Ge.forEach((Ue,et)=>{let ce=Ue;if(we[et].parsedFile)Ue.status="uploading";else{const{originFileObj:Y}=Ue;let ne;try{ne=new File([Y],Y.name,{type:Y.type})}catch{ne=new Blob([Y],{type:Y.type}),ne.name=Y.name,ne.lastModifiedDate=new Date,ne.lastModified=new Date().getTime()}ne.uid=Ue.uid,ce=ne}X(ce,Ae)})},oe=(Se,we,Ge)=>{try{typeof Se=="string"&&(Se=JSON.parse(Se))}catch{}if(!u_(we,k))return;const Ae=Vb(we);Ae.status="done",Ae.percent=100,Ae.response=Se,Ae.xhr=Ge;const Ue=Wb(Ae,k);X(Ae,Ue)},ue=(Se,we)=>{if(!u_(we,k))return;const Ge=Vb(we);Ge.status="uploading",Ge.percent=Se.percent;const Ae=Wb(Ge,k);X(Ge,Ae,Se)},Be=(Se,we,Ge)=>{if(!u_(Ge,k))return;const Ae=Vb(Ge);Ae.error=Se,Ae.response=we,Ae.status="error";const Ue=Wb(Ae,k);X(Ae,Ue)},ge=Se=>{let we;Promise.resolve(typeof o=="function"?o(Se):o).then(Ge=>{var Ae;if(Ge===!1)return;const Ue=mxe(Se,k);Ue&&(we=Object.assign(Object.assign({},Se),{status:"removed"}),k==null||k.forEach(et=>{const ce=we.uid!==void 0?"uid":"name";et[ce]===we[ce]&&!Object.isFrozen(et)&&(et.status="removed")}),(Ae=Q.current)===null||Ae===void 0||Ae.abort(we),X(we,Ue))})},Ie=Se=>{j(Se.type),Se.type==="drop"&&(h==null||h(Se))};M.useImperativeHandle(e,()=>({onBatchStart:Z,onSuccess:oe,onProgress:ue,onError:Be,fileList:k,upload:Q.current}));const{getPrefixCls:He,direction:Ze,upload:Xe}=M.useContext(_r),ke=He("upload",g),lt=Object.assign(Object.assign({onBatchStart:Z,onError:Be,onProgress:ue,onSuccess:oe},n),{data:P,multiple:T,action:D,accept:$,supportServerRender:V,prefixCls:ke,disabled:F,beforeUpload:J,onChange:void 0});delete lt.className,delete lt.style,(!C||F)&&delete lt.id;const[ot,it]=pxe(ke),[ft]=cC("Upload",Vd.Upload),{showRemoveIcon:xt,showPreviewIcon:At,showDownloadIcon:Ct,removeIcon:Tt,previewIcon:Dt,downloadIcon:Yt}=typeof s=="boolean"?{}:s,Ve=(Se,we)=>s?M.createElement(Cxe,{prefixCls:ke,listType:l,items:k,previewFile:p,onPreview:u,onDownload:c,onRemove:ge,showRemoveIcon:!F&&xt,showPreviewIcon:At,showDownloadIcon:Ct,removeIcon:Tt,previewIcon:Dt,downloadIcon:Yt,iconRender:y,locale:Object.assign(Object.assign({},ft),v),isImageUrl:A,progress:b,appendAction:Se,appendActionVisible:we,itemRender:L,disabled:F}):Se,be=Et(`${ke}-wrapper`,w,B,it,Xe==null?void 0:Xe.className,{[`${ke}-rtl`]:Ze==="rtl",[`${ke}-picture-card-wrapper`]:l==="picture-card",[`${ke}-picture-circle-wrapper`]:l==="picture-circle"}),fe=Object.assign(Object.assign({},Xe==null?void 0:Xe.style),_);if(E==="drag"){const Se=Et(it,ke,`${ke}-drag`,{[`${ke}-drag-uploading`]:k.some(we=>we.status==="uploading"),[`${ke}-drag-hover`]:G==="dragover",[`${ke}-disabled`]:F,[`${ke}-rtl`]:Ze==="rtl"});return ot(M.createElement("span",{className:be},M.createElement("div",{className:Se,style:fe,onDrop:Ie,onDragOver:Ie,onDragLeave:Ie},M.createElement(L3,Object.assign({},lt,{ref:Q,className:`${ke}-btn`}),M.createElement("div",{className:`${ke}-drag-container`},C))),Ve()))}const me=Et(ke,`${ke}-select`,{[`${ke}-disabled`]:F}),Ce=(Se=>M.createElement("div",{className:me,style:Se},M.createElement(L3,Object.assign({},lt,{ref:Q}))))(C?void 0:{display:"none"});return ot(l==="picture-card"||l==="picture-circle"?M.createElement("span",{className:be},Ve(Ce,!!C)):M.createElement("span",{className:be},Ce,Ve()))},_xe=M.forwardRef(Sxe),sG=_xe;var Mxe=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const Txe=M.forwardRef((n,e)=>{var{style:r,height:i}=n,o=Mxe(n,["style","height"]);return M.createElement(sG,Object.assign({ref:e},o,{type:"drag",style:Object.assign(Object.assign({},r),{height:i})}))}),Rxe=Txe,GL=sG;GL.Dragger=Rxe;GL.LIST_IGNORE=f0;const Ixe=GL;/**
 * @remix-run/router v1.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eo(){return Eo=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},Eo.apply(this,arguments)}var To;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(To||(To={}));const iF="popstate";function Lxe(n){n===void 0&&(n={});function e(i,o){let{pathname:s,search:l,hash:u}=i.location;return EA("",{pathname:s,search:l,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(i,o){return typeof o=="string"?o:JA(o)}return Bxe(e,r,null,n)}function Ci(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ch(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Pxe(){return Math.random().toString(36).substr(2,8)}function oF(n,e){return{usr:n.state,key:n.key,idx:e}}function EA(n,e,r,i){return r===void 0&&(r=null),Eo({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Uu(e):e,{state:r,key:e&&e.key||i||Pxe()})}function JA(n){let{pathname:e="/",search:r="",hash:i=""}=n;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Uu(n){let e={};if(n){let r=n.indexOf("#");r>=0&&(e.hash=n.substr(r),n=n.substr(0,r));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function Bxe(n,e,r,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:s=!1}=i,l=o.history,u=To.Pop,c=null,d=h();d==null&&(d=0,l.replaceState(Eo({},l.state,{idx:d}),""));function h(){return(l.state||{idx:null}).idx}function p(){u=To.Pop;let b=h(),g=b==null?null:b-d;d=b,c&&c({action:u,location:A.location,delta:g})}function m(b,g){u=To.Push;let w=EA(A.location,b,g);r&&r(w,b),d=h()+1;let E=oF(w,d),C=A.createHref(w);try{l.pushState(E,"",C)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;o.location.assign(C)}s&&c&&c({action:u,location:A.location,delta:1})}function v(b,g){u=To.Replace;let w=EA(A.location,b,g);r&&r(w,b),d=h();let E=oF(w,d),C=A.createHref(w);l.replaceState(E,"",C),s&&c&&c({action:u,location:A.location,delta:0})}function y(b){let g=o.location.origin!=="null"?o.location.origin:o.location.href,w=typeof b=="string"?b:JA(b);return Ci(g,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,g)}let A={get action(){return u},get location(){return n(o,l)},listen(b){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(iF,p),c=b,()=>{o.removeEventListener(iF,p),c=null}},createHref(b){return e(o,b)},createURL:y,encodeLocation(b){let g=y(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:v,go(b){return l.go(b)}};return A}var Ro;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Ro||(Ro={}));const Oxe=new Set(["lazy","caseSensitive","path","id","index","children"]);function Dxe(n){return n.index===!0}function P3(n,e,r,i){return r===void 0&&(r=[]),i===void 0&&(i={}),n.map((o,s)=>{let l=[...r,s],u=typeof o.id=="string"?o.id:l.join("-");if(Ci(o.index!==!0||!o.children,"Cannot specify children on an index route"),Ci(!i[u],'Found a route id collision on id "'+u+`".  Route id's must be globally unique within Data Router usages`),Dxe(o)){let c=Eo({},o,e(o),{id:u});return i[u]=c,c}else{let c=Eo({},o,e(o),{id:u,children:void 0});return i[u]=c,o.children&&(c.children=P3(o.children,e,l,i)),c}})}function gm(n,e,r){r===void 0&&(r="/");let i=typeof e=="string"?Uu(e):e,o=ZA(i.pathname||"/",r);if(o==null)return null;let s=lG(n);kxe(s);let l=null;for(let u=0;l==null&&u<s.length;++u)l=Wxe(s[u],Xxe(o));return l}function Nxe(n,e){let{route:r,pathname:i,params:o}=n;return{id:r.id,pathname:i,params:o,data:e[r.id],handle:r.handle}}function lG(n,e,r,i){e===void 0&&(e=[]),r===void 0&&(r=[]),i===void 0&&(i="");let o=(s,l,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};c.relativePath.startsWith("/")&&(Ci(c.relativePath.startsWith(i),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(i.length));let d=ch([i,c.relativePath]),h=r.concat(c);s.children&&s.children.length>0&&(Ci(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),lG(s.children,e,h,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:jxe(d,s.index),routesMeta:h})};return n.forEach((s,l)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))o(s,l);else for(let c of cG(s.path))o(s,l,c)}),e}function cG(n){let e=n.split("/");if(e.length===0)return[];let[r,...i]=e,o=r.endsWith("?"),s=r.replace(/\?$/,"");if(i.length===0)return o?[s,""]:[s];let l=cG(i.join("/")),u=[];return u.push(...l.map(c=>c===""?s:[s,c].join("/"))),o&&u.push(...l),u.map(c=>n.startsWith("/")&&c===""?"/":c)}function kxe(n){n.sort((e,r)=>e.score!==r.score?r.score-e.score:Vxe(e.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}const Fxe=/^:\w+$/,Uxe=3,zxe=2,Hxe=1,$xe=10,Gxe=-2,aF=n=>n==="*";function jxe(n,e){let r=n.split("/"),i=r.length;return r.some(aF)&&(i+=Gxe),e&&(i+=zxe),r.filter(o=>!aF(o)).reduce((o,s)=>o+(Fxe.test(s)?Uxe:s===""?Hxe:$xe),i)}function Vxe(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function Wxe(n,e){let{routesMeta:r}=n,i={},o="/",s=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",h=Qxe({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d);if(!h)return null;Object.assign(i,h.params);let p=u.route;s.push({params:i,pathname:ch([o,h.pathname]),pathnameBase:eEe(ch([o,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(o=ch([o,h.pathnameBase]))}return s}function Qxe(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[r,i]=Kxe(n.path,n.caseSensitive,n.end),o=e.match(r);if(!o)return null;let s=o[0],l=s.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:i.reduce((d,h,p)=>{let{paramName:m,isOptional:v}=h;if(m==="*"){let A=u[p]||"";l=s.slice(0,s.length-A.length).replace(/(.)\/+$/,"$1")}const y=u[p];return v&&!y?d[m]=void 0:d[m]=qxe(y||"",m),d},{}),pathname:s,pathnameBase:l,pattern:n}}function Kxe(n,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Ch(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(l,u,c)=>(i.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function Xxe(n){try{return decodeURI(n)}catch(e){return Ch(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function qxe(n,e){try{return decodeURIComponent(n)}catch(r){return Ch(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+n+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),n}}function ZA(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,i=n.charAt(r);return i&&i!=="/"?null:n.slice(r)||"/"}function Yxe(n,e){e===void 0&&(e="/");let{pathname:r,search:i="",hash:o=""}=typeof n=="string"?Uu(n):n;return{pathname:r?r.startsWith("/")?r:Jxe(r,e):e,search:tEe(i),hash:nEe(o)}}function Jxe(n,e){let r=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function d_(n,e,r,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uG(n){return n.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Zxe(n,e,r,i){i===void 0&&(i=!1);let o;typeof n=="string"?o=Uu(n):(o=Eo({},n),Ci(!o.pathname||!o.pathname.includes("?"),d_("?","pathname","search",o)),Ci(!o.pathname||!o.pathname.includes("#"),d_("#","pathname","hash",o)),Ci(!o.search||!o.search.includes("#"),d_("#","search","hash",o)));let s=n===""||o.pathname==="",l=s?"/":o.pathname,u;if(i||l==null)u=r;else{let p=e.length-1;if(l.startsWith("..")){let m=l.split("/");for(;m[0]==="..";)m.shift(),p-=1;o.pathname=m.join("/")}u=p>=0?e[p]:"/"}let c=Yxe(o,u),d=l&&l!=="/"&&l.endsWith("/"),h=(s||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const ch=n=>n.join("/").replace(/\/\/+/g,"/"),eEe=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),tEe=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,nEe=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class jL{constructor(e,r,i,o){o===void 0&&(o=!1),this.status=e,this.statusText=r||"",this.internal=o,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function dG(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const fG=["post","put","patch","delete"],rEe=new Set(fG),iEe=["get",...fG],oEe=new Set(iEe),aEe=new Set([301,302,303,307,308]),sEe=new Set([307,308]),f_={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},lEe={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Pv={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},hG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cEe=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),pG="remix-router-transitions";function uEe(n){const e=n.window?n.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!r;Ci(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let o;if(n.mapRouteProperties)o=n.mapRouteProperties;else if(n.detectErrorBoundary){let ve=n.detectErrorBoundary;o=he=>({hasErrorBoundary:ve(he)})}else o=cEe;let s={},l=P3(n.routes,o,void 0,s),u,c=n.basename||"/",d=Eo({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},n.future),h=null,p=new Set,m=null,v=null,y=null,A=n.hydrationData!=null,b=gm(l,n.history.location,c),g=null;if(b==null){let ve=Js(404,{pathname:n.history.location.pathname}),{matches:he,route:qe}=pF(l);b=he,g={[qe.id]:ve}}let w=!b.some(ve=>ve.route.lazy)&&(!b.some(ve=>ve.route.loader)||n.hydrationData!=null),E,C={historyAction:n.history.action,location:n.history.location,matches:b,initialized:w,navigation:f_,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||g,fetchers:new Map,blockers:new Map},_=To.Pop,L=!1,R,P=!1,T=new Map,D=null,$=!1,V=!1,B=[],O=[],F=new Map,k=0,z=-1,G=new Map,j=new Set,Q=new Map,X=new Map,J=new Set,Z=new Map,oe=new Map,ue=!1;function Be(){if(h=n.history.listen(ve=>{let{action:he,location:qe,delta:Je}=ve;if(ue){ue=!1;return}Ch(oe.size===0||Je!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Qe=Ue({currentLocation:C.location,nextLocation:qe,historyAction:he});if(Qe&&Je!=null){ue=!0,n.history.go(Je*-1),Ae(Qe,{state:"blocked",location:qe,proceed(){Ae(Qe,{state:"proceeding",proceed:void 0,reset:void 0,location:qe}),n.history.go(Je)},reset(){let nt=new Map(C.blockers);nt.set(Qe,Pv),He({blockers:nt})}});return}return lt(he,qe)}),r){xEe(e,T);let ve=()=>EEe(e,T);e.addEventListener("pagehide",ve),D=()=>e.removeEventListener("pagehide",ve)}return C.initialized||lt(To.Pop,C.location),E}function ge(){h&&h(),D&&D(),p.clear(),R&&R.abort(),C.fetchers.forEach((ve,he)=>be(he)),C.blockers.forEach((ve,he)=>Ge(he))}function Ie(ve){return p.add(ve),()=>p.delete(ve)}function He(ve,he){C=Eo({},C,ve);let qe=[],Je=[];d.v7_fetcherPersist&&C.fetchers.forEach((Qe,nt)=>{Qe.state==="idle"&&(J.has(nt)?Je.push(nt):qe.push(nt))}),p.forEach(Qe=>Qe(C,{deletedFetchers:Je,unstable_viewTransitionOpts:he})),d.v7_fetcherPersist&&(qe.forEach(Qe=>C.fetchers.delete(Qe)),Je.forEach(Qe=>be(Qe)))}function Ze(ve,he){var qe,Je;let Qe=C.actionData!=null&&C.navigation.formMethod!=null&&Ol(C.navigation.formMethod)&&C.navigation.state==="loading"&&((qe=ve.state)==null?void 0:qe._isRedirect)!==!0,nt;he.actionData?Object.keys(he.actionData).length>0?nt=he.actionData:nt=null:Qe?nt=C.actionData:nt=null;let It=he.loaderData?hF(C.loaderData,he.loaderData,he.matches||[],he.errors):C.loaderData,kt=C.blockers;kt.size>0&&(kt=new Map(kt),kt.forEach((Vt,Pt)=>kt.set(Pt,Pv)));let Bt=L===!0||C.navigation.formMethod!=null&&Ol(C.navigation.formMethod)&&((Je=ve.state)==null?void 0:Je._isRedirect)!==!0;u&&(l=u,u=void 0),$||_===To.Pop||(_===To.Push?n.history.push(ve,ve.state):_===To.Replace&&n.history.replace(ve,ve.state));let Gt;if(_===To.Pop){let Vt=T.get(C.location.pathname);Vt&&Vt.has(ve.pathname)?Gt={currentLocation:C.location,nextLocation:ve}:T.has(ve.pathname)&&(Gt={currentLocation:ve,nextLocation:C.location})}else if(P){let Vt=T.get(C.location.pathname);Vt?Vt.add(ve.pathname):(Vt=new Set([ve.pathname]),T.set(C.location.pathname,Vt)),Gt={currentLocation:C.location,nextLocation:ve}}He(Eo({},he,{actionData:nt,loaderData:It,historyAction:_,location:ve,initialized:!0,navigation:f_,revalidation:"idle",restoreScrollPosition:Le(ve,he.matches||C.matches),preventScrollReset:Bt,blockers:kt}),Gt),_=To.Pop,L=!1,P=!1,$=!1,V=!1,B=[],O=[]}async function Xe(ve,he){if(typeof ve=="number"){n.history.go(ve);return}let qe=B3(C.location,C.matches,c,d.v7_prependBasename,ve,he==null?void 0:he.fromRouteId,he==null?void 0:he.relative),{path:Je,submission:Qe,error:nt}=sF(d.v7_normalizeFormMethod,!1,qe,he),It=C.location,kt=EA(C.location,Je,he&&he.state);kt=Eo({},kt,n.history.encodeLocation(kt));let Bt=he&&he.replace!=null?he.replace:void 0,Gt=To.Push;Bt===!0?Gt=To.Replace:Bt===!1||Qe!=null&&Ol(Qe.formMethod)&&Qe.formAction===C.location.pathname+C.location.search&&(Gt=To.Replace);let Vt=he&&"preventScrollReset"in he?he.preventScrollReset===!0:void 0,Pt=Ue({currentLocation:It,nextLocation:kt,historyAction:Gt});if(Pt){Ae(Pt,{state:"blocked",location:kt,proceed(){Ae(Pt,{state:"proceeding",proceed:void 0,reset:void 0,location:kt}),Xe(ve,he)},reset(){let pt=new Map(C.blockers);pt.set(Pt,Pv),He({blockers:pt})}});return}return await lt(Gt,kt,{submission:Qe,pendingError:nt,preventScrollReset:Vt,replace:he&&he.replace,enableViewTransition:he&&he.unstable_viewTransition})}function ke(){if(Yt(),He({revalidation:"loading"}),C.navigation.state!=="submitting"){if(C.navigation.state==="idle"){lt(C.historyAction,C.location,{startUninterruptedRevalidation:!0});return}lt(_||C.historyAction,C.navigation.location,{overrideNavigation:C.navigation})}}async function lt(ve,he,qe){R&&R.abort(),R=null,_=ve,$=(qe&&qe.startUninterruptedRevalidation)===!0,ne(C.location,C.matches),L=(qe&&qe.preventScrollReset)===!0,P=(qe&&qe.enableViewTransition)===!0;let Je=u||l,Qe=qe&&qe.overrideNavigation,nt=gm(Je,he,c);if(!nt){let pt=Js(404,{pathname:he.pathname}),{matches:Ot,route:cn}=pF(Je);et(),Ze(he,{matches:Ot,loaderData:{},errors:{[cn.id]:pt}});return}if(C.initialized&&!V&&mEe(C.location,he)&&!(qe&&qe.submission&&Ol(qe.submission.formMethod))){Ze(he,{matches:nt});return}R=new AbortController;let It=Ov(n.history,he,R.signal,qe&&qe.submission),kt,Bt;if(qe&&qe.pendingError)Bt={[k0(nt).route.id]:qe.pendingError};else if(qe&&qe.submission&&Ol(qe.submission.formMethod)){let pt=await ot(It,he,qe.submission,nt,{replace:qe.replace});if(pt.shortCircuited)return;kt=pt.pendingActionData,Bt=pt.pendingActionError,Qe=h_(he,qe.submission),It=new Request(It.url,{signal:It.signal})}let{shortCircuited:Gt,loaderData:Vt,errors:Pt}=await it(It,he,nt,Qe,qe&&qe.submission,qe&&qe.fetcherSubmission,qe&&qe.replace,kt,Bt);Gt||(R=null,Ze(he,Eo({matches:nt},kt?{actionData:kt}:{},{loaderData:Vt,errors:Pt})))}async function ot(ve,he,qe,Je,Qe){Qe===void 0&&(Qe={}),Yt();let nt=yEe(he,qe);He({navigation:nt});let It,kt=D3(Je,he);if(!kt.route.action&&!kt.route.lazy)It={type:Ro.error,error:Js(405,{method:ve.method,pathname:he.pathname,routeId:kt.route.id})};else if(It=await Bv("action",ve,kt,Je,s,o,c),ve.signal.aborted)return{shortCircuited:!0};if(Om(It)){let Bt;return Qe&&Qe.replace!=null?Bt=Qe.replace:Bt=It.location===C.location.pathname+C.location.search,await Tt(C,It,{submission:qe,replace:Bt}),{shortCircuited:!0}}if(F0(It)){let Bt=k0(Je,kt.route.id);return(Qe&&Qe.replace)!==!0&&(_=To.Push),{pendingActionData:{},pendingActionError:{[Bt.route.id]:It.error}}}if(eh(It))throw Js(400,{type:"defer-action"});return{pendingActionData:{[kt.route.id]:It.data}}}async function it(ve,he,qe,Je,Qe,nt,It,kt,Bt){let Gt=Je||h_(he,Qe),Vt=Qe||nt||vF(Gt),Pt=u||l,[pt,Ot]=lF(n.history,C,qe,Vt,he,V,B,O,Q,j,Pt,c,kt,Bt);if(et(st=>!(qe&&qe.some(wt=>wt.route.id===st))||pt&&pt.some(wt=>wt.route.id===st)),z=++k,pt.length===0&&Ot.length===0){let st=Ce();return Ze(he,Eo({matches:qe,loaderData:{},errors:Bt||null},kt?{actionData:kt}:{},st?{fetchers:new Map(C.fetchers)}:{})),{shortCircuited:!0}}if(!$){Ot.forEach(wt=>{let xe=C.fetchers.get(wt.key),De=Dv(void 0,xe?xe.data:void 0);C.fetchers.set(wt.key,De)});let st=kt||C.actionData;He(Eo({navigation:Gt},st?Object.keys(st).length===0?{actionData:null}:{actionData:st}:{},Ot.length>0?{fetchers:new Map(C.fetchers)}:{}))}Ot.forEach(st=>{F.has(st.key)&&me(st.key),st.controller&&F.set(st.key,st.controller)});let cn=()=>Ot.forEach(st=>me(st.key));R&&R.signal.addEventListener("abort",cn);let{results:qt,loaderResults:Sn,fetcherResults:yn}=await Dt(C.matches,qe,pt,Ot,ve);if(ve.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",cn),Ot.forEach(st=>F.delete(st.key));let Pn=mF(qt);if(Pn){if(Pn.idx>=pt.length){let st=Ot[Pn.idx-pt.length].key;j.add(st)}return await Tt(C,Pn.result,{replace:It}),{shortCircuited:!0}}let{loaderData:rr,errors:Gn}=fF(C,qe,pt,Sn,Bt,Ot,yn,Z);Z.forEach((st,wt)=>{st.subscribe(xe=>{(xe||st.done)&&Z.delete(wt)})});let Fn=Ce(),Cn=Se(z),Oe=Fn||Cn||Ot.length>0;return Eo({loaderData:rr,errors:Gn},Oe?{fetchers:new Map(C.fetchers)}:{})}function ft(ve){return d.v7_fetcherPersist&&(X.set(ve,(X.get(ve)||0)+1),J.has(ve)&&J.delete(ve)),C.fetchers.get(ve)||lEe}function xt(ve,he,qe,Je){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");F.has(ve)&&me(ve);let Qe=u||l,nt=B3(C.location,C.matches,c,d.v7_prependBasename,qe,he,Je==null?void 0:Je.relative),It=gm(Qe,nt,c);if(!It){Ve(ve,he,Js(404,{pathname:nt}));return}let{path:kt,submission:Bt,error:Gt}=sF(d.v7_normalizeFormMethod,!0,nt,Je);if(Gt){Ve(ve,he,Gt);return}let Vt=D3(It,kt);if(L=(Je&&Je.preventScrollReset)===!0,Bt&&Ol(Bt.formMethod)){At(ve,he,kt,Vt,It,Bt);return}Q.set(ve,{routeId:he,path:kt}),Ct(ve,he,kt,Vt,It,Bt)}async function At(ve,he,qe,Je,Qe,nt){if(Yt(),Q.delete(ve),!Je.route.action&&!Je.route.lazy){let De=Js(405,{method:nt.formMethod,pathname:qe,routeId:he});Ve(ve,he,De);return}let It=C.fetchers.get(ve),kt=bEe(nt,It);C.fetchers.set(ve,kt),He({fetchers:new Map(C.fetchers)});let Bt=new AbortController,Gt=Ov(n.history,qe,Bt.signal,nt);F.set(ve,Bt);let Vt=k,Pt=await Bv("action",Gt,Je,Qe,s,o,c);if(Gt.signal.aborted){F.get(ve)===Bt&&F.delete(ve);return}if(J.has(ve)){C.fetchers.set(ve,vd(void 0)),He({fetchers:new Map(C.fetchers)});return}if(Om(Pt))if(F.delete(ve),z>Vt){let De=vd(void 0);C.fetchers.set(ve,De),He({fetchers:new Map(C.fetchers)});return}else{j.add(ve);let De=Dv(nt);return C.fetchers.set(ve,De),He({fetchers:new Map(C.fetchers)}),Tt(C,Pt,{fetcherSubmission:nt})}if(F0(Pt)){Ve(ve,he,Pt.error);return}if(eh(Pt))throw Js(400,{type:"defer-action"});let pt=C.navigation.location||C.location,Ot=Ov(n.history,pt,Bt.signal),cn=u||l,qt=C.navigation.state!=="idle"?gm(cn,C.navigation.location,c):C.matches;Ci(qt,"Didn't find any matches after fetcher action");let Sn=++k;G.set(ve,Sn);let yn=Dv(nt,Pt.data);C.fetchers.set(ve,yn);let[Pn,rr]=lF(n.history,C,qt,nt,pt,V,B,O,Q,j,cn,c,{[Je.route.id]:Pt.data},void 0);rr.filter(De=>De.key!==ve).forEach(De=>{let tt=De.key,St=C.fetchers.get(tt),Mt=Dv(void 0,St?St.data:void 0);C.fetchers.set(tt,Mt),F.has(tt)&&me(tt),De.controller&&F.set(tt,De.controller)}),He({fetchers:new Map(C.fetchers)});let Gn=()=>rr.forEach(De=>me(De.key));Bt.signal.addEventListener("abort",Gn);let{results:Fn,loaderResults:Cn,fetcherResults:Oe}=await Dt(C.matches,qt,Pn,rr,Ot);if(Bt.signal.aborted)return;Bt.signal.removeEventListener("abort",Gn),G.delete(ve),F.delete(ve),rr.forEach(De=>F.delete(De.key));let st=mF(Fn);if(st){if(st.idx>=Pn.length){let De=rr[st.idx-Pn.length].key;j.add(De)}return Tt(C,st.result)}let{loaderData:wt,errors:xe}=fF(C,C.matches,Pn,Cn,void 0,rr,Oe,Z);if(C.fetchers.has(ve)){let De=vd(Pt.data);C.fetchers.set(ve,De)}Se(Sn),C.navigation.state==="loading"&&Sn>z?(Ci(_,"Expected pending action"),R&&R.abort(),Ze(C.navigation.location,{matches:qt,loaderData:wt,errors:xe,fetchers:new Map(C.fetchers)})):(He({errors:xe,loaderData:hF(C.loaderData,wt,qt,xe),fetchers:new Map(C.fetchers)}),V=!1)}async function Ct(ve,he,qe,Je,Qe,nt){let It=C.fetchers.get(ve),kt=Dv(nt,It?It.data:void 0);C.fetchers.set(ve,kt),He({fetchers:new Map(C.fetchers)});let Bt=new AbortController,Gt=Ov(n.history,qe,Bt.signal);F.set(ve,Bt);let Vt=k,Pt=await Bv("loader",Gt,Je,Qe,s,o,c);if(eh(Pt)&&(Pt=await vG(Pt,Gt.signal,!0)||Pt),F.get(ve)===Bt&&F.delete(ve),Gt.signal.aborted)return;if(J.has(ve)){C.fetchers.set(ve,vd(void 0)),He({fetchers:new Map(C.fetchers)});return}if(Om(Pt))if(z>Vt){let Ot=vd(void 0);C.fetchers.set(ve,Ot),He({fetchers:new Map(C.fetchers)});return}else{j.add(ve),await Tt(C,Pt);return}if(F0(Pt)){Ve(ve,he,Pt.error);return}Ci(!eh(Pt),"Unhandled fetcher deferred data");let pt=vd(Pt.data);C.fetchers.set(ve,pt),He({fetchers:new Map(C.fetchers)})}async function Tt(ve,he,qe){let{submission:Je,fetcherSubmission:Qe,replace:nt}=qe===void 0?{}:qe;he.revalidate&&(V=!0);let It=EA(ve.location,he.location,{_isRedirect:!0});if(Ci(It,"Expected a location on the redirect navigation"),r){let pt=!1;if(he.reloadDocument)pt=!0;else if(hG.test(he.location)){const Ot=n.history.createURL(he.location);pt=Ot.origin!==e.location.origin||ZA(Ot.pathname,c)==null}if(pt){nt?e.location.replace(he.location):e.location.assign(he.location);return}}R=null;let kt=nt===!0?To.Replace:To.Push,{formMethod:Bt,formAction:Gt,formEncType:Vt}=ve.navigation;!Je&&!Qe&&Bt&&Gt&&Vt&&(Je=vF(ve.navigation));let Pt=Je||Qe;if(sEe.has(he.status)&&Pt&&Ol(Pt.formMethod))await lt(kt,It,{submission:Eo({},Pt,{formAction:he.location}),preventScrollReset:L});else{let pt=h_(It,Je);await lt(kt,It,{overrideNavigation:pt,fetcherSubmission:Qe,preventScrollReset:L})}}async function Dt(ve,he,qe,Je,Qe){let nt=await Promise.all([...qe.map(Bt=>Bv("loader",Qe,Bt,he,s,o,c)),...Je.map(Bt=>Bt.matches&&Bt.match&&Bt.controller?Bv("loader",Ov(n.history,Bt.path,Bt.controller.signal),Bt.match,Bt.matches,s,o,c):{type:Ro.error,error:Js(404,{pathname:Bt.path})})]),It=nt.slice(0,qe.length),kt=nt.slice(qe.length);return await Promise.all([gF(ve,qe,It,It.map(()=>Qe.signal),!1,C.loaderData),gF(ve,Je.map(Bt=>Bt.match),kt,Je.map(Bt=>Bt.controller?Bt.controller.signal:null),!0)]),{results:nt,loaderResults:It,fetcherResults:kt}}function Yt(){V=!0,B.push(...et()),Q.forEach((ve,he)=>{F.has(he)&&(O.push(he),me(he))})}function Ve(ve,he,qe){let Je=k0(C.matches,he);be(ve),He({errors:{[Je.route.id]:qe},fetchers:new Map(C.fetchers)})}function be(ve){let he=C.fetchers.get(ve);F.has(ve)&&!(he&&he.state==="loading"&&G.has(ve))&&me(ve),Q.delete(ve),G.delete(ve),j.delete(ve),J.delete(ve),C.fetchers.delete(ve)}function fe(ve){if(d.v7_fetcherPersist){let he=(X.get(ve)||0)-1;he<=0?(X.delete(ve),J.add(ve)):X.set(ve,he)}else be(ve);He({fetchers:new Map(C.fetchers)})}function me(ve){let he=F.get(ve);Ci(he,"Expected fetch controller: "+ve),he.abort(),F.delete(ve)}function Te(ve){for(let he of ve){let qe=ft(he),Je=vd(qe.data);C.fetchers.set(he,Je)}}function Ce(){let ve=[],he=!1;for(let qe of j){let Je=C.fetchers.get(qe);Ci(Je,"Expected fetcher: "+qe),Je.state==="loading"&&(j.delete(qe),ve.push(qe),he=!0)}return Te(ve),he}function Se(ve){let he=[];for(let[qe,Je]of G)if(Je<ve){let Qe=C.fetchers.get(qe);Ci(Qe,"Expected fetcher: "+qe),Qe.state==="loading"&&(me(qe),G.delete(qe),he.push(qe))}return Te(he),he.length>0}function we(ve,he){let qe=C.blockers.get(ve)||Pv;return oe.get(ve)!==he&&oe.set(ve,he),qe}function Ge(ve){C.blockers.delete(ve),oe.delete(ve)}function Ae(ve,he){let qe=C.blockers.get(ve)||Pv;Ci(qe.state==="unblocked"&&he.state==="blocked"||qe.state==="blocked"&&he.state==="blocked"||qe.state==="blocked"&&he.state==="proceeding"||qe.state==="blocked"&&he.state==="unblocked"||qe.state==="proceeding"&&he.state==="unblocked","Invalid blocker state transition: "+qe.state+" -> "+he.state);let Je=new Map(C.blockers);Je.set(ve,he),He({blockers:Je})}function Ue(ve){let{currentLocation:he,nextLocation:qe,historyAction:Je}=ve;if(oe.size===0)return;oe.size>1&&Ch(!1,"A router only supports one blocker at a time");let Qe=Array.from(oe.entries()),[nt,It]=Qe[Qe.length-1],kt=C.blockers.get(nt);if(!(kt&&kt.state==="proceeding")&&It({currentLocation:he,nextLocation:qe,historyAction:Je}))return nt}function et(ve){let he=[];return Z.forEach((qe,Je)=>{(!ve||ve(Je))&&(qe.cancel(),he.push(Je),Z.delete(Je))}),he}function ce(ve,he,qe){if(m=ve,y=he,v=qe||null,!A&&C.navigation===f_){A=!0;let Je=Le(C.location,C.matches);Je!=null&&He({restoreScrollPosition:Je})}return()=>{m=null,y=null,v=null}}function Y(ve,he){return v&&v(ve,he.map(Je=>Nxe(Je,C.loaderData)))||ve.key}function ne(ve,he){if(m&&y){let qe=Y(ve,he);m[qe]=y()}}function Le(ve,he){if(m){let qe=Y(ve,he),Je=m[qe];if(typeof Je=="number")return Je}return null}function We(ve){s={},u=P3(ve,o,void 0,s)}return E={get basename(){return c},get state(){return C},get routes(){return l},get window(){return e},initialize:Be,subscribe:Ie,enableScrollRestoration:ce,navigate:Xe,fetch:xt,revalidate:ke,createHref:ve=>n.history.createHref(ve),encodeLocation:ve=>n.history.encodeLocation(ve),getFetcher:ft,deleteFetcher:fe,dispose:ge,getBlocker:we,deleteBlocker:Ge,_internalFetchControllers:F,_internalActiveDeferreds:Z,_internalSetRoutes:We},E}function dEe(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function B3(n,e,r,i,o,s,l){let u,c;if(s!=null&&l!=="path"){u=[];for(let h of e)if(u.push(h),h.route.id===s){c=h;break}}else u=e,c=e[e.length-1];let d=Zxe(o||".",uG(u).map(h=>h.pathnameBase),ZA(n.pathname,r)||n.pathname,l==="path");return o==null&&(d.search=n.search,d.hash=n.hash),(o==null||o===""||o===".")&&c&&c.route.index&&!VL(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),i&&r!=="/"&&(d.pathname=d.pathname==="/"?r:ch([r,d.pathname])),JA(d)}function sF(n,e,r,i){if(!i||!dEe(i))return{path:r};if(i.formMethod&&!AEe(i.formMethod))return{path:r,error:Js(405,{method:i.formMethod})};let o=()=>({path:r,error:Js(400,{type:"invalid-body"})}),s=i.formMethod||"get",l=n?s.toUpperCase():s.toLowerCase(),u=gG(r);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!Ol(l))return o();let m=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((v,y)=>{let[A,b]=y;return""+v+A+"="+b+`
`},""):String(i.body);return{path:r,submission:{formMethod:l,formAction:u,formEncType:i.formEncType,formData:void 0,json:void 0,text:m}}}else if(i.formEncType==="application/json"){if(!Ol(l))return o();try{let m=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:r,submission:{formMethod:l,formAction:u,formEncType:i.formEncType,formData:void 0,json:m,text:void 0}}}catch{return o()}}}Ci(typeof FormData=="function","FormData is not available in this environment");let c,d;if(i.formData)c=O3(i.formData),d=i.formData;else if(i.body instanceof FormData)c=O3(i.body),d=i.body;else if(i.body instanceof URLSearchParams)c=i.body,d=dF(c);else if(i.body==null)c=new URLSearchParams,d=new FormData;else try{c=new URLSearchParams(i.body),d=dF(c)}catch{return o()}let h={formMethod:l,formAction:u,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(Ol(h.formMethod))return{path:r,submission:h};let p=Uu(r);return e&&p.search&&VL(p.search)&&c.append("index",""),p.search="?"+c,{path:JA(p),submission:h}}function fEe(n,e){let r=n;if(e){let i=n.findIndex(o=>o.route.id===e);i>=0&&(r=n.slice(0,i))}return r}function lF(n,e,r,i,o,s,l,u,c,d,h,p,m,v){let y=v?Object.values(v)[0]:m?Object.values(m)[0]:void 0,A=n.createURL(e.location),b=n.createURL(o),g=v?Object.keys(v)[0]:void 0,E=fEe(r,g).filter((_,L)=>{if(_.route.lazy)return!0;if(_.route.loader==null)return!1;if(hEe(e.loaderData,e.matches[L],_)||l.some(T=>T===_.route.id))return!0;let R=e.matches[L],P=_;return cF(_,Eo({currentUrl:A,currentParams:R.params,nextUrl:b,nextParams:P.params},i,{actionResult:y,defaultShouldRevalidate:s||A.pathname+A.search===b.pathname+b.search||A.search!==b.search||mG(R,P)}))}),C=[];return c.forEach((_,L)=>{if(!r.some($=>$.route.id===_.routeId))return;let R=gm(h,_.path,p);if(!R){C.push({key:L,routeId:_.routeId,path:_.path,matches:null,match:null,controller:null});return}let P=e.fetchers.get(L),T=D3(R,_.path),D=!1;d.has(L)?D=!1:u.includes(L)?D=!0:P&&P.state!=="idle"&&P.data===void 0?D=s:D=cF(T,Eo({currentUrl:A,currentParams:e.matches[e.matches.length-1].params,nextUrl:b,nextParams:r[r.length-1].params},i,{actionResult:y,defaultShouldRevalidate:s})),D&&C.push({key:L,routeId:_.routeId,path:_.path,matches:R,match:T,controller:new AbortController})}),[E,C]}function hEe(n,e,r){let i=!e||r.route.id!==e.route.id,o=n[r.route.id]===void 0;return i||o}function mG(n,e){let r=n.route.path;return n.pathname!==e.pathname||r!=null&&r.endsWith("*")&&n.params["*"]!==e.params["*"]}function cF(n,e){if(n.route.shouldRevalidate){let r=n.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}async function uF(n,e,r){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let o=r[n.id];Ci(o,"No route found in manifest");let s={};for(let l in i){let c=o[l]!==void 0&&l!=="hasErrorBoundary";Ch(!c,'Route "'+o.id+'" has a static property "'+l+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+l+'" will be ignored.')),!c&&!Oxe.has(l)&&(s[l]=i[l])}Object.assign(o,s),Object.assign(o,Eo({},e(o),{lazy:void 0}))}async function Bv(n,e,r,i,o,s,l,u){u===void 0&&(u={});let c,d,h,p=y=>{let A,b=new Promise((g,w)=>A=w);return h=()=>A(),e.signal.addEventListener("abort",h),Promise.race([y({request:e,params:r.params,context:u.requestContext}),b])};try{let y=r.route[n];if(r.route.lazy)if(y){let A,b=await Promise.all([p(y).catch(g=>{A=g}),uF(r.route,s,o)]);if(A)throw A;d=b[0]}else if(await uF(r.route,s,o),y=r.route[n],y)d=await p(y);else if(n==="action"){let A=new URL(e.url),b=A.pathname+A.search;throw Js(405,{method:e.method,pathname:b,routeId:r.route.id})}else return{type:Ro.data,data:void 0};else if(y)d=await p(y);else{let A=new URL(e.url),b=A.pathname+A.search;throw Js(404,{pathname:b})}Ci(d!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(y){c=Ro.error,d=y}finally{h&&e.signal.removeEventListener("abort",h)}if(vEe(d)){let y=d.status;if(aEe.has(y)){let g=d.headers.get("Location");if(Ci(g,"Redirects returned/thrown from loaders/actions must have a Location header"),!hG.test(g))g=B3(new URL(e.url),i.slice(0,i.indexOf(r)+1),l,!0,g);else if(!u.isStaticRequest){let w=new URL(e.url),E=g.startsWith("//")?new URL(w.protocol+g):new URL(g),C=ZA(E.pathname,l)!=null;E.origin===w.origin&&C&&(g=E.pathname+E.search+E.hash)}if(u.isStaticRequest)throw d.headers.set("Location",g),d;return{type:Ro.redirect,status:y,location:g,revalidate:d.headers.get("X-Remix-Revalidate")!==null,reloadDocument:d.headers.get("X-Remix-Reload-Document")!==null}}if(u.isRouteRequest)throw{type:c===Ro.error?Ro.error:Ro.data,response:d};let A,b=d.headers.get("Content-Type");return b&&/\bapplication\/json\b/.test(b)?A=await d.json():A=await d.text(),c===Ro.error?{type:c,error:new jL(y,d.statusText,A),headers:d.headers}:{type:Ro.data,data:A,statusCode:d.status,headers:d.headers}}if(c===Ro.error)return{type:c,error:d};if(gEe(d)){var m,v;return{type:Ro.deferred,deferredData:d,statusCode:(m=d.init)==null?void 0:m.status,headers:((v=d.init)==null?void 0:v.headers)&&new Headers(d.init.headers)}}return{type:Ro.data,data:d}}function Ov(n,e,r,i){let o=n.createURL(gG(e)).toString(),s={signal:r};if(i&&Ol(i.formMethod)){let{formMethod:l,formEncType:u}=i;s.method=l.toUpperCase(),u==="application/json"?(s.headers=new Headers({"Content-Type":u}),s.body=JSON.stringify(i.json)):u==="text/plain"?s.body=i.text:u==="application/x-www-form-urlencoded"&&i.formData?s.body=O3(i.formData):s.body=i.formData}return new Request(o,s)}function O3(n){let e=new URLSearchParams;for(let[r,i]of n.entries())e.append(r,typeof i=="string"?i:i.name);return e}function dF(n){let e=new FormData;for(let[r,i]of n.entries())e.append(r,i);return e}function pEe(n,e,r,i,o){let s={},l=null,u,c=!1,d={};return r.forEach((h,p)=>{let m=e[p].route.id;if(Ci(!Om(h),"Cannot handle redirect results in processLoaderData"),F0(h)){let v=k0(n,m),y=h.error;i&&(y=Object.values(i)[0],i=void 0),l=l||{},l[v.route.id]==null&&(l[v.route.id]=y),s[m]=void 0,c||(c=!0,u=dG(h.error)?h.error.status:500),h.headers&&(d[m]=h.headers)}else eh(h)?(o.set(m,h.deferredData),s[m]=h.deferredData.data):s[m]=h.data,h.statusCode!=null&&h.statusCode!==200&&!c&&(u=h.statusCode),h.headers&&(d[m]=h.headers)}),i&&(l=i,s[Object.keys(i)[0]]=void 0),{loaderData:s,errors:l,statusCode:u||200,loaderHeaders:d}}function fF(n,e,r,i,o,s,l,u){let{loaderData:c,errors:d}=pEe(e,r,i,o,u);for(let h=0;h<s.length;h++){let{key:p,match:m,controller:v}=s[h];Ci(l!==void 0&&l[h]!==void 0,"Did not find corresponding fetcher result");let y=l[h];if(!(v&&v.signal.aborted))if(F0(y)){let A=k0(n.matches,m==null?void 0:m.route.id);d&&d[A.route.id]||(d=Eo({},d,{[A.route.id]:y.error})),n.fetchers.delete(p)}else if(Om(y))Ci(!1,"Unhandled fetcher revalidation redirect");else if(eh(y))Ci(!1,"Unhandled fetcher deferred data");else{let A=vd(y.data);n.fetchers.set(p,A)}}return{loaderData:c,errors:d}}function hF(n,e,r,i){let o=Eo({},e);for(let s of r){let l=s.route.id;if(e.hasOwnProperty(l)?e[l]!==void 0&&(o[l]=e[l]):n[l]!==void 0&&s.route.loader&&(o[l]=n[l]),i&&i.hasOwnProperty(l))break}return o}function k0(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function pF(n){let e=n.length===1?n[0]:n.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Js(n,e){let{pathname:r,routeId:i,method:o,type:s}=e===void 0?{}:e,l="Unknown Server Error",u="Unknown @remix-run/router error";return n===400?(l="Bad Request",o&&r&&i?u="You made a "+o+' request to "'+r+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":s==="defer-action"?u="defer() is not supported in actions":s==="invalid-body"&&(u="Unable to encode submission body")):n===403?(l="Forbidden",u='Route "'+i+'" does not match URL "'+r+'"'):n===404?(l="Not Found",u='No route matches URL "'+r+'"'):n===405&&(l="Method Not Allowed",o&&r&&i?u="You made a "+o.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":o&&(u='Invalid request method "'+o.toUpperCase()+'"')),new jL(n||500,l,new Error(u),!0)}function mF(n){for(let e=n.length-1;e>=0;e--){let r=n[e];if(Om(r))return{result:r,idx:e}}}function gG(n){let e=typeof n=="string"?Uu(n):n;return JA(Eo({},e,{hash:""}))}function mEe(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function eh(n){return n.type===Ro.deferred}function F0(n){return n.type===Ro.error}function Om(n){return(n&&n.type)===Ro.redirect}function gEe(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function vEe(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function AEe(n){return oEe.has(n.toLowerCase())}function Ol(n){return rEe.has(n.toLowerCase())}async function gF(n,e,r,i,o,s){for(let l=0;l<r.length;l++){let u=r[l],c=e[l];if(!c)continue;let d=n.find(p=>p.route.id===c.route.id),h=d!=null&&!mG(d,c)&&(s&&s[c.route.id])!==void 0;if(eh(u)&&(o||h)){let p=i[l];Ci(p,"Expected an AbortSignal for revalidating fetcher deferred result"),await vG(u,p,o).then(m=>{m&&(r[l]=m||r[l])})}}}async function vG(n,e,r){if(r===void 0&&(r=!1),!await n.deferredData.resolveData(e)){if(r)try{return{type:Ro.data,data:n.deferredData.unwrappedData}}catch(o){return{type:Ro.error,error:o}}return{type:Ro.data,data:n.deferredData.data}}}function VL(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function D3(n,e){let r=typeof e=="string"?Uu(e).search:e.search;if(n[n.length-1].route.index&&VL(r||""))return n[n.length-1];let i=uG(n);return i[i.length-1]}function vF(n){let{formMethod:e,formAction:r,formEncType:i,text:o,formData:s,json:l}=n;if(!(!e||!r||!i)){if(o!=null)return{formMethod:e,formAction:r,formEncType:i,formData:void 0,json:void 0,text:o};if(s!=null)return{formMethod:e,formAction:r,formEncType:i,formData:s,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:r,formEncType:i,formData:void 0,json:l,text:void 0}}}function h_(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function yEe(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Dv(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function bEe(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function vd(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function xEe(n,e){try{let r=n.sessionStorage.getItem(pG);if(r){let i=JSON.parse(r);for(let[o,s]of Object.entries(i||{}))s&&Array.isArray(s)&&e.set(o,new Set(s||[]))}}catch{}}function EEe(n,e){if(e.size>0){let r={};for(let[i,o]of e)r[i]=[...o];try{n.sessionStorage.setItem(pG,JSON.stringify(r))}catch(i){Ch(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function N3(){return N3=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},N3.apply(this,arguments)}const AG=M.createContext(null),yG=M.createContext(null),bG=M.createContext(null),kC=M.createContext(null),FC=M.createContext({outlet:null,matches:[],isDataRoute:!1}),xG=M.createContext(null);function WL(){return M.useContext(kC)!=null}function CEe(){return WL()||Ci(!1),M.useContext(kC).location}function wEe(n,e,r){WL()||Ci(!1);let{navigator:i}=M.useContext(bG),{matches:o}=M.useContext(FC),s=o[o.length-1],l=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let c=CEe(),d;if(e){var h;let A=typeof e=="string"?Uu(e):e;u==="/"||(h=A.pathname)!=null&&h.startsWith(u)||Ci(!1),d=A}else d=c;let p=d.pathname||"/",m=u==="/"?p:p.slice(u.length)||"/",v=gm(n,{pathname:m}),y=REe(v&&v.map(A=>Object.assign({},A,{params:Object.assign({},l,A.params),pathname:ch([u,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?u:ch([u,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,r);return e&&y?M.createElement(kC.Provider,{value:{location:N3({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:To.Pop}},y):y}function SEe(){let n=BEe(),e=dG(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),r=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),r?M.createElement("pre",{style:o},r):null,s)}const _Ee=M.createElement(SEe,null);class MEe extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error?M.createElement(FC.Provider,{value:this.props.routeContext},M.createElement(xG.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function TEe(n){let{routeContext:e,match:r,children:i}=n,o=M.useContext(AG);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),M.createElement(FC.Provider,{value:e},i)}function REe(n,e,r){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n==null){var o;if((o=r)!=null&&o.errors)n=r.matches;else return null}let s=n,l=(i=r)==null?void 0:i.errors;if(l!=null){let u=s.findIndex(c=>c.route.id&&(l==null?void 0:l[c.route.id]));u>=0||Ci(!1),s=s.slice(0,Math.min(s.length,u+1))}return s.reduceRight((u,c,d)=>{let h=c.route.id?l==null?void 0:l[c.route.id]:null,p=null;r&&(p=c.route.errorElement||_Ee);let m=e.concat(s.slice(0,d+1)),v=()=>{let y;return h?y=p:c.route.Component?y=M.createElement(c.route.Component,null):c.route.element?y=c.route.element:y=u,M.createElement(TEe,{match:c,routeContext:{outlet:u,matches:m,isDataRoute:r!=null},children:y})};return r&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?M.createElement(MEe,{location:r.location,revalidation:r.revalidation,component:p,error:h,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()},null)}var k3=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(k3||{});function IEe(n){let e=M.useContext(yG);return e||Ci(!1),e}function LEe(n){let e=M.useContext(FC);return e||Ci(!1),e}function PEe(n){let e=LEe(),r=e.matches[e.matches.length-1];return r.route.id||Ci(!1),r.route.id}function BEe(){var n;let e=M.useContext(xG),r=IEe(k3.UseRouteError),i=PEe(k3.UseRouteError);return e||((n=r.errors)==null?void 0:n[i])}function OEe(n){let{basename:e="/",children:r=null,location:i,navigationType:o=To.Pop,navigator:s,static:l=!1}=n;WL()&&Ci(!1);let u=e.replace(/^\/*/,"/"),c=M.useMemo(()=>({basename:u,navigator:s,static:l}),[u,s,l]);typeof i=="string"&&(i=Uu(i));let{pathname:d="/",search:h="",hash:p="",state:m=null,key:v="default"}=i,y=M.useMemo(()=>{let A=ZA(d,u);return A==null?null:{location:{pathname:A,search:h,hash:p,state:m,key:v},navigationType:o}},[u,d,h,p,m,v,o]);return y==null?null:M.createElement(bG.Provider,{value:c},M.createElement(kC.Provider,{children:r,value:y}))}new Promise(()=>{});function DEe(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:M.createElement(n.Component),Component:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:M.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lE(){return lE=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},lE.apply(this,arguments)}function NEe(n,e){return uEe({basename:e==null?void 0:e.basename,future:lE({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:Lxe({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||kEe(),routes:n,mapRouteProperties:DEe,window:e==null?void 0:e.window}).initialize()}function kEe(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=lE({},e,{errors:FEe(e.errors)})),e}function FEe(n){if(!n)return null;let e=Object.entries(n),r={};for(let[i,o]of e)if(o&&o.__type==="RouteErrorResponse")r[i]=new jL(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let s=window[o.__subType];if(typeof s=="function")try{let l=new s(o.message);l.stack="",r[i]=l}catch{}}if(r[i]==null){let s=new Error(o.message);s.stack="",r[i]=s}}else r[i]=o;return r}const UEe=M.createContext({isTransitioning:!1}),zEe=M.createContext(new Map),HEe="startTransition",AF=BA[HEe];function $Ee(n){AF?AF(n):n()}class GEe{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",r(i))}})}}function jEe(n){let{fallbackElement:e,router:r,future:i}=n,[o,s]=M.useState(r.state),[l,u]=M.useState(),[c,d]=M.useState({isTransitioning:!1}),[h,p]=M.useState(),[m,v]=M.useState(),[y,A]=M.useState(),b=M.useRef(new Map),{v7_startTransition:g}=i||{},w=M.useCallback(R=>{g?$Ee(R):R()},[g]),E=M.useCallback((R,P)=>{let{deletedFetchers:T,unstable_viewTransitionOpts:D}=P;T.forEach($=>b.current.delete($)),R.fetchers.forEach(($,V)=>{$.data!==void 0&&b.current.set(V,$.data)}),!D||r.window==null||typeof r.window.document.startViewTransition!="function"?w(()=>s(R)):m&&h?(h.resolve(),m.skipTransition(),A({state:R,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(u(R),d({isTransitioning:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[r.window,m,h,b,w]);M.useLayoutEffect(()=>r.subscribe(E),[r,E]),M.useEffect(()=>{c.isTransitioning&&p(new GEe)},[c.isTransitioning]),M.useEffect(()=>{if(h&&l&&r.window){let R=l,P=h.promise,T=r.window.document.startViewTransition(async()=>{w(()=>s(R)),await P});T.finished.finally(()=>{p(void 0),v(void 0),u(void 0),d({isTransitioning:!1})}),v(T)}},[w,l,h,r.window]),M.useEffect(()=>{h&&l&&o.location.key===l.location.key&&h.resolve()},[h,m,o.location,l]),M.useEffect(()=>{!c.isTransitioning&&y&&(u(y.state),d({isTransitioning:!0,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),A(void 0))},[c.isTransitioning,y]);let C=M.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:R=>r.navigate(R),push:(R,P,T)=>r.navigate(R,{state:P,preventScrollReset:T==null?void 0:T.preventScrollReset}),replace:(R,P,T)=>r.navigate(R,{replace:!0,state:P,preventScrollReset:T==null?void 0:T.preventScrollReset})}),[r]),_=r.basename||"/",L=M.useMemo(()=>({router:r,navigator:C,static:!1,basename:_}),[r,C,_]);return M.createElement(M.Fragment,null,M.createElement(AG.Provider,{value:L},M.createElement(yG.Provider,{value:o},M.createElement(zEe.Provider,{value:b.current},M.createElement(UEe.Provider,{value:c},M.createElement(OEe,{basename:_,location:o.location,navigationType:o.historyAction,navigator:C},o.initialized?M.createElement(VEe,{routes:r.routes,state:o}):e))))),null)}function VEe(n){let{routes:e,state:r}=n;return wEe(e,void 0,r)}var yF;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(yF||(yF={}));var bF;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(bF||(bF={}));const xF=n=>{let e;const r=new Set,i=(c,d)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const p=e;e=d??typeof h!="object"?h:Object.assign({},e,h),r.forEach(m=>m(e,p))}},o=()=>e,u={setState:i,getState:o,subscribe:c=>(r.add(c),()=>r.delete(c)),destroy:()=>{r.clear()}};return e=n(i,o,u),u},WEe=n=>n?xF(n):xF;var EG={exports:{}},CG={},wG={exports:{}},SG={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ng=M;function QEe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var KEe=typeof Object.is=="function"?Object.is:QEe,XEe=ng.useState,qEe=ng.useEffect,YEe=ng.useLayoutEffect,JEe=ng.useDebugValue;function ZEe(n,e){var r=e(),i=XEe({inst:{value:r,getSnapshot:e}}),o=i[0].inst,s=i[1];return YEe(function(){o.value=r,o.getSnapshot=e,p_(o)&&s({inst:o})},[n,r,e]),qEe(function(){return p_(o)&&s({inst:o}),n(function(){p_(o)&&s({inst:o})})},[n]),JEe(r),r}function p_(n){var e=n.getSnapshot;n=n.value;try{var r=e();return!KEe(n,r)}catch{return!0}}function eCe(n,e){return e()}var tCe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?eCe:ZEe;SG.useSyncExternalStore=ng.useSyncExternalStore!==void 0?ng.useSyncExternalStore:tCe;wG.exports=SG;var nCe=wG.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UC=M,rCe=nCe;function iCe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var oCe=typeof Object.is=="function"?Object.is:iCe,aCe=rCe.useSyncExternalStore,sCe=UC.useRef,lCe=UC.useEffect,cCe=UC.useMemo,uCe=UC.useDebugValue;CG.useSyncExternalStoreWithSelector=function(n,e,r,i,o){var s=sCe(null);if(s.current===null){var l={hasValue:!1,value:null};s.current=l}else l=s.current;s=cCe(function(){function c(v){if(!d){if(d=!0,h=v,v=i(v),o!==void 0&&l.hasValue){var y=l.value;if(o(y,v))return p=y}return p=v}if(y=p,oCe(h,v))return y;var A=i(v);return o!==void 0&&o(y,A)?y:(h=v,p=A)}var d=!1,h,p,m=r===void 0?null:r;return[function(){return c(e())},m===null?void 0:function(){return c(m())}]},[e,r,i,o]);var u=aCe(n,s[0],s[1]);return lCe(function(){l.hasValue=!0,l.value=u},[u]),uCe(u),u};EG.exports=CG;var dCe=EG.exports;const fCe=Nu(dCe),{useDebugValue:hCe}=nn,{useSyncExternalStoreWithSelector:pCe}=fCe;function mCe(n,e=n.getState,r){const i=pCe(n.subscribe,n.getState,n.getServerState||n.getState,e,r);return hCe(i),i}const EF=n=>{const e=typeof n=="function"?WEe(n):n,r=(i,o)=>mCe(e,i,o);return Object.assign(r,e),r},gCe=n=>n?EF(n):EF,vCe=n=>{var l,u;const e=((l=n==null?void 0:n.model)==null?void 0:l.tables)||[],r=[],i=[],o=[];e.forEach(c=>{const d=c.name,h={name:d,entity_type:"TABLE",uuid:`[T]${d}`},m=((c==null?void 0:c.columns)||[]).map(A=>{const b=A;return b.parent_table=h,b.entity_type="COLUMN",b.uuid=`${h.uuid}[C]${A.name}`,b});i.push(...m);const y=((c==null?void 0:c.measures)||[]).map(A=>{const b=A;return b.parent_table=h,b.entity_type="MEASURE",b.uuid=`${h.uuid}[M]${A.name}`,b});o.push(...y),h.columns=m,h.measures=y,r.push(h)});const s=((u=n==null?void 0:n.model)==null?void 0:u.relationships)||[];return{tables:r,columns:i,measures:o,relationships:s}},rg=gCe(n=>({modelObj:{},model_content:{},highlightNodes:[],setModelObj:e=>{const r=vCe(e);n({model_content:r}),n({modelObj:e})},setHighlightNodes:e=>n({highlightNodes:e})})),{Dragger:ACe}=Ixe;function yCe(){const n=rg(r=>r.setModelObj),e={name:"file",accept:".bim",maxCount:1,customRequest(r){},onChange(r){if(r.fileList.length<=0){n(null);return}var i=new FileReader;i.onload=o=>{var s=JSON.parse(o.target.result);r.file.status="done",n(s),yk.success("Model file loaded.")},i.onerror=()=>{r.file.status="error",yk.error("could not load model file")},i.readAsText(r.fileList[0].originFileObj)},onDrop(r){}};return Fr.jsx(IC,{bordered:!1,size:"small",children:Fr.jsxs(ACe,{...e,children:[Fr.jsx("p",{className:"ant-upload-drag-icon",children:Fr.jsx(Bre,{})}),Fr.jsx("p",{className:"ant-upload-text",children:"Click or drag file to this area to load"}),Fr.jsx("p",{className:"ant-upload-hint",children:"Only model.bim files are supported."})]})})}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const QL="158",fc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Sp={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},bCe=0,CF=1,xCe=2,_G=1,ECe=2,au=3,Qd=0,Ka=1,hu=2,bu=0,Dm=1,wF=2,SF=3,_F=4,CCe=5,jf=100,wCe=101,SCe=102,MF=103,TF=104,_Ce=200,MCe=201,TCe=202,RCe=203,F3=204,U3=205,ICe=206,LCe=207,PCe=208,BCe=209,OCe=210,DCe=211,NCe=212,kCe=213,FCe=214,UCe=0,zCe=1,HCe=2,cE=3,$Ce=4,GCe=5,jCe=6,VCe=7,KL=0,WCe=1,QCe=2,Hd=0,KCe=1,XCe=2,qCe=3,YCe=4,JCe=5,MG=300,ig=301,og=302,z3=303,H3=304,zC=306,$3=1e3,kl=1001,G3=1002,ja=1003,RF=1004,m_=1005,Rs=1006,ZCe=1007,CA=1008,$d=1009,ewe=1010,twe=1011,XL=1012,TG=1013,Ld=1014,Pd=1015,ag=1016,RG=1017,IG=1018,uh=1020,nwe=1021,Fl=1023,rwe=1024,iwe=1025,dh=1026,sg=1027,owe=1028,LG=1029,awe=1030,PG=1031,BG=1033,g_=33776,v_=33777,A_=33778,y_=33779,IF=35840,LF=35841,PF=35842,BF=35843,swe=36196,OF=37492,DF=37496,NF=37808,kF=37809,FF=37810,UF=37811,zF=37812,HF=37813,$F=37814,GF=37815,jF=37816,VF=37817,WF=37818,QF=37819,KF=37820,XF=37821,b_=36492,qF=36494,YF=36495,lwe=36283,JF=36284,ZF=36285,e5=36286,OG=3e3,fh=3001,cwe=3200,uwe=3201,DG=0,dwe=1,rl="",Go="srgb",Bu="srgb-linear",qL="display-p3",HC="display-p3-linear",uE="linear",eo="srgb",dE="rec709",fE="p3",_p=7680,t5=519,fwe=512,hwe=513,pwe=514,mwe=515,gwe=516,vwe=517,Awe=518,ywe=519,j3=35044,n5="300 es",V3=1035,gu=2e3,hE=2001;class Zl{addEventListener(e,r){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(r)===-1&&i[e].push(r)}hasEventListener(e,r){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(r)!==-1}removeEventListener(e,r){if(this._listeners===void 0)return;const o=this._listeners[e];if(o!==void 0){const s=o.indexOf(r);s!==-1&&o.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const o=i.slice(0);for(let s=0,l=o.length;s<l;s++)o[s].call(this,e);e.target=null}}}const Ma=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let r5=1234567;const U0=Math.PI/180,wA=180/Math.PI;function xu(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,r=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Ma[n&255]+Ma[n>>8&255]+Ma[n>>16&255]+Ma[n>>24&255]+"-"+Ma[e&255]+Ma[e>>8&255]+"-"+Ma[e>>16&15|64]+Ma[e>>24&255]+"-"+Ma[r&63|128]+Ma[r>>8&255]+"-"+Ma[r>>16&255]+Ma[r>>24&255]+Ma[i&255]+Ma[i>>8&255]+Ma[i>>16&255]+Ma[i>>24&255]).toLowerCase()}function ia(n,e,r){return Math.max(e,Math.min(r,n))}function YL(n,e){return(n%e+e)%e}function bwe(n,e,r,i,o){return i+(n-e)*(o-i)/(r-e)}function xwe(n,e,r){return n!==e?(r-n)/(e-n):0}function z0(n,e,r){return(1-r)*n+r*e}function Ewe(n,e,r,i){return z0(n,e,1-Math.exp(-r*i))}function Cwe(n,e=1){return e-Math.abs(YL(n,e*2)-e)}function wwe(n,e,r){return n<=e?0:n>=r?1:(n=(n-e)/(r-e),n*n*(3-2*n))}function Swe(n,e,r){return n<=e?0:n>=r?1:(n=(n-e)/(r-e),n*n*n*(n*(n*6-15)+10))}function _we(n,e){return n+Math.floor(Math.random()*(e-n+1))}function Mwe(n,e){return n+Math.random()*(e-n)}function Twe(n){return n*(.5-Math.random())}function Rwe(n){n!==void 0&&(r5=n);let e=r5+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Iwe(n){return n*U0}function Lwe(n){return n*wA}function W3(n){return(n&n-1)===0&&n!==0}function Pwe(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function pE(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function Bwe(n,e,r,i,o){const s=Math.cos,l=Math.sin,u=s(r/2),c=l(r/2),d=s((e+i)/2),h=l((e+i)/2),p=s((e-i)/2),m=l((e-i)/2),v=s((i-e)/2),y=l((i-e)/2);switch(o){case"XYX":n.set(u*h,c*p,c*m,u*d);break;case"YZY":n.set(c*m,u*h,c*p,u*d);break;case"ZXZ":n.set(c*p,c*m,u*h,u*d);break;case"XZX":n.set(u*h,c*y,c*v,u*d);break;case"YXY":n.set(c*v,u*h,c*y,u*d);break;case"ZYZ":n.set(c*y,c*v,u*h,u*d);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+o)}}function mc(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function $i(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const Q3={DEG2RAD:U0,RAD2DEG:wA,generateUUID:xu,clamp:ia,euclideanModulo:YL,mapLinear:bwe,inverseLerp:xwe,lerp:z0,damp:Ewe,pingpong:Cwe,smoothstep:wwe,smootherstep:Swe,randInt:_we,randFloat:Mwe,randFloatSpread:Twe,seededRandom:Rwe,degToRad:Iwe,radToDeg:Lwe,isPowerOfTwo:W3,ceilPowerOfTwo:Pwe,floorPowerOfTwo:pE,setQuaternionFromProperEuler:Bwe,normalize:$i,denormalize:mc};class tr{constructor(e=0,r=0){tr.prototype.isVector2=!0,this.x=e,this.y=r}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,r){return this.x=e,this.y=r,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this}addScaledVector(e,r){return this.x+=e.x*r,this.y+=e.y*r,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const r=this.x,i=this.y,o=e.elements;return this.x=o[0]*r+o[3]*i+o[6],this.y=o[1]*r+o[4]*i+o[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,r){return this.x=Math.max(e.x,Math.min(r.x,this.x)),this.y=Math.max(e.y,Math.min(r.y,this.y)),this}clampScalar(e,r){return this.x=Math.max(e,Math.min(r,this.x)),this.y=Math.max(e,Math.min(r,this.y)),this}clampLength(e,r){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(r,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const r=Math.sqrt(this.lengthSq()*e.lengthSq());if(r===0)return Math.PI/2;const i=this.dot(e)/r;return Math.acos(ia(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const r=this.x-e.x,i=this.y-e.y;return r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this}lerpVectors(e,r,i){return this.x=e.x+(r.x-e.x)*i,this.y=e.y+(r.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,r=0){return this.x=e[r],this.y=e[r+1],this}toArray(e=[],r=0){return e[r]=this.x,e[r+1]=this.y,e}fromBufferAttribute(e,r){return this.x=e.getX(r),this.y=e.getY(r),this}rotateAround(e,r){const i=Math.cos(r),o=Math.sin(r),s=this.x-e.x,l=this.y-e.y;return this.x=s*i-l*o+e.x,this.y=s*o+l*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class fi{constructor(e,r,i,o,s,l,u,c,d){fi.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,r,i,o,s,l,u,c,d)}set(e,r,i,o,s,l,u,c,d){const h=this.elements;return h[0]=e,h[1]=o,h[2]=u,h[3]=r,h[4]=s,h[5]=c,h[6]=i,h[7]=l,h[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const r=this.elements,i=e.elements;return r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],r[4]=i[4],r[5]=i[5],r[6]=i[6],r[7]=i[7],r[8]=i[8],this}extractBasis(e,r,i){return e.setFromMatrix3Column(this,0),r.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const r=e.elements;return this.set(r[0],r[4],r[8],r[1],r[5],r[9],r[2],r[6],r[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,r){const i=e.elements,o=r.elements,s=this.elements,l=i[0],u=i[3],c=i[6],d=i[1],h=i[4],p=i[7],m=i[2],v=i[5],y=i[8],A=o[0],b=o[3],g=o[6],w=o[1],E=o[4],C=o[7],_=o[2],L=o[5],R=o[8];return s[0]=l*A+u*w+c*_,s[3]=l*b+u*E+c*L,s[6]=l*g+u*C+c*R,s[1]=d*A+h*w+p*_,s[4]=d*b+h*E+p*L,s[7]=d*g+h*C+p*R,s[2]=m*A+v*w+y*_,s[5]=m*b+v*E+y*L,s[8]=m*g+v*C+y*R,this}multiplyScalar(e){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=e,r[4]*=e,r[7]*=e,r[2]*=e,r[5]*=e,r[8]*=e,this}determinant(){const e=this.elements,r=e[0],i=e[1],o=e[2],s=e[3],l=e[4],u=e[5],c=e[6],d=e[7],h=e[8];return r*l*h-r*u*d-i*s*h+i*u*c+o*s*d-o*l*c}invert(){const e=this.elements,r=e[0],i=e[1],o=e[2],s=e[3],l=e[4],u=e[5],c=e[6],d=e[7],h=e[8],p=h*l-u*d,m=u*c-h*s,v=d*s-l*c,y=r*p+i*m+o*v;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const A=1/y;return e[0]=p*A,e[1]=(o*d-h*i)*A,e[2]=(u*i-o*l)*A,e[3]=m*A,e[4]=(h*r-o*c)*A,e[5]=(o*s-u*r)*A,e[6]=v*A,e[7]=(i*c-d*r)*A,e[8]=(l*r-i*s)*A,this}transpose(){let e;const r=this.elements;return e=r[1],r[1]=r[3],r[3]=e,e=r[2],r[2]=r[6],r[6]=e,e=r[5],r[5]=r[7],r[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const r=this.elements;return e[0]=r[0],e[1]=r[3],e[2]=r[6],e[3]=r[1],e[4]=r[4],e[5]=r[7],e[6]=r[2],e[7]=r[5],e[8]=r[8],this}setUvTransform(e,r,i,o,s,l,u){const c=Math.cos(s),d=Math.sin(s);return this.set(i*c,i*d,-i*(c*l+d*u)+l+e,-o*d,o*c,-o*(-d*l+c*u)+u+r,0,0,1),this}scale(e,r){return this.premultiply(x_.makeScale(e,r)),this}rotate(e){return this.premultiply(x_.makeRotation(-e)),this}translate(e,r){return this.premultiply(x_.makeTranslation(e,r)),this}makeTranslation(e,r){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,r,0,0,1),this}makeRotation(e){const r=Math.cos(e),i=Math.sin(e);return this.set(r,-i,0,i,r,0,0,0,1),this}makeScale(e,r){return this.set(e,0,0,0,r,0,0,0,1),this}equals(e){const r=this.elements,i=e.elements;for(let o=0;o<9;o++)if(r[o]!==i[o])return!1;return!0}fromArray(e,r=0){for(let i=0;i<9;i++)this.elements[i]=e[i+r];return this}toArray(e=[],r=0){const i=this.elements;return e[r]=i[0],e[r+1]=i[1],e[r+2]=i[2],e[r+3]=i[3],e[r+4]=i[4],e[r+5]=i[5],e[r+6]=i[6],e[r+7]=i[7],e[r+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const x_=new fi;function NG(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function SA(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Owe(){const n=SA("canvas");return n.style.display="block",n}const i5={};function H0(n){n in i5||(i5[n]=!0,console.warn(n))}const o5=new fi().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),a5=new fi().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Qb={[Bu]:{transfer:uE,primaries:dE,toReference:n=>n,fromReference:n=>n},[Go]:{transfer:eo,primaries:dE,toReference:n=>n.convertSRGBToLinear(),fromReference:n=>n.convertLinearToSRGB()},[HC]:{transfer:uE,primaries:fE,toReference:n=>n.applyMatrix3(a5),fromReference:n=>n.applyMatrix3(o5)},[qL]:{transfer:eo,primaries:fE,toReference:n=>n.convertSRGBToLinear().applyMatrix3(a5),fromReference:n=>n.applyMatrix3(o5).convertLinearToSRGB()}},Dwe=new Set([Bu,HC]),Gi={enabled:!0,_workingColorSpace:Bu,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(n){if(!Dwe.has(n))throw new Error(`Unsupported working color space, "${n}".`);this._workingColorSpace=n},convert:function(n,e,r){if(this.enabled===!1||e===r||!e||!r)return n;const i=Qb[e].toReference,o=Qb[r].fromReference;return o(i(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this._workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this._workingColorSpace)},getPrimaries:function(n){return Qb[n].primaries},getTransfer:function(n){return n===rl?uE:Qb[n].transfer}};function Nm(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function E_(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Mp;class kG{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{Mp===void 0&&(Mp=SA("canvas")),Mp.width=e.width,Mp.height=e.height;const i=Mp.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=Mp}return r.width>2048||r.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),r.toDataURL("image/jpeg",.6)):r.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const r=SA("canvas");r.width=e.width,r.height=e.height;const i=r.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const o=i.getImageData(0,0,e.width,e.height),s=o.data;for(let l=0;l<s.length;l++)s[l]=Nm(s[l]/255)*255;return i.putImageData(o,0,0),r}else if(e.data){const r=e.data.slice(0);for(let i=0;i<r.length;i++)r instanceof Uint8Array||r instanceof Uint8ClampedArray?r[i]=Math.floor(Nm(r[i]/255)*255):r[i]=Nm(r[i]);return{data:r,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Nwe=0;class FG{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Nwe++}),this.uuid=xu(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const r=e===void 0||typeof e=="string";if(!r&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},o=this.data;if(o!==null){let s;if(Array.isArray(o)){s=[];for(let l=0,u=o.length;l<u;l++)o[l].isDataTexture?s.push(C_(o[l].image)):s.push(C_(o[l]))}else s=C_(o);i.url=s}return r||(e.images[this.uuid]=i),i}}function C_(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?kG.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let kwe=0;class Xa extends Zl{constructor(e=Xa.DEFAULT_IMAGE,r=Xa.DEFAULT_MAPPING,i=kl,o=kl,s=Rs,l=CA,u=Fl,c=$d,d=Xa.DEFAULT_ANISOTROPY,h=rl){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:kwe++}),this.uuid=xu(),this.name="",this.source=new FG(e),this.mipmaps=[],this.mapping=r,this.channel=0,this.wrapS=i,this.wrapT=o,this.magFilter=s,this.minFilter=l,this.anisotropy=d,this.format=u,this.internalFormat=null,this.type=c,this.offset=new tr(0,0),this.repeat=new tr(1,1),this.center=new tr(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new fi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof h=="string"?this.colorSpace=h:(H0("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=h===fh?Go:rl),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const r=e===void 0||typeof e=="string";if(!r&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),r||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==MG)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case $3:e.x=e.x-Math.floor(e.x);break;case kl:e.x=e.x<0?0:1;break;case G3:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case $3:e.y=e.y-Math.floor(e.y);break;case kl:e.y=e.y<0?0:1;break;case G3:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return H0("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Go?fh:OG}set encoding(e){H0("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===fh?Go:rl}}Xa.DEFAULT_IMAGE=null;Xa.DEFAULT_MAPPING=MG;Xa.DEFAULT_ANISOTROPY=1;class oa{constructor(e=0,r=0,i=0,o=1){oa.prototype.isVector4=!0,this.x=e,this.y=r,this.z=i,this.w=o}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,r,i,o){return this.x=e,this.y=r,this.z=i,this.w=o,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;case 3:this.w=r;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this.z=e.z+r.z,this.w=e.w+r.w,this}addScaledVector(e,r){return this.x+=e.x*r,this.y+=e.y*r,this.z+=e.z*r,this.w+=e.w*r,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this.z=e.z-r.z,this.w=e.w-r.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const r=this.x,i=this.y,o=this.z,s=this.w,l=e.elements;return this.x=l[0]*r+l[4]*i+l[8]*o+l[12]*s,this.y=l[1]*r+l[5]*i+l[9]*o+l[13]*s,this.z=l[2]*r+l[6]*i+l[10]*o+l[14]*s,this.w=l[3]*r+l[7]*i+l[11]*o+l[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const r=Math.sqrt(1-e.w*e.w);return r<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/r,this.y=e.y/r,this.z=e.z/r),this}setAxisAngleFromRotationMatrix(e){let r,i,o,s;const c=e.elements,d=c[0],h=c[4],p=c[8],m=c[1],v=c[5],y=c[9],A=c[2],b=c[6],g=c[10];if(Math.abs(h-m)<.01&&Math.abs(p-A)<.01&&Math.abs(y-b)<.01){if(Math.abs(h+m)<.1&&Math.abs(p+A)<.1&&Math.abs(y+b)<.1&&Math.abs(d+v+g-3)<.1)return this.set(1,0,0,0),this;r=Math.PI;const E=(d+1)/2,C=(v+1)/2,_=(g+1)/2,L=(h+m)/4,R=(p+A)/4,P=(y+b)/4;return E>C&&E>_?E<.01?(i=0,o=.707106781,s=.707106781):(i=Math.sqrt(E),o=L/i,s=R/i):C>_?C<.01?(i=.707106781,o=0,s=.707106781):(o=Math.sqrt(C),i=L/o,s=P/o):_<.01?(i=.707106781,o=.707106781,s=0):(s=Math.sqrt(_),i=R/s,o=P/s),this.set(i,o,s,r),this}let w=Math.sqrt((b-y)*(b-y)+(p-A)*(p-A)+(m-h)*(m-h));return Math.abs(w)<.001&&(w=1),this.x=(b-y)/w,this.y=(p-A)/w,this.z=(m-h)/w,this.w=Math.acos((d+v+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,r){return this.x=Math.max(e.x,Math.min(r.x,this.x)),this.y=Math.max(e.y,Math.min(r.y,this.y)),this.z=Math.max(e.z,Math.min(r.z,this.z)),this.w=Math.max(e.w,Math.min(r.w,this.w)),this}clampScalar(e,r){return this.x=Math.max(e,Math.min(r,this.x)),this.y=Math.max(e,Math.min(r,this.y)),this.z=Math.max(e,Math.min(r,this.z)),this.w=Math.max(e,Math.min(r,this.w)),this}clampLength(e,r){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(r,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this.z+=(e.z-this.z)*r,this.w+=(e.w-this.w)*r,this}lerpVectors(e,r,i){return this.x=e.x+(r.x-e.x)*i,this.y=e.y+(r.y-e.y)*i,this.z=e.z+(r.z-e.z)*i,this.w=e.w+(r.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,r=0){return this.x=e[r],this.y=e[r+1],this.z=e[r+2],this.w=e[r+3],this}toArray(e=[],r=0){return e[r]=this.x,e[r+1]=this.y,e[r+2]=this.z,e[r+3]=this.w,e}fromBufferAttribute(e,r){return this.x=e.getX(r),this.y=e.getY(r),this.z=e.getZ(r),this.w=e.getW(r),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Fwe extends Zl{constructor(e=1,r=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=r,this.depth=1,this.scissor=new oa(0,0,e,r),this.scissorTest=!1,this.viewport=new oa(0,0,e,r);const o={width:e,height:r,depth:1};i.encoding!==void 0&&(H0("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===fh?Go:rl),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Rs,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},i),this.texture=new Xa(o,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps,this.texture.internalFormat=i.internalFormat,this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}setSize(e,r,i=1){(this.width!==e||this.height!==r||this.depth!==i)&&(this.width=e,this.height=r,this.depth=i,this.texture.image.width=e,this.texture.image.height=r,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,r),this.scissor.set(0,0,e,r)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const r=Object.assign({},e.texture.image);return this.texture.source=new FG(r),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Kd extends Fwe{constructor(e=1,r=1,i={}){super(e,r,i),this.isWebGLRenderTarget=!0}}class UG extends Xa{constructor(e=null,r=1,i=1,o=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:r,height:i,depth:o},this.magFilter=ja,this.minFilter=ja,this.wrapR=kl,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Uwe extends Xa{constructor(e=null,r=1,i=1,o=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:r,height:i,depth:o},this.magFilter=ja,this.minFilter=ja,this.wrapR=kl,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Xl{constructor(e=0,r=0,i=0,o=1){this.isQuaternion=!0,this._x=e,this._y=r,this._z=i,this._w=o}static slerpFlat(e,r,i,o,s,l,u){let c=i[o+0],d=i[o+1],h=i[o+2],p=i[o+3];const m=s[l+0],v=s[l+1],y=s[l+2],A=s[l+3];if(u===0){e[r+0]=c,e[r+1]=d,e[r+2]=h,e[r+3]=p;return}if(u===1){e[r+0]=m,e[r+1]=v,e[r+2]=y,e[r+3]=A;return}if(p!==A||c!==m||d!==v||h!==y){let b=1-u;const g=c*m+d*v+h*y+p*A,w=g>=0?1:-1,E=1-g*g;if(E>Number.EPSILON){const _=Math.sqrt(E),L=Math.atan2(_,g*w);b=Math.sin(b*L)/_,u=Math.sin(u*L)/_}const C=u*w;if(c=c*b+m*C,d=d*b+v*C,h=h*b+y*C,p=p*b+A*C,b===1-u){const _=1/Math.sqrt(c*c+d*d+h*h+p*p);c*=_,d*=_,h*=_,p*=_}}e[r]=c,e[r+1]=d,e[r+2]=h,e[r+3]=p}static multiplyQuaternionsFlat(e,r,i,o,s,l){const u=i[o],c=i[o+1],d=i[o+2],h=i[o+3],p=s[l],m=s[l+1],v=s[l+2],y=s[l+3];return e[r]=u*y+h*p+c*v-d*m,e[r+1]=c*y+h*m+d*p-u*v,e[r+2]=d*y+h*v+u*m-c*p,e[r+3]=h*y-u*p-c*m-d*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,r,i,o){return this._x=e,this._y=r,this._z=i,this._w=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,r){const i=e._x,o=e._y,s=e._z,l=e._order,u=Math.cos,c=Math.sin,d=u(i/2),h=u(o/2),p=u(s/2),m=c(i/2),v=c(o/2),y=c(s/2);switch(l){case"XYZ":this._x=m*h*p+d*v*y,this._y=d*v*p-m*h*y,this._z=d*h*y+m*v*p,this._w=d*h*p-m*v*y;break;case"YXZ":this._x=m*h*p+d*v*y,this._y=d*v*p-m*h*y,this._z=d*h*y-m*v*p,this._w=d*h*p+m*v*y;break;case"ZXY":this._x=m*h*p-d*v*y,this._y=d*v*p+m*h*y,this._z=d*h*y+m*v*p,this._w=d*h*p-m*v*y;break;case"ZYX":this._x=m*h*p-d*v*y,this._y=d*v*p+m*h*y,this._z=d*h*y-m*v*p,this._w=d*h*p+m*v*y;break;case"YZX":this._x=m*h*p+d*v*y,this._y=d*v*p+m*h*y,this._z=d*h*y-m*v*p,this._w=d*h*p-m*v*y;break;case"XZY":this._x=m*h*p-d*v*y,this._y=d*v*p-m*h*y,this._z=d*h*y+m*v*p,this._w=d*h*p+m*v*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return r!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,r){const i=r/2,o=Math.sin(i);return this._x=e.x*o,this._y=e.y*o,this._z=e.z*o,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const r=e.elements,i=r[0],o=r[4],s=r[8],l=r[1],u=r[5],c=r[9],d=r[2],h=r[6],p=r[10],m=i+u+p;if(m>0){const v=.5/Math.sqrt(m+1);this._w=.25/v,this._x=(h-c)*v,this._y=(s-d)*v,this._z=(l-o)*v}else if(i>u&&i>p){const v=2*Math.sqrt(1+i-u-p);this._w=(h-c)/v,this._x=.25*v,this._y=(o+l)/v,this._z=(s+d)/v}else if(u>p){const v=2*Math.sqrt(1+u-i-p);this._w=(s-d)/v,this._x=(o+l)/v,this._y=.25*v,this._z=(c+h)/v}else{const v=2*Math.sqrt(1+p-i-u);this._w=(l-o)/v,this._x=(s+d)/v,this._y=(c+h)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,r){let i=e.dot(r)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*r.z-e.z*r.y,this._y=e.z*r.x-e.x*r.z,this._z=e.x*r.y-e.y*r.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(ia(this.dot(e),-1,1)))}rotateTowards(e,r){const i=this.angleTo(e);if(i===0)return this;const o=Math.min(1,r/i);return this.slerp(e,o),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,r){const i=e._x,o=e._y,s=e._z,l=e._w,u=r._x,c=r._y,d=r._z,h=r._w;return this._x=i*h+l*u+o*d-s*c,this._y=o*h+l*c+s*u-i*d,this._z=s*h+l*d+i*c-o*u,this._w=l*h-i*u-o*c-s*d,this._onChangeCallback(),this}slerp(e,r){if(r===0)return this;if(r===1)return this.copy(e);const i=this._x,o=this._y,s=this._z,l=this._w;let u=l*e._w+i*e._x+o*e._y+s*e._z;if(u<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,u=-u):this.copy(e),u>=1)return this._w=l,this._x=i,this._y=o,this._z=s,this;const c=1-u*u;if(c<=Number.EPSILON){const v=1-r;return this._w=v*l+r*this._w,this._x=v*i+r*this._x,this._y=v*o+r*this._y,this._z=v*s+r*this._z,this.normalize(),this._onChangeCallback(),this}const d=Math.sqrt(c),h=Math.atan2(d,u),p=Math.sin((1-r)*h)/d,m=Math.sin(r*h)/d;return this._w=l*p+this._w*m,this._x=i*p+this._x*m,this._y=o*p+this._y*m,this._z=s*p+this._z*m,this._onChangeCallback(),this}slerpQuaternions(e,r,i){return this.copy(e).slerp(r,i)}random(){const e=Math.random(),r=Math.sqrt(1-e),i=Math.sqrt(e),o=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(r*Math.cos(o),i*Math.sin(s),i*Math.cos(s),r*Math.sin(o))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,r=0){return this._x=e[r],this._y=e[r+1],this._z=e[r+2],this._w=e[r+3],this._onChangeCallback(),this}toArray(e=[],r=0){return e[r]=this._x,e[r+1]=this._y,e[r+2]=this._z,e[r+3]=this._w,e}fromBufferAttribute(e,r){return this._x=e.getX(r),this._y=e.getY(r),this._z=e.getZ(r),this._w=e.getW(r),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Rt{constructor(e=0,r=0,i=0){Rt.prototype.isVector3=!0,this.x=e,this.y=r,this.z=i}set(e,r,i){return i===void 0&&(i=this.z),this.x=e,this.y=r,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this.z=e.z+r.z,this}addScaledVector(e,r){return this.x+=e.x*r,this.y+=e.y*r,this.z+=e.z*r,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this.z=e.z-r.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,r){return this.x=e.x*r.x,this.y=e.y*r.y,this.z=e.z*r.z,this}applyEuler(e){return this.applyQuaternion(s5.setFromEuler(e))}applyAxisAngle(e,r){return this.applyQuaternion(s5.setFromAxisAngle(e,r))}applyMatrix3(e){const r=this.x,i=this.y,o=this.z,s=e.elements;return this.x=s[0]*r+s[3]*i+s[6]*o,this.y=s[1]*r+s[4]*i+s[7]*o,this.z=s[2]*r+s[5]*i+s[8]*o,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const r=this.x,i=this.y,o=this.z,s=e.elements,l=1/(s[3]*r+s[7]*i+s[11]*o+s[15]);return this.x=(s[0]*r+s[4]*i+s[8]*o+s[12])*l,this.y=(s[1]*r+s[5]*i+s[9]*o+s[13])*l,this.z=(s[2]*r+s[6]*i+s[10]*o+s[14])*l,this}applyQuaternion(e){const r=this.x,i=this.y,o=this.z,s=e.x,l=e.y,u=e.z,c=e.w,d=2*(l*o-u*i),h=2*(u*r-s*o),p=2*(s*i-l*r);return this.x=r+c*d+l*p-u*h,this.y=i+c*h+u*d-s*p,this.z=o+c*p+s*h-l*d,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const r=this.x,i=this.y,o=this.z,s=e.elements;return this.x=s[0]*r+s[4]*i+s[8]*o,this.y=s[1]*r+s[5]*i+s[9]*o,this.z=s[2]*r+s[6]*i+s[10]*o,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,r){return this.x=Math.max(e.x,Math.min(r.x,this.x)),this.y=Math.max(e.y,Math.min(r.y,this.y)),this.z=Math.max(e.z,Math.min(r.z,this.z)),this}clampScalar(e,r){return this.x=Math.max(e,Math.min(r,this.x)),this.y=Math.max(e,Math.min(r,this.y)),this.z=Math.max(e,Math.min(r,this.z)),this}clampLength(e,r){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(r,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this.z+=(e.z-this.z)*r,this}lerpVectors(e,r,i){return this.x=e.x+(r.x-e.x)*i,this.y=e.y+(r.y-e.y)*i,this.z=e.z+(r.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,r){const i=e.x,o=e.y,s=e.z,l=r.x,u=r.y,c=r.z;return this.x=o*c-s*u,this.y=s*l-i*c,this.z=i*u-o*l,this}projectOnVector(e){const r=e.lengthSq();if(r===0)return this.set(0,0,0);const i=e.dot(this)/r;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return w_.copy(this).projectOnVector(e),this.sub(w_)}reflect(e){return this.sub(w_.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const r=Math.sqrt(this.lengthSq()*e.lengthSq());if(r===0)return Math.PI/2;const i=this.dot(e)/r;return Math.acos(ia(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const r=this.x-e.x,i=this.y-e.y,o=this.z-e.z;return r*r+i*i+o*o}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,r,i){const o=Math.sin(r)*e;return this.x=o*Math.sin(i),this.y=Math.cos(r)*e,this.z=o*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,r,i){return this.x=e*Math.sin(r),this.y=i,this.z=e*Math.cos(r),this}setFromMatrixPosition(e){const r=e.elements;return this.x=r[12],this.y=r[13],this.z=r[14],this}setFromMatrixScale(e){const r=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),o=this.setFromMatrixColumn(e,2).length();return this.x=r,this.y=i,this.z=o,this}setFromMatrixColumn(e,r){return this.fromArray(e.elements,r*4)}setFromMatrix3Column(e,r){return this.fromArray(e.elements,r*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,r=0){return this.x=e[r],this.y=e[r+1],this.z=e[r+2],this}toArray(e=[],r=0){return e[r]=this.x,e[r+1]=this.y,e[r+2]=this.z,e}fromBufferAttribute(e,r){return this.x=e.getX(r),this.y=e.getY(r),this.z=e.getZ(r),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,r=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(r),this.y=i*Math.sin(r),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const w_=new Rt,s5=new Xl;class Lh{constructor(e=new Rt(1/0,1/0,1/0),r=new Rt(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=r}set(e,r){return this.min.copy(e),this.max.copy(r),this}setFromArray(e){this.makeEmpty();for(let r=0,i=e.length;r<i;r+=3)this.expandByPoint(wl.fromArray(e,r));return this}setFromBufferAttribute(e){this.makeEmpty();for(let r=0,i=e.count;r<i;r++)this.expandByPoint(wl.fromBufferAttribute(e,r));return this}setFromPoints(e){this.makeEmpty();for(let r=0,i=e.length;r<i;r++)this.expandByPoint(e[r]);return this}setFromCenterAndSize(e,r){const i=wl.copy(r).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,r=!1){return this.makeEmpty(),this.expandByObject(e,r)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,r=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(r===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let l=0,u=s.count;l<u;l++)e.isMesh===!0?e.getVertexPosition(l,wl):wl.fromBufferAttribute(s,l),wl.applyMatrix4(e.matrixWorld),this.expandByPoint(wl);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Kb.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),Kb.copy(i.boundingBox)),Kb.applyMatrix4(e.matrixWorld),this.union(Kb)}const o=e.children;for(let s=0,l=o.length;s<l;s++)this.expandByObject(o[s],r);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,r){return r.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,wl),wl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let r,i;return e.normal.x>0?(r=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(r=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(r+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(r+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(r+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(r+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),r<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Nv),Xb.subVectors(this.max,Nv),Tp.subVectors(e.a,Nv),Rp.subVectors(e.b,Nv),Ip.subVectors(e.c,Nv),ad.subVectors(Rp,Tp),sd.subVectors(Ip,Rp),If.subVectors(Tp,Ip);let r=[0,-ad.z,ad.y,0,-sd.z,sd.y,0,-If.z,If.y,ad.z,0,-ad.x,sd.z,0,-sd.x,If.z,0,-If.x,-ad.y,ad.x,0,-sd.y,sd.x,0,-If.y,If.x,0];return!S_(r,Tp,Rp,Ip,Xb)||(r=[1,0,0,0,1,0,0,0,1],!S_(r,Tp,Rp,Ip,Xb))?!1:(qb.crossVectors(ad,sd),r=[qb.x,qb.y,qb.z],S_(r,Tp,Rp,Ip,Xb))}clampPoint(e,r){return r.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,wl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(wl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Kc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Kc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Kc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Kc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Kc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Kc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Kc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Kc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Kc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Kc=[new Rt,new Rt,new Rt,new Rt,new Rt,new Rt,new Rt,new Rt],wl=new Rt,Kb=new Lh,Tp=new Rt,Rp=new Rt,Ip=new Rt,ad=new Rt,sd=new Rt,If=new Rt,Nv=new Rt,Xb=new Rt,qb=new Rt,Lf=new Rt;function S_(n,e,r,i,o){for(let s=0,l=n.length-3;s<=l;s+=3){Lf.fromArray(n,s);const u=o.x*Math.abs(Lf.x)+o.y*Math.abs(Lf.y)+o.z*Math.abs(Lf.z),c=e.dot(Lf),d=r.dot(Lf),h=i.dot(Lf);if(Math.max(-Math.max(c,d,h),Math.min(c,d,h))>u)return!1}return!0}const zwe=new Lh,kv=new Rt,__=new Rt;class $C{constructor(e=new Rt,r=-1){this.center=e,this.radius=r}set(e,r){return this.center.copy(e),this.radius=r,this}setFromPoints(e,r){const i=this.center;r!==void 0?i.copy(r):zwe.setFromPoints(e).getCenter(i);let o=0;for(let s=0,l=e.length;s<l;s++)o=Math.max(o,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(o),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const r=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=r*r}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,r){const i=this.center.distanceToSquared(e);return r.copy(e),i>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;kv.subVectors(e,this.center);const r=kv.lengthSq();if(r>this.radius*this.radius){const i=Math.sqrt(r),o=(i-this.radius)*.5;this.center.addScaledVector(kv,o/i),this.radius+=o}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(__.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(kv.copy(e.center).add(__)),this.expandByPoint(kv.copy(e.center).sub(__))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Xc=new Rt,M_=new Rt,Yb=new Rt,ld=new Rt,T_=new Rt,Jb=new Rt,R_=new Rt;class GC{constructor(e=new Rt,r=new Rt(0,0,-1)){this.origin=e,this.direction=r}set(e,r){return this.origin.copy(e),this.direction.copy(r),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,r){return r.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Xc)),this}closestPointToPoint(e,r){r.subVectors(e,this.origin);const i=r.dot(this.direction);return i<0?r.copy(this.origin):r.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const r=Xc.subVectors(e,this.origin).dot(this.direction);return r<0?this.origin.distanceToSquared(e):(Xc.copy(this.origin).addScaledVector(this.direction,r),Xc.distanceToSquared(e))}distanceSqToSegment(e,r,i,o){M_.copy(e).add(r).multiplyScalar(.5),Yb.copy(r).sub(e).normalize(),ld.copy(this.origin).sub(M_);const s=e.distanceTo(r)*.5,l=-this.direction.dot(Yb),u=ld.dot(this.direction),c=-ld.dot(Yb),d=ld.lengthSq(),h=Math.abs(1-l*l);let p,m,v,y;if(h>0)if(p=l*c-u,m=l*u-c,y=s*h,p>=0)if(m>=-y)if(m<=y){const A=1/h;p*=A,m*=A,v=p*(p+l*m+2*u)+m*(l*p+m+2*c)+d}else m=s,p=Math.max(0,-(l*m+u)),v=-p*p+m*(m+2*c)+d;else m=-s,p=Math.max(0,-(l*m+u)),v=-p*p+m*(m+2*c)+d;else m<=-y?(p=Math.max(0,-(-l*s+u)),m=p>0?-s:Math.min(Math.max(-s,-c),s),v=-p*p+m*(m+2*c)+d):m<=y?(p=0,m=Math.min(Math.max(-s,-c),s),v=m*(m+2*c)+d):(p=Math.max(0,-(l*s+u)),m=p>0?s:Math.min(Math.max(-s,-c),s),v=-p*p+m*(m+2*c)+d);else m=l>0?-s:s,p=Math.max(0,-(l*m+u)),v=-p*p+m*(m+2*c)+d;return i&&i.copy(this.origin).addScaledVector(this.direction,p),o&&o.copy(M_).addScaledVector(Yb,m),v}intersectSphere(e,r){Xc.subVectors(e.center,this.origin);const i=Xc.dot(this.direction),o=Xc.dot(Xc)-i*i,s=e.radius*e.radius;if(o>s)return null;const l=Math.sqrt(s-o),u=i-l,c=i+l;return c<0?null:u<0?this.at(c,r):this.at(u,r)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const r=e.normal.dot(this.direction);if(r===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/r;return i>=0?i:null}intersectPlane(e,r){const i=this.distanceToPlane(e);return i===null?null:this.at(i,r)}intersectsPlane(e){const r=e.distanceToPoint(this.origin);return r===0||e.normal.dot(this.direction)*r<0}intersectBox(e,r){let i,o,s,l,u,c;const d=1/this.direction.x,h=1/this.direction.y,p=1/this.direction.z,m=this.origin;return d>=0?(i=(e.min.x-m.x)*d,o=(e.max.x-m.x)*d):(i=(e.max.x-m.x)*d,o=(e.min.x-m.x)*d),h>=0?(s=(e.min.y-m.y)*h,l=(e.max.y-m.y)*h):(s=(e.max.y-m.y)*h,l=(e.min.y-m.y)*h),i>l||s>o||((s>i||isNaN(i))&&(i=s),(l<o||isNaN(o))&&(o=l),p>=0?(u=(e.min.z-m.z)*p,c=(e.max.z-m.z)*p):(u=(e.max.z-m.z)*p,c=(e.min.z-m.z)*p),i>c||u>o)||((u>i||i!==i)&&(i=u),(c<o||o!==o)&&(o=c),o<0)?null:this.at(i>=0?i:o,r)}intersectsBox(e){return this.intersectBox(e,Xc)!==null}intersectTriangle(e,r,i,o,s){T_.subVectors(r,e),Jb.subVectors(i,e),R_.crossVectors(T_,Jb);let l=this.direction.dot(R_),u;if(l>0){if(o)return null;u=1}else if(l<0)u=-1,l=-l;else return null;ld.subVectors(this.origin,e);const c=u*this.direction.dot(Jb.crossVectors(ld,Jb));if(c<0)return null;const d=u*this.direction.dot(T_.cross(ld));if(d<0||c+d>l)return null;const h=-u*ld.dot(R_);return h<0?null:this.at(h/l,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class lo{constructor(e,r,i,o,s,l,u,c,d,h,p,m,v,y,A,b){lo.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,r,i,o,s,l,u,c,d,h,p,m,v,y,A,b)}set(e,r,i,o,s,l,u,c,d,h,p,m,v,y,A,b){const g=this.elements;return g[0]=e,g[4]=r,g[8]=i,g[12]=o,g[1]=s,g[5]=l,g[9]=u,g[13]=c,g[2]=d,g[6]=h,g[10]=p,g[14]=m,g[3]=v,g[7]=y,g[11]=A,g[15]=b,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new lo().fromArray(this.elements)}copy(e){const r=this.elements,i=e.elements;return r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],r[4]=i[4],r[5]=i[5],r[6]=i[6],r[7]=i[7],r[8]=i[8],r[9]=i[9],r[10]=i[10],r[11]=i[11],r[12]=i[12],r[13]=i[13],r[14]=i[14],r[15]=i[15],this}copyPosition(e){const r=this.elements,i=e.elements;return r[12]=i[12],r[13]=i[13],r[14]=i[14],this}setFromMatrix3(e){const r=e.elements;return this.set(r[0],r[3],r[6],0,r[1],r[4],r[7],0,r[2],r[5],r[8],0,0,0,0,1),this}extractBasis(e,r,i){return e.setFromMatrixColumn(this,0),r.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,r,i){return this.set(e.x,r.x,i.x,0,e.y,r.y,i.y,0,e.z,r.z,i.z,0,0,0,0,1),this}extractRotation(e){const r=this.elements,i=e.elements,o=1/Lp.setFromMatrixColumn(e,0).length(),s=1/Lp.setFromMatrixColumn(e,1).length(),l=1/Lp.setFromMatrixColumn(e,2).length();return r[0]=i[0]*o,r[1]=i[1]*o,r[2]=i[2]*o,r[3]=0,r[4]=i[4]*s,r[5]=i[5]*s,r[6]=i[6]*s,r[7]=0,r[8]=i[8]*l,r[9]=i[9]*l,r[10]=i[10]*l,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}makeRotationFromEuler(e){const r=this.elements,i=e.x,o=e.y,s=e.z,l=Math.cos(i),u=Math.sin(i),c=Math.cos(o),d=Math.sin(o),h=Math.cos(s),p=Math.sin(s);if(e.order==="XYZ"){const m=l*h,v=l*p,y=u*h,A=u*p;r[0]=c*h,r[4]=-c*p,r[8]=d,r[1]=v+y*d,r[5]=m-A*d,r[9]=-u*c,r[2]=A-m*d,r[6]=y+v*d,r[10]=l*c}else if(e.order==="YXZ"){const m=c*h,v=c*p,y=d*h,A=d*p;r[0]=m+A*u,r[4]=y*u-v,r[8]=l*d,r[1]=l*p,r[5]=l*h,r[9]=-u,r[2]=v*u-y,r[6]=A+m*u,r[10]=l*c}else if(e.order==="ZXY"){const m=c*h,v=c*p,y=d*h,A=d*p;r[0]=m-A*u,r[4]=-l*p,r[8]=y+v*u,r[1]=v+y*u,r[5]=l*h,r[9]=A-m*u,r[2]=-l*d,r[6]=u,r[10]=l*c}else if(e.order==="ZYX"){const m=l*h,v=l*p,y=u*h,A=u*p;r[0]=c*h,r[4]=y*d-v,r[8]=m*d+A,r[1]=c*p,r[5]=A*d+m,r[9]=v*d-y,r[2]=-d,r[6]=u*c,r[10]=l*c}else if(e.order==="YZX"){const m=l*c,v=l*d,y=u*c,A=u*d;r[0]=c*h,r[4]=A-m*p,r[8]=y*p+v,r[1]=p,r[5]=l*h,r[9]=-u*h,r[2]=-d*h,r[6]=v*p+y,r[10]=m-A*p}else if(e.order==="XZY"){const m=l*c,v=l*d,y=u*c,A=u*d;r[0]=c*h,r[4]=-p,r[8]=d*h,r[1]=m*p+A,r[5]=l*h,r[9]=v*p-y,r[2]=y*p-v,r[6]=u*h,r[10]=A*p+m}return r[3]=0,r[7]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Hwe,e,$we)}lookAt(e,r,i){const o=this.elements;return ws.subVectors(e,r),ws.lengthSq()===0&&(ws.z=1),ws.normalize(),cd.crossVectors(i,ws),cd.lengthSq()===0&&(Math.abs(i.z)===1?ws.x+=1e-4:ws.z+=1e-4,ws.normalize(),cd.crossVectors(i,ws)),cd.normalize(),Zb.crossVectors(ws,cd),o[0]=cd.x,o[4]=Zb.x,o[8]=ws.x,o[1]=cd.y,o[5]=Zb.y,o[9]=ws.y,o[2]=cd.z,o[6]=Zb.z,o[10]=ws.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,r){const i=e.elements,o=r.elements,s=this.elements,l=i[0],u=i[4],c=i[8],d=i[12],h=i[1],p=i[5],m=i[9],v=i[13],y=i[2],A=i[6],b=i[10],g=i[14],w=i[3],E=i[7],C=i[11],_=i[15],L=o[0],R=o[4],P=o[8],T=o[12],D=o[1],$=o[5],V=o[9],B=o[13],O=o[2],F=o[6],k=o[10],z=o[14],G=o[3],j=o[7],Q=o[11],X=o[15];return s[0]=l*L+u*D+c*O+d*G,s[4]=l*R+u*$+c*F+d*j,s[8]=l*P+u*V+c*k+d*Q,s[12]=l*T+u*B+c*z+d*X,s[1]=h*L+p*D+m*O+v*G,s[5]=h*R+p*$+m*F+v*j,s[9]=h*P+p*V+m*k+v*Q,s[13]=h*T+p*B+m*z+v*X,s[2]=y*L+A*D+b*O+g*G,s[6]=y*R+A*$+b*F+g*j,s[10]=y*P+A*V+b*k+g*Q,s[14]=y*T+A*B+b*z+g*X,s[3]=w*L+E*D+C*O+_*G,s[7]=w*R+E*$+C*F+_*j,s[11]=w*P+E*V+C*k+_*Q,s[15]=w*T+E*B+C*z+_*X,this}multiplyScalar(e){const r=this.elements;return r[0]*=e,r[4]*=e,r[8]*=e,r[12]*=e,r[1]*=e,r[5]*=e,r[9]*=e,r[13]*=e,r[2]*=e,r[6]*=e,r[10]*=e,r[14]*=e,r[3]*=e,r[7]*=e,r[11]*=e,r[15]*=e,this}determinant(){const e=this.elements,r=e[0],i=e[4],o=e[8],s=e[12],l=e[1],u=e[5],c=e[9],d=e[13],h=e[2],p=e[6],m=e[10],v=e[14],y=e[3],A=e[7],b=e[11],g=e[15];return y*(+s*c*p-o*d*p-s*u*m+i*d*m+o*u*v-i*c*v)+A*(+r*c*v-r*d*m+s*l*m-o*l*v+o*d*h-s*c*h)+b*(+r*d*p-r*u*v-s*l*p+i*l*v+s*u*h-i*d*h)+g*(-o*u*h-r*c*p+r*u*m+o*l*p-i*l*m+i*c*h)}transpose(){const e=this.elements;let r;return r=e[1],e[1]=e[4],e[4]=r,r=e[2],e[2]=e[8],e[8]=r,r=e[6],e[6]=e[9],e[9]=r,r=e[3],e[3]=e[12],e[12]=r,r=e[7],e[7]=e[13],e[13]=r,r=e[11],e[11]=e[14],e[14]=r,this}setPosition(e,r,i){const o=this.elements;return e.isVector3?(o[12]=e.x,o[13]=e.y,o[14]=e.z):(o[12]=e,o[13]=r,o[14]=i),this}invert(){const e=this.elements,r=e[0],i=e[1],o=e[2],s=e[3],l=e[4],u=e[5],c=e[6],d=e[7],h=e[8],p=e[9],m=e[10],v=e[11],y=e[12],A=e[13],b=e[14],g=e[15],w=p*b*d-A*m*d+A*c*v-u*b*v-p*c*g+u*m*g,E=y*m*d-h*b*d-y*c*v+l*b*v+h*c*g-l*m*g,C=h*A*d-y*p*d+y*u*v-l*A*v-h*u*g+l*p*g,_=y*p*c-h*A*c-y*u*m+l*A*m+h*u*b-l*p*b,L=r*w+i*E+o*C+s*_;if(L===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/L;return e[0]=w*R,e[1]=(A*m*s-p*b*s-A*o*v+i*b*v+p*o*g-i*m*g)*R,e[2]=(u*b*s-A*c*s+A*o*d-i*b*d-u*o*g+i*c*g)*R,e[3]=(p*c*s-u*m*s-p*o*d+i*m*d+u*o*v-i*c*v)*R,e[4]=E*R,e[5]=(h*b*s-y*m*s+y*o*v-r*b*v-h*o*g+r*m*g)*R,e[6]=(y*c*s-l*b*s-y*o*d+r*b*d+l*o*g-r*c*g)*R,e[7]=(l*m*s-h*c*s+h*o*d-r*m*d-l*o*v+r*c*v)*R,e[8]=C*R,e[9]=(y*p*s-h*A*s-y*i*v+r*A*v+h*i*g-r*p*g)*R,e[10]=(l*A*s-y*u*s+y*i*d-r*A*d-l*i*g+r*u*g)*R,e[11]=(h*u*s-l*p*s-h*i*d+r*p*d+l*i*v-r*u*v)*R,e[12]=_*R,e[13]=(h*A*o-y*p*o+y*i*m-r*A*m-h*i*b+r*p*b)*R,e[14]=(y*u*o-l*A*o-y*i*c+r*A*c+l*i*b-r*u*b)*R,e[15]=(l*p*o-h*u*o+h*i*c-r*p*c-l*i*m+r*u*m)*R,this}scale(e){const r=this.elements,i=e.x,o=e.y,s=e.z;return r[0]*=i,r[4]*=o,r[8]*=s,r[1]*=i,r[5]*=o,r[9]*=s,r[2]*=i,r[6]*=o,r[10]*=s,r[3]*=i,r[7]*=o,r[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,r=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],o=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(r,i,o))}makeTranslation(e,r,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,r,0,0,1,i,0,0,0,1),this}makeRotationX(e){const r=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,r,-i,0,0,i,r,0,0,0,0,1),this}makeRotationY(e){const r=Math.cos(e),i=Math.sin(e);return this.set(r,0,i,0,0,1,0,0,-i,0,r,0,0,0,0,1),this}makeRotationZ(e){const r=Math.cos(e),i=Math.sin(e);return this.set(r,-i,0,0,i,r,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,r){const i=Math.cos(r),o=Math.sin(r),s=1-i,l=e.x,u=e.y,c=e.z,d=s*l,h=s*u;return this.set(d*l+i,d*u-o*c,d*c+o*u,0,d*u+o*c,h*u+i,h*c-o*l,0,d*c-o*u,h*c+o*l,s*c*c+i,0,0,0,0,1),this}makeScale(e,r,i){return this.set(e,0,0,0,0,r,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,r,i,o,s,l){return this.set(1,i,s,0,e,1,l,0,r,o,1,0,0,0,0,1),this}compose(e,r,i){const o=this.elements,s=r._x,l=r._y,u=r._z,c=r._w,d=s+s,h=l+l,p=u+u,m=s*d,v=s*h,y=s*p,A=l*h,b=l*p,g=u*p,w=c*d,E=c*h,C=c*p,_=i.x,L=i.y,R=i.z;return o[0]=(1-(A+g))*_,o[1]=(v+C)*_,o[2]=(y-E)*_,o[3]=0,o[4]=(v-C)*L,o[5]=(1-(m+g))*L,o[6]=(b+w)*L,o[7]=0,o[8]=(y+E)*R,o[9]=(b-w)*R,o[10]=(1-(m+A))*R,o[11]=0,o[12]=e.x,o[13]=e.y,o[14]=e.z,o[15]=1,this}decompose(e,r,i){const o=this.elements;let s=Lp.set(o[0],o[1],o[2]).length();const l=Lp.set(o[4],o[5],o[6]).length(),u=Lp.set(o[8],o[9],o[10]).length();this.determinant()<0&&(s=-s),e.x=o[12],e.y=o[13],e.z=o[14],Sl.copy(this);const d=1/s,h=1/l,p=1/u;return Sl.elements[0]*=d,Sl.elements[1]*=d,Sl.elements[2]*=d,Sl.elements[4]*=h,Sl.elements[5]*=h,Sl.elements[6]*=h,Sl.elements[8]*=p,Sl.elements[9]*=p,Sl.elements[10]*=p,r.setFromRotationMatrix(Sl),i.x=s,i.y=l,i.z=u,this}makePerspective(e,r,i,o,s,l,u=gu){const c=this.elements,d=2*s/(r-e),h=2*s/(i-o),p=(r+e)/(r-e),m=(i+o)/(i-o);let v,y;if(u===gu)v=-(l+s)/(l-s),y=-2*l*s/(l-s);else if(u===hE)v=-l/(l-s),y=-l*s/(l-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+u);return c[0]=d,c[4]=0,c[8]=p,c[12]=0,c[1]=0,c[5]=h,c[9]=m,c[13]=0,c[2]=0,c[6]=0,c[10]=v,c[14]=y,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,r,i,o,s,l,u=gu){const c=this.elements,d=1/(r-e),h=1/(i-o),p=1/(l-s),m=(r+e)*d,v=(i+o)*h;let y,A;if(u===gu)y=(l+s)*p,A=-2*p;else if(u===hE)y=s*p,A=-1*p;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+u);return c[0]=2*d,c[4]=0,c[8]=0,c[12]=-m,c[1]=0,c[5]=2*h,c[9]=0,c[13]=-v,c[2]=0,c[6]=0,c[10]=A,c[14]=-y,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const r=this.elements,i=e.elements;for(let o=0;o<16;o++)if(r[o]!==i[o])return!1;return!0}fromArray(e,r=0){for(let i=0;i<16;i++)this.elements[i]=e[i+r];return this}toArray(e=[],r=0){const i=this.elements;return e[r]=i[0],e[r+1]=i[1],e[r+2]=i[2],e[r+3]=i[3],e[r+4]=i[4],e[r+5]=i[5],e[r+6]=i[6],e[r+7]=i[7],e[r+8]=i[8],e[r+9]=i[9],e[r+10]=i[10],e[r+11]=i[11],e[r+12]=i[12],e[r+13]=i[13],e[r+14]=i[14],e[r+15]=i[15],e}}const Lp=new Rt,Sl=new lo,Hwe=new Rt(0,0,0),$we=new Rt(1,1,1),cd=new Rt,Zb=new Rt,ws=new Rt,l5=new lo,c5=new Xl;class jC{constructor(e=0,r=0,i=0,o=jC.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=r,this._z=i,this._order=o}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,r,i,o=this._order){return this._x=e,this._y=r,this._z=i,this._order=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,r=this._order,i=!0){const o=e.elements,s=o[0],l=o[4],u=o[8],c=o[1],d=o[5],h=o[9],p=o[2],m=o[6],v=o[10];switch(r){case"XYZ":this._y=Math.asin(ia(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-h,v),this._z=Math.atan2(-l,s)):(this._x=Math.atan2(m,d),this._z=0);break;case"YXZ":this._x=Math.asin(-ia(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(u,v),this._z=Math.atan2(c,d)):(this._y=Math.atan2(-p,s),this._z=0);break;case"ZXY":this._x=Math.asin(ia(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(-p,v),this._z=Math.atan2(-l,d)):(this._y=0,this._z=Math.atan2(c,s));break;case"ZYX":this._y=Math.asin(-ia(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(m,v),this._z=Math.atan2(c,s)):(this._x=0,this._z=Math.atan2(-l,d));break;case"YZX":this._z=Math.asin(ia(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-h,d),this._y=Math.atan2(-p,s)):(this._x=0,this._y=Math.atan2(u,v));break;case"XZY":this._z=Math.asin(-ia(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(m,d),this._y=Math.atan2(u,s)):(this._x=Math.atan2(-h,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+r)}return this._order=r,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,r,i){return l5.makeRotationFromQuaternion(e),this.setFromRotationMatrix(l5,r,i)}setFromVector3(e,r=this._order){return this.set(e.x,e.y,e.z,r)}reorder(e){return c5.setFromEuler(this),this.setFromQuaternion(c5,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],r=0){return e[r]=this._x,e[r+1]=this._y,e[r+2]=this._z,e[r+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}jC.DEFAULT_ORDER="XYZ";class JL{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Gwe=0;const u5=new Rt,Pp=new Xl,qc=new lo,e1=new Rt,Fv=new Rt,jwe=new Rt,Vwe=new Xl,d5=new Rt(1,0,0),f5=new Rt(0,1,0),h5=new Rt(0,0,1),Wwe={type:"added"},Qwe={type:"removed"};class sa extends Zl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Gwe++}),this.uuid=xu(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=sa.DEFAULT_UP.clone();const e=new Rt,r=new jC,i=new Xl,o=new Rt(1,1,1);function s(){i.setFromEuler(r,!1)}function l(){r.setFromQuaternion(i,void 0,!1)}r._onChange(s),i._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new lo},normalMatrix:{value:new fi}}),this.matrix=new lo,this.matrixWorld=new lo,this.matrixAutoUpdate=sa.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=sa.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new JL,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,r){this.quaternion.setFromAxisAngle(e,r)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,r){return Pp.setFromAxisAngle(e,r),this.quaternion.multiply(Pp),this}rotateOnWorldAxis(e,r){return Pp.setFromAxisAngle(e,r),this.quaternion.premultiply(Pp),this}rotateX(e){return this.rotateOnAxis(d5,e)}rotateY(e){return this.rotateOnAxis(f5,e)}rotateZ(e){return this.rotateOnAxis(h5,e)}translateOnAxis(e,r){return u5.copy(e).applyQuaternion(this.quaternion),this.position.add(u5.multiplyScalar(r)),this}translateX(e){return this.translateOnAxis(d5,e)}translateY(e){return this.translateOnAxis(f5,e)}translateZ(e){return this.translateOnAxis(h5,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(qc.copy(this.matrixWorld).invert())}lookAt(e,r,i){e.isVector3?e1.copy(e):e1.set(e,r,i);const o=this.parent;this.updateWorldMatrix(!0,!1),Fv.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?qc.lookAt(Fv,e1,this.up):qc.lookAt(e1,Fv,this.up),this.quaternion.setFromRotationMatrix(qc),o&&(qc.extractRotation(o.matrixWorld),Pp.setFromRotationMatrix(qc),this.quaternion.premultiply(Pp.invert()))}add(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.add(arguments[r]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Wwe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const r=this.children.indexOf(e);return r!==-1&&(e.parent=null,this.children.splice(r,1),e.dispatchEvent(Qwe)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),qc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),qc.multiply(e.parent.matrixWorld)),e.applyMatrix4(qc),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,r){if(this[e]===r)return this;for(let i=0,o=this.children.length;i<o;i++){const l=this.children[i].getObjectByProperty(e,r);if(l!==void 0)return l}}getObjectsByProperty(e,r){let i=[];this[e]===r&&i.push(this);for(let o=0,s=this.children.length;o<s;o++){const l=this.children[o].getObjectsByProperty(e,r);l.length>0&&(i=i.concat(l))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Fv,e,jwe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Fv,Vwe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const r=this.matrixWorld.elements;return e.set(r[8],r[9],r[10]).normalize()}raycast(){}traverse(e){e(this);const r=this.children;for(let i=0,o=r.length;i<o;i++)r[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const r=this.children;for(let i=0,o=r.length;i<o;i++)r[i].traverseVisible(e)}traverseAncestors(e){const r=this.parent;r!==null&&(e(r),r.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const r=this.children;for(let i=0,o=r.length;i<o;i++){const s=r[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,r){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),r===!0){const o=this.children;for(let s=0,l=o.length;s<l;s++){const u=o[s];u.matrixWorldAutoUpdate===!0&&u.updateWorldMatrix(!1,!0)}}}toJSON(e){const r=e===void 0||typeof e=="string",i={};r&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const o={};o.uuid=this.uuid,o.type=this.type,this.name!==""&&(o.name=this.name),this.castShadow===!0&&(o.castShadow=!0),this.receiveShadow===!0&&(o.receiveShadow=!0),this.visible===!1&&(o.visible=!1),this.frustumCulled===!1&&(o.frustumCulled=!1),this.renderOrder!==0&&(o.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(o.userData=this.userData),o.layers=this.layers.mask,o.matrix=this.matrix.toArray(),o.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(o.matrixAutoUpdate=!1),this.isInstancedMesh&&(o.type="InstancedMesh",o.count=this.count,o.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(o.instanceColor=this.instanceColor.toJSON()));function s(u,c){return u[c.uuid]===void 0&&(u[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?o.background=this.background.toJSON():this.background.isTexture&&(o.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(o.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){o.geometry=s(e.geometries,this.geometry);const u=this.geometry.parameters;if(u!==void 0&&u.shapes!==void 0){const c=u.shapes;if(Array.isArray(c))for(let d=0,h=c.length;d<h;d++){const p=c[d];s(e.shapes,p)}else s(e.shapes,c)}}if(this.isSkinnedMesh&&(o.bindMode=this.bindMode,o.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),o.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const u=[];for(let c=0,d=this.material.length;c<d;c++)u.push(s(e.materials,this.material[c]));o.material=u}else o.material=s(e.materials,this.material);if(this.children.length>0){o.children=[];for(let u=0;u<this.children.length;u++)o.children.push(this.children[u].toJSON(e).object)}if(this.animations.length>0){o.animations=[];for(let u=0;u<this.animations.length;u++){const c=this.animations[u];o.animations.push(s(e.animations,c))}}if(r){const u=l(e.geometries),c=l(e.materials),d=l(e.textures),h=l(e.images),p=l(e.shapes),m=l(e.skeletons),v=l(e.animations),y=l(e.nodes);u.length>0&&(i.geometries=u),c.length>0&&(i.materials=c),d.length>0&&(i.textures=d),h.length>0&&(i.images=h),p.length>0&&(i.shapes=p),m.length>0&&(i.skeletons=m),v.length>0&&(i.animations=v),y.length>0&&(i.nodes=y)}return i.object=o,i;function l(u){const c=[];for(const d in u){const h=u[d];delete h.metadata,c.push(h)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,r=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),r===!0)for(let i=0;i<e.children.length;i++){const o=e.children[i];this.add(o.clone())}return this}}sa.DEFAULT_UP=new Rt(0,1,0);sa.DEFAULT_MATRIX_AUTO_UPDATE=!0;sa.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _l=new Rt,Yc=new Rt,I_=new Rt,Jc=new Rt,Bp=new Rt,Op=new Rt,p5=new Rt,L_=new Rt,P_=new Rt,B_=new Rt;let t1=!1;class tl{constructor(e=new Rt,r=new Rt,i=new Rt){this.a=e,this.b=r,this.c=i}static getNormal(e,r,i,o){o.subVectors(i,r),_l.subVectors(e,r),o.cross(_l);const s=o.lengthSq();return s>0?o.multiplyScalar(1/Math.sqrt(s)):o.set(0,0,0)}static getBarycoord(e,r,i,o,s){_l.subVectors(o,r),Yc.subVectors(i,r),I_.subVectors(e,r);const l=_l.dot(_l),u=_l.dot(Yc),c=_l.dot(I_),d=Yc.dot(Yc),h=Yc.dot(I_),p=l*d-u*u;if(p===0)return s.set(-2,-1,-1);const m=1/p,v=(d*c-u*h)*m,y=(l*h-u*c)*m;return s.set(1-v-y,y,v)}static containsPoint(e,r,i,o){return this.getBarycoord(e,r,i,o,Jc),Jc.x>=0&&Jc.y>=0&&Jc.x+Jc.y<=1}static getUV(e,r,i,o,s,l,u,c){return t1===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),t1=!0),this.getInterpolation(e,r,i,o,s,l,u,c)}static getInterpolation(e,r,i,o,s,l,u,c){return this.getBarycoord(e,r,i,o,Jc),c.setScalar(0),c.addScaledVector(s,Jc.x),c.addScaledVector(l,Jc.y),c.addScaledVector(u,Jc.z),c}static isFrontFacing(e,r,i,o){return _l.subVectors(i,r),Yc.subVectors(e,r),_l.cross(Yc).dot(o)<0}set(e,r,i){return this.a.copy(e),this.b.copy(r),this.c.copy(i),this}setFromPointsAndIndices(e,r,i,o){return this.a.copy(e[r]),this.b.copy(e[i]),this.c.copy(e[o]),this}setFromAttributeAndIndices(e,r,i,o){return this.a.fromBufferAttribute(e,r),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,o),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return _l.subVectors(this.c,this.b),Yc.subVectors(this.a,this.b),_l.cross(Yc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return tl.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,r){return tl.getBarycoord(e,this.a,this.b,this.c,r)}getUV(e,r,i,o,s){return t1===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),t1=!0),tl.getInterpolation(e,this.a,this.b,this.c,r,i,o,s)}getInterpolation(e,r,i,o,s){return tl.getInterpolation(e,this.a,this.b,this.c,r,i,o,s)}containsPoint(e){return tl.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return tl.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,r){const i=this.a,o=this.b,s=this.c;let l,u;Bp.subVectors(o,i),Op.subVectors(s,i),L_.subVectors(e,i);const c=Bp.dot(L_),d=Op.dot(L_);if(c<=0&&d<=0)return r.copy(i);P_.subVectors(e,o);const h=Bp.dot(P_),p=Op.dot(P_);if(h>=0&&p<=h)return r.copy(o);const m=c*p-h*d;if(m<=0&&c>=0&&h<=0)return l=c/(c-h),r.copy(i).addScaledVector(Bp,l);B_.subVectors(e,s);const v=Bp.dot(B_),y=Op.dot(B_);if(y>=0&&v<=y)return r.copy(s);const A=v*d-c*y;if(A<=0&&d>=0&&y<=0)return u=d/(d-y),r.copy(i).addScaledVector(Op,u);const b=h*y-v*p;if(b<=0&&p-h>=0&&v-y>=0)return p5.subVectors(s,o),u=(p-h)/(p-h+(v-y)),r.copy(o).addScaledVector(p5,u);const g=1/(b+A+m);return l=A*g,u=m*g,r.copy(i).addScaledVector(Bp,l).addScaledVector(Op,u)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const zG={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ud={h:0,s:0,l:0},n1={h:0,s:0,l:0};function O_(n,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?n+(e-n)*6*r:r<1/2?e:r<2/3?n+(e-n)*6*(2/3-r):n}let mi=class{constructor(e,r,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,r,i)}set(e,r,i){if(r===void 0&&i===void 0){const o=e;o&&o.isColor?this.copy(o):typeof o=="number"?this.setHex(o):typeof o=="string"&&this.setStyle(o)}else this.setRGB(e,r,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,r=Go){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Gi.toWorkingColorSpace(this,r),this}setRGB(e,r,i,o=Gi.workingColorSpace){return this.r=e,this.g=r,this.b=i,Gi.toWorkingColorSpace(this,o),this}setHSL(e,r,i,o=Gi.workingColorSpace){if(e=YL(e,1),r=ia(r,0,1),i=ia(i,0,1),r===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+r):i+r-i*r,l=2*i-s;this.r=O_(l,s,e+1/3),this.g=O_(l,s,e),this.b=O_(l,s,e-1/3)}return Gi.toWorkingColorSpace(this,o),this}setStyle(e,r=Go){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let o;if(o=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const l=o[1],u=o[2];switch(l){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,r);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,r);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,r);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(o=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=o[1],l=s.length;if(l===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,r);if(l===6)return this.setHex(parseInt(s,16),r);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,r);return this}setColorName(e,r=Go){const i=zG[e.toLowerCase()];return i!==void 0?this.setHex(i,r):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Nm(e.r),this.g=Nm(e.g),this.b=Nm(e.b),this}copyLinearToSRGB(e){return this.r=E_(e.r),this.g=E_(e.g),this.b=E_(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Go){return Gi.fromWorkingColorSpace(Ta.copy(this),e),Math.round(ia(Ta.r*255,0,255))*65536+Math.round(ia(Ta.g*255,0,255))*256+Math.round(ia(Ta.b*255,0,255))}getHexString(e=Go){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,r=Gi.workingColorSpace){Gi.fromWorkingColorSpace(Ta.copy(this),r);const i=Ta.r,o=Ta.g,s=Ta.b,l=Math.max(i,o,s),u=Math.min(i,o,s);let c,d;const h=(u+l)/2;if(u===l)c=0,d=0;else{const p=l-u;switch(d=h<=.5?p/(l+u):p/(2-l-u),l){case i:c=(o-s)/p+(o<s?6:0);break;case o:c=(s-i)/p+2;break;case s:c=(i-o)/p+4;break}c/=6}return e.h=c,e.s=d,e.l=h,e}getRGB(e,r=Gi.workingColorSpace){return Gi.fromWorkingColorSpace(Ta.copy(this),r),e.r=Ta.r,e.g=Ta.g,e.b=Ta.b,e}getStyle(e=Go){Gi.fromWorkingColorSpace(Ta.copy(this),e);const r=Ta.r,i=Ta.g,o=Ta.b;return e!==Go?`color(${e} ${r.toFixed(3)} ${i.toFixed(3)} ${o.toFixed(3)})`:`rgb(${Math.round(r*255)},${Math.round(i*255)},${Math.round(o*255)})`}offsetHSL(e,r,i){return this.getHSL(ud),this.setHSL(ud.h+e,ud.s+r,ud.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,r){return this.r=e.r+r.r,this.g=e.g+r.g,this.b=e.b+r.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,r){return this.r+=(e.r-this.r)*r,this.g+=(e.g-this.g)*r,this.b+=(e.b-this.b)*r,this}lerpColors(e,r,i){return this.r=e.r+(r.r-e.r)*i,this.g=e.g+(r.g-e.g)*i,this.b=e.b+(r.b-e.b)*i,this}lerpHSL(e,r){this.getHSL(ud),e.getHSL(n1);const i=z0(ud.h,n1.h,r),o=z0(ud.s,n1.s,r),s=z0(ud.l,n1.l,r);return this.setHSL(i,o,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const r=this.r,i=this.g,o=this.b,s=e.elements;return this.r=s[0]*r+s[3]*i+s[6]*o,this.g=s[1]*r+s[4]*i+s[7]*o,this.b=s[2]*r+s[5]*i+s[8]*o,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,r=0){return this.r=e[r],this.g=e[r+1],this.b=e[r+2],this}toArray(e=[],r=0){return e[r]=this.r,e[r+1]=this.g,e[r+2]=this.b,e}fromBufferAttribute(e,r){return this.r=e.getX(r),this.g=e.getY(r),this.b=e.getZ(r),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const Ta=new mi;mi.NAMES=zG;let Kwe=0;class Ph extends Zl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Kwe++}),this.uuid=xu(),this.name="",this.type="Material",this.blending=Dm,this.side=Qd,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=F3,this.blendDst=U3,this.blendEquation=jf,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new mi(0,0,0),this.blendAlpha=0,this.depthFunc=cE,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=t5,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=_p,this.stencilZFail=_p,this.stencilZPass=_p,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const r in e){const i=e[r];if(i===void 0){console.warn(`THREE.Material: parameter '${r}' has value of undefined.`);continue}const o=this[r];if(o===void 0){console.warn(`THREE.Material: '${r}' is not a property of THREE.${this.type}.`);continue}o&&o.isColor?o.set(i):o&&o.isVector3&&i&&i.isVector3?o.copy(i):this[r]=i}}toJSON(e){const r=e===void 0||typeof e=="string";r&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Dm&&(i.blending=this.blending),this.side!==Qd&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==F3&&(i.blendSrc=this.blendSrc),this.blendDst!==U3&&(i.blendDst=this.blendDst),this.blendEquation!==jf&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==cE&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==t5&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==_p&&(i.stencilFail=this.stencilFail),this.stencilZFail!==_p&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==_p&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function o(s){const l=[];for(const u in s){const c=s[u];delete c.metadata,l.push(c)}return l}if(r){const s=o(e.textures),l=o(e.images);s.length>0&&(i.textures=s),l.length>0&&(i.images=l)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const r=e.clippingPlanes;let i=null;if(r!==null){const o=r.length;i=new Array(o);for(let s=0;s!==o;++s)i[s]=r[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class ZL extends Ph{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new mi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=KL,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Oo=new Rt,r1=new tr;class sl{constructor(e,r,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=r,this.count=e!==void 0?e.length/r:0,this.normalized=i,this.usage=j3,this.updateRange={offset:0,count:-1},this.gpuType=Pd,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,r,i){e*=this.itemSize,i*=r.itemSize;for(let o=0,s=this.itemSize;o<s;o++)this.array[e+o]=r.array[i+o];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let r=0,i=this.count;r<i;r++)r1.fromBufferAttribute(this,r),r1.applyMatrix3(e),this.setXY(r,r1.x,r1.y);else if(this.itemSize===3)for(let r=0,i=this.count;r<i;r++)Oo.fromBufferAttribute(this,r),Oo.applyMatrix3(e),this.setXYZ(r,Oo.x,Oo.y,Oo.z);return this}applyMatrix4(e){for(let r=0,i=this.count;r<i;r++)Oo.fromBufferAttribute(this,r),Oo.applyMatrix4(e),this.setXYZ(r,Oo.x,Oo.y,Oo.z);return this}applyNormalMatrix(e){for(let r=0,i=this.count;r<i;r++)Oo.fromBufferAttribute(this,r),Oo.applyNormalMatrix(e),this.setXYZ(r,Oo.x,Oo.y,Oo.z);return this}transformDirection(e){for(let r=0,i=this.count;r<i;r++)Oo.fromBufferAttribute(this,r),Oo.transformDirection(e),this.setXYZ(r,Oo.x,Oo.y,Oo.z);return this}set(e,r=0){return this.array.set(e,r),this}getComponent(e,r){let i=this.array[e*this.itemSize+r];return this.normalized&&(i=mc(i,this.array)),i}setComponent(e,r,i){return this.normalized&&(i=$i(i,this.array)),this.array[e*this.itemSize+r]=i,this}getX(e){let r=this.array[e*this.itemSize];return this.normalized&&(r=mc(r,this.array)),r}setX(e,r){return this.normalized&&(r=$i(r,this.array)),this.array[e*this.itemSize]=r,this}getY(e){let r=this.array[e*this.itemSize+1];return this.normalized&&(r=mc(r,this.array)),r}setY(e,r){return this.normalized&&(r=$i(r,this.array)),this.array[e*this.itemSize+1]=r,this}getZ(e){let r=this.array[e*this.itemSize+2];return this.normalized&&(r=mc(r,this.array)),r}setZ(e,r){return this.normalized&&(r=$i(r,this.array)),this.array[e*this.itemSize+2]=r,this}getW(e){let r=this.array[e*this.itemSize+3];return this.normalized&&(r=mc(r,this.array)),r}setW(e,r){return this.normalized&&(r=$i(r,this.array)),this.array[e*this.itemSize+3]=r,this}setXY(e,r,i){return e*=this.itemSize,this.normalized&&(r=$i(r,this.array),i=$i(i,this.array)),this.array[e+0]=r,this.array[e+1]=i,this}setXYZ(e,r,i,o){return e*=this.itemSize,this.normalized&&(r=$i(r,this.array),i=$i(i,this.array),o=$i(o,this.array)),this.array[e+0]=r,this.array[e+1]=i,this.array[e+2]=o,this}setXYZW(e,r,i,o,s){return e*=this.itemSize,this.normalized&&(r=$i(r,this.array),i=$i(i,this.array),o=$i(o,this.array),s=$i(s,this.array)),this.array[e+0]=r,this.array[e+1]=i,this.array[e+2]=o,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==j3&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class HG extends sl{constructor(e,r,i){super(new Uint16Array(e),r,i)}}class $G extends sl{constructor(e,r,i){super(new Uint32Array(e),r,i)}}class Wo extends sl{constructor(e,r,i){super(new Float32Array(e),r,i)}}let Xwe=0;const Xs=new lo,D_=new sa,Dp=new Rt,Ss=new Lh,Uv=new Lh,na=new Rt;class fs extends Zl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Xwe++}),this.uuid=xu(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(NG(e)?$G:HG)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,r){return this.attributes[e]=r,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,r,i=0){this.groups.push({start:e,count:r,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,r){this.drawRange.start=e,this.drawRange.count=r}applyMatrix4(e){const r=this.attributes.position;r!==void 0&&(r.applyMatrix4(e),r.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new fi().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const o=this.attributes.tangent;return o!==void 0&&(o.transformDirection(e),o.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Xs.makeRotationFromQuaternion(e),this.applyMatrix4(Xs),this}rotateX(e){return Xs.makeRotationX(e),this.applyMatrix4(Xs),this}rotateY(e){return Xs.makeRotationY(e),this.applyMatrix4(Xs),this}rotateZ(e){return Xs.makeRotationZ(e),this.applyMatrix4(Xs),this}translate(e,r,i){return Xs.makeTranslation(e,r,i),this.applyMatrix4(Xs),this}scale(e,r,i){return Xs.makeScale(e,r,i),this.applyMatrix4(Xs),this}lookAt(e){return D_.lookAt(e),D_.updateMatrix(),this.applyMatrix4(D_.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Dp).negate(),this.translate(Dp.x,Dp.y,Dp.z),this}setFromPoints(e){const r=[];for(let i=0,o=e.length;i<o;i++){const s=e[i];r.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Wo(r,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Lh);const e=this.attributes.position,r=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Rt(-1/0,-1/0,-1/0),new Rt(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),r)for(let i=0,o=r.length;i<o;i++){const s=r[i];Ss.setFromBufferAttribute(s),this.morphTargetsRelative?(na.addVectors(this.boundingBox.min,Ss.min),this.boundingBox.expandByPoint(na),na.addVectors(this.boundingBox.max,Ss.max),this.boundingBox.expandByPoint(na)):(this.boundingBox.expandByPoint(Ss.min),this.boundingBox.expandByPoint(Ss.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new $C);const e=this.attributes.position,r=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Rt,1/0);return}if(e){const i=this.boundingSphere.center;if(Ss.setFromBufferAttribute(e),r)for(let s=0,l=r.length;s<l;s++){const u=r[s];Uv.setFromBufferAttribute(u),this.morphTargetsRelative?(na.addVectors(Ss.min,Uv.min),Ss.expandByPoint(na),na.addVectors(Ss.max,Uv.max),Ss.expandByPoint(na)):(Ss.expandByPoint(Uv.min),Ss.expandByPoint(Uv.max))}Ss.getCenter(i);let o=0;for(let s=0,l=e.count;s<l;s++)na.fromBufferAttribute(e,s),o=Math.max(o,i.distanceToSquared(na));if(r)for(let s=0,l=r.length;s<l;s++){const u=r[s],c=this.morphTargetsRelative;for(let d=0,h=u.count;d<h;d++)na.fromBufferAttribute(u,d),c&&(Dp.fromBufferAttribute(e,d),na.add(Dp)),o=Math.max(o,i.distanceToSquared(na))}this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,r=this.attributes;if(e===null||r.position===void 0||r.normal===void 0||r.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,o=r.position.array,s=r.normal.array,l=r.uv.array,u=o.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new sl(new Float32Array(4*u),4));const c=this.getAttribute("tangent").array,d=[],h=[];for(let D=0;D<u;D++)d[D]=new Rt,h[D]=new Rt;const p=new Rt,m=new Rt,v=new Rt,y=new tr,A=new tr,b=new tr,g=new Rt,w=new Rt;function E(D,$,V){p.fromArray(o,D*3),m.fromArray(o,$*3),v.fromArray(o,V*3),y.fromArray(l,D*2),A.fromArray(l,$*2),b.fromArray(l,V*2),m.sub(p),v.sub(p),A.sub(y),b.sub(y);const B=1/(A.x*b.y-b.x*A.y);isFinite(B)&&(g.copy(m).multiplyScalar(b.y).addScaledVector(v,-A.y).multiplyScalar(B),w.copy(v).multiplyScalar(A.x).addScaledVector(m,-b.x).multiplyScalar(B),d[D].add(g),d[$].add(g),d[V].add(g),h[D].add(w),h[$].add(w),h[V].add(w))}let C=this.groups;C.length===0&&(C=[{start:0,count:i.length}]);for(let D=0,$=C.length;D<$;++D){const V=C[D],B=V.start,O=V.count;for(let F=B,k=B+O;F<k;F+=3)E(i[F+0],i[F+1],i[F+2])}const _=new Rt,L=new Rt,R=new Rt,P=new Rt;function T(D){R.fromArray(s,D*3),P.copy(R);const $=d[D];_.copy($),_.sub(R.multiplyScalar(R.dot($))).normalize(),L.crossVectors(P,$);const B=L.dot(h[D])<0?-1:1;c[D*4]=_.x,c[D*4+1]=_.y,c[D*4+2]=_.z,c[D*4+3]=B}for(let D=0,$=C.length;D<$;++D){const V=C[D],B=V.start,O=V.count;for(let F=B,k=B+O;F<k;F+=3)T(i[F+0]),T(i[F+1]),T(i[F+2])}}computeVertexNormals(){const e=this.index,r=this.getAttribute("position");if(r!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new sl(new Float32Array(r.count*3),3),this.setAttribute("normal",i);else for(let m=0,v=i.count;m<v;m++)i.setXYZ(m,0,0,0);const o=new Rt,s=new Rt,l=new Rt,u=new Rt,c=new Rt,d=new Rt,h=new Rt,p=new Rt;if(e)for(let m=0,v=e.count;m<v;m+=3){const y=e.getX(m+0),A=e.getX(m+1),b=e.getX(m+2);o.fromBufferAttribute(r,y),s.fromBufferAttribute(r,A),l.fromBufferAttribute(r,b),h.subVectors(l,s),p.subVectors(o,s),h.cross(p),u.fromBufferAttribute(i,y),c.fromBufferAttribute(i,A),d.fromBufferAttribute(i,b),u.add(h),c.add(h),d.add(h),i.setXYZ(y,u.x,u.y,u.z),i.setXYZ(A,c.x,c.y,c.z),i.setXYZ(b,d.x,d.y,d.z)}else for(let m=0,v=r.count;m<v;m+=3)o.fromBufferAttribute(r,m+0),s.fromBufferAttribute(r,m+1),l.fromBufferAttribute(r,m+2),h.subVectors(l,s),p.subVectors(o,s),h.cross(p),i.setXYZ(m+0,h.x,h.y,h.z),i.setXYZ(m+1,h.x,h.y,h.z),i.setXYZ(m+2,h.x,h.y,h.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let r=0,i=e.count;r<i;r++)na.fromBufferAttribute(e,r),na.normalize(),e.setXYZ(r,na.x,na.y,na.z)}toNonIndexed(){function e(u,c){const d=u.array,h=u.itemSize,p=u.normalized,m=new d.constructor(c.length*h);let v=0,y=0;for(let A=0,b=c.length;A<b;A++){u.isInterleavedBufferAttribute?v=c[A]*u.data.stride+u.offset:v=c[A]*h;for(let g=0;g<h;g++)m[y++]=d[v++]}return new sl(m,h,p)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const r=new fs,i=this.index.array,o=this.attributes;for(const u in o){const c=o[u],d=e(c,i);r.setAttribute(u,d)}const s=this.morphAttributes;for(const u in s){const c=[],d=s[u];for(let h=0,p=d.length;h<p;h++){const m=d[h],v=e(m,i);c.push(v)}r.morphAttributes[u]=c}r.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let u=0,c=l.length;u<c;u++){const d=l[u];r.addGroup(d.start,d.count,d.materialIndex)}return r}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const d in c)c[d]!==void 0&&(e[d]=c[d]);return e}e.data={attributes:{}};const r=this.index;r!==null&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});const i=this.attributes;for(const c in i){const d=i[c];e.data.attributes[c]=d.toJSON(e.data)}const o={};let s=!1;for(const c in this.morphAttributes){const d=this.morphAttributes[c],h=[];for(let p=0,m=d.length;p<m;p++){const v=d[p];h.push(v.toJSON(e.data))}h.length>0&&(o[c]=h,s=!0)}s&&(e.data.morphAttributes=o,e.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(e.data.groups=JSON.parse(JSON.stringify(l)));const u=this.boundingSphere;return u!==null&&(e.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const r={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(r));const o=e.attributes;for(const d in o){const h=o[d];this.setAttribute(d,h.clone(r))}const s=e.morphAttributes;for(const d in s){const h=[],p=s[d];for(let m=0,v=p.length;m<v;m++)h.push(p[m].clone(r));this.morphAttributes[d]=h}this.morphTargetsRelative=e.morphTargetsRelative;const l=e.groups;for(let d=0,h=l.length;d<h;d++){const p=l[d];this.addGroup(p.start,p.count,p.materialIndex)}const u=e.boundingBox;u!==null&&(this.boundingBox=u.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const m5=new lo,Pf=new GC,i1=new $C,g5=new Rt,Np=new Rt,kp=new Rt,Fp=new Rt,N_=new Rt,o1=new Rt,a1=new tr,s1=new tr,l1=new tr,v5=new Rt,A5=new Rt,y5=new Rt,c1=new Rt,u1=new Rt;class Hl extends sa{constructor(e=new fs,r=new ZL){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=r,this.updateMorphTargets()}copy(e,r){return super.copy(e,r),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const r=this.geometry.morphAttributes,i=Object.keys(r);if(i.length>0){const o=r[i[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,l=o.length;s<l;s++){const u=o[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=s}}}}getVertexPosition(e,r){const i=this.geometry,o=i.attributes.position,s=i.morphAttributes.position,l=i.morphTargetsRelative;r.fromBufferAttribute(o,e);const u=this.morphTargetInfluences;if(s&&u){o1.set(0,0,0);for(let c=0,d=s.length;c<d;c++){const h=u[c],p=s[c];h!==0&&(N_.fromBufferAttribute(p,e),l?o1.addScaledVector(N_,h):o1.addScaledVector(N_.sub(r),h))}r.add(o1)}return r}raycast(e,r){const i=this.geometry,o=this.material,s=this.matrixWorld;o!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),i1.copy(i.boundingSphere),i1.applyMatrix4(s),Pf.copy(e.ray).recast(e.near),!(i1.containsPoint(Pf.origin)===!1&&(Pf.intersectSphere(i1,g5)===null||Pf.origin.distanceToSquared(g5)>(e.far-e.near)**2))&&(m5.copy(s).invert(),Pf.copy(e.ray).applyMatrix4(m5),!(i.boundingBox!==null&&Pf.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,r,Pf)))}_computeIntersections(e,r,i){let o;const s=this.geometry,l=this.material,u=s.index,c=s.attributes.position,d=s.attributes.uv,h=s.attributes.uv1,p=s.attributes.normal,m=s.groups,v=s.drawRange;if(u!==null)if(Array.isArray(l))for(let y=0,A=m.length;y<A;y++){const b=m[y],g=l[b.materialIndex],w=Math.max(b.start,v.start),E=Math.min(u.count,Math.min(b.start+b.count,v.start+v.count));for(let C=w,_=E;C<_;C+=3){const L=u.getX(C),R=u.getX(C+1),P=u.getX(C+2);o=d1(this,g,e,i,d,h,p,L,R,P),o&&(o.faceIndex=Math.floor(C/3),o.face.materialIndex=b.materialIndex,r.push(o))}}else{const y=Math.max(0,v.start),A=Math.min(u.count,v.start+v.count);for(let b=y,g=A;b<g;b+=3){const w=u.getX(b),E=u.getX(b+1),C=u.getX(b+2);o=d1(this,l,e,i,d,h,p,w,E,C),o&&(o.faceIndex=Math.floor(b/3),r.push(o))}}else if(c!==void 0)if(Array.isArray(l))for(let y=0,A=m.length;y<A;y++){const b=m[y],g=l[b.materialIndex],w=Math.max(b.start,v.start),E=Math.min(c.count,Math.min(b.start+b.count,v.start+v.count));for(let C=w,_=E;C<_;C+=3){const L=C,R=C+1,P=C+2;o=d1(this,g,e,i,d,h,p,L,R,P),o&&(o.faceIndex=Math.floor(C/3),o.face.materialIndex=b.materialIndex,r.push(o))}}else{const y=Math.max(0,v.start),A=Math.min(c.count,v.start+v.count);for(let b=y,g=A;b<g;b+=3){const w=b,E=b+1,C=b+2;o=d1(this,l,e,i,d,h,p,w,E,C),o&&(o.faceIndex=Math.floor(b/3),r.push(o))}}}}function qwe(n,e,r,i,o,s,l,u){let c;if(e.side===Ka?c=i.intersectTriangle(l,s,o,!0,u):c=i.intersectTriangle(o,s,l,e.side===Qd,u),c===null)return null;u1.copy(u),u1.applyMatrix4(n.matrixWorld);const d=r.ray.origin.distanceTo(u1);return d<r.near||d>r.far?null:{distance:d,point:u1.clone(),object:n}}function d1(n,e,r,i,o,s,l,u,c,d){n.getVertexPosition(u,Np),n.getVertexPosition(c,kp),n.getVertexPosition(d,Fp);const h=qwe(n,e,r,i,Np,kp,Fp,c1);if(h){o&&(a1.fromBufferAttribute(o,u),s1.fromBufferAttribute(o,c),l1.fromBufferAttribute(o,d),h.uv=tl.getInterpolation(c1,Np,kp,Fp,a1,s1,l1,new tr)),s&&(a1.fromBufferAttribute(s,u),s1.fromBufferAttribute(s,c),l1.fromBufferAttribute(s,d),h.uv1=tl.getInterpolation(c1,Np,kp,Fp,a1,s1,l1,new tr),h.uv2=h.uv1),l&&(v5.fromBufferAttribute(l,u),A5.fromBufferAttribute(l,c),y5.fromBufferAttribute(l,d),h.normal=tl.getInterpolation(c1,Np,kp,Fp,v5,A5,y5,new Rt),h.normal.dot(i.direction)>0&&h.normal.multiplyScalar(-1));const p={a:u,b:c,c:d,normal:new Rt,materialIndex:0};tl.getNormal(Np,kp,Fp,p.normal),h.face=p}return h}class ey extends fs{constructor(e=1,r=1,i=1,o=1,s=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:r,depth:i,widthSegments:o,heightSegments:s,depthSegments:l};const u=this;o=Math.floor(o),s=Math.floor(s),l=Math.floor(l);const c=[],d=[],h=[],p=[];let m=0,v=0;y("z","y","x",-1,-1,i,r,e,l,s,0),y("z","y","x",1,-1,i,r,-e,l,s,1),y("x","z","y",1,1,e,i,r,o,l,2),y("x","z","y",1,-1,e,i,-r,o,l,3),y("x","y","z",1,-1,e,r,i,o,s,4),y("x","y","z",-1,-1,e,r,-i,o,s,5),this.setIndex(c),this.setAttribute("position",new Wo(d,3)),this.setAttribute("normal",new Wo(h,3)),this.setAttribute("uv",new Wo(p,2));function y(A,b,g,w,E,C,_,L,R,P,T){const D=C/R,$=_/P,V=C/2,B=_/2,O=L/2,F=R+1,k=P+1;let z=0,G=0;const j=new Rt;for(let Q=0;Q<k;Q++){const X=Q*$-B;for(let J=0;J<F;J++){const Z=J*D-V;j[A]=Z*w,j[b]=X*E,j[g]=O,d.push(j.x,j.y,j.z),j[A]=0,j[b]=0,j[g]=L>0?1:-1,h.push(j.x,j.y,j.z),p.push(J/R),p.push(1-Q/P),z+=1}}for(let Q=0;Q<P;Q++)for(let X=0;X<R;X++){const J=m+X+F*Q,Z=m+X+F*(Q+1),oe=m+(X+1)+F*(Q+1),ue=m+(X+1)+F*Q;c.push(J,Z,ue),c.push(Z,oe,ue),G+=6}u.addGroup(v,G,T),v+=G,m+=z}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ey(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function lg(n){const e={};for(const r in n){e[r]={};for(const i in n[r]){const o=n[r][i];o&&(o.isColor||o.isMatrix3||o.isMatrix4||o.isVector2||o.isVector3||o.isVector4||o.isTexture||o.isQuaternion)?o.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[r][i]=null):e[r][i]=o.clone():Array.isArray(o)?e[r][i]=o.slice():e[r][i]=o}}return e}function $a(n){const e={};for(let r=0;r<n.length;r++){const i=lg(n[r]);for(const o in i)e[o]=i[o]}return e}function Ywe(n){const e=[];for(let r=0;r<n.length;r++)e.push(n[r].clone());return e}function GG(n){return n.getRenderTarget()===null?n.outputColorSpace:Gi.workingColorSpace}const jG={clone:lg,merge:$a};var Jwe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Zwe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ou extends Ph{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Jwe,this.fragmentShader=Zwe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=lg(e.uniforms),this.uniformsGroups=Ywe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const r=super.toJSON(e);r.glslVersion=this.glslVersion,r.uniforms={};for(const o in this.uniforms){const l=this.uniforms[o].value;l&&l.isTexture?r.uniforms[o]={type:"t",value:l.toJSON(e).uuid}:l&&l.isColor?r.uniforms[o]={type:"c",value:l.getHex()}:l&&l.isVector2?r.uniforms[o]={type:"v2",value:l.toArray()}:l&&l.isVector3?r.uniforms[o]={type:"v3",value:l.toArray()}:l&&l.isVector4?r.uniforms[o]={type:"v4",value:l.toArray()}:l&&l.isMatrix3?r.uniforms[o]={type:"m3",value:l.toArray()}:l&&l.isMatrix4?r.uniforms[o]={type:"m4",value:l.toArray()}:r.uniforms[o]={value:l}}Object.keys(this.defines).length>0&&(r.defines=this.defines),r.vertexShader=this.vertexShader,r.fragmentShader=this.fragmentShader,r.lights=this.lights,r.clipping=this.clipping;const i={};for(const o in this.extensions)this.extensions[o]===!0&&(i[o]=!0);return Object.keys(i).length>0&&(r.extensions=i),r}}class VG extends sa{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new lo,this.projectionMatrix=new lo,this.projectionMatrixInverse=new lo,this.coordinateSystem=gu}copy(e,r){return super.copy(e,r),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,r){super.updateWorldMatrix(e,r),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class nl extends VG{constructor(e=50,r=1,i=.1,o=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=o,this.focus=10,this.aspect=r,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,r){return super.copy(e,r),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const r=.5*this.getFilmHeight()/e;this.fov=wA*2*Math.atan(r),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(U0*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return wA*2*Math.atan(Math.tan(U0*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,r,i,o,s,l){this.aspect=e/r,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=r,this.view.offsetX=i,this.view.offsetY=o,this.view.width=s,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let r=e*Math.tan(U0*.5*this.fov)/this.zoom,i=2*r,o=this.aspect*i,s=-.5*o;const l=this.view;if(this.view!==null&&this.view.enabled){const c=l.fullWidth,d=l.fullHeight;s+=l.offsetX*o/c,r-=l.offsetY*i/d,o*=l.width/c,i*=l.height/d}const u=this.filmOffset;u!==0&&(s+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+o,r,r-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const r=super.toJSON(e);return r.object.fov=this.fov,r.object.zoom=this.zoom,r.object.near=this.near,r.object.far=this.far,r.object.focus=this.focus,r.object.aspect=this.aspect,this.view!==null&&(r.object.view=Object.assign({},this.view)),r.object.filmGauge=this.filmGauge,r.object.filmOffset=this.filmOffset,r}}const Up=-90,zp=1;class eSe extends sa{constructor(e,r,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const o=new nl(Up,zp,e,r);o.layers=this.layers,this.add(o);const s=new nl(Up,zp,e,r);s.layers=this.layers,this.add(s);const l=new nl(Up,zp,e,r);l.layers=this.layers,this.add(l);const u=new nl(Up,zp,e,r);u.layers=this.layers,this.add(u);const c=new nl(Up,zp,e,r);c.layers=this.layers,this.add(c);const d=new nl(Up,zp,e,r);d.layers=this.layers,this.add(d)}updateCoordinateSystem(){const e=this.coordinateSystem,r=this.children.concat(),[i,o,s,l,u,c]=r;for(const d of r)this.remove(d);if(e===gu)i.up.set(0,1,0),i.lookAt(1,0,0),o.up.set(0,1,0),o.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),l.up.set(0,0,1),l.lookAt(0,-1,0),u.up.set(0,1,0),u.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(e===hE)i.up.set(0,-1,0),i.lookAt(-1,0,0),o.up.set(0,-1,0),o.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),l.up.set(0,0,-1),l.lookAt(0,-1,0),u.up.set(0,-1,0),u.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const d of r)this.add(d),d.updateMatrixWorld()}update(e,r){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:o}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,l,u,c,d,h]=this.children,p=e.getRenderTarget(),m=e.getActiveCubeFace(),v=e.getActiveMipmapLevel(),y=e.xr.enabled;e.xr.enabled=!1;const A=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,o),e.render(r,s),e.setRenderTarget(i,1,o),e.render(r,l),e.setRenderTarget(i,2,o),e.render(r,u),e.setRenderTarget(i,3,o),e.render(r,c),e.setRenderTarget(i,4,o),e.render(r,d),i.texture.generateMipmaps=A,e.setRenderTarget(i,5,o),e.render(r,h),e.setRenderTarget(p,m,v),e.xr.enabled=y,i.texture.needsPMREMUpdate=!0}}class WG extends Xa{constructor(e,r,i,o,s,l,u,c,d,h){e=e!==void 0?e:[],r=r!==void 0?r:ig,super(e,r,i,o,s,l,u,c,d,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class tSe extends Kd{constructor(e=1,r={}){super(e,e,r),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},o=[i,i,i,i,i,i];r.encoding!==void 0&&(H0("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===fh?Go:rl),this.texture=new WG(o,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:Rs}fromEquirectangularTexture(e,r){this.texture.type=r.type,this.texture.colorSpace=r.colorSpace,this.texture.generateMipmaps=r.generateMipmaps,this.texture.minFilter=r.minFilter,this.texture.magFilter=r.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},o=new ey(5,5,5),s=new Ou({name:"CubemapFromEquirect",uniforms:lg(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Ka,blending:bu});s.uniforms.tEquirect.value=r;const l=new Hl(o,s),u=r.minFilter;return r.minFilter===CA&&(r.minFilter=Rs),new eSe(1,10,this).update(e,l),r.minFilter=u,l.geometry.dispose(),l.material.dispose(),this}clear(e,r,i,o){const s=e.getRenderTarget();for(let l=0;l<6;l++)e.setRenderTarget(this,l),e.clear(r,i,o);e.setRenderTarget(s)}}const k_=new Rt,nSe=new Rt,rSe=new fi;class du{constructor(e=new Rt(1,0,0),r=0){this.isPlane=!0,this.normal=e,this.constant=r}set(e,r){return this.normal.copy(e),this.constant=r,this}setComponents(e,r,i,o){return this.normal.set(e,r,i),this.constant=o,this}setFromNormalAndCoplanarPoint(e,r){return this.normal.copy(e),this.constant=-r.dot(this.normal),this}setFromCoplanarPoints(e,r,i){const o=k_.subVectors(i,r).cross(nSe.subVectors(e,r)).normalize();return this.setFromNormalAndCoplanarPoint(o,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,r){return r.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,r){const i=e.delta(k_),o=this.normal.dot(i);if(o===0)return this.distanceToPoint(e.start)===0?r.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/o;return s<0||s>1?null:r.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const r=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return r<0&&i>0||i<0&&r>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,r){const i=r||rSe.getNormalMatrix(e),o=this.coplanarPoint(k_).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-o.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Bf=new $C,f1=new Rt;class eP{constructor(e=new du,r=new du,i=new du,o=new du,s=new du,l=new du){this.planes=[e,r,i,o,s,l]}set(e,r,i,o,s,l){const u=this.planes;return u[0].copy(e),u[1].copy(r),u[2].copy(i),u[3].copy(o),u[4].copy(s),u[5].copy(l),this}copy(e){const r=this.planes;for(let i=0;i<6;i++)r[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,r=gu){const i=this.planes,o=e.elements,s=o[0],l=o[1],u=o[2],c=o[3],d=o[4],h=o[5],p=o[6],m=o[7],v=o[8],y=o[9],A=o[10],b=o[11],g=o[12],w=o[13],E=o[14],C=o[15];if(i[0].setComponents(c-s,m-d,b-v,C-g).normalize(),i[1].setComponents(c+s,m+d,b+v,C+g).normalize(),i[2].setComponents(c+l,m+h,b+y,C+w).normalize(),i[3].setComponents(c-l,m-h,b-y,C-w).normalize(),i[4].setComponents(c-u,m-p,b-A,C-E).normalize(),r===gu)i[5].setComponents(c+u,m+p,b+A,C+E).normalize();else if(r===hE)i[5].setComponents(u,p,A,E).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+r);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Bf.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const r=e.geometry;r.boundingSphere===null&&r.computeBoundingSphere(),Bf.copy(r.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Bf)}intersectsSprite(e){return Bf.center.set(0,0,0),Bf.radius=.7071067811865476,Bf.applyMatrix4(e.matrixWorld),this.intersectsSphere(Bf)}intersectsSphere(e){const r=this.planes,i=e.center,o=-e.radius;for(let s=0;s<6;s++)if(r[s].distanceToPoint(i)<o)return!1;return!0}intersectsBox(e){const r=this.planes;for(let i=0;i<6;i++){const o=r[i];if(f1.x=o.normal.x>0?e.max.x:e.min.x,f1.y=o.normal.y>0?e.max.y:e.min.y,f1.z=o.normal.z>0?e.max.z:e.min.z,o.distanceToPoint(f1)<0)return!1}return!0}containsPoint(e){const r=this.planes;for(let i=0;i<6;i++)if(r[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function QG(){let n=null,e=!1,r=null,i=null;function o(s,l){r(s,l),i=n.requestAnimationFrame(o)}return{start:function(){e!==!0&&r!==null&&(i=n.requestAnimationFrame(o),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){r=s},setContext:function(s){n=s}}}function iSe(n,e){const r=e.isWebGL2,i=new WeakMap;function o(d,h){const p=d.array,m=d.usage,v=n.createBuffer();n.bindBuffer(h,v),n.bufferData(h,p,m),d.onUploadCallback();let y;if(p instanceof Float32Array)y=n.FLOAT;else if(p instanceof Uint16Array)if(d.isFloat16BufferAttribute)if(r)y=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=n.UNSIGNED_SHORT;else if(p instanceof Int16Array)y=n.SHORT;else if(p instanceof Uint32Array)y=n.UNSIGNED_INT;else if(p instanceof Int32Array)y=n.INT;else if(p instanceof Int8Array)y=n.BYTE;else if(p instanceof Uint8Array)y=n.UNSIGNED_BYTE;else if(p instanceof Uint8ClampedArray)y=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:v,type:y,bytesPerElement:p.BYTES_PER_ELEMENT,version:d.version}}function s(d,h,p){const m=h.array,v=h.updateRange;n.bindBuffer(p,d),v.count===-1?n.bufferSubData(p,0,m):(r?n.bufferSubData(p,v.offset*m.BYTES_PER_ELEMENT,m,v.offset,v.count):n.bufferSubData(p,v.offset*m.BYTES_PER_ELEMENT,m.subarray(v.offset,v.offset+v.count)),v.count=-1),h.onUploadCallback()}function l(d){return d.isInterleavedBufferAttribute&&(d=d.data),i.get(d)}function u(d){d.isInterleavedBufferAttribute&&(d=d.data);const h=i.get(d);h&&(n.deleteBuffer(h.buffer),i.delete(d))}function c(d,h){if(d.isGLBufferAttribute){const m=i.get(d);(!m||m.version<d.version)&&i.set(d,{buffer:d.buffer,type:d.type,bytesPerElement:d.elementSize,version:d.version});return}d.isInterleavedBufferAttribute&&(d=d.data);const p=i.get(d);p===void 0?i.set(d,o(d,h)):p.version<d.version&&(s(p.buffer,d,h),p.version=d.version)}return{get:l,remove:u,update:c}}class tP extends fs{constructor(e=1,r=1,i=1,o=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:r,widthSegments:i,heightSegments:o};const s=e/2,l=r/2,u=Math.floor(i),c=Math.floor(o),d=u+1,h=c+1,p=e/u,m=r/c,v=[],y=[],A=[],b=[];for(let g=0;g<h;g++){const w=g*m-l;for(let E=0;E<d;E++){const C=E*p-s;y.push(C,-w,0),A.push(0,0,1),b.push(E/u),b.push(1-g/c)}}for(let g=0;g<c;g++)for(let w=0;w<u;w++){const E=w+d*g,C=w+d*(g+1),_=w+1+d*(g+1),L=w+1+d*g;v.push(E,C,L),v.push(C,_,L)}this.setIndex(v),this.setAttribute("position",new Wo(y,3)),this.setAttribute("normal",new Wo(A,3)),this.setAttribute("uv",new Wo(b,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tP(e.width,e.height,e.widthSegments,e.heightSegments)}}var oSe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,aSe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,sSe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,lSe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,cSe=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,uSe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,dSe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,fSe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,hSe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,pSe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,mSe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,gSe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,vSe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,ASe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,ySe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,bSe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,xSe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,ESe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,CSe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,wSe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,SSe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,_Se=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,MSe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,TSe=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,RSe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,ISe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,LSe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,PSe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,BSe="gl_FragColor = linearToOutputTexel( gl_FragColor );",OSe=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,DSe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,NSe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,kSe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,FSe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,USe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,zSe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,HSe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,$Se=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,GSe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,jSe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,VSe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,WSe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,QSe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,KSe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,XSe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,qSe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,YSe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,JSe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,ZSe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,e2e=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,t2e=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,n2e=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,r2e=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,i2e=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,o2e=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,a2e=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,s2e=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,l2e=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,c2e=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,u2e=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,d2e=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,f2e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,h2e=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,p2e=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,m2e=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,g2e=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,v2e=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,A2e=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,y2e=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,b2e=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,x2e=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,E2e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,C2e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,w2e=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,S2e=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,_2e=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,M2e=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,T2e=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,R2e=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,I2e=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,L2e=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,P2e=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,B2e=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,O2e=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,D2e=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,N2e=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,k2e=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,F2e=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,U2e=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,z2e=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,H2e=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,$2e=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,G2e=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,j2e=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,V2e=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,W2e=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Q2e=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,K2e=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,X2e=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,q2e=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Y2e=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,J2e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Z2e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,e_e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,t_e=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const n_e=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,r_e=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,i_e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,o_e=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,a_e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,s_e=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,l_e=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,c_e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,u_e=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,d_e=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,f_e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,h_e=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,p_e=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,m_e=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,g_e=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,v_e=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,A_e=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,y_e=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,b_e=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,x_e=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,E_e=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,C_e=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,w_e=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,S_e=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,__e=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,M_e=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,T_e=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,R_e=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,I_e=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,L_e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,P_e=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,B_e=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,O_e=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,D_e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ai={alphahash_fragment:oSe,alphahash_pars_fragment:aSe,alphamap_fragment:sSe,alphamap_pars_fragment:lSe,alphatest_fragment:cSe,alphatest_pars_fragment:uSe,aomap_fragment:dSe,aomap_pars_fragment:fSe,begin_vertex:hSe,beginnormal_vertex:pSe,bsdfs:mSe,iridescence_fragment:gSe,bumpmap_pars_fragment:vSe,clipping_planes_fragment:ASe,clipping_planes_pars_fragment:ySe,clipping_planes_pars_vertex:bSe,clipping_planes_vertex:xSe,color_fragment:ESe,color_pars_fragment:CSe,color_pars_vertex:wSe,color_vertex:SSe,common:_Se,cube_uv_reflection_fragment:MSe,defaultnormal_vertex:TSe,displacementmap_pars_vertex:RSe,displacementmap_vertex:ISe,emissivemap_fragment:LSe,emissivemap_pars_fragment:PSe,colorspace_fragment:BSe,colorspace_pars_fragment:OSe,envmap_fragment:DSe,envmap_common_pars_fragment:NSe,envmap_pars_fragment:kSe,envmap_pars_vertex:FSe,envmap_physical_pars_fragment:qSe,envmap_vertex:USe,fog_vertex:zSe,fog_pars_vertex:HSe,fog_fragment:$Se,fog_pars_fragment:GSe,gradientmap_pars_fragment:jSe,lightmap_fragment:VSe,lightmap_pars_fragment:WSe,lights_lambert_fragment:QSe,lights_lambert_pars_fragment:KSe,lights_pars_begin:XSe,lights_toon_fragment:YSe,lights_toon_pars_fragment:JSe,lights_phong_fragment:ZSe,lights_phong_pars_fragment:e2e,lights_physical_fragment:t2e,lights_physical_pars_fragment:n2e,lights_fragment_begin:r2e,lights_fragment_maps:i2e,lights_fragment_end:o2e,logdepthbuf_fragment:a2e,logdepthbuf_pars_fragment:s2e,logdepthbuf_pars_vertex:l2e,logdepthbuf_vertex:c2e,map_fragment:u2e,map_pars_fragment:d2e,map_particle_fragment:f2e,map_particle_pars_fragment:h2e,metalnessmap_fragment:p2e,metalnessmap_pars_fragment:m2e,morphcolor_vertex:g2e,morphnormal_vertex:v2e,morphtarget_pars_vertex:A2e,morphtarget_vertex:y2e,normal_fragment_begin:b2e,normal_fragment_maps:x2e,normal_pars_fragment:E2e,normal_pars_vertex:C2e,normal_vertex:w2e,normalmap_pars_fragment:S2e,clearcoat_normal_fragment_begin:_2e,clearcoat_normal_fragment_maps:M2e,clearcoat_pars_fragment:T2e,iridescence_pars_fragment:R2e,opaque_fragment:I2e,packing:L2e,premultiplied_alpha_fragment:P2e,project_vertex:B2e,dithering_fragment:O2e,dithering_pars_fragment:D2e,roughnessmap_fragment:N2e,roughnessmap_pars_fragment:k2e,shadowmap_pars_fragment:F2e,shadowmap_pars_vertex:U2e,shadowmap_vertex:z2e,shadowmask_pars_fragment:H2e,skinbase_vertex:$2e,skinning_pars_vertex:G2e,skinning_vertex:j2e,skinnormal_vertex:V2e,specularmap_fragment:W2e,specularmap_pars_fragment:Q2e,tonemapping_fragment:K2e,tonemapping_pars_fragment:X2e,transmission_fragment:q2e,transmission_pars_fragment:Y2e,uv_pars_fragment:J2e,uv_pars_vertex:Z2e,uv_vertex:e_e,worldpos_vertex:t_e,background_vert:n_e,background_frag:r_e,backgroundCube_vert:i_e,backgroundCube_frag:o_e,cube_vert:a_e,cube_frag:s_e,depth_vert:l_e,depth_frag:c_e,distanceRGBA_vert:u_e,distanceRGBA_frag:d_e,equirect_vert:f_e,equirect_frag:h_e,linedashed_vert:p_e,linedashed_frag:m_e,meshbasic_vert:g_e,meshbasic_frag:v_e,meshlambert_vert:A_e,meshlambert_frag:y_e,meshmatcap_vert:b_e,meshmatcap_frag:x_e,meshnormal_vert:E_e,meshnormal_frag:C_e,meshphong_vert:w_e,meshphong_frag:S_e,meshphysical_vert:__e,meshphysical_frag:M_e,meshtoon_vert:T_e,meshtoon_frag:R_e,points_vert:I_e,points_frag:L_e,shadow_vert:P_e,shadow_frag:B_e,sprite_vert:O_e,sprite_frag:D_e},ar={common:{diffuse:{value:new mi(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new fi},alphaMap:{value:null},alphaMapTransform:{value:new fi},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new fi}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new fi}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new fi}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new fi},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new fi},normalScale:{value:new tr(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new fi},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new fi}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new fi}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new fi}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new mi(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new mi(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new fi},alphaTest:{value:0},uvTransform:{value:new fi}},sprite:{diffuse:{value:new mi(16777215)},opacity:{value:1},center:{value:new tr(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new fi},alphaMap:{value:null},alphaMapTransform:{value:new fi},alphaTest:{value:0}}},hc={basic:{uniforms:$a([ar.common,ar.specularmap,ar.envmap,ar.aomap,ar.lightmap,ar.fog]),vertexShader:ai.meshbasic_vert,fragmentShader:ai.meshbasic_frag},lambert:{uniforms:$a([ar.common,ar.specularmap,ar.envmap,ar.aomap,ar.lightmap,ar.emissivemap,ar.bumpmap,ar.normalmap,ar.displacementmap,ar.fog,ar.lights,{emissive:{value:new mi(0)}}]),vertexShader:ai.meshlambert_vert,fragmentShader:ai.meshlambert_frag},phong:{uniforms:$a([ar.common,ar.specularmap,ar.envmap,ar.aomap,ar.lightmap,ar.emissivemap,ar.bumpmap,ar.normalmap,ar.displacementmap,ar.fog,ar.lights,{emissive:{value:new mi(0)},specular:{value:new mi(1118481)},shininess:{value:30}}]),vertexShader:ai.meshphong_vert,fragmentShader:ai.meshphong_frag},standard:{uniforms:$a([ar.common,ar.envmap,ar.aomap,ar.lightmap,ar.emissivemap,ar.bumpmap,ar.normalmap,ar.displacementmap,ar.roughnessmap,ar.metalnessmap,ar.fog,ar.lights,{emissive:{value:new mi(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ai.meshphysical_vert,fragmentShader:ai.meshphysical_frag},toon:{uniforms:$a([ar.common,ar.aomap,ar.lightmap,ar.emissivemap,ar.bumpmap,ar.normalmap,ar.displacementmap,ar.gradientmap,ar.fog,ar.lights,{emissive:{value:new mi(0)}}]),vertexShader:ai.meshtoon_vert,fragmentShader:ai.meshtoon_frag},matcap:{uniforms:$a([ar.common,ar.bumpmap,ar.normalmap,ar.displacementmap,ar.fog,{matcap:{value:null}}]),vertexShader:ai.meshmatcap_vert,fragmentShader:ai.meshmatcap_frag},points:{uniforms:$a([ar.points,ar.fog]),vertexShader:ai.points_vert,fragmentShader:ai.points_frag},dashed:{uniforms:$a([ar.common,ar.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ai.linedashed_vert,fragmentShader:ai.linedashed_frag},depth:{uniforms:$a([ar.common,ar.displacementmap]),vertexShader:ai.depth_vert,fragmentShader:ai.depth_frag},normal:{uniforms:$a([ar.common,ar.bumpmap,ar.normalmap,ar.displacementmap,{opacity:{value:1}}]),vertexShader:ai.meshnormal_vert,fragmentShader:ai.meshnormal_frag},sprite:{uniforms:$a([ar.sprite,ar.fog]),vertexShader:ai.sprite_vert,fragmentShader:ai.sprite_frag},background:{uniforms:{uvTransform:{value:new fi},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ai.background_vert,fragmentShader:ai.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:ai.backgroundCube_vert,fragmentShader:ai.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ai.cube_vert,fragmentShader:ai.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ai.equirect_vert,fragmentShader:ai.equirect_frag},distanceRGBA:{uniforms:$a([ar.common,ar.displacementmap,{referencePosition:{value:new Rt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ai.distanceRGBA_vert,fragmentShader:ai.distanceRGBA_frag},shadow:{uniforms:$a([ar.lights,ar.fog,{color:{value:new mi(0)},opacity:{value:1}}]),vertexShader:ai.shadow_vert,fragmentShader:ai.shadow_frag}};hc.physical={uniforms:$a([hc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new fi},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new fi},clearcoatNormalScale:{value:new tr(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new fi},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new fi},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new fi},sheen:{value:0},sheenColor:{value:new mi(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new fi},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new fi},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new fi},transmissionSamplerSize:{value:new tr},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new fi},attenuationDistance:{value:0},attenuationColor:{value:new mi(0)},specularColor:{value:new mi(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new fi},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new fi},anisotropyVector:{value:new tr},anisotropyMap:{value:null},anisotropyMapTransform:{value:new fi}}]),vertexShader:ai.meshphysical_vert,fragmentShader:ai.meshphysical_frag};const h1={r:0,b:0,g:0};function N_e(n,e,r,i,o,s,l){const u=new mi(0);let c=s===!0?0:1,d,h,p=null,m=0,v=null;function y(b,g){let w=!1,E=g.isScene===!0?g.background:null;E&&E.isTexture&&(E=(g.backgroundBlurriness>0?r:e).get(E)),E===null?A(u,c):E&&E.isColor&&(A(E,1),w=!0);const C=n.xr.getEnvironmentBlendMode();C==="additive"?i.buffers.color.setClear(0,0,0,1,l):C==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,l),(n.autoClear||w)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),E&&(E.isCubeTexture||E.mapping===zC)?(h===void 0&&(h=new Hl(new ey(1,1,1),new Ou({name:"BackgroundCubeMaterial",uniforms:lg(hc.backgroundCube.uniforms),vertexShader:hc.backgroundCube.vertexShader,fragmentShader:hc.backgroundCube.fragmentShader,side:Ka,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(_,L,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),o.update(h)),h.material.uniforms.envMap.value=E,h.material.uniforms.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,h.material.toneMapped=Gi.getTransfer(E.colorSpace)!==eo,(p!==E||m!==E.version||v!==n.toneMapping)&&(h.material.needsUpdate=!0,p=E,m=E.version,v=n.toneMapping),h.layers.enableAll(),b.unshift(h,h.geometry,h.material,0,0,null)):E&&E.isTexture&&(d===void 0&&(d=new Hl(new tP(2,2),new Ou({name:"BackgroundMaterial",uniforms:lg(hc.background.uniforms),vertexShader:hc.background.vertexShader,fragmentShader:hc.background.fragmentShader,side:Qd,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),o.update(d)),d.material.uniforms.t2D.value=E,d.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,d.material.toneMapped=Gi.getTransfer(E.colorSpace)!==eo,E.matrixAutoUpdate===!0&&E.updateMatrix(),d.material.uniforms.uvTransform.value.copy(E.matrix),(p!==E||m!==E.version||v!==n.toneMapping)&&(d.material.needsUpdate=!0,p=E,m=E.version,v=n.toneMapping),d.layers.enableAll(),b.unshift(d,d.geometry,d.material,0,0,null))}function A(b,g){b.getRGB(h1,GG(n)),i.buffers.color.setClear(h1.r,h1.g,h1.b,g,l)}return{getClearColor:function(){return u},setClearColor:function(b,g=1){u.set(b),c=g,A(u,c)},getClearAlpha:function(){return c},setClearAlpha:function(b){c=b,A(u,c)},render:y}}function k_e(n,e,r,i){const o=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),l=i.isWebGL2||s!==null,u={},c=b(null);let d=c,h=!1;function p(O,F,k,z,G){let j=!1;if(l){const Q=A(z,k,F);d!==Q&&(d=Q,v(d.object)),j=g(O,z,k,G),j&&w(O,z,k,G)}else{const Q=F.wireframe===!0;(d.geometry!==z.id||d.program!==k.id||d.wireframe!==Q)&&(d.geometry=z.id,d.program=k.id,d.wireframe=Q,j=!0)}G!==null&&r.update(G,n.ELEMENT_ARRAY_BUFFER),(j||h)&&(h=!1,P(O,F,k,z),G!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,r.get(G).buffer))}function m(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function v(O){return i.isWebGL2?n.bindVertexArray(O):s.bindVertexArrayOES(O)}function y(O){return i.isWebGL2?n.deleteVertexArray(O):s.deleteVertexArrayOES(O)}function A(O,F,k){const z=k.wireframe===!0;let G=u[O.id];G===void 0&&(G={},u[O.id]=G);let j=G[F.id];j===void 0&&(j={},G[F.id]=j);let Q=j[z];return Q===void 0&&(Q=b(m()),j[z]=Q),Q}function b(O){const F=[],k=[],z=[];for(let G=0;G<o;G++)F[G]=0,k[G]=0,z[G]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:F,enabledAttributes:k,attributeDivisors:z,object:O,attributes:{},index:null}}function g(O,F,k,z){const G=d.attributes,j=F.attributes;let Q=0;const X=k.getAttributes();for(const J in X)if(X[J].location>=0){const oe=G[J];let ue=j[J];if(ue===void 0&&(J==="instanceMatrix"&&O.instanceMatrix&&(ue=O.instanceMatrix),J==="instanceColor"&&O.instanceColor&&(ue=O.instanceColor)),oe===void 0||oe.attribute!==ue||ue&&oe.data!==ue.data)return!0;Q++}return d.attributesNum!==Q||d.index!==z}function w(O,F,k,z){const G={},j=F.attributes;let Q=0;const X=k.getAttributes();for(const J in X)if(X[J].location>=0){let oe=j[J];oe===void 0&&(J==="instanceMatrix"&&O.instanceMatrix&&(oe=O.instanceMatrix),J==="instanceColor"&&O.instanceColor&&(oe=O.instanceColor));const ue={};ue.attribute=oe,oe&&oe.data&&(ue.data=oe.data),G[J]=ue,Q++}d.attributes=G,d.attributesNum=Q,d.index=z}function E(){const O=d.newAttributes;for(let F=0,k=O.length;F<k;F++)O[F]=0}function C(O){_(O,0)}function _(O,F){const k=d.newAttributes,z=d.enabledAttributes,G=d.attributeDivisors;k[O]=1,z[O]===0&&(n.enableVertexAttribArray(O),z[O]=1),G[O]!==F&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](O,F),G[O]=F)}function L(){const O=d.newAttributes,F=d.enabledAttributes;for(let k=0,z=F.length;k<z;k++)F[k]!==O[k]&&(n.disableVertexAttribArray(k),F[k]=0)}function R(O,F,k,z,G,j,Q){Q===!0?n.vertexAttribIPointer(O,F,k,G,j):n.vertexAttribPointer(O,F,k,z,G,j)}function P(O,F,k,z){if(i.isWebGL2===!1&&(O.isInstancedMesh||z.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;E();const G=z.attributes,j=k.getAttributes(),Q=F.defaultAttributeValues;for(const X in j){const J=j[X];if(J.location>=0){let Z=G[X];if(Z===void 0&&(X==="instanceMatrix"&&O.instanceMatrix&&(Z=O.instanceMatrix),X==="instanceColor"&&O.instanceColor&&(Z=O.instanceColor)),Z!==void 0){const oe=Z.normalized,ue=Z.itemSize,Be=r.get(Z);if(Be===void 0)continue;const ge=Be.buffer,Ie=Be.type,He=Be.bytesPerElement,Ze=i.isWebGL2===!0&&(Ie===n.INT||Ie===n.UNSIGNED_INT||Z.gpuType===TG);if(Z.isInterleavedBufferAttribute){const Xe=Z.data,ke=Xe.stride,lt=Z.offset;if(Xe.isInstancedInterleavedBuffer){for(let ot=0;ot<J.locationSize;ot++)_(J.location+ot,Xe.meshPerAttribute);O.isInstancedMesh!==!0&&z._maxInstanceCount===void 0&&(z._maxInstanceCount=Xe.meshPerAttribute*Xe.count)}else for(let ot=0;ot<J.locationSize;ot++)C(J.location+ot);n.bindBuffer(n.ARRAY_BUFFER,ge);for(let ot=0;ot<J.locationSize;ot++)R(J.location+ot,ue/J.locationSize,Ie,oe,ke*He,(lt+ue/J.locationSize*ot)*He,Ze)}else{if(Z.isInstancedBufferAttribute){for(let Xe=0;Xe<J.locationSize;Xe++)_(J.location+Xe,Z.meshPerAttribute);O.isInstancedMesh!==!0&&z._maxInstanceCount===void 0&&(z._maxInstanceCount=Z.meshPerAttribute*Z.count)}else for(let Xe=0;Xe<J.locationSize;Xe++)C(J.location+Xe);n.bindBuffer(n.ARRAY_BUFFER,ge);for(let Xe=0;Xe<J.locationSize;Xe++)R(J.location+Xe,ue/J.locationSize,Ie,oe,ue*He,ue/J.locationSize*Xe*He,Ze)}}else if(Q!==void 0){const oe=Q[X];if(oe!==void 0)switch(oe.length){case 2:n.vertexAttrib2fv(J.location,oe);break;case 3:n.vertexAttrib3fv(J.location,oe);break;case 4:n.vertexAttrib4fv(J.location,oe);break;default:n.vertexAttrib1fv(J.location,oe)}}}}L()}function T(){V();for(const O in u){const F=u[O];for(const k in F){const z=F[k];for(const G in z)y(z[G].object),delete z[G];delete F[k]}delete u[O]}}function D(O){if(u[O.id]===void 0)return;const F=u[O.id];for(const k in F){const z=F[k];for(const G in z)y(z[G].object),delete z[G];delete F[k]}delete u[O.id]}function $(O){for(const F in u){const k=u[F];if(k[O.id]===void 0)continue;const z=k[O.id];for(const G in z)y(z[G].object),delete z[G];delete k[O.id]}}function V(){B(),h=!0,d!==c&&(d=c,v(d.object))}function B(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:p,reset:V,resetDefaultState:B,dispose:T,releaseStatesOfGeometry:D,releaseStatesOfProgram:$,initAttributes:E,enableAttribute:C,disableUnusedAttributes:L}}function F_e(n,e,r,i){const o=i.isWebGL2;let s;function l(d){s=d}function u(d,h){n.drawArrays(s,d,h),r.update(h,s,1)}function c(d,h,p){if(p===0)return;let m,v;if(o)m=n,v="drawArraysInstanced";else if(m=e.get("ANGLE_instanced_arrays"),v="drawArraysInstancedANGLE",m===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}m[v](s,d,h,p),r.update(h,s,p)}this.setMode=l,this.render=u,this.renderInstances=c}function U_e(n,e,r){let i;function o(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(R){if(R==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";R="mediump"}return R==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const l=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let u=r.precision!==void 0?r.precision:"highp";const c=s(u);c!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",c,"instead."),u=c);const d=l||e.has("WEBGL_draw_buffers"),h=r.logarithmicDepthBuffer===!0,p=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),v=n.getParameter(n.MAX_TEXTURE_SIZE),y=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),A=n.getParameter(n.MAX_VERTEX_ATTRIBS),b=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),g=n.getParameter(n.MAX_VARYING_VECTORS),w=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),E=m>0,C=l||e.has("OES_texture_float"),_=E&&C,L=l?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:l,drawBuffers:d,getMaxAnisotropy:o,getMaxPrecision:s,precision:u,logarithmicDepthBuffer:h,maxTextures:p,maxVertexTextures:m,maxTextureSize:v,maxCubemapSize:y,maxAttributes:A,maxVertexUniforms:b,maxVaryings:g,maxFragmentUniforms:w,vertexTextures:E,floatFragmentTextures:C,floatVertexTextures:_,maxSamples:L}}function z_e(n){const e=this;let r=null,i=0,o=!1,s=!1;const l=new du,u=new fi,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(p,m){const v=p.length!==0||m||i!==0||o;return o=m,i=p.length,v},this.beginShadows=function(){s=!0,h(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(p,m){r=h(p,m,0)},this.setState=function(p,m,v){const y=p.clippingPlanes,A=p.clipIntersection,b=p.clipShadows,g=n.get(p);if(!o||y===null||y.length===0||s&&!b)s?h(null):d();else{const w=s?0:i,E=w*4;let C=g.clippingState||null;c.value=C,C=h(y,m,E,v);for(let _=0;_!==E;++_)C[_]=r[_];g.clippingState=C,this.numIntersection=A?this.numPlanes:0,this.numPlanes+=w}};function d(){c.value!==r&&(c.value=r,c.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function h(p,m,v,y){const A=p!==null?p.length:0;let b=null;if(A!==0){if(b=c.value,y!==!0||b===null){const g=v+A*4,w=m.matrixWorldInverse;u.getNormalMatrix(w),(b===null||b.length<g)&&(b=new Float32Array(g));for(let E=0,C=v;E!==A;++E,C+=4)l.copy(p[E]).applyMatrix4(w,u),l.normal.toArray(b,C),b[C+3]=l.constant}c.value=b,c.needsUpdate=!0}return e.numPlanes=A,e.numIntersection=0,b}}function H_e(n){let e=new WeakMap;function r(l,u){return u===z3?l.mapping=ig:u===H3&&(l.mapping=og),l}function i(l){if(l&&l.isTexture&&l.isRenderTargetTexture===!1){const u=l.mapping;if(u===z3||u===H3)if(e.has(l)){const c=e.get(l).texture;return r(c,l.mapping)}else{const c=l.image;if(c&&c.height>0){const d=new tSe(c.height/2);return d.fromEquirectangularTexture(n,l),e.set(l,d),l.addEventListener("dispose",o),r(d.texture,l.mapping)}else return null}}return l}function o(l){const u=l.target;u.removeEventListener("dispose",o);const c=e.get(u);c!==void 0&&(e.delete(u),c.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class nP extends VG{constructor(e=-1,r=1,i=1,o=-1,s=.1,l=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=r,this.top=i,this.bottom=o,this.near=s,this.far=l,this.updateProjectionMatrix()}copy(e,r){return super.copy(e,r),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,r,i,o,s,l){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=r,this.view.offsetX=i,this.view.offsetY=o,this.view.width=s,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),r=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,o=(this.top+this.bottom)/2;let s=i-e,l=i+e,u=o+r,c=o-r;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=d*this.view.offsetX,l=s+d*this.view.width,u-=h*this.view.offsetY,c=u-h*this.view.height}this.projectionMatrix.makeOrthographic(s,l,u,c,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const r=super.toJSON(e);return r.object.zoom=this.zoom,r.object.left=this.left,r.object.right=this.right,r.object.top=this.top,r.object.bottom=this.bottom,r.object.near=this.near,r.object.far=this.far,this.view!==null&&(r.object.view=Object.assign({},this.view)),r}}const vm=4,b5=[.125,.215,.35,.446,.526,.582],Vf=20,F_=new nP,x5=new mi;let U_=null,z_=0,H_=0;const Uf=(1+Math.sqrt(5))/2,Hp=1/Uf,E5=[new Rt(1,1,1),new Rt(-1,1,1),new Rt(1,1,-1),new Rt(-1,1,-1),new Rt(0,Uf,Hp),new Rt(0,Uf,-Hp),new Rt(Hp,0,Uf),new Rt(-Hp,0,Uf),new Rt(Uf,Hp,0),new Rt(-Uf,Hp,0)];class C5{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,r=0,i=.1,o=100){U_=this._renderer.getRenderTarget(),z_=this._renderer.getActiveCubeFace(),H_=this._renderer.getActiveMipmapLevel(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,o,s),r>0&&this._blur(s,0,0,r),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,r=null){return this._fromTexture(e,r)}fromCubemap(e,r=null){return this._fromTexture(e,r)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_5(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=S5(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(U_,z_,H_),e.scissorTest=!1,p1(e,0,0,e.width,e.height)}_fromTexture(e,r){e.mapping===ig||e.mapping===og?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),U_=this._renderer.getRenderTarget(),z_=this._renderer.getActiveCubeFace(),H_=this._renderer.getActiveMipmapLevel();const i=r||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),r=4*this._cubeSize,i={magFilter:Rs,minFilter:Rs,generateMipmaps:!1,type:ag,format:Fl,colorSpace:Bu,depthBuffer:!1},o=w5(e,r,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==r){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=w5(e,r,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=$_e(s)),this._blurMaterial=G_e(s,e,r)}return o}_compileMaterial(e){const r=new Hl(this._lodPlanes[0],e);this._renderer.compile(r,F_)}_sceneToCubeUV(e,r,i,o){const u=new nl(90,1,r,i),c=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],h=this._renderer,p=h.autoClear,m=h.toneMapping;h.getClearColor(x5),h.toneMapping=Hd,h.autoClear=!1;const v=new ZL({name:"PMREM.Background",side:Ka,depthWrite:!1,depthTest:!1}),y=new Hl(new ey,v);let A=!1;const b=e.background;b?b.isColor&&(v.color.copy(b),e.background=null,A=!0):(v.color.copy(x5),A=!0);for(let g=0;g<6;g++){const w=g%3;w===0?(u.up.set(0,c[g],0),u.lookAt(d[g],0,0)):w===1?(u.up.set(0,0,c[g]),u.lookAt(0,d[g],0)):(u.up.set(0,c[g],0),u.lookAt(0,0,d[g]));const E=this._cubeSize;p1(o,w*E,g>2?E:0,E,E),h.setRenderTarget(o),A&&h.render(y,u),h.render(e,u)}y.geometry.dispose(),y.material.dispose(),h.toneMapping=m,h.autoClear=p,e.background=b}_textureToCubeUV(e,r){const i=this._renderer,o=e.mapping===ig||e.mapping===og;o?(this._cubemapMaterial===null&&(this._cubemapMaterial=_5()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=S5());const s=o?this._cubemapMaterial:this._equirectMaterial,l=new Hl(this._lodPlanes[0],s),u=s.uniforms;u.envMap.value=e;const c=this._cubeSize;p1(r,0,0,3*c,2*c),i.setRenderTarget(r),i.render(l,F_)}_applyPMREM(e){const r=this._renderer,i=r.autoClear;r.autoClear=!1;for(let o=1;o<this._lodPlanes.length;o++){const s=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),l=E5[(o-1)%E5.length];this._blur(e,o-1,o,s,l)}r.autoClear=i}_blur(e,r,i,o,s){const l=this._pingPongRenderTarget;this._halfBlur(e,l,r,i,o,"latitudinal",s),this._halfBlur(l,e,i,i,o,"longitudinal",s)}_halfBlur(e,r,i,o,s,l,u){const c=this._renderer,d=this._blurMaterial;l!=="latitudinal"&&l!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,p=new Hl(this._lodPlanes[o],d),m=d.uniforms,v=this._sizeLods[i]-1,y=isFinite(s)?Math.PI/(2*v):2*Math.PI/(2*Vf-1),A=s/y,b=isFinite(s)?1+Math.floor(h*A):Vf;b>Vf&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${b} samples when the maximum is set to ${Vf}`);const g=[];let w=0;for(let R=0;R<Vf;++R){const P=R/A,T=Math.exp(-P*P/2);g.push(T),R===0?w+=T:R<b&&(w+=2*T)}for(let R=0;R<g.length;R++)g[R]=g[R]/w;m.envMap.value=e.texture,m.samples.value=b,m.weights.value=g,m.latitudinal.value=l==="latitudinal",u&&(m.poleAxis.value=u);const{_lodMax:E}=this;m.dTheta.value=y,m.mipInt.value=E-i;const C=this._sizeLods[o],_=3*C*(o>E-vm?o-E+vm:0),L=4*(this._cubeSize-C);p1(r,_,L,3*C,2*C),c.setRenderTarget(r),c.render(p,F_)}}function $_e(n){const e=[],r=[],i=[];let o=n;const s=n-vm+1+b5.length;for(let l=0;l<s;l++){const u=Math.pow(2,o);r.push(u);let c=1/u;l>n-vm?c=b5[l-n+vm-1]:l===0&&(c=0),i.push(c);const d=1/(u-2),h=-d,p=1+d,m=[h,h,p,h,p,p,h,h,p,p,h,p],v=6,y=6,A=3,b=2,g=1,w=new Float32Array(A*y*v),E=new Float32Array(b*y*v),C=new Float32Array(g*y*v);for(let L=0;L<v;L++){const R=L%3*2/3-1,P=L>2?0:-1,T=[R,P,0,R+2/3,P,0,R+2/3,P+1,0,R,P,0,R+2/3,P+1,0,R,P+1,0];w.set(T,A*y*L),E.set(m,b*y*L);const D=[L,L,L,L,L,L];C.set(D,g*y*L)}const _=new fs;_.setAttribute("position",new sl(w,A)),_.setAttribute("uv",new sl(E,b)),_.setAttribute("faceIndex",new sl(C,g)),e.push(_),o>vm&&o--}return{lodPlanes:e,sizeLods:r,sigmas:i}}function w5(n,e,r){const i=new Kd(n,e,r);return i.texture.mapping=zC,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function p1(n,e,r,i,o){n.viewport.set(e,r,i,o),n.scissor.set(e,r,i,o)}function G_e(n,e,r){const i=new Float32Array(Vf),o=new Rt(0,1,0);return new Ou({name:"SphericalGaussianBlur",defines:{n:Vf,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/r,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:o}},vertexShader:rP(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:bu,depthTest:!1,depthWrite:!1})}function S5(){return new Ou({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:rP(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:bu,depthTest:!1,depthWrite:!1})}function _5(){return new Ou({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:rP(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:bu,depthTest:!1,depthWrite:!1})}function rP(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function j_e(n){let e=new WeakMap,r=null;function i(u){if(u&&u.isTexture){const c=u.mapping,d=c===z3||c===H3,h=c===ig||c===og;if(d||h)if(u.isRenderTargetTexture&&u.needsPMREMUpdate===!0){u.needsPMREMUpdate=!1;let p=e.get(u);return r===null&&(r=new C5(n)),p=d?r.fromEquirectangular(u,p):r.fromCubemap(u,p),e.set(u,p),p.texture}else{if(e.has(u))return e.get(u).texture;{const p=u.image;if(d&&p&&p.height>0||h&&p&&o(p)){r===null&&(r=new C5(n));const m=d?r.fromEquirectangular(u):r.fromCubemap(u);return e.set(u,m),u.addEventListener("dispose",s),m.texture}else return null}}}return u}function o(u){let c=0;const d=6;for(let h=0;h<d;h++)u[h]!==void 0&&c++;return c===d}function s(u){const c=u.target;c.removeEventListener("dispose",s);const d=e.get(c);d!==void 0&&(e.delete(c),d.dispose())}function l(){e=new WeakMap,r!==null&&(r.dispose(),r=null)}return{get:i,dispose:l}}function V_e(n){const e={};function r(i){if(e[i]!==void 0)return e[i];let o;switch(i){case"WEBGL_depth_texture":o=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":o=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":o=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":o=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:o=n.getExtension(i)}return e[i]=o,o}return{has:function(i){return r(i)!==null},init:function(i){i.isWebGL2?r("EXT_color_buffer_float"):(r("WEBGL_depth_texture"),r("OES_texture_float"),r("OES_texture_half_float"),r("OES_texture_half_float_linear"),r("OES_standard_derivatives"),r("OES_element_index_uint"),r("OES_vertex_array_object"),r("ANGLE_instanced_arrays")),r("OES_texture_float_linear"),r("EXT_color_buffer_half_float"),r("WEBGL_multisampled_render_to_texture")},get:function(i){const o=r(i);return o===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),o}}}function W_e(n,e,r,i){const o={},s=new WeakMap;function l(p){const m=p.target;m.index!==null&&e.remove(m.index);for(const y in m.attributes)e.remove(m.attributes[y]);for(const y in m.morphAttributes){const A=m.morphAttributes[y];for(let b=0,g=A.length;b<g;b++)e.remove(A[b])}m.removeEventListener("dispose",l),delete o[m.id];const v=s.get(m);v&&(e.remove(v),s.delete(m)),i.releaseStatesOfGeometry(m),m.isInstancedBufferGeometry===!0&&delete m._maxInstanceCount,r.memory.geometries--}function u(p,m){return o[m.id]===!0||(m.addEventListener("dispose",l),o[m.id]=!0,r.memory.geometries++),m}function c(p){const m=p.attributes;for(const y in m)e.update(m[y],n.ARRAY_BUFFER);const v=p.morphAttributes;for(const y in v){const A=v[y];for(let b=0,g=A.length;b<g;b++)e.update(A[b],n.ARRAY_BUFFER)}}function d(p){const m=[],v=p.index,y=p.attributes.position;let A=0;if(v!==null){const w=v.array;A=v.version;for(let E=0,C=w.length;E<C;E+=3){const _=w[E+0],L=w[E+1],R=w[E+2];m.push(_,L,L,R,R,_)}}else if(y!==void 0){const w=y.array;A=y.version;for(let E=0,C=w.length/3-1;E<C;E+=3){const _=E+0,L=E+1,R=E+2;m.push(_,L,L,R,R,_)}}else return;const b=new(NG(m)?$G:HG)(m,1);b.version=A;const g=s.get(p);g&&e.remove(g),s.set(p,b)}function h(p){const m=s.get(p);if(m){const v=p.index;v!==null&&m.version<v.version&&d(p)}else d(p);return s.get(p)}return{get:u,update:c,getWireframeAttribute:h}}function Q_e(n,e,r,i){const o=i.isWebGL2;let s;function l(m){s=m}let u,c;function d(m){u=m.type,c=m.bytesPerElement}function h(m,v){n.drawElements(s,v,u,m*c),r.update(v,s,1)}function p(m,v,y){if(y===0)return;let A,b;if(o)A=n,b="drawElementsInstanced";else if(A=e.get("ANGLE_instanced_arrays"),b="drawElementsInstancedANGLE",A===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}A[b](s,v,u,m*c,y),r.update(v,s,y)}this.setMode=l,this.setIndex=d,this.render=h,this.renderInstances=p}function K_e(n){const e={geometries:0,textures:0},r={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,l,u){switch(r.calls++,l){case n.TRIANGLES:r.triangles+=u*(s/3);break;case n.LINES:r.lines+=u*(s/2);break;case n.LINE_STRIP:r.lines+=u*(s-1);break;case n.LINE_LOOP:r.lines+=u*s;break;case n.POINTS:r.points+=u*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",l);break}}function o(){r.calls=0,r.triangles=0,r.points=0,r.lines=0}return{memory:e,render:r,programs:null,autoReset:!0,reset:o,update:i}}function X_e(n,e){return n[0]-e[0]}function q_e(n,e){return Math.abs(e[1])-Math.abs(n[1])}function Y_e(n,e,r){const i={},o=new Float32Array(8),s=new WeakMap,l=new oa,u=[];for(let d=0;d<8;d++)u[d]=[d,0];function c(d,h,p){const m=d.morphTargetInfluences;if(e.isWebGL2===!0){const y=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,A=y!==void 0?y.length:0;let b=s.get(h);if(b===void 0||b.count!==A){let F=function(){B.dispose(),s.delete(h),h.removeEventListener("dispose",F)};var v=F;b!==void 0&&b.texture.dispose();const E=h.morphAttributes.position!==void 0,C=h.morphAttributes.normal!==void 0,_=h.morphAttributes.color!==void 0,L=h.morphAttributes.position||[],R=h.morphAttributes.normal||[],P=h.morphAttributes.color||[];let T=0;E===!0&&(T=1),C===!0&&(T=2),_===!0&&(T=3);let D=h.attributes.position.count*T,$=1;D>e.maxTextureSize&&($=Math.ceil(D/e.maxTextureSize),D=e.maxTextureSize);const V=new Float32Array(D*$*4*A),B=new UG(V,D,$,A);B.type=Pd,B.needsUpdate=!0;const O=T*4;for(let k=0;k<A;k++){const z=L[k],G=R[k],j=P[k],Q=D*$*4*k;for(let X=0;X<z.count;X++){const J=X*O;E===!0&&(l.fromBufferAttribute(z,X),V[Q+J+0]=l.x,V[Q+J+1]=l.y,V[Q+J+2]=l.z,V[Q+J+3]=0),C===!0&&(l.fromBufferAttribute(G,X),V[Q+J+4]=l.x,V[Q+J+5]=l.y,V[Q+J+6]=l.z,V[Q+J+7]=0),_===!0&&(l.fromBufferAttribute(j,X),V[Q+J+8]=l.x,V[Q+J+9]=l.y,V[Q+J+10]=l.z,V[Q+J+11]=j.itemSize===4?l.w:1)}}b={count:A,texture:B,size:new tr(D,$)},s.set(h,b),h.addEventListener("dispose",F)}let g=0;for(let E=0;E<m.length;E++)g+=m[E];const w=h.morphTargetsRelative?1:1-g;p.getUniforms().setValue(n,"morphTargetBaseInfluence",w),p.getUniforms().setValue(n,"morphTargetInfluences",m),p.getUniforms().setValue(n,"morphTargetsTexture",b.texture,r),p.getUniforms().setValue(n,"morphTargetsTextureSize",b.size)}else{const y=m===void 0?0:m.length;let A=i[h.id];if(A===void 0||A.length!==y){A=[];for(let C=0;C<y;C++)A[C]=[C,0];i[h.id]=A}for(let C=0;C<y;C++){const _=A[C];_[0]=C,_[1]=m[C]}A.sort(q_e);for(let C=0;C<8;C++)C<y&&A[C][1]?(u[C][0]=A[C][0],u[C][1]=A[C][1]):(u[C][0]=Number.MAX_SAFE_INTEGER,u[C][1]=0);u.sort(X_e);const b=h.morphAttributes.position,g=h.morphAttributes.normal;let w=0;for(let C=0;C<8;C++){const _=u[C],L=_[0],R=_[1];L!==Number.MAX_SAFE_INTEGER&&R?(b&&h.getAttribute("morphTarget"+C)!==b[L]&&h.setAttribute("morphTarget"+C,b[L]),g&&h.getAttribute("morphNormal"+C)!==g[L]&&h.setAttribute("morphNormal"+C,g[L]),o[C]=R,w+=R):(b&&h.hasAttribute("morphTarget"+C)===!0&&h.deleteAttribute("morphTarget"+C),g&&h.hasAttribute("morphNormal"+C)===!0&&h.deleteAttribute("morphNormal"+C),o[C]=0)}const E=h.morphTargetsRelative?1:1-w;p.getUniforms().setValue(n,"morphTargetBaseInfluence",E),p.getUniforms().setValue(n,"morphTargetInfluences",o)}}return{update:c}}function J_e(n,e,r,i){let o=new WeakMap;function s(c){const d=i.render.frame,h=c.geometry,p=e.get(c,h);if(o.get(p)!==d&&(e.update(p),o.set(p,d)),c.isInstancedMesh&&(c.hasEventListener("dispose",u)===!1&&c.addEventListener("dispose",u),o.get(c)!==d&&(r.update(c.instanceMatrix,n.ARRAY_BUFFER),c.instanceColor!==null&&r.update(c.instanceColor,n.ARRAY_BUFFER),o.set(c,d))),c.isSkinnedMesh){const m=c.skeleton;o.get(m)!==d&&(m.update(),o.set(m,d))}return p}function l(){o=new WeakMap}function u(c){const d=c.target;d.removeEventListener("dispose",u),r.remove(d.instanceMatrix),d.instanceColor!==null&&r.remove(d.instanceColor)}return{update:s,dispose:l}}const KG=new Xa,XG=new UG,qG=new Uwe,YG=new WG,M5=[],T5=[],R5=new Float32Array(16),I5=new Float32Array(9),L5=new Float32Array(4);function wg(n,e,r){const i=n[0];if(i<=0||i>0)return n;const o=e*r;let s=M5[o];if(s===void 0&&(s=new Float32Array(o),M5[o]=s),e!==0){i.toArray(s,0);for(let l=1,u=0;l!==e;++l)u+=r,n[l].toArray(s,u)}return s}function Ko(n,e){if(n.length!==e.length)return!1;for(let r=0,i=n.length;r<i;r++)if(n[r]!==e[r])return!1;return!0}function Xo(n,e){for(let r=0,i=e.length;r<i;r++)n[r]=e[r]}function VC(n,e){let r=T5[e];r===void 0&&(r=new Int32Array(e),T5[e]=r);for(let i=0;i!==e;++i)r[i]=n.allocateTextureUnit();return r}function Z_e(n,e){const r=this.cache;r[0]!==e&&(n.uniform1f(this.addr,e),r[0]=e)}function eMe(n,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),r[0]=e.x,r[1]=e.y);else{if(Ko(r,e))return;n.uniform2fv(this.addr,e),Xo(r,e)}}function tMe(n,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),r[0]=e.x,r[1]=e.y,r[2]=e.z);else if(e.r!==void 0)(r[0]!==e.r||r[1]!==e.g||r[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),r[0]=e.r,r[1]=e.g,r[2]=e.b);else{if(Ko(r,e))return;n.uniform3fv(this.addr,e),Xo(r,e)}}function nMe(n,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z||r[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=e.w);else{if(Ko(r,e))return;n.uniform4fv(this.addr,e),Xo(r,e)}}function rMe(n,e){const r=this.cache,i=e.elements;if(i===void 0){if(Ko(r,e))return;n.uniformMatrix2fv(this.addr,!1,e),Xo(r,e)}else{if(Ko(r,i))return;L5.set(i),n.uniformMatrix2fv(this.addr,!1,L5),Xo(r,i)}}function iMe(n,e){const r=this.cache,i=e.elements;if(i===void 0){if(Ko(r,e))return;n.uniformMatrix3fv(this.addr,!1,e),Xo(r,e)}else{if(Ko(r,i))return;I5.set(i),n.uniformMatrix3fv(this.addr,!1,I5),Xo(r,i)}}function oMe(n,e){const r=this.cache,i=e.elements;if(i===void 0){if(Ko(r,e))return;n.uniformMatrix4fv(this.addr,!1,e),Xo(r,e)}else{if(Ko(r,i))return;R5.set(i),n.uniformMatrix4fv(this.addr,!1,R5),Xo(r,i)}}function aMe(n,e){const r=this.cache;r[0]!==e&&(n.uniform1i(this.addr,e),r[0]=e)}function sMe(n,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),r[0]=e.x,r[1]=e.y);else{if(Ko(r,e))return;n.uniform2iv(this.addr,e),Xo(r,e)}}function lMe(n,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),r[0]=e.x,r[1]=e.y,r[2]=e.z);else{if(Ko(r,e))return;n.uniform3iv(this.addr,e),Xo(r,e)}}function cMe(n,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z||r[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=e.w);else{if(Ko(r,e))return;n.uniform4iv(this.addr,e),Xo(r,e)}}function uMe(n,e){const r=this.cache;r[0]!==e&&(n.uniform1ui(this.addr,e),r[0]=e)}function dMe(n,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),r[0]=e.x,r[1]=e.y);else{if(Ko(r,e))return;n.uniform2uiv(this.addr,e),Xo(r,e)}}function fMe(n,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),r[0]=e.x,r[1]=e.y,r[2]=e.z);else{if(Ko(r,e))return;n.uniform3uiv(this.addr,e),Xo(r,e)}}function hMe(n,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z||r[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=e.w);else{if(Ko(r,e))return;n.uniform4uiv(this.addr,e),Xo(r,e)}}function pMe(n,e,r){const i=this.cache,o=r.allocateTextureUnit();i[0]!==o&&(n.uniform1i(this.addr,o),i[0]=o),r.setTexture2D(e||KG,o)}function mMe(n,e,r){const i=this.cache,o=r.allocateTextureUnit();i[0]!==o&&(n.uniform1i(this.addr,o),i[0]=o),r.setTexture3D(e||qG,o)}function gMe(n,e,r){const i=this.cache,o=r.allocateTextureUnit();i[0]!==o&&(n.uniform1i(this.addr,o),i[0]=o),r.setTextureCube(e||YG,o)}function vMe(n,e,r){const i=this.cache,o=r.allocateTextureUnit();i[0]!==o&&(n.uniform1i(this.addr,o),i[0]=o),r.setTexture2DArray(e||XG,o)}function AMe(n){switch(n){case 5126:return Z_e;case 35664:return eMe;case 35665:return tMe;case 35666:return nMe;case 35674:return rMe;case 35675:return iMe;case 35676:return oMe;case 5124:case 35670:return aMe;case 35667:case 35671:return sMe;case 35668:case 35672:return lMe;case 35669:case 35673:return cMe;case 5125:return uMe;case 36294:return dMe;case 36295:return fMe;case 36296:return hMe;case 35678:case 36198:case 36298:case 36306:case 35682:return pMe;case 35679:case 36299:case 36307:return mMe;case 35680:case 36300:case 36308:case 36293:return gMe;case 36289:case 36303:case 36311:case 36292:return vMe}}function yMe(n,e){n.uniform1fv(this.addr,e)}function bMe(n,e){const r=wg(e,this.size,2);n.uniform2fv(this.addr,r)}function xMe(n,e){const r=wg(e,this.size,3);n.uniform3fv(this.addr,r)}function EMe(n,e){const r=wg(e,this.size,4);n.uniform4fv(this.addr,r)}function CMe(n,e){const r=wg(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,r)}function wMe(n,e){const r=wg(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,r)}function SMe(n,e){const r=wg(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,r)}function _Me(n,e){n.uniform1iv(this.addr,e)}function MMe(n,e){n.uniform2iv(this.addr,e)}function TMe(n,e){n.uniform3iv(this.addr,e)}function RMe(n,e){n.uniform4iv(this.addr,e)}function IMe(n,e){n.uniform1uiv(this.addr,e)}function LMe(n,e){n.uniform2uiv(this.addr,e)}function PMe(n,e){n.uniform3uiv(this.addr,e)}function BMe(n,e){n.uniform4uiv(this.addr,e)}function OMe(n,e,r){const i=this.cache,o=e.length,s=VC(r,o);Ko(i,s)||(n.uniform1iv(this.addr,s),Xo(i,s));for(let l=0;l!==o;++l)r.setTexture2D(e[l]||KG,s[l])}function DMe(n,e,r){const i=this.cache,o=e.length,s=VC(r,o);Ko(i,s)||(n.uniform1iv(this.addr,s),Xo(i,s));for(let l=0;l!==o;++l)r.setTexture3D(e[l]||qG,s[l])}function NMe(n,e,r){const i=this.cache,o=e.length,s=VC(r,o);Ko(i,s)||(n.uniform1iv(this.addr,s),Xo(i,s));for(let l=0;l!==o;++l)r.setTextureCube(e[l]||YG,s[l])}function kMe(n,e,r){const i=this.cache,o=e.length,s=VC(r,o);Ko(i,s)||(n.uniform1iv(this.addr,s),Xo(i,s));for(let l=0;l!==o;++l)r.setTexture2DArray(e[l]||XG,s[l])}function FMe(n){switch(n){case 5126:return yMe;case 35664:return bMe;case 35665:return xMe;case 35666:return EMe;case 35674:return CMe;case 35675:return wMe;case 35676:return SMe;case 5124:case 35670:return _Me;case 35667:case 35671:return MMe;case 35668:case 35672:return TMe;case 35669:case 35673:return RMe;case 5125:return IMe;case 36294:return LMe;case 36295:return PMe;case 36296:return BMe;case 35678:case 36198:case 36298:case 36306:case 35682:return OMe;case 35679:case 36299:case 36307:return DMe;case 35680:case 36300:case 36308:case 36293:return NMe;case 36289:case 36303:case 36311:case 36292:return kMe}}class UMe{constructor(e,r,i){this.id=e,this.addr=i,this.cache=[],this.setValue=AMe(r.type)}}class zMe{constructor(e,r,i){this.id=e,this.addr=i,this.cache=[],this.size=r.size,this.setValue=FMe(r.type)}}class HMe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,r,i){const o=this.seq;for(let s=0,l=o.length;s!==l;++s){const u=o[s];u.setValue(e,r[u.id],i)}}}const $_=/(\w+)(\])?(\[|\.)?/g;function P5(n,e){n.seq.push(e),n.map[e.id]=e}function $Me(n,e,r){const i=n.name,o=i.length;for($_.lastIndex=0;;){const s=$_.exec(i),l=$_.lastIndex;let u=s[1];const c=s[2]==="]",d=s[3];if(c&&(u=u|0),d===void 0||d==="["&&l+2===o){P5(r,d===void 0?new UMe(u,n,e):new zMe(u,n,e));break}else{let p=r.map[u];p===void 0&&(p=new HMe(u),P5(r,p)),r=p}}}class ox{constructor(e,r){this.seq=[],this.map={};const i=e.getProgramParameter(r,e.ACTIVE_UNIFORMS);for(let o=0;o<i;++o){const s=e.getActiveUniform(r,o),l=e.getUniformLocation(r,s.name);$Me(s,l,this)}}setValue(e,r,i,o){const s=this.map[r];s!==void 0&&s.setValue(e,i,o)}setOptional(e,r,i){const o=r[i];o!==void 0&&this.setValue(e,i,o)}static upload(e,r,i,o){for(let s=0,l=r.length;s!==l;++s){const u=r[s],c=i[u.id];c.needsUpdate!==!1&&u.setValue(e,c.value,o)}}static seqWithValue(e,r){const i=[];for(let o=0,s=e.length;o!==s;++o){const l=e[o];l.id in r&&i.push(l)}return i}}function B5(n,e,r){const i=n.createShader(e);return n.shaderSource(i,r),n.compileShader(i),i}const GMe=37297;let jMe=0;function VMe(n,e){const r=n.split(`
`),i=[],o=Math.max(e-6,0),s=Math.min(e+6,r.length);for(let l=o;l<s;l++){const u=l+1;i.push(`${u===e?">":" "} ${u}: ${r[l]}`)}return i.join(`
`)}function WMe(n){const e=Gi.getPrimaries(Gi.workingColorSpace),r=Gi.getPrimaries(n);let i;switch(e===r?i="":e===fE&&r===dE?i="LinearDisplayP3ToLinearSRGB":e===dE&&r===fE&&(i="LinearSRGBToLinearDisplayP3"),n){case Bu:case HC:return[i,"LinearTransferOETF"];case Go:case qL:return[i,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),[i,"LinearTransferOETF"]}}function O5(n,e,r){const i=n.getShaderParameter(e,n.COMPILE_STATUS),o=n.getShaderInfoLog(e).trim();if(i&&o==="")return"";const s=/ERROR: 0:(\d+)/.exec(o);if(s){const l=parseInt(s[1]);return r.toUpperCase()+`

`+o+`

`+VMe(n.getShaderSource(e),l)}else return o}function QMe(n,e){const r=WMe(e);return`vec4 ${n}( vec4 value ) { return ${r[0]}( ${r[1]}( value ) ); }`}function KMe(n,e){let r;switch(e){case KCe:r="Linear";break;case XCe:r="Reinhard";break;case qCe:r="OptimizedCineon";break;case YCe:r="ACESFilmic";break;case JCe:r="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),r="Linear"}return"vec3 "+n+"( vec3 color ) { return "+r+"ToneMapping( color ); }"}function XMe(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(h0).join(`
`)}function qMe(n){const e=[];for(const r in n){const i=n[r];i!==!1&&e.push("#define "+r+" "+i)}return e.join(`
`)}function YMe(n,e){const r={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let o=0;o<i;o++){const s=n.getActiveAttrib(e,o),l=s.name;let u=1;s.type===n.FLOAT_MAT2&&(u=2),s.type===n.FLOAT_MAT3&&(u=3),s.type===n.FLOAT_MAT4&&(u=4),r[l]={type:s.type,location:n.getAttribLocation(e,l),locationSize:u}}return r}function h0(n){return n!==""}function D5(n,e){const r=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,r).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function N5(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const JMe=/^[ \t]*#include +<([\w\d./]+)>/gm;function K3(n){return n.replace(JMe,eTe)}const ZMe=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function eTe(n,e){let r=ai[e];if(r===void 0){const i=ZMe.get(e);if(i!==void 0)r=ai[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return K3(r)}const tTe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function k5(n){return n.replace(tTe,nTe)}function nTe(n,e,r,i){let o="";for(let s=parseInt(e);s<parseInt(r);s++)o+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return o}function F5(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function rTe(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===_G?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===ECe?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===au&&(e="SHADOWMAP_TYPE_VSM"),e}function iTe(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case ig:case og:e="ENVMAP_TYPE_CUBE";break;case zC:e="ENVMAP_TYPE_CUBE_UV";break}return e}function oTe(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case og:e="ENVMAP_MODE_REFRACTION";break}return e}function aTe(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case KL:e="ENVMAP_BLENDING_MULTIPLY";break;case WCe:e="ENVMAP_BLENDING_MIX";break;case QCe:e="ENVMAP_BLENDING_ADD";break}return e}function sTe(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const r=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,r),7*16)),texelHeight:i,maxMip:r}}function lTe(n,e,r,i){const o=n.getContext(),s=r.defines;let l=r.vertexShader,u=r.fragmentShader;const c=rTe(r),d=iTe(r),h=oTe(r),p=aTe(r),m=sTe(r),v=r.isWebGL2?"":XMe(r),y=qMe(s),A=o.createProgram();let b,g,w=r.glslVersion?"#version "+r.glslVersion+`
`:"";r.isRawShaderMaterial?(b=["#define SHADER_TYPE "+r.shaderType,"#define SHADER_NAME "+r.shaderName,y].filter(h0).join(`
`),b.length>0&&(b+=`
`),g=[v,"#define SHADER_TYPE "+r.shaderType,"#define SHADER_NAME "+r.shaderName,y].filter(h0).join(`
`),g.length>0&&(g+=`
`)):(b=[F5(r),"#define SHADER_TYPE "+r.shaderType,"#define SHADER_NAME "+r.shaderName,y,r.instancing?"#define USE_INSTANCING":"",r.instancingColor?"#define USE_INSTANCING_COLOR":"",r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+h:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",r.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",r.displacementMap?"#define USE_DISPLACEMENTMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.anisotropy?"#define USE_ANISOTROPY":"",r.anisotropyMap?"#define USE_ANISOTROPYMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",r.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.alphaHash?"#define USE_ALPHAHASH":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",r.mapUv?"#define MAP_UV "+r.mapUv:"",r.alphaMapUv?"#define ALPHAMAP_UV "+r.alphaMapUv:"",r.lightMapUv?"#define LIGHTMAP_UV "+r.lightMapUv:"",r.aoMapUv?"#define AOMAP_UV "+r.aoMapUv:"",r.emissiveMapUv?"#define EMISSIVEMAP_UV "+r.emissiveMapUv:"",r.bumpMapUv?"#define BUMPMAP_UV "+r.bumpMapUv:"",r.normalMapUv?"#define NORMALMAP_UV "+r.normalMapUv:"",r.displacementMapUv?"#define DISPLACEMENTMAP_UV "+r.displacementMapUv:"",r.metalnessMapUv?"#define METALNESSMAP_UV "+r.metalnessMapUv:"",r.roughnessMapUv?"#define ROUGHNESSMAP_UV "+r.roughnessMapUv:"",r.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+r.anisotropyMapUv:"",r.clearcoatMapUv?"#define CLEARCOATMAP_UV "+r.clearcoatMapUv:"",r.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+r.clearcoatNormalMapUv:"",r.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+r.clearcoatRoughnessMapUv:"",r.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+r.iridescenceMapUv:"",r.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+r.iridescenceThicknessMapUv:"",r.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+r.sheenColorMapUv:"",r.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+r.sheenRoughnessMapUv:"",r.specularMapUv?"#define SPECULARMAP_UV "+r.specularMapUv:"",r.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+r.specularColorMapUv:"",r.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+r.specularIntensityMapUv:"",r.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+r.transmissionMapUv:"",r.thicknessMapUv?"#define THICKNESSMAP_UV "+r.thicknessMapUv:"",r.vertexTangents&&r.flatShading===!1?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUv1s?"#define USE_UV1":"",r.vertexUv2s?"#define USE_UV2":"",r.vertexUv3s?"#define USE_UV3":"",r.pointsUvs?"#define USE_POINTS_UV":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&r.flatShading===!1?"#define USE_MORPHNORMALS":"",r.morphColors&&r.isWebGL2?"#define USE_MORPHCOLORS":"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+r.morphTextureStride:"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_COUNT "+r.morphTargetsCount:"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+c:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.numLightProbes>0?"#define USE_LIGHT_PROBES":"",r.useLegacyLights?"#define LEGACY_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(h0).join(`
`),g=[v,F5(r),"#define SHADER_TYPE "+r.shaderType,"#define SHADER_NAME "+r.shaderName,y,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.matcap?"#define USE_MATCAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+d:"",r.envMap?"#define "+h:"",r.envMap?"#define "+p:"",m?"#define CUBEUV_TEXEL_WIDTH "+m.texelWidth:"",m?"#define CUBEUV_TEXEL_HEIGHT "+m.texelHeight:"",m?"#define CUBEUV_MAX_MIP "+m.maxMip+".0":"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",r.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.anisotropy?"#define USE_ANISOTROPY":"",r.anisotropyMap?"#define USE_ANISOTROPYMAP":"",r.clearcoat?"#define USE_CLEARCOAT":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.iridescence?"#define USE_IRIDESCENCE":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",r.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.alphaTest?"#define USE_ALPHATEST":"",r.alphaHash?"#define USE_ALPHAHASH":"",r.sheen?"#define USE_SHEEN":"",r.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.vertexTangents&&r.flatShading===!1?"#define USE_TANGENT":"",r.vertexColors||r.instancingColor?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUv1s?"#define USE_UV1":"",r.vertexUv2s?"#define USE_UV2":"",r.vertexUv3s?"#define USE_UV3":"",r.pointsUvs?"#define USE_POINTS_UV":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+c:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.numLightProbes>0?"#define USE_LIGHT_PROBES":"",r.useLegacyLights?"#define LEGACY_LIGHTS":"",r.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",r.toneMapping!==Hd?"#define TONE_MAPPING":"",r.toneMapping!==Hd?ai.tonemapping_pars_fragment:"",r.toneMapping!==Hd?KMe("toneMapping",r.toneMapping):"",r.dithering?"#define DITHERING":"",r.opaque?"#define OPAQUE":"",ai.colorspace_pars_fragment,QMe("linearToOutputTexel",r.outputColorSpace),r.useDepthPacking?"#define DEPTH_PACKING "+r.depthPacking:"",`
`].filter(h0).join(`
`)),l=K3(l),l=D5(l,r),l=N5(l,r),u=K3(u),u=D5(u,r),u=N5(u,r),l=k5(l),u=k5(u),r.isWebGL2&&r.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,b=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+b,g=["precision mediump sampler2DArray;","#define varying in",r.glslVersion===n5?"":"layout(location = 0) out highp vec4 pc_fragColor;",r.glslVersion===n5?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const E=w+b+l,C=w+g+u,_=B5(o,o.VERTEX_SHADER,E),L=B5(o,o.FRAGMENT_SHADER,C);o.attachShader(A,_),o.attachShader(A,L),r.index0AttributeName!==void 0?o.bindAttribLocation(A,0,r.index0AttributeName):r.morphTargets===!0&&o.bindAttribLocation(A,0,"position"),o.linkProgram(A);function R($){if(n.debug.checkShaderErrors){const V=o.getProgramInfoLog(A).trim(),B=o.getShaderInfoLog(_).trim(),O=o.getShaderInfoLog(L).trim();let F=!0,k=!0;if(o.getProgramParameter(A,o.LINK_STATUS)===!1)if(F=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(o,A,_,L);else{const z=O5(o,_,"vertex"),G=O5(o,L,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(A,o.VALIDATE_STATUS)+`

Program Info Log: `+V+`
`+z+`
`+G)}else V!==""?console.warn("THREE.WebGLProgram: Program Info Log:",V):(B===""||O==="")&&(k=!1);k&&($.diagnostics={runnable:F,programLog:V,vertexShader:{log:B,prefix:b},fragmentShader:{log:O,prefix:g}})}o.deleteShader(_),o.deleteShader(L),P=new ox(o,A),T=YMe(o,A)}let P;this.getUniforms=function(){return P===void 0&&R(this),P};let T;this.getAttributes=function(){return T===void 0&&R(this),T};let D=r.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return D===!1&&(D=o.getProgramParameter(A,GMe)),D},this.destroy=function(){i.releaseStatesOfProgram(this),o.deleteProgram(A),this.program=void 0},this.type=r.shaderType,this.name=r.shaderName,this.id=jMe++,this.cacheKey=e,this.usedTimes=1,this.program=A,this.vertexShader=_,this.fragmentShader=L,this}let cTe=0;class uTe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const r=e.vertexShader,i=e.fragmentShader,o=this._getShaderStage(r),s=this._getShaderStage(i),l=this._getShaderCacheForMaterial(e);return l.has(o)===!1&&(l.add(o),o.usedTimes++),l.has(s)===!1&&(l.add(s),s.usedTimes++),this}remove(e){const r=this.materialCache.get(e);for(const i of r)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const r=this.materialCache;let i=r.get(e);return i===void 0&&(i=new Set,r.set(e,i)),i}_getShaderStage(e){const r=this.shaderCache;let i=r.get(e);return i===void 0&&(i=new dTe(e),r.set(e,i)),i}}class dTe{constructor(e){this.id=cTe++,this.code=e,this.usedTimes=0}}function fTe(n,e,r,i,o,s,l){const u=new JL,c=new uTe,d=[],h=o.isWebGL2,p=o.logarithmicDepthBuffer,m=o.vertexTextures;let v=o.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function A(T){return T===0?"uv":`uv${T}`}function b(T,D,$,V,B){const O=V.fog,F=B.geometry,k=T.isMeshStandardMaterial?V.environment:null,z=(T.isMeshStandardMaterial?r:e).get(T.envMap||k),G=z&&z.mapping===zC?z.image.height:null,j=y[T.type];T.precision!==null&&(v=o.getMaxPrecision(T.precision),v!==T.precision&&console.warn("THREE.WebGLProgram.getParameters:",T.precision,"not supported, using",v,"instead."));const Q=F.morphAttributes.position||F.morphAttributes.normal||F.morphAttributes.color,X=Q!==void 0?Q.length:0;let J=0;F.morphAttributes.position!==void 0&&(J=1),F.morphAttributes.normal!==void 0&&(J=2),F.morphAttributes.color!==void 0&&(J=3);let Z,oe,ue,Be;if(j){const Bt=hc[j];Z=Bt.vertexShader,oe=Bt.fragmentShader}else Z=T.vertexShader,oe=T.fragmentShader,c.update(T),ue=c.getVertexShaderID(T),Be=c.getFragmentShaderID(T);const ge=n.getRenderTarget(),Ie=B.isInstancedMesh===!0,He=!!T.map,Ze=!!T.matcap,Xe=!!z,ke=!!T.aoMap,lt=!!T.lightMap,ot=!!T.bumpMap,it=!!T.normalMap,ft=!!T.displacementMap,xt=!!T.emissiveMap,At=!!T.metalnessMap,Ct=!!T.roughnessMap,Tt=T.anisotropy>0,Dt=T.clearcoat>0,Yt=T.iridescence>0,Ve=T.sheen>0,be=T.transmission>0,fe=Tt&&!!T.anisotropyMap,me=Dt&&!!T.clearcoatMap,Te=Dt&&!!T.clearcoatNormalMap,Ce=Dt&&!!T.clearcoatRoughnessMap,Se=Yt&&!!T.iridescenceMap,we=Yt&&!!T.iridescenceThicknessMap,Ge=Ve&&!!T.sheenColorMap,Ae=Ve&&!!T.sheenRoughnessMap,Ue=!!T.specularMap,et=!!T.specularColorMap,ce=!!T.specularIntensityMap,Y=be&&!!T.transmissionMap,ne=be&&!!T.thicknessMap,Le=!!T.gradientMap,We=!!T.alphaMap,ve=T.alphaTest>0,he=!!T.alphaHash,qe=!!T.extensions,Je=!!F.attributes.uv1,Qe=!!F.attributes.uv2,nt=!!F.attributes.uv3;let It=Hd;return T.toneMapped&&(ge===null||ge.isXRRenderTarget===!0)&&(It=n.toneMapping),{isWebGL2:h,shaderID:j,shaderType:T.type,shaderName:T.name,vertexShader:Z,fragmentShader:oe,defines:T.defines,customVertexShaderID:ue,customFragmentShaderID:Be,isRawShaderMaterial:T.isRawShaderMaterial===!0,glslVersion:T.glslVersion,precision:v,instancing:Ie,instancingColor:Ie&&B.instanceColor!==null,supportsVertexTextures:m,outputColorSpace:ge===null?n.outputColorSpace:ge.isXRRenderTarget===!0?ge.texture.colorSpace:Bu,map:He,matcap:Ze,envMap:Xe,envMapMode:Xe&&z.mapping,envMapCubeUVHeight:G,aoMap:ke,lightMap:lt,bumpMap:ot,normalMap:it,displacementMap:m&&ft,emissiveMap:xt,normalMapObjectSpace:it&&T.normalMapType===dwe,normalMapTangentSpace:it&&T.normalMapType===DG,metalnessMap:At,roughnessMap:Ct,anisotropy:Tt,anisotropyMap:fe,clearcoat:Dt,clearcoatMap:me,clearcoatNormalMap:Te,clearcoatRoughnessMap:Ce,iridescence:Yt,iridescenceMap:Se,iridescenceThicknessMap:we,sheen:Ve,sheenColorMap:Ge,sheenRoughnessMap:Ae,specularMap:Ue,specularColorMap:et,specularIntensityMap:ce,transmission:be,transmissionMap:Y,thicknessMap:ne,gradientMap:Le,opaque:T.transparent===!1&&T.blending===Dm,alphaMap:We,alphaTest:ve,alphaHash:he,combine:T.combine,mapUv:He&&A(T.map.channel),aoMapUv:ke&&A(T.aoMap.channel),lightMapUv:lt&&A(T.lightMap.channel),bumpMapUv:ot&&A(T.bumpMap.channel),normalMapUv:it&&A(T.normalMap.channel),displacementMapUv:ft&&A(T.displacementMap.channel),emissiveMapUv:xt&&A(T.emissiveMap.channel),metalnessMapUv:At&&A(T.metalnessMap.channel),roughnessMapUv:Ct&&A(T.roughnessMap.channel),anisotropyMapUv:fe&&A(T.anisotropyMap.channel),clearcoatMapUv:me&&A(T.clearcoatMap.channel),clearcoatNormalMapUv:Te&&A(T.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ce&&A(T.clearcoatRoughnessMap.channel),iridescenceMapUv:Se&&A(T.iridescenceMap.channel),iridescenceThicknessMapUv:we&&A(T.iridescenceThicknessMap.channel),sheenColorMapUv:Ge&&A(T.sheenColorMap.channel),sheenRoughnessMapUv:Ae&&A(T.sheenRoughnessMap.channel),specularMapUv:Ue&&A(T.specularMap.channel),specularColorMapUv:et&&A(T.specularColorMap.channel),specularIntensityMapUv:ce&&A(T.specularIntensityMap.channel),transmissionMapUv:Y&&A(T.transmissionMap.channel),thicknessMapUv:ne&&A(T.thicknessMap.channel),alphaMapUv:We&&A(T.alphaMap.channel),vertexTangents:!!F.attributes.tangent&&(it||Tt),vertexColors:T.vertexColors,vertexAlphas:T.vertexColors===!0&&!!F.attributes.color&&F.attributes.color.itemSize===4,vertexUv1s:Je,vertexUv2s:Qe,vertexUv3s:nt,pointsUvs:B.isPoints===!0&&!!F.attributes.uv&&(He||We),fog:!!O,useFog:T.fog===!0,fogExp2:O&&O.isFogExp2,flatShading:T.flatShading===!0,sizeAttenuation:T.sizeAttenuation===!0,logarithmicDepthBuffer:p,skinning:B.isSkinnedMesh===!0,morphTargets:F.morphAttributes.position!==void 0,morphNormals:F.morphAttributes.normal!==void 0,morphColors:F.morphAttributes.color!==void 0,morphTargetsCount:X,morphTextureStride:J,numDirLights:D.directional.length,numPointLights:D.point.length,numSpotLights:D.spot.length,numSpotLightMaps:D.spotLightMap.length,numRectAreaLights:D.rectArea.length,numHemiLights:D.hemi.length,numDirLightShadows:D.directionalShadowMap.length,numPointLightShadows:D.pointShadowMap.length,numSpotLightShadows:D.spotShadowMap.length,numSpotLightShadowsWithMaps:D.numSpotLightShadowsWithMaps,numLightProbes:D.numLightProbes,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:T.dithering,shadowMapEnabled:n.shadowMap.enabled&&$.length>0,shadowMapType:n.shadowMap.type,toneMapping:It,useLegacyLights:n._useLegacyLights,decodeVideoTexture:He&&T.map.isVideoTexture===!0&&Gi.getTransfer(T.map.colorSpace)===eo,premultipliedAlpha:T.premultipliedAlpha,doubleSided:T.side===hu,flipSided:T.side===Ka,useDepthPacking:T.depthPacking>=0,depthPacking:T.depthPacking||0,index0AttributeName:T.index0AttributeName,extensionDerivatives:qe&&T.extensions.derivatives===!0,extensionFragDepth:qe&&T.extensions.fragDepth===!0,extensionDrawBuffers:qe&&T.extensions.drawBuffers===!0,extensionShaderTextureLOD:qe&&T.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:h||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||i.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:T.customProgramCacheKey()}}function g(T){const D=[];if(T.shaderID?D.push(T.shaderID):(D.push(T.customVertexShaderID),D.push(T.customFragmentShaderID)),T.defines!==void 0)for(const $ in T.defines)D.push($),D.push(T.defines[$]);return T.isRawShaderMaterial===!1&&(w(D,T),E(D,T),D.push(n.outputColorSpace)),D.push(T.customProgramCacheKey),D.join()}function w(T,D){T.push(D.precision),T.push(D.outputColorSpace),T.push(D.envMapMode),T.push(D.envMapCubeUVHeight),T.push(D.mapUv),T.push(D.alphaMapUv),T.push(D.lightMapUv),T.push(D.aoMapUv),T.push(D.bumpMapUv),T.push(D.normalMapUv),T.push(D.displacementMapUv),T.push(D.emissiveMapUv),T.push(D.metalnessMapUv),T.push(D.roughnessMapUv),T.push(D.anisotropyMapUv),T.push(D.clearcoatMapUv),T.push(D.clearcoatNormalMapUv),T.push(D.clearcoatRoughnessMapUv),T.push(D.iridescenceMapUv),T.push(D.iridescenceThicknessMapUv),T.push(D.sheenColorMapUv),T.push(D.sheenRoughnessMapUv),T.push(D.specularMapUv),T.push(D.specularColorMapUv),T.push(D.specularIntensityMapUv),T.push(D.transmissionMapUv),T.push(D.thicknessMapUv),T.push(D.combine),T.push(D.fogExp2),T.push(D.sizeAttenuation),T.push(D.morphTargetsCount),T.push(D.morphAttributeCount),T.push(D.numDirLights),T.push(D.numPointLights),T.push(D.numSpotLights),T.push(D.numSpotLightMaps),T.push(D.numHemiLights),T.push(D.numRectAreaLights),T.push(D.numDirLightShadows),T.push(D.numPointLightShadows),T.push(D.numSpotLightShadows),T.push(D.numSpotLightShadowsWithMaps),T.push(D.numLightProbes),T.push(D.shadowMapType),T.push(D.toneMapping),T.push(D.numClippingPlanes),T.push(D.numClipIntersection),T.push(D.depthPacking)}function E(T,D){u.disableAll(),D.isWebGL2&&u.enable(0),D.supportsVertexTextures&&u.enable(1),D.instancing&&u.enable(2),D.instancingColor&&u.enable(3),D.matcap&&u.enable(4),D.envMap&&u.enable(5),D.normalMapObjectSpace&&u.enable(6),D.normalMapTangentSpace&&u.enable(7),D.clearcoat&&u.enable(8),D.iridescence&&u.enable(9),D.alphaTest&&u.enable(10),D.vertexColors&&u.enable(11),D.vertexAlphas&&u.enable(12),D.vertexUv1s&&u.enable(13),D.vertexUv2s&&u.enable(14),D.vertexUv3s&&u.enable(15),D.vertexTangents&&u.enable(16),D.anisotropy&&u.enable(17),D.alphaHash&&u.enable(18),T.push(u.mask),u.disableAll(),D.fog&&u.enable(0),D.useFog&&u.enable(1),D.flatShading&&u.enable(2),D.logarithmicDepthBuffer&&u.enable(3),D.skinning&&u.enable(4),D.morphTargets&&u.enable(5),D.morphNormals&&u.enable(6),D.morphColors&&u.enable(7),D.premultipliedAlpha&&u.enable(8),D.shadowMapEnabled&&u.enable(9),D.useLegacyLights&&u.enable(10),D.doubleSided&&u.enable(11),D.flipSided&&u.enable(12),D.useDepthPacking&&u.enable(13),D.dithering&&u.enable(14),D.transmission&&u.enable(15),D.sheen&&u.enable(16),D.opaque&&u.enable(17),D.pointsUvs&&u.enable(18),D.decodeVideoTexture&&u.enable(19),T.push(u.mask)}function C(T){const D=y[T.type];let $;if(D){const V=hc[D];$=jG.clone(V.uniforms)}else $=T.uniforms;return $}function _(T,D){let $;for(let V=0,B=d.length;V<B;V++){const O=d[V];if(O.cacheKey===D){$=O,++$.usedTimes;break}}return $===void 0&&($=new lTe(n,D,T,s),d.push($)),$}function L(T){if(--T.usedTimes===0){const D=d.indexOf(T);d[D]=d[d.length-1],d.pop(),T.destroy()}}function R(T){c.remove(T)}function P(){c.dispose()}return{getParameters:b,getProgramCacheKey:g,getUniforms:C,acquireProgram:_,releaseProgram:L,releaseShaderCache:R,programs:d,dispose:P}}function hTe(){let n=new WeakMap;function e(s){let l=n.get(s);return l===void 0&&(l={},n.set(s,l)),l}function r(s){n.delete(s)}function i(s,l,u){n.get(s)[l]=u}function o(){n=new WeakMap}return{get:e,remove:r,update:i,dispose:o}}function pTe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function U5(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function z5(){const n=[];let e=0;const r=[],i=[],o=[];function s(){e=0,r.length=0,i.length=0,o.length=0}function l(p,m,v,y,A,b){let g=n[e];return g===void 0?(g={id:p.id,object:p,geometry:m,material:v,groupOrder:y,renderOrder:p.renderOrder,z:A,group:b},n[e]=g):(g.id=p.id,g.object=p,g.geometry=m,g.material=v,g.groupOrder=y,g.renderOrder=p.renderOrder,g.z=A,g.group=b),e++,g}function u(p,m,v,y,A,b){const g=l(p,m,v,y,A,b);v.transmission>0?i.push(g):v.transparent===!0?o.push(g):r.push(g)}function c(p,m,v,y,A,b){const g=l(p,m,v,y,A,b);v.transmission>0?i.unshift(g):v.transparent===!0?o.unshift(g):r.unshift(g)}function d(p,m){r.length>1&&r.sort(p||pTe),i.length>1&&i.sort(m||U5),o.length>1&&o.sort(m||U5)}function h(){for(let p=e,m=n.length;p<m;p++){const v=n[p];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:r,transmissive:i,transparent:o,init:s,push:u,unshift:c,finish:h,sort:d}}function mTe(){let n=new WeakMap;function e(i,o){const s=n.get(i);let l;return s===void 0?(l=new z5,n.set(i,[l])):o>=s.length?(l=new z5,s.push(l)):l=s[o],l}function r(){n=new WeakMap}return{get:e,dispose:r}}function gTe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let r;switch(e.type){case"DirectionalLight":r={direction:new Rt,color:new mi};break;case"SpotLight":r={position:new Rt,direction:new Rt,color:new mi,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":r={position:new Rt,color:new mi,distance:0,decay:0};break;case"HemisphereLight":r={direction:new Rt,skyColor:new mi,groundColor:new mi};break;case"RectAreaLight":r={color:new mi,position:new Rt,halfWidth:new Rt,halfHeight:new Rt};break}return n[e.id]=r,r}}}function vTe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let r;switch(e.type){case"DirectionalLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new tr};break;case"SpotLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new tr};break;case"PointLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new tr,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=r,r}}}let ATe=0;function yTe(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function bTe(n,e){const r=new gTe,i=vTe(),o={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let h=0;h<9;h++)o.probe.push(new Rt);const s=new Rt,l=new lo,u=new lo;function c(h,p){let m=0,v=0,y=0;for(let V=0;V<9;V++)o.probe[V].set(0,0,0);let A=0,b=0,g=0,w=0,E=0,C=0,_=0,L=0,R=0,P=0,T=0;h.sort(yTe);const D=p===!0?Math.PI:1;for(let V=0,B=h.length;V<B;V++){const O=h[V],F=O.color,k=O.intensity,z=O.distance,G=O.shadow&&O.shadow.map?O.shadow.map.texture:null;if(O.isAmbientLight)m+=F.r*k*D,v+=F.g*k*D,y+=F.b*k*D;else if(O.isLightProbe){for(let j=0;j<9;j++)o.probe[j].addScaledVector(O.sh.coefficients[j],k);T++}else if(O.isDirectionalLight){const j=r.get(O);if(j.color.copy(O.color).multiplyScalar(O.intensity*D),O.castShadow){const Q=O.shadow,X=i.get(O);X.shadowBias=Q.bias,X.shadowNormalBias=Q.normalBias,X.shadowRadius=Q.radius,X.shadowMapSize=Q.mapSize,o.directionalShadow[A]=X,o.directionalShadowMap[A]=G,o.directionalShadowMatrix[A]=O.shadow.matrix,C++}o.directional[A]=j,A++}else if(O.isSpotLight){const j=r.get(O);j.position.setFromMatrixPosition(O.matrixWorld),j.color.copy(F).multiplyScalar(k*D),j.distance=z,j.coneCos=Math.cos(O.angle),j.penumbraCos=Math.cos(O.angle*(1-O.penumbra)),j.decay=O.decay,o.spot[g]=j;const Q=O.shadow;if(O.map&&(o.spotLightMap[R]=O.map,R++,Q.updateMatrices(O),O.castShadow&&P++),o.spotLightMatrix[g]=Q.matrix,O.castShadow){const X=i.get(O);X.shadowBias=Q.bias,X.shadowNormalBias=Q.normalBias,X.shadowRadius=Q.radius,X.shadowMapSize=Q.mapSize,o.spotShadow[g]=X,o.spotShadowMap[g]=G,L++}g++}else if(O.isRectAreaLight){const j=r.get(O);j.color.copy(F).multiplyScalar(k),j.halfWidth.set(O.width*.5,0,0),j.halfHeight.set(0,O.height*.5,0),o.rectArea[w]=j,w++}else if(O.isPointLight){const j=r.get(O);if(j.color.copy(O.color).multiplyScalar(O.intensity*D),j.distance=O.distance,j.decay=O.decay,O.castShadow){const Q=O.shadow,X=i.get(O);X.shadowBias=Q.bias,X.shadowNormalBias=Q.normalBias,X.shadowRadius=Q.radius,X.shadowMapSize=Q.mapSize,X.shadowCameraNear=Q.camera.near,X.shadowCameraFar=Q.camera.far,o.pointShadow[b]=X,o.pointShadowMap[b]=G,o.pointShadowMatrix[b]=O.shadow.matrix,_++}o.point[b]=j,b++}else if(O.isHemisphereLight){const j=r.get(O);j.skyColor.copy(O.color).multiplyScalar(k*D),j.groundColor.copy(O.groundColor).multiplyScalar(k*D),o.hemi[E]=j,E++}}w>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(o.rectAreaLTC1=ar.LTC_FLOAT_1,o.rectAreaLTC2=ar.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(o.rectAreaLTC1=ar.LTC_HALF_1,o.rectAreaLTC2=ar.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),o.ambient[0]=m,o.ambient[1]=v,o.ambient[2]=y;const $=o.hash;($.directionalLength!==A||$.pointLength!==b||$.spotLength!==g||$.rectAreaLength!==w||$.hemiLength!==E||$.numDirectionalShadows!==C||$.numPointShadows!==_||$.numSpotShadows!==L||$.numSpotMaps!==R||$.numLightProbes!==T)&&(o.directional.length=A,o.spot.length=g,o.rectArea.length=w,o.point.length=b,o.hemi.length=E,o.directionalShadow.length=C,o.directionalShadowMap.length=C,o.pointShadow.length=_,o.pointShadowMap.length=_,o.spotShadow.length=L,o.spotShadowMap.length=L,o.directionalShadowMatrix.length=C,o.pointShadowMatrix.length=_,o.spotLightMatrix.length=L+R-P,o.spotLightMap.length=R,o.numSpotLightShadowsWithMaps=P,o.numLightProbes=T,$.directionalLength=A,$.pointLength=b,$.spotLength=g,$.rectAreaLength=w,$.hemiLength=E,$.numDirectionalShadows=C,$.numPointShadows=_,$.numSpotShadows=L,$.numSpotMaps=R,$.numLightProbes=T,o.version=ATe++)}function d(h,p){let m=0,v=0,y=0,A=0,b=0;const g=p.matrixWorldInverse;for(let w=0,E=h.length;w<E;w++){const C=h[w];if(C.isDirectionalLight){const _=o.directional[m];_.direction.setFromMatrixPosition(C.matrixWorld),s.setFromMatrixPosition(C.target.matrixWorld),_.direction.sub(s),_.direction.transformDirection(g),m++}else if(C.isSpotLight){const _=o.spot[y];_.position.setFromMatrixPosition(C.matrixWorld),_.position.applyMatrix4(g),_.direction.setFromMatrixPosition(C.matrixWorld),s.setFromMatrixPosition(C.target.matrixWorld),_.direction.sub(s),_.direction.transformDirection(g),y++}else if(C.isRectAreaLight){const _=o.rectArea[A];_.position.setFromMatrixPosition(C.matrixWorld),_.position.applyMatrix4(g),u.identity(),l.copy(C.matrixWorld),l.premultiply(g),u.extractRotation(l),_.halfWidth.set(C.width*.5,0,0),_.halfHeight.set(0,C.height*.5,0),_.halfWidth.applyMatrix4(u),_.halfHeight.applyMatrix4(u),A++}else if(C.isPointLight){const _=o.point[v];_.position.setFromMatrixPosition(C.matrixWorld),_.position.applyMatrix4(g),v++}else if(C.isHemisphereLight){const _=o.hemi[b];_.direction.setFromMatrixPosition(C.matrixWorld),_.direction.transformDirection(g),b++}}}return{setup:c,setupView:d,state:o}}function H5(n,e){const r=new bTe(n,e),i=[],o=[];function s(){i.length=0,o.length=0}function l(p){i.push(p)}function u(p){o.push(p)}function c(p){r.setup(i,p)}function d(p){r.setupView(i,p)}return{init:s,state:{lightsArray:i,shadowsArray:o,lights:r},setupLights:c,setupLightsView:d,pushLight:l,pushShadow:u}}function xTe(n,e){let r=new WeakMap;function i(s,l=0){const u=r.get(s);let c;return u===void 0?(c=new H5(n,e),r.set(s,[c])):l>=u.length?(c=new H5(n,e),u.push(c)):c=u[l],c}function o(){r=new WeakMap}return{get:i,dispose:o}}class ETe extends Ph{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=cwe,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class CTe extends Ph{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const wTe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,STe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function _Te(n,e,r){let i=new eP;const o=new tr,s=new tr,l=new oa,u=new ETe({depthPacking:uwe}),c=new CTe,d={},h=r.maxTextureSize,p={[Qd]:Ka,[Ka]:Qd,[hu]:hu},m=new Ou({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new tr},radius:{value:4}},vertexShader:wTe,fragmentShader:STe}),v=m.clone();v.defines.HORIZONTAL_PASS=1;const y=new fs;y.setAttribute("position",new sl(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const A=new Hl(y,m),b=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=_G;let g=this.type;this.render=function(_,L,R){if(b.enabled===!1||b.autoUpdate===!1&&b.needsUpdate===!1||_.length===0)return;const P=n.getRenderTarget(),T=n.getActiveCubeFace(),D=n.getActiveMipmapLevel(),$=n.state;$.setBlending(bu),$.buffers.color.setClear(1,1,1,1),$.buffers.depth.setTest(!0),$.setScissorTest(!1);const V=g!==au&&this.type===au,B=g===au&&this.type!==au;for(let O=0,F=_.length;O<F;O++){const k=_[O],z=k.shadow;if(z===void 0){console.warn("THREE.WebGLShadowMap:",k,"has no shadow.");continue}if(z.autoUpdate===!1&&z.needsUpdate===!1)continue;o.copy(z.mapSize);const G=z.getFrameExtents();if(o.multiply(G),s.copy(z.mapSize),(o.x>h||o.y>h)&&(o.x>h&&(s.x=Math.floor(h/G.x),o.x=s.x*G.x,z.mapSize.x=s.x),o.y>h&&(s.y=Math.floor(h/G.y),o.y=s.y*G.y,z.mapSize.y=s.y)),z.map===null||V===!0||B===!0){const Q=this.type!==au?{minFilter:ja,magFilter:ja}:{};z.map!==null&&z.map.dispose(),z.map=new Kd(o.x,o.y,Q),z.map.texture.name=k.name+".shadowMap",z.camera.updateProjectionMatrix()}n.setRenderTarget(z.map),n.clear();const j=z.getViewportCount();for(let Q=0;Q<j;Q++){const X=z.getViewport(Q);l.set(s.x*X.x,s.y*X.y,s.x*X.z,s.y*X.w),$.viewport(l),z.updateMatrices(k,Q),i=z.getFrustum(),C(L,R,z.camera,k,this.type)}z.isPointLightShadow!==!0&&this.type===au&&w(z,R),z.needsUpdate=!1}g=this.type,b.needsUpdate=!1,n.setRenderTarget(P,T,D)};function w(_,L){const R=e.update(A);m.defines.VSM_SAMPLES!==_.blurSamples&&(m.defines.VSM_SAMPLES=_.blurSamples,v.defines.VSM_SAMPLES=_.blurSamples,m.needsUpdate=!0,v.needsUpdate=!0),_.mapPass===null&&(_.mapPass=new Kd(o.x,o.y)),m.uniforms.shadow_pass.value=_.map.texture,m.uniforms.resolution.value=_.mapSize,m.uniforms.radius.value=_.radius,n.setRenderTarget(_.mapPass),n.clear(),n.renderBufferDirect(L,null,R,m,A,null),v.uniforms.shadow_pass.value=_.mapPass.texture,v.uniforms.resolution.value=_.mapSize,v.uniforms.radius.value=_.radius,n.setRenderTarget(_.map),n.clear(),n.renderBufferDirect(L,null,R,v,A,null)}function E(_,L,R,P){let T=null;const D=R.isPointLight===!0?_.customDistanceMaterial:_.customDepthMaterial;if(D!==void 0)T=D;else if(T=R.isPointLight===!0?c:u,n.localClippingEnabled&&L.clipShadows===!0&&Array.isArray(L.clippingPlanes)&&L.clippingPlanes.length!==0||L.displacementMap&&L.displacementScale!==0||L.alphaMap&&L.alphaTest>0||L.map&&L.alphaTest>0){const $=T.uuid,V=L.uuid;let B=d[$];B===void 0&&(B={},d[$]=B);let O=B[V];O===void 0&&(O=T.clone(),B[V]=O),T=O}if(T.visible=L.visible,T.wireframe=L.wireframe,P===au?T.side=L.shadowSide!==null?L.shadowSide:L.side:T.side=L.shadowSide!==null?L.shadowSide:p[L.side],T.alphaMap=L.alphaMap,T.alphaTest=L.alphaTest,T.map=L.map,T.clipShadows=L.clipShadows,T.clippingPlanes=L.clippingPlanes,T.clipIntersection=L.clipIntersection,T.displacementMap=L.displacementMap,T.displacementScale=L.displacementScale,T.displacementBias=L.displacementBias,T.wireframeLinewidth=L.wireframeLinewidth,T.linewidth=L.linewidth,R.isPointLight===!0&&T.isMeshDistanceMaterial===!0){const $=n.properties.get(T);$.light=R}return T}function C(_,L,R,P,T){if(_.visible===!1)return;if(_.layers.test(L.layers)&&(_.isMesh||_.isLine||_.isPoints)&&(_.castShadow||_.receiveShadow&&T===au)&&(!_.frustumCulled||i.intersectsObject(_))){_.modelViewMatrix.multiplyMatrices(R.matrixWorldInverse,_.matrixWorld);const V=e.update(_),B=_.material;if(Array.isArray(B)){const O=V.groups;for(let F=0,k=O.length;F<k;F++){const z=O[F],G=B[z.materialIndex];if(G&&G.visible){const j=E(_,G,P,T);n.renderBufferDirect(R,null,V,j,_,z)}}}else if(B.visible){const O=E(_,B,P,T);n.renderBufferDirect(R,null,V,O,_,null)}}const $=_.children;for(let V=0,B=$.length;V<B;V++)C($[V],L,R,P,T)}}function MTe(n,e,r){const i=r.isWebGL2;function o(){let he=!1;const qe=new oa;let Je=null;const Qe=new oa(0,0,0,0);return{setMask:function(nt){Je!==nt&&!he&&(n.colorMask(nt,nt,nt,nt),Je=nt)},setLocked:function(nt){he=nt},setClear:function(nt,It,kt,Bt,Gt){Gt===!0&&(nt*=Bt,It*=Bt,kt*=Bt),qe.set(nt,It,kt,Bt),Qe.equals(qe)===!1&&(n.clearColor(nt,It,kt,Bt),Qe.copy(qe))},reset:function(){he=!1,Je=null,Qe.set(-1,0,0,0)}}}function s(){let he=!1,qe=null,Je=null,Qe=null;return{setTest:function(nt){nt?He(n.DEPTH_TEST):Ze(n.DEPTH_TEST)},setMask:function(nt){qe!==nt&&!he&&(n.depthMask(nt),qe=nt)},setFunc:function(nt){if(Je!==nt){switch(nt){case UCe:n.depthFunc(n.NEVER);break;case zCe:n.depthFunc(n.ALWAYS);break;case HCe:n.depthFunc(n.LESS);break;case cE:n.depthFunc(n.LEQUAL);break;case $Ce:n.depthFunc(n.EQUAL);break;case GCe:n.depthFunc(n.GEQUAL);break;case jCe:n.depthFunc(n.GREATER);break;case VCe:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Je=nt}},setLocked:function(nt){he=nt},setClear:function(nt){Qe!==nt&&(n.clearDepth(nt),Qe=nt)},reset:function(){he=!1,qe=null,Je=null,Qe=null}}}function l(){let he=!1,qe=null,Je=null,Qe=null,nt=null,It=null,kt=null,Bt=null,Gt=null;return{setTest:function(Vt){he||(Vt?He(n.STENCIL_TEST):Ze(n.STENCIL_TEST))},setMask:function(Vt){qe!==Vt&&!he&&(n.stencilMask(Vt),qe=Vt)},setFunc:function(Vt,Pt,pt){(Je!==Vt||Qe!==Pt||nt!==pt)&&(n.stencilFunc(Vt,Pt,pt),Je=Vt,Qe=Pt,nt=pt)},setOp:function(Vt,Pt,pt){(It!==Vt||kt!==Pt||Bt!==pt)&&(n.stencilOp(Vt,Pt,pt),It=Vt,kt=Pt,Bt=pt)},setLocked:function(Vt){he=Vt},setClear:function(Vt){Gt!==Vt&&(n.clearStencil(Vt),Gt=Vt)},reset:function(){he=!1,qe=null,Je=null,Qe=null,nt=null,It=null,kt=null,Bt=null,Gt=null}}}const u=new o,c=new s,d=new l,h=new WeakMap,p=new WeakMap;let m={},v={},y=new WeakMap,A=[],b=null,g=!1,w=null,E=null,C=null,_=null,L=null,R=null,P=null,T=new mi(0,0,0),D=0,$=!1,V=null,B=null,O=null,F=null,k=null;const z=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let G=!1,j=0;const Q=n.getParameter(n.VERSION);Q.indexOf("WebGL")!==-1?(j=parseFloat(/^WebGL (\d)/.exec(Q)[1]),G=j>=1):Q.indexOf("OpenGL ES")!==-1&&(j=parseFloat(/^OpenGL ES (\d)/.exec(Q)[1]),G=j>=2);let X=null,J={};const Z=n.getParameter(n.SCISSOR_BOX),oe=n.getParameter(n.VIEWPORT),ue=new oa().fromArray(Z),Be=new oa().fromArray(oe);function ge(he,qe,Je,Qe){const nt=new Uint8Array(4),It=n.createTexture();n.bindTexture(he,It),n.texParameteri(he,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(he,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let kt=0;kt<Je;kt++)i&&(he===n.TEXTURE_3D||he===n.TEXTURE_2D_ARRAY)?n.texImage3D(qe,0,n.RGBA,1,1,Qe,0,n.RGBA,n.UNSIGNED_BYTE,nt):n.texImage2D(qe+kt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,nt);return It}const Ie={};Ie[n.TEXTURE_2D]=ge(n.TEXTURE_2D,n.TEXTURE_2D,1),Ie[n.TEXTURE_CUBE_MAP]=ge(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(Ie[n.TEXTURE_2D_ARRAY]=ge(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Ie[n.TEXTURE_3D]=ge(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),u.setClear(0,0,0,1),c.setClear(1),d.setClear(0),He(n.DEPTH_TEST),c.setFunc(cE),At(!1),Ct(CF),He(n.CULL_FACE),ft(bu);function He(he){m[he]!==!0&&(n.enable(he),m[he]=!0)}function Ze(he){m[he]!==!1&&(n.disable(he),m[he]=!1)}function Xe(he,qe){return v[he]!==qe?(n.bindFramebuffer(he,qe),v[he]=qe,i&&(he===n.DRAW_FRAMEBUFFER&&(v[n.FRAMEBUFFER]=qe),he===n.FRAMEBUFFER&&(v[n.DRAW_FRAMEBUFFER]=qe)),!0):!1}function ke(he,qe){let Je=A,Qe=!1;if(he)if(Je=y.get(qe),Je===void 0&&(Je=[],y.set(qe,Je)),he.isWebGLMultipleRenderTargets){const nt=he.texture;if(Je.length!==nt.length||Je[0]!==n.COLOR_ATTACHMENT0){for(let It=0,kt=nt.length;It<kt;It++)Je[It]=n.COLOR_ATTACHMENT0+It;Je.length=nt.length,Qe=!0}}else Je[0]!==n.COLOR_ATTACHMENT0&&(Je[0]=n.COLOR_ATTACHMENT0,Qe=!0);else Je[0]!==n.BACK&&(Je[0]=n.BACK,Qe=!0);Qe&&(r.isWebGL2?n.drawBuffers(Je):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Je))}function lt(he){return b!==he?(n.useProgram(he),b=he,!0):!1}const ot={[jf]:n.FUNC_ADD,[wCe]:n.FUNC_SUBTRACT,[SCe]:n.FUNC_REVERSE_SUBTRACT};if(i)ot[MF]=n.MIN,ot[TF]=n.MAX;else{const he=e.get("EXT_blend_minmax");he!==null&&(ot[MF]=he.MIN_EXT,ot[TF]=he.MAX_EXT)}const it={[_Ce]:n.ZERO,[MCe]:n.ONE,[TCe]:n.SRC_COLOR,[F3]:n.SRC_ALPHA,[OCe]:n.SRC_ALPHA_SATURATE,[PCe]:n.DST_COLOR,[ICe]:n.DST_ALPHA,[RCe]:n.ONE_MINUS_SRC_COLOR,[U3]:n.ONE_MINUS_SRC_ALPHA,[BCe]:n.ONE_MINUS_DST_COLOR,[LCe]:n.ONE_MINUS_DST_ALPHA,[DCe]:n.CONSTANT_COLOR,[NCe]:n.ONE_MINUS_CONSTANT_COLOR,[kCe]:n.CONSTANT_ALPHA,[FCe]:n.ONE_MINUS_CONSTANT_ALPHA};function ft(he,qe,Je,Qe,nt,It,kt,Bt,Gt,Vt){if(he===bu){g===!0&&(Ze(n.BLEND),g=!1);return}if(g===!1&&(He(n.BLEND),g=!0),he!==CCe){if(he!==w||Vt!==$){if((E!==jf||L!==jf)&&(n.blendEquation(n.FUNC_ADD),E=jf,L=jf),Vt)switch(he){case Dm:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case wF:n.blendFunc(n.ONE,n.ONE);break;case SF:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case _F:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",he);break}else switch(he){case Dm:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case wF:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case SF:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case _F:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",he);break}C=null,_=null,R=null,P=null,T.set(0,0,0),D=0,w=he,$=Vt}return}nt=nt||qe,It=It||Je,kt=kt||Qe,(qe!==E||nt!==L)&&(n.blendEquationSeparate(ot[qe],ot[nt]),E=qe,L=nt),(Je!==C||Qe!==_||It!==R||kt!==P)&&(n.blendFuncSeparate(it[Je],it[Qe],it[It],it[kt]),C=Je,_=Qe,R=It,P=kt),(Bt.equals(T)===!1||Gt!==D)&&(n.blendColor(Bt.r,Bt.g,Bt.b,Gt),T.copy(Bt),D=Gt),w=he,$=!1}function xt(he,qe){he.side===hu?Ze(n.CULL_FACE):He(n.CULL_FACE);let Je=he.side===Ka;qe&&(Je=!Je),At(Je),he.blending===Dm&&he.transparent===!1?ft(bu):ft(he.blending,he.blendEquation,he.blendSrc,he.blendDst,he.blendEquationAlpha,he.blendSrcAlpha,he.blendDstAlpha,he.blendColor,he.blendAlpha,he.premultipliedAlpha),c.setFunc(he.depthFunc),c.setTest(he.depthTest),c.setMask(he.depthWrite),u.setMask(he.colorWrite);const Qe=he.stencilWrite;d.setTest(Qe),Qe&&(d.setMask(he.stencilWriteMask),d.setFunc(he.stencilFunc,he.stencilRef,he.stencilFuncMask),d.setOp(he.stencilFail,he.stencilZFail,he.stencilZPass)),Dt(he.polygonOffset,he.polygonOffsetFactor,he.polygonOffsetUnits),he.alphaToCoverage===!0?He(n.SAMPLE_ALPHA_TO_COVERAGE):Ze(n.SAMPLE_ALPHA_TO_COVERAGE)}function At(he){V!==he&&(he?n.frontFace(n.CW):n.frontFace(n.CCW),V=he)}function Ct(he){he!==bCe?(He(n.CULL_FACE),he!==B&&(he===CF?n.cullFace(n.BACK):he===xCe?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Ze(n.CULL_FACE),B=he}function Tt(he){he!==O&&(G&&n.lineWidth(he),O=he)}function Dt(he,qe,Je){he?(He(n.POLYGON_OFFSET_FILL),(F!==qe||k!==Je)&&(n.polygonOffset(qe,Je),F=qe,k=Je)):Ze(n.POLYGON_OFFSET_FILL)}function Yt(he){he?He(n.SCISSOR_TEST):Ze(n.SCISSOR_TEST)}function Ve(he){he===void 0&&(he=n.TEXTURE0+z-1),X!==he&&(n.activeTexture(he),X=he)}function be(he,qe,Je){Je===void 0&&(X===null?Je=n.TEXTURE0+z-1:Je=X);let Qe=J[Je];Qe===void 0&&(Qe={type:void 0,texture:void 0},J[Je]=Qe),(Qe.type!==he||Qe.texture!==qe)&&(X!==Je&&(n.activeTexture(Je),X=Je),n.bindTexture(he,qe||Ie[he]),Qe.type=he,Qe.texture=qe)}function fe(){const he=J[X];he!==void 0&&he.type!==void 0&&(n.bindTexture(he.type,null),he.type=void 0,he.texture=void 0)}function me(){try{n.compressedTexImage2D.apply(n,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Te(){try{n.compressedTexImage3D.apply(n,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Ce(){try{n.texSubImage2D.apply(n,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Se(){try{n.texSubImage3D.apply(n,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function we(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Ge(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Ae(){try{n.texStorage2D.apply(n,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Ue(){try{n.texStorage3D.apply(n,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function et(){try{n.texImage2D.apply(n,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function ce(){try{n.texImage3D.apply(n,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Y(he){ue.equals(he)===!1&&(n.scissor(he.x,he.y,he.z,he.w),ue.copy(he))}function ne(he){Be.equals(he)===!1&&(n.viewport(he.x,he.y,he.z,he.w),Be.copy(he))}function Le(he,qe){let Je=p.get(qe);Je===void 0&&(Je=new WeakMap,p.set(qe,Je));let Qe=Je.get(he);Qe===void 0&&(Qe=n.getUniformBlockIndex(qe,he.name),Je.set(he,Qe))}function We(he,qe){const Qe=p.get(qe).get(he);h.get(qe)!==Qe&&(n.uniformBlockBinding(qe,Qe,he.__bindingPointIndex),h.set(qe,Qe))}function ve(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),i===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),m={},X=null,J={},v={},y=new WeakMap,A=[],b=null,g=!1,w=null,E=null,C=null,_=null,L=null,R=null,P=null,T=new mi(0,0,0),D=0,$=!1,V=null,B=null,O=null,F=null,k=null,ue.set(0,0,n.canvas.width,n.canvas.height),Be.set(0,0,n.canvas.width,n.canvas.height),u.reset(),c.reset(),d.reset()}return{buffers:{color:u,depth:c,stencil:d},enable:He,disable:Ze,bindFramebuffer:Xe,drawBuffers:ke,useProgram:lt,setBlending:ft,setMaterial:xt,setFlipSided:At,setCullFace:Ct,setLineWidth:Tt,setPolygonOffset:Dt,setScissorTest:Yt,activeTexture:Ve,bindTexture:be,unbindTexture:fe,compressedTexImage2D:me,compressedTexImage3D:Te,texImage2D:et,texImage3D:ce,updateUBOMapping:Le,uniformBlockBinding:We,texStorage2D:Ae,texStorage3D:Ue,texSubImage2D:Ce,texSubImage3D:Se,compressedTexSubImage2D:we,compressedTexSubImage3D:Ge,scissor:Y,viewport:ne,reset:ve}}function TTe(n,e,r,i,o,s,l){const u=o.isWebGL2,c=o.maxTextures,d=o.maxCubemapSize,h=o.maxTextureSize,p=o.maxSamples,m=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,v=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap;let A;const b=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function w(Ve,be){return g?new OffscreenCanvas(Ve,be):SA("canvas")}function E(Ve,be,fe,me){let Te=1;if((Ve.width>me||Ve.height>me)&&(Te=me/Math.max(Ve.width,Ve.height)),Te<1||be===!0)if(typeof HTMLImageElement<"u"&&Ve instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Ve instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Ve instanceof ImageBitmap){const Ce=be?pE:Math.floor,Se=Ce(Te*Ve.width),we=Ce(Te*Ve.height);A===void 0&&(A=w(Se,we));const Ge=fe?w(Se,we):A;return Ge.width=Se,Ge.height=we,Ge.getContext("2d").drawImage(Ve,0,0,Se,we),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ve.width+"x"+Ve.height+") to ("+Se+"x"+we+")."),Ge}else return"data"in Ve&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ve.width+"x"+Ve.height+")."),Ve;return Ve}function C(Ve){return W3(Ve.width)&&W3(Ve.height)}function _(Ve){return u?!1:Ve.wrapS!==kl||Ve.wrapT!==kl||Ve.minFilter!==ja&&Ve.minFilter!==Rs}function L(Ve,be){return Ve.generateMipmaps&&be&&Ve.minFilter!==ja&&Ve.minFilter!==Rs}function R(Ve){n.generateMipmap(Ve)}function P(Ve,be,fe,me,Te=!1){if(u===!1)return be;if(Ve!==null){if(n[Ve]!==void 0)return n[Ve];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Ve+"'")}let Ce=be;if(be===n.RED&&(fe===n.FLOAT&&(Ce=n.R32F),fe===n.HALF_FLOAT&&(Ce=n.R16F),fe===n.UNSIGNED_BYTE&&(Ce=n.R8)),be===n.RED_INTEGER&&(fe===n.UNSIGNED_BYTE&&(Ce=n.R8UI),fe===n.UNSIGNED_SHORT&&(Ce=n.R16UI),fe===n.UNSIGNED_INT&&(Ce=n.R32UI),fe===n.BYTE&&(Ce=n.R8I),fe===n.SHORT&&(Ce=n.R16I),fe===n.INT&&(Ce=n.R32I)),be===n.RG&&(fe===n.FLOAT&&(Ce=n.RG32F),fe===n.HALF_FLOAT&&(Ce=n.RG16F),fe===n.UNSIGNED_BYTE&&(Ce=n.RG8)),be===n.RGBA){const Se=Te?uE:Gi.getTransfer(me);fe===n.FLOAT&&(Ce=n.RGBA32F),fe===n.HALF_FLOAT&&(Ce=n.RGBA16F),fe===n.UNSIGNED_BYTE&&(Ce=Se===eo?n.SRGB8_ALPHA8:n.RGBA8),fe===n.UNSIGNED_SHORT_4_4_4_4&&(Ce=n.RGBA4),fe===n.UNSIGNED_SHORT_5_5_5_1&&(Ce=n.RGB5_A1)}return(Ce===n.R16F||Ce===n.R32F||Ce===n.RG16F||Ce===n.RG32F||Ce===n.RGBA16F||Ce===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Ce}function T(Ve,be,fe){return L(Ve,fe)===!0||Ve.isFramebufferTexture&&Ve.minFilter!==ja&&Ve.minFilter!==Rs?Math.log2(Math.max(be.width,be.height))+1:Ve.mipmaps!==void 0&&Ve.mipmaps.length>0?Ve.mipmaps.length:Ve.isCompressedTexture&&Array.isArray(Ve.image)?be.mipmaps.length:1}function D(Ve){return Ve===ja||Ve===RF||Ve===m_?n.NEAREST:n.LINEAR}function $(Ve){const be=Ve.target;be.removeEventListener("dispose",$),B(be),be.isVideoTexture&&y.delete(be)}function V(Ve){const be=Ve.target;be.removeEventListener("dispose",V),F(be)}function B(Ve){const be=i.get(Ve);if(be.__webglInit===void 0)return;const fe=Ve.source,me=b.get(fe);if(me){const Te=me[be.__cacheKey];Te.usedTimes--,Te.usedTimes===0&&O(Ve),Object.keys(me).length===0&&b.delete(fe)}i.remove(Ve)}function O(Ve){const be=i.get(Ve);n.deleteTexture(be.__webglTexture);const fe=Ve.source,me=b.get(fe);delete me[be.__cacheKey],l.memory.textures--}function F(Ve){const be=Ve.texture,fe=i.get(Ve),me=i.get(be);if(me.__webglTexture!==void 0&&(n.deleteTexture(me.__webglTexture),l.memory.textures--),Ve.depthTexture&&Ve.depthTexture.dispose(),Ve.isWebGLCubeRenderTarget)for(let Te=0;Te<6;Te++){if(Array.isArray(fe.__webglFramebuffer[Te]))for(let Ce=0;Ce<fe.__webglFramebuffer[Te].length;Ce++)n.deleteFramebuffer(fe.__webglFramebuffer[Te][Ce]);else n.deleteFramebuffer(fe.__webglFramebuffer[Te]);fe.__webglDepthbuffer&&n.deleteRenderbuffer(fe.__webglDepthbuffer[Te])}else{if(Array.isArray(fe.__webglFramebuffer))for(let Te=0;Te<fe.__webglFramebuffer.length;Te++)n.deleteFramebuffer(fe.__webglFramebuffer[Te]);else n.deleteFramebuffer(fe.__webglFramebuffer);if(fe.__webglDepthbuffer&&n.deleteRenderbuffer(fe.__webglDepthbuffer),fe.__webglMultisampledFramebuffer&&n.deleteFramebuffer(fe.__webglMultisampledFramebuffer),fe.__webglColorRenderbuffer)for(let Te=0;Te<fe.__webglColorRenderbuffer.length;Te++)fe.__webglColorRenderbuffer[Te]&&n.deleteRenderbuffer(fe.__webglColorRenderbuffer[Te]);fe.__webglDepthRenderbuffer&&n.deleteRenderbuffer(fe.__webglDepthRenderbuffer)}if(Ve.isWebGLMultipleRenderTargets)for(let Te=0,Ce=be.length;Te<Ce;Te++){const Se=i.get(be[Te]);Se.__webglTexture&&(n.deleteTexture(Se.__webglTexture),l.memory.textures--),i.remove(be[Te])}i.remove(be),i.remove(Ve)}let k=0;function z(){k=0}function G(){const Ve=k;return Ve>=c&&console.warn("THREE.WebGLTextures: Trying to use "+Ve+" texture units while this GPU supports only "+c),k+=1,Ve}function j(Ve){const be=[];return be.push(Ve.wrapS),be.push(Ve.wrapT),be.push(Ve.wrapR||0),be.push(Ve.magFilter),be.push(Ve.minFilter),be.push(Ve.anisotropy),be.push(Ve.internalFormat),be.push(Ve.format),be.push(Ve.type),be.push(Ve.generateMipmaps),be.push(Ve.premultiplyAlpha),be.push(Ve.flipY),be.push(Ve.unpackAlignment),be.push(Ve.colorSpace),be.join()}function Q(Ve,be){const fe=i.get(Ve);if(Ve.isVideoTexture&&Dt(Ve),Ve.isRenderTargetTexture===!1&&Ve.version>0&&fe.__version!==Ve.version){const me=Ve.image;if(me===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(me.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{He(fe,Ve,be);return}}r.bindTexture(n.TEXTURE_2D,fe.__webglTexture,n.TEXTURE0+be)}function X(Ve,be){const fe=i.get(Ve);if(Ve.version>0&&fe.__version!==Ve.version){He(fe,Ve,be);return}r.bindTexture(n.TEXTURE_2D_ARRAY,fe.__webglTexture,n.TEXTURE0+be)}function J(Ve,be){const fe=i.get(Ve);if(Ve.version>0&&fe.__version!==Ve.version){He(fe,Ve,be);return}r.bindTexture(n.TEXTURE_3D,fe.__webglTexture,n.TEXTURE0+be)}function Z(Ve,be){const fe=i.get(Ve);if(Ve.version>0&&fe.__version!==Ve.version){Ze(fe,Ve,be);return}r.bindTexture(n.TEXTURE_CUBE_MAP,fe.__webglTexture,n.TEXTURE0+be)}const oe={[$3]:n.REPEAT,[kl]:n.CLAMP_TO_EDGE,[G3]:n.MIRRORED_REPEAT},ue={[ja]:n.NEAREST,[RF]:n.NEAREST_MIPMAP_NEAREST,[m_]:n.NEAREST_MIPMAP_LINEAR,[Rs]:n.LINEAR,[ZCe]:n.LINEAR_MIPMAP_NEAREST,[CA]:n.LINEAR_MIPMAP_LINEAR},Be={[fwe]:n.NEVER,[ywe]:n.ALWAYS,[hwe]:n.LESS,[mwe]:n.LEQUAL,[pwe]:n.EQUAL,[Awe]:n.GEQUAL,[gwe]:n.GREATER,[vwe]:n.NOTEQUAL};function ge(Ve,be,fe){if(fe?(n.texParameteri(Ve,n.TEXTURE_WRAP_S,oe[be.wrapS]),n.texParameteri(Ve,n.TEXTURE_WRAP_T,oe[be.wrapT]),(Ve===n.TEXTURE_3D||Ve===n.TEXTURE_2D_ARRAY)&&n.texParameteri(Ve,n.TEXTURE_WRAP_R,oe[be.wrapR]),n.texParameteri(Ve,n.TEXTURE_MAG_FILTER,ue[be.magFilter]),n.texParameteri(Ve,n.TEXTURE_MIN_FILTER,ue[be.minFilter])):(n.texParameteri(Ve,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(Ve,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(Ve===n.TEXTURE_3D||Ve===n.TEXTURE_2D_ARRAY)&&n.texParameteri(Ve,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(be.wrapS!==kl||be.wrapT!==kl)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(Ve,n.TEXTURE_MAG_FILTER,D(be.magFilter)),n.texParameteri(Ve,n.TEXTURE_MIN_FILTER,D(be.minFilter)),be.minFilter!==ja&&be.minFilter!==Rs&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),be.compareFunction&&(n.texParameteri(Ve,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(Ve,n.TEXTURE_COMPARE_FUNC,Be[be.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const me=e.get("EXT_texture_filter_anisotropic");if(be.magFilter===ja||be.minFilter!==m_&&be.minFilter!==CA||be.type===Pd&&e.has("OES_texture_float_linear")===!1||u===!1&&be.type===ag&&e.has("OES_texture_half_float_linear")===!1)return;(be.anisotropy>1||i.get(be).__currentAnisotropy)&&(n.texParameterf(Ve,me.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(be.anisotropy,o.getMaxAnisotropy())),i.get(be).__currentAnisotropy=be.anisotropy)}}function Ie(Ve,be){let fe=!1;Ve.__webglInit===void 0&&(Ve.__webglInit=!0,be.addEventListener("dispose",$));const me=be.source;let Te=b.get(me);Te===void 0&&(Te={},b.set(me,Te));const Ce=j(be);if(Ce!==Ve.__cacheKey){Te[Ce]===void 0&&(Te[Ce]={texture:n.createTexture(),usedTimes:0},l.memory.textures++,fe=!0),Te[Ce].usedTimes++;const Se=Te[Ve.__cacheKey];Se!==void 0&&(Te[Ve.__cacheKey].usedTimes--,Se.usedTimes===0&&O(be)),Ve.__cacheKey=Ce,Ve.__webglTexture=Te[Ce].texture}return fe}function He(Ve,be,fe){let me=n.TEXTURE_2D;(be.isDataArrayTexture||be.isCompressedArrayTexture)&&(me=n.TEXTURE_2D_ARRAY),be.isData3DTexture&&(me=n.TEXTURE_3D);const Te=Ie(Ve,be),Ce=be.source;r.bindTexture(me,Ve.__webglTexture,n.TEXTURE0+fe);const Se=i.get(Ce);if(Ce.version!==Se.__version||Te===!0){r.activeTexture(n.TEXTURE0+fe);const we=Gi.getPrimaries(Gi.workingColorSpace),Ge=be.colorSpace===rl?null:Gi.getPrimaries(be.colorSpace),Ae=be.colorSpace===rl||we===Ge?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,be.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,be.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,be.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ae);const Ue=_(be)&&C(be.image)===!1;let et=E(be.image,Ue,!1,h);et=Yt(be,et);const ce=C(et)||u,Y=s.convert(be.format,be.colorSpace);let ne=s.convert(be.type),Le=P(be.internalFormat,Y,ne,be.colorSpace,be.isVideoTexture);ge(me,be,ce);let We;const ve=be.mipmaps,he=u&&be.isVideoTexture!==!0,qe=Se.__version===void 0||Te===!0,Je=T(be,et,ce);if(be.isDepthTexture)Le=n.DEPTH_COMPONENT,u?be.type===Pd?Le=n.DEPTH_COMPONENT32F:be.type===Ld?Le=n.DEPTH_COMPONENT24:be.type===uh?Le=n.DEPTH24_STENCIL8:Le=n.DEPTH_COMPONENT16:be.type===Pd&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),be.format===dh&&Le===n.DEPTH_COMPONENT&&be.type!==XL&&be.type!==Ld&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),be.type=Ld,ne=s.convert(be.type)),be.format===sg&&Le===n.DEPTH_COMPONENT&&(Le=n.DEPTH_STENCIL,be.type!==uh&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),be.type=uh,ne=s.convert(be.type))),qe&&(he?r.texStorage2D(n.TEXTURE_2D,1,Le,et.width,et.height):r.texImage2D(n.TEXTURE_2D,0,Le,et.width,et.height,0,Y,ne,null));else if(be.isDataTexture)if(ve.length>0&&ce){he&&qe&&r.texStorage2D(n.TEXTURE_2D,Je,Le,ve[0].width,ve[0].height);for(let Qe=0,nt=ve.length;Qe<nt;Qe++)We=ve[Qe],he?r.texSubImage2D(n.TEXTURE_2D,Qe,0,0,We.width,We.height,Y,ne,We.data):r.texImage2D(n.TEXTURE_2D,Qe,Le,We.width,We.height,0,Y,ne,We.data);be.generateMipmaps=!1}else he?(qe&&r.texStorage2D(n.TEXTURE_2D,Je,Le,et.width,et.height),r.texSubImage2D(n.TEXTURE_2D,0,0,0,et.width,et.height,Y,ne,et.data)):r.texImage2D(n.TEXTURE_2D,0,Le,et.width,et.height,0,Y,ne,et.data);else if(be.isCompressedTexture)if(be.isCompressedArrayTexture){he&&qe&&r.texStorage3D(n.TEXTURE_2D_ARRAY,Je,Le,ve[0].width,ve[0].height,et.depth);for(let Qe=0,nt=ve.length;Qe<nt;Qe++)We=ve[Qe],be.format!==Fl?Y!==null?he?r.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Qe,0,0,0,We.width,We.height,et.depth,Y,We.data,0,0):r.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Qe,Le,We.width,We.height,et.depth,0,We.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):he?r.texSubImage3D(n.TEXTURE_2D_ARRAY,Qe,0,0,0,We.width,We.height,et.depth,Y,ne,We.data):r.texImage3D(n.TEXTURE_2D_ARRAY,Qe,Le,We.width,We.height,et.depth,0,Y,ne,We.data)}else{he&&qe&&r.texStorage2D(n.TEXTURE_2D,Je,Le,ve[0].width,ve[0].height);for(let Qe=0,nt=ve.length;Qe<nt;Qe++)We=ve[Qe],be.format!==Fl?Y!==null?he?r.compressedTexSubImage2D(n.TEXTURE_2D,Qe,0,0,We.width,We.height,Y,We.data):r.compressedTexImage2D(n.TEXTURE_2D,Qe,Le,We.width,We.height,0,We.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):he?r.texSubImage2D(n.TEXTURE_2D,Qe,0,0,We.width,We.height,Y,ne,We.data):r.texImage2D(n.TEXTURE_2D,Qe,Le,We.width,We.height,0,Y,ne,We.data)}else if(be.isDataArrayTexture)he?(qe&&r.texStorage3D(n.TEXTURE_2D_ARRAY,Je,Le,et.width,et.height,et.depth),r.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,et.width,et.height,et.depth,Y,ne,et.data)):r.texImage3D(n.TEXTURE_2D_ARRAY,0,Le,et.width,et.height,et.depth,0,Y,ne,et.data);else if(be.isData3DTexture)he?(qe&&r.texStorage3D(n.TEXTURE_3D,Je,Le,et.width,et.height,et.depth),r.texSubImage3D(n.TEXTURE_3D,0,0,0,0,et.width,et.height,et.depth,Y,ne,et.data)):r.texImage3D(n.TEXTURE_3D,0,Le,et.width,et.height,et.depth,0,Y,ne,et.data);else if(be.isFramebufferTexture){if(qe)if(he)r.texStorage2D(n.TEXTURE_2D,Je,Le,et.width,et.height);else{let Qe=et.width,nt=et.height;for(let It=0;It<Je;It++)r.texImage2D(n.TEXTURE_2D,It,Le,Qe,nt,0,Y,ne,null),Qe>>=1,nt>>=1}}else if(ve.length>0&&ce){he&&qe&&r.texStorage2D(n.TEXTURE_2D,Je,Le,ve[0].width,ve[0].height);for(let Qe=0,nt=ve.length;Qe<nt;Qe++)We=ve[Qe],he?r.texSubImage2D(n.TEXTURE_2D,Qe,0,0,Y,ne,We):r.texImage2D(n.TEXTURE_2D,Qe,Le,Y,ne,We);be.generateMipmaps=!1}else he?(qe&&r.texStorage2D(n.TEXTURE_2D,Je,Le,et.width,et.height),r.texSubImage2D(n.TEXTURE_2D,0,0,0,Y,ne,et)):r.texImage2D(n.TEXTURE_2D,0,Le,Y,ne,et);L(be,ce)&&R(me),Se.__version=Ce.version,be.onUpdate&&be.onUpdate(be)}Ve.__version=be.version}function Ze(Ve,be,fe){if(be.image.length!==6)return;const me=Ie(Ve,be),Te=be.source;r.bindTexture(n.TEXTURE_CUBE_MAP,Ve.__webglTexture,n.TEXTURE0+fe);const Ce=i.get(Te);if(Te.version!==Ce.__version||me===!0){r.activeTexture(n.TEXTURE0+fe);const Se=Gi.getPrimaries(Gi.workingColorSpace),we=be.colorSpace===rl?null:Gi.getPrimaries(be.colorSpace),Ge=be.colorSpace===rl||Se===we?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,be.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,be.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,be.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ge);const Ae=be.isCompressedTexture||be.image[0].isCompressedTexture,Ue=be.image[0]&&be.image[0].isDataTexture,et=[];for(let Qe=0;Qe<6;Qe++)!Ae&&!Ue?et[Qe]=E(be.image[Qe],!1,!0,d):et[Qe]=Ue?be.image[Qe].image:be.image[Qe],et[Qe]=Yt(be,et[Qe]);const ce=et[0],Y=C(ce)||u,ne=s.convert(be.format,be.colorSpace),Le=s.convert(be.type),We=P(be.internalFormat,ne,Le,be.colorSpace),ve=u&&be.isVideoTexture!==!0,he=Ce.__version===void 0||me===!0;let qe=T(be,ce,Y);ge(n.TEXTURE_CUBE_MAP,be,Y);let Je;if(Ae){ve&&he&&r.texStorage2D(n.TEXTURE_CUBE_MAP,qe,We,ce.width,ce.height);for(let Qe=0;Qe<6;Qe++){Je=et[Qe].mipmaps;for(let nt=0;nt<Je.length;nt++){const It=Je[nt];be.format!==Fl?ne!==null?ve?r.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,nt,0,0,It.width,It.height,ne,It.data):r.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,nt,We,It.width,It.height,0,It.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ve?r.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,nt,0,0,It.width,It.height,ne,Le,It.data):r.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,nt,We,It.width,It.height,0,ne,Le,It.data)}}}else{Je=be.mipmaps,ve&&he&&(Je.length>0&&qe++,r.texStorage2D(n.TEXTURE_CUBE_MAP,qe,We,et[0].width,et[0].height));for(let Qe=0;Qe<6;Qe++)if(Ue){ve?r.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0,0,0,et[Qe].width,et[Qe].height,ne,Le,et[Qe].data):r.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0,We,et[Qe].width,et[Qe].height,0,ne,Le,et[Qe].data);for(let nt=0;nt<Je.length;nt++){const kt=Je[nt].image[Qe].image;ve?r.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,nt+1,0,0,kt.width,kt.height,ne,Le,kt.data):r.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,nt+1,We,kt.width,kt.height,0,ne,Le,kt.data)}}else{ve?r.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0,0,0,ne,Le,et[Qe]):r.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0,We,ne,Le,et[Qe]);for(let nt=0;nt<Je.length;nt++){const It=Je[nt];ve?r.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,nt+1,0,0,ne,Le,It.image[Qe]):r.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,nt+1,We,ne,Le,It.image[Qe])}}}L(be,Y)&&R(n.TEXTURE_CUBE_MAP),Ce.__version=Te.version,be.onUpdate&&be.onUpdate(be)}Ve.__version=be.version}function Xe(Ve,be,fe,me,Te,Ce){const Se=s.convert(fe.format,fe.colorSpace),we=s.convert(fe.type),Ge=P(fe.internalFormat,Se,we,fe.colorSpace);if(!i.get(be).__hasExternalTextures){const Ue=Math.max(1,be.width>>Ce),et=Math.max(1,be.height>>Ce);Te===n.TEXTURE_3D||Te===n.TEXTURE_2D_ARRAY?r.texImage3D(Te,Ce,Ge,Ue,et,be.depth,0,Se,we,null):r.texImage2D(Te,Ce,Ge,Ue,et,0,Se,we,null)}r.bindFramebuffer(n.FRAMEBUFFER,Ve),Tt(be)?m.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,me,Te,i.get(fe).__webglTexture,0,Ct(be)):(Te===n.TEXTURE_2D||Te>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Te<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,me,Te,i.get(fe).__webglTexture,Ce),r.bindFramebuffer(n.FRAMEBUFFER,null)}function ke(Ve,be,fe){if(n.bindRenderbuffer(n.RENDERBUFFER,Ve),be.depthBuffer&&!be.stencilBuffer){let me=u===!0?n.DEPTH_COMPONENT24:n.DEPTH_COMPONENT16;if(fe||Tt(be)){const Te=be.depthTexture;Te&&Te.isDepthTexture&&(Te.type===Pd?me=n.DEPTH_COMPONENT32F:Te.type===Ld&&(me=n.DEPTH_COMPONENT24));const Ce=Ct(be);Tt(be)?m.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ce,me,be.width,be.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,Ce,me,be.width,be.height)}else n.renderbufferStorage(n.RENDERBUFFER,me,be.width,be.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,Ve)}else if(be.depthBuffer&&be.stencilBuffer){const me=Ct(be);fe&&Tt(be)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,me,n.DEPTH24_STENCIL8,be.width,be.height):Tt(be)?m.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,me,n.DEPTH24_STENCIL8,be.width,be.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,be.width,be.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,Ve)}else{const me=be.isWebGLMultipleRenderTargets===!0?be.texture:[be.texture];for(let Te=0;Te<me.length;Te++){const Ce=me[Te],Se=s.convert(Ce.format,Ce.colorSpace),we=s.convert(Ce.type),Ge=P(Ce.internalFormat,Se,we,Ce.colorSpace),Ae=Ct(be);fe&&Tt(be)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ae,Ge,be.width,be.height):Tt(be)?m.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ae,Ge,be.width,be.height):n.renderbufferStorage(n.RENDERBUFFER,Ge,be.width,be.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function lt(Ve,be){if(be&&be.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(r.bindFramebuffer(n.FRAMEBUFFER,Ve),!(be.depthTexture&&be.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(be.depthTexture).__webglTexture||be.depthTexture.image.width!==be.width||be.depthTexture.image.height!==be.height)&&(be.depthTexture.image.width=be.width,be.depthTexture.image.height=be.height,be.depthTexture.needsUpdate=!0),Q(be.depthTexture,0);const me=i.get(be.depthTexture).__webglTexture,Te=Ct(be);if(be.depthTexture.format===dh)Tt(be)?m.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,me,0,Te):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,me,0);else if(be.depthTexture.format===sg)Tt(be)?m.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,me,0,Te):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,me,0);else throw new Error("Unknown depthTexture format")}function ot(Ve){const be=i.get(Ve),fe=Ve.isWebGLCubeRenderTarget===!0;if(Ve.depthTexture&&!be.__autoAllocateDepthBuffer){if(fe)throw new Error("target.depthTexture not supported in Cube render targets");lt(be.__webglFramebuffer,Ve)}else if(fe){be.__webglDepthbuffer=[];for(let me=0;me<6;me++)r.bindFramebuffer(n.FRAMEBUFFER,be.__webglFramebuffer[me]),be.__webglDepthbuffer[me]=n.createRenderbuffer(),ke(be.__webglDepthbuffer[me],Ve,!1)}else r.bindFramebuffer(n.FRAMEBUFFER,be.__webglFramebuffer),be.__webglDepthbuffer=n.createRenderbuffer(),ke(be.__webglDepthbuffer,Ve,!1);r.bindFramebuffer(n.FRAMEBUFFER,null)}function it(Ve,be,fe){const me=i.get(Ve);be!==void 0&&Xe(me.__webglFramebuffer,Ve,Ve.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),fe!==void 0&&ot(Ve)}function ft(Ve){const be=Ve.texture,fe=i.get(Ve),me=i.get(be);Ve.addEventListener("dispose",V),Ve.isWebGLMultipleRenderTargets!==!0&&(me.__webglTexture===void 0&&(me.__webglTexture=n.createTexture()),me.__version=be.version,l.memory.textures++);const Te=Ve.isWebGLCubeRenderTarget===!0,Ce=Ve.isWebGLMultipleRenderTargets===!0,Se=C(Ve)||u;if(Te){fe.__webglFramebuffer=[];for(let we=0;we<6;we++)if(u&&be.mipmaps&&be.mipmaps.length>0){fe.__webglFramebuffer[we]=[];for(let Ge=0;Ge<be.mipmaps.length;Ge++)fe.__webglFramebuffer[we][Ge]=n.createFramebuffer()}else fe.__webglFramebuffer[we]=n.createFramebuffer()}else{if(u&&be.mipmaps&&be.mipmaps.length>0){fe.__webglFramebuffer=[];for(let we=0;we<be.mipmaps.length;we++)fe.__webglFramebuffer[we]=n.createFramebuffer()}else fe.__webglFramebuffer=n.createFramebuffer();if(Ce)if(o.drawBuffers){const we=Ve.texture;for(let Ge=0,Ae=we.length;Ge<Ae;Ge++){const Ue=i.get(we[Ge]);Ue.__webglTexture===void 0&&(Ue.__webglTexture=n.createTexture(),l.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(u&&Ve.samples>0&&Tt(Ve)===!1){const we=Ce?be:[be];fe.__webglMultisampledFramebuffer=n.createFramebuffer(),fe.__webglColorRenderbuffer=[],r.bindFramebuffer(n.FRAMEBUFFER,fe.__webglMultisampledFramebuffer);for(let Ge=0;Ge<we.length;Ge++){const Ae=we[Ge];fe.__webglColorRenderbuffer[Ge]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,fe.__webglColorRenderbuffer[Ge]);const Ue=s.convert(Ae.format,Ae.colorSpace),et=s.convert(Ae.type),ce=P(Ae.internalFormat,Ue,et,Ae.colorSpace,Ve.isXRRenderTarget===!0),Y=Ct(Ve);n.renderbufferStorageMultisample(n.RENDERBUFFER,Y,ce,Ve.width,Ve.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ge,n.RENDERBUFFER,fe.__webglColorRenderbuffer[Ge])}n.bindRenderbuffer(n.RENDERBUFFER,null),Ve.depthBuffer&&(fe.__webglDepthRenderbuffer=n.createRenderbuffer(),ke(fe.__webglDepthRenderbuffer,Ve,!0)),r.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Te){r.bindTexture(n.TEXTURE_CUBE_MAP,me.__webglTexture),ge(n.TEXTURE_CUBE_MAP,be,Se);for(let we=0;we<6;we++)if(u&&be.mipmaps&&be.mipmaps.length>0)for(let Ge=0;Ge<be.mipmaps.length;Ge++)Xe(fe.__webglFramebuffer[we][Ge],Ve,be,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+we,Ge);else Xe(fe.__webglFramebuffer[we],Ve,be,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+we,0);L(be,Se)&&R(n.TEXTURE_CUBE_MAP),r.unbindTexture()}else if(Ce){const we=Ve.texture;for(let Ge=0,Ae=we.length;Ge<Ae;Ge++){const Ue=we[Ge],et=i.get(Ue);r.bindTexture(n.TEXTURE_2D,et.__webglTexture),ge(n.TEXTURE_2D,Ue,Se),Xe(fe.__webglFramebuffer,Ve,Ue,n.COLOR_ATTACHMENT0+Ge,n.TEXTURE_2D,0),L(Ue,Se)&&R(n.TEXTURE_2D)}r.unbindTexture()}else{let we=n.TEXTURE_2D;if((Ve.isWebGL3DRenderTarget||Ve.isWebGLArrayRenderTarget)&&(u?we=Ve.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),r.bindTexture(we,me.__webglTexture),ge(we,be,Se),u&&be.mipmaps&&be.mipmaps.length>0)for(let Ge=0;Ge<be.mipmaps.length;Ge++)Xe(fe.__webglFramebuffer[Ge],Ve,be,n.COLOR_ATTACHMENT0,we,Ge);else Xe(fe.__webglFramebuffer,Ve,be,n.COLOR_ATTACHMENT0,we,0);L(be,Se)&&R(we),r.unbindTexture()}Ve.depthBuffer&&ot(Ve)}function xt(Ve){const be=C(Ve)||u,fe=Ve.isWebGLMultipleRenderTargets===!0?Ve.texture:[Ve.texture];for(let me=0,Te=fe.length;me<Te;me++){const Ce=fe[me];if(L(Ce,be)){const Se=Ve.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,we=i.get(Ce).__webglTexture;r.bindTexture(Se,we),R(Se),r.unbindTexture()}}}function At(Ve){if(u&&Ve.samples>0&&Tt(Ve)===!1){const be=Ve.isWebGLMultipleRenderTargets?Ve.texture:[Ve.texture],fe=Ve.width,me=Ve.height;let Te=n.COLOR_BUFFER_BIT;const Ce=[],Se=Ve.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,we=i.get(Ve),Ge=Ve.isWebGLMultipleRenderTargets===!0;if(Ge)for(let Ae=0;Ae<be.length;Ae++)r.bindFramebuffer(n.FRAMEBUFFER,we.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ae,n.RENDERBUFFER,null),r.bindFramebuffer(n.FRAMEBUFFER,we.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ae,n.TEXTURE_2D,null,0);r.bindFramebuffer(n.READ_FRAMEBUFFER,we.__webglMultisampledFramebuffer),r.bindFramebuffer(n.DRAW_FRAMEBUFFER,we.__webglFramebuffer);for(let Ae=0;Ae<be.length;Ae++){Ce.push(n.COLOR_ATTACHMENT0+Ae),Ve.depthBuffer&&Ce.push(Se);const Ue=we.__ignoreDepthValues!==void 0?we.__ignoreDepthValues:!1;if(Ue===!1&&(Ve.depthBuffer&&(Te|=n.DEPTH_BUFFER_BIT),Ve.stencilBuffer&&(Te|=n.STENCIL_BUFFER_BIT)),Ge&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,we.__webglColorRenderbuffer[Ae]),Ue===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[Se]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Se])),Ge){const et=i.get(be[Ae]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,et,0)}n.blitFramebuffer(0,0,fe,me,0,0,fe,me,Te,n.NEAREST),v&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Ce)}if(r.bindFramebuffer(n.READ_FRAMEBUFFER,null),r.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Ge)for(let Ae=0;Ae<be.length;Ae++){r.bindFramebuffer(n.FRAMEBUFFER,we.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ae,n.RENDERBUFFER,we.__webglColorRenderbuffer[Ae]);const Ue=i.get(be[Ae]).__webglTexture;r.bindFramebuffer(n.FRAMEBUFFER,we.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ae,n.TEXTURE_2D,Ue,0)}r.bindFramebuffer(n.DRAW_FRAMEBUFFER,we.__webglMultisampledFramebuffer)}}function Ct(Ve){return Math.min(p,Ve.samples)}function Tt(Ve){const be=i.get(Ve);return u&&Ve.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&be.__useRenderToTexture!==!1}function Dt(Ve){const be=l.render.frame;y.get(Ve)!==be&&(y.set(Ve,be),Ve.update())}function Yt(Ve,be){const fe=Ve.colorSpace,me=Ve.format,Te=Ve.type;return Ve.isCompressedTexture===!0||Ve.isVideoTexture===!0||Ve.format===V3||fe!==Bu&&fe!==rl&&(Gi.getTransfer(fe)===eo?u===!1?e.has("EXT_sRGB")===!0&&me===Fl?(Ve.format=V3,Ve.minFilter=Rs,Ve.generateMipmaps=!1):be=kG.sRGBToLinear(be):(me!==Fl||Te!==$d)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",fe)),be}this.allocateTextureUnit=G,this.resetTextureUnits=z,this.setTexture2D=Q,this.setTexture2DArray=X,this.setTexture3D=J,this.setTextureCube=Z,this.rebindTextures=it,this.setupRenderTarget=ft,this.updateRenderTargetMipmap=xt,this.updateMultisampleRenderTarget=At,this.setupDepthRenderbuffer=ot,this.setupFrameBufferTexture=Xe,this.useMultisampledRTT=Tt}function RTe(n,e,r){const i=r.isWebGL2;function o(s,l=rl){let u;const c=Gi.getTransfer(l);if(s===$d)return n.UNSIGNED_BYTE;if(s===RG)return n.UNSIGNED_SHORT_4_4_4_4;if(s===IG)return n.UNSIGNED_SHORT_5_5_5_1;if(s===ewe)return n.BYTE;if(s===twe)return n.SHORT;if(s===XL)return n.UNSIGNED_SHORT;if(s===TG)return n.INT;if(s===Ld)return n.UNSIGNED_INT;if(s===Pd)return n.FLOAT;if(s===ag)return i?n.HALF_FLOAT:(u=e.get("OES_texture_half_float"),u!==null?u.HALF_FLOAT_OES:null);if(s===nwe)return n.ALPHA;if(s===Fl)return n.RGBA;if(s===rwe)return n.LUMINANCE;if(s===iwe)return n.LUMINANCE_ALPHA;if(s===dh)return n.DEPTH_COMPONENT;if(s===sg)return n.DEPTH_STENCIL;if(s===V3)return u=e.get("EXT_sRGB"),u!==null?u.SRGB_ALPHA_EXT:null;if(s===owe)return n.RED;if(s===LG)return n.RED_INTEGER;if(s===awe)return n.RG;if(s===PG)return n.RG_INTEGER;if(s===BG)return n.RGBA_INTEGER;if(s===g_||s===v_||s===A_||s===y_)if(c===eo)if(u=e.get("WEBGL_compressed_texture_s3tc_srgb"),u!==null){if(s===g_)return u.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===v_)return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===A_)return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===y_)return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(u=e.get("WEBGL_compressed_texture_s3tc"),u!==null){if(s===g_)return u.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===v_)return u.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===A_)return u.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===y_)return u.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===IF||s===LF||s===PF||s===BF)if(u=e.get("WEBGL_compressed_texture_pvrtc"),u!==null){if(s===IF)return u.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===LF)return u.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===PF)return u.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===BF)return u.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===swe)return u=e.get("WEBGL_compressed_texture_etc1"),u!==null?u.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===OF||s===DF)if(u=e.get("WEBGL_compressed_texture_etc"),u!==null){if(s===OF)return c===eo?u.COMPRESSED_SRGB8_ETC2:u.COMPRESSED_RGB8_ETC2;if(s===DF)return c===eo?u.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:u.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===NF||s===kF||s===FF||s===UF||s===zF||s===HF||s===$F||s===GF||s===jF||s===VF||s===WF||s===QF||s===KF||s===XF)if(u=e.get("WEBGL_compressed_texture_astc"),u!==null){if(s===NF)return c===eo?u.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:u.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===kF)return c===eo?u.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:u.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===FF)return c===eo?u.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:u.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===UF)return c===eo?u.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:u.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===zF)return c===eo?u.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:u.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===HF)return c===eo?u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:u.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===$F)return c===eo?u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:u.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===GF)return c===eo?u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:u.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===jF)return c===eo?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:u.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===VF)return c===eo?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:u.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===WF)return c===eo?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:u.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===QF)return c===eo?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:u.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===KF)return c===eo?u.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:u.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===XF)return c===eo?u.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:u.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===b_||s===qF||s===YF)if(u=e.get("EXT_texture_compression_bptc"),u!==null){if(s===b_)return c===eo?u.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:u.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===qF)return u.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===YF)return u.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===lwe||s===JF||s===ZF||s===e5)if(u=e.get("EXT_texture_compression_rgtc"),u!==null){if(s===b_)return u.COMPRESSED_RED_RGTC1_EXT;if(s===JF)return u.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===ZF)return u.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===e5)return u.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===uh?i?n.UNSIGNED_INT_24_8:(u=e.get("WEBGL_depth_texture"),u!==null?u.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:o}}class ITe extends nl{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}let Am=class extends sa{constructor(){super(),this.isGroup=!0,this.type="Group"}};const LTe={type:"move"};class G_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Am,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Am,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Rt,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Rt),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Am,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Rt,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Rt),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const r=this._hand;if(r)for(const i of e.hand.values())this._getHandJoint(r,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,r,i){let o=null,s=null,l=null;const u=this._targetRay,c=this._grip,d=this._hand;if(e&&r.session.visibilityState!=="visible-blurred"){if(d&&e.hand){l=!0;for(const A of e.hand.values()){const b=r.getJointPose(A,i),g=this._getHandJoint(d,A);b!==null&&(g.matrix.fromArray(b.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=b.radius),g.visible=b!==null}const h=d.joints["index-finger-tip"],p=d.joints["thumb-tip"],m=h.position.distanceTo(p.position),v=.02,y=.005;d.inputState.pinching&&m>v+y?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!d.inputState.pinching&&m<=v-y&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(s=r.getPose(e.gripSpace,i),s!==null&&(c.matrix.fromArray(s.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,s.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(s.linearVelocity)):c.hasLinearVelocity=!1,s.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(s.angularVelocity)):c.hasAngularVelocity=!1));u!==null&&(o=r.getPose(e.targetRaySpace,i),o===null&&s!==null&&(o=s),o!==null&&(u.matrix.fromArray(o.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,o.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(o.linearVelocity)):u.hasLinearVelocity=!1,o.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(o.angularVelocity)):u.hasAngularVelocity=!1,this.dispatchEvent(LTe)))}return u!==null&&(u.visible=o!==null),c!==null&&(c.visible=s!==null),d!==null&&(d.visible=l!==null),this}_getHandJoint(e,r){if(e.joints[r.jointName]===void 0){const i=new Am;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[r.jointName]=i,e.add(i)}return e.joints[r.jointName]}}class PTe extends Xa{constructor(e,r,i,o,s,l,u,c,d,h){if(h=h!==void 0?h:dh,h!==dh&&h!==sg)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&h===dh&&(i=Ld),i===void 0&&h===sg&&(i=uh),super(null,o,s,l,u,c,h,i,d),this.isDepthTexture=!0,this.image={width:e,height:r},this.magFilter=u!==void 0?u:ja,this.minFilter=c!==void 0?c:ja,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const r=super.toJSON(e);return this.compareFunction!==null&&(r.compareFunction=this.compareFunction),r}}class BTe extends Zl{constructor(e,r){super();const i=this;let o=null,s=1,l=null,u="local-floor",c=1,d=null,h=null,p=null,m=null,v=null,y=null;const A=r.getContextAttributes();let b=null,g=null;const w=[],E=[],C=new nl;C.layers.enable(1),C.viewport=new oa;const _=new nl;_.layers.enable(2),_.viewport=new oa;const L=[C,_],R=new ITe;R.layers.enable(1),R.layers.enable(2);let P=null,T=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(X){let J=w[X];return J===void 0&&(J=new G_,w[X]=J),J.getTargetRaySpace()},this.getControllerGrip=function(X){let J=w[X];return J===void 0&&(J=new G_,w[X]=J),J.getGripSpace()},this.getHand=function(X){let J=w[X];return J===void 0&&(J=new G_,w[X]=J),J.getHandSpace()};function D(X){const J=E.indexOf(X.inputSource);if(J===-1)return;const Z=w[J];Z!==void 0&&(Z.update(X.inputSource,X.frame,d||l),Z.dispatchEvent({type:X.type,data:X.inputSource}))}function $(){o.removeEventListener("select",D),o.removeEventListener("selectstart",D),o.removeEventListener("selectend",D),o.removeEventListener("squeeze",D),o.removeEventListener("squeezestart",D),o.removeEventListener("squeezeend",D),o.removeEventListener("end",$),o.removeEventListener("inputsourceschange",V);for(let X=0;X<w.length;X++){const J=E[X];J!==null&&(E[X]=null,w[X].disconnect(J))}P=null,T=null,e.setRenderTarget(b),v=null,m=null,p=null,o=null,g=null,Q.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(X){s=X,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(X){u=X,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return d||l},this.setReferenceSpace=function(X){d=X},this.getBaseLayer=function(){return m!==null?m:v},this.getBinding=function(){return p},this.getFrame=function(){return y},this.getSession=function(){return o},this.setSession=async function(X){if(o=X,o!==null){if(b=e.getRenderTarget(),o.addEventListener("select",D),o.addEventListener("selectstart",D),o.addEventListener("selectend",D),o.addEventListener("squeeze",D),o.addEventListener("squeezestart",D),o.addEventListener("squeezeend",D),o.addEventListener("end",$),o.addEventListener("inputsourceschange",V),A.xrCompatible!==!0&&await r.makeXRCompatible(),o.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const J={antialias:o.renderState.layers===void 0?A.antialias:!0,alpha:!0,depth:A.depth,stencil:A.stencil,framebufferScaleFactor:s};v=new XRWebGLLayer(o,r,J),o.updateRenderState({baseLayer:v}),g=new Kd(v.framebufferWidth,v.framebufferHeight,{format:Fl,type:$d,colorSpace:e.outputColorSpace,stencilBuffer:A.stencil})}else{let J=null,Z=null,oe=null;A.depth&&(oe=A.stencil?r.DEPTH24_STENCIL8:r.DEPTH_COMPONENT24,J=A.stencil?sg:dh,Z=A.stencil?uh:Ld);const ue={colorFormat:r.RGBA8,depthFormat:oe,scaleFactor:s};p=new XRWebGLBinding(o,r),m=p.createProjectionLayer(ue),o.updateRenderState({layers:[m]}),g=new Kd(m.textureWidth,m.textureHeight,{format:Fl,type:$d,depthTexture:new PTe(m.textureWidth,m.textureHeight,Z,void 0,void 0,void 0,void 0,void 0,void 0,J),stencilBuffer:A.stencil,colorSpace:e.outputColorSpace,samples:A.antialias?4:0});const Be=e.properties.get(g);Be.__ignoreDepthValues=m.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(c),d=null,l=await o.requestReferenceSpace(u),Q.setContext(o),Q.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(o!==null)return o.environmentBlendMode};function V(X){for(let J=0;J<X.removed.length;J++){const Z=X.removed[J],oe=E.indexOf(Z);oe>=0&&(E[oe]=null,w[oe].disconnect(Z))}for(let J=0;J<X.added.length;J++){const Z=X.added[J];let oe=E.indexOf(Z);if(oe===-1){for(let Be=0;Be<w.length;Be++)if(Be>=E.length){E.push(Z),oe=Be;break}else if(E[Be]===null){E[Be]=Z,oe=Be;break}if(oe===-1)break}const ue=w[oe];ue&&ue.connect(Z)}}const B=new Rt,O=new Rt;function F(X,J,Z){B.setFromMatrixPosition(J.matrixWorld),O.setFromMatrixPosition(Z.matrixWorld);const oe=B.distanceTo(O),ue=J.projectionMatrix.elements,Be=Z.projectionMatrix.elements,ge=ue[14]/(ue[10]-1),Ie=ue[14]/(ue[10]+1),He=(ue[9]+1)/ue[5],Ze=(ue[9]-1)/ue[5],Xe=(ue[8]-1)/ue[0],ke=(Be[8]+1)/Be[0],lt=ge*Xe,ot=ge*ke,it=oe/(-Xe+ke),ft=it*-Xe;J.matrixWorld.decompose(X.position,X.quaternion,X.scale),X.translateX(ft),X.translateZ(it),X.matrixWorld.compose(X.position,X.quaternion,X.scale),X.matrixWorldInverse.copy(X.matrixWorld).invert();const xt=ge+it,At=Ie+it,Ct=lt-ft,Tt=ot+(oe-ft),Dt=He*Ie/At*xt,Yt=Ze*Ie/At*xt;X.projectionMatrix.makePerspective(Ct,Tt,Dt,Yt,xt,At),X.projectionMatrixInverse.copy(X.projectionMatrix).invert()}function k(X,J){J===null?X.matrixWorld.copy(X.matrix):X.matrixWorld.multiplyMatrices(J.matrixWorld,X.matrix),X.matrixWorldInverse.copy(X.matrixWorld).invert()}this.updateCamera=function(X){if(o===null)return;R.near=_.near=C.near=X.near,R.far=_.far=C.far=X.far,(P!==R.near||T!==R.far)&&(o.updateRenderState({depthNear:R.near,depthFar:R.far}),P=R.near,T=R.far);const J=X.parent,Z=R.cameras;k(R,J);for(let oe=0;oe<Z.length;oe++)k(Z[oe],J);Z.length===2?F(R,C,_):R.projectionMatrix.copy(C.projectionMatrix),z(X,R,J)};function z(X,J,Z){Z===null?X.matrix.copy(J.matrixWorld):(X.matrix.copy(Z.matrixWorld),X.matrix.invert(),X.matrix.multiply(J.matrixWorld)),X.matrix.decompose(X.position,X.quaternion,X.scale),X.updateMatrixWorld(!0),X.projectionMatrix.copy(J.projectionMatrix),X.projectionMatrixInverse.copy(J.projectionMatrixInverse),X.isPerspectiveCamera&&(X.fov=wA*2*Math.atan(1/X.projectionMatrix.elements[5]),X.zoom=1)}this.getCamera=function(){return R},this.getFoveation=function(){if(!(m===null&&v===null))return c},this.setFoveation=function(X){c=X,m!==null&&(m.fixedFoveation=X),v!==null&&v.fixedFoveation!==void 0&&(v.fixedFoveation=X)};let G=null;function j(X,J){if(h=J.getViewerPose(d||l),y=J,h!==null){const Z=h.views;v!==null&&(e.setRenderTargetFramebuffer(g,v.framebuffer),e.setRenderTarget(g));let oe=!1;Z.length!==R.cameras.length&&(R.cameras.length=0,oe=!0);for(let ue=0;ue<Z.length;ue++){const Be=Z[ue];let ge=null;if(v!==null)ge=v.getViewport(Be);else{const He=p.getViewSubImage(m,Be);ge=He.viewport,ue===0&&(e.setRenderTargetTextures(g,He.colorTexture,m.ignoreDepthValues?void 0:He.depthStencilTexture),e.setRenderTarget(g))}let Ie=L[ue];Ie===void 0&&(Ie=new nl,Ie.layers.enable(ue),Ie.viewport=new oa,L[ue]=Ie),Ie.matrix.fromArray(Be.transform.matrix),Ie.matrix.decompose(Ie.position,Ie.quaternion,Ie.scale),Ie.projectionMatrix.fromArray(Be.projectionMatrix),Ie.projectionMatrixInverse.copy(Ie.projectionMatrix).invert(),Ie.viewport.set(ge.x,ge.y,ge.width,ge.height),ue===0&&(R.matrix.copy(Ie.matrix),R.matrix.decompose(R.position,R.quaternion,R.scale)),oe===!0&&R.cameras.push(Ie)}}for(let Z=0;Z<w.length;Z++){const oe=E[Z],ue=w[Z];oe!==null&&ue!==void 0&&ue.update(oe,J,d||l)}G&&G(X,J),J.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:J}),y=null}const Q=new QG;Q.setAnimationLoop(j),this.setAnimationLoop=function(X){G=X},this.dispose=function(){}}}function OTe(n,e){function r(b,g){b.matrixAutoUpdate===!0&&b.updateMatrix(),g.value.copy(b.matrix)}function i(b,g){g.color.getRGB(b.fogColor.value,GG(n)),g.isFog?(b.fogNear.value=g.near,b.fogFar.value=g.far):g.isFogExp2&&(b.fogDensity.value=g.density)}function o(b,g,w,E,C){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(b,g):g.isMeshToonMaterial?(s(b,g),p(b,g)):g.isMeshPhongMaterial?(s(b,g),h(b,g)):g.isMeshStandardMaterial?(s(b,g),m(b,g),g.isMeshPhysicalMaterial&&v(b,g,C)):g.isMeshMatcapMaterial?(s(b,g),y(b,g)):g.isMeshDepthMaterial?s(b,g):g.isMeshDistanceMaterial?(s(b,g),A(b,g)):g.isMeshNormalMaterial?s(b,g):g.isLineBasicMaterial?(l(b,g),g.isLineDashedMaterial&&u(b,g)):g.isPointsMaterial?c(b,g,w,E):g.isSpriteMaterial?d(b,g):g.isShadowMaterial?(b.color.value.copy(g.color),b.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(b,g){b.opacity.value=g.opacity,g.color&&b.diffuse.value.copy(g.color),g.emissive&&b.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(b.map.value=g.map,r(g.map,b.mapTransform)),g.alphaMap&&(b.alphaMap.value=g.alphaMap,r(g.alphaMap,b.alphaMapTransform)),g.bumpMap&&(b.bumpMap.value=g.bumpMap,r(g.bumpMap,b.bumpMapTransform),b.bumpScale.value=g.bumpScale,g.side===Ka&&(b.bumpScale.value*=-1)),g.normalMap&&(b.normalMap.value=g.normalMap,r(g.normalMap,b.normalMapTransform),b.normalScale.value.copy(g.normalScale),g.side===Ka&&b.normalScale.value.negate()),g.displacementMap&&(b.displacementMap.value=g.displacementMap,r(g.displacementMap,b.displacementMapTransform),b.displacementScale.value=g.displacementScale,b.displacementBias.value=g.displacementBias),g.emissiveMap&&(b.emissiveMap.value=g.emissiveMap,r(g.emissiveMap,b.emissiveMapTransform)),g.specularMap&&(b.specularMap.value=g.specularMap,r(g.specularMap,b.specularMapTransform)),g.alphaTest>0&&(b.alphaTest.value=g.alphaTest);const w=e.get(g).envMap;if(w&&(b.envMap.value=w,b.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,b.reflectivity.value=g.reflectivity,b.ior.value=g.ior,b.refractionRatio.value=g.refractionRatio),g.lightMap){b.lightMap.value=g.lightMap;const E=n._useLegacyLights===!0?Math.PI:1;b.lightMapIntensity.value=g.lightMapIntensity*E,r(g.lightMap,b.lightMapTransform)}g.aoMap&&(b.aoMap.value=g.aoMap,b.aoMapIntensity.value=g.aoMapIntensity,r(g.aoMap,b.aoMapTransform))}function l(b,g){b.diffuse.value.copy(g.color),b.opacity.value=g.opacity,g.map&&(b.map.value=g.map,r(g.map,b.mapTransform))}function u(b,g){b.dashSize.value=g.dashSize,b.totalSize.value=g.dashSize+g.gapSize,b.scale.value=g.scale}function c(b,g,w,E){b.diffuse.value.copy(g.color),b.opacity.value=g.opacity,b.size.value=g.size*w,b.scale.value=E*.5,g.map&&(b.map.value=g.map,r(g.map,b.uvTransform)),g.alphaMap&&(b.alphaMap.value=g.alphaMap,r(g.alphaMap,b.alphaMapTransform)),g.alphaTest>0&&(b.alphaTest.value=g.alphaTest)}function d(b,g){b.diffuse.value.copy(g.color),b.opacity.value=g.opacity,b.rotation.value=g.rotation,g.map&&(b.map.value=g.map,r(g.map,b.mapTransform)),g.alphaMap&&(b.alphaMap.value=g.alphaMap,r(g.alphaMap,b.alphaMapTransform)),g.alphaTest>0&&(b.alphaTest.value=g.alphaTest)}function h(b,g){b.specular.value.copy(g.specular),b.shininess.value=Math.max(g.shininess,1e-4)}function p(b,g){g.gradientMap&&(b.gradientMap.value=g.gradientMap)}function m(b,g){b.metalness.value=g.metalness,g.metalnessMap&&(b.metalnessMap.value=g.metalnessMap,r(g.metalnessMap,b.metalnessMapTransform)),b.roughness.value=g.roughness,g.roughnessMap&&(b.roughnessMap.value=g.roughnessMap,r(g.roughnessMap,b.roughnessMapTransform)),e.get(g).envMap&&(b.envMapIntensity.value=g.envMapIntensity)}function v(b,g,w){b.ior.value=g.ior,g.sheen>0&&(b.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),b.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(b.sheenColorMap.value=g.sheenColorMap,r(g.sheenColorMap,b.sheenColorMapTransform)),g.sheenRoughnessMap&&(b.sheenRoughnessMap.value=g.sheenRoughnessMap,r(g.sheenRoughnessMap,b.sheenRoughnessMapTransform))),g.clearcoat>0&&(b.clearcoat.value=g.clearcoat,b.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(b.clearcoatMap.value=g.clearcoatMap,r(g.clearcoatMap,b.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(b.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,r(g.clearcoatRoughnessMap,b.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(b.clearcoatNormalMap.value=g.clearcoatNormalMap,r(g.clearcoatNormalMap,b.clearcoatNormalMapTransform),b.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===Ka&&b.clearcoatNormalScale.value.negate())),g.iridescence>0&&(b.iridescence.value=g.iridescence,b.iridescenceIOR.value=g.iridescenceIOR,b.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],b.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(b.iridescenceMap.value=g.iridescenceMap,r(g.iridescenceMap,b.iridescenceMapTransform)),g.iridescenceThicknessMap&&(b.iridescenceThicknessMap.value=g.iridescenceThicknessMap,r(g.iridescenceThicknessMap,b.iridescenceThicknessMapTransform))),g.transmission>0&&(b.transmission.value=g.transmission,b.transmissionSamplerMap.value=w.texture,b.transmissionSamplerSize.value.set(w.width,w.height),g.transmissionMap&&(b.transmissionMap.value=g.transmissionMap,r(g.transmissionMap,b.transmissionMapTransform)),b.thickness.value=g.thickness,g.thicknessMap&&(b.thicknessMap.value=g.thicknessMap,r(g.thicknessMap,b.thicknessMapTransform)),b.attenuationDistance.value=g.attenuationDistance,b.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(b.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(b.anisotropyMap.value=g.anisotropyMap,r(g.anisotropyMap,b.anisotropyMapTransform))),b.specularIntensity.value=g.specularIntensity,b.specularColor.value.copy(g.specularColor),g.specularColorMap&&(b.specularColorMap.value=g.specularColorMap,r(g.specularColorMap,b.specularColorMapTransform)),g.specularIntensityMap&&(b.specularIntensityMap.value=g.specularIntensityMap,r(g.specularIntensityMap,b.specularIntensityMapTransform))}function y(b,g){g.matcap&&(b.matcap.value=g.matcap)}function A(b,g){const w=e.get(g).light;b.referencePosition.value.setFromMatrixPosition(w.matrixWorld),b.nearDistance.value=w.shadow.camera.near,b.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:o}}function DTe(n,e,r,i){let o={},s={},l=[];const u=r.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function c(w,E){const C=E.program;i.uniformBlockBinding(w,C)}function d(w,E){let C=o[w.id];C===void 0&&(y(w),C=h(w),o[w.id]=C,w.addEventListener("dispose",b));const _=E.program;i.updateUBOMapping(w,_);const L=e.render.frame;s[w.id]!==L&&(m(w),s[w.id]=L)}function h(w){const E=p();w.__bindingPointIndex=E;const C=n.createBuffer(),_=w.__size,L=w.usage;return n.bindBuffer(n.UNIFORM_BUFFER,C),n.bufferData(n.UNIFORM_BUFFER,_,L),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,E,C),C}function p(){for(let w=0;w<u;w++)if(l.indexOf(w)===-1)return l.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function m(w){const E=o[w.id],C=w.uniforms,_=w.__cache;n.bindBuffer(n.UNIFORM_BUFFER,E);for(let L=0,R=C.length;L<R;L++){const P=C[L];if(v(P,L,_)===!0){const T=P.__offset,D=Array.isArray(P.value)?P.value:[P.value];let $=0;for(let V=0;V<D.length;V++){const B=D[V],O=A(B);typeof B=="number"?(P.__data[0]=B,n.bufferSubData(n.UNIFORM_BUFFER,T+$,P.__data)):B.isMatrix3?(P.__data[0]=B.elements[0],P.__data[1]=B.elements[1],P.__data[2]=B.elements[2],P.__data[3]=B.elements[0],P.__data[4]=B.elements[3],P.__data[5]=B.elements[4],P.__data[6]=B.elements[5],P.__data[7]=B.elements[0],P.__data[8]=B.elements[6],P.__data[9]=B.elements[7],P.__data[10]=B.elements[8],P.__data[11]=B.elements[0]):(B.toArray(P.__data,$),$+=O.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,T,P.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function v(w,E,C){const _=w.value;if(C[E]===void 0){if(typeof _=="number")C[E]=_;else{const L=Array.isArray(_)?_:[_],R=[];for(let P=0;P<L.length;P++)R.push(L[P].clone());C[E]=R}return!0}else if(typeof _=="number"){if(C[E]!==_)return C[E]=_,!0}else{const L=Array.isArray(C[E])?C[E]:[C[E]],R=Array.isArray(_)?_:[_];for(let P=0;P<L.length;P++){const T=L[P];if(T.equals(R[P])===!1)return T.copy(R[P]),!0}}return!1}function y(w){const E=w.uniforms;let C=0;const _=16;let L=0;for(let R=0,P=E.length;R<P;R++){const T=E[R],D={boundary:0,storage:0},$=Array.isArray(T.value)?T.value:[T.value];for(let V=0,B=$.length;V<B;V++){const O=$[V],F=A(O);D.boundary+=F.boundary,D.storage+=F.storage}if(T.__data=new Float32Array(D.storage/Float32Array.BYTES_PER_ELEMENT),T.__offset=C,R>0){L=C%_;const V=_-L;L!==0&&V-D.boundary<0&&(C+=_-L,T.__offset=C)}C+=D.storage}return L=C%_,L>0&&(C+=_-L),w.__size=C,w.__cache={},this}function A(w){const E={boundary:0,storage:0};return typeof w=="number"?(E.boundary=4,E.storage=4):w.isVector2?(E.boundary=8,E.storage=8):w.isVector3||w.isColor?(E.boundary=16,E.storage=12):w.isVector4?(E.boundary=16,E.storage=16):w.isMatrix3?(E.boundary=48,E.storage=48):w.isMatrix4?(E.boundary=64,E.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),E}function b(w){const E=w.target;E.removeEventListener("dispose",b);const C=l.indexOf(E.__bindingPointIndex);l.splice(C,1),n.deleteBuffer(o[E.id]),delete o[E.id],delete s[E.id]}function g(){for(const w in o)n.deleteBuffer(o[w]);l=[],o={},s={}}return{bind:c,update:d,dispose:g}}class JG{constructor(e={}){const{canvas:r=Owe(),context:i=null,depth:o=!0,stencil:s=!0,alpha:l=!1,antialias:u=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:d=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:p=!1}=e;this.isWebGLRenderer=!0;let m;i!==null?m=i.getContextAttributes().alpha:m=l;const v=new Uint32Array(4),y=new Int32Array(4);let A=null,b=null;const g=[],w=[];this.domElement=r,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Go,this._useLegacyLights=!1,this.toneMapping=Hd,this.toneMappingExposure=1;const E=this;let C=!1,_=0,L=0,R=null,P=-1,T=null;const D=new oa,$=new oa;let V=null;const B=new mi(0);let O=0,F=r.width,k=r.height,z=1,G=null,j=null;const Q=new oa(0,0,F,k),X=new oa(0,0,F,k);let J=!1;const Z=new eP;let oe=!1,ue=!1,Be=null;const ge=new lo,Ie=new tr,He=new Rt,Ze={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Xe(){return R===null?z:1}let ke=i;function lt(Oe,st){for(let wt=0;wt<Oe.length;wt++){const xe=Oe[wt],De=r.getContext(xe,st);if(De!==null)return De}return null}try{const Oe={alpha:!0,depth:o,stencil:s,antialias:u,premultipliedAlpha:c,preserveDrawingBuffer:d,powerPreference:h,failIfMajorPerformanceCaveat:p};if("setAttribute"in r&&r.setAttribute("data-engine",`three.js r${QL}`),r.addEventListener("webglcontextlost",ve,!1),r.addEventListener("webglcontextrestored",he,!1),r.addEventListener("webglcontextcreationerror",qe,!1),ke===null){const st=["webgl2","webgl","experimental-webgl"];if(E.isWebGL1Renderer===!0&&st.shift(),ke=lt(st,Oe),ke===null)throw lt(st)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&ke instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),ke.getShaderPrecisionFormat===void 0&&(ke.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Oe){throw console.error("THREE.WebGLRenderer: "+Oe.message),Oe}let ot,it,ft,xt,At,Ct,Tt,Dt,Yt,Ve,be,fe,me,Te,Ce,Se,we,Ge,Ae,Ue,et,ce,Y,ne;function Le(){ot=new V_e(ke),it=new U_e(ke,ot,e),ot.init(it),ce=new RTe(ke,ot,it),ft=new MTe(ke,ot,it),xt=new K_e(ke),At=new hTe,Ct=new TTe(ke,ot,ft,At,it,ce,xt),Tt=new H_e(E),Dt=new j_e(E),Yt=new iSe(ke,it),Y=new k_e(ke,ot,Yt,it),Ve=new W_e(ke,Yt,xt,Y),be=new J_e(ke,Ve,Yt,xt),Ae=new Y_e(ke,it,Ct),Se=new z_e(At),fe=new fTe(E,Tt,Dt,ot,it,Y,Se),me=new OTe(E,At),Te=new mTe,Ce=new xTe(ot,it),Ge=new N_e(E,Tt,Dt,ft,be,m,c),we=new _Te(E,be,it),ne=new DTe(ke,xt,it,ft),Ue=new F_e(ke,ot,xt,it),et=new Q_e(ke,ot,xt,it),xt.programs=fe.programs,E.capabilities=it,E.extensions=ot,E.properties=At,E.renderLists=Te,E.shadowMap=we,E.state=ft,E.info=xt}Le();const We=new BTe(E,ke);this.xr=We,this.getContext=function(){return ke},this.getContextAttributes=function(){return ke.getContextAttributes()},this.forceContextLoss=function(){const Oe=ot.get("WEBGL_lose_context");Oe&&Oe.loseContext()},this.forceContextRestore=function(){const Oe=ot.get("WEBGL_lose_context");Oe&&Oe.restoreContext()},this.getPixelRatio=function(){return z},this.setPixelRatio=function(Oe){Oe!==void 0&&(z=Oe,this.setSize(F,k,!1))},this.getSize=function(Oe){return Oe.set(F,k)},this.setSize=function(Oe,st,wt=!0){if(We.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}F=Oe,k=st,r.width=Math.floor(Oe*z),r.height=Math.floor(st*z),wt===!0&&(r.style.width=Oe+"px",r.style.height=st+"px"),this.setViewport(0,0,Oe,st)},this.getDrawingBufferSize=function(Oe){return Oe.set(F*z,k*z).floor()},this.setDrawingBufferSize=function(Oe,st,wt){F=Oe,k=st,z=wt,r.width=Math.floor(Oe*wt),r.height=Math.floor(st*wt),this.setViewport(0,0,Oe,st)},this.getCurrentViewport=function(Oe){return Oe.copy(D)},this.getViewport=function(Oe){return Oe.copy(Q)},this.setViewport=function(Oe,st,wt,xe){Oe.isVector4?Q.set(Oe.x,Oe.y,Oe.z,Oe.w):Q.set(Oe,st,wt,xe),ft.viewport(D.copy(Q).multiplyScalar(z).floor())},this.getScissor=function(Oe){return Oe.copy(X)},this.setScissor=function(Oe,st,wt,xe){Oe.isVector4?X.set(Oe.x,Oe.y,Oe.z,Oe.w):X.set(Oe,st,wt,xe),ft.scissor($.copy(X).multiplyScalar(z).floor())},this.getScissorTest=function(){return J},this.setScissorTest=function(Oe){ft.setScissorTest(J=Oe)},this.setOpaqueSort=function(Oe){G=Oe},this.setTransparentSort=function(Oe){j=Oe},this.getClearColor=function(Oe){return Oe.copy(Ge.getClearColor())},this.setClearColor=function(){Ge.setClearColor.apply(Ge,arguments)},this.getClearAlpha=function(){return Ge.getClearAlpha()},this.setClearAlpha=function(){Ge.setClearAlpha.apply(Ge,arguments)},this.clear=function(Oe=!0,st=!0,wt=!0){let xe=0;if(Oe){let De=!1;if(R!==null){const tt=R.texture.format;De=tt===BG||tt===PG||tt===LG}if(De){const tt=R.texture.type,St=tt===$d||tt===Ld||tt===XL||tt===uh||tt===RG||tt===IG,Mt=Ge.getClearColor(),Ut=Ge.getClearAlpha(),Qt=Mt.r,mn=Mt.g,sn=Mt.b;St?(v[0]=Qt,v[1]=mn,v[2]=sn,v[3]=Ut,ke.clearBufferuiv(ke.COLOR,0,v)):(y[0]=Qt,y[1]=mn,y[2]=sn,y[3]=Ut,ke.clearBufferiv(ke.COLOR,0,y))}else xe|=ke.COLOR_BUFFER_BIT}st&&(xe|=ke.DEPTH_BUFFER_BIT),wt&&(xe|=ke.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ke.clear(xe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){r.removeEventListener("webglcontextlost",ve,!1),r.removeEventListener("webglcontextrestored",he,!1),r.removeEventListener("webglcontextcreationerror",qe,!1),Te.dispose(),Ce.dispose(),At.dispose(),Tt.dispose(),Dt.dispose(),be.dispose(),Y.dispose(),ne.dispose(),fe.dispose(),We.dispose(),We.removeEventListener("sessionstart",Gt),We.removeEventListener("sessionend",Vt),Be&&(Be.dispose(),Be=null),Pt.stop()};function ve(Oe){Oe.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function he(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1;const Oe=xt.autoReset,st=we.enabled,wt=we.autoUpdate,xe=we.needsUpdate,De=we.type;Le(),xt.autoReset=Oe,we.enabled=st,we.autoUpdate=wt,we.needsUpdate=xe,we.type=De}function qe(Oe){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Oe.statusMessage)}function Je(Oe){const st=Oe.target;st.removeEventListener("dispose",Je),Qe(st)}function Qe(Oe){nt(Oe),At.remove(Oe)}function nt(Oe){const st=At.get(Oe).programs;st!==void 0&&(st.forEach(function(wt){fe.releaseProgram(wt)}),Oe.isShaderMaterial&&fe.releaseShaderCache(Oe))}this.renderBufferDirect=function(Oe,st,wt,xe,De,tt){st===null&&(st=Ze);const St=De.isMesh&&De.matrixWorld.determinant()<0,Mt=Gn(Oe,st,wt,xe,De);ft.setMaterial(xe,St);let Ut=wt.index,Qt=1;if(xe.wireframe===!0){if(Ut=Ve.getWireframeAttribute(wt),Ut===void 0)return;Qt=2}const mn=wt.drawRange,sn=wt.attributes.position;let Kt=mn.start*Qt,Hn=(mn.start+mn.count)*Qt;tt!==null&&(Kt=Math.max(Kt,tt.start*Qt),Hn=Math.min(Hn,(tt.start+tt.count)*Qt)),Ut!==null?(Kt=Math.max(Kt,0),Hn=Math.min(Hn,Ut.count)):sn!=null&&(Kt=Math.max(Kt,0),Hn=Math.min(Hn,sn.count));const Nn=Hn-Kt;if(Nn<0||Nn===1/0)return;Y.setup(De,xe,Mt,wt,Ut);let er,yr=Ue;if(Ut!==null&&(er=Yt.get(Ut),yr=et,yr.setIndex(er)),De.isMesh)xe.wireframe===!0?(ft.setLineWidth(xe.wireframeLinewidth*Xe()),yr.setMode(ke.LINES)):yr.setMode(ke.TRIANGLES);else if(De.isLine){let kn=xe.linewidth;kn===void 0&&(kn=1),ft.setLineWidth(kn*Xe()),De.isLineSegments?yr.setMode(ke.LINES):De.isLineLoop?yr.setMode(ke.LINE_LOOP):yr.setMode(ke.LINE_STRIP)}else De.isPoints?yr.setMode(ke.POINTS):De.isSprite&&yr.setMode(ke.TRIANGLES);if(De.isInstancedMesh)yr.renderInstances(Kt,Nn,De.count);else if(wt.isInstancedBufferGeometry){const kn=wt._maxInstanceCount!==void 0?wt._maxInstanceCount:1/0,dr=Math.min(wt.instanceCount,kn);yr.renderInstances(Kt,Nn,dr)}else yr.render(Kt,Nn)};function It(Oe,st,wt){Oe.transparent===!0&&Oe.side===hu&&Oe.forceSinglePass===!1?(Oe.side=Ka,Oe.needsUpdate=!0,yn(Oe,st,wt),Oe.side=Qd,Oe.needsUpdate=!0,yn(Oe,st,wt),Oe.side=hu):yn(Oe,st,wt)}this.compile=function(Oe,st,wt=null){wt===null&&(wt=Oe),b=Ce.get(wt),b.init(),w.push(b),wt.traverseVisible(function(De){De.isLight&&De.layers.test(st.layers)&&(b.pushLight(De),De.castShadow&&b.pushShadow(De))}),Oe!==wt&&Oe.traverseVisible(function(De){De.isLight&&De.layers.test(st.layers)&&(b.pushLight(De),De.castShadow&&b.pushShadow(De))}),b.setupLights(E._useLegacyLights);const xe=new Set;return Oe.traverse(function(De){const tt=De.material;if(tt)if(Array.isArray(tt))for(let St=0;St<tt.length;St++){const Mt=tt[St];It(Mt,wt,De),xe.add(Mt)}else It(tt,wt,De),xe.add(tt)}),w.pop(),b=null,xe},this.compileAsync=function(Oe,st,wt=null){const xe=this.compile(Oe,st,wt);return new Promise(De=>{function tt(){if(xe.forEach(function(St){At.get(St).currentProgram.isReady()&&xe.delete(St)}),xe.size===0){De(Oe);return}setTimeout(tt,10)}ot.get("KHR_parallel_shader_compile")!==null?tt():setTimeout(tt,10)})};let kt=null;function Bt(Oe){kt&&kt(Oe)}function Gt(){Pt.stop()}function Vt(){Pt.start()}const Pt=new QG;Pt.setAnimationLoop(Bt),typeof self<"u"&&Pt.setContext(self),this.setAnimationLoop=function(Oe){kt=Oe,We.setAnimationLoop(Oe),Oe===null?Pt.stop():Pt.start()},We.addEventListener("sessionstart",Gt),We.addEventListener("sessionend",Vt),this.render=function(Oe,st){if(st!==void 0&&st.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(C===!0)return;Oe.matrixWorldAutoUpdate===!0&&Oe.updateMatrixWorld(),st.parent===null&&st.matrixWorldAutoUpdate===!0&&st.updateMatrixWorld(),We.enabled===!0&&We.isPresenting===!0&&(We.cameraAutoUpdate===!0&&We.updateCamera(st),st=We.getCamera()),Oe.isScene===!0&&Oe.onBeforeRender(E,Oe,st,R),b=Ce.get(Oe,w.length),b.init(),w.push(b),ge.multiplyMatrices(st.projectionMatrix,st.matrixWorldInverse),Z.setFromProjectionMatrix(ge),ue=this.localClippingEnabled,oe=Se.init(this.clippingPlanes,ue),A=Te.get(Oe,g.length),A.init(),g.push(A),pt(Oe,st,0,E.sortObjects),A.finish(),E.sortObjects===!0&&A.sort(G,j),this.info.render.frame++,oe===!0&&Se.beginShadows();const wt=b.state.shadowsArray;if(we.render(wt,Oe,st),oe===!0&&Se.endShadows(),this.info.autoReset===!0&&this.info.reset(),Ge.render(A,Oe),b.setupLights(E._useLegacyLights),st.isArrayCamera){const xe=st.cameras;for(let De=0,tt=xe.length;De<tt;De++){const St=xe[De];Ot(A,Oe,St,St.viewport)}}else Ot(A,Oe,st);R!==null&&(Ct.updateMultisampleRenderTarget(R),Ct.updateRenderTargetMipmap(R)),Oe.isScene===!0&&Oe.onAfterRender(E,Oe,st),Y.resetDefaultState(),P=-1,T=null,w.pop(),w.length>0?b=w[w.length-1]:b=null,g.pop(),g.length>0?A=g[g.length-1]:A=null};function pt(Oe,st,wt,xe){if(Oe.visible===!1)return;if(Oe.layers.test(st.layers)){if(Oe.isGroup)wt=Oe.renderOrder;else if(Oe.isLOD)Oe.autoUpdate===!0&&Oe.update(st);else if(Oe.isLight)b.pushLight(Oe),Oe.castShadow&&b.pushShadow(Oe);else if(Oe.isSprite){if(!Oe.frustumCulled||Z.intersectsSprite(Oe)){xe&&He.setFromMatrixPosition(Oe.matrixWorld).applyMatrix4(ge);const St=be.update(Oe),Mt=Oe.material;Mt.visible&&A.push(Oe,St,Mt,wt,He.z,null)}}else if((Oe.isMesh||Oe.isLine||Oe.isPoints)&&(!Oe.frustumCulled||Z.intersectsObject(Oe))){const St=be.update(Oe),Mt=Oe.material;if(xe&&(Oe.boundingSphere!==void 0?(Oe.boundingSphere===null&&Oe.computeBoundingSphere(),He.copy(Oe.boundingSphere.center)):(St.boundingSphere===null&&St.computeBoundingSphere(),He.copy(St.boundingSphere.center)),He.applyMatrix4(Oe.matrixWorld).applyMatrix4(ge)),Array.isArray(Mt)){const Ut=St.groups;for(let Qt=0,mn=Ut.length;Qt<mn;Qt++){const sn=Ut[Qt],Kt=Mt[sn.materialIndex];Kt&&Kt.visible&&A.push(Oe,St,Kt,wt,He.z,sn)}}else Mt.visible&&A.push(Oe,St,Mt,wt,He.z,null)}}const tt=Oe.children;for(let St=0,Mt=tt.length;St<Mt;St++)pt(tt[St],st,wt,xe)}function Ot(Oe,st,wt,xe){const De=Oe.opaque,tt=Oe.transmissive,St=Oe.transparent;b.setupLightsView(wt),oe===!0&&Se.setGlobalState(E.clippingPlanes,wt),tt.length>0&&cn(De,tt,st,wt),xe&&ft.viewport(D.copy(xe)),De.length>0&&qt(De,st,wt),tt.length>0&&qt(tt,st,wt),St.length>0&&qt(St,st,wt),ft.buffers.depth.setTest(!0),ft.buffers.depth.setMask(!0),ft.buffers.color.setMask(!0),ft.setPolygonOffset(!1)}function cn(Oe,st,wt,xe){if((wt.isScene===!0?wt.overrideMaterial:null)!==null)return;const tt=it.isWebGL2;Be===null&&(Be=new Kd(1,1,{generateMipmaps:!0,type:ot.has("EXT_color_buffer_half_float")?ag:$d,minFilter:CA,samples:tt?4:0})),E.getDrawingBufferSize(Ie),tt?Be.setSize(Ie.x,Ie.y):Be.setSize(pE(Ie.x),pE(Ie.y));const St=E.getRenderTarget();E.setRenderTarget(Be),E.getClearColor(B),O=E.getClearAlpha(),O<1&&E.setClearColor(16777215,.5),E.clear();const Mt=E.toneMapping;E.toneMapping=Hd,qt(Oe,wt,xe),Ct.updateMultisampleRenderTarget(Be),Ct.updateRenderTargetMipmap(Be);let Ut=!1;for(let Qt=0,mn=st.length;Qt<mn;Qt++){const sn=st[Qt],Kt=sn.object,Hn=sn.geometry,Nn=sn.material,er=sn.group;if(Nn.side===hu&&Kt.layers.test(xe.layers)){const yr=Nn.side;Nn.side=Ka,Nn.needsUpdate=!0,Sn(Kt,wt,xe,Hn,Nn,er),Nn.side=yr,Nn.needsUpdate=!0,Ut=!0}}Ut===!0&&(Ct.updateMultisampleRenderTarget(Be),Ct.updateRenderTargetMipmap(Be)),E.setRenderTarget(St),E.setClearColor(B,O),E.toneMapping=Mt}function qt(Oe,st,wt){const xe=st.isScene===!0?st.overrideMaterial:null;for(let De=0,tt=Oe.length;De<tt;De++){const St=Oe[De],Mt=St.object,Ut=St.geometry,Qt=xe===null?St.material:xe,mn=St.group;Mt.layers.test(wt.layers)&&Sn(Mt,st,wt,Ut,Qt,mn)}}function Sn(Oe,st,wt,xe,De,tt){Oe.onBeforeRender(E,st,wt,xe,De,tt),Oe.modelViewMatrix.multiplyMatrices(wt.matrixWorldInverse,Oe.matrixWorld),Oe.normalMatrix.getNormalMatrix(Oe.modelViewMatrix),De.onBeforeRender(E,st,wt,xe,Oe,tt),De.transparent===!0&&De.side===hu&&De.forceSinglePass===!1?(De.side=Ka,De.needsUpdate=!0,E.renderBufferDirect(wt,st,xe,De,Oe,tt),De.side=Qd,De.needsUpdate=!0,E.renderBufferDirect(wt,st,xe,De,Oe,tt),De.side=hu):E.renderBufferDirect(wt,st,xe,De,Oe,tt),Oe.onAfterRender(E,st,wt,xe,De,tt)}function yn(Oe,st,wt){st.isScene!==!0&&(st=Ze);const xe=At.get(Oe),De=b.state.lights,tt=b.state.shadowsArray,St=De.state.version,Mt=fe.getParameters(Oe,De.state,tt,st,wt),Ut=fe.getProgramCacheKey(Mt);let Qt=xe.programs;xe.environment=Oe.isMeshStandardMaterial?st.environment:null,xe.fog=st.fog,xe.envMap=(Oe.isMeshStandardMaterial?Dt:Tt).get(Oe.envMap||xe.environment),Qt===void 0&&(Oe.addEventListener("dispose",Je),Qt=new Map,xe.programs=Qt);let mn=Qt.get(Ut);if(mn!==void 0){if(xe.currentProgram===mn&&xe.lightsStateVersion===St)return rr(Oe,Mt),mn}else Mt.uniforms=fe.getUniforms(Oe),Oe.onBuild(wt,Mt,E),Oe.onBeforeCompile(Mt,E),mn=fe.acquireProgram(Mt,Ut),Qt.set(Ut,mn),xe.uniforms=Mt.uniforms;const sn=xe.uniforms;return(!Oe.isShaderMaterial&&!Oe.isRawShaderMaterial||Oe.clipping===!0)&&(sn.clippingPlanes=Se.uniform),rr(Oe,Mt),xe.needsLights=Cn(Oe),xe.lightsStateVersion=St,xe.needsLights&&(sn.ambientLightColor.value=De.state.ambient,sn.lightProbe.value=De.state.probe,sn.directionalLights.value=De.state.directional,sn.directionalLightShadows.value=De.state.directionalShadow,sn.spotLights.value=De.state.spot,sn.spotLightShadows.value=De.state.spotShadow,sn.rectAreaLights.value=De.state.rectArea,sn.ltc_1.value=De.state.rectAreaLTC1,sn.ltc_2.value=De.state.rectAreaLTC2,sn.pointLights.value=De.state.point,sn.pointLightShadows.value=De.state.pointShadow,sn.hemisphereLights.value=De.state.hemi,sn.directionalShadowMap.value=De.state.directionalShadowMap,sn.directionalShadowMatrix.value=De.state.directionalShadowMatrix,sn.spotShadowMap.value=De.state.spotShadowMap,sn.spotLightMatrix.value=De.state.spotLightMatrix,sn.spotLightMap.value=De.state.spotLightMap,sn.pointShadowMap.value=De.state.pointShadowMap,sn.pointShadowMatrix.value=De.state.pointShadowMatrix),xe.currentProgram=mn,xe.uniformsList=null,mn}function Pn(Oe){if(Oe.uniformsList===null){const st=Oe.currentProgram.getUniforms();Oe.uniformsList=ox.seqWithValue(st.seq,Oe.uniforms)}return Oe.uniformsList}function rr(Oe,st){const wt=At.get(Oe);wt.outputColorSpace=st.outputColorSpace,wt.instancing=st.instancing,wt.instancingColor=st.instancingColor,wt.skinning=st.skinning,wt.morphTargets=st.morphTargets,wt.morphNormals=st.morphNormals,wt.morphColors=st.morphColors,wt.morphTargetsCount=st.morphTargetsCount,wt.numClippingPlanes=st.numClippingPlanes,wt.numIntersection=st.numClipIntersection,wt.vertexAlphas=st.vertexAlphas,wt.vertexTangents=st.vertexTangents,wt.toneMapping=st.toneMapping}function Gn(Oe,st,wt,xe,De){st.isScene!==!0&&(st=Ze),Ct.resetTextureUnits();const tt=st.fog,St=xe.isMeshStandardMaterial?st.environment:null,Mt=R===null?E.outputColorSpace:R.isXRRenderTarget===!0?R.texture.colorSpace:Bu,Ut=(xe.isMeshStandardMaterial?Dt:Tt).get(xe.envMap||St),Qt=xe.vertexColors===!0&&!!wt.attributes.color&&wt.attributes.color.itemSize===4,mn=!!wt.attributes.tangent&&(!!xe.normalMap||xe.anisotropy>0),sn=!!wt.morphAttributes.position,Kt=!!wt.morphAttributes.normal,Hn=!!wt.morphAttributes.color;let Nn=Hd;xe.toneMapped&&(R===null||R.isXRRenderTarget===!0)&&(Nn=E.toneMapping);const er=wt.morphAttributes.position||wt.morphAttributes.normal||wt.morphAttributes.color,yr=er!==void 0?er.length:0,kn=At.get(xe),dr=b.state.lights;if(oe===!0&&(ue===!0||Oe!==T)){const se=Oe===T&&xe.id===P;Se.setState(xe,Oe,se)}let sr=!1;xe.version===kn.__version?(kn.needsLights&&kn.lightsStateVersion!==dr.state.version||kn.outputColorSpace!==Mt||De.isInstancedMesh&&kn.instancing===!1||!De.isInstancedMesh&&kn.instancing===!0||De.isSkinnedMesh&&kn.skinning===!1||!De.isSkinnedMesh&&kn.skinning===!0||De.isInstancedMesh&&kn.instancingColor===!0&&De.instanceColor===null||De.isInstancedMesh&&kn.instancingColor===!1&&De.instanceColor!==null||kn.envMap!==Ut||xe.fog===!0&&kn.fog!==tt||kn.numClippingPlanes!==void 0&&(kn.numClippingPlanes!==Se.numPlanes||kn.numIntersection!==Se.numIntersection)||kn.vertexAlphas!==Qt||kn.vertexTangents!==mn||kn.morphTargets!==sn||kn.morphNormals!==Kt||kn.morphColors!==Hn||kn.toneMapping!==Nn||it.isWebGL2===!0&&kn.morphTargetsCount!==yr)&&(sr=!0):(sr=!0,kn.__version=xe.version);let Dr=kn.currentProgram;sr===!0&&(Dr=yn(xe,st,De));let or=!1,Jt=!1,bn=!1;const qn=Dr.getUniforms(),jn=kn.uniforms;if(ft.useProgram(Dr.program)&&(or=!0,Jt=!0,bn=!0),xe.id!==P&&(P=xe.id,Jt=!0),or||T!==Oe){qn.setValue(ke,"projectionMatrix",Oe.projectionMatrix),qn.setValue(ke,"viewMatrix",Oe.matrixWorldInverse);const se=qn.map.cameraPosition;se!==void 0&&se.setValue(ke,He.setFromMatrixPosition(Oe.matrixWorld)),it.logarithmicDepthBuffer&&qn.setValue(ke,"logDepthBufFC",2/(Math.log(Oe.far+1)/Math.LN2)),(xe.isMeshPhongMaterial||xe.isMeshToonMaterial||xe.isMeshLambertMaterial||xe.isMeshBasicMaterial||xe.isMeshStandardMaterial||xe.isShaderMaterial)&&qn.setValue(ke,"isOrthographic",Oe.isOrthographicCamera===!0),T!==Oe&&(T=Oe,Jt=!0,bn=!0)}if(De.isSkinnedMesh){qn.setOptional(ke,De,"bindMatrix"),qn.setOptional(ke,De,"bindMatrixInverse");const se=De.skeleton;se&&(it.floatVertexTextures?(se.boneTexture===null&&se.computeBoneTexture(),qn.setValue(ke,"boneTexture",se.boneTexture,Ct),qn.setValue(ke,"boneTextureSize",se.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const re=wt.morphAttributes;if((re.position!==void 0||re.normal!==void 0||re.color!==void 0&&it.isWebGL2===!0)&&Ae.update(De,wt,Dr),(Jt||kn.receiveShadow!==De.receiveShadow)&&(kn.receiveShadow=De.receiveShadow,qn.setValue(ke,"receiveShadow",De.receiveShadow)),xe.isMeshGouraudMaterial&&xe.envMap!==null&&(jn.envMap.value=Ut,jn.flipEnvMap.value=Ut.isCubeTexture&&Ut.isRenderTargetTexture===!1?-1:1),Jt&&(qn.setValue(ke,"toneMappingExposure",E.toneMappingExposure),kn.needsLights&&Fn(jn,bn),tt&&xe.fog===!0&&me.refreshFogUniforms(jn,tt),me.refreshMaterialUniforms(jn,xe,z,k,Be),ox.upload(ke,Pn(kn),jn,Ct)),xe.isShaderMaterial&&xe.uniformsNeedUpdate===!0&&(ox.upload(ke,Pn(kn),jn,Ct),xe.uniformsNeedUpdate=!1),xe.isSpriteMaterial&&qn.setValue(ke,"center",De.center),qn.setValue(ke,"modelViewMatrix",De.modelViewMatrix),qn.setValue(ke,"normalMatrix",De.normalMatrix),qn.setValue(ke,"modelMatrix",De.matrixWorld),xe.isShaderMaterial||xe.isRawShaderMaterial){const se=xe.uniformsGroups;for(let _e=0,Fe=se.length;_e<Fe;_e++)if(it.isWebGL2){const Ye=se[_e];ne.update(Ye,Dr),ne.bind(Ye,Dr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Dr}function Fn(Oe,st){Oe.ambientLightColor.needsUpdate=st,Oe.lightProbe.needsUpdate=st,Oe.directionalLights.needsUpdate=st,Oe.directionalLightShadows.needsUpdate=st,Oe.pointLights.needsUpdate=st,Oe.pointLightShadows.needsUpdate=st,Oe.spotLights.needsUpdate=st,Oe.spotLightShadows.needsUpdate=st,Oe.rectAreaLights.needsUpdate=st,Oe.hemisphereLights.needsUpdate=st}function Cn(Oe){return Oe.isMeshLambertMaterial||Oe.isMeshToonMaterial||Oe.isMeshPhongMaterial||Oe.isMeshStandardMaterial||Oe.isShadowMaterial||Oe.isShaderMaterial&&Oe.lights===!0}this.getActiveCubeFace=function(){return _},this.getActiveMipmapLevel=function(){return L},this.getRenderTarget=function(){return R},this.setRenderTargetTextures=function(Oe,st,wt){At.get(Oe.texture).__webglTexture=st,At.get(Oe.depthTexture).__webglTexture=wt;const xe=At.get(Oe);xe.__hasExternalTextures=!0,xe.__hasExternalTextures&&(xe.__autoAllocateDepthBuffer=wt===void 0,xe.__autoAllocateDepthBuffer||ot.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),xe.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Oe,st){const wt=At.get(Oe);wt.__webglFramebuffer=st,wt.__useDefaultFramebuffer=st===void 0},this.setRenderTarget=function(Oe,st=0,wt=0){R=Oe,_=st,L=wt;let xe=!0,De=null,tt=!1,St=!1;if(Oe){const Ut=At.get(Oe);Ut.__useDefaultFramebuffer!==void 0?(ft.bindFramebuffer(ke.FRAMEBUFFER,null),xe=!1):Ut.__webglFramebuffer===void 0?Ct.setupRenderTarget(Oe):Ut.__hasExternalTextures&&Ct.rebindTextures(Oe,At.get(Oe.texture).__webglTexture,At.get(Oe.depthTexture).__webglTexture);const Qt=Oe.texture;(Qt.isData3DTexture||Qt.isDataArrayTexture||Qt.isCompressedArrayTexture)&&(St=!0);const mn=At.get(Oe).__webglFramebuffer;Oe.isWebGLCubeRenderTarget?(Array.isArray(mn[st])?De=mn[st][wt]:De=mn[st],tt=!0):it.isWebGL2&&Oe.samples>0&&Ct.useMultisampledRTT(Oe)===!1?De=At.get(Oe).__webglMultisampledFramebuffer:Array.isArray(mn)?De=mn[wt]:De=mn,D.copy(Oe.viewport),$.copy(Oe.scissor),V=Oe.scissorTest}else D.copy(Q).multiplyScalar(z).floor(),$.copy(X).multiplyScalar(z).floor(),V=J;if(ft.bindFramebuffer(ke.FRAMEBUFFER,De)&&it.drawBuffers&&xe&&ft.drawBuffers(Oe,De),ft.viewport(D),ft.scissor($),ft.setScissorTest(V),tt){const Ut=At.get(Oe.texture);ke.framebufferTexture2D(ke.FRAMEBUFFER,ke.COLOR_ATTACHMENT0,ke.TEXTURE_CUBE_MAP_POSITIVE_X+st,Ut.__webglTexture,wt)}else if(St){const Ut=At.get(Oe.texture),Qt=st||0;ke.framebufferTextureLayer(ke.FRAMEBUFFER,ke.COLOR_ATTACHMENT0,Ut.__webglTexture,wt||0,Qt)}P=-1},this.readRenderTargetPixels=function(Oe,st,wt,xe,De,tt,St){if(!(Oe&&Oe.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Mt=At.get(Oe).__webglFramebuffer;if(Oe.isWebGLCubeRenderTarget&&St!==void 0&&(Mt=Mt[St]),Mt){ft.bindFramebuffer(ke.FRAMEBUFFER,Mt);try{const Ut=Oe.texture,Qt=Ut.format,mn=Ut.type;if(Qt!==Fl&&ce.convert(Qt)!==ke.getParameter(ke.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const sn=mn===ag&&(ot.has("EXT_color_buffer_half_float")||it.isWebGL2&&ot.has("EXT_color_buffer_float"));if(mn!==$d&&ce.convert(mn)!==ke.getParameter(ke.IMPLEMENTATION_COLOR_READ_TYPE)&&!(mn===Pd&&(it.isWebGL2||ot.has("OES_texture_float")||ot.has("WEBGL_color_buffer_float")))&&!sn){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}st>=0&&st<=Oe.width-xe&&wt>=0&&wt<=Oe.height-De&&ke.readPixels(st,wt,xe,De,ce.convert(Qt),ce.convert(mn),tt)}finally{const Ut=R!==null?At.get(R).__webglFramebuffer:null;ft.bindFramebuffer(ke.FRAMEBUFFER,Ut)}}},this.copyFramebufferToTexture=function(Oe,st,wt=0){const xe=Math.pow(2,-wt),De=Math.floor(st.image.width*xe),tt=Math.floor(st.image.height*xe);Ct.setTexture2D(st,0),ke.copyTexSubImage2D(ke.TEXTURE_2D,wt,0,0,Oe.x,Oe.y,De,tt),ft.unbindTexture()},this.copyTextureToTexture=function(Oe,st,wt,xe=0){const De=st.image.width,tt=st.image.height,St=ce.convert(wt.format),Mt=ce.convert(wt.type);Ct.setTexture2D(wt,0),ke.pixelStorei(ke.UNPACK_FLIP_Y_WEBGL,wt.flipY),ke.pixelStorei(ke.UNPACK_PREMULTIPLY_ALPHA_WEBGL,wt.premultiplyAlpha),ke.pixelStorei(ke.UNPACK_ALIGNMENT,wt.unpackAlignment),st.isDataTexture?ke.texSubImage2D(ke.TEXTURE_2D,xe,Oe.x,Oe.y,De,tt,St,Mt,st.image.data):st.isCompressedTexture?ke.compressedTexSubImage2D(ke.TEXTURE_2D,xe,Oe.x,Oe.y,st.mipmaps[0].width,st.mipmaps[0].height,St,st.mipmaps[0].data):ke.texSubImage2D(ke.TEXTURE_2D,xe,Oe.x,Oe.y,St,Mt,st.image),xe===0&&wt.generateMipmaps&&ke.generateMipmap(ke.TEXTURE_2D),ft.unbindTexture()},this.copyTextureToTexture3D=function(Oe,st,wt,xe,De=0){if(E.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const tt=Oe.max.x-Oe.min.x+1,St=Oe.max.y-Oe.min.y+1,Mt=Oe.max.z-Oe.min.z+1,Ut=ce.convert(xe.format),Qt=ce.convert(xe.type);let mn;if(xe.isData3DTexture)Ct.setTexture3D(xe,0),mn=ke.TEXTURE_3D;else if(xe.isDataArrayTexture)Ct.setTexture2DArray(xe,0),mn=ke.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ke.pixelStorei(ke.UNPACK_FLIP_Y_WEBGL,xe.flipY),ke.pixelStorei(ke.UNPACK_PREMULTIPLY_ALPHA_WEBGL,xe.premultiplyAlpha),ke.pixelStorei(ke.UNPACK_ALIGNMENT,xe.unpackAlignment);const sn=ke.getParameter(ke.UNPACK_ROW_LENGTH),Kt=ke.getParameter(ke.UNPACK_IMAGE_HEIGHT),Hn=ke.getParameter(ke.UNPACK_SKIP_PIXELS),Nn=ke.getParameter(ke.UNPACK_SKIP_ROWS),er=ke.getParameter(ke.UNPACK_SKIP_IMAGES),yr=wt.isCompressedTexture?wt.mipmaps[0]:wt.image;ke.pixelStorei(ke.UNPACK_ROW_LENGTH,yr.width),ke.pixelStorei(ke.UNPACK_IMAGE_HEIGHT,yr.height),ke.pixelStorei(ke.UNPACK_SKIP_PIXELS,Oe.min.x),ke.pixelStorei(ke.UNPACK_SKIP_ROWS,Oe.min.y),ke.pixelStorei(ke.UNPACK_SKIP_IMAGES,Oe.min.z),wt.isDataTexture||wt.isData3DTexture?ke.texSubImage3D(mn,De,st.x,st.y,st.z,tt,St,Mt,Ut,Qt,yr.data):wt.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ke.compressedTexSubImage3D(mn,De,st.x,st.y,st.z,tt,St,Mt,Ut,yr.data)):ke.texSubImage3D(mn,De,st.x,st.y,st.z,tt,St,Mt,Ut,Qt,yr),ke.pixelStorei(ke.UNPACK_ROW_LENGTH,sn),ke.pixelStorei(ke.UNPACK_IMAGE_HEIGHT,Kt),ke.pixelStorei(ke.UNPACK_SKIP_PIXELS,Hn),ke.pixelStorei(ke.UNPACK_SKIP_ROWS,Nn),ke.pixelStorei(ke.UNPACK_SKIP_IMAGES,er),De===0&&xe.generateMipmaps&&ke.generateMipmap(mn),ft.unbindTexture()},this.initTexture=function(Oe){Oe.isCubeTexture?Ct.setTextureCube(Oe,0):Oe.isData3DTexture?Ct.setTexture3D(Oe,0):Oe.isDataArrayTexture||Oe.isCompressedArrayTexture?Ct.setTexture2DArray(Oe,0):Ct.setTexture2D(Oe,0),ft.unbindTexture()},this.resetState=function(){_=0,L=0,R=null,ft.reset(),Y.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return gu}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const r=this.getContext();r.drawingBufferColorSpace=e===qL?"display-p3":"srgb",r.unpackColorSpace=Gi.workingColorSpace===HC?"display-p3":"srgb"}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Go?fh:OG}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===fh?Go:Bu}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class NTe extends JG{}NTe.prototype.isWebGL1Renderer=!0;class kTe extends sa{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,r){return super.copy(e,r),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const r=super.toJSON(e);return this.fog!==null&&(r.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(r.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(r.object.backgroundIntensity=this.backgroundIntensity),r}}class FTe{constructor(e,r){this.isInterleavedBuffer=!0,this.array=e,this.stride=r,this.count=e!==void 0?e.length/r:0,this.usage=j3,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=xu()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,r,i){e*=this.stride,i*=r.stride;for(let o=0,s=this.stride;o<s;o++)this.array[e+o]=r.array[i+o];return this}set(e,r=0){return this.array.set(e,r),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=xu()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const r=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(r,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=xu()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ha=new Rt;class mE{constructor(e,r,i,o=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=r,this.offset=i,this.normalized=o}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let r=0,i=this.data.count;r<i;r++)Ha.fromBufferAttribute(this,r),Ha.applyMatrix4(e),this.setXYZ(r,Ha.x,Ha.y,Ha.z);return this}applyNormalMatrix(e){for(let r=0,i=this.count;r<i;r++)Ha.fromBufferAttribute(this,r),Ha.applyNormalMatrix(e),this.setXYZ(r,Ha.x,Ha.y,Ha.z);return this}transformDirection(e){for(let r=0,i=this.count;r<i;r++)Ha.fromBufferAttribute(this,r),Ha.transformDirection(e),this.setXYZ(r,Ha.x,Ha.y,Ha.z);return this}setX(e,r){return this.normalized&&(r=$i(r,this.array)),this.data.array[e*this.data.stride+this.offset]=r,this}setY(e,r){return this.normalized&&(r=$i(r,this.array)),this.data.array[e*this.data.stride+this.offset+1]=r,this}setZ(e,r){return this.normalized&&(r=$i(r,this.array)),this.data.array[e*this.data.stride+this.offset+2]=r,this}setW(e,r){return this.normalized&&(r=$i(r,this.array)),this.data.array[e*this.data.stride+this.offset+3]=r,this}getX(e){let r=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(r=mc(r,this.array)),r}getY(e){let r=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(r=mc(r,this.array)),r}getZ(e){let r=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(r=mc(r,this.array)),r}getW(e){let r=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(r=mc(r,this.array)),r}setXY(e,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(r=$i(r,this.array),i=$i(i,this.array)),this.data.array[e+0]=r,this.data.array[e+1]=i,this}setXYZ(e,r,i,o){return e=e*this.data.stride+this.offset,this.normalized&&(r=$i(r,this.array),i=$i(i,this.array),o=$i(o,this.array)),this.data.array[e+0]=r,this.data.array[e+1]=i,this.data.array[e+2]=o,this}setXYZW(e,r,i,o,s){return e=e*this.data.stride+this.offset,this.normalized&&(r=$i(r,this.array),i=$i(i,this.array),o=$i(o,this.array),s=$i(s,this.array)),this.data.array[e+0]=r,this.data.array[e+1]=i,this.data.array[e+2]=o,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const r=[];for(let i=0;i<this.count;i++){const o=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)r.push(this.data.array[o+s])}return new sl(new this.array.constructor(r),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new mE(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const r=[];for(let i=0;i<this.count;i++){const o=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)r.push(this.data.array[o+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:r,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class ZG extends Ph{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new mi(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let $p;const zv=new Rt,Gp=new Rt,jp=new Rt,Vp=new tr,Hv=new tr,ej=new lo,m1=new Rt,$v=new Rt,g1=new Rt,$5=new tr,j_=new tr,G5=new tr;class UTe extends sa{constructor(e=new ZG){if(super(),this.isSprite=!0,this.type="Sprite",$p===void 0){$p=new fs;const r=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new FTe(r,5);$p.setIndex([0,1,2,0,2,3]),$p.setAttribute("position",new mE(i,3,0,!1)),$p.setAttribute("uv",new mE(i,2,3,!1))}this.geometry=$p,this.material=e,this.center=new tr(.5,.5)}raycast(e,r){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Gp.setFromMatrixScale(this.matrixWorld),ej.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),jp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Gp.multiplyScalar(-jp.z);const i=this.material.rotation;let o,s;i!==0&&(s=Math.cos(i),o=Math.sin(i));const l=this.center;v1(m1.set(-.5,-.5,0),jp,l,Gp,o,s),v1($v.set(.5,-.5,0),jp,l,Gp,o,s),v1(g1.set(.5,.5,0),jp,l,Gp,o,s),$5.set(0,0),j_.set(1,0),G5.set(1,1);let u=e.ray.intersectTriangle(m1,$v,g1,!1,zv);if(u===null&&(v1($v.set(-.5,.5,0),jp,l,Gp,o,s),j_.set(0,1),u=e.ray.intersectTriangle(m1,g1,$v,!1,zv),u===null))return;const c=e.ray.origin.distanceTo(zv);c<e.near||c>e.far||r.push({distance:c,point:zv.clone(),uv:tl.getInterpolation(zv,m1,$v,g1,$5,j_,G5,new tr),face:null,object:this})}copy(e,r){return super.copy(e,r),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function v1(n,e,r,i,o,s){Vp.subVectors(n,r).addScalar(.5).multiply(i),o!==void 0?(Hv.x=s*Vp.x-o*Vp.y,Hv.y=o*Vp.x+s*Vp.y):Hv.copy(Vp),n.copy(e),n.x+=Hv.x,n.y+=Hv.y,n.applyMatrix4(ej)}class tj extends Ph{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new mi(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const j5=new Rt,V5=new Rt,W5=new lo,V_=new GC,A1=new $C;class zTe extends sa{constructor(e=new fs,r=new tj){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=r,this.updateMorphTargets()}copy(e,r){return super.copy(e,r),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const r=e.attributes.position,i=[0];for(let o=1,s=r.count;o<s;o++)j5.fromBufferAttribute(r,o-1),V5.fromBufferAttribute(r,o),i[o]=i[o-1],i[o]+=j5.distanceTo(V5);e.setAttribute("lineDistance",new Wo(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,r){const i=this.geometry,o=this.matrixWorld,s=e.params.Line.threshold,l=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),A1.copy(i.boundingSphere),A1.applyMatrix4(o),A1.radius+=s,e.ray.intersectsSphere(A1)===!1)return;W5.copy(o).invert(),V_.copy(e.ray).applyMatrix4(W5);const u=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=u*u,d=new Rt,h=new Rt,p=new Rt,m=new Rt,v=this.isLineSegments?2:1,y=i.index,b=i.attributes.position;if(y!==null){const g=Math.max(0,l.start),w=Math.min(y.count,l.start+l.count);for(let E=g,C=w-1;E<C;E+=v){const _=y.getX(E),L=y.getX(E+1);if(d.fromBufferAttribute(b,_),h.fromBufferAttribute(b,L),V_.distanceSqToSegment(d,h,m,p)>c)continue;m.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(m);P<e.near||P>e.far||r.push({distance:P,point:p.clone().applyMatrix4(this.matrixWorld),index:E,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,l.start),w=Math.min(b.count,l.start+l.count);for(let E=g,C=w-1;E<C;E+=v){if(d.fromBufferAttribute(b,E),h.fromBufferAttribute(b,E+1),V_.distanceSqToSegment(d,h,m,p)>c)continue;m.applyMatrix4(this.matrixWorld);const L=e.ray.origin.distanceTo(m);L<e.near||L>e.far||r.push({distance:L,point:p.clone().applyMatrix4(this.matrixWorld),index:E,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const r=this.geometry.morphAttributes,i=Object.keys(r);if(i.length>0){const o=r[i[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,l=o.length;s<l;s++){const u=o[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=s}}}}}class zu{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,r){const i=this.getUtoTmapping(e);return this.getPoint(i,r)}getPoints(e=5){const r=[];for(let i=0;i<=e;i++)r.push(this.getPoint(i/e));return r}getSpacedPoints(e=5){const r=[];for(let i=0;i<=e;i++)r.push(this.getPointAt(i/e));return r}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const r=[];let i,o=this.getPoint(0),s=0;r.push(0);for(let l=1;l<=e;l++)i=this.getPoint(l/e),s+=i.distanceTo(o),r.push(s),o=i;return this.cacheArcLengths=r,r}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,r){const i=this.getLengths();let o=0;const s=i.length;let l;r?l=r:l=e*i[s-1];let u=0,c=s-1,d;for(;u<=c;)if(o=Math.floor(u+(c-u)/2),d=i[o]-l,d<0)u=o+1;else if(d>0)c=o-1;else{c=o;break}if(o=c,i[o]===l)return o/(s-1);const h=i[o],m=i[o+1]-h,v=(l-h)/m;return(o+v)/(s-1)}getTangent(e,r){let o=e-1e-4,s=e+1e-4;o<0&&(o=0),s>1&&(s=1);const l=this.getPoint(o),u=this.getPoint(s),c=r||(l.isVector2?new tr:new Rt);return c.copy(u).sub(l).normalize(),c}getTangentAt(e,r){const i=this.getUtoTmapping(e);return this.getTangent(i,r)}computeFrenetFrames(e,r){const i=new Rt,o=[],s=[],l=[],u=new Rt,c=new lo;for(let v=0;v<=e;v++){const y=v/e;o[v]=this.getTangentAt(y,new Rt)}s[0]=new Rt,l[0]=new Rt;let d=Number.MAX_VALUE;const h=Math.abs(o[0].x),p=Math.abs(o[0].y),m=Math.abs(o[0].z);h<=d&&(d=h,i.set(1,0,0)),p<=d&&(d=p,i.set(0,1,0)),m<=d&&i.set(0,0,1),u.crossVectors(o[0],i).normalize(),s[0].crossVectors(o[0],u),l[0].crossVectors(o[0],s[0]);for(let v=1;v<=e;v++){if(s[v]=s[v-1].clone(),l[v]=l[v-1].clone(),u.crossVectors(o[v-1],o[v]),u.length()>Number.EPSILON){u.normalize();const y=Math.acos(ia(o[v-1].dot(o[v]),-1,1));s[v].applyMatrix4(c.makeRotationAxis(u,y))}l[v].crossVectors(o[v],s[v])}if(r===!0){let v=Math.acos(ia(s[0].dot(s[e]),-1,1));v/=e,o[0].dot(u.crossVectors(s[0],s[e]))>0&&(v=-v);for(let y=1;y<=e;y++)s[y].applyMatrix4(c.makeRotationAxis(o[y],v*y)),l[y].crossVectors(o[y],s[y])}return{tangents:o,normals:s,binormals:l}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class nj extends zu{constructor(e=0,r=0,i=1,o=1,s=0,l=Math.PI*2,u=!1,c=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=r,this.xRadius=i,this.yRadius=o,this.aStartAngle=s,this.aEndAngle=l,this.aClockwise=u,this.aRotation=c}getPoint(e,r){const i=r||new tr,o=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const l=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=o;for(;s>o;)s-=o;s<Number.EPSILON&&(l?s=0:s=o),this.aClockwise===!0&&!l&&(s===o?s=-o:s=s-o);const u=this.aStartAngle+e*s;let c=this.aX+this.xRadius*Math.cos(u),d=this.aY+this.yRadius*Math.sin(u);if(this.aRotation!==0){const h=Math.cos(this.aRotation),p=Math.sin(this.aRotation),m=c-this.aX,v=d-this.aY;c=m*h-v*p+this.aX,d=m*p+v*h+this.aY}return i.set(c,d)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class HTe extends nj{constructor(e,r,i,o,s,l){super(e,r,i,i,o,s,l),this.isArcCurve=!0,this.type="ArcCurve"}}function iP(){let n=0,e=0,r=0,i=0;function o(s,l,u,c){n=s,e=u,r=-3*s+3*l-2*u-c,i=2*s-2*l+u+c}return{initCatmullRom:function(s,l,u,c,d){o(l,u,d*(u-s),d*(c-l))},initNonuniformCatmullRom:function(s,l,u,c,d,h,p){let m=(l-s)/d-(u-s)/(d+h)+(u-l)/h,v=(u-l)/h-(c-l)/(h+p)+(c-u)/p;m*=h,v*=h,o(l,u,m,v)},calc:function(s){const l=s*s,u=l*s;return n+e*s+r*l+i*u}}}const y1=new Rt,W_=new iP,Q_=new iP,K_=new iP;class $Te extends zu{constructor(e=[],r=!1,i="centripetal",o=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=r,this.curveType=i,this.tension=o}getPoint(e,r=new Rt){const i=r,o=this.points,s=o.length,l=(s-(this.closed?0:1))*e;let u=Math.floor(l),c=l-u;this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/s)+1)*s:c===0&&u===s-1&&(u=s-2,c=1);let d,h;this.closed||u>0?d=o[(u-1)%s]:(y1.subVectors(o[0],o[1]).add(o[0]),d=y1);const p=o[u%s],m=o[(u+1)%s];if(this.closed||u+2<s?h=o[(u+2)%s]:(y1.subVectors(o[s-1],o[s-2]).add(o[s-1]),h=y1),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let y=Math.pow(d.distanceToSquared(p),v),A=Math.pow(p.distanceToSquared(m),v),b=Math.pow(m.distanceToSquared(h),v);A<1e-4&&(A=1),y<1e-4&&(y=A),b<1e-4&&(b=A),W_.initNonuniformCatmullRom(d.x,p.x,m.x,h.x,y,A,b),Q_.initNonuniformCatmullRom(d.y,p.y,m.y,h.y,y,A,b),K_.initNonuniformCatmullRom(d.z,p.z,m.z,h.z,y,A,b)}else this.curveType==="catmullrom"&&(W_.initCatmullRom(d.x,p.x,m.x,h.x,this.tension),Q_.initCatmullRom(d.y,p.y,m.y,h.y,this.tension),K_.initCatmullRom(d.z,p.z,m.z,h.z,this.tension));return i.set(W_.calc(c),Q_.calc(c),K_.calc(c)),i}copy(e){super.copy(e),this.points=[];for(let r=0,i=e.points.length;r<i;r++){const o=e.points[r];this.points.push(o.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let r=0,i=this.points.length;r<i;r++){const o=this.points[r];e.points.push(o.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let r=0,i=e.points.length;r<i;r++){const o=e.points[r];this.points.push(new Rt().fromArray(o))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Q5(n,e,r,i,o){const s=(i-e)*.5,l=(o-r)*.5,u=n*n,c=n*u;return(2*r-2*i+s+l)*c+(-3*r+3*i-2*s-l)*u+s*n+r}function GTe(n,e){const r=1-n;return r*r*e}function jTe(n,e){return 2*(1-n)*n*e}function VTe(n,e){return n*n*e}function $0(n,e,r,i){return GTe(n,e)+jTe(n,r)+VTe(n,i)}function WTe(n,e){const r=1-n;return r*r*r*e}function QTe(n,e){const r=1-n;return 3*r*r*n*e}function KTe(n,e){return 3*(1-n)*n*n*e}function XTe(n,e){return n*n*n*e}function G0(n,e,r,i,o){return WTe(n,e)+QTe(n,r)+KTe(n,i)+XTe(n,o)}class qTe extends zu{constructor(e=new tr,r=new tr,i=new tr,o=new tr){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=r,this.v2=i,this.v3=o}getPoint(e,r=new tr){const i=r,o=this.v0,s=this.v1,l=this.v2,u=this.v3;return i.set(G0(e,o.x,s.x,l.x,u.x),G0(e,o.y,s.y,l.y,u.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class rj extends zu{constructor(e=new Rt,r=new Rt,i=new Rt,o=new Rt){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=r,this.v2=i,this.v3=o}getPoint(e,r=new Rt){const i=r,o=this.v0,s=this.v1,l=this.v2,u=this.v3;return i.set(G0(e,o.x,s.x,l.x,u.x),G0(e,o.y,s.y,l.y,u.y),G0(e,o.z,s.z,l.z,u.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class YTe extends zu{constructor(e=new tr,r=new tr){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=r}getPoint(e,r=new tr){const i=r;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,r){return this.getPoint(e,r)}getTangent(e,r=new tr){return r.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,r){return this.getTangent(e,r)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class JTe extends zu{constructor(e=new Rt,r=new Rt){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=r}getPoint(e,r=new Rt){const i=r;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,r){return this.getPoint(e,r)}getTangent(e,r=new Rt){return r.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,r){return this.getTangent(e,r)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ZTe extends zu{constructor(e=new tr,r=new tr,i=new tr){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=r,this.v2=i}getPoint(e,r=new tr){const i=r,o=this.v0,s=this.v1,l=this.v2;return i.set($0(e,o.x,s.x,l.x),$0(e,o.y,s.y,l.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class oP extends zu{constructor(e=new Rt,r=new Rt,i=new Rt){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=r,this.v2=i}getPoint(e,r=new Rt){const i=r,o=this.v0,s=this.v1,l=this.v2;return i.set($0(e,o.x,s.x,l.x),$0(e,o.y,s.y,l.y),$0(e,o.z,s.z,l.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class e3e extends zu{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,r=new tr){const i=r,o=this.points,s=(o.length-1)*e,l=Math.floor(s),u=s-l,c=o[l===0?l:l-1],d=o[l],h=o[l>o.length-2?o.length-1:l+1],p=o[l>o.length-3?o.length-1:l+2];return i.set(Q5(u,c.x,d.x,h.x,p.x),Q5(u,c.y,d.y,h.y,p.y)),i}copy(e){super.copy(e),this.points=[];for(let r=0,i=e.points.length;r<i;r++){const o=e.points[r];this.points.push(o.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let r=0,i=this.points.length;r<i;r++){const o=this.points[r];e.points.push(o.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let r=0,i=e.points.length;r<i;r++){const o=e.points[r];this.points.push(new tr().fromArray(o))}return this}}var t3e=Object.freeze({__proto__:null,ArcCurve:HTe,CatmullRomCurve3:$Te,CubicBezierCurve:qTe,CubicBezierCurve3:rj,EllipseCurve:nj,LineCurve:YTe,LineCurve3:JTe,QuadraticBezierCurve:ZTe,QuadraticBezierCurve3:oP,SplineCurve:e3e});class WC extends fs{constructor(e=1,r=1,i=1,o=32,s=1,l=!1,u=0,c=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:r,height:i,radialSegments:o,heightSegments:s,openEnded:l,thetaStart:u,thetaLength:c};const d=this;o=Math.floor(o),s=Math.floor(s);const h=[],p=[],m=[],v=[];let y=0;const A=[],b=i/2;let g=0;w(),l===!1&&(e>0&&E(!0),r>0&&E(!1)),this.setIndex(h),this.setAttribute("position",new Wo(p,3)),this.setAttribute("normal",new Wo(m,3)),this.setAttribute("uv",new Wo(v,2));function w(){const C=new Rt,_=new Rt;let L=0;const R=(r-e)/i;for(let P=0;P<=s;P++){const T=[],D=P/s,$=D*(r-e)+e;for(let V=0;V<=o;V++){const B=V/o,O=B*c+u,F=Math.sin(O),k=Math.cos(O);_.x=$*F,_.y=-D*i+b,_.z=$*k,p.push(_.x,_.y,_.z),C.set(F,R,k).normalize(),m.push(C.x,C.y,C.z),v.push(B,1-D),T.push(y++)}A.push(T)}for(let P=0;P<o;P++)for(let T=0;T<s;T++){const D=A[T][P],$=A[T+1][P],V=A[T+1][P+1],B=A[T][P+1];h.push(D,$,B),h.push($,V,B),L+=6}d.addGroup(g,L,0),g+=L}function E(C){const _=y,L=new tr,R=new Rt;let P=0;const T=C===!0?e:r,D=C===!0?1:-1;for(let V=1;V<=o;V++)p.push(0,b*D,0),m.push(0,D,0),v.push(.5,.5),y++;const $=y;for(let V=0;V<=o;V++){const O=V/o*c+u,F=Math.cos(O),k=Math.sin(O);R.x=T*k,R.y=b*D,R.z=T*F,p.push(R.x,R.y,R.z),m.push(0,D,0),L.x=F*.5+.5,L.y=k*.5*D+.5,v.push(L.x,L.y),y++}for(let V=0;V<o;V++){const B=_+V,O=$+V;C===!0?h.push(O,O+1,B):h.push(O+1,O,B),P+=3}d.addGroup(g,P,C===!0?1:2),g+=P}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new WC(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class aP extends WC{constructor(e=1,r=1,i=32,o=1,s=!1,l=0,u=Math.PI*2){super(0,e,r,i,o,s,l,u),this.type="ConeGeometry",this.parameters={radius:e,height:r,radialSegments:i,heightSegments:o,openEnded:s,thetaStart:l,thetaLength:u}}static fromJSON(e){return new aP(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class QC extends fs{constructor(e=1,r=32,i=16,o=0,s=Math.PI*2,l=0,u=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:r,heightSegments:i,phiStart:o,phiLength:s,thetaStart:l,thetaLength:u},r=Math.max(3,Math.floor(r)),i=Math.max(2,Math.floor(i));const c=Math.min(l+u,Math.PI);let d=0;const h=[],p=new Rt,m=new Rt,v=[],y=[],A=[],b=[];for(let g=0;g<=i;g++){const w=[],E=g/i;let C=0;g===0&&l===0?C=.5/r:g===i&&c===Math.PI&&(C=-.5/r);for(let _=0;_<=r;_++){const L=_/r;p.x=-e*Math.cos(o+L*s)*Math.sin(l+E*u),p.y=e*Math.cos(l+E*u),p.z=e*Math.sin(o+L*s)*Math.sin(l+E*u),y.push(p.x,p.y,p.z),m.copy(p).normalize(),A.push(m.x,m.y,m.z),b.push(L+C,1-E),w.push(d++)}h.push(w)}for(let g=0;g<i;g++)for(let w=0;w<r;w++){const E=h[g][w+1],C=h[g][w],_=h[g+1][w],L=h[g+1][w+1];(g!==0||l>0)&&v.push(E,C,L),(g!==i-1||c<Math.PI)&&v.push(C,_,L)}this.setIndex(v),this.setAttribute("position",new Wo(y,3)),this.setAttribute("normal",new Wo(A,3)),this.setAttribute("uv",new Wo(b,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new QC(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class sP extends fs{constructor(e=new oP(new Rt(-1,-1,0),new Rt(-1,1,0),new Rt(1,1,0)),r=64,i=1,o=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:r,radius:i,radialSegments:o,closed:s};const l=e.computeFrenetFrames(r,s);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;const u=new Rt,c=new Rt,d=new tr;let h=new Rt;const p=[],m=[],v=[],y=[];A(),this.setIndex(y),this.setAttribute("position",new Wo(p,3)),this.setAttribute("normal",new Wo(m,3)),this.setAttribute("uv",new Wo(v,2));function A(){for(let E=0;E<r;E++)b(E);b(s===!1?r:0),w(),g()}function b(E){h=e.getPointAt(E/r,h);const C=l.normals[E],_=l.binormals[E];for(let L=0;L<=o;L++){const R=L/o*Math.PI*2,P=Math.sin(R),T=-Math.cos(R);c.x=T*C.x+P*_.x,c.y=T*C.y+P*_.y,c.z=T*C.z+P*_.z,c.normalize(),m.push(c.x,c.y,c.z),u.x=h.x+i*c.x,u.y=h.y+i*c.y,u.z=h.z+i*c.z,p.push(u.x,u.y,u.z)}}function g(){for(let E=1;E<=r;E++)for(let C=1;C<=o;C++){const _=(o+1)*(E-1)+(C-1),L=(o+1)*E+(C-1),R=(o+1)*E+C,P=(o+1)*(E-1)+C;y.push(_,L,P),y.push(L,R,P)}}function w(){for(let E=0;E<=r;E++)for(let C=0;C<=o;C++)d.x=E/r,d.y=C/o,v.push(d.x,d.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new sP(new t3e[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class n3e extends Ph{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new mi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new mi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=DG,this.normalScale=new tr(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=KL,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}const K5={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class r3e{constructor(e,r,i){const o=this;let s=!1,l=0,u=0,c;const d=[];this.onStart=void 0,this.onLoad=e,this.onProgress=r,this.onError=i,this.itemStart=function(h){u++,s===!1&&o.onStart!==void 0&&o.onStart(h,l,u),s=!0},this.itemEnd=function(h){l++,o.onProgress!==void 0&&o.onProgress(h,l,u),l===u&&(s=!1,o.onLoad!==void 0&&o.onLoad())},this.itemError=function(h){o.onError!==void 0&&o.onError(h)},this.resolveURL=function(h){return c?c(h):h},this.setURLModifier=function(h){return c=h,this},this.addHandler=function(h,p){return d.push(h,p),this},this.removeHandler=function(h){const p=d.indexOf(h);return p!==-1&&d.splice(p,2),this},this.getHandler=function(h){for(let p=0,m=d.length;p<m;p+=2){const v=d[p],y=d[p+1];if(v.global&&(v.lastIndex=0),v.test(h))return y}return null}}}const i3e=new r3e;class lP{constructor(e){this.manager=e!==void 0?e:i3e,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,r){const i=this;return new Promise(function(o,s){i.load(e,o,r,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}lP.DEFAULT_MATERIAL_NAME="__DEFAULT";class o3e extends lP{constructor(e){super(e)}load(e,r,i,o){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,l=K5.get(e);if(l!==void 0)return s.manager.itemStart(e),setTimeout(function(){r&&r(l),s.manager.itemEnd(e)},0),l;const u=SA("img");function c(){h(),K5.add(e,this),r&&r(this),s.manager.itemEnd(e)}function d(p){h(),o&&o(p),s.manager.itemError(e),s.manager.itemEnd(e)}function h(){u.removeEventListener("load",c,!1),u.removeEventListener("error",d,!1)}return u.addEventListener("load",c,!1),u.addEventListener("error",d,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(u.crossOrigin=this.crossOrigin),s.manager.itemStart(e),u.src=e,u}}class a3e extends lP{constructor(e){super(e)}load(e,r,i,o){const s=new Xa,l=new o3e(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(e,function(u){s.image=u,s.needsUpdate=!0,r!==void 0&&r(s)},i,o),s}}class ij extends sa{constructor(e,r=1){super(),this.isLight=!0,this.type="Light",this.color=new mi(e),this.intensity=r}dispose(){}copy(e,r){return super.copy(e,r),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const r=super.toJSON(e);return r.object.color=this.color.getHex(),r.object.intensity=this.intensity,this.groundColor!==void 0&&(r.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(r.object.distance=this.distance),this.angle!==void 0&&(r.object.angle=this.angle),this.decay!==void 0&&(r.object.decay=this.decay),this.penumbra!==void 0&&(r.object.penumbra=this.penumbra),this.shadow!==void 0&&(r.object.shadow=this.shadow.toJSON()),r}}const X_=new lo,X5=new Rt,q5=new Rt;class s3e{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new tr(512,512),this.map=null,this.mapPass=null,this.matrix=new lo,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new eP,this._frameExtents=new tr(1,1),this._viewportCount=1,this._viewports=[new oa(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const r=this.camera,i=this.matrix;X5.setFromMatrixPosition(e.matrixWorld),r.position.copy(X5),q5.setFromMatrixPosition(e.target.matrixWorld),r.lookAt(q5),r.updateMatrixWorld(),X_.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(X_),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(X_)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class l3e extends s3e{constructor(){super(new nP(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class c3e extends ij{constructor(e,r){super(e,r),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(sa.DEFAULT_UP),this.updateMatrix(),this.target=new sa,this.shadow=new l3e}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class u3e extends ij{constructor(e,r){super(e,r),this.isAmbientLight=!0,this.type="AmbientLight"}}class oj{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Y5(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const r=Y5();e=(r-this.oldTime)/1e3,this.oldTime=r,this.elapsedTime+=e}return e}}function Y5(){return(typeof performance>"u"?Date:performance).now()}class aj{constructor(e,r,i=0,o=1/0){this.ray=new GC(e,r),this.near=i,this.far=o,this.camera=null,this.layers=new JL,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,r){this.ray.set(e,r)}setFromCamera(e,r){r.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(r.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(r).sub(this.ray.origin).normalize(),this.camera=r):r.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(r.near+r.far)/(r.near-r.far)).unproject(r),this.ray.direction.set(0,0,-1).transformDirection(r.matrixWorld),this.camera=r):console.error("THREE.Raycaster: Unsupported camera type: "+r.type)}intersectObject(e,r=!0,i=[]){return X3(e,this,i,r),i.sort(J5),i}intersectObjects(e,r=!0,i=[]){for(let o=0,s=e.length;o<s;o++)X3(e[o],this,i,r);return i.sort(J5),i}}function J5(n,e){return n.distance-e.distance}function X3(n,e,r,i){if(n.layers.test(e.layers)&&n.raycast(e,r),i===!0){const o=n.children;for(let s=0,l=o.length;s<l;s++)X3(o[s],e,r,!0)}}class q3{constructor(e=1,r=0,i=0){return this.radius=e,this.phi=r,this.theta=i,this}set(e,r,i){return this.radius=e,this.phi=r,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,r,i){return this.radius=Math.sqrt(e*e+r*r+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(ia(r/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:QL}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=QL);function d3e(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,s,l,u=[],c=!0,d=!1;try{if(s=(r=r.call(n)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(i=s.call(r)).done)&&(u.push(i.value),u.length!==e);c=!0);}catch(h){d=!0,o=h}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw o}}return u}}function f3e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Z5(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,S3e(i.key),i)}}function h3e(n,e,r){return e&&Z5(n.prototype,e),r&&Z5(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}function p3e(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Y3(n,e)}function gE(n){return gE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gE(n)}function Y3(n,e){return Y3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},Y3(n,e)}function m3e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function g3e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function v3e(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g3e(n)}function A3e(n){var e=m3e();return function(){var i=gE(n),o;if(e){var s=gE(this).constructor;o=Reflect.construct(i,arguments,s)}else o=i.apply(this,arguments);return v3e(this,o)}}function e8(n,e){return b3e(n)||d3e(n,e)||sj(n,e)||C3e()}function b1(n){return y3e(n)||x3e(n)||sj(n)||E3e()}function y3e(n){if(Array.isArray(n))return J3(n)}function b3e(n){if(Array.isArray(n))return n}function x3e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function sj(n,e){if(n){if(typeof n=="string")return J3(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J3(n,e)}}function J3(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function E3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w3e(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function S3e(n){var e=w3e(n,"string");return typeof e=="symbol"?e:String(e)}var Wp=typeof window<"u"&&window.THREE?window.THREE:{LinearFilter:Rs,Sprite:UTe,SpriteMaterial:ZG,SRGBColorSpace:Go,Texture:Xa},_3e=function(n){p3e(r,n);var e=A3e(r);function r(){var i,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"rgba(255, 255, 255, 1)";return f3e(this,r),i=e.call(this,new Wp.SpriteMaterial),i._text="".concat(o),i._textHeight=s,i._color=l,i._backgroundColor=!1,i._padding=0,i._borderWidth=0,i._borderRadius=0,i._borderColor="white",i._strokeWidth=0,i._strokeColor="white",i._fontFace="system-ui",i._fontSize=90,i._fontWeight="normal",i._canvas=document.createElement("canvas"),i._genCanvas(),i}return h3e(r,[{key:"text",get:function(){return this._text},set:function(o){this._text=o,this._genCanvas()}},{key:"textHeight",get:function(){return this._textHeight},set:function(o){this._textHeight=o,this._genCanvas()}},{key:"color",get:function(){return this._color},set:function(o){this._color=o,this._genCanvas()}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(o){this._backgroundColor=o,this._genCanvas()}},{key:"padding",get:function(){return this._padding},set:function(o){this._padding=o,this._genCanvas()}},{key:"borderWidth",get:function(){return this._borderWidth},set:function(o){this._borderWidth=o,this._genCanvas()}},{key:"borderRadius",get:function(){return this._borderRadius},set:function(o){this._borderRadius=o,this._genCanvas()}},{key:"borderColor",get:function(){return this._borderColor},set:function(o){this._borderColor=o,this._genCanvas()}},{key:"fontFace",get:function(){return this._fontFace},set:function(o){this._fontFace=o,this._genCanvas()}},{key:"fontSize",get:function(){return this._fontSize},set:function(o){this._fontSize=o,this._genCanvas()}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(o){this._fontWeight=o,this._genCanvas()}},{key:"strokeWidth",get:function(){return this._strokeWidth},set:function(o){this._strokeWidth=o,this._genCanvas()}},{key:"strokeColor",get:function(){return this._strokeColor},set:function(o){this._strokeColor=o,this._genCanvas()}},{key:"_genCanvas",value:function(){var o=this,s=this._canvas,l=s.getContext("2d"),u=Array.isArray(this.borderWidth)?this.borderWidth:[this.borderWidth,this.borderWidth],c=u.map(function(P){return P*o.fontSize*.1}),d=Array.isArray(this.borderRadius)?this.borderRadius:[this.borderRadius,this.borderRadius,this.borderRadius,this.borderRadius],h=d.map(function(P){return P*o.fontSize*.1}),p=Array.isArray(this.padding)?this.padding:[this.padding,this.padding],m=p.map(function(P){return P*o.fontSize*.1}),v=this.text.split(`
`),y="".concat(this.fontWeight," ").concat(this.fontSize,"px ").concat(this.fontFace);l.font=y;var A=Math.max.apply(Math,b1(v.map(function(P){return l.measureText(P).width}))),b=this.fontSize*v.length;if(s.width=A+c[0]*2+m[0]*2,s.height=b+c[1]*2+m[1]*2,this.borderWidth){if(l.strokeStyle=this.borderColor,c[0]){var g=c[0]/2;l.lineWidth=c[0],l.beginPath(),l.moveTo(g,h[0]),l.lineTo(g,s.height-h[3]),l.moveTo(s.width-g,h[1]),l.lineTo(s.width-g,s.height-h[2]),l.stroke()}if(c[1]){var w=c[1]/2;l.lineWidth=c[1],l.beginPath(),l.moveTo(Math.max(c[0],h[0]),w),l.lineTo(s.width-Math.max(c[0],h[1]),w),l.moveTo(Math.max(c[0],h[3]),s.height-w),l.lineTo(s.width-Math.max(c[0],h[2]),s.height-w),l.stroke()}if(this.borderRadius){var E=Math.max.apply(Math,b1(c)),C=E/2;l.lineWidth=E,l.beginPath(),[!!h[0]&&[h[0],C,C,h[0]],!!h[1]&&[s.width-h[1],s.width-C,C,h[1]],!!h[2]&&[s.width-h[2],s.width-C,s.height-C,s.height-h[2]],!!h[3]&&[h[3],C,s.height-C,s.height-h[3]]].filter(function(P){return P}).forEach(function(P){var T=e8(P,4),D=T[0],$=T[1],V=T[2],B=T[3];l.moveTo(D,V),l.quadraticCurveTo($,V,$,B)}),l.stroke()}}this.backgroundColor&&(l.fillStyle=this.backgroundColor,this.borderRadius?(l.beginPath(),l.moveTo(c[0],h[0]),[[c[0],h[0],s.width-h[1],c[1],c[1],c[1]],[s.width-c[0],s.width-c[0],s.width-c[0],c[1],h[1],s.height-h[2]],[s.width-c[0],s.width-h[2],h[3],s.height-c[1],s.height-c[1],s.height-c[1]],[c[0],c[0],c[0],s.height-c[1],s.height-h[3],h[0]]].forEach(function(P){var T=e8(P,6),D=T[0],$=T[1],V=T[2],B=T[3],O=T[4],F=T[5];l.quadraticCurveTo(D,B,$,O),l.lineTo(V,F)}),l.closePath(),l.fill()):l.fillRect(c[0],c[1],s.width-c[0]*2,s.height-c[1]*2)),l.translate.apply(l,b1(c)),l.translate.apply(l,b1(m)),l.font=y,l.fillStyle=this.color,l.textBaseline="bottom";var _=this.strokeWidth>0;_&&(l.lineWidth=this.strokeWidth*this.fontSize/10,l.strokeStyle=this.strokeColor),v.forEach(function(P,T){var D=(A-l.measureText(P).width)/2,$=(T+1)*o.fontSize;_&&l.strokeText(P,D,$),l.fillText(P,D,$)}),this.material.map&&this.material.map.dispose();var L=this.material.map=new Wp.Texture(s);L.minFilter=Wp.LinearFilter,L.colorSpace=Wp.SRGBColorSpace,L.needsUpdate=!0;var R=this.textHeight*v.length+u[1]*2+p[1]*2;this.scale.set(R*s.width/s.height,R,0)}},{key:"clone",value:function(){return new this.constructor(this.text,this.textHeight,this.color).copy(this)}},{key:"copy",value:function(o){return Wp.Sprite.prototype.copy.call(this,o),this.color=o.color,this.backgroundColor=o.backgroundColor,this.padding=o.padding,this.borderWidth=o.borderWidth,this.borderColor=o.borderColor,this.fontFace=o.fontFace,this.fontSize=o.fontSize,this.fontWeight=o.fontWeight,this.strokeWidth=o.strokeWidth,this.strokeColor=o.strokeColor,this}}]),r}(Wp.Sprite);function M3e(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,s,l,u=[],c=!0,d=!1;try{if(s=(r=r.call(n)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(i=s.call(r)).done)&&(u.push(i.value),u.length!==e);c=!0);}catch(h){d=!0,o=h}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw o}}return u}}function T3e(n,e,r){return e=N3e(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function t8(n,e){return L3e(n)||M3e(n,e)||lj(n,e)||O3e()}function R3e(n){return I3e(n)||P3e(n)||lj(n)||B3e()}function I3e(n){if(Array.isArray(n))return Z3(n)}function L3e(n){if(Array.isArray(n))return n}function P3e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function lj(n,e){if(n){if(typeof n=="string")return Z3(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z3(n,e)}}function Z3(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function B3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D3e(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function N3e(n){var e=D3e(n,"string");return typeof e=="symbol"?e:String(e)}var k3e=function(e,r){var i=new Set(r);return Object.assign.apply(Object,[{}].concat(R3e(Object.entries(e).filter(function(o){var s=t8(o,1),l=s[0];return!i.has(l)}).map(function(o){var s=t8(o,2),l=s[0],u=s[1];return T3e({},l,u)}))))};/*! fromentries. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var F3e=function(e){return[...e].reduce((r,[i,o])=>(r[i]=o,r),{})};const n8=Nu(F3e);function U3e(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,s,l,u=[],c=!0,d=!1;try{if(s=(r=r.call(n)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(i=s.call(r)).done)&&(u.push(i.value),u.length!==e);c=!0);}catch(h){d=!0,o=h}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw o}}return u}}function eR(n){"@babel/helpers - typeof";return eR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eR(n)}function cj(n,e){return H3e(n)||U3e(n,e)||uj(n,e)||j3e()}function r8(n){return z3e(n)||$3e(n)||uj(n)||G3e()}function z3e(n){if(Array.isArray(n))return tR(n)}function H3e(n){if(Array.isArray(n))return n}function $3e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function uj(n,e){if(n){if(typeof n=="string")return tR(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tR(n,e)}}function tR(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function G3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KC(n,e){var r=eR(e)==="object"?e:{wrapperElementType:e,methodNames:(arguments.length<=2?void 0:arguments[2])||void 0,initPropNames:(arguments.length<=3?void 0:arguments[3])||void 0},i=r.wrapperElementType,o=i===void 0?"div":i,s=r.nodeMapper,l=s===void 0?function(p){return p}:s,u=r.methodNames,c=u===void 0?[]:u,d=r.initPropNames,h=d===void 0?[]:d;return M.forwardRef(function(p,m){var v=M.useRef(),y=M.useState({}),A=cj(y,2),b=A[0],g=A[1];M.useEffect(function(){return g(p)});var w=M.useMemo(function(){var _=n8(h.filter(function(L){return p.hasOwnProperty(L)}).map(function(L){return[L,p[L]]}));return n(_)},[]);i8(function(){w(l(v.current))},M.useLayoutEffect),i8(function(){return w._destructor instanceof Function?w._destructor:void 0});var E=M.useCallback(function(_){for(var L=arguments.length,R=new Array(L>1?L-1:0),P=1;P<L;P++)R[P-1]=arguments[P];return w[_]instanceof Function?w[_].apply(w,R):void 0},[w]),C=k3e(p,[].concat(r8(c),r8(h)));return Object.keys(C).filter(function(_){return b[_]!==p[_]}).forEach(function(_){return E(_,p[_])}),M.useImperativeHandle(m,function(){return n8(c.map(function(_){return[_,function(){for(var L=arguments.length,R=new Array(L),P=0;P<L;P++)R[P]=arguments[P];return E.apply(void 0,[_].concat(R))}]}))}),nn.createElement(o,{ref:v})})}function i8(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M.useEffect,r=M.useRef(),i=M.useRef(!1),o=M.useRef(!1),s=M.useState(0),l=cj(s,2);l[0];var u=l[1];i.current&&(o.current=!0),e(function(){return i.current||(r.current=n(),i.current=!0),u(function(c){return c+1}),function(){o.current&&r.current&&r.current()}},[])}var V3e={exports:{}};(function(n,e){(function(i,o){n.exports=o()})(self,()=>(()=>{var r={"./node_modules/@ungap/custom-elements/index.js":()=>{/*! (c) Andrea Giammarchi @webreflection ISC */(function(){var l=function(Pt,pt){var Ot=function(Sn){for(var yn=0,Pn=Sn.length;yn<Pn;yn++)cn(Sn[yn])},cn=function(Sn){var yn=Sn.target,Pn=Sn.attributeName,rr=Sn.oldValue;yn.attributeChangedCallback(Pn,rr,yn.getAttribute(Pn))};return function(qt,Sn){var yn=qt.constructor.observedAttributes;return yn&&Pt(Sn).then(function(){new pt(Ot).observe(qt,{attributes:!0,attributeOldValue:!0,attributeFilter:yn});for(var Pn=0,rr=yn.length;Pn<rr;Pn++)qt.hasAttribute(yn[Pn])&&cn({target:qt,attributeName:yn[Pn],oldValue:null})}),qt}};function u(Pt,pt){if(Pt){if(typeof Pt=="string")return c(Pt,pt);var Ot=Object.prototype.toString.call(Pt).slice(8,-1);if(Ot==="Object"&&Pt.constructor&&(Ot=Pt.constructor.name),Ot==="Map"||Ot==="Set")return Array.from(Pt);if(Ot==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ot))return c(Pt,pt)}}function c(Pt,pt){(pt==null||pt>Pt.length)&&(pt=Pt.length);for(var Ot=0,cn=new Array(pt);Ot<pt;Ot++)cn[Ot]=Pt[Ot];return cn}function d(Pt,pt){var Ot=typeof Symbol<"u"&&Pt[Symbol.iterator]||Pt["@@iterator"];if(!Ot){if(Array.isArray(Pt)||(Ot=u(Pt))||pt&&Pt&&typeof Pt.length=="number"){Ot&&(Pt=Ot);var cn=0,qt=function(){};return{s:qt,n:function(){return cn>=Pt.length?{done:!0}:{done:!1,value:Pt[cn++]}},e:function(rr){throw rr},f:qt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Sn=!0,yn=!1,Pn;return{s:function(){Ot=Ot.call(Pt)},n:function(){var rr=Ot.next();return Sn=rr.done,rr},e:function(rr){yn=!0,Pn=rr},f:function(){try{!Sn&&Ot.return!=null&&Ot.return()}finally{if(yn)throw Pn}}}}/*! (c) Andrea Giammarchi - ISC */var h=!0,p=!1,m="querySelectorAll",v=function(pt){var Ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document,cn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:MutationObserver,qt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:["*"],Sn=function rr(Gn,Fn,Cn,Oe,st,wt){var xe=d(Gn),De;try{for(xe.s();!(De=xe.n()).done;){var tt=De.value;(wt||m in tt)&&(st?Cn.has(tt)||(Cn.add(tt),Oe.delete(tt),pt(tt,st)):Oe.has(tt)||(Oe.add(tt),Cn.delete(tt),pt(tt,st)),wt||rr(tt[m](Fn),Fn,Cn,Oe,st,h))}}catch(St){xe.e(St)}finally{xe.f()}},yn=new cn(function(rr){if(qt.length){var Gn=qt.join(","),Fn=new Set,Cn=new Set,Oe=d(rr),st;try{for(Oe.s();!(st=Oe.n()).done;){var wt=st.value,xe=wt.addedNodes,De=wt.removedNodes;Sn(De,Gn,Fn,Cn,p,p),Sn(xe,Gn,Fn,Cn,h,p)}}catch(tt){Oe.e(tt)}finally{Oe.f()}}}),Pn=yn.observe;return(yn.observe=function(rr){return Pn.call(yn,rr,{subtree:h,childList:h})})(Ot),yn},y="querySelectorAll",A=self,b=A.document,g=A.Element,w=A.MutationObserver,E=A.Set,C=A.WeakMap,_=function(pt){return y in pt},L=[].filter,R=function(Pt){var pt=new C,Ot=function(Oe){for(var st=0,wt=Oe.length;st<wt;st++)pt.delete(Oe[st])},cn=function(){for(var Oe=Gn.takeRecords(),st=0,wt=Oe.length;st<wt;st++)yn(L.call(Oe[st].removedNodes,_),!1),yn(L.call(Oe[st].addedNodes,_),!0)},qt=function(Oe){return Oe.matches||Oe.webkitMatchesSelector||Oe.msMatchesSelector},Sn=function(Oe,st){var wt;if(st)for(var xe,De=qt(Oe),tt=0,St=Pn.length;tt<St;tt++)De.call(Oe,xe=Pn[tt])&&(pt.has(Oe)||pt.set(Oe,new E),wt=pt.get(Oe),wt.has(xe)||(wt.add(xe),Pt.handle(Oe,st,xe)));else pt.has(Oe)&&(wt=pt.get(Oe),pt.delete(Oe),wt.forEach(function(Mt){Pt.handle(Oe,st,Mt)}))},yn=function(Oe){for(var st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,wt=0,xe=Oe.length;wt<xe;wt++)Sn(Oe[wt],st)},Pn=Pt.query,rr=Pt.root||b,Gn=v(Sn,rr,w,Pn),Fn=g.prototype.attachShadow;return Fn&&(g.prototype.attachShadow=function(Cn){var Oe=Fn.call(this,Cn);return Gn.observe(Oe),Oe}),Pn.length&&yn(rr[y](Pn)),{drop:Ot,flush:cn,observer:Gn,parse:yn}},P=self,T=P.document,D=P.Map,$=P.MutationObserver,V=P.Object,B=P.Set,O=P.WeakMap,F=P.Element,k=P.HTMLElement,z=P.Node,G=P.Error,j=P.TypeError,Q=P.Reflect,X=V.defineProperty,J=V.keys,Z=V.getOwnPropertyNames,oe=V.setPrototypeOf,ue=!self.customElements,Be=function(pt){for(var Ot=J(pt),cn=[],qt=Ot.length,Sn=0;Sn<qt;Sn++)cn[Sn]=pt[Ot[Sn]],delete pt[Ot[Sn]];return function(){for(var yn=0;yn<qt;yn++)pt[Ot[yn]]=cn[yn]}};if(ue){var ge=function(){var pt=this.constructor;if(!He.has(pt))throw new j("Illegal constructor");var Ot=He.get(pt);if(xt)return Ct(xt,Ot);var cn=Ie.call(T,Ot);return Ct(oe(cn,pt.prototype),Ot)},Ie=T.createElement,He=new D,Ze=new D,Xe=new D,ke=new D,lt=[],ot=function(pt,Ot,cn){var qt=Xe.get(cn);if(Ot&&!qt.isPrototypeOf(pt)){var Sn=Be(pt);xt=oe(pt,qt);try{new qt.constructor}finally{xt=null,Sn()}}var yn="".concat(Ot?"":"dis","connectedCallback");yn in qt&&pt[yn]()},it=R({query:lt,handle:ot}),ft=it.parse,xt=null,At=function(pt){if(!Ze.has(pt)){var Ot,cn=new Promise(function(qt){Ot=qt});Ze.set(pt,{$:cn,_:Ot})}return Ze.get(pt).$},Ct=l(At,$);X(self,"customElements",{configurable:!0,value:{define:function(pt,Ot){if(ke.has(pt))throw new G('the name "'.concat(pt,'" has already been used with this registry'));He.set(Ot,pt),Xe.set(pt,Ot.prototype),ke.set(pt,Ot),lt.push(pt),At(pt).then(function(){ft(T.querySelectorAll(pt))}),Ze.get(pt)._(Ot)},get:function(pt){return ke.get(pt)},whenDefined:At}}),X(ge.prototype=k.prototype,"constructor",{value:ge}),X(self,"HTMLElement",{configurable:!0,value:ge}),X(T,"createElement",{configurable:!0,value:function(pt,Ot){var cn=Ot&&Ot.is,qt=cn?ke.get(cn):ke.get(pt);return qt?new qt:Ie.call(T,pt)}}),"isConnected"in z.prototype||X(z.prototype,"isConnected",{configurable:!0,get:function(){return!(this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}})}else if(ue=!self.customElements.get("extends-li"),ue)try{var Tt=function Pt(){return self.Reflect.construct(HTMLLIElement,[],Pt)};Tt.prototype=HTMLLIElement.prototype;var Dt="extends-li";self.customElements.define("extends-li",Tt,{extends:"li"}),ue=T.createElement("li",{is:Dt}).outerHTML.indexOf(Dt)<0;var Yt=self.customElements,Ve=Yt.get,be=Yt.whenDefined;X(self.customElements,"whenDefined",{configurable:!0,value:function(pt){var Ot=this;return be.call(this,pt).then(function(cn){return cn||Ve.call(Ot,pt)})}})}catch{}if(ue){var fe=function(pt){var Ot=Ue.get(pt);Qe(Ot.querySelectorAll(this),pt.isConnected)},me=self.customElements,Te=T.createElement,Ce=me.define,Se=me.get,we=me.upgrade,Ge=Q||{construct:function(pt){return pt.call(this)}},Ae=Ge.construct,Ue=new O,et=new B,ce=new D,Y=new D,ne=new D,Le=new D,We=[],ve=[],he=function(pt){return Le.get(pt)||Se.call(me,pt)},qe=function(pt,Ot,cn){var qt=ne.get(cn);if(Ot&&!qt.isPrototypeOf(pt)){var Sn=Be(pt);Vt=oe(pt,qt);try{new qt.constructor}finally{Vt=null,Sn()}}var yn="".concat(Ot?"":"dis","connectedCallback");yn in qt&&pt[yn]()},Je=R({query:ve,handle:qe}),Qe=Je.parse,nt=R({query:We,handle:function(pt,Ot){Ue.has(pt)&&(Ot?et.add(pt):et.delete(pt),ve.length&&fe.call(ve,pt))}}),It=nt.parse,kt=F.prototype.attachShadow;kt&&(F.prototype.attachShadow=function(Pt){var pt=kt.call(this,Pt);return Ue.set(this,pt),pt});var Bt=function(pt){if(!Y.has(pt)){var Ot,cn=new Promise(function(qt){Ot=qt});Y.set(pt,{$:cn,_:Ot})}return Y.get(pt).$},Gt=l(Bt,$),Vt=null;Z(self).filter(function(Pt){return/^HTML.*Element$/.test(Pt)}).forEach(function(Pt){var pt=self[Pt];function Ot(){var cn=this.constructor;if(!ce.has(cn))throw new j("Illegal constructor");var qt=ce.get(cn),Sn=qt.is,yn=qt.tag;if(Sn){if(Vt)return Gt(Vt,Sn);var Pn=Te.call(T,yn);return Pn.setAttribute("is",Sn),Gt(oe(Pn,cn.prototype),Sn)}else return Ae.call(this,pt,[],cn)}X(Ot.prototype=pt.prototype,"constructor",{value:Ot}),X(self,Pt,{value:Ot})}),X(T,"createElement",{configurable:!0,value:function(pt,Ot){var cn=Ot&&Ot.is;if(cn){var qt=Le.get(cn);if(qt&&ce.get(qt).tag===pt)return new qt}var Sn=Te.call(T,pt);return cn&&Sn.setAttribute("is",cn),Sn}}),X(me,"get",{configurable:!0,value:he}),X(me,"whenDefined",{configurable:!0,value:Bt}),X(me,"upgrade",{configurable:!0,value:function(pt){var Ot=pt.getAttribute("is");if(Ot){var cn=Le.get(Ot);if(cn){Gt(oe(pt,cn.prototype),Ot);return}}we.call(me,pt)}}),X(me,"define",{configurable:!0,value:function(pt,Ot,cn){if(he(pt))throw new G("'".concat(pt,"' has already been defined as a custom element"));var qt,Sn=cn&&cn.extends;ce.set(Ot,Sn?{is:pt,tag:Sn}:{is:"",tag:pt}),Sn?(qt="".concat(Sn,'[is="').concat(pt,'"]'),ne.set(qt,Ot.prototype),Le.set(pt,Ot),ve.push(qt)):(Ce.apply(me,arguments),We.push(qt=pt)),Bt(pt).then(function(){Sn?(Qe(T.querySelectorAll(qt)),et.forEach(fe,[qt])):It(T.querySelectorAll(qt))}),Y.get(pt)._(Ot)}})}})()},"./node_modules/an-array/index.js":l=>{var u=Object.prototype.toString;l.exports=c;function c(d){return d.BYTES_PER_ELEMENT&&u.call(d.buffer)==="[object ArrayBuffer]"||Array.isArray(d)}},"./node_modules/as-number/index.js":l=>{l.exports=function(c,d){return typeof c=="number"?c:typeof d=="number"?d:0}},"./node_modules/base64-js/index.js":(l,u)=>{u.byteLength=A,u.toByteArray=g,u.fromByteArray=C;for(var c=[],d=[],h=typeof Uint8Array<"u"?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=0,v=p.length;m<v;++m)c[m]=p[m],d[p.charCodeAt(m)]=m;d["-".charCodeAt(0)]=62,d["_".charCodeAt(0)]=63;function y(_){var L=_.length;if(L%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var R=_.indexOf("=");R===-1&&(R=L);var P=R===L?0:4-R%4;return[R,P]}function A(_){var L=y(_),R=L[0],P=L[1];return(R+P)*3/4-P}function b(_,L,R){return(L+R)*3/4-R}function g(_){var L,R=y(_),P=R[0],T=R[1],D=new h(b(_,P,T)),$=0,V=T>0?P-4:P,B;for(B=0;B<V;B+=4)L=d[_.charCodeAt(B)]<<18|d[_.charCodeAt(B+1)]<<12|d[_.charCodeAt(B+2)]<<6|d[_.charCodeAt(B+3)],D[$++]=L>>16&255,D[$++]=L>>8&255,D[$++]=L&255;return T===2&&(L=d[_.charCodeAt(B)]<<2|d[_.charCodeAt(B+1)]>>4,D[$++]=L&255),T===1&&(L=d[_.charCodeAt(B)]<<10|d[_.charCodeAt(B+1)]<<4|d[_.charCodeAt(B+2)]>>2,D[$++]=L>>8&255,D[$++]=L&255),D}function w(_){return c[_>>18&63]+c[_>>12&63]+c[_>>6&63]+c[_&63]}function E(_,L,R){for(var P,T=[],D=L;D<R;D+=3)P=(_[D]<<16&16711680)+(_[D+1]<<8&65280)+(_[D+2]&255),T.push(w(P));return T.join("")}function C(_){for(var L,R=_.length,P=R%3,T=[],D=16383,$=0,V=R-P;$<V;$+=D)T.push(E(_,$,$+D>V?V:$+D));return P===1?(L=_[R-1],T.push(c[L>>2]+c[L<<4&63]+"==")):P===2&&(L=(_[R-2]<<8)+_[R-1],T.push(c[L>>10]+c[L>>4&63]+c[L<<2&63]+"=")),T.join("")}},"./node_modules/buffer-equal/index.js":(l,u,c)=>{var d=c("./node_modules/buffer/index.js").Buffer;l.exports=function(h,p){if(d.isBuffer(h)&&d.isBuffer(p)){if(typeof h.equals=="function")return h.equals(p);if(h.length!==p.length)return!1;for(var m=0;m<h.length;m++)if(h[m]!==p[m])return!1;return!0}}},"./node_modules/buffer/index.js":(l,u,c)=>{/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const d=c("./node_modules/base64-js/index.js"),h=c("./node_modules/ieee754/index.js"),p=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;u.Buffer=A,u.SlowBuffer=D,u.INSPECT_MAX_BYTES=50;const m=2147483647;u.kMaxLength=m,A.TYPED_ARRAY_SUPPORT=v(),!A.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function v(){try{const ce=new Uint8Array(1),Y={foo:function(){return 42}};return Object.setPrototypeOf(Y,Uint8Array.prototype),Object.setPrototypeOf(ce,Y),ce.foo()===42}catch{return!1}}Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}});function y(ce){if(ce>m)throw new RangeError('The value "'+ce+'" is invalid for option "size"');const Y=new Uint8Array(ce);return Object.setPrototypeOf(Y,A.prototype),Y}function A(ce,Y,ne){if(typeof ce=="number"){if(typeof Y=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E(ce)}return b(ce,Y,ne)}A.poolSize=8192;function b(ce,Y,ne){if(typeof ce=="string")return C(ce,Y);if(ArrayBuffer.isView(ce))return L(ce);if(ce==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ce);if(we(ce,ArrayBuffer)||ce&&we(ce.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(we(ce,SharedArrayBuffer)||ce&&we(ce.buffer,SharedArrayBuffer)))return R(ce,Y,ne);if(typeof ce=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Le=ce.valueOf&&ce.valueOf();if(Le!=null&&Le!==ce)return A.from(Le,Y,ne);const We=P(ce);if(We)return We;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ce[Symbol.toPrimitive]=="function")return A.from(ce[Symbol.toPrimitive]("string"),Y,ne);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ce)}A.from=function(ce,Y,ne){return b(ce,Y,ne)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array);function g(ce){if(typeof ce!="number")throw new TypeError('"size" argument must be of type number');if(ce<0)throw new RangeError('The value "'+ce+'" is invalid for option "size"')}function w(ce,Y,ne){return g(ce),ce<=0?y(ce):Y!==void 0?typeof ne=="string"?y(ce).fill(Y,ne):y(ce).fill(Y):y(ce)}A.alloc=function(ce,Y,ne){return w(ce,Y,ne)};function E(ce){return g(ce),y(ce<0?0:T(ce)|0)}A.allocUnsafe=function(ce){return E(ce)},A.allocUnsafeSlow=function(ce){return E(ce)};function C(ce,Y){if((typeof Y!="string"||Y==="")&&(Y="utf8"),!A.isEncoding(Y))throw new TypeError("Unknown encoding: "+Y);const ne=$(ce,Y)|0;let Le=y(ne);const We=Le.write(ce,Y);return We!==ne&&(Le=Le.slice(0,We)),Le}function _(ce){const Y=ce.length<0?0:T(ce.length)|0,ne=y(Y);for(let Le=0;Le<Y;Le+=1)ne[Le]=ce[Le]&255;return ne}function L(ce){if(we(ce,Uint8Array)){const Y=new Uint8Array(ce);return R(Y.buffer,Y.byteOffset,Y.byteLength)}return _(ce)}function R(ce,Y,ne){if(Y<0||ce.byteLength<Y)throw new RangeError('"offset" is outside of buffer bounds');if(ce.byteLength<Y+(ne||0))throw new RangeError('"length" is outside of buffer bounds');let Le;return Y===void 0&&ne===void 0?Le=new Uint8Array(ce):ne===void 0?Le=new Uint8Array(ce,Y):Le=new Uint8Array(ce,Y,ne),Object.setPrototypeOf(Le,A.prototype),Le}function P(ce){if(A.isBuffer(ce)){const Y=T(ce.length)|0,ne=y(Y);return ne.length===0||ce.copy(ne,0,0,Y),ne}if(ce.length!==void 0)return typeof ce.length!="number"||Ge(ce.length)?y(0):_(ce);if(ce.type==="Buffer"&&Array.isArray(ce.data))return _(ce.data)}function T(ce){if(ce>=m)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+m.toString(16)+" bytes");return ce|0}function D(ce){return+ce!=ce&&(ce=0),A.alloc(+ce)}A.isBuffer=function(Y){return Y!=null&&Y._isBuffer===!0&&Y!==A.prototype},A.compare=function(Y,ne){if(we(Y,Uint8Array)&&(Y=A.from(Y,Y.offset,Y.byteLength)),we(ne,Uint8Array)&&(ne=A.from(ne,ne.offset,ne.byteLength)),!A.isBuffer(Y)||!A.isBuffer(ne))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Y===ne)return 0;let Le=Y.length,We=ne.length;for(let ve=0,he=Math.min(Le,We);ve<he;++ve)if(Y[ve]!==ne[ve]){Le=Y[ve],We=ne[ve];break}return Le<We?-1:We<Le?1:0},A.isEncoding=function(Y){switch(String(Y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(Y,ne){if(!Array.isArray(Y))throw new TypeError('"list" argument must be an Array of Buffers');if(Y.length===0)return A.alloc(0);let Le;if(ne===void 0)for(ne=0,Le=0;Le<Y.length;++Le)ne+=Y[Le].length;const We=A.allocUnsafe(ne);let ve=0;for(Le=0;Le<Y.length;++Le){let he=Y[Le];if(we(he,Uint8Array))ve+he.length>We.length?(A.isBuffer(he)||(he=A.from(he)),he.copy(We,ve)):Uint8Array.prototype.set.call(We,he,ve);else if(A.isBuffer(he))he.copy(We,ve);else throw new TypeError('"list" argument must be an Array of Buffers');ve+=he.length}return We};function $(ce,Y){if(A.isBuffer(ce))return ce.length;if(ArrayBuffer.isView(ce)||we(ce,ArrayBuffer))return ce.byteLength;if(typeof ce!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ce);const ne=ce.length,Le=arguments.length>2&&arguments[2]===!0;if(!Le&&ne===0)return 0;let We=!1;for(;;)switch(Y){case"ascii":case"latin1":case"binary":return ne;case"utf8":case"utf-8":return fe(ce).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne*2;case"hex":return ne>>>1;case"base64":return Ce(ce).length;default:if(We)return Le?-1:fe(ce).length;Y=(""+Y).toLowerCase(),We=!0}}A.byteLength=$;function V(ce,Y,ne){let Le=!1;if((Y===void 0||Y<0)&&(Y=0),Y>this.length||((ne===void 0||ne>this.length)&&(ne=this.length),ne<=0)||(ne>>>=0,Y>>>=0,ne<=Y))return"";for(ce||(ce="utf8");;)switch(ce){case"hex":return ge(this,Y,ne);case"utf8":case"utf-8":return J(this,Y,ne);case"ascii":return ue(this,Y,ne);case"latin1":case"binary":return Be(this,Y,ne);case"base64":return X(this,Y,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ie(this,Y,ne);default:if(Le)throw new TypeError("Unknown encoding: "+ce);ce=(ce+"").toLowerCase(),Le=!0}}A.prototype._isBuffer=!0;function B(ce,Y,ne){const Le=ce[Y];ce[Y]=ce[ne],ce[ne]=Le}A.prototype.swap16=function(){const Y=this.length;if(Y%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let ne=0;ne<Y;ne+=2)B(this,ne,ne+1);return this},A.prototype.swap32=function(){const Y=this.length;if(Y%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let ne=0;ne<Y;ne+=4)B(this,ne,ne+3),B(this,ne+1,ne+2);return this},A.prototype.swap64=function(){const Y=this.length;if(Y%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let ne=0;ne<Y;ne+=8)B(this,ne,ne+7),B(this,ne+1,ne+6),B(this,ne+2,ne+5),B(this,ne+3,ne+4);return this},A.prototype.toString=function(){const Y=this.length;return Y===0?"":arguments.length===0?J(this,0,Y):V.apply(this,arguments)},A.prototype.toLocaleString=A.prototype.toString,A.prototype.equals=function(Y){if(!A.isBuffer(Y))throw new TypeError("Argument must be a Buffer");return this===Y?!0:A.compare(this,Y)===0},A.prototype.inspect=function(){let Y="";const ne=u.INSPECT_MAX_BYTES;return Y=this.toString("hex",0,ne).replace(/(.{2})/g,"$1 ").trim(),this.length>ne&&(Y+=" ... "),"<Buffer "+Y+">"},p&&(A.prototype[p]=A.prototype.inspect),A.prototype.compare=function(Y,ne,Le,We,ve){if(we(Y,Uint8Array)&&(Y=A.from(Y,Y.offset,Y.byteLength)),!A.isBuffer(Y))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Y);if(ne===void 0&&(ne=0),Le===void 0&&(Le=Y?Y.length:0),We===void 0&&(We=0),ve===void 0&&(ve=this.length),ne<0||Le>Y.length||We<0||ve>this.length)throw new RangeError("out of range index");if(We>=ve&&ne>=Le)return 0;if(We>=ve)return-1;if(ne>=Le)return 1;if(ne>>>=0,Le>>>=0,We>>>=0,ve>>>=0,this===Y)return 0;let he=ve-We,qe=Le-ne;const Je=Math.min(he,qe),Qe=this.slice(We,ve),nt=Y.slice(ne,Le);for(let It=0;It<Je;++It)if(Qe[It]!==nt[It]){he=Qe[It],qe=nt[It];break}return he<qe?-1:qe<he?1:0};function O(ce,Y,ne,Le,We){if(ce.length===0)return-1;if(typeof ne=="string"?(Le=ne,ne=0):ne>2147483647?ne=2147483647:ne<-2147483648&&(ne=-2147483648),ne=+ne,Ge(ne)&&(ne=We?0:ce.length-1),ne<0&&(ne=ce.length+ne),ne>=ce.length){if(We)return-1;ne=ce.length-1}else if(ne<0)if(We)ne=0;else return-1;if(typeof Y=="string"&&(Y=A.from(Y,Le)),A.isBuffer(Y))return Y.length===0?-1:F(ce,Y,ne,Le,We);if(typeof Y=="number")return Y=Y&255,typeof Uint8Array.prototype.indexOf=="function"?We?Uint8Array.prototype.indexOf.call(ce,Y,ne):Uint8Array.prototype.lastIndexOf.call(ce,Y,ne):F(ce,[Y],ne,Le,We);throw new TypeError("val must be string, number or Buffer")}function F(ce,Y,ne,Le,We){let ve=1,he=ce.length,qe=Y.length;if(Le!==void 0&&(Le=String(Le).toLowerCase(),Le==="ucs2"||Le==="ucs-2"||Le==="utf16le"||Le==="utf-16le")){if(ce.length<2||Y.length<2)return-1;ve=2,he/=2,qe/=2,ne/=2}function Je(nt,It){return ve===1?nt[It]:nt.readUInt16BE(It*ve)}let Qe;if(We){let nt=-1;for(Qe=ne;Qe<he;Qe++)if(Je(ce,Qe)===Je(Y,nt===-1?0:Qe-nt)){if(nt===-1&&(nt=Qe),Qe-nt+1===qe)return nt*ve}else nt!==-1&&(Qe-=Qe-nt),nt=-1}else for(ne+qe>he&&(ne=he-qe),Qe=ne;Qe>=0;Qe--){let nt=!0;for(let It=0;It<qe;It++)if(Je(ce,Qe+It)!==Je(Y,It)){nt=!1;break}if(nt)return Qe}return-1}A.prototype.includes=function(Y,ne,Le){return this.indexOf(Y,ne,Le)!==-1},A.prototype.indexOf=function(Y,ne,Le){return O(this,Y,ne,Le,!0)},A.prototype.lastIndexOf=function(Y,ne,Le){return O(this,Y,ne,Le,!1)};function k(ce,Y,ne,Le){ne=Number(ne)||0;const We=ce.length-ne;Le?(Le=Number(Le),Le>We&&(Le=We)):Le=We;const ve=Y.length;Le>ve/2&&(Le=ve/2);let he;for(he=0;he<Le;++he){const qe=parseInt(Y.substr(he*2,2),16);if(Ge(qe))return he;ce[ne+he]=qe}return he}function z(ce,Y,ne,Le){return Se(fe(Y,ce.length-ne),ce,ne,Le)}function G(ce,Y,ne,Le){return Se(me(Y),ce,ne,Le)}function j(ce,Y,ne,Le){return Se(Ce(Y),ce,ne,Le)}function Q(ce,Y,ne,Le){return Se(Te(Y,ce.length-ne),ce,ne,Le)}A.prototype.write=function(Y,ne,Le,We){if(ne===void 0)We="utf8",Le=this.length,ne=0;else if(Le===void 0&&typeof ne=="string")We=ne,Le=this.length,ne=0;else if(isFinite(ne))ne=ne>>>0,isFinite(Le)?(Le=Le>>>0,We===void 0&&(We="utf8")):(We=Le,Le=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ve=this.length-ne;if((Le===void 0||Le>ve)&&(Le=ve),Y.length>0&&(Le<0||ne<0)||ne>this.length)throw new RangeError("Attempt to write outside buffer bounds");We||(We="utf8");let he=!1;for(;;)switch(We){case"hex":return k(this,Y,ne,Le);case"utf8":case"utf-8":return z(this,Y,ne,Le);case"ascii":case"latin1":case"binary":return G(this,Y,ne,Le);case"base64":return j(this,Y,ne,Le);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,Y,ne,Le);default:if(he)throw new TypeError("Unknown encoding: "+We);We=(""+We).toLowerCase(),he=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function X(ce,Y,ne){return Y===0&&ne===ce.length?d.fromByteArray(ce):d.fromByteArray(ce.slice(Y,ne))}function J(ce,Y,ne){ne=Math.min(ce.length,ne);const Le=[];let We=Y;for(;We<ne;){const ve=ce[We];let he=null,qe=ve>239?4:ve>223?3:ve>191?2:1;if(We+qe<=ne){let Je,Qe,nt,It;switch(qe){case 1:ve<128&&(he=ve);break;case 2:Je=ce[We+1],(Je&192)===128&&(It=(ve&31)<<6|Je&63,It>127&&(he=It));break;case 3:Je=ce[We+1],Qe=ce[We+2],(Je&192)===128&&(Qe&192)===128&&(It=(ve&15)<<12|(Je&63)<<6|Qe&63,It>2047&&(It<55296||It>57343)&&(he=It));break;case 4:Je=ce[We+1],Qe=ce[We+2],nt=ce[We+3],(Je&192)===128&&(Qe&192)===128&&(nt&192)===128&&(It=(ve&15)<<18|(Je&63)<<12|(Qe&63)<<6|nt&63,It>65535&&It<1114112&&(he=It))}}he===null?(he=65533,qe=1):he>65535&&(he-=65536,Le.push(he>>>10&1023|55296),he=56320|he&1023),Le.push(he),We+=qe}return oe(Le)}const Z=4096;function oe(ce){const Y=ce.length;if(Y<=Z)return String.fromCharCode.apply(String,ce);let ne="",Le=0;for(;Le<Y;)ne+=String.fromCharCode.apply(String,ce.slice(Le,Le+=Z));return ne}function ue(ce,Y,ne){let Le="";ne=Math.min(ce.length,ne);for(let We=Y;We<ne;++We)Le+=String.fromCharCode(ce[We]&127);return Le}function Be(ce,Y,ne){let Le="";ne=Math.min(ce.length,ne);for(let We=Y;We<ne;++We)Le+=String.fromCharCode(ce[We]);return Le}function ge(ce,Y,ne){const Le=ce.length;(!Y||Y<0)&&(Y=0),(!ne||ne<0||ne>Le)&&(ne=Le);let We="";for(let ve=Y;ve<ne;++ve)We+=Ae[ce[ve]];return We}function Ie(ce,Y,ne){const Le=ce.slice(Y,ne);let We="";for(let ve=0;ve<Le.length-1;ve+=2)We+=String.fromCharCode(Le[ve]+Le[ve+1]*256);return We}A.prototype.slice=function(Y,ne){const Le=this.length;Y=~~Y,ne=ne===void 0?Le:~~ne,Y<0?(Y+=Le,Y<0&&(Y=0)):Y>Le&&(Y=Le),ne<0?(ne+=Le,ne<0&&(ne=0)):ne>Le&&(ne=Le),ne<Y&&(ne=Y);const We=this.subarray(Y,ne);return Object.setPrototypeOf(We,A.prototype),We};function He(ce,Y,ne){if(ce%1!==0||ce<0)throw new RangeError("offset is not uint");if(ce+Y>ne)throw new RangeError("Trying to access beyond buffer length")}A.prototype.readUintLE=A.prototype.readUIntLE=function(Y,ne,Le){Y=Y>>>0,ne=ne>>>0,Le||He(Y,ne,this.length);let We=this[Y],ve=1,he=0;for(;++he<ne&&(ve*=256);)We+=this[Y+he]*ve;return We},A.prototype.readUintBE=A.prototype.readUIntBE=function(Y,ne,Le){Y=Y>>>0,ne=ne>>>0,Le||He(Y,ne,this.length);let We=this[Y+--ne],ve=1;for(;ne>0&&(ve*=256);)We+=this[Y+--ne]*ve;return We},A.prototype.readUint8=A.prototype.readUInt8=function(Y,ne){return Y=Y>>>0,ne||He(Y,1,this.length),this[Y]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(Y,ne){return Y=Y>>>0,ne||He(Y,2,this.length),this[Y]|this[Y+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(Y,ne){return Y=Y>>>0,ne||He(Y,2,this.length),this[Y]<<8|this[Y+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(Y,ne){return Y=Y>>>0,ne||He(Y,4,this.length),(this[Y]|this[Y+1]<<8|this[Y+2]<<16)+this[Y+3]*16777216},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(Y,ne){return Y=Y>>>0,ne||He(Y,4,this.length),this[Y]*16777216+(this[Y+1]<<16|this[Y+2]<<8|this[Y+3])},A.prototype.readBigUInt64LE=Ue(function(Y){Y=Y>>>0,Dt(Y,"offset");const ne=this[Y],Le=this[Y+7];(ne===void 0||Le===void 0)&&Yt(Y,this.length-8);const We=ne+this[++Y]*2**8+this[++Y]*2**16+this[++Y]*2**24,ve=this[++Y]+this[++Y]*2**8+this[++Y]*2**16+Le*2**24;return BigInt(We)+(BigInt(ve)<<BigInt(32))}),A.prototype.readBigUInt64BE=Ue(function(Y){Y=Y>>>0,Dt(Y,"offset");const ne=this[Y],Le=this[Y+7];(ne===void 0||Le===void 0)&&Yt(Y,this.length-8);const We=ne*2**24+this[++Y]*2**16+this[++Y]*2**8+this[++Y],ve=this[++Y]*2**24+this[++Y]*2**16+this[++Y]*2**8+Le;return(BigInt(We)<<BigInt(32))+BigInt(ve)}),A.prototype.readIntLE=function(Y,ne,Le){Y=Y>>>0,ne=ne>>>0,Le||He(Y,ne,this.length);let We=this[Y],ve=1,he=0;for(;++he<ne&&(ve*=256);)We+=this[Y+he]*ve;return ve*=128,We>=ve&&(We-=Math.pow(2,8*ne)),We},A.prototype.readIntBE=function(Y,ne,Le){Y=Y>>>0,ne=ne>>>0,Le||He(Y,ne,this.length);let We=ne,ve=1,he=this[Y+--We];for(;We>0&&(ve*=256);)he+=this[Y+--We]*ve;return ve*=128,he>=ve&&(he-=Math.pow(2,8*ne)),he},A.prototype.readInt8=function(Y,ne){return Y=Y>>>0,ne||He(Y,1,this.length),this[Y]&128?(255-this[Y]+1)*-1:this[Y]},A.prototype.readInt16LE=function(Y,ne){Y=Y>>>0,ne||He(Y,2,this.length);const Le=this[Y]|this[Y+1]<<8;return Le&32768?Le|4294901760:Le},A.prototype.readInt16BE=function(Y,ne){Y=Y>>>0,ne||He(Y,2,this.length);const Le=this[Y+1]|this[Y]<<8;return Le&32768?Le|4294901760:Le},A.prototype.readInt32LE=function(Y,ne){return Y=Y>>>0,ne||He(Y,4,this.length),this[Y]|this[Y+1]<<8|this[Y+2]<<16|this[Y+3]<<24},A.prototype.readInt32BE=function(Y,ne){return Y=Y>>>0,ne||He(Y,4,this.length),this[Y]<<24|this[Y+1]<<16|this[Y+2]<<8|this[Y+3]},A.prototype.readBigInt64LE=Ue(function(Y){Y=Y>>>0,Dt(Y,"offset");const ne=this[Y],Le=this[Y+7];(ne===void 0||Le===void 0)&&Yt(Y,this.length-8);const We=this[Y+4]+this[Y+5]*2**8+this[Y+6]*2**16+(Le<<24);return(BigInt(We)<<BigInt(32))+BigInt(ne+this[++Y]*256+this[++Y]*65536+this[++Y]*16777216)}),A.prototype.readBigInt64BE=Ue(function(Y){Y=Y>>>0,Dt(Y,"offset");const ne=this[Y],Le=this[Y+7];(ne===void 0||Le===void 0)&&Yt(Y,this.length-8);const We=(ne<<24)+this[++Y]*2**16+this[++Y]*2**8+this[++Y];return(BigInt(We)<<BigInt(32))+BigInt(this[++Y]*16777216+this[++Y]*65536+this[++Y]*256+Le)}),A.prototype.readFloatLE=function(Y,ne){return Y=Y>>>0,ne||He(Y,4,this.length),h.read(this,Y,!0,23,4)},A.prototype.readFloatBE=function(Y,ne){return Y=Y>>>0,ne||He(Y,4,this.length),h.read(this,Y,!1,23,4)},A.prototype.readDoubleLE=function(Y,ne){return Y=Y>>>0,ne||He(Y,8,this.length),h.read(this,Y,!0,52,8)},A.prototype.readDoubleBE=function(Y,ne){return Y=Y>>>0,ne||He(Y,8,this.length),h.read(this,Y,!1,52,8)};function Ze(ce,Y,ne,Le,We,ve){if(!A.isBuffer(ce))throw new TypeError('"buffer" argument must be a Buffer instance');if(Y>We||Y<ve)throw new RangeError('"value" argument is out of bounds');if(ne+Le>ce.length)throw new RangeError("Index out of range")}A.prototype.writeUintLE=A.prototype.writeUIntLE=function(Y,ne,Le,We){if(Y=+Y,ne=ne>>>0,Le=Le>>>0,!We){const qe=Math.pow(2,8*Le)-1;Ze(this,Y,ne,Le,qe,0)}let ve=1,he=0;for(this[ne]=Y&255;++he<Le&&(ve*=256);)this[ne+he]=Y/ve&255;return ne+Le},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(Y,ne,Le,We){if(Y=+Y,ne=ne>>>0,Le=Le>>>0,!We){const qe=Math.pow(2,8*Le)-1;Ze(this,Y,ne,Le,qe,0)}let ve=Le-1,he=1;for(this[ne+ve]=Y&255;--ve>=0&&(he*=256);)this[ne+ve]=Y/he&255;return ne+Le},A.prototype.writeUint8=A.prototype.writeUInt8=function(Y,ne,Le){return Y=+Y,ne=ne>>>0,Le||Ze(this,Y,ne,1,255,0),this[ne]=Y&255,ne+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(Y,ne,Le){return Y=+Y,ne=ne>>>0,Le||Ze(this,Y,ne,2,65535,0),this[ne]=Y&255,this[ne+1]=Y>>>8,ne+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(Y,ne,Le){return Y=+Y,ne=ne>>>0,Le||Ze(this,Y,ne,2,65535,0),this[ne]=Y>>>8,this[ne+1]=Y&255,ne+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(Y,ne,Le){return Y=+Y,ne=ne>>>0,Le||Ze(this,Y,ne,4,4294967295,0),this[ne+3]=Y>>>24,this[ne+2]=Y>>>16,this[ne+1]=Y>>>8,this[ne]=Y&255,ne+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(Y,ne,Le){return Y=+Y,ne=ne>>>0,Le||Ze(this,Y,ne,4,4294967295,0),this[ne]=Y>>>24,this[ne+1]=Y>>>16,this[ne+2]=Y>>>8,this[ne+3]=Y&255,ne+4};function Xe(ce,Y,ne,Le,We){Tt(Y,Le,We,ce,ne,7);let ve=Number(Y&BigInt(4294967295));ce[ne++]=ve,ve=ve>>8,ce[ne++]=ve,ve=ve>>8,ce[ne++]=ve,ve=ve>>8,ce[ne++]=ve;let he=Number(Y>>BigInt(32)&BigInt(4294967295));return ce[ne++]=he,he=he>>8,ce[ne++]=he,he=he>>8,ce[ne++]=he,he=he>>8,ce[ne++]=he,ne}function ke(ce,Y,ne,Le,We){Tt(Y,Le,We,ce,ne,7);let ve=Number(Y&BigInt(4294967295));ce[ne+7]=ve,ve=ve>>8,ce[ne+6]=ve,ve=ve>>8,ce[ne+5]=ve,ve=ve>>8,ce[ne+4]=ve;let he=Number(Y>>BigInt(32)&BigInt(4294967295));return ce[ne+3]=he,he=he>>8,ce[ne+2]=he,he=he>>8,ce[ne+1]=he,he=he>>8,ce[ne]=he,ne+8}A.prototype.writeBigUInt64LE=Ue(function(Y,ne=0){return Xe(this,Y,ne,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeBigUInt64BE=Ue(function(Y,ne=0){return ke(this,Y,ne,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeIntLE=function(Y,ne,Le,We){if(Y=+Y,ne=ne>>>0,!We){const Je=Math.pow(2,8*Le-1);Ze(this,Y,ne,Le,Je-1,-Je)}let ve=0,he=1,qe=0;for(this[ne]=Y&255;++ve<Le&&(he*=256);)Y<0&&qe===0&&this[ne+ve-1]!==0&&(qe=1),this[ne+ve]=(Y/he>>0)-qe&255;return ne+Le},A.prototype.writeIntBE=function(Y,ne,Le,We){if(Y=+Y,ne=ne>>>0,!We){const Je=Math.pow(2,8*Le-1);Ze(this,Y,ne,Le,Je-1,-Je)}let ve=Le-1,he=1,qe=0;for(this[ne+ve]=Y&255;--ve>=0&&(he*=256);)Y<0&&qe===0&&this[ne+ve+1]!==0&&(qe=1),this[ne+ve]=(Y/he>>0)-qe&255;return ne+Le},A.prototype.writeInt8=function(Y,ne,Le){return Y=+Y,ne=ne>>>0,Le||Ze(this,Y,ne,1,127,-128),Y<0&&(Y=255+Y+1),this[ne]=Y&255,ne+1},A.prototype.writeInt16LE=function(Y,ne,Le){return Y=+Y,ne=ne>>>0,Le||Ze(this,Y,ne,2,32767,-32768),this[ne]=Y&255,this[ne+1]=Y>>>8,ne+2},A.prototype.writeInt16BE=function(Y,ne,Le){return Y=+Y,ne=ne>>>0,Le||Ze(this,Y,ne,2,32767,-32768),this[ne]=Y>>>8,this[ne+1]=Y&255,ne+2},A.prototype.writeInt32LE=function(Y,ne,Le){return Y=+Y,ne=ne>>>0,Le||Ze(this,Y,ne,4,2147483647,-2147483648),this[ne]=Y&255,this[ne+1]=Y>>>8,this[ne+2]=Y>>>16,this[ne+3]=Y>>>24,ne+4},A.prototype.writeInt32BE=function(Y,ne,Le){return Y=+Y,ne=ne>>>0,Le||Ze(this,Y,ne,4,2147483647,-2147483648),Y<0&&(Y=4294967295+Y+1),this[ne]=Y>>>24,this[ne+1]=Y>>>16,this[ne+2]=Y>>>8,this[ne+3]=Y&255,ne+4},A.prototype.writeBigInt64LE=Ue(function(Y,ne=0){return Xe(this,Y,ne,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeBigInt64BE=Ue(function(Y,ne=0){return ke(this,Y,ne,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function lt(ce,Y,ne,Le,We,ve){if(ne+Le>ce.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("Index out of range")}function ot(ce,Y,ne,Le,We){return Y=+Y,ne=ne>>>0,We||lt(ce,Y,ne,4),h.write(ce,Y,ne,Le,23,4),ne+4}A.prototype.writeFloatLE=function(Y,ne,Le){return ot(this,Y,ne,!0,Le)},A.prototype.writeFloatBE=function(Y,ne,Le){return ot(this,Y,ne,!1,Le)};function it(ce,Y,ne,Le,We){return Y=+Y,ne=ne>>>0,We||lt(ce,Y,ne,8),h.write(ce,Y,ne,Le,52,8),ne+8}A.prototype.writeDoubleLE=function(Y,ne,Le){return it(this,Y,ne,!0,Le)},A.prototype.writeDoubleBE=function(Y,ne,Le){return it(this,Y,ne,!1,Le)},A.prototype.copy=function(Y,ne,Le,We){if(!A.isBuffer(Y))throw new TypeError("argument should be a Buffer");if(Le||(Le=0),!We&&We!==0&&(We=this.length),ne>=Y.length&&(ne=Y.length),ne||(ne=0),We>0&&We<Le&&(We=Le),We===Le||Y.length===0||this.length===0)return 0;if(ne<0)throw new RangeError("targetStart out of bounds");if(Le<0||Le>=this.length)throw new RangeError("Index out of range");if(We<0)throw new RangeError("sourceEnd out of bounds");We>this.length&&(We=this.length),Y.length-ne<We-Le&&(We=Y.length-ne+Le);const ve=We-Le;return this===Y&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(ne,Le,We):Uint8Array.prototype.set.call(Y,this.subarray(Le,We),ne),ve},A.prototype.fill=function(Y,ne,Le,We){if(typeof Y=="string"){if(typeof ne=="string"?(We=ne,ne=0,Le=this.length):typeof Le=="string"&&(We=Le,Le=this.length),We!==void 0&&typeof We!="string")throw new TypeError("encoding must be a string");if(typeof We=="string"&&!A.isEncoding(We))throw new TypeError("Unknown encoding: "+We);if(Y.length===1){const he=Y.charCodeAt(0);(We==="utf8"&&he<128||We==="latin1")&&(Y=he)}}else typeof Y=="number"?Y=Y&255:typeof Y=="boolean"&&(Y=Number(Y));if(ne<0||this.length<ne||this.length<Le)throw new RangeError("Out of range index");if(Le<=ne)return this;ne=ne>>>0,Le=Le===void 0?this.length:Le>>>0,Y||(Y=0);let ve;if(typeof Y=="number")for(ve=ne;ve<Le;++ve)this[ve]=Y;else{const he=A.isBuffer(Y)?Y:A.from(Y,We),qe=he.length;if(qe===0)throw new TypeError('The value "'+Y+'" is invalid for argument "value"');for(ve=0;ve<Le-ne;++ve)this[ve+ne]=he[ve%qe]}return this};const ft={};function xt(ce,Y,ne){ft[ce]=class extends ne{constructor(){super(),Object.defineProperty(this,"message",{value:Y.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ce}]`,this.stack,delete this.name}get code(){return ce}set code(We){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:We,writable:!0})}toString(){return`${this.name} [${ce}]: ${this.message}`}}}xt("ERR_BUFFER_OUT_OF_BOUNDS",function(ce){return ce?`${ce} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),xt("ERR_INVALID_ARG_TYPE",function(ce,Y){return`The "${ce}" argument must be of type number. Received type ${typeof Y}`},TypeError),xt("ERR_OUT_OF_RANGE",function(ce,Y,ne){let Le=`The value of "${ce}" is out of range.`,We=ne;return Number.isInteger(ne)&&Math.abs(ne)>4294967296?We=At(String(ne)):typeof ne=="bigint"&&(We=String(ne),(ne>BigInt(2)**BigInt(32)||ne<-(BigInt(2)**BigInt(32)))&&(We=At(We)),We+="n"),Le+=` It must be ${Y}. Received ${We}`,Le},RangeError);function At(ce){let Y="",ne=ce.length;const Le=ce[0]==="-"?1:0;for(;ne>=Le+4;ne-=3)Y=`_${ce.slice(ne-3,ne)}${Y}`;return`${ce.slice(0,ne)}${Y}`}function Ct(ce,Y,ne){Dt(Y,"offset"),(ce[Y]===void 0||ce[Y+ne]===void 0)&&Yt(Y,ce.length-(ne+1))}function Tt(ce,Y,ne,Le,We,ve){if(ce>ne||ce<Y){const he=typeof Y=="bigint"?"n":"";let qe;throw ve>3?Y===0||Y===BigInt(0)?qe=`>= 0${he} and < 2${he} ** ${(ve+1)*8}${he}`:qe=`>= -(2${he} ** ${(ve+1)*8-1}${he}) and < 2 ** ${(ve+1)*8-1}${he}`:qe=`>= ${Y}${he} and <= ${ne}${he}`,new ft.ERR_OUT_OF_RANGE("value",qe,ce)}Ct(Le,We,ve)}function Dt(ce,Y){if(typeof ce!="number")throw new ft.ERR_INVALID_ARG_TYPE(Y,"number",ce)}function Yt(ce,Y,ne){throw Math.floor(ce)!==ce?(Dt(ce,ne),new ft.ERR_OUT_OF_RANGE(ne||"offset","an integer",ce)):Y<0?new ft.ERR_BUFFER_OUT_OF_BOUNDS:new ft.ERR_OUT_OF_RANGE(ne||"offset",`>= ${ne?1:0} and <= ${Y}`,ce)}const Ve=/[^+/0-9A-Za-z-_]/g;function be(ce){if(ce=ce.split("=")[0],ce=ce.trim().replace(Ve,""),ce.length<2)return"";for(;ce.length%4!==0;)ce=ce+"=";return ce}function fe(ce,Y){Y=Y||1/0;let ne;const Le=ce.length;let We=null;const ve=[];for(let he=0;he<Le;++he){if(ne=ce.charCodeAt(he),ne>55295&&ne<57344){if(!We){if(ne>56319){(Y-=3)>-1&&ve.push(239,191,189);continue}else if(he+1===Le){(Y-=3)>-1&&ve.push(239,191,189);continue}We=ne;continue}if(ne<56320){(Y-=3)>-1&&ve.push(239,191,189),We=ne;continue}ne=(We-55296<<10|ne-56320)+65536}else We&&(Y-=3)>-1&&ve.push(239,191,189);if(We=null,ne<128){if((Y-=1)<0)break;ve.push(ne)}else if(ne<2048){if((Y-=2)<0)break;ve.push(ne>>6|192,ne&63|128)}else if(ne<65536){if((Y-=3)<0)break;ve.push(ne>>12|224,ne>>6&63|128,ne&63|128)}else if(ne<1114112){if((Y-=4)<0)break;ve.push(ne>>18|240,ne>>12&63|128,ne>>6&63|128,ne&63|128)}else throw new Error("Invalid code point")}return ve}function me(ce){const Y=[];for(let ne=0;ne<ce.length;++ne)Y.push(ce.charCodeAt(ne)&255);return Y}function Te(ce,Y){let ne,Le,We;const ve=[];for(let he=0;he<ce.length&&!((Y-=2)<0);++he)ne=ce.charCodeAt(he),Le=ne>>8,We=ne%256,ve.push(We),ve.push(Le);return ve}function Ce(ce){return d.toByteArray(be(ce))}function Se(ce,Y,ne,Le){let We;for(We=0;We<Le&&!(We+ne>=Y.length||We>=ce.length);++We)Y[We+ne]=ce[We];return We}function we(ce,Y){return ce instanceof Y||ce!=null&&ce.constructor!=null&&ce.constructor.name!=null&&ce.constructor.name===Y.name}function Ge(ce){return ce!==ce}const Ae=function(){const ce="0123456789abcdef",Y=new Array(256);for(let ne=0;ne<16;++ne){const Le=ne*16;for(let We=0;We<16;++We)Y[Le+We]=ce[ne]+ce[We]}return Y}();function Ue(ce){return typeof BigInt>"u"?et:ce}function et(){throw new Error("BigInt not supported")}},"./node_modules/css-loader/dist/runtime/api.js":l=>{l.exports=function(u){var c=[];return c.toString=function(){return this.map(function(h){var p="",m=typeof h[5]<"u";return h[4]&&(p+="@supports (".concat(h[4],") {")),h[2]&&(p+="@media ".concat(h[2]," {")),m&&(p+="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {")),p+=u(h),m&&(p+="}"),h[2]&&(p+="}"),h[4]&&(p+="}"),p}).join("")},c.i=function(h,p,m,v,y){typeof h=="string"&&(h=[[null,h,void 0]]);var A={};if(m)for(var b=0;b<this.length;b++){var g=this[b][0];g!=null&&(A[g]=!0)}for(var w=0;w<h.length;w++){var E=[].concat(h[w]);m&&A[E[0]]||(typeof y<"u"&&(typeof E[5]>"u"||(E[1]="@layer".concat(E[5].length>0?" ".concat(E[5]):""," {").concat(E[1],"}")),E[5]=y),p&&(E[2]&&(E[1]="@media ".concat(E[2]," {").concat(E[1],"}")),E[2]=p),v&&(E[4]?(E[1]="@supports (".concat(E[4],") {").concat(E[1],"}"),E[4]=v):E[4]="".concat(v)),c.push(E))}},c}},"./node_modules/css-loader/dist/runtime/getUrl.js":l=>{l.exports=function(u,c){return c||(c={}),u&&(u=String(u.__esModule?u.default:u),/^['"].*['"]$/.test(u)&&(u=u.slice(1,-1)),c.hash&&(u+=c.hash),/["'() \t\n]|(%20)/.test(u)||c.needQuotes?'"'.concat(u.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):u)}},"./node_modules/css-loader/dist/runtime/sourceMaps.js":l=>{l.exports=function(u){var c=u[1],d=u[3];if(!d)return c;if(typeof btoa=="function"){var h=btoa(unescape(encodeURIComponent(JSON.stringify(d)))),p="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(h),m="/*# ".concat(p," */");return[c].concat([m]).join(`
`)}return[c].join(`
`)}},"./node_modules/custom-event-polyfill/polyfill.js":()=>{(function(){if(!(typeof window>"u"))try{var l=new window.CustomEvent("test",{cancelable:!0});if(l.preventDefault(),l.defaultPrevented!==!0)throw new Error("Could not prevent default")}catch{var u=function(d,h){var p,m;return h=h||{},h.bubbles=!!h.bubbles,h.cancelable=!!h.cancelable,p=document.createEvent("CustomEvent"),p.initCustomEvent(d,h.bubbles,h.cancelable,h.detail),m=p.preventDefault,p.preventDefault=function(){m.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch{this.defaultPrevented=!0}},p};u.prototype=window.Event.prototype,window.CustomEvent=u}})()},"./node_modules/debug/browser.js":(l,u,c)=>{u=l.exports=c("./node_modules/debug/debug.js"),u.log=p,u.formatArgs=h,u.save=m,u.load=v,u.useColors=d,u.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:y(),u.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function d(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}u.formatters.j=function(A){return JSON.stringify(A)};function h(){var A=arguments,b=this.useColors;if(A[0]=(b?"%c":"")+this.namespace+(b?" %c":" ")+A[0]+(b?"%c ":" "),!b)return A;var g="color: "+this.color;A=[A[0],g,"color: inherit"].concat(Array.prototype.slice.call(A,1));var w=0,E=0;return A[0].replace(/%[a-z%]/g,function(C){C!=="%%"&&(w++,C==="%c"&&(E=w))}),A.splice(E,0,g),A}function p(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function m(A){try{A==null?u.storage.removeItem("debug"):u.storage.debug=A}catch{}}function v(){var A;try{A=u.storage.debug}catch{}return A}u.enable(v());function y(){try{return window.localStorage}catch{}}},"./node_modules/debug/debug.js":(l,u)=>{u=l.exports=h,u.coerce=y,u.disable=m,u.enable=p,u.enabled=v,u.names=[],u.skips=[],u.formatters={};var c=0;function d(){return u.colors[c++%u.colors.length]}function h(A){function b(){}b.enabled=!1;function g(){var E=g;E.useColors==null&&(E.useColors=u.useColors()),E.color==null&&E.useColors&&(E.color=d());var C=Array.prototype.slice.call(arguments);C[0]=u.coerce(C[0]),typeof C[0]!="string"&&(C=["%o"].concat(C));var _=0;C[0]=C[0].replace(/%([a-z%])/g,function(R,P){if(R==="%%")return R;_++;var T=u.formatters[P];if(typeof T=="function"){var D=C[_];R=T.call(E,D),C.splice(_,1),_--}return R}),typeof u.formatArgs=="function"&&(C=u.formatArgs.apply(E,C));var L=g.log||u.log||console.log.bind(console);L.apply(E,C)}g.enabled=!0;var w=u.enabled(A)?g:b;return w.namespace=A,w}function p(A){u.save(A);for(var b=(A||"").split(/[\s,]+/),g=b.length,w=0;w<g;w++)b[w]&&(A=b[w].replace(/\*/g,".*?"),A[0]==="-"?u.skips.push(new RegExp("^"+A.substr(1)+"$")):u.names.push(new RegExp("^"+A+"$")))}function m(){u.enable("")}function v(A){var b,g;for(b=0,g=u.skips.length;b<g;b++)if(u.skips[b].test(A))return!1;for(b=0,g=u.names.length;b<g;b++)if(u.names[b].test(A))return!0;return!1}function y(A){return A instanceof Error?A.stack||A.message:A}},"./node_modules/deep-assign/index.js":(l,u,c)=>{var d=c("./node_modules/is-obj/index.js"),h=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;function m(A){if(A==null)throw new TypeError("Sources cannot be null or undefined");return Object(A)}function v(A,b,g){var w=b[g];if(w!=null){if(h.call(A,g)&&(A[g]===void 0||A[g]===null))throw new TypeError("Cannot convert undefined or null to object ("+g+")");!h.call(A,g)||!d(w)?A[g]=w:A[g]=y(Object(A[g]),b[g])}}function y(A,b){if(A===b)return A;b=Object(b);for(var g in b)h.call(b,g)&&v(A,b,g);if(Object.getOwnPropertySymbols)for(var w=Object.getOwnPropertySymbols(b),E=0;E<w.length;E++)p.call(b,w[E])&&v(A,b,w[E]);return A}l.exports=function(b){b=m(b);for(var g=1;g<arguments.length;g++)y(b,arguments[g]);return b}},"./node_modules/dtype/index.js":l=>{l.exports=function(u){switch(u){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},"./node_modules/flatten-vertex-data/index.js":(l,u,c)=>{var d=c("./node_modules/dtype/index.js");l.exports=h;function h(p,m,v){if(!p)throw new TypeError("must specify data as first parameter");if(v=+(v||0)|0,Array.isArray(p)&&p[0]&&typeof p[0][0]=="number"){var y=p[0].length,A=p.length*y,b,g,w,E;(!m||typeof m=="string")&&(m=new(d(m||"float32"))(A+v));var C=m.length-v;if(A!==C)throw new Error("source length "+A+" ("+y+"x"+p.length+") does not match destination length "+C);for(b=0,w=v;b<p.length;b++)for(g=0;g<y;g++)m[w++]=p[b][g]===null?NaN:p[b][g]}else if(!m||typeof m=="string"){var _=d(m||"float32");if(Array.isArray(p)||m==="array")for(m=new _(p.length+v),b=0,w=v,E=m.length;w<E;w++,b++)m[w]=p[b]===null?NaN:p[b];else v===0?m=new _(p):(m=new _(p.length+v),m.set(p,v))}else m.set(p,v);return m}},"./node_modules/global/window.js":(l,u,c)=>{var d;typeof window<"u"?d=window:typeof c.g<"u"?d=c.g:typeof self<"u"?d=self:d={},l.exports=d},"./node_modules/ieee754/index.js":(l,u)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */u.read=function(c,d,h,p,m){var v,y,A=m*8-p-1,b=(1<<A)-1,g=b>>1,w=-7,E=h?m-1:0,C=h?-1:1,_=c[d+E];for(E+=C,v=_&(1<<-w)-1,_>>=-w,w+=A;w>0;v=v*256+c[d+E],E+=C,w-=8);for(y=v&(1<<-w)-1,v>>=-w,w+=p;w>0;y=y*256+c[d+E],E+=C,w-=8);if(v===0)v=1-g;else{if(v===b)return y?NaN:(_?-1:1)*(1/0);y=y+Math.pow(2,p),v=v-g}return(_?-1:1)*y*Math.pow(2,v-p)},u.write=function(c,d,h,p,m,v){var y,A,b,g=v*8-m-1,w=(1<<g)-1,E=w>>1,C=m===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=p?0:v-1,L=p?1:-1,R=d<0||d===0&&1/d<0?1:0;for(d=Math.abs(d),isNaN(d)||d===1/0?(A=isNaN(d)?1:0,y=w):(y=Math.floor(Math.log(d)/Math.LN2),d*(b=Math.pow(2,-y))<1&&(y--,b*=2),y+E>=1?d+=C/b:d+=C*Math.pow(2,1-E),d*b>=2&&(y++,b/=2),y+E>=w?(A=0,y=w):y+E>=1?(A=(d*b-1)*Math.pow(2,m),y=y+E):(A=d*Math.pow(2,E-1)*Math.pow(2,m),y=0));m>=8;c[h+_]=A&255,_+=L,A/=256,m-=8);for(y=y<<m|A,g+=m;g>0;c[h+_]=y&255,_+=L,y/=256,g-=8);c[h+_-L]|=R*128}},"./node_modules/inherits/inherits_browser.js":l=>{typeof Object.create=="function"?l.exports=function(c,d){d&&(c.super_=d,c.prototype=Object.create(d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}))}:l.exports=function(c,d){if(d){c.super_=d;var h=function(){};h.prototype=d.prototype,c.prototype=new h,c.prototype.constructor=c}}},"./node_modules/is-buffer/index.js":l=>{/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */l.exports=function(d){return d!=null&&(u(d)||c(d)||!!d._isBuffer)};function u(d){return!!d.constructor&&typeof d.constructor.isBuffer=="function"&&d.constructor.isBuffer(d)}function c(d){return typeof d.readFloatLE=="function"&&typeof d.slice=="function"&&u(d.slice(0,0))}},"./node_modules/is-function/index.js":l=>{l.exports=c;var u=Object.prototype.toString;function c(d){if(!d)return!1;var h=u.call(d);return h==="[object Function]"||typeof d=="function"&&h!=="[object RegExp]"||typeof window<"u"&&(d===window.setTimeout||d===window.alert||d===window.confirm||d===window.prompt)}},"./node_modules/is-obj/index.js":l=>{l.exports=function(u){var c=typeof u;return u!==null&&(c==="object"||c==="function")}},"./node_modules/layout-bmfont-text/index.js":(l,u,c)=>{var d=c("./node_modules/word-wrapper/index.js"),h=c("./node_modules/xtend/immutable.js"),p=c("./node_modules/as-number/index.js"),m=["x","e","a","o","n","s","r","c","u","m","v","w","z"],v=["m","w"],y=["H","I","N","E","F","K","L","T","U","V","W","X","Y","Z"],A="	".charCodeAt(0),b=" ".charCodeAt(0),g=0,w=1,E=2;l.exports=function(F){return new C(F)};function C(O){this.glyphs=[],this._measure=this.computeMetrics.bind(this),this.update(O)}C.prototype.update=function(O){if(O=h({measure:this._measure},O),this._opt=O,this._opt.tabSize=p(this._opt.tabSize,4),!O.font)throw new Error("must provide a valid bitmap font");var F=this.glyphs,k=O.text||"",z=O.font;this._setupSpaceGlyphs(z);var G=d.lines(k,O),j=O.width||0;F.length=0;var Q=G.reduce(function(Ze,Xe){return Math.max(Ze,Xe.width,j)},0),X=0,J=0,Z=p(O.lineHeight,z.common.lineHeight),oe=z.common.base,ue=Z-oe,Be=O.letterSpacing||0,ge=Z*G.length-ue,Ie=V(this._opt.align);J-=ge,this._width=Q,this._height=ge,this._descender=Z-oe,this._baseline=oe,this._xHeight=P(z),this._capHeight=D(z),this._lineHeight=Z,this._ascender=Z-ue-this._xHeight;var He=this;G.forEach(function(Ze,Xe){for(var ke=Ze.start,lt=Ze.end,ot=Ze.width,it,ft=ke;ft<lt;ft++){var xt=k.charCodeAt(ft),At=He.getGlyph(z,xt);if(At){it&&(X+=$(z,it.id,At.id));var Ct=X;Ie===w?Ct+=(Q-ot)/2:Ie===E&&(Ct+=Q-ot),F.push({position:[Ct,J],data:At,index:ft,line:Xe}),X+=At.xadvance+Be,it=At}}J+=Z,X=0}),this._linesTotal=G.length},C.prototype._setupSpaceGlyphs=function(O){if(this._fallbackSpaceGlyph=null,this._fallbackTabGlyph=null,!(!O.chars||O.chars.length===0)){var F=R(O,b)||T(O)||O.chars[0],k=this._opt.tabSize*F.xadvance;this._fallbackSpaceGlyph=F,this._fallbackTabGlyph=h(F,{x:0,y:0,xadvance:k,id:A,xoffset:0,yoffset:0,width:0,height:0})}},C.prototype.getGlyph=function(O,F){var k=R(O,F);return k||(F===A?this._fallbackTabGlyph:F===b?this._fallbackSpaceGlyph:null)},C.prototype.computeMetrics=function(O,F,k,z){var G=this._opt.letterSpacing||0,j=this._opt.font,Q=0,X=0,J=0,Z,oe;if(!j.chars||j.chars.length===0)return{start:F,end:F,width:0};k=Math.min(O.length,k);for(var ue=F;ue<k;ue++){var Be=O.charCodeAt(ue),Z=this.getGlyph(j,Be);if(Z){Z.xoffset;var ge=oe?$(j,oe.id,Z.id):0;Q+=ge;var Ie=Q+Z.xadvance+G,He=Q+Z.width;if(He>=z||Ie>=z)break;Q=Ie,X=He,oe=Z}J++}return oe&&(X+=oe.xoffset),{start:F,end:F+J,width:X}},["width","height","descender","ascender","xHeight","baseline","capHeight","lineHeight"].forEach(_);function _(O){Object.defineProperty(C.prototype,O,{get:L(O),configurable:!0})}function L(O){return new Function(["return function "+O+"() {","  return this._"+O,"}"].join(`
`))()}function R(O,F){if(!O.chars||O.chars.length===0)return null;var k=B(O.chars,F);return k>=0?O.chars[k]:null}function P(O){for(var F=0;F<m.length;F++){var k=m[F].charCodeAt(0),z=B(O.chars,k);if(z>=0)return O.chars[z].height}return 0}function T(O){for(var F=0;F<v.length;F++){var k=v[F].charCodeAt(0),z=B(O.chars,k);if(z>=0)return O.chars[z]}return 0}function D(O){for(var F=0;F<y.length;F++){var k=y[F].charCodeAt(0),z=B(O.chars,k);if(z>=0)return O.chars[z].height}return 0}function $(O,F,k){if(!O.kernings||O.kernings.length===0)return 0;for(var z=O.kernings,G=0;G<z.length;G++){var j=z[G];if(j.first===F&&j.second===k)return j.amount}return 0}function V(O){return O==="center"?w:O==="right"?E:g}function B(O,F,k){k=k||0;for(var z=k;z<O.length;z++)if(O[z].id===F)return z;return-1}},"./node_modules/load-bmfont/browser.js":(l,u,c)=>{var d=c("./node_modules/buffer/index.js").Buffer,h=c("./node_modules/xhr/index.js"),p=function(){},m=c("./node_modules/parse-bmfont-ascii/index.js"),v=c("./node_modules/parse-bmfont-xml/lib/browser.js"),y=c("./node_modules/parse-bmfont-binary/index.js"),A=c("./node_modules/load-bmfont/lib/is-binary.js"),b=c("./node_modules/xtend/immutable.js"),g=function(){return self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}();l.exports=function(C,_){_=typeof _=="function"?_:p,typeof C=="string"?C={uri:C}:C||(C={});var L=C.binary;L&&(C=E(C)),h(C,function(R,P,T){if(R)return _(R);if(!/^2/.test(P.statusCode))return _(new Error("http status code: "+P.statusCode));if(!T)return _(new Error("no body result"));var D=!1;if(w(T)){var $=new Uint8Array(T);T=d.from($,"binary")}A(T)&&(D=!0,typeof T=="string"&&(T=d.from(T,"binary"))),D||(d.isBuffer(T)&&(T=T.toString(C.encoding)),T=T.trim());var V;try{var B=P.headers["content-type"];D?V=y(T):/json/.test(B)||T.charAt(0)==="{"?V=JSON.parse(T):/xml/.test(B)||T.charAt(0)==="<"?V=v(T):V=m(T)}catch(O){_(new Error("error parsing font "+O.message)),_=p}_(null,V)})};function w(C){var _=Object.prototype.toString;return _.call(C)==="[object ArrayBuffer]"}function E(C){if(g)return b(C,{responseType:"arraybuffer"});if(typeof self.XMLHttpRequest>"u")throw new Error("your browser does not support XHR loading");var _=new self.XMLHttpRequest;return _.overrideMimeType("text/plain; charset=x-user-defined"),b({xhr:_},C)}},"./node_modules/load-bmfont/lib/is-binary.js":(l,u,c)=>{var d=c("./node_modules/buffer/index.js").Buffer,h=c("./node_modules/buffer-equal/index.js"),p=d.from([66,77,70,3]);l.exports=function(m){return typeof m=="string"?m.substring(0,3)==="BMF":m.length>4&&h(m.slice(0,4),p)}},"./node_modules/object-assign/index.js":l=>{/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var u=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable;function h(m){if(m==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(m)}function p(){try{if(!Object.assign)return!1;var m=new String("abc");if(m[5]="de",Object.getOwnPropertyNames(m)[0]==="5")return!1;for(var v={},y=0;y<10;y++)v["_"+String.fromCharCode(y)]=y;var A=Object.getOwnPropertyNames(v).map(function(g){return v[g]});if(A.join("")!=="0123456789")return!1;var b={};return"abcdefghijklmnopqrst".split("").forEach(function(g){b[g]=g}),Object.keys(Object.assign({},b)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}l.exports=p()?Object.assign:function(m,v){for(var y,A=h(m),b,g=1;g<arguments.length;g++){y=Object(arguments[g]);for(var w in y)c.call(y,w)&&(A[w]=y[w]);if(u){b=u(y);for(var E=0;E<b.length;E++)d.call(y,b[E])&&(A[b[E]]=y[b[E]])}}return A}},"./node_modules/parse-bmfont-ascii/index.js":l=>{l.exports=function(p){if(!p)throw new Error("no data provided");p=p.toString().trim();var m={pages:[],chars:[],kernings:[]},v=p.split(/\r\n?|\n/g);if(v.length===0)throw new Error("no data in BMFont file");for(var y=0;y<v.length;y++){var A=u(v[y],y);if(A)if(A.key==="page"){if(typeof A.data.id!="number")throw new Error("malformed file at line "+y+" -- needs page id=N");if(typeof A.data.file!="string")throw new Error("malformed file at line "+y+' -- needs page file="path"');m.pages[A.data.id]=A.data.file}else A.key==="chars"||A.key==="kernings"||(A.key==="char"?m.chars.push(A.data):A.key==="kerning"?m.kernings.push(A.data):m[A.key]=A.data)}return m};function u(h,p){if(h=h.replace(/\t+/g," ").trim(),!h)return null;var m=h.indexOf(" ");if(m===-1)throw new Error("no named row at line "+p);var v=h.substring(0,m);h=h.substring(m+1),h=h.replace(/letter=[\'\"]\S+[\'\"]/gi,""),h=h.split("="),h=h.map(function(w){return w.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var y=[],A=0;A<h.length;A++){var b=h[A];A===0?y.push({key:b[0],data:""}):A===h.length-1?y[y.length-1].data=c(b[0]):(y[y.length-1].data=c(b[0]),y.push({key:b[1],data:""}))}var g={key:v,data:{}};return y.forEach(function(w){g.data[w.key]=w.data}),g}function c(h){return!h||h.length===0?"":h.indexOf('"')===0||h.indexOf("'")===0?h.substring(1,h.length-1):h.indexOf(",")!==-1?d(h):parseInt(h,10)}function d(h){return h.split(",").map(function(p){return parseInt(p,10)})}},"./node_modules/parse-bmfont-binary/index.js":l=>{var u=[66,77,70];l.exports=function(g){if(g.length<6)throw new Error("invalid buffer length for BMFont");var w=u.every(function(R,P){return g.readUInt8(P)===R});if(!w)throw new Error("BMFont missing BMF byte header");var E=3,C=g.readUInt8(E++);if(C>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var _={kernings:[],chars:[]},L=0;L<5;L++)E+=c(_,g,E);return _};function c(b,g,w){if(w>g.length-1)return 0;var E=g.readUInt8(w++),C=g.readInt32LE(w);switch(w+=4,E){case 1:b.info=d(g,w);break;case 2:b.common=h(g,w);break;case 3:b.pages=p(g,w,C);break;case 4:b.chars=m(g,w,C);break;case 5:b.kernings=v(g,w,C);break}return 5+C}function d(b,g){var w={};w.size=b.readInt16LE(g);var E=b.readUInt8(g+2);return w.smooth=E>>7&1,w.unicode=E>>6&1,w.italic=E>>5&1,w.bold=E>>4&1,E>>3&1&&(w.fixedHeight=1),w.charset=b.readUInt8(g+3)||"",w.stretchH=b.readUInt16LE(g+4),w.aa=b.readUInt8(g+6),w.padding=[b.readInt8(g+7),b.readInt8(g+8),b.readInt8(g+9),b.readInt8(g+10)],w.spacing=[b.readInt8(g+11),b.readInt8(g+12)],w.outline=b.readUInt8(g+13),w.face=A(b,g+14),w}function h(b,g){var w={};return w.lineHeight=b.readUInt16LE(g),w.base=b.readUInt16LE(g+2),w.scaleW=b.readUInt16LE(g+4),w.scaleH=b.readUInt16LE(g+6),w.pages=b.readUInt16LE(g+8),b.readUInt8(g+10),w.packed=0,w.alphaChnl=b.readUInt8(g+11),w.redChnl=b.readUInt8(g+12),w.greenChnl=b.readUInt8(g+13),w.blueChnl=b.readUInt8(g+14),w}function p(b,g,w){for(var E=[],C=y(b,g),_=C.length+1,L=w/_,R=0;R<L;R++)E[R]=b.slice(g,g+C.length).toString("utf8"),g+=_;return E}function m(b,g,w){for(var E=[],C=w/20,_=0;_<C;_++){var L={},R=_*20;L.id=b.readUInt32LE(g+0+R),L.x=b.readUInt16LE(g+4+R),L.y=b.readUInt16LE(g+6+R),L.width=b.readUInt16LE(g+8+R),L.height=b.readUInt16LE(g+10+R),L.xoffset=b.readInt16LE(g+12+R),L.yoffset=b.readInt16LE(g+14+R),L.xadvance=b.readInt16LE(g+16+R),L.page=b.readUInt8(g+18+R),L.chnl=b.readUInt8(g+19+R),E[_]=L}return E}function v(b,g,w){for(var E=[],C=w/10,_=0;_<C;_++){var L={},R=_*10;L.first=b.readUInt32LE(g+0+R),L.second=b.readUInt32LE(g+4+R),L.amount=b.readInt16LE(g+8+R),E[_]=L}return E}function y(b,g){for(var w=g;w<b.length&&b[w]!==0;w++);return b.slice(g,w)}function A(b,g){return y(b,g).toString("utf8")}},"./node_modules/parse-bmfont-xml/lib/browser.js":(l,u,c)=>{var d=c("./node_modules/parse-bmfont-xml/lib/parse-attribs.js"),h=c("./node_modules/xml-parse-from-string/index.js"),p={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};l.exports=function(b){b=b.toString();var g=h(b),w={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(T){var D=g.getElementsByTagName(T)[0];D&&(w[T]=d(m(D)))});var E=g.getElementsByTagName("pages")[0];if(!E)throw new Error("malformed file -- no <pages> element");for(var C=E.getElementsByTagName("page"),_=0;_<C.length;_++){var L=C[_],R=parseInt(L.getAttribute("id"),10),P=L.getAttribute("file");if(isNaN(R))throw new Error('malformed file -- page "id" attribute is NaN');if(!P)throw new Error('malformed file -- needs page "file" attribute');w.pages[parseInt(R,10)]=P}return["chars","kernings"].forEach(function(T){var D=g.getElementsByTagName(T)[0];if(D)for(var $=T.substring(0,T.length-1),V=D.getElementsByTagName($),B=0;B<V.length;B++){var O=V[B];w[T].push(d(m(O)))}}),w};function m(A){var b=v(A);return b.reduce(function(g,w){var E=y(w.nodeName);return g[E]=w.nodeValue,g},{})}function v(A){for(var b=[],g=0;g<A.attributes.length;g++)b.push(A.attributes[g]);return b}function y(A){return p[A.toLowerCase()]||A}},"./node_modules/parse-bmfont-xml/lib/parse-attribs.js":l=>{var u="chasrset";l.exports=function(h){u in h&&(h.charset=h[u],delete h[u]);for(var p in h)p==="face"||p==="charset"||(p==="padding"||p==="spacing"?h[p]=c(h[p]):h[p]=parseInt(h[p],10));return h};function c(d){return d.split(",").map(function(h){return parseInt(h,10)})}},"./node_modules/parse-headers/parse-headers.js":l=>{var u=function(d){return d.replace(/^\s+|\s+$/g,"")},c=function(d){return Object.prototype.toString.call(d)==="[object Array]"};l.exports=function(d){if(!d)return{};for(var h={},p=u(d).split(`
`),m=0;m<p.length;m++){var v=p[m],y=v.indexOf(":"),A=u(v.slice(0,y)).toLowerCase(),b=u(v.slice(y+1));typeof h[A]>"u"?h[A]=b:c(h[A])?h[A].push(b):h[A]=[h[A],b]}return h}},"./node_modules/present/lib/present-browser.js":(l,u,c)=>{var d=c.g.performance||{},h=function(){for(var p=["now","webkitNow","msNow","mozNow","oNow"];p.length;){var m=p.shift();if(m in d)return d[m].bind(d)}var v=Date.now||function(){return new Date().getTime()},y=(d.timing||{}).navigationStart||v();return function(){return v()-y}}();h.performanceNow=d.now,h.noConflict=function(){d.now=h.performanceNow},h.conflict=function(){d.now=h},h.conflict(),l.exports=h},"./node_modules/process/browser.js":l=>{var u=l.exports={},c,d;function h(){throw new Error("setTimeout has not been defined")}function p(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?c=setTimeout:c=h}catch{c=h}try{typeof clearTimeout=="function"?d=clearTimeout:d=p}catch{d=p}})();function m(L){if(c===setTimeout)return setTimeout(L,0);if((c===h||!c)&&setTimeout)return c=setTimeout,setTimeout(L,0);try{return c(L,0)}catch{try{return c.call(null,L,0)}catch{return c.call(this,L,0)}}}function v(L){if(d===clearTimeout)return clearTimeout(L);if((d===p||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(L);try{return d(L)}catch{try{return d.call(null,L)}catch{return d.call(this,L)}}}var y=[],A=!1,b,g=-1;function w(){!A||!b||(A=!1,b.length?y=b.concat(y):g=-1,y.length&&E())}function E(){if(!A){var L=m(w);A=!0;for(var R=y.length;R;){for(b=y,y=[];++g<R;)b&&b[g].run();g=-1,R=y.length}b=null,A=!1,v(L)}}u.nextTick=function(L){var R=new Array(arguments.length-1);if(arguments.length>1)for(var P=1;P<arguments.length;P++)R[P-1]=arguments[P];y.push(new C(L,R)),y.length===1&&!A&&m(E)};function C(L,R){this.fun=L,this.array=R}C.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={};function _(){}u.on=_,u.addListener=_,u.once=_,u.off=_,u.removeListener=_,u.removeAllListeners=_,u.emit=_,u.prependListener=_,u.prependOnceListener=_,u.listeners=function(L){return[]},u.binding=function(L){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(L){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},"./node_modules/promise-polyfill/Promise.js":function(l){(function(u){var c=setTimeout,d=typeof setImmediate=="function"&&setImmediate||function(E){c(E,1)};function h(E,C){return function(){E.apply(C,arguments)}}var p=Array.isArray||function(E){return Object.prototype.toString.call(E)==="[object Array]"};function m(E){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof E!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],w(E,h(y,this),h(A,this))}function v(E){var C=this;if(this._state===null){this._deferreds.push(E);return}d(function(){var _=C._state?E.onFulfilled:E.onRejected;if(_===null){(C._state?E.resolve:E.reject)(C._value);return}var L;try{L=_(C._value)}catch(R){E.reject(R);return}E.resolve(L)})}function y(E){try{if(E===this)throw new TypeError("A promise cannot be resolved with itself.");if(E&&(typeof E=="object"||typeof E=="function")){var C=E.then;if(typeof C=="function"){w(h(C,E),h(y,this),h(A,this));return}}this._state=!0,this._value=E,b.call(this)}catch(_){A.call(this,_)}}function A(E){this._state=!1,this._value=E,b.call(this)}function b(){for(var E=0,C=this._deferreds.length;E<C;E++)v.call(this,this._deferreds[E]);this._deferreds=null}function g(E,C,_,L){this.onFulfilled=typeof E=="function"?E:null,this.onRejected=typeof C=="function"?C:null,this.resolve=_,this.reject=L}function w(E,C,_){var L=!1;try{E(function(R){L||(L=!0,C(R))},function(R){L||(L=!0,_(R))})}catch(R){if(L)return;L=!0,_(R)}}m.prototype.catch=function(E){return this.then(null,E)},m.prototype.then=function(E,C){var _=this;return new m(function(L,R){v.call(_,new g(E,C,L,R))})},m.all=function(){var E=Array.prototype.slice.call(arguments.length===1&&p(arguments[0])?arguments[0]:arguments);return new m(function(C,_){if(E.length===0)return C([]);var L=E.length;function R(T,D){try{if(D&&(typeof D=="object"||typeof D=="function")){var $=D.then;if(typeof $=="function"){$.call(D,function(V){R(T,V)},_);return}}E[T]=D,--L===0&&C(E)}catch(V){_(V)}}for(var P=0;P<E.length;P++)R(P,E[P])})},m.resolve=function(E){return E&&typeof E=="object"&&E.constructor===m?E:new m(function(C){C(E)})},m.reject=function(E){return new m(function(C,_){_(E)})},m.race=function(E){return new m(function(C,_){for(var L=0,R=E.length;L<R;L++)E[L].then(C,_)})},m._setImmediateFn=function(C){d=C},l.exports?l.exports=m:u.Promise||(u.Promise=m)})(this)},"./node_modules/quad-indices/index.js":(l,u,c)=>{var d=c("./node_modules/dtype/index.js"),h=c("./node_modules/an-array/index.js"),p=c("./node_modules/is-buffer/index.js"),m=[0,2,3],v=[2,1,3];l.exports=function(A,b){(!A||!(h(A)||p(A)))&&(b=A||{},A=null),typeof b=="number"?b={count:b}:b=b||{};for(var g=typeof b.type=="string"?b.type:"uint16",w=typeof b.count=="number"?b.count:1,E=b.start||0,C=b.clockwise!==!1?m:v,_=C[0],L=C[1],R=C[2],P=w*6,T=A||new(d(g))(P),D=0,$=0;D<P;D+=6,$+=4){var V=D+E;T[V+0]=$+0,T[V+1]=$+1,T[V+2]=$+2,T[V+3]=$+_,T[V+4]=$+L,T[V+5]=$+R}return T}},"./node_modules/super-animejs/lib/anime.es.js":(l,u,c)=>{c.r(u),c.d(u,{default:()=>wt});var d={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},h={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},p=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective"],m={CSS:{},springs:{}};function v(xe,De,tt){return Math.min(Math.max(xe,De),tt)}function y(xe,De){return xe.indexOf(De)>-1}function A(xe,De){return xe.apply(null,De)}var b=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,g=/^rgb/,w=/^hsl/,E={arr:function(xe){return Array.isArray(xe)},obj:function(xe){return y(Object.prototype.toString.call(xe),"Object")},pth:function(xe){return E.obj(xe)&&xe.hasOwnProperty("totalLength")},svg:function(xe){return xe instanceof SVGElement},inp:function(xe){return xe instanceof HTMLInputElement},dom:function(xe){return xe.nodeType||E.svg(xe)},str:function(xe){return typeof xe=="string"},fnc:function(xe){return typeof xe=="function"},und:function(xe){return typeof xe>"u"},hex:function(xe){return b.test(xe)},rgb:function(xe){return g.test(xe)},hsl:function(xe){return w.test(xe)},col:function(xe){return E.hex(xe)||E.rgb(xe)||E.hsl(xe)},key:function(xe){return!d.hasOwnProperty(xe)&&!h.hasOwnProperty(xe)&&xe!=="targets"&&xe!=="keyframes"}},C=/\(([^)]+)\)/;function _(xe){var De=C.exec(xe);return De?De[1].split(",").map(function(tt){return parseFloat(tt)}):[]}function L(xe,De){var tt=_(xe),St=v(E.und(tt[0])?1:tt[0],.1,100),Mt=v(E.und(tt[1])?100:tt[1],.1,100),Ut=v(E.und(tt[2])?10:tt[2],.1,100),Qt=v(E.und(tt[3])?0:tt[3],.1,100),mn=Math.sqrt(Mt/St),sn=Ut/(2*Math.sqrt(Mt*St)),Kt=sn<1?mn*Math.sqrt(1-sn*sn):0,Hn=1,Nn=sn<1?(sn*mn+-Qt)/Kt:-Qt+mn;function er(kn){var dr=De?De*kn/1e3:kn;return sn<1?dr=Math.exp(-dr*sn*mn)*(Hn*Math.cos(Kt*dr)+Nn*Math.sin(Kt*dr)):dr=(Hn+Nn*dr)*Math.exp(-dr*mn),kn===0||kn===1?kn:1-dr}function yr(){var kn=m.springs[xe];if(kn)return kn;for(var dr=1/6,sr=0,Dr=0;;)if(sr+=dr,er(sr)===1){if(Dr++,Dr>=16)break}else Dr=0;var or=sr*dr*1e3;return m.springs[xe]=or,or}return De?er:yr}function R(xe,De){xe===void 0&&(xe=1),De===void 0&&(De=.5);var tt=v(xe,1,10),St=v(De,.1,2);return function(Mt){return Mt===0||Mt===1?Mt:-tt*Math.pow(2,10*(Mt-1))*Math.sin((Mt-1-St/(Math.PI*2)*Math.asin(1/tt))*(Math.PI*2)/St)}}function P(xe){return xe===void 0&&(xe=10),function(De){return Math.round(De*xe)*(1/xe)}}var T=function(){var xe=11,De=1/(xe-1);function tt(Hn,Nn){return 1-3*Nn+3*Hn}function St(Hn,Nn){return 3*Nn-6*Hn}function Mt(Hn){return 3*Hn}function Ut(Hn,Nn,er){return((tt(Nn,er)*Hn+St(Nn,er))*Hn+Mt(Nn))*Hn}function Qt(Hn,Nn,er){return 3*tt(Nn,er)*Hn*Hn+2*St(Nn,er)*Hn+Mt(Nn)}function mn(Hn,Nn,er,yr,kn){var dr,sr,Dr=0;do sr=Nn+(er-Nn)/2,dr=Ut(sr,yr,kn)-Hn,dr>0?er=sr:Nn=sr;while(Math.abs(dr)>1e-7&&++Dr<10);return sr}function sn(Hn,Nn,er,yr){for(var kn=0;kn<4;++kn){var dr=Qt(Nn,er,yr);if(dr===0)return Nn;var sr=Ut(Nn,er,yr)-Hn;Nn-=sr/dr}return Nn}function Kt(Hn,Nn,er,yr){if(!(0<=Hn&&Hn<=1&&0<=er&&er<=1))return;var kn=new Float32Array(xe);if(Hn!==Nn||er!==yr)for(var dr=0;dr<xe;++dr)kn[dr]=Ut(dr*De,Hn,er);function sr(Dr){for(var or=0,Jt=1,bn=xe-1;Jt!==bn&&kn[Jt]<=Dr;++Jt)or+=De;--Jt;var qn=(Dr-kn[Jt])/(kn[Jt+1]-kn[Jt]),jn=or+qn*De,re=Qt(jn,Hn,er);return re>=.001?sn(Dr,jn,Hn,er):re===0?jn:mn(Dr,or,or+De,Hn,er)}return function(Dr){return Hn===Nn&&er===yr||Dr===0||Dr===1?Dr:Ut(sr(Dr),Nn,yr)}}return Kt}(),D=function(){var xe=["Quad","Cubic","Quart","Quint","Sine","Expo","Circ","Back","Elastic"],De={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],R],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(Qt,mn){return function(sn){return 1-R(Qt,mn)(1-sn)}}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(Qt,mn){return function(sn){return sn<.5?R(Qt,mn)(sn*2)/2:1-R(Qt,mn)(sn*-2+2)/2}}]},tt={linear:[.25,.25,.75,.75]};for(var St in De)for(var Mt=0,Ut=De[St].length;Mt<Ut;Mt++)tt["ease"+St+xe[Mt]]=De[St][Mt];return tt}();function $(xe,De){if(E.fnc(xe))return xe;var tt=xe.split("(")[0],St=D[tt],Mt=_(xe);switch(tt){case"spring":return L(xe,De);case"cubicBezier":return A(T,Mt);case"steps":return A(P,Mt);default:return E.fnc(St)?A(St,Mt):A(T,St)}}function V(xe){try{var De=document.querySelectorAll(xe);return De}catch{return}}var B=[];function O(xe,De){for(var tt=B,St=xe.length,Mt=arguments.length>=2?arguments[1]:void 0,Ut=0;Ut<St;Ut++)if(Ut in xe){var Qt=xe[Ut];De.call(Mt,Qt,Ut,xe)&&tt.push(Qt)}return B=xe,B.length=0,tt}function F(xe,De){De||(De=[]);for(var tt=0,St=xe.length;tt<St;tt++){var Mt=xe[tt];Array.isArray(Mt)?F(Mt,De):De.push(Mt)}return De}function k(xe){return E.arr(xe)?xe:(E.str(xe)&&(xe=V(xe)||xe),xe instanceof NodeList||xe instanceof HTMLCollection?[].slice.call(xe):[xe])}function z(xe,De){return xe.some(function(tt){return tt===De})}function G(xe){var De={};for(var tt in xe)De[tt]=xe[tt];return De}function j(xe,De){var tt=G(xe);for(var St in xe)tt[St]=De.hasOwnProperty(St)?De[St]:xe[St];return tt}function Q(xe,De){var tt=G(xe);for(var St in De)tt[St]=E.und(xe[St])?De[St]:xe[St];return tt}var X=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g;function J(xe){var De=X.exec(xe);return De?"rgba("+De[1]+",1)":xe}var Z=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,oe=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;function ue(xe){var De=xe.replace(Z,function(Qt,mn,sn,Kt){return mn+mn+sn+sn+Kt+Kt}),tt=oe.exec(De),St=parseInt(tt[1],16),Mt=parseInt(tt[2],16),Ut=parseInt(tt[3],16);return"rgba("+St+","+Mt+","+Ut+",1)"}var Be=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g,ge=/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g;function Ie(xe){var De=Be.exec(xe)||ge.exec(xe),tt=parseInt(De[1],10)/360,St=parseInt(De[2],10)/100,Mt=parseInt(De[3],10)/100,Ut=De[4]||1;function Qt(er,yr,kn){return kn<0&&(kn+=1),kn>1&&(kn-=1),kn<.16666666666666666?er+(yr-er)*6*kn:kn<.5?yr:kn<.6666666666666666?er+(yr-er)*(.6666666666666666-kn)*6:er}var mn,sn,Kt;if(St==0)mn=sn=Kt=Mt;else{var Hn=Mt<.5?Mt*(1+St):Mt+St-Mt*St,Nn=2*Mt-Hn;mn=Qt(Nn,Hn,tt+.3333333333333333),sn=Qt(Nn,Hn,tt),Kt=Qt(Nn,Hn,tt-.3333333333333333)}return"rgba("+mn*255+","+sn*255+","+Kt*255+","+Ut+")"}function He(xe){if(E.rgb(xe))return J(xe);if(E.hex(xe))return ue(xe);if(E.hsl(xe))return Ie(xe)}var Ze=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/;function Xe(xe){var De=Ze.exec(xe);if(De)return De[2]}function ke(xe){if(y(xe,"translate")||xe==="perspective")return"px";if(y(xe,"rotate")||y(xe,"skew"))return"deg"}function lt(xe,De){return E.fnc(xe)?xe(De.target,De.id,De.total):xe}function ot(xe,De){return xe.getAttribute(De)}function it(xe,De,tt){var St=Xe(De);if(z([tt,"deg","rad","turn"],St))return De;var Mt=m.CSS[De+tt];if(!E.und(Mt))return Mt;var Ut=100,Qt=document.createElement(xe.tagName),mn=xe.parentNode&&xe.parentNode!==document?xe.parentNode:document.body;mn.appendChild(Qt),Qt.style.position="absolute",Qt.style.width=Ut+tt;var sn=Ut/Qt.offsetWidth;mn.removeChild(Qt);var Kt=sn*parseFloat(De);return m.CSS[De+tt]=Kt,Kt}function ft(xe,De,tt){if(De in xe.style){var St=De.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Mt=xe.style[De]||getComputedStyle(xe).getPropertyValue(St)||"0";return tt?it(xe,Mt,tt):Mt}}function xt(xe,De){if(E.dom(xe)&&!E.inp(xe)&&(ot(xe,De)||E.svg(xe)&&xe[De]))return"attribute";if(E.dom(xe)&&z(p,De))return"transform";if(E.dom(xe)&&De!=="transform"&&ft(xe,De))return"css";if(xe[De]!=null)return"object"}var At=/(\w+)\(([^)]*)\)/g;function Ct(xe){if(E.dom(xe)){for(var De=xe.style.transform||"",tt=new Map,St;St=At.exec(De);)tt.set(St[1],St[2]);return tt}}function Tt(xe,De,tt,St){var Mt=y(De,"scale")?1:0+ke(De),Ut=Ct(xe).get(De)||Mt;return tt&&(tt.transforms.list.set(De,Ut),tt.transforms.last=De),St?it(xe,Ut,St):Ut}function Dt(xe,De,tt,St){switch(xt(xe,De)){case"transform":return Tt(xe,De,St,tt);case"css":return ft(xe,De,tt);case"attribute":return ot(xe,De);default:return xe[De]||0}}var Yt=/^(\*=|\+=|-=)/;function Ve(xe,De){var tt=Yt.exec(xe);if(!tt)return xe;var St=Xe(xe)||0,Mt=parseFloat(De),Ut=parseFloat(xe.replace(tt[0],""));switch(tt[0][0]){case"+":return Mt+Ut+St;case"-":return Mt-Ut+St;case"*":return Mt*Ut+St}}var be=/\s/g;function fe(xe,De){if(E.col(xe))return He(xe);var tt=Xe(xe),St=tt?xe.substr(0,xe.length-tt.length):xe;return De&&!be.test(xe)?St+De:St}function me(xe,De){return Math.sqrt(Math.pow(De.x-xe.x,2)+Math.pow(De.y-xe.y,2))}function Te(xe){return Math.PI*2*ot(xe,"r")}function Ce(xe){return ot(xe,"width")*2+ot(xe,"height")*2}function Se(xe){return me({x:ot(xe,"x1"),y:ot(xe,"y1")},{x:ot(xe,"x2"),y:ot(xe,"y2")})}function we(xe){for(var De=xe.points,tt=0,St,Mt=0;Mt<De.numberOfItems;Mt++){var Ut=De.getItem(Mt);Mt>0&&(tt+=me(St,Ut)),St=Ut}return tt}function Ge(xe){var De=xe.points;return we(xe)+me(De.getItem(De.numberOfItems-1),De.getItem(0))}function Ae(xe){if(xe.getTotalLength)return xe.getTotalLength();switch(xe.tagName.toLowerCase()){case"circle":return Te(xe);case"rect":return Ce(xe);case"line":return Se(xe);case"polyline":return we(xe);case"polygon":return Ge(xe)}}function Ue(xe){var De=Ae(xe);return xe.setAttribute("stroke-dasharray",De),De}function et(xe){for(var De=xe.parentNode;E.svg(De)&&(De=De.parentNode,!!E.svg(De.parentNode)););return De}function ce(xe,De){var tt=De||{},St=tt.el||et(xe),Mt=St.getBoundingClientRect(),Ut=ot(St,"viewBox"),Qt=Mt.width,mn=Mt.height,sn=tt.viewBox||(Ut?Ut.split(" "):[0,0,Qt,mn]);return{el:St,viewBox:sn,x:sn[0]/1,y:sn[1]/1,w:Qt/sn[2],h:mn/sn[3]}}function Y(xe,De){var tt=E.str(xe)?V(xe)[0]:xe,St=De||100;return function(Mt){return{property:Mt,el:tt,svg:ce(tt),totalLength:Ae(tt)*(St/100)}}}function ne(xe,De){function tt(mn){mn===void 0&&(mn=0);var sn=De+mn>=1?De+mn:0;return xe.el.getPointAtLength(sn)}var St=ce(xe.el,xe.svg),Mt=tt(),Ut=tt(-1),Qt=tt(1);switch(xe.property){case"x":return(Mt.x-St.x)*St.w;case"y":return(Mt.y-St.y)*St.h;case"angle":return Math.atan2(Qt.y-Ut.y,Qt.x-Ut.x)*180/Math.PI}}var Le=/-?\d*\.?\d+/g;function We(xe,De){var tt=fe(E.pth(xe)?xe.totalLength:xe,De)+"";return{original:tt,numbers:tt.match(Le)?tt.match(Le).map(Number):[0],strings:E.str(xe)||De?tt.split(Le):[]}}function ve(xe){var De=xe?F(E.arr(xe)?xe.map(k):k(xe)):[];return O(De,function(tt,St,Mt){return Mt.indexOf(tt)===St})}function he(xe){var De=ve(xe);return De.map(function(tt,St){return{target:tt,id:St,total:De.length,transforms:{list:Ct(tt)}}})}var qe=/^spring/;function Je(xe,De){var tt=G(De);if(qe.test(tt.easing)&&(tt.duration=L(tt.easing)),E.arr(xe)){var St=xe.length,Mt=St===2&&!E.obj(xe[0]);Mt?xe={value:xe}:E.fnc(De.duration)||(tt.duration=De.duration/St)}var Ut=E.arr(xe)?xe:[xe];return Ut.map(function(Qt,mn){var sn=E.obj(Qt)&&!E.pth(Qt)?Qt:{value:Qt};return E.und(sn.delay)&&(sn.delay=mn?0:De.delay),E.und(sn.endDelay)&&(sn.endDelay=mn===Ut.length-1?De.endDelay:0),sn}).map(function(Qt){return Q(Qt,tt)})}function Qe(xe){for(var De=O(F(xe.map(function(Ut){return Object.keys(Ut)})),function(Ut){return E.key(Ut)}).reduce(function(Ut,Qt){return Ut.indexOf(Qt)<0&&Ut.push(Qt),Ut},[]),tt={},St=function(Ut){var Qt=De[Ut];tt[Qt]=xe.map(function(mn){var sn={};for(var Kt in mn)E.key(Kt)?Kt==Qt&&(sn.value=mn[Kt]):sn[Kt]=mn[Kt];return sn})},Mt=0;Mt<De.length;Mt++)St(Mt);return tt}function nt(xe,De){var tt=[],St=De.keyframes;St&&(De=Q(Qe(St),De));for(var Mt in De)E.key(Mt)&&tt.push({name:Mt,tweens:Je(De[Mt],xe)});return tt}function It(xe,De){var tt={};for(var St in xe){var Mt=lt(xe[St],De);E.arr(Mt)&&(Mt=Mt.map(function(Ut){return lt(Ut,De)}),Mt.length===1&&(Mt=Mt[0])),tt[St]=Mt}return tt.duration=parseFloat(tt.duration),tt.delay=parseFloat(tt.delay),tt}function kt(xe,De){var tt;return xe.tweens.map(function(St){var Mt=It(St,De),Ut=Mt.value,Qt=E.arr(Ut)?Ut[1]:Ut,mn=Xe(Qt),sn=Dt(De.target,xe.name,mn,De),Kt=tt?tt.to.original:sn,Hn=E.arr(Ut)?Ut[0]:Kt,Nn=Xe(Hn)||Xe(sn),er=mn||Nn;return E.und(Qt)&&(Qt=Kt),Mt.from=We(Hn,er),Mt.to=We(Ve(Qt,Hn),er),Mt.start=tt?tt.end:0,Mt.end=Mt.start+Mt.delay+Mt.duration+Mt.endDelay,Mt.easing=$(Mt.easing,Mt.duration),Mt.isPath=E.pth(Ut),Mt.isColor=E.col(Mt.from.original),Mt.isColor&&(Mt.round=1),tt=Mt,Mt})}var Bt={css:function(xe,De,tt){return xe.style[De]=tt},attribute:function(xe,De,tt){return xe.setAttribute(De,tt)},object:function(xe,De,tt){return xe[De]=tt},transform:function(xe,De,tt,St,Mt){if(St.list.set(De,tt),De===St.last||Mt){var Ut="";St.list.forEach(function(Qt,mn){Ut+=mn+"("+Qt+") "}),xe.style.transform=Ut}}};function Gt(xe,De){for(var tt=he(xe),St=0,Mt=tt.length;St<Mt;St++){var Ut=tt[St];for(var Qt in De){var mn=lt(De[Qt],Ut),sn=Ut.target,Kt=Xe(mn),Hn=Dt(sn,Qt,Kt,Ut),Nn=Kt||Xe(Hn),er=Ve(fe(mn,Nn),Hn),yr=xt(sn,Qt);Bt[yr](sn,Qt,er,Ut.transforms,!0)}}}function Vt(xe,De){var tt=xt(xe.target,De.name);if(tt){var St=kt(De,xe),Mt=St[St.length-1];return{type:tt,property:De.name,animatable:xe,tweens:St,duration:Mt.end,delay:St[0].delay,endDelay:Mt.endDelay}}}function Pt(xe,De){return O(F(xe.map(function(tt){return De.map(function(St){return Vt(tt,St)})})),function(tt){return!E.und(tt)})}function pt(xe,De){var tt=xe.length,St=function(Ut){return Ut.timelineOffset?Ut.timelineOffset:0},Mt={};return Mt.duration=tt?Math.max.apply(Math,xe.map(function(Ut){return St(Ut)+Ut.duration})):De.duration,Mt.delay=tt?Math.min.apply(Math,xe.map(function(Ut){return St(Ut)+Ut.delay})):De.delay,Mt.endDelay=tt?Mt.duration-Math.max.apply(Math,xe.map(function(Ut){return St(Ut)+Ut.duration-Ut.endDelay})):De.endDelay,Mt}var Ot=0;function cn(xe){var De=j(d,xe),tt=j(h,xe),St=nt(tt,xe),Mt=he(xe.targets),Ut=Pt(Mt,St),Qt=pt(Ut,tt),mn=Ot;return Ot++,Q(De,{id:mn,children:[],animatables:Mt,animations:Ut,duration:Qt.duration,delay:Qt.delay,endDelay:Qt.endDelay})}var qt=[],Sn=[],yn,Pn=function(){function xe(){yn=requestAnimationFrame(De)}function De(tt){var St=qt.length;if(St){for(var Mt=0;Mt<St;){var Ut=qt[Mt];if(!Ut.paused)Ut.tick(tt);else{var Qt=qt.indexOf(Ut);Qt>-1&&(qt.splice(Qt,1),St=qt.length)}Mt++}xe()}else yn=cancelAnimationFrame(yn)}return xe}();function rr(){if(document.hidden){for(var xe=0,De=qt.length;xe<De;xe++)activeInstance[xe].pause();Sn=qt.slice(0),qt=[]}else for(var tt=0,St=Sn.length;tt<St;tt++)Sn[tt].play()}document.addEventListener("visibilitychange",rr);function Gn(xe){xe===void 0&&(xe={});var De=0,tt=0,St=0,Mt,Ut=0,Qt=null;function mn(){return window.Promise&&new Promise(function(Jt){return Qt=Jt})}var sn=mn(),Kt=cn(xe);function Hn(){Kt.reversed=!Kt.reversed;for(var Jt=0,bn=Mt.length;Jt<bn;Jt++)Mt[Jt].reversed=Kt.reversed}function Nn(Jt){return Kt.reversed?Kt.duration-Jt:Jt}function er(){De=0,tt=Nn(Kt.currentTime)*(1/Gn.speed)}function yr(Jt,bn){bn&&bn.seek(Jt-bn.timelineOffset)}function kn(Jt){if(Kt.reversePlayback)for(var qn=Ut;qn--;)yr(Jt,Mt[qn]);else for(var bn=0;bn<Ut;bn++)yr(Jt,Mt[bn])}function dr(Jt){for(var bn=0,qn=Kt.animations,jn=qn.length;bn<jn;){var re=qn[bn],se=re.animatable,_e=re.tweens,Fe=_e.length-1,Ye=_e[Fe];Fe&&(Ye=O(_e,function($n){return Jt<$n.end})[0]||Ye);for(var at=v(Jt-Ye.start-Ye.delay,0,Ye.duration)/Ye.duration,bt=isNaN(at)?1:Ye.easing(at),pe=Ye.to.strings,ye=Ye.round,Ee=[],Me=Ye.to.numbers.length,Pe=void 0,yt=0;yt<Me;yt++){var Ft=void 0,Zt=Ye.to.numbers[yt],dn=Ye.from.numbers[yt]||0;Ye.isPath?Ft=ne(Ye.value,bt*Zt):Ft=dn+bt*(Zt-dn),ye&&(Ye.isColor&&yt>2||(Ft=Math.round(Ft*ye)/ye)),Ee.push(Ft)}var Bn=pe.length;if(!Bn)Pe=Ee[0];else{Pe=pe[0];for(var ln=0;ln<Bn;ln++){pe[ln];var Wn=pe[ln+1],pr=Ee[ln];isNaN(pr)||(Wn?Pe+=pr+Wn:Pe+=pr+" ")}}Bt[re.type](se.target,re.property,Pe,se.transforms),re.currentValue=Pe,bn++}}function sr(Jt){Kt[Jt]&&!Kt.passThrough&&Kt[Jt](Kt)}function Dr(){Kt.remaining&&Kt.remaining!==!0&&Kt.remaining--}function or(Jt){var bn=Kt.duration,qn=Kt.delay,jn=bn-Kt.endDelay,re=Nn(Jt);Kt.progress=v(re/bn*100,0,100),Kt.reversePlayback=re<Kt.currentTime,Mt&&kn(re),!Kt.began&&Kt.currentTime>0&&(Kt.began=!0,sr("begin"),sr("loopBegin")),re<=qn&&Kt.currentTime!==0&&dr(0),(re>=jn&&Kt.currentTime!==bn||!bn)&&dr(bn),re>qn&&re<jn?(Kt.changeBegan||(Kt.changeBegan=!0,Kt.changeCompleted=!1,sr("changeBegin")),sr("change"),dr(re)):Kt.changeBegan&&(Kt.changeCompleted=!0,Kt.changeBegan=!1,sr("changeComplete")),Kt.currentTime=v(re,0,bn),Kt.began&&sr("update"),Jt>=bn&&(tt=0,Dr(),Kt.remaining?(De=St,sr("loopComplete"),sr("loopBegin"),Kt.direction==="alternate"&&Hn()):(Kt.paused=!0,Kt.completed||(Kt.completed=!0,sr("loopComplete"),sr("complete"),"Promise"in window&&(Qt(),sn=mn()))))}return Kt.reset=function(){var Jt=Kt.direction;Kt.passThrough=!1,Kt.currentTime=0,Kt.progress=0,Kt.paused=!0,Kt.began=!1,Kt.changeBegan=!1,Kt.completed=!1,Kt.changeCompleted=!1,Kt.reversePlayback=!1,Kt.reversed=Jt==="reverse",Kt.remaining=Kt.loop,Mt=Kt.children,Ut=Mt.length;for(var bn=Ut;bn--;)Kt.children[bn].reset();(Kt.reversed&&Kt.loop!==!0||Jt==="alternate"&&Kt.loop===1)&&Kt.remaining++,dr(0)},Kt.set=function(Jt,bn){return Gt(Jt,bn),Kt},Kt.tick=function(Jt){St=Jt,De||(De=St),or((St+(tt-De))*Gn.speed)},Kt.seek=function(Jt){or(Nn(Jt))},Kt.pause=function(){Kt.paused=!0,er()},Kt.play=function(){Kt.paused&&(Kt.paused=!1,qt.push(Kt),er(),yn||Pn())},Kt.reverse=function(){Hn(),er()},Kt.restart=function(){Kt.reset(),Kt.play()},Kt.finished=sn,Kt.reset(),Kt.autoplay&&Kt.play(),Kt}function Fn(xe,De){for(var tt=De.length;tt--;)z(xe,De[tt].animatable.target)&&De.splice(tt,1)}function Cn(xe){for(var De=ve(xe),tt=qt.length;tt--;){var St=qt[tt],Mt=St.animations,Ut=St.children;Fn(De,Mt);for(var Qt=Ut.length;Qt--;){var mn=Ut[Qt],sn=mn.animations;Fn(De,sn),!sn.length&&!mn.children.length&&Ut.splice(Qt,1)}!Mt.length&&!Ut.length&&St.pause()}}function Oe(xe,De){De===void 0&&(De={});var tt=De.direction||"normal",St=De.easing?$(De.easing):null,Mt=De.grid,Ut=De.axis,Qt=De.from||0,mn=Qt==="first",sn=Qt==="center",Kt=Qt==="last",Hn=E.arr(xe),Nn=parseFloat(Hn?xe[0]:xe),er=Hn?parseFloat(xe[1]):0,yr=Xe(Hn?xe[1]:xe)||0,kn=De.start||0+(Hn?Nn:0),dr=[],sr=0;return function(Dr,or,Jt){if(mn&&(Qt=0),sn&&(Qt=(Jt-1)/2),Kt&&(Qt=Jt-1),!dr.length){for(var bn=0;bn<Jt;bn++){if(!Mt)dr.push(Math.abs(Qt-bn));else{var qn=sn?(Mt[0]-1)/2:Qt%Mt[0],jn=sn?(Mt[1]-1)/2:Math.floor(Qt/Mt[0]),re=bn%Mt[0],se=Math.floor(bn/Mt[0]),_e=qn-re,Fe=jn-se,Ye=Math.sqrt(_e*_e+Fe*Fe);Ut==="x"&&(Ye=-_e),Ut==="y"&&(Ye=-Fe),dr.push(Ye)}sr=Math.max.apply(Math,dr)}St&&(dr=dr.map(function(bt){return St(bt/sr)*sr})),tt==="reverse"&&(dr=dr.map(function(bt){return Ut?bt<0?bt*-1:-bt:Math.abs(sr-bt)}))}var at=Hn?(er-Nn)/sr:Nn;return kn+at*(Math.round(dr[or]*100)/100)+yr}}function st(xe){xe===void 0&&(xe={});var De=Gn(xe);return De.duration=0,De.add=function(tt,St){var Mt=qt.indexOf(De),Ut=De.children;Mt>-1&&qt.splice(Mt,1);function Qt(er){er.passThrough=!0}for(var mn=0;mn<Ut.length;mn++)Qt(Ut[mn]);var sn=Q(tt,j(h,xe));sn.targets=sn.targets||xe.targets;var Kt=De.duration;sn.autoplay=!1,sn.direction=De.direction,sn.timelineOffset=E.und(St)?Kt:Ve(St,Kt),Qt(De),De.seek(sn.timelineOffset);var Hn=Gn(sn);Qt(Hn),Ut.push(Hn);var Nn=pt(Ut,xe);return De.delay=Nn.delay,De.endDelay=Nn.endDelay,De.duration=Nn.duration,De.seek(0),De.reset(),De.autoplay&&De.play(),De},De}Gn.version="3.0.0",Gn.speed=1,Gn.running=qt,Gn.remove=Cn,Gn.get=Dt,Gn.set=Gt,Gn.convertPx=it,Gn.path=Y,Gn.setDashoffset=Ue,Gn.stagger=Oe,Gn.timeline=st,Gn.easing=$,Gn.penner=D,Gn.random=function(xe,De){return Math.floor(Math.random()*(De-xe+1))+xe};const wt=Gn},"./node_modules/three-bmfont-text/index.js":(l,u,c)=>{var d=c("./node_modules/layout-bmfont-text/index.js");c("./node_modules/inherits/inherits_browser.js");var h=c("./node_modules/quad-indices/index.js"),p=c("./node_modules/three-buffer-vertex-data/index.js"),m=c("./node_modules/object-assign/index.js"),v=c("./node_modules/three-bmfont-text/lib/vertices.js"),y=c("./node_modules/three-bmfont-text/lib/utils.js");l.exports=function(g){return new A(g)};class A extends THREE.BufferGeometry{constructor(g){super(),typeof g=="string"&&(g={text:g}),this._opt=m({},g),g&&this.update(g)}update(g){if(typeof g=="string"&&(g={text:g}),g=m({},this._opt,g),!g.font)throw new TypeError("must specify a { font } in options");this.layout=d(g);var w=g.flipY!==!1,E=g.font,C=E.common.scaleW,_=E.common.scaleH,L=this.layout.glyphs.filter(function($){var V=$.data;return V.width*V.height>0});this.visibleGlyphs=L;var R=v.positions(L),P=v.uvs(L,C,_,w),T=h({clockwise:!0,type:"uint16",count:L.length});if(p.index(this,T,1,"uint16"),p.attr(this,"position",R,2),p.attr(this,"uv",P,2),!g.multipage&&"page"in this.attributes)this.removeAttribute("page");else if(g.multipage){var D=v.pages(L);p.attr(this,"page",D,1)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new THREE.Sphere);var g=this.attributes.position.array,w=this.attributes.position.itemSize;if(!g||!w||g.length<2){this.boundingSphere.radius=0,this.boundingSphere.center.set(0,0,0);return}y.computeSphere(g,this.boundingSphere),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new THREE.Box3);var g=this.boundingBox,w=this.attributes.position.array,E=this.attributes.position.itemSize;if(!w||!E||w.length<2){g.makeEmpty();return}y.computeBox(w,g)}}},"./node_modules/three-bmfont-text/lib/utils.js":l=>{var u=2,c={min:[0,0],max:[0,0]};function d(h){var p=h.length/u;c.min[0]=h[0],c.min[1]=h[1],c.max[0]=h[0],c.max[1]=h[1];for(var m=0;m<p;m++){var v=h[m*u+0],y=h[m*u+1];c.min[0]=Math.min(v,c.min[0]),c.min[1]=Math.min(y,c.min[1]),c.max[0]=Math.max(v,c.max[0]),c.max[1]=Math.max(y,c.max[1])}}l.exports.computeBox=function(h,p){d(h),p.min.set(c.min[0],c.min[1],0),p.max.set(c.max[0],c.max[1],0)},l.exports.computeSphere=function(h,p){d(h);var m=c.min[0],v=c.min[1],y=c.max[0],A=c.max[1],b=y-m,g=A-v,w=Math.sqrt(b*b+g*g);p.center.set(m+b/2,v+g/2,0),p.radius=w/2}},"./node_modules/three-bmfont-text/lib/vertices.js":l=>{l.exports.pages=function(c){var d=new Float32Array(c.length*4*1),h=0;return c.forEach(function(p){var m=p.data.page||0;d[h++]=m,d[h++]=m,d[h++]=m,d[h++]=m}),d},l.exports.uvs=function(c,d,h,p){var m=new Float32Array(c.length*4*2),v=0;return c.forEach(function(y){var A=y.data,b=A.x+A.width,g=A.y+A.height,w=A.x/d,E=A.y/h,C=b/d,_=g/h;p&&(E=(h-A.y)/h,_=(h-g)/h),m[v++]=w,m[v++]=E,m[v++]=w,m[v++]=_,m[v++]=C,m[v++]=_,m[v++]=C,m[v++]=E}),m},l.exports.positions=function(c){var d=new Float32Array(c.length*4*2),h=0;return c.forEach(function(p){var m=p.data,v=p.position[0]+m.xoffset,y=p.position[1]+m.yoffset,A=m.width,b=m.height;d[h++]=v,d[h++]=y,d[h++]=v,d[h++]=y+b,d[h++]=v+A,d[h++]=y+b,d[h++]=v+A,d[h++]=y}),d}},"./node_modules/three-buffer-vertex-data/index.js":(l,u,c)=>{var d=c("./node_modules/flatten-vertex-data/index.js");l.exports.attr=p,l.exports.index=h;function h(v,y,A,b){typeof A!="number"&&(A=1),typeof b!="string"&&(b="uint16");var g=!v.index&&typeof v.setIndex!="function",w=g?v.getAttribute("index"):v.index,E=m(w,y,A,b);E&&(g?v.addAttribute("index",E):v.index=E)}function p(v,y,A,b,g){if(typeof b!="number"&&(b=3),typeof g!="string"&&(g="float32"),Array.isArray(A)&&Array.isArray(A[0])&&A[0].length!==b)throw new Error("Nested vertex array has unexpected size; expected "+b+" but found "+A[0].length);var w=v.getAttribute(y),E=m(w,A,b,g);v.setAttribute(y,E)}function m(v,y,A,b){return y=y||[],y=d(y,b),v=new THREE.BufferAttribute(y,A),v.itemSize=A,v.needsUpdate=!0,v}},"./node_modules/webvr-polyfill/build/webvr-polyfill.js":function(l,u,c){/**
 * @license
 * webvr-polyfill
 * Copyright (c) 2015-2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * cardboard-vr-display
 * Copyright (c) 2015-2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * webvr-polyfill-dpdb 
 * Copyright (c) 2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * wglu-preserve-state
 * Copyright (c) 2016, Brandon Jones.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *//**
 * @license
 * nosleep.js
 * Copyright (c) 2017, Rich Tibbett
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(d,h){l.exports=h()})(this,function(){var d=typeof window<"u"?window:typeof c.g<"u"?c.g:typeof self<"u"?self:{};function h(R){return R&&R.__esModule&&Object.prototype.hasOwnProperty.call(R,"default")?R.default:R}function p(R,P){return P={exports:{}},R(P,P.exports),P.exports}var m=function(){return/Android/i.test(navigator.userAgent)||/iPhone|iPad|iPod/i.test(navigator.userAgent)},v=function(P,T){for(var D=0,$=P.length;D<$;D++)T[D]=P[D]},y=function(P,T){for(var D in T)T.hasOwnProperty(D)&&(P[D]=T[D]);return P},A=p(function(R,P){/**
 * @license
 * cardboard-vr-display
 * Copyright (c) 2015-2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * gl-preserve-state
 * Copyright (c) 2016, Brandon Jones.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *//**
 * @license
 * webvr-polyfill-dpdb
 * Copyright (c) 2015-2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * nosleep.js
 * Copyright (c) 2017, Rich Tibbett
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(T,D){R.exports=D()})(d,function(){var T=function(re,se){if(!(re instanceof se))throw new TypeError("Cannot call a class as a function")},D=function(){function re(se,_e){for(var Fe=0;Fe<_e.length;Fe++){var Ye=_e[Fe];Ye.enumerable=Ye.enumerable||!1,Ye.configurable=!0,"value"in Ye&&(Ye.writable=!0),Object.defineProperty(se,Ye.key,Ye)}}return function(se,_e,Fe){return _e&&re(se.prototype,_e),Fe&&re(se,Fe),se}}(),$=function(){function re(se,_e){var Fe=[],Ye=!0,at=!1,bt=void 0;try{for(var pe=se[Symbol.iterator](),ye;!(Ye=(ye=pe.next()).done)&&(Fe.push(ye.value),!(_e&&Fe.length===_e));Ye=!0);}catch(Ee){at=!0,bt=Ee}finally{try{!Ye&&pe.return&&pe.return()}finally{if(at)throw bt}}return Fe}return function(se,_e){if(Array.isArray(se))return se;if(Symbol.iterator in Object(se))return re(se,_e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),V=.001,B=1,O=function(se,_e){return"data:"+se+","+encodeURIComponent(_e)},F=function(se,_e,Fe){return se+(_e-se)*Fe},k=function(){var re=/iPad|iPhone|iPod/.test(navigator.platform);return function(){return re}}(),z=function(){var re=navigator.userAgent.indexOf("Version")!==-1&&navigator.userAgent.indexOf("Android")!==-1&&navigator.userAgent.indexOf("Chrome")!==-1;return function(){return re}}(),G=function(){var re=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);return function(){return re}}(),j=function(){var re=navigator.userAgent.indexOf("Firefox")!==-1&&navigator.userAgent.indexOf("Android")!==-1;return function(){return re}}(),Q=function(){var re=navigator.userAgent.match(/.*Chrome\/([0-9]+)/),se=re?parseInt(re[1],10):null;return function(){return se}}(),X=function(){var re=!1;return re=k()&&G()&&navigator.userAgent.indexOf("13_4")!==-1,function(){return re}}(),J=function(){var re=!1;if(Q()===65){var se=navigator.userAgent.match(/.*Chrome\/([0-9\.]*)/);if(se){var _e=se[1].split("."),Fe=$(_e,4);Fe[0],Fe[1];var Ye=Fe[2],at=Fe[3];re=parseInt(Ye,10)===3325&&parseInt(at,10)<148}}return function(){return re}}(),Z=function(){var re=navigator.userAgent.indexOf("R7 Build")!==-1;return function(){return re}}(),oe=function(){var se=window.orientation==90||window.orientation==-90;return Z()?!se:se},ue=function(se){return!(isNaN(se)||se<=V||se>B)},Be=function(){return Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio},ge=function(){return Math.min(window.screen.width,window.screen.height)*window.devicePixelRatio},Ie=function(se){if(z())return!1;if(se.requestFullscreen)se.requestFullscreen();else if(se.webkitRequestFullscreen)se.webkitRequestFullscreen();else if(se.mozRequestFullScreen)se.mozRequestFullScreen();else if(se.msRequestFullscreen)se.msRequestFullscreen();else return!1;return!0},He=function(){if(document.exitFullscreen)document.exitFullscreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.msExitFullscreen)document.msExitFullscreen();else return!1;return!0},Ze=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},Xe=function(se,_e,Fe,Ye){var at=se.createShader(se.VERTEX_SHADER);se.shaderSource(at,_e),se.compileShader(at);var bt=se.createShader(se.FRAGMENT_SHADER);se.shaderSource(bt,Fe),se.compileShader(bt);var pe=se.createProgram();se.attachShader(pe,at),se.attachShader(pe,bt);for(var ye in Ye)se.bindAttribLocation(pe,Ye[ye],ye);return se.linkProgram(pe),se.deleteShader(at),se.deleteShader(bt),pe},ke=function(se,_e){for(var Fe={},Ye=se.getProgramParameter(_e,se.ACTIVE_UNIFORMS),at="",bt=0;bt<Ye;bt++){var pe=se.getActiveUniform(_e,bt);at=pe.name.replace("[0]",""),Fe[at]=se.getUniformLocation(_e,at)}return Fe},lt=function(se,_e,Fe,Ye,at,bt,pe){var ye=1/(_e-Fe),Ee=1/(Ye-at),Me=1/(bt-pe);return se[0]=-2*ye,se[1]=0,se[2]=0,se[3]=0,se[4]=0,se[5]=-2*Ee,se[6]=0,se[7]=0,se[8]=0,se[9]=0,se[10]=2*Me,se[11]=0,se[12]=(_e+Fe)*ye,se[13]=(at+Ye)*Ee,se[14]=(pe+bt)*Me,se[15]=1,se},ot=function(){var se=!1;return function(_e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(_e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(_e.substr(0,4)))&&(se=!0)}(navigator.userAgent||navigator.vendor||window.opera),se},it=function(se,_e){for(var Fe in _e)_e.hasOwnProperty(Fe)&&(se[Fe]=_e[Fe]);return se},ft=function(se){if(k()){var _e=se.style.width,Fe=se.style.height;se.style.width=parseInt(_e)+1+"px",se.style.height=parseInt(Fe)+"px",setTimeout(function(){se.style.width=_e,se.style.height=Fe},100)}window.canvas=se},xt=function(){var re=Math.PI/180,se=Math.PI*.25;function _e(Ee,Me,Pe,yt){var Ft=Math.tan(Me?Me.upDegrees*re:se),Zt=Math.tan(Me?Me.downDegrees*re:se),dn=Math.tan(Me?Me.leftDegrees*re:se),Bn=Math.tan(Me?Me.rightDegrees*re:se),ln=2/(dn+Bn),Wn=2/(Ft+Zt);return Ee[0]=ln,Ee[1]=0,Ee[2]=0,Ee[3]=0,Ee[4]=0,Ee[5]=Wn,Ee[6]=0,Ee[7]=0,Ee[8]=-((dn-Bn)*ln*.5),Ee[9]=(Ft-Zt)*Wn*.5,Ee[10]=yt/(Pe-yt),Ee[11]=-1,Ee[12]=0,Ee[13]=0,Ee[14]=yt*Pe/(Pe-yt),Ee[15]=0,Ee}function Fe(Ee,Me,Pe){var yt=Me[0],Ft=Me[1],Zt=Me[2],dn=Me[3],Bn=yt+yt,ln=Ft+Ft,Wn=Zt+Zt,pr=yt*Bn,$n=yt*ln,fn=yt*Wn,xn=Ft*ln,Yn=Ft*Wn,lr=Zt*Wn,mr=dn*Bn,Br=dn*ln,ni=dn*Wn;return Ee[0]=1-(xn+lr),Ee[1]=$n+ni,Ee[2]=fn-Br,Ee[3]=0,Ee[4]=$n-ni,Ee[5]=1-(pr+lr),Ee[6]=Yn+mr,Ee[7]=0,Ee[8]=fn+Br,Ee[9]=Yn-mr,Ee[10]=1-(pr+xn),Ee[11]=0,Ee[12]=Pe[0],Ee[13]=Pe[1],Ee[14]=Pe[2],Ee[15]=1,Ee}function Ye(Ee,Me,Pe){var yt=Pe[0],Ft=Pe[1],Zt=Pe[2],dn,Bn,ln,Wn,pr,$n,fn,xn,Yn,lr,mr,Br;return Me===Ee?(Ee[12]=Me[0]*yt+Me[4]*Ft+Me[8]*Zt+Me[12],Ee[13]=Me[1]*yt+Me[5]*Ft+Me[9]*Zt+Me[13],Ee[14]=Me[2]*yt+Me[6]*Ft+Me[10]*Zt+Me[14],Ee[15]=Me[3]*yt+Me[7]*Ft+Me[11]*Zt+Me[15]):(dn=Me[0],Bn=Me[1],ln=Me[2],Wn=Me[3],pr=Me[4],$n=Me[5],fn=Me[6],xn=Me[7],Yn=Me[8],lr=Me[9],mr=Me[10],Br=Me[11],Ee[0]=dn,Ee[1]=Bn,Ee[2]=ln,Ee[3]=Wn,Ee[4]=pr,Ee[5]=$n,Ee[6]=fn,Ee[7]=xn,Ee[8]=Yn,Ee[9]=lr,Ee[10]=mr,Ee[11]=Br,Ee[12]=dn*yt+pr*Ft+Yn*Zt+Me[12],Ee[13]=Bn*yt+$n*Ft+lr*Zt+Me[13],Ee[14]=ln*yt+fn*Ft+mr*Zt+Me[14],Ee[15]=Wn*yt+xn*Ft+Br*Zt+Me[15]),Ee}function at(Ee,Me){var Pe=Me[0],yt=Me[1],Ft=Me[2],Zt=Me[3],dn=Me[4],Bn=Me[5],ln=Me[6],Wn=Me[7],pr=Me[8],$n=Me[9],fn=Me[10],xn=Me[11],Yn=Me[12],lr=Me[13],mr=Me[14],Br=Me[15],ni=Pe*Bn-yt*dn,Kr=Pe*ln-Ft*dn,Ii=Pe*Wn-Zt*dn,Gr=yt*ln-Ft*Bn,ps=yt*Wn-Zt*Bn,ts=Ft*Wn-Zt*ln,hl=pr*lr-$n*Yn,_c=pr*mr-fn*Yn,Mc=pr*Br-xn*Yn,Tc=$n*mr-fn*lr,Rc=$n*Br-xn*lr,Ic=fn*Br-xn*mr,co=ni*Ic-Kr*Rc+Ii*Tc+Gr*Mc-ps*_c+ts*hl;return co?(co=1/co,Ee[0]=(Bn*Ic-ln*Rc+Wn*Tc)*co,Ee[1]=(Ft*Rc-yt*Ic-Zt*Tc)*co,Ee[2]=(lr*ts-mr*ps+Br*Gr)*co,Ee[3]=(fn*ps-$n*ts-xn*Gr)*co,Ee[4]=(ln*Mc-dn*Ic-Wn*_c)*co,Ee[5]=(Pe*Ic-Ft*Mc+Zt*_c)*co,Ee[6]=(mr*Ii-Yn*ts-Br*Kr)*co,Ee[7]=(pr*ts-fn*Ii+xn*Kr)*co,Ee[8]=(dn*Rc-Bn*Mc+Wn*hl)*co,Ee[9]=(yt*Mc-Pe*Rc-Zt*hl)*co,Ee[10]=(Yn*ps-lr*Ii+Br*ni)*co,Ee[11]=($n*Ii-pr*ps-xn*ni)*co,Ee[12]=(Bn*_c-dn*Tc-ln*hl)*co,Ee[13]=(Pe*Tc-yt*_c+Ft*hl)*co,Ee[14]=(lr*Kr-Yn*Gr-mr*ni)*co,Ee[15]=(pr*Gr-$n*Kr+fn*ni)*co,Ee):null}var bt=new Float32Array([0,0,0,1]),pe=new Float32Array([0,0,0]);function ye(Ee,Me,Pe,yt,Ft,Zt){_e(Ee,yt||null,Zt.depthNear,Zt.depthFar);var dn=Pe.orientation||bt,Bn=Pe.position||pe;Fe(Me,dn,Bn),Ft&&Ye(Me,Me,Ft),at(Me,Me)}return function(Ee,Me,Pe){return!Ee||!Me?!1:(Ee.pose=Me,Ee.timestamp=Me.timestamp,ye(Ee.leftProjectionMatrix,Ee.leftViewMatrix,Me,Pe._getFieldOfView("left"),Pe._getEyeOffset("left"),Pe),ye(Ee.rightProjectionMatrix,Ee.rightViewMatrix,Me,Pe._getFieldOfView("right"),Pe._getEyeOffset("right"),Pe),!0)}}(),At=function(){var se=window.self!==window.top,_e=Ct(document.referrer),Fe=Ct(window.location.href);return se&&_e!==Fe},Ct=function(se){var _e,Fe=se.indexOf("://");Fe!==-1?_e=Fe+3:_e=0;var Ye=se.indexOf("/",_e);return Ye===-1&&(Ye=se.length),se.substring(0,Ye)},Tt=function(se){if(se.w>1)return console.warn("getQuaternionAngle: w > 1"),0;var _e=2*Math.acos(se.w);return _e},Dt=function(){var re={};return function(se,_e){re[se]===void 0&&(console.warn("webvr-polyfill: "+_e),re[se]=!0)}}(),Yt=function(se,_e){var Fe=_e?"Please use "+_e+" instead.":"";Dt(se,se+" has been deprecated. This may not work on native WebVR displays. "+Fe)};function Ve(re,se,_e){if(!se){_e(re);return}for(var Fe=[],Ye=null,at=0;at<se.length;++at){var bt=se[at];switch(bt){case re.TEXTURE_BINDING_2D:case re.TEXTURE_BINDING_CUBE_MAP:var pe=se[++at];if(pe<re.TEXTURE0||pe>re.TEXTURE31){console.error("TEXTURE_BINDING_2D or TEXTURE_BINDING_CUBE_MAP must be followed by a valid texture unit"),Fe.push(null,null);break}Ye||(Ye=re.getParameter(re.ACTIVE_TEXTURE)),re.activeTexture(pe),Fe.push(re.getParameter(bt),null);break;case re.ACTIVE_TEXTURE:Ye=re.getParameter(re.ACTIVE_TEXTURE),Fe.push(null);break;default:Fe.push(re.getParameter(bt));break}}_e(re);for(var at=0;at<se.length;++at){var bt=se[at],ye=Fe[at];switch(bt){case re.ACTIVE_TEXTURE:break;case re.ARRAY_BUFFER_BINDING:re.bindBuffer(re.ARRAY_BUFFER,ye);break;case re.COLOR_CLEAR_VALUE:re.clearColor(ye[0],ye[1],ye[2],ye[3]);break;case re.COLOR_WRITEMASK:re.colorMask(ye[0],ye[1],ye[2],ye[3]);break;case re.CURRENT_PROGRAM:re.useProgram(ye);break;case re.ELEMENT_ARRAY_BUFFER_BINDING:re.bindBuffer(re.ELEMENT_ARRAY_BUFFER,ye);break;case re.FRAMEBUFFER_BINDING:re.bindFramebuffer(re.FRAMEBUFFER,ye);break;case re.RENDERBUFFER_BINDING:re.bindRenderbuffer(re.RENDERBUFFER,ye);break;case re.TEXTURE_BINDING_2D:var pe=se[++at];if(pe<re.TEXTURE0||pe>re.TEXTURE31)break;re.activeTexture(pe),re.bindTexture(re.TEXTURE_2D,ye);break;case re.TEXTURE_BINDING_CUBE_MAP:var pe=se[++at];if(pe<re.TEXTURE0||pe>re.TEXTURE31)break;re.activeTexture(pe),re.bindTexture(re.TEXTURE_CUBE_MAP,ye);break;case re.VIEWPORT:re.viewport(ye[0],ye[1],ye[2],ye[3]);break;case re.BLEND:case re.CULL_FACE:case re.DEPTH_TEST:case re.SCISSOR_TEST:case re.STENCIL_TEST:ye?re.enable(bt):re.disable(bt);break;default:console.log("No GL restore behavior for 0x"+bt.toString(16));break}Ye&&re.activeTexture(Ye)}}var be=Ve,fe=["attribute vec2 position;","attribute vec3 texCoord;","varying vec2 vTexCoord;","uniform vec4 viewportOffsetScale[2];","void main() {","  vec4 viewport = viewportOffsetScale[int(texCoord.z)];","  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;","  gl_Position = vec4( position, 1.0, 1.0 );","}"].join(`
`),me=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join(`
`);function Te(re,se,_e,Fe){this.gl=re,this.cardboardUI=se,this.bufferScale=_e,this.dirtySubmitFrameBindings=Fe,this.ctxAttribs=re.getContextAttributes(),this.instanceExt=re.getExtension("ANGLE_instanced_arrays"),this.meshWidth=20,this.meshHeight=20,this.bufferWidth=re.drawingBufferWidth,this.bufferHeight=re.drawingBufferHeight,this.realBindFramebuffer=re.bindFramebuffer,this.realEnable=re.enable,this.realDisable=re.disable,this.realColorMask=re.colorMask,this.realClearColor=re.clearColor,this.realViewport=re.viewport,k()||(this.realCanvasWidth=Object.getOwnPropertyDescriptor(re.canvas.__proto__,"width"),this.realCanvasHeight=Object.getOwnPropertyDescriptor(re.canvas.__proto__,"height")),this.isPatched=!1,this.lastBoundFramebuffer=null,this.cullFace=!1,this.depthTest=!1,this.blend=!1,this.scissorTest=!1,this.stencilTest=!1,this.viewport=[0,0,0,0],this.colorMask=[!0,!0,!0,!0],this.clearColor=[0,0,0,0],this.attribs={position:0,texCoord:1},this.program=Xe(re,fe,me,this.attribs),this.uniforms=ke(re,this.program),this.viewportOffsetScale=new Float32Array(8),this.setTextureBounds(),this.vertexBuffer=re.createBuffer(),this.indexBuffer=re.createBuffer(),this.indexCount=0,this.renderTarget=re.createTexture(),this.framebuffer=re.createFramebuffer(),this.depthStencilBuffer=null,this.depthBuffer=null,this.stencilBuffer=null,this.ctxAttribs.depth&&this.ctxAttribs.stencil?this.depthStencilBuffer=re.createRenderbuffer():this.ctxAttribs.depth?this.depthBuffer=re.createRenderbuffer():this.ctxAttribs.stencil&&(this.stencilBuffer=re.createRenderbuffer()),this.patch(),this.onResize()}Te.prototype.destroy=function(){var re=this.gl;this.unpatch(),re.deleteProgram(this.program),re.deleteBuffer(this.vertexBuffer),re.deleteBuffer(this.indexBuffer),re.deleteTexture(this.renderTarget),re.deleteFramebuffer(this.framebuffer),this.depthStencilBuffer&&re.deleteRenderbuffer(this.depthStencilBuffer),this.depthBuffer&&re.deleteRenderbuffer(this.depthBuffer),this.stencilBuffer&&re.deleteRenderbuffer(this.stencilBuffer),this.cardboardUI&&this.cardboardUI.destroy()},Te.prototype.onResize=function(){var re=this.gl,se=this,_e=[re.RENDERBUFFER_BINDING,re.TEXTURE_BINDING_2D,re.TEXTURE0];be(re,_e,function(Fe){se.realBindFramebuffer.call(Fe,Fe.FRAMEBUFFER,null),se.scissorTest&&se.realDisable.call(Fe,Fe.SCISSOR_TEST),se.realColorMask.call(Fe,!0,!0,!0,!0),se.realViewport.call(Fe,0,0,Fe.drawingBufferWidth,Fe.drawingBufferHeight),se.realClearColor.call(Fe,0,0,0,1),Fe.clear(Fe.COLOR_BUFFER_BIT),se.realBindFramebuffer.call(Fe,Fe.FRAMEBUFFER,se.framebuffer),Fe.bindTexture(Fe.TEXTURE_2D,se.renderTarget),Fe.texImage2D(Fe.TEXTURE_2D,0,se.ctxAttribs.alpha?Fe.RGBA:Fe.RGB,se.bufferWidth,se.bufferHeight,0,se.ctxAttribs.alpha?Fe.RGBA:Fe.RGB,Fe.UNSIGNED_BYTE,null),Fe.texParameteri(Fe.TEXTURE_2D,Fe.TEXTURE_MAG_FILTER,Fe.LINEAR),Fe.texParameteri(Fe.TEXTURE_2D,Fe.TEXTURE_MIN_FILTER,Fe.LINEAR),Fe.texParameteri(Fe.TEXTURE_2D,Fe.TEXTURE_WRAP_S,Fe.CLAMP_TO_EDGE),Fe.texParameteri(Fe.TEXTURE_2D,Fe.TEXTURE_WRAP_T,Fe.CLAMP_TO_EDGE),Fe.framebufferTexture2D(Fe.FRAMEBUFFER,Fe.COLOR_ATTACHMENT0,Fe.TEXTURE_2D,se.renderTarget,0),se.ctxAttribs.depth&&se.ctxAttribs.stencil?(Fe.bindRenderbuffer(Fe.RENDERBUFFER,se.depthStencilBuffer),Fe.renderbufferStorage(Fe.RENDERBUFFER,Fe.DEPTH_STENCIL,se.bufferWidth,se.bufferHeight),Fe.framebufferRenderbuffer(Fe.FRAMEBUFFER,Fe.DEPTH_STENCIL_ATTACHMENT,Fe.RENDERBUFFER,se.depthStencilBuffer)):se.ctxAttribs.depth?(Fe.bindRenderbuffer(Fe.RENDERBUFFER,se.depthBuffer),Fe.renderbufferStorage(Fe.RENDERBUFFER,Fe.DEPTH_COMPONENT16,se.bufferWidth,se.bufferHeight),Fe.framebufferRenderbuffer(Fe.FRAMEBUFFER,Fe.DEPTH_ATTACHMENT,Fe.RENDERBUFFER,se.depthBuffer)):se.ctxAttribs.stencil&&(Fe.bindRenderbuffer(Fe.RENDERBUFFER,se.stencilBuffer),Fe.renderbufferStorage(Fe.RENDERBUFFER,Fe.STENCIL_INDEX8,se.bufferWidth,se.bufferHeight),Fe.framebufferRenderbuffer(Fe.FRAMEBUFFER,Fe.STENCIL_ATTACHMENT,Fe.RENDERBUFFER,se.stencilBuffer)),!Fe.checkFramebufferStatus(Fe.FRAMEBUFFER)===Fe.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer incomplete!"),se.realBindFramebuffer.call(Fe,Fe.FRAMEBUFFER,se.lastBoundFramebuffer),se.scissorTest&&se.realEnable.call(Fe,Fe.SCISSOR_TEST),se.realColorMask.apply(Fe,se.colorMask),se.realViewport.apply(Fe,se.viewport),se.realClearColor.apply(Fe,se.clearColor)}),this.cardboardUI&&this.cardboardUI.onResize()},Te.prototype.patch=function(){if(!this.isPatched){var re=this,se=this.gl.canvas,_e=this.gl;k()||(se.width=Be()*this.bufferScale,se.height=ge()*this.bufferScale,Object.defineProperty(se,"width",{configurable:!0,enumerable:!0,get:function(){return re.bufferWidth},set:function(Ye){re.bufferWidth=Ye,re.realCanvasWidth.set.call(se,Ye),re.onResize()}}),Object.defineProperty(se,"height",{configurable:!0,enumerable:!0,get:function(){return re.bufferHeight},set:function(Ye){re.bufferHeight=Ye,re.realCanvasHeight.set.call(se,Ye),re.onResize()}})),this.lastBoundFramebuffer=_e.getParameter(_e.FRAMEBUFFER_BINDING),this.lastBoundFramebuffer==null&&(this.lastBoundFramebuffer=this.framebuffer,this.gl.bindFramebuffer(_e.FRAMEBUFFER,this.framebuffer)),this.gl.bindFramebuffer=function(Fe,Ye){re.lastBoundFramebuffer=Ye||re.framebuffer,re.realBindFramebuffer.call(_e,Fe,re.lastBoundFramebuffer)},this.cullFace=_e.getParameter(_e.CULL_FACE),this.depthTest=_e.getParameter(_e.DEPTH_TEST),this.blend=_e.getParameter(_e.BLEND),this.scissorTest=_e.getParameter(_e.SCISSOR_TEST),this.stencilTest=_e.getParameter(_e.STENCIL_TEST),_e.enable=function(Fe){switch(Fe){case _e.CULL_FACE:re.cullFace=!0;break;case _e.DEPTH_TEST:re.depthTest=!0;break;case _e.BLEND:re.blend=!0;break;case _e.SCISSOR_TEST:re.scissorTest=!0;break;case _e.STENCIL_TEST:re.stencilTest=!0;break}re.realEnable.call(_e,Fe)},_e.disable=function(Fe){switch(Fe){case _e.CULL_FACE:re.cullFace=!1;break;case _e.DEPTH_TEST:re.depthTest=!1;break;case _e.BLEND:re.blend=!1;break;case _e.SCISSOR_TEST:re.scissorTest=!1;break;case _e.STENCIL_TEST:re.stencilTest=!1;break}re.realDisable.call(_e,Fe)},this.colorMask=_e.getParameter(_e.COLOR_WRITEMASK),_e.colorMask=function(Fe,Ye,at,bt){re.colorMask[0]=Fe,re.colorMask[1]=Ye,re.colorMask[2]=at,re.colorMask[3]=bt,re.realColorMask.call(_e,Fe,Ye,at,bt)},this.clearColor=_e.getParameter(_e.COLOR_CLEAR_VALUE),_e.clearColor=function(Fe,Ye,at,bt){re.clearColor[0]=Fe,re.clearColor[1]=Ye,re.clearColor[2]=at,re.clearColor[3]=bt,re.realClearColor.call(_e,Fe,Ye,at,bt)},this.viewport=_e.getParameter(_e.VIEWPORT),_e.viewport=function(Fe,Ye,at,bt){re.viewport[0]=Fe,re.viewport[1]=Ye,re.viewport[2]=at,re.viewport[3]=bt,re.realViewport.call(_e,Fe,Ye,at,bt)},this.isPatched=!0,ft(se)}},Te.prototype.unpatch=function(){if(this.isPatched){var re=this.gl,se=this.gl.canvas;k()||(Object.defineProperty(se,"width",this.realCanvasWidth),Object.defineProperty(se,"height",this.realCanvasHeight)),se.width=this.bufferWidth,se.height=this.bufferHeight,re.bindFramebuffer=this.realBindFramebuffer,re.enable=this.realEnable,re.disable=this.realDisable,re.colorMask=this.realColorMask,re.clearColor=this.realClearColor,re.viewport=this.realViewport,this.lastBoundFramebuffer==this.framebuffer&&re.bindFramebuffer(re.FRAMEBUFFER,null),this.isPatched=!1,setTimeout(function(){ft(se)},1)}},Te.prototype.setTextureBounds=function(re,se){re||(re=[0,0,.5,1]),se||(se=[.5,0,.5,1]),this.viewportOffsetScale[0]=re[0],this.viewportOffsetScale[1]=re[1],this.viewportOffsetScale[2]=re[2],this.viewportOffsetScale[3]=re[3],this.viewportOffsetScale[4]=se[0],this.viewportOffsetScale[5]=se[1],this.viewportOffsetScale[6]=se[2],this.viewportOffsetScale[7]=se[3]},Te.prototype.submitFrame=function(){var re=this.gl,se=this,_e=[];if(this.dirtySubmitFrameBindings||_e.push(re.CURRENT_PROGRAM,re.ARRAY_BUFFER_BINDING,re.ELEMENT_ARRAY_BUFFER_BINDING,re.TEXTURE_BINDING_2D,re.TEXTURE0),be(re,_e,function(Ye){se.realBindFramebuffer.call(Ye,Ye.FRAMEBUFFER,null);var at=0,bt=0;se.instanceExt&&(at=Ye.getVertexAttrib(se.attribs.position,se.instanceExt.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE),bt=Ye.getVertexAttrib(se.attribs.texCoord,se.instanceExt.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE)),se.cullFace&&se.realDisable.call(Ye,Ye.CULL_FACE),se.depthTest&&se.realDisable.call(Ye,Ye.DEPTH_TEST),se.blend&&se.realDisable.call(Ye,Ye.BLEND),se.scissorTest&&se.realDisable.call(Ye,Ye.SCISSOR_TEST),se.stencilTest&&se.realDisable.call(Ye,Ye.STENCIL_TEST),se.realColorMask.call(Ye,!0,!0,!0,!0),se.realViewport.call(Ye,0,0,Ye.drawingBufferWidth,Ye.drawingBufferHeight),(se.ctxAttribs.alpha||k())&&(se.realClearColor.call(Ye,0,0,0,1),Ye.clear(Ye.COLOR_BUFFER_BIT)),Ye.useProgram(se.program),Ye.bindBuffer(Ye.ELEMENT_ARRAY_BUFFER,se.indexBuffer),Ye.bindBuffer(Ye.ARRAY_BUFFER,se.vertexBuffer),Ye.enableVertexAttribArray(se.attribs.position),Ye.enableVertexAttribArray(se.attribs.texCoord),Ye.vertexAttribPointer(se.attribs.position,2,Ye.FLOAT,!1,20,0),Ye.vertexAttribPointer(se.attribs.texCoord,3,Ye.FLOAT,!1,20,8),se.instanceExt&&(at!=0&&se.instanceExt.vertexAttribDivisorANGLE(se.attribs.position,0),bt!=0&&se.instanceExt.vertexAttribDivisorANGLE(se.attribs.texCoord,0)),Ye.activeTexture(Ye.TEXTURE0),Ye.uniform1i(se.uniforms.diffuse,0),Ye.bindTexture(Ye.TEXTURE_2D,se.renderTarget),Ye.uniform4fv(se.uniforms.viewportOffsetScale,se.viewportOffsetScale),Ye.drawElements(Ye.TRIANGLES,se.indexCount,Ye.UNSIGNED_SHORT,0),se.cardboardUI&&se.cardboardUI.renderNoState(),se.realBindFramebuffer.call(se.gl,Ye.FRAMEBUFFER,se.framebuffer),se.ctxAttribs.preserveDrawingBuffer||(se.realClearColor.call(Ye,0,0,0,0),Ye.clear(Ye.COLOR_BUFFER_BIT)),se.dirtySubmitFrameBindings||se.realBindFramebuffer.call(Ye,Ye.FRAMEBUFFER,se.lastBoundFramebuffer),se.cullFace&&se.realEnable.call(Ye,Ye.CULL_FACE),se.depthTest&&se.realEnable.call(Ye,Ye.DEPTH_TEST),se.blend&&se.realEnable.call(Ye,Ye.BLEND),se.scissorTest&&se.realEnable.call(Ye,Ye.SCISSOR_TEST),se.stencilTest&&se.realEnable.call(Ye,Ye.STENCIL_TEST),se.realColorMask.apply(Ye,se.colorMask),se.realViewport.apply(Ye,se.viewport),(se.ctxAttribs.alpha||!se.ctxAttribs.preserveDrawingBuffer)&&se.realClearColor.apply(Ye,se.clearColor),se.instanceExt&&(at!=0&&se.instanceExt.vertexAttribDivisorANGLE(se.attribs.position,at),bt!=0&&se.instanceExt.vertexAttribDivisorANGLE(se.attribs.texCoord,bt))}),k()){var Fe=re.canvas;(Fe.width!=se.bufferWidth||Fe.height!=se.bufferHeight)&&(se.bufferWidth=Fe.width,se.bufferHeight=Fe.height,se.onResize())}},Te.prototype.updateDeviceInfo=function(re){var se=this.gl,_e=this,Fe=[se.ARRAY_BUFFER_BINDING,se.ELEMENT_ARRAY_BUFFER_BINDING];be(se,Fe,function(Ye){var at=_e.computeMeshVertices_(_e.meshWidth,_e.meshHeight,re);if(Ye.bindBuffer(Ye.ARRAY_BUFFER,_e.vertexBuffer),Ye.bufferData(Ye.ARRAY_BUFFER,at,Ye.STATIC_DRAW),!_e.indexCount){var bt=_e.computeMeshIndices_(_e.meshWidth,_e.meshHeight);Ye.bindBuffer(Ye.ELEMENT_ARRAY_BUFFER,_e.indexBuffer),Ye.bufferData(Ye.ELEMENT_ARRAY_BUFFER,bt,Ye.STATIC_DRAW),_e.indexCount=bt.length}})},Te.prototype.computeMeshVertices_=function(re,se,_e){for(var Fe=new Float32Array(2*re*se*5),Ye=_e.getLeftEyeVisibleTanAngles(),at=_e.getLeftEyeNoLensTanAngles(),bt=_e.getLeftEyeVisibleScreenRect(at),pe=0,ye=0;ye<2;ye++){for(var Ee=0;Ee<se;Ee++)for(var Me=0;Me<re;Me++,pe++){var Pe=Me/(re-1),yt=Ee/(se-1),Ft=Pe,Zt=yt,dn=F(Ye[0],Ye[2],Pe),Bn=F(Ye[3],Ye[1],yt),ln=Math.sqrt(dn*dn+Bn*Bn),Wn=_e.distortion.distortInverse(ln),pr=dn*Wn/ln,$n=Bn*Wn/ln;Pe=(pr-at[0])/(at[2]-at[0]),yt=($n-at[3])/(at[1]-at[3]),Pe=(bt.x+Pe*bt.width-.5)*2,yt=(bt.y+yt*bt.height-.5)*2,Fe[pe*5+0]=Pe,Fe[pe*5+1]=yt,Fe[pe*5+2]=Ft,Fe[pe*5+3]=Zt,Fe[pe*5+4]=ye}var fn=Ye[2]-Ye[0];Ye[0]=-(fn+Ye[0]),Ye[2]=fn-Ye[2],fn=at[2]-at[0],at[0]=-(fn+at[0]),at[2]=fn-at[2],bt.x=1-(bt.x+bt.width)}return Fe},Te.prototype.computeMeshIndices_=function(re,se){for(var _e=new Uint16Array(2*(re-1)*(se-1)*6),Fe=re/2,Ye=se/2,at=0,bt=0,pe=0;pe<2;pe++)for(var ye=0;ye<se;ye++)for(var Ee=0;Ee<re;Ee++,at++)Ee==0||ye==0||(Ee<=Fe==ye<=Ye?(_e[bt++]=at,_e[bt++]=at-re-1,_e[bt++]=at-re,_e[bt++]=at-re-1,_e[bt++]=at,_e[bt++]=at-1):(_e[bt++]=at-1,_e[bt++]=at-re,_e[bt++]=at,_e[bt++]=at-re,_e[bt++]=at-1,_e[bt++]=at-re-1));return _e},Te.prototype.getOwnPropertyDescriptor_=function(re,se){var _e=Object.getOwnPropertyDescriptor(re,se);return(_e.get===void 0||_e.set===void 0)&&(_e.configurable=!0,_e.enumerable=!0,_e.get=function(){return this.getAttribute(se)},_e.set=function(Fe){this.setAttribute(se,Fe)}),_e};var Ce=["attribute vec2 position;","uniform mat4 projectionMat;","void main() {","  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );","}"].join(`
`),Se=["precision mediump float;","uniform vec4 color;","void main() {","  gl_FragColor = color;","}"].join(`
`),we=Math.PI/180,Ge=60,Ae=12,Ue=20,et=1,ce=.75,Y=.3125,ne=4,Le=28,We=1.5;function ve(re){this.gl=re,this.attribs={position:0},this.program=Xe(re,Ce,Se,this.attribs),this.uniforms=ke(re,this.program),this.vertexBuffer=re.createBuffer(),this.gearOffset=0,this.gearVertexCount=0,this.arrowOffset=0,this.arrowVertexCount=0,this.projMat=new Float32Array(16),this.listener=null,this.onResize()}ve.prototype.destroy=function(){var re=this.gl;this.listener&&re.canvas.removeEventListener("click",this.listener,!1),re.deleteProgram(this.program),re.deleteBuffer(this.vertexBuffer)},ve.prototype.listen=function(re,se){var _e=this.gl.canvas;this.listener=function(Fe){var Ye=_e.clientWidth/2,at=Le*We;Fe.clientX>Ye-at&&Fe.clientX<Ye+at&&Fe.clientY>_e.clientHeight-at?re(Fe):Fe.clientX<at&&Fe.clientY<at&&se(Fe)},_e.addEventListener("click",this.listener,!1)},ve.prototype.onResize=function(){var re=this.gl,se=this,_e=[re.ARRAY_BUFFER_BINDING];be(re,_e,function(Fe){var Ye=[],at=Fe.drawingBufferWidth/2,bt=Math.max(screen.width,screen.height)*window.devicePixelRatio,pe=Fe.drawingBufferWidth/bt,ye=pe*window.devicePixelRatio,Ee=ne*ye/2,Me=Le*We*ye,Pe=Le*ye/2,yt=(Le*We-Le)*ye;Ye.push(at-Ee,Me),Ye.push(at-Ee,Fe.drawingBufferHeight),Ye.push(at+Ee,Me),Ye.push(at+Ee,Fe.drawingBufferHeight),se.gearOffset=Ye.length/2;function Ft(Wn,pr){var $n=(90-Wn)*we,fn=Math.cos($n),xn=Math.sin($n);Ye.push(Y*fn*Pe+at,Y*xn*Pe+Pe),Ye.push(pr*fn*Pe+at,pr*xn*Pe+Pe)}for(var Zt=0;Zt<=6;Zt++){var dn=Zt*Ge;Ft(dn,et),Ft(dn+Ae,et),Ft(dn+Ue,ce),Ft(dn+(Ge-Ue),ce),Ft(dn+(Ge-Ae),et)}se.gearVertexCount=Ye.length/2-se.gearOffset,se.arrowOffset=Ye.length/2;function Bn(Wn,pr){Ye.push(yt+Wn,Fe.drawingBufferHeight-yt-pr)}var ln=Ee/Math.sin(45*we);Bn(0,Pe),Bn(Pe,0),Bn(Pe+ln,ln),Bn(ln,Pe+ln),Bn(ln,Pe-ln),Bn(0,Pe),Bn(Pe,Pe*2),Bn(Pe+ln,Pe*2-ln),Bn(ln,Pe-ln),Bn(0,Pe),Bn(ln,Pe-Ee),Bn(Le*ye,Pe-Ee),Bn(ln,Pe+Ee),Bn(Le*ye,Pe+Ee),se.arrowVertexCount=Ye.length/2-se.arrowOffset,Fe.bindBuffer(Fe.ARRAY_BUFFER,se.vertexBuffer),Fe.bufferData(Fe.ARRAY_BUFFER,new Float32Array(Ye),Fe.STATIC_DRAW)})},ve.prototype.render=function(){var re=this.gl,se=this,_e=[re.CULL_FACE,re.DEPTH_TEST,re.BLEND,re.SCISSOR_TEST,re.STENCIL_TEST,re.COLOR_WRITEMASK,re.VIEWPORT,re.CURRENT_PROGRAM,re.ARRAY_BUFFER_BINDING];be(re,_e,function(Fe){Fe.disable(Fe.CULL_FACE),Fe.disable(Fe.DEPTH_TEST),Fe.disable(Fe.BLEND),Fe.disable(Fe.SCISSOR_TEST),Fe.disable(Fe.STENCIL_TEST),Fe.colorMask(!0,!0,!0,!0),Fe.viewport(0,0,Fe.drawingBufferWidth,Fe.drawingBufferHeight),se.renderNoState()})},ve.prototype.renderNoState=function(){var re=this.gl;re.useProgram(this.program),re.bindBuffer(re.ARRAY_BUFFER,this.vertexBuffer),re.enableVertexAttribArray(this.attribs.position),re.vertexAttribPointer(this.attribs.position,2,re.FLOAT,!1,8,0),re.uniform4f(this.uniforms.color,1,1,1,1),lt(this.projMat,0,re.drawingBufferWidth,0,re.drawingBufferHeight,.1,1024),re.uniformMatrix4fv(this.uniforms.projectionMat,!1,this.projMat),re.drawArrays(re.TRIANGLE_STRIP,0,4),re.drawArrays(re.TRIANGLE_STRIP,this.gearOffset,this.gearVertexCount),re.drawArrays(re.TRIANGLE_STRIP,this.arrowOffset,this.arrowVertexCount)};function he(re){this.coefficients=re}he.prototype.distortInverse=function(re){for(var se=0,_e=1,Fe=re-this.distort(se);Math.abs(_e-se)>1e-4;){var Ye=re-this.distort(_e),at=_e-Ye*((_e-se)/(Ye-Fe));se=_e,_e=at,Fe=Ye}return _e},he.prototype.distort=function(re){for(var se=re*re,_e=0,Fe=0;Fe<this.coefficients.length;Fe++)_e=se*(_e+this.coefficients[Fe]);return(_e+1)*re};var qe=Math.PI/180,Je=180/Math.PI,Qe=function(se,_e,Fe){this.x=se||0,this.y=_e||0,this.z=Fe||0};Qe.prototype={constructor:Qe,set:function(se,_e,Fe){return this.x=se,this.y=_e,this.z=Fe,this},copy:function(se){return this.x=se.x,this.y=se.y,this.z=se.z,this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var se=this.length();if(se!==0){var _e=1/se;this.multiplyScalar(_e)}else this.x=0,this.y=0,this.z=0;return this},multiplyScalar:function(se){this.x*=se,this.y*=se,this.z*=se},applyQuaternion:function(se){var _e=this.x,Fe=this.y,Ye=this.z,at=se.x,bt=se.y,pe=se.z,ye=se.w,Ee=ye*_e+bt*Ye-pe*Fe,Me=ye*Fe+pe*_e-at*Ye,Pe=ye*Ye+at*Fe-bt*_e,yt=-at*_e-bt*Fe-pe*Ye;return this.x=Ee*ye+yt*-at+Me*-pe-Pe*-bt,this.y=Me*ye+yt*-bt+Pe*-at-Ee*-pe,this.z=Pe*ye+yt*-pe+Ee*-bt-Me*-at,this},dot:function(se){return this.x*se.x+this.y*se.y+this.z*se.z},crossVectors:function(se,_e){var Fe=se.x,Ye=se.y,at=se.z,bt=_e.x,pe=_e.y,ye=_e.z;return this.x=Ye*ye-at*pe,this.y=at*bt-Fe*ye,this.z=Fe*pe-Ye*bt,this}};var nt=function(se,_e,Fe,Ye){this.x=se||0,this.y=_e||0,this.z=Fe||0,this.w=Ye!==void 0?Ye:1};nt.prototype={constructor:nt,set:function(se,_e,Fe,Ye){return this.x=se,this.y=_e,this.z=Fe,this.w=Ye,this},copy:function(se){return this.x=se.x,this.y=se.y,this.z=se.z,this.w=se.w,this},setFromEulerXYZ:function(se,_e,Fe){var Ye=Math.cos(se/2),at=Math.cos(_e/2),bt=Math.cos(Fe/2),pe=Math.sin(se/2),ye=Math.sin(_e/2),Ee=Math.sin(Fe/2);return this.x=pe*at*bt+Ye*ye*Ee,this.y=Ye*ye*bt-pe*at*Ee,this.z=Ye*at*Ee+pe*ye*bt,this.w=Ye*at*bt-pe*ye*Ee,this},setFromEulerYXZ:function(se,_e,Fe){var Ye=Math.cos(se/2),at=Math.cos(_e/2),bt=Math.cos(Fe/2),pe=Math.sin(se/2),ye=Math.sin(_e/2),Ee=Math.sin(Fe/2);return this.x=pe*at*bt+Ye*ye*Ee,this.y=Ye*ye*bt-pe*at*Ee,this.z=Ye*at*Ee-pe*ye*bt,this.w=Ye*at*bt+pe*ye*Ee,this},setFromAxisAngle:function(se,_e){var Fe=_e/2,Ye=Math.sin(Fe);return this.x=se.x*Ye,this.y=se.y*Ye,this.z=se.z*Ye,this.w=Math.cos(Fe),this},multiply:function(se){return this.multiplyQuaternions(this,se)},multiplyQuaternions:function(se,_e){var Fe=se.x,Ye=se.y,at=se.z,bt=se.w,pe=_e.x,ye=_e.y,Ee=_e.z,Me=_e.w;return this.x=Fe*Me+bt*pe+Ye*Ee-at*ye,this.y=Ye*Me+bt*ye+at*pe-Fe*Ee,this.z=at*Me+bt*Ee+Fe*ye-Ye*pe,this.w=bt*Me-Fe*pe-Ye*ye-at*Ee,this},inverse:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.normalize(),this},normalize:function(){var se=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return se===0?(this.x=0,this.y=0,this.z=0,this.w=1):(se=1/se,this.x=this.x*se,this.y=this.y*se,this.z=this.z*se,this.w=this.w*se),this},slerp:function(se,_e){if(_e===0)return this;if(_e===1)return this.copy(se);var Fe=this.x,Ye=this.y,at=this.z,bt=this.w,pe=bt*se.w+Fe*se.x+Ye*se.y+at*se.z;if(pe<0?(this.w=-se.w,this.x=-se.x,this.y=-se.y,this.z=-se.z,pe=-pe):this.copy(se),pe>=1)return this.w=bt,this.x=Fe,this.y=Ye,this.z=at,this;var ye=Math.acos(pe),Ee=Math.sqrt(1-pe*pe);if(Math.abs(Ee)<.001)return this.w=.5*(bt+this.w),this.x=.5*(Fe+this.x),this.y=.5*(Ye+this.y),this.z=.5*(at+this.z),this;var Me=Math.sin((1-_e)*ye)/Ee,Pe=Math.sin(_e*ye)/Ee;return this.w=bt*Me+this.w*Pe,this.x=Fe*Me+this.x*Pe,this.y=Ye*Me+this.y*Pe,this.z=at*Me+this.z*Pe,this},setFromUnitVectors:function(){var re,se,_e=1e-6;return function(Fe,Ye){return re===void 0&&(re=new Qe),se=Fe.dot(Ye)+1,se<_e?(se=0,Math.abs(Fe.x)>Math.abs(Fe.z)?re.set(-Fe.y,Fe.x,0):re.set(0,-Fe.z,Fe.y)):re.crossVectors(Fe,Ye),this.x=re.x,this.y=re.y,this.z=re.z,this.w=se,this.normalize(),this}}()};function It(re){this.width=re.width||Be(),this.height=re.height||ge(),this.widthMeters=re.widthMeters,this.heightMeters=re.heightMeters,this.bevelMeters=re.bevelMeters}var kt=new It({widthMeters:.11,heightMeters:.062,bevelMeters:.004}),Bt=new It({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004}),Gt={CardboardV1:new Pt({id:"CardboardV1",label:"Cardboard I/O 2014",fov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]}),CardboardV2:new Pt({id:"CardboardV2",label:"Cardboard I/O 2015",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]})};function Vt(re,se){this.viewer=Gt.CardboardV2,this.updateDeviceParams(re),this.distortion=new he(this.viewer.distortionCoefficients);for(var _e=0;_e<se.length;_e++){var Fe=se[_e];Gt[Fe.id]=new Pt(Fe)}}Vt.prototype.updateDeviceParams=function(re){this.device=this.determineDevice_(re)||this.device},Vt.prototype.getDevice=function(){return this.device},Vt.prototype.setViewer=function(re){this.viewer=re,this.distortion=new he(this.viewer.distortionCoefficients)},Vt.prototype.determineDevice_=function(re){if(!re)return k()?(console.warn("Using fallback iOS device measurements."),Bt):(console.warn("Using fallback Android device measurements."),kt);var se=.0254,_e=se/re.xdpi,Fe=se/re.ydpi,Ye=Be(),at=ge();return new It({widthMeters:_e*Ye,heightMeters:Fe*at,bevelMeters:re.bevelMm*.001})},Vt.prototype.getDistortedFieldOfViewLeftEye=function(){var re=this.viewer,se=this.device,_e=this.distortion,Fe=re.screenLensDistance,Ye=(se.widthMeters-re.interLensDistance)/2,at=re.interLensDistance/2,bt=re.baselineLensDistance-se.bevelMeters,pe=se.heightMeters-bt,ye=Je*Math.atan(_e.distort(Ye/Fe)),Ee=Je*Math.atan(_e.distort(at/Fe)),Me=Je*Math.atan(_e.distort(bt/Fe)),Pe=Je*Math.atan(_e.distort(pe/Fe));return{leftDegrees:Math.min(ye,re.fov),rightDegrees:Math.min(Ee,re.fov),downDegrees:Math.min(Me,re.fov),upDegrees:Math.min(Pe,re.fov)}},Vt.prototype.getLeftEyeVisibleTanAngles=function(){var re=this.viewer,se=this.device,_e=this.distortion,Fe=Math.tan(-qe*re.fov),Ye=Math.tan(qe*re.fov),at=Math.tan(qe*re.fov),bt=Math.tan(-qe*re.fov),pe=se.widthMeters/4,ye=se.heightMeters/2,Ee=re.baselineLensDistance-se.bevelMeters-ye,Me=re.interLensDistance/2-pe,Pe=-Ee,yt=re.screenLensDistance,Ft=_e.distort((Me-pe)/yt),Zt=_e.distort((Pe+ye)/yt),dn=_e.distort((Me+pe)/yt),Bn=_e.distort((Pe-ye)/yt),ln=new Float32Array(4);return ln[0]=Math.max(Fe,Ft),ln[1]=Math.min(Ye,Zt),ln[2]=Math.min(at,dn),ln[3]=Math.max(bt,Bn),ln},Vt.prototype.getLeftEyeNoLensTanAngles=function(){var re=this.viewer,se=this.device,_e=this.distortion,Fe=new Float32Array(4),Ye=_e.distortInverse(Math.tan(-qe*re.fov)),at=_e.distortInverse(Math.tan(qe*re.fov)),bt=_e.distortInverse(Math.tan(qe*re.fov)),pe=_e.distortInverse(Math.tan(-qe*re.fov)),ye=se.widthMeters/4,Ee=se.heightMeters/2,Me=re.baselineLensDistance-se.bevelMeters-Ee,Pe=re.interLensDistance/2-ye,yt=-Me,Ft=re.screenLensDistance,Zt=(Pe-ye)/Ft,dn=(yt+Ee)/Ft,Bn=(Pe+ye)/Ft,ln=(yt-Ee)/Ft;return Fe[0]=Math.max(Ye,Zt),Fe[1]=Math.min(at,dn),Fe[2]=Math.min(bt,Bn),Fe[3]=Math.max(pe,ln),Fe},Vt.prototype.getLeftEyeVisibleScreenRect=function(re){var se=this.viewer,_e=this.device,Fe=se.screenLensDistance,Ye=(_e.widthMeters-se.interLensDistance)/2,at=se.baselineLensDistance-_e.bevelMeters,bt=(re[0]*Fe+Ye)/_e.widthMeters,pe=(re[1]*Fe+at)/_e.heightMeters,ye=(re[2]*Fe+Ye)/_e.widthMeters,Ee=(re[3]*Fe+at)/_e.heightMeters;return{x:bt,y:Ee,width:ye-bt,height:pe-Ee}},Vt.prototype.getFieldOfViewLeftEye=function(re){return re?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()},Vt.prototype.getFieldOfViewRightEye=function(re){var se=this.getFieldOfViewLeftEye(re);return{leftDegrees:se.rightDegrees,rightDegrees:se.leftDegrees,upDegrees:se.upDegrees,downDegrees:se.downDegrees}},Vt.prototype.getUndistortedFieldOfViewLeftEye=function(){var re=this.getUndistortedParams_();return{leftDegrees:Je*Math.atan(re.outerDist),rightDegrees:Je*Math.atan(re.innerDist),downDegrees:Je*Math.atan(re.bottomDist),upDegrees:Je*Math.atan(re.topDist)}},Vt.prototype.getUndistortedViewportLeftEye=function(){var re=this.getUndistortedParams_(),se=this.viewer,_e=this.device,Fe=se.screenLensDistance,Ye=_e.widthMeters/Fe,at=_e.heightMeters/Fe,bt=_e.width/Ye,pe=_e.height/at,ye=Math.round((re.eyePosX-re.outerDist)*bt),Ee=Math.round((re.eyePosY-re.bottomDist)*pe);return{x:ye,y:Ee,width:Math.round((re.eyePosX+re.innerDist)*bt)-ye,height:Math.round((re.eyePosY+re.topDist)*pe)-Ee}},Vt.prototype.getUndistortedParams_=function(){var re=this.viewer,se=this.device,_e=this.distortion,Fe=re.screenLensDistance,Ye=re.interLensDistance/2/Fe,at=se.widthMeters/Fe,bt=se.heightMeters/Fe,pe=at/2-Ye,ye=(re.baselineLensDistance-se.bevelMeters)/Fe,Ee=re.fov,Me=_e.distortInverse(Math.tan(qe*Ee)),Pe=Math.min(pe,Me),yt=Math.min(Ye,Me),Ft=Math.min(ye,Me),Zt=Math.min(bt-ye,Me);return{outerDist:Pe,innerDist:yt,topDist:Zt,bottomDist:Ft,eyePosX:pe,eyePosY:ye}};function Pt(re){this.id=re.id,this.label=re.label,this.fov=re.fov,this.interLensDistance=re.interLensDistance,this.baselineLensDistance=re.baselineLensDistance,this.screenLensDistance=re.screenLensDistance,this.distortionCoefficients=re.distortionCoefficients,this.inverseCoefficients=re.inverseCoefficients}Vt.Viewers=Gt;var pt=1,Ot="2019-11-09T17:36:14Z",cn=[{type:"android",rules:[{mdmh:"asus/*/Nexus 7/*"},{ua:"Nexus 7"}],dpi:[320.8,323],bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_X00PD/*"},{ua:"ASUS_X00PD"}],dpi:245,bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_X008D/*"},{ua:"ASUS_X008D"}],dpi:282,bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_Z00AD/*"},{ua:"ASUS_Z00AD"}],dpi:[403,404.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 2 XL/*"},{ua:"Pixel 2 XL"}],dpi:537.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 3 XL/*"},{ua:"Pixel 3 XL"}],dpi:[558.5,553.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel XL/*"},{ua:"Pixel XL"}],dpi:[537.9,533],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 3/*"},{ua:"Pixel 3"}],dpi:442.4,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 2/*"},{ua:"Pixel 2"}],dpi:441,bw:3,ac:500},{type:"android",rules:[{mdmh:"Google/*/Pixel/*"},{ua:"Pixel"}],dpi:[432.6,436.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC6435LVW/*"},{ua:"HTC6435LVW"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC One XL/*"},{ua:"HTC One XL"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"htc/*/Nexus 9/*"},{ua:"Nexus 9"}],dpi:289,bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One M9/*"},{ua:"HTC One M9"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One_M8/*"},{ua:"HTC One_M8"}],dpi:[449.7,447.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One/*"},{ua:"HTC One"}],dpi:472.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/Nexus 6P/*"},{ua:"Nexus 6P"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/BLN-L24/*"},{ua:"HONORBLN-L24"}],dpi:480,bw:4,ac:500},{type:"android",rules:[{mdmh:"Huawei/*/BKL-L09/*"},{ua:"BKL-L09"}],dpi:403,bw:3.47,ac:500},{type:"android",rules:[{mdmh:"LENOVO/*/Lenovo PB2-690Y/*"},{ua:"Lenovo PB2-690Y"}],dpi:[457.2,454.713],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5X/*"},{ua:"Nexus 5X"}],dpi:[422,419.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS345/*"},{ua:"LGMS345"}],dpi:[221.7,219.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D800/*"},{ua:"LG-D800"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D850/*"},{ua:"LG-D850"}],dpi:[537.9,541.9],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/VS985 4G/*"},{ua:"VS985 4G"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5/*"},{ua:"Nexus 5 B"}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 4/*"},{ua:"Nexus 4"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LG-P769/*"},{ua:"LG-P769"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS323/*"},{ua:"LGMS323"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGLS996/*"},{ua:"LGLS996"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/4560MMX/*"},{ua:"4560MMX"}],dpi:[240,219.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/A250/*"},{ua:"Micromax A250"}],dpi:[480,446.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/Micromax AQ4501/*"},{ua:"Micromax AQ4501"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/G5/*"},{ua:"Moto G (5) Plus"}],dpi:[403.4,403],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/DROID RAZR/*"},{ua:"DROID RAZR"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT830C/*"},{ua:"XT830C"}],dpi:[254,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1021/*"},{ua:"XT1021"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1023/*"},{ua:"XT1023"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1028/*"},{ua:"XT1028"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1034/*"},{ua:"XT1034"}],dpi:[326.6,328.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1053/*"},{ua:"XT1053"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1562/*"},{ua:"XT1562"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/Nexus 6/*"},{ua:"Nexus 6 B"}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1063/*"},{ua:"XT1063"}],dpi:[295,296.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1064/*"},{ua:"XT1064"}],dpi:[295,295.6],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1092/*"},{ua:"XT1092"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1095/*"},{ua:"XT1095"}],dpi:[422,423.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/G4/*"},{ua:"Moto G (4)"}],dpi:401,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/A0001/*"},{ua:"A0001"}],dpi:[403.4,401],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1001/*"},{ua:"ONE E1001"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1003/*"},{ua:"ONE E1003"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1005/*"},{ua:"ONE E1005"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2001/*"},{ua:"ONE A2001"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2003/*"},{ua:"ONE A2003"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2005/*"},{ua:"ONE A2005"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A3000/*"},{ua:"ONEPLUS A3000"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A3003/*"},{ua:"ONEPLUS A3003"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A3010/*"},{ua:"ONEPLUS A3010"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A5000/*"},{ua:"ONEPLUS A5000 "}],dpi:[403.411,399.737],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A5010/*"},{ua:"ONEPLUS A5010"}],dpi:[403,400],bw:2,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6000/*"},{ua:"ONEPLUS A6000"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6003/*"},{ua:"ONEPLUS A6003"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6010/*"},{ua:"ONEPLUS A6010"}],dpi:401,bw:2,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6013/*"},{ua:"ONEPLUS A6013"}],dpi:401,bw:2,ac:500},{type:"android",rules:[{mdmh:"OPPO/*/X909/*"},{ua:"X909"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9082/*"},{ua:"GT-I9082"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G360P/*"},{ua:"SM-G360P"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Nexus S/*"},{ua:"Nexus S"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[304.8,303.9],bw:5,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-T230NU/*"},{ua:"SM-T230NU"}],dpi:216,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SGH-T399/*"},{ua:"SGH-T399"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SGH-M919/*"},{ua:"SGH-M919"}],dpi:[440.8,437.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N9005/*"},{ua:"SM-N9005"}],dpi:[386.4,387],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SM-N900A/*"},{ua:"SAMSUNG-SM-N900A"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9500/*"},{ua:"GT-I9500"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/GT-I9505/*"},{ua:"GT-I9505"}],dpi:439.4,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900F/*"},{ua:"SM-G900F"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900M/*"},{ua:"SM-G900M"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G800F/*"},{ua:"SM-G800F"}],dpi:326.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G906S/*"},{ua:"SM-G906S"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-T535/*"},{ua:"SM-T535"}],dpi:[142.6,136.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-N920C/*"},{ua:"SM-N920C"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920P/*"},{ua:"SM-N920P"}],dpi:[386.3655,390.144],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920W8/*"},{ua:"SM-N920W8"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300I/*"},{ua:"GT-I9300I"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9195/*"},{ua:"GT-I9195"}],dpi:[249.4,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SPH-L520/*"},{ua:"SPH-L520"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SGH-I717/*"},{ua:"SAMSUNG-SGH-I717"}],dpi:285.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SPH-D710/*"},{ua:"SPH-D710"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-N7100/*"},{ua:"GT-N7100"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SCH-I605/*"},{ua:"SCH-I605"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Galaxy Nexus/*"},{ua:"Galaxy Nexus"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910H/*"},{ua:"SM-N910H"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910C/*"},{ua:"SM-N910C"}],dpi:[515.2,520.2],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G130M/*"},{ua:"SM-G130M"}],dpi:[165.9,164.8],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G928I/*"},{ua:"SM-G928I"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G920F/*"},{ua:"SM-G920F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G920P/*"},{ua:"SM-G920P"}],dpi:[522.5,577],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G925F/*"},{ua:"SM-G925F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G925V/*"},{ua:"SM-G925V"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G930F/*"},{ua:"SM-G930F"}],dpi:576.6,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G935F/*"},{ua:"SM-G935F"}],dpi:533,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G950F/*"},{ua:"SM-G950F"}],dpi:[562.707,565.293],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955U/*"},{ua:"SM-G955U"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955F/*"},{ua:"SM-G955F"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G960F/*"},{ua:"SM-G960F"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G9600/*"},{ua:"SM-G9600"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960T/*"},{ua:"SM-G960T"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960N/*"},{ua:"SM-G960N"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960U/*"},{ua:"SM-G960U"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G9608/*"},{ua:"SM-G9608"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960FD/*"},{ua:"SM-G960FD"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960W/*"},{ua:"SM-G960W"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G965F/*"},{ua:"SM-G965F"}],dpi:529,bw:2,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/C6903/*"},{ua:"C6903"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/D6653/*"},{ua:"D6653"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6653/*"},{ua:"E6653"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6853/*"},{ua:"E6853"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/SGP321/*"},{ua:"SGP321"}],dpi:[224.7,224.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"TCT/*/ALCATEL ONE TOUCH Fierce/*"},{ua:"ALCATEL ONE TOUCH Fierce"}],dpi:[240,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"THL/*/thl 5000/*"},{ua:"thl 5000"}],dpi:[480,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Fly/*/IQ4412/*"},{ua:"IQ4412"}],dpi:307.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"ZTE/*/ZTE Blade L2/*"},{ua:"ZTE Blade L2"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"BENEVE/*/VR518/*"},{ua:"VR518"}],dpi:480,bw:3,ac:500},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2001]}],dpi:[410.9,415.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2436]}],dpi:458,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/EML-L29/*"},{ua:"EML-L29"}],dpi:428,bw:3.45,ac:500},{type:"android",rules:[{mdmh:"Nokia/*/Nokia 7.1/*"},{ua:"Nokia 7.1"}],dpi:[432,431.9],bw:3,ac:500},{type:"ios",rules:[{res:[1242,2688]}],dpi:458,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G570M/*"},{ua:"SM-G570M"}],dpi:320,bw:3.684,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G970F/*"},{ua:"SM-G970F"}],dpi:438,bw:2.281,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G973F/*"},{ua:"SM-G973F"}],dpi:550,bw:2.002,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G975F/*"},{ua:"SM-G975F"}],dpi:522,bw:2.054,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G977F/*"},{ua:"SM-G977F"}],dpi:505,bw:2.334,ac:500},{type:"ios",rules:[{res:[828,1792]}],dpi:326,bw:5,ac:500}],qt={format:pt,last_updated:Ot,devices:cn};function Sn(re,se){if(this.dpdb=qt,this.recalculateDeviceParams_(),re){this.onDeviceParamsUpdated=se;var _e=new XMLHttpRequest,Fe=this;_e.open("GET",re,!0),_e.addEventListener("load",function(){Fe.loading=!1,_e.status>=200&&_e.status<=299?(Fe.dpdb=JSON.parse(_e.response),Fe.recalculateDeviceParams_()):console.error("Error loading online DPDB!")}),_e.send()}}Sn.prototype.getDeviceParams=function(){return this.deviceParams},Sn.prototype.recalculateDeviceParams_=function(){var re=this.calcDeviceParams_();re?(this.deviceParams=re,this.onDeviceParamsUpdated&&this.onDeviceParamsUpdated(this.deviceParams)):console.error("Failed to recalculate device parameters.")},Sn.prototype.calcDeviceParams_=function(){var re=this.dpdb;if(!re)return console.error("DPDB not available."),null;if(re.format!=1)return console.error("DPDB has unexpected format version."),null;if(!re.devices||!re.devices.length)return console.error("DPDB does not have a devices section."),null;var se=navigator.userAgent||navigator.vendor||window.opera,_e=Be(),Fe=ge();if(!re.devices)return console.error("DPDB has no devices section."),null;for(var Ye=0;Ye<re.devices.length;Ye++){var at=re.devices[Ye];if(!at.rules){console.warn("Device["+Ye+"] has no rules section.");continue}if(at.type!="ios"&&at.type!="android"){console.warn("Device["+Ye+"] has invalid type.");continue}if(k()==(at.type=="ios")){for(var bt=!1,pe=0;pe<at.rules.length;pe++){var ye=at.rules[pe];if(this.ruleMatches_(ye,se,_e,Fe)){bt=!0;break}}if(bt){var Ee=at.dpi[0]||at.dpi,Me=at.dpi[1]||at.dpi;return new yn({xdpi:Ee,ydpi:Me,bevelMm:at.bw})}}}return console.warn("No DPDB device match."),null},Sn.prototype.ruleMatches_=function(re,se,_e,Fe){if(!re.ua&&!re.res||(re.ua&&re.ua.substring(0,2)==="SM"&&(re.ua=re.ua.substring(0,7)),re.ua&&se.indexOf(re.ua)<0))return!1;if(re.res){if(!re.res[0]||!re.res[1])return!1;var Ye=re.res[0],at=re.res[1];if(Math.min(_e,Fe)!=Math.min(Ye,at)||Math.max(_e,Fe)!=Math.max(Ye,at))return!1}return!0};function yn(re){this.xdpi=re.xdpi,this.ydpi=re.ydpi,this.bevelMm=re.bevelMm}function Pn(re,se){this.set(re,se)}Pn.prototype.set=function(re,se){this.sample=re,this.timestampS=se},Pn.prototype.copy=function(re){this.set(re.sample,re.timestampS)};function rr(re,se){this.kFilter=re,this.isDebug=se,this.currentAccelMeasurement=new Pn,this.currentGyroMeasurement=new Pn,this.previousGyroMeasurement=new Pn,k()?this.filterQ=new nt(-1,0,0,1):this.filterQ=new nt(1,0,0,1),this.previousFilterQ=new nt,this.previousFilterQ.copy(this.filterQ),this.accelQ=new nt,this.isOrientationInitialized=!1,this.estimatedGravity=new Qe,this.measuredGravity=new Qe,this.gyroIntegralQ=new nt}rr.prototype.addAccelMeasurement=function(re,se){this.currentAccelMeasurement.set(re,se)},rr.prototype.addGyroMeasurement=function(re,se){this.currentGyroMeasurement.set(re,se);var _e=se-this.previousGyroMeasurement.timestampS;ue(_e)&&this.run_(),this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},rr.prototype.run_=function(){if(!this.isOrientationInitialized){this.accelQ=this.accelToQuaternion_(this.currentAccelMeasurement.sample),this.previousFilterQ.copy(this.accelQ),this.isOrientationInitialized=!0;return}var re=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS,se=this.gyroToQuaternionDelta_(this.currentGyroMeasurement.sample,re);this.gyroIntegralQ.multiply(se),this.filterQ.copy(this.previousFilterQ),this.filterQ.multiply(se);var _e=new nt;_e.copy(this.filterQ),_e.inverse(),this.estimatedGravity.set(0,0,-1),this.estimatedGravity.applyQuaternion(_e),this.estimatedGravity.normalize(),this.measuredGravity.copy(this.currentAccelMeasurement.sample),this.measuredGravity.normalize();var Fe=new nt;Fe.setFromUnitVectors(this.estimatedGravity,this.measuredGravity),Fe.inverse(),this.isDebug&&console.log("Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)",Je*Tt(Fe),this.estimatedGravity.x.toFixed(1),this.estimatedGravity.y.toFixed(1),this.estimatedGravity.z.toFixed(1),this.measuredGravity.x.toFixed(1),this.measuredGravity.y.toFixed(1),this.measuredGravity.z.toFixed(1));var Ye=new nt;Ye.copy(this.filterQ),Ye.multiply(Fe),this.filterQ.slerp(Ye,1-this.kFilter),this.previousFilterQ.copy(this.filterQ)},rr.prototype.getOrientation=function(){return this.filterQ},rr.prototype.accelToQuaternion_=function(re){var se=new Qe;se.copy(re),se.normalize();var _e=new nt;return _e.setFromUnitVectors(new Qe(0,0,-1),se),_e.inverse(),_e},rr.prototype.gyroToQuaternionDelta_=function(re,se){var _e=new nt,Fe=new Qe;return Fe.copy(re),Fe.normalize(),_e.setFromAxisAngle(Fe,re.length()*se),_e};function Gn(re,se){this.predictionTimeS=re,this.isDebug=se,this.previousQ=new nt,this.previousTimestampS=null,this.deltaQ=new nt,this.outQ=new nt}Gn.prototype.getPrediction=function(re,se,_e){if(!this.previousTimestampS)return this.previousQ.copy(re),this.previousTimestampS=_e,re;var Fe=new Qe;Fe.copy(se),Fe.normalize();var Ye=se.length();if(Ye<qe*20)return this.isDebug&&console.log("Moving slowly, at %s deg/s: no prediction",(Je*Ye).toFixed(1)),this.outQ.copy(re),this.previousQ.copy(re),this.outQ;var at=Ye*this.predictionTimeS;return this.deltaQ.setFromAxisAngle(Fe,at),this.outQ.copy(this.previousQ),this.outQ.multiply(this.deltaQ),this.previousQ.copy(re),this.previousTimestampS=_e,this.outQ};function Fn(re,se,_e,Fe){this.yawOnly=_e,this.accelerometer=new Qe,this.gyroscope=new Qe,this.filter=new rr(re,Fe),this.posePredictor=new Gn(se,Fe),this.isFirefoxAndroid=j(),this.isIOS=k();var Ye=Q();this.isDeviceMotionInRadians=!this.isIOS&&Ye&&Ye<66,this.isWithoutDeviceMotion=J()||X(),this.filterToWorldQ=new nt,k()?this.filterToWorldQ.setFromAxisAngle(new Qe(1,0,0),Math.PI/2):this.filterToWorldQ.setFromAxisAngle(new Qe(1,0,0),-Math.PI/2),this.inverseWorldToScreenQ=new nt,this.worldToScreenQ=new nt,this.originalPoseAdjustQ=new nt,this.originalPoseAdjustQ.setFromAxisAngle(new Qe(0,0,1),-window.orientation*Math.PI/180),this.setScreenTransform_(),oe()&&this.filterToWorldQ.multiply(this.inverseWorldToScreenQ),this.resetQ=new nt,this.orientationOut_=new Float32Array(4),this.start()}Fn.prototype.getPosition=function(){return null},Fn.prototype.getOrientation=function(){var re=void 0;if(this.isWithoutDeviceMotion&&this._deviceOrientationQ){this.deviceOrientationFixQ=this.deviceOrientationFixQ||function(){var Ye=new nt().setFromAxisAngle(new Qe(0,0,-1),0),at=new nt;return window.orientation===-90?at.setFromAxisAngle(new Qe(0,1,0),Math.PI/-2):at.setFromAxisAngle(new Qe(0,1,0),Math.PI/2),Ye.multiply(at)}(),this.deviceOrientationFilterToWorldQ=this.deviceOrientationFilterToWorldQ||function(){var Ye=new nt;return Ye.setFromAxisAngle(new Qe(1,0,0),-Math.PI/2),Ye}(),re=this._deviceOrientationQ;var _e=new nt;return _e.copy(re),_e.multiply(this.deviceOrientationFilterToWorldQ),_e.multiply(this.resetQ),_e.multiply(this.worldToScreenQ),_e.multiplyQuaternions(this.deviceOrientationFixQ,_e),this.yawOnly&&(_e.x=0,_e.z=0,_e.normalize()),this.orientationOut_[0]=_e.x,this.orientationOut_[1]=_e.y,this.orientationOut_[2]=_e.z,this.orientationOut_[3]=_e.w,this.orientationOut_}else{var se=this.filter.getOrientation();re=this.posePredictor.getPrediction(se,this.gyroscope,this.previousTimestampS)}var _e=new nt;return _e.copy(this.filterToWorldQ),_e.multiply(this.resetQ),_e.multiply(re),_e.multiply(this.worldToScreenQ),this.yawOnly&&(_e.x=0,_e.z=0,_e.normalize()),this.orientationOut_[0]=_e.x,this.orientationOut_[1]=_e.y,this.orientationOut_[2]=_e.z,this.orientationOut_[3]=_e.w,this.orientationOut_},Fn.prototype.resetPose=function(){this.resetQ.copy(this.filter.getOrientation()),this.resetQ.x=0,this.resetQ.y=0,this.resetQ.z*=-1,this.resetQ.normalize(),oe()&&this.resetQ.multiply(this.inverseWorldToScreenQ),this.resetQ.multiply(this.originalPoseAdjustQ)},Fn.prototype.onDeviceOrientation_=function(re){this._deviceOrientationQ=this._deviceOrientationQ||new nt;var se=re.alpha,_e=re.beta,Fe=re.gamma;se=(se||0)*Math.PI/180,_e=(_e||0)*Math.PI/180,Fe=(Fe||0)*Math.PI/180,this._deviceOrientationQ.setFromEulerYXZ(_e,se,-Fe)},Fn.prototype.onDeviceMotion_=function(re){this.updateDeviceMotion_(re)},Fn.prototype.updateDeviceMotion_=function(re){var se=re.accelerationIncludingGravity,_e=re.rotationRate,Fe=re.timeStamp/1e3,Ye=Fe-this.previousTimestampS;if(Ye<0){Dt("fusion-pose-sensor:invalid:non-monotonic","Invalid timestamps detected: non-monotonic timestamp from devicemotion"),this.previousTimestampS=Fe;return}else if(Ye<=V||Ye>B){Dt("fusion-pose-sensor:invalid:outside-threshold","Invalid timestamps detected: Timestamp from devicemotion outside expected range."),this.previousTimestampS=Fe;return}this.accelerometer.set(-se.x,-se.y,-se.z),_e&&(Z()?this.gyroscope.set(-_e.beta,_e.alpha,_e.gamma):this.gyroscope.set(_e.alpha,_e.beta,_e.gamma),this.isDeviceMotionInRadians||this.gyroscope.multiplyScalar(Math.PI/180),this.filter.addGyroMeasurement(this.gyroscope,Fe)),this.filter.addAccelMeasurement(this.accelerometer,Fe),this.previousTimestampS=Fe},Fn.prototype.onOrientationChange_=function(re){this.setScreenTransform_()},Fn.prototype.onMessage_=function(re){var se=re.data;if(!(!se||!se.type)){var _e=se.type.toLowerCase();_e==="devicemotion"&&this.updateDeviceMotion_(se.deviceMotionEvent)}},Fn.prototype.setScreenTransform_=function(){switch(this.worldToScreenQ.set(0,0,0,1),window.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new Qe(0,0,1),-Math.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new Qe(0,0,1),Math.PI/2);break}this.inverseWorldToScreenQ.copy(this.worldToScreenQ),this.inverseWorldToScreenQ.inverse()},Fn.prototype.start=function(){this.onDeviceMotionCallback_=this.onDeviceMotion_.bind(this),this.onOrientationChangeCallback_=this.onOrientationChange_.bind(this),this.onMessageCallback_=this.onMessage_.bind(this),this.onDeviceOrientationCallback_=this.onDeviceOrientation_.bind(this),k()&&At()&&window.addEventListener("message",this.onMessageCallback_),window.addEventListener("orientationchange",this.onOrientationChangeCallback_),this.isWithoutDeviceMotion?window.addEventListener("deviceorientation",this.onDeviceOrientationCallback_):window.addEventListener("devicemotion",this.onDeviceMotionCallback_)},Fn.prototype.stop=function(){window.removeEventListener("devicemotion",this.onDeviceMotionCallback_),window.removeEventListener("deviceorientation",this.onDeviceOrientationCallback_),window.removeEventListener("orientationchange",this.onOrientationChangeCallback_),window.removeEventListener("message",this.onMessageCallback_)};var Cn=60,Oe=new Qe(1,0,0),st=new Qe(0,0,1),wt=new nt;wt.setFromAxisAngle(Oe,-Math.PI/2),wt.multiply(new nt().setFromAxisAngle(st,Math.PI/2));var xe=function(){function re(se){T(this,re),this.config=se,this.sensor=null,this.fusionSensor=null,this._out=new Float32Array(4),this.api=null,this.errors=[],this._sensorQ=new nt,this._outQ=new nt,this._onSensorRead=this._onSensorRead.bind(this),this._onSensorError=this._onSensorError.bind(this),this.init()}return D(re,[{key:"init",value:function(){var _e=null;try{_e=new RelativeOrientationSensor({frequency:Cn,referenceFrame:"screen"}),_e.addEventListener("error",this._onSensorError)}catch(Fe){this.errors.push(Fe),Fe.name==="SecurityError"?(console.error("Cannot construct sensors due to the Feature Policy"),console.warn('Attempting to fall back using "devicemotion"; however this will fail in the future without correct permissions.'),this.useDeviceMotion()):Fe.name==="ReferenceError"?this.useDeviceMotion():console.error(Fe)}_e&&(this.api="sensor",this.sensor=_e,this.sensor.addEventListener("reading",this._onSensorRead),this.sensor.start())}},{key:"useDeviceMotion",value:function(){this.api="devicemotion",this.fusionSensor=new Fn(this.config.K_FILTER,this.config.PREDICTION_TIME_S,this.config.YAW_ONLY,this.config.DEBUG),this.sensor&&(this.sensor.removeEventListener("reading",this._onSensorRead),this.sensor.removeEventListener("error",this._onSensorError),this.sensor=null)}},{key:"getOrientation",value:function(){if(this.fusionSensor)return this.fusionSensor.getOrientation();if(!this.sensor||!this.sensor.quaternion)return this._out[0]=this._out[1]=this._out[2]=0,this._out[3]=1,this._out;var _e=this.sensor.quaternion;this._sensorQ.set(_e[0],_e[1],_e[2],_e[3]);var Fe=this._outQ;return Fe.copy(wt),Fe.multiply(this._sensorQ),this.config.YAW_ONLY&&(Fe.x=Fe.z=0,Fe.normalize()),this._out[0]=Fe.x,this._out[1]=Fe.y,this._out[2]=Fe.z,this._out[3]=Fe.w,this._out}},{key:"_onSensorError",value:function(_e){this.errors.push(_e.error),_e.error.name==="NotAllowedError"?console.error("Permission to access sensor was denied"):_e.error.name==="NotReadableError"?console.error("Sensor could not be read"):console.error(_e.error),this.useDeviceMotion()}},{key:"_onSensorRead",value:function(){}}]),re}(),De="<svg width='198' height='240' viewBox='0 0 198 240' xmlns='http://www.w3.org/2000/svg'><g fill='none' fill-rule='evenodd'><path d='M149.625 109.527l6.737 3.891v.886c0 .177.013.36.038.549.01.081.02.162.027.242.14 1.415.974 2.998 2.105 3.999l5.72 5.062.081-.09s4.382-2.53 5.235-3.024l25.97 14.993v54.001c0 .771-.386 1.217-.948 1.217-.233 0-.495-.076-.772-.236l-23.967-13.838-.014.024-27.322 15.775-.85-1.323c-4.731-1.529-9.748-2.74-14.951-3.61a.27.27 0 0 0-.007.024l-5.067 16.961-7.891 4.556-.037-.063v27.59c0 .772-.386 1.217-.948 1.217-.232 0-.495-.076-.772-.236l-42.473-24.522c-.95-.549-1.72-1.877-1.72-2.967v-1.035l-.021.047a5.111 5.111 0 0 0-1.816-.399 5.682 5.682 0 0 0-.546.001 13.724 13.724 0 0 1-1.918-.041c-1.655-.153-3.2-.6-4.404-1.296l-46.576-26.89.005.012-10.278-18.75c-1.001-1.827-.241-4.216 1.698-5.336l56.011-32.345a4.194 4.194 0 0 1 2.099-.572c1.326 0 2.572.659 3.227 1.853l.005-.003.227.413-.006.004a9.63 9.63 0 0 0 1.477 2.018l.277.27c1.914 1.85 4.468 2.801 7.113 2.801 1.949 0 3.948-.517 5.775-1.572.013 0 7.319-4.219 7.319-4.219a4.194 4.194 0 0 1 2.099-.572c1.326 0 2.572.658 3.226 1.853l3.25 5.928.022-.018 6.785 3.917-.105-.182 46.881-26.965m0-1.635c-.282 0-.563.073-.815.218l-46.169 26.556-5.41-3.124-3.005-5.481c-.913-1.667-2.699-2.702-4.66-2.703-1.011 0-2.02.274-2.917.792a3825 3825 0 0 1-7.275 4.195l-.044.024a9.937 9.937 0 0 1-4.957 1.353c-2.292 0-4.414-.832-5.976-2.342l-.252-.245a7.992 7.992 0 0 1-1.139-1.534 1.379 1.379 0 0 0-.06-.122l-.227-.414a1.718 1.718 0 0 0-.095-.154c-.938-1.574-2.673-2.545-4.571-2.545-1.011 0-2.02.274-2.917.792L3.125 155.502c-2.699 1.559-3.738 4.94-2.314 7.538l10.278 18.75c.177.323.448.563.761.704l46.426 26.804c1.403.81 3.157 1.332 5.072 1.508a15.661 15.661 0 0 0 2.146.046 4.766 4.766 0 0 1 .396 0c.096.004.19.011.283.022.109 1.593 1.159 3.323 2.529 4.114l42.472 24.522c.524.302 1.058.455 1.59.455 1.497 0 2.583-1.2 2.583-2.852v-26.562l7.111-4.105a1.64 1.64 0 0 0 .749-.948l4.658-15.593c4.414.797 8.692 1.848 12.742 3.128l.533.829a1.634 1.634 0 0 0 2.193.531l26.532-15.317L193 192.433c.523.302 1.058.455 1.59.455 1.497 0 2.583-1.199 2.583-2.852v-54.001c0-.584-.312-1.124-.818-1.416l-25.97-14.993a1.633 1.633 0 0 0-1.636.001c-.606.351-2.993 1.73-4.325 2.498l-4.809-4.255c-.819-.725-1.461-1.933-1.561-2.936a7.776 7.776 0 0 0-.033-.294 2.487 2.487 0 0 1-.023-.336v-.886c0-.584-.312-1.123-.817-1.416l-6.739-3.891a1.633 1.633 0 0 0-.817-.219' fill='#455A64'/><path d='M96.027 132.636l46.576 26.891c1.204.695 1.979 1.587 2.242 2.541l-.01.007-81.374 46.982h-.001c-1.654-.152-3.199-.6-4.403-1.295l-46.576-26.891 83.546-48.235' fill='#FAFAFA'/><path d='M63.461 209.174c-.008 0-.015 0-.022-.002-1.693-.156-3.228-.609-4.441-1.309l-46.576-26.89a.118.118 0 0 1 0-.203l83.546-48.235a.117.117 0 0 1 .117 0l46.576 26.891c1.227.708 2.021 1.612 2.296 2.611a.116.116 0 0 1-.042.124l-.021.016-81.375 46.981a.11.11 0 0 1-.058.016zm-50.747-28.303l46.401 26.79c1.178.68 2.671 1.121 4.32 1.276l81.272-46.922c-.279-.907-1.025-1.73-2.163-2.387l-46.517-26.857-83.313 48.1z' fill='#607D8B'/><path d='M148.327 165.471a5.85 5.85 0 0 1-.546.001c-1.894-.083-3.302-1.038-3.145-2.132a2.693 2.693 0 0 0-.072-1.105l-81.103 46.822c.628.058 1.272.073 1.918.042.182-.009.364-.009.546-.001 1.894.083 3.302 1.038 3.145 2.132l79.257-45.759' fill='#FFF'/><path d='M69.07 211.347a.118.118 0 0 1-.115-.134c.045-.317-.057-.637-.297-.925-.505-.61-1.555-1.022-2.738-1.074a5.966 5.966 0 0 0-.535.001 14.03 14.03 0 0 1-1.935-.041.117.117 0 0 1-.103-.092.116.116 0 0 1 .055-.126l81.104-46.822a.117.117 0 0 1 .171.07c.104.381.129.768.074 1.153-.045.316.057.637.296.925.506.61 1.555 1.021 2.739 1.073.178.008.357.008.535-.001a.117.117 0 0 1 .064.218l-79.256 45.759a.114.114 0 0 1-.059.016zm-3.405-2.372c.089 0 .177.002.265.006 1.266.056 2.353.488 2.908 1.158.227.274.35.575.36.882l78.685-45.429c-.036 0-.072-.001-.107-.003-1.267-.056-2.354-.489-2.909-1.158-.282-.34-.402-.724-.347-1.107a2.604 2.604 0 0 0-.032-.91L63.846 208.97a13.91 13.91 0 0 0 1.528.012c.097-.005.194-.007.291-.007z' fill='#607D8B'/><path d='M2.208 162.134c-1.001-1.827-.241-4.217 1.698-5.337l56.011-32.344c1.939-1.12 4.324-.546 5.326 1.281l.232.41a9.344 9.344 0 0 0 1.47 2.021l.278.27c3.325 3.214 8.583 3.716 12.888 1.23l7.319-4.22c1.94-1.119 4.324-.546 5.325 1.282l3.25 5.928-83.519 48.229-10.278-18.75z' fill='#FAFAFA'/><path d='M12.486 181.001a.112.112 0 0 1-.031-.005.114.114 0 0 1-.071-.056L2.106 162.19c-1.031-1.88-.249-4.345 1.742-5.494l56.01-32.344a4.328 4.328 0 0 1 2.158-.588c1.415 0 2.65.702 3.311 1.882.01.008.018.017.024.028l.227.414a.122.122 0 0 1 .013.038 9.508 9.508 0 0 0 1.439 1.959l.275.266c1.846 1.786 4.344 2.769 7.031 2.769 1.977 0 3.954-.538 5.717-1.557a.148.148 0 0 1 .035-.013l7.284-4.206a4.321 4.321 0 0 1 2.157-.588c1.427 0 2.672.716 3.329 1.914l3.249 5.929a.116.116 0 0 1-.044.157l-83.518 48.229a.116.116 0 0 1-.059.016zm49.53-57.004c-.704 0-1.41.193-2.041.557l-56.01 32.345c-1.882 1.086-2.624 3.409-1.655 5.179l10.221 18.645 83.317-48.112-3.195-5.829c-.615-1.122-1.783-1.792-3.124-1.792a4.08 4.08 0 0 0-2.04.557l-7.317 4.225a.148.148 0 0 1-.035.013 11.7 11.7 0 0 1-5.801 1.569c-2.748 0-5.303-1.007-7.194-2.835l-.278-.27a9.716 9.716 0 0 1-1.497-2.046.096.096 0 0 1-.013-.037l-.191-.347a.11.11 0 0 1-.023-.029c-.615-1.123-1.783-1.793-3.124-1.793z' fill='#607D8B'/><path d='M42.434 155.808c-2.51-.001-4.697-1.258-5.852-3.365-1.811-3.304-.438-7.634 3.059-9.654l12.291-7.098a7.599 7.599 0 0 1 3.789-1.033c2.51 0 4.697 1.258 5.852 3.365 1.811 3.304.439 7.634-3.059 9.654l-12.291 7.098a7.606 7.606 0 0 1-3.789 1.033zm13.287-20.683a7.128 7.128 0 0 0-3.555.971l-12.291 7.098c-3.279 1.893-4.573 5.942-2.883 9.024 1.071 1.955 3.106 3.122 5.442 3.122a7.13 7.13 0 0 0 3.556-.97l12.291-7.098c3.279-1.893 4.572-5.942 2.883-9.024-1.072-1.955-3.106-3.123-5.443-3.123z' fill='#607D8B'/><path d='M149.588 109.407l6.737 3.89v.887c0 .176.013.36.037.549.011.081.02.161.028.242.14 1.415.973 2.998 2.105 3.999l7.396 6.545c.177.156.358.295.541.415 1.579 1.04 2.95.466 3.062-1.282.049-.784.057-1.595.023-2.429l-.003-.16v-1.151l25.987 15.003v54c0 1.09-.77 1.53-1.72.982l-42.473-24.523c-.95-.548-1.72-1.877-1.72-2.966v-34.033' fill='#FAFAFA'/><path d='M194.553 191.25c-.257 0-.54-.085-.831-.253l-42.472-24.521c-.981-.567-1.779-1.943-1.779-3.068v-34.033h.234v34.033c0 1.051.745 2.336 1.661 2.866l42.473 24.521c.424.245.816.288 1.103.122.285-.164.442-.52.442-1.002v-53.933l-25.753-14.868.003 1.106c.034.832.026 1.654-.024 2.439-.054.844-.396 1.464-.963 1.746-.619.309-1.45.173-2.28-.373a5.023 5.023 0 0 1-.553-.426l-7.397-6.544c-1.158-1.026-1.999-2.625-2.143-4.076a9.624 9.624 0 0 0-.027-.238 4.241 4.241 0 0 1-.038-.564v-.82l-6.68-3.856.117-.202 6.738 3.89.058.034v.954c0 .171.012.351.036.533.011.083.021.165.029.246.138 1.395.948 2.935 2.065 3.923l7.397 6.545c.173.153.35.289.527.406.758.499 1.504.63 2.047.359.49-.243.786-.795.834-1.551.05-.778.057-1.591.024-2.417l-.004-.163v-1.355l.175.1 25.987 15.004.059.033v54.068c0 .569-.198.996-.559 1.204a1.002 1.002 0 0 1-.506.131' fill='#607D8B'/><path d='M145.685 163.161l24.115 13.922-25.978 14.998-1.462-.307c-6.534-2.17-13.628-3.728-21.019-4.616-4.365-.524-8.663 1.096-9.598 3.62a2.746 2.746 0 0 0-.011 1.928c1.538 4.267 4.236 8.363 7.995 12.135l.532.845-25.977 14.997-24.115-13.922 75.518-43.6' fill='#FFF'/><path d='M94.282 220.818l-.059-.033-24.29-14.024.175-.101 75.577-43.634.058.033 24.29 14.024-26.191 15.122-.045-.01-1.461-.307c-6.549-2.174-13.613-3.725-21.009-4.614a13.744 13.744 0 0 0-1.638-.097c-3.758 0-7.054 1.531-7.837 3.642a2.62 2.62 0 0 0-.01 1.848c1.535 4.258 4.216 8.326 7.968 12.091l.016.021.526.835.006.01.064.102-.105.061-25.977 14.998-.058.033zm-23.881-14.057l23.881 13.788 24.802-14.32c.546-.315.846-.489 1.017-.575l-.466-.74c-3.771-3.787-6.467-7.881-8.013-12.168a2.851 2.851 0 0 1 .011-2.008c.815-2.199 4.203-3.795 8.056-3.795.557 0 1.117.033 1.666.099 7.412.891 14.491 2.445 21.041 4.621.836.175 1.215.254 1.39.304l25.78-14.884-23.881-13.788-75.284 43.466z' fill='#607D8B'/><path d='M167.23 125.979v50.871l-27.321 15.773-6.461-14.167c-.91-1.996-3.428-1.738-5.624.574a10.238 10.238 0 0 0-2.33 4.018l-6.46 21.628-27.322 15.774v-50.871l75.518-43.6' fill='#FFF'/><path d='M91.712 220.567a.127.127 0 0 1-.059-.016.118.118 0 0 1-.058-.101v-50.871c0-.042.023-.08.058-.101l75.519-43.6a.117.117 0 0 1 .175.101v50.871c0 .041-.023.08-.059.1l-27.321 15.775a.118.118 0 0 1-.094.01.12.12 0 0 1-.071-.063l-6.46-14.168c-.375-.822-1.062-1.275-1.934-1.275-1.089 0-2.364.686-3.5 1.881a10.206 10.206 0 0 0-2.302 3.972l-6.46 21.627a.118.118 0 0 1-.054.068L91.77 220.551a.12.12 0 0 1-.058.016zm.117-50.92v50.601l27.106-15.65 6.447-21.583a10.286 10.286 0 0 1 2.357-4.065c1.18-1.242 2.517-1.954 3.669-1.954.969 0 1.731.501 2.146 1.411l6.407 14.051 27.152-15.676v-50.601l-75.284 43.466z' fill='#607D8B'/><path d='M168.543 126.213v50.87l-27.322 15.774-6.46-14.168c-.91-1.995-3.428-1.738-5.624.574a10.248 10.248 0 0 0-2.33 4.019l-6.461 21.627-27.321 15.774v-50.87l75.518-43.6' fill='#FFF'/><path d='M93.025 220.8a.123.123 0 0 1-.059-.015.12.12 0 0 1-.058-.101v-50.871c0-.042.023-.08.058-.101l75.518-43.6a.112.112 0 0 1 .117 0c.036.02.059.059.059.1v50.871a.116.116 0 0 1-.059.101l-27.321 15.774a.111.111 0 0 1-.094.01.115.115 0 0 1-.071-.062l-6.46-14.168c-.375-.823-1.062-1.275-1.935-1.275-1.088 0-2.363.685-3.499 1.881a10.19 10.19 0 0 0-2.302 3.971l-6.461 21.628a.108.108 0 0 1-.053.067l-27.322 15.775a.12.12 0 0 1-.058.015zm.117-50.919v50.6l27.106-15.649 6.447-21.584a10.293 10.293 0 0 1 2.357-4.065c1.179-1.241 2.516-1.954 3.668-1.954.969 0 1.732.502 2.147 1.412l6.407 14.051 27.152-15.676v-50.601l-75.284 43.466z' fill='#607D8B'/><path d='M169.8 177.083l-27.322 15.774-6.46-14.168c-.91-1.995-3.428-1.738-5.625.574a10.246 10.246 0 0 0-2.329 4.019l-6.461 21.627-27.321 15.774v-50.87l75.518-43.6v50.87z' fill='#FAFAFA'/><path d='M94.282 220.917a.234.234 0 0 1-.234-.233v-50.871c0-.083.045-.161.117-.202l75.518-43.601a.234.234 0 1 1 .35.202v50.871a.233.233 0 0 1-.116.202l-27.322 15.775a.232.232 0 0 1-.329-.106l-6.461-14.168c-.36-.789-.992-1.206-1.828-1.206-1.056 0-2.301.672-3.415 1.844a10.099 10.099 0 0 0-2.275 3.924l-6.46 21.628a.235.235 0 0 1-.107.136l-27.322 15.774a.23.23 0 0 1-.116.031zm.233-50.969v50.331l26.891-15.525 6.434-21.539a10.41 10.41 0 0 1 2.384-4.112c1.201-1.265 2.569-1.991 3.753-1.991 1.018 0 1.818.526 2.253 1.48l6.354 13.934 26.982-15.578v-50.331l-75.051 43.331z' fill='#607D8B'/><path d='M109.894 199.943c-1.774 0-3.241-.725-4.244-2.12a.224.224 0 0 1 .023-.294.233.233 0 0 1 .301-.023c.78.547 1.705.827 2.75.827 1.323 0 2.754-.439 4.256-1.306 5.311-3.067 9.631-10.518 9.631-16.611 0-1.927-.442-3.56-1.278-4.724a.232.232 0 0 1 .323-.327c1.671 1.172 2.591 3.381 2.591 6.219 0 6.242-4.426 13.863-9.865 17.003-1.574.908-3.084 1.356-4.488 1.356zm-2.969-1.542c.813.651 1.82.877 2.968.877h.001c1.321 0 2.753-.327 4.254-1.194 5.311-3.067 9.632-10.463 9.632-16.556 0-1.979-.463-3.599-1.326-4.761.411 1.035.625 2.275.625 3.635 0 6.243-4.426 13.883-9.865 17.023-1.574.909-3.084 1.317-4.49 1.317-.641 0-1.243-.149-1.799-.341z' fill='#607D8B'/><path d='M113.097 197.23c5.384-3.108 9.748-10.636 9.748-16.814 0-2.051-.483-3.692-1.323-4.86-1.784-1.252-4.374-1.194-7.257.47-5.384 3.108-9.748 10.636-9.748 16.814 0 2.051.483 3.692 1.323 4.86 1.784 1.252 4.374 1.194 7.257-.47' fill='#FAFAFA'/><path d='M108.724 198.614c-1.142 0-2.158-.213-3.019-.817-.021-.014-.04.014-.055-.007-.894-1.244-1.367-2.948-1.367-4.973 0-6.242 4.426-13.864 9.865-17.005 1.574-.908 3.084-1.363 4.49-1.363 1.142 0 2.158.309 3.018.913a.23.23 0 0 1 .056.056c.894 1.244 1.367 2.972 1.367 4.997 0 6.243-4.426 13.783-9.865 16.923-1.574.909-3.084 1.276-4.49 1.276zm-2.718-1.109c.774.532 1.688.776 2.718.776 1.323 0 2.754-.413 4.256-1.28 5.311-3.066 9.631-10.505 9.631-16.598 0-1.909-.434-3.523-1.255-4.685-.774-.533-1.688-.799-2.718-.799-1.323 0-2.755.441-4.256 1.308-5.311 3.066-9.631 10.506-9.631 16.599 0 1.909.434 3.517 1.255 4.679z' fill='#607D8B'/><path d='M149.318 114.262l-9.984 8.878 15.893 11.031 5.589-6.112-11.498-13.797' fill='#FAFAFA'/><path d='M169.676 120.84l-9.748 5.627c-3.642 2.103-9.528 2.113-13.147.024-3.62-2.089-3.601-5.488.041-7.591l9.495-5.608-6.729-3.885-81.836 47.071 45.923 26.514 3.081-1.779c.631-.365.869-.898.618-1.39-2.357-4.632-2.593-9.546-.683-14.262 5.638-13.92 24.509-24.815 48.618-28.07 8.169-1.103 16.68-.967 24.704.394.852.145 1.776.008 2.407-.357l3.081-1.778-25.825-14.91' fill='#FAFAFA'/><path d='M113.675 183.459a.47.47 0 0 1-.233-.062l-45.924-26.515a.468.468 0 0 1 .001-.809l81.836-47.071a.467.467 0 0 1 .466 0l6.729 3.885a.467.467 0 0 1-.467.809l-6.496-3.75-80.9 46.533 44.988 25.973 2.848-1.644c.192-.111.62-.409.435-.773-2.416-4.748-2.658-9.814-.7-14.65 2.806-6.927 8.885-13.242 17.582-18.263 8.657-4.998 19.518-8.489 31.407-10.094 8.198-1.107 16.79-.97 24.844.397.739.125 1.561.007 2.095-.301l2.381-1.374-25.125-14.506a.467.467 0 0 1 .467-.809l25.825 14.91a.467.467 0 0 1 0 .809l-3.081 1.779c-.721.417-1.763.575-2.718.413-7.963-1.351-16.457-1.486-24.563-.392-11.77 1.589-22.512 5.039-31.065 9.977-8.514 4.916-14.456 11.073-17.183 17.805-1.854 4.578-1.623 9.376.666 13.875.37.725.055 1.513-.8 2.006l-3.081 1.78a.476.476 0 0 1-.234.062' fill='#455A64'/><path d='M153.316 128.279c-2.413 0-4.821-.528-6.652-1.586-1.818-1.049-2.82-2.461-2.82-3.975 0-1.527 1.016-2.955 2.861-4.02l9.493-5.607a.233.233 0 1 1 .238.402l-9.496 5.609c-1.696.979-2.628 2.263-2.628 3.616 0 1.34.918 2.608 2.585 3.571 3.549 2.049 9.343 2.038 12.914-.024l9.748-5.628a.234.234 0 0 1 .234.405l-9.748 5.628c-1.858 1.072-4.296 1.609-6.729 1.609' fill='#607D8B'/><path d='M113.675 182.992l-45.913-26.508M113.675 183.342a.346.346 0 0 1-.175-.047l-45.913-26.508a.35.35 0 1 1 .35-.607l45.913 26.508a.35.35 0 0 1-.175.654' fill='#455A64'/><path d='M67.762 156.484v54.001c0 1.09.77 2.418 1.72 2.967l42.473 24.521c.95.549 1.72.11 1.72-.98v-54.001' fill='#FAFAFA'/><path d='M112.727 238.561c-.297 0-.62-.095-.947-.285l-42.473-24.521c-1.063-.613-1.895-2.05-1.895-3.27v-54.001a.35.35 0 1 1 .701 0v54.001c0 .96.707 2.18 1.544 2.663l42.473 24.522c.344.198.661.243.87.122.206-.119.325-.411.325-.799v-54.001a.35.35 0 1 1 .7 0v54.001c0 .655-.239 1.154-.675 1.406a1.235 1.235 0 0 1-.623.162' fill='#455A64'/><path d='M112.86 147.512h-.001c-2.318 0-4.499-.522-6.142-1.471-1.705-.984-2.643-2.315-2.643-3.749 0-1.445.952-2.791 2.68-3.788l12.041-6.953c1.668-.962 3.874-1.493 6.212-1.493 2.318 0 4.499.523 6.143 1.472 1.704.984 2.643 2.315 2.643 3.748 0 1.446-.952 2.791-2.68 3.789l-12.042 6.952c-1.668.963-3.874 1.493-6.211 1.493zm12.147-16.753c-2.217 0-4.298.497-5.861 1.399l-12.042 6.952c-1.502.868-2.33 1.998-2.33 3.182 0 1.173.815 2.289 2.293 3.142 1.538.889 3.596 1.378 5.792 1.378h.001c2.216 0 4.298-.497 5.861-1.399l12.041-6.953c1.502-.867 2.33-1.997 2.33-3.182 0-1.172-.814-2.288-2.292-3.142-1.539-.888-3.596-1.377-5.793-1.377z' fill='#607D8B'/><path d='M165.63 123.219l-5.734 3.311c-3.167 1.828-8.286 1.837-11.433.02-3.147-1.817-3.131-4.772.036-6.601l5.734-3.31 11.397 6.58' fill='#FAFAFA'/><path d='M154.233 117.448l9.995 5.771-4.682 2.704c-1.434.827-3.352 1.283-5.399 1.283-2.029 0-3.923-.449-5.333-1.263-1.29-.744-2-1.694-2-2.674 0-.991.723-1.955 2.036-2.713l5.383-3.108m0-.809l-5.734 3.31c-3.167 1.829-3.183 4.784-.036 6.601 1.568.905 3.623 1.357 5.684 1.357 2.077 0 4.159-.46 5.749-1.377l5.734-3.311-11.397-6.58M145.445 179.667c-1.773 0-3.241-.85-4.243-2.245-.067-.092-.057-.275.023-.356.08-.081.207-.12.3-.055.781.548 1.706.812 2.751.811 1.322 0 2.754-.446 4.256-1.313 5.31-3.066 9.631-10.522 9.631-16.615 0-1.927-.442-3.562-1.279-4.726a.235.235 0 0 1 .024-.301.232.232 0 0 1 .3-.027c1.67 1.172 2.59 3.38 2.59 6.219 0 6.242-4.425 13.987-9.865 17.127-1.573.908-3.083 1.481-4.488 1.481zM142.476 178c.814.651 1.82 1.002 2.969 1.002 1.322 0 2.753-.452 4.255-1.32 5.31-3.065 9.631-10.523 9.631-16.617 0-1.98-.463-3.63-1.325-4.793.411 1.035.624 2.26.624 3.62 0 6.242-4.425 13.875-9.865 17.015-1.573.909-3.084 1.376-4.489 1.376a5.49 5.49 0 0 1-1.8-.283z' fill='#607D8B'/><path d='M148.648 176.704c5.384-3.108 9.748-10.636 9.748-16.813 0-2.052-.483-3.693-1.322-4.861-1.785-1.252-4.375-1.194-7.258.471-5.383 3.108-9.748 10.636-9.748 16.813 0 2.051.484 3.692 1.323 4.86 1.785 1.253 4.374 1.195 7.257-.47' fill='#FAFAFA'/><path d='M144.276 178.276c-1.143 0-2.158-.307-3.019-.911a.217.217 0 0 1-.055-.054c-.895-1.244-1.367-2.972-1.367-4.997 0-6.241 4.425-13.875 9.865-17.016 1.573-.908 3.084-1.369 4.489-1.369 1.143 0 2.158.307 3.019.91a.24.24 0 0 1 .055.055c.894 1.244 1.367 2.971 1.367 4.997 0 6.241-4.425 13.875-9.865 17.016-1.573.908-3.084 1.369-4.489 1.369zm-2.718-1.172c.773.533 1.687.901 2.718.901 1.322 0 2.754-.538 4.256-1.405 5.31-3.066 9.631-10.567 9.631-16.661 0-1.908-.434-3.554-1.256-4.716-.774-.532-1.688-.814-2.718-.814-1.322 0-2.754.433-4.256 1.3-5.31 3.066-9.631 10.564-9.631 16.657 0 1.91.434 3.576 1.256 4.738z' fill='#607D8B'/><path d='M150.72 172.361l-.363-.295a24.105 24.105 0 0 0 2.148-3.128 24.05 24.05 0 0 0 1.977-4.375l.443.149a24.54 24.54 0 0 1-2.015 4.46 24.61 24.61 0 0 1-2.19 3.189M115.917 191.514l-.363-.294a24.174 24.174 0 0 0 2.148-3.128 24.038 24.038 0 0 0 1.976-4.375l.443.148a24.48 24.48 0 0 1-2.015 4.461 24.662 24.662 0 0 1-2.189 3.188M114 237.476V182.584 237.476' fill='#607D8B'/><g><path d='M81.822 37.474c.017-.135-.075-.28-.267-.392-.327-.188-.826-.21-1.109-.045l-6.012 3.471c-.131.076-.194.178-.191.285.002.132.002.461.002.578v.043l-.007.128-6.591 3.779c-.001 0-2.077 1.046-2.787 5.192 0 0-.912 6.961-.898 19.745.015 12.57.606 17.07 1.167 21.351.22 1.684 3.001 2.125 3.001 2.125.331.04.698-.027 1.08-.248l75.273-43.551c1.808-1.069 2.667-3.719 3.056-6.284 1.213-7.99 1.675-32.978-.275-39.878-.196-.693-.51-1.083-.868-1.282l-2.086-.79c-.727.028-1.416.467-1.534.535L82.032 37.072l-.21.402' fill='#FFF'/><path d='M144.311 1.701l2.085.79c.358.199.672.589.868 1.282 1.949 6.9 1.487 31.887.275 39.878-.39 2.565-1.249 5.215-3.056 6.284L69.21 93.486a1.78 1.78 0 0 1-.896.258l-.183-.011c0 .001-2.782-.44-3.003-2.124-.56-4.282-1.151-8.781-1.165-21.351-.015-12.784.897-19.745.897-19.745.71-4.146 2.787-5.192 2.787-5.192l6.591-3.779.007-.128v-.043c0-.117 0-.446-.002-.578-.003-.107.059-.21.191-.285l6.012-3.472a.98.98 0 0 1 .481-.11c.218 0 .449.053.627.156.193.112.285.258.268.392l.211-.402 60.744-34.836c.117-.068.806-.507 1.534-.535m0-.997l-.039.001c-.618.023-1.283.244-1.974.656l-.021.012-60.519 34.706a2.358 2.358 0 0 0-.831-.15c-.365 0-.704.084-.98.244l-6.012 3.471c-.442.255-.699.69-.689 1.166l.001.15-6.08 3.487c-.373.199-2.542 1.531-3.29 5.898l-.006.039c-.009.07-.92 7.173-.906 19.875.014 12.62.603 17.116 1.172 21.465l.002.015c.308 2.355 3.475 2.923 3.836 2.98l.034.004c.101.013.204.019.305.019a2.77 2.77 0 0 0 1.396-.392l75.273-43.552c1.811-1.071 2.999-3.423 3.542-6.997 1.186-7.814 1.734-33.096-.301-40.299-.253-.893-.704-1.527-1.343-1.882l-.132-.062-2.085-.789a.973.973 0 0 0-.353-.065' fill='#455A64'/><path d='M128.267 11.565l1.495.434-56.339 32.326' fill='#FFF'/><path d='M74.202 90.545a.5.5 0 0 1-.25-.931l18.437-10.645a.499.499 0 1 1 .499.864L74.451 90.478l-.249.067M75.764 42.654l-.108-.062.046-.171 5.135-2.964.17.045-.045.171-5.135 2.964-.063.017M70.52 90.375V46.421l.063-.036L137.84 7.554v43.954l-.062.036L70.52 90.375zm.25-43.811v43.38l66.821-38.579V7.985L70.77 46.564z' fill='#607D8B'/><path d='M86.986 83.182c-.23.149-.612.384-.849.523l-11.505 6.701c-.237.139-.206.252.068.252h.565c.275 0 .693-.113.93-.252L87.7 83.705c.237-.139.428-.253.425-.256a11.29 11.29 0 0 1-.006-.503c0-.274-.188-.377-.418-.227l-.715.463' fill='#607D8B'/><path d='M75.266 90.782H74.7c-.2 0-.316-.056-.346-.166-.03-.11.043-.217.215-.317l11.505-6.702c.236-.138.615-.371.844-.519l.715-.464a.488.488 0 0 1 .266-.089c.172 0 .345.13.345.421 0 .214.001.363.003.437l.006.004-.004.069c-.003.075-.003.075-.486.356l-11.505 6.702a2.282 2.282 0 0 1-.992.268zm-.6-.25l.034.001h.566c.252 0 .649-.108.866-.234l11.505-6.702c.168-.098.294-.173.361-.214-.004-.084-.004-.218-.004-.437l-.095-.171-.131.049-.714.463c-.232.15-.616.386-.854.525l-11.505 6.702-.029.018z' fill='#607D8B'/><path d='M75.266 89.871H74.7c-.2 0-.316-.056-.346-.166-.03-.11.043-.217.215-.317l11.505-6.702c.258-.151.694-.268.993-.268h.565c.2 0 .316.056.346.166.03.11-.043.217-.215.317l-11.505 6.702a2.282 2.282 0 0 1-.992.268zm-.6-.25l.034.001h.566c.252 0 .649-.107.866-.234l11.505-6.702.03-.018-.035-.001h-.565c-.252 0-.649.108-.867.234l-11.505 6.702-.029.018zM74.37 90.801v-1.247 1.247' fill='#607D8B'/><path d='M68.13 93.901c-.751-.093-1.314-.737-1.439-1.376-.831-4.238-1.151-8.782-1.165-21.352-.015-12.784.897-19.745.897-19.745.711-4.146 2.787-5.192 2.787-5.192l74.859-43.219c.223-.129 2.487-1.584 3.195.923 1.95 6.9 1.488 31.887.275 39.878-.389 2.565-1.248 5.215-3.056 6.283L69.21 93.653c-.382.221-.749.288-1.08.248 0 0-2.781-.441-3.001-2.125-.561-4.281-1.152-8.781-1.167-21.351-.014-12.784.898-19.745.898-19.745.71-4.146 2.787-5.191 2.787-5.191l6.598-3.81.871-.119 6.599-3.83.046-.461L68.13 93.901' fill='#FAFAFA'/><path d='M68.317 94.161l-.215-.013h-.001l-.244-.047c-.719-.156-2.772-.736-2.976-2.292-.568-4.34-1.154-8.813-1.168-21.384-.014-12.654.891-19.707.9-19.777.725-4.231 2.832-5.338 2.922-5.382l6.628-3.827.87-.119 6.446-3.742.034-.334a.248.248 0 0 1 .273-.223.248.248 0 0 1 .223.272l-.059.589-6.752 3.919-.87.118-6.556 3.785c-.031.016-1.99 1.068-2.666 5.018-.007.06-.908 7.086-.894 19.702.014 12.539.597 16.996 1.161 21.305.091.691.689 1.154 1.309 1.452a1.95 1.95 0 0 1-.236-.609c-.781-3.984-1.155-8.202-1.17-21.399-.014-12.653.891-19.707.9-19.777.725-4.231 2.832-5.337 2.922-5.382-.004.001 74.444-42.98 74.846-43.212l.028-.017c.904-.538 1.72-.688 2.36-.433.555.221.949.733 1.172 1.52 2.014 7.128 1.46 32.219.281 39.983-.507 3.341-1.575 5.515-3.175 6.462L69.335 93.869a2.023 2.023 0 0 1-1.018.292zm-.147-.507c.293.036.604-.037.915-.217l75.273-43.551c1.823-1.078 2.602-3.915 2.934-6.106 1.174-7.731 1.731-32.695-.268-39.772-.178-.631-.473-1.032-.876-1.192-.484-.193-1.166-.052-1.921.397l-.034.021-74.858 43.218c-.031.017-1.989 1.069-2.666 5.019-.007.059-.908 7.085-.894 19.702.015 13.155.386 17.351 1.161 21.303.09.461.476.983 1.037 1.139.114.025.185.037.196.039h.001z' fill='#455A64'/><path d='M69.317 68.982c.489-.281.885-.056.885.505 0 .56-.396 1.243-.885 1.525-.488.282-.884.057-.884-.504 0-.56.396-1.243.884-1.526' fill='#FFF'/><path d='M68.92 71.133c-.289 0-.487-.228-.487-.625 0-.56.396-1.243.884-1.526a.812.812 0 0 1 .397-.121c.289 0 .488.229.488.626 0 .56-.396 1.243-.885 1.525a.812.812 0 0 1-.397.121m.794-2.459a.976.976 0 0 0-.49.147c-.548.317-.978 1.058-.978 1.687 0 .486.271.812.674.812a.985.985 0 0 0 .491-.146c.548-.317.978-1.057.978-1.687 0-.486-.272-.813-.675-.813' fill='#8097A2'/><path d='M68.92 70.947c-.271 0-.299-.307-.299-.439 0-.491.361-1.116.79-1.363a.632.632 0 0 1 .303-.096c.272 0 .301.306.301.438 0 .491-.363 1.116-.791 1.364a.629.629 0 0 1-.304.096m.794-2.086a.812.812 0 0 0-.397.121c-.488.283-.884.966-.884 1.526 0 .397.198.625.487.625a.812.812 0 0 0 .397-.121c.489-.282.885-.965.885-1.525 0-.397-.199-.626-.488-.626' fill='#8097A2'/><path d='M69.444 85.35c.264-.152.477-.031.477.272 0 .303-.213.67-.477.822-.263.153-.477.031-.477-.271 0-.302.214-.671.477-.823' fill='#FFF'/><path d='M69.23 86.51c-.156 0-.263-.123-.263-.337 0-.302.214-.671.477-.823a.431.431 0 0 1 .214-.066c.156 0 .263.124.263.338 0 .303-.213.67-.477.822a.431.431 0 0 1-.214.066m.428-1.412c-.1 0-.203.029-.307.09-.32.185-.57.618-.57.985 0 .309.185.524.449.524a.63.63 0 0 0 .308-.09c.32-.185.57-.618.57-.985 0-.309-.185-.524-.45-.524' fill='#8097A2'/><path d='M69.23 86.322l-.076-.149c0-.235.179-.544.384-.661l.12-.041.076.151c0 .234-.179.542-.383.66l-.121.04m.428-1.038a.431.431 0 0 0-.214.066c-.263.152-.477.521-.477.823 0 .214.107.337.263.337a.431.431 0 0 0 .214-.066c.264-.152.477-.519.477-.822 0-.214-.107-.338-.263-.338' fill='#8097A2'/><path d='M139.278 7.769v43.667L72.208 90.16V46.493l67.07-38.724' fill='#455A64'/><path d='M72.083 90.375V46.421l.063-.036 67.257-38.831v43.954l-.062.036-67.258 38.831zm.25-43.811v43.38l66.821-38.579V7.985L72.333 46.564z' fill='#607D8B'/></g><path d='M125.737 88.647l-7.639 3.334V84l-11.459 4.713v8.269L99 100.315l13.369 3.646 13.368-15.314' fill='#455A64'/></g></svg>";function tt(){this.loadIcon_();var re=document.createElement("div"),bt=re.style;bt.position="fixed",bt.top=0,bt.right=0,bt.bottom=0,bt.left=0,bt.backgroundColor="gray",bt.fontFamily="sans-serif",bt.zIndex=1e6;var se=document.createElement("img");se.src=this.icon;var bt=se.style;bt.marginLeft="25%",bt.marginTop="25%",bt.width="50%",re.appendChild(se);var _e=document.createElement("div"),bt=_e.style;bt.textAlign="center",bt.fontSize="16px",bt.lineHeight="24px",bt.margin="24px 25%",bt.width="50%",_e.innerHTML="Place your phone into your Cardboard viewer.",re.appendChild(_e);var Fe=document.createElement("div"),bt=Fe.style;bt.backgroundColor="#CFD8DC",bt.position="fixed",bt.bottom=0,bt.width="100%",bt.height="48px",bt.padding="14px 24px",bt.boxSizing="border-box",bt.color="#656A6B",re.appendChild(Fe);var Ye=document.createElement("div");Ye.style.float="left",Ye.innerHTML="No Cardboard viewer?";var at=document.createElement("a");at.href="https://www.google.com/get/cardboard/get-cardboard/",at.innerHTML="get one",at.target="_blank";var bt=at.style;bt.float="right",bt.fontWeight=600,bt.textTransform="uppercase",bt.borderLeft="1px solid gray",bt.paddingLeft="24px",bt.textDecoration="none",bt.color="#656A6B",Fe.appendChild(Ye),Fe.appendChild(at),this.overlay=re,this.text=_e,this.hide()}tt.prototype.show=function(re){!re&&!this.overlay.parentElement?document.body.appendChild(this.overlay):re&&(this.overlay.parentElement&&this.overlay.parentElement!=re&&this.overlay.parentElement.removeChild(this.overlay),re.appendChild(this.overlay)),this.overlay.style.display="block";var se=this.overlay.querySelector("img"),_e=se.style;oe()?(_e.width="20%",_e.marginLeft="40%",_e.marginTop="3%"):(_e.width="50%",_e.marginLeft="25%",_e.marginTop="25%")},tt.prototype.hide=function(){this.overlay.style.display="none"},tt.prototype.showTemporarily=function(re,se){this.show(se),this.timer=setTimeout(this.hide.bind(this),re)},tt.prototype.disableShowTemporarily=function(){clearTimeout(this.timer)},tt.prototype.update=function(){this.disableShowTemporarily(),!oe()&&ot()?this.show():this.hide()},tt.prototype.loadIcon_=function(){this.icon=O("image/svg+xml",De)};var St="CardboardV1",Mt="WEBVR_CARDBOARD_VIEWER",Ut="webvr-polyfill-viewer-selector";function Qt(re){try{this.selectedKey=localStorage.getItem(Mt)}catch(se){console.error("Failed to load viewer profile: %s",se)}this.selectedKey||(this.selectedKey=re||St),this.dialog=this.createDialog_(Vt.Viewers),this.root=null,this.onChangeCallbacks_=[]}Qt.prototype.show=function(re){this.root=re,re.appendChild(this.dialog);var se=this.dialog.querySelector("#"+this.selectedKey);se.checked=!0,this.dialog.style.display="block"},Qt.prototype.hide=function(){this.root&&this.root.contains(this.dialog)&&this.root.removeChild(this.dialog),this.dialog.style.display="none"},Qt.prototype.getCurrentViewer=function(){return Vt.Viewers[this.selectedKey]},Qt.prototype.getSelectedKey_=function(){var re=this.dialog.querySelector("input[name=field]:checked");return re?re.id:null},Qt.prototype.onChange=function(re){this.onChangeCallbacks_.push(re)},Qt.prototype.fireOnChange_=function(re){for(var se=0;se<this.onChangeCallbacks_.length;se++)this.onChangeCallbacks_[se](re)},Qt.prototype.onSave_=function(){if(this.selectedKey=this.getSelectedKey_(),!this.selectedKey||!Vt.Viewers[this.selectedKey]){console.error("ViewerSelector.onSave_: this should never happen!");return}this.fireOnChange_(Vt.Viewers[this.selectedKey]);try{localStorage.setItem(Mt,this.selectedKey)}catch(re){console.error("Failed to save viewer profile: %s",re)}this.hide()},Qt.prototype.createDialog_=function(re){var se=document.createElement("div");se.classList.add(Ut),se.style.display="none";var _e=document.createElement("div"),at=_e.style;at.position="fixed",at.left=0,at.top=0,at.width="100%",at.height="100%",at.background="rgba(0, 0, 0, 0.3)",_e.addEventListener("click",this.hide.bind(this));var Fe=280,Ye=document.createElement("div"),at=Ye.style;at.boxSizing="border-box",at.position="fixed",at.top="24px",at.left="50%",at.marginLeft=-Fe/2+"px",at.width=Fe+"px",at.padding="24px",at.overflow="hidden",at.background="#fafafa",at.fontFamily="'Roboto', sans-serif",at.boxShadow="0px 5px 20px #666",Ye.appendChild(this.createH1_("Select your viewer"));for(var bt in re)Ye.appendChild(this.createChoice_(bt,re[bt].label));return Ye.appendChild(this.createButton_("Save",this.onSave_.bind(this))),se.appendChild(_e),se.appendChild(Ye),se},Qt.prototype.createH1_=function(re){var se=document.createElement("h1"),_e=se.style;return _e.color="black",_e.fontSize="20px",_e.fontWeight="bold",_e.marginTop=0,_e.marginBottom="24px",se.innerHTML=re,se},Qt.prototype.createChoice_=function(re,se){var _e=document.createElement("div");_e.style.marginTop="8px",_e.style.color="black";var Fe=document.createElement("input");Fe.style.fontSize="30px",Fe.setAttribute("id",re),Fe.setAttribute("type","radio"),Fe.setAttribute("value",re),Fe.setAttribute("name","field");var Ye=document.createElement("label");return Ye.style.marginLeft="4px",Ye.setAttribute("for",re),Ye.innerHTML=se,_e.appendChild(Fe),_e.appendChild(Ye),_e},Qt.prototype.createButton_=function(re,se){var _e=document.createElement("button");_e.innerHTML=re;var Fe=_e.style;return Fe.float="right",Fe.textTransform="uppercase",Fe.color="#1094f7",Fe.fontSize="14px",Fe.letterSpacing=0,Fe.border=0,Fe.background="none",Fe.marginTop="16px",_e.addEventListener("click",se),_e};var mn=typeof window<"u"?window:typeof d<"u"?d:typeof self<"u"?self:{};function sn(re){return re&&re.__esModule&&Object.prototype.hasOwnProperty.call(re,"default")?re.default:re}function Kt(re,se){return se={exports:{}},re(se,se.exports),se.exports}var Hn=Kt(function(re,se){(function(Fe,Ye){re.exports=Ye()})(mn,function(){return function(_e){var Fe={};function Ye(at){if(Fe[at])return Fe[at].exports;var bt=Fe[at]={i:at,l:!1,exports:{}};return _e[at].call(bt.exports,bt,bt.exports,Ye),bt.l=!0,bt.exports}return Ye.m=_e,Ye.c=Fe,Ye.d=function(at,bt,pe){Ye.o(at,bt)||Object.defineProperty(at,bt,{configurable:!1,enumerable:!0,get:pe})},Ye.n=function(at){var bt=at&&at.__esModule?function(){return at.default}:function(){return at};return Ye.d(bt,"a",bt),bt},Ye.o=function(at,bt){return Object.prototype.hasOwnProperty.call(at,bt)},Ye.p="",Ye(Ye.s=0)}([function(_e,Fe,Ye){var at=function(){function Me(Pe,yt){for(var Ft=0;Ft<yt.length;Ft++){var Zt=yt[Ft];Zt.enumerable=Zt.enumerable||!1,Zt.configurable=!0,"value"in Zt&&(Zt.writable=!0),Object.defineProperty(Pe,Zt.key,Zt)}}return function(Pe,yt,Ft){return yt&&Me(Pe.prototype,yt),Ft&&Me(Pe,Ft),Pe}}();function bt(Me,Pe){if(!(Me instanceof Pe))throw new TypeError("Cannot call a class as a function")}var pe=Ye(1),ye=typeof navigator<"u"&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,Ee=function(){function Me(){bt(this,Me),ye?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("playsinline",""),this.noSleepVideo.setAttribute("src",pe),this.noSleepVideo.addEventListener("timeupdate",(function(Pe){this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())}).bind(this)))}return at(Me,[{key:"enable",value:function(){ye?(this.disable(),this.noSleepTimer=window.setInterval(function(){window.location.href="/",window.setTimeout(window.stop,0)},15e3)):this.noSleepVideo.play()}},{key:"disable",value:function(){ye?this.noSleepTimer&&(window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause()}}]),Me}();_e.exports=Ee},function(_e,Fe,Ye){_e.exports="data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQADQGgcIQADQGgcAAAACQGeYUQn/wALKCEAA0BoHAAAAAkBnmNEJ/8ACykhAANAaBwhAANAaBwAAAANQZpoNExDP/6plgAMuSEAA0BoHAAAAAtBnoZFESwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBnqVEJ/8ACykhAANAaBwAAAAJAZ6nRCf/AAsoIQADQGgcIQADQGgcAAAADUGarDRMQz/+qZYADLghAANAaBwAAAALQZ7KRRUsK/8ACPkhAANAaBwAAAAJAZ7pRCf/AAsoIQADQGgcIQADQGgcAAAACQGe60Qn/wALKCEAA0BoHAAAAA1BmvA0TEM//qmWAAy5IQADQGgcIQADQGgcAAAAC0GfDkUVLCv/AAj5IQADQGgcAAAACQGfLUQn/wALKSEAA0BoHCEAA0BoHAAAAAkBny9EJ/8ACyghAANAaBwAAAANQZs0NExDP/6plgAMuCEAA0BoHAAAAAtBn1JFFSwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBn3FEJ/8ACyghAANAaBwAAAAJAZ9zRCf/AAsoIQADQGgcIQADQGgcAAAADUGbeDRMQz/+qZYADLkhAANAaBwAAAALQZ+WRRUsK/8ACPghAANAaBwhAANAaBwAAAAJAZ+1RCf/AAspIQADQGgcAAAACQGft0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bm7w0TEM//qmWAAy4IQADQGgcAAAAC0Gf2kUVLCv/AAj5IQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHAAAAAkBn/tEJ/8ACykhAANAaBwAAAANQZvgNExDP/6plgAMuSEAA0BoHCEAA0BoHAAAAAtBnh5FFSwr/wAI+CEAA0BoHAAAAAkBnj1EJ/8ACyghAANAaBwhAANAaBwAAAAJAZ4/RCf/AAspIQADQGgcAAAADUGaJDRMQz/+qZYADLghAANAaBwAAAALQZ5CRRUsK/8ACPkhAANAaBwhAANAaBwAAAAJAZ5hRCf/AAsoIQADQGgcAAAACQGeY0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bmmg0TEM//qmWAAy5IQADQGgcAAAAC0GehkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGepUQn/wALKSEAA0BoHAAAAAkBnqdEJ/8ACyghAANAaBwAAAANQZqsNExDP/6plgAMuCEAA0BoHCEAA0BoHAAAAAtBnspFFSwr/wAI+SEAA0BoHAAAAAkBnulEJ/8ACyghAANAaBwhAANAaBwAAAAJAZ7rRCf/AAsoIQADQGgcAAAADUGa8DRMQz/+qZYADLkhAANAaBwhAANAaBwAAAALQZ8ORRUsK/8ACPkhAANAaBwAAAAJAZ8tRCf/AAspIQADQGgcIQADQGgcAAAACQGfL0Qn/wALKCEAA0BoHAAAAA1BmzQ0TEM//qmWAAy4IQADQGgcAAAAC0GfUkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGfcUQn/wALKCEAA0BoHAAAAAkBn3NEJ/8ACyghAANAaBwhAANAaBwAAAANQZt4NExC//6plgAMuSEAA0BoHAAAAAtBn5ZFFSwr/wAI+CEAA0BoHCEAA0BoHAAAAAkBn7VEJ/8ACykhAANAaBwAAAAJAZ+3RCf/AAspIQADQGgcAAAADUGbuzRMQn/+nhAAYsAhAANAaBwhAANAaBwAAAAJQZ/aQhP/AAspIQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHAAACiFtb292AAAAbG12aGQAAAAA1YCCX9WAgl8AAAPoAAAH/AABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAGGlvZHMAAAAAEICAgAcAT////v7/AAAF+XRyYWsAAABcdGtoZAAAAAPVgIJf1YCCXwAAAAEAAAAAAAAH0AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAygAAAMoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAB9AAABdwAAEAAAAABXFtZGlhAAAAIG1kaGQAAAAA1YCCX9WAgl8AAV+QAAK/IFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAUcbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAE3HN0YmwAAACYc3RzZAAAAAAAAAABAAAAiGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAygDKAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAyYXZjQwFNQCj/4QAbZ01AKOyho3ySTUBAQFAAAAMAEAAr8gDxgxlgAQAEaO+G8gAAABhzdHRzAAAAAAAAAAEAAAA8AAALuAAAABRzdHNzAAAAAAAAAAEAAAABAAAB8GN0dHMAAAAAAAAAPAAAAAEAABdwAAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAAC7gAAAAAQAAF3AAAAABAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAEEc3RzegAAAAAAAAAAAAAAPAAAAzQAAAAQAAAADQAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAANAAAADQAAAQBzdGNvAAAAAAAAADwAAAAwAAADZAAAA3QAAAONAAADoAAAA7kAAAPQAAAD6wAAA/4AAAQXAAAELgAABEMAAARcAAAEbwAABIwAAAShAAAEugAABM0AAATkAAAE/wAABRIAAAUrAAAFQgAABV0AAAVwAAAFiQAABaAAAAW1AAAFzgAABeEAAAX+AAAGEwAABiwAAAY/AAAGVgAABnEAAAaEAAAGnQAABrQAAAbPAAAG4gAABvUAAAcSAAAHJwAAB0AAAAdTAAAHcAAAB4UAAAeeAAAHsQAAB8gAAAfjAAAH9gAACA8AAAgmAAAIQQAACFQAAAhnAAAIhAAACJcAAAMsdHJhawAAAFx0a2hkAAAAA9WAgl/VgIJfAAAAAgAAAAAAAAf8AAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAACsm1kaWEAAAAgbWRoZAAAAADVgIJf1YCCXwAArEQAAWAAVcQAAAAAACdoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU3RlcmVvAAAAAmNtaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAidzdGJsAAAAZ3N0c2QAAAAAAAAAAQAAAFdtcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAADNlc2RzAAAAAAOAgIAiAAIABICAgBRAFQAAAAADDUAAAAAABYCAgAISEAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAABYAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAGAAAAWAAAAXBzdGNvAAAAAAAAAFgAAAOBAAADhwAAA5oAAAOtAAADswAAA8oAAAPfAAAD5QAAA/gAAAQLAAAEEQAABCgAAAQ9AAAEUAAABFYAAARpAAAEgAAABIYAAASbAAAErgAABLQAAATHAAAE3gAABPMAAAT5AAAFDAAABR8AAAUlAAAFPAAABVEAAAVXAAAFagAABX0AAAWDAAAFmgAABa8AAAXCAAAFyAAABdsAAAXyAAAF+AAABg0AAAYgAAAGJgAABjkAAAZQAAAGZQAABmsAAAZ+AAAGkQAABpcAAAauAAAGwwAABskAAAbcAAAG7wAABwYAAAcMAAAHIQAABzQAAAc6AAAHTQAAB2QAAAdqAAAHfwAAB5IAAAeYAAAHqwAAB8IAAAfXAAAH3QAAB/AAAAgDAAAICQAACCAAAAg1AAAIOwAACE4AAAhhAAAIeAAACH4AAAiRAAAIpAAACKoAAAiwAAAItgAACLwAAAjCAAAAFnVkdGEAAAAObmFtZVN0ZXJlbwAAAHB1ZHRhAAAAaG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAO2lsc3QAAAAzqXRvbwAAACtkYXRhAAAAAQAAAABIYW5kQnJha2UgMC4xMC4yIDIwMTUwNjExMDA="}])})}),Nn=sn(Hn),er=1e3,yr=[0,0,.5,1],kn=[.5,0,.5,1],dr=window.requestAnimationFrame,sr=window.cancelAnimationFrame;function Dr(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null}function or(re){Object.defineProperties(this,{hasPosition:{writable:!1,enumerable:!0,value:re.hasPosition},hasExternalDisplay:{writable:!1,enumerable:!0,value:re.hasExternalDisplay},canPresent:{writable:!1,enumerable:!0,value:re.canPresent},maxLayers:{writable:!1,enumerable:!0,value:re.maxLayers},hasOrientation:{enumerable:!0,get:function(){return Yt("VRDisplayCapabilities.prototype.hasOrientation","VRDisplay.prototype.getFrameData"),re.hasOrientation}}})}function Jt(re){re=re||{};var se="wakelock"in re?re.wakelock:!0;this.isPolyfilled=!0,this.displayId=er++,this.displayName="",this.depthNear=.01,this.depthFar=1e4,this.isPresenting=!1,Object.defineProperty(this,"isConnected",{get:function(){return Yt("VRDisplay.prototype.isConnected","VRDisplayCapabilities.prototype.hasExternalDisplay"),!1}}),this.capabilities=new or({hasPosition:!1,hasOrientation:!1,hasExternalDisplay:!1,canPresent:!1,maxLayers:1}),this.stageParameters=null,this.waitingForPresent_=!1,this.layer_=null,this.originalParent_=null,this.fullscreenElement_=null,this.fullscreenWrapper_=null,this.fullscreenElementCachedStyle_=null,this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null,se&&ot()&&(this.wakelock_=new Nn)}Jt.prototype.getFrameData=function(re){return xt(re,this._getPose(),this)},Jt.prototype.getPose=function(){return Yt("VRDisplay.prototype.getPose","VRDisplay.prototype.getFrameData"),this._getPose()},Jt.prototype.resetPose=function(){return Yt("VRDisplay.prototype.resetPose"),this._resetPose()},Jt.prototype.getImmediatePose=function(){return Yt("VRDisplay.prototype.getImmediatePose","VRDisplay.prototype.getFrameData"),this._getPose()},Jt.prototype.requestAnimationFrame=function(re){return dr(re)},Jt.prototype.cancelAnimationFrame=function(re){return sr(re)},Jt.prototype.wrapForFullscreen=function(re){if(k())return re;if(!this.fullscreenWrapper_){this.fullscreenWrapper_=document.createElement("div");var se=["height: "+Math.min(screen.height,screen.width)+"px !important","top: 0 !important","left: 0 !important","right: 0 !important","border: 0","margin: 0","padding: 0","z-index: 999999 !important","position: fixed"];this.fullscreenWrapper_.setAttribute("style",se.join("; ")+";"),this.fullscreenWrapper_.classList.add("webvr-polyfill-fullscreen-wrapper")}if(this.fullscreenElement_==re)return this.fullscreenWrapper_;if(this.fullscreenElement_&&(this.originalParent_?this.originalParent_.appendChild(this.fullscreenElement_):this.fullscreenElement_.parentElement.removeChild(this.fullscreenElement_)),this.fullscreenElement_=re,this.originalParent_=re.parentElement,this.originalParent_||document.body.appendChild(re),!this.fullscreenWrapper_.parentElement){var _e=this.fullscreenElement_.parentElement;_e.insertBefore(this.fullscreenWrapper_,this.fullscreenElement_),_e.removeChild(this.fullscreenElement_)}this.fullscreenWrapper_.insertBefore(this.fullscreenElement_,this.fullscreenWrapper_.firstChild),this.fullscreenElementCachedStyle_=this.fullscreenElement_.getAttribute("style");var Fe=this;function Ye(){if(Fe.fullscreenElement_){var at=["position: absolute","top: 0","left: 0","width: "+Math.max(screen.width,screen.height)+"px","height: "+Math.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0"];Fe.fullscreenElement_.setAttribute("style",at.join("; ")+";")}}return Ye(),this.fullscreenWrapper_},Jt.prototype.removeFullscreenWrapper=function(){if(this.fullscreenElement_){var re=this.fullscreenElement_;this.fullscreenElementCachedStyle_?re.setAttribute("style",this.fullscreenElementCachedStyle_):re.removeAttribute("style"),this.fullscreenElement_=null,this.fullscreenElementCachedStyle_=null;var se=this.fullscreenWrapper_.parentElement;return this.fullscreenWrapper_.removeChild(re),this.originalParent_===se?se.insertBefore(re,this.fullscreenWrapper_):this.originalParent_&&this.originalParent_.appendChild(re),se.removeChild(this.fullscreenWrapper_),re}},Jt.prototype.requestPresent=function(re){var se=this.isPresenting,_e=this;return re instanceof Array||(Yt("VRDisplay.prototype.requestPresent with non-array argument","an array of VRLayers as the first argument"),re=[re]),new Promise(function(Fe,Ye){if(!_e.capabilities.canPresent){Ye(new Error("VRDisplay is not capable of presenting."));return}if(re.length==0||re.length>_e.capabilities.maxLayers){Ye(new Error("Invalid number of layers."));return}var at=re[0];if(!at.source){Fe();return}var bt=at.leftBounds||yr,pe=at.rightBounds||kn;if(se){var ye=_e.layer_;ye.source!==at.source&&(ye.source=at.source);for(var Ee=0;Ee<4;Ee++)ye.leftBounds[Ee]=bt[Ee],ye.rightBounds[Ee]=pe[Ee];_e.wrapForFullscreen(_e.layer_.source),_e.updatePresent_(),Fe();return}if(_e.layer_={predistorted:at.predistorted,source:at.source,leftBounds:bt.slice(0),rightBounds:pe.slice(0)},_e.waitingForPresent_=!1,_e.layer_&&_e.layer_.source){var Me=_e.wrapForFullscreen(_e.layer_.source),Pe=function(){var Zt=Ze();_e.isPresenting=Me===Zt,_e.isPresenting?(screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape-primary").catch(function(dn){console.error("screen.orientation.lock() failed due to",dn.message)}),_e.waitingForPresent_=!1,_e.beginPresent_(),Fe()):(screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),_e.removeFullscreenWrapper(),_e.disableWakeLock(),_e.endPresent_(),_e.removeFullscreenListeners_()),_e.fireVRDisplayPresentChange_()},yt=function(){_e.waitingForPresent_&&(_e.removeFullscreenWrapper(),_e.removeFullscreenListeners_(),_e.disableWakeLock(),_e.waitingForPresent_=!1,_e.isPresenting=!1,Ye(new Error("Unable to present.")))};_e.addFullscreenListeners_(Me,Pe,yt),Ie(Me)?(_e.enableWakeLock(),_e.waitingForPresent_=!0):(k()||z())&&(_e.enableWakeLock(),_e.isPresenting=!0,_e.beginPresent_(),_e.fireVRDisplayPresentChange_(),Fe())}!_e.waitingForPresent_&&!k()&&(He(),Ye(new Error("Unable to present.")))})},Jt.prototype.exitPresent=function(){var re=this.isPresenting,se=this;return this.isPresenting=!1,this.layer_=null,this.disableWakeLock(),new Promise(function(_e,Fe){re?(!He()&&k()&&(se.endPresent_(),se.fireVRDisplayPresentChange_()),z()&&(se.removeFullscreenWrapper(),se.removeFullscreenListeners_(),se.endPresent_(),se.fireVRDisplayPresentChange_()),_e()):Fe(new Error("Was not presenting to VRDisplay."))})},Jt.prototype.getLayers=function(){return this.layer_?[this.layer_]:[]},Jt.prototype.fireVRDisplayPresentChange_=function(){var re=new CustomEvent("vrdisplaypresentchange",{detail:{display:this}});window.dispatchEvent(re)},Jt.prototype.fireVRDisplayConnect_=function(){var re=new CustomEvent("vrdisplayconnect",{detail:{display:this}});window.dispatchEvent(re)},Jt.prototype.addFullscreenListeners_=function(re,se,_e){this.removeFullscreenListeners_(),this.fullscreenEventTarget_=re,this.fullscreenChangeHandler_=se,this.fullscreenErrorHandler_=_e,se&&(document.fullscreenEnabled?re.addEventListener("fullscreenchange",se,!1):document.webkitFullscreenEnabled?re.addEventListener("webkitfullscreenchange",se,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenchange",se,!1):document.msFullscreenEnabled&&re.addEventListener("msfullscreenchange",se,!1)),_e&&(document.fullscreenEnabled?re.addEventListener("fullscreenerror",_e,!1):document.webkitFullscreenEnabled?re.addEventListener("webkitfullscreenerror",_e,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenerror",_e,!1):document.msFullscreenEnabled&&re.addEventListener("msfullscreenerror",_e,!1))},Jt.prototype.removeFullscreenListeners_=function(){if(this.fullscreenEventTarget_){var re=this.fullscreenEventTarget_;if(this.fullscreenChangeHandler_){var se=this.fullscreenChangeHandler_;re.removeEventListener("fullscreenchange",se,!1),re.removeEventListener("webkitfullscreenchange",se,!1),document.removeEventListener("mozfullscreenchange",se,!1),re.removeEventListener("msfullscreenchange",se,!1)}if(this.fullscreenErrorHandler_){var _e=this.fullscreenErrorHandler_;re.removeEventListener("fullscreenerror",_e,!1),re.removeEventListener("webkitfullscreenerror",_e,!1),document.removeEventListener("mozfullscreenerror",_e,!1),re.removeEventListener("msfullscreenerror",_e,!1)}this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null}},Jt.prototype.enableWakeLock=function(){this.wakelock_&&this.wakelock_.enable()},Jt.prototype.disableWakeLock=function(){this.wakelock_&&this.wakelock_.disable()},Jt.prototype.beginPresent_=function(){},Jt.prototype.endPresent_=function(){},Jt.prototype.submitFrame=function(re){},Jt.prototype.getEyeParameters=function(re){return null};var bn={ADDITIONAL_VIEWERS:[],DEFAULT_VIEWER:"",MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1},qn={LEFT:"left",RIGHT:"right"};function jn(re){var se=it({},bn);re=it(se,re||{}),Jt.call(this,{wakelock:re.MOBILE_WAKE_LOCK}),this.config=re,this.displayName="Cardboard VRDisplay",this.capabilities=new or({hasPosition:!1,hasOrientation:!0,hasExternalDisplay:!1,canPresent:!0,maxLayers:1}),this.stageParameters=null,this.bufferScale_=this.config.BUFFER_SCALE,this.poseSensor_=new xe(this.config),this.distorter_=null,this.cardboardUI_=null,this.dpdb_=new Sn(this.config.DPDB_URL,this.onDeviceParamsUpdated_.bind(this)),this.deviceInfo_=new Vt(this.dpdb_.getDeviceParams(),re.ADDITIONAL_VIEWERS),this.viewerSelector_=new Qt(re.DEFAULT_VIEWER),this.viewerSelector_.onChange(this.onViewerChanged_.bind(this)),this.deviceInfo_.setViewer(this.viewerSelector_.getCurrentViewer()),this.config.ROTATE_INSTRUCTIONS_DISABLED||(this.rotateInstructions_=new tt),k()&&window.addEventListener("resize",this.onResize_.bind(this))}return jn.prototype=Object.create(Jt.prototype),jn.prototype._getPose=function(){return{position:null,orientation:this.poseSensor_.getOrientation(),linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},jn.prototype._resetPose=function(){this.poseSensor_.resetPose&&this.poseSensor_.resetPose()},jn.prototype._getFieldOfView=function(re){var se;if(re==qn.LEFT)se=this.deviceInfo_.getFieldOfViewLeftEye();else if(re==qn.RIGHT)se=this.deviceInfo_.getFieldOfViewRightEye();else return console.error("Invalid eye provided: %s",re),null;return se},jn.prototype._getEyeOffset=function(re){var se;if(re==qn.LEFT)se=[-this.deviceInfo_.viewer.interLensDistance*.5,0,0];else if(re==qn.RIGHT)se=[this.deviceInfo_.viewer.interLensDistance*.5,0,0];else return console.error("Invalid eye provided: %s",re),null;return se},jn.prototype.getEyeParameters=function(re){var se=this._getEyeOffset(re),_e=this._getFieldOfView(re),Fe={offset:se,renderWidth:this.deviceInfo_.device.width*.5*this.bufferScale_,renderHeight:this.deviceInfo_.device.height*this.bufferScale_};return Object.defineProperty(Fe,"fieldOfView",{enumerable:!0,get:function(){return Yt("VRFieldOfView","VRFrameData's projection matrices"),_e}}),Fe},jn.prototype.onDeviceParamsUpdated_=function(re){this.config.DEBUG&&console.log("DPDB reported that device params were updated."),this.deviceInfo_.updateDeviceParams(re),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_)},jn.prototype.updateBounds_=function(){this.layer_&&this.distorter_&&(this.layer_.leftBounds||this.layer_.rightBounds)&&this.distorter_.setTextureBounds(this.layer_.leftBounds,this.layer_.rightBounds)},jn.prototype.beginPresent_=function(){var re=this.layer_.source.getContext("webgl");re||(re=this.layer_.source.getContext("experimental-webgl")),re||(re=this.layer_.source.getContext("webgl2")),re&&(this.layer_.predistorted?this.config.CARDBOARD_UI_DISABLED||(re.canvas.width=Be()*this.bufferScale_,re.canvas.height=ge()*this.bufferScale_,this.cardboardUI_=new ve(re)):(this.config.CARDBOARD_UI_DISABLED||(this.cardboardUI_=new ve(re)),this.distorter_=new Te(re,this.cardboardUI_,this.config.BUFFER_SCALE,this.config.DIRTY_SUBMIT_FRAME_BINDINGS),this.distorter_.updateDeviceInfo(this.deviceInfo_)),this.cardboardUI_&&this.cardboardUI_.listen((function(se){this.viewerSelector_.show(this.layer_.source.parentElement),se.stopPropagation(),se.preventDefault()}).bind(this),(function(se){this.exitPresent(),se.stopPropagation(),se.preventDefault()}).bind(this)),this.rotateInstructions_&&(oe()&&ot()?this.rotateInstructions_.showTemporarily(3e3,this.layer_.source.parentElement):this.rotateInstructions_.update()),this.orientationHandler=this.onOrientationChange_.bind(this),window.addEventListener("orientationchange",this.orientationHandler),this.vrdisplaypresentchangeHandler=this.updateBounds_.bind(this),window.addEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler),this.fireVRDisplayDeviceParamsChange_())},jn.prototype.endPresent_=function(){this.distorter_&&(this.distorter_.destroy(),this.distorter_=null),this.cardboardUI_&&(this.cardboardUI_.destroy(),this.cardboardUI_=null),this.rotateInstructions_&&this.rotateInstructions_.hide(),this.viewerSelector_.hide(),window.removeEventListener("orientationchange",this.orientationHandler),window.removeEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler)},jn.prototype.updatePresent_=function(){this.endPresent_(),this.beginPresent_()},jn.prototype.submitFrame=function(re){if(this.distorter_)this.updateBounds_(),this.distorter_.submitFrame();else if(this.cardboardUI_&&this.layer_){var se=this.layer_.source.getContext("webgl");se||(se=this.layer_.source.getContext("experimental-webgl")),se||(se=this.layer_.source.getContext("webgl2"));var _e=se.canvas;(_e.width!=this.lastWidth||_e.height!=this.lastHeight)&&this.cardboardUI_.onResize(),this.lastWidth=_e.width,this.lastHeight=_e.height,this.cardboardUI_.render()}},jn.prototype.onOrientationChange_=function(re){this.viewerSelector_.hide(),this.rotateInstructions_&&this.rotateInstructions_.update(),this.onResize_()},jn.prototype.onResize_=function(re){if(this.layer_){var se=this.layer_.source.getContext("webgl");se||(se=this.layer_.source.getContext("experimental-webgl")),se||(se=this.layer_.source.getContext("webgl2"));var _e=["position: absolute","top: 0","left: 0","width: 100vw","height: 100vh","border: 0","margin: 0","padding: 0px","box-sizing: content-box"];se.canvas.setAttribute("style",_e.join("; ")+";"),ft(se.canvas)}},jn.prototype.onViewerChanged_=function(re){this.deviceInfo_.setViewer(re),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_),this.fireVRDisplayDeviceParamsChange_()},jn.prototype.fireVRDisplayDeviceParamsChange_=function(){var re=new CustomEvent("vrdisplaydeviceparamschange",{detail:{vrdisplay:this,deviceInfo:this.deviceInfo_}});window.dispatchEvent(re)},jn.VRFrameData=Dr,jn.VRDisplay=Jt,jn})}),b=h(A),g="0.10.12",w={ADDITIONAL_VIEWERS:[],DEFAULT_VIEWER:"",PROVIDE_MOBILE_VRDISPLAY:!0,MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1};function E(R){this.config=y(y({},w),R),this.polyfillDisplays=[],this.enabled=!1,this.hasNative="getVRDisplays"in navigator,this.native={},this.native.getVRDisplays=navigator.getVRDisplays,this.native.VRFrameData=window.VRFrameData,this.native.VRDisplay=window.VRDisplay,(!this.hasNative||this.config.PROVIDE_MOBILE_VRDISPLAY&&m())&&(this.enable(),this.getVRDisplays().then(function(P){P&&P[0]&&P[0].fireVRDisplayConnect_&&P[0].fireVRDisplayConnect_()}))}E.prototype.getPolyfillDisplays=function(){if(this._polyfillDisplaysPopulated)return this.polyfillDisplays;if(m()){var R=new b({ADDITIONAL_VIEWERS:this.config.ADDITIONAL_VIEWERS,DEFAULT_VIEWER:this.config.DEFAULT_VIEWER,MOBILE_WAKE_LOCK:this.config.MOBILE_WAKE_LOCK,DEBUG:this.config.DEBUG,DPDB_URL:this.config.DPDB_URL,CARDBOARD_UI_DISABLED:this.config.CARDBOARD_UI_DISABLED,K_FILTER:this.config.K_FILTER,PREDICTION_TIME_S:this.config.PREDICTION_TIME_S,ROTATE_INSTRUCTIONS_DISABLED:this.config.ROTATE_INSTRUCTIONS_DISABLED,YAW_ONLY:this.config.YAW_ONLY,BUFFER_SCALE:this.config.BUFFER_SCALE,DIRTY_SUBMIT_FRAME_BINDINGS:this.config.DIRTY_SUBMIT_FRAME_BINDINGS});this.polyfillDisplays.push(R)}return this._polyfillDisplaysPopulated=!0,this.polyfillDisplays},E.prototype.enable=function(){if(this.enabled=!0,this.hasNative&&this.native.VRFrameData){var R=this.native.VRFrameData,P=new this.native.VRFrameData,T=this.native.VRDisplay.prototype.getFrameData;window.VRDisplay.prototype.getFrameData=function(D){if(D instanceof R){T.call(this,D);return}T.call(this,P),D.pose=P.pose,v(P.leftProjectionMatrix,D.leftProjectionMatrix),v(P.rightProjectionMatrix,D.rightProjectionMatrix),v(P.leftViewMatrix,D.leftViewMatrix),v(P.rightViewMatrix,D.rightViewMatrix)}}navigator.getVRDisplays=this.getVRDisplays.bind(this),window.VRDisplay=b.VRDisplay,window.VRFrameData=b.VRFrameData},E.prototype.getVRDisplays=function(){var R=this;return this.config,this.hasNative?this.native.getVRDisplays.call(navigator).then(function(P){return P.length>0?P:R.getPolyfillDisplays()}):Promise.resolve(this.getPolyfillDisplays())},E.version=g,E.VRFrameData=b.VRFrameData,E.VRDisplay=b.VRDisplay;var C=Object.freeze({default:E}),_=C&&E||C;typeof d<"u"&&d.window&&(d.document||(d.document=d.window.document),d.navigator||(d.navigator=d.window.navigator));var L=_;return L})},"./node_modules/word-wrapper/index.js":l=>{var u=/\n/,c=`
`,d=/\s/;l.exports=function(A,b){var g=l.exports.lines(A,b);return g.map(function(w){return A.substring(w.start,w.end)}).join(`
`)},l.exports.lines=function(b,g){if(g=g||{},g.width===0&&g.mode!=="nowrap")return[];b=b||"";var w=typeof g.width=="number"?g.width:Number.MAX_VALUE,E=Math.max(0,g.start||0),C=typeof g.end=="number"?g.end:b.length,_=g.mode,L=g.measure||y;return _==="pre"?m(L,b,E,C,w):v(L,b,E,C,w,_)};function h(A,b,g,w){var E=A.indexOf(b,g);return E===-1||E>w?w:E}function p(A){return d.test(A)}function m(A,b,g,w,E){for(var C=[],_=g,L=g;L<w&&L<b.length;L++){var R=b.charAt(L),P=u.test(R);if(P||L===w-1){var T=P?L:L+1,D=A(b,_,T,E);C.push(D),_=L+1}}return C}function v(A,b,g,w,E,C){var _=[],L=E;for(C==="nowrap"&&(L=Number.MAX_VALUE);g<w&&g<b.length;){for(var R=h(b,c,g,w);g<R&&p(b.charAt(g));)g++;var P=A(b,g,R,L),T=g+(P.end-P.start),D=T+c.length;if(T<R){for(;T>g&&!p(b.charAt(T));)T--;if(T===g)D>g+c.length&&D--,T=D;else for(D=T;T>g&&p(b.charAt(T-c.length));)T--}if(T>=g){var $=A(b,g,T,L);_.push($)}g=D}return _}function y(A,b,g,w){var E=Math.min(w,g-b);return{start:b,end:b+E}}},"./node_modules/xhr/index.js":(l,u,c)=>{var d=c("./node_modules/global/window.js"),h=c("./node_modules/is-function/index.js"),p=c("./node_modules/parse-headers/parse-headers.js"),m=c("./node_modules/xtend/immutable.js");l.exports=b,l.exports.default=b,b.XMLHttpRequest=d.XMLHttpRequest||E,b.XDomainRequest="withCredentials"in new b.XMLHttpRequest?b.XMLHttpRequest:d.XDomainRequest,v(["get","put","post","patch","head","delete"],function(C){b[C==="delete"?"del":C]=function(_,L,R){return L=A(_,L,R),L.method=C.toUpperCase(),g(L)}});function v(C,_){for(var L=0;L<C.length;L++)_(C[L])}function y(C){for(var _ in C)if(C.hasOwnProperty(_))return!1;return!0}function A(C,_,L){var R=C;return h(_)?(L=_,typeof C=="string"&&(R={uri:C})):R=m(_,{uri:C}),R.callback=L,R}function b(C,_,L){return _=A(C,_,L),g(_)}function g(C){if(typeof C.callback>"u")throw new Error("callback argument missing");var _=!1,L=function(Z,oe,ue){_||(_=!0,C.callback(Z,oe,ue))};function R(){$.readyState===4&&setTimeout(D,0)}function P(){var J=void 0;if($.response?J=$.response:J=$.responseText||w($),j)try{J=JSON.parse(J)}catch{}return J}function T(J){return clearTimeout(Q),J instanceof Error||(J=new Error(""+(J||"Unknown XMLHttpRequest Error"))),J.statusCode=0,L(J,X)}function D(){if(!B){var J;clearTimeout(Q),C.useXDR&&$.status===void 0?J=200:J=$.status===1223?204:$.status;var Z=X,oe=null;return J!==0?(Z={body:P(),statusCode:J,method:F,headers:{},url:O,rawRequest:$},$.getAllResponseHeaders&&(Z.headers=p($.getAllResponseHeaders()))):oe=new Error("Internal XMLHttpRequest Error"),L(oe,Z,Z.body)}}var $=C.xhr||null;$||(C.cors||C.useXDR?$=new b.XDomainRequest:$=new b.XMLHttpRequest);var V,B,O=$.url=C.uri||C.url,F=$.method=C.method||"GET",k=C.body||C.data,z=$.headers=C.headers||{},G=!!C.sync,j=!1,Q,X={body:void 0,headers:{},statusCode:0,method:F,url:O,rawRequest:$};if("json"in C&&C.json!==!1&&(j=!0,z.accept||z.Accept||(z.Accept="application/json"),F!=="GET"&&F!=="HEAD"&&(z["content-type"]||z["Content-Type"]||(z["Content-Type"]="application/json"),k=JSON.stringify(C.json===!0?k:C.json))),$.onreadystatechange=R,$.onload=D,$.onerror=T,$.onprogress=function(){},$.onabort=function(){B=!0},$.ontimeout=T,$.open(F,O,!G,C.username,C.password),G||($.withCredentials=!!C.withCredentials),!G&&C.timeout>0&&(Q=setTimeout(function(){if(!B){B=!0,$.abort("timeout");var J=new Error("XMLHttpRequest timeout");J.code="ETIMEDOUT",T(J)}},C.timeout)),$.setRequestHeader)for(V in z)z.hasOwnProperty(V)&&$.setRequestHeader(V,z[V]);else if(C.headers&&!y(C.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in C&&($.responseType=C.responseType),"beforeSend"in C&&typeof C.beforeSend=="function"&&C.beforeSend($),$.send(k||null),$}function w(C){try{if(C.responseType==="document")return C.responseXML;var _=C.responseXML&&C.responseXML.documentElement.nodeName==="parsererror";if(C.responseType===""&&!_)return C.responseXML}catch{}return null}function E(){}},"./node_modules/xml-parse-from-string/index.js":l=>{l.exports=function(){return typeof self.DOMParser<"u"?function(c){var d=new self.DOMParser;return d.parseFromString(c,"application/xml")}:typeof self.ActiveXObject<"u"&&new self.ActiveXObject("Microsoft.XMLDOM")?function(c){var d=new self.ActiveXObject("Microsoft.XMLDOM");return d.async="false",d.loadXML(c),d}:function(c){var d=document.createElement("div");return d.innerHTML=c,d}}()},"./node_modules/xtend/immutable.js":l=>{l.exports=c;var u=Object.prototype.hasOwnProperty;function c(){for(var d={},h=0;h<arguments.length;h++){var p=arguments[h];for(var m in p)u.call(p,m)&&(d[m]=p[m])}return d}},"./src/components/animation.js":(l,u,c)=>{var d=c("./node_modules/super-animejs/lib/anime.es.js").default,h=c("./src/core/component.js").components,p=c("./src/core/component.js").registerComponent,m=c("./src/lib/three.js"),v=c("./src/utils/index.js"),y=new m.Color,A=new m.Color,b=v.entity.getComponentProperty,g=v.entity.setComponentProperty,w={},E="color",C="position",_="rotation",L="scale",R="components",P="object3D";l.exports.Component=p("animation",{schema:{autoplay:{default:!0},delay:{default:0},dir:{default:""},dur:{default:1e3},easing:{default:"easeInQuad"},elasticity:{default:400},enabled:{default:!0},from:{default:""},loop:{default:0,parse:function(z){return z===!0||z==="true"?!0:z===!1||z==="false"?!1:parseInt(z,10)}},property:{default:""},startEvents:{type:"array"},pauseEvents:{type:"array"},resumeEvents:{type:"array"},round:{default:!1},to:{default:""},type:{default:""},isRawProperty:{default:!1}},multiple:!0,init:function(){var z=this;this.eventDetail={name:this.attrName},this.time=0,this.animation=null,this.animationIsPlaying=!1,this.onStartEvent=this.onStartEvent.bind(this),this.beginAnimation=this.beginAnimation.bind(this),this.pauseAnimation=this.pauseAnimation.bind(this),this.resumeAnimation=this.resumeAnimation.bind(this),this.fromColor={},this.toColor={},this.targets={},this.targetsArray=[],this.updateConfigForDefault=this.updateConfigForDefault.bind(this),this.updateConfigForRawColor=this.updateConfigForRawColor.bind(this),this.config={complete:function(){z.animationIsPlaying=!1,z.el.emit("animationcomplete",z.eventDetail,!1),z.id&&z.el.emit("animationcomplete__"+z.id,z.eventDetail,!1)}}},update:function(z){var G=this.config,j=this.data;this.animationIsPlaying=!1,this.data.enabled&&j.property&&(G.autoplay=!1,G.direction=j.dir,G.duration=j.dur,G.easing=j.easing,G.elasticity=j.elasticity,G.loop=j.loop,G.round=j.round,this.createAndStartAnimation())},tick:function(z,G){this.animationIsPlaying&&(this.time+=G,this.animation.tick(this.time))},remove:function(){this.pauseAnimation(),this.removeEventListeners()},pause:function(){this.paused=!0,this.pausedWasPlaying=this.animationIsPlaying,this.pauseAnimation(),this.removeEventListeners()},play:function(){this.paused&&(this.paused=!1,this.addEventListeners(),this.pausedWasPlaying&&(this.resumeAnimation(),this.pausedWasPlaying=!1))},createAndStartAnimation:function(){var z=this.data;if(this.updateConfig(),this.animationIsPlaying=!1,this.animation=d(this.config),this.animation.began=!0,this.removeEventListeners(),this.addEventListeners(),!(!z.autoplay||z.startEvents&&z.startEvents.length)){if(z.delay){setTimeout(this.beginAnimation,z.delay);return}this.beginAnimation()}},beginAnimation:function(){this.updateConfig(),this.animation.began=!0,this.time=0,this.animationIsPlaying=!0,this.stopRelatedAnimations(),this.el.emit("animationbegin",this.eventDetail,!1)},pauseAnimation:function(){this.animationIsPlaying=!1},resumeAnimation:function(){this.animationIsPlaying=!0},onStartEvent:function(){if(this.data.enabled){if(this.updateConfig(),this.animation&&this.animation.pause(),this.animation=d(this.config),this.data.delay){setTimeout(this.beginAnimation,this.data.delay);return}this.beginAnimation()}},updateConfigForRawColor:function(){var z=this.config,G=this.data,j=this.el,Q,X,J;if(!this.waitComponentInitRawProperty(this.updateConfigForRawColor)){Q=G.from===""?B(j,G.property):G.from,J=G.to,this.setColorConfig(Q,J),Q=this.fromColor,J=this.toColor,this.targetsArray.length=0,this.targetsArray.push(Q),z.targets=this.targetsArray;for(X in J)z[X]=J[X];z.update=function(){var Z={};return function(oe){var ue;ue=oe.animatables[0].target,!(ue.r===Z.r&&ue.g===Z.g&&ue.b===Z.b)&&O(j,G.property,ue,G.type)}}()}},updateConfigForDefault:function(){var z=this.config,G=this.data,j=this.el,Q,X,J,Z;this.waitComponentInitRawProperty(this.updateConfigForDefault)||(G.from===""?Q=k(G)?B(j,G.property):b(j,G.property):Q=G.from,Z=G.to,J=!isNaN(Q||Z),J?(Q=parseFloat(Q),Z=parseFloat(Z)):(Q=Q&&Q.toString(),Z=Z&&Z.toString()),X=G.to==="true"||G.to==="false"||G.to===!0||G.to===!1,X&&(Q=G.from==="true"||G.from===!0?1:0,Z=G.to==="true"||G.to===!0?1:0),this.targets.aframeProperty=Q,z.targets=this.targets,z.aframeProperty=Z,z.update=function(){var oe;return function(ue){var Be;Be=ue.animatables[0].target.aframeProperty,Be!==oe&&(oe=Be,X&&(Be=Be>=1),k(G)?O(j,G.property,Be,G.type):g(j,G.property,Be))}}())},updateConfigForVector:function(){var z=this.config,G=this.data,j=this.el,Q,X,J;X=G.from!==""?v.coordinates.parse(G.from):b(j,G.property),J=v.coordinates.parse(G.to),G.property===_&&(D(X),D(J)),this.targetsArray.length=0,this.targetsArray.push(X),z.targets=this.targetsArray;for(Q in J)z[Q]=J[Q];if(G.property===C||G.property===_||G.property===L){z.update=function(){var Z={};return function(oe){var ue=oe.animatables[0].target;G.property===L&&(ue.x=Math.max(1e-4,ue.x),ue.y=Math.max(1e-4,ue.y),ue.z=Math.max(1e-4,ue.z)),!(ue.x===Z.x&&ue.y===Z.y&&ue.z===Z.z)&&(Z.x=ue.x,Z.y=ue.y,Z.z=ue.z,j.object3D[G.property].set(ue.x,ue.y,ue.z))}}();return}z.update=function(){var Z={};return function(oe){var ue=oe.animatables[0].target;ue.x===Z.x&&ue.y===Z.y&&ue.z===Z.z||(Z.x=ue.x,Z.y=ue.y,Z.z=ue.z,g(j,G.property,ue))}}()},updateConfig:function(){var z;z=T(this.el,this.data.property),k(this.data)&&this.data.type===E?this.updateConfigForRawColor():z==="vec2"||z==="vec3"||z==="vec4"?this.updateConfigForVector():this.updateConfigForDefault()},waitComponentInitRawProperty:function(z){var G,j=this.data,Q=this.el,X=this;return j.from!==""||!j.property.startsWith(R)||(G=F(j.property)[1],Q.components[G])?!1:(Q.addEventListener("componentinitialized",function J(Z){Z.detail.name===G&&(z(),X.animation=d(X.config),Q.removeEventListener("componentinitialized",J))}),!0)},stopRelatedAnimations:function(){var z,G;for(G in this.el.components)z=this.el.components[G],G!==this.attrName&&z.name==="animation"&&z.animationIsPlaying&&z.data.property===this.data.property&&(z.animationIsPlaying=!1)},addEventListeners:function(){var z=this.data,G=this.el;$(G,z.startEvents,this.onStartEvent),$(G,z.pauseEvents,this.pauseAnimation),$(G,z.resumeEvents,this.resumeAnimation)},removeEventListeners:function(){var z=this.data,G=this.el;V(G,z.startEvents,this.onStartEvent),V(G,z.pauseEvents,this.pauseAnimation),V(G,z.resumeEvents,this.resumeAnimation)},setColorConfig:function(z,G){y.set(z),A.set(G),z=this.fromColor,G=this.toColor,z.r=y.r,z.g=y.g,z.b=y.b,G.r=A.r,G.g=A.g,G.b=A.b}});function T(z,G){var j,Q,X,J;return X=G.split("."),Q=X[0],J=X[1],j=z.components[Q]||h[Q],!j||J&&!j.schema[J]?null:J?j.schema[J].type:j.schema.type}function D(z){z.x=m.MathUtils.degToRad(z.x),z.y=m.MathUtils.degToRad(z.y),z.z=m.MathUtils.degToRad(z.z)}function $(z,G,j){var Q;for(Q=0;Q<G.length;Q++)z.addEventListener(G[Q],j)}function V(z,G,j){var Q;for(Q=0;Q<G.length;Q++)z.removeEventListener(G[Q],j)}function B(z,G){var j,Q,X;for(Q=F(G),X=z,j=0;j<Q.length;j++)X=X[Q[j]];if(X===void 0)throw console.log(z),new Error("[animation] property ("+G+") could not be found");return X}function O(z,G,j,Q){var X,J,Z,oe;for(G.startsWith("object3D.rotation")&&(j=m.MathUtils.degToRad(j)),J=F(G),oe=z,X=0;X<J.length-1;X++)oe=oe[J[X]];if(Z=J[J.length-1],Q===E){"r"in oe[Z]?(oe[Z].r=j.r,oe[Z].g=j.g,oe[Z].b=j.b):(oe[Z].x=j.r,oe[Z].y=j.g,oe[Z].z=j.b);return}oe[Z]=j}function F(z){return z in w||(w[z]=z.split(".")),w[z]}function k(z){return z.isRawProperty||z.property.startsWith(R)||z.property.startsWith(P)}},"./src/components/camera.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/lib/three.js");l.exports.Component=d("camera",{schema:{active:{default:!0},far:{default:1e4},fov:{default:80,min:0},near:{default:.005,min:0},spectator:{default:!1},zoom:{default:1,min:0}},init:function(){var p,m=this.el;p=this.camera=new h.PerspectiveCamera,m.setObject3D("camera",p)},update:function(p){var m=this.data,v=this.camera;v.aspect=m.aspect||window.innerWidth/window.innerHeight,v.far=m.far,v.fov=m.fov,v.near=m.near,v.zoom=m.zoom,v.updateProjectionMatrix(),this.updateActiveCamera(p),this.updateSpectatorCamera(p)},updateActiveCamera:function(p){var m=this.data,v=this.el,y=this.system;p&&p.active===m.active||m.spectator||(m.active&&y.activeCameraEl!==v?y.setActiveCamera(v):!m.active&&y.activeCameraEl===v&&y.disableActiveCamera())},updateSpectatorCamera:function(p){var m=this.data,v=this.el,y=this.system;p&&p.spectator===m.spectator||(m.spectator&&y.spectatorCameraEl!==v?y.setSpectatorCamera(v):!m.spectator&&y.spectatorCameraEl===v&&y.disableSpectatorCamera())},remove:function(){this.el.removeObject3D("camera")}})},"./src/components/cursor.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/utils/index.js"),p=h.bind,m={CLICK:"click",FUSING:"fusing",MOUSEENTER:"mouseenter",MOUSEDOWN:"mousedown",MOUSELEAVE:"mouseleave",MOUSEUP:"mouseup"},v={FUSING:"cursor-fusing",HOVERING:"cursor-hovering",HOVERED:"cursor-hovered"},y={DOWN:["mousedown","touchstart"],UP:["mouseup","touchend"]},A={DOWN:["selectstart"],UP:["selectend"]},b="a-mouse-cursor-hover";l.exports.Component=d("cursor",{dependencies:["raycaster"],schema:{downEvents:{default:[]},fuse:{default:h.device.isMobile()},fuseTimeout:{default:1500,min:0},mouseCursorStylesEnabled:{default:!0},upEvents:{default:[]},rayOrigin:{default:"entity",oneOf:["mouse","entity","xrselect"]}},multiple:!0,init:function(){var g=this;this.fuseTimeout=void 0,this.cursorDownEl=null,this.intersectedEl=null,this.canvasBounds=document.body.getBoundingClientRect(),this.isCursorDown=!1,this.activeXRInput=null,this.updateCanvasBounds=h.debounce(function(){g.canvasBounds=g.el.sceneEl.canvas.getBoundingClientRect()},500),this.eventDetail={},this.intersectedEventDetail={cursorEl:this.el},this.onCursorDown=p(this.onCursorDown,this),this.onCursorUp=p(this.onCursorUp,this),this.onIntersection=p(this.onIntersection,this),this.onIntersectionCleared=p(this.onIntersectionCleared,this),this.onMouseMove=p(this.onMouseMove,this),this.onEnterVR=p(this.onEnterVR,this)},update:function(g){this.data.rayOrigin!==g.rayOrigin&&this.updateMouseEventListeners()},tick:function(){var g=this.el.sceneEl.frame,w=this.activeXRInput;this.data.rayOrigin==="xrselect"&&g&&w&&this.onMouseMove({frame:g,inputSource:w,type:"fakeselectevent"})},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){var g=this.el;g.removeState(v.HOVERING),g.removeState(v.FUSING),clearTimeout(this.fuseTimeout),this.intersectedEl&&this.intersectedEl.removeState(v.HOVERED),this.removeEventListeners()},addEventListeners:function(){var g,w=this.data,E=this.el,C=this;function _(){g=E.sceneEl.canvas,!(w.downEvents.length||w.upEvents.length)&&(y.DOWN.forEach(function(L){g.addEventListener(L,C.onCursorDown)}),y.UP.forEach(function(L){g.addEventListener(L,C.onCursorUp)}))}g=E.sceneEl.canvas,g?_():E.sceneEl.addEventListener("render-target-loaded",_),w.downEvents.forEach(function(L){E.addEventListener(L,C.onCursorDown)}),w.upEvents.forEach(function(L){E.addEventListener(L,C.onCursorUp)}),E.addEventListener("raycaster-intersection",this.onIntersection),E.addEventListener("raycaster-closest-entity-changed",this.onIntersection),E.addEventListener("raycaster-intersection-cleared",this.onIntersectionCleared),E.sceneEl.addEventListener("rendererresize",this.updateCanvasBounds),E.sceneEl.addEventListener("enter-vr",this.onEnterVR),window.addEventListener("resize",this.updateCanvasBounds),window.addEventListener("scroll",this.updateCanvasBounds),this.updateMouseEventListeners()},removeEventListeners:function(){var g,w=this.data,E=this.el,C=this;g=E.sceneEl.canvas,g&&!w.downEvents.length&&!w.upEvents.length&&(y.DOWN.forEach(function(_){g.removeEventListener(_,C.onCursorDown)}),y.UP.forEach(function(_){g.removeEventListener(_,C.onCursorUp)})),w.downEvents.forEach(function(_){E.removeEventListener(_,C.onCursorDown)}),w.upEvents.forEach(function(_){E.removeEventListener(_,C.onCursorUp)}),E.removeEventListener("raycaster-intersection",this.onIntersection),E.removeEventListener("raycaster-intersection-cleared",this.onIntersectionCleared),g.removeEventListener("mousemove",this.onMouseMove),g.removeEventListener("touchstart",this.onMouseMove),g.removeEventListener("touchmove",this.onMouseMove),E.sceneEl.removeEventListener("rendererresize",this.updateCanvasBounds),E.sceneEl.removeEventListener("enter-vr",this.onEnterVR),window.removeEventListener("resize",this.updateCanvasBounds),window.removeEventListener("scroll",this.updateCanvasBounds)},updateMouseEventListeners:function(){var g,w=this.el;g=w.sceneEl.canvas,g.removeEventListener("mousemove",this.onMouseMove),g.removeEventListener("touchmove",this.onMouseMove),w.setAttribute("raycaster","useWorldCoordinates",!1),this.data.rayOrigin==="mouse"&&(g.addEventListener("mousemove",this.onMouseMove,!1),g.addEventListener("touchmove",this.onMouseMove,!1),w.setAttribute("raycaster","useWorldCoordinates",!0),this.updateCanvasBounds())},onMouseMove:function(){var g=new THREE.Vector3,w=new THREE.Vector2,E=new THREE.Vector3,C={origin:E,direction:g};return function(_){var L=this.canvasBounds,R=this.el.sceneEl.camera,P,T,D,$,V,B,O,F;R.parent.updateMatrixWorld(),_.type==="touchmove"||_.type==="touchstart"?T=_.touches.item(0):T=_,P=T.clientX-L.left,D=T.clientY-L.top,w.x=P/L.width*2-1,w.y=-(D/L.height)*2+1,this.data.rayOrigin==="xrselect"&&(_.type==="selectstart"||_.type==="fakeselectevent")?($=_.frame,V=_.inputSource,B=this.el.renderer.xr.getReferenceSpace(),O=$.getPose(V.targetRaySpace,B),F=O.transform,g.set(0,0,-1),g.applyQuaternion(F.orientation),E.copy(F.position)):_.type==="fakeselectout"?(g.set(0,1,0),E.set(0,9999,0)):R&&R.isPerspectiveCamera?(E.setFromMatrixPosition(R.matrixWorld),g.set(w.x,w.y,.5).unproject(R).sub(E).normalize()):R&&R.isOrthographicCamera?(E.set(w.x,w.y,(R.near+R.far)/(R.near-R.far)).unproject(R),g.set(0,0,-1).transformDirection(R.matrixWorld)):console.error("AFRAME.Raycaster: Unsupported camera type: "+R.type),this.el.setAttribute("raycaster",C),_.type==="touchmove"&&_.preventDefault()}}(),onCursorDown:function(g){this.isCursorDown=!0,this.data.rayOrigin==="mouse"&&g.type==="touchstart"&&(this.onMouseMove(g),this.el.components.raycaster.checkIntersections(),g.preventDefault()),this.data.rayOrigin==="xrselect"&&g.type==="selectstart"&&(this.activeXRInput=g.inputSource,this.onMouseMove(g),this.el.components.raycaster.checkIntersections(),this.el.components.raycaster.intersectedEls.length&&this.el.sceneEl.components["ar-hit-test"]!==void 0&&this.el.sceneEl.getAttribute("ar-hit-test").enabled&&(this.el.sceneEl.setAttribute("ar-hit-test","enabled",!1),this.reenableARHitTest=!0)),this.twoWayEmit(m.MOUSEDOWN,g),this.cursorDownEl=this.intersectedEl},onCursorUp:function(g){if(this.isCursorDown){this.isCursorDown=!1;var w=this.data;this.twoWayEmit(m.MOUSEUP,g),this.reenableARHitTest===!0&&(this.el.sceneEl.setAttribute("ar-hit-test","enabled",!0),this.reenableARHitTest=void 0),this.cursorDownEl&&this.cursorDownEl!==this.intersectedEl&&(this.intersectedEventDetail.intersection=null,this.cursorDownEl.emit(m.MOUSEUP,this.intersectedEventDetail)),(!w.fuse||w.rayOrigin==="mouse"||w.rayOrigin==="xrselect")&&this.intersectedEl&&this.cursorDownEl===this.intersectedEl&&this.twoWayEmit(m.CLICK,g),w.rayOrigin==="xrselect"&&this.activeXRInput===g.inputSource&&this.onMouseMove({type:"fakeselectout"}),this.activeXRInput=null,this.cursorDownEl=null,g.type==="touchend"&&g.preventDefault()}},onIntersection:function(g){var w,E=this.el,C,_,L;C=g.detail.els[0]===E?1:0,L=g.detail.intersections[C],_=g.detail.els[C],_&&this.intersectedEl!==_&&(this.intersectedEl&&(w=this.el.components.raycaster.getIntersection(this.intersectedEl),w&&w.distance<=L.distance)||(this.clearCurrentIntersection(!0),this.setIntersection(_,L)))},onIntersectionCleared:function(g){var w=g.detail.clearedEls;w.indexOf(this.intersectedEl)!==-1&&this.clearCurrentIntersection()},onEnterVR:function(){this.clearCurrentIntersection(!0);var g=this.el.sceneEl.xrSession,w=this;g&&this.data.rayOrigin!=="mouse"&&(A.DOWN.forEach(function(E){g.addEventListener(E,w.onCursorDown)}),A.UP.forEach(function(E){g.addEventListener(E,w.onCursorUp)}))},setIntersection:function(g,w){var E=this.el,C=this.data,_=this;this.intersectedEl!==g&&(this.intersectedEl=g,E.addState(v.HOVERING),g.addState(v.HOVERED),this.twoWayEmit(m.MOUSEENTER),this.data.mouseCursorStylesEnabled&&this.data.rayOrigin==="mouse"&&this.el.sceneEl.canvas.classList.add(b),!(C.fuseTimeout===0||!C.fuse||C.rayOrigin==="xrselect"||C.rayOrigin==="mouse")&&(E.addState(v.FUSING),this.twoWayEmit(m.FUSING),this.fuseTimeout=setTimeout(function(){E.removeState(v.FUSING),_.twoWayEmit(m.CLICK)},C.fuseTimeout)))},clearCurrentIntersection:function(g){var w,E,C,_=this.el;this.intersectedEl&&(this.intersectedEl.removeState(v.HOVERED),_.removeState(v.HOVERING),_.removeState(v.FUSING),this.twoWayEmit(m.MOUSELEAVE),this.data.mouseCursorStylesEnabled&&this.data.rayOrigin==="mouse"&&this.el.sceneEl.canvas.classList.remove(b),this.intersectedEl=null,clearTimeout(this.fuseTimeout),g!==!0&&(C=this.el.components.raycaster.intersections,C.length!==0&&(w=C[0].object.el===_?1:0,E=C[w],E&&this.setIntersection(E.object.el,E))))},twoWayEmit:function(g,w){var E=this.el,C=this.intersectedEl,_;function L(R,P){w instanceof MouseEvent?R.mouseEvent=w:typeof TouchEvent<"u"&&w instanceof TouchEvent&&(R.touchEvent=w)}_=this.el.components.raycaster.getIntersection(C),this.eventDetail.intersectedEl=C,this.eventDetail.intersection=_,L(this.eventDetail),E.emit(g,this.eventDetail),C&&(this.intersectedEventDetail.intersection=_,L(this.intersectedEventDetail),C.emit(g,this.intersectedEventDetail))}})},"./src/components/daydream-controls.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/utils/bind.js"),p=c("./src/utils/tracked-controls.js"),m=p.checkControllerPresentAndSetup,v=p.emitIfAxesChanged,y=p.onButtonEvent,A="https://cdn.aframe.io/controllers/google/",b=A+"vr_controller_daydream.obj",g=A+"vr_controller_daydream.mtl",w=c("./src/utils/index.js").device.isWebXRAvailable,E="google-daydream",C="Daydream Controller",_=w?E:C,L={axes:{trackpad:[0,1]},buttons:["trackpad","menu","system"]},R={axes:{touchpad:[0,1]},buttons:["none","none","touchpad","menu","system"]},P=w?R:L;l.exports.Component=d("daydream-controls",{schema:{hand:{default:""},buttonColor:{type:"color",default:"#000000"},buttonTouchedColor:{type:"color",default:"#777777"},buttonHighlightColor:{type:"color",default:"#FFFFFF"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:P,bindMethods:function(){this.onModelLoaded=h(this.onModelLoaded,this),this.onControllersUpdate=h(this.onControllersUpdate,this),this.checkIfControllerPresent=h(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=h(this.removeControllersUpdateListener,this),this.onAxisMoved=h(this.onAxisMoved,this)},init:function(){var T=this;this.onButtonChanged=h(this.onButtonChanged,this),this.onButtonDown=function(D){y(D.detail.id,"down",T)},this.onButtonUp=function(D){y(D.detail.id,"up",T)},this.onButtonTouchStart=function(D){y(D.detail.id,"touchstart",T)},this.onButtonTouchEnd=function(D){y(D.detail.id,"touchend",T)},this.controllerPresent=!1,this.lastControllerCheck=0,this.bindMethods()},addEventListeners:function(){var T=this.el;T.addEventListener("buttonchanged",this.onButtonChanged),T.addEventListener("buttondown",this.onButtonDown),T.addEventListener("buttonup",this.onButtonUp),T.addEventListener("touchstart",this.onButtonTouchStart),T.addEventListener("touchend",this.onButtonTouchEnd),T.addEventListener("model-loaded",this.onModelLoaded),T.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var T=this.el;T.removeEventListener("buttonchanged",this.onButtonChanged),T.removeEventListener("buttondown",this.onButtonDown),T.removeEventListener("buttonup",this.onButtonUp),T.removeEventListener("touchstart",this.onButtonTouchStart),T.removeEventListener("touchend",this.onButtonTouchEnd),T.removeEventListener("model-loaded",this.onModelLoaded),T.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){m(this,_,this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var T=this.el,D=this.data;T.setAttribute("tracked-controls",{armModel:D.armModel,hand:D.hand,idPrefix:_,id:_,orientationOffset:D.orientationOffset}),this.data.model&&this.el.setAttribute("obj-model",{obj:b,mtl:g})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(T){var D=T.detail.model,$;this.data.model&&($=this.buttonMeshes={},$.menu=D.getObjectByName("AppButton_AppButton_Cylinder.004"),$.system=D.getObjectByName("HomeButton_HomeButton_Cylinder.005"),$.trackpad=D.getObjectByName("TouchPad_TouchPad_Cylinder.003"),$.touchpad=D.getObjectByName("TouchPad_TouchPad_Cylinder.003"),D.position.set(0,0,-.04))},onAxisMoved:function(T){v(this,this.mapping.axes,T)},onButtonChanged:function(T){var D=this.mapping.buttons[T.detail.id];D&&this.el.emit(D+"changed",T.detail.state)},updateModel:function(T,D){this.data.model&&this.updateButtonModel(T,D)},updateButtonModel:function(T,D){var $=this.buttonMeshes;if(!(!$||!$[T])){var V;switch(D){case"down":V=this.data.buttonHighlightColor;break;case"touchstart":V=this.data.buttonTouchedColor;break;default:V=this.data.buttonColor}$[T].material.color.set(V)}}})},"./src/components/gearvr-controls.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/utils/bind.js"),p=c("./src/utils/tracked-controls.js"),m=p.checkControllerPresentAndSetup,v=p.emitIfAxesChanged,y=p.onButtonEvent,A=c("./src/utils/index.js").device.isWebXRAvailable,b="https://cdn.aframe.io/controllers/samsung/",g=b+"gear_vr_controller.obj",w=b+"gear_vr_controller.mtl",E="samsung-gearvr",C="Gear VR",_=A?E:C,L={axes:{trackpad:[0,1]},buttons:["trackpad","trigger"]},R={axes:{touchpad:[0,1]},buttons:["trigger","none","touchpad","none","menu"]},P=A?R:L;l.exports.Component=d("gearvr-controls",{schema:{hand:{default:""},buttonColor:{type:"color",default:"#000000"},buttonTouchedColor:{type:"color",default:"#777777"},buttonHighlightColor:{type:"color",default:"#FFFFFF"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:P,bindMethods:function(){this.onModelLoaded=h(this.onModelLoaded,this),this.onControllersUpdate=h(this.onControllersUpdate,this),this.checkIfControllerPresent=h(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=h(this.removeControllersUpdateListener,this),this.onAxisMoved=h(this.onAxisMoved,this)},init:function(){var T=this;this.onButtonChanged=h(this.onButtonChanged,this),this.onButtonDown=function(D){y(D.detail.id,"down",T)},this.onButtonUp=function(D){y(D.detail.id,"up",T)},this.onButtonTouchStart=function(D){y(D.detail.id,"touchstart",T)},this.onButtonTouchEnd=function(D){y(D.detail.id,"touchend",T)},this.controllerPresent=!1,this.lastControllerCheck=0,this.bindMethods()},addEventListeners:function(){var T=this.el;T.addEventListener("buttonchanged",this.onButtonChanged),T.addEventListener("buttondown",this.onButtonDown),T.addEventListener("buttonup",this.onButtonUp),T.addEventListener("touchstart",this.onButtonTouchStart),T.addEventListener("touchend",this.onButtonTouchEnd),T.addEventListener("model-loaded",this.onModelLoaded),T.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var T=this.el;T.removeEventListener("buttonchanged",this.onButtonChanged),T.removeEventListener("buttondown",this.onButtonDown),T.removeEventListener("buttonup",this.onButtonUp),T.removeEventListener("touchstart",this.onButtonTouchStart),T.removeEventListener("touchend",this.onButtonTouchEnd),T.removeEventListener("model-loaded",this.onModelLoaded),T.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){m(this,_,this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var T=this.el,D=this.data;T.setAttribute("tracked-controls",{armModel:D.armModel,hand:D.hand,idPrefix:_,id:_,orientationOffset:D.orientationOffset}),this.data.model&&this.el.setAttribute("obj-model",{obj:g,mtl:w})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(T){var D=T.detail.model,$;this.data.model&&($=this.buttonMeshes={},$.trigger=D.children[2],$.trackpad=D.children[1],$.touchpad=D.children[1])},onButtonChanged:function(T){var D=this.mapping.buttons[T.detail.id];D&&this.el.emit(D+"changed",T.detail.state)},onAxisMoved:function(T){v(this,this.mapping.axes,T)},updateModel:function(T,D){this.data.model&&this.updateButtonModel(T,D)},updateButtonModel:function(T,D){var $=this.buttonMeshes;if(!(!$||!$[T])){var V;switch(D){case"down":V=this.data.buttonHighlightColor;break;case"touchstart":V=this.data.buttonTouchedColor;break;default:V=this.data.buttonColor}$[T].material.color.set(V)}}})},"./src/components/generic-tracked-controller-controls.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/utils/bind.js"),p=c("./src/utils/tracked-controls.js"),m=p.checkControllerPresentAndSetup,v=p.emitIfAxesChanged,y=p.onButtonEvent,A="generic",b={axes:{touchpad:[0,1],thumbstick:[2,3]},buttons:["trigger","squeeze","touchpad","thumbstick"]};l.exports.Component=d("generic-tracked-controller-controls",{schema:{hand:{default:""},defaultModel:{default:!0},defaultModelColor:{default:"gray"},orientationOffset:{type:"vec3"},disabled:{default:!1}},mapping:b,bindMethods:function(){this.onControllersUpdate=h(this.onControllersUpdate,this),this.checkIfControllerPresent=h(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=h(this.removeControllersUpdateListener,this),this.onAxisMoved=h(this.onAxisMoved,this)},init:function(){var g=this;this.onButtonChanged=h(this.onButtonChanged,this),this.onButtonDown=function(w){y(w.detail.id,"down",g)},this.onButtonUp=function(w){y(w.detail.id,"up",g)},this.onButtonTouchStart=function(w){y(w.detail.id,"touchstart",g)},this.onButtonTouchEnd=function(w){y(w.detail.id,"touchend",g)},this.controllerPresent=!1,this.wasControllerConnected=!1,this.lastControllerCheck=0,this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods(),this.el.addEventListener("controllerconnected",function(w){w.detail.name!==g.name&&(g.wasControllerConnected=!0,g.removeEventListeners(),g.removeControllersUpdateListener())})},addEventListeners:function(){var g=this.el;g.addEventListener("buttonchanged",this.onButtonChanged),g.addEventListener("buttondown",this.onButtonDown),g.addEventListener("buttonup",this.onButtonUp),g.addEventListener("touchstart",this.onButtonTouchStart),g.addEventListener("touchend",this.onButtonTouchEnd),g.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var g=this.el;g.removeEventListener("buttonchanged",this.onButtonChanged),g.removeEventListener("buttondown",this.onButtonDown),g.removeEventListener("buttonup",this.onButtonUp),g.removeEventListener("touchstart",this.onButtonTouchStart),g.removeEventListener("touchend",this.onButtonTouchEnd),g.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var g=this.data,w=g.hand?g.hand:void 0;m(this,A,{hand:w,iterateControllerProfiles:!0})},play:function(){this.wasControllerConnected||(this.checkIfControllerPresent(),this.addControllersUpdateListener())},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var g=this.el,w=this.data;if(this.el.components["tracked-controls"]){this.removeEventListeners();return}g.setAttribute("tracked-controls",{hand:w.hand,idPrefix:A,orientationOffset:w.orientationOffset,iterateControllerProfiles:!0}),this.data.defaultModel&&this.initDefaultModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(g){var w=this.mapping.buttons[g.detail.id];w&&this.el.emit(w+"changed",g.detail.state)},onAxisMoved:function(g){v(this,this.mapping.axes,g)},initDefaultModel:function(){var g=this.modelEl=document.createElement("a-entity");g.setAttribute("geometry",{primitive:"sphere",radius:.03}),g.setAttribute("material",{color:this.data.color}),this.el.appendChild(g)}})},"./src/components/geometry.js":(l,u,c)=>{var d=c("./src/core/geometry.js").geometries,h=c("./src/core/geometry.js").geometryNames,p=c("./src/core/component.js").registerComponent,m=c("./src/lib/three.js"),v=new m.BufferGeometry;l.exports.Component=p("geometry",{schema:{buffer:{default:!0},primitive:{default:"box",oneOf:h,schemaChange:!0},skipCache:{default:!1}},init:function(){this.geometry=null},update:function(y){var A=this.data,b=this.el,g,w=this.system;this.geometry&&(w.unuseGeometry(y),this.geometry=null),this.geometry=w.getOrCreateGeometry(A),g=b.getObject3D("mesh"),g?g.geometry=this.geometry:(g=new m.Mesh,g.geometry=this.geometry,this.el.getAttribute("material")||(g.material=new m.MeshStandardMaterial({color:Math.random()*16777215,metalness:0,roughness:.5})),b.setObject3D("mesh",g))},remove:function(){this.system.unuseGeometry(this.data),this.el.getObject3D("mesh").geometry=v,this.geometry=null},updateSchema:function(y){var A=this.oldData&&this.oldData.primitive,b=y.primitive,g=d[b]&&d[b].schema;if(!g)throw new Error("Unknown geometry schema `"+b+"`");A&&A===b||this.extendSchema(g)}})},"./src/components/gltf-model.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/lib/three.js"),p=c("./src/utils/index.js"),m=p.debug("components:gltf-model:warn");l.exports.Component=d("gltf-model",{schema:{type:"model"},init:function(){var v=this,y=this.system.getDRACOLoader(),A=this.system.getMeshoptDecoder(),b=this.system.getKTX2Loader();this.model=null,this.loader=new h.GLTFLoader,y&&this.loader.setDRACOLoader(y),A?this.ready=A.then(function(g){v.loader.setMeshoptDecoder(g)}):this.ready=Promise.resolve(),b&&this.loader.setKTX2Loader(b)},update:function(){var v=this,y=this.el,A=this.data;A&&(this.remove(),this.ready.then(function(){v.loader.load(A,function(g){v.model=g.scene||g.scenes[0],v.model.animations=g.animations,y.setObject3D("mesh",v.model),y.emit("model-loaded",{format:"gltf",model:v.model})},void 0,function(g){var w=g&&g.message?g.message:"Failed to load glTF model";m(w),y.emit("model-error",{format:"gltf",src:A})})}))},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},"./src/components/hand-controls.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h={toonLeft:"https://cdn.aframe.io/controllers/hands/leftHand.glb",toonRight:"https://cdn.aframe.io/controllers/hands/rightHand.glb",lowPolyLeft:"https://cdn.aframe.io/controllers/hands/leftHandLow.glb",lowPolyRight:"https://cdn.aframe.io/controllers/hands/rightHandLow.glb",highPolyLeft:"https://cdn.aframe.io/controllers/hands/leftHandHigh.glb",highPolyRight:"https://cdn.aframe.io/controllers/hands/rightHandHigh.glb"},p={open:"Open",point:"Point",pointThumb:"Point + Thumb",fist:"Fist",hold:"Hold",thumbUp:"Thumb Up"},m={};m[p.fist]="grip",m[p.thumbUp]="pistol",m[p.point]="pointing",l.exports.Component=d("hand-controls",{schema:{color:{default:"white",type:"color"},hand:{default:"left"},handModelStyle:{default:"lowPoly",oneOf:["lowPoly","highPoly","toon"]}},init:function(){var A=this,b=this.el;this.gesture=p.open,this.pressedButtons={},this.touchedButtons={},this.loader=new THREE.GLTFLoader,this.loader.setCrossOrigin("anonymous"),this.onGripDown=function(){A.handleButton("grip","down")},this.onGripUp=function(){A.handleButton("grip","up")},this.onTrackpadDown=function(){A.handleButton("trackpad","down")},this.onTrackpadUp=function(){A.handleButton("trackpad","up")},this.onTrackpadTouchStart=function(){A.handleButton("trackpad","touchstart")},this.onTrackpadTouchEnd=function(){A.handleButton("trackpad","touchend")},this.onTriggerDown=function(){A.handleButton("trigger","down")},this.onTriggerUp=function(){A.handleButton("trigger","up")},this.onTriggerTouchStart=function(){A.handleButton("trigger","touchstart")},this.onTriggerTouchEnd=function(){A.handleButton("trigger","touchend")},this.onGripTouchStart=function(){A.handleButton("grip","touchstart")},this.onGripTouchEnd=function(){A.handleButton("grip","touchend")},this.onThumbstickDown=function(){A.handleButton("thumbstick","down")},this.onThumbstickUp=function(){A.handleButton("thumbstick","up")},this.onAorXTouchStart=function(){A.handleButton("AorX","touchstart")},this.onAorXTouchEnd=function(){A.handleButton("AorX","touchend")},this.onBorYTouchStart=function(){A.handleButton("BorY","touchstart")},this.onBorYTouchEnd=function(){A.handleButton("BorY","touchend")},this.onSurfaceTouchStart=function(){A.handleButton("surface","touchstart")},this.onSurfaceTouchEnd=function(){A.handleButton("surface","touchend")},this.onControllerConnected=this.onControllerConnected.bind(this),this.onControllerDisconnected=this.onControllerDisconnected.bind(this),b.addEventListener("controllerconnected",this.onControllerConnected),b.addEventListener("controllerdisconnected",this.onControllerDisconnected),b.object3D.visible=!1},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},tick:function(A,b){var g=this.el.getObject3D("mesh");!g||!g.mixer||g.mixer.update(b/1e3)},onControllerConnected:function(){this.el.object3D.visible=!0},onControllerDisconnected:function(){this.el.object3D.visible=!1},addEventListeners:function(){var A=this.el;A.addEventListener("gripdown",this.onGripDown),A.addEventListener("gripup",this.onGripUp),A.addEventListener("trackpaddown",this.onTrackpadDown),A.addEventListener("trackpadup",this.onTrackpadUp),A.addEventListener("trackpadtouchstart",this.onTrackpadTouchStart),A.addEventListener("trackpadtouchend",this.onTrackpadTouchEnd),A.addEventListener("triggerdown",this.onTriggerDown),A.addEventListener("triggerup",this.onTriggerUp),A.addEventListener("triggertouchstart",this.onTriggerTouchStart),A.addEventListener("triggertouchend",this.onTriggerTouchEnd),A.addEventListener("griptouchstart",this.onGripTouchStart),A.addEventListener("griptouchend",this.onGripTouchEnd),A.addEventListener("thumbstickdown",this.onThumbstickDown),A.addEventListener("thumbstickup",this.onThumbstickUp),A.addEventListener("abuttontouchstart",this.onAorXTouchStart),A.addEventListener("abuttontouchend",this.onAorXTouchEnd),A.addEventListener("bbuttontouchstart",this.onBorYTouchStart),A.addEventListener("bbuttontouchend",this.onBorYTouchEnd),A.addEventListener("xbuttontouchstart",this.onAorXTouchStart),A.addEventListener("xbuttontouchend",this.onAorXTouchEnd),A.addEventListener("ybuttontouchstart",this.onBorYTouchStart),A.addEventListener("ybuttontouchend",this.onBorYTouchEnd),A.addEventListener("surfacetouchstart",this.onSurfaceTouchStart),A.addEventListener("surfacetouchend",this.onSurfaceTouchEnd)},removeEventListeners:function(){var A=this.el;A.removeEventListener("gripdown",this.onGripDown),A.removeEventListener("gripup",this.onGripUp),A.removeEventListener("trackpaddown",this.onTrackpadDown),A.removeEventListener("trackpadup",this.onTrackpadUp),A.removeEventListener("trackpadtouchstart",this.onTrackpadTouchStart),A.removeEventListener("trackpadtouchend",this.onTrackpadTouchEnd),A.removeEventListener("triggerdown",this.onTriggerDown),A.removeEventListener("triggerup",this.onTriggerUp),A.removeEventListener("triggertouchstart",this.onTriggerTouchStart),A.removeEventListener("triggertouchend",this.onTriggerTouchEnd),A.removeEventListener("griptouchstart",this.onGripTouchStart),A.removeEventListener("griptouchend",this.onGripTouchEnd),A.removeEventListener("thumbstickdown",this.onThumbstickDown),A.removeEventListener("thumbstickup",this.onThumbstickUp),A.removeEventListener("abuttontouchstart",this.onAorXTouchStart),A.removeEventListener("abuttontouchend",this.onAorXTouchEnd),A.removeEventListener("bbuttontouchstart",this.onBorYTouchStart),A.removeEventListener("bbuttontouchend",this.onBorYTouchEnd),A.removeEventListener("xbuttontouchstart",this.onAorXTouchStart),A.removeEventListener("xbuttontouchend",this.onAorXTouchEnd),A.removeEventListener("ybuttontouchstart",this.onBorYTouchStart),A.removeEventListener("ybuttontouchend",this.onBorYTouchEnd),A.removeEventListener("surfacetouchstart",this.onSurfaceTouchStart),A.removeEventListener("surfacetouchend",this.onSurfaceTouchEnd)},update:function(A){var b,g=this.el,w=this.data.hand,E=this.data.handModelStyle,C=this.data.color,_=this;if(b={hand:w,model:!1},w!==A){var L=h[E+w.charAt(0).toUpperCase()+w.slice(1)];this.loader.load(L,function(R){var P=R.scene.children[0],T=w==="left"?Math.PI/2:-Math.PI/2,D=g.sceneEl.hasWebXR?-Math.PI/2:0;P.mixer=new THREE.AnimationMixer(P),_.clips=R.animations,g.setObject3D("mesh",P);var $=P.children[1].material;$.color=new THREE.Color(C),P.position.set(0,0,0),P.rotation.set(D,0,T),g.setAttribute("magicleap-controls",b),g.setAttribute("vive-controls",b),g.setAttribute("oculus-touch-controls",b),g.setAttribute("windows-motion-controls",b),g.setAttribute("hp-mixed-reality-controls",b)})}},remove:function(){this.el.removeObject3D("mesh")},handleButton:function(A,b){var g,w=b==="down",E=b==="touchstart";if(b.indexOf("touch")===0){if(E===this.touchedButtons[A])return;this.touchedButtons[A]=E}else{if(w===this.pressedButtons[A])return;this.pressedButtons[A]=w}g=this.gesture,this.gesture=this.determineGesture(),this.gesture!==g&&(this.animateGesture(this.gesture,g),this.emitGestureEvents(this.gesture,g))},determineGesture:function(){var A,b=this.pressedButtons.grip,g=this.pressedButtons.surface||this.touchedButtons.surface,w=this.pressedButtons.trackpad||this.touchedButtons.trackpad,E=this.pressedButtons.trigger||this.touchedButtons.trigger,C=this.touchedButtons.AorX||this.touchedButtons.BorY,_=y(this.el.components["tracked-controls"]);return _?b||E?A=p.fist:w&&(A=p.point):b?g||C||w?A=E?p.fist:p.point:A=E?p.thumbUp:p.pointThumb:E&&(A=p.hold),A},getClip:function(A){var b,g;for(g=0;g<this.clips.length;g++)if(b=this.clips[g],b.name===A)return b},animateGesture:function(A,b){if(A){this.playAnimation(A||p.open,b,!1);return}this.playAnimation(b,b,!0)},emitGestureEvents:function(A,b){var g=this.el,w;b!==A&&(w=v(b,!1),w&&g.emit(w),w=v(A,!0),w&&g.emit(w))},playAnimation:function(A,b,g){var w,E,C=this.el.getObject3D("mesh"),_;if(C){if(C.mixer.stopAllAction(),w=this.getClip(A),_=C.mixer.clipAction(w),_.clampWhenFinished=!0,_.loop=THREE.LoopRepeat,_.repetitions=0,_.timeScale=g?-1:1,_.time=g?w.duration:0,_.weight=1,!b||A===b){C.mixer.stopAllAction(),_.play();return}w=this.getClip(b),E=C.mixer.clipAction(w),E.weight=.15,E.play(),_.play(),E.crossFadeTo(_,.15,!0)}}});function v(A,b){var g;if(A){if(g=m[A],g==="grip")return g+(b?"close":"open");if(g==="point")return g+(b?"up":"down");if(g==="pointing"||g==="pistol")return g+(b?"start":"end")}}function y(A){var b=A&&A.controller,g=b&&(b.id&&b.id.indexOf("OpenVR ")===0||b.profiles&&b.profiles[0]&&b.profiles[0]==="htc-vive");return g}},"./src/components/hand-tracking-controls.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/utils/bind.js"),p=c("./src/utils/tracked-controls.js"),m=p.checkControllerPresentAndSetup,v="https://cdn.aframe.io/controllers/oculus-hands/v4/left.glb",y="https://cdn.aframe.io/controllers/oculus-hands/v4/right.glb",A=["wrist","thumb-metacarpal","thumb-phalanx-proximal","thumb-phalanx-distal","thumb-tip","index-finger-metacarpal","index-finger-phalanx-proximal","index-finger-phalanx-intermediate","index-finger-phalanx-distal","index-finger-tip","middle-finger-metacarpal","middle-finger-phalanx-proximal","middle-finger-phalanx-intermediate","middle-finger-phalanx-distal","middle-finger-tip","ring-finger-metacarpal","ring-finger-phalanx-proximal","ring-finger-phalanx-intermediate","ring-finger-phalanx-distal","ring-finger-tip","pinky-finger-metacarpal","pinky-finger-phalanx-proximal","pinky-finger-phalanx-intermediate","pinky-finger-phalanx-distal","pinky-finger-tip"],b=.015,g=.03,w=.5;l.exports.Component=d("hand-tracking-controls",{schema:{hand:{default:"right",oneOf:["left","right"]},modelStyle:{default:"mesh",oneOf:["dots","mesh"]},modelColor:{default:"white"}},bindMethods:function(){this.onControllersUpdate=h(this.onControllersUpdate,this),this.checkIfControllerPresent=h(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=h(this.removeControllersUpdateListener,this)},addEventListeners:function(){this.el.addEventListener("model-loaded",this.onModelLoaded);for(var E=0;E<this.jointEls.length;++E)this.jointEls[E].object3D.visible=!0},removeEventListeners:function(){this.el.removeEventListener("model-loaded",this.onModelLoaded);for(var E=0;E<this.jointEls.length;++E)this.jointEls[E].object3D.visible=!1},init:function(){var E=this.el.sceneEl,C=E.getAttribute("webxr").optionalFeatures;C.push("hand-tracking"),E.setAttribute("webxr",{optionalFeatures:C}),this.onModelLoaded=this.onModelLoaded.bind(this),this.jointEls=[],this.controllerPresent=!1,this.isPinched=!1,this.pinchEventDetail={position:new THREE.Vector3},this.indexTipPosition=new THREE.Vector3,this.bindMethods(),this.updateReferenceSpace=this.updateReferenceSpace.bind(this),this.el.sceneEl.addEventListener("enter-vr",this.updateReferenceSpace),this.el.sceneEl.addEventListener("exit-vr",this.updateReferenceSpace)},updateReferenceSpace:function(){var E=this,C=this.el.sceneEl.xrSession;if(this.referenceSpace=void 0,!!C){var _=E.el.sceneEl.systems.webxr.sessionReferenceSpaceType;C.requestReferenceSpace(_).then(function(L){E.referenceSpace=L.getOffsetReferenceSpace(new XRRigidTransform({x:0,y:1.5,z:0}))}).catch(function(L){throw E.el.sceneEl.systems.webxr.warnIfFeatureNotRequested(_,"tracked-controls-webxr uses reference space "+_),L})}},checkIfControllerPresent:function(){var E=this.data,C=E.hand?E.hand:void 0;m(this,"",{hand:C,iterateControllerProfiles:!0,handTracking:!0})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},tick:function(){var E=this.el.sceneEl,C=this.el.components["tracked-controls"]&&this.el.components["tracked-controls"].controller,_=E.frame,L=this.el.components["tracked-controls-webxr"];!C||!_||!L||C.hand&&(this.el.object3D.position.set(0,0,0),this.el.object3D.rotation.set(0,0,0),_.getJointPose&&this.updateHandModel(),this.detectGesture())},updateHandModel:function(){this.data.modelStyle==="dots"&&this.updateHandDotsModel(),this.data.modelStyle==="mesh"&&this.updateHandMeshModel()},getBone:function(E){for(var C=this.bones,_=0;_<C.length;_++)if(C[_].name===E)return C[_];return null},updateHandMeshModel:function(){var E=this.el.sceneEl.frame,C=this.el.components["tracked-controls"]&&this.el.components["tracked-controls"].controller,_=this.referenceSpace;if(!(!C||!this.mesh||!_)){this.mesh.visible=!1;for(var L of C.hand.values()){var R,P,T;P=E.getJointPose(L,_),R=this.getBone(L.jointName),R!=null&&P&&(T=P.transform,this.mesh.visible=!0,R.position.copy(T.position),R.quaternion.copy(T.orientation))}}},updateHandDotsModel:function(){var E=this.el.sceneEl.frame,C=this.el.components["tracked-controls"]&&this.el.components["tracked-controls"].controller,_=this.el.components["tracked-controls-webxr"],L=_.system.referenceSpace,R,P,T,D=0;for(var $ of C.hand.values())R=this.jointEls[D++],P=R.object3D,T=E.getJointPose($,L),R.object3D.visible=!!T,T&&(P.matrix.elements=T.transform.matrix,P.matrix.decompose(P.position,P.rotation,P.scale),R.setAttribute("scale",{x:T.radius,y:T.radius,z:T.radius}))},detectGesture:function(){this.detectPinch()},detectPinch:function(){var E=new THREE.Vector3;return function(){var C=this.el.sceneEl.frame,_=this.indexTipPosition,L=this.el.components["tracked-controls"]&&this.el.components["tracked-controls"].controller,R=this.el.components["tracked-controls-webxr"],P=this.referenceSpace||R.system.referenceSpace,T=L.hand.get("index-finger-tip"),D=L.hand.get("thumb-tip");if(!(!T||!D)){var $=C.getJointPose(T,P),V=C.getJointPose(D,P);if(!(!$||!V)){E.copy(V.transform.position),_.copy($.transform.position);var B=_.distanceTo(E);B<b&&this.isPinched===!1&&(this.isPinched=!0,this.pinchEventDetail.position.copy(_).lerp(E,w),this.pinchEventDetail.position.y+=1.5,this.el.emit("pinchstarted",this.pinchEventDetail)),B>g&&this.isPinched===!0&&(this.isPinched=!1,this.pinchEventDetail.position.copy(_).lerp(E,w),this.pinchEventDetail.position.y+=1.5,this.el.emit("pinchended",this.pinchEventDetail)),this.isPinched&&(this.pinchEventDetail.position.copy(_).lerp(E,w),this.pinchEventDetail.position.y+=1.5,this.el.emit("pinchmoved",this.pinchEventDetail)),_.y+=1.5}}}}(),pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var E=this.el,C=this.data;E.setAttribute("tracked-controls",{hand:C.hand,iterateControllerProfiles:!0,handTrackingEnabled:!0}),this.initDefaultModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){var E;this.checkIfControllerPresent(),E=this.el.components["tracked-controls"]&&this.el.components["tracked-controls"].controller,this.el.getObject3D("mesh")&&(!E||!E.hand||!E.hand[0])&&(this.el.getObject3D("mesh").visible=!1)},initDefaultModel:function(){this.el.getObject3D("mesh")||(this.data.modelStyle==="dots"&&this.initDotsModel(),this.data.modelStyle==="mesh"&&this.initMeshHandModel())},initDotsModel:function(){if(this.jointEls.length===0)for(var E=0;E<A.length;++E){var C=this.jointEl=document.createElement("a-entity");C.setAttribute("geometry",{primitive:"sphere",radius:1}),C.setAttribute("material",{color:this.data.modelColor}),C.object3D.visible=!1,this.el.appendChild(C),this.jointEls.push(C)}},initMeshHandModel:function(){var E=this.data.hand==="left"?v:y;this.el.setAttribute("gltf-model",E)},onModelLoaded:function(){var E=this.mesh=this.el.getObject3D("mesh").children[0],C=this.skinnedMesh=E.getObjectByProperty("type","SkinnedMesh");this.skinnedMesh&&(this.bones=C.skeleton.bones,this.el.removeObject3D("mesh"),E.position.set(0,1.5,0),E.rotation.set(0,0,0),C.frustumCulled=!1,C.material=new THREE.MeshStandardMaterial({skinning:!0,color:this.data.modelColor}),this.el.setObject3D("mesh",E))}})},"./src/components/hide-on-enter-ar.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent;l.exports.Component=d("hide-on-enter-ar",{init:function(){var h=this;this.el.sceneEl.addEventListener("enter-vr",function(){h.el.sceneEl.is("ar-mode")&&(h.el.object3D.visible=!1)}),this.el.sceneEl.addEventListener("exit-vr",function(){h.el.object3D.visible=!0})}})},"./src/components/hp-mixed-reality-controls.js":(l,u,c)=>{var d=c("./src/utils/bind.js"),h=c("./src/core/component.js").registerComponent,p=c("./src/lib/three.js"),m=c("./src/utils/tracked-controls.js"),v=m.checkControllerPresentAndSetup,y=m.emitIfAxesChanged,A=m.onButtonEvent,b="hp-mixed-reality",g="https://cdn.aframe.io/controllers/hp/mixed-reality/",w={x:0,y:0,z:.06},E={_x:Math.PI/4,_y:0,_z:0,_order:"XYZ"},C={left:{axes:{touchpad:[2,3]},buttons:["trigger","grip","none","thumbstick","xbutton","ybutton"]},right:{axes:{touchpad:[2,3]},buttons:["trigger","grip","none","thumbstick","abutton","bbutton"]}};l.exports.Component=h("hp-mixed-reality-controls",{schema:{hand:{default:"none"},model:{default:!0},orientationOffset:{type:"vec3"}},mapping:C,init:function(){var _=this;this.controllerPresent=!1,this.lastControllerCheck=0,this.onButtonChanged=d(this.onButtonChanged,this),this.onButtonDown=function(L){A(L.detail.id,"down",_,_.data.hand)},this.onButtonUp=function(L){A(L.detail.id,"up",_,_.data.hand)},this.onButtonTouchEnd=function(L){A(L.detail.id,"touchend",_,_.data.hand)},this.onButtonTouchStart=function(L){A(L.detail.id,"touchstart",_,_.data.hand)},this.previousButtonValues={},this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods()},update:function(){var _=this.data;this.controllerIndex=_.hand==="right"?0:_.hand==="left"?1:2},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=d(this.onModelLoaded,this),this.onControllersUpdate=d(this.onControllersUpdate,this),this.checkIfControllerPresent=d(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=d(this.removeControllersUpdateListener,this),this.onAxisMoved=d(this.onAxisMoved,this)},addEventListeners:function(){var _=this.el;_.addEventListener("buttonchanged",this.onButtonChanged),_.addEventListener("buttondown",this.onButtonDown),_.addEventListener("buttonup",this.onButtonUp),_.addEventListener("touchstart",this.onButtonTouchStart),_.addEventListener("touchend",this.onButtonTouchEnd),_.addEventListener("axismove",this.onAxisMoved),_.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var _=this.el;_.removeEventListener("buttonchanged",this.onButtonChanged),_.removeEventListener("buttondown",this.onButtonDown),_.removeEventListener("buttonup",this.onButtonUp),_.removeEventListener("touchstart",this.onButtonTouchStart),_.removeEventListener("touchend",this.onButtonTouchEnd),_.removeEventListener("axismove",this.onAxisMoved),_.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var _=this.data;v(this,b,{index:this.controllerIndex,hand:_.hand})},injectTrackedControls:function(){var _=this.el,L=this.data;_.setAttribute("tracked-controls",{idPrefix:b,hand:L.hand,controller:this.controllerIndex,orientationOffset:L.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model",g+this.data.hand+".glb")},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(_){var L=this.mapping[this.data.hand].buttons[_.detail.id],R;L&&(L==="trigger"&&(R=_.detail.state.value,console.log("analog value of trigger press: "+R)),this.el.emit(L+"changed",_.detail.state))},onModelLoaded:function(_){var L=_.detail.model;this.data.model&&(L.position.copy(w),L.rotation.copy(E),this.el.emit("controllermodelready",{name:"hp-mixed-reality-controls",model:this.data.model,rayOrigin:new p.Vector3(0,0,0)}))},onAxisMoved:function(_){y(this,this.mapping.axes,_)}})},"./src/components/index.js":(l,u,c)=>{c("./src/components/animation.js"),c("./src/components/camera.js"),c("./src/components/cursor.js"),c("./src/components/daydream-controls.js"),c("./src/components/gearvr-controls.js"),c("./src/components/geometry.js"),c("./src/components/generic-tracked-controller-controls.js"),c("./src/components/gltf-model.js"),c("./src/components/hand-tracking-controls.js"),c("./src/components/hand-controls.js"),c("./src/components/hide-on-enter-ar.js"),c("./src/components/hp-mixed-reality-controls.js"),c("./src/components/layer.js"),c("./src/components/laser-controls.js"),c("./src/components/light.js"),c("./src/components/line.js"),c("./src/components/link.js"),c("./src/components/look-controls.js"),c("./src/components/magicleap-controls.js"),c("./src/components/material.js"),c("./src/components/obj-model.js"),c("./src/components/oculus-go-controls.js"),c("./src/components/oculus-touch-controls.js"),c("./src/components/position.js"),c("./src/components/raycaster.js"),c("./src/components/rotation.js"),c("./src/components/scale.js"),c("./src/components/shadow.js"),c("./src/components/sound.js"),c("./src/components/text.js"),c("./src/components/tracked-controls.js"),c("./src/components/tracked-controls-webvr.js"),c("./src/components/tracked-controls-webxr.js"),c("./src/components/visible.js"),c("./src/components/valve-index-controls.js"),c("./src/components/vive-controls.js"),c("./src/components/vive-focus-controls.js"),c("./src/components/wasd-controls.js"),c("./src/components/windows-motion-controls.js"),c("./src/components/scene/ar-hit-test.js"),c("./src/components/scene/background.js"),c("./src/components/scene/debug.js"),c("./src/components/scene/device-orientation-permission-ui.js"),c("./src/components/scene/embedded.js"),c("./src/components/scene/inspector.js"),c("./src/components/scene/fog.js"),c("./src/components/scene/keyboard-shortcuts.js"),c("./src/components/scene/pool.js"),c("./src/components/scene/reflection.js"),c("./src/components/scene/screenshot.js"),c("./src/components/scene/stats.js"),c("./src/components/scene/vr-mode-ui.js")},"./src/components/laser-controls.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/utils/index.js");d("laser-controls",{schema:{hand:{default:"right"},model:{default:!0},defaultModelColor:{type:"color",default:"grey"}},init:function(){var p=this.config,m=this.data,v=this.el,y=this,A={hand:m.hand,model:m.model};v.setAttribute("daydream-controls",A),v.setAttribute("gearvr-controls",A),v.setAttribute("hp-mixed-reality-controls",A),v.setAttribute("magicleap-controls",A),v.setAttribute("oculus-go-controls",A),v.setAttribute("oculus-touch-controls",A),v.setAttribute("valve-index-controls",A),v.setAttribute("vive-controls",A),v.setAttribute("vive-focus-controls",A),v.setAttribute("windows-motion-controls",A),v.setAttribute("generic-tracked-controller-controls",{hand:A.hand}),v.addEventListener("controllerconnected",b),v.addEventListener("controllerdisconnected",g),v.addEventListener("controllermodelready",function(w){b(w),y.modelReady=!0});function b(w){var E=p[w.detail.name];if(E){var C=h.extend({showLine:!0},E.raycaster||{});w.detail.rayOrigin&&(C.origin=w.detail.rayOrigin.origin,C.direction=w.detail.rayOrigin.direction,C.showLine=!0),w.detail.rayOrigin||!y.modelReady?v.setAttribute("raycaster",C):v.setAttribute("raycaster","showLine",!0),v.setAttribute("cursor",h.extend({fuse:!1},E.cursor))}}function g(){v.setAttribute("raycaster","showLine",!1)}},config:{"daydream-controls":{cursor:{downEvents:["trackpaddown","triggerdown"],upEvents:["trackpadup","triggerup"]}},"gearvr-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:.001,z:0}}},"generic-tracked-controller-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"hp-mixed-reality-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:0,z:0}}},"magicleap-controls":{cursor:{downEvents:["trackpaddown","triggerdown"],upEvents:["trackpadup","triggerup"]}},"oculus-go-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:5e-4,z:0}}},"oculus-touch-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:0,z:0}}},"valve-index-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"vive-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"vive-focus-controls":{cursor:{downEvents:["trackpaddown","triggerdown"],upEvents:["trackpadup","triggerup"]}},"windows-motion-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{showLine:!1}}}})},"./src/components/layer.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/utils/index.js"),p=h.debug("components:layer:warn");l.exports.Component=d("layer",{schema:{type:{default:"quad",oneOf:["quad","monocubemap","stereocubemap"]},src:{type:"map"},rotateCubemap:{default:!1},width:{default:0},height:{default:0}},init:function(){var v=this.el.sceneEl.renderer.getContext();this.quaternion=new THREE.Quaternion,this.position=new THREE.Vector3,this.bindMethods(),this.needsRedraw=!1,this.frameBuffer=v.createFramebuffer();var y=this.el.sceneEl.getAttribute("webxr").requiredFeatures;y.push("layers"),this.el.sceneEl.getAttribute("webxr","requiredFeatures",y),this.el.sceneEl.addEventListener("enter-vr",this.onEnterVR),this.el.sceneEl.addEventListener("exit-vr",this.onExitVR)},bindMethods:function(){this.onRequestedReferenceSpace=this.onRequestedReferenceSpace.bind(this),this.onEnterVR=this.onEnterVR.bind(this),this.onExitVR=this.onExitVR.bind(this)},update:function(v){this.data.src!==v.src&&this.updateSrc()},updateSrc:function(){var v=this.data.type;if(this.texture=void 0,v==="quad"){this.loadQuadImage();return}if(v==="monocubemap"||v==="stereocubemap"){this.loadCubeMapImages();return}},loadCubeMapImages:function(){var v,y=this.xrGLFactory,A=this.el.sceneEl.frame,b=this.data.src,g=this.data.type;this.visibilityChanged=!1,this.layer&&(g!=="monocubemap"&&g!=="stereocubemap"||(b.complete?this.pendingCubeMapUpdate=!1:this.pendingCubeMapUpdate=!0,this.loadingScreen?this.loadingScreen=!1:this.loadingScreen=!0,g==="monocubemap"?(v=y.getSubImage(this.layer,A),this.loadCubeMapImage(v.colorTexture,b,0)):(v=y.getSubImage(this.layer,A,"left"),this.loadCubeMapImage(v.colorTexture,b,0),v=y.getSubImage(this.layer,A,"right"),this.loadCubeMapImage(v.colorTexture,b,6))))},loadQuadImage:function(){var v=this.data.src,y=this;this.el.sceneEl.systems.material.loadTexture(v,{src:v},function(b){y.el.sceneEl.renderer.initTexture(b),y.texture=b,v.tagName==="VIDEO"&&setTimeout(function(){y.textureIsVideo=!0},1e3),y.layer&&(y.layer.height=y.data.height/2||y.texture.image.height/1e3,y.layer.width=y.data.width/2||y.texture.image.width/1e3,y.needsRedraw=!0),y.updateQuadPanel()})},preGenerateCubeMapTextures:function(v,y){this.data.type==="monocubemap"?this.generateCubeMapTextures(v,0,y):(this.generateCubeMapTextures(v,0,y),this.generateCubeMapTextures(v,6,y))},generateCubeMapTextures:function(v,y,A){for(var b=this.data,g=this.cubeFaceSize,w=Math.min(v.width,v.height),E=[],C,_,L=0;L<6;L++){var R=document.createElement("CANVAS");R.width=R.height=g;var P=R.getContext("2d");b.rotateCubemap&&(L===2||L===3)&&(P.save(),P.translate(g,g),P.rotate(Math.PI)),P.drawImage(v,(L+y)*w,0,w,w,0,0,g,g),P.restore(),A&&A(),E.push(R)}return b.rotateCubemap&&(C=E[0],_=E[1],E[0]=_,E[1]=C,C=E[4],_=E[5],E[4]=_,E[5]=C),A&&A(),E},loadCubeMapImage:function(v,y,A){var b=this.el.sceneEl.renderer.getContext(),g;b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1),b.bindTexture(b.TEXTURE_CUBE_MAP,v),!y.complete||this.loadingScreen?g=this.loadingScreenImages:g=this.generateCubeMapTextures(y,A);var w=0;g.forEach(function(E,C){b.texSubImage2D(b.TEXTURE_CUBE_MAP_POSITIVE_X+C,0,0,0,b.RGBA,b.UNSIGNED_BYTE,E),w=b.getError()}),w!==0&&console.log("renderingError, WebGL Error Code: "+w),b.bindTexture(b.TEXTURE_CUBE_MAP,null)},tick:function(){this.el.sceneEl.xrSession&&(!this.layer&&this.el.sceneEl.is("vr-mode")&&this.initLayer(),this.updateTransform(),this.data.src.complete&&(this.pendingCubeMapUpdate||this.loadingScreen||this.visibilityChanged)&&this.loadCubeMapImages(),!(!this.needsRedraw&&!this.layer.needsRedraw&&!this.textureIsVideo)&&(this.data.type==="quad"&&this.draw(),this.needsRedraw=!1))},initLayer:function(){var v=this,y=this.data.type;if(this.el.sceneEl.xrSession.onvisibilitychange=function(A){v.visibilityChanged=A.session.visibilityState!=="hidden"},y==="quad"){this.initQuadLayer();return}if(y==="monocubemap"||y==="stereocubemap"){this.initCubeMapLayer();return}},initQuadLayer:function(){var v=this.el.sceneEl,y=v.renderer.getContext(),A=this.xrGLFactory=new XRWebGLBinding(v.xrSession,y);this.texture&&(this.layer=A.createQuadLayer({space:this.referenceSpace,viewPixelHeight:2048,viewPixelWidth:2048,height:this.data.height/2||this.texture.image.height/1e3,width:this.data.width/2||this.texture.image.width/1e3}),this.initLoadingScreenImages(),v.renderer.xr.addLayer(this.layer))},initCubeMapLayer:function(){var v=this.data.src,y=this.el.sceneEl,A=y.renderer.getContext(),b=A.getParameter(A.MAX_CUBE_MAP_TEXTURE_SIZE),g=this.cubeFaceSize=Math.min(b,Math.min(v.width,v.height)),w=this.xrGLFactory=new XRWebGLBinding(y.xrSession,A);this.layer=w.createCubeLayer({space:this.referenceSpace,viewPixelWidth:g,viewPixelHeight:g,layout:this.data.type==="monocubemap"?"mono":"stereo",isStatic:!1}),this.initLoadingScreenImages(),this.loadCubeMapImages(),y.renderer.xr.addLayer(this.layer)},initLoadingScreenImages:function(){for(var v=this.cubeFaceSize,y=this.loadingScreenImages=[],A=0;A<6;A++){var b=document.createElement("CANVAS");b.width=b.height=v;var g=b.getContext("2d");b.width=b.height=v,g.fillStyle="black",g.fillRect(0,0,v,v),A!==2&&A!==3&&(g.translate(v,0),g.scale(-1,1),g.fillStyle="white",g.font="30px Arial",g.fillText("Loading",v/2,v/2)),y.push(b)}},destroyLayer:function(){this.layer&&(this.el.sceneEl.renderer.xr.removeLayer(this.layer),this.layer.destroy(),this.layer=void 0)},toggleCompositorLayer:function(){this.enableCompositorLayer(!this.layerEnabled)},enableCompositorLayer:function(v){this.layerEnabled=v,this.quadPanelEl.object3D.visible=!this.layerEnabled},updateQuadPanel:function(){var v=this.quadPanelEl;this.quadPanelEl||(v=this.quadPanelEl=document.createElement("a-entity"),this.el.appendChild(v)),v.setAttribute("material",{shader:"flat",src:this.data.src,transparent:!0}),v.setAttribute("geometry",{primitive:"plane",height:this.data.height||this.texture.image.height/1e3,width:this.data.width||this.texture.image.height/1e3})},draw:function(){var v=this.el.sceneEl,y=this.el.sceneEl.renderer.getContext(),A=this.xrGLFactory.getSubImage(this.layer,v.frame),b=v.renderer.properties.get(this.texture).__webglTexture,g=y.getParameter(y.FRAMEBUFFER_BINDING);y.viewport(A.viewport.x,A.viewport.y,A.viewport.width,A.viewport.height),y.bindFramebuffer(y.FRAMEBUFFER,this.frameBuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,A.colorTexture,0),m(y,b,A,this.data.src),y.bindFramebuffer(y.FRAMEBUFFER,g)},updateTransform:function(){var v=this.el,y=this.position,A=this.quaternion;v.object3D.updateMatrixWorld(),y.setFromMatrixPosition(v.object3D.matrixWorld),A.setFromRotationMatrix(v.object3D.matrixWorld),this.layerEnabled||y.set(0,0,1e8),this.layer.transform=new XRRigidTransform(y,A)},onEnterVR:function(){var v=this.el.sceneEl,y=v.xrSession;if(!v.hasWebXR||!XRWebGLBinding||!y){p("The layer component requires WebXR and the layers API enabled");return}y.requestReferenceSpace("local-floor").then(this.onRequestedReferenceSpace),this.needsRedraw=!0,this.layerEnabled=!0,this.quadPanelEl&&(this.quadPanelEl.object3D.visible=!1),this.data.src.play&&this.data.src.play()},onExitVR:function(){this.quadPanelEl&&(this.quadPanelEl.object3D.visible=!0),this.destroyLayer()},onRequestedReferenceSpace:function(v){this.referenceSpace=v}});function m(v,y,A,b){var g=v.createFramebuffer(),w=A.viewport.x,E=A.viewport.y,C=A.viewport.x+A.viewport.width,_=A.viewport.y+A.viewport.height;b.tagName==="VIDEO"&&(v.bindTexture(v.TEXTURE_2D,y),v.texSubImage2D(v.TEXTURE_2D,0,0,0,b.width,b.height,v.RGB,v.UNSIGNED_BYTE,b)),v.bindFramebuffer(v.READ_FRAMEBUFFER,g),v.framebufferTexture2D(v.READ_FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_2D,y,0),v.readBuffer(v.COLOR_ATTACHMENT0),v.blitFramebuffer(0,0,b.width,b.height,w,E,C,_,v.COLOR_BUFFER_BIT,v.NEAREST),v.bindFramebuffer(v.READ_FRAMEBUFFER,null),v.deleteFramebuffer(g)}},"./src/components/light.js":(l,u,c)=>{var d=c("./src/utils/bind.js"),h=c("./src/utils/index.js"),p=h.diff,m=c("./src/utils/debug.js"),v=c("./src/core/component.js").registerComponent,y=c("./src/lib/three.js"),A=c("./src/utils/math.js"),b=y.MathUtils.degToRad,g=m("components:light:warn"),w=new y.CubeTextureLoader,E={};l.exports.Component=v("light",{schema:{angle:{default:60,if:{type:["spot"]}},color:{type:"color",if:{type:["ambient","directional","hemisphere","point","spot"]}},envMap:{default:"",if:{type:["probe"]}},groundColor:{type:"color",if:{type:["hemisphere"]}},decay:{default:1,if:{type:["point","spot"]}},distance:{default:0,min:0,if:{type:["point","spot"]}},intensity:{default:1,min:0,if:{type:["ambient","directional","hemisphere","point","spot","probe"]}},penumbra:{default:0,min:0,max:1,if:{type:["spot"]}},type:{default:"directional",oneOf:["ambient","directional","hemisphere","point","spot","probe"],schemaChange:!0},target:{type:"selector",if:{type:["spot","directional"]}},castShadow:{default:!1,if:{type:["point","spot","directional"]}},shadowBias:{default:0,if:{castShadow:!0}},shadowCameraFar:{default:500,if:{castShadow:!0}},shadowCameraFov:{default:90,if:{castShadow:!0}},shadowCameraNear:{default:.5,if:{castShadow:!0}},shadowCameraTop:{default:5,if:{castShadow:!0}},shadowCameraRight:{default:5,if:{castShadow:!0}},shadowCameraBottom:{default:-5,if:{castShadow:!0}},shadowCameraLeft:{default:-5,if:{castShadow:!0}},shadowCameraVisible:{default:!1,if:{castShadow:!0}},shadowCameraAutomatic:{default:"",if:{type:["directional"]}},shadowMapHeight:{default:512,if:{castShadow:!0}},shadowMapWidth:{default:512,if:{castShadow:!0}},shadowRadius:{default:1,if:{castShadow:!0}}},init:function(){var C=this.el;this.light=null,this.defaultTarget=null,this.rendererSystem=this.el.sceneEl.systems.renderer,this.system.registerLight(C)},update:function(C){var _=this.data,L=p(_,C),R=this.light,P=this.rendererSystem,T=this;if(R&&!("type"in L)){var D=!1;Object.keys(L).forEach(function($){var V=_[$];switch($){case"color":{R.color.set(V),P.applyColorCorrection(R.color);break}case"groundColor":{R.groundColor.set(V),P.applyColorCorrection(R.groundColor);break}case"angle":{R.angle=b(V);break}case"target":{V===null?(_.type==="spot"||_.type==="directional")&&(R.target=T.defaultTarget):V.hasLoaded?T.onSetTarget(V,R):V.addEventListener("loaded",d(T.onSetTarget,T,V,R));break}case"envMap":T.updateProbeMap(_,R);break;case"castShadow":case"shadowBias":case"shadowCameraFar":case"shadowCameraFov":case"shadowCameraNear":case"shadowCameraTop":case"shadowCameraRight":case"shadowCameraBottom":case"shadowCameraLeft":case"shadowCameraVisible":case"shadowMapHeight":case"shadowMapWidth":case"shadowRadius":D||(T.updateShadow(),D=!0);break;case"shadowCameraAutomatic":_.shadowCameraAutomatic?T.shadowCameraAutomaticEls=Array.from(document.querySelectorAll(_.shadowCameraAutomatic)):T.shadowCameraAutomaticEls=[];break;default:R[$]=V}});return}this.setLight(this.data),this.updateShadow()},tick:function(){var C=new y.Box3,_=new y.Vector3,L=new y.Vector3,R=new y.Matrix4,P=new y.Sphere,T=new y.Vector3;return function(){if(this.data.type==="directional"&&this.light.shadow&&this.light.shadow.camera instanceof y.OrthographicCamera&&this.shadowCameraAutomaticEls.length){var D=this.light.shadow.camera;D.getWorldDirection(_),D.getWorldPosition(L),R.copy(D.matrixWorld),R.invert(),D.near=1,D.left=1e5,D.right=-1e5,D.top=-1e5,D.bottom=1e5,this.shadowCameraAutomaticEls.forEach(function($){C.setFromObject($.object3D),C.getBoundingSphere(P);var V=A.distanceOfPointFromPlane(L,_,P.center),B=A.nearestPointInPlane(L,_,P.center,T),O=B.applyMatrix4(R);D.near=Math.min(-V-P.radius-1,D.near),D.left=Math.min(-P.radius+O.x,D.left),D.right=Math.max(P.radius+O.x,D.right),D.top=Math.max(P.radius+O.y,D.top),D.bottom=Math.min(-P.radius+O.y,D.bottom)}),D.updateProjectionMatrix()}}}(),setLight:function(C){var _=this.el,L=this.getLight(C);L&&(this.light&&_.removeObject3D("light"),this.light=L,this.light.el=_,_.setObject3D("light",this.light),(C.type==="spot"||C.type==="directional"||C.type==="hemisphere")&&_.getObject3D("light").translateY(-1),C.type==="spot"&&(_.setObject3D("light-target",this.defaultTarget),_.getObject3D("light-target").position.set(0,0,-1)),C.shadowCameraAutomatic?this.shadowCameraAutomaticEls=Array.from(document.querySelectorAll(C.shadowCameraAutomatic)):this.shadowCameraAutomaticEls=[])},updateShadow:function(){var C=this.el,_=this.data,L=this.light;L.castShadow=_.castShadow;var R=C.getObject3D("cameraHelper");if(_.shadowCameraVisible&&!R?C.setObject3D("cameraHelper",new y.CameraHelper(L.shadow.camera)):!_.shadowCameraVisible&&R&&C.removeObject3D("cameraHelper"),!_.castShadow)return L;L.shadow.bias=_.shadowBias,L.shadow.radius=_.shadowRadius,L.shadow.mapSize.height=_.shadowMapHeight,L.shadow.mapSize.width=_.shadowMapWidth,L.shadow.camera.near=_.shadowCameraNear,L.shadow.camera.far=_.shadowCameraFar,L.shadow.camera instanceof y.OrthographicCamera?(L.shadow.camera.top=_.shadowCameraTop,L.shadow.camera.right=_.shadowCameraRight,L.shadow.camera.bottom=_.shadowCameraBottom,L.shadow.camera.left=_.shadowCameraLeft):L.shadow.camera.fov=_.shadowCameraFov,L.shadow.camera.updateProjectionMatrix(),R&&R.update()},getLight:function(C){var _=C.angle,L=new y.Color(C.color);this.rendererSystem.applyColorCorrection(L),L=L.getHex();var R=C.decay,P=C.distance,T=new y.Color(C.groundColor);this.rendererSystem.applyColorCorrection(T),T=T.getHex();var D=C.intensity,$=C.type,V=C.target,B=null;switch($.toLowerCase()){case"ambient":return new y.AmbientLight(L,D);case"directional":return B=new y.DirectionalLight(L,D),this.defaultTarget=B.target,V&&(V.hasLoaded?this.onSetTarget(V,B):V.addEventListener("loaded",d(this.onSetTarget,this,V,B))),B;case"hemisphere":return new y.HemisphereLight(L,T,D);case"point":return new y.PointLight(L,D,P,R);case"spot":return B=new y.SpotLight(L,D,P,b(_),C.penumbra,R),this.defaultTarget=B.target,V&&(V.hasLoaded?this.onSetTarget(V,B):V.addEventListener("loaded",d(this.onSetTarget,this,V,B))),B;case"probe":return B=new y.LightProbe,this.updateProbeMap(C,B),B;default:g("%s is not a valid light type. Choose from ambient, directional, hemisphere, point, spot.",$)}},updateProbeMap:function(C,_){C.envMap||_.copy(new y.LightProbe),E[C.envMap]instanceof window.Promise&&E[C.envMap].then(function(L){_.copy(L)}),E[C.envMap]instanceof y.LightProbe&&_.copy(E[C.envMap]),E[C.envMap]=new window.Promise(function(L){h.srcLoader.validateCubemapSrc(C.envMap,function(P){w.load(P,function(T){var D=y.LightProbeGenerator.fromCubeTexture(T);E[C.envMap]=D,_.copy(D)})})})},onSetTarget:function(C,_){_.target=C.object3D},remove:function(){var C=this.el;C.removeObject3D("light"),C.getObject3D("cameraHelper")&&C.removeObject3D("cameraHelper")}})},"./src/components/line.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent;l.exports.Component=d("line",{schema:{start:{type:"vec3",default:{x:0,y:0,z:0}},end:{type:"vec3",default:{x:0,y:0,z:0}},color:{type:"color",default:"#74BEC1"},opacity:{type:"number",default:1},visible:{default:!0}},multiple:!0,init:function(){var p=this.data,m,v;this.rendererSystem=this.el.sceneEl.systems.renderer,v=this.material=new THREE.LineBasicMaterial({color:p.color,opacity:p.opacity,transparent:p.opacity<1,visible:p.visible}),m=this.geometry=new THREE.BufferGeometry,m.setAttribute("position",new THREE.BufferAttribute(new Float32Array(6),3)),this.rendererSystem.applyColorCorrection(v.color),this.line=new THREE.Line(m,v),this.el.setObject3D(this.attrName,this.line)},update:function(p){var m=this.data,v=this.geometry,y=!1,A=this.material,b=v.attributes.position.array;h(m.start,p.start)||(b[0]=m.start.x,b[1]=m.start.y,b[2]=m.start.z,y=!0),h(m.end,p.end)||(b[3]=m.end.x,b[4]=m.end.y,b[5]=m.end.z,y=!0),y&&(v.attributes.position.needsUpdate=!0,v.computeBoundingSphere()),A.color.setStyle(m.color),this.rendererSystem.applyColorCorrection(A.color),A.opacity=m.opacity,A.transparent=m.opacity<1,A.visible=m.visible},remove:function(){this.el.removeObject3D(this.attrName,this.line)}});function h(p,m){return!p||!m?!1:p.x===m.x&&p.y===m.y&&p.z===m.z}},"./src/components/link.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/core/shader.js").registerShader,p=c("./src/lib/three.js");l.exports.Component=d("link",{schema:{backgroundColor:{default:"red",type:"color"},borderColor:{default:"white",type:"color"},highlighted:{default:!1},highlightedColor:{default:"#24CAFF",type:"color"},href:{default:""},image:{type:"asset"},on:{default:"click"},peekMode:{default:!1},title:{default:""},titleColor:{default:"white",type:"color"},visualAspectEnabled:{default:!1}},init:function(){this.navigate=this.navigate.bind(this),this.previousQuaternion=void 0,this.quaternionClone=new p.Quaternion,this.hiddenEls=[]},update:function(m){var v=this.data,y=this.el,A,b;v.visualAspectEnabled&&(this.initVisualAspect(),A=v.highlighted?v.highlightedColor:v.backgroundColor,b=v.highlighted?v.highlightedColor:v.borderColor,y.setAttribute("material","backgroundColor",A),y.setAttribute("material","strokeColor",b),v.on!==m.on&&this.updateEventListener(),m.peekMode!==void 0&&v.peekMode!==m.peekMode&&this.updatePeekMode(),!(!v.image||m.image===v.image)&&y.setAttribute("material","pano",typeof v.image=="string"?v.image:v.image.src))},updatePeekMode:function(){var m=this.el,v=this.sphereEl;this.data.peekMode?(this.hideAll(),m.getObject3D("mesh").visible=!1,v.setAttribute("visible",!0)):(this.showAll(),m.getObject3D("mesh").visible=!0,v.setAttribute("visible",!1))},play:function(){this.updateEventListener()},pause:function(){this.removeEventListener()},updateEventListener:function(){var m=this.el;m.isPlaying&&(this.removeEventListener(),m.addEventListener(this.data.on,this.navigate))},removeEventListener:function(){var m=this.data.on;m&&this.el.removeEventListener(m,this.navigate)},initVisualAspect:function(){var m=this.el,v,y,A;!this.data.visualAspectEnabled||this.visualAspectInitialized||(A=this.textEl=this.textEl||document.createElement("a-entity"),y=this.sphereEl=this.sphereEl||document.createElement("a-entity"),v=this.semiSphereEl=this.semiSphereEl||document.createElement("a-entity"),m.setAttribute("geometry",{primitive:"circle",radius:1,segments:64}),m.setAttribute("material",{shader:"portal",pano:this.data.image,side:"double"}),A.setAttribute("text",{color:this.data.titleColor,align:"center",font:"kelsonsans",value:this.data.title||this.data.href,width:4}),A.setAttribute("position","0 1.5 0"),m.appendChild(A),v.setAttribute("geometry",{primitive:"sphere",radius:1,phiStart:0,segmentsWidth:64,segmentsHeight:64,phiLength:180,thetaStart:0,thetaLength:360}),v.setAttribute("material",{shader:"portal",borderEnabled:0,pano:this.data.image,side:"back"}),v.setAttribute("rotation","0 180 0"),v.setAttribute("position","0 0 0"),v.setAttribute("visible",!1),m.appendChild(v),y.setAttribute("geometry",{primitive:"sphere",radius:10,segmentsWidth:64,segmentsHeight:64}),y.setAttribute("material",{shader:"portal",borderEnabled:0,pano:this.data.image,side:"back"}),y.setAttribute("visible",!1),m.appendChild(y),this.visualAspectInitialized=!0)},navigate:function(){window.location=this.data.href},tick:function(){var m=new p.Vector3,v=new p.Vector3,y=new p.Quaternion,A=new p.Vector3;return function(){var b=this.el,g=b.object3D,w=b.sceneEl.camera,E,C,_=this.textEl;if(this.data.visualAspectEnabled)if(g.updateMatrixWorld(),w.parent.updateMatrixWorld(),w.updateMatrixWorld(),g.matrix.decompose(v,y,A),v.setFromMatrixPosition(g.matrixWorld),m.setFromMatrixPosition(w.matrixWorld),C=v.distanceTo(m),C>20)this.previousQuaternion||(this.quaternionClone.copy(y),this.previousQuaternion=this.quaternionClone),g.lookAt(m);else{if(E=this.calculateCameraPortalOrientation(),C<.5){if(this.semiSphereEl.getAttribute("visible")===!0)return;_.setAttribute("text","width",1.5),E<=0?(_.setAttribute("position","0 0 0.75"),_.setAttribute("rotation","0 180 0"),this.semiSphereEl.setAttribute("rotation","0 0 0")):(_.setAttribute("position","0 0 -0.75"),_.setAttribute("rotation","0 0 0"),this.semiSphereEl.setAttribute("rotation","0 180 0")),b.getObject3D("mesh").visible=!1,this.semiSphereEl.setAttribute("visible",!0),this.peekCameraPortalOrientation=E}else E<=0?_.setAttribute("rotation","0 180 0"):_.setAttribute("rotation","0 0 0"),_.setAttribute("text","width",5),_.setAttribute("position","0 1.5 0"),b.getObject3D("mesh").visible=!0,this.semiSphereEl.setAttribute("visible",!1),this.peekCameraPortalOrientation=void 0;this.previousQuaternion&&(g.quaternion.copy(this.previousQuaternion),this.previousQuaternion=void 0)}}}(),hideAll:function(){var m=this.el,v=this.hiddenEls,y=this;v.length>0||m.sceneEl.object3D.traverse(function(A){A&&A.el&&A.el.hasAttribute("link-controls")||!A.el||A===m.sceneEl.object3D||A.el===m||A.el===y.sphereEl||A.el===m.sceneEl.cameraEl||A.el.getAttribute("visible")===!1||A.el===y.textEl||A.el===y.semiSphereEl||(A.el.setAttribute("visible",!1),v.push(A.el))})},showAll:function(){this.hiddenEls.forEach(function(m){m.setAttribute("visible",!0)}),this.hiddenEls=[]},calculateCameraPortalOrientation:function(){var m=new p.Matrix4,v=new p.Vector3,y=new p.Vector3(0,0,1),A=new p.Vector3(0,0,0);return function(){var b=this.el,g=b.sceneEl.camera;return v.set(0,0,0),y.set(0,0,1),A.set(0,0,0),b.object3D.matrixWorld.extractRotation(m),y.applyMatrix4(m),b.object3D.updateMatrixWorld(),b.object3D.localToWorld(A),g.parent.parent.updateMatrixWorld(),g.parent.updateMatrixWorld(),g.updateMatrixWorld(),g.localToWorld(v),v.sub(A).normalize(),y.normalize(),Math.sign(y.dot(v))}}(),remove:function(){this.removeEventListener()}}),h("portal",{schema:{borderEnabled:{default:1,type:"int",is:"uniform"},backgroundColor:{default:"red",type:"color",is:"uniform"},pano:{type:"map",is:"uniform"},strokeColor:{default:"white",type:"color",is:"uniform"}},vertexShader:["vec3 portalPosition;","varying vec3 vWorldPosition;","varying float vDistanceToCenter;","varying float vDistance;","void main() {","vDistanceToCenter = clamp(length(position - vec3(0.0, 0.0, 0.0)), 0.0, 1.0);","portalPosition = (modelMatrix * vec4(0.0, 0.0, 0.0, 1.0)).xyz;","vDistance = length(portalPosition - cameraPosition);","vWorldPosition = (modelMatrix * vec4(position, 1.0)).xyz;","gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","}"].join(`
`),fragmentShader:["#define RECIPROCAL_PI2 0.15915494","uniform sampler2D pano;","uniform vec3 strokeColor;","uniform vec3 backgroundColor;","uniform float borderEnabled;","varying float vDistanceToCenter;","varying float vDistance;","varying vec3 vWorldPosition;","void main() {","vec3 direction = normalize(vWorldPosition - cameraPosition);","vec2 sampleUV;","float borderThickness = clamp(exp(-vDistance / 50.0), 0.6, 0.95);","sampleUV.y = clamp(direction.y * 0.5  + 0.5, 0.0, 1.0);","sampleUV.x = atan(direction.z, -direction.x) * -RECIPROCAL_PI2 + 0.5;","if (vDistanceToCenter > borderThickness && borderEnabled == 1.0) {","gl_FragColor = vec4(strokeColor, 1.0);","} else {","gl_FragColor = mix(texture2D(pano, sampleUV), vec4(backgroundColor, 1.0), clamp(pow((vDistance / 15.0), 2.0), 0.0, 1.0));","}","}"].join(`
`)})},"./src/components/look-controls.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/lib/three.js"),p=c("./src/utils/index.js"),m=p.bind,v=Math.PI/2;l.exports.Component=d("look-controls",{dependencies:["position","rotation"],schema:{enabled:{default:!0},magicWindowTrackingEnabled:{default:!0},pointerLockEnabled:{default:!1},reverseMouseDrag:{default:!1},reverseTouchDrag:{default:!1},touchEnabled:{default:!0},mouseEnabled:{default:!0}},init:function(){this.deltaYaw=0,this.previousHMDPosition=new h.Vector3,this.hmdQuaternion=new h.Quaternion,this.magicWindowAbsoluteEuler=new h.Euler,this.magicWindowDeltaEuler=new h.Euler,this.position=new h.Vector3,this.magicWindowObject=new h.Object3D,this.rotation={},this.deltaRotation={},this.savedPose=null,this.pointerLocked=!1,this.setupMouseControls(),this.bindMethods(),this.previousMouseEvent={},this.setupMagicWindowControls(),this.savedPose={position:new h.Vector3,rotation:new h.Euler},(this.el.sceneEl.is("vr-mode")||this.el.sceneEl.is("ar-mode"))&&this.onEnterVR()},setupMagicWindowControls:function(){var y,A=this.data;(p.device.isMobile()||p.device.isMobileDeviceRequestingDesktopSite())&&(y=this.magicWindowControls=new h.DeviceOrientationControls(this.magicWindowObject),typeof DeviceOrientationEvent<"u"&&DeviceOrientationEvent.requestPermission&&(y.enabled=!1,this.el.sceneEl.components["device-orientation-permission-ui"].permissionGranted?y.enabled=A.magicWindowTrackingEnabled:this.el.sceneEl.addEventListener("deviceorientationpermissiongranted",function(){y.enabled=A.magicWindowTrackingEnabled})))},update:function(y){var A=this.data;A.enabled!==y.enabled&&this.updateGrabCursor(A.enabled),y&&!A.magicWindowTrackingEnabled&&y.magicWindowTrackingEnabled&&(this.magicWindowAbsoluteEuler.set(0,0,0),this.magicWindowDeltaEuler.set(0,0,0)),this.magicWindowControls&&(this.magicWindowControls.enabled=A.magicWindowTrackingEnabled),y&&!A.pointerLockEnabled!==y.pointerLockEnabled&&(this.removeEventListeners(),this.addEventListeners(),this.pointerLocked&&this.exitPointerLock())},tick:function(y){var A=this.data;A.enabled&&this.updateOrientation()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners(),this.pointerLocked&&this.exitPointerLock()},remove:function(){this.removeEventListeners(),this.pointerLocked&&this.exitPointerLock()},bindMethods:function(){this.onMouseDown=m(this.onMouseDown,this),this.onMouseMove=m(this.onMouseMove,this),this.onMouseUp=m(this.onMouseUp,this),this.onTouchStart=m(this.onTouchStart,this),this.onTouchMove=m(this.onTouchMove,this),this.onTouchEnd=m(this.onTouchEnd,this),this.onEnterVR=m(this.onEnterVR,this),this.onExitVR=m(this.onExitVR,this),this.onPointerLockChange=m(this.onPointerLockChange,this),this.onPointerLockError=m(this.onPointerLockError,this)},setupMouseControls:function(){this.mouseDown=!1,this.pitchObject=new h.Object3D,this.yawObject=new h.Object3D,this.yawObject.position.y=10,this.yawObject.add(this.pitchObject)},addEventListeners:function(){var y=this.el.sceneEl,A=y.canvas;if(!A){y.addEventListener("render-target-loaded",m(this.addEventListeners,this));return}A.addEventListener("mousedown",this.onMouseDown,!1),window.addEventListener("mousemove",this.onMouseMove,!1),window.addEventListener("mouseup",this.onMouseUp,!1),A.addEventListener("touchstart",this.onTouchStart),window.addEventListener("touchmove",this.onTouchMove),window.addEventListener("touchend",this.onTouchEnd),y.addEventListener("enter-vr",this.onEnterVR),y.addEventListener("exit-vr",this.onExitVR),this.data.pointerLockEnabled&&(document.addEventListener("pointerlockchange",this.onPointerLockChange,!1),document.addEventListener("mozpointerlockchange",this.onPointerLockChange,!1),document.addEventListener("pointerlockerror",this.onPointerLockError,!1))},removeEventListeners:function(){var y=this.el.sceneEl,A=y&&y.canvas;A&&(A.removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),A.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd),y.removeEventListener("enter-vr",this.onEnterVR),y.removeEventListener("exit-vr",this.onExitVR),document.removeEventListener("pointerlockchange",this.onPointerLockChange,!1),document.removeEventListener("mozpointerlockchange",this.onPointerLockChange,!1),document.removeEventListener("pointerlockerror",this.onPointerLockError,!1))},updateOrientation:function(){var y=this.el.object3D,A=this.pitchObject,b=this.yawObject,g=this.el.sceneEl;(g.is("vr-mode")||g.is("ar-mode"))&&g.checkHeadsetConnected()||(this.updateMagicWindowOrientation(),y.rotation.x=this.magicWindowDeltaEuler.x+A.rotation.x,y.rotation.y=this.magicWindowDeltaEuler.y+b.rotation.y,y.rotation.z=this.magicWindowDeltaEuler.z)},updateMagicWindowOrientation:function(){var y=this.magicWindowAbsoluteEuler,A=this.magicWindowDeltaEuler;this.magicWindowControls&&this.magicWindowControls.enabled&&(this.magicWindowControls.update(),y.setFromQuaternion(this.magicWindowObject.quaternion,"YXZ"),!this.previousMagicWindowYaw&&y.y!==0&&(this.previousMagicWindowYaw=y.y),this.previousMagicWindowYaw&&(A.x=y.x,A.y+=y.y-this.previousMagicWindowYaw,A.z=y.z,this.previousMagicWindowYaw=y.y))},onMouseMove:function(y){var A,b,g,w=this.pitchObject,E=this.previousMouseEvent,C=this.yawObject;!this.data.enabled||!this.mouseDown&&!this.pointerLocked||(this.pointerLocked?(b=y.movementX||y.mozMovementX||0,g=y.movementY||y.mozMovementY||0):(b=y.screenX-E.screenX,g=y.screenY-E.screenY),this.previousMouseEvent.screenX=y.screenX,this.previousMouseEvent.screenY=y.screenY,A=this.data.reverseMouseDrag?1:-1,C.rotation.y+=b*.002*A,w.rotation.x+=g*.002*A,w.rotation.x=Math.max(-v,Math.min(v,w.rotation.x)))},onMouseDown:function(y){var A=this.el.sceneEl;if(!(!this.data.enabled||!this.data.mouseEnabled||(A.is("vr-mode")||A.is("ar-mode"))&&A.checkHeadsetConnected())&&y.button===0){var b=A&&A.canvas;this.mouseDown=!0,this.previousMouseEvent.screenX=y.screenX,this.previousMouseEvent.screenY=y.screenY,this.showGrabbingCursor(),this.data.pointerLockEnabled&&!this.pointerLocked&&(b.requestPointerLock?b.requestPointerLock():b.mozRequestPointerLock&&b.mozRequestPointerLock())}},showGrabbingCursor:function(){this.el.sceneEl.canvas.style.cursor="grabbing"},hideGrabbingCursor:function(){this.el.sceneEl.canvas.style.cursor=""},onMouseUp:function(){this.mouseDown=!1,this.hideGrabbingCursor()},onTouchStart:function(y){y.touches.length!==1||!this.data.touchEnabled||this.el.sceneEl.is("vr-mode")||this.el.sceneEl.is("ar-mode")||(this.touchStart={x:y.touches[0].pageX,y:y.touches[0].pageY},this.touchStarted=!0)},onTouchMove:function(y){var A,b=this.el.sceneEl.canvas,g,w=this.yawObject;!this.touchStarted||!this.data.touchEnabled||(g=2*Math.PI*(y.touches[0].pageX-this.touchStart.x)/b.clientWidth,A=this.data.reverseTouchDrag?1:-1,w.rotation.y-=g*.5*A,this.touchStart={x:y.touches[0].pageX,y:y.touches[0].pageY})},onTouchEnd:function(){this.touchStarted=!1},onEnterVR:function(){var y=this.el.sceneEl;y.checkHeadsetConnected()&&(this.saveCameraPose(),this.el.object3D.position.set(0,0,0),this.el.object3D.rotation.set(0,0,0),y.hasWebXR&&(this.el.object3D.matrixAutoUpdate=!1,this.el.object3D.updateMatrix()))},onExitVR:function(){this.el.sceneEl.checkHeadsetConnected()&&(this.restoreCameraPose(),this.previousHMDPosition.set(0,0,0),this.el.object3D.matrixAutoUpdate=!0)},onPointerLockChange:function(){this.pointerLocked=!!(document.pointerLockElement||document.mozPointerLockElement)},onPointerLockError:function(){this.pointerLocked=!1},exitPointerLock:function(){document.exitPointerLock(),this.pointerLocked=!1},updateGrabCursor:function(y){var A=this.el.sceneEl;function b(){A.canvas.classList.add("a-grab-cursor")}function g(){A.canvas.classList.remove("a-grab-cursor")}if(!A.canvas){y?A.addEventListener("render-target-loaded",b):A.addEventListener("render-target-loaded",g);return}if(y){b();return}g()},saveCameraPose:function(){var y=this.el;this.savedPose.position.copy(y.object3D.position),this.savedPose.rotation.copy(y.object3D.rotation),this.hasSavedPose=!0},restoreCameraPose:function(){var y=this.el,A=this.savedPose;this.hasSavedPose&&(y.object3D.position.copy(A.position),y.object3D.rotation.copy(A.rotation),this.hasSavedPose=!1)}})},"./src/components/magicleap-controls.js":(l,u,c)=>{var d=c("./src/utils/bind.js"),h=c("./src/core/component.js").registerComponent,p=c("./src/utils/tracked-controls.js"),m=p.checkControllerPresentAndSetup,v=p.emitIfAxesChanged,y=p.onButtonEvent,A="magicleap",b="-one",g=A+b,w="https://cdn.aframe.io/controllers/magicleap/magicleap-one-controller.glb",E={axes:{touchpad:[0,1]},buttons:["trigger","grip","touchpad","menu"]};l.exports.Component=h("magicleap-controls",{schema:{hand:{default:"none"},model:{default:!0},orientationOffset:{type:"vec3"}},mapping:E,init:function(){var C=this;this.controllerPresent=!1,this.lastControllerCheck=0,this.onButtonChanged=d(this.onButtonChanged,this),this.onButtonDown=function(_){y(_.detail.id,"down",C)},this.onButtonUp=function(_){y(_.detail.id,"up",C)},this.onButtonTouchEnd=function(_){y(_.detail.id,"touchend",C)},this.onButtonTouchStart=function(_){y(_.detail.id,"touchstart",C)},this.previousButtonValues={},this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods()},update:function(){var C=this.data;this.controllerIndex=C.hand==="right"?0:C.hand==="left"?1:2},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=d(this.onModelLoaded,this),this.onControllersUpdate=d(this.onControllersUpdate,this),this.checkIfControllerPresent=d(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=d(this.removeControllersUpdateListener,this),this.onAxisMoved=d(this.onAxisMoved,this)},addEventListeners:function(){var C=this.el;C.addEventListener("buttonchanged",this.onButtonChanged),C.addEventListener("buttondown",this.onButtonDown),C.addEventListener("buttonup",this.onButtonUp),C.addEventListener("touchstart",this.onButtonTouchStart),C.addEventListener("touchend",this.onButtonTouchEnd),C.addEventListener("axismove",this.onAxisMoved),C.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var C=this.el;C.removeEventListener("buttonchanged",this.onButtonChanged),C.removeEventListener("buttondown",this.onButtonDown),C.removeEventListener("buttonup",this.onButtonUp),C.removeEventListener("touchstart",this.onButtonTouchStart),C.removeEventListener("touchend",this.onButtonTouchEnd),C.removeEventListener("axismove",this.onAxisMoved),C.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var C=this.data;m(this,g,{index:this.controllerIndex,hand:C.hand})},injectTrackedControls:function(){var C=this.el,_=this.data;C.setAttribute("tracked-controls",{idPrefix:g,hand:_.hand,controller:this.controllerIndex,orientationOffset:_.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model",w)},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(C){var _=this.mapping.buttons[C.detail.id],L;_&&(_==="trigger"&&(L=C.detail.state.value,console.log("analog value of trigger press: "+L)),this.el.emit(_+"changed",C.detail.state))},onModelLoaded:function(C){var _=C.detail.model;_.scale.set(.01,.01,.01)},onAxisMoved:function(C){v(this,this.mapping.axes,C)},updateModel:function(C,_){},setButtonColor:function(C,_){}})},"./src/components/material.js":(l,u,c)=>{var d=c("./src/utils/index.js"),h=c("./src/core/component.js"),p=c("./src/lib/three.js"),m=c("./src/core/shader.js"),v=d.debug("components:material:error"),y=h.registerComponent,A=m.shaders,b=m.shaderNames;l.exports.Component=y("material",{schema:{alphaTest:{default:0,min:0,max:1},depthTest:{default:!0},depthWrite:{default:!0},flatShading:{default:!1},npot:{default:!1},offset:{type:"vec2",default:{x:0,y:0}},opacity:{default:1,min:0,max:1},repeat:{type:"vec2",default:{x:1,y:1}},shader:{default:"standard",oneOf:b,schemaChange:!0},side:{default:"front",oneOf:["front","back","double"]},transparent:{default:!1},vertexColorsEnabled:{default:!1},visible:{default:!0},blending:{default:"normal",oneOf:["none","normal","additive","subtractive","multiply"]},dithering:{default:!0}},init:function(){this.material=null},update:function(C){var _=this.data;(!this.shader||_.shader!==C.shader)&&this.updateShader(_.shader),this.shader.update(this.data),this.updateMaterial(C)},updateSchema:function(C){var _,L,R,P;L=C&&C.shader,_=this.oldData&&this.oldData.shader,P=L||_,R=A[P]&&A[P].schema,R||v("Unknown shader schema "+P),!(_&&L===_)&&(this.extendSchema(R),this.updateBehavior())},updateBehavior:function(){var C,_=this.el.sceneEl,L=this.schema,R=this,P;function T(D,$){var V;for(V in P)P[V]=D;R.shader.update(P)}this.tick=void 0,P={};for(C in L)L[C].type==="time"&&(this.tick=T,P[C]=!0);_&&(this.tick?_.addBehavior(this):_.removeBehavior(this))},updateShader:function(C){var _=this.data,L=A[C]&&A[C].Shader,R;if(!L)throw new Error("Unknown shader "+C);R=this.shader=new L,R.el=this.el,R.init(_),this.setMaterial(R.material),this.updateSchema(_)},updateMaterial:function(C){var _=this.data,L=this.material,R;L.alphaTest=_.alphaTest,L.depthTest=_.depthTest!==!1,L.depthWrite=_.depthWrite!==!1,L.opacity=_.opacity,L.flatShading=_.flatShading,L.side=g(_.side),L.transparent=_.transparent!==!1||_.opacity<1,L.vertexColors=_.vertexColorsEnabled,L.visible=_.visible,L.blending=w(_.blending),L.dithering=_.dithering;for(R in C)break;R&&(C.alphaTest!==_.alphaTest||C.side!==_.side||C.vertexColorsEnabled!==_.vertexColorsEnabled)&&(L.needsUpdate=!0)},remove:function(){var C=new p.MeshBasicMaterial,_=this.material,L=this.el.getObject3D("mesh");L&&(L.material=C),E(_,this.system)},setMaterial:function(C){var _=this.el,L,R=this.system;this.material&&E(this.material,R),this.material=C,R.registerMaterial(C),L=_.getObject3D("mesh"),L?L.material=C:_.addEventListener("object3dset",function P(T){T.detail.type!=="mesh"||T.target!==_||(_.getObject3D("mesh").material=C,_.removeEventListener("object3dset",P))})}});function g(C){switch(C){case"back":return p.BackSide;case"double":return p.DoubleSide;default:return p.FrontSide}}function w(C){switch(C){case"none":return p.NoBlending;case"additive":return p.AdditiveBlending;case"subtractive":return p.SubtractiveBlending;case"multiply":return p.MultiplyBlending;default:return p.NormalBlending}}function E(C,_){C.dispose(),_.unregisterMaterial(C)}},"./src/components/obj-model.js":(l,u,c)=>{var d=c("./src/utils/debug.js"),h=c("./src/core/component.js").registerComponent,p=c("./src/lib/three.js"),m=d("components:obj-model:warn");l.exports.Component=h("obj-model",{schema:{mtl:{type:"model"},obj:{type:"model"}},init:function(){var v=this;this.model=null,this.objLoader=new p.OBJLoader,this.mtlLoader=new p.MTLLoader(this.objLoader.manager),this.mtlLoader.crossOrigin="",this.el.addEventListener("componentinitialized",function(y){v.model&&y.detail.name==="material"&&v.applyMaterial()})},update:function(){var v=this.data;v.obj&&(this.resetMesh(),this.loadObj(v.obj,v.mtl))},remove:function(){this.model&&this.resetMesh()},resetMesh:function(){this.el.removeObject3D("mesh")},loadObj:function(v,y){var A=this,b=this.el,g=this.mtlLoader,w=this.objLoader,E=this.el.sceneEl.systems.renderer,C=y.substr(0,y.lastIndexOf("/")+1);if(y){b.hasAttribute("material")&&m("Material component properties are ignored when a .MTL is provided"),g.setResourcePath(C),g.load(y,function(_){_.preload(),w.setMaterials(_),w.load(v,function(L){A.model=L,A.model.traverse(function(R){if(R.isMesh){var P=R.material;P.color&&E.applyColorCorrection(P.color),P.map&&E.applyColorCorrection(P.map),P.emissive&&E.applyColorCorrection(P.emissive),P.emissiveMap&&E.applyColorCorrection(P.emissiveMap)}}),b.setObject3D("mesh",L),b.emit("model-loaded",{format:"obj",model:L})})});return}w.load(v,function(L){A.model=L,A.applyMaterial(),b.setObject3D("mesh",L),b.emit("model-loaded",{format:"obj",model:L})})},applyMaterial:function(){var v=this.el.components.material;v&&this.model.traverse(function(y){y instanceof p.Mesh&&(y.material=v.material)})}})},"./src/components/oculus-go-controls.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/utils/bind.js"),p=c("./src/utils/tracked-controls.js"),m=p.checkControllerPresentAndSetup,v=p.emitIfAxesChanged,y=p.onButtonEvent,A=c("./src/utils/index.js").device.isWebXRAvailable,b="oculus-go",g="Oculus Go",w="https://cdn.aframe.io/controllers/oculus/go/oculus-go-controller.gltf",E=A?b:g,C={axes:{trackpad:[0,1]},buttons:["trackpad","trigger"]},_={axes:{touchpad:[0,1]},buttons:["trigger","none","touchpad"]},L=A?_:C;l.exports.Component=d("oculus-go-controls",{schema:{hand:{default:""},buttonColor:{type:"color",default:"#FFFFFF"},buttonTouchedColor:{type:"color",default:"#BBBBBB"},buttonHighlightColor:{type:"color",default:"#7A7A7A"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:L,bindMethods:function(){this.onModelLoaded=h(this.onModelLoaded,this),this.onControllersUpdate=h(this.onControllersUpdate,this),this.checkIfControllerPresent=h(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=h(this.removeControllersUpdateListener,this),this.onAxisMoved=h(this.onAxisMoved,this)},init:function(){var R=this;this.onButtonChanged=h(this.onButtonChanged,this),this.onButtonDown=function(P){y(P.detail.id,"down",R)},this.onButtonUp=function(P){y(P.detail.id,"up",R)},this.onButtonTouchStart=function(P){y(P.detail.id,"touchstart",R)},this.onButtonTouchEnd=function(P){y(P.detail.id,"touchend",R)},this.controllerPresent=!1,this.lastControllerCheck=0,this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods()},addEventListeners:function(){var R=this.el;R.addEventListener("buttonchanged",this.onButtonChanged),R.addEventListener("buttondown",this.onButtonDown),R.addEventListener("buttonup",this.onButtonUp),R.addEventListener("touchstart",this.onButtonTouchStart),R.addEventListener("touchend",this.onButtonTouchEnd),R.addEventListener("model-loaded",this.onModelLoaded),R.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var R=this.el;R.removeEventListener("buttonchanged",this.onButtonChanged),R.removeEventListener("buttondown",this.onButtonDown),R.removeEventListener("buttonup",this.onButtonUp),R.removeEventListener("touchstart",this.onButtonTouchStart),R.removeEventListener("touchend",this.onButtonTouchEnd),R.removeEventListener("model-loaded",this.onModelLoaded),R.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){m(this,E,this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var R=this.el,P=this.data;R.setAttribute("tracked-controls",{armModel:P.armModel,hand:P.hand,idPrefix:E,orientationOffset:P.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model",w)},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(R){var P=R.detail.model,T;this.data.model&&(T=this.buttonMeshes={},T.trigger=P.getObjectByName("oculus_go_button_trigger"),T.trackpad=P.getObjectByName("oculus_go_touchpad"),T.touchpad=P.getObjectByName("oculus_go_touchpad"))},onButtonChanged:function(R){var P=this.mapping.buttons[R.detail.id];P&&this.el.emit(P+"changed",R.detail.state)},onAxisMoved:function(R){v(this,this.mapping.axes,R)},updateModel:function(R,P){this.data.model&&this.updateButtonModel(R,P)},updateButtonModel:function(R,P){var T=this.buttonMeshes;if(!(!T||!T[R])){var D,$;switch(P){case"down":D=this.data.buttonHighlightColor;break;case"touchstart":D=this.data.buttonTouchedColor;break;default:D=this.data.buttonColor}$=T[R],$.material.color.set(D),this.rendererSystem.applyColorCorrection($.material.color)}}})},"./src/components/oculus-touch-controls.js":(l,u,c)=>{var d=c("./src/utils/bind.js"),h=c("./src/core/component.js").registerComponent,p=c("./src/lib/three.js"),m=c("./src/utils/tracked-controls.js"),v=m.checkControllerPresentAndSetup,y=m.emitIfAxesChanged,A=m.onButtonEvent,b=c("./src/utils/index.js").device.isWebXRAvailable,g="oculus-touch",w="Oculus Touch",E=b?g:w,C="https://cdn.aframe.io/controllers/oculus/oculus-touch-controller-",_="https://cdn.aframe.io/controllers/meta/",L={left:{modelUrl:C+"left.gltf",rayOrigin:{origin:{x:.008,y:-.01,z:0},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new p.Vector3(-.005,.003,-.055),modelPivotRotation:new p.Euler(0,0,0)},right:{modelUrl:C+"right.gltf",rayOrigin:{origin:{x:-.008,y:-.01,z:0},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new p.Vector3(.005,.003,-.055),modelPivotRotation:new p.Euler(0,0,0)}},R={left:{modelUrl:C+"left.gltf",rayOrigin:{origin:{x:.002,y:-.005,z:-.03},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new p.Vector3(-.005,.036,-.037),modelPivotRotation:new p.Euler(Math.PI/4.5,0,0)},right:{modelUrl:C+"right.gltf",rayOrigin:{origin:{x:-.002,y:-.005,z:-.03},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new p.Vector3(.005,.036,-.037),modelPivotRotation:new p.Euler(Math.PI/4.5,0,0)}},P=b?R:L,T="oculus-touch",D={"oculus-touch":P,"oculus-touch-v2":{left:{modelUrl:C+"gen2-left.gltf",rayOrigin:{origin:{x:-.006,y:-.03,z:-.04},direction:{x:0,y:-.9,z:-1}},modelPivotOffset:new p.Vector3(0,-.007,-.021),modelPivotRotation:new p.Euler(-Math.PI/4,0,0)},right:{modelUrl:C+"gen2-right.gltf",rayOrigin:{origin:{x:.006,y:-.03,z:-.04},direction:{x:0,y:-.9,z:-1}},modelPivotOffset:new p.Vector3(0,-.007,-.021),modelPivotRotation:new p.Euler(-Math.PI/4,0,0)}},"oculus-touch-v3":{left:{modelUrl:C+"v3-left.glb",rayOrigin:{origin:{x:.0065,y:-.0186,z:-.05},direction:{x:.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new p.Vector3(0,0,0),modelPivotRotation:new p.Euler(0,0,0)},right:{modelUrl:C+"v3-right.glb",rayOrigin:{origin:{x:-.0065,y:-.0186,z:-.05},direction:{x:-.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new p.Vector3(0,0,0),modelPivotRotation:new p.Euler(0,0,0)}},"meta-quest-touch-pro":{left:{modelUrl:_+"quest-touch-pro-left.glb",rayOrigin:{origin:{x:.0065,y:-.0186,z:-.05},direction:{x:.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new p.Vector3(0,0,0),modelPivotRotation:new p.Euler(0,0,0)},right:{modelUrl:_+"quest-touch-pro-right.glb",rayOrigin:{origin:{x:-.0065,y:-.0186,z:-.05},direction:{x:-.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new p.Vector3(0,0,0),modelPivotRotation:new p.Euler(0,0,0)}}},$={left:{axes:{thumbstick:[0,1]},buttons:["thumbstick","trigger","grip","xbutton","ybutton","surface"]},right:{axes:{thumbstick:[0,1]},buttons:["thumbstick","trigger","grip","abutton","bbutton","surface"]}},V={left:{axes:{thumbstick:[2,3]},buttons:["trigger","grip","none","thumbstick","xbutton","ybutton","surface"]},right:{axes:{thumbstick:[2,3]},buttons:["trigger","grip","none","thumbstick","abutton","bbutton","surface"]}},B=b?V:$;l.exports.Component=h("oculus-touch-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#999"},buttonTouchColor:{type:"color",default:"#8AB"},buttonHighlightColor:{type:"color",default:"#2DF"},model:{default:!0},controllerType:{default:"auto",oneOf:["auto","oculus-touch","oculus-touch-v2","oculus-touch-v3"]},orientationOffset:{type:"vec3",default:{x:43,y:0,z:0}}},mapping:B,bindMethods:function(){this.onButtonChanged=d(this.onButtonChanged,this),this.onThumbstickMoved=d(this.onThumbstickMoved,this),this.onModelLoaded=d(this.onModelLoaded,this),this.onControllersUpdate=d(this.onControllersUpdate,this),this.checkIfControllerPresent=d(this.checkIfControllerPresent,this),this.onAxisMoved=d(this.onAxisMoved,this)},init:function(){var F=this;this.onButtonDown=function(k){A(k.detail.id,"down",F,F.data.hand)},this.onButtonUp=function(k){A(k.detail.id,"up",F,F.data.hand)},this.onButtonTouchStart=function(k){A(k.detail.id,"touchstart",F,F.data.hand)},this.onButtonTouchEnd=function(k){A(k.detail.id,"touchend",F,F.data.hand)},this.controllerPresent=!1,this.lastControllerCheck=0,this.previousButtonValues={},this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods(),this.triggerEuler=new p.Euler},addEventListeners:function(){var F=this.el;F.addEventListener("buttonchanged",this.onButtonChanged),F.addEventListener("buttondown",this.onButtonDown),F.addEventListener("buttonup",this.onButtonUp),F.addEventListener("touchstart",this.onButtonTouchStart),F.addEventListener("touchend",this.onButtonTouchEnd),F.addEventListener("axismove",this.onAxisMoved),F.addEventListener("model-loaded",this.onModelLoaded),F.addEventListener("thumbstickmoved",this.onThumbstickMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var F=this.el;F.removeEventListener("buttonchanged",this.onButtonChanged),F.removeEventListener("buttondown",this.onButtonDown),F.removeEventListener("buttonup",this.onButtonUp),F.removeEventListener("touchstart",this.onButtonTouchStart),F.removeEventListener("touchend",this.onButtonTouchEnd),F.removeEventListener("axismove",this.onAxisMoved),F.removeEventListener("model-loaded",this.onModelLoaded),F.removeEventListener("thumbstickmoved",this.onThumbstickMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){v(this,E,{hand:this.data.hand,iterateControllerProfiles:!0})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},loadModel:function(F){var k=this.data,z;if(k.model){if(this.displayModel=D[k.controllerType]||D[T],k.controllerType==="auto"){var G=this.el.sceneEl.systems["tracked-controls-webvr"];if(G&&G.vrDisplay){var j=G.vrDisplay.displayName;/^Oculus Quest$/.test(j)&&(this.displayModel=D["oculus-touch-v2"])}else{z=T;for(var Q=Object.keys(D),X=0;X<F.profiles.length;X++)if(Q.indexOf(F.profiles[X])!==-1){z=F.profiles[X];break}this.displayModel=D[z]}}var J=this.displayModel[k.hand].modelUrl;this.isOculusTouchV3=this.displayModel===D["oculus-touch-v3"],this.el.setAttribute("gltf-model",J)}},injectTrackedControls:function(F){var k=this.data,z=g,G=k.hand==="right"?"Oculus Touch (Right)":"Oculus Touch (Left)",j=b?z:G;this.el.setAttribute("tracked-controls",{id:j,hand:k.hand,orientationOffset:k.orientationOffset,handTrackingEnabled:!1,iterateControllerProfiles:!0,space:"gripSpace"}),this.loadModel(F)},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(F){var k=this.mapping[this.data.hand].buttons[F.detail.id];if(k){if(this.isOculusTouchV3)this.onButtonChangedV3(F);else{var z=this.buttonMeshes,G;(k==="trigger"||k==="grip")&&(G=F.detail.state.value),z&&(k==="trigger"&&z.trigger&&(z.trigger.rotation.x=this.originalXRotationTrigger-G*(Math.PI/26)),k==="grip"&&z.grip&&(G*=this.data.hand==="left"?-1:1,z.grip.position.x=this.originalXPositionGrip+G*.004))}this.el.emit(k+"changed",F.detail.state)}},clickButtons:["xbutton","ybutton","abutton","bbutton","thumbstick"],onButtonChangedV3:function(F){var k=this.mapping[this.data.hand].buttons[F.detail.id],z=this.buttonObjects,G;z&&(G=F.detail.state.value,G*=this.data.hand==="left"?-1:1,k==="trigger"?(this.triggerEuler.copy(this.buttonRanges.trigger.min.rotation),this.triggerEuler.x+=G*this.buttonRanges.trigger.diff.x,this.triggerEuler.y+=G*this.buttonRanges.trigger.diff.y,this.triggerEuler.z+=G*this.buttonRanges.trigger.diff.z,z.trigger.setRotationFromEuler(this.triggerEuler)):k==="grip"?z.grip.position.x=z.grip.minX+G*.004:this.clickButtons.includes(k)&&(z[k].position.y=G===0?this.buttonRanges[k].unpressedY:this.buttonRanges[k].pressedY))},onModelLoaded:function(F){if(this.data.model){if(this.isOculusTouchV3)this.onOculusTouchV3ModelLoaded(F);else{var k=this.controllerObject3D=F.detail.model,z;z=this.buttonMeshes={},z.grip=k.getObjectByName("buttonHand"),this.originalXPositionGrip=z.grip&&z.grip.position.x,z.trigger=k.getObjectByName("buttonTrigger"),this.originalXRotationTrigger=z.trigger&&z.trigger.rotation.x,z.thumbstick=k.getObjectByName("stick"),z.xbutton=k.getObjectByName("buttonX"),z.abutton=k.getObjectByName("buttonA"),z.ybutton=k.getObjectByName("buttonY"),z.bbutton=k.getObjectByName("buttonB")}for(var G in this.buttonMeshes)this.buttonMeshes[G]&&O(this.buttonMeshes[G]);this.applyOffset(F.detail.model),this.el.emit("controllermodelready",{name:"oculus-touch-controls",model:this.data.model,rayOrigin:this.displayModel[this.data.hand].rayOrigin})}},applyOffset:function(F){F.position.copy(this.displayModel[this.data.hand].modelPivotOffset),F.rotation.copy(this.displayModel[this.data.hand].modelPivotRotation)},onOculusTouchV3ModelLoaded:function(F){var k=this.controllerObject3D=F.detail.model,z=this.buttonObjects={},G=this.buttonMeshes={},j=this.buttonRanges={};G.grip=k.getObjectByName("squeeze"),z.grip=k.getObjectByName("xr_standard_squeeze_pressed_value"),j.grip={min:k.getObjectByName("xr_standard_squeeze_pressed_min"),max:k.getObjectByName("xr_standard_squeeze_pressed_max")},z.grip.minX=z.grip.position.x,G.thumbstick=k.getObjectByName("thumbstick"),z.thumbstick=k.getObjectByName("xr_standard_thumbstick_pressed_value"),j.thumbstick={min:k.getObjectByName("xr_standard_thumbstick_pressed_min"),max:k.getObjectByName("xr_standard_thumbstick_pressed_max"),originalRotation:this.buttonObjects.thumbstick.rotation.clone()},j.thumbstick.pressedY=z.thumbstick.position.y,j.thumbstick.unpressedY=j.thumbstick.pressedY+Math.abs(j.thumbstick.max.position.y)-Math.abs(j.thumbstick.min.position.y),G.trigger=k.getObjectByName("trigger"),z.trigger=k.getObjectByName("xr_standard_trigger_pressed_value"),j.trigger={min:k.getObjectByName("xr_standard_trigger_pressed_min"),max:k.getObjectByName("xr_standard_trigger_pressed_max")},j.trigger.diff={x:Math.abs(j.trigger.max.rotation.x)-Math.abs(j.trigger.min.rotation.x),y:Math.abs(j.trigger.max.rotation.y)-Math.abs(j.trigger.min.rotation.y),z:Math.abs(j.trigger.max.rotation.z)-Math.abs(j.trigger.min.rotation.z)};var Q=this.data.hand==="left"?"x":"a",X=this.data.hand==="left"?"y":"b",J=Q+"button",Z=X+"button";G[J]=k.getObjectByName(Q+"_button"),z[J]=k.getObjectByName(Q+"_button_pressed_value"),j[J]={min:k.getObjectByName(Q+"_button_pressed_min"),max:k.getObjectByName(Q+"_button_pressed_max")},G[Z]=k.getObjectByName(X+"_button"),z[Z]=k.getObjectByName(X+"_button_pressed_value"),j[Z]={min:k.getObjectByName(X+"_button_pressed_min"),max:k.getObjectByName(X+"_button_pressed_max")},j[J].unpressedY=z[J].position.y,j[J].pressedY=j[J].unpressedY+Math.abs(j[J].max.position.y)-Math.abs(j[J].min.position.y),j[Z].unpressedY=z[Z].position.y,j[Z].pressedY=j[Z].unpressedY-Math.abs(j[Z].max.position.y)+Math.abs(j[Z].min.position.y)},onAxisMoved:function(F){y(this,this.mapping[this.data.hand].axes,F)},onThumbstickMoved:function(F){if(!(!this.isOculusTouchV3||!this.buttonMeshes||!this.buttonMeshes.thumbstick))for(var k in F.detail)this.buttonObjects.thumbstick.rotation[this.axisMap[k]]=this.buttonRanges.thumbstick.originalRotation[this.axisMap[k]]-Math.PI/8*F.detail[k]*(k==="y"||this.data.hand==="right"?-1:1)},axisMap:{y:"x",x:"z"},updateModel:function(F,k){this.data.model&&this.updateButtonModel(F,k)},updateButtonModel:function(F,k){var z=this.buttonMeshes,G,j;z&&z[F]&&(j=k==="up"||k==="touchend"?z[F].originalColor||this.data.buttonColor:k==="touchstart"?this.data.buttonTouchColor:this.data.buttonHighlightColor,G=z[F],G.material.color.set(j),this.rendererSystem.applyColorCorrection(G.material.color))}});function O(F){F.traverse(function(k){var z;k.type==="Mesh"&&(z=k.material.clone(),F.originalColor=k.material.color,k.material.dispose(),k.material=z)})}},"./src/components/position.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent;l.exports.Component=d("position",{schema:{type:"vec3"},update:function(){var h=this.el.object3D,p=this.data;h.position.set(p.x,p.y,p.z)},remove:function(){this.el.object3D.position.set(0,0,0)}})},"./src/components/raycaster.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/lib/three.js"),p=c("./src/utils/index.js"),m=p.debug("components:raycaster:warn"),v=/^[\w\s-.,[\]#]*$/,y={childList:!0,attributes:!0,subtree:!0},A={INTERSECT:"raycaster-intersected",INTERSECTION:"raycaster-intersection",INTERSECT_CLEAR:"raycaster-intersected-cleared",INTERSECTION_CLEAR:"raycaster-intersection-cleared",INTERSECTION_CLOSEST_ENTITY_CHANGED:"raycaster-closest-entity-changed"};l.exports.Component=d("raycaster",{schema:{autoRefresh:{default:!0},direction:{type:"vec3",default:{x:0,y:0,z:-1}},enabled:{default:!0},far:{default:1e3},interval:{default:0},near:{default:0},objects:{default:""},origin:{type:"vec3"},showLine:{default:!1},lineColor:{default:"white"},lineOpacity:{default:1},useWorldCoordinates:{default:!1}},multiple:!0,init:function(){this.clearedIntersectedEls=[],this.unitLineEndVec3=new h.Vector3,this.intersectedEls=[],this.intersections=[],this.newIntersectedEls=[],this.newIntersections=[],this.objects=[],this.prevCheckTime=void 0,this.prevIntersectedEls=[],this.rawIntersections=[],this.raycaster=new h.Raycaster,this.updateOriginDirection(),this.setDirty=this.setDirty.bind(this),this.updateLine=this.updateLine.bind(this),this.observer=new MutationObserver(this.setDirty),this.dirty=!0,this.lineEndVec3=new h.Vector3,this.otherLineEndVec3=new h.Vector3,this.lineData={end:this.lineEndVec3},this.getIntersection=this.getIntersection.bind(this),this.intersectedDetail={el:this.el,getIntersection:this.getIntersection},this.intersectedClearedDetail={el:this.el},this.intersectionClearedDetail={clearedEls:this.clearedIntersectedEls},this.intersectionDetail={}},update:function(g){var w=this.data,E=this.el,C=this.raycaster;C.far=w.far,C.near=w.near,w.showLine&&(w.far!==g.far||w.origin!==g.origin||w.direction!==g.direction||!g.showLine)&&(this.unitLineEndVec3.copy(w.direction).normalize(),this.drawLine()),!w.showLine&&g.showLine&&E.removeAttribute("line"),w.objects!==g.objects&&!v.test(w.objects)&&m('[raycaster] Selector "'+w.objects+'" may not update automatically with DOM changes.'),w.objects||m('[raycaster] For performance, please define raycaster.objects when using raycaster or cursor components to whitelist which entities to intersect with. e.g., raycaster="objects: [data-raycastable]".'),w.autoRefresh!==g.autoRefresh&&E.isPlaying&&(w.autoRefresh?this.addEventListeners():this.removeEventListeners()),g.enabled&&!w.enabled&&this.clearAllIntersections(),this.setDirty()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){this.data.showLine&&this.el.removeAttribute("line"),this.clearAllIntersections()},addEventListeners:function(){this.data.autoRefresh&&(this.observer.observe(this.el.sceneEl,y),this.el.sceneEl.addEventListener("object3dset",this.setDirty),this.el.sceneEl.addEventListener("object3dremove",this.setDirty))},removeEventListeners:function(){this.observer.disconnect(),this.el.sceneEl.removeEventListener("object3dset",this.setDirty),this.el.sceneEl.removeEventListener("object3dremove",this.setDirty)},setDirty:function(){this.dirty=!0},refreshObjects:function(){var g=this.data,w;w=g.objects?this.el.sceneEl.querySelectorAll(g.objects):this.el.sceneEl.querySelectorAll("*"),this.objects=this.flattenObject3DMaps(w),this.dirty=!1},tock:function(g){var w=this.data,E=this.prevCheckTime;w.enabled&&(E&&g-E<w.interval||(this.prevCheckTime=g,this.checkIntersections()))},checkIntersections:function(){var g=this.clearedIntersectedEls,w=this.el,E=this.data,C,_=this.intersectedEls,L,R=this.intersections,P=this.newIntersectedEls,T=this.newIntersections,D=this.prevIntersectedEls,$=this.rawIntersections;for(this.dirty&&this.refreshObjects(),b(this.prevIntersectedEls,this.intersectedEls),this.updateOriginDirection(),$.length=0,this.raycaster.intersectObjects(this.objects,!0,$),R.length=0,_.length=0,C=0;C<$.length;C++)L=$[C],!(E.showLine&&L.object===w.getObject3D("line"))&&L.object.el&&(R.push(L),_.push(L.object.el));for(T.length=0,P.length=0,C=0;C<R.length;C++)D.indexOf(R[C].object.el)===-1&&(T.push(R[C]),P.push(R[C].object.el));for(g.length=0,C=0;C<D.length;C++)_.indexOf(D[C])===-1&&(D[C].emit(A.INTERSECT_CLEAR,this.intersectedClearedDetail),g.push(D[C]));for(g.length&&w.emit(A.INTERSECTION_CLEAR,this.intersectionClearedDetail),C=0;C<P.length;C++)P[C].emit(A.INTERSECT,this.intersectedDetail);T.length&&(this.intersectionDetail.els=P,this.intersectionDetail.intersections=T,w.emit(A.INTERSECTION,this.intersectionDetail)),(D.length===0&&R.length>0||D.length>0&&R.length===0||D.length&&R.length&&D[0]!==R[0].object.el)&&(this.intersectionDetail.els=this.intersectedEls,this.intersectionDetail.intersections=R,w.emit(A.INTERSECTION_CLOSEST_ENTITY_CHANGED,this.intersectionDetail)),E.showLine&&setTimeout(this.updateLine)},updateLine:function(){var g=this.el,w=this.intersections,E;w.length&&(w[0].object.el===g&&w[1]?E=w[1].distance:E=w[0].distance),this.drawLine(E)},getIntersection:function(g){var w,E;for(w=0;w<this.intersections.length;w++)if(E=this.intersections[w],E.object.el===g)return E;return null},updateOriginDirection:function(){var g=new h.Vector3,w=new h.Vector3;return function(){var C=this.el,_=this.data;if(_.useWorldCoordinates){this.raycaster.set(_.origin,_.direction);return}C.object3D.updateMatrixWorld(),w.setFromMatrixPosition(C.object3D.matrixWorld),(_.origin.x!==0||_.origin.y!==0||_.origin.z!==0)&&(w=C.object3D.localToWorld(w.copy(_.origin))),g.copy(_.direction).transformDirection(C.object3D.matrixWorld).normalize(),this.raycaster.set(w,g)}}(),drawLine:function(g){var w=this.data,E=this.el,C;C=this.lineData.end===this.lineEndVec3?this.otherLineEndVec3:this.lineEndVec3,g===void 0&&(g=w.far===1/0?1e3:w.far),this.lineData.start=w.origin,this.lineData.end=C.copy(this.unitLineEndVec3).multiplyScalar(g).add(w.origin),this.lineData.color=w.lineColor,this.lineData.opacity=w.lineOpacity,E.setAttribute("line",this.lineData)},flattenObject3DMaps:function(g){var w,E,C=this.objects,_=this.el.sceneEl.object3D;function L(P){return P.parent?L(P.parent):P===_}for(C.length=0,E=0;E<g.length;E++){var R=g[E];if(R.isEntity&&R.object3D&&L(R.object3D))for(w in R.object3DMap)C.push(R.getObject3D(w))}return C},clearAllIntersections:function(){var g;for(g=0;g<this.intersectedEls.length;g++)this.intersectedEls[g].emit(A.INTERSECT_CLEAR,this.intersectedClearedDetail);b(this.clearedIntersectedEls,this.intersectedEls),this.intersectedEls.length=0,this.intersections.length=0,this.el.emit(A.INTERSECTION_CLEAR,this.intersectionClearedDetail)}});function b(g,w){var E;for(g.length=w.length,E=0;E<w.length;E++)g[E]=w[E]}},"./src/components/rotation.js":(l,u,c)=>{var d=c("./src/lib/three.js").MathUtils.degToRad,h=c("./src/core/component.js").registerComponent;l.exports.Component=h("rotation",{schema:{type:"vec3"},update:function(){var p=this.data,m=this.el.object3D;m.rotation.set(d(p.x),d(p.y),d(p.z)),m.rotation.order="YXZ"},remove:function(){this.el.object3D.rotation.set(0,0,0)}})},"./src/components/scale.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=1e-5;l.exports.Component=d("scale",{schema:{type:"vec3",default:{x:1,y:1,z:1}},update:function(){var p=this.data,m=this.el.object3D,v=p.x===0?h:p.x,y=p.y===0?h:p.y,A=p.z===0?h:p.z;m.scale.set(v,y,A)},remove:function(){this.el.object3D.scale.set(1,1,1)}})},"./src/components/scene/ar-hit-test.js":(l,u,c)=>{var d="data:image/webp;base64,UklGRkQHAABXRUJQVlA4WAoAAAAQAAAA/wEA/wEAQUxQSL0DAAARDzD/ERGCjrY9sYYFfgo6aa1kJ7K0w9Lo3AadLSVeFxevQwj5kuM8RfR/Atw/C0+ozB/oUBrloFZs6ElSW88j1KA4yExNWQaqRZquIDF0JYmlq0hAuUDTFu66tng3teW7pa3cQf1V1edvur54M/Slm6Wv3Gx9zw0MXlQLntcsBN6wkHjTQuYtC4W3LTw8mGRVG57TbAROtxHfZNhInGkjc5aNwtk2Hg6Mvki14k+NkZzCwQgCxalcAv3kddRTPI1DcUrXId1FLf1uHpzaQz4tquhZVLlKesbVpqKeTj0n0F5PpXDlFN9UqmhalL/ImuZFo6KmToWLoKlddMprqlS8cKovBvHo2kTiFV2LN4msaxKZl3QNiair8xYRdDWivIvXVXmbcMqJ51UebZuFXxZt6xd4laxtciqRtA3Cv0nU1t+kEUFbI8JvCa+tvkm3FDlO/W+OR99+kWEp/YYo+tYfTVnf/K8cE/F///3vv//993eeL+a+uvjawLcX3xjYvJotBFY3kVjTRGFtE+BU2AiMbiQyhpHMWEYeBozAH5qNBYRDB5KBCaTDBKKBAZTDBoKBDjwHAN5ABeCJBsAZcAAC0YHHxAYSMYBiYgGZWEA2MYFCbCCZGAAIANFEB+AnYgMQTDQAYSJ2AN5EBZAm4gDgTDgAeSIu4DGygTIRN1CMLOCZiACykQlg4jsAycgA8AO+BxCNdJyDkcbwRirDGXGnx8w+FDPrkM3MQ9JQZMYhiiwV/RDMtIM3U1/DmXHUo+IR2kSR2ToWkQ1NIn2qf2J8LCqJKiDUiSADHY3whirhdHgZ94HKaR97PhE+twEUJUFoAcgyTct8hfSxSkShASDKdMJ/ritKHwgyQ0sD4D/miCxU5SbhOOUDTnZpccCjYP/i0bZ/8bAgtVGEoGapWIQXyzKVKLwgNJFk2rtMIgoNRJlOZF7SNSSyUEeQmbxBFKEmtYjEe8S8zOZ1AkJVCmS88FJOtF40Ksg4oUaFiygk3C8qlTVNyl8UTevCUdAE2t14PfVqU1FPp57TopKeQZWromddTQp6QOfTOEQt/ZDuipZ11w/wOiqO8dRORcc6BQEkDQMClaHcn5wV9yLbxsNZNgpn2sicYSNxuo34Js1G4FQbnuNsOPa28PCWhcKbFjJvWEi8ZiHwqgXPcxbc5db33Cx95WboSzddX7yp+vyN0+eul7ZyN7Xlu64t3jVt4c5pc4JLV5EYupJE0xUknC4nOjVlmaYpyLit53HCQ0+ScnqceNcS5dzUkd0/CwMAVlA4IGADAAAQXwCdASoAAgACP8ne6Wy/tjCpqJ/IA/A5CWlu4XYBG/Pz8AfwD8APz//f3v8E1fuHZnxKYACtfuHZnxKYACrYTb5mOslhxu843ecbvON3nG7zjd3a0VCn7G1MABVxwH/Xd25gAK1+4dmfEpe2+PHhQaj75++riG6FuYACtfuHZnxKYACRrK3q9xO8Ss3uWKnMhs/rDF1hi6wxdYYusMXWGI5QRcCFDZog5OgqNlse1NDuz/UoFa/cOzPiUwAEsAOK4/nu5eZHK2tlXxJfNYlMABWv3Dsz4bvNJ5YA/LtxJ38SmAArX7h2Z8Sk5vdZUYv7mZPiUwAFa/cOzPh21s5OgZxf1mfEpemRyFr/rM+JS9noA/LtxJ38SmAAlUJIotzAASn6TjdhK+D3Dsz4dyvB7h2Z8O2tnJ0DOL+sz4lL2nKLT4lL/+iSLOocxq639w7M34MNZdm55uJ8v8ra2cpVZnxKTq2F3PN/cNksAfl24k7+JTAASqrD37h2Z7b1W+VtbOUqsz4lJ1bC7nm/uGyWAPy7cSd/EpgAJVVh79w7M9t6rfK2tnKVWZ8Sk6thdzzf3DZLAH5duJO/iUwAEqqw9+4dme29VvlbWzlKrM+JSdWwu55v7hslgD8u3EnfxKYACVVYe/cOzPbeq3ytrZylVme0kYJ8557FLerqFrzIbPrrf3DZLAH5duJO/iUvaVMS9BoaF4p7pSDFTP1XMyfElelrM0DOL+sz4eBJ13nV1OppBGPuKb4YzXQgq9uH19uS/0+JS9t9fr6ZUlQBelDG6GMgq97otb5QMPJwtKyBTbFp8Sl7b6/X0ykkawEOsgdiE6Fi0vb/Eve6xkwsmug0Z4nGNHQO8839bpTsjpz7SWIJxKagvd1QWMa6FYT1KEw3j4XDT6vJ9Xk+nyfT5Pq8n1eEmk5dinMM/9Fcfz4Z3Dsz3KD2dw7LxBRxKrqUUGQPH/7zxr1KIfNpLEJ0MZB2ITM/0Z2EFoh12NlXnEcpYcbvON3nG7zjd5xu84vfcNIAAP7+y8ceyzbVxkakPYY4lcr72fqOnDwipv+yxC71wAADBrjKnAAAAAAAAAAAAAAw7oNGHttqWONcoFN/2WIDc2pa6WVFtFYROlsaMaTXdcOjXHz93+YxAglKa4AAAAA=",h=c("./src/core/component.js").registerComponent,p=c("./src/lib/three.js"),m=21,v=function(){var g=new p.Quaternion,w=new p.Vector3;function E(C,_,L){_.position.copy(C.transform.position),_.quaternion.copy(C.transform.orientation),w.copy(L),g.copy(C.transform.orientation),w.applyQuaternion(g),_.position.sub(w)}return E}();v.tempFakePose={transform:{orientation:new p.Quaternion,position:new p.Vector3}};function y(g,w){this.renderer=g,this.xrHitTestSource=null,g.xr.addEventListener("sessionend",(function(){this.xrHitTestSource=null}).bind(this)),g.xr.addEventListener("sessionstart",(function(){this.sessionStart(w)}).bind(this)),this.renderer.xr.isPresenting&&this.sessionStart(w)}y.prototype.previousFrameAnchors=new Set,y.prototype.anchorToObject3D=new Map;function A(g){console.warn(g.message),console.warn('Cannot requestHitTestSource Are you missing: webxr="optionalFeatures: hit-test;" from <a-scene>?')}y.prototype.sessionStart=function(w){if(this.session=this.renderer.xr.getSession(),!("requestHitTestSource"in this.session)){A({message:"No requestHitTestSource on the session."});return}w.space?this.session.requestHitTestSource(w).then((function(E){this.xrHitTestSource=E}).bind(this)).catch(A):w.profile&&this.session.requestHitTestSourceForTransientInput(w).then((function(E){this.xrHitTestSource=E,this.transient=!0}).bind(this)).catch(A)},y.prototype.anchorFromLastHitTestResult=function(g,w){var E=this.lastHitTest;if(E){var C={object3D:g,offset:w};Array.from(this.anchorToObject3D.entries()).forEach((function(_){var L=_[1].object3D,R=_[0];L===g&&(this.anchorToObject3D.delete(R),R.delete())}).bind(this)),E.createAnchor&&E.createAnchor().then((function(_){this.anchorToObject3D.set(_,C)}).bind(this)).catch(function(_){console.warn(_.message),console.warn('Cannot create anchor, are you missing: webxr="optionalFeatures: anchors;" from <a-scene>?')})}},y.prototype.doHit=function(w){if(this.renderer.xr.isPresenting){var E=this.renderer.xr.getReferenceSpace(),C=w.getViewerPose(E),_,L;if(this.xrHitTestSource&&C)return this.transient?(_=w.getHitTestResultsForTransientInput(this.xrHitTestSource),_.length>0?(L=_[0].results,L.length>0?(this.lastHitTest=L[0],L[0].getPose(E)):!1):!1):(_=w.getHitTestResults(this.xrHitTestSource),_.length>0?(this.lastHitTest=_[0],_[0].getPose(E)):!1)}},y.updateAnchorPoses=function(g,w){var E=g.trackedAnchors||y.prototype.previousFrameAnchors;y.prototype.previousFrameAnchors.forEach(function(C){E.has(C)||y.prototype.anchorToObject3D.delete(C)}),E.forEach(function(C){var _,L,R,P;try{_=g.getPose(C.anchorSpace,w)}catch{}_&&(L=y.prototype.anchorToObject3D.get(C),R=L.offset,P=L.object3D,v(_,P,R))})};var b;l.exports.Component=h("ar-hit-test",{schema:{target:{type:"selector"},enabled:{default:!0},src:{default:d,type:"map"},type:{default:"footprint",oneOf:["footprint","map"]},footprintDepth:{default:.1},mapSize:{type:"vec2",default:{x:.5,y:.5}}},init:function(){this.hitTest=null,this.imageDataArray=new Uint8ClampedArray(1048576),this.imageData=new ImageData(this.imageDataArray,512,512),this.textureCache=new Map,this.orthoCam=new p.OrthographicCamera,this.orthoCam.layers.set(m),this.textureTarget=new p.WebGLRenderTarget(512,512,{}),this.basicMaterial=new p.MeshBasicMaterial({color:0,side:p.DoubleSide}),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.context.imageSmoothingEnabled=!1,this.canvas.width=512,this.canvas.height=512,this.canvasTexture=new p.CanvasTexture(this.canvas,{alpha:!0}),this.canvasTexture.flipY=!1;var g=this.el.getAttribute("webxr"),w=g.optionalFeatures;(!w.includes("hit-test")||!w.includes("anchors"))&&(w.push("hit-test"),w.push("anchors"),this.el.setAttribute("webxr",g)),this.el.sceneEl.renderer.xr.addEventListener("sessionend",(function(){this.hitTest=null}).bind(this)),this.el.sceneEl.renderer.xr.addEventListener("sessionstart",(function(){if(this.el.is("ar-mode")){var E=this.el.sceneEl.renderer,C=this.session=E.xr.getSession();this.hasPosedOnce=!1,this.bboxMesh.visible=!1,b||(b=new Map),C.requestReferenceSpace("viewer").then((function(R){this.hitTest=new y(E,{space:R}),b.set(R,this.hitTest),this.el.emit("ar-hit-test-start")}).bind(this));var _="generic-touchscreen",L=new y(E,{profile:_});C.addEventListener("selectstart",(function(R){if(this.data.enabled===!0){var P=R.inputSource;this.bboxMesh.visible=!0,this.hasPosedOnce===!0&&(this.el.emit("ar-hit-test-select-start",{inputSource:P,position:this.bboxMesh.position,orientation:this.bboxMesh.quaternion}),P.profiles[0]===_?this.hitTest=L:(this.hitTest=b.get(P)||new y(E,{space:P.targetRaySpace}),b.set(P,this.hitTest)))}}).bind(this)),C.addEventListener("selectend",(function(R){if(!this.hitTest||this.data.enabled!==!0){this.hitTest=null;return}var P=R.inputSource,T;this.hasPosedOnce===!0&&(this.bboxMesh.visible=!1,this.data.target&&(T=this.data.target.object3D,T&&(v.tempFakePose.transform.position.copy(this.bboxMesh.position),v.tempFakePose.transform.orientation.copy(this.bboxMesh.quaternion),v(v.tempFakePose,T,this.bboxOffset),T.visible=!0,this.hitTest.anchorFromLastHitTestResult(T,this.bboxOffset))),this.el.emit("ar-hit-test-select",{inputSource:P,position:this.bboxMesh.position,orientation:this.bboxMesh.quaternion})),this.hitTest=null}).bind(this))}}).bind(this)),this.bboxOffset=new p.Vector3,this.update=this.update.bind(this),this.makeBBox()},update:function(){this.data.enabled===!1&&(this.hitTest=null,this.bboxMesh.visible=!1),this.data.target&&(this.data.target.object3D?(this.data.target.addEventListener("model-loaded",this.update),this.data.target.object3D.layers.enable(m),this.data.target.object3D.traverse(function(g){g.layers.enable(m)})):this.data.target.addEventListener("loaded",this.update,{once:!0})),this.bboxNeedsUpdate=!0},makeBBox:function(){var g=new p.PlaneGeometry(1,1),w=new p.MeshBasicMaterial({transparent:!0,color:16777215});g.rotateX(-Math.PI/2),g.rotateY(-Math.PI/2),this.bbox=new p.Box3,this.bboxMesh=new p.Mesh(g,w),this.el.setObject3D("ar-hit-test",this.bboxMesh),this.bboxMesh.visible=!1},updateFootprint:function(){var g,w=this.el.sceneEl.renderer,E,C,_=w.xr.enabled;this.bboxMesh.material.map=this.canvasTexture,this.bboxMesh.material.needsUpdate=!0,this.orthoCam.rotation.set(-Math.PI/2,0,-Math.PI/2),this.orthoCam.position.copy(this.bboxMesh.position),this.orthoCam.position.y-=this.bboxMesh.scale.y/2,this.orthoCam.near=.1,this.orthoCam.far=this.orthoCam.near+this.data.footprintDepth*this.bboxMesh.scale.y,this.orthoCam.position.y+=this.orthoCam.far,this.orthoCam.right=this.bboxMesh.scale.z/2,this.orthoCam.left=-this.bboxMesh.scale.z/2,this.orthoCam.top=this.bboxMesh.scale.x/2,this.orthoCam.bottom=-this.bboxMesh.scale.x/2,this.orthoCam.updateProjectionMatrix(),E=w.getRenderTarget(),w.setRenderTarget(this.textureTarget),w.xr.enabled=!1,C=this.el.object3D.background,this.el.object3D.overrideMaterial=this.basicMaterial,this.el.object3D.background=null,w.render(this.el.object3D,this.orthoCam),this.el.object3D.background=C,this.el.object3D.overrideMaterial=null,w.xr.enabled=_,w.setRenderTarget(E),w.readRenderTargetPixels(this.textureTarget,0,0,512,512,this.imageDataArray),this.context.putImageData(this.imageData,0,0),this.context.shadowColor="white",this.context.shadowBlur=10,this.context.drawImage(this.canvas,0,0),g=this.context.getImageData(0,0,512,512);for(var L=0;L<262144;L++)g.data[L*4+3]!==0&&g.data[L*4+3]!==255&&(g.data[L*4+3]=128);this.context.putImageData(g,0,0),this.canvasTexture.needsUpdate=!0},tick:function(){var g,w=this.el.sceneEl.frame,E=this.el.sceneEl.renderer;if(w&&y.updateAnchorPoses(w,E.xr.getReferenceSpace()),this.bboxNeedsUpdate){if(this.bboxNeedsUpdate=!1,!this.data.target||this.data.type==="map"){var C;this.textureCache.has(this.data.src)?C=this.textureCache.get(this.data.src):(C=new p.TextureLoader().load(this.data.src),this.textureCache.set(this.data.src,C)),this.bboxMesh.material.map=C,this.bboxMesh.material.needsUpdate=!0}this.data.target&&this.data.target.object3D?(this.bbox.setFromObject(this.data.target.object3D),this.bbox.getCenter(this.bboxMesh.position),this.bbox.getSize(this.bboxMesh.scale),this.data.type==="footprint"&&(this.bboxMesh.scale.x*=1.04,this.bboxMesh.scale.z*=1.04,this.updateFootprint()),this.bboxMesh.position.y-=this.bboxMesh.scale.y/2,this.bboxOffset.copy(this.bboxMesh.position),this.bboxOffset.sub(this.data.target.object3D.position)):this.bboxMesh.scale.set(this.data.mapSize.x,1,this.data.mapSize.y)}this.hitTest&&(g=this.hitTest.doHit(w),g&&(this.hasPosedOnce!==!0&&(this.hasPosedOnce=!0,this.el.emit("ar-hit-test-achieved")),this.bboxMesh.visible=!0,this.bboxMesh.position.copy(g.transform.position),this.bboxMesh.quaternion.copy(g.transform.orientation)))}})},"./src/components/scene/background.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/core/component.js").components;l.exports.Component=d("background",{schema:{color:{type:"color",default:"black"},transparent:{default:!1}},update:function(){var p=this.data,m=this.el.object3D;p.transparent?m.background=null:m.background=new THREE.Color(p.color)},remove:function(){var p=this.data,m=this.el.object3D;if(p.transparent){m.background=null;return}m.background=h[this.name].schema.color.default}})},"./src/components/scene/debug.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent;l.exports.Component=d("debug",{schema:{default:!0}})},"./src/components/scene/device-orientation-permission-ui.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/utils/index.js"),p=h.bind,m=c("./src/constants/index.js"),v="a-modal",y="a-dialog",A="a-dialog-text",b="a-dialog-text-container",g="a-dialog-buttons-container",w="a-dialog-button",E="a-dialog-allow-button",C="a-dialog-deny-button",_="a-dialog-ok-button";l.exports.Component=d("device-orientation-permission-ui",{schema:{enabled:{default:!0},deviceMotionMessage:{default:"This immersive website requires access to your device motion sensors."},httpsMessage:{default:"Access this site over HTTPS to enter VR mode and grant access to the device sensors."},denyButtonText:{default:"Deny"},allowButtonText:{default:"Allow"},cancelButtonText:{default:"Cancel"}},init:function(){var T=this;if(this.data.enabled){if(location.hostname!=="localhost"&&location.hostname!=="127.0.0.1"&&location.protocol==="http:"&&this.showHTTPAlert(),typeof DeviceOrientationEvent>"u"||!DeviceOrientationEvent.requestPermission){this.permissionGranted=!0;return}this.onDeviceMotionDialogAllowClicked=p(this.onDeviceMotionDialogAllowClicked,this),this.onDeviceMotionDialogDenyClicked=p(this.onDeviceMotionDialogDenyClicked,this),DeviceOrientationEvent.requestPermission().then(function(){T.el.emit("deviceorientationpermissiongranted"),T.permissionGranted=!0}).catch(function(){T.devicePermissionDialogEl=L(T.data.denyButtonText,T.data.allowButtonText,T.data.deviceMotionMessage,T.onDeviceMotionDialogAllowClicked,T.onDeviceMotionDialogDenyClicked),T.el.appendChild(T.devicePermissionDialogEl)})}},remove:function(){this.devicePermissionDialogEl&&this.el.removeChild(this.devicePermissionDialogEl)},onDeviceMotionDialogDenyClicked:function(){this.remove()},showHTTPAlert:function(){var T=this,D=R(T.data.cancelButtonText,T.data.httpsMessage,function(){T.el.removeChild(D)});this.el.appendChild(D)},onDeviceMotionDialogAllowClicked:function(){var T=this;this.el.emit("deviceorientationpermissionrequested"),DeviceOrientationEvent.requestPermission().then(function(D){D==="granted"?(T.el.emit("deviceorientationpermissiongranted"),T.permissionGranted=!0):T.el.emit("deviceorientationpermissionrejected"),T.remove()}).catch(console.error)}});function L(T,D,$,V,B){var O,F,k;return O=document.createElement("div"),O.classList.add(g),F=document.createElement("button"),F.classList.add(w,C),F.setAttribute(m.AFRAME_INJECTED,""),F.innerHTML=T,O.appendChild(F),k=document.createElement("button"),k.classList.add(w,E),k.setAttribute(m.AFRAME_INJECTED,""),k.innerHTML=D,O.appendChild(k),k.addEventListener("click",function(z){z.stopPropagation(),V()}),F.addEventListener("click",function(z){z.stopPropagation(),B()}),P($,O)}function R(T,D,$){var V,B;return V=document.createElement("div"),V.classList.add(g),B=document.createElement("button"),B.classList.add(w,_),B.setAttribute(m.AFRAME_INJECTED,""),B.innerHTML=T,V.appendChild(B),B.addEventListener("click",function(O){O.stopPropagation(),$()}),P(D,V)}function P(T,D){var $,V,B,O;return $=document.createElement("div"),$.classList.add(v),$.setAttribute(m.AFRAME_INJECTED,""),V=document.createElement("div"),V.className=y,V.setAttribute(m.AFRAME_INJECTED,""),$.appendChild(V),B=document.createElement("div"),B.classList.add(b),V.appendChild(B),O=document.createElement("div"),O.classList.add(A),O.innerHTML=T,B.appendChild(O),V.appendChild(D),$}},"./src/components/scene/embedded.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent;l.exports.Component=d("embedded",{dependencies:["vr-mode-ui"],schema:{default:!0},update:function(){var h=this.el,p=h.querySelector(".a-enter-vr");this.data===!0?(p&&p.classList.add("embedded"),h.removeFullScreenStyles()):(p&&p.classList.remove("embedded"),h.addFullScreenStyles())}})},"./src/components/scene/fog.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/lib/three.js"),p=c("./src/utils/debug.js"),m=p("components:fog:warn");l.exports.Component=d("fog",{schema:{color:{type:"color",default:"#000"},density:{default:25e-5},far:{default:1e3,min:0},near:{default:1,min:0},type:{default:"linear",oneOf:["linear","exponential"]}},update:function(){var y=this.data,A=this.el,b=this.el.object3D.fog;if(!A.isScene){m("Fog component can only be applied to <a-scene>");return}if(!b||y.type!==b.name){A.object3D.fog=v(y),A.systems.material.updateMaterials();return}Object.keys(this.schema).forEach(function(g){var w=y[g];g==="color"&&(w=new h.Color(w)),b[g]=w})},remove:function(){var y=this.el.object3D.fog;y&&(y.far=0,y.near=.1)}});function v(y){var A;return y.type==="exponential"?A=new h.FogExp2(y.color,y.density):A=new h.Fog(y.color,y.near,y.far),A.name=y.type,A}},"./src/components/scene/inspector.js":(l,u,c)=>{var d=c("./src/constants/index.js").AFRAME_INJECTED,h=c("./package.json"),p=c("./src/core/component.js").registerComponent,m=c("./src/utils/index.js");function v(w){var E=w.split(".");return E[2]="x",E.join(".")}var y="https://unpkg.com/aframe-inspector@"+v(h.version)+"/dist/aframe-inspector.min.js",A=y,b="Loading Inspector",g="Error loading Inspector";l.exports.Component=p("inspector",{schema:{url:{default:A}},init:function(){this.firstPlay=!0,this.onKeydown=this.onKeydown.bind(this),this.onMessage=this.onMessage.bind(this),this.initOverlay(),window.addEventListener("keydown",this.onKeydown),window.addEventListener("message",this.onMessage)},play:function(){var w;this.firstPlay&&(w=m.getUrlParameter("inspector"),w!=="false"&&w&&(this.openInspector(),this.firstPlay=!1))},initOverlay:function(){var w='<span class="dots"><span>.</span><span>.</span><span>.</span></span>';this.loadingMessageEl=document.createElement("div"),this.loadingMessageEl.classList.add("a-inspector-loader"),this.loadingMessageEl.innerHTML=b+w},remove:function(){this.removeEventListeners()},onKeydown:function(w){var E=w.keyCode===73&&(w.ctrlKey&&w.altKey||w.getModifierState("AltGraph"));E&&this.openInspector()},showLoader:function(){document.body.appendChild(this.loadingMessageEl)},hideLoader:function(){document.body.removeChild(this.loadingMessageEl)},onMessage:function(w){w.data==="INJECT_AFRAME_INSPECTOR"&&this.openInspector()},openInspector:function(w){var E=this,C;if(AFRAME.INSPECTOR||AFRAME.inspectorInjected){AFRAME.INSPECTOR.open(w);return}this.showLoader(),C=document.createElement("script"),C.src=this.data.url,C.setAttribute("data-name","aframe-inspector"),C.setAttribute(d,""),C.onload=function(){AFRAME.INSPECTOR.open(w),E.hideLoader(),E.removeEventListeners()},C.onerror=function(){E.loadingMessageEl.innerHTML=g},document.head.appendChild(C),AFRAME.inspectorInjected=!0},removeEventListeners:function(){window.removeEventListener("keydown",this.onKeydown),window.removeEventListener("message",this.onMessage)}})},"./src/components/scene/keyboard-shortcuts.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/utils/index.js").shouldCaptureKeyEvent;l.exports.Component=d("keyboard-shortcuts",{schema:{enterVR:{default:!0},exitVR:{default:!0}},init:function(){this.onKeyup=this.onKeyup.bind(this)},update:function(p){var m=this.data;this.enterVREnabled=m.enterVR},play:function(){window.addEventListener("keyup",this.onKeyup,!1)},pause:function(){window.removeEventListener("keyup",this.onKeyup)},onKeyup:function(p){var m=this.el;h(p)&&(this.enterVREnabled&&p.keyCode===70&&m.enterVR(),this.enterVREnabled&&p.keyCode===27&&m.exitVR())}})},"./src/components/scene/pool.js":(l,u,c)=>{var d=c("./src/utils/debug.js"),h=c("./src/core/component.js").registerComponent,p=d("components:pool:warn");l.exports.Component=h("pool",{schema:{container:{default:""},mixin:{default:""},size:{default:0},dynamic:{default:!1}},multiple:!0,initPool:function(){var m;for(this.availableEls=[],this.usedEls=[],this.data.mixin||p("No mixin provided for pool component."),this.data.container&&(this.container=document.querySelector(this.data.container),this.container||p("Container "+this.data.container+" not found.")),this.container=this.container||this.el,m=0;m<this.data.size;++m)this.createEntity()},update:function(m){var v=this.data;(m.mixin!==v.mixin||m.size!==v.size)&&this.initPool()},createEntity:function(){var m;m=document.createElement("a-entity"),m.play=this.wrapPlay(m.play),m.setAttribute("mixin",this.data.mixin),m.object3D.visible=!1,m.pause(),this.container.appendChild(m),this.availableEls.push(m);var v=this.usedEls;m.addEventListener("loaded",function(){v.indexOf(m)===-1&&(m.object3DParent=m.object3D.parent,m.object3D.parent.remove(m.object3D))})},wrapPlay:function(m){var v=this.usedEls;return function(){v.indexOf(this)!==-1&&m.call(this)}},requestEntity:function(){var m;if(this.availableEls.length===0){if(this.data.dynamic===!1){p("Requested entity from empty pool: "+this.attrName);return}else p("Requested entity from empty pool. This pool is dynamic and will resize automatically. You might want to increase its initial size: "+this.attrName);this.createEntity()}return m=this.availableEls.shift(),this.usedEls.push(m),m.object3DParent&&(m.object3DParent.add(m.object3D),this.updateRaycasters()),m.object3D.visible=!0,m},returnEntity:function(m){var v=this.usedEls.indexOf(m);if(v===-1){p("The returned entity was not previously pooled from "+this.attrName);return}return this.usedEls.splice(v,1),this.availableEls.push(m),m.object3DParent=m.object3D.parent,m.object3D.parent.remove(m.object3D),this.updateRaycasters(),m.object3D.visible=!1,m.pause(),m},updateRaycasters(){var m=document.querySelectorAll("[raycaster]");m.forEach(function(v){v.components.raycaster.setDirty()})}})},"./src/components/scene/reflection.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent;function h(p,m,v,y){var A=Math.max(p.primaryLightIntensity.x,Math.max(p.primaryLightIntensity.y,p.primaryLightIntensity.z));m.sh.fromArray(p.sphericalHarmonicsCoefficients),m.intensity=1,v&&(v.color.setRGB(p.primaryLightIntensity.x/A,p.primaryLightIntensity.y/A,p.primaryLightIntensity.z/A),v.intensity=A,y.copy(p.primaryLightDirection))}l.exports.Component=d("reflection",{schema:{directionalLight:{type:"selector"}},init:function(){var p=this;this.cubeRenderTarget=new THREE.WebGLCubeRenderTarget(16),this.cubeCamera=new THREE.CubeCamera(.1,1e3,this.cubeRenderTarget),this.lightingEstimationTexture=new THREE.WebGLCubeRenderTarget(16).texture,this.needsVREnvironmentUpdate=!0;var m=this.el.getAttribute("webxr"),v=m.optionalFeatures;v.includes("light-estimation")||(v.push("light-estimation"),this.el.setAttribute("webxr",m)),this.el.addEventListener("enter-vr",function(){var y=p.el.renderer,A=y.xr.getSession();A.requestLightProbe&&p.el.is("ar-mode")&&p.startLightProbe()}),this.el.addEventListener("exit-vr",function(){p.stopLightProbe()}),this.el.object3D.environment=this.cubeRenderTarget.texture},stopLightProbe:function(){this.xrLightProbe=null,this.probeLight&&(this.probeLight.components.light.light.intensity=0),this.needsVREnvironmentUpdate=!0,this.el.object3D.environment=this.cubeRenderTarget.texture},startLightProbe:function(){this.needsLightProbeUpdate=!0},setupLightProbe:function(){var p=this.el.renderer,m=p.xr.getSession(),v=this,y=p.getContext();if(!this.probeLight){var A=document.createElement("a-light");A.setAttribute("type","probe"),A.setAttribute("intensity",0),this.el.appendChild(A),this.probeLight=A}switch(m.preferredReflectionFormat){case"srgba8":y.getExtension("EXT_sRGB");break;case"rgba16f":y.getExtension("OES_texture_half_float");break}this.glBinding=new XRWebGLBinding(m,y),y.getExtension("EXT_sRGB"),y.getExtension("OES_texture_half_float"),m.requestLightProbe().then(function(b){v.xrLightProbe=b,b.addEventListener("reflectionchange",v.updateXRCubeMap.bind(v))}).catch(function(b){console.warn("Lighting estimation not supported: "+b.message),console.warn('Are you missing: webxr="optionalFeatures: light-estimation;" from <a-scene>?')})},updateXRCubeMap:function(){var p=this.el.renderer,m=this.glBinding.getReflectionCubeMap(this.xrLightProbe);if(m){var v=p.properties.get(this.lightingEstimationTexture);v.__webglTexture=m,this.lightingEstimationTexture.needsPMREMUpdate=!0,this.el.object3D.environment=this.lightingEstimationTexture}},tick:function(){var p=this.el.object3D,m=this.el.renderer,v=this.el.frame;if(v&&this.xrLightProbe){var y=v.getLightEstimate(this.xrLightProbe);y&&h(y,this.probeLight.components.light.light,this.data.directionalLight&&this.data.directionalLight.components.light.light,this.data.directionalLight&&this.data.directionalLight.object3D.position)}this.needsVREnvironmentUpdate&&(p.environment=null,this.needsVREnvironmentUpdate=!1,this.cubeCamera.position.set(0,1.6,0),this.cubeCamera.update(m,p),p.environment=this.cubeRenderTarget.texture),this.needsLightProbeUpdate&&v&&(this.setupLightProbe(),this.needsLightProbeUpdate=!1)},remove:function(){this.el.object3D.environment=null,this.probeLight&&this.el.removeChild(this.probeLight)}})},"./src/components/scene/screenshot.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/lib/three.js"),p=["attribute vec3 position;","attribute vec2 uv;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUv;","void main()  {","  vUv = vec2( 1.- uv.x, uv.y );","  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),m=["precision mediump float;","uniform samplerCube map;","varying vec2 vUv;","#define M_PI 3.141592653589793238462643383279","void main() {","  vec2 uv = vUv;","  float longitude = uv.x * 2. * M_PI - M_PI + M_PI / 2.;","  float latitude = uv.y * M_PI;","  vec3 dir = vec3(","    - sin( longitude ) * sin( latitude ),","    cos( latitude ),","    - cos( longitude ) * sin( latitude )","  );","  normalize( dir );","  gl_FragColor = vec4( textureCube( map, dir ).rgb, 1.0 );","}"].join(`
`);l.exports.Component=d("screenshot",{schema:{width:{default:4096},height:{default:2048},camera:{type:"selector"}},init:function(){var v=this.el,y=this;v.renderer?A():v.addEventListener("render-target-loaded",A);function A(){var b=v.renderer.getContext();b&&(y.cubeMapSize=b.getParameter(b.MAX_CUBE_MAP_TEXTURE_SIZE),y.material=new h.RawShaderMaterial({uniforms:{map:{type:"t",value:null}},vertexShader:p,fragmentShader:m,side:h.DoubleSide}),y.quad=new h.Mesh(new h.PlaneGeometry(1,1),y.material),y.quad.visible=!1,y.camera=new h.OrthographicCamera(-.5,.5,.5,-.5,-1e4,1e4),y.canvas=document.createElement("canvas"),y.ctx=y.canvas.getContext("2d"),v.object3D.add(y.quad),y.onKeyDown=y.onKeyDown.bind(y))}},getRenderTarget:function(v,y){return new h.WebGLRenderTarget(v,y,{encoding:this.el.sceneEl.renderer.outputEncoding,minFilter:h.LinearFilter,magFilter:h.LinearFilter,wrapS:h.ClampToEdgeWrapping,wrapT:h.ClampToEdgeWrapping,format:h.RGBAFormat,type:h.UnsignedByteType})},resize:function(v,y){this.quad.scale.set(v,y,1),this.camera.left=-1*v/2,this.camera.right=v/2,this.camera.top=y/2,this.camera.bottom=-1*y/2,this.camera.updateProjectionMatrix(),this.canvas.width=v,this.canvas.height=y},play:function(){window.addEventListener("keydown",this.onKeyDown)},onKeyDown:function(v){var y=v.keyCode===83&&v.ctrlKey&&v.altKey;if(!(!this.data||!y)){var A=v.shiftKey?"equirectangular":"perspective";this.capture(A)}},setCapture:function(v){var y=this.el,A,b,g,w;return v==="perspective"?(this.quad.visible=!1,b=this.data.camera&&this.data.camera.components.camera.camera||y.camera,A={width:this.data.width,height:this.data.height}):(b=this.camera,w=new h.WebGLCubeRenderTarget(Math.min(this.cubeMapSize,2048),{format:h.RGBFormat,generateMipmaps:!0,minFilter:h.LinearMipmapLinearFilter,encoding:h.sRGBEncoding}),g=new h.CubeCamera(y.camera.near,y.camera.far,w),y.camera.getWorldPosition(g.position),y.camera.getWorldQuaternion(g.quaternion),g.update(y.renderer,y.object3D),this.quad.material.uniforms.map.value=g.renderTarget.texture,A={width:this.data.width,height:this.data.height},this.quad.visible=!0),{camera:b,size:A,projection:v}},capture:function(v){var y=this.el.renderer.xr.enabled,A=this.el.renderer,b;A.xr.enabled=!1,b=this.setCapture(v),this.renderCapture(b.camera,b.size,b.projection),this.saveCapture(),A.xr.enabled=y},getCanvas:function(v){var y=this.el.renderer.xr.enabled,A=this.el.renderer,b=this.setCapture(v);return A.xr.enabled=!1,this.renderCapture(b.camera,b.size,b.projection),A.xr.enabled=y,this.canvas},renderCapture:function(v,y,A){var b=this.el.renderer.autoClear,g=this.el,w,E,C,_=g.renderer;E=this.getRenderTarget(y.width,y.height),C=new Uint8Array(4*y.width*y.height),this.resize(y.width,y.height),_.autoClear=!0,_.clear(),_.setRenderTarget(E),_.render(g.object3D,v),_.autoClear=b,_.readRenderTargetPixels(E,0,0,y.width,y.height,C),_.setRenderTarget(null),A==="perspective"&&(C=this.flipPixelsVertically(C,y.width,y.height)),w=new ImageData(new Uint8ClampedArray(C),y.width,y.height),this.quad.visible=!1,this.ctx.putImageData(w,0,0)},flipPixelsVertically:function(v,y,A){for(var b=v.slice(0),g=0;g<y;++g)for(var w=0;w<A;++w)b[g*4+w*y*4]=v[g*4+(A-w)*y*4],b[g*4+1+w*y*4]=v[g*4+1+(A-w)*y*4],b[g*4+2+w*y*4]=v[g*4+2+(A-w)*y*4],b[g*4+3+w*y*4]=v[g*4+3+(A-w)*y*4];return b},saveCapture:function(){this.canvas.toBlob(function(v){var y="screenshot-"+document.title.toLowerCase()+"-"+Date.now()+".png",A=document.createElement("a"),b=URL.createObjectURL(v);A.href=b,A.setAttribute("download",y),A.innerHTML="downloading...",A.style.display="none",document.body.appendChild(A),setTimeout(function(){A.click(),document.body.removeChild(A)},1)},"image/png")}})},"./src/components/scene/stats.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./vendor/rStats.js"),p=c("./src/utils/index.js");c("./vendor/rStats.extras.js"),c("./src/lib/rStatsAframe.js");var m=window.aframeStats,v=p.bind,y="a-hidden",A=window.threeStats;l.exports.Component=d("stats",{schema:{default:!0},init:function(){var g=this.el;p.getUrlParameter("stats")!=="false"&&(this.stats=b(g),this.statsEl=document.querySelector(".rs-base"),this.hideBound=v(this.hide,this),this.showBound=v(this.show,this),g.addEventListener("enter-vr",this.hideBound),g.addEventListener("exit-vr",this.showBound))},update:function(){if(this.stats)return this.data?this.show():this.hide()},remove:function(){this.el.removeEventListener("enter-vr",this.hideBound),this.el.removeEventListener("exit-vr",this.showBound),this.statsEl&&this.statsEl.parentNode.removeChild(this.statsEl)},tick:function(){var g=this.stats;g&&(g("rAF").tick(),g("FPS").frame(),g().update())},hide:function(){this.statsEl.classList.add(y)},show:function(){this.statsEl.classList.remove(y)}});function b(g){var w=new A(g.renderer),E=new m(g),C=g.isMobile?[]:[w,E];return new h({css:[],values:{fps:{caption:"fps",below:30}},groups:[{caption:"Framerate",values:["fps","raf"]}],plugins:C})}},"./src/components/scene/vr-mode-ui.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/constants/index.js"),p=c("./src/utils/index.js"),m=p.bind,v="a-enter-vr",y="a-enter-ar",A="a-enter-vr-button",b="a-enter-ar-button",g="a-hidden",w="a-orientation-modal";l.exports.Component=d("vr-mode-ui",{dependencies:["canvas"],schema:{enabled:{default:!0},cardboardModeEnabled:{default:!1},enterVRButton:{default:""},enterARButton:{default:""}},init:function(){var R=this,P=this.el;p.getUrlParameter("ui")!=="false"&&(this.insideLoader=!1,this.enterVREl=null,this.enterAREl=null,this.orientationModalEl=null,this.bindMethods(),P.addEventListener("enter-vr",this.updateEnterInterfaces),P.addEventListener("exit-vr",this.updateEnterInterfaces),P.addEventListener("update-vr-devices",this.updateEnterInterfaces),window.addEventListener("message",function(T){T.data.type==="loaderReady"&&(R.insideLoader=!0,R.remove())}),window.addEventListener("orientationchange",this.toggleOrientationModalIfNeeded))},bindMethods:function(){this.onEnterVRButtonClick=m(this.onEnterVRButtonClick,this),this.onEnterARButtonClick=m(this.onEnterARButtonClick,this),this.onModalClick=m(this.onModalClick,this),this.toggleOrientationModalIfNeeded=m(this.toggleOrientationModalIfNeeded,this),this.updateEnterInterfaces=m(this.updateEnterInterfaces,this)},onModalClick:function(){this.el.exitVR()},onEnterVRButtonClick:function(){this.el.enterVR()},onEnterARButtonClick:function(){this.el.enterAR()},update:function(){var R=this.data,P=this.el;if(!R.enabled||this.insideLoader||p.getUrlParameter("ui")==="false")return this.remove();this.enterVREl||this.enterAREl||this.orientationModalEl||(R.enterVRButton?(this.enterVREl=document.querySelector(R.enterVRButton),this.enterVREl.addEventListener("click",this.onEnterVRButtonClick)):(this.enterVREl=E(this.onEnterVRButtonClick),P.appendChild(this.enterVREl)),R.enterARButton?(this.enterAREl=document.querySelector(R.enterARButton),this.enterAREl.addEventListener("click",this.onEnterARButtonClick)):(this.enterAREl=C(this.onEnterARButtonClick),P.appendChild(this.enterAREl)),this.orientationModalEl=_(this.onModalClick),P.appendChild(this.orientationModalEl),this.updateEnterInterfaces())},remove:function(){[this.enterVREl,this.enterAREl,this.orientationModalEl].forEach(function(R){R&&R.parentNode&&R.parentNode.removeChild(R)}),this.enterVREl=void 0,this.enterAREl=void 0,this.orientationModalEl=void 0},updateEnterInterfaces:function(){this.toggleEnterVRButtonIfNeeded(),this.toggleEnterARButtonIfNeeded(),this.toggleOrientationModalIfNeeded()},toggleEnterVRButtonIfNeeded:function(){var R=this.el;this.enterVREl&&(R.is("vr-mode")||(R.isMobile||p.device.isMobileDeviceRequestingDesktopSite())&&!this.data.cardboardModeEnabled&&!p.device.checkVRSupport()?this.enterVREl.classList.add(g):(p.device.checkVRSupport()||this.enterVREl.classList.add("fullscreen"),this.enterVREl.classList.remove(g)))},toggleEnterARButtonIfNeeded:function(){var R=this.el;this.enterAREl&&(R.is("vr-mode")||!p.device.checkARSupport()?this.enterAREl.classList.add(g):this.enterAREl.classList.remove(g))},toggleOrientationModalIfNeeded:function(){var R=this.el,P=this.orientationModalEl;!P||!R.isMobile||(!p.device.isLandscape()&&R.is("vr-mode")?P.classList.remove(g):P.classList.add(g))}});function E(R){var P,T;return T=document.createElement("div"),T.classList.add(v),T.setAttribute(h.AFRAME_INJECTED,""),P=document.createElement("button"),P.className=A,P.setAttribute("title","Enter VR mode with a headset or fullscreen without"),P.setAttribute(h.AFRAME_INJECTED,""),p.device.isMobile()&&L(P),T.appendChild(P),P.addEventListener("click",function(D){R(),D.stopPropagation()}),T}function C(R){var P,T;return T=document.createElement("div"),T.classList.add(y),T.setAttribute(h.AFRAME_INJECTED,""),P=document.createElement("button"),P.className=b,P.setAttribute("title","Enter AR mode with a headset or handheld device."),P.setAttribute(h.AFRAME_INJECTED,""),p.device.isMobile()&&L(P),T.appendChild(P),P.addEventListener("click",function(D){R(),D.stopPropagation()}),T}function _(R){var P=document.createElement("div");P.className=w,P.classList.add(g),P.setAttribute(h.AFRAME_INJECTED,"");var T=document.createElement("button");return T.setAttribute(h.AFRAME_INJECTED,""),T.innerHTML="Exit VR",T.addEventListener("click",R),P.appendChild(T),P}function L(R){R.addEventListener("touchstart",function(){R.classList.remove("resethover")}),R.addEventListener("touchend",function(){R.classList.add("resethover")})}},"./src/components/shadow.js":(l,u,c)=>{var d=c("./src/core/component.js"),h=c("./src/lib/three.js"),p=c("./src/utils/bind.js"),m=d.registerComponent;l.exports.Component=m("shadow",{schema:{cast:{default:!0},receive:{default:!0}},init:function(){this.onMeshChanged=p(this.update,this),this.el.addEventListener("object3dset",this.onMeshChanged),this.system.setShadowMapEnabled(!0)},update:function(){var v=this.data;this.updateDescendants(v.cast,v.receive)},remove:function(){var v=this.el;v.removeEventListener("object3dset",this.onMeshChanged),this.updateDescendants(!1,!1)},updateDescendants:function(v,y){var A=this.el.sceneEl;this.el.object3D.traverse(function(b){if(b instanceof h.Mesh&&(b.castShadow=v,b.receiveShadow=y,A.hasLoaded&&b.material))for(var g=Array.isArray(b.material)?b.material:[b.material],w=0;w<g.length;w++)g[w].needsUpdate=!0})}})},"./src/components/sound.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/utils/debug.js"),p=c("./src/lib/three.js"),m=h("components:sound:warn");l.exports.Component=d("sound",{schema:{autoplay:{default:!1},distanceModel:{default:"inverse",oneOf:["linear","inverse","exponential"]},loop:{default:!1},maxDistance:{default:1e4},on:{default:""},poolSize:{default:1},positional:{default:!0},refDistance:{default:1},rolloffFactor:{default:1},src:{type:"audio"},volume:{default:1}},multiple:!0,init:function(){var v=this;this.listener=null,this.audioLoader=new p.AudioLoader,this.pool=new p.Group,this.loaded=!1,this.mustPlay=!1,this.playSoundBound=function(){v.playSound()}},update:function(v){var y=this.data,A,b,g=y.src!==v.src;if(g){if(!y.src)return;this.setupSound()}for(A=0;A<this.pool.children.length;A++)b=this.pool.children[A],y.positional&&(b.setDistanceModel(y.distanceModel),b.setMaxDistance(y.maxDistance),b.setRefDistance(y.refDistance),b.setRolloffFactor(y.rolloffFactor)),b.setLoop(y.loop),b.setVolume(y.volume),b.isPaused=!1;if(y.on!==v.on&&this.updateEventListener(v.on),g){var w=this;this.loaded=!1,this.audioLoader.load(y.src,function(E){for(A=0;A<w.pool.children.length;A++)b=w.pool.children[A],b.setBuffer(E);w.loaded=!0,p.Cache.remove(y.src),(w.data.autoplay||w.mustPlay)&&w.playSound(),w.el.emit("sound-loaded",w.evtDetail,!1)})}},pause:function(){this.stopSound(),this.removeEventListener()},play:function(){this.data.autoplay&&this.playSound(),this.updateEventListener()},remove:function(){var v,y;this.removeEventListener(),this.el.getObject3D(this.attrName)&&this.el.removeObject3D(this.attrName);try{for(v=0;v<this.pool.children.length;v++)y=this.pool.children[v],y.disconnect()}catch{m("Audio source not properly disconnected")}},updateEventListener:function(v){var y=this.el;v&&y.removeEventListener(v,this.playSoundBound),y.addEventListener(this.data.on,this.playSoundBound)},removeEventListener:function(){this.el.removeEventListener(this.data.on,this.playSoundBound)},setupSound:function(){var v=this.el,y,A=v.sceneEl,b=this,g;this.pool.children.length>0&&(this.stopSound(),v.removeObject3D("sound"));var w=this.listener=A.audioListener||new p.AudioListener;for(A.audioListener=w,A.camera&&A.camera.add(w),A.addEventListener("camera-set-active",function(E){E.detail.cameraEl.getObject3D("camera").add(w)}),this.pool=new p.Group,y=0;y<this.data.poolSize;y++)g=this.data.positional?new p.PositionalAudio(w):new p.Audio(w),this.pool.add(g);for(v.setObject3D(this.attrName,this.pool),y=0;y<this.pool.children.length;y++)g=this.pool.children[y],g.onEnded=function(){this.isPlaying=!1,b.el.emit("sound-ended",b.evtDetail,!1)}},pauseSound:function(){var v,y;for(this.isPlaying=!1,v=0;v<this.pool.children.length;v++)y=this.pool.children[v],!(!y.source||!y.source.buffer||!y.isPlaying||y.isPaused)&&(y.isPaused=!0,y.pause())},playSound:function(v){var y,A,b;if(!this.loaded){m("Sound not loaded yet. It will be played once it finished loading"),this.mustPlay=!0;return}for(y=!1,this.isPlaying=!0,A=0;A<this.pool.children.length;A++)if(b=this.pool.children[A],!b.isPlaying&&b.buffer&&!y){v&&v(b),b.play(),b.isPaused=!1,y=!0;continue}if(!y){m("All the sounds are playing. If you need to play more sounds simultaneously consider increasing the size of pool with the `poolSize` attribute.",this.el);return}this.mustPlay=!1},stopSound:function(){var v,y;for(this.isPlaying=!1,v=0;v<this.pool.children.length;v++){if(y=this.pool.children[v],!y.source||!y.source.buffer)return;y.stop()}}})},"./src/components/text.js":(l,u,c)=>{var d=c("./node_modules/three-bmfont-text/index.js"),h=c("./node_modules/load-bmfont/browser.js"),p=c("./src/core/component.js").registerComponent,m=c("./src/core/shader.js"),v=c("./src/lib/three.js"),y=c("./src/utils/index.js"),A=y.debug("components:text:error"),b=m.shaders,g=y.debug("components:text:warn"),w=1,E=16,C="https://cdn.aframe.io/fonts/",_={aileronsemibold:C+"Aileron-Semibold.fnt",dejavu:C+"DejaVu-sdf.fnt",exo2bold:C+"Exo2Bold.fnt",exo2semibold:C+"Exo2SemiBold.fnt",kelsonsans:C+"KelsonSans.fnt",monoid:C+"Monoid.fnt",mozillavr:C+"mozillavr.fnt",roboto:C+"Roboto-msdf.json",sourcecodepro:C+"SourceCodePro.fnt"},L=["roboto"],R="roboto";l.exports.FONTS=_;var P=new G,T={},D={},$=/^\w+:/;l.exports.Component=p("text",{multiple:!0,schema:{align:{type:"string",default:"left",oneOf:["left","right","center"]},alphaTest:{default:.5},anchor:{default:"center",oneOf:["left","right","center","align"]},baseline:{default:"center",oneOf:["top","center","bottom"]},color:{type:"color",default:"#FFF"},font:{type:"string",default:R},fontImage:{type:"string"},height:{type:"number"},letterSpacing:{type:"number",default:0},lineHeight:{type:"number"},negate:{type:"boolean",default:!0},opacity:{type:"number",default:1},shader:{default:"sdf",oneOf:b},side:{default:"front",oneOf:["front","back","double"]},tabSize:{default:4},transparent:{default:!0},value:{type:"string"},whiteSpace:{default:"normal",oneOf:["normal","pre","nowrap"]},width:{type:"number"},wrapCount:{type:"number",default:40},wrapPixels:{type:"number"},xOffset:{type:"number",default:0},yOffset:{type:"number",default:0},zOffset:{type:"number",default:.001}},init:function(){this.shaderData={},this.geometry=d(),this.createOrUpdateMaterial()},update:function(j){var Q=this.data,X=this.currentFont;if(D[Q.font]?this.texture=D[Q.font]:(this.texture=D[Q.font]=new v.Texture,this.texture.anisotropy=E),this.createOrUpdateMaterial(),j.font!==Q.font){this.updateFont();return}X&&(this.updateGeometry(this.geometry,X),this.updateLayout())},remove:function(){this.geometry.dispose(),this.geometry=null,this.el.removeObject3D(this.attrName),this.material.dispose(),this.material=null,this.texture.dispose(),this.texture=null,this.shaderObject&&delete this.shaderObject},createOrUpdateMaterial:function(){var j=this.data,Q,X=this.material,J,Z=this.shaderData,oe;if(oe=j.shader,L.indexOf(j.font)!==-1||j.font.indexOf("-msdf.")>=0?oe="msdf":j.font in _&&L.indexOf(j.font)===-1&&(oe="sdf"),Q=(this.shaderObject&&this.shaderObject.name)!==oe,Z.alphaTest=j.alphaTest,Z.color=j.color,Z.map=this.texture,Z.opacity=j.opacity,Z.side=V(j.side),Z.transparent=j.transparent,Z.negate=j.negate,!Q){this.shaderObject.update(Z),X.transparent=Z.transparent,X.side=Z.side;return}J=F(this.el,oe,Z),this.material=J.material,this.shaderObject=J.shader,this.material.side=Z.side,this.mesh&&(this.mesh.material=this.material)},updateFont:function(){var j=this.data,Q=this.el,X,J=this.geometry,Z=this;j.font||g("No font specified. Using the default font."),this.mesh&&(this.mesh.visible=!1),X=this.lookupFont(j.font||R)||j.font,P.get(X,function(){return B(X,j.yOffset)}).then(function(ue){var Be;if(ue.pages.length!==1)throw new Error("Currently only single-page bitmap fonts are supported.");T[X]||(ue.widthFactor=T[ue]=z(ue)),Z.currentFont=ue,Be=Z.getFontImageSrc(),P.get(Be,function(){return O(Be)}).then(function(ge){var Ie=Z.texture;Ie&&(Ie.image=ge,Ie.needsUpdate=!0,D[j.font]=Ie,Z.texture=Ie,Z.initMesh(),Z.currentFont=ue,Z.updateGeometry(J,ue),Z.updateLayout(),Z.mesh.visible=!0,Q.emit("textfontset",{font:j.font,fontObj:ue}))}).catch(function(ge){A(ge.message),A(ge.stack)})}).catch(function(oe){A(oe.message),A(oe.stack)})},initMesh:function(){this.mesh||(this.mesh=new v.Mesh(this.geometry,this.material),this.el.setObject3D(this.attrName,this.mesh))},getFontImageSrc:function(){if(this.data.fontImage)return this.data.fontImage;var j=this.lookupFont(this.data.font||R)||this.data.font,Q=this.currentFont.pages[0];return Q.match($)&&Q.indexOf("http")!==0?j.replace(/(\.fnt)|(\.json)/,".png"):v.LoaderUtils.extractUrlBase(j)+Q},updateLayout:function(){var j,Q,X=this.el,J=this.data,Z=this.geometry,oe,ue,Be,ge=this.mesh,Ie,He,Ze,Xe,ke;if(!(!ge||!Z.layout)){if(oe=X.getAttribute("geometry"),Ze=J.width||oe&&oe.width||w,Ie=k(J.wrapPixels,J.wrapCount,this.currentFont.widthFactor),He=Ze/Ie,Be=Z.layout,ue=He*(Be.height+Be.descender),oe&&oe.primitive==="plane"&&(oe.width||X.setAttribute("geometry","width",Ze),oe.height||X.setAttribute("geometry","height",ue)),j=J.anchor==="align"?J.align:J.anchor,j==="left")Xe=0;else if(j==="right")Xe=-1*Be.width;else if(j==="center")Xe=-1*Be.width/2;else throw new TypeError("Invalid text.anchor property value",j);if(Q=J.baseline,Q==="bottom")ke=0;else if(Q==="top")ke=-1*Be.height+Be.ascender;else if(Q==="center")ke=-1*Be.height/2;else throw new TypeError("Invalid text.baseline property value",Q);ge.position.x=Xe*He+J.xOffset,ge.position.y=ke*He,ge.position.z=J.zOffset,ge.scale.set(He,-1*He,He)}},lookupFont:function(j){return _[j]},updateGeometry:function(){var j={},Q={},X=/\\n/g,J=/\\t/g;return function(Z,oe){var ue=this.data;Q.font=oe,Q.lineHeight=ue.lineHeight&&isFinite(ue.lineHeight)?ue.lineHeight:oe.common.lineHeight,Q.text=ue.value.toString().replace(X,`
`).replace(J,"	"),Q.width=k(ue.wrapPixels,ue.wrapCount,oe.widthFactor),Z.update(y.extend(j,ue,Q))}}()});function V(j){switch(j){case"back":return v.FrontSide;case"double":return v.DoubleSide;default:return v.BackSide}}function B(j,Q){return new Promise(function(X,J){h(j,function(Z,oe){if(Z){A("Error loading font",j),J(Z);return}j.indexOf("/Roboto-msdf.json")>=0&&(Q=30),Q&&oe.chars.map(function(Be){Be.yoffset+=Q}),X(oe)})})}function O(j){return new Promise(function(Q,X){new v.ImageLoader().load(j,function(J){Q(J)},void 0,function(){A("Error loading font image",j),X(null)})})}function F(j,Q,X){var J,Z;return Z=new b[Q].Shader,Z.el=j,Z.init(X),Z.update(X),J=Z.material,J.transparent=X.transparent,{material:J,shader:Z}}function k(j,Q,X){return j||(.5+Q)*X}function z(j){var Q=0,X=0,J=0;return j.chars.map(function(Z){Q+=Z.xadvance,Z.id>=48&&Z.id<=57&&(J++,X+=Z.xadvance)}),J?X/J:Q/j.chars.length}function G(){var j=this.cache={};this.get=function(Q,X){return Q in j||(j[Q]=X()),j[Q]}}},"./src/components/tracked-controls-webvr.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/utils/tracked-controls.js"),p=c("./src/constants/index.js").DEFAULT_CAMERA_HEIGHT,m=c("./src/lib/three.js"),v=c("./src/constants/index.js").DEFAULT_HANDEDNESS,y={x:.175,y:-.3,z:-.03},A={x:0,y:0,z:-.175},b={touches:[]},g={AXISMOVE:"axismove",BUTTONCHANGED:"buttonchanged",BUTTONDOWN:"buttondown",BUTTONUP:"buttonup",TOUCHSTART:"touchstart",TOUCHEND:"touchend"};l.exports.Component=d("tracked-controls-webvr",{schema:{autoHide:{default:!0},controller:{default:0},id:{type:"string",default:""},hand:{type:"string",default:""},idPrefix:{type:"string",default:""},orientationOffset:{type:"vec3"},armModel:{default:!1},headElement:{type:"selector"}},init:function(){this.axis=this.el.components["tracked-controls"].axis=[0,0,0],this.buttonStates=this.el.components["tracked-controls"].buttonStates={},this.changedAxes=[],this.targetControllerNumber=this.data.controller,this.axisMoveEventDetail={axis:this.axis,changed:this.changedAxes},this.deltaControllerPosition=new m.Vector3,this.controllerQuaternion=new m.Quaternion,this.controllerEuler=new m.Euler,this.updateGamepad(),this.buttonEventDetails={}},tick:function(w,E){var C=this.el.getObject3D("mesh");C&&C.update&&C.update(E/1e3),this.updateGamepad(),this.updatePose(),this.updateButtons()},defaultUserHeight:function(){return p},getHeadElement:function(){return this.data.headElement||this.el.sceneEl.camera.el},updateGamepad:function(){var w=this.data,E=h.findMatchingControllerWebVR(this.system.controllers,w.id,w.idPrefix,w.hand,w.controller);this.controller=E,this.el.components["tracked-controls"].controller=E,this.data.autoHide&&(this.el.object3D.visible=!!this.controller)},applyArmModel:function(w){var E=this.controller,C=this.controllerEuler,_=this.controllerQuaternion,L=this.deltaControllerPosition,R,P,T,D,$;P=this.getHeadElement(),T=P.object3D,$=this.defaultUserHeight(),D=E.pose,R=(E?E.hand:void 0)||v,w.copy(T.position),L.set(y.x*(R==="left"?-1:R==="right"?1:0),y.y,y.z),L.multiplyScalar($),L.applyAxisAngle(T.up,T.rotation.y),w.add(L),L.set(A.x,A.y,A.z),L.multiplyScalar($),D.orientation?_.fromArray(D.orientation):_.copy(T.quaternion),C.setFromQuaternion(_),C.set(C.x,C.y,0),L.applyEuler(C),w.add(L)},updatePose:function(){var w=this.controller,E=this.data,C=this.el.object3D,_,L=this.system.vrDisplay,R;w&&(_=w.pose,_.position?C.position.fromArray(_.position):E.armModel&&this.applyArmModel(C.position),_.orientation&&C.quaternion.fromArray(_.orientation),L&&_.position&&(R=this.el.sceneEl.renderer.xr.getStandingMatrix(),C.matrix.compose(C.position,C.quaternion,C.scale),C.matrix.multiplyMatrices(R,C.matrix),C.matrix.decompose(C.position,C.quaternion,C.scale)),C.rotateX(this.data.orientationOffset.x*m.MathUtils.DEG2RAD),C.rotateY(this.data.orientationOffset.y*m.MathUtils.DEG2RAD),C.rotateZ(this.data.orientationOffset.z*m.MathUtils.DEG2RAD))},updateButtons:function(){var w,E=this.controller,C;if(E){for(C=0;C<E.buttons.length;++C)this.buttonStates[C]||(this.buttonStates[C]={pressed:!1,touched:!1,value:0}),this.buttonEventDetails[C]||(this.buttonEventDetails[C]={id:C,state:this.buttonStates[C]}),w=E.buttons[C],this.handleButton(C,w);this.handleAxes()}},handleButton:function(w,E){var C;return C=this.handlePress(w,E)|this.handleTouch(w,E)|this.handleValue(w,E),C?(this.el.emit(g.BUTTONCHANGED,this.buttonEventDetails[w],!1),!0):!1},handleAxes:function(){var w=!1,E=this.controller.axes,C,_=this.axis,L=this.changedAxes;for(this.changedAxes.splice(0,this.changedAxes.length),C=0;C<E.length;++C)L.push(_[C]!==E[C]),L[C]&&(w=!0);if(!w)return!1;for(this.axis.splice(0,this.axis.length),C=0;C<E.length;C++)this.axis.push(E[C]);return this.el.emit(g.AXISMOVE,this.axisMoveEventDetail,!1),!0},handlePress:function(w,E){var C,_=this.buttonStates[w];return E.pressed===_.pressed?!1:(C=E.pressed?g.BUTTONDOWN:g.BUTTONUP,this.el.emit(C,this.buttonEventDetails[w],!1),_.pressed=E.pressed,!0)},handleTouch:function(w,E){var C,_=this.buttonStates[w];return E.touched===_.touched?!1:(C=E.touched?g.TOUCHSTART:g.TOUCHEND,this.el.emit(C,this.buttonEventDetails[w],!1,b),_.touched=E.touched,!0)},handleValue:function(w,E){var C=this.buttonStates[w];return E.value===C.value?!1:(C.value=E.value,!0)}})},"./src/components/tracked-controls-webxr.js":(l,u,c)=>{var d=c("./src/utils/tracked-controls.js"),h=c("./src/core/component.js").registerComponent,p={AXISMOVE:"axismove",BUTTONCHANGED:"buttonchanged",BUTTONDOWN:"buttondown",BUTTONUP:"buttonup",TOUCHSTART:"touchstart",TOUCHEND:"touchend"};l.exports.Component=h("tracked-controls-webxr",{schema:{id:{type:"string",default:""},hand:{type:"string",default:""},handTrackingEnabled:{default:!1},index:{type:"int",default:-1},iterateControllerProfiles:{default:!1},space:{type:"string",oneOf:["targetRaySpace","gripSpace"],default:"gripSpace"}},init:function(){this.updateController=this.updateController.bind(this),this.buttonEventDetails={},this.buttonStates=this.el.components["tracked-controls"].buttonStates={},this.axis=this.el.components["tracked-controls"].axis=[0,0,0],this.changedAxes=[],this.axisMoveEventDetail={axis:this.axis,changed:this.changedAxes}},update:function(){this.updateController()},play:function(){var m=this.el.sceneEl;this.updateController(),m.addEventListener("controllersupdated",this.updateController)},pause:function(){var m=this.el.sceneEl;m.removeEventListener("controllersupdated",this.updateController)},isControllerPresent:function(m){return!(!this.controller||this.controller.gamepad||m.inputSource.handedness!=="none"&&m.inputSource.handedness!==this.data.hand)},updateController:function(){this.controller=d.findMatchingControllerWebXR(this.system.controllers,this.data.id,this.data.hand,this.data.index,this.data.iterateControllerProfiles,this.data.handTrackingEnabled),this.el.components["tracked-controls"].controller=this.controller,this.data.autoHide&&(this.el.object3D.visible=!!this.controller)},tick:function(){var m=this.el.sceneEl,v=this.controller,y=m.frame;!v||!m.frame||!this.system.referenceSpace||v.hand||(this.pose=y.getPose(v[this.data.space],this.system.referenceSpace),this.updatePose(),this.updateButtons())},updatePose:function(){var m=this.el.object3D,v=this.pose;v&&(m.matrix.elements=v.transform.matrix,m.matrix.decompose(m.position,m.rotation,m.scale))},updateButtons:function(){var m,v,y=this.controller,A;if(!(!y||!y.gamepad)){for(A=y.gamepad,v=0;v<A.buttons.length;++v)this.buttonStates[v]||(this.buttonStates[v]={pressed:!1,touched:!1,value:0}),this.buttonEventDetails[v]||(this.buttonEventDetails[v]={id:v,state:this.buttonStates[v]}),m=A.buttons[v],this.handleButton(v,m);this.handleAxes()}},handleButton:function(m,v){var y;return y=this.handlePress(m,v)|this.handleTouch(m,v)|this.handleValue(m,v),y?(this.el.emit(p.BUTTONCHANGED,this.buttonEventDetails[m],!1),!0):!1},handleAxes:function(){var m=!1,v=this.controller.gamepad.axes,y,A=this.axis,b=this.changedAxes;for(this.changedAxes.splice(0,this.changedAxes.length),y=0;y<v.length;++y)b.push(A[y]!==v[y]),b[y]&&(m=!0);if(!m)return!1;for(this.axis.splice(0,this.axis.length),y=0;y<v.length;y++)this.axis.push(v[y]);return this.el.emit(p.AXISMOVE,this.axisMoveEventDetail,!1),!0},handlePress:function(m,v){var y,A=this.buttonStates[m];return v.pressed===A.pressed?!1:(y=v.pressed?p.BUTTONDOWN:p.BUTTONUP,this.el.emit(y,this.buttonEventDetails[m],!1),A.pressed=v.pressed,!0)},handleTouch:function(m,v){var y,A=this.buttonStates[m];return v.touched===A.touched?!1:(y=v.touched?p.TOUCHSTART:p.TOUCHEND,this.el.emit(y,this.buttonEventDetails[m],!1),A.touched=v.touched,!0)},handleValue:function(m,v){var y=this.buttonStates[m];return v.value===y.value?!1:(y.value=v.value,!0)}})},"./src/components/tracked-controls.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent;l.exports.Component=d("tracked-controls",{schema:{autoHide:{default:!0},controller:{default:-1},id:{type:"string",default:""},hand:{type:"string",default:""},idPrefix:{type:"string",default:""},handTrackingEnabled:{default:!1},orientationOffset:{type:"vec3"},armModel:{default:!1},headElement:{type:"selector"},iterateControllerProfiles:{default:!1},space:{type:"string",oneOf:["targetRaySpace","gripSpace"],default:"targetRaySpace"}},update:function(){var h=this.data,p=this.el;p.sceneEl.hasWebXR?p.setAttribute("tracked-controls-webxr",{id:h.id,hand:h.hand,index:h.controller,iterateControllerProfiles:h.iterateControllerProfiles,handTrackingEnabled:h.handTrackingEnabled,space:h.space}):p.setAttribute("tracked-controls-webvr",h)}})},"./src/components/valve-index-controls.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/utils/bind.js"),p=c("./src/lib/three.js"),m=c("./src/utils/tracked-controls.js"),v=m.checkControllerPresentAndSetup,y=m.emitIfAxesChanged,A=m.onButtonEvent,b="https://cdn.aframe.io/controllers/valve/index/valve-index-",g={left:b+"left.glb",right:b+"right.glb"},w="valve",E=c("./src/utils/index.js").device.isWebXRAvailable,C={left:{x:-.00023692678902063457,y:.04724540367838371,z:-.061959880395271096},right:{x:.002471558599671131,y:.055765208987076195,z:-.061068168708348844}},_={left:{x:0,y:-.05,z:.06},right:{x:0,y:-.05,z:.06}},L={left:{_x:.692295102620542,_y:-.0627618864318427,_z:-.06265893149611756,_order:"XYZ"},right:{_x:.6484021229942998,_y:-.032563619881892894,_z:-.1327973171917482,_order:"XYZ"}},R={left:{_x:Math.PI/3,_y:0,_z:0,_order:"XYZ"},right:{_x:Math.PI/3,_y:0,_z:0,_order:"XYZ"}},P=E?R:L,T=E?_:C;l.exports.Component=d("valve-index-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#FAFAFA"},buttonHighlightColor:{type:"color",default:"#22D1EE"},model:{default:!0},orientationOffset:{type:"vec3"}},mapping:{axes:{trackpad:[0,1],thumbstick:[2,3]},buttons:["trigger","grip","trackpad","thumbstick","abutton"]},init:function(){var D=this;this.controllerPresent=!1,this.lastControllerCheck=0,this.onButtonChanged=h(this.onButtonChanged,this),this.onButtonDown=function($){A($.detail.id,"down",D)},this.onButtonUp=function($){A($.detail.id,"up",D)},this.onButtonTouchEnd=function($){A($.detail.id,"touchend",D)},this.onButtonTouchStart=function($){A($.detail.id,"touchstart",D)},this.previousButtonValues={},this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods()},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=h(this.onModelLoaded,this),this.onControllersUpdate=h(this.onControllersUpdate,this),this.checkIfControllerPresent=h(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=h(this.removeControllersUpdateListener,this),this.onAxisMoved=h(this.onAxisMoved,this)},addEventListeners:function(){var D=this.el;D.addEventListener("buttonchanged",this.onButtonChanged),D.addEventListener("buttondown",this.onButtonDown),D.addEventListener("buttonup",this.onButtonUp),D.addEventListener("touchend",this.onButtonTouchEnd),D.addEventListener("touchstart",this.onButtonTouchStart),D.addEventListener("model-loaded",this.onModelLoaded),D.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var D=this.el;D.removeEventListener("buttonchanged",this.onButtonChanged),D.removeEventListener("buttondown",this.onButtonDown),D.removeEventListener("buttonup",this.onButtonUp),D.removeEventListener("touchend",this.onButtonTouchEnd),D.removeEventListener("touchstart",this.onButtonTouchStart),D.removeEventListener("model-loaded",this.onModelLoaded),D.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var D=this.data,$=D.hand==="right"?0:D.hand==="left"?1:2;v(this,w,{index:$,iterateControllerProfiles:!0,hand:D.hand})},injectTrackedControls:function(){var D=this.el,$=this.data;D.setAttribute("tracked-controls",{idPrefix:w,controller:$.hand==="right"?1:$.hand==="left"?0:2,hand:$.hand,orientationOffset:$.orientationOffset}),this.loadModel()},loadModel:function(){var D=this.data;D.model&&this.el.setAttribute("gltf-model",""+g[D.hand])},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(D){var $=this.mapping.buttons[D.detail.id],V=this.buttonMeshes,B;$&&($==="trigger"&&(B=D.detail.state.value,V&&V.trigger&&(V.trigger.rotation.x=this.triggerOriginalRotationX-B*(Math.PI/40))),this.el.emit($+"changed",D.detail.state))},onModelLoaded:function(D){var $,V=D.detail.model,B=this;this.data.model&&($=this.buttonMeshes={},$.grip={left:V.getObjectByName("leftgrip"),right:V.getObjectByName("rightgrip")},$.menu=V.getObjectByName("menubutton"),$.system=V.getObjectByName("systembutton"),$.trackpad=V.getObjectByName("touchpad"),$.trigger=V.getObjectByName("trigger"),this.triggerOriginalRotationX=$.trigger.rotation.x,Object.keys($).forEach(function(O){B.setButtonColor(O,B.data.buttonColor)}),V.position.copy(T[this.data.hand]),V.rotation.copy(P[this.data.hand]),this.el.emit("controllermodelready",{name:"valve-index-controlls",model:this.data.model,rayOrigin:new p.Vector3(0,0,0)}))},onAxisMoved:function(D){y(this,this.mapping.axes,D)},updateModel:function(D,$){var V,B;this.data.model&&(B=$.indexOf("touch")!==-1,!B&&(V=$==="up"?this.data.buttonColor:this.data.buttonHighlightColor,this.setButtonColor(D,V)))},setButtonColor:function(D,$){}})},"./src/components/visible.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent;l.exports.Component=d("visible",{schema:{default:!0},update:function(){this.el.object3D.visible=this.data}})},"./src/components/vive-controls.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/utils/bind.js"),p=c("./src/utils/tracked-controls.js"),m=p.checkControllerPresentAndSetup,v=p.emitIfAxesChanged,y=p.onButtonEvent,A="https://cdn.aframe.io/controllers/vive/vr_controller_vive.obj",b="https://cdn.aframe.io/controllers/vive/vr_controller_vive.mtl",g=c("./src/utils/index.js").device.isWebXRAvailable,w="htc-vive",E="OpenVR ",C=g?w:E,_={axes:{trackpad:[0,1]},buttons:["trackpad","trigger","grip","menu","system"]},L={axes:{thumbstick:[0,1]},buttons:["trigger","grip","trackpad","none","menu"]},R=g?L:_;l.exports.Component=d("vive-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#FAFAFA"},buttonHighlightColor:{type:"color",default:"#22D1EE"},model:{default:!0},orientationOffset:{type:"vec3"}},mapping:R,init:function(){var P=this;this.controllerPresent=!1,this.lastControllerCheck=0,this.onButtonChanged=h(this.onButtonChanged,this),this.onButtonDown=function(T){y(T.detail.id,"down",P)},this.onButtonUp=function(T){y(T.detail.id,"up",P)},this.onButtonTouchEnd=function(T){y(T.detail.id,"touchend",P)},this.onButtonTouchStart=function(T){y(T.detail.id,"touchstart",P)},this.previousButtonValues={},this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods()},update:function(){var P=this.data;this.controllerIndex=P.hand==="right"?0:P.hand==="left"?1:2},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=h(this.onModelLoaded,this),this.onControllersUpdate=h(this.onControllersUpdate,this),this.checkIfControllerPresent=h(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=h(this.removeControllersUpdateListener,this),this.onAxisMoved=h(this.onAxisMoved,this)},addEventListeners:function(){var P=this.el;P.addEventListener("buttonchanged",this.onButtonChanged),P.addEventListener("buttondown",this.onButtonDown),P.addEventListener("buttonup",this.onButtonUp),P.addEventListener("touchend",this.onButtonTouchEnd),P.addEventListener("touchstart",this.onButtonTouchStart),P.addEventListener("model-loaded",this.onModelLoaded),P.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var P=this.el;P.removeEventListener("buttonchanged",this.onButtonChanged),P.removeEventListener("buttondown",this.onButtonDown),P.removeEventListener("buttonup",this.onButtonUp),P.removeEventListener("touchend",this.onButtonTouchEnd),P.removeEventListener("touchstart",this.onButtonTouchStart),P.removeEventListener("model-loaded",this.onModelLoaded),P.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var P=this.data;m(this,C,{index:this.controllerIndex,hand:P.hand})},injectTrackedControls:function(){var P=this.el,T=this.data;P.setAttribute("tracked-controls",{idPrefix:C,hand:T.hand,controller:this.controllerIndex,orientationOffset:T.orientationOffset}),this.data.model&&this.el.setAttribute("obj-model",{obj:A,mtl:b})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(P){var T=this.mapping.buttons[P.detail.id],D=this.buttonMeshes,$;T&&(T==="trigger"&&($=P.detail.state.value,D&&D.trigger&&(D.trigger.rotation.x=-$*(Math.PI/12))),this.el.emit(T+"changed",P.detail.state))},onModelLoaded:function(P){var T,D=P.detail.model,$=this;this.data.model&&(T=this.buttonMeshes={},T.grip={left:D.getObjectByName("leftgrip"),right:D.getObjectByName("rightgrip")},T.menu=D.getObjectByName("menubutton"),T.system=D.getObjectByName("systembutton"),T.trackpad=D.getObjectByName("touchpad"),T.trigger=D.getObjectByName("trigger"),Object.keys(T).forEach(function(V){$.setButtonColor(V,$.data.buttonColor)}),D.position.set(0,-.015,.04))},onAxisMoved:function(P){v(this,this.mapping.axes,P)},updateModel:function(P,T){var D,$;this.data.model&&($=T.indexOf("touch")!==-1,!$&&(D=T==="up"?this.data.buttonColor:this.data.buttonHighlightColor,this.setButtonColor(P,D)))},setButtonColor:function(P,T){var D=this.buttonMeshes,$=this.rendererSystem;if(D){if(P==="grip"){D.grip.left.material.color.set(T),D.grip.right.material.color.set(T),$.applyColorCorrection(D.grip.left.material.color),$.applyColorCorrection(D.grip.right.material.color);return}D[P].material.color.set(T),$.applyColorCorrection(D[P].material.color)}}})},"./src/components/vive-focus-controls.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/utils/bind.js"),p=c("./src/utils/tracked-controls.js"),m=p.checkControllerPresentAndSetup,v=p.emitIfAxesChanged,y=p.onButtonEvent,A="HTC Vive Focus",b="https://cdn.aframe.io/controllers/vive/focus-controller/focus-controller.gltf";l.exports.Component=d("vive-focus-controls",{schema:{hand:{default:""},buttonTouchedColor:{type:"color",default:"#BBBBBB"},buttonHighlightColor:{type:"color",default:"#7A7A7A"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:{axes:{trackpad:[0,1]},buttons:["trackpad","trigger"]},bindMethods:function(){this.onModelLoaded=h(this.onModelLoaded,this),this.onControllersUpdate=h(this.onControllersUpdate,this),this.checkIfControllerPresent=h(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=h(this.removeControllersUpdateListener,this),this.onAxisMoved=h(this.onAxisMoved,this)},init:function(){var g=this;this.onButtonChanged=h(this.onButtonChanged,this),this.onButtonDown=function(w){y(w.detail.id,"down",g)},this.onButtonUp=function(w){y(w.detail.id,"up",g)},this.onButtonTouchStart=function(w){y(w.detail.id,"touchstart",g)},this.onButtonTouchEnd=function(w){y(w.detail.id,"touchend",g)},this.controllerPresent=!1,this.lastControllerCheck=0,this.bindMethods()},addEventListeners:function(){var g=this.el;g.addEventListener("buttonchanged",this.onButtonChanged),g.addEventListener("buttondown",this.onButtonDown),g.addEventListener("buttonup",this.onButtonUp),g.addEventListener("touchstart",this.onButtonTouchStart),g.addEventListener("touchend",this.onButtonTouchEnd),g.addEventListener("model-loaded",this.onModelLoaded),g.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0,this.addControllersUpdateListener()},removeEventListeners:function(){var g=this.el;g.removeEventListener("buttonchanged",this.onButtonChanged),g.removeEventListener("buttondown",this.onButtonDown),g.removeEventListener("buttonup",this.onButtonUp),g.removeEventListener("touchstart",this.onButtonTouchStart),g.removeEventListener("touchend",this.onButtonTouchEnd),g.removeEventListener("model-loaded",this.onModelLoaded),g.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1,this.removeControllersUpdateListener()},checkIfControllerPresent:function(){m(this,A,this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var g=this.el,w=this.data;g.setAttribute("tracked-controls",{armModel:w.armModel,idPrefix:A,orientationOffset:w.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model",b)},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(g){var w=g.detail.model,E;this.data.model&&(E=this.buttonMeshes={},E.trigger=w.getObjectByName("BumperKey"),E.triggerPressed=w.getObjectByName("BumperKey_Press"),E.triggerPressed&&(E.triggerPressed.visible=!1),E.trackpad=w.getObjectByName("TouchPad"),E.trackpadPressed=w.getObjectByName("TouchPad_Press"),E.trackpadPressed&&(E.trackpadPressed.visible=!1))},onButtonChanged:function(g){var w=this.mapping.buttons[g.detail.id];w&&this.el.emit(w+"changed",g.detail.state)},onAxisMoved:function(g){v(this,this.mapping.axes,g)},updateModel:function(g,w){this.data.model&&this.updateButtonModel(g,w)},updateButtonModel:function(g,w){var E=this.buttonMeshes,C=g+"Pressed";if(!(!E||!E[g]||!E[C])){var _;switch(w){case"down":_=this.data.buttonHighlightColor;break;case"touchstart":_=this.data.buttonTouchedColor;break}_&&E[C].material.color.set(_),E[C].visible=!!_,E[g].visible=!_}}})},"./src/components/wasd-controls.js":(l,u,c)=>{var d=c("./src/constants/index.js").keyboardevent.KEYCODE_TO_CODE,h=c("./src/core/component.js").registerComponent,p=c("./src/lib/three.js"),m=c("./src/utils/index.js"),v=m.bind,y=m.shouldCaptureKeyEvent,A=1e-5,b=.2,g=["KeyW","KeyA","KeyS","KeyD","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"];l.exports.Component=h("wasd-controls",{schema:{acceleration:{default:65},adAxis:{default:"x",oneOf:["x","y","z"]},adEnabled:{default:!0},adInverted:{default:!1},enabled:{default:!0},fly:{default:!1},wsAxis:{default:"z",oneOf:["x","y","z"]},wsEnabled:{default:!0},wsInverted:{default:!1}},init:function(){this.keys={},this.easing=1.1,this.velocity=new p.Vector3,this.onBlur=v(this.onBlur,this),this.onContextMenu=v(this.onContextMenu,this),this.onFocus=v(this.onFocus,this),this.onKeyDown=v(this.onKeyDown,this),this.onKeyUp=v(this.onKeyUp,this),this.onVisibilityChange=v(this.onVisibilityChange,this),this.attachVisibilityEventListeners()},tick:function(E,C){var _=this.data,L=this.el,R=this.velocity;!R[_.adAxis]&&!R[_.wsAxis]&&w(this.keys)||(C=C/1e3,this.updateVelocity(C),!(!R[_.adAxis]&&!R[_.wsAxis])&&L.object3D.position.add(this.getMovementVector(C)))},update:function(E){E.adAxis!==this.data.adAxis&&(this.velocity[E.adAxis]=0),E.wsAxis!==this.data.wsAxis&&(this.velocity[E.wsAxis]=0)},remove:function(){this.removeKeyEventListeners(),this.removeVisibilityEventListeners()},play:function(){this.attachKeyEventListeners()},pause:function(){this.keys={},this.removeKeyEventListeners()},updateVelocity:function(E){var C,_,L,R=this.data,P=this.keys,T=this.velocity,D,$;if(_=R.adAxis,D=R.wsAxis,E>b){T[_]=0,T[D]=0;return}var V=Math.pow(1/this.easing,E*60);T[_]!==0&&(T[_]=T[_]*V),T[D]!==0&&(T[D]=T[D]*V),Math.abs(T[_])<A&&(T[_]=0),Math.abs(T[D])<A&&(T[D]=0),R.enabled&&(C=R.acceleration,R.adEnabled&&(L=R.adInverted?-1:1,(P.KeyA||P.ArrowLeft)&&(T[_]-=L*C*E),(P.KeyD||P.ArrowRight)&&(T[_]+=L*C*E)),R.wsEnabled&&($=R.wsInverted?-1:1,(P.KeyW||P.ArrowUp)&&(T[D]-=$*C*E),(P.KeyS||P.ArrowDown)&&(T[D]+=$*C*E)))},getMovementVector:function(){var E=new p.Vector3(0,0,0),C=new p.Euler(0,0,0,"YXZ");return function(_){var L=this.el.getAttribute("rotation"),R=this.velocity,P;return E.copy(R),E.multiplyScalar(_),L&&(P=this.data.fly?L.x:0,C.set(p.MathUtils.degToRad(P),p.MathUtils.degToRad(L.y),0),E.applyEuler(C)),E}}(),attachVisibilityEventListeners:function(){window.oncontextmenu=this.onContextMenu,window.addEventListener("blur",this.onBlur),window.addEventListener("focus",this.onFocus),document.addEventListener("visibilitychange",this.onVisibilityChange)},removeVisibilityEventListeners:function(){window.removeEventListener("blur",this.onBlur),window.removeEventListener("focus",this.onFocus),document.removeEventListener("visibilitychange",this.onVisibilityChange)},attachKeyEventListeners:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)},removeKeyEventListeners:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)},onContextMenu:function(){for(var E=Object.keys(this.keys),C=0;C<E.length;C++)delete this.keys[E[C]]},onBlur:function(){this.pause()},onFocus:function(){this.play()},onVisibilityChange:function(){document.hidden?this.onBlur():this.onFocus()},onKeyDown:function(E){var C;y(E)&&(C=E.code||d[E.keyCode],g.indexOf(C)!==-1&&(this.keys[C]=!0))},onKeyUp:function(E){var C;C=E.code||d[E.keyCode],delete this.keys[C]}});function w(E){var C;for(C in E)return!1;return!0}},"./src/components/windows-motion-controls.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/utils/bind.js"),p=c("./src/utils/tracked-controls.js"),m=p.checkControllerPresentAndSetup,v=p.emitIfAxesChanged,y=p.onButtonEvent,A=c("./src/utils/index.js"),b=A.debug("components:windows-motion-controls:debug"),g=A.debug("components:windows-motion-controls:warn"),w=c("./src/constants/index.js").DEFAULT_HANDEDNESS,E="https://cdn.aframe.io/controllers/microsoft/",C={left:"left.glb",right:"right.glb",default:"universal.glb"},_=c("./src/utils/index.js").device.isWebXRAvailable,L="windows-mixed-reality",R="Spatial Controller (Spatial Interaction Source) ",P=/([0-9a-zA-Z]+-[0-9a-zA-Z]+)$/,T=_?L:R,D={axes:{thumbstick:[0,1],trackpad:[2,3]},buttons:["thumbstick","trigger","grip","menu","trackpad"],axisMeshNames:["THUMBSTICK_X","THUMBSTICK_Y","TOUCHPAD_TOUCH_X","TOUCHPAD_TOUCH_Y"],buttonMeshNames:{trigger:"SELECT",menu:"MENU",grip:"GRASP",thumbstick:"THUMBSTICK_PRESS",trackpad:"TOUCHPAD_PRESS"},pointingPoseMeshName:"POINTING_POSE"},$={axes:{touchpad:[0,1],thumbstick:[2,3]},buttons:["trigger","squeeze","touchpad","thumbstick","menu"],axisMeshNames:["TOUCHPAD_TOUCH_X","TOUCHPAD_TOUCH_X","THUMBSTICK_X","THUMBSTICK_Y"],buttonMeshNames:{trigger:"SELECT",menu:"MENU",squeeze:"GRASP",thumbstick:"THUMBSTICK_PRESS",touchpad:"TOUCHPAD_PRESS"},pointingPoseMeshName:"POINTING_POSE"},V=_?$:D;l.exports.Component=d("windows-motion-controls",{schema:{hand:{default:w},pair:{default:0},model:{default:!0},hideDisconnected:{default:!0}},mapping:V,bindMethods:function(){this.onModelError=h(this.onModelError,this),this.onModelLoaded=h(this.onModelLoaded,this),this.onControllersUpdate=h(this.onControllersUpdate,this),this.checkIfControllerPresent=h(this.checkIfControllerPresent,this),this.onAxisMoved=h(this.onAxisMoved,this)},init:function(){var B=this,O=this.el;this.onButtonChanged=h(this.onButtonChanged,this),this.onButtonDown=function(F){y(F.detail.id,"down",B)},this.onButtonUp=function(F){y(F.detail.id,"up",B)},this.onButtonTouchStart=function(F){y(F.detail.id,"touchstart",B)},this.onButtonTouchEnd=function(F){y(F.detail.id,"touchend",B)},this.onControllerConnected=function(){B.setModelVisibility(!0)},this.onControllerDisconnected=function(){B.setModelVisibility(!1)},this.controllerPresent=!1,this.lastControllerCheck=0,this.previousButtonValues={},this.bindMethods(),this.loadedMeshInfo={buttonMeshes:null,axisMeshes:null},this.rayOrigin={origin:new THREE.Vector3,direction:new THREE.Vector3(0,0,-1),createdFromMesh:!1},O.addEventListener("controllerconnected",this.onControllerConnected),O.addEventListener("controllerdisconnected",this.onControllerDisconnected)},addEventListeners:function(){var B=this.el;B.addEventListener("buttonchanged",this.onButtonChanged),B.addEventListener("buttondown",this.onButtonDown),B.addEventListener("buttonup",this.onButtonUp),B.addEventListener("touchstart",this.onButtonTouchStart),B.addEventListener("touchend",this.onButtonTouchEnd),B.addEventListener("axismove",this.onAxisMoved),B.addEventListener("model-error",this.onModelError),B.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var B=this.el;B.removeEventListener("buttonchanged",this.onButtonChanged),B.removeEventListener("buttondown",this.onButtonDown),B.removeEventListener("buttonup",this.onButtonUp),B.removeEventListener("touchstart",this.onButtonTouchStart),B.removeEventListener("touchend",this.onButtonTouchEnd),B.removeEventListener("axismove",this.onAxisMoved),B.removeEventListener("model-error",this.onModelError),B.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){m(this,T,{hand:this.data.hand,index:this.data.pair,iterateControllerProfiles:!0})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},updateControllerModel:function(){if(!this.data.model||this.rayOrigin.createdFromMesh){this.modelReady();return}var B=this.createControllerModelUrl();this.loadModel(B)},createControllerModelUrl:function(B){var O=this.el.components["tracked-controls"],F=O?O.controller:null,k="default",z=this.data.hand,G;if(F&&!window.hasNativeWebXRImplementation&&(z=F.hand,!B)){var j=F.id.match(P);k=j&&j[0]||k}return G=C[z]||C.default,E+k+"/"+G},injectTrackedControls:function(){var B=this.data;this.el.setAttribute("tracked-controls",{idPrefix:T,controller:B.pair,hand:B.hand,armModel:!1}),this.updateControllerModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelError:function(B){var O=this.createControllerModelUrl(!0);B.detail.src!==O?(g("Failed to load controller model for device, attempting to load default."),this.loadModel(O)):g("Failed to load default controller model.")},loadModel:function(B){this.el.setAttribute("gltf-model","url("+B+")")},onModelLoaded:function(B){var O=this.controllerModel=B.detail.model,F=this.loadedMeshInfo,k,z,G,j;if(b("Processing model"),F.buttonMeshes={},F.axisMeshes={},O){for(k=0;k<this.mapping.buttons.length;k++){if(z=this.mapping.buttonMeshNames[this.mapping.buttons[k]],!z){b("Skipping unknown button at index: "+k+" with mapped name: "+this.mapping.buttons[k]);continue}if(G=O.getObjectByName(z),!G){g("Missing button mesh with name: "+z);continue}j={index:k,value:Q(G,"VALUE"),pressed:Q(G,"PRESSED"),unpressed:Q(G,"UNPRESSED")},j.value&&j.pressed&&j.unpressed?F.buttonMeshes[this.mapping.buttons[k]]=j:g("Missing button submesh under mesh with name: "+z+"(VALUE: "+!!j.value+", PRESSED: "+!!j.pressed+", UNPRESSED:"+!!j.unpressed+")")}for(k=0;k<this.mapping.axisMeshNames.length;k++){if(z=this.mapping.axisMeshNames[k],!z){b("Skipping unknown axis at index: "+k);continue}if(G=O.getObjectByName(z),!G){g("Missing axis mesh with name: "+z);continue}j={index:k,value:Q(G,"VALUE"),min:Q(G,"MIN"),max:Q(G,"MAX")},j.value&&j.min&&j.max?F.axisMeshes[k]=j:g("Missing axis submesh under mesh with name: "+z+"(VALUE: "+!!j.value+", MIN: "+!!j.min+", MAX:"+!!j.max+")")}this.calculateRayOriginFromMesh(O),this.setModelVisibility()}b("Model load complete.");function Q(X,J){for(var Z=0,oe=X.children.length;Z<oe;Z++){var ue=X.children[Z];if(ue&&ue.name===J)return ue}}},calculateRayOriginFromMesh:function(){var B=new THREE.Quaternion;return function(O){var F;if(this.rayOrigin.origin.set(0,0,0),this.rayOrigin.direction.set(0,0,-1),this.rayOrigin.createdFromMesh=!0,F=O.getObjectByName(this.mapping.pointingPoseMeshName),F){var k=O.parent;k&&(O.parent=null,O.updateMatrixWorld(!0),O.parent=k),F.getWorldPosition(this.rayOrigin.origin),F.getWorldQuaternion(B),this.rayOrigin.direction.applyQuaternion(B),k&&O.updateMatrixWorld(!0)}else b("Mesh does not contain pointing origin data, defaulting to none.");this.modelReady()}}(),lerpAxisTransform:function(){var B=new THREE.Quaternion;return function(O,F){var k=this.loadedMeshInfo.axisMeshes[O];if(k){var z=k.min,G=k.max,j=k.value,Q=F*.5+.5;j.setRotationFromQuaternion(B.copy(z.quaternion).slerp(G.quaternion,Q)),j.position.lerpVectors(z.position,G.position,Q)}}}(),lerpButtonTransform:function(){var B=new THREE.Quaternion;return function(O,F){var k=this.loadedMeshInfo.buttonMeshes[O];if(k){var z=k.unpressed,G=k.pressed,j=k.value;j.setRotationFromQuaternion(B.copy(z.quaternion).slerp(G.quaternion,F)),j.position.lerpVectors(z.position,G.position,F)}}}(),modelReady:function(){this.el.emit("controllermodelready",{name:"windows-motion-controls",model:this.data.model,rayOrigin:this.rayOrigin})},onButtonChanged:function(B){var O=this.mapping.buttons[B.detail.id];O&&(this.loadedMeshInfo&&this.loadedMeshInfo.buttonMeshes&&this.lerpButtonTransform(O,B.detail.state.value),this.el.emit(O+"changed",B.detail.state))},onAxisMoved:function(B){var O=this.mapping.axisMeshNames.length;if(this.loadedMeshInfo&&this.loadedMeshInfo.axisMeshes)for(var F=0;F<O;F++)this.lerpAxisTransform(F,B.detail.axis[F]||0);v(this,this.mapping.axes,B)},setModelVisibility:function(B){var O=this.el.getObject3D("mesh");B=B!==void 0?B:this.modelVisible,this.modelVisible=B,O&&(O.visible=B)}})},"./src/constants/index.js":(l,u,c)=>{l.exports={AFRAME_INJECTED:"aframe-injected",DEFAULT_CAMERA_HEIGHT:1.6,DEFAULT_HANDEDNESS:"right",keyboardevent:c("./src/constants/keyboardevent.js")}},"./src/constants/keyboardevent.js":l=>{l.exports={KEYCODE_TO_CODE:{38:"ArrowUp",37:"ArrowLeft",40:"ArrowDown",39:"ArrowRight",87:"KeyW",65:"KeyA",83:"KeyS",68:"KeyD"}}},"./src/core/a-assets.js":(l,u,c)=>{var d=c("./src/core/a-node.js").ANode,h=c("./src/utils/bind.js"),p=c("./src/utils/debug.js"),m=c("./src/lib/three.js"),v=new m.FileLoader,y=p("core:a-assets:warn");class A extends d{constructor(){super(),this.isAssets=!0,this.fileLoader=v,this.timeout=null}connectedCallback(){if(document.readyState!=="complete"){document.addEventListener("readystatechange",this.onReadyStateChange.bind(this));return}this.doConnectedCallback()}doConnectedCallback(){var P=this,T,D=[],$,V,B,O,F;if(super.connectedCallback(),!this.parentNode.isScene)throw new Error("<a-assets> must be a child of a <a-scene>.");for(O=this.querySelectorAll("img"),T=0;T<O.length;T++)B=w(O[T]),D.push(new Promise(function(k,z){if(m.Cache.add(O[T].getAttribute("src"),B),B.complete){k();return}B.onload=k,B.onerror=z}));for(V=this.querySelectorAll("audio, video"),T=0;T<V.length;T++)$=w(V[T]),!$.src&&!$.srcObject&&y("Audio/video asset has neither `src` nor `srcObject` attributes."),D.push(g($));Promise.allSettled(D).then(h(this.load,this)),F=parseInt(this.getAttribute("timeout"),10)||3e3,this.timeout=setTimeout(function(){P.hasLoaded||(y("Asset loading timed out in ",F,"ms"),P.emit("timeout"),P.load())},F)}disconnectedCallback(){super.disconnectedCallback(),this.timeout&&clearTimeout(this.timeout)}load(){super.load.call(this,null,function(T){return T.isAssetItem&&T.hasAttribute("src")})}}customElements.define("a-assets",A);class b extends d{constructor(){super(),this.data=null,this.isAssetItem=!0}connectedCallback(){var P=this,T=this.getAttribute("src");v.setResponseType(this.getAttribute("response-type")||_(T)),v.load(T,function($){P.data=$,setTimeout(function(){d.prototype.load.call(P)})},function($){P.emit("progress",{loadedBytes:$.loaded,totalBytes:$.total,xhr:$})},function($){P.emit("error",{xhr:$})})}}customElements.define("a-asset-item",b);function g(R){if(!(!R.hasAttribute("autoplay")&&R.getAttribute("preload")!=="auto"))return new Promise(function(P,T){if(R.readyState===4)return P();if(R.error)return T();R.addEventListener("loadeddata",D,!1),R.addEventListener("progress",D,!1),R.addEventListener("error",T,!1);function D(){for(var $=0,V=0;V<R.buffered.length;V++)$+=R.buffered.end(V)-R.buffered.start(V);$>=R.duration&&(R.tagName==="VIDEO"&&m.Cache.add(R.getAttribute("src"),R),P())}})}function w(R){var P=E(R);return P.tagName&&P.tagName.toLowerCase()==="video"&&(P.setAttribute("playsinline",""),P.setAttribute("webkit-playsinline","")),P!==R&&(R.parentNode.appendChild(P),R.parentNode.removeChild(R)),P}function E(R){var P,T;return R.hasAttribute("crossorigin")||(T=R.getAttribute("src"),T!==null&&(T.indexOf("://")===-1||C(T)===window.location.host))?R:(y('Cross-origin element (e.g., <img>) was requested without `crossorigin` set. A-Frame will re-request the asset with `crossorigin` attribute set. Please set `crossorigin` on the element (e.g., <img crossorigin="anonymous">)',T),R.crossOrigin="anonymous",P=R.cloneNode(!0),P)}function C(R){var P=R.indexOf("://")>-1?R.split("/")[2]:R.split("/")[0];return P.substring(0,P.indexOf(":"))}function _(R){var P=L(R),T=P.lastIndexOf(".");if(T>=0){var D=P.slice(T,R.search(/\?|#|$/));if(D===".glb")return"arraybuffer"}return"text"}l.exports.inferResponseType=_;function L(R){var P=document.createElement("a");P.href=R;var T=P.search.replace(/^\?/,""),D=R.replace(T,"").replace("?","");return D.substring(D.lastIndexOf("/")+1)}l.exports.getFileNameFromURL=L},"./src/core/a-cubemap.js":(l,u,c)=>{var d=c("./src/utils/debug.js"),h=d("core:cubemap:warn");class p extends HTMLElement{constructor(v){return v=super(v),v}onReadyStateChange(){document.readyState==="complete"&&this.doConnectedCallback()}connectedCallback(){if(document.readyState!=="complete"){document.addEventListener("readystatechange",this.onReadyStateChange.bind(this));return}p.prototype.doConnectedCallback.call(this)}doConnectedCallback(){this.srcs=this.validate()}validate(){var v=this.querySelectorAll("[src]"),y,A=[];if(v.length===6){for(y=0;y<v.length;y++)A.push(v[y].getAttribute("src"));return A}h("<a-cubemap> did not contain exactly six elements each with a `src` attribute.")}}customElements.define("a-cubemap",p)},"./src/core/a-entity.js":(l,u,c)=>{var d=c("./src/core/a-node.js").ANode,h=c("./src/core/component.js").components,p=c("./src/lib/three.js"),m=c("./src/utils/index.js"),v=m.debug("core:a-entity:debug"),y=m.debug("core:a-entity:warn"),A="__",b=["position","rotation","scale","visible"],g={once:!0};class w extends d{constructor(){super(),this.components={},this.initializingComponents={},this.componentsToUpdate={},this.isEntity=!0,this.isPlaying=!1,this.object3D=new p.Group,this.object3D.el=this,this.object3DMap={},this.parentEl=null,this.rotationObj={},this.states=[]}attributeChangedCallback(T,D,$){var V=this.components[T];if(super.attributeChangedCallback(),V&&V.justInitialized&&$===""){delete V.justInitialized;return}!V&&$===null||this.setEntityAttribute(T,D,$)}connectedCallback(){if(document.readyState!=="complete"){document.addEventListener("readystatechange",this.onReadyStateChange.bind(this));return}w.prototype.doConnectedCallback.call(this)}doConnectedCallback(){var T=this,D,$;if(super.connectedCallback(),$=this.sceneEl,this.addToParent(),!this.isScene){if(!$){this.load();return}if(D=$.querySelector("a-assets"),D&&!D.hasLoaded){D.addEventListener("loaded",function(){T.load()});return}this.load()}}disconnectedCallback(){var T;if(this.parentEl){for(T in this.components)this.removeComponent(T,!1);this.isScene||(this.removeFromParent(),super.disconnectedCallback(),this.object3D.el=null)}}getObject3D(T){return this.object3DMap[T]}setObject3D(T,D){var $,V=this;if(!(D instanceof p.Object3D))throw new Error("`Entity.setObject3D` was called with an object that was not an instance of THREE.Object3D.");$=this.getObject3D(T),$&&this.object3D.remove($),D.el=this,D.children.length&&D.traverse(function(O){O.el=V}),this.object3D.add(D),this.object3DMap[T]=D,this.emit("object3dset",{object:D,type:T})}removeObject3D(T){var D=this.getObject3D(T);if(!D){y("Tried to remove `Object3D` of type:",T,"which was not defined.");return}this.object3D.remove(D),delete this.object3DMap[T],this.emit("object3dremove",{type:T})}getOrCreateObject3D(T,D){var $=this.getObject3D(T);return!$&&D&&($=new D,this.setObject3D(T,$)),y("`getOrCreateObject3D` has been deprecated. Use `setObject3D()` and `object3dset` event instead."),$}add(T){if(!T.object3D)throw new Error("Trying to add an element that doesn't have an `object3D`");this.object3D.add(T.object3D),this.emit("child-attached",{el:T})}addToParent(){var T=this.parentEl=this.parentNode;!T||!T.add||this.attachedToParent||(T.add(this),this.attachedToParent=!0)}removeFromParent(){var T=this.parentEl;this.parentEl.remove(this),this.attachedToParent=!1,this.parentEl=null,T.emit("child-detached",{el:this})}load(){var T=this;this.hasLoaded||!this.parentEl||super.load.call(this,function(){T.parentEl&&(T.updateComponents(),(T.isScene||T.parentEl.isPlaying)&&T.play())})}remove(T){T?this.object3D.remove(T.object3D):this.parentNode.removeChild(this)}getChildEntities(){for(var T=this.children,D=[],$=0;$<T.length;$++){var V=T[$];V instanceof w&&D.push(V)}return D}initComponent(T,D,$){var V,B,O,F,k;if(O=m.split(T,A),F=O[0],B=O.length>2?O.slice(1).join("__"):O[1],!!h[F]&&(k=E(this,T)||D!==void 0,!(!k&&!$)&&!(T in this.components))){if(this.initComponentDependencies(F),B&&!h[F].multiple)throw new Error("Trying to initialize multiple components of type `"+F+"`. There can only be one component of this type per entity.");V=new h[F].Component(this,D,B),this.isPlaying&&V.play(),this.hasAttribute(T)||(V.justInitialized=!0,window.HTMLElement.prototype.setAttribute.call(this,T,"")),v("Component initialized: %s",T)}}initComponentDependencies(T){var D=this,$=h[T],V,B;if($&&(V=h[T].dependencies,!!V))for(B=0;B<V.length;B++)D.initComponent(V[B],window.HTMLElement.prototype.getAttribute.call(D,V[B])||void 0,!0)}removeComponent(T,D){var $;if($=this.components[T],!!$){if(!$.initialized){this.addEventListener("componentinitialized",function V(B){B.detail.name===T&&(this.removeComponent(T,D),this.removeEventListener("componentinitialized",V))});return}$.pause(),$.remove(),D&&($.destroy(),delete this.components[T]),this.emit("componentremoved",$.evtDetail,!1)}}updateComponents(){var T,D,$,V,B=this.componentsToUpdate;if(this.hasLoaded){for($=0;$<this.mixinEls.length;$++)for(V in this.mixinEls[$].componentCache)L(V)&&(B[V]=!0);if(this.getExtraComponents){D=this.getExtraComponents();for(V in D)L(V)&&(B[V]=!0)}for($=0;$<this.attributes.length;++$)V=this.attributes[$].name,b.indexOf(V)===-1&&L(V)&&(B[V]=!0);for($=0;$<b.length;$++)V=b[$],this.hasAttribute(V)&&this.updateComponent(V,this.getDOMAttribute(V));for(V in B)T=_(this.getDOMAttribute(V),D&&D[V]),this.updateComponent(V,T),delete B[V]}}updateComponent(T,D,$){var V=this.components[T];if(V){if(D===null&&!E(this,T)){this.removeComponent(T,!0);return}V.updateProperties(D,$);return}this.initComponent(T,D,!1)}removeAttribute(T,D){var $=this.components[T];if($&&D===void 0&&this.removeComponent(T,!0),$&&D!==void 0){$.resetProperty(D);return}T==="mixin"&&this.mixinUpdate(""),window.HTMLElement.prototype.removeAttribute.call(this,T)}play(){var T,D,$;if(!(this.isPlaying||!this.hasLoaded)){this.isPlaying=!0;for($ in this.components)this.components[$].play();for(T=this.getChildEntities(),D=0;D<T.length;D++)T[D].play();this.emit("play")}}pause(){var T,D,$;if(this.isPlaying){this.isPlaying=!1;for($ in this.components)this.components[$].pause();for(T=this.getChildEntities(),D=0;D<T.length;D++)T[D].pause();this.emit("pause")}}setEntityAttribute(T,D,$){if(h[T]||this.components[T]){this.updateComponent(T,$);return}if(T==="mixin"){if($===this.computedMixinStr)return;this.mixinUpdate($,D)}}mixinUpdate(T,D){var $=w.componentsUpdated,V,B,O,F,k=this;if(!this.hasLoaded){this.addEventListener("loaded",function(){k.mixinUpdate(T,D)},g);return}for(D=D||this.getAttribute("mixin"),O=this.updateMixins(T,D),$.length=0,F=0;F<this.mixinEls.length;F++)for(V in this.mixinEls[F].componentCache)$.indexOf(V)===-1&&(this.components[V]?this.components[V].handleMixinUpdate():this.initComponent(V,null),$.push(V));for(F=0;F<O.oldMixinIds.length;F++)if(B=document.getElementById(O.oldMixinIds[F]),!!B)for(V in B.componentCache)$.indexOf(V)===-1&&this.components[V]&&(this.getDOMAttribute(V)?this.components[V].handleMixinUpdate():this.removeComponent(V,!0))}setAttribute(T,D,$){var V=w.singlePropUpdate,B,O,F,k,z,G;if(k=T.indexOf(A),F=k>0?T.substring(0,k):T,!h[F]){T==="mixin"&&this.mixinUpdate(D),super.setAttribute.call(this,T,D);return}if(!this.components[T]&&this.hasAttribute(T)&&this.updateComponent(T,window.HTMLElement.prototype.getAttribute.call(this,T)),typeof $<"u"&&typeof D=="string"&&D.length>0&&typeof m.styleParser.parse(D)=="string"){for(G in V)delete V[G];B=V,B[D]=$,O=!1}else B=D,O=$===!0;this.updateComponent(T,B,O),z=this.sceneEl&&this.sceneEl.getAttribute("debug"),z&&this.components[T].flushToDOM()}flushToDOM(T){var D=this.components,$,V=this.children,B,O;for(O in D)D[O].flushToDOM();if(T)for(B=0;B<V.length;++B)$=V[B],$.flushToDOM&&$.flushToDOM(T)}getAttribute(T){var D;return T==="position"?this.object3D.position:T==="rotation"?R(this):T==="scale"?this.object3D.scale:T==="visible"?this.object3D.visible:(D=this.components[T],D?D.data:window.HTMLElement.prototype.getAttribute.call(this,T))}getDOMAttribute(T){var D=this.components[T];return D?D.attrValue:window.HTMLElement.prototype.getAttribute.call(this,T)}addState(T){this.is(T)||(this.states.push(T),this.emit("stateadded",T))}removeState(T){var D=this.states.indexOf(T);D!==-1&&(this.states.splice(D,1),this.emit("stateremoved",T))}is(T){return this.states.indexOf(T)!==-1}inspect(){this.sceneEl.components.inspector.openInspector(this)}destroy(){var T;if(this.parentNode){y("Entity can only be destroyed if detached from scenegraph.");return}for(T in this.components)this.components[T].destroy()}}function E(P,T){return P.components[T]&&P.components[T].attrValue?!0:C(T,P.mixinEls)}function C(P,T){var D,$=!1;for(D=0;D<T.length&&($=T[D].hasAttribute(P),!$);++D);return $}function _(P,T){return T?T.constructor===Object?m.extend(T,m.styleParser.parse(P||{})):P||T:P}function L(P){return P.indexOf(A)!==-1&&(P=m.split(P,A)[0]),!!h[P]}function R(P){var T=p.MathUtils.radToDeg,D=P.object3D.rotation,$=P.rotationObj;return $.x=T(D.x),$.y=T(D.y),$.z=T(D.z),$}w.componentsUpdated=[],w.singlePropUpdate={},customElements.define("a-entity",w),l.exports.AEntity=w},"./src/core/a-mixin.js":(l,u,c)=>{var d=c("./src/core/a-node.js").ANode,h=c("./src/core/component.js").components,p=c("./src/utils/index.js"),m="__";class v extends d{constructor(){super(),this.componentCache={},this.isMixin=!0}connectedCallback(){if(document.readyState!=="complete"){document.addEventListener("readystatechange",this.onReadyStateChange.bind(this));return}this.doConnectedCallback()}doConnectedCallback(){super.connectedCallback(),this.sceneEl=this.closestScene(),this.id=this.getAttribute("id"),this.cacheAttributes(),this.updateEntities(),this.load()}attributeChangedCallback(A,b,g){super.attributeChangedCallback(),this.cacheAttribute(A,g),this.updateEntities()}setAttribute(A,b){window.HTMLElement.prototype.setAttribute.call(this,A,b),this.cacheAttribute(A,b)}cacheAttribute(A,b){var g,w;w=p.split(A,m)[0],g=h[w],g&&(b===void 0&&(b=window.HTMLElement.prototype.getAttribute.call(this,A)),this.componentCache[A]=g.parseAttrValueForCache(b))}getAttribute(A){return this.componentCache[A]||window.HTMLElement.prototype.getAttribute.call(this,A)}cacheAttributes(){var A=this.attributes,b,g;for(g=0;g<A.length;g++)b=A[g].name,this.cacheAttribute(b)}updateEntities(){var A,b,g;if(this.sceneEl)for(b=this.sceneEl.querySelectorAll("[mixin~="+this.id+"]"),g=0;g<b.length;g++)A=b[g],!(!A.hasLoaded||A.isMixin)&&A.mixinUpdate(this.id)}}customElements.define("a-mixin",v)},"./src/core/a-node.js":(l,u,c)=>{var d=c("./src/utils/index.js"),h=d.debug("core:a-node:warn"),p={"a-scene":!0,"a-assets":!0,"a-assets-items":!0,"a-cubemap":!0,"a-mixin":!0,"a-node":!0,"a-entity":!0};function m(y){return y.tagName.toLowerCase()in p||y.isNode}class v extends HTMLElement{constructor(){super(),this.computedMixinStr="",this.hasLoaded=!1,this.isNode=!0,this.mixinEls=[]}onReadyStateChange(){document.readyState==="complete"&&this.doConnectedCallback()}connectedCallback(){if(document.readyState!=="complete"){document.addEventListener("readystatechange",this.onReadyStateChange.bind(this));return}v.prototype.doConnectedCallback.call(this)}doConnectedCallback(){var A;this.sceneEl=this.closestScene(),this.sceneEl||h("You are attempting to attach <"+this.tagName+"> outside of an A-Frame scene. Append this element to `<a-scene>` instead."),this.hasLoaded=!1,this.emit("nodeready",void 0,!1),this.isMixin||(A=this.getAttribute("mixin"),A&&this.updateMixins(A))}attributeChangedCallback(A,b,g){g!==this.computedMixinStr&&A==="mixin"&&!this.isMixin&&this.updateMixins(g,b)}closestScene(){for(var A=this;A&&!A.isScene;)A=A.parentElement;return A}closest(A){for(var b=this.matches||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.webkitMatchesSelector,g=this;g&&!b.call(g,A);)g=g.parentElement;return g}disconnectedCallback(){this.hasLoaded=!1}load(A,b){var g,w,E=this;this.hasLoaded||(b=b||m,g=this.getChildren(),w=g.filter(b).map(function(C){return new Promise(function(L,R){if(C.hasLoaded)return L();C.addEventListener("loaded",L),C.addEventListener("error",R)})}),Promise.allSettled(w).then(function(_){_.forEach(function(R){R.status==="rejected"&&h("Rendering scene with errors on node: ",R.reason.target)}),E.hasLoaded=!0,E.setupMutationObserver(),A&&A(),E.emit("loaded",void 0,!1)}))}setupMutationObserver(){var A=this,b={attributes:!0,attributeOldValue:!0},g=new MutationObserver(function(E){var C;for(C=0;C<E.length;C++)if(E[C].type==="attributes"){var _=E[C].attributeName,L=window.HTMLElement.prototype.getAttribute.call(A,_),R=E[C].oldValue;A.attributeChangedCallback(_,R,L)}});g.observe(this,b)}getChildren(){return Array.prototype.slice.call(this.children,0)}updateMixins(A,b){var g=v.newMixinIdArray,w=v.oldMixinIdArray,E=v.mixinIds,C,_,L;for(g.length=0,w.length=0,_=A?d.split(A.trim(),/\s+/):g,L=b?d.split(b.trim(),/\s+/):w,E.newMixinIds=_,E.oldMixinIds=L,C=0;C<L.length;C++)_.indexOf(L[C])===-1&&this.unregisterMixin(L[C]);for(this.computedMixinStr="",this.mixinEls.length=0,C=0;C<_.length;C++)this.registerMixin(document.getElementById(_[C]));return this.computedMixinStr&&(this.computedMixinStr=this.computedMixinStr.trim(),window.HTMLElement.prototype.setAttribute.call(this,"mixin",this.computedMixinStr)),E}registerMixin(A){var b,g,w;if(A){if(w=A.getAttribute("mixin"),w)for(b=d.split(w.trim(),/\s+/),g=0;g<b.length;g++)this.registerMixin(document.getElementById(b[g]));this.computedMixinStr=this.computedMixinStr+" "+A.id,this.mixinEls.push(A)}}setAttribute(A,b){A==="mixin"&&this.updateMixins(b),window.HTMLElement.prototype.setAttribute.call(this,A,b)}unregisterMixin(A){var b,g=this.mixinEls,w;for(b=0;b<g.length;++b)if(w=g[b],A===w.id){g.splice(b,1);break}}emit(A,b,g,w){var E=v.evtData;g===void 0&&(g=!0),E.bubbles=!!g,E.detail=b,w&&(E=d.extend({},w,E)),this.dispatchEvent(new CustomEvent(A,E))}}v.evtData={},v.newMixinIdArray=[],v.oldMixinIdArray=[],v.mixinIds={},customElements.define("a-node",v),l.exports.ANode=v,l.exports.knownTags=p},"./src/core/component.js":(l,u,c)=>{var d=c("./src/core/schema.js"),h=c("./src/core/scene/scenes.js"),p=c("./src/core/system.js"),m=c("./src/utils/index.js"),v=l.exports.components={},y=d.parseProperties,A=d.parseProperty,b=d.process,g=d.isSingleProperty,w=d.stringifyProperties,E=d.stringifyProperty,C=m.styleParser,_=m.debug("core:component:warn"),L=document.currentScript,R=new RegExp("[A-Z]+"),P={},T=l.exports.Component=function(j,Q,X){var J=this;this.el=j,this.id=X,this.attrName=this.name+(X?"__"+X:""),this.evtDetail={id:this.id,name:this.name},this.initialized=!1,this.el.components[this.attrName]=this,this.objectPool=P[this.name];var Z=this.events;this.events={},D(this,Z),this.attrValue=void 0,this.isObjectBased?(this.nextData=this.objectPool.use(),m.objectPool.removeUnusedKeys(this.nextData,this.schema),this.oldData=this.objectPool.use(),m.objectPool.removeUnusedKeys(this.oldData,this.schema),this.previousOldData=this.objectPool.use(),m.objectPool.removeUnusedKeys(this.previousOldData,this.schema),this.parsingAttrValue=this.objectPool.use(),m.objectPool.removeUnusedKeys(this.parsingAttrValue,this.schema)):(this.nextData=void 0,this.oldData=void 0,this.previousOldData=void 0,this.parsingAttrValue=void 0),this.throttledEmitComponentChanged=m.throttleLeadingAndTrailing(function(){j.emit("componentchanged",J.evtDetail,!1)},200),this.updateProperties(Q)};T.prototype={schema:{},init:function(){},events:{},update:function(j){},updateSchema:void 0,tick:void 0,tock:void 0,play:function(){},pause:function(){},remove:function(){},parse:function(j,Q){var X=this.schema;return this.isSingleProperty?A(j,X):y(C.parse(j),X,!0,this.name,Q)},stringify:function(j){var Q=this.schema;return typeof j=="string"?j:this.isSingleProperty?E(j,Q):(j=w(j,Q),C.stringify(j))},updateCachedAttrValue:function(j,Q){var X,J,Z;if(j!==void 0){if(j===null){this.isObjectBased&&this.attrValue&&this.objectPool.recycle(this.attrValue),this.attrValue=void 0;return}if(j instanceof Object&&!(j instanceof window.HTMLElement)?(J=this.objectPool.use(),X=m.extend(J,j)):X=this.parseAttrValueForCache(j),this.isObjectBased&&!Q&&this.attrValue)for(Z in this.attrValue)X[Z]===void 0&&(X[Z]=this.attrValue[Z]);this.isObjectBased&&!this.attrValue&&(this.attrValue=this.objectPool.use()),m.objectPool.clearObject(this.attrValue),this.attrValue=B(this.attrValue,X,this.isObjectBased),m.objectPool.clearObject(J)}},parseAttrValueForCache:function(j){var Q;return typeof j!="string"?j:(this.isSingleProperty?(Q=this.schema.parse(j),typeof Q=="string"&&(Q=j)):(m.objectPool.clearObject(this.parsingAttrValue),Q=C.parse(j,this.parsingAttrValue)),Q)},flushToDOM:function(j){var Q=j?this.data:this.attrValue;Q!=null&&window.HTMLElement.prototype.setAttribute.call(this.el,this.attrName,this.stringify(Q))},updateProperties:function(j,Q){var X=this.el;if(!X.hasLoaded){this.updateCachedAttrValue(j);return}j!==null&&(j=this.parseAttrValueForCache(j)),this.updateCachedAttrValue(j,Q),this.initialized?(this.updateComponent(j,Q),this.callUpdateHandler()):this.initComponent()},initComponent:function(){var j=this.el,Q;this.updateSchema&&this.updateSchema(this.buildData(this.attrValue,!1,!0)),this.data=this.buildData(this.attrValue),!j.initializingComponents[this.name]&&(j.initializingComponents[this.name]=!0,this.init(),this.initialized=!0,delete j.initializingComponents[this.name],this.oldData=B(this.oldData,this.data,this.isObjectBased),Q=this.isObjectBased?this.objectPool.use():void 0,this.update(Q),this.isObjectBased&&this.objectPool.recycle(Q),j.isPlaying&&this.play(),j.emit("componentinitialized",this.evtDetail,!1))},updateComponent:function(j,Q){var X,J;if(Q){this.updateSchema&&this.updateSchema(this.buildData(this.attrValue,!0,!0)),this.data=this.buildData(this.attrValue,!0,!1);return}if(this.isSingleProperty){this.isObjectBased&&A(j,this.schema),this.data=j;return}if(y(j,this.schema,!0,this.name),this.schemaChangeKeys.length){for(X in j)if(this.schema[X].schemaChange){J=!0;break}}if(J){this.updateSchema&&this.updateSchema(this.buildData(this.attrValue,!0,!0)),this.data=this.buildData(this.attrValue,!0,!1);return}for(X in j)j[X]!==void 0&&(this.data[X]=j[X])},callUpdateHandler:function(){var j;this.previousOldData instanceof Object&&m.objectPool.clearObject(this.previousOldData),this.isObjectBased?V(this.previousOldData,this.oldData):this.previousOldData=this.oldData,j=!m.deepEqual(this.oldData,this.data),!(!this.isPositionRotationScale&&!j)&&(this.oldData instanceof Object&&m.objectPool.clearObject(this.oldData),this.oldData=B(this.oldData,this.data,this.isObjectBased),this.update(this.previousOldData),this.throttledEmitComponentChanged())},handleMixinUpdate:function(){this.data=this.buildData(this.attrValue),this.callUpdateHandler()},resetProperty:function(j){if(this.isObjectBased){if(!(j in this.attrValue))return;delete this.attrValue[j],this.data[j]=this.schema[j].default}else this.attrValue=this.schema.default,this.data=this.schema.default;this.updateProperties(this.attrValue)},extendSchema:function(j){var Q;Q=m.extend({},v[this.name].schema),m.extend(Q,j),this.schema=b(Q),this.el.emit("schemachanged",this.evtDetail)},buildData:function(j,Q,X){var J,Z,oe,ue,Be,ge=this.nextData,Ie=this.schema,He,Ze=this.el.mixinEls,Xe;if(J=j&&j.constructor===Array?j.length:j!=null,this.isObjectBased&&m.objectPool.clearObject(ge),this.isSingleProperty)this.isObjectBased?Z=V(ge,Ie.default):Z=G(Ie.default)?m.clone(Ie.default):Ie.default;else{Xe=!Q&&this.attrValue,Z=Xe instanceof Object?V(ge,Xe):ge;for(ue in Ie)oe=Ie[ue].default,Z[ue]===void 0&&(Z[ue]=G(oe)?m.clone(oe):oe)}for(He=0;He<Ze.length;He++)Be=Ze[He].getAttribute(this.attrName),Be&&(Z=B(Z,Be,this.isObjectBased));if(J){if(this.isSingleProperty)return z(j)?(V(this.parsingAttrValue,j),A(this.parsingAttrValue,Ie)):A(j,Ie);Z=B(Z,j,this.isObjectBased)}else if(this.isSingleProperty)return A(Z,Ie);return y(Z,Ie,void 0,this.name,X)},eventsAttach:function(){var j;this.eventsDetach();for(j in this.events)this.el.addEventListener(j,this.events[j])},eventsDetach:function(){var j;for(j in this.events)this.el.removeEventListener(j,this.events[j])},destroy:function(){this.objectPool.recycle(this.attrValue),this.objectPool.recycle(this.oldData),this.objectPool.recycle(this.parsingAttrValue),this.attrValue=this.oldData=this.parsingAttrValue=void 0}};function D(j,Q){var X;for(X in Q)j.events[X]=Q[X].bind(j)}if(window.debug)var $=l.exports.registrationOrderWarnings={};l.exports.registerComponent=function(j,Q){var X,J,Z={},oe,ue,Be;if(document.currentScript&&document.currentScript!==L&&h.forEach(function(Ie){Ie.hasLoaded||document.currentScript.compareDocumentPosition(Ie)!==Node.DOCUMENT_POSITION_FOLLOWING&&(_("The component `"+j+"` was registered in a <script> tag after the scene. Component <script> tags in an HTML file should be declared *before* the scene such that the component is available to entities during scene initialization."),window.debug&&($[j]=!0))}),R.test(j)===!0&&_("The component name `"+j+"` contains uppercase characters, but HTML will ignore the capitalization of attribute names. Change the name to be lowercase: `"+j.toLowerCase()+"`"),j.indexOf("__")!==-1)throw new Error("The component name `"+j+"` is not allowed. The sequence __ (double underscore) is reserved to specify an id for multiple components of the same type");if(Object.keys(Q).forEach(function(ge){Z[ge]={value:Q[ge],writable:!0}}),v[j])throw new Error("The component `"+j+"` has been already registered. Check that you are not loading two versions of the same component or two different components of the same name.");if(X=function(ge,Ie,He){T.call(this,ge,Ie,He)},X.prototype=Object.create(T.prototype,Z),X.prototype.name=j,X.prototype.isPositionRotationScale=j==="position"||j==="rotation"||j==="scale",X.prototype.constructor=X,X.prototype.system=p&&p.systems[j],X.prototype.play=k(X.prototype.play),X.prototype.pause=F(X.prototype.pause),oe=m.extend(b(X.prototype.schema,X.prototype.name)),X.prototype.isSingleProperty=ue=g(X.prototype.schema),X.prototype.isSinglePropertyObject=Be=ue&&z(A(void 0,oe))&&!(oe.default instanceof window.HTMLElement),X.prototype.isObjectBased=!ue||Be,!ue){X.prototype.schemaChangeKeys=[];for(J in oe)oe[J].schemaChange&&X.prototype.schemaChangeKeys.push(J)}return P[j]=m.objectPool.createPool(),v[j]={Component:X,dependencies:X.prototype.dependencies,isSingleProperty:X.prototype.isSingleProperty,isSinglePropertyObject:X.prototype.isSinglePropertyObject,isObjectBased:X.prototype.isObjectBased,multiple:X.prototype.multiple,name:j,parse:X.prototype.parse,parseAttrValueForCache:X.prototype.parseAttrValueForCache,schema:oe,stringify:X.prototype.stringify,type:X.prototype.type},X};function V(j,Q){var X,J;for(J in Q)Q[J]!==void 0&&(X=Q[J],j[J]=G(X)?m.clone(X):X);return j}function B(j,Q,X){var J;if(X&&Q.constructor===Object){for(J in Q)Q[J]!==void 0&&(Q[J]&&Q[J].constructor===Object?j[J]=m.clone(Q[J]):j[J]=Q[J]);return j}return Q}function O(j){return j.tick||j.tock}function F(j){return function(){var X=this.el.sceneEl;this.isPlaying&&(j.call(this),this.isPlaying=!1,this.eventsDetach(),O(this)&&X.removeBehavior(this))}}function k(j){return function(){var X=this.el.sceneEl,J=this.el.isPlaying&&!this.isPlaying;!this.initialized||!J||(j.call(this),this.isPlaying=!0,this.eventsAttach(),O(this)&&X.addBehavior(this))}}function z(j){return j&&j.constructor===Object&&!(j instanceof window.HTMLElement)}function G(j){return j&&(j.constructor===Object||j.constructor===Array)&&!(j instanceof window.HTMLElement)}},"./src/core/geometry.js":(l,u,c)=>{var d=c("./src/core/schema.js"),h=d.process,p=l.exports.geometries={},m=l.exports.geometryNames=[],v=c("./src/lib/three.js"),y=l.exports.Geometry=function(){};y.prototype={schema:{},init:function(A){return this.geometry=new v.BufferGeometry,this.geometry},update:function(A){}},l.exports.registerGeometry=function(A,b){var g,w={};if(Object.keys(b).forEach(function(C){w[C]={value:b[C],writable:!0}}),p[A])throw new Error("The geometry `"+A+"` has been already registered");return g=function(){y.call(this)},g.prototype=Object.create(y.prototype,w),g.prototype.name=A,g.prototype.constructor=g,p[A]={Geometry:g,schema:h(g.prototype.schema)},m.push(A),g}},"./src/core/propertyTypes.js":(l,u,c)=>{var d=c("./src/utils/coordinates.js"),h=c("./node_modules/debug/browser.js"),p=h("core:propertyTypes:warn"),m=h("core:propertyTypes:warn"),v=l.exports.propertyTypes={},y=/[,> .[\]:]/,A=/\url\((.+)\)/;b("audio","",E),b("array",[],g,w),b("asset","",E),b("boolean",!1,L),b("color","#FFF",C,_),b("int",0,R),b("number",0,P),b("map","",E),b("model","",E),b("selector",null,T,$),b("selectorAll",null,D,V),b("src","",B),b("string","",C,_),b("time",0,R),b("vec2",{x:0,y:0},O,d.stringify),b("vec3",{x:0,y:0,z:0},O,d.stringify),b("vec4",{x:0,y:0,z:0,w:1},O,d.stringify);function b(z,G,j,Q){if("type"in v){p("Property type "+z+" is already registered.");return}v[z]={default:G,parse:j||C,stringify:Q||_}}l.exports.registerPropertyType=b;function g(z){if(Array.isArray(z))return z;if(!z||typeof z!="string")return[];return z.split(",").map(G);function G(j){return j.trim()}}function w(z){return z.join(", ")}function E(z){var G,j;if(typeof z!="string")return z;if(j=z.match(A),j)return j[1];if(z.charAt(0)==="#"){if(G=document.getElementById(z.substring(1)),G)return G.tagName==="CANVAS"||G.tagName==="VIDEO"||G.tagName==="IMG"?G:G.getAttribute("src");m('"'+z+'" asset not found.');return}return z}function C(z){return z}function _(z){return z===null?"null":z.toString()}function L(z){return z!=="false"&&z!==!1}function R(z){return parseInt(z,10)}function P(z){return parseFloat(z,10)}function T(z){return z?typeof z!="string"?z:z[0]==="#"&&!y.test(z)?document.getElementById(z.substring(1)):document.querySelector(z):null}function D(z){return z?typeof z!="string"?z:Array.prototype.slice.call(document.querySelectorAll(z),0):null}function $(z){return z.getAttribute?"#"+z.getAttribute("id"):_(z)}function V(z){return z instanceof Array?z.map(function(G){return"#"+G.getAttribute("id")}).join(", "):_(z)}function B(z){return m("`src` property type is deprecated. Use `asset` instead."),E(z)}function O(z){return d.parse(z,this.default)}function F(z,G){return z==="audio"&&typeof G!="string"||z==="array"&&!Array.isArray(G)||z==="asset"&&typeof G!="string"||z==="boolean"&&typeof G!="boolean"||z==="color"&&typeof G!="string"||z==="int"&&typeof G!="number"||z==="number"&&typeof G!="number"||z==="map"&&typeof G!="string"||z==="model"&&typeof G!="string"||z==="selector"&&typeof G!="string"&&G!==null||z==="selectorAll"&&typeof G!="string"&&G!==null||z==="src"&&typeof G!="string"||z==="string"&&typeof G!="string"||z==="time"&&typeof G!="number"?!1:z==="vec2"?k(G,2):z==="vec3"?k(G,3):z==="vec4"?k(G,4):!0}l.exports.isValidDefaultValue=F;function k(z,G){if(z===null)return!0;if(typeof z!="object"||Object.keys(z).length!==G)return!1;var j=z.x,Q=z.y,X=z.z,J=z.w;return!(typeof j!="number"||typeof Q!="number"||G>2&&typeof X!="number"||G>3&&typeof J!="number")}l.exports.isValidDefaultCoordinate=k},"./src/core/scene/a-scene.js":(l,u,c)=>{var d=c("./src/core/scene/metaTags.js").inject,h=c("./src/core/scene/wakelock.js"),p=c("./src/core/scene/loadingScreen.js"),m=c("./src/core/scene/scenes.js"),v=c("./src/core/system.js").systems,y=c("./src/lib/three.js"),A=c("./src/utils/index.js"),b=c("./src/core/a-entity.js").AEntity,g=c("./src/core/a-node.js").ANode,w=c("./src/core/scene/postMessage.js"),E=A.bind,C=A.device.isIOS(),_=A.device.isMobile(),L=A.device.isWebXRAvailable,R=A.debug("core:a-scene:warn");C&&c("./src/utils/ios-orientationchange-blank-bug.js");class P extends b{constructor(){var k;super(),k=this,k.clock=new y.Clock,k.isIOS=C,k.isMobile=_,k.hasWebXR=L,k.isAR=!1,k.isScene=!0,k.object3D=new y.Scene,k.object3D.onAfterRender=function(z,G,j){k.isPlaying&&k.tock(k.time,k.delta,j)},k.resize=E(k.resize,k),k.render=E(k.render,k),k.systems={},k.systemNames=[],k.time=k.delta=0,k.behaviors={tick:[],tock:[]},k.hasLoaded=!1,k.isPlaying=!1,k.originalHTML=k.innerHTML}addFullScreenStyles(){document.documentElement.classList.add("a-fullscreen")}removeFullScreenStyles(){document.documentElement.classList.remove("a-fullscreen")}connectedCallback(){if(document.readyState!=="complete"){document.addEventListener("readystatechange",this.onReadyStateChange.bind(this));return}this.doConnectedCallback()}doConnectedCallback(){var k=this,z=this.hasAttribute("embedded");this.setAttribute("inspector",""),this.setAttribute("keyboard-shortcuts",""),this.setAttribute("screenshot",""),this.setAttribute("vr-mode-ui",""),this.setAttribute("device-orientation-permission-ui",""),super.connectedCallback(),O(this),this.setupRenderer(),p.setup(this,D),this.resize(),z||this.addFullScreenStyles(),w(this),d(this),h(this),this.onVRPresentChangeBound=E(this.onVRPresentChange,this),window.addEventListener("vrdisplaypresentchange",this.onVRPresentChangeBound),this.enterVRBound=function(){k.enterVR()},this.exitVRBound=function(){k.exitVR()},this.exitVRTrueBound=function(){k.exitVR(!0)},this.pointerRestrictedBound=function(){k.pointerRestricted()},this.pointerUnrestrictedBound=function(){k.pointerUnrestricted()},k.hasWebXR||(window.addEventListener("vrdisplaydeactivate",this.exitVRBound),window.addEventListener("vrdisplaydisconnect",this.exitVRTrueBound),window.addEventListener("vrdisplaypointerrestricted",this.pointerRestrictedBound),window.addEventListener("vrdisplaypointerunrestricted",this.pointerUnrestrictedBound)),window.addEventListener("sessionend",this.resize),this.addEventListener("cameraready",function(){k.attachedCallbackPostCamera()}),this.initSystems(),this.hasWebXR&&navigator.xr&&navigator.xr.addEventListener&&navigator.xr.addEventListener("sessiongranted",function(){k.enterVR()})}attachedCallbackPostCamera(){var k,z=this;window.addEventListener("load",k),window.addEventListener("resize",function(){z.isIOS?setTimeout(z.resize,100):z.resize()}),this.play(),m.push(this)}initSystems(){var k;this.initSystem("camera");for(k in v)k!=="camera"&&this.initSystem(k)}initSystem(k){this.systems[k]||(this.systems[k]=new v[k](this),this.systemNames.push(k))}disconnectedCallback(){var k=m.indexOf(this);super.disconnectedCallback(),m.splice(k,1),window.removeEventListener("vrdisplaypresentchange",this.onVRPresentChangeBound),window.removeEventListener("vrdisplayactivate",this.enterVRBound),window.removeEventListener("vrdisplaydeactivate",this.exitVRBound),window.removeEventListener("vrdisplayconnect",this.enterVRBound),window.removeEventListener("vrdisplaydisconnect",this.exitVRTrueBound),window.removeEventListener("vrdisplaypointerrestricted",this.pointerRestrictedBound),window.removeEventListener("vrdisplaypointerunrestricted",this.pointerUnrestrictedBound),window.removeEventListener("sessionend",this.resize),this.renderer.dispose()}addBehavior(k){var z,G=this.behaviors,j;for(j in G)k[j]&&(z=this.behaviors[j],z.indexOf(k)===-1&&z.push(k))}getPointerLockElement(){return document.pointerLockElement}checkHeadsetConnected(){return A.device.checkHeadsetConnected()}enterAR(){var k;if(!this.hasWebXR)throw k="Failed to enter AR mode, WebXR not supported.",new Error(k);if(!A.device.checkARSupport())throw k="Failed to enter AR, WebXR immersive-ar mode not supported in your browser or device.",new Error(k);return this.enterVR(!0)}enterVR(k){var z=this,G,j=z.renderer.xr,Q;if(this.is("vr-mode"))return Promise.resolve("Already in VR.");if(this.checkHeadsetConnected()||this.isMobile){var X=z.getAttribute("renderer");if(j.enabled=!0,this.hasWebXR){this.xrSession&&this.xrSession.removeEventListener("end",this.exitVRBound);var J=this.sceneEl.systems.webxr.sessionReferenceSpaceType;j.setReferenceSpaceType(J);var Z=k?"immersive-ar":"immersive-vr";return Q=this.sceneEl.systems.webxr.sessionConfiguration,new Promise(function(ge,Ie){navigator.xr.requestSession(Z,Q).then(function(Ze){z.xrSession=Ze,j.layersEnabled=Q.requiredFeatures.indexOf("layers")!==-1,j.setSession(Ze).then(function(){j.setFoveation(X.foveationLevel)}),z.systems.renderer.setWebXRFrameRate(Ze),Ze.addEventListener("end",z.exitVRBound),ue(ge)},function(Ze){var Xe=Z==="immersive-ar",ke=Xe?"AR":"VR";throw new Error("Failed to enter "+ke+" mode (`requestSession`) "+Ze)})})}else{if(G=A.device.getVRDisplay(),j.setDevice(G),G.isPresenting&&!window.hasNativeWebVRImplementation)return ue(),Promise.resolve();var oe={highRefreshRate:X.highRefreshRate};return G.requestPresent([{source:this.canvas,attributes:oe}]).then(ue,Be)}}return ue(),Promise.resolve();function ue(ge){var Ie;window.hasNativeWebVRImplementation&&!window.hasNativeWebXRImplementation&&(Ie=new CustomEvent("vrdisplaypresentchange",{detail:{display:A.device.getVRDisplay()}}),window.dispatchEvent(Ie)),k?z.addState("ar-mode"):z.addState("vr-mode"),z.emit("enter-vr",{target:z}),!z.hasWebXR&&z.isMobile&&screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape"),z.addFullScreenStyles(),!z.isMobile&&!z.checkHeadsetConnected()&&V(z.canvas),z.resize(),ge&&ge()}function Be(ge){throw z.removeState("vr-mode"),ge&&ge.message?new Error("Failed to enter VR mode (`requestPresent`): "+ge.message):new Error("Failed to enter VR mode (`requestPresent`).")}}exitVR(){var k=this,z,G=this.renderer.xr;if(!this.is("vr-mode")&&!this.is("ar-mode"))return Promise.resolve("Not in immersive mode.");if(this.checkHeadsetConnected()||this.isMobile){if(G.enabled=!1,z=A.device.getVRDisplay(),this.hasWebXR)this.xrSession.removeEventListener("end",this.exitVRBound),this.xrSession.end().then(function(){},function(){}),this.xrSession=void 0;else if(z.isPresenting)return z.exitPresent().then(j,Q)}else B();return j(),Promise.resolve();function j(){k.removeState("vr-mode"),k.removeState("ar-mode"),k.isMobile&&screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),k.hasAttribute("embedded")&&k.removeFullScreenStyles(),k.resize(),k.isIOS&&A.forceCanvasResizeSafariMobile(k.canvas),k.renderer.setPixelRatio(window.devicePixelRatio),k.emit("exit-vr",{target:k})}function Q(X){throw X&&X.message?new Error("Failed to exit VR mode (`exitPresent`): "+X.message):new Error("Failed to exit VR mode (`exitPresent`).")}}pointerRestricted(){if(this.canvas){var k=this.getPointerLockElement();k&&k!==this.canvas&&document.exitPointerLock&&document.exitPointerLock(),this.canvas.requestPointerLock&&this.canvas.requestPointerLock()}}pointerUnrestricted(){var k=this.getPointerLockElement();k&&k===this.canvas&&document.exitPointerLock&&document.exitPointerLock()}onVRPresentChange(k){var z=k.display||k.detail.display;if(z&&z.isPresenting){this.enterVR();return}this.exitVR()}getAttribute(k){var z=this.systems[k];return z?z.data:b.prototype.getAttribute.call(this,k)}getComputedAttribut(k){R("`getComputedAttribute` is deprecated. Use `getAttribute` instead."),this.getAttribute(k)}getDOMAttribute(k){var z=this.systems[k];return z?z.data:b.prototype.getDOMAttribute.call(this,k)}setAttribute(k,z,G){var j=this.systems[k];if(j){g.prototype.setAttribute.call(this,k,z),j.updateProperties(z);return}b.prototype.setAttribute.call(this,k,z,G)}removeBehavior(k){var z,G,j=this.behaviors,Q;for(G in j)k[G]&&(z=this.behaviors[G],Q=z.indexOf(k),Q!==-1&&z.splice(Q,1))}resize(){var k=this.camera,z=this.canvas,G,j,Q,X=this.renderer.xr.isPresenting;j=this.renderer.xr.enabled&&X,!(!k||!z||this.is("vr-mode")&&(this.isMobile||j))&&(G=this.getAttribute("embedded")&&!this.is("vr-mode"),Q=D(z,G,this.maxCanvasSize,this.is("vr-mode")),k.aspect=Q.width/Q.height,k.updateProjectionMatrix(),this.renderer.setSize(Q.width,Q.height,!1),this.emit("rendererresize",null,!1))}setupRenderer(){var k=this,z,G,j,Q;Q={alpha:!0,antialias:!_,canvas:this.canvas,logarithmicDepthBuffer:!1,powerPreference:"high-performance"},this.maxCanvasSize={height:1920,width:1920},this.hasAttribute("renderer")&&(j=this.getAttribute("renderer"),G=A.styleParser.parse(j),G.precision&&(Q.precision=G.precision+"p"),G.antialias&&G.antialias!=="auto"&&(Q.antialias=G.antialias==="true"),G.logarithmicDepthBuffer&&G.logarithmicDepthBuffer!=="auto"&&(Q.logarithmicDepthBuffer=G.logarithmicDepthBuffer==="true"),G.alpha&&(Q.alpha=G.alpha==="true"),this.maxCanvasSize={width:G.maxCanvasWidth?parseInt(G.maxCanvasWidth):this.maxCanvasSize.width,height:G.maxCanvasHeight?parseInt(G.maxCanvasHeight):this.maxCanvasSize.height}),z=this.renderer=new y.WebGLRenderer(Q),z.setPixelRatio(window.devicePixelRatio),z.sortObjects=!1,this.camera&&z.xr.setPoseTarget(this.camera.el.object3D),this.addEventListener("camera-set-active",function(){z.xr.setPoseTarget(k.camera.el.object3D)})}play(){var k=this,z=this;if(this.renderStarted){b.prototype.play.call(this);return}this.addEventListener("loaded",function(){var G=this.renderer,j,Q=this.renderer.xr;b.prototype.play.call(this),!z.renderStarted&&(z.resize(),z.renderer&&(window.performance&&window.performance.mark("render-started"),p.remove(),j=A.device.getVRDisplay(),j&&j.isPresenting&&(Q.setDevice(j),Q.enabled=!0,z.enterVR()),G.setAnimationLoop(this.render),z.renderStarted=!0,z.emit("renderstart")))}),setTimeout(function(){b.prototype.load.call(k)})}updateComponent(k){k in v||b.prototype.updateComponent.apply(this,arguments)}tick(k,z){var G,j=this.systems;for(G=0;G<this.behaviors.tick.length;G++)this.behaviors.tick[G].el.isPlaying&&this.behaviors.tick[G].tick(k,z);for(G=0;G<this.systemNames.length;G++)j[this.systemNames[G]].tick&&j[this.systemNames[G]].tick(k,z)}tock(k,z,G){var j,Q=this.systems;for(j=0;j<this.behaviors.tock.length;j++)this.behaviors.tock[j].el.isPlaying&&this.behaviors.tock[j].tock(k,z,G);for(j=0;j<this.systemNames.length;j++)Q[this.systemNames[j]].tock&&Q[this.systemNames[j]].tock(k,z,G)}render(k,z){var G=this.renderer;this.frame=z,this.delta=this.clock.getDelta()*1e3,this.time=this.clock.elapsedTime*1e3,this.isPlaying&&this.tick(this.time,this.delta);var j=null;this.is("ar-mode")&&(j=this.object3D.background,this.object3D.background=null),G.render(this.object3D,this.camera),j&&(this.object3D.background=j)}}function T(F,k){var z,G=window.devicePixelRatio;return!k||k.width===-1&&k.height===-1||F.width*G<k.width&&F.height*G<k.height||(z=F.width/F.height,F.width*G>k.width&&k.width!==-1&&(F.width=Math.round(k.width/G),F.height=Math.round(k.width/z/G)),F.height*G>k.height&&k.height!==-1&&(F.height=Math.round(k.height/G),F.width=Math.round(k.height*z/G))),F}window.customElements.define("a-scene",P);function D(F,k,z,G){if(!F.parentElement)return{height:0,width:0};if(k){var j;return j={height:F.parentElement.offsetHeight,width:F.parentElement.offsetWidth},T(j,z)}return $(z,G)}function $(F,k){var z;return z={height:document.body.offsetHeight,width:document.body.offsetWidth},k?z:T(z,F)}function V(F){var k=F.requestFullscreen||F.webkitRequestFullscreen||F.mozRequestFullScreen||F.msRequestFullscreen;k.apply(F,[{navigationUI:"hide"}])}function B(){var F=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement;F&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())}function O(F){var k;k=document.createElement("canvas"),k.classList.add("a-canvas"),k.dataset.aframeCanvas=!0,F.appendChild(k),document.addEventListener("fullscreenchange",z),document.addEventListener("mozfullscreenchange",z),document.addEventListener("webkitfullscreenchange",z),document.addEventListener("MSFullscreenChange",z),k.addEventListener("touchmove",function(G){G.preventDefault()}),F.canvas=k,F.emit("render-target-loaded",{target:k}),setTimeout(E(F.resize,F),0);function z(){var G=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;G||F.exitVR(),document.activeElement.blur(),document.body.focus()}}l.exports.setupCanvas=O,l.exports.AScene=P},"./src/core/scene/loadingScreen.js":(l,u,c)=>{var d=c("./src/utils/index.js"),h=d.styleParser,p,m,v,y="loading-screen",A="a-loader-title";l.exports.setup=function(E,C){p=E,v=C;var _=p.hasAttribute(y)?h.parse(p.getAttribute(y)):void 0,L=_&&_.dotsColor||"white",R=_&&_.backgroundColor||"#24CAFF",P=_===void 0||_.enabled==="true"||_.enabled===void 0,T,D,$,V,B,O,F,k,z,G;P&&(T=new THREE.Scene,D=new THREE.SphereGeometry(.2,36,18,0,2*Math.PI,0,Math.PI),$=new THREE.MeshBasicMaterial({color:L}),V=new THREE.Mesh(D,$),B=V.clone(),O=V.clone(),F=new THREE.PerspectiveCamera(80,window.innerWidth/window.innerHeight,5e-4,1e4),k=new THREE.Clock,z=0,G=function(){p.renderer.render(T,F),z=k.getElapsedTime()%4,V.visible=z>=1,B.visible=z>=2,O.visible=z>=3},T.background=new THREE.Color(R),T.add(F),V.position.set(-1,0,-15),B.position.set(0,0,-15),O.position.set(1,0,-15),F.add(V),F.add(B),F.add(O),g(),setTimeout(function(){p.hasLoaded||(b(F),m.style.display="block",window.addEventListener("resize",function(){b(F)}),p.renderer.setAnimationLoop(G))},200))},l.exports.remove=function(){window.removeEventListener("resize",b),m&&(m.style.display="none")};function b(w){var E=p.hasAttribute("embedded"),C=v(p.canvas,E,p.maxCanvasSize,p.is("vr-mode"));w.aspect=C.width/C.height,w.updateProjectionMatrix(),p.renderer.setSize(C.width,C.height,!1)}function g(){m=document.createElement("div"),m.className=A,m.innerHTML=document.title,m.style.display="none",p.appendChild(m)}},"./src/core/scene/metaTags.js":(l,u,c)=>{var d=c("./src/constants/index.js"),h=c("./src/utils/index.js").extend,p=l.exports.MOBILE_HEAD_TAGS=[v({name:"viewport",content:"width=device-width,initial-scale=1,maximum-scale=1,shrink-to-fit=no,user-scalable=no,minimal-ui,viewport-fit=cover"}),v({name:"mobile-web-app-capable",content:"yes"}),v({name:"theme-color",content:"black"})],m=[v({name:"apple-mobile-web-app-capable",content:"yes"}),v({name:"apple-mobile-web-app-status-bar-style",content:"black"}),y({rel:"apple-touch-icon",href:"https://aframe.io/images/aframe-logo-152.png"})];function v(b){return{tagName:"meta",attributes:b,exists:function(){return document.querySelector('meta[name="'+b.name+'"]')}}}function y(b){return{tagName:"link",attributes:b,exists:function(){return document.querySelector('link[rel="'+b.rel+'"]')}}}l.exports.inject=function(g){var w=document.head,E=w.querySelector("script"),C,_=[];return p.forEach(L),g.isIOS&&m.forEach(L),_;function L(R){!R||R.exists()||(C=A(R),C&&(E?E.parentNode.insertBefore(C,E):w.appendChild(C),_.push(C)))}};function A(b){if(!(!b||!b.tagName)){var g=document.createElement(b.tagName);return g.setAttribute(d.AFRAME_INJECTED,""),h(g,b.attributes)}}},"./src/core/scene/postMessage.js":(l,u,c)=>{var d=c("./src/utils/bind.js"),h=c("./src/utils/index.js").isIframed;l.exports=function(v){h()&&window.addEventListener("message",d(p,v))};function p(m){var v=this;if(m.data)switch(m.data.type){case"vr":switch(m.data.data){case"enter":v.enterVR();break;case"exit":v.exitVR();break}}}},"./src/core/scene/scenes.js":l=>{l.exports=[]},"./src/core/scene/wakelock.js":(l,u,c)=>{var d=c("./vendor/wakelock/wakelock.js");l.exports=function(p){if(p.isMobile){var m=p.wakelock=new d;p.addEventListener("enter-vr",function(){m.request()}),p.addEventListener("exit-vr",function(){m.release()})}}},"./src/core/schema.js":(l,u,c)=>{var d=c("./src/utils/index.js"),h=c("./src/core/propertyTypes.js"),p=d.debug,m=h.isValidDefaultValue,v=h.propertyTypes,y=p("core:schema:warn");function A(E){return"type"in E?typeof E.type=="string":"default"in E}l.exports.isSingleProperty=A,l.exports.process=function(E,C){var _;if(A(E))return b(E,C);for(_ in E)E[_]=b(E[_],C);return E};function b(E,C){var _=E.default,L,R,P=E.type;return E.type?E.type==="bool"?P="boolean":E.type==="float"&&(P="number"):_!==void 0&&(typeof _=="boolean"||typeof _=="number")?P=typeof _:Array.isArray(_)?P="array":P="string",R=v[P],R||y("Unknown property type for component `"+C+"`: "+P),L=!!E.parse,E.parse=E.parse||R.parse,E.stringify=E.stringify||R.stringify,E.type=P,"default"in E?!L&&!m(P,_)&&y("Default value `"+_+"` does not match type `"+P+"` in component `"+C+"`"):E.default=R.default,E}l.exports.processPropertyDefinition=b,l.exports.parseProperties=function(){var E=[];return function(C,_,L,R,P){var T,D,$,V;E.length=0;for(D in L?C:_)L&&C[D]===void 0||E.push(D);if(C===null||typeof C!="object")return C;for(D in C)C[D]!==void 0&&!_[D]&&!P&&y("Unknown property `"+D+"` for component/system `"+R+"`.");for(T=0;T<E.length;T++){if(D=E[T],$=_[D],V=C[D],!_[D])return;C[D]=g(V,$)}return C}}();function g(E,C){return(E==null||E==="")&&(E=C.default,Array.isArray(E)&&(E=E.slice())),C.parse(E,C.default)}l.exports.parseProperty=g,l.exports.stringifyProperties=function(E,C){var _,L,R,P={},T;for(_ in E)L=C[_],R=E[_],T=R,typeof T=="object"&&(T=w(R,L),L||y("Unknown component property: "+_)),P[_]=T;return P};function w(E,C){return typeof E!="object"?E:!C||E===null?JSON.stringify(E):C.stringify(E)}l.exports.stringifyProperty=w},"./src/core/shader.js":(l,u,c)=>{var d=c("./src/core/schema.js"),h=d.process,p=l.exports.shaders={},m=l.exports.shaderNames=[],v=c("./src/lib/three.js"),y=c("./src/utils/index.js"),A={array:"v3",color:"v3",int:"i",number:"f",map:"t",time:"f",vec2:"v2",vec3:"v3",vec4:"v4"},b=l.exports.Shader=function(){};b.prototype={schema:{},vertexShader:"void main() {gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);}",fragmentShader:"void main() {gl_FragColor = vec4(1.0, 0.0, 1.0, 1.0);}",init:function(g){return this.attributes=this.initVariables(g,"attribute"),this.uniforms=this.initVariables(g,"uniform"),this.material=new(this.raw?v.RawShaderMaterial:v.ShaderMaterial)({uniforms:this.uniforms,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader}),this.material},initVariables:function(g,w){var E,C=this.schema,_={},L;for(E in C)C[E].is===w&&(L=A[C[E].type],_[E]={type:L,value:void 0});return _},update:function(g){this.updateVariables(g,"attribute"),this.updateVariables(g,"uniform")},updateVariables:function(g,w){var E,C,_=this.schema,L;L=w==="uniform"?this.uniforms:this.attributes;for(E in g)if(!(!_[E]||_[E].is!==w)){if(_[E].type==="map"){if(!L[E]||L[E].value===g[E])continue;C="_texture_"+E,this.setMapOnTextureLoad(L,E,C),y.material.updateMapMaterialFromData(C,E,this,g);continue}L[E].value=this.parseValue(_[E].type,g[E]),L[E].needsUpdate=!0}},parseValue:function(g,w){var E;switch(g){case"vec2":return new v.Vector2(w.x,w.y);case"vec3":return new v.Vector3(w.x,w.y,w.z);case"vec4":return new v.Vector4(w.x,w.y,w.z,w.w);case"color":return E=new v.Color(w),new v.Vector3(E.r,E.g,E.b);case"map":return v.ImageUtils.loadTexture(w);default:return w}},setMapOnTextureLoad:function(g,w,E){var C=this;this.el.addEventListener("materialtextureloaded",function(){g[w].value=C.material[E],g[w].needsUpdate=!0})}},l.exports.registerShader=function(g,w){var E,C={};if(Object.keys(w).forEach(function(_){C[_]={value:w[_],writable:!0}}),p[g])throw new Error("The shader "+g+" has been already registered");return E=function(){b.call(this)},E.prototype=Object.create(b.prototype,C),E.prototype.name=g,E.prototype.constructor=E,p[g]={Shader:E,schema:h(E.prototype.schema)},m.push(g),E}},"./src/core/system.js":(l,u,c)=>{var d=c("./src/core/component.js"),h=c("./src/core/schema.js"),p=c("./src/utils/index.js"),m=h.parseProperties,v=h.parseProperty,y=h.process,A=h.isSingleProperty,b=p.styleParser,g=l.exports.systems={},w=l.exports.System=function(E){var C=d&&d.components[this.name];this.el=E,this.sceneEl=E,C&&(C.Component.prototype.system=this),this.buildData(),this.init(),this.update({})};w.prototype={schema:{},init:function(){},update:function(E){},updateProperties:function(E){var C=this.data;Object.keys(h).length&&(this.buildData(E),this.update(C))},buildData:function(E){var C=this.schema;Object.keys(C).length&&(E=E||window.HTMLElement.prototype.getAttribute.call(this.sceneEl,this.name),A(C)?this.data=v(E,C):this.data=m(b.parse(E)||{},C))},tick:void 0,tock:void 0,play:function(){},pause:function(){}},l.exports.registerSystem=function(E,C){var _,L,R={},P=p.findAllScenes(document);if(Object.keys(C).forEach(function(T){R[T]={value:C[T],writable:!0}}),g[E])throw new Error("The system `"+E+"` has been already registered. Check that you are not loading two versions of the same system or two different systems of the same name.");for(L=function(T){w.call(this,T)},L.prototype=Object.create(w.prototype,R),L.prototype.name=E,L.prototype.constructor=L,L.prototype.schema=p.extend(y(L.prototype.schema)),g[E]=L,_=0;_<P.length;_++)P[_].initSystem(E)}},"./src/extras/components/index.js":(l,u,c)=>{c("./src/extras/components/pivot.js")},"./src/extras/components/pivot.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/lib/three.js"),p=new h.Vector3,m=new h.Vector3;d("pivot",{dependencies:["position"],schema:{type:"vec3"},init:function(){var v=this.data,y=this.el,A=y.object3D.parent,b=y.object3D,g=new h.Group;p.copy(b.position),m.copy(b.rotation),A.remove(b),g.add(b),A.add(g),y.object3D=g,b.position.set(-1*v.x,-1*v.y,-1*v.z),g.position.set(v.x+p.x,v.y+p.y,v.z+p.z),g.rotation.copy(b.rotation),b.rotation.set(0,0,0)}})},"./src/extras/primitives/getMeshMixin.js":(l,u,c)=>{var d=c("./src/core/component.js").components,h=c("./src/core/shader.js").shaders,p=c("./src/utils/index.js"),m={};Object.keys(d.material.schema).forEach(v),Object.keys(h.standard.schema).forEach(v);function v(y){var A=y.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();y==="fog"&&(A="material-fog"),y==="visible"&&(A="material-visible"),m[A]="material."+y}l.exports=function(){return{defaultComponents:{material:{}},mappings:p.extend({},m)}}},"./src/extras/primitives/index.js":(l,u,c)=>{c("./src/extras/primitives/primitives/a-camera.js"),c("./src/extras/primitives/primitives/a-cursor.js"),c("./src/extras/primitives/primitives/a-curvedimage.js"),c("./src/extras/primitives/primitives/a-gltf-model.js"),c("./src/extras/primitives/primitives/a-image.js"),c("./src/extras/primitives/primitives/a-light.js"),c("./src/extras/primitives/primitives/a-link.js"),c("./src/extras/primitives/primitives/a-obj-model.js"),c("./src/extras/primitives/primitives/a-sky.js"),c("./src/extras/primitives/primitives/a-sound.js"),c("./src/extras/primitives/primitives/a-text.js"),c("./src/extras/primitives/primitives/a-video.js"),c("./src/extras/primitives/primitives/a-videosphere.js"),c("./src/extras/primitives/primitives/meshPrimitives.js")},"./src/extras/primitives/primitives.js":(l,u,c)=>{var d=c("./src/core/a-node.js").knownTags,h=c("./src/core/a-entity.js").AEntity,p=c("./src/core/component.js").components,m=c("./src/utils/index.js"),v=m.debug,y=m.entity.setComponentProperty,A=v("extras:primitives:debug"),b=v("extras:primitives:warn"),g=v("extras:primitives:error"),w=l.exports.primitives={};l.exports.registerPrimitive=function(L,R){if(L=L.toLowerCase(),d[L]){g("Trying to register primitive "+L+" that has been already previously registered");return}d[L]=!0,A("Registering <%s>",L),R.defaultAttributes&&b("The 'defaultAttributes' object is deprecated. Use 'defaultComponents' instead.");var P=R.mappings||{},T=class extends h{constructor(){super(),this.defaultComponentsFromPrimitive=R.defaultComponents||R.defaultAttributes||{},this.deprecated=R.deprecated||null,this.deprecatedMappings=R.deprecatedMappings||{},this.mappings=P,R.deprecated&&console.warn(R.deprecated),this.resolveMappingCollisions()}resolveMappingCollisions(){var D=this.mappings,$=this;Object.keys(D).forEach(function(B){var O;B!==B.toLowerCase()&&b("Mapping keys should be specified in lower case. The mapping key "+B+" may not be recognized"),p[B]&&(O=D[B].replace(".","-"),D[O]=D[B],delete D[B],console.warn("The primitive "+$.tagName.toLowerCase()+" has a mapping collision. The attribute "+B+" has the same name as a registered component and has been renamed to "+O))})}getExtraComponents(){var D,$,V,B,O,F,k=this;for($=m.clone(this.defaultComponentsFromPrimitive),O=this.getAttribute("mixin"),O&&(O=O.trim().split(" "),O.forEach(function(J){var Z=k.sceneEl.querySelector("#"+J).componentCache;Object.keys(Z).forEach(function(ue){$[ue]=z($[ue],Z[ue])})})),V=0;V<this.attributes.length;V++)if(D=this.attributes[V],B=this.mappings[D.name],B){F=m.entity.getComponentPropertyPath(B),F.constructor===Array?($[F[0]]=$[F[0]]||{},$[F[0]][F[1]]=D.value.trim()):$[F]=D.value.trim();continue}return $;function z(X,J){return G(X)?j(J):G(J)?j(X):Q(X)&&Q(J)?m.extendDeep(X,J):j(J)}function G(X){return typeof X>"u"}function j(X){return Q(X)?m.extendDeep({},X):X}function Q(X){return X!==null&&X.constructor===Object}}attributeChangedCallback(D,$,V){var B=this.mappings[D];if(D in this.deprecatedMappings&&console.warn(this.deprecatedMappings[D]),!D||!B){super.attributeChangedCallback(D,$,V);return}y(this,B,V)}};return customElements.define(L,T),T.mappings=P,w[L]=T,T};function E(_,L){var R=p[_].schema;Object.keys(R).map(function(P){var T=P.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();L[T]!==void 0&&(T=_+"-"+P),L[T]=_+"."+P})}function C(_,L,R){R=R||{},Object.keys(L).map(function(T){E(T,R)}),l.exports.registerPrimitive(_,m.extendDeep({},null,{defaultComponents:L,mappings:R}))}l.exports.definePrimitive=C},"./src/extras/primitives/primitives/a-camera.js":(l,u,c)=>{var d=c("./src/extras/primitives/primitives.js").registerPrimitive;d("a-camera",{defaultComponents:{camera:{},"look-controls":{},"wasd-controls":{},position:{x:0,y:1.6,z:0}},mappings:{active:"camera.active",far:"camera.far",fov:"camera.fov","look-controls-enabled":"look-controls.enabled",near:"camera.near","pointer-lock-enabled":"look-controls.pointerLockEnabled","wasd-controls-enabled":"wasd-controls.enabled","reverse-mouse-drag":"look-controls.reverseMouseDrag",zoom:"camera.zoom"}})},"./src/extras/primitives/primitives/a-cursor.js":(l,u,c)=>{var d=c("./src/extras/primitives/getMeshMixin.js"),h=c("./src/extras/primitives/primitives.js").registerPrimitive,p=c("./src/utils/index.js");h("a-cursor",p.extendDeep({},d(),{defaultComponents:{cursor:{},geometry:{primitive:"ring",radiusOuter:.016,radiusInner:.01,segmentsTheta:32},material:{color:"#000",shader:"flat",opacity:.8},position:{x:0,y:0,z:-1}},mappings:{far:"raycaster.far",fuse:"cursor.fuse","fuse-timeout":"cursor.fuseTimeout",interval:"raycaster.interval",objects:"raycaster.objects"}}))},"./src/extras/primitives/primitives/a-curvedimage.js":(l,u,c)=>{var d=c("./src/extras/primitives/getMeshMixin.js"),h=c("./src/extras/primitives/primitives.js").registerPrimitive,p=c("./src/utils/index.js");h("a-curvedimage",p.extendDeep({},d(),{defaultComponents:{geometry:{height:1,primitive:"cylinder",radius:2,segmentsRadial:48,thetaLength:270,openEnded:!0,thetaStart:0},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0,repeat:"-1 1"}},mappings:{height:"geometry.height","open-ended":"geometry.openEnded",radius:"geometry.radius",segments:"geometry.segmentsRadial",start:"geometry.thetaStart","theta-length":"geometry.thetaLength","theta-start":"geometry.thetaStart",width:"geometry.thetaLength"}}))},"./src/extras/primitives/primitives/a-gltf-model.js":(l,u,c)=>{var d=c("./src/extras/primitives/primitives.js").registerPrimitive;d("a-gltf-model",{mappings:{src:"gltf-model"}})},"./src/extras/primitives/primitives/a-image.js":(l,u,c)=>{var d=c("./src/extras/primitives/getMeshMixin.js"),h=c("./src/extras/primitives/primitives.js").registerPrimitive,p=c("./src/utils/index.js");h("a-image",p.extendDeep({},d(),{defaultComponents:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0}},mappings:{height:"geometry.height",width:"geometry.width"}}))},"./src/extras/primitives/primitives/a-light.js":(l,u,c)=>{var d=c("./src/extras/primitives/primitives.js").registerPrimitive;d("a-light",{defaultComponents:{light:{}},mappings:{angle:"light.angle",color:"light.color","ground-color":"light.groundColor",decay:"light.decay",distance:"light.distance",intensity:"light.intensity",penumbra:"light.penumbra",type:"light.type",target:"light.target",envmap:"light.envMap","shadow-camera-automatic":"light.shadowCameraAutomatic"}})},"./src/extras/primitives/primitives/a-link.js":(l,u,c)=>{var d=c("./src/extras/primitives/primitives.js").registerPrimitive;d("a-link",{defaultComponents:{link:{visualAspectEnabled:!0}},mappings:{href:"link.href",image:"link.image",title:"link.title"}})},"./src/extras/primitives/primitives/a-obj-model.js":(l,u,c)=>{var d=c("./src/extras/primitives/getMeshMixin.js")(),h=c("./src/extras/primitives/primitives.js").registerPrimitive,p=c("./src/utils/index.js");h("a-obj-model",p.extendDeep({},d,{defaultComponents:{"obj-model":{}},mappings:{src:"obj-model.obj",mtl:"obj-model.mtl"}}))},"./src/extras/primitives/primitives/a-sky.js":(l,u,c)=>{var d=c("./src/extras/primitives/getMeshMixin.js"),h=c("./src/extras/primitives/primitives.js").registerPrimitive,p=c("./src/utils/index.js"),m=c("./src/extras/primitives/primitives/meshPrimitives.js");h("a-sky",p.extendDeep({},d(),{defaultComponents:{geometry:{primitive:"sphere",radius:500,segmentsWidth:64,segmentsHeight:32},material:{color:"#FFF",side:"back",shader:"flat",npot:!0},scale:"-1 1 1"},mappings:p.extendDeep({},m["a-sphere"].mappings)}))},"./src/extras/primitives/primitives/a-sound.js":(l,u,c)=>{var d=c("./src/extras/primitives/primitives.js").registerPrimitive;d("a-sound",{defaultComponents:{sound:{}},mappings:{src:"sound.src",on:"sound.on",autoplay:"sound.autoplay",loop:"sound.loop",volume:"sound.volume"}})},"./src/extras/primitives/primitives/a-text.js":(l,u,c)=>{var d=c("./src/extras/primitives/primitives.js").definePrimitive;d("a-text",{text:{anchor:"align",width:5}})},"./src/extras/primitives/primitives/a-video.js":(l,u,c)=>{var d=c("./src/extras/primitives/getMeshMixin.js"),h=c("./src/extras/primitives/primitives.js").registerPrimitive,p=c("./src/utils/index.js");h("a-video",p.extendDeep({},d(),{defaultComponents:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0}},mappings:{height:"geometry.height",width:"geometry.width"}}))},"./src/extras/primitives/primitives/a-videosphere.js":(l,u,c)=>{var d=c("./src/extras/primitives/getMeshMixin.js"),h=c("./src/extras/primitives/primitives.js").registerPrimitive,p=c("./src/utils/index.js");h("a-videosphere",p.extendDeep({},d(),{defaultComponents:{geometry:{primitive:"sphere",radius:500,segmentsWidth:64,segmentsHeight:32},material:{color:"#FFF",shader:"flat",side:"back",npot:!0},scale:"-1 1 1"},mappings:{radius:"geometry.radius","segments-height":"geometry.segmentsHeight","segments-width":"geometry.segmentsWidth"}}))},"./src/extras/primitives/primitives/meshPrimitives.js":(l,u,c)=>{var d=c("./src/extras/primitives/getMeshMixin.js"),h=c("./src/core/geometry.js").geometries,p=c("./src/core/geometry.js").geometryNames,m=c("./src/extras/primitives/primitives.js").registerPrimitive,v=c("./src/utils/index.js"),y=l.exports={};p.forEach(function(g){var w=h[g],E=A(g),C={};Object.keys(w.schema).forEach(function(P){C[A(P)]="geometry."+P});var _="a-"+E,L=m(_,v.extendDeep({},d(),{defaultComponents:{geometry:{primitive:g}},mappings:C}));y[_]=L});function A(b){return b.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},"./src/geometries/box.js":(l,u,c)=>{var d=c("./src/core/geometry.js").registerGeometry,h=c("./src/lib/three.js");d("box",{schema:{depth:{default:1,min:0},height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:"int"},segmentsWidth:{default:1,min:1,max:20,type:"int"},segmentsDepth:{default:1,min:1,max:20,type:"int"}},init:function(p){this.geometry=new h.BoxGeometry(p.width,p.height,p.depth,p.segmentsWidth,p.segmentsHeight,p.segmentsDepth)}})},"./src/geometries/circle.js":(l,u,c)=>{var d=c("./src/core/geometry.js").registerGeometry,h=c("./src/lib/three.js"),p=h.MathUtils.degToRad;d("circle",{schema:{radius:{default:1,min:0},segments:{default:32,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(m){this.geometry=new h.CircleGeometry(m.radius,m.segments,p(m.thetaStart),p(m.thetaLength))}})},"./src/geometries/cone.js":(l,u,c)=>{var d=c("./src/core/geometry.js").registerGeometry,h=c("./src/lib/three.js"),p=h.MathUtils.degToRad;d("cone",{schema:{height:{default:1,min:0},openEnded:{default:!1},radiusBottom:{default:1,min:0},radiusTop:{default:.01,min:0},segmentsHeight:{default:18,min:1,type:"int"},segmentsRadial:{default:36,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(m){this.geometry=new h.CylinderGeometry(m.radiusTop,m.radiusBottom,m.height,m.segmentsRadial,m.segmentsHeight,m.openEnded,p(m.thetaStart),p(m.thetaLength))}})},"./src/geometries/cylinder.js":(l,u,c)=>{var d=c("./src/core/geometry.js").registerGeometry,h=c("./src/lib/three.js"),p=h.MathUtils.degToRad;d("cylinder",{schema:{height:{default:1,min:0},openEnded:{default:!1},radius:{default:1,min:0},segmentsHeight:{default:18,min:1,type:"int"},segmentsRadial:{default:36,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(m){this.geometry=new h.CylinderGeometry(m.radius,m.radius,m.height,m.segmentsRadial,m.segmentsHeight,m.openEnded,p(m.thetaStart),p(m.thetaLength))}})},"./src/geometries/dodecahedron.js":(l,u,c)=>{var d=c("./src/core/geometry.js").registerGeometry,h=c("./src/lib/three.js");d("dodecahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(p){this.geometry=new h.DodecahedronGeometry(p.radius,p.detail)}})},"./src/geometries/icosahedron.js":(l,u,c)=>{var d=c("./src/core/geometry.js").registerGeometry,h=c("./src/lib/three.js");d("icosahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(p){this.geometry=new h.IcosahedronGeometry(p.radius,p.detail)}})},"./src/geometries/index.js":(l,u,c)=>{c("./src/geometries/box.js"),c("./src/geometries/circle.js"),c("./src/geometries/cone.js"),c("./src/geometries/cylinder.js"),c("./src/geometries/dodecahedron.js"),c("./src/geometries/icosahedron.js"),c("./src/geometries/octahedron.js"),c("./src/geometries/plane.js"),c("./src/geometries/ring.js"),c("./src/geometries/sphere.js"),c("./src/geometries/tetrahedron.js"),c("./src/geometries/torus.js"),c("./src/geometries/torusKnot.js"),c("./src/geometries/triangle.js")},"./src/geometries/octahedron.js":(l,u,c)=>{var d=c("./src/core/geometry.js").registerGeometry,h=c("./src/lib/three.js");d("octahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(p){this.geometry=new h.OctahedronGeometry(p.radius,p.detail)}})},"./src/geometries/plane.js":(l,u,c)=>{var d=c("./src/core/geometry.js").registerGeometry,h=c("./src/lib/three.js");d("plane",{schema:{height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:"int"},segmentsWidth:{default:1,min:1,max:20,type:"int"}},init:function(p){this.geometry=new h.PlaneGeometry(p.width,p.height,p.segmentsWidth,p.segmentsHeight)}})},"./src/geometries/ring.js":(l,u,c)=>{var d=c("./src/core/geometry.js").registerGeometry,h=c("./src/lib/three.js"),p=h.MathUtils.degToRad;d("ring",{schema:{radiusInner:{default:.8,min:0},radiusOuter:{default:1.2,min:0},segmentsPhi:{default:10,min:1,type:"int"},segmentsTheta:{default:32,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(m){this.geometry=new h.RingGeometry(m.radiusInner,m.radiusOuter,m.segmentsTheta,m.segmentsPhi,p(m.thetaStart),p(m.thetaLength))}})},"./src/geometries/sphere.js":(l,u,c)=>{var d=c("./src/core/geometry.js").registerGeometry,h=c("./src/lib/three.js"),p=h.MathUtils.degToRad;d("sphere",{schema:{radius:{default:1,min:0},phiLength:{default:360},phiStart:{default:0,min:0},thetaLength:{default:180,min:0},thetaStart:{default:0},segmentsHeight:{default:18,min:2,type:"int"},segmentsWidth:{default:36,min:3,type:"int"}},init:function(m){this.geometry=new h.SphereGeometry(m.radius,m.segmentsWidth,m.segmentsHeight,p(m.phiStart),p(m.phiLength),p(m.thetaStart),p(m.thetaLength))}})},"./src/geometries/tetrahedron.js":(l,u,c)=>{var d=c("./src/core/geometry.js").registerGeometry,h=c("./src/lib/three.js");d("tetrahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(p){this.geometry=new h.TetrahedronGeometry(p.radius,p.detail)}})},"./src/geometries/torus.js":(l,u,c)=>{var d=c("./src/core/geometry.js").registerGeometry,h=c("./src/lib/three.js"),p=h.MathUtils.degToRad;d("torus",{schema:{arc:{default:360},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:36,min:2,type:"int"},segmentsTubular:{default:32,min:3,type:"int"}},init:function(m){this.geometry=new h.TorusGeometry(m.radius,m.radiusTubular*2,m.segmentsRadial,m.segmentsTubular,p(m.arc))}})},"./src/geometries/torusKnot.js":(l,u,c)=>{var d=c("./src/core/geometry.js").registerGeometry,h=c("./src/lib/three.js");d("torusKnot",{schema:{p:{default:2,min:1},q:{default:3,min:1},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:8,min:3,type:"int"},segmentsTubular:{default:100,min:3,type:"int"}},init:function(p){this.geometry=new h.TorusKnotGeometry(p.radius,p.radiusTubular*2,p.segmentsTubular,p.segmentsRadial,p.p,p.q)}})},"./src/geometries/triangle.js":(l,u,c)=>{var d=c("./src/core/geometry.js").registerGeometry,h=c("./src/lib/three.js"),p=new h.Quaternion,m=new h.Vector3(0,0,1),v=new h.Vector2,y=new h.Vector2,A=new h.Vector2;d("triangle",{schema:{vertexA:{type:"vec3",default:{x:0,y:.5,z:0}},vertexB:{type:"vec3",default:{x:-.5,y:-.5,z:0}},vertexC:{type:"vec3",default:{x:.5,y:-.5,z:0}}},init:function(b){var g,w,E,C,_,L,R,P,T;E=new h.Triangle,E.a.set(b.vertexA.x,b.vertexA.y,b.vertexA.z),E.b.set(b.vertexB.x,b.vertexB.y,b.vertexB.z),E.c.set(b.vertexC.x,b.vertexC.y,b.vertexC.z),w=E.getNormal(new h.Vector3),p.setFromUnitVectors(w,m),C=E.a.clone().applyQuaternion(p),_=E.b.clone().applyQuaternion(p),L=E.c.clone().applyQuaternion(p),v.set(Math.min(C.x,_.x,L.x),Math.min(C.y,_.y,L.y)),y.set(Math.max(C.x,_.x,L.x),Math.max(C.y,_.y,L.y)),A.set(0,0).subVectors(y,v),C=new h.Vector2().subVectors(C,v).divide(A),_=new h.Vector2().subVectors(_,v).divide(A),L=new h.Vector2().subVectors(L,v).divide(A),g=this.geometry=new h.BufferGeometry,R=[E.a.x,E.a.y,E.a.z,E.b.x,E.b.y,E.b.z,E.c.x,E.c.y,E.c.z],P=[w.x,w.y,w.z,w.x,w.y,w.z,w.x,w.y,w.z],T=[C.x,C.y,_.x,_.y,L.x,L.y],g.setAttribute("position",new h.Float32BufferAttribute(R,3)),g.setAttribute("normal",new h.Float32BufferAttribute(P,3)),g.setAttribute("uv",new h.Float32BufferAttribute(T,2))}})},"./src/index.js":(l,u,c)=>{if(window.Promise=window.Promise||c("./node_modules/promise-polyfill/Promise.js"),c("./node_modules/@ungap/custom-elements/index.js"),window.hasNativeWebVRImplementation=!!window.navigator.getVRDisplays||!!window.navigator.getVRDevices,window.hasNativeWebXRImplementation=navigator.xr!==void 0,!window.hasNativeWebXRImplementation&&!window.hasNativeWebVRImplementation){var d=c("./src/utils/isIOSOlderThan10.js"),h=d(window.navigator.userAgent)?1/window.devicePixelRatio:1,p=c("./node_modules/webvr-polyfill/build/webvr-polyfill.js"),m={BUFFER_SCALE:h,CARDBOARD_UI_DISABLED:!0,ROTATE_INSTRUCTIONS_DISABLED:!0,MOBILE_WAKE_LOCK:!!window.cordova};window.webvrpolyfill=new p(m)}var v=c("./src/utils/index.js"),y=v.debug;v.isIE11&&(c("./node_modules/custom-event-polyfill/polyfill.js"),c("./vendor/starts-with-polyfill.js"));var A=y("A-Frame:error"),b=y("A-Frame:warn");window.document.currentScript&&window.document.currentScript.parentNode!==window.document.head&&!window.debug&&b("Put the A-Frame <script> tag in the <head> of the HTML *before* the scene to ensure everything for A-Frame is properly registered before they are used from HTML."),!window.cordova&&window.location.protocol==="file:"&&A("This HTML file is currently being served via the file:// protocol. Assets, textures, and models WILL NOT WORK due to cross-origin policy! Please use a local or hosted server: https://aframe.io/docs/0.5.0/introduction/getting-started.html#using-a-local-server."),c("./node_modules/present/lib/present-browser.js"),v.device.isBrowserEnvironment&&(c("./src/style/aframe.css"),c("./src/style/rStats.css"));var g=c("./src/core/scene/a-scene.js").AScene,w=c("./src/core/component.js").components,E=c("./src/core/component.js").registerComponent,C=c("./src/core/geometry.js").registerGeometry,_=c("./src/extras/primitives/primitives.js").registerPrimitive,L=c("./src/core/shader.js").registerShader,R=c("./src/core/system.js").registerSystem,P=c("./src/core/shader.js").shaders,T=c("./src/core/system.js").systems,D=window.THREE=c("./src/lib/three.js"),$=c("./package.json");c("./src/components/index.js"),c("./src/geometries/index.js"),c("./src/shaders/index.js"),c("./src/systems/index.js");var V=c("./src/core/a-node.js").ANode,B=c("./src/core/a-entity.js").AEntity;c("./src/core/a-assets.js"),c("./src/core/a-cubemap.js"),c("./src/core/a-mixin.js"),c("./src/extras/components/index.js"),c("./src/extras/primitives/index.js"),console.log("A-Frame Version: 1.4.2 (Date 2023-04-22, Commit #4e521f1f)"),console.log("THREE Version (https://github.com/supermedium/three.js):",$.dependencies["super-three"]),console.log("WebVR Polyfill Version:",$.dependencies["webvr-polyfill"]),l.exports=window.AFRAME={AComponent:c("./src/core/component.js").Component,AEntity:B,ANode:V,ANIME:c("./node_modules/super-animejs/lib/anime.es.js").default,AScene:g,components:w,coreComponents:Object.keys(w),geometries:c("./src/core/geometry.js").geometries,registerComponent:E,registerGeometry:C,registerPrimitive:_,registerShader:L,registerSystem:R,primitives:{getMeshMixin:c("./src/extras/primitives/getMeshMixin.js"),primitives:c("./src/extras/primitives/primitives.js").primitives},scenes:c("./src/core/scene/scenes.js"),schema:c("./src/core/schema.js"),shaders:P,systems:T,THREE:D,utils:v,version:$.version}},"./src/lib/rStatsAframe.js":l=>{window.aframeStats=function(u){var c=null,d=u,h={te:{caption:"Entities"},lt:{caption:"Load Time"}},p=[{caption:"A-Frame",values:["te","lt"]}];function m(){c("te").set(v()),window.performance.getEntriesByName&&c("lt").set(window.performance.getEntriesByName("render-started")[0].startTime.toFixed(0))}function v(){var g=d.querySelectorAll("*");return Array.prototype.slice.call(g).filter(function(w){return w.isEntity}),g.length}function y(){}function A(){}function b(g){c=g}return{update:m,start:y,end:A,attach:b,values:h,groups:p,fractions:[]}},l.exports={aframeStats:window.aframeStats}},"./src/lib/three.js":(l,u,c)=>{var d=c("./src/lib/three.module.js").default;d.TextureLoader&&(d.TextureLoader.prototype.crossOrigin="anonymous"),d.ImageLoader&&(d.ImageLoader.prototype.crossOrigin="anonymous"),d.Cache&&(d.Cache.enabled=!0),d.DRACOLoader.prototype.crossOrigin="anonymous",d.GLTFLoader.prototype.crossOrigin="anonymous",d.KTX2Loader.prototype.crossOrigin="anonymous",d.MTLLoader.prototype.crossOrigin="anonymous",d.OBJLoader.prototype.crossOrigin="anonymous",l.exports=d},"./src/lib/three.module.js":(l,u,c)=>{c.r(u),c.d(u,{default:()=>E});var d=c("./node_modules/super-three/build/three.module.js"),h=c("./node_modules/super-three/examples/jsm/loaders/DRACOLoader.js"),p=c("./node_modules/super-three/examples/jsm/loaders/GLTFLoader.js"),m=c("./node_modules/super-three/examples/jsm/loaders/KTX2Loader.js"),v=c("./node_modules/super-three/examples/jsm/loaders/OBJLoader.js"),y=c("./node_modules/super-three/examples/jsm/loaders/MTLLoader.js"),A=c("./node_modules/super-three/examples/jsm/utils/BufferGeometryUtils.js"),b=c("./node_modules/super-three/examples/jsm/lights/LightProbeGenerator.js"),g=c("./node_modules/object-assign/index.js"),w=window.THREE=g({},d);c("./vendor/DeviceOrientationControls.js"),w.DRACOLoader=h.DRACOLoader,w.GLTFLoader=p.GLTFLoader,w.KTX2Loader=m.KTX2Loader,w.OBJLoader=v.OBJLoader,w.MTLLoader=y.MTLLoader,w.BufferGeometryUtils=A,w.LightProbeGenerator=b.LightProbeGenerator;const E=w},"./src/shaders/flat.js":(l,u,c)=>{var d=c("./src/core/shader.js").registerShader,h=c("./src/lib/three.js"),p=c("./src/utils/index.js");l.exports.Shader=d("flat",{schema:{color:{type:"color"},fog:{default:!0},height:{default:256},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},src:{type:"map"},width:{default:512},wireframe:{default:!1},wireframeLinewidth:{default:2},toneMapped:{default:!0}},init:function(v){this.rendererSystem=this.el.sceneEl.systems.renderer,this.materialData={color:new h.Color},this.textureSrc=null,m(v,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color),this.material=new h.MeshBasicMaterial(this.materialData)},update:function(v){this.updateMaterial(v),p.material.updateMap(this,v)},updateMaterial:function(v){var y;m(v,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color);for(y in this.materialData)this.material[y]=this.materialData[y]}});function m(v,y){return y.color.set(v.color),y.fog=v.fog,y.wireframe=v.wireframe,y.toneMapped=v.toneMapped,y.wireframeLinewidth=v.wireframeLinewidth,y}},"./src/shaders/index.js":(l,u,c)=>{c("./src/shaders/flat.js"),c("./src/shaders/standard.js"),c("./src/shaders/phong.js"),c("./src/shaders/sdf.js"),c("./src/shaders/msdf.js"),c("./src/shaders/ios10hls.js"),c("./src/shaders/shadow.js")},"./src/shaders/ios10hls.js":(l,u,c)=>{var d=c("./src/core/shader.js").registerShader;l.exports.Shader=d("ios10hls",{schema:{src:{type:"map",is:"uniform"},opacity:{type:"number",is:"uniform",default:1}},vertexShader:["varying vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join(`
`),fragmentShader:["uniform sampler2D src;","uniform float opacity;","varying vec2 vUV;","void main() {","  vec2 offset = vec2(0, 0);","  vec2 repeat = vec2(1, 1);","  vec4 color = texture2D(src, vec2(vUV.x / repeat.x + offset.x, (1.0 - vUV.y) / repeat.y + offset.y)).bgra;","  gl_FragColor = vec4(color.rgb, opacity);","}"].join(`
`)})},"./src/shaders/msdf.js":(l,u,c)=>{var d=c("./src/core/shader.js").registerShader,h=!!document.createElement("canvas").getContext("webgl2"),p=["attribute vec2 uv;","attribute vec3 position;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join(`
`),m=["#version 300 es","in vec2 uv;","in vec3 position;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","out vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join(`
`),v=h?m:p,y=["#ifdef GL_OES_standard_derivatives","#extension GL_OES_standard_derivatives: enable","#endif","precision highp float;","uniform bool negate;","uniform float alphaTest;","uniform float opacity;","uniform sampler2D map;","uniform vec3 color;","varying vec2 vUV;","float median(float r, float g, float b) {","  return max(min(r, g), min(max(r, g), b));","}","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","void main() {","  vec3 sampleColor = texture2D(map, vUV).rgb;","  if (negate) { sampleColor = 1.0 - sampleColor; }","  float sigDist = median(sampleColor.r, sampleColor.g, sampleColor.b) - 0.5;","  float alpha = clamp(sigDist / fwidth(sigDist) + 0.5, 0.0, 1.0);","  float dscale = 0.353505;","  vec2 duv = dscale * (dFdx(vUV) + dFdy(vUV));","  float isBigEnough = max(abs(duv.x), abs(duv.y));","  // Do modified alpha test.","  if (isBigEnough > BIG_ENOUGH) {","    float ratio = BIG_ENOUGH / isBigEnough;","    alpha = ratio * alpha + (1.0 - ratio) * (sigDist + 0.5);","  }","  // Do modified alpha test.","  if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","  gl_FragColor = vec4(color.xyz, alpha * opacity);","}"].join(`
`),A=["#version 300 es","precision highp float;","uniform bool negate;","uniform float alphaTest;","uniform float opacity;","uniform sampler2D map;","uniform vec3 color;","in vec2 vUV;","out vec4 fragColor;","float median(float r, float g, float b) {","  return max(min(r, g), min(max(r, g), b));","}","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","void main() {","  vec3 sampleColor = texture(map, vUV).rgb;","  if (negate) { sampleColor = 1.0 - sampleColor; }","  float sigDist = median(sampleColor.r, sampleColor.g, sampleColor.b) - 0.5;","  float alpha = clamp(sigDist / fwidth(sigDist) + 0.5, 0.0, 1.0);","  float dscale = 0.353505;","  vec2 duv = dscale * (dFdx(vUV) + dFdy(vUV));","  float isBigEnough = max(abs(duv.x), abs(duv.y));","  // Do modified alpha test.","  if (isBigEnough > BIG_ENOUGH) {","    float ratio = BIG_ENOUGH / isBigEnough;","    alpha = ratio * alpha + (1.0 - ratio) * (sigDist + 0.5);","  }","  // Do modified alpha test.","  if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","  fragColor = vec4(color.xyz, alpha * opacity);","}"].join(`
`),b=h?A:y;l.exports.Shader=d("msdf",{schema:{alphaTest:{type:"number",is:"uniform",default:.5},color:{type:"color",is:"uniform",default:"white"},map:{type:"map",is:"uniform"},negate:{type:"boolean",is:"uniform",default:!0},opacity:{type:"number",is:"uniform",default:1}},raw:!0,vertexShader:v,fragmentShader:b})},"./src/shaders/phong.js":(l,u,c)=>{var d=c("./src/core/shader.js").registerShader,h=c("./src/lib/three.js"),p=c("./src/utils/index.js"),m=new h.CubeTextureLoader,v={};l.exports.Shader=d("phong",{schema:{color:{type:"color"},emissive:{type:"color",default:"black"},emissiveIntensity:{default:1},specular:{type:"color",default:"#111111"},transparent:{default:!1},fog:{default:!0},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},src:{type:"map"},envMap:{default:""},sphericalEnvMap:{type:"map"},shininess:{default:30},flatShading:{default:!1},wireframe:{default:!1},wireframeLinewidth:{default:2},combine:{oneOF:["multiply","mix","add"],default:"mix"},reflectivity:{default:.9},refractionRatio:{default:.98},refract:{default:!1},normalMap:{type:"map"},normalScale:{type:"vec2",default:{x:1,y:1}},normalTextureOffset:{type:"vec2"},normalTextureRepeat:{type:"vec2",default:{x:1,y:1}},displacementMap:{type:"map"},displacementScale:{default:1},displacementBias:{default:.5},displacementTextureOffset:{type:"vec2"},displacementTextureRepeat:{type:"vec2",default:{x:1,y:1}},bumpMap:{type:"map"},bumpMapScale:{default:1},bumpTextureOffset:{type:"vec2"},bumpTextureRepeat:{type:"vec2",default:{x:1,y:1}}},init:function(A){this.rendererSystem=this.el.sceneEl.systems.renderer,this.materialData={color:new h.Color,specular:new h.Color,emissive:new h.Color},this.textureSrc=null,y(A,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color),this.material=new h.MeshPhongMaterial(this.materialData),p.material.updateMap(this,A)},update:function(A){this.updateMaterial(A),p.material.updateMap(this,A),A.normalMap&&p.material.updateDistortionMap("normal",this,A),A.displacementMap&&p.material.updateDistortionMap("displacement",this,A),A.ambientOcclusionMap&&p.material.updateDistortionMap("ambientOcclusion",this,A),A.bump&&p.material.updateDistortionMap("bump",this,A),this.updateEnvMap(A)},updateMaterial:function(A){var b;y(A,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color);for(b in this.materialData)this.material[b]=this.materialData[b]},updateEnvMap:function(A){var b=this,g=this.material,w=A.envMap,E=A.sphericalEnvMap,C=A.refract,_=this.el.sceneEl;if(!w&&!E||this.isLoadingEnvMap){Object.defineProperty(g,"envMap",{get:function(){return _.object3D.environment},set:function(L){delete this.envMap,this.envMap=L}}),g.needsUpdate=!0;return}if(this.isLoadingEnvMap=!0,delete g.envMap,E){this.el.sceneEl.systems.material.loadTexture(E,{src:E},function(R){b.isLoadingEnvMap=!1,R.mapping=C?h.EquirectangularRefractionMapping:h.EquirectangularReflectionMapping,g.envMap=R,p.material.handleTextureEvents(b.el,R),g.needsUpdate=!0});return}if(v[w]){v[w].then(function(L){b.isLoadingEnvMap=!1,g.envMap=L,p.material.handleTextureEvents(b.el,L),g.needsUpdate=!0});return}v[w]=new Promise(function(L){p.srcLoader.validateCubemapSrc(w,function(P){m.load(P,function(T){b.isLoadingEnvMap=!1,g.envMap=T,T.mapping=C?h.CubeRefractionMapping:h.CubeReflectionMapping,p.material.handleTextureEvents(b.el,T),L(T)})})})}});function y(A,b){switch(b.color.set(A.color),b.specular.set(A.emissive),b.emissive.set(A.emissive),b.emissiveIntensity=A.emissiveIntensity,b.fog=A.fog,b.transparent=A.transparent,b.wireframe=A.wireframe,b.wireframeLinewidth=A.wireframeLinewidth,b.shininess=A.shininess,b.flatShading=A.flatShading,b.wireframe=A.wireframe,b.wireframeLinewidth=A.wireframeLinewidth,b.reflectivity=A.reflectivity,b.refractionRatio=A.refractionRatio,A.combine){case"mix":b.combine=h.MixOperation;break;case"multiply":b.combine=h.MultiplyOperation;break;case"add":b.combine=h.AddOperation;break}return A.normalMap&&(b.normalScale=A.normalScale),A.ambientOcclusionMap&&(b.aoMapIntensity=A.ambientOcclusionMapIntensity),A.bumpMap&&(b.aoMapIntensity=A.bumpMapScale),A.displacementMap&&(b.displacementScale=A.displacementScale,b.displacementBias=A.displacementBias),b}},"./src/shaders/sdf.js":(l,u,c)=>{var d=c("./src/core/shader.js").registerShader,h=!!document.createElement("canvas").getContext("webgl2"),p=["attribute vec2 uv;","attribute vec3 position;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join(`
`),m=["#version 300 es","in vec2 uv;","in vec3 position;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","out vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join(`
`),v=h?m:p,y=["#ifdef GL_OES_standard_derivatives","#extension GL_OES_standard_derivatives: enable","#endif","precision highp float;","uniform float alphaTest;","uniform float opacity;","uniform sampler2D map;","uniform vec3 color;","varying vec2 vUV;","#ifdef GL_OES_standard_derivatives","  float contour(float width, float value) {","    return smoothstep(0.5 - value, 0.5 + value, width);","  }","#else","  float aastep(float value, float afwidth) {","    return smoothstep(0.5 - afwidth, 0.5 + afwidth, value);","  }","#endif","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","#define ALL_SMOOTH 0.4","#define ALL_ROUGH 0.02","#define DISCARD_ALPHA (alphaTest / (2.2 - 1.2 * ratio))","void main() {","  #ifdef GL_OES_standard_derivatives","    vec2 uv = vUV;","    vec4 texColor = texture2D(map, uv);","    float dist = texColor.a;","    float width = fwidth(dist);","    float alpha = contour(dist, width);","    float dscale = 0.353505;","    vec2 duv = dscale * (dFdx(uv) + dFdy(uv));","    float isBigEnough = max(abs(duv.x), abs(duv.y));","    if (isBigEnough > BIG_ENOUGH) {","      float ratio = BIG_ENOUGH / isBigEnough;","      alpha = ratio * alpha + (1.0 - ratio) * dist;","    }","    if (isBigEnough <= BIG_ENOUGH) {","      vec4 box = vec4 (uv - duv, uv + duv);","      alpha = (alpha + 0.5 * (","        contour(texture2D(map, box.xy).a, width)","        + contour(texture2D(map, box.zw).a, width)","        + contour(texture2D(map, box.xw).a, width)","        + contour(texture2D(map, box.zy).a, width)","      )) / 3.0;","    }","    if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","  #else","    vec4 texColor = texture2D(map, vUV);","    float value = texColor.a;","    float afwidth = (1.0 / 32.0) * (1.4142135623730951 / (2.0 * gl_FragCoord.w));","    float alpha = aastep(value, afwidth);","    float ratio = (gl_FragCoord.w >= ALL_SMOOTH) ? 1.0 : (gl_FragCoord.w < ALL_ROUGH) ? 0.0 : (gl_FragCoord.w - ALL_ROUGH) / (ALL_SMOOTH - ALL_ROUGH);","    if (alpha < alphaTest) { if (ratio >= 1.0) { discard; return; } alpha = 0.0; }","    alpha = alpha * ratio + (1.0 - ratio) * value;","    if (ratio < 1.0 && alpha <= DISCARD_ALPHA) { discard; return; }","  #endif","  gl_FragColor = vec4(color, opacity * alpha);","}"].join(`
`),A=["#version 300 es","precision highp float;","uniform float alphaTest;","uniform float opacity;","uniform sampler2D map;","uniform vec3 color;","in vec2 vUV;","out vec4 fragColor;","#ifdef GL_OES_standard_derivatives","  float contour(float width, float value) {","    return smoothstep(0.5 - value, 0.5 + value, width);","  }","#else","  float aastep(float value, float afwidth) {","    return smoothstep(0.5 - afwidth, 0.5 + afwidth, value);","  }","#endif","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","#define ALL_SMOOTH 0.4","#define ALL_ROUGH 0.02","#define DISCARD_ALPHA (alphaTest / (2.2 - 1.2 * ratio))","void main() {","  #ifdef GL_OES_standard_derivatives","    vec2 uv = vUV;","    vec4 texColor = texture(map, uv);","    float dist = texColor.a;","    float width = fwidth(dist);","    float alpha = contour(dist, width);","    float dscale = 0.353505;","    vec2 duv = dscale * (dFdx(uv) + dFdy(uv));","    float isBigEnough = max(abs(duv.x), abs(duv.y));","    if (isBigEnough > BIG_ENOUGH) {","      float ratio = BIG_ENOUGH / isBigEnough;","      alpha = ratio * alpha + (1.0 - ratio) * dist;","    }","    if (isBigEnough <= BIG_ENOUGH) {","      vec4 box = vec4 (uv - duv, uv + duv);","      alpha = (alpha + 0.5 * (","        contour(texture(map, box.xy).a, width)","        + contour(texture(map, box.zw).a, width)","        + contour(texture(map, box.xw).a, width)","        + contour(texture(map, box.zy).a, width)","      )) / 3.0;","    }","    if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","  #else","    vec4 texColor = texture(map, vUV);","    float value = texColor.a;","    float afwidth = (1.0 / 32.0) * (1.4142135623730951 / (2.0 * gl_FragCoord.w));","    float alpha = aastep(value, afwidth);","    float ratio = (gl_FragCoord.w >= ALL_SMOOTH) ? 1.0 : (gl_FragCoord.w < ALL_ROUGH) ? 0.0 : (gl_FragCoord.w - ALL_ROUGH) / (ALL_SMOOTH - ALL_ROUGH);","    if (alpha < alphaTest) { if (ratio >= 1.0) { discard; return; } alpha = 0.0; }","    alpha = alpha * ratio + (1.0 - ratio) * value;","    if (ratio < 1.0 && alpha <= DISCARD_ALPHA) { discard; return; }","  #endif","  fragColor = vec4(color, opacity * alpha);","}"].join(`
`),b=h?A:y;l.exports.Shader=d("sdf",{schema:{alphaTest:{type:"number",is:"uniform",default:.5},color:{type:"color",is:"uniform",default:"white"},map:{type:"map",is:"uniform"},opacity:{type:"number",is:"uniform",default:1}},raw:!0,vertexShader:v,fragmentShader:b})},"./src/shaders/shadow.js":(l,u,c)=>{var d=c("./src/core/shader.js").registerShader,h=c("./src/lib/three.js");l.exports.Shader=d("shadow",{schema:{opacity:{default:.5},transparent:{default:!0},alphaToCoverage:{default:!0}},init:function(p){this.rendererSystem=this.el.sceneEl.systems.renderer,this.material=new h.ShadowMaterial},update:function(p){this.material.opacity=p.opacity,this.material.alphaToCoverage=p.alphaToCoverage,this.material.transparent=p.transparent}})},"./src/shaders/standard.js":(l,u,c)=>{var d=c("./src/core/shader.js").registerShader,h=c("./src/lib/three.js"),p=c("./src/utils/index.js"),m=new h.CubeTextureLoader,v={};l.exports.Shader=d("standard",{schema:{ambientOcclusionMap:{type:"map"},ambientOcclusionMapIntensity:{default:1},ambientOcclusionTextureOffset:{type:"vec2"},ambientOcclusionTextureRepeat:{type:"vec2",default:{x:1,y:1}},color:{type:"color"},displacementMap:{type:"map"},displacementScale:{default:1},displacementBias:{default:.5},displacementTextureOffset:{type:"vec2"},displacementTextureRepeat:{type:"vec2",default:{x:1,y:1}},emissive:{type:"color",default:"#000"},emissiveIntensity:{default:1},envMap:{default:""},fog:{default:!0},height:{default:256},metalness:{default:0,min:0,max:1},metalnessMap:{type:"map"},metalnessTextureOffset:{type:"vec2"},metalnessTextureRepeat:{type:"vec2",default:{x:1,y:1}},normalMap:{type:"map"},normalScale:{type:"vec2",default:{x:1,y:1}},normalTextureOffset:{type:"vec2"},normalTextureRepeat:{type:"vec2",default:{x:1,y:1}},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},roughness:{default:.5,min:0,max:1},roughnessMap:{type:"map"},roughnessTextureOffset:{type:"vec2"},roughnessTextureRepeat:{type:"vec2",default:{x:1,y:1}},sphericalEnvMap:{type:"map"},src:{type:"map"},width:{default:512},wireframe:{default:!1},wireframeLinewidth:{default:2}},init:function(A){this.rendererSystem=this.el.sceneEl.systems.renderer,this.materialData={color:new h.Color,emissive:new h.Color},y(A,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color),this.rendererSystem.applyColorCorrection(this.materialData.emissive),this.material=new h.MeshStandardMaterial(this.materialData)},update:function(A){this.updateMaterial(A),p.material.updateMap(this,A),A.normalMap&&p.material.updateDistortionMap("normal",this,A),A.displacementMap&&p.material.updateDistortionMap("displacement",this,A),A.ambientOcclusionMap&&p.material.updateDistortionMap("ambientOcclusion",this,A),A.metalnessMap&&p.material.updateDistortionMap("metalness",this,A),A.roughnessMap&&p.material.updateDistortionMap("roughness",this,A),this.updateEnvMap(A)},updateMaterial:function(A){var b,g=this.material;y(A,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color),this.rendererSystem.applyColorCorrection(this.materialData.emissive);for(b in this.materialData)g[b]=this.materialData[b]},updateEnvMap:function(A){var b=this,g=this.material,w=A.envMap,E=A.sphericalEnvMap;if(!w&&!E||this.isLoadingEnvMap){g.envMap=null,g.needsUpdate=!0;return}if(this.isLoadingEnvMap=!0,E){this.el.sceneEl.systems.material.loadTexture(E,{src:E},function(_){b.isLoadingEnvMap=!1,_.mapping=h.EquirectangularReflectionMapping,g.envMap=_,p.material.handleTextureEvents(b.el,_),g.needsUpdate=!0});return}if(v[w]){v[w].then(function(C){b.isLoadingEnvMap=!1,g.envMap=C,p.material.handleTextureEvents(b.el,C),g.needsUpdate=!0});return}v[w]=new Promise(function(C){p.srcLoader.validateCubemapSrc(w,function(L){m.load(L,function(R){b.isLoadingEnvMap=!1,g.envMap=R,p.material.handleTextureEvents(b.el,R),C(R)})})})}});function y(A,b){return b.color.set(A.color),b.emissive.set(A.emissive),b.emissiveIntensity=A.emissiveIntensity,b.fog=A.fog,b.metalness=A.metalness,b.roughness=A.roughness,b.wireframe=A.wireframe,b.wireframeLinewidth=A.wireframeLinewidth,A.normalMap&&(b.normalScale=A.normalScale),A.ambientOcclusionMap&&(b.aoMapIntensity=A.ambientOcclusionMapIntensity),A.displacementMap&&(b.displacementScale=A.displacementScale,b.displacementBias=A.displacementBias),b}},"./src/systems/camera.js":(l,u,c)=>{var d=c("./src/constants/index.js"),h=c("./src/core/system.js").registerSystem,p="data-aframe-default-camera";l.exports.System=h("camera",{init:function(){this.activeCameraEl=null,this.render=this.render.bind(this),this.unwrapRender=this.unwrapRender.bind(this),this.wrapRender=this.wrapRender.bind(this),this.initialCameraFound=!1,this.numUserCameras=0,this.numUserCamerasChecked=0,this.setupInitialCamera()},setupInitialCamera:function(){var v,y,A=this.sceneEl,b=this;if(A.camera&&!A.camera.el.getAttribute("camera").spectator){A.emit("cameraready",{cameraEl:A.camera.el});return}if(v=A.querySelectorAll("a-camera, :not(a-mixin)[camera]"),!v.length){this.createDefaultCamera();return}for(this.numUserCameras=v.length,y=0;y<v.length;y++)v[y].addEventListener("object3dset",function(g){g.detail.type==="camera"&&b.checkUserCamera(this)}),v[y].isNode?v[y].load():v[y].addEventListener("nodeready",function(){this.load()})},checkUserCamera:function(v){var y,A=this.el.sceneEl;if(this.numUserCamerasChecked++,!this.initialCameraFound){if(y=v.getAttribute("camera"),!y.active||y.spectator){this.numUserCamerasChecked===this.numUserCameras&&this.createDefaultCamera();return}this.initialCameraFound=!0,A.camera=v.getObject3D("camera"),A.emit("cameraready",{cameraEl:v})}},createDefaultCamera:function(){var v,y=this.sceneEl;v=document.createElement("a-entity"),v.setAttribute("camera",{active:!0}),v.setAttribute("position",{x:0,y:d.DEFAULT_CAMERA_HEIGHT,z:0}),v.setAttribute("wasd-controls",""),v.setAttribute("look-controls",""),v.setAttribute(d.AFRAME_INJECTED,""),v.addEventListener("object3dset",function(A){A.detail.type==="camera"&&(y.camera=A.detail.object,y.emit("cameraready",{cameraEl:v}))}),y.appendChild(v)},disableActiveCamera:function(){var v,y;v=this.sceneEl.querySelectorAll(":not(a-mixin)[camera]"),y=v[v.length-1],y.setAttribute("camera","active",!0)},setActiveCamera:function(v){var y,A,b,g,w=this.activeCameraEl,E=this.sceneEl;if(g=v.getObject3D("camera"),!(!g||v===this.activeCameraEl)){var C=E.querySelector("["+p+"]"),_=C&&C.querySelector(":not(a-mixin)[camera]");for(v!==_&&m(E),this.activeCameraEl=v,this.activeCameraEl.play(),E.camera=g,w&&w.setAttribute("camera","active",!1),A=E.querySelectorAll(":not(a-mixin)[camera]"),b=0;b<A.length;b++)y=A[b],!(!y.isEntity||v===y)&&(y.setAttribute("camera","active",!1),y.pause());E.emit("camera-set-active",{cameraEl:v})}},setSpectatorCamera:function(v){var y,A=this.spectatorCameraEl,b=this.sceneEl,g;y=v.getObject3D("camera"),!(!y||v===this.spectatorCameraEl)&&(A&&A.setAttribute("camera","spectator",!1),g=this.spectatorCameraEl=v,b.addEventListener("enter-vr",this.wrapRender),b.addEventListener("exit-vr",this.unwrapRender),g.setAttribute("camera","active",!1),g.play(),b.emit("camera-set-spectator",{cameraEl:v}))},disableSpectatorCamera:function(){this.spectatorCameraEl=void 0},wrapRender:function(){!this.spectatorCameraEl||this.originalRender||(this.originalRender=this.sceneEl.renderer.render,this.sceneEl.renderer.render=this.render)},unwrapRender:function(){this.originalRender&&(this.sceneEl.renderer.render=this.originalRender,this.originalRender=void 0)},render:function(v,y){var A,b=this.sceneEl,g;A=b.renderer.xr.enabled,this.originalRender.call(b.renderer,v,y),!(!this.spectatorCameraEl||b.isMobile||!A)&&(g=this.spectatorCameraEl.components.camera.camera,b.renderer.xr.enabled=!1,this.originalRender.call(b.renderer,v,g),b.renderer.xr.enabled=A)}});function m(v){var y,A=v.camera;A&&(y=v.querySelector("["+p+"]"),y&&v.removeChild(y))}},"./src/systems/geometry.js":(l,u,c)=>{var d=c("./src/core/geometry.js").geometries,h=c("./src/core/system.js").registerSystem;l.exports.System=h("geometry",{init:function(){this.cache={},this.cacheCount={}},clearCache:function(){this.cache={},this.cacheCount={}},getOrCreateGeometry:function(y){var A=this.cache,b,g;return y.skipCache?p(y):(g=this.hash(y),b=A[g],v(this.cacheCount,g),b||(b=p(y),A[g]=b,b))},unuseGeometry:function(y){var A=this.cache,b=this.cacheCount,g,w;y.skipCache||(w=this.hash(y),A[w]&&(m(b,w),!(b[w]>0)&&(g=A[w],g.dispose(),delete A[w],delete b[w])))},hash:function(y){return JSON.stringify(y)}});function p(y){var A=y.primitive,b=d[A]&&d[A].Geometry,g=new b;if(!b)throw new Error("Unknown geometry `"+A+"`");return g.init(y),g.geometry}function m(y,A){y[A]--}function v(y,A){y[A]=y[A]===void 0?1:y[A]+1}},"./src/systems/gltf-model.js":(l,u,c)=>{var d=c("./src/core/system.js").registerSystem,h=c("./src/lib/three.js");function p(m){return new Promise(function(v,y){var A=document.createElement("script");document.body.appendChild(A),A.onload=v,A.onerror=y,A.async=!0,A.src=m})}l.exports.System=d("gltf-model",{schema:{dracoDecoderPath:{default:"https://www.gstatic.com/draco/versioned/decoders/1.5.6/"},basisTranscoderPath:{default:""},meshoptDecoderPath:{default:""}},init:function(){this.update()},update:function(){var m=this.data.dracoDecoderPath,v=this.data.basisTranscoderPath,y=this.data.meshoptDecoderPath;!this.dracoLoader&&m&&(this.dracoLoader=new h.DRACOLoader,this.dracoLoader.setDecoderPath(m)),!this.ktx2Loader&&v&&(this.ktx2Loader=new h.KTX2Loader,this.ktx2Loader.setTranscoderPath(v).detectSupport(this.el.renderer)),!this.meshoptDecoder&&y&&(this.meshoptDecoder=p(y).then(function(){return window.MeshoptDecoder.ready}).then(function(){return window.MeshoptDecoder}))},getDRACOLoader:function(){return this.dracoLoader},getKTX2Loader:function(){return this.ktx2Loader},getMeshoptDecoder:function(){return this.meshoptDecoder}})},"./src/systems/index.js":(l,u,c)=>{c("./src/systems/camera.js"),c("./src/systems/geometry.js"),c("./src/systems/gltf-model.js"),c("./src/systems/light.js"),c("./src/systems/material.js"),c("./src/systems/renderer.js"),c("./src/systems/shadow.js"),c("./src/systems/tracked-controls-webvr.js"),c("./src/systems/tracked-controls-webxr.js"),c("./src/systems/webxr.js")},"./src/systems/light.js":(l,u,c)=>{var d=c("./src/core/system.js").registerSystem,h=c("./src/utils/bind.js"),p=c("./src/constants/index.js"),m="data-aframe-default-light";l.exports.System=d("light",{schema:{defaultLightsEnabled:{default:!0}},init:function(){this.defaultLights=!1,this.userDefinedLights=!1,this.sceneEl.addEventListener("loaded",h(this.setupDefaultLights,this))},registerLight:function(v){v.hasAttribute(m)||(this.removeDefaultLights(),this.userDefinedLights=!0)},removeDefaultLights:function(){var v,y=this.sceneEl;if(this.defaultLights){v=document.querySelectorAll("["+m+"]");for(var A=0;A<v.length;A++)y.removeChild(v[A]);this.defaultLights=!1}},setupDefaultLights:function(){var v=this.sceneEl,y,A;this.userDefinedLights||this.defaultLights||!this.data.defaultLightsEnabled||(y=document.createElement("a-entity"),y.setAttribute("light",{color:"#BBB",type:"ambient"}),y.setAttribute(m,""),y.setAttribute(p.AFRAME_INJECTED,""),v.appendChild(y),A=document.createElement("a-entity"),A.setAttribute("light",{color:"#FFF",intensity:.6,castShadow:!0}),A.setAttribute("position",{x:-.5,y:1,z:1}),A.setAttribute(m,""),A.setAttribute(p.AFRAME_INJECTED,""),v.appendChild(A),this.defaultLights=!0)}})},"./src/systems/material.js":(l,u,c)=>{var d=c("./src/core/system.js").registerSystem,h=c("./src/lib/three.js"),p=c("./src/utils/index.js"),m=c("./src/utils/material.js").isHLS,v=c("./src/utils/material.js").setTextureProperties,y=p.bind,A=p.debug,b=A("components:texture:error"),g=new h.TextureLoader,w=A("components:texture:warn");g.setCrossOrigin("anonymous"),l.exports.System=d("material",{init:function(){this.materials={},this.textureCounts={},this.textureCache={},this.sceneEl.addEventListener("materialtextureloaded",y(this.onMaterialTextureLoaded,this))},clearTextureCache:function(){this.textureCache={}},loadTexture:function(R,P,T){var D=this;if(R.tagName==="CANVAS"){this.loadCanvas(R,P,T);return}if(R.tagName==="VIDEO"){!R.src&&!R.srcObject&&!R.childElementCount&&w("Video element was defined with neither `source` elements nor `src` / `srcObject` attributes."),this.loadVideo(R,P,T);return}p.srcLoader.validateSrc(R,$,V);function $(B){D.loadImage(B,P,T)}function V(B){D.loadVideo(B,P,T)}},loadImage:function(R,P,T){var D=this.hash(P),$=this.textureCache;if($[D]){$[D].then(T);return}$[D]=C(R,P),$[D].then(T)},loadCanvas:function(R,P,T){var D;D=new h.CanvasTexture(R),v(D,P),T(D)},loadVideo:function(R,P,T){var D,$,V=this.textureCache,B,O;function F(k){k.texture.needsUpdate=!0,T(k.texture,k.videoEl)}if(typeof R!="string"){if(B=R,D=this.hashVideo(P,B),V[D]){V[D].then(F);return}L(B)}if(B=B||_(R,P.width,P.height),D=this.hashVideo(P,B),V[D]){V[D].then(F);return}$=new h.VideoTexture(B),$.minFilter=h.LinearFilter,v($,P),this.sceneEl.isIOS&&m(B.src||B.getAttribute("src"),B.type||B.getAttribute("type"))&&($.format=h.RGBAFormat,$.needsCorrectionBGRA=!0,$.flipY=!1,$.needsCorrectionFlipY=!0),O={texture:$,videoEl:B},V[D]=Promise.resolve(O),F(O)},hash:function(R){return R.src.tagName&&(R=p.extendDeep({},R),R.src=R.src.src),JSON.stringify(R)},hashVideo:function(R,P){return E(R,P)},registerMaterial:function(R){this.materials[R.uuid]=R},unregisterMaterial:function(R){delete this.materials[R.uuid];var P=this.textureCounts;Object.keys(R).filter(function(T){return R[T]&&R[T].isTexture}).forEach(function(T){P[R[T].uuid]--,P[R[T].uuid]<=0&&R[T].dispose()})},updateMaterials:function(R){var P=this.materials;Object.keys(P).forEach(function(T){P[T].needsUpdate=!0})},onMaterialTextureLoaded:function(R){this.textureCounts[R.detail.texture.uuid]||(this.textureCounts[R.detail.texture.uuid]=0),this.textureCounts[R.detail.texture.uuid]++}});function E(R,P){var T,D=P.getAttribute("id"),$,V;if(D)return D;for($="",V=R||{},T=0;T<P.attributes.length;T++)V[P.attributes[T].name]=P.attributes[T].value;return Object.keys(V).sort().forEach(function(B){$+=B+":"+V[B]+";"}),$}function C(R,P){return new Promise(T);function T(D,$){var V=typeof R!="string";function B(O){v(O,P),O.needsUpdate=!0,D(O)}if(V){B(new h.Texture(R));return}g.load(R,B,function(){},function(O){b("`$s` could not be fetched (Error code: %s; Response: %s)",O.status,O.statusText)})}}function _(R,P,T){var D=document.createElement("video");return D.width=P,D.height=T,D.setAttribute("playsinline",""),D.setAttribute("webkit-playsinline",""),D.autoplay=!0,D.loop=!0,D.crossOrigin="anonymous",D.addEventListener("error",function(){w("`$s` is not a valid video",R)},!0),D.src=R,D}function L(R){return R.autoplay=R.hasAttribute("autoplay")&&R.getAttribute("autoplay")!=="false",R.controls=R.hasAttribute("controls")&&R.getAttribute("controls")!=="false",R.getAttribute("loop")==="false"&&R.removeAttribute("loop"),R.getAttribute("preload")==="false"&&(R.preload="none"),R.crossOrigin=R.crossOrigin||"anonymous",R.setAttribute("playsinline",""),R.setAttribute("webkit-playsinline",""),R}},"./src/systems/renderer.js":(l,u,c)=>{var d=c("./src/core/system.js").registerSystem,h=c("./src/utils/index.js"),p=c("./src/lib/three.js"),m=h.debug,v=m("components:renderer:warn");l.exports.System=d("renderer",{schema:{antialias:{default:"auto",oneOf:["true","false","auto"]},highRefreshRate:{default:h.device.isOculusBrowser()},logarithmicDepthBuffer:{default:"auto",oneOf:["true","false","auto"]},maxCanvasWidth:{default:1920},maxCanvasHeight:{default:1920},physicallyCorrectLights:{default:!1},exposure:{default:1,if:{toneMapping:["ACESFilmic","linear","reinhard","cineon"]}},toneMapping:{default:"no",oneOf:["no","ACESFilmic","linear","reinhard","cineon"]},precision:{default:"high",oneOf:["high","medium","low"]},sortObjects:{default:!1},colorManagement:{default:!1},gammaOutput:{default:!1},alpha:{default:!0},foveationLevel:{default:1}},init:function(){var y=this.data,A=this.el,b=this.data.toneMapping.charAt(0).toUpperCase()+this.data.toneMapping.slice(1),g=A.renderer;g.sortObjects=y.sortObjects,g.physicallyCorrectLights=y.physicallyCorrectLights,g.toneMapping=p[b+"ToneMapping"],(y.colorManagement||y.gammaOutput)&&(g.outputEncoding=p.sRGBEncoding,y.gammaOutput&&v('Property `gammaOutput` is deprecated. Use `renderer="colorManagement: true;"` instead.')),A.hasAttribute("antialias")&&v('Component `antialias` is deprecated. Use `renderer="antialias: true"` instead.'),A.hasAttribute("logarithmicDepthBuffer")&&v('Component `logarithmicDepthBuffer` is deprecated. Use `renderer="logarithmicDepthBuffer: true"` instead.')},update:function(){var y=this.data,A=this.el,b=A.renderer,g=this.data.toneMapping.charAt(0).toUpperCase()+this.data.toneMapping.slice(1);b.toneMapping=p[g+"ToneMapping"],b.toneMappingExposure=y.exposure,b.xr.setFoveation(y.foveationLevel)},applyColorCorrection:function(y){!this.data.colorManagement||!y||(y.isColor?y.convertSRGBToLinear():y.isTexture&&(y.encoding=p.sRGBEncoding))},setWebXRFrameRate:function(y){var A=this.data,b=y.supportedFrameRates;if(b&&y.updateTargetFrameRate){let g;b.includes(90)?g=A.highRefreshRate?90:72:g=A.highRefreshRate?72:60,y.updateTargetFrameRate(g).catch(function(w){console.warn("failed to set target frame rate of "+g+". Error info: "+w)})}}})},"./src/systems/shadow.js":(l,u,c)=>{var d=c("./src/core/system.js").registerSystem,h=c("./src/lib/three.js"),p={basic:h.BasicShadowMap,pcf:h.PCFShadowMap,pcfsoft:h.PCFSoftShadowMap};l.exports.System=d("shadow",{schema:{enabled:{default:!0},autoUpdate:{default:!0},type:{default:"pcf",oneOf:["basic","pcf","pcfsoft"]}},init:function(){var m=this.sceneEl,v=this.data;this.shadowMapEnabled=!1,m.renderer&&(m.renderer.shadowMap.type=p[v.type],m.renderer.shadowMap.autoUpdate=v.autoUpdate,this.setShadowMapEnabled(this.shadowMapEnabled))},update:function(m){m.enabled!==this.data.enabled&&this.setShadowMapEnabled(this.data.enabled)},setShadowMapEnabled:function(m){var v=this.sceneEl.renderer;this.shadowMapEnabled=this.data.enabled&&m,v&&(v.shadowMap.enabled=this.shadowMapEnabled)}})},"./src/systems/tracked-controls-webvr.js":(l,u,c)=>{var d=c("./src/core/system.js").registerSystem,h=c("./src/utils/index.js"),p=h.device.isWebXRAvailable;l.exports.System=d("tracked-controls-webvr",{init:function(){var m=this;this.controllers=[],this.isChrome=navigator.userAgent.indexOf("Chrome")!==-1,this.updateControllerList(),this.throttledUpdateControllerList=h.throttle(this.updateControllerList,500,this),!p&&navigator.getVRDisplays&&this.sceneEl.addEventListener("enter-vr",function(){navigator.getVRDisplays().then(function(v){v.length&&(m.vrDisplay=v[0])})})},tick:function(){this.isChrome?this.updateControllerList():this.throttledUpdateControllerList()},updateControllerList:function(){var m=this.controllers,v,y,A,b;if(y=navigator.getGamepads&&navigator.getGamepads(),!!y){for(b=m.length,m.length=0,A=0;A<y.length;++A)v=y[A],v&&v.pose&&m.push(v);m.length!==b&&this.el.emit("controllersupdated",void 0,!1)}}})},"./src/systems/tracked-controls-webxr.js":(l,u,c)=>{var d=c("./src/core/system.js").registerSystem,h=c("./src/utils/index.js");l.exports.System=d("tracked-controls-webxr",{init:function(){this.controllers=[],this.oldControllers=[],this.oldControllersLength=0,this.throttledUpdateControllerList=h.throttle(this.updateControllerList,500,this),this.updateReferenceSpace=this.updateReferenceSpace.bind(this),this.el.addEventListener("enter-vr",this.updateReferenceSpace),this.el.addEventListener("exit-vr",this.updateReferenceSpace)},tick:function(){this.throttledUpdateControllerList()},updateReferenceSpace:function(){var p=this,m=this.el.xrSession;if(!m){this.referenceSpace=void 0,this.controllers=[],this.oldControllersLength>0&&(this.oldControllersLength=0,this.el.emit("controllersupdated",void 0,!1));return}var v=p.el.sceneEl.systems.webxr.sessionReferenceSpaceType;m.requestReferenceSpace(v).then(function(y){p.referenceSpace=y}).catch(function(y){throw p.el.sceneEl.systems.webxr.warnIfFeatureNotRequested(v,'tracked-controls-webxr uses reference space "'+v+'".'),y})},updateControllerList:function(){var p=this.el.xrSession,m=this.oldControllers,v;if(!p){if(this.oldControllersLength===0)return;this.oldControllersLength=0,this.controllers=[],this.el.emit("controllersupdated",void 0,!1);return}if(p.inputSources){if(this.controllers=p.inputSources,this.oldControllersLength===this.controllers.length){var y=!0;for(v=0;v<this.controllers.length;++v)if(!(this.controllers[v]===m[v]&&this.controllers[v].gamepad===m[v].gamepad)){y=!1;break}if(y)return}for(m.length=0,v=0;v<this.controllers.length;v++)m.push(this.controllers[v]);this.oldControllersLength=this.controllers.length,this.el.emit("controllersupdated",void 0,!1)}}})},"./src/systems/webxr.js":(l,u,c)=>{var d=c("./src/core/system.js").registerSystem,h=c("./src/utils/index.js"),p=h.debug("systems:webxr:warn");l.exports.System=d("webxr",{schema:{referenceSpaceType:{type:"string",default:"local-floor"},requiredFeatures:{type:"array",default:["local-floor"]},optionalFeatures:{type:"array",default:["bounded-floor"]},overlayElement:{type:"selector"}},update:function(){var m=this.data;this.sessionConfiguration={requiredFeatures:m.requiredFeatures,optionalFeatures:m.optionalFeatures},this.sessionReferenceSpaceType=m.referenceSpaceType,m.overlayElement&&(m.overlayElement.classList.remove("a-dom-overlay"),m.optionalFeatures.includes("dom-overlay")||(m.optionalFeatures.push("dom-overlay"),this.el.setAttribute("webxr",m)),this.warnIfFeatureNotRequested("dom-overlay"),this.sessionConfiguration.domOverlay={root:m.overlayElement},m.overlayElement.classList.add("a-dom-overlay"))},wasFeatureRequested:function(m){return!!(m==="viewer"||m==="local"||this.sessionConfiguration.requiredFeatures.includes(m)||this.sessionConfiguration.optionalFeatures.includes(m))},warnIfFeatureNotRequested:function(m,v){if(!this.wasFeatureRequested(m)){var y='Please add the feature "'+m+`" to a-scene's webxr system options in requiredFeatures/optionalFeatures.`;p((v?v+" ":"")+y)}}})},"./src/utils/bind.js":l=>{l.exports=function(c,d){return function(h){return function(){var m=h.concat(Array.prototype.slice.call(arguments,0));return c.apply(d,m)}}(Array.prototype.slice.call(arguments,2))}},"./src/utils/coordinates.js":(l,u,c)=>{var d=c("./src/utils/debug.js"),h=c("./node_modules/object-assign/index.js"),p=d("utils:coordinates:warn"),m=["x","y","z","w"],v=/^\s*((-?\d*\.{0,1}\d+(e-?\d+)?)\s+){2,3}(-?\d*\.{0,1}\d+(e-?\d+)?)\s*$/;l.exports.regex=v;var y="object",A=/\s+/g;function b(C,_){var L,R,P,T,D,$,V,B,O;if(C&&C instanceof Object)return $=C.x===void 0?_&&_.x:C.x,V=C.y===void 0?_&&_.y:C.y,B=C.z===void 0?_&&_.z:C.z,O=C.w===void 0?_&&_.w:C.w,$!=null&&(C.x=E($)),V!=null&&(C.y=E(V)),B!=null&&(C.z=E(B)),O!=null&&(C.w=E(O)),C;if(C==null)return typeof _===y?h({},_):_;for(L=C.trim().split(A),D={},T=0;T<m.length;T++)if(P=m[T],L[T])D[P]=parseFloat(L[T],10);else{if(R=_&&_[P],R===void 0)continue;D[P]=E(R)}return D}l.exports.parse=b;function g(C){var _;return typeof C!==y?C:(_=C.x+" "+C.y,C.z!=null&&(_+=" "+C.z),C.w!=null&&(_+=" "+C.w),_)}l.exports.stringify=g;function w(C){return v.test(C)}l.exports.isCoordinates=w,l.exports.isCoordinate=function(C){return p("`AFRAME.utils.isCoordinate` has been renamed to `AFRAME.utils.isCoordinates`"),w(C)};function E(C){return C!=null&&C.constructor===String?parseFloat(C,10):C}l.exports.toVector3=function(C){return new THREE.Vector3(C.x,C.y,C.z)}},"./src/utils/debug.js":(l,u,c)=>{var d=c("./node_modules/process/browser.js"),h=c("./node_modules/debug/browser.js"),p=c("./node_modules/object-assign/index.js"),m={colors:{debug:"gray",error:"red",info:"gray",warn:"orange"}},v=function(w){var E=h(w);return E.color=A(w),E};p(v,h);function y(w){var E=w.split(":");return E[E.length-1]}function A(w){var E=y(w),C=m.colors&&m.colors[E];return C||null}function b(){try{return window.localStorage}catch{}}var g=b();g&&(parseInt(g.logs,10)||g.logs==="true")?v.enable("*"):v.enable("*:error,*:info,*:warn"),d.browser&&(window.logs=v),l.exports=v},"./src/utils/device.js":(l,u,c)=>{var d=c("./node_modules/process/browser.js"),h=c("./node_modules/debug/browser.js")("device:error"),p,m=!1,v=!1,y=l.exports.isWebXRAvailable=!window.debug&&navigator.xr!==void 0;if(window.addEventListener("vrdisplayactivate",function(B){var O;y||(O=document.createElement("canvas"),p=B.display,O.getContext("webgl",{}),p.requestPresent([{source:O}]).then(function(){},function(){}))}),y){var A=function(){var B=document.querySelector("a-scene");if(!B){window.addEventListener("DOMContentLoaded",A);return}B.hasLoaded?B.components["vr-mode-ui"].updateEnterInterfaces():B.addEventListener("loaded",A)},b=function(B){h("WebXR session support error: "+B.message)};navigator.xr.isSessionSupported?(navigator.xr.isSessionSupported("immersive-vr").then(function(B){m=B,A()}).catch(b),navigator.xr.isSessionSupported("immersive-ar").then(function(B){v=B,A()}).catch(function(){})):navigator.xr.supportsSession?(navigator.xr.supportsSession("immersive-vr").then(function(){m=!0,A()}).catch(b),navigator.xr.supportsSession("immersive-ar").then(function(){v=!0,A()}).catch(function(){})):h("WebXR has neither isSessionSupported or supportsSession?!")}else navigator.getVRDisplays&&navigator.getVRDisplays().then(function(B){var O=document.querySelector("a-scene");p=B.length&&B[0],O&&O.emit("displayconnected",{vrDisplay:p})});function g(){return p}l.exports.getVRDisplay=g;function w(){return m||v||!!g()}l.exports.checkHeadsetConnected=w;function E(){return v}l.exports.checkARSupport=E;function C(){return m}l.exports.checkVRSupport=C;var _=function(){var B=!1;return function(O){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(O)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(O.substr(0,4)))&&(B=!0),(R()||L()||V())&&(B=!0),$()&&(B=!1)}(window.navigator.userAgent||window.navigator.vendor||window.opera),function(){return B}}();l.exports.isMobile=_;function L(B){var O=B||window.navigator.userAgent;return/ipad|Nexus (7|9)|xoom|sch-i800|playbook|tablet|kindle/i.test(O)}l.exports.isTablet=L;function R(){return/iPad|iPhone|iPod/.test(window.navigator.platform)}l.exports.isIOS=R;function P(){return!_()&&!$()&&window.orientation!==void 0}l.exports.isMobileDeviceRequestingDesktopSite=P;function T(){return/(OculusBrowser)/i.test(window.navigator.userAgent)}l.exports.isOculusBrowser=T;function D(){return/(Mobile VR)/i.test(window.navigator.userAgent)}l.exports.isFirefoxReality=D;function $(){return T()||D()}l.exports.isMobileVR=$;function V(){return/R7 Build/.test(window.navigator.userAgent)}l.exports.isR7=V,l.exports.isLandscape=function(){var B=window.orientation;return V()&&(B+=90),B===90||B===-90},l.exports.isBrowserEnvironment=!!(!d||d.browser),l.exports.isNodeEnvironment=!l.exports.isBrowserEnvironment},"./src/utils/entity.js":l=>{var u={};function c(d,h){return h=h||".",u[h]||(u[h]={}),d.indexOf(h)!==-1?u[h][d]=d.split(h):u[h][d]=d,u[h][d]}l.exports.getComponentPropertyPath=c,l.exports.propertyPathCache=u,l.exports.getComponentProperty=function(d,h,p){var m;return p=p||".",h.indexOf(p)!==-1?(m=c(h,p),m.constructor===String?d.getAttribute(m):d.getAttribute(m[0])[m[1]]):d.getAttribute(h)},l.exports.setComponentProperty=function(d,h,p,m){var v;if(m=m||".",h.indexOf(m)!==-1){v=c(h,m),v.constructor===String?d.setAttribute(v,p):d.setAttribute(v[0],v[1],p);return}d.setAttribute(h,p)}},"./src/utils/forceCanvasResizeSafariMobile.js":l=>{l.exports=function(c){var d=c.style.width,h=c.style.height;c.style.width=parseInt(d,10)+1+"px",c.style.height=parseInt(h,10)+1+"px",setTimeout(function(){c.style.width=d,c.style.height=h},200)}},"./src/utils/index.js":(l,u,c)=>{var d=c("./src/utils/debug.js"),h=c("./node_modules/deep-assign/index.js"),p=c("./src/utils/device.js"),m=c("./node_modules/object-assign/index.js"),v=c("./src/utils/object-pool.js"),y=d("utils:warn");l.exports.bind=c("./src/utils/bind.js"),l.exports.coordinates=c("./src/utils/coordinates.js"),l.exports.debug=d,l.exports.device=p,l.exports.entity=c("./src/utils/entity.js"),l.exports.forceCanvasResizeSafariMobile=c("./src/utils/forceCanvasResizeSafariMobile.js"),l.exports.isIE11=c("./src/utils/is-ie11.js"),l.exports.material=c("./src/utils/material.js"),l.exports.objectPool=v,l.exports.split=c("./src/utils/split.js").split,l.exports.styleParser=c("./src/utils/styleParser.js"),l.exports.trackedControls=c("./src/utils/tracked-controls.js"),l.exports.checkHeadsetConnected=function(){return y("`utils.checkHeadsetConnected` has moved to `utils.device.checkHeadsetConnected`"),p.checkHeadsetConnected(arguments)},l.exports.isGearVR=l.exports.device.isGearVR=function(){y("`utils.isGearVR` has been deprecated, use `utils.device.isMobileVR`")},l.exports.isIOS=function(){return y("`utils.isIOS` has moved to `utils.device.isIOS`"),p.isIOS(arguments)},l.exports.isOculusGo=l.exports.device.isOculusGo=function(){y("`utils.isOculusGo` has been deprecated, use `utils.device.isMobileVR`")},l.exports.isMobile=function(){return y("`utils.isMobile has moved to `utils.device.isMobile`"),p.isMobile(arguments)},l.exports.throttle=function(b,g,w){var E;return w&&(b=l.exports.bind(b,w)),function(){var C=Date.now(),_=typeof E>"u"?g:C-E;(typeof E>"u"||_>=g)&&(E=C,b.apply(null,arguments))}},l.exports.throttleLeadingAndTrailing=function(b,g,w){var E,C;return w&&(b=l.exports.bind(b,w)),function(){var _=Date.now(),L=typeof E>"u"?g:_-E,R=arguments;typeof E>"u"||L>=g?(clearTimeout(C),E=_,b.apply(null,R)):(clearTimeout(C),C=setTimeout(function(){E=Date.now(),b.apply(this,R)},g-L))}},l.exports.throttleTick=function(b,g,w){var E;return w&&(b=l.exports.bind(b,w)),function(C,_){var L=typeof E>"u"?_:C-E;(typeof E>"u"||L>=g)&&(E=C,b(C,L))}},l.exports.debounce=function(b,g,w){var E;return function(){var C=this,_=arguments,L=function(){E=null,w||b.apply(C,_)},R=w&&!E;clearTimeout(E),E=setTimeout(L,g),R&&b.apply(C,_)}},l.exports.extend=m,l.exports.extendDeep=h,l.exports.clone=function(b){return JSON.parse(JSON.stringify(b))};var A=function(){var b=v.createPool(function(){return[]});return function(g,w){var E,C,_,L,R,P;if(g===void 0||w===void 0||g===null||w===null||!(g&&w&&g.constructor===Object&&w.constructor===Object||g.constructor===Array&&w.constructor===Array))return g===w;C=b.use(),_=b.use(),C.length=0,_.length=0;for(E in g)C.push(E);for(E in w)_.push(E);if(C.length!==_.length)return b.recycle(C),b.recycle(_),!1;for(L=0;L<C.length;++L)if(R=g[C[L]],P=w[C[L]],typeof R=="object"||typeof P=="object"||Array.isArray(R)&&Array.isArray(P)){if(R===P)continue;if(!A(R,P))return b.recycle(C),b.recycle(_),!1}else if(R!==P)return b.recycle(C),b.recycle(_),!1;return b.recycle(C),b.recycle(_),!0}}();l.exports.deepEqual=A,l.exports.diff=function(){var b=[];return function(g,w,E){var C,_,L,R,P,T,D;R=E||{},b.length=0;for(P in g)b.push(P);if(!w)return R;for(L in w)b.indexOf(L)===-1&&b.push(L);for(T=0;T<b.length;T++)P=b[T],C=g[P],_=w[P],D=C&&_&&C.constructor===Object&&_.constructor===Object,(D&&!A(C,_)||!D&&C!==_)&&(R[P]=_);return R}}(),l.exports.shouldCaptureKeyEvent=function(b){return b.metaKey?!1:document.activeElement===document.body},l.exports.splitString=function(b,g){typeof g>"u"&&(g=" ");var w=new RegExp(g,"g");return b=(b||"").replace(w,g),b.split(g)},l.exports.getElData=function(b,g){g=g||{};var w={};Object.keys(g).forEach(E);function E(C){b.hasAttribute(C)&&(w[C]=b.getAttribute(C))}return w},l.exports.getUrlParameter=function(b){b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var g=new RegExp("[\\?&]"+b+"=([^&#]*)"),w=g.exec(location.search);return w===null?"":decodeURIComponent(w[1].replace(/\+/g," "))},l.exports.isIframed=function(){return window.top!==window.self},l.exports.findAllScenes=function(b){for(var g=[],w=b.getElementsByTagName("*"),E=0,C=w.length;E<C;E++)w[E].isScene&&g.push(w[E]);return g},l.exports.srcLoader=c("./src/utils/src-loader.js")},"./src/utils/ios-orientationchange-blank-bug.js":()=>{window.addEventListener("orientationchange",function(){document.documentElement.style.height="initial",setTimeout(function(){document.documentElement.style.height="100%",setTimeout(function(){window.scrollTo(0,1)},500)},500)})},"./src/utils/is-ie11.js":l=>{function u(){var c=-1,d=navigator.userAgent,h;return navigator.appName==="Microsoft Internet Explorer"?(h=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})"),h.exec(d)!=null&&(c=parseFloat(RegExp.$1))):navigator.appName==="Netscape"&&(h=new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})"),h.exec(d)!=null&&(c=parseFloat(RegExp.$1))),c}l.exports=u()===11},"./src/utils/isIOSOlderThan10.js":l=>{l.exports=function(c){return/(iphone|ipod|ipad).*os.(7_|8_|9_)/i.test(c)}},"./src/utils/material.js":(l,u,c)=>{var d=c("./src/lib/three.js"),h=["application/x-mpegurl","application/vnd.apple.mpegurl"],p=new Set(["emissiveMap","envMap","map","specularMap"]);function m(y,A){var b=A.offset||{x:0,y:0},g=A.repeat||{x:1,y:1},w=A.npot||!1;w&&(y.wrapS=d.ClampToEdgeWrapping,y.wrapT=d.ClampToEdgeWrapping,y.magFilter=d.LinearFilter,y.minFilter=d.LinearFilter),(g.x!==1||g.y!==1)&&(y.wrapS=d.RepeatWrapping,y.wrapT=d.RepeatWrapping,y.repeat.set(g.x,g.y)),(b.x!==0||b.y!==0)&&y.offset.set(b.x,b.y)}l.exports.setTextureProperties=m,l.exports.updateMapMaterialFromData=function(y,A,b,g){var w=b.el,E=b.material,C=w.sceneEl.systems.renderer,_=g[A];if(b.materialSrcs||(b.materialSrcs={}),!_){delete b.materialSrcs[y],R(null);return}if(_===b.materialSrcs[y]&&E[y]){m(E[y],g);return}b.materialSrcs[y]=_,_ instanceof d.Texture?R(_):w.sceneEl.systems.material.loadTexture(_,{src:_,repeat:g.repeat,offset:g.offset,npot:g.npot},L);function L(P){b.materialSrcs[y]===_&&R(P)}function R(P){E[y]=P,P&&p.has(y)&&C.applyColorCorrection(P),E.needsUpdate=!0,v(w,P)}},l.exports.updateMap=function(y,A){return l.exports.updateMapMaterialFromData("map","src",y,A)},l.exports.updateDistortionMap=function(y,A,b){var g=y;y==="ambientOcclusion"&&(g="ao");var w=A.el,E=A.material,C=w.sceneEl.systems.renderer,_=b[y+"Map"],L={};if(L.src=_,L.offset=b[y+"TextureOffset"],L.repeat=b[y+"TextureRepeat"],L.wrap=b[y+"TextureWrap"],_){if(_===A[y+"TextureSrc"])return;A[y+"TextureSrc"]=_,w.sceneEl.systems.material.loadTexture(_,L,R);return}if(!E.map)return;R(null);function R(P){var T=g+"Map";E[T]=P,P&&p.has(T)&&C.applyColorCorrection(P),P&&m(P,b),E.needsUpdate=!0,v(w,P)}};function v(y,A){A&&(y.emit("materialtextureloaded",{src:A.image,texture:A}),!(!A.image||A.image.tagName!=="VIDEO")&&(A.image.addEventListener("loadeddata",function(){!y.components||!y.components.material||(A.needsCorrectionBGRA&&A.needsCorrectionFlipY&&["standard","flat"].indexOf(y.components.material.data.shader)!==-1&&y.setAttribute("material","shader","ios10hls"),y.emit("materialvideoloadeddata",{src:A.image,texture:A}))}),A.image.addEventListener("ended",function(){y.emit("materialvideoended",{src:A.image,texture:A})})))}l.exports.handleTextureEvents=v,l.exports.isHLS=function(y,A){return!!(A&&h.includes(A.toLowerCase())||y&&y.toLowerCase().indexOf(".m3u8")>0)}},"./src/utils/math.js":l=>{function u(d,h,p){var m=h.dot(d);return(m-h.dot(p))/h.length()}function c(d,h,p,m){var v=u(d,h,p);return m.copy(h),m.multiplyScalar(v),m.add(p),m}l.exports.distanceOfPointFromPlane=u,l.exports.nearestPointInPlane=c},"./src/utils/object-pool.js":l=>{var u=Object.freeze(Object.create(null));function c(){return{}}l.exports.createPool=function(m){var v=[],y=null;m=m||c;function A(){var E;return(y===null||y===v.length)&&g(v.length||5),E=v[y],v[y++]=u,d(E),E}function b(E){if(E instanceof Object){if(y===null||y===-1){v[v.length]=E;return}v[--y]=E}}function g(E){var C,_;if(E=E===void 0?v.length:E,E>0&&y==null&&(y=0),E>0)for(C=v.length,v.length+=Number(E),_=C;_<v.length;_++)v[_]=m();return v.length}function w(){return v.length}return{grow:g,pool:v,recycle:b,size:w,use:A}};function d(p){var m;if(!(!p||p.constructor!==Object))for(m in p)p[m]=void 0}l.exports.clearObject=d;function h(p,m){var v;if(!(!p||p.constructor!==Object))for(v in p)v in m||delete p[v]}l.exports.removeUnusedKeys=h},"./src/utils/split.js":l=>{l.exports.split=function(){var u={};return function(c,d){return d in u||(u[d]={}),c in u[d]||(u[d][c]=c.split(d)),u[d][c]}}()},"./src/utils/src-loader.js":(l,u,c)=>{var d=c("./src/utils/debug.js"),h=d("utils:src-loader:warn");function p(g,w,E){y(g,function(_){if(_){w(g);return}E(g)})}function m(g,w){var E,C="",_,L,R=[];for(_=0;_<5;_++)C+="(url\\((?:[^\\)]+)\\),\\s*)";C+="(url\\((?:[^\\)]+)\\)\\s*)",L=g.match(new RegExp(C));function P(T){R.push(T),R.length===6&&w(R)}if(L){for(_=1;_<7;_++)p(v(L[_]),P);return}if(E=b(g),!!E){if(E.tagName==="A-CUBEMAP"&&E.srcs)return w(E.srcs);h('Selector "%s" does not point to <a-cubemap>',g)}}function v(g){var w=g.match(/\url\((.+)\)/);if(w)return w[1]}function y(g,w){var E;if(g.tagName){w(g.tagName==="IMG");return}E=new XMLHttpRequest,E.open("HEAD",g),E.addEventListener("load",function(C){var _;E.status>=200&&E.status<300?(_=E.getResponseHeader("Content-Type"),_==null?A(g,w):_.startsWith("image")?w(!0):w(!1)):A(g,w),E.abort()}),E.send()}function A(g,w){var E=new Image;E.addEventListener("load",C);function C(){w(!0)}E.addEventListener("error",_);function _(){w(!1)}E.src=g}function b(g){try{var w=document.querySelector(g);return w||h('No element was found matching the selector: "%s"',g),w}catch{h('"%s" is not a valid selector',g);return}}l.exports={parseUrl:v,validateSrc:p,validateCubemapSrc:m}},"./src/utils/styleParser.js":l=>{var u=/-([a-z])/g;l.exports.parse=function(y,A){var b;return typeof y!="string"||(b=p(y,A),b[""])?y:d(b)},l.exports.stringify=function(y){return typeof y=="string"?y:m(y)};function c(y){return y.replace(u,v)}l.exports.toCamelCase=c;function d(y){var A,b;for(b in y)A=c(b),b!==A&&(y[A]=y[b],delete y[b]);return y}l.exports.transformKeysToCamelCase=d;var h=function(){var y=[],A=/url\([^)]+$/;return function(g){var w="",E,C=0,_=";";for(y.length=0;C<g.length;){if(E=g.indexOf(_,C),E===-1&&(E=g.length),w+=g.substring(C,E),A.test(w)){w+=";",C=E+1;continue}y.push(w.trim()),w="",C=E+1}return y}}();function p(y,A){var b,g,w,E,C,_;for(A=A||{},b=h(y),g=0;g<b.length;g++)w=b[g],w&&(E=w.indexOf(":"),C=w.substr(0,E).trim(),_=w.substr(E+1).trim(),A[C]=_);return A}function m(y){var A,b=0,g=0,w="";for(A in y)b++;for(A in y)w+=A+": "+y[A],g<b-1&&(w+="; "),g++;return w}function v(y){return y[1].toUpperCase()}},"./src/utils/tracked-controls.js":(l,u,c)=>{var d=c("./src/constants/index.js").DEFAULT_HANDEDNESS,h=["x","y","z","w"],p=2;l.exports.checkControllerPresentAndSetup=function(b,g,w){var E=b.el,C,_=E.sceneEl.hasWebXR,L=_?v:m,R;if(C=L(b,g,w),R=!!C,b.controllerPresent&&!b.controllerEventsActive&&!_&&b.addEventListeners(),R===b.controllerPresent)return R;b.controllerPresent=R,R?(b.addEventListeners(),b.injectTrackedControls(C),E.emit("controllerconnected",{name:b.name,component:b})):(b.removeEventListeners(),E.emit("controllerdisconnected",{name:b.name,component:b}))};function m(b,g,w){var E,C=b.el.sceneEl,_,L=w.index||0;return!g||(_=C&&C.systems["tracked-controls-webvr"],!_)||(E=_.controllers,!E.length)?!1:!!y(E,null,g,w.hand,L)}function v(b,g,w){var E,C=b.el.sceneEl,_=C&&C.systems["tracked-controls-webxr"];return!_||(E=_.controllers,!E||!E.length)?!1:A(E,g,w.hand,w.index,w.iterateControllerProfiles,w.handTracking)}l.exports.isControllerPresentWebVR=m,l.exports.isControllerPresentWebXR=v;function y(b,g,w,E,C){var _,L,R=0,P=C>=0?C:0;for(L=0;L<b.length;L++)if(_=b[L],!(w&&!_.id.startsWith(w))&&!(!w&&_.id!==g)&&!(E&&_.hand&&E!==_.hand)){if(E&&!_.hand)P=p*C+(E===d?0:1);else return _;if(R===P)return _;++R}}function A(b,g,w,E,C,_){var L,R,P,T=!1,D,$;for(L=0;L<b.length;L++){if(P=b[L],$=P.profiles,_)T=P.hand;else if(C)for(R=0;R<$.length&&(T=$[R].startsWith(g),!T);R++);else T=$.length>0&&$[0].startsWith(g);if(T){if(D=P.handedness==="right"||P.handedness==="left",D){if(P.handedness===w)return b[L]}else if(L===E)return b[L]}}}l.exports.findMatchingControllerWebVR=y,l.exports.findMatchingControllerWebXR=A,l.exports.emitIfAxesChanged=function(b,g,w){var E,C,_,L,R;for(C in g){for(E=g[C],_=!1,R=0;R<E.length;R++)w.detail.changed[E[R]]&&(_=!0);if(_){for(L={},R=0;R<E.length;R++)L[h[R]]=w.detail.axis[E[R]];b.el.emit(C+"moved",L)}}},l.exports.onButtonEvent=function(b,g,w,E){var C=E?w.mapping[E]:w.mapping,_=C.buttons[b];w.el.emit(_+g),w.updateModel&&w.updateModel(_,g)}},"./vendor/DeviceOrientationControls.js":()=>{THREE.DeviceOrientationControls=function(l){var u=this;this.object=l,this.object.rotation.reorder("YXZ"),this.enabled=!0,this.deviceOrientation={},this.screenOrientation=0,this.alphaOffset=0;var c=function(p){u.deviceOrientation=p},d=function(){u.screenOrientation=window.orientation||0},h=function(){var p=new THREE.Vector3(0,0,1),m=new THREE.Euler,v=new THREE.Quaternion,y=new THREE.Quaternion(-Math.sqrt(.5),0,0,Math.sqrt(.5));return function(A,b,g,w,E){m.set(g,b,-w,"YXZ"),A.setFromEuler(m),A.multiply(y),A.multiply(v.setFromAxisAngle(p,-E))}}();this.connect=function(){d(),window.addEventListener("orientationchange",d,!1),window.addEventListener("deviceorientation",c,!1),u.enabled=!0},this.disconnect=function(){window.removeEventListener("orientationchange",d,!1),window.removeEventListener("deviceorientation",c,!1),u.enabled=!1},this.update=function(){if(u.enabled!==!1){var p=u.deviceOrientation;if(p){var m=p.alpha?THREE.MathUtils.degToRad(p.alpha)+u.alphaOffset:0,v=p.beta?THREE.MathUtils.degToRad(p.beta):0,y=p.gamma?THREE.MathUtils.degToRad(p.gamma):0,A=u.screenOrientation?THREE.MathUtils.degToRad(u.screenOrientation):0;h(u.object.quaternion,m,v,y,A)}}},this.dispose=function(){u.disconnect()},this.connect()}},"./vendor/rStats.extras.js":l=>{window.glStats=function(){var u=null,c=0,d=0,h=0,p=0,m=0,v=0,y=0;function A(R,P){return function(){P.apply(this,arguments),R.apply(this,arguments)}}WebGLRenderingContext.prototype.drawArrays=A(WebGLRenderingContext.prototype.drawArrays,function(){c++,arguments[0]==this.POINTS?v+=arguments[2]:m+=arguments[2]}),WebGLRenderingContext.prototype.drawElements=A(WebGLRenderingContext.prototype.drawElements,function(){d++,p+=arguments[1]/3,m+=arguments[1]}),WebGLRenderingContext.prototype.useProgram=A(WebGLRenderingContext.prototype.useProgram,function(){h++}),WebGLRenderingContext.prototype.bindTexture=A(WebGLRenderingContext.prototype.bindTexture,function(){y++});var b={allcalls:{over:3e3,caption:"Calls (hook)"},drawelements:{caption:"drawElements (hook)"},drawarrays:{caption:"drawArrays (hook)"}},g=[{caption:"WebGL",values:["allcalls","drawelements","drawarrays","useprogram","bindtexture","glfaces","glvertices","glpoints"]}],w=[{base:"allcalls",steps:["drawelements","drawarrays"]}];function E(){u("allcalls").set(c+d),u("drawElements").set(d),u("drawArrays").set(c),u("bindTexture").set(y),u("useProgram").set(h),u("glfaces").set(p),u("glvertices").set(m),u("glpoints").set(v)}function C(){c=0,d=0,h=0,p=0,m=0,v=0,y=0}function _(){}function L(R){u=R}return{update:E,start:C,end:_,attach:L,values:b,groups:g,fractions:w}},window.threeStats=function(u){var c=null,d={"renderer.info.memory.geometries":{caption:"Geometries"},"renderer.info.memory.textures":{caption:"Textures"},"renderer.info.programs":{caption:"Programs"},"renderer.info.render.calls":{caption:"Calls"},"renderer.info.render.triangles":{caption:"Triangles",over:1e3},"renderer.info.render.points":{caption:"Points"}},h=[{caption:"Three.js - Memory",values:["renderer.info.memory.geometries","renderer.info.programs","renderer.info.memory.textures"]},{caption:"Three.js - Render",values:["renderer.info.render.calls","renderer.info.render.triangles","renderer.info.render.points"]}],p=[];function m(){c("renderer.info.memory.geometries").set(u.info.memory.geometries),c("renderer.info.programs").set(u.info.programs.length),c("renderer.info.memory.textures").set(u.info.memory.textures),c("renderer.info.render.calls").set(u.info.render.calls),c("renderer.info.render.triangles").set(u.info.render.triangles),c("renderer.info.render.points").set(u.info.render.points)}function v(){}function y(){}function A(b){c=b}return{update:m,start:v,end:y,attach:A,values:d,groups:h,fractions:p}},window.BrowserStats=function(){var u=null,c=0,d=0;window.performance&&!performance.memory&&(performance.memory={usedJSHeapSize:0,totalJSHeapSize:0}),performance.memory.totalJSHeapSize===0&&console.warn("totalJSHeapSize === 0... performance.memory is only available in Chrome .");var h={memory:{caption:"Used Memory",average:!0,avgMs:1e3,over:22},total:{caption:"Total Memory"}},p=[{caption:"Browser",values:["memory","total"]}],m=[{base:"total",steps:["memory"]}],v=Math.log(1024);function y(E){var C=100,_=Math.floor(Math.log(E)/v);return Math.round(E*C/Math.pow(1024,_))/C}function A(){c=y(performance.memory.usedJSHeapSize),d=y(performance.memory.totalJSHeapSize),u("memory").set(c),u("total").set(d)}function b(){c=0}function g(){}function w(E){u=E}return{update:A,start:b,end:g,attach:w,values:h,groups:p,fractions:m}},l.exports={glStats:window.glStats,threeStats:window.threeStats,BrowserStats:window.BrowserStats}},"./vendor/rStats.js":l=>{(function(){"performance"in window||(window.performance={});var u=window.performance;if(!("now"in u)){var c=Date.now();u.timing&&u.timing.navigationStart&&(c=u.timing.navigationStart),u.now=function(){return Date.now()-c}}u.mark||(u.mark=function(){}),u.measure||(u.measure=function(){})})(),window.rStats=function(c){function d($,V){for(var B=Object.keys($),O=0,F=B.length;O<F;O++)V(B[O])}function h($){var V=document.createElement("link");V.href=$,V.rel="stylesheet",V.type="text/css",document.getElementsByTagName("head")[0].appendChild(V)}var p=c||{},m=p.colours||["#850700","#c74900","#fcb300","#284280","#4c7c0c"],v="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700,300",y=(p.CSSPath?p.CSSPath:"")+"rStats.css",A=p.css||[v,y];A.forEach(function($){h($)}),p.values||(p.values={});var b,g,w=10,E=200,C={};function _($,V,B){var O=B||{},F=document.createElement("canvas"),k=F.getContext("2d"),z=0,G=0,j=O.color?O.color:"#666666",Q=document.createElement("canvas"),X=Q.getContext("2d");Q.width=1,Q.height=2*w,X.fillStyle="#444444",X.fillRect(0,0,1,2*w),X.fillStyle=j,X.fillRect(0,w,1,w),X.fillStyle="#ffffff",X.globalAlpha=.5,X.fillRect(0,w,1,1),X.globalAlpha=1;var J=document.createElement("canvas"),Z=J.getContext("2d");J.width=1,J.height=2*w,Z.fillStyle="#444444",Z.fillRect(0,0,1,2*w),Z.fillStyle="#b70000",Z.fillRect(0,w,1,w),Z.globalAlpha=.5,Z.fillStyle="#ffffff",Z.fillRect(0,w,1,1),Z.globalAlpha=1;function oe(){F.width=E,F.height=w,F.style.width=F.width+"px",F.style.height=F.height+"px",F.className="rs-canvas",$.appendChild(F),k.fillStyle="#444444",k.fillRect(0,0,F.width,F.height)}function ue(Be,ge){G+=(Be-G)*.1,z*=.99,G>z&&(z=G),k.drawImage(F,1,0,F.width-1,F.height,0,0,F.width-1,F.height),ge?k.drawImage(J,F.width-1,F.height-G*F.height/z-w):k.drawImage(Q,F.width-1,F.height-G*F.height/z-w)}return oe(),{draw:ue}}function L($,V){var B=document.createElement("canvas"),O=B.getContext("2d");function F(){B.width=E,B.height=w*V,B.style.width=B.width+"px",B.style.height=B.height+"px",B.className="rs-canvas",$.appendChild(B),O.fillStyle="#444444",O.fillRect(0,0,B.width,B.height)}function k(z){O.drawImage(B,1,0,B.width-1,B.height,0,0,B.width-1,B.height);var G=0;d(z,function(j){var Q=z[j]*B.height;O.fillStyle=m[j],O.fillRect(B.width-1,G,1,Q),G+=Q})}return F(),{draw:k}}function R($,V){var B=$,O,F=0,k=0,z=0,G=0,j=performance.now(),Q=0,X=document.createElement("div"),J=document.createElement("span"),Z=document.createElement("div"),oe=document.createTextNode(""),ue=p?p.values[B.toLowerCase()]:null,Be=new _(X,B,ue),ge=!1;J.className="rs-counter-id",J.textContent=ue&&ue.caption?ue.caption:B,Z.className="rs-counter-value",Z.appendChild(oe),X.appendChild(J),X.appendChild(Z),V?V.div.appendChild(X):g.appendChild(X),O=performance.now();function Ie(it){if(ue&&ue.average){G+=it,Q++;var ft=performance.now();ft-j>=(ue.avgMs||1e3)&&(z=G/Q,G=0,j=ft,Q=0)}}function He(){O=performance.now(),p.userTimingAPI&&performance.mark(B+"-start"),ge=!0}function Ze(){F=performance.now()-O,p.userTimingAPI&&(performance.mark(B+"-end"),ge&&performance.measure(B,B+"-start",B+"-end")),Ie(F)}function Xe(){Ze(),He()}function ke(){var it=ue&&ue.average?z:F;oe.nodeValue=Math.round(it*100)/100;var ft=ue&&(ue.below&&F<ue.below||ue.over&&F>ue.over);Be.draw(F,ft),X.className=ft?"rs-counter-base alarm":"rs-counter-base"}function lt(){var it=performance.now(),ft=it-O;k++,ft>1e3&&(ue&&ue.interpolate===!1?F=k:F=k*1e3/ft,k=0,O=it,Ie(F))}function ot(it){F=it,Ie(F)}return{set:ot,start:He,tick:Xe,end:Ze,frame:lt,value:function(){return F},draw:ke}}function P($){var V=$.toLowerCase();if(V===void 0&&(V="default"),C[V])return C[V];var B=null;p&&p.groups&&d(p.groups,function(F){var k=p.groups[parseInt(F,10)];!B&&k.values.indexOf(V.toLowerCase())!==-1&&(B=k)});var O=new R(V,B);return C[V]=O,O}function T(){if(p.plugins){p.values||(p.values={}),p.groups||(p.groups=[]),p.fractions||(p.fractions=[]);for(var $=0;$<p.plugins.length;$++)p.plugins[$].attach(P),d(p.plugins[$].values,function(V){p.values[V]=p.plugins[$].values[V]}),p.groups=p.groups.concat(p.plugins[$].groups),p.fractions=p.fractions.concat(p.plugins[$].fractions)}else p.plugins={};b=document.createElement("div"),b.className="rs-base",g=document.createElement("div"),g.className="rs-container",g.style.height="auto",b.appendChild(g),document.body.appendChild(b),p&&(p.groups&&d(p.groups,function(V){var B=p.groups[parseInt(V,10)],O=document.createElement("div");O.className="rs-group",B.div=O;var F=document.createElement("h1");F.textContent=B.caption,F.addEventListener("click",(function(k){this.classList.toggle("hidden"),k.preventDefault()}).bind(O)),g.appendChild(F),g.appendChild(O)}),p.fractions&&d(p.fractions,function(V){var B=p.fractions[parseInt(V,10)],O=document.createElement("div");O.className="rs-fraction";var F=document.createElement("div");F.className="rs-legend";var k=0;d(p.fractions[V].steps,function(G){var j=document.createElement("p");j.textContent=p.fractions[V].steps[G],j.style.color=m[k],F.appendChild(j),k++}),O.appendChild(F),O.style.height=k*w+"px",B.div=O;var z=new L(O,k);B.graph=z,g.appendChild(O)}))}function D(){d(p.plugins,function($){p.plugins[$].update()}),d(C,function($){C[$].draw()}),p&&p.fractions&&d(p.fractions,function($){var V=p.fractions[parseInt($,10)],B=[],O=C[V.base.toLowerCase()];O&&(O=O.value(),d(p.fractions[$].steps,function(F){var k=p.fractions[$].steps[parseInt(F,10)].toLowerCase(),z=C[k];z&&B.push(z.value()/O)})),V.graph.draw(B)})}return T(),function($){return $?P($):{element:b,update:D}}},l.exports=window.rStats},"./vendor/starts-with-polyfill.js":()=>{String.prototype.startsWith||(String.prototype.startsWith=function(l,u){return u=u||0,this.substr(u,l.length)===l})},"./vendor/wakelock/util.js":l=>{var u={};u.base64=function(c,d){return"data:"+c+";base64,"+d},u.isMobile=function(){var c=!1;return function(d){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(d)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(d.substr(0,4)))&&(c=!0)}(navigator.userAgent||navigator.vendor||window.opera),c},u.isIOS=function(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)},u.isIFrame=function(){try{return window.self!==window.top}catch{return!0}},u.appendQueryParameter=function(c,d,h){var p=c.indexOf("?")<0?"?":"&";return c+=p+d+"="+h,c},u.getQueryParameter=function(c){c=c.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var d=new RegExp("[\\?&]"+c+"=([^&#]*)"),h=d.exec(location.search);return h===null?"":decodeURIComponent(h[1].replace(/\+/g," "))},u.isLandscapeMode=function(){return window.orientation==90||window.orientation==-90},l.exports=u},"./vendor/wakelock/wakelock.js":(l,u,c)=>{var d=c("./vendor/wakelock/util.js");function h(){var v=document.createElement("video");v.addEventListener("ended",function(){v.play()}),this.request=function(){v.paused&&(v.src=d.base64("video/webm","GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4ECQoWBAhhTgGcBAAAAAAAH4xFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsggfG7AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU2LjQwLjEwMVdBjUxhdmY1Ni40MC4xMDFzpJAGSJTMbsLpDt/ySkipgX1fRImIQO1MAAAAAAAWVK5rAQAAAAAAADuuAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDmDgQEj44OEO5rKAOABAAAAAAAABrCBsLqBkB9DtnUBAAAAAAAAo+eBAKOmgQAAgKJJg0IAAV4BHsAHBIODCoAACmH2MAAAZxgz4dPSTFi5JACjloED6ACmAECSnABMQAADYAAAWi0quoCjloEH0ACmAECSnABNwAADYAAAWi0quoCjloELuACmAECSnABNgAADYAAAWi0quoCjloEPoACmAECSnABNYAADYAAAWi0quoCjloETiACmAECSnABNIAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTnghdwo5aBAAAApgBAkpwATOAAA2AAAFotKrqAo5aBA+gApgBAkpwATMAAA2AAAFotKrqAo5aBB9AApgBAkpwATIAAA2AAAFotKrqAo5aBC7gApgBAkpwATEAAA2AAAFotKrqAo5aBD6AApgDAkpwAQ2AAA2AAAFotKrqAo5aBE4gApgBAkpwATCAAA2AAAFotKrqAH0O2dQEAAAAAAACU54Iu4KOWgQAAAKYAQJKcAEvAAANgAABaLSq6gKOWgQPoAKYAQJKcAEtgAANgAABaLSq6gKOWgQfQAKYAQJKcAEsAAANgAABaLSq6gKOWgQu4AKYAQJKcAEqAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEogAANgAABaLSq6gKOWgROIAKYAQJKcAEnAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCRlCjloEAAACmAECSnABJgAADYAAAWi0quoCjloED6ACmAECSnABJIAADYAAAWi0quoCjloEH0ACmAMCSnABDYAADYAAAWi0quoCjloELuACmAECSnABI4AADYAAAWi0quoCjloEPoACmAECSnABIoAADYAAAWi0quoCjloETiACmAECSnABIYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngl3Ao5aBAAAApgBAkpwASCAAA2AAAFotKrqAo5aBA+gApgBAkpwASAAAA2AAAFotKrqAo5aBB9AApgBAkpwAR8AAA2AAAFotKrqAo5aBC7gApgBAkpwAR4AAA2AAAFotKrqAo5aBD6AApgBAkpwAR2AAA2AAAFotKrqAo5aBE4gApgBAkpwARyAAA2AAAFotKrqAH0O2dQEAAAAAAACU54J1MKOWgQAAAKYAwJKcAENgAANgAABaLSq6gKOWgQPoAKYAQJKcAEbgAANgAABaLSq6gKOWgQfQAKYAQJKcAEagAANgAABaLSq6gKOWgQu4AKYAQJKcAEaAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEZAAANgAABaLSq6gKOWgROIAKYAQJKcAEYAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCjKCjloEAAACmAECSnABF4AADYAAAWi0quoCjloED6ACmAECSnABFwAADYAAAWi0quoCjloEH0ACmAECSnABFoAADYAAAWi0quoCjloELuACmAECSnABFgAADYAAAWi0quoCjloEPoACmAMCSnABDYAADYAAAWi0quoCjloETiACmAECSnABFYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngqQQo5aBAAAApgBAkpwARUAAA2AAAFotKrqAo5aBA+gApgBAkpwARSAAA2AAAFotKrqAo5aBB9AApgBAkpwARQAAA2AAAFotKrqAo5aBC7gApgBAkpwARQAAA2AAAFotKrqAo5aBD6AApgBAkpwAROAAA2AAAFotKrqAo5aBE4gApgBAkpwARMAAA2AAAFotKrqAH0O2dQEAAAAAAACU54K7gKOWgQAAAKYAQJKcAESgAANgAABaLSq6gKOWgQPoAKYAQJKcAESAAANgAABaLSq6gKOWgQfQAKYAwJKcAENgAANgAABaLSq6gKOWgQu4AKYAQJKcAERgAANgAABaLSq6gKOWgQ+gAKYAQJKcAERAAANgAABaLSq6gKOWgROIAKYAQJKcAEQgAANgAABaLSq6gB9DtnUBAAAAAAAAlOeC0vCjloEAAACmAECSnABEIAADYAAAWi0quoCjloED6ACmAECSnABEAAADYAAAWi0quoCjloEH0ACmAECSnABD4AADYAAAWi0quoCjloELuACmAECSnABDwAADYAAAWi0quoCjloEPoACmAECSnABDoAADYAAAWi0quoCjloETiACmAECSnABDgAADYAAAWi0quoAcU7trAQAAAAAAABG7j7OBALeK94EB8YIBd/CBAw=="),v.play())},this.release=function(){v.pause(),v.src=""}}function p(){var v=null;this.request=function(){v||(v=setInterval(function(){window.location.href="/",setTimeout(window.stop,0)},15e3))},this.release=function(){v&&(clearInterval(v),v=null)}}function m(){var v=navigator.userAgent||navigator.vendor||window.opera;return v.match(/iPhone/i)||v.match(/iPod/i)?p:h}l.exports=m()},"./node_modules/css-loader/dist/cjs.js!./src/style/aframe.css":(l,u,c)=>{c.r(u),c.d(u,{default:()=>D});var d=c("./node_modules/css-loader/dist/runtime/sourceMaps.js"),h=c.n(d),p=c("./node_modules/css-loader/dist/runtime/api.js"),m=c.n(p),v=c("./node_modules/css-loader/dist/runtime/getUrl.js"),y=c.n(v),A=new URL(c("data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z%27 fill=%27%23fff%27/%3E%3C/svg%3E"),c.b),b=new URL(c("data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z%27 fill=%27%23fff%27/%3E%3C/svg%3E"),c.b),g=new URL(c("data:image/svg+xml,%3C%3Fxml version=%271.0%27 encoding=%27UTF-8%27 standalone=%27no%27%3F%3E%3Csvg width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27 version=%271.1%27 id=%27svg320%27 sodipodi:docname=%27fullscreen-aframe.svg%27 xml:space=%27preserve%27 inkscape:version=%271.2.1 %289c6d41e  2022-07-14%29%27 xmlns:inkscape=%27http://www.inkscape.org/namespaces/inkscape%27 xmlns:sodipodi=%27http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:svg=%27http://www.w3.org/2000/svg%27 xmlns:rdf=%27http://www.w3.org/1999/02/22-rdf-syntax-ns%23%27 xmlns:cc=%27http://creativecommons.org/ns%23%27 xmlns:dc=%27http://purl.org/dc/elements/1.1/%27%3E%3Cdefs id=%27defs324%27 /%3E%3Csodipodi:namedview id=%27namedview322%27 pagecolor=%27%23ffffff%27 bordercolor=%27%23000000%27 borderopacity=%270.25%27 inkscape:showpageshadow=%272%27 inkscape:pageopacity=%270.0%27 inkscape:pagecheckerboard=%270%27 inkscape:deskcolor=%27%23d1d1d1%27 showgrid=%27false%27 inkscape:zoom=%273.8064516%27 inkscape:cx=%2791.423729%27 inkscape:cy=%27-1.4449153%27 inkscape:window-width=%271440%27 inkscape:window-height=%27847%27 inkscape:window-x=%2732%27 inkscape:window-y=%2725%27 inkscape:window-maximized=%270%27 inkscape:current-layer=%27svg320%27 /%3E%3Ctitle id=%27title312%27%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96 0H12A12 12 0 0 0 0 12V50A12 12 0 0 0 12 62H96a12 12 0 0 0 12-12V12A12 12 0 0 0 96 0Zm8 50a8 8 0 0 1-8 8H12a8 8 0 0 1-8-8V12a8 8 0 0 1 8-8H96a8 8 0 0 1 8 8Z%27 fill=%27%23fff%27 id=%27path314%27 style=%27fill:%23ffffff%27 /%3E%3Cg id=%27g356%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g358%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g360%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g362%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g364%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g366%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g368%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g370%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g372%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g374%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g376%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g378%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g380%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g382%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g384%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cmetadata id=%27metadata561%27%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=%27%27%3E%3Cdc:title%3Eaframe-armode-noborder-reduced-tracking%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cpath d=%27m 98.168511 40.083649 c 0 -1.303681 -0.998788 -2.358041 -2.239389 -2.358041 -1.230088 0.0031 -2.240892 1.05436 -2.240892 2.358041 v 4.881296 l -9.041661 -9.041662 c -0.874129 -0.875631 -2.288954 -0.875631 -3.16308 0 -0.874129 0.874126 -0.874129 2.293459 0 3.167585 l 8.995101 8.992101 h -4.858767 c -1.323206 0.0031 -2.389583 1.004796 -2.389583 2.239386 0 1.237598 1.066377 2.237888 2.389583 2.237888 h 10.154599 c 1.323206 0 2.388082 -0.998789 2.392587 -2.237888 -0.0044 -0.03305 -0.009 -0.05858 -0.0134 -0.09161 0.0046 -0.04207 0.0134 -0.08712 0.0134 -0.13066 V 40.085172 h -1.52e-4%27 id=%27path596%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 23.091002 35.921781 -9.026643 9.041662 v -4.881296 c 0 -1.303681 -1.009302 -2.355037 -2.242393 -2.358041 -1.237598 0 -2.237888 1.05436 -2.237888 2.358041 l -0.0031 10.016421 c 0 0.04356 0.01211 0.08862 0.0015 0.130659 -0.0031 0.03153 -0.009 0.05709 -0.01211 0.09161 0.0031 1.239099 1.069379 2.237888 2.391085 2.237888 h 10.156101 c 1.320202 0 2.388079 -1.000291 2.388079 -2.237888 0 -1.234591 -1.067877 -2.236383 -2.388079 -2.239387 h -4.858767 l 8.995101 -8.9921 c 0.871126 -0.874127 0.871126 -2.293459 0 -3.167586 -0.875628 -0.877132 -2.291957 -0.877132 -3.169087 -1.52e-4%27 id=%27path598%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 84.649572 25.978033 9.041662 -9.041664 v 4.881298 c 0 1.299176 1.010806 2.350532 2.240891 2.355037 1.240601 0 2.23939 -1.055861 2.23939 -2.355037 V 11.798242 c 0 -0.04356 -0.009 -0.08862 -0.0134 -0.127671 0.0044 -0.03153 0.009 -0.06157 0.0134 -0.09313 -0.0044 -1.240598 -1.069379 -2.2393873 -2.391085 -2.2393873 h -10.1546 c -1.323205 0 -2.38958 0.9987893 -2.38958 2.2393873 0 1.233091 1.066375 2.237887 2.38958 2.240891 h 4.858768 l -8.995102 8.9921 c -0.874129 0.872625 -0.874129 2.288954 0 3.161578 0.874127 0.880137 2.288951 0.880137 3.16308 1.5e-4%27 id=%27path600%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 17.264988 13.822853 h 4.857265 c 1.320202 -0.0031 2.388079 -1.0078 2.388079 -2.240889 0 -1.240601 -1.067877 -2.2393893 -2.388079 -2.2393893 H 11.967654 c -1.321707 0 -2.388082 0.9987883 -2.391085 2.2393893 0.0031 0.03153 0.009 0.06157 0.01211 0.09313 -0.0031 0.03905 -0.0015 0.08262 -0.0015 0.127671 l 0.0031 10.020926 c 0 1.299176 1.00029 2.355038 2.237887 2.355038 1.233092 -0.0044 2.242393 -1.055862 2.242393 -2.355038 v -4.881295 l 9.026644 9.041661 c 0.877132 0.878635 2.293459 0.878635 3.169087 0 0.871125 -0.872624 0.871125 -2.288953 0 -3.161577 l -8.995282 -8.993616%27 id=%27path602%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3C/svg%3E"),c.b),w=new URL(c("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E"),c.b),E=new URL(c("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E"),c.b),C=m()(h()),_=y()(A),L=y()(b),R=y()(g),P=y()(w),T=y()(E);C.push([l.id,`/* .a-fullscreen means not embedded. */
html.a-fullscreen {
  bottom: 0;
  left: 0;
  position: fixed;
  right: 0;
  top: 0;
}

html.a-fullscreen body {
  height: 100%;
  margin: 0;
  overflow: hidden;
  padding: 0;
  width: 100%;
}

/* Class is removed when doing <a-scene embedded>. */
html.a-fullscreen .a-canvas {
  width: 100% !important;
  height: 100% !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  position: fixed !important;
}

html:not(.a-fullscreen) .a-enter-vr,
html:not(.a-fullscreen) .a-enter-ar {
  right: 5px;
  bottom: 5px;
}

html:not(.a-fullscreen) .a-enter-ar {
  right: 60px;
}

/* In chrome mobile the user agent stylesheet set it to white  */
:-webkit-full-screen {
  background-color: transparent;
}

.a-hidden {
  display: none !important;
}

.a-canvas {
  height: 100%;
  left: 0;
  position: absolute;
  top: 0;
  width: 100%;
}

.a-canvas.a-grab-cursor:hover {
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

canvas.a-canvas.a-mouse-cursor-hover:hover {
  cursor: pointer;
}

.a-inspector-loader {
  background-color: #ed3160;
  position: fixed;
  left: 3px;
  top: 3px;
  padding: 6px 10px;
  color: #fff;
  text-decoration: none;
  font-size: 12px;
  font-family: Roboto,sans-serif;
  text-align: center;
  z-index: 99999;
  width: 204px;
}

/* Inspector loader animation */
@keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }
@keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }
@keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }
@-webkit-keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }
@-webkit-keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }
@-webkit-keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }

.a-inspector-loader .dots span {
  animation: dots-1 2s infinite steps(1);
  -webkit-animation: dots-1 2s infinite steps(1);
}

.a-inspector-loader .dots span:first-child + span {
  animation-name: dots-2;
  -webkit-animation-name: dots-2;
}

.a-inspector-loader .dots span:first-child + span + span {
  animation-name: dots-3;
  -webkit-animation-name: dots-3;
}

a-scene {
  display: block;
  position: relative;
  height: 100%;
  width: 100%;
}

a-assets,
a-scene video,
a-scene img,
a-scene audio {
  display: none;
}

.a-enter-vr-modal,
.a-orientation-modal {
  font-family: Consolas, Andale Mono, Courier New, monospace;
}

.a-enter-vr-modal a {
  border-bottom: 1px solid #fff;
  padding: 2px 0;
  text-decoration: none;
  transition: .1s color ease-in;
}

.a-enter-vr-modal a:hover {
  background-color: #fff;
  color: #111;
  padding: 2px 4px;
  position: relative;
  left: -4px;
}

.a-enter-vr,
.a-enter-ar {
  font-family: sans-serif, monospace;
  font-size: 13px;
  width: 100%;
  font-weight: 200;
  line-height: 16px;
  position: absolute;
  right: 20px;
  bottom: 20px;
}

.a-enter-ar {
  right: 80px;
}

.a-enter-vr-button,
.a-enter-vr-modal,
.a-enter-vr-modal a {
  color: #fff;
  user-select: none;
  outline: none;
}

.a-enter-vr-button {
  background: rgba(0, 0, 0, 0.35) url(`+_+`) 50% 50% no-repeat;
}

.a-enter-ar-button {
  background: rgba(0, 0, 0, 0.20) url(`+L+`) 50% 50% no-repeat;
}

.a-enter-vr.fullscreen .a-enter-vr-button {
  background-image: url(`+R+`);
}

.a-enter-vr-button,
.a-enter-ar-button {
  background-size: 90% 90%;
  border: 0;
  bottom: 0;
  cursor: pointer;
  min-width: 58px;
  min-height: 34px;
  /* 1.74418604651 */
  /*
    In order to keep the aspect ratio when resizing
    padding-top percentages are relative to the containing block's width.
    http://stackoverflow.com/questions/12121090/responsively-change-div-size-keeping-aspect-ratio
  */
  padding-right: 0;
  padding-top: 0;
  position: absolute;
  right: 0;
  transition: background-color .05s ease;
  -webkit-transition: background-color .05s ease;
  z-index: 9999;
  border-radius: 8px;
  touch-action: manipulation; /* Prevent iOS double tap zoom on the button */
}

.a-enter-ar-button {
  background-size: 100% 90%;
  margin-right: 10px;
  border-radius: 7px;
}

.a-enter-ar-button:active,
.a-enter-ar-button:hover,
.a-enter-vr-button:active,
.a-enter-vr-button:hover {
  background-color: #ef2d5e;
}

.a-enter-vr-button.resethover {
  background-color: rgba(0, 0, 0, 0.35);
}


.a-enter-vr-modal {
  background-color: #666;
  border-radius: 0;
  display: none;
  min-height: 32px;
  margin-right: 70px;
  padding: 9px;
  width: 280px;
  right: 2%;
  position: absolute;
}

.a-enter-vr-modal:after {
  border-bottom: 10px solid transparent;
  border-left: 10px solid #666;
  border-top: 10px solid transparent;
  display: inline-block;
  content: '';
  position: absolute;
  right: -5px;
  top: 5px;
  width: 0;
  height: 0;
}

.a-enter-vr-modal p,
.a-enter-vr-modal a {
  display: inline;
}

.a-enter-vr-modal p {
  margin: 0;
}

.a-enter-vr-modal p:after {
  content: ' ';
}

.a-orientation-modal {
  background: rgba(244, 244, 244, 1) url(`+P+`) center no-repeat;
  background-size: 50% 50%;
  bottom: 0;
  font-size: 14px;
  font-weight: 600;
  left: 0;
  line-height: 20px;
  right: 0;
  position: fixed;
  top: 0;
  z-index: 9999999;
}

.a-orientation-modal:after {
  color: #666;
  content: "Insert phone into Cardboard holder.";
  display: block;
  position: absolute;
  text-align: center;
  top: 70%;
  transform: translateY(-70%);
  width: 100%;
}

.a-orientation-modal button {
  background: url(`+T+`) no-repeat;
  border: none;
  height: 50px;
  text-indent: -9999px;
  width: 50px;
}

.a-loader-title {
  background-color: rgba(0, 0, 0, 0.6);
  font-family: sans-serif, monospace;
  text-align: center;
  font-size: 20px;
  height: 50px;
  font-weight: 300;
  line-height: 50px;
  position: absolute;
  right: 0px;
  left: 0px;
  top: 0px;
  color: white;
}

.a-modal {
  position: absolute;
  background: rgba(0, 0, 0, 0.60);
  background-size: 50% 50%;
  bottom: 0;
  font-size: 14px;
  font-weight: 600;
  left: 0;
  line-height: 20px;
  right: 0;
  position: fixed;
  top: 0;
  z-index: 9999999;
}

.a-dialog {
  position: relative;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  z-index: 199995;
  width: 300px;
  height: 200px;
  background-size: contain;
  background-color: white;
  font-family: sans-serif, monospace;
  font-size: 20px;
  border-radius: 3px;
  padding: 6px;
}

.a-dialog-text-container {
  width: 100%;
  height: 70%;
  align-self: flex-start;
  display: flex;
  justify-content: center;
  align-content: center;
  flex-direction: column;
}

.a-dialog-text {
  display: inline-block;
  font-weight: normal;
  font-size: 14pt;
  margin: 8px;
}

.a-dialog-buttons-container {
  display: inline-flex;
  align-self: flex-end;
  width: 100%;
  height: 30%;
}

.a-dialog-button {
  cursor: pointer;
  align-self: center;
  opacity: 0.9;
  height: 80%;
  width: 50%;
  font-size: 12pt;
  margin: 4px;
  border-radius: 2px;
  text-align:center;
  border: none;
  display: inline-block;
  -webkit-transition: all 0.25s ease-in-out;
  transition: all 0.25s ease-in-out;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.10), 0 1px 2px rgba(0, 0, 0, 0.20);
  user-select: none;
}

.a-dialog-permission-button:hover {
  box-shadow: 0 7px 14px rgba(0,0,0,0.20), 0 2px 2px rgba(0,0,0,0.20);
}

.a-dialog-allow-button {
  background-color: #00ceff;
}

.a-dialog-deny-button {
  background-color: #ff005b;
}

.a-dialog-ok-button {
  background-color: #00ceff;
  width: 100%;
}

.a-dom-overlay:not(.a-no-style) {
  overflow: hidden;
  position: absolute;
  pointer-events: none;
  box-sizing: border-box;
  bottom: 0;
  left: 0;
  right: 0;
  top: 0;
  padding: 1em;
}

.a-dom-overlay:not(.a-no-style)>* {
  pointer-events: auto;
}
`,"",{version:3,sources:["webpack://./src/style/aframe.css"],names:[],mappings:"AAAA,sCAAsC;AACtC;EACE,SAAS;EACT,OAAO;EACP,eAAe;EACf,QAAQ;EACR,MAAM;AACR;;AAEA;EACE,YAAY;EACZ,SAAS;EACT,gBAAgB;EAChB,UAAU;EACV,WAAW;AACb;;AAEA,oDAAoD;AACpD;EACE,sBAAsB;EACtB,uBAAuB;EACvB,iBAAiB;EACjB,kBAAkB;EAClB,mBAAmB;EACnB,oBAAoB;EACpB,0BAA0B;AAC5B;;AAEA;;EAEE,UAAU;EACV,WAAW;AACb;;AAEA;EACE,WAAW;AACb;;AAEA,gEAAgE;AAChE;EACE,6BAA6B;AAC/B;;AAEA;EACE,wBAAwB;AAC1B;;AAEA;EACE,YAAY;EACZ,OAAO;EACP,kBAAkB;EAClB,MAAM;EACN,WAAW;AACb;;AAEA;EACE,YAAY;EACZ,iBAAiB;EACjB,oBAAoB;AACtB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,yBAAyB;EACzB,eAAe;EACf,SAAS;EACT,QAAQ;EACR,iBAAiB;EACjB,WAAW;EACX,qBAAqB;EACrB,eAAe;EACf,8BAA8B;EAC9B,kBAAkB;EAClB,cAAc;EACd,YAAY;AACd;;AAEA,+BAA+B;AAC/B,oBAAoB,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AAC7D,oBAAoB,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AAC7D,oBAAoB,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AAC7D,4BAA4B,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AACrE,4BAA4B,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AACrE,4BAA4B,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;;AAErE;EACE,sCAAsC;EACtC,8CAA8C;AAChD;;AAEA;EACE,sBAAsB;EACtB,8BAA8B;AAChC;;AAEA;EACE,sBAAsB;EACtB,8BAA8B;AAChC;;AAEA;EACE,cAAc;EACd,kBAAkB;EAClB,YAAY;EACZ,WAAW;AACb;;AAEA;;;;EAIE,aAAa;AACf;;AAEA;;EAEE,0DAA0D;AAC5D;;AAEA;EACE,6BAA6B;EAC7B,cAAc;EACd,qBAAqB;EACrB,6BAA6B;AAC/B;;AAEA;EACE,sBAAsB;EACtB,WAAW;EACX,gBAAgB;EAChB,kBAAkB;EAClB,UAAU;AACZ;;AAEA;;EAEE,kCAAkC;EAClC,eAAe;EACf,WAAW;EACX,gBAAgB;EAChB,iBAAiB;EACjB,kBAAkB;EAClB,WAAW;EACX,YAAY;AACd;;AAEA;EACE,WAAW;AACb;;AAEA;;;EAGE,WAAW;EACX,iBAAiB;EACjB,aAAa;AACf;;AAEA;EACE,yFAA4qB;AAC9qB;;AAEA;EACE,yFAAkzB;AACpzB;;AAEA;EACE,yDAA2qK;AAC7qK;;AAEA;;EAEE,wBAAwB;EACxB,SAAS;EACT,SAAS;EACT,eAAe;EACf,eAAe;EACf,gBAAgB;EAChB,kBAAkB;EAClB;;;;GAIC;EACD,gBAAgB;EAChB,cAAc;EACd,kBAAkB;EAClB,QAAQ;EACR,sCAAsC;EACtC,8CAA8C;EAC9C,aAAa;EACb,kBAAkB;EAClB,0BAA0B,EAAE,8CAA8C;AAC5E;;AAEA;EACE,yBAAyB;EACzB,kBAAkB;EAClB,kBAAkB;AACpB;;AAEA;;;;EAIE,yBAAyB;AAC3B;;AAEA;EACE,qCAAqC;AACvC;;;AAGA;EACE,sBAAsB;EACtB,gBAAgB;EAChB,aAAa;EACb,gBAAgB;EAChB,kBAAkB;EAClB,YAAY;EACZ,YAAY;EACZ,SAAS;EACT,kBAAkB;AACpB;;AAEA;EACE,qCAAqC;EACrC,4BAA4B;EAC5B,kCAAkC;EAClC,qBAAqB;EACrB,WAAW;EACX,kBAAkB;EAClB,WAAW;EACX,QAAQ;EACR,QAAQ;EACR,SAAS;AACX;;AAEA;;EAEE,eAAe;AACjB;;AAEA;EACE,SAAS;AACX;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,2FAAivF;EACjvF,wBAAwB;EACxB,SAAS;EACT,eAAe;EACf,gBAAgB;EAChB,OAAO;EACP,iBAAiB;EACjB,QAAQ;EACR,eAAe;EACf,MAAM;EACN,gBAAgB;AAClB;;AAEA;EACE,WAAW;EACX,8CAA8C;EAC9C,cAAc;EACd,kBAAkB;EAClB,kBAAkB;EAClB,QAAQ;EACR,2BAA2B;EAC3B,WAAW;AACb;;AAEA;EACE,6DAA25B;EAC35B,YAAY;EACZ,YAAY;EACZ,oBAAoB;EACpB,WAAW;AACb;;AAEA;EACE,oCAAoC;EACpC,kCAAkC;EAClC,kBAAkB;EAClB,eAAe;EACf,YAAY;EACZ,gBAAgB;EAChB,iBAAiB;EACjB,kBAAkB;EAClB,UAAU;EACV,SAAS;EACT,QAAQ;EACR,YAAY;AACd;;AAEA;EACE,kBAAkB;EAClB,+BAA+B;EAC/B,wBAAwB;EACxB,SAAS;EACT,eAAe;EACf,gBAAgB;EAChB,OAAO;EACP,iBAAiB;EACjB,QAAQ;EACR,eAAe;EACf,MAAM;EACN,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;EAClB,SAAS;EACT,QAAQ;EACR,gCAAgC;EAChC,eAAe;EACf,YAAY;EACZ,aAAa;EACb,wBAAwB;EACxB,uBAAuB;EACvB,kCAAkC;EAClC,eAAe;EACf,kBAAkB;EAClB,YAAY;AACd;;AAEA;EACE,WAAW;EACX,WAAW;EACX,sBAAsB;EACtB,aAAa;EACb,uBAAuB;EACvB,qBAAqB;EACrB,sBAAsB;AACxB;;AAEA;EACE,qBAAqB;EACrB,mBAAmB;EACnB,eAAe;EACf,WAAW;AACb;;AAEA;EACE,oBAAoB;EACpB,oBAAoB;EACpB,WAAW;EACX,WAAW;AACb;;AAEA;EACE,eAAe;EACf,kBAAkB;EAClB,YAAY;EACZ,WAAW;EACX,UAAU;EACV,eAAe;EACf,WAAW;EACX,kBAAkB;EAClB,iBAAiB;EACjB,YAAY;EACZ,qBAAqB;EACrB,yCAAyC;EACzC,iCAAiC;EACjC,wEAAwE;EACxE,iBAAiB;AACnB;;AAEA;EACE,mEAAmE;AACrE;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,yBAAyB;EACzB,WAAW;AACb;;AAEA;EACE,gBAAgB;EAChB,kBAAkB;EAClB,oBAAoB;EACpB,sBAAsB;EACtB,SAAS;EACT,OAAO;EACP,QAAQ;EACR,MAAM;EACN,YAAY;AACd;;AAEA;EACE,oBAAoB;AACtB",sourcesContent:[`/* .a-fullscreen means not embedded. */
html.a-fullscreen {
  bottom: 0;
  left: 0;
  position: fixed;
  right: 0;
  top: 0;
}

html.a-fullscreen body {
  height: 100%;
  margin: 0;
  overflow: hidden;
  padding: 0;
  width: 100%;
}

/* Class is removed when doing <a-scene embedded>. */
html.a-fullscreen .a-canvas {
  width: 100% !important;
  height: 100% !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  position: fixed !important;
}

html:not(.a-fullscreen) .a-enter-vr,
html:not(.a-fullscreen) .a-enter-ar {
  right: 5px;
  bottom: 5px;
}

html:not(.a-fullscreen) .a-enter-ar {
  right: 60px;
}

/* In chrome mobile the user agent stylesheet set it to white  */
:-webkit-full-screen {
  background-color: transparent;
}

.a-hidden {
  display: none !important;
}

.a-canvas {
  height: 100%;
  left: 0;
  position: absolute;
  top: 0;
  width: 100%;
}

.a-canvas.a-grab-cursor:hover {
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

canvas.a-canvas.a-mouse-cursor-hover:hover {
  cursor: pointer;
}

.a-inspector-loader {
  background-color: #ed3160;
  position: fixed;
  left: 3px;
  top: 3px;
  padding: 6px 10px;
  color: #fff;
  text-decoration: none;
  font-size: 12px;
  font-family: Roboto,sans-serif;
  text-align: center;
  z-index: 99999;
  width: 204px;
}

/* Inspector loader animation */
@keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }
@keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }
@keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }
@-webkit-keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }
@-webkit-keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }
@-webkit-keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }

.a-inspector-loader .dots span {
  animation: dots-1 2s infinite steps(1);
  -webkit-animation: dots-1 2s infinite steps(1);
}

.a-inspector-loader .dots span:first-child + span {
  animation-name: dots-2;
  -webkit-animation-name: dots-2;
}

.a-inspector-loader .dots span:first-child + span + span {
  animation-name: dots-3;
  -webkit-animation-name: dots-3;
}

a-scene {
  display: block;
  position: relative;
  height: 100%;
  width: 100%;
}

a-assets,
a-scene video,
a-scene img,
a-scene audio {
  display: none;
}

.a-enter-vr-modal,
.a-orientation-modal {
  font-family: Consolas, Andale Mono, Courier New, monospace;
}

.a-enter-vr-modal a {
  border-bottom: 1px solid #fff;
  padding: 2px 0;
  text-decoration: none;
  transition: .1s color ease-in;
}

.a-enter-vr-modal a:hover {
  background-color: #fff;
  color: #111;
  padding: 2px 4px;
  position: relative;
  left: -4px;
}

.a-enter-vr,
.a-enter-ar {
  font-family: sans-serif, monospace;
  font-size: 13px;
  width: 100%;
  font-weight: 200;
  line-height: 16px;
  position: absolute;
  right: 20px;
  bottom: 20px;
}

.a-enter-ar {
  right: 80px;
}

.a-enter-vr-button,
.a-enter-vr-modal,
.a-enter-vr-modal a {
  color: #fff;
  user-select: none;
  outline: none;
}

.a-enter-vr-button {
  background: rgba(0, 0, 0, 0.35) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='108' height='62' viewBox='0 0 108 62'%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z' fill='%23fff'/%3E%3Cpath d='M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z' fill='%23fff'/%3E%3C/svg%3E") 50% 50% no-repeat;
}

.a-enter-ar-button {
  background: rgba(0, 0, 0, 0.20) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='108' height='62' viewBox='0 0 108 62'%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z' fill='%23fff'/%3E%3Cpath d='M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z' fill='%23fff'/%3E%3Cpath d='M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z' fill='%23fff'/%3E%3C/svg%3E") 50% 50% no-repeat;
}

.a-enter-vr.fullscreen .a-enter-vr-button {
  background-image: url("data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8' standalone='no'%3F%3E%3Csvg width='108' height='62' viewBox='0 0 108 62' version='1.1' id='svg320' sodipodi:docname='fullscreen-aframe.svg' xml:space='preserve' inkscape:version='1.2.1 (9c6d41e  2022-07-14)' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns='http://www.w3.org/2000/svg' xmlns:svg='http://www.w3.org/2000/svg' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/'%3E%3Cdefs id='defs324' /%3E%3Csodipodi:namedview id='namedview322' pagecolor='%23ffffff' bordercolor='%23000000' borderopacity='0.25' inkscape:showpageshadow='2' inkscape:pageopacity='0.0' inkscape:pagecheckerboard='0' inkscape:deskcolor='%23d1d1d1' showgrid='false' inkscape:zoom='3.8064516' inkscape:cx='91.423729' inkscape:cy='-1.4449153' inkscape:window-width='1440' inkscape:window-height='847' inkscape:window-x='32' inkscape:window-y='25' inkscape:window-maximized='0' inkscape:current-layer='svg320' /%3E%3Ctitle id='title312'%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M96 0H12A12 12 0 0 0 0 12V50A12 12 0 0 0 12 62H96a12 12 0 0 0 12-12V12A12 12 0 0 0 96 0Zm8 50a8 8 0 0 1-8 8H12a8 8 0 0 1-8-8V12a8 8 0 0 1 8-8H96a8 8 0 0 1 8 8Z' fill='%23fff' id='path314' style='fill:%23ffffff' /%3E%3Cg id='g356' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g358' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g360' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g362' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g364' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g366' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g368' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g370' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g372' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g374' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g376' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g378' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g380' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g382' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g384' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cmetadata id='metadata561'%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=''%3E%3Cdc:title%3Eaframe-armode-noborder-reduced-tracking%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cpath d='m 98.168511 40.083649 c 0 -1.303681 -0.998788 -2.358041 -2.239389 -2.358041 -1.230088 0.0031 -2.240892 1.05436 -2.240892 2.358041 v 4.881296 l -9.041661 -9.041662 c -0.874129 -0.875631 -2.288954 -0.875631 -3.16308 0 -0.874129 0.874126 -0.874129 2.293459 0 3.167585 l 8.995101 8.992101 h -4.858767 c -1.323206 0.0031 -2.389583 1.004796 -2.389583 2.239386 0 1.237598 1.066377 2.237888 2.389583 2.237888 h 10.154599 c 1.323206 0 2.388082 -0.998789 2.392587 -2.237888 -0.0044 -0.03305 -0.009 -0.05858 -0.0134 -0.09161 0.0046 -0.04207 0.0134 -0.08712 0.0134 -0.13066 V 40.085172 h -1.52e-4' id='path596' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3Cpath d='m 23.091002 35.921781 -9.026643 9.041662 v -4.881296 c 0 -1.303681 -1.009302 -2.355037 -2.242393 -2.358041 -1.237598 0 -2.237888 1.05436 -2.237888 2.358041 l -0.0031 10.016421 c 0 0.04356 0.01211 0.08862 0.0015 0.130659 -0.0031 0.03153 -0.009 0.05709 -0.01211 0.09161 0.0031 1.239099 1.069379 2.237888 2.391085 2.237888 h 10.156101 c 1.320202 0 2.388079 -1.000291 2.388079 -2.237888 0 -1.234591 -1.067877 -2.236383 -2.388079 -2.239387 h -4.858767 l 8.995101 -8.9921 c 0.871126 -0.874127 0.871126 -2.293459 0 -3.167586 -0.875628 -0.877132 -2.291957 -0.877132 -3.169087 -1.52e-4' id='path598' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3Cpath d='m 84.649572 25.978033 9.041662 -9.041664 v 4.881298 c 0 1.299176 1.010806 2.350532 2.240891 2.355037 1.240601 0 2.23939 -1.055861 2.23939 -2.355037 V 11.798242 c 0 -0.04356 -0.009 -0.08862 -0.0134 -0.127671 0.0044 -0.03153 0.009 -0.06157 0.0134 -0.09313 -0.0044 -1.240598 -1.069379 -2.2393873 -2.391085 -2.2393873 h -10.1546 c -1.323205 0 -2.38958 0.9987893 -2.38958 2.2393873 0 1.233091 1.066375 2.237887 2.38958 2.240891 h 4.858768 l -8.995102 8.9921 c -0.874129 0.872625 -0.874129 2.288954 0 3.161578 0.874127 0.880137 2.288951 0.880137 3.16308 1.5e-4' id='path600' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3Cpath d='m 17.264988 13.822853 h 4.857265 c 1.320202 -0.0031 2.388079 -1.0078 2.388079 -2.240889 0 -1.240601 -1.067877 -2.2393893 -2.388079 -2.2393893 H 11.967654 c -1.321707 0 -2.388082 0.9987883 -2.391085 2.2393893 0.0031 0.03153 0.009 0.06157 0.01211 0.09313 -0.0031 0.03905 -0.0015 0.08262 -0.0015 0.127671 l 0.0031 10.020926 c 0 1.299176 1.00029 2.355038 2.237887 2.355038 1.233092 -0.0044 2.242393 -1.055862 2.242393 -2.355038 v -4.881295 l 9.026644 9.041661 c 0.877132 0.878635 2.293459 0.878635 3.169087 0 0.871125 -0.872624 0.871125 -2.288953 0 -3.161577 l -8.995282 -8.993616' id='path602' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3C/svg%3E");
}

.a-enter-vr-button,
.a-enter-ar-button {
  background-size: 90% 90%;
  border: 0;
  bottom: 0;
  cursor: pointer;
  min-width: 58px;
  min-height: 34px;
  /* 1.74418604651 */
  /*
    In order to keep the aspect ratio when resizing
    padding-top percentages are relative to the containing block's width.
    http://stackoverflow.com/questions/12121090/responsively-change-div-size-keeping-aspect-ratio
  */
  padding-right: 0;
  padding-top: 0;
  position: absolute;
  right: 0;
  transition: background-color .05s ease;
  -webkit-transition: background-color .05s ease;
  z-index: 9999;
  border-radius: 8px;
  touch-action: manipulation; /* Prevent iOS double tap zoom on the button */
}

.a-enter-ar-button {
  background-size: 100% 90%;
  margin-right: 10px;
  border-radius: 7px;
}

.a-enter-ar-button:active,
.a-enter-ar-button:hover,
.a-enter-vr-button:active,
.a-enter-vr-button:hover {
  background-color: #ef2d5e;
}

.a-enter-vr-button.resethover {
  background-color: rgba(0, 0, 0, 0.35);
}


.a-enter-vr-modal {
  background-color: #666;
  border-radius: 0;
  display: none;
  min-height: 32px;
  margin-right: 70px;
  padding: 9px;
  width: 280px;
  right: 2%;
  position: absolute;
}

.a-enter-vr-modal:after {
  border-bottom: 10px solid transparent;
  border-left: 10px solid #666;
  border-top: 10px solid transparent;
  display: inline-block;
  content: '';
  position: absolute;
  right: -5px;
  top: 5px;
  width: 0;
  height: 0;
}

.a-enter-vr-modal p,
.a-enter-vr-modal a {
  display: inline;
}

.a-enter-vr-modal p {
  margin: 0;
}

.a-enter-vr-modal p:after {
  content: ' ';
}

.a-orientation-modal {
  background: rgba(244, 244, 244, 1) url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E) center no-repeat;
  background-size: 50% 50%;
  bottom: 0;
  font-size: 14px;
  font-weight: 600;
  left: 0;
  line-height: 20px;
  right: 0;
  position: fixed;
  top: 0;
  z-index: 9999999;
}

.a-orientation-modal:after {
  color: #666;
  content: "Insert phone into Cardboard holder.";
  display: block;
  position: absolute;
  text-align: center;
  top: 70%;
  transform: translateY(-70%);
  width: 100%;
}

.a-orientation-modal button {
  background: url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E) no-repeat;
  border: none;
  height: 50px;
  text-indent: -9999px;
  width: 50px;
}

.a-loader-title {
  background-color: rgba(0, 0, 0, 0.6);
  font-family: sans-serif, monospace;
  text-align: center;
  font-size: 20px;
  height: 50px;
  font-weight: 300;
  line-height: 50px;
  position: absolute;
  right: 0px;
  left: 0px;
  top: 0px;
  color: white;
}

.a-modal {
  position: absolute;
  background: rgba(0, 0, 0, 0.60);
  background-size: 50% 50%;
  bottom: 0;
  font-size: 14px;
  font-weight: 600;
  left: 0;
  line-height: 20px;
  right: 0;
  position: fixed;
  top: 0;
  z-index: 9999999;
}

.a-dialog {
  position: relative;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  z-index: 199995;
  width: 300px;
  height: 200px;
  background-size: contain;
  background-color: white;
  font-family: sans-serif, monospace;
  font-size: 20px;
  border-radius: 3px;
  padding: 6px;
}

.a-dialog-text-container {
  width: 100%;
  height: 70%;
  align-self: flex-start;
  display: flex;
  justify-content: center;
  align-content: center;
  flex-direction: column;
}

.a-dialog-text {
  display: inline-block;
  font-weight: normal;
  font-size: 14pt;
  margin: 8px;
}

.a-dialog-buttons-container {
  display: inline-flex;
  align-self: flex-end;
  width: 100%;
  height: 30%;
}

.a-dialog-button {
  cursor: pointer;
  align-self: center;
  opacity: 0.9;
  height: 80%;
  width: 50%;
  font-size: 12pt;
  margin: 4px;
  border-radius: 2px;
  text-align:center;
  border: none;
  display: inline-block;
  -webkit-transition: all 0.25s ease-in-out;
  transition: all 0.25s ease-in-out;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.10), 0 1px 2px rgba(0, 0, 0, 0.20);
  user-select: none;
}

.a-dialog-permission-button:hover {
  box-shadow: 0 7px 14px rgba(0,0,0,0.20), 0 2px 2px rgba(0,0,0,0.20);
}

.a-dialog-allow-button {
  background-color: #00ceff;
}

.a-dialog-deny-button {
  background-color: #ff005b;
}

.a-dialog-ok-button {
  background-color: #00ceff;
  width: 100%;
}

.a-dom-overlay:not(.a-no-style) {
  overflow: hidden;
  position: absolute;
  pointer-events: none;
  box-sizing: border-box;
  bottom: 0;
  left: 0;
  right: 0;
  top: 0;
  padding: 1em;
}

.a-dom-overlay:not(.a-no-style)>* {
  pointer-events: auto;
}
`],sourceRoot:""}]);const D=C},"./node_modules/css-loader/dist/cjs.js!./src/style/rStats.css":(l,u,c)=>{c.r(u),c.d(u,{default:()=>y});var d=c("./node_modules/css-loader/dist/runtime/sourceMaps.js"),h=c.n(d),p=c("./node_modules/css-loader/dist/runtime/api.js"),m=c.n(p),v=m()(h());v.push([l.id,`.rs-base {
  background-color: #333;
  color: #fafafa;
  border-radius: 0;
  font: 10px monospace;
  left: 5px;
  line-height: 1em;
  opacity: 0.85;
  overflow: hidden;
  padding: 10px;
  position: fixed;
  top: 5px;
  width: 300px;
  z-index: 10000;
}

.rs-base div.hidden {
  display: none;
}

.rs-base h1 {
  color: #fff;
  cursor: pointer;
  font-size: 1.4em;
  font-weight: 300;
  margin: 0 0 5px;
  padding: 0;
}

.rs-group {
  display: -webkit-box;
  display: -webkit-flex;
  display: flex;
  -webkit-flex-direction: column-reverse;
  flex-direction: column-reverse;
  margin-bottom: 5px;
}

.rs-group:last-child {
  margin-bottom: 0;
}

.rs-counter-base {
  align-items: center;
  display: -webkit-box;
  display: -webkit-flex;
  display: flex;
  height: 10px;
  -webkit-justify-content: space-between;
  justify-content: space-between;
  margin: 2px 0;
}

.rs-counter-base.alarm {
  color: #b70000;
  text-shadow: 0 0 0 #b70000,
               0 0 1px #fff,
               0 0 1px #fff,
               0 0 2px #fff,
               0 0 2px #fff,
               0 0 3px #fff,
               0 0 3px #fff,
               0 0 4px #fff,
               0 0 4px #fff;
}

.rs-counter-id {
  font-weight: 300;
  -webkit-box-ordinal-group: 0;
  -webkit-order: 0;
  order: 0;
  width: 54px;
}

.rs-counter-value {
  font-weight: 300;
  -webkit-box-ordinal-group: 1;
  -webkit-order: 1;
  order: 1;
  text-align: right;
  width: 35px;
}

.rs-canvas {
  -webkit-box-ordinal-group: 2;
  -webkit-order: 2;
  order: 2;
}

@media (min-width: 480px) {
  .rs-base {
    left: 20px;
    top: 20px;
  }
}
`,"",{version:3,sources:["webpack://./src/style/rStats.css"],names:[],mappings:"AAAA;EACE,sBAAsB;EACtB,cAAc;EACd,gBAAgB;EAChB,oBAAoB;EACpB,SAAS;EACT,gBAAgB;EAChB,aAAa;EACb,gBAAgB;EAChB,aAAa;EACb,eAAe;EACf,QAAQ;EACR,YAAY;EACZ,cAAc;AAChB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,WAAW;EACX,eAAe;EACf,gBAAgB;EAChB,gBAAgB;EAChB,eAAe;EACf,UAAU;AACZ;;AAEA;EACE,oBAAoB;EACpB,qBAAqB;EACrB,aAAa;EACb,sCAAsC;EACtC,8BAA8B;EAC9B,kBAAkB;AACpB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,mBAAmB;EACnB,oBAAoB;EACpB,qBAAqB;EACrB,aAAa;EACb,YAAY;EACZ,sCAAsC;EACtC,8BAA8B;EAC9B,aAAa;AACf;;AAEA;EACE,cAAc;EACd;;;;;;;;2BAQyB;AAC3B;;AAEA;EACE,gBAAgB;EAChB,4BAA4B;EAC5B,gBAAgB;EAChB,QAAQ;EACR,WAAW;AACb;;AAEA;EACE,gBAAgB;EAChB,4BAA4B;EAC5B,gBAAgB;EAChB,QAAQ;EACR,iBAAiB;EACjB,WAAW;AACb;;AAEA;EACE,4BAA4B;EAC5B,gBAAgB;EAChB,QAAQ;AACV;;AAEA;EACE;IACE,UAAU;IACV,SAAS;EACX;AACF",sourcesContent:[`.rs-base {
  background-color: #333;
  color: #fafafa;
  border-radius: 0;
  font: 10px monospace;
  left: 5px;
  line-height: 1em;
  opacity: 0.85;
  overflow: hidden;
  padding: 10px;
  position: fixed;
  top: 5px;
  width: 300px;
  z-index: 10000;
}

.rs-base div.hidden {
  display: none;
}

.rs-base h1 {
  color: #fff;
  cursor: pointer;
  font-size: 1.4em;
  font-weight: 300;
  margin: 0 0 5px;
  padding: 0;
}

.rs-group {
  display: -webkit-box;
  display: -webkit-flex;
  display: flex;
  -webkit-flex-direction: column-reverse;
  flex-direction: column-reverse;
  margin-bottom: 5px;
}

.rs-group:last-child {
  margin-bottom: 0;
}

.rs-counter-base {
  align-items: center;
  display: -webkit-box;
  display: -webkit-flex;
  display: flex;
  height: 10px;
  -webkit-justify-content: space-between;
  justify-content: space-between;
  margin: 2px 0;
}

.rs-counter-base.alarm {
  color: #b70000;
  text-shadow: 0 0 0 #b70000,
               0 0 1px #fff,
               0 0 1px #fff,
               0 0 2px #fff,
               0 0 2px #fff,
               0 0 3px #fff,
               0 0 3px #fff,
               0 0 4px #fff,
               0 0 4px #fff;
}

.rs-counter-id {
  font-weight: 300;
  -webkit-box-ordinal-group: 0;
  -webkit-order: 0;
  order: 0;
  width: 54px;
}

.rs-counter-value {
  font-weight: 300;
  -webkit-box-ordinal-group: 1;
  -webkit-order: 1;
  order: 1;
  text-align: right;
  width: 35px;
}

.rs-canvas {
  -webkit-box-ordinal-group: 2;
  -webkit-order: 2;
  order: 2;
}

@media (min-width: 480px) {
  .rs-base {
    left: 20px;
    top: 20px;
  }
}
`],sourceRoot:""}]);const y=v},"./src/style/aframe.css":(l,u,c)=>{c.r(u),c.d(u,{default:()=>R});var d=c("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),h=c.n(d),p=c("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),m=c.n(p),v=c("./node_modules/style-loader/dist/runtime/insertBySelector.js"),y=c.n(v),A=c("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),b=c.n(A),g=c("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),w=c.n(g),E=c("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),C=c.n(E),_=c("./node_modules/css-loader/dist/cjs.js!./src/style/aframe.css"),L={};L.styleTagTransform=C(),L.setAttributes=b(),L.insert=y().bind(null,"head"),L.domAPI=m(),L.insertStyleElement=w(),h()(_.default,L);const R=_.default&&_.default.locals?_.default.locals:void 0},"./src/style/rStats.css":(l,u,c)=>{c.r(u),c.d(u,{default:()=>R});var d=c("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),h=c.n(d),p=c("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),m=c.n(p),v=c("./node_modules/style-loader/dist/runtime/insertBySelector.js"),y=c.n(v),A=c("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),b=c.n(A),g=c("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),w=c.n(g),E=c("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),C=c.n(E),_=c("./node_modules/css-loader/dist/cjs.js!./src/style/rStats.css"),L={};L.styleTagTransform=C(),L.setAttributes=b(),L.insert=y().bind(null,"head"),L.domAPI=m(),L.insertStyleElement=w(),h()(_.default,L);const R=_.default&&_.default.locals?_.default.locals:void 0},"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":l=>{var u=[];function c(p){for(var m=-1,v=0;v<u.length;v++)if(u[v].identifier===p){m=v;break}return m}function d(p,m){for(var v={},y=[],A=0;A<p.length;A++){var b=p[A],g=m.base?b[0]+m.base:b[0],w=v[g]||0,E="".concat(g," ").concat(w);v[g]=w+1;var C=c(E),_={css:b[1],media:b[2],sourceMap:b[3],supports:b[4],layer:b[5]};if(C!==-1)u[C].references++,u[C].updater(_);else{var L=h(_,m);m.byIndex=A,u.splice(A,0,{identifier:E,updater:L,references:1})}y.push(E)}return y}function h(p,m){var v=m.domAPI(m);v.update(p);var y=function(b){if(b){if(b.css===p.css&&b.media===p.media&&b.sourceMap===p.sourceMap&&b.supports===p.supports&&b.layer===p.layer)return;v.update(p=b)}else v.remove()};return y}l.exports=function(p,m){m=m||{},p=p||[];var v=d(p,m);return function(A){A=A||[];for(var b=0;b<v.length;b++){var g=v[b],w=c(g);u[w].references--}for(var E=d(A,m),C=0;C<v.length;C++){var _=v[C],L=c(_);u[L].references===0&&(u[L].updater(),u.splice(L,1))}v=E}}},"./node_modules/style-loader/dist/runtime/insertBySelector.js":l=>{var u={};function c(h){if(typeof u[h]>"u"){var p=document.querySelector(h);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch{p=null}u[h]=p}return u[h]}function d(h,p){var m=c(h);if(!m)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");m.appendChild(p)}l.exports=d},"./node_modules/style-loader/dist/runtime/insertStyleElement.js":l=>{function u(c){var d=document.createElement("style");return c.setAttributes(d,c.attributes),c.insert(d,c.options),d}l.exports=u},"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":(l,u,c)=>{function d(h){var p=c.nc;p&&h.setAttribute("nonce",p)}l.exports=d},"./node_modules/style-loader/dist/runtime/styleDomAPI.js":l=>{function u(h,p,m){var v="";m.supports&&(v+="@supports (".concat(m.supports,") {")),m.media&&(v+="@media ".concat(m.media," {"));var y=typeof m.layer<"u";y&&(v+="@layer".concat(m.layer.length>0?" ".concat(m.layer):""," {")),v+=m.css,y&&(v+="}"),m.media&&(v+="}"),m.supports&&(v+="}");var A=m.sourceMap;A&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(A))))," */")),p.styleTagTransform(v,h,p.options)}function c(h){if(h.parentNode===null)return!1;h.parentNode.removeChild(h)}function d(h){if(typeof document>"u")return{update:function(){},remove:function(){}};var p=h.insertStyleElement(h);return{update:function(v){u(p,h,v)},remove:function(){c(p)}}}l.exports=d},"./node_modules/style-loader/dist/runtime/styleTagTransform.js":l=>{function u(c,d){if(d.styleSheet)d.styleSheet.cssText=c;else{for(;d.firstChild;)d.removeChild(d.firstChild);d.appendChild(document.createTextNode(c))}}l.exports=u},"data:image/svg+xml,%3C%3Fxml version=%271.0%27 encoding=%27UTF-8%27 standalone=%27no%27%3F%3E%3Csvg width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27 version=%271.1%27 id=%27svg320%27 sodipodi:docname=%27fullscreen-aframe.svg%27 xml:space=%27preserve%27 inkscape:version=%271.2.1 %289c6d41e  2022-07-14%29%27 xmlns:inkscape=%27http://www.inkscape.org/namespaces/inkscape%27 xmlns:sodipodi=%27http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:svg=%27http://www.w3.org/2000/svg%27 xmlns:rdf=%27http://www.w3.org/1999/02/22-rdf-syntax-ns%23%27 xmlns:cc=%27http://creativecommons.org/ns%23%27 xmlns:dc=%27http://purl.org/dc/elements/1.1/%27%3E%3Cdefs id=%27defs324%27 /%3E%3Csodipodi:namedview id=%27namedview322%27 pagecolor=%27%23ffffff%27 bordercolor=%27%23000000%27 borderopacity=%270.25%27 inkscape:showpageshadow=%272%27 inkscape:pageopacity=%270.0%27 inkscape:pagecheckerboard=%270%27 inkscape:deskcolor=%27%23d1d1d1%27 showgrid=%27false%27 inkscape:zoom=%273.8064516%27 inkscape:cx=%2791.423729%27 inkscape:cy=%27-1.4449153%27 inkscape:window-width=%271440%27 inkscape:window-height=%27847%27 inkscape:window-x=%2732%27 inkscape:window-y=%2725%27 inkscape:window-maximized=%270%27 inkscape:current-layer=%27svg320%27 /%3E%3Ctitle id=%27title312%27%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96 0H12A12 12 0 0 0 0 12V50A12 12 0 0 0 12 62H96a12 12 0 0 0 12-12V12A12 12 0 0 0 96 0Zm8 50a8 8 0 0 1-8 8H12a8 8 0 0 1-8-8V12a8 8 0 0 1 8-8H96a8 8 0 0 1 8 8Z%27 fill=%27%23fff%27 id=%27path314%27 style=%27fill:%23ffffff%27 /%3E%3Cg id=%27g356%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g358%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g360%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g362%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g364%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g366%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g368%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g370%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g372%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g374%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g376%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g378%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g380%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g382%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g384%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cmetadata id=%27metadata561%27%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=%27%27%3E%3Cdc:title%3Eaframe-armode-noborder-reduced-tracking%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cpath d=%27m 98.168511 40.083649 c 0 -1.303681 -0.998788 -2.358041 -2.239389 -2.358041 -1.230088 0.0031 -2.240892 1.05436 -2.240892 2.358041 v 4.881296 l -9.041661 -9.041662 c -0.874129 -0.875631 -2.288954 -0.875631 -3.16308 0 -0.874129 0.874126 -0.874129 2.293459 0 3.167585 l 8.995101 8.992101 h -4.858767 c -1.323206 0.0031 -2.389583 1.004796 -2.389583 2.239386 0 1.237598 1.066377 2.237888 2.389583 2.237888 h 10.154599 c 1.323206 0 2.388082 -0.998789 2.392587 -2.237888 -0.0044 -0.03305 -0.009 -0.05858 -0.0134 -0.09161 0.0046 -0.04207 0.0134 -0.08712 0.0134 -0.13066 V 40.085172 h -1.52e-4%27 id=%27path596%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 23.091002 35.921781 -9.026643 9.041662 v -4.881296 c 0 -1.303681 -1.009302 -2.355037 -2.242393 -2.358041 -1.237598 0 -2.237888 1.05436 -2.237888 2.358041 l -0.0031 10.016421 c 0 0.04356 0.01211 0.08862 0.0015 0.130659 -0.0031 0.03153 -0.009 0.05709 -0.01211 0.09161 0.0031 1.239099 1.069379 2.237888 2.391085 2.237888 h 10.156101 c 1.320202 0 2.388079 -1.000291 2.388079 -2.237888 0 -1.234591 -1.067877 -2.236383 -2.388079 -2.239387 h -4.858767 l 8.995101 -8.9921 c 0.871126 -0.874127 0.871126 -2.293459 0 -3.167586 -0.875628 -0.877132 -2.291957 -0.877132 -3.169087 -1.52e-4%27 id=%27path598%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 84.649572 25.978033 9.041662 -9.041664 v 4.881298 c 0 1.299176 1.010806 2.350532 2.240891 2.355037 1.240601 0 2.23939 -1.055861 2.23939 -2.355037 V 11.798242 c 0 -0.04356 -0.009 -0.08862 -0.0134 -0.127671 0.0044 -0.03153 0.009 -0.06157 0.0134 -0.09313 -0.0044 -1.240598 -1.069379 -2.2393873 -2.391085 -2.2393873 h -10.1546 c -1.323205 0 -2.38958 0.9987893 -2.38958 2.2393873 0 1.233091 1.066375 2.237887 2.38958 2.240891 h 4.858768 l -8.995102 8.9921 c -0.874129 0.872625 -0.874129 2.288954 0 3.161578 0.874127 0.880137 2.288951 0.880137 3.16308 1.5e-4%27 id=%27path600%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 17.264988 13.822853 h 4.857265 c 1.320202 -0.0031 2.388079 -1.0078 2.388079 -2.240889 0 -1.240601 -1.067877 -2.2393893 -2.388079 -2.2393893 H 11.967654 c -1.321707 0 -2.388082 0.9987883 -2.391085 2.2393893 0.0031 0.03153 0.009 0.06157 0.01211 0.09313 -0.0031 0.03905 -0.0015 0.08262 -0.0015 0.127671 l 0.0031 10.020926 c 0 1.299176 1.00029 2.355038 2.237887 2.355038 1.233092 -0.0044 2.242393 -1.055862 2.242393 -2.355038 v -4.881295 l 9.026644 9.041661 c 0.877132 0.878635 2.293459 0.878635 3.169087 0 0.871125 -0.872624 0.871125 -2.288953 0 -3.161577 l -8.995282 -8.993616%27 id=%27path602%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3C/svg%3E":l=>{l.exports="data:image/svg+xml,%3C%3Fxml version=%271.0%27 encoding=%27UTF-8%27 standalone=%27no%27%3F%3E%3Csvg width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27 version=%271.1%27 id=%27svg320%27 sodipodi:docname=%27fullscreen-aframe.svg%27 xml:space=%27preserve%27 inkscape:version=%271.2.1 %289c6d41e  2022-07-14%29%27 xmlns:inkscape=%27http://www.inkscape.org/namespaces/inkscape%27 xmlns:sodipodi=%27http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:svg=%27http://www.w3.org/2000/svg%27 xmlns:rdf=%27http://www.w3.org/1999/02/22-rdf-syntax-ns%23%27 xmlns:cc=%27http://creativecommons.org/ns%23%27 xmlns:dc=%27http://purl.org/dc/elements/1.1/%27%3E%3Cdefs id=%27defs324%27 /%3E%3Csodipodi:namedview id=%27namedview322%27 pagecolor=%27%23ffffff%27 bordercolor=%27%23000000%27 borderopacity=%270.25%27 inkscape:showpageshadow=%272%27 inkscape:pageopacity=%270.0%27 inkscape:pagecheckerboard=%270%27 inkscape:deskcolor=%27%23d1d1d1%27 showgrid=%27false%27 inkscape:zoom=%273.8064516%27 inkscape:cx=%2791.423729%27 inkscape:cy=%27-1.4449153%27 inkscape:window-width=%271440%27 inkscape:window-height=%27847%27 inkscape:window-x=%2732%27 inkscape:window-y=%2725%27 inkscape:window-maximized=%270%27 inkscape:current-layer=%27svg320%27 /%3E%3Ctitle id=%27title312%27%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96 0H12A12 12 0 0 0 0 12V50A12 12 0 0 0 12 62H96a12 12 0 0 0 12-12V12A12 12 0 0 0 96 0Zm8 50a8 8 0 0 1-8 8H12a8 8 0 0 1-8-8V12a8 8 0 0 1 8-8H96a8 8 0 0 1 8 8Z%27 fill=%27%23fff%27 id=%27path314%27 style=%27fill:%23ffffff%27 /%3E%3Cg id=%27g356%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g358%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g360%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g362%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g364%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g366%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g368%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g370%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g372%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g374%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g376%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g378%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g380%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g382%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g384%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cmetadata id=%27metadata561%27%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=%27%27%3E%3Cdc:title%3Eaframe-armode-noborder-reduced-tracking%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cpath d=%27m 98.168511 40.083649 c 0 -1.303681 -0.998788 -2.358041 -2.239389 -2.358041 -1.230088 0.0031 -2.240892 1.05436 -2.240892 2.358041 v 4.881296 l -9.041661 -9.041662 c -0.874129 -0.875631 -2.288954 -0.875631 -3.16308 0 -0.874129 0.874126 -0.874129 2.293459 0 3.167585 l 8.995101 8.992101 h -4.858767 c -1.323206 0.0031 -2.389583 1.004796 -2.389583 2.239386 0 1.237598 1.066377 2.237888 2.389583 2.237888 h 10.154599 c 1.323206 0 2.388082 -0.998789 2.392587 -2.237888 -0.0044 -0.03305 -0.009 -0.05858 -0.0134 -0.09161 0.0046 -0.04207 0.0134 -0.08712 0.0134 -0.13066 V 40.085172 h -1.52e-4%27 id=%27path596%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 23.091002 35.921781 -9.026643 9.041662 v -4.881296 c 0 -1.303681 -1.009302 -2.355037 -2.242393 -2.358041 -1.237598 0 -2.237888 1.05436 -2.237888 2.358041 l -0.0031 10.016421 c 0 0.04356 0.01211 0.08862 0.0015 0.130659 -0.0031 0.03153 -0.009 0.05709 -0.01211 0.09161 0.0031 1.239099 1.069379 2.237888 2.391085 2.237888 h 10.156101 c 1.320202 0 2.388079 -1.000291 2.388079 -2.237888 0 -1.234591 -1.067877 -2.236383 -2.388079 -2.239387 h -4.858767 l 8.995101 -8.9921 c 0.871126 -0.874127 0.871126 -2.293459 0 -3.167586 -0.875628 -0.877132 -2.291957 -0.877132 -3.169087 -1.52e-4%27 id=%27path598%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 84.649572 25.978033 9.041662 -9.041664 v 4.881298 c 0 1.299176 1.010806 2.350532 2.240891 2.355037 1.240601 0 2.23939 -1.055861 2.23939 -2.355037 V 11.798242 c 0 -0.04356 -0.009 -0.08862 -0.0134 -0.127671 0.0044 -0.03153 0.009 -0.06157 0.0134 -0.09313 -0.0044 -1.240598 -1.069379 -2.2393873 -2.391085 -2.2393873 h -10.1546 c -1.323205 0 -2.38958 0.9987893 -2.38958 2.2393873 0 1.233091 1.066375 2.237887 2.38958 2.240891 h 4.858768 l -8.995102 8.9921 c -0.874129 0.872625 -0.874129 2.288954 0 3.161578 0.874127 0.880137 2.288951 0.880137 3.16308 1.5e-4%27 id=%27path600%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 17.264988 13.822853 h 4.857265 c 1.320202 -0.0031 2.388079 -1.0078 2.388079 -2.240889 0 -1.240601 -1.067877 -2.2393893 -2.388079 -2.2393893 H 11.967654 c -1.321707 0 -2.388082 0.9987883 -2.391085 2.2393893 0.0031 0.03153 0.009 0.06157 0.01211 0.09313 -0.0031 0.03905 -0.0015 0.08262 -0.0015 0.127671 l 0.0031 10.020926 c 0 1.299176 1.00029 2.355038 2.237887 2.355038 1.233092 -0.0044 2.242393 -1.055862 2.242393 -2.355038 v -4.881295 l 9.026644 9.041661 c 0.877132 0.878635 2.293459 0.878635 3.169087 0 0.871125 -0.872624 0.871125 -2.288953 0 -3.161577 l -8.995282 -8.993616%27 id=%27path602%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3C/svg%3E"},"data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z%27 fill=%27%23fff%27/%3E%3C/svg%3E":l=>{l.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z%27 fill=%27%23fff%27/%3E%3C/svg%3E"},"data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z%27 fill=%27%23fff%27/%3E%3C/svg%3E":l=>{l.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z%27 fill=%27%23fff%27/%3E%3C/svg%3E"},"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E":l=>{l.exports="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E"},"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E":l=>{l.exports="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E"},"./node_modules/super-three/build/three.module.js":(l,u,c)=>{c.r(u),c.d(u,{ACESFilmicToneMapping:()=>be,AddEquation:()=>B,AddOperation:()=>Ct,AdditiveAnimationBlendMode:()=>dn,AdditiveBlending:()=>T,AlphaFormat:()=>Sn,AlwaysDepth:()=>Ze,AlwaysStencilFunc:()=>ay,AmbientLight:()=>wO,AmbientLightProbe:()=>rY,AnimationClip:()=>pv,AnimationLoader:()=>jq,AnimationMixer:()=>EY,AnimationObjectGroup:()=>yY,AnimationUtils:()=>zq,ArcCurve:()=>HB,ArrayCamera:()=>nS,ArrowHelper:()=>jY,Audio:()=>NO,AudioAnalyser:()=>cY,AudioContext:()=>OS,AudioListener:()=>aY,AudioLoader:()=>tY,AxesHelper:()=>VY,BackSide:()=>_,BasicDepthPacking:()=>fn,BasicShadowMap:()=>b,Bone:()=>aS,BooleanKeyframeTrack:()=>Af,Box2:()=>IY,Box3:()=>Oc,Box3Helper:()=>$Y,BoxBufferGeometry:()=>tJ,BoxGeometry:()=>Yu,BoxHelper:()=>HY,BufferAttribute:()=>Vi,BufferGeometry:()=>ci,BufferGeometryLoader:()=>TO,ByteType:()=>It,Cache:()=>bf,Camera:()=>_y,CameraHelper:()=>zY,CanvasTexture:()=>uq,CapsuleBufferGeometry:()=>nJ,CapsuleGeometry:()=>qg,CatmullRomCurve3:()=>$B,CineonToneMapping:()=>Ve,CircleBufferGeometry:()=>rJ,CircleGeometry:()=>Yg,ClampToEdgeWrapping:()=>Ue,Clock:()=>BO,Color:()=>br,ColorKeyframeTrack:()=>TS,ColorManagement:()=>Yo,CompressedArrayTexture:()=>cq,CompressedTexture:()=>uS,CompressedTextureLoader:()=>Vq,ConeBufferGeometry:()=>iJ,ConeGeometry:()=>Jg,CubeCamera:()=>NP,CubeReflectionMapping:()=>Te,CubeRefractionMapping:()=>Ce,CubeTexture:()=>Hg,CubeTextureLoader:()=>Wq,CubeUVReflectionMapping:()=>Ge,CubicBezierCurve:()=>mS,CubicBezierCurve3:()=>jB,CubicInterpolant:()=>hO,CullFaceBack:()=>v,CullFaceFront:()=>y,CullFaceFrontBack:()=>A,CullFaceNone:()=>m,Curve:()=>xl,CurvePath:()=>WB,CustomBlending:()=>V,CustomToneMapping:()=>fe,CylinderBufferGeometry:()=>oJ,CylinderGeometry:()=>pf,Cylindrical:()=>RY,Data3DTexture:()=>Uh,DataArrayTexture:()=>af,DataTexture:()=>rp,DataTexture2DArray:()=>ZY,DataTexture3D:()=>eJ,DataTextureLoader:()=>Qq,DataUtils:()=>qY,DecrementStencilOp:()=>ts,DecrementWrapStencilOp:()=>_c,DefaultLoadingManager:()=>gO,DepthFormat:()=>Fn,DepthStencilFormat:()=>Cn,DepthTexture:()=>hB,DirectionalLight:()=>CO,DirectionalLightHelper:()=>UY,DiscreteInterpolant:()=>pO,DodecahedronBufferGeometry:()=>aJ,DodecahedronGeometry:()=>Zg,DoubleSide:()=>L,DstAlphaFactor:()=>oe,DstColorFactor:()=>Be,DynamicCopyUsage:()=>fw,DynamicDrawUsage:()=>aw,DynamicReadUsage:()=>cw,EdgesGeometry:()=>QB,EllipseCurve:()=>Wy,EqualDepth:()=>lt,EqualStencilFunc:()=>Ic,EquirectangularReflectionMapping:()=>Se,EquirectangularRefractionMapping:()=>we,Euler:()=>ha,EventDispatcher:()=>Oa,ExtrudeBufferGeometry:()=>sJ,ExtrudeGeometry:()=>rv,FileLoader:()=>Hc,Float16BufferAttribute:()=>tW,Float32BufferAttribute:()=>Mr,Float64BufferAttribute:()=>nW,FloatType:()=>Pt,Fog:()=>Dy,FogExp2:()=>Oy,FramebufferTexture:()=>lq,FrontSide:()=>C,Frustum:()=>Ty,GLBufferAttribute:()=>_Y,GLSL1:()=>pw,GLSL3:()=>_g,GreaterDepth:()=>it,GreaterEqualDepth:()=>ot,GreaterEqualStencilFunc:()=>ow,GreaterStencilFunc:()=>rw,GridHelper:()=>kY,Group:()=>ff,HalfFloatType:()=>pt,HemisphereLight:()=>vO,HemisphereLightHelper:()=>NY,HemisphereLightProbe:()=>nY,IcosahedronBufferGeometry:()=>lJ,IcosahedronGeometry:()=>iv,ImageBitmapLoader:()=>eY,ImageLoader:()=>mv,ImageUtils:()=>Pg,ImmediateRenderObject:()=>YY,IncrementStencilOp:()=>ps,IncrementWrapStencilOp:()=>hl,InstancedBufferAttribute:()=>ip,InstancedBufferGeometry:()=>MO,InstancedInterleavedBuffer:()=>SY,InstancedMesh:()=>LB,Int16BufferAttribute:()=>ZV,Int32BufferAttribute:()=>eW,Int8BufferAttribute:()=>qV,IntType:()=>Gt,InterleavedBuffer:()=>Ny,InterleavedBufferAttribute:()=>hf,Interpolant:()=>dv,InterpolateDiscrete:()=>ye,InterpolateLinear:()=>Ee,InterpolateSmooth:()=>Me,InvertStencilOp:()=>Mc,KeepStencilOp:()=>Ii,KeyframeTrack:()=>El,LOD:()=>EB,LatheBufferGeometry:()=>cJ,LatheGeometry:()=>op,Layers:()=>Si,LessDepth:()=>Xe,LessEqualDepth:()=>ke,LessEqualStencilFunc:()=>co,LessStencilFunc:()=>Rc,Light:()=>ed,LightProbe:()=>tb,Line:()=>Zu,Line3:()=>LY,LineBasicMaterial:()=>Ua,LineCurve:()=>Ky,LineCurve3:()=>VB,LineDashedMaterial:()=>dO,LineLoop:()=>kB,LineSegments:()=>ac,LinearEncoding:()=>pr,LinearFilter:()=>ve,LinearInterpolant:()=>MS,LinearMipMapLinearFilter:()=>Qe,LinearMipMapNearestFilter:()=>qe,LinearMipmapLinearFilter:()=>Je,LinearMipmapNearestFilter:()=>he,LinearSRGBColorSpace:()=>ni,LinearToneMapping:()=>Dt,Loader:()=>ys,LoaderUtils:()=>BS,LoadingManager:()=>RS,LoopOnce:()=>at,LoopPingPong:()=>pe,LoopRepeat:()=>bt,LuminanceAlphaFormat:()=>Gn,LuminanceFormat:()=>rr,MOUSE:()=>h,Material:()=>Ca,MaterialLoader:()=>nb,MathUtils:()=>Tw,Matrix3:()=>da,Matrix4:()=>wr,MaxEquation:()=>z,Mesh:()=>pa,MeshBasicMaterial:()=>Qu,MeshDepthMaterial:()=>eS,MeshDistanceMaterial:()=>tS,MeshLambertMaterial:()=>cO,MeshMatcapMaterial:()=>uO,MeshNormalMaterial:()=>lO,MeshPhongMaterial:()=>aO,MeshPhysicalMaterial:()=>oO,MeshStandardMaterial:()=>CS,MeshToonMaterial:()=>sO,MinEquation:()=>k,MirroredRepeatWrapping:()=>et,MixOperation:()=>At,MultiplyBlending:()=>$,MultiplyOperation:()=>xt,NearestFilter:()=>ce,NearestMipMapLinearFilter:()=>We,NearestMipMapNearestFilter:()=>ne,NearestMipmapLinearFilter:()=>Le,NearestMipmapNearestFilter:()=>Y,NeverDepth:()=>He,NeverStencilFunc:()=>Tc,NoBlending:()=>R,NoColorSpace:()=>mr,NoToneMapping:()=>Tt,NormalAnimationBlendMode:()=>Zt,NormalBlending:()=>P,NotEqualDepth:()=>ft,NotEqualStencilFunc:()=>iw,NumberKeyframeTrack:()=>fv,Object3D:()=>yi,ObjectLoader:()=>Jq,ObjectSpaceNormalMap:()=>lr,OctahedronBufferGeometry:()=>uJ,OctahedronGeometry:()=>sp,OneFactor:()=>j,OneMinusDstAlphaFactor:()=>ue,OneMinusDstColorFactor:()=>ge,OneMinusSrcAlphaFactor:()=>Z,OneMinusSrcColorFactor:()=>X,OrthographicCamera:()=>Iy,PCFShadowMap:()=>g,PCFSoftShadowMap:()=>w,PMREMGenerator:()=>qw,Path:()=>Xg,PerspectiveCamera:()=>Uo,Plane:()=>Ju,PlaneBufferGeometry:()=>dJ,PlaneGeometry:()=>Xh,PlaneHelper:()=>GY,PointLight:()=>EO,PointLightHelper:()=>OY,Points:()=>UB,PointsMaterial:()=>lS,PolarGridHelper:()=>FY,PolyhedronBufferGeometry:()=>fJ,PolyhedronGeometry:()=>Uc,PositionalAudio:()=>lY,PropertyBinding:()=>Mi,PropertyMixer:()=>FO,QuadraticBezierCurve:()=>gS,QuadraticBezierCurve3:()=>vS,Quaternion:()=>fa,QuaternionKeyframeTrack:()=>cp,QuaternionLinearInterpolant:()=>mO,REVISION:()=>d,RGBADepthPacking:()=>xn,RGBAFormat:()=>Pn,RGBAIntegerFormat:()=>De,RGBA_ASTC_10x10_Format:()=>se,RGBA_ASTC_10x5_Format:()=>qn,RGBA_ASTC_10x6_Format:()=>jn,RGBA_ASTC_10x8_Format:()=>re,RGBA_ASTC_12x10_Format:()=>_e,RGBA_ASTC_12x12_Format:()=>Fe,RGBA_ASTC_4x4_Format:()=>yr,RGBA_ASTC_5x4_Format:()=>kn,RGBA_ASTC_5x5_Format:()=>dr,RGBA_ASTC_6x5_Format:()=>sr,RGBA_ASTC_6x6_Format:()=>Dr,RGBA_ASTC_8x5_Format:()=>or,RGBA_ASTC_8x6_Format:()=>Jt,RGBA_ASTC_8x8_Format:()=>bn,RGBA_BPTC_Format:()=>Ye,RGBA_ETC2_EAC_Format:()=>er,RGBA_PVRTC_2BPPV1_Format:()=>Kt,RGBA_PVRTC_4BPPV1_Format:()=>sn,RGBA_S3TC_DXT1_Format:()=>St,RGBA_S3TC_DXT3_Format:()=>Mt,RGBA_S3TC_DXT5_Format:()=>Ut,RGBFormat:()=>yn,RGB_ETC1_Format:()=>Hn,RGB_ETC2_Format:()=>Nn,RGB_PVRTC_2BPPV1_Format:()=>mn,RGB_PVRTC_4BPPV1_Format:()=>Qt,RGB_S3TC_DXT1_Format:()=>tt,RGFormat:()=>wt,RGIntegerFormat:()=>xe,RawShaderMaterial:()=>iO,Ray:()=>Na,Raycaster:()=>MY,RectAreaLight:()=>SO,RedFormat:()=>Oe,RedIntegerFormat:()=>st,ReinhardToneMapping:()=>Yt,RepeatWrapping:()=>Ae,ReplaceStencilOp:()=>Gr,ReverseSubtractEquation:()=>F,RingBufferGeometry:()=>hJ,RingGeometry:()=>ov,SRGBColorSpace:()=>Br,Scene:()=>gB,ShaderChunk:()=>ii,ShaderLib:()=>bl,ShaderMaterial:()=>oc,ShadowMaterial:()=>rO,Shape:()=>mf,ShapeBufferGeometry:()=>pJ,ShapeGeometry:()=>av,ShapePath:()=>WY,ShapeUtils:()=>sc,ShortType:()=>kt,Skeleton:()=>Hy,SkeletonHelper:()=>BY,SkinnedMesh:()=>MB,Source:()=>Bc,Sphere:()=>gl,SphereBufferGeometry:()=>mJ,SphereGeometry:()=>lp,Spherical:()=>TY,SphericalHarmonics3:()=>_O,SplineCurve:()=>AS,SpotLight:()=>bO,SpotLightHelper:()=>PY,Sprite:()=>bB,SpriteMaterial:()=>iS,SrcAlphaFactor:()=>J,SrcAlphaSaturateFactor:()=>Ie,SrcColorFactor:()=>Q,StaticCopyUsage:()=>dw,StaticDrawUsage:()=>tf,StaticReadUsage:()=>lw,StereoCamera:()=>iY,StreamCopyUsage:()=>hw,StreamDrawUsage:()=>sw,StreamReadUsage:()=>uw,StringKeyframeTrack:()=>yf,SubtractEquation:()=>O,SubtractiveBlending:()=>D,TOUCH:()=>p,TangentSpaceNormalMap:()=>Yn,TetrahedronBufferGeometry:()=>gJ,TetrahedronGeometry:()=>sv,Texture:()=>fo,TextureLoader:()=>Kq,TorusBufferGeometry:()=>vJ,TorusGeometry:()=>lv,TorusKnotBufferGeometry:()=>AJ,TorusKnotGeometry:()=>cv,Triangle:()=>$s,TriangleFanDrawMode:()=>Wn,TriangleStripDrawMode:()=>ln,TrianglesDrawMode:()=>Bn,TubeBufferGeometry:()=>yJ,TubeGeometry:()=>uv,UVMapping:()=>me,Uint16BufferAttribute:()=>Fw,Uint32BufferAttribute:()=>Uw,Uint8BufferAttribute:()=>YV,Uint8ClampedBufferAttribute:()=>JV,Uniform:()=>kS,UniformsGroup:()=>wY,UniformsLib:()=>ir,UniformsUtils:()=>DP,UnsignedByteType:()=>nt,UnsignedInt248Type:()=>qt,UnsignedIntType:()=>Vt,UnsignedShort4444Type:()=>Ot,UnsignedShort5551Type:()=>cn,UnsignedShortType:()=>Bt,VSMShadowMap:()=>E,Vector2:()=>In,Vector3:()=>dt,Vector4:()=>wi,VectorKeyframeTrack:()=>hv,VideoTexture:()=>sq,WebGL1Renderer:()=>mB,WebGL3DRenderTarget:()=>Pw,WebGLArrayRenderTarget:()=>Lw,WebGLCubeRenderTarget:()=>kP,WebGLMultipleRenderTargets:()=>Bw,WebGLMultisampleRenderTarget:()=>JY,WebGLRenderTarget:()=>ns,WebGLRenderer:()=>pB,WebGLUtils:()=>cB,WireframeGeometry:()=>eO,WrapAroundEnding:()=>Ft,ZeroCurvatureEnding:()=>Pe,ZeroFactor:()=>G,ZeroSlopeEnding:()=>yt,ZeroStencilOp:()=>Kr,_SRGBAFormat:()=>Oh,sRGBEncoding:()=>$n});/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const d="147",h={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},p={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},m=0,v=1,y=2,A=3,b=0,g=1,w=2,E=3,C=0,_=1,L=2,R=0,P=1,T=2,D=3,$=4,V=5,B=100,O=101,F=102,k=103,z=104,G=200,j=201,Q=202,X=203,J=204,Z=205,oe=206,ue=207,Be=208,ge=209,Ie=210,He=0,Ze=1,Xe=2,ke=3,lt=4,ot=5,it=6,ft=7,xt=0,At=1,Ct=2,Tt=0,Dt=1,Yt=2,Ve=3,be=4,fe=5,me=300,Te=301,Ce=302,Se=303,we=304,Ge=306,Ae=1e3,Ue=1001,et=1002,ce=1003,Y=1004,ne=1004,Le=1005,We=1005,ve=1006,he=1007,qe=1007,Je=1008,Qe=1008,nt=1009,It=1010,kt=1011,Bt=1012,Gt=1013,Vt=1014,Pt=1015,pt=1016,Ot=1017,cn=1018,qt=1020,Sn=1021,yn=1022,Pn=1023,rr=1024,Gn=1025,Fn=1026,Cn=1027,Oe=1028,st=1029,wt=1030,xe=1031,De=1033,tt=33776,St=33777,Mt=33778,Ut=33779,Qt=35840,mn=35841,sn=35842,Kt=35843,Hn=36196,Nn=37492,er=37496,yr=37808,kn=37809,dr=37810,sr=37811,Dr=37812,or=37813,Jt=37814,bn=37815,qn=37816,jn=37817,re=37818,se=37819,_e=37820,Fe=37821,Ye=36492,at=2200,bt=2201,pe=2202,ye=2300,Ee=2301,Me=2302,Pe=2400,yt=2401,Ft=2402,Zt=2500,dn=2501,Bn=0,ln=1,Wn=2,pr=3e3,$n=3001,fn=3200,xn=3201,Yn=0,lr=1,mr="",Br="srgb",ni="srgb-linear",Kr=0,Ii=7680,Gr=7681,ps=7682,ts=7683,hl=34055,_c=34056,Mc=5386,Tc=512,Rc=513,Ic=514,co=515,rw=516,iw=517,ow=518,ay=519,tf=35044,aw=35048,sw=35040,lw=35045,cw=35049,uw=35041,dw=35046,fw=35050,hw=35042,pw="100",_g="300 es",Oh=1035;class Oa{addEventListener(a,f){this._listeners===void 0&&(this._listeners={});const x=this._listeners;x[a]===void 0&&(x[a]=[]),x[a].indexOf(f)===-1&&x[a].push(f)}hasEventListener(a,f){if(this._listeners===void 0)return!1;const x=this._listeners;return x[a]!==void 0&&x[a].indexOf(f)!==-1}removeEventListener(a,f){if(this._listeners===void 0)return;const S=this._listeners[a];if(S!==void 0){const I=S.indexOf(f);I!==-1&&S.splice(I,1)}}dispatchEvent(a){if(this._listeners===void 0)return;const x=this._listeners[a.type];if(x!==void 0){a.target=this;const S=x.slice(0);for(let I=0,N=S.length;I<N;I++)S[I].call(this,a);a.target=null}}}const qo=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let sy=1234567;const Lc=Math.PI/180,nf=180/Math.PI;function Da(){const H=Math.random()*4294967295|0,a=Math.random()*4294967295|0,f=Math.random()*4294967295|0,x=Math.random()*4294967295|0;return(qo[H&255]+qo[H>>8&255]+qo[H>>16&255]+qo[H>>24&255]+"-"+qo[a&255]+qo[a>>8&255]+"-"+qo[a>>16&15|64]+qo[a>>24&255]+"-"+qo[f&63|128]+qo[f>>8&255]+"-"+qo[f>>16&255]+qo[f>>24&255]+qo[x&255]+qo[x>>8&255]+qo[x>>16&255]+qo[x>>24&255]).toLowerCase()}function uo(H,a,f){return Math.max(a,Math.min(f,H))}function Mg(H,a){return(H%a+a)%a}function mw(H,a,f,x,S){return x+(H-a)*(S-x)/(f-a)}function gw(H,a,f){return H!==a?(f-H)/(a-H):0}function rf(H,a,f){return(1-f)*H+f*a}function vw(H,a,f,x){return rf(H,a,1-Math.exp(-f*x))}function Aw(H,a=1){return a-Math.abs(Mg(H,a*2)-a)}function yw(H,a,f){return H<=a?0:H>=f?1:(H=(H-a)/(f-a),H*H*(3-2*H))}function bw(H,a,f){return H<=a?0:H>=f?1:(H=(H-a)/(f-a),H*H*H*(H*(H*6-15)+10))}function xw(H,a){return H+Math.floor(Math.random()*(a-H+1))}function Ew(H,a){return H+Math.random()*(a-H)}function Cw(H){return H*(.5-Math.random())}function ww(H){H!==void 0&&(sy=H);let a=sy+=1831565813;return a=Math.imul(a^a>>>15,a|1),a^=a+Math.imul(a^a>>>7,a|61),((a^a>>>14)>>>0)/4294967296}function Sw(H){return H*Lc}function _w(H){return H*nf}function Tg(H){return(H&H-1)===0&&H!==0}function ly(H){return Math.pow(2,Math.ceil(Math.log(H)/Math.LN2))}function Dh(H){return Math.pow(2,Math.floor(Math.log(H)/Math.LN2))}function Mw(H,a,f,x,S){const I=Math.cos,N=Math.sin,U=I(f/2),W=N(f/2),K=I((a+x)/2),q=N((a+x)/2),ee=I((a-x)/2),te=N((a-x)/2),ie=I((x-a)/2),de=N((x-a)/2);switch(S){case"XYX":H.set(U*q,W*ee,W*te,U*K);break;case"YZY":H.set(W*te,U*q,W*ee,U*K);break;case"ZXZ":H.set(W*ee,W*te,U*q,U*K);break;case"XZX":H.set(U*q,W*de,W*ie,U*K);break;case"YXY":H.set(W*ie,U*q,W*de,U*K);break;case"ZYZ":H.set(W*de,W*ie,U*q,U*K);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+S)}}function pl(H,a){switch(a.constructor){case Float32Array:return H;case Uint16Array:return H/65535;case Uint8Array:return H/255;case Int16Array:return Math.max(H/32767,-1);case Int8Array:return Math.max(H/127,-1);default:throw new Error("Invalid component type.")}}function Ni(H,a){switch(a.constructor){case Float32Array:return H;case Uint16Array:return Math.round(H*65535);case Uint8Array:return Math.round(H*255);case Int16Array:return Math.round(H*32767);case Int8Array:return Math.round(H*127);default:throw new Error("Invalid component type.")}}var Tw=Object.freeze({__proto__:null,DEG2RAD:Lc,RAD2DEG:nf,generateUUID:Da,clamp:uo,euclideanModulo:Mg,mapLinear:mw,inverseLerp:gw,lerp:rf,damp:vw,pingpong:Aw,smoothstep:yw,smootherstep:bw,randInt:xw,randFloat:Ew,randFloatSpread:Cw,seededRandom:ww,degToRad:Sw,radToDeg:_w,isPowerOfTwo:Tg,ceilPowerOfTwo:ly,floorPowerOfTwo:Dh,setQuaternionFromProperEuler:Mw,normalize:Ni,denormalize:pl});class In{constructor(a=0,f=0){In.prototype.isVector2=!0,this.x=a,this.y=f}get width(){return this.x}set width(a){this.x=a}get height(){return this.y}set height(a){this.y=a}set(a,f){return this.x=a,this.y=f,this}setScalar(a){return this.x=a,this.y=a,this}setX(a){return this.x=a,this}setY(a){return this.y=a,this}setComponent(a,f){switch(a){case 0:this.x=f;break;case 1:this.y=f;break;default:throw new Error("index is out of range: "+a)}return this}getComponent(a){switch(a){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+a)}}clone(){return new this.constructor(this.x,this.y)}copy(a){return this.x=a.x,this.y=a.y,this}add(a){return this.x+=a.x,this.y+=a.y,this}addScalar(a){return this.x+=a,this.y+=a,this}addVectors(a,f){return this.x=a.x+f.x,this.y=a.y+f.y,this}addScaledVector(a,f){return this.x+=a.x*f,this.y+=a.y*f,this}sub(a){return this.x-=a.x,this.y-=a.y,this}subScalar(a){return this.x-=a,this.y-=a,this}subVectors(a,f){return this.x=a.x-f.x,this.y=a.y-f.y,this}multiply(a){return this.x*=a.x,this.y*=a.y,this}multiplyScalar(a){return this.x*=a,this.y*=a,this}divide(a){return this.x/=a.x,this.y/=a.y,this}divideScalar(a){return this.multiplyScalar(1/a)}applyMatrix3(a){const f=this.x,x=this.y,S=a.elements;return this.x=S[0]*f+S[3]*x+S[6],this.y=S[1]*f+S[4]*x+S[7],this}min(a){return this.x=Math.min(this.x,a.x),this.y=Math.min(this.y,a.y),this}max(a){return this.x=Math.max(this.x,a.x),this.y=Math.max(this.y,a.y),this}clamp(a,f){return this.x=Math.max(a.x,Math.min(f.x,this.x)),this.y=Math.max(a.y,Math.min(f.y,this.y)),this}clampScalar(a,f){return this.x=Math.max(a,Math.min(f,this.x)),this.y=Math.max(a,Math.min(f,this.y)),this}clampLength(a,f){const x=this.length();return this.divideScalar(x||1).multiplyScalar(Math.max(a,Math.min(f,x)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(a){return this.x*a.x+this.y*a.y}cross(a){return this.x*a.y-this.y*a.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(a){return Math.sqrt(this.distanceToSquared(a))}distanceToSquared(a){const f=this.x-a.x,x=this.y-a.y;return f*f+x*x}manhattanDistanceTo(a){return Math.abs(this.x-a.x)+Math.abs(this.y-a.y)}setLength(a){return this.normalize().multiplyScalar(a)}lerp(a,f){return this.x+=(a.x-this.x)*f,this.y+=(a.y-this.y)*f,this}lerpVectors(a,f,x){return this.x=a.x+(f.x-a.x)*x,this.y=a.y+(f.y-a.y)*x,this}equals(a){return a.x===this.x&&a.y===this.y}fromArray(a,f=0){return this.x=a[f],this.y=a[f+1],this}toArray(a=[],f=0){return a[f]=this.x,a[f+1]=this.y,a}fromBufferAttribute(a,f){return this.x=a.getX(f),this.y=a.getY(f),this}rotateAround(a,f){const x=Math.cos(f),S=Math.sin(f),I=this.x-a.x,N=this.y-a.y;return this.x=I*x-N*S+a.x,this.y=I*S+N*x+a.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class da{constructor(){da.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(a,f,x,S,I,N,U,W,K){const q=this.elements;return q[0]=a,q[1]=S,q[2]=U,q[3]=f,q[4]=I,q[5]=W,q[6]=x,q[7]=N,q[8]=K,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(a){const f=this.elements,x=a.elements;return f[0]=x[0],f[1]=x[1],f[2]=x[2],f[3]=x[3],f[4]=x[4],f[5]=x[5],f[6]=x[6],f[7]=x[7],f[8]=x[8],this}extractBasis(a,f,x){return a.setFromMatrix3Column(this,0),f.setFromMatrix3Column(this,1),x.setFromMatrix3Column(this,2),this}setFromMatrix4(a){const f=a.elements;return this.set(f[0],f[4],f[8],f[1],f[5],f[9],f[2],f[6],f[10]),this}multiply(a){return this.multiplyMatrices(this,a)}premultiply(a){return this.multiplyMatrices(a,this)}multiplyMatrices(a,f){const x=a.elements,S=f.elements,I=this.elements,N=x[0],U=x[3],W=x[6],K=x[1],q=x[4],ee=x[7],te=x[2],ie=x[5],de=x[8],le=S[0],ae=S[3],Re=S[6],$e=S[1],Ne=S[4],ze=S[7],Ke=S[2],ht=S[5],Lt=S[8];return I[0]=N*le+U*$e+W*Ke,I[3]=N*ae+U*Ne+W*ht,I[6]=N*Re+U*ze+W*Lt,I[1]=K*le+q*$e+ee*Ke,I[4]=K*ae+q*Ne+ee*ht,I[7]=K*Re+q*ze+ee*Lt,I[2]=te*le+ie*$e+de*Ke,I[5]=te*ae+ie*Ne+de*ht,I[8]=te*Re+ie*ze+de*Lt,this}multiplyScalar(a){const f=this.elements;return f[0]*=a,f[3]*=a,f[6]*=a,f[1]*=a,f[4]*=a,f[7]*=a,f[2]*=a,f[5]*=a,f[8]*=a,this}determinant(){const a=this.elements,f=a[0],x=a[1],S=a[2],I=a[3],N=a[4],U=a[5],W=a[6],K=a[7],q=a[8];return f*N*q-f*U*K-x*I*q+x*U*W+S*I*K-S*N*W}invert(){const a=this.elements,f=a[0],x=a[1],S=a[2],I=a[3],N=a[4],U=a[5],W=a[6],K=a[7],q=a[8],ee=q*N-U*K,te=U*W-q*I,ie=K*I-N*W,de=f*ee+x*te+S*ie;if(de===0)return this.set(0,0,0,0,0,0,0,0,0);const le=1/de;return a[0]=ee*le,a[1]=(S*K-q*x)*le,a[2]=(U*x-S*N)*le,a[3]=te*le,a[4]=(q*f-S*W)*le,a[5]=(S*I-U*f)*le,a[6]=ie*le,a[7]=(x*W-K*f)*le,a[8]=(N*f-x*I)*le,this}transpose(){let a;const f=this.elements;return a=f[1],f[1]=f[3],f[3]=a,a=f[2],f[2]=f[6],f[6]=a,a=f[5],f[5]=f[7],f[7]=a,this}getNormalMatrix(a){return this.setFromMatrix4(a).invert().transpose()}transposeIntoArray(a){const f=this.elements;return a[0]=f[0],a[1]=f[3],a[2]=f[6],a[3]=f[1],a[4]=f[4],a[5]=f[7],a[6]=f[2],a[7]=f[5],a[8]=f[8],this}setUvTransform(a,f,x,S,I,N,U){const W=Math.cos(I),K=Math.sin(I);return this.set(x*W,x*K,-x*(W*N+K*U)+N+a,-S*K,S*W,-S*(-K*N+W*U)+U+f,0,0,1),this}scale(a,f){return this.premultiply(Rg.makeScale(a,f)),this}rotate(a){return this.premultiply(Rg.makeRotation(-a)),this}translate(a,f){return this.premultiply(Rg.makeTranslation(a,f)),this}makeTranslation(a,f){return this.set(1,0,a,0,1,f,0,0,1),this}makeRotation(a){const f=Math.cos(a),x=Math.sin(a);return this.set(f,-x,0,x,f,0,0,0,1),this}makeScale(a,f){return this.set(a,0,0,0,f,0,0,0,1),this}equals(a){const f=this.elements,x=a.elements;for(let S=0;S<9;S++)if(f[S]!==x[S])return!1;return!0}fromArray(a,f=0){for(let x=0;x<9;x++)this.elements[x]=a[x+f];return this}toArray(a=[],f=0){const x=this.elements;return a[f]=x[0],a[f+1]=x[1],a[f+2]=x[2],a[f+3]=x[3],a[f+4]=x[4],a[f+5]=x[5],a[f+6]=x[6],a[f+7]=x[7],a[f+8]=x[8],a}clone(){return new this.constructor().fromArray(this.elements)}}const Rg=new da;function cy(H){for(let a=H.length-1;a>=0;--a)if(H[a]>=65535)return!0;return!1}const Rw={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Hu(H,a){return new Rw[H](a)}function of(H){return document.createElementNS("http://www.w3.org/1999/xhtml",H)}function Pc(H){return H<.04045?H*.0773993808:Math.pow(H*.9478672986+.0521327014,2.4)}function Nh(H){return H<.0031308?H*12.92:1.055*Math.pow(H,.41666)-.055}const Ig={[Br]:{[ni]:Pc},[ni]:{[Br]:Nh}},Yo={legacyMode:!0,get workingColorSpace(){return ni},set workingColorSpace(H){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(H,a,f){if(this.legacyMode||a===f||!a||!f)return H;if(Ig[a]&&Ig[a][f]!==void 0){const x=Ig[a][f];return H.r=x(H.r),H.g=x(H.g),H.b=x(H.b),H}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(H,a){return this.convert(H,this.workingColorSpace,a)},toWorkingColorSpace:function(H,a){return this.convert(H,a,this.workingColorSpace)}},uy={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Co={r:0,g:0,b:0},ms={h:0,s:0,l:0},kh={h:0,s:0,l:0};function Lg(H,a,f){return f<0&&(f+=1),f>1&&(f-=1),f<.16666666666666666?H+(a-H)*6*f:f<.5?a:f<.6666666666666666?H+(a-H)*6*(.6666666666666666-f):H}function Fh(H,a){return a.r=H.r,a.g=H.g,a.b=H.b,a}class br{constructor(a,f,x){return this.isColor=!0,this.r=1,this.g=1,this.b=1,f===void 0&&x===void 0?this.set(a):this.setRGB(a,f,x)}set(a){return a&&a.isColor?this.copy(a):typeof a=="number"?this.setHex(a):typeof a=="string"&&this.setStyle(a),this}setScalar(a){return this.r=a,this.g=a,this.b=a,this}setHex(a,f=Br){return a=Math.floor(a),this.r=(a>>16&255)/255,this.g=(a>>8&255)/255,this.b=(a&255)/255,Yo.toWorkingColorSpace(this,f),this}setRGB(a,f,x,S=Yo.workingColorSpace){return this.r=a,this.g=f,this.b=x,Yo.toWorkingColorSpace(this,S),this}setHSL(a,f,x,S=Yo.workingColorSpace){if(a=Mg(a,1),f=uo(f,0,1),x=uo(x,0,1),f===0)this.r=this.g=this.b=x;else{const I=x<=.5?x*(1+f):x+f-x*f,N=2*x-I;this.r=Lg(N,I,a+.3333333333333333),this.g=Lg(N,I,a),this.b=Lg(N,I,a-.3333333333333333)}return Yo.toWorkingColorSpace(this,S),this}setStyle(a,f=Br){function x(I){I!==void 0&&parseFloat(I)<1&&console.warn("THREE.Color: Alpha component of "+a+" will be ignored.")}let S;if(S=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(a)){let I;const N=S[1],U=S[2];switch(N){case"rgb":case"rgba":if(I=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(U))return this.r=Math.min(255,parseInt(I[1],10))/255,this.g=Math.min(255,parseInt(I[2],10))/255,this.b=Math.min(255,parseInt(I[3],10))/255,Yo.toWorkingColorSpace(this,f),x(I[4]),this;if(I=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(U))return this.r=Math.min(100,parseInt(I[1],10))/100,this.g=Math.min(100,parseInt(I[2],10))/100,this.b=Math.min(100,parseInt(I[3],10))/100,Yo.toWorkingColorSpace(this,f),x(I[4]),this;break;case"hsl":case"hsla":if(I=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(U)){const W=parseFloat(I[1])/360,K=parseFloat(I[2])/100,q=parseFloat(I[3])/100;return x(I[4]),this.setHSL(W,K,q,f)}break}}else if(S=/^\#([A-Fa-f\d]+)$/.exec(a)){const I=S[1],N=I.length;if(N===3)return this.r=parseInt(I.charAt(0)+I.charAt(0),16)/255,this.g=parseInt(I.charAt(1)+I.charAt(1),16)/255,this.b=parseInt(I.charAt(2)+I.charAt(2),16)/255,Yo.toWorkingColorSpace(this,f),this;if(N===6)return this.r=parseInt(I.charAt(0)+I.charAt(1),16)/255,this.g=parseInt(I.charAt(2)+I.charAt(3),16)/255,this.b=parseInt(I.charAt(4)+I.charAt(5),16)/255,Yo.toWorkingColorSpace(this,f),this}return a&&a.length>0?this.setColorName(a,f):this}setColorName(a,f=Br){const x=uy[a.toLowerCase()];return x!==void 0?this.setHex(x,f):console.warn("THREE.Color: Unknown color "+a),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(a){return this.r=a.r,this.g=a.g,this.b=a.b,this}copySRGBToLinear(a){return this.r=Pc(a.r),this.g=Pc(a.g),this.b=Pc(a.b),this}copyLinearToSRGB(a){return this.r=Nh(a.r),this.g=Nh(a.g),this.b=Nh(a.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(a=Br){return Yo.fromWorkingColorSpace(Fh(this,Co),a),uo(Co.r*255,0,255)<<16^uo(Co.g*255,0,255)<<8^uo(Co.b*255,0,255)<<0}getHexString(a=Br){return("000000"+this.getHex(a).toString(16)).slice(-6)}getHSL(a,f=Yo.workingColorSpace){Yo.fromWorkingColorSpace(Fh(this,Co),f);const x=Co.r,S=Co.g,I=Co.b,N=Math.max(x,S,I),U=Math.min(x,S,I);let W,K;const q=(U+N)/2;if(U===N)W=0,K=0;else{const ee=N-U;switch(K=q<=.5?ee/(N+U):ee/(2-N-U),N){case x:W=(S-I)/ee+(S<I?6:0);break;case S:W=(I-x)/ee+2;break;case I:W=(x-S)/ee+4;break}W/=6}return a.h=W,a.s=K,a.l=q,a}getRGB(a,f=Yo.workingColorSpace){return Yo.fromWorkingColorSpace(Fh(this,Co),f),a.r=Co.r,a.g=Co.g,a.b=Co.b,a}getStyle(a=Br){return Yo.fromWorkingColorSpace(Fh(this,Co),a),a!==Br?`color(${a} ${Co.r} ${Co.g} ${Co.b})`:`rgb(${Co.r*255|0},${Co.g*255|0},${Co.b*255|0})`}offsetHSL(a,f,x){return this.getHSL(ms),ms.h+=a,ms.s+=f,ms.l+=x,this.setHSL(ms.h,ms.s,ms.l),this}add(a){return this.r+=a.r,this.g+=a.g,this.b+=a.b,this}addColors(a,f){return this.r=a.r+f.r,this.g=a.g+f.g,this.b=a.b+f.b,this}addScalar(a){return this.r+=a,this.g+=a,this.b+=a,this}sub(a){return this.r=Math.max(0,this.r-a.r),this.g=Math.max(0,this.g-a.g),this.b=Math.max(0,this.b-a.b),this}multiply(a){return this.r*=a.r,this.g*=a.g,this.b*=a.b,this}multiplyScalar(a){return this.r*=a,this.g*=a,this.b*=a,this}lerp(a,f){return this.r+=(a.r-this.r)*f,this.g+=(a.g-this.g)*f,this.b+=(a.b-this.b)*f,this}lerpColors(a,f,x){return this.r=a.r+(f.r-a.r)*x,this.g=a.g+(f.g-a.g)*x,this.b=a.b+(f.b-a.b)*x,this}lerpHSL(a,f){this.getHSL(ms),a.getHSL(kh);const x=rf(ms.h,kh.h,f),S=rf(ms.s,kh.s,f),I=rf(ms.l,kh.l,f);return this.setHSL(x,S,I),this}equals(a){return a.r===this.r&&a.g===this.g&&a.b===this.b}fromArray(a,f=0){return this.r=a[f],this.g=a[f+1],this.b=a[f+2],this}toArray(a=[],f=0){return a[f]=this.r,a[f+1]=this.g,a[f+2]=this.b,a}fromBufferAttribute(a,f){return this.r=a.getX(f),this.g=a.getY(f),this.b=a.getZ(f),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}br.NAMES=uy;let $u;class Pg{static getDataURL(a){if(/^data:/i.test(a.src)||typeof HTMLCanvasElement>"u")return a.src;let f;if(a instanceof HTMLCanvasElement)f=a;else{$u===void 0&&($u=of("canvas")),$u.width=a.width,$u.height=a.height;const x=$u.getContext("2d");a instanceof ImageData?x.putImageData(a,0,0):x.drawImage(a,0,0,a.width,a.height),f=$u}return f.width>2048||f.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",a),f.toDataURL("image/jpeg",.6)):f.toDataURL("image/png")}static sRGBToLinear(a){if(typeof HTMLImageElement<"u"&&a instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&a instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&a instanceof ImageBitmap){const f=of("canvas");f.width=a.width,f.height=a.height;const x=f.getContext("2d");x.drawImage(a,0,0,a.width,a.height);const S=x.getImageData(0,0,a.width,a.height),I=S.data;for(let N=0;N<I.length;N++)I[N]=Pc(I[N]/255)*255;return x.putImageData(S,0,0),f}else if(a.data){const f=a.data.slice(0);for(let x=0;x<f.length;x++)f instanceof Uint8Array||f instanceof Uint8ClampedArray?f[x]=Math.floor(Pc(f[x]/255)*255):f[x]=Pc(f[x]);return{data:f,width:a.width,height:a.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),a}}class Bc{constructor(a=null){this.isSource=!0,this.uuid=Da(),this.data=a,this.version=0}set needsUpdate(a){a===!0&&this.version++}toJSON(a){const f=a===void 0||typeof a=="string";if(!f&&a.images[this.uuid]!==void 0)return a.images[this.uuid];const x={uuid:this.uuid,url:""},S=this.data;if(S!==null){let I;if(Array.isArray(S)){I=[];for(let N=0,U=S.length;N<U;N++)S[N].isDataTexture?I.push(Bg(S[N].image)):I.push(Bg(S[N]))}else I=Bg(S);x.url=I}return f||(a.images[this.uuid]=x),x}}function Bg(H){return typeof HTMLImageElement<"u"&&H instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&H instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&H instanceof ImageBitmap?Pg.getDataURL(H):H.data?{data:Array.from(H.data),width:H.width,height:H.height,type:H.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Iw=0;class fo extends Oa{constructor(a=fo.DEFAULT_IMAGE,f=fo.DEFAULT_MAPPING,x=Ue,S=Ue,I=ve,N=Je,U=Pn,W=nt,K=fo.DEFAULT_ANISOTROPY,q=pr){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Iw++}),this.uuid=Da(),this.name="",this.source=new Bc(a),this.mipmaps=[],this.mapping=f,this.wrapS=x,this.wrapT=S,this.magFilter=I,this.minFilter=N,this.anisotropy=K,this.format=U,this.internalFormat=null,this.type=W,this.offset=new In(0,0),this.repeat=new In(1,1),this.center=new In(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new da,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=q,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(a){this.source.data=a}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(a){return this.name=a.name,this.source=a.source,this.mipmaps=a.mipmaps.slice(0),this.mapping=a.mapping,this.wrapS=a.wrapS,this.wrapT=a.wrapT,this.magFilter=a.magFilter,this.minFilter=a.minFilter,this.anisotropy=a.anisotropy,this.format=a.format,this.internalFormat=a.internalFormat,this.type=a.type,this.offset.copy(a.offset),this.repeat.copy(a.repeat),this.center.copy(a.center),this.rotation=a.rotation,this.matrixAutoUpdate=a.matrixAutoUpdate,this.matrix.copy(a.matrix),this.generateMipmaps=a.generateMipmaps,this.premultiplyAlpha=a.premultiplyAlpha,this.flipY=a.flipY,this.unpackAlignment=a.unpackAlignment,this.encoding=a.encoding,this.userData=JSON.parse(JSON.stringify(a.userData)),this.needsUpdate=!0,this}toJSON(a){const f=a===void 0||typeof a=="string";if(!f&&a.textures[this.uuid]!==void 0)return a.textures[this.uuid];const x={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(a).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(x.userData=this.userData),f||(a.textures[this.uuid]=x),x}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(a){if(this.mapping!==me)return a;if(a.applyMatrix3(this.matrix),a.x<0||a.x>1)switch(this.wrapS){case Ae:a.x=a.x-Math.floor(a.x);break;case Ue:a.x=a.x<0?0:1;break;case et:Math.abs(Math.floor(a.x)%2)===1?a.x=Math.ceil(a.x)-a.x:a.x=a.x-Math.floor(a.x);break}if(a.y<0||a.y>1)switch(this.wrapT){case Ae:a.y=a.y-Math.floor(a.y);break;case Ue:a.y=a.y<0?0:1;break;case et:Math.abs(Math.floor(a.y)%2)===1?a.y=Math.ceil(a.y)-a.y:a.y=a.y-Math.floor(a.y);break}return this.flipY&&(a.y=1-a.y),a}set needsUpdate(a){a===!0&&(this.version++,this.source.needsUpdate=!0)}}fo.DEFAULT_IMAGE=null,fo.DEFAULT_MAPPING=me,fo.DEFAULT_ANISOTROPY=1;class wi{constructor(a=0,f=0,x=0,S=1){wi.prototype.isVector4=!0,this.x=a,this.y=f,this.z=x,this.w=S}get width(){return this.z}set width(a){this.z=a}get height(){return this.w}set height(a){this.w=a}set(a,f,x,S){return this.x=a,this.y=f,this.z=x,this.w=S,this}setScalar(a){return this.x=a,this.y=a,this.z=a,this.w=a,this}setX(a){return this.x=a,this}setY(a){return this.y=a,this}setZ(a){return this.z=a,this}setW(a){return this.w=a,this}setComponent(a,f){switch(a){case 0:this.x=f;break;case 1:this.y=f;break;case 2:this.z=f;break;case 3:this.w=f;break;default:throw new Error("index is out of range: "+a)}return this}getComponent(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+a)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(a){return this.x=a.x,this.y=a.y,this.z=a.z,this.w=a.w!==void 0?a.w:1,this}add(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z,this.w+=a.w,this}addScalar(a){return this.x+=a,this.y+=a,this.z+=a,this.w+=a,this}addVectors(a,f){return this.x=a.x+f.x,this.y=a.y+f.y,this.z=a.z+f.z,this.w=a.w+f.w,this}addScaledVector(a,f){return this.x+=a.x*f,this.y+=a.y*f,this.z+=a.z*f,this.w+=a.w*f,this}sub(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z,this.w-=a.w,this}subScalar(a){return this.x-=a,this.y-=a,this.z-=a,this.w-=a,this}subVectors(a,f){return this.x=a.x-f.x,this.y=a.y-f.y,this.z=a.z-f.z,this.w=a.w-f.w,this}multiply(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z,this.w*=a.w,this}multiplyScalar(a){return this.x*=a,this.y*=a,this.z*=a,this.w*=a,this}applyMatrix4(a){const f=this.x,x=this.y,S=this.z,I=this.w,N=a.elements;return this.x=N[0]*f+N[4]*x+N[8]*S+N[12]*I,this.y=N[1]*f+N[5]*x+N[9]*S+N[13]*I,this.z=N[2]*f+N[6]*x+N[10]*S+N[14]*I,this.w=N[3]*f+N[7]*x+N[11]*S+N[15]*I,this}divideScalar(a){return this.multiplyScalar(1/a)}setAxisAngleFromQuaternion(a){this.w=2*Math.acos(a.w);const f=Math.sqrt(1-a.w*a.w);return f<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=a.x/f,this.y=a.y/f,this.z=a.z/f),this}setAxisAngleFromRotationMatrix(a){let f,x,S,I;const W=a.elements,K=W[0],q=W[4],ee=W[8],te=W[1],ie=W[5],de=W[9],le=W[2],ae=W[6],Re=W[10];if(Math.abs(q-te)<.01&&Math.abs(ee-le)<.01&&Math.abs(de-ae)<.01){if(Math.abs(q+te)<.1&&Math.abs(ee+le)<.1&&Math.abs(de+ae)<.1&&Math.abs(K+ie+Re-3)<.1)return this.set(1,0,0,0),this;f=Math.PI;const Ne=(K+1)/2,ze=(ie+1)/2,Ke=(Re+1)/2,ht=(q+te)/4,Lt=(ee+le)/4,je=(de+ae)/4;return Ne>ze&&Ne>Ke?Ne<.01?(x=0,S=.707106781,I=.707106781):(x=Math.sqrt(Ne),S=ht/x,I=Lt/x):ze>Ke?ze<.01?(x=.707106781,S=0,I=.707106781):(S=Math.sqrt(ze),x=ht/S,I=je/S):Ke<.01?(x=.707106781,S=.707106781,I=0):(I=Math.sqrt(Ke),x=Lt/I,S=je/I),this.set(x,S,I,f),this}let $e=Math.sqrt((ae-de)*(ae-de)+(ee-le)*(ee-le)+(te-q)*(te-q));return Math.abs($e)<.001&&($e=1),this.x=(ae-de)/$e,this.y=(ee-le)/$e,this.z=(te-q)/$e,this.w=Math.acos((K+ie+Re-1)/2),this}min(a){return this.x=Math.min(this.x,a.x),this.y=Math.min(this.y,a.y),this.z=Math.min(this.z,a.z),this.w=Math.min(this.w,a.w),this}max(a){return this.x=Math.max(this.x,a.x),this.y=Math.max(this.y,a.y),this.z=Math.max(this.z,a.z),this.w=Math.max(this.w,a.w),this}clamp(a,f){return this.x=Math.max(a.x,Math.min(f.x,this.x)),this.y=Math.max(a.y,Math.min(f.y,this.y)),this.z=Math.max(a.z,Math.min(f.z,this.z)),this.w=Math.max(a.w,Math.min(f.w,this.w)),this}clampScalar(a,f){return this.x=Math.max(a,Math.min(f,this.x)),this.y=Math.max(a,Math.min(f,this.y)),this.z=Math.max(a,Math.min(f,this.z)),this.w=Math.max(a,Math.min(f,this.w)),this}clampLength(a,f){const x=this.length();return this.divideScalar(x||1).multiplyScalar(Math.max(a,Math.min(f,x)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(a){return this.normalize().multiplyScalar(a)}lerp(a,f){return this.x+=(a.x-this.x)*f,this.y+=(a.y-this.y)*f,this.z+=(a.z-this.z)*f,this.w+=(a.w-this.w)*f,this}lerpVectors(a,f,x){return this.x=a.x+(f.x-a.x)*x,this.y=a.y+(f.y-a.y)*x,this.z=a.z+(f.z-a.z)*x,this.w=a.w+(f.w-a.w)*x,this}equals(a){return a.x===this.x&&a.y===this.y&&a.z===this.z&&a.w===this.w}fromArray(a,f=0){return this.x=a[f],this.y=a[f+1],this.z=a[f+2],this.w=a[f+3],this}toArray(a=[],f=0){return a[f]=this.x,a[f+1]=this.y,a[f+2]=this.z,a[f+3]=this.w,a}fromBufferAttribute(a,f){return this.x=a.getX(f),this.y=a.getY(f),this.z=a.getZ(f),this.w=a.getW(f),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class ns extends Oa{constructor(a=1,f=1,x={}){super(),this.isWebGLRenderTarget=!0,this.width=a,this.height=f,this.depth=1,this.scissor=new wi(0,0,a,f),this.scissorTest=!1,this.viewport=new wi(0,0,a,f);const S={width:a,height:f,depth:1};this.texture=new fo(S,x.mapping,x.wrapS,x.wrapT,x.magFilter,x.minFilter,x.format,x.type,x.anisotropy,x.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=x.generateMipmaps!==void 0?x.generateMipmaps:!1,this.texture.internalFormat=x.internalFormat!==void 0?x.internalFormat:null,this.texture.minFilter=x.minFilter!==void 0?x.minFilter:ve,this.depthBuffer=x.depthBuffer!==void 0?x.depthBuffer:!0,this.stencilBuffer=x.stencilBuffer!==void 0?x.stencilBuffer:!1,this.depthTexture=x.depthTexture!==void 0?x.depthTexture:null,this.samples=x.samples!==void 0?x.samples:0}setSize(a,f,x=1){(this.width!==a||this.height!==f||this.depth!==x)&&(this.width=a,this.height=f,this.depth=x,this.texture.image.width=a,this.texture.image.height=f,this.texture.image.depth=x,this.dispose()),this.viewport.set(0,0,a,f),this.scissor.set(0,0,a,f)}clone(){return new this.constructor().copy(this)}copy(a){this.width=a.width,this.height=a.height,this.depth=a.depth,this.viewport.copy(a.viewport),this.texture=a.texture.clone(),this.texture.isRenderTargetTexture=!0;const f=Object.assign({},a.texture.image);return this.texture.source=new Bc(f),this.depthBuffer=a.depthBuffer,this.stencilBuffer=a.stencilBuffer,a.depthTexture!==null&&(this.depthTexture=a.depthTexture.clone()),this.samples=a.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class af extends fo{constructor(a=null,f=1,x=1,S=1){super(null),this.isDataArrayTexture=!0,this.image={data:a,width:f,height:x,depth:S},this.magFilter=ce,this.minFilter=ce,this.wrapR=Ue,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Lw extends ns{constructor(a=1,f=1,x=1){super(a,f),this.isWebGLArrayRenderTarget=!0,this.depth=x,this.texture=new af(null,a,f,x),this.texture.isRenderTargetTexture=!0}}class Uh extends fo{constructor(a=null,f=1,x=1,S=1){super(null),this.isData3DTexture=!0,this.image={data:a,width:f,height:x,depth:S},this.magFilter=ce,this.minFilter=ce,this.wrapR=Ue,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Pw extends ns{constructor(a=1,f=1,x=1){super(a,f),this.isWebGL3DRenderTarget=!0,this.depth=x,this.texture=new Uh(null,a,f,x),this.texture.isRenderTargetTexture=!0}}class Bw extends ns{constructor(a=1,f=1,x=1,S={}){super(a,f,S),this.isWebGLMultipleRenderTargets=!0;const I=this.texture;this.texture=[];for(let N=0;N<x;N++)this.texture[N]=I.clone(),this.texture[N].isRenderTargetTexture=!0}setSize(a,f,x=1){if(this.width!==a||this.height!==f||this.depth!==x){this.width=a,this.height=f,this.depth=x;for(let S=0,I=this.texture.length;S<I;S++)this.texture[S].image.width=a,this.texture[S].image.height=f,this.texture[S].image.depth=x;this.dispose()}return this.viewport.set(0,0,a,f),this.scissor.set(0,0,a,f),this}copy(a){this.dispose(),this.width=a.width,this.height=a.height,this.depth=a.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=a.depthBuffer,this.stencilBuffer=a.stencilBuffer,a.depthTexture!==null&&(this.depthTexture=a.depthTexture.clone()),this.texture.length=0;for(let f=0,x=a.texture.length;f<x;f++)this.texture[f]=a.texture[f].clone(),this.texture[f].isRenderTargetTexture=!0;return this}}class fa{constructor(a=0,f=0,x=0,S=1){this.isQuaternion=!0,this._x=a,this._y=f,this._z=x,this._w=S}static slerpFlat(a,f,x,S,I,N,U){let W=x[S+0],K=x[S+1],q=x[S+2],ee=x[S+3];const te=I[N+0],ie=I[N+1],de=I[N+2],le=I[N+3];if(U===0){a[f+0]=W,a[f+1]=K,a[f+2]=q,a[f+3]=ee;return}if(U===1){a[f+0]=te,a[f+1]=ie,a[f+2]=de,a[f+3]=le;return}if(ee!==le||W!==te||K!==ie||q!==de){let ae=1-U;const Re=W*te+K*ie+q*de+ee*le,$e=Re>=0?1:-1,Ne=1-Re*Re;if(Ne>Number.EPSILON){const Ke=Math.sqrt(Ne),ht=Math.atan2(Ke,Re*$e);ae=Math.sin(ae*ht)/Ke,U=Math.sin(U*ht)/Ke}const ze=U*$e;if(W=W*ae+te*ze,K=K*ae+ie*ze,q=q*ae+de*ze,ee=ee*ae+le*ze,ae===1-U){const Ke=1/Math.sqrt(W*W+K*K+q*q+ee*ee);W*=Ke,K*=Ke,q*=Ke,ee*=Ke}}a[f]=W,a[f+1]=K,a[f+2]=q,a[f+3]=ee}static multiplyQuaternionsFlat(a,f,x,S,I,N){const U=x[S],W=x[S+1],K=x[S+2],q=x[S+3],ee=I[N],te=I[N+1],ie=I[N+2],de=I[N+3];return a[f]=U*de+q*ee+W*ie-K*te,a[f+1]=W*de+q*te+K*ee-U*ie,a[f+2]=K*de+q*ie+U*te-W*ee,a[f+3]=q*de-U*ee-W*te-K*ie,a}get x(){return this._x}set x(a){this._x=a,this._onChangeCallback()}get y(){return this._y}set y(a){this._y=a,this._onChangeCallback()}get z(){return this._z}set z(a){this._z=a,this._onChangeCallback()}get w(){return this._w}set w(a){this._w=a,this._onChangeCallback()}set(a,f,x,S){return this._x=a,this._y=f,this._z=x,this._w=S,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(a){return this._x=a.x,this._y=a.y,this._z=a.z,this._w=a.w,this._onChangeCallback(),this}setFromEuler(a,f){const x=a._x,S=a._y,I=a._z,N=a._order,U=Math.cos,W=Math.sin,K=U(x/2),q=U(S/2),ee=U(I/2),te=W(x/2),ie=W(S/2),de=W(I/2);switch(N){case"XYZ":this._x=te*q*ee+K*ie*de,this._y=K*ie*ee-te*q*de,this._z=K*q*de+te*ie*ee,this._w=K*q*ee-te*ie*de;break;case"YXZ":this._x=te*q*ee+K*ie*de,this._y=K*ie*ee-te*q*de,this._z=K*q*de-te*ie*ee,this._w=K*q*ee+te*ie*de;break;case"ZXY":this._x=te*q*ee-K*ie*de,this._y=K*ie*ee+te*q*de,this._z=K*q*de+te*ie*ee,this._w=K*q*ee-te*ie*de;break;case"ZYX":this._x=te*q*ee-K*ie*de,this._y=K*ie*ee+te*q*de,this._z=K*q*de-te*ie*ee,this._w=K*q*ee+te*ie*de;break;case"YZX":this._x=te*q*ee+K*ie*de,this._y=K*ie*ee+te*q*de,this._z=K*q*de-te*ie*ee,this._w=K*q*ee-te*ie*de;break;case"XZY":this._x=te*q*ee-K*ie*de,this._y=K*ie*ee-te*q*de,this._z=K*q*de+te*ie*ee,this._w=K*q*ee+te*ie*de;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+N)}return f!==!1&&this._onChangeCallback(),this}setFromAxisAngle(a,f){const x=f/2,S=Math.sin(x);return this._x=a.x*S,this._y=a.y*S,this._z=a.z*S,this._w=Math.cos(x),this._onChangeCallback(),this}setFromRotationMatrix(a){const f=a.elements,x=f[0],S=f[4],I=f[8],N=f[1],U=f[5],W=f[9],K=f[2],q=f[6],ee=f[10],te=x+U+ee;if(te>0){const ie=.5/Math.sqrt(te+1);this._w=.25/ie,this._x=(q-W)*ie,this._y=(I-K)*ie,this._z=(N-S)*ie}else if(x>U&&x>ee){const ie=2*Math.sqrt(1+x-U-ee);this._w=(q-W)/ie,this._x=.25*ie,this._y=(S+N)/ie,this._z=(I+K)/ie}else if(U>ee){const ie=2*Math.sqrt(1+U-x-ee);this._w=(I-K)/ie,this._x=(S+N)/ie,this._y=.25*ie,this._z=(W+q)/ie}else{const ie=2*Math.sqrt(1+ee-x-U);this._w=(N-S)/ie,this._x=(I+K)/ie,this._y=(W+q)/ie,this._z=.25*ie}return this._onChangeCallback(),this}setFromUnitVectors(a,f){let x=a.dot(f)+1;return x<Number.EPSILON?(x=0,Math.abs(a.x)>Math.abs(a.z)?(this._x=-a.y,this._y=a.x,this._z=0,this._w=x):(this._x=0,this._y=-a.z,this._z=a.y,this._w=x)):(this._x=a.y*f.z-a.z*f.y,this._y=a.z*f.x-a.x*f.z,this._z=a.x*f.y-a.y*f.x,this._w=x),this.normalize()}angleTo(a){return 2*Math.acos(Math.abs(uo(this.dot(a),-1,1)))}rotateTowards(a,f){const x=this.angleTo(a);if(x===0)return this;const S=Math.min(1,f/x);return this.slerp(a,S),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(a){return this._x*a._x+this._y*a._y+this._z*a._z+this._w*a._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let a=this.length();return a===0?(this._x=0,this._y=0,this._z=0,this._w=1):(a=1/a,this._x=this._x*a,this._y=this._y*a,this._z=this._z*a,this._w=this._w*a),this._onChangeCallback(),this}multiply(a){return this.multiplyQuaternions(this,a)}premultiply(a){return this.multiplyQuaternions(a,this)}multiplyQuaternions(a,f){const x=a._x,S=a._y,I=a._z,N=a._w,U=f._x,W=f._y,K=f._z,q=f._w;return this._x=x*q+N*U+S*K-I*W,this._y=S*q+N*W+I*U-x*K,this._z=I*q+N*K+x*W-S*U,this._w=N*q-x*U-S*W-I*K,this._onChangeCallback(),this}slerp(a,f){if(f===0)return this;if(f===1)return this.copy(a);const x=this._x,S=this._y,I=this._z,N=this._w;let U=N*a._w+x*a._x+S*a._y+I*a._z;if(U<0?(this._w=-a._w,this._x=-a._x,this._y=-a._y,this._z=-a._z,U=-U):this.copy(a),U>=1)return this._w=N,this._x=x,this._y=S,this._z=I,this;const W=1-U*U;if(W<=Number.EPSILON){const ie=1-f;return this._w=ie*N+f*this._w,this._x=ie*x+f*this._x,this._y=ie*S+f*this._y,this._z=ie*I+f*this._z,this.normalize(),this._onChangeCallback(),this}const K=Math.sqrt(W),q=Math.atan2(K,U),ee=Math.sin((1-f)*q)/K,te=Math.sin(f*q)/K;return this._w=N*ee+this._w*te,this._x=x*ee+this._x*te,this._y=S*ee+this._y*te,this._z=I*ee+this._z*te,this._onChangeCallback(),this}slerpQuaternions(a,f,x){return this.copy(a).slerp(f,x)}random(){const a=Math.random(),f=Math.sqrt(1-a),x=Math.sqrt(a),S=2*Math.PI*Math.random(),I=2*Math.PI*Math.random();return this.set(f*Math.cos(S),x*Math.sin(I),x*Math.cos(I),f*Math.sin(S))}equals(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._w===this._w}fromArray(a,f=0){return this._x=a[f],this._y=a[f+1],this._z=a[f+2],this._w=a[f+3],this._onChangeCallback(),this}toArray(a=[],f=0){return a[f]=this._x,a[f+1]=this._y,a[f+2]=this._z,a[f+3]=this._w,a}fromBufferAttribute(a,f){return this._x=a.getX(f),this._y=a.getY(f),this._z=a.getZ(f),this._w=a.getW(f),this}_onChange(a){return this._onChangeCallback=a,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class dt{constructor(a=0,f=0,x=0){dt.prototype.isVector3=!0,this.x=a,this.y=f,this.z=x}set(a,f,x){return x===void 0&&(x=this.z),this.x=a,this.y=f,this.z=x,this}setScalar(a){return this.x=a,this.y=a,this.z=a,this}setX(a){return this.x=a,this}setY(a){return this.y=a,this}setZ(a){return this.z=a,this}setComponent(a,f){switch(a){case 0:this.x=f;break;case 1:this.y=f;break;case 2:this.z=f;break;default:throw new Error("index is out of range: "+a)}return this}getComponent(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+a)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(a){return this.x=a.x,this.y=a.y,this.z=a.z,this}add(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z,this}addScalar(a){return this.x+=a,this.y+=a,this.z+=a,this}addVectors(a,f){return this.x=a.x+f.x,this.y=a.y+f.y,this.z=a.z+f.z,this}addScaledVector(a,f){return this.x+=a.x*f,this.y+=a.y*f,this.z+=a.z*f,this}sub(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z,this}subScalar(a){return this.x-=a,this.y-=a,this.z-=a,this}subVectors(a,f){return this.x=a.x-f.x,this.y=a.y-f.y,this.z=a.z-f.z,this}multiply(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z,this}multiplyScalar(a){return this.x*=a,this.y*=a,this.z*=a,this}multiplyVectors(a,f){return this.x=a.x*f.x,this.y=a.y*f.y,this.z=a.z*f.z,this}applyEuler(a){return this.applyQuaternion(dy.setFromEuler(a))}applyAxisAngle(a,f){return this.applyQuaternion(dy.setFromAxisAngle(a,f))}applyMatrix3(a){const f=this.x,x=this.y,S=this.z,I=a.elements;return this.x=I[0]*f+I[3]*x+I[6]*S,this.y=I[1]*f+I[4]*x+I[7]*S,this.z=I[2]*f+I[5]*x+I[8]*S,this}applyNormalMatrix(a){return this.applyMatrix3(a).normalize()}applyMatrix4(a){const f=this.x,x=this.y,S=this.z,I=a.elements,N=1/(I[3]*f+I[7]*x+I[11]*S+I[15]);return this.x=(I[0]*f+I[4]*x+I[8]*S+I[12])*N,this.y=(I[1]*f+I[5]*x+I[9]*S+I[13])*N,this.z=(I[2]*f+I[6]*x+I[10]*S+I[14])*N,this}applyQuaternion(a){const f=this.x,x=this.y,S=this.z,I=a.x,N=a.y,U=a.z,W=a.w,K=W*f+N*S-U*x,q=W*x+U*f-I*S,ee=W*S+I*x-N*f,te=-I*f-N*x-U*S;return this.x=K*W+te*-I+q*-U-ee*-N,this.y=q*W+te*-N+ee*-I-K*-U,this.z=ee*W+te*-U+K*-N-q*-I,this}project(a){return this.applyMatrix4(a.matrixWorldInverse).applyMatrix4(a.projectionMatrix)}unproject(a){return this.applyMatrix4(a.projectionMatrixInverse).applyMatrix4(a.matrixWorld)}transformDirection(a){const f=this.x,x=this.y,S=this.z,I=a.elements;return this.x=I[0]*f+I[4]*x+I[8]*S,this.y=I[1]*f+I[5]*x+I[9]*S,this.z=I[2]*f+I[6]*x+I[10]*S,this.normalize()}divide(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z,this}divideScalar(a){return this.multiplyScalar(1/a)}min(a){return this.x=Math.min(this.x,a.x),this.y=Math.min(this.y,a.y),this.z=Math.min(this.z,a.z),this}max(a){return this.x=Math.max(this.x,a.x),this.y=Math.max(this.y,a.y),this.z=Math.max(this.z,a.z),this}clamp(a,f){return this.x=Math.max(a.x,Math.min(f.x,this.x)),this.y=Math.max(a.y,Math.min(f.y,this.y)),this.z=Math.max(a.z,Math.min(f.z,this.z)),this}clampScalar(a,f){return this.x=Math.max(a,Math.min(f,this.x)),this.y=Math.max(a,Math.min(f,this.y)),this.z=Math.max(a,Math.min(f,this.z)),this}clampLength(a,f){const x=this.length();return this.divideScalar(x||1).multiplyScalar(Math.max(a,Math.min(f,x)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(a){return this.x*a.x+this.y*a.y+this.z*a.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(a){return this.normalize().multiplyScalar(a)}lerp(a,f){return this.x+=(a.x-this.x)*f,this.y+=(a.y-this.y)*f,this.z+=(a.z-this.z)*f,this}lerpVectors(a,f,x){return this.x=a.x+(f.x-a.x)*x,this.y=a.y+(f.y-a.y)*x,this.z=a.z+(f.z-a.z)*x,this}cross(a){return this.crossVectors(this,a)}crossVectors(a,f){const x=a.x,S=a.y,I=a.z,N=f.x,U=f.y,W=f.z;return this.x=S*W-I*U,this.y=I*N-x*W,this.z=x*U-S*N,this}projectOnVector(a){const f=a.lengthSq();if(f===0)return this.set(0,0,0);const x=a.dot(this)/f;return this.copy(a).multiplyScalar(x)}projectOnPlane(a){return Og.copy(this).projectOnVector(a),this.sub(Og)}reflect(a){return this.sub(Og.copy(a).multiplyScalar(2*this.dot(a)))}angleTo(a){const f=Math.sqrt(this.lengthSq()*a.lengthSq());if(f===0)return Math.PI/2;const x=this.dot(a)/f;return Math.acos(uo(x,-1,1))}distanceTo(a){return Math.sqrt(this.distanceToSquared(a))}distanceToSquared(a){const f=this.x-a.x,x=this.y-a.y,S=this.z-a.z;return f*f+x*x+S*S}manhattanDistanceTo(a){return Math.abs(this.x-a.x)+Math.abs(this.y-a.y)+Math.abs(this.z-a.z)}setFromSpherical(a){return this.setFromSphericalCoords(a.radius,a.phi,a.theta)}setFromSphericalCoords(a,f,x){const S=Math.sin(f)*a;return this.x=S*Math.sin(x),this.y=Math.cos(f)*a,this.z=S*Math.cos(x),this}setFromCylindrical(a){return this.setFromCylindricalCoords(a.radius,a.theta,a.y)}setFromCylindricalCoords(a,f,x){return this.x=a*Math.sin(f),this.y=x,this.z=a*Math.cos(f),this}setFromMatrixPosition(a){const f=a.elements;return this.x=f[12],this.y=f[13],this.z=f[14],this}setFromMatrixScale(a){const f=this.setFromMatrixColumn(a,0).length(),x=this.setFromMatrixColumn(a,1).length(),S=this.setFromMatrixColumn(a,2).length();return this.x=f,this.y=x,this.z=S,this}setFromMatrixColumn(a,f){return this.fromArray(a.elements,f*4)}setFromMatrix3Column(a,f){return this.fromArray(a.elements,f*3)}setFromEuler(a){return this.x=a._x,this.y=a._y,this.z=a._z,this}equals(a){return a.x===this.x&&a.y===this.y&&a.z===this.z}fromArray(a,f=0){return this.x=a[f],this.y=a[f+1],this.z=a[f+2],this}toArray(a=[],f=0){return a[f]=this.x,a[f+1]=this.y,a[f+2]=this.z,a}fromBufferAttribute(a,f){return this.x=a.getX(f),this.y=a.getY(f),this.z=a.getZ(f),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const a=(Math.random()-.5)*2,f=Math.random()*Math.PI*2,x=Math.sqrt(1-a**2);return this.x=x*Math.cos(f),this.y=x*Math.sin(f),this.z=a,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Og=new dt,dy=new fa;class Oc{constructor(a=new dt(1/0,1/0,1/0),f=new dt(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=a,this.max=f}set(a,f){return this.min.copy(a),this.max.copy(f),this}setFromArray(a){let f=1/0,x=1/0,S=1/0,I=-1/0,N=-1/0,U=-1/0;for(let W=0,K=a.length;W<K;W+=3){const q=a[W],ee=a[W+1],te=a[W+2];q<f&&(f=q),ee<x&&(x=ee),te<S&&(S=te),q>I&&(I=q),ee>N&&(N=ee),te>U&&(U=te)}return this.min.set(f,x,S),this.max.set(I,N,U),this}setFromBufferAttribute(a){let f=1/0,x=1/0,S=1/0,I=-1/0,N=-1/0,U=-1/0;for(let W=0,K=a.count;W<K;W++){const q=a.getX(W),ee=a.getY(W),te=a.getZ(W);q<f&&(f=q),ee<x&&(x=ee),te<S&&(S=te),q>I&&(I=q),ee>N&&(N=ee),te>U&&(U=te)}return this.min.set(f,x,S),this.max.set(I,N,U),this}setFromPoints(a){this.makeEmpty();for(let f=0,x=a.length;f<x;f++)this.expandByPoint(a[f]);return this}setFromCenterAndSize(a,f){const x=Dc.copy(f).multiplyScalar(.5);return this.min.copy(a).sub(x),this.max.copy(a).add(x),this}setFromObject(a,f=!1){return this.makeEmpty(),this.expandByObject(a,f)}clone(){return new this.constructor().copy(this)}copy(a){return this.min.copy(a.min),this.max.copy(a.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(a){return this.isEmpty()?a.set(0,0,0):a.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(a){return this.isEmpty()?a.set(0,0,0):a.subVectors(this.max,this.min)}expandByPoint(a){return this.min.min(a),this.max.max(a),this}expandByVector(a){return this.min.sub(a),this.max.add(a),this}expandByScalar(a){return this.min.addScalar(-a),this.max.addScalar(a),this}expandByObject(a,f=!1){a.updateWorldMatrix(!1,!1);const x=a.geometry;if(x!==void 0)if(f&&x.attributes!=null&&x.attributes.position!==void 0){const I=x.attributes.position;for(let N=0,U=I.count;N<U;N++)Dc.fromBufferAttribute(I,N).applyMatrix4(a.matrixWorld),this.expandByPoint(Dc)}else x.boundingBox===null&&x.computeBoundingBox(),Dg.copy(x.boundingBox),Dg.applyMatrix4(a.matrixWorld),this.union(Dg);const S=a.children;for(let I=0,N=S.length;I<N;I++)this.expandByObject(S[I],f);return this}containsPoint(a){return!(a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y||a.z<this.min.z||a.z>this.max.z)}containsBox(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y&&this.min.z<=a.min.z&&a.max.z<=this.max.z}getParameter(a,f){return f.set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(a){return!(a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y||a.max.z<this.min.z||a.min.z>this.max.z)}intersectsSphere(a){return this.clampPoint(a.center,Dc),Dc.distanceToSquared(a.center)<=a.radius*a.radius}intersectsPlane(a){let f,x;return a.normal.x>0?(f=a.normal.x*this.min.x,x=a.normal.x*this.max.x):(f=a.normal.x*this.max.x,x=a.normal.x*this.min.x),a.normal.y>0?(f+=a.normal.y*this.min.y,x+=a.normal.y*this.max.y):(f+=a.normal.y*this.max.y,x+=a.normal.y*this.min.y),a.normal.z>0?(f+=a.normal.z*this.min.z,x+=a.normal.z*this.max.z):(f+=a.normal.z*this.max.z,x+=a.normal.z*this.min.z),f<=-a.constant&&x>=-a.constant}intersectsTriangle(a){if(this.isEmpty())return!1;this.getCenter(Wu),rc.subVectors(this.max,Wu),Gu.subVectors(a.a,Wu),ju.subVectors(a.b,Wu),Vu.subVectors(a.c,Wu),tc.subVectors(ju,Gu),nc.subVectors(Vu,ju),Nc.subVectors(Gu,Vu);let f=[0,-tc.z,tc.y,0,-nc.z,nc.y,0,-Nc.z,Nc.y,tc.z,0,-tc.x,nc.z,0,-nc.x,Nc.z,0,-Nc.x,-tc.y,tc.x,0,-nc.y,nc.x,0,-Nc.y,Nc.x,0];return!zh(f,Gu,ju,Vu,rc)||(f=[1,0,0,0,1,0,0,0,1],!zh(f,Gu,ju,Vu,rc))?!1:(sf.crossVectors(tc,nc),f=[sf.x,sf.y,sf.z],zh(f,Gu,ju,Vu,rc))}clampPoint(a,f){return f.copy(a).clamp(this.min,this.max)}distanceToPoint(a){return Dc.copy(a).clamp(this.min,this.max).sub(a).length()}getBoundingSphere(a){return this.getCenter(a.center),a.radius=this.getSize(Dc).length()*.5,a}intersect(a){return this.min.max(a.min),this.max.min(a.max),this.isEmpty()&&this.makeEmpty(),this}union(a){return this.min.min(a.min),this.max.max(a.max),this}applyMatrix4(a){return this.isEmpty()?this:(ml[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(a),ml[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(a),ml[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(a),ml[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(a),ml[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(a),ml[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(a),ml[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(a),ml[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(a),this.setFromPoints(ml),this)}translate(a){return this.min.add(a),this.max.add(a),this}equals(a){return a.min.equals(this.min)&&a.max.equals(this.max)}}const ml=[new dt,new dt,new dt,new dt,new dt,new dt,new dt,new dt],Dc=new dt,Dg=new Oc,Gu=new dt,ju=new dt,Vu=new dt,tc=new dt,nc=new dt,Nc=new dt,Wu=new dt,rc=new dt,sf=new dt,Yi=new dt;function zh(H,a,f,x,S){for(let I=0,N=H.length-3;I<=N;I+=3){Yi.fromArray(H,I);const U=S.x*Math.abs(Yi.x)+S.y*Math.abs(Yi.y)+S.z*Math.abs(Yi.z),W=a.dot(Yi),K=f.dot(Yi),q=x.dot(Yi);if(Math.max(-Math.max(W,K,q),Math.min(W,K,q))>U)return!1}return!0}const fy=new Oc,ic=new dt,Ng=new dt;class gl{constructor(a=new dt,f=-1){this.center=a,this.radius=f}set(a,f){return this.center.copy(a),this.radius=f,this}setFromPoints(a,f){const x=this.center;f!==void 0?x.copy(f):fy.setFromPoints(a).getCenter(x);let S=0;for(let I=0,N=a.length;I<N;I++)S=Math.max(S,x.distanceToSquared(a[I]));return this.radius=Math.sqrt(S),this}copy(a){return this.center.copy(a.center),this.radius=a.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(a){return a.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(a){return a.distanceTo(this.center)-this.radius}intersectsSphere(a){const f=this.radius+a.radius;return a.center.distanceToSquared(this.center)<=f*f}intersectsBox(a){return a.intersectsSphere(this)}intersectsPlane(a){return Math.abs(a.distanceToPoint(this.center))<=this.radius}clampPoint(a,f){const x=this.center.distanceToSquared(a);return f.copy(a),x>this.radius*this.radius&&(f.sub(this.center).normalize(),f.multiplyScalar(this.radius).add(this.center)),f}getBoundingBox(a){return this.isEmpty()?(a.makeEmpty(),a):(a.set(this.center,this.center),a.expandByScalar(this.radius),a)}applyMatrix4(a){return this.center.applyMatrix4(a),this.radius=this.radius*a.getMaxScaleOnAxis(),this}translate(a){return this.center.add(a),this}expandByPoint(a){if(this.isEmpty())return this.center.copy(a),this.radius=0,this;ic.subVectors(a,this.center);const f=ic.lengthSq();if(f>this.radius*this.radius){const x=Math.sqrt(f),S=(x-this.radius)*.5;this.center.addScaledVector(ic,S/x),this.radius+=S}return this}union(a){return a.isEmpty()?this:this.isEmpty()?(this.copy(a),this):(this.center.equals(a.center)===!0?this.radius=Math.max(this.radius,a.radius):(Ng.subVectors(a.center,this.center).setLength(a.radius),this.expandByPoint(ic.copy(a.center).add(Ng)),this.expandByPoint(ic.copy(a.center).sub(Ng))),this)}equals(a){return a.center.equals(this.center)&&a.radius===this.radius}clone(){return new this.constructor().copy(this)}}const vl=new dt,kg=new dt,vr=new dt,jr=new dt,hi=new dt,wo=new dt,Ai=new dt;class Na{constructor(a=new dt,f=new dt(0,0,-1)){this.origin=a,this.direction=f}set(a,f){return this.origin.copy(a),this.direction.copy(f),this}copy(a){return this.origin.copy(a.origin),this.direction.copy(a.direction),this}at(a,f){return f.copy(this.direction).multiplyScalar(a).add(this.origin)}lookAt(a){return this.direction.copy(a).sub(this.origin).normalize(),this}recast(a){return this.origin.copy(this.at(a,vl)),this}closestPointToPoint(a,f){f.subVectors(a,this.origin);const x=f.dot(this.direction);return x<0?f.copy(this.origin):f.copy(this.direction).multiplyScalar(x).add(this.origin)}distanceToPoint(a){return Math.sqrt(this.distanceSqToPoint(a))}distanceSqToPoint(a){const f=vl.subVectors(a,this.origin).dot(this.direction);return f<0?this.origin.distanceToSquared(a):(vl.copy(this.direction).multiplyScalar(f).add(this.origin),vl.distanceToSquared(a))}distanceSqToSegment(a,f,x,S){kg.copy(a).add(f).multiplyScalar(.5),vr.copy(f).sub(a).normalize(),jr.copy(this.origin).sub(kg);const I=a.distanceTo(f)*.5,N=-this.direction.dot(vr),U=jr.dot(this.direction),W=-jr.dot(vr),K=jr.lengthSq(),q=Math.abs(1-N*N);let ee,te,ie,de;if(q>0)if(ee=N*W-U,te=N*U-W,de=I*q,ee>=0)if(te>=-de)if(te<=de){const le=1/q;ee*=le,te*=le,ie=ee*(ee+N*te+2*U)+te*(N*ee+te+2*W)+K}else te=I,ee=Math.max(0,-(N*te+U)),ie=-ee*ee+te*(te+2*W)+K;else te=-I,ee=Math.max(0,-(N*te+U)),ie=-ee*ee+te*(te+2*W)+K;else te<=-de?(ee=Math.max(0,-(-N*I+U)),te=ee>0?-I:Math.min(Math.max(-I,-W),I),ie=-ee*ee+te*(te+2*W)+K):te<=de?(ee=0,te=Math.min(Math.max(-I,-W),I),ie=te*(te+2*W)+K):(ee=Math.max(0,-(N*I+U)),te=ee>0?I:Math.min(Math.max(-I,-W),I),ie=-ee*ee+te*(te+2*W)+K);else te=N>0?-I:I,ee=Math.max(0,-(N*te+U)),ie=-ee*ee+te*(te+2*W)+K;return x&&x.copy(this.direction).multiplyScalar(ee).add(this.origin),S&&S.copy(vr).multiplyScalar(te).add(kg),ie}intersectSphere(a,f){vl.subVectors(a.center,this.origin);const x=vl.dot(this.direction),S=vl.dot(vl)-x*x,I=a.radius*a.radius;if(S>I)return null;const N=Math.sqrt(I-S),U=x-N,W=x+N;return U<0&&W<0?null:U<0?this.at(W,f):this.at(U,f)}intersectsSphere(a){return this.distanceSqToPoint(a.center)<=a.radius*a.radius}distanceToPlane(a){const f=a.normal.dot(this.direction);if(f===0)return a.distanceToPoint(this.origin)===0?0:null;const x=-(this.origin.dot(a.normal)+a.constant)/f;return x>=0?x:null}intersectPlane(a,f){const x=this.distanceToPlane(a);return x===null?null:this.at(x,f)}intersectsPlane(a){const f=a.distanceToPoint(this.origin);return f===0||a.normal.dot(this.direction)*f<0}intersectBox(a,f){let x,S,I,N,U,W;const K=1/this.direction.x,q=1/this.direction.y,ee=1/this.direction.z,te=this.origin;return K>=0?(x=(a.min.x-te.x)*K,S=(a.max.x-te.x)*K):(x=(a.max.x-te.x)*K,S=(a.min.x-te.x)*K),q>=0?(I=(a.min.y-te.y)*q,N=(a.max.y-te.y)*q):(I=(a.max.y-te.y)*q,N=(a.min.y-te.y)*q),x>N||I>S||((I>x||isNaN(x))&&(x=I),(N<S||isNaN(S))&&(S=N),ee>=0?(U=(a.min.z-te.z)*ee,W=(a.max.z-te.z)*ee):(U=(a.max.z-te.z)*ee,W=(a.min.z-te.z)*ee),x>W||U>S)||((U>x||x!==x)&&(x=U),(W<S||S!==S)&&(S=W),S<0)?null:this.at(x>=0?x:S,f)}intersectsBox(a){return this.intersectBox(a,vl)!==null}intersectTriangle(a,f,x,S,I){hi.subVectors(f,a),wo.subVectors(x,a),Ai.crossVectors(hi,wo);let N=this.direction.dot(Ai),U;if(N>0){if(S)return null;U=1}else if(N<0)U=-1,N=-N;else return null;jr.subVectors(this.origin,a);const W=U*this.direction.dot(wo.crossVectors(jr,wo));if(W<0)return null;const K=U*this.direction.dot(hi.cross(jr));if(K<0||W+K>N)return null;const q=-U*jr.dot(Ai);return q<0?null:this.at(q/N,I)}applyMatrix4(a){return this.origin.applyMatrix4(a),this.direction.transformDirection(a),this}equals(a){return a.origin.equals(this.origin)&&a.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class wr{constructor(){wr.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(a,f,x,S,I,N,U,W,K,q,ee,te,ie,de,le,ae){const Re=this.elements;return Re[0]=a,Re[4]=f,Re[8]=x,Re[12]=S,Re[1]=I,Re[5]=N,Re[9]=U,Re[13]=W,Re[2]=K,Re[6]=q,Re[10]=ee,Re[14]=te,Re[3]=ie,Re[7]=de,Re[11]=le,Re[15]=ae,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new wr().fromArray(this.elements)}copy(a){const f=this.elements,x=a.elements;return f[0]=x[0],f[1]=x[1],f[2]=x[2],f[3]=x[3],f[4]=x[4],f[5]=x[5],f[6]=x[6],f[7]=x[7],f[8]=x[8],f[9]=x[9],f[10]=x[10],f[11]=x[11],f[12]=x[12],f[13]=x[13],f[14]=x[14],f[15]=x[15],this}copyPosition(a){const f=this.elements,x=a.elements;return f[12]=x[12],f[13]=x[13],f[14]=x[14],this}setFromMatrix3(a){const f=a.elements;return this.set(f[0],f[3],f[6],0,f[1],f[4],f[7],0,f[2],f[5],f[8],0,0,0,0,1),this}extractBasis(a,f,x){return a.setFromMatrixColumn(this,0),f.setFromMatrixColumn(this,1),x.setFromMatrixColumn(this,2),this}makeBasis(a,f,x){return this.set(a.x,f.x,x.x,0,a.y,f.y,x.y,0,a.z,f.z,x.z,0,0,0,0,1),this}extractRotation(a){const f=this.elements,x=a.elements,S=1/rs.setFromMatrixColumn(a,0).length(),I=1/rs.setFromMatrixColumn(a,1).length(),N=1/rs.setFromMatrixColumn(a,2).length();return f[0]=x[0]*S,f[1]=x[1]*S,f[2]=x[2]*S,f[3]=0,f[4]=x[4]*I,f[5]=x[5]*I,f[6]=x[6]*I,f[7]=0,f[8]=x[8]*N,f[9]=x[9]*N,f[10]=x[10]*N,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,this}makeRotationFromEuler(a){const f=this.elements,x=a.x,S=a.y,I=a.z,N=Math.cos(x),U=Math.sin(x),W=Math.cos(S),K=Math.sin(S),q=Math.cos(I),ee=Math.sin(I);if(a.order==="XYZ"){const te=N*q,ie=N*ee,de=U*q,le=U*ee;f[0]=W*q,f[4]=-W*ee,f[8]=K,f[1]=ie+de*K,f[5]=te-le*K,f[9]=-U*W,f[2]=le-te*K,f[6]=de+ie*K,f[10]=N*W}else if(a.order==="YXZ"){const te=W*q,ie=W*ee,de=K*q,le=K*ee;f[0]=te+le*U,f[4]=de*U-ie,f[8]=N*K,f[1]=N*ee,f[5]=N*q,f[9]=-U,f[2]=ie*U-de,f[6]=le+te*U,f[10]=N*W}else if(a.order==="ZXY"){const te=W*q,ie=W*ee,de=K*q,le=K*ee;f[0]=te-le*U,f[4]=-N*ee,f[8]=de+ie*U,f[1]=ie+de*U,f[5]=N*q,f[9]=le-te*U,f[2]=-N*K,f[6]=U,f[10]=N*W}else if(a.order==="ZYX"){const te=N*q,ie=N*ee,de=U*q,le=U*ee;f[0]=W*q,f[4]=de*K-ie,f[8]=te*K+le,f[1]=W*ee,f[5]=le*K+te,f[9]=ie*K-de,f[2]=-K,f[6]=U*W,f[10]=N*W}else if(a.order==="YZX"){const te=N*W,ie=N*K,de=U*W,le=U*K;f[0]=W*q,f[4]=le-te*ee,f[8]=de*ee+ie,f[1]=ee,f[5]=N*q,f[9]=-U*q,f[2]=-K*q,f[6]=ie*ee+de,f[10]=te-le*ee}else if(a.order==="XZY"){const te=N*W,ie=N*K,de=U*W,le=U*K;f[0]=W*q,f[4]=-ee,f[8]=K*q,f[1]=te*ee+le,f[5]=N*q,f[9]=ie*ee-de,f[2]=de*ee-ie,f[6]=U*q,f[10]=le*ee+te}return f[3]=0,f[7]=0,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,this}makeRotationFromQuaternion(a){return this.compose(Hh,a,lf)}lookAt(a,f,x){const S=this.elements;return Xr.subVectors(a,f),Xr.lengthSq()===0&&(Xr.z=1),Xr.normalize(),xa.crossVectors(x,Xr),xa.lengthSq()===0&&(Math.abs(x.z)===1?Xr.x+=1e-4:Xr.z+=1e-4,Xr.normalize(),xa.crossVectors(x,Xr)),xa.normalize(),Ea.crossVectors(Xr,xa),S[0]=xa.x,S[4]=Ea.x,S[8]=Xr.x,S[1]=xa.y,S[5]=Ea.y,S[9]=Xr.y,S[2]=xa.z,S[6]=Ea.z,S[10]=Xr.z,this}multiply(a){return this.multiplyMatrices(this,a)}premultiply(a){return this.multiplyMatrices(a,this)}multiplyMatrices(a,f){const x=a.elements,S=f.elements,I=this.elements,N=x[0],U=x[4],W=x[8],K=x[12],q=x[1],ee=x[5],te=x[9],ie=x[13],de=x[2],le=x[6],ae=x[10],Re=x[14],$e=x[3],Ne=x[7],ze=x[11],Ke=x[15],ht=S[0],Lt=S[4],je=S[8],gt=S[12],_t=S[1],jt=S[5],an=S[9],Wt=S[13],Ht=S[2],tn=S[6],Rn=S[10],On=S[14],Tn=S[3],Qn=S[7],zn=S[11],xr=S[15];return I[0]=N*ht+U*_t+W*Ht+K*Tn,I[4]=N*Lt+U*jt+W*tn+K*Qn,I[8]=N*je+U*an+W*Rn+K*zn,I[12]=N*gt+U*Wt+W*On+K*xr,I[1]=q*ht+ee*_t+te*Ht+ie*Tn,I[5]=q*Lt+ee*jt+te*tn+ie*Qn,I[9]=q*je+ee*an+te*Rn+ie*zn,I[13]=q*gt+ee*Wt+te*On+ie*xr,I[2]=de*ht+le*_t+ae*Ht+Re*Tn,I[6]=de*Lt+le*jt+ae*tn+Re*Qn,I[10]=de*je+le*an+ae*Rn+Re*zn,I[14]=de*gt+le*Wt+ae*On+Re*xr,I[3]=$e*ht+Ne*_t+ze*Ht+Ke*Tn,I[7]=$e*Lt+Ne*jt+ze*tn+Ke*Qn,I[11]=$e*je+Ne*an+ze*Rn+Ke*zn,I[15]=$e*gt+Ne*Wt+ze*On+Ke*xr,this}multiplyScalar(a){const f=this.elements;return f[0]*=a,f[4]*=a,f[8]*=a,f[12]*=a,f[1]*=a,f[5]*=a,f[9]*=a,f[13]*=a,f[2]*=a,f[6]*=a,f[10]*=a,f[14]*=a,f[3]*=a,f[7]*=a,f[11]*=a,f[15]*=a,this}determinant(){const a=this.elements,f=a[0],x=a[4],S=a[8],I=a[12],N=a[1],U=a[5],W=a[9],K=a[13],q=a[2],ee=a[6],te=a[10],ie=a[14],de=a[3],le=a[7],ae=a[11],Re=a[15];return de*(+I*W*ee-S*K*ee-I*U*te+x*K*te+S*U*ie-x*W*ie)+le*(+f*W*ie-f*K*te+I*N*te-S*N*ie+S*K*q-I*W*q)+ae*(+f*K*ee-f*U*ie-I*N*ee+x*N*ie+I*U*q-x*K*q)+Re*(-S*U*q-f*W*ee+f*U*te+S*N*ee-x*N*te+x*W*q)}transpose(){const a=this.elements;let f;return f=a[1],a[1]=a[4],a[4]=f,f=a[2],a[2]=a[8],a[8]=f,f=a[6],a[6]=a[9],a[9]=f,f=a[3],a[3]=a[12],a[12]=f,f=a[7],a[7]=a[13],a[13]=f,f=a[11],a[11]=a[14],a[14]=f,this}setPosition(a,f,x){const S=this.elements;return a.isVector3?(S[12]=a.x,S[13]=a.y,S[14]=a.z):(S[12]=a,S[13]=f,S[14]=x),this}invert(){const a=this.elements,f=a[0],x=a[1],S=a[2],I=a[3],N=a[4],U=a[5],W=a[6],K=a[7],q=a[8],ee=a[9],te=a[10],ie=a[11],de=a[12],le=a[13],ae=a[14],Re=a[15],$e=ee*ae*K-le*te*K+le*W*ie-U*ae*ie-ee*W*Re+U*te*Re,Ne=de*te*K-q*ae*K-de*W*ie+N*ae*ie+q*W*Re-N*te*Re,ze=q*le*K-de*ee*K+de*U*ie-N*le*ie-q*U*Re+N*ee*Re,Ke=de*ee*W-q*le*W-de*U*te+N*le*te+q*U*ae-N*ee*ae,ht=f*$e+x*Ne+S*ze+I*Ke;if(ht===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Lt=1/ht;return a[0]=$e*Lt,a[1]=(le*te*I-ee*ae*I-le*S*ie+x*ae*ie+ee*S*Re-x*te*Re)*Lt,a[2]=(U*ae*I-le*W*I+le*S*K-x*ae*K-U*S*Re+x*W*Re)*Lt,a[3]=(ee*W*I-U*te*I-ee*S*K+x*te*K+U*S*ie-x*W*ie)*Lt,a[4]=Ne*Lt,a[5]=(q*ae*I-de*te*I+de*S*ie-f*ae*ie-q*S*Re+f*te*Re)*Lt,a[6]=(de*W*I-N*ae*I-de*S*K+f*ae*K+N*S*Re-f*W*Re)*Lt,a[7]=(N*te*I-q*W*I+q*S*K-f*te*K-N*S*ie+f*W*ie)*Lt,a[8]=ze*Lt,a[9]=(de*ee*I-q*le*I-de*x*ie+f*le*ie+q*x*Re-f*ee*Re)*Lt,a[10]=(N*le*I-de*U*I+de*x*K-f*le*K-N*x*Re+f*U*Re)*Lt,a[11]=(q*U*I-N*ee*I-q*x*K+f*ee*K+N*x*ie-f*U*ie)*Lt,a[12]=Ke*Lt,a[13]=(q*le*S-de*ee*S+de*x*te-f*le*te-q*x*ae+f*ee*ae)*Lt,a[14]=(de*U*S-N*le*S-de*x*W+f*le*W+N*x*ae-f*U*ae)*Lt,a[15]=(N*ee*S-q*U*S+q*x*W-f*ee*W-N*x*te+f*U*te)*Lt,this}scale(a){const f=this.elements,x=a.x,S=a.y,I=a.z;return f[0]*=x,f[4]*=S,f[8]*=I,f[1]*=x,f[5]*=S,f[9]*=I,f[2]*=x,f[6]*=S,f[10]*=I,f[3]*=x,f[7]*=S,f[11]*=I,this}getMaxScaleOnAxis(){const a=this.elements,f=a[0]*a[0]+a[1]*a[1]+a[2]*a[2],x=a[4]*a[4]+a[5]*a[5]+a[6]*a[6],S=a[8]*a[8]+a[9]*a[9]+a[10]*a[10];return Math.sqrt(Math.max(f,x,S))}makeTranslation(a,f,x){return this.set(1,0,0,a,0,1,0,f,0,0,1,x,0,0,0,1),this}makeRotationX(a){const f=Math.cos(a),x=Math.sin(a);return this.set(1,0,0,0,0,f,-x,0,0,x,f,0,0,0,0,1),this}makeRotationY(a){const f=Math.cos(a),x=Math.sin(a);return this.set(f,0,x,0,0,1,0,0,-x,0,f,0,0,0,0,1),this}makeRotationZ(a){const f=Math.cos(a),x=Math.sin(a);return this.set(f,-x,0,0,x,f,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(a,f){const x=Math.cos(f),S=Math.sin(f),I=1-x,N=a.x,U=a.y,W=a.z,K=I*N,q=I*U;return this.set(K*N+x,K*U-S*W,K*W+S*U,0,K*U+S*W,q*U+x,q*W-S*N,0,K*W-S*U,q*W+S*N,I*W*W+x,0,0,0,0,1),this}makeScale(a,f,x){return this.set(a,0,0,0,0,f,0,0,0,0,x,0,0,0,0,1),this}makeShear(a,f,x,S,I,N){return this.set(1,x,I,0,a,1,N,0,f,S,1,0,0,0,0,1),this}compose(a,f,x){const S=this.elements,I=f._x,N=f._y,U=f._z,W=f._w,K=I+I,q=N+N,ee=U+U,te=I*K,ie=I*q,de=I*ee,le=N*q,ae=N*ee,Re=U*ee,$e=W*K,Ne=W*q,ze=W*ee,Ke=x.x,ht=x.y,Lt=x.z;return S[0]=(1-(le+Re))*Ke,S[1]=(ie+ze)*Ke,S[2]=(de-Ne)*Ke,S[3]=0,S[4]=(ie-ze)*ht,S[5]=(1-(te+Re))*ht,S[6]=(ae+$e)*ht,S[7]=0,S[8]=(de+Ne)*Lt,S[9]=(ae-$e)*Lt,S[10]=(1-(te+le))*Lt,S[11]=0,S[12]=a.x,S[13]=a.y,S[14]=a.z,S[15]=1,this}decompose(a,f,x){const S=this.elements;let I=rs.set(S[0],S[1],S[2]).length();const N=rs.set(S[4],S[5],S[6]).length(),U=rs.set(S[8],S[9],S[10]).length();this.determinant()<0&&(I=-I),a.x=S[12],a.y=S[13],a.z=S[14],si.copy(this);const K=1/I,q=1/N,ee=1/U;return si.elements[0]*=K,si.elements[1]*=K,si.elements[2]*=K,si.elements[4]*=q,si.elements[5]*=q,si.elements[6]*=q,si.elements[8]*=ee,si.elements[9]*=ee,si.elements[10]*=ee,f.setFromRotationMatrix(si),x.x=I,x.y=N,x.z=U,this}makePerspective(a,f,x,S,I,N){const U=this.elements,W=2*I/(f-a),K=2*I/(x-S),q=(f+a)/(f-a),ee=(x+S)/(x-S),te=-(N+I)/(N-I),ie=-2*N*I/(N-I);return U[0]=W,U[4]=0,U[8]=q,U[12]=0,U[1]=0,U[5]=K,U[9]=ee,U[13]=0,U[2]=0,U[6]=0,U[10]=te,U[14]=ie,U[3]=0,U[7]=0,U[11]=-1,U[15]=0,this}makeOrthographic(a,f,x,S,I,N){const U=this.elements,W=1/(f-a),K=1/(x-S),q=1/(N-I),ee=(f+a)*W,te=(x+S)*K,ie=(N+I)*q;return U[0]=2*W,U[4]=0,U[8]=0,U[12]=-ee,U[1]=0,U[5]=2*K,U[9]=0,U[13]=-te,U[2]=0,U[6]=0,U[10]=-2*q,U[14]=-ie,U[3]=0,U[7]=0,U[11]=0,U[15]=1,this}equals(a){const f=this.elements,x=a.elements;for(let S=0;S<16;S++)if(f[S]!==x[S])return!1;return!0}fromArray(a,f=0){for(let x=0;x<16;x++)this.elements[x]=a[x+f];return this}toArray(a=[],f=0){const x=this.elements;return a[f]=x[0],a[f+1]=x[1],a[f+2]=x[2],a[f+3]=x[3],a[f+4]=x[4],a[f+5]=x[5],a[f+6]=x[6],a[f+7]=x[7],a[f+8]=x[8],a[f+9]=x[9],a[f+10]=x[10],a[f+11]=x[11],a[f+12]=x[12],a[f+13]=x[13],a[f+14]=x[14],a[f+15]=x[15],a}}const rs=new dt,si=new wr,Hh=new dt(0,0,0),lf=new dt(1,1,1),xa=new dt,Ea=new dt,Xr=new dt,Al=new wr,cf=new fa;class ha{constructor(a=0,f=0,x=0,S=ha.DefaultOrder){this.isEuler=!0,this._x=a,this._y=f,this._z=x,this._order=S}get x(){return this._x}set x(a){this._x=a,this._onChangeCallback()}get y(){return this._y}set y(a){this._y=a,this._onChangeCallback()}get z(){return this._z}set z(a){this._z=a,this._onChangeCallback()}get order(){return this._order}set order(a){this._order=a,this._onChangeCallback()}set(a,f,x,S=this._order){return this._x=a,this._y=f,this._z=x,this._order=S,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(a){return this._x=a._x,this._y=a._y,this._z=a._z,this._order=a._order,this._onChangeCallback(),this}setFromRotationMatrix(a,f=this._order,x=!0){const S=a.elements,I=S[0],N=S[4],U=S[8],W=S[1],K=S[5],q=S[9],ee=S[2],te=S[6],ie=S[10];switch(f){case"XYZ":this._y=Math.asin(uo(U,-1,1)),Math.abs(U)<.9999999?(this._x=Math.atan2(-q,ie),this._z=Math.atan2(-N,I)):(this._x=Math.atan2(te,K),this._z=0);break;case"YXZ":this._x=Math.asin(-uo(q,-1,1)),Math.abs(q)<.9999999?(this._y=Math.atan2(U,ie),this._z=Math.atan2(W,K)):(this._y=Math.atan2(-ee,I),this._z=0);break;case"ZXY":this._x=Math.asin(uo(te,-1,1)),Math.abs(te)<.9999999?(this._y=Math.atan2(-ee,ie),this._z=Math.atan2(-N,K)):(this._y=0,this._z=Math.atan2(W,I));break;case"ZYX":this._y=Math.asin(-uo(ee,-1,1)),Math.abs(ee)<.9999999?(this._x=Math.atan2(te,ie),this._z=Math.atan2(W,I)):(this._x=0,this._z=Math.atan2(-N,K));break;case"YZX":this._z=Math.asin(uo(W,-1,1)),Math.abs(W)<.9999999?(this._x=Math.atan2(-q,K),this._y=Math.atan2(-ee,I)):(this._x=0,this._y=Math.atan2(U,ie));break;case"XZY":this._z=Math.asin(-uo(N,-1,1)),Math.abs(N)<.9999999?(this._x=Math.atan2(te,K),this._y=Math.atan2(U,I)):(this._x=Math.atan2(-q,ie),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+f)}return this._order=f,x===!0&&this._onChangeCallback(),this}setFromQuaternion(a,f,x){return Al.makeRotationFromQuaternion(a),this.setFromRotationMatrix(Al,f,x)}setFromVector3(a,f=this._order){return this.set(a.x,a.y,a.z,f)}reorder(a){return cf.setFromEuler(this),this.setFromQuaternion(cf,a)}equals(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._order===this._order}fromArray(a){return this._x=a[0],this._y=a[1],this._z=a[2],a[3]!==void 0&&(this._order=a[3]),this._onChangeCallback(),this}toArray(a=[],f=0){return a[f]=this._x,a[f+1]=this._y,a[f+2]=this._z,a[f+3]=this._order,a}_onChange(a){return this._onChangeCallback=a,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}ha.DefaultOrder="XYZ",ha.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Si{constructor(){this.mask=1}set(a){this.mask=(1<<a|0)>>>0}enable(a){this.mask|=1<<a|0}enableAll(){this.mask=-1}toggle(a){this.mask^=1<<a|0}disable(a){this.mask&=~(1<<a|0)}disableAll(){this.mask=0}test(a){return(this.mask&a.mask)!==0}isEnabled(a){return(this.mask&(1<<a|0))!==0}}let Xi=0;const li=new dt,_i=new fa,So=new wr,yl=new dt,kc=new dt,hy=new dt,py=new fa,Fg=new dt(1,0,0),Ug=new dt(0,1,0),my=new dt(0,0,1),Ow={type:"added"},gy={type:"removed"};class yi extends Oa{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Xi++}),this.uuid=Da(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=yi.DefaultUp.clone();const a=new dt,f=new ha,x=new fa,S=new dt(1,1,1);function I(){x.setFromEuler(f,!1)}function N(){f.setFromQuaternion(x,void 0,!1)}f._onChange(I),x._onChange(N),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:a},rotation:{configurable:!0,enumerable:!0,value:f},quaternion:{configurable:!0,enumerable:!0,value:x},scale:{configurable:!0,enumerable:!0,value:S},modelViewMatrix:{value:new wr},normalMatrix:{value:new da}}),this.matrix=new wr,this.matrixWorld=new wr,this.matrixAutoUpdate=yi.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=yi.DefaultMatrixWorldAutoUpdate,this.layers=new Si,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(a){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(a),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(a){return this.quaternion.premultiply(a),this}setRotationFromAxisAngle(a,f){this.quaternion.setFromAxisAngle(a,f)}setRotationFromEuler(a){this.quaternion.setFromEuler(a,!0)}setRotationFromMatrix(a){this.quaternion.setFromRotationMatrix(a)}setRotationFromQuaternion(a){this.quaternion.copy(a)}rotateOnAxis(a,f){return _i.setFromAxisAngle(a,f),this.quaternion.multiply(_i),this}rotateOnWorldAxis(a,f){return _i.setFromAxisAngle(a,f),this.quaternion.premultiply(_i),this}rotateX(a){return this.rotateOnAxis(Fg,a)}rotateY(a){return this.rotateOnAxis(Ug,a)}rotateZ(a){return this.rotateOnAxis(my,a)}translateOnAxis(a,f){return li.copy(a).applyQuaternion(this.quaternion),this.position.add(li.multiplyScalar(f)),this}translateX(a){return this.translateOnAxis(Fg,a)}translateY(a){return this.translateOnAxis(Ug,a)}translateZ(a){return this.translateOnAxis(my,a)}localToWorld(a){return a.applyMatrix4(this.matrixWorld)}worldToLocal(a){return a.applyMatrix4(So.copy(this.matrixWorld).invert())}lookAt(a,f,x){a.isVector3?yl.copy(a):yl.set(a,f,x);const S=this.parent;this.updateWorldMatrix(!0,!1),kc.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?So.lookAt(kc,yl,this.up):So.lookAt(yl,kc,this.up),this.quaternion.setFromRotationMatrix(So),S&&(So.extractRotation(S.matrixWorld),_i.setFromRotationMatrix(So),this.quaternion.premultiply(_i.invert()))}add(a){if(arguments.length>1){for(let f=0;f<arguments.length;f++)this.add(arguments[f]);return this}return a===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",a),this):(a&&a.isObject3D?(a.parent!==null&&a.parent.remove(a),a.parent=this,this.children.push(a),a.dispatchEvent(Ow)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",a),this)}remove(a){if(arguments.length>1){for(let x=0;x<arguments.length;x++)this.remove(arguments[x]);return this}const f=this.children.indexOf(a);return f!==-1&&(a.parent=null,this.children.splice(f,1),a.dispatchEvent(gy)),this}removeFromParent(){const a=this.parent;return a!==null&&a.remove(this),this}clear(){for(let a=0;a<this.children.length;a++){const f=this.children[a];f.parent=null,f.dispatchEvent(gy)}return this.children.length=0,this}attach(a){return this.updateWorldMatrix(!0,!1),So.copy(this.matrixWorld).invert(),a.parent!==null&&(a.parent.updateWorldMatrix(!0,!1),So.multiply(a.parent.matrixWorld)),a.applyMatrix4(So),this.add(a),a.updateWorldMatrix(!1,!0),this}getObjectById(a){return this.getObjectByProperty("id",a)}getObjectByName(a){return this.getObjectByProperty("name",a)}getObjectByProperty(a,f){if(this[a]===f)return this;for(let x=0,S=this.children.length;x<S;x++){const N=this.children[x].getObjectByProperty(a,f);if(N!==void 0)return N}}getWorldPosition(a){return this.updateWorldMatrix(!0,!1),a.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(a){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(kc,a,hy),a}getWorldScale(a){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(kc,py,a),a}getWorldDirection(a){this.updateWorldMatrix(!0,!1);const f=this.matrixWorld.elements;return a.set(f[8],f[9],f[10]).normalize()}raycast(){}traverse(a){a(this);const f=this.children;for(let x=0,S=f.length;x<S;x++)f[x].traverse(a)}traverseVisible(a){if(this.visible===!1)return;a(this);const f=this.children;for(let x=0,S=f.length;x<S;x++)f[x].traverseVisible(a)}traverseAncestors(a){const f=this.parent;f!==null&&(a(f),f.traverseAncestors(a))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(a){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||a)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,a=!0);const f=this.children;for(let x=0,S=f.length;x<S;x++){const I=f[x];(I.matrixWorldAutoUpdate===!0||a===!0)&&I.updateMatrixWorld(a)}}updateWorldMatrix(a,f){const x=this.parent;if(a===!0&&x!==null&&x.matrixWorldAutoUpdate===!0&&x.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),f===!0){const S=this.children;for(let I=0,N=S.length;I<N;I++){const U=S[I];U.matrixWorldAutoUpdate===!0&&U.updateWorldMatrix(!1,!0)}}}toJSON(a){const f=a===void 0||typeof a=="string",x={};f&&(a={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},x.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const S={};S.uuid=this.uuid,S.type=this.type,this.name!==""&&(S.name=this.name),this.castShadow===!0&&(S.castShadow=!0),this.receiveShadow===!0&&(S.receiveShadow=!0),this.visible===!1&&(S.visible=!1),this.frustumCulled===!1&&(S.frustumCulled=!1),this.renderOrder!==0&&(S.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(S.userData=this.userData),S.layers=this.layers.mask,S.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(S.matrixAutoUpdate=!1),this.isInstancedMesh&&(S.type="InstancedMesh",S.count=this.count,S.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(S.instanceColor=this.instanceColor.toJSON()));function I(U,W){return U[W.uuid]===void 0&&(U[W.uuid]=W.toJSON(a)),W.uuid}if(this.isScene)this.background&&(this.background.isColor?S.background=this.background.toJSON():this.background.isTexture&&(S.background=this.background.toJSON(a).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(S.environment=this.environment.toJSON(a).uuid);else if(this.isMesh||this.isLine||this.isPoints){S.geometry=I(a.geometries,this.geometry);const U=this.geometry.parameters;if(U!==void 0&&U.shapes!==void 0){const W=U.shapes;if(Array.isArray(W))for(let K=0,q=W.length;K<q;K++){const ee=W[K];I(a.shapes,ee)}else I(a.shapes,W)}}if(this.isSkinnedMesh&&(S.bindMode=this.bindMode,S.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(I(a.skeletons,this.skeleton),S.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const U=[];for(let W=0,K=this.material.length;W<K;W++)U.push(I(a.materials,this.material[W]));S.material=U}else S.material=I(a.materials,this.material);if(this.children.length>0){S.children=[];for(let U=0;U<this.children.length;U++)S.children.push(this.children[U].toJSON(a).object)}if(this.animations.length>0){S.animations=[];for(let U=0;U<this.animations.length;U++){const W=this.animations[U];S.animations.push(I(a.animations,W))}}if(f){const U=N(a.geometries),W=N(a.materials),K=N(a.textures),q=N(a.images),ee=N(a.shapes),te=N(a.skeletons),ie=N(a.animations),de=N(a.nodes);U.length>0&&(x.geometries=U),W.length>0&&(x.materials=W),K.length>0&&(x.textures=K),q.length>0&&(x.images=q),ee.length>0&&(x.shapes=ee),te.length>0&&(x.skeletons=te),ie.length>0&&(x.animations=ie),de.length>0&&(x.nodes=de)}return x.object=S,x;function N(U){const W=[];for(const K in U){const q=U[K];delete q.metadata,W.push(q)}return W}}clone(a){return new this.constructor().copy(this,a)}copy(a,f=!0){if(this.name=a.name,this.up.copy(a.up),this.position.copy(a.position),this.rotation.order=a.rotation.order,this.quaternion.copy(a.quaternion),this.scale.copy(a.scale),this.matrix.copy(a.matrix),this.matrixWorld.copy(a.matrixWorld),this.matrixAutoUpdate=a.matrixAutoUpdate,this.matrixWorldNeedsUpdate=a.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=a.matrixWorldAutoUpdate,this.layers.mask=a.layers.mask,this.visible=a.visible,this.castShadow=a.castShadow,this.receiveShadow=a.receiveShadow,this.frustumCulled=a.frustumCulled,this.renderOrder=a.renderOrder,this.userData=JSON.parse(JSON.stringify(a.userData)),f===!0)for(let x=0;x<a.children.length;x++){const S=a.children[x];this.add(S.clone())}return this}}yi.DefaultUp=new dt(0,1,0),yi.DefaultMatrixAutoUpdate=!0,yi.DefaultMatrixWorldAutoUpdate=!0;const gs=new dt,Ao=new dt,vs=new dt,Hs=new dt,Fc=new dt,$h=new dt,PP=new dt,Dw=new dt,Nw=new dt,kw=new dt;class $s{constructor(a=new dt,f=new dt,x=new dt){this.a=a,this.b=f,this.c=x}static getNormal(a,f,x,S){S.subVectors(x,f),gs.subVectors(a,f),S.cross(gs);const I=S.lengthSq();return I>0?S.multiplyScalar(1/Math.sqrt(I)):S.set(0,0,0)}static getBarycoord(a,f,x,S,I){gs.subVectors(S,f),Ao.subVectors(x,f),vs.subVectors(a,f);const N=gs.dot(gs),U=gs.dot(Ao),W=gs.dot(vs),K=Ao.dot(Ao),q=Ao.dot(vs),ee=N*K-U*U;if(ee===0)return I.set(-2,-1,-1);const te=1/ee,ie=(K*W-U*q)*te,de=(N*q-U*W)*te;return I.set(1-ie-de,de,ie)}static containsPoint(a,f,x,S){return this.getBarycoord(a,f,x,S,Hs),Hs.x>=0&&Hs.y>=0&&Hs.x+Hs.y<=1}static getUV(a,f,x,S,I,N,U,W){return this.getBarycoord(a,f,x,S,Hs),W.set(0,0),W.addScaledVector(I,Hs.x),W.addScaledVector(N,Hs.y),W.addScaledVector(U,Hs.z),W}static isFrontFacing(a,f,x,S){return gs.subVectors(x,f),Ao.subVectors(a,f),gs.cross(Ao).dot(S)<0}set(a,f,x){return this.a.copy(a),this.b.copy(f),this.c.copy(x),this}setFromPointsAndIndices(a,f,x,S){return this.a.copy(a[f]),this.b.copy(a[x]),this.c.copy(a[S]),this}setFromAttributeAndIndices(a,f,x,S){return this.a.fromBufferAttribute(a,f),this.b.fromBufferAttribute(a,x),this.c.fromBufferAttribute(a,S),this}clone(){return new this.constructor().copy(this)}copy(a){return this.a.copy(a.a),this.b.copy(a.b),this.c.copy(a.c),this}getArea(){return gs.subVectors(this.c,this.b),Ao.subVectors(this.a,this.b),gs.cross(Ao).length()*.5}getMidpoint(a){return a.addVectors(this.a,this.b).add(this.c).multiplyScalar(.3333333333333333)}getNormal(a){return $s.getNormal(this.a,this.b,this.c,a)}getPlane(a){return a.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(a,f){return $s.getBarycoord(a,this.a,this.b,this.c,f)}getUV(a,f,x,S,I){return $s.getUV(a,this.a,this.b,this.c,f,x,S,I)}containsPoint(a){return $s.containsPoint(a,this.a,this.b,this.c)}isFrontFacing(a){return $s.isFrontFacing(this.a,this.b,this.c,a)}intersectsBox(a){return a.intersectsTriangle(this)}closestPointToPoint(a,f){const x=this.a,S=this.b,I=this.c;let N,U;Fc.subVectors(S,x),$h.subVectors(I,x),Dw.subVectors(a,x);const W=Fc.dot(Dw),K=$h.dot(Dw);if(W<=0&&K<=0)return f.copy(x);Nw.subVectors(a,S);const q=Fc.dot(Nw),ee=$h.dot(Nw);if(q>=0&&ee<=q)return f.copy(S);const te=W*ee-q*K;if(te<=0&&W>=0&&q<=0)return N=W/(W-q),f.copy(x).addScaledVector(Fc,N);kw.subVectors(a,I);const ie=Fc.dot(kw),de=$h.dot(kw);if(de>=0&&ie<=de)return f.copy(I);const le=ie*K-W*de;if(le<=0&&K>=0&&de<=0)return U=K/(K-de),f.copy(x).addScaledVector($h,U);const ae=q*de-ie*ee;if(ae<=0&&ee-q>=0&&ie-de>=0)return PP.subVectors(I,S),U=(ee-q)/(ee-q+(ie-de)),f.copy(S).addScaledVector(PP,U);const Re=1/(ae+le+te);return N=le*Re,U=te*Re,f.copy(x).addScaledVector(Fc,N).addScaledVector($h,U)}equals(a){return a.a.equals(this.a)&&a.b.equals(this.b)&&a.c.equals(this.c)}}let XV=0;class Ca extends Oa{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:XV++}),this.uuid=Da(),this.name="",this.type="Material",this.blending=P,this.side=C,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=J,this.blendDst=Z,this.blendEquation=B,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=ke,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=ay,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ii,this.stencilZFail=Ii,this.stencilZPass=Ii,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(a){this._alphaTest>0!=a>0&&this.version++,this._alphaTest=a}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(a){if(a!==void 0)for(const f in a){const x=a[f];if(x===void 0){console.warn("THREE.Material: '"+f+"' parameter is undefined.");continue}const S=this[f];if(S===void 0){console.warn("THREE."+this.type+": '"+f+"' is not a property of this material.");continue}S&&S.isColor?S.set(x):S&&S.isVector3&&x&&x.isVector3?S.copy(x):this[f]=x}}toJSON(a){const f=a===void 0||typeof a=="string";f&&(a={textures:{},images:{}});const x={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};x.uuid=this.uuid,x.type=this.type,this.name!==""&&(x.name=this.name),this.color&&this.color.isColor&&(x.color=this.color.getHex()),this.roughness!==void 0&&(x.roughness=this.roughness),this.metalness!==void 0&&(x.metalness=this.metalness),this.sheen!==void 0&&(x.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(x.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(x.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(x.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(x.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(x.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(x.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(x.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(x.shininess=this.shininess),this.clearcoat!==void 0&&(x.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(x.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(x.clearcoatMap=this.clearcoatMap.toJSON(a).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(x.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(a).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(x.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(a).uuid,x.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(x.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(x.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(x.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(x.iridescenceMap=this.iridescenceMap.toJSON(a).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(x.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(a).uuid),this.map&&this.map.isTexture&&(x.map=this.map.toJSON(a).uuid),this.matcap&&this.matcap.isTexture&&(x.matcap=this.matcap.toJSON(a).uuid),this.alphaMap&&this.alphaMap.isTexture&&(x.alphaMap=this.alphaMap.toJSON(a).uuid),this.lightMap&&this.lightMap.isTexture&&(x.lightMap=this.lightMap.toJSON(a).uuid,x.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(x.aoMap=this.aoMap.toJSON(a).uuid,x.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(x.bumpMap=this.bumpMap.toJSON(a).uuid,x.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(x.normalMap=this.normalMap.toJSON(a).uuid,x.normalMapType=this.normalMapType,x.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(x.displacementMap=this.displacementMap.toJSON(a).uuid,x.displacementScale=this.displacementScale,x.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(x.roughnessMap=this.roughnessMap.toJSON(a).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(x.metalnessMap=this.metalnessMap.toJSON(a).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(x.emissiveMap=this.emissiveMap.toJSON(a).uuid),this.specularMap&&this.specularMap.isTexture&&(x.specularMap=this.specularMap.toJSON(a).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(x.specularIntensityMap=this.specularIntensityMap.toJSON(a).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(x.specularColorMap=this.specularColorMap.toJSON(a).uuid),this.envMap&&this.envMap.isTexture&&(x.envMap=this.envMap.toJSON(a).uuid,this.combine!==void 0&&(x.combine=this.combine)),this.envMapIntensity!==void 0&&(x.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(x.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(x.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(x.gradientMap=this.gradientMap.toJSON(a).uuid),this.transmission!==void 0&&(x.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(x.transmissionMap=this.transmissionMap.toJSON(a).uuid),this.thickness!==void 0&&(x.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(x.thicknessMap=this.thicknessMap.toJSON(a).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(x.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(x.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(x.size=this.size),this.shadowSide!==null&&(x.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(x.sizeAttenuation=this.sizeAttenuation),this.blending!==P&&(x.blending=this.blending),this.side!==C&&(x.side=this.side),this.vertexColors&&(x.vertexColors=!0),this.opacity<1&&(x.opacity=this.opacity),this.transparent===!0&&(x.transparent=this.transparent),x.depthFunc=this.depthFunc,x.depthTest=this.depthTest,x.depthWrite=this.depthWrite,x.colorWrite=this.colorWrite,x.stencilWrite=this.stencilWrite,x.stencilWriteMask=this.stencilWriteMask,x.stencilFunc=this.stencilFunc,x.stencilRef=this.stencilRef,x.stencilFuncMask=this.stencilFuncMask,x.stencilFail=this.stencilFail,x.stencilZFail=this.stencilZFail,x.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(x.rotation=this.rotation),this.polygonOffset===!0&&(x.polygonOffset=!0),this.polygonOffsetFactor!==0&&(x.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(x.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(x.linewidth=this.linewidth),this.dashSize!==void 0&&(x.dashSize=this.dashSize),this.gapSize!==void 0&&(x.gapSize=this.gapSize),this.scale!==void 0&&(x.scale=this.scale),this.dithering===!0&&(x.dithering=!0),this.alphaTest>0&&(x.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(x.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(x.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(x.wireframe=this.wireframe),this.wireframeLinewidth>1&&(x.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(x.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(x.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(x.flatShading=this.flatShading),this.visible===!1&&(x.visible=!1),this.toneMapped===!1&&(x.toneMapped=!1),this.fog===!1&&(x.fog=!1),JSON.stringify(this.userData)!=="{}"&&(x.userData=this.userData);function S(I){const N=[];for(const U in I){const W=I[U];delete W.metadata,N.push(W)}return N}if(f){const I=S(a.textures),N=S(a.images);I.length>0&&(x.textures=I),N.length>0&&(x.images=N)}return x}clone(){return new this.constructor().copy(this)}copy(a){this.name=a.name,this.blending=a.blending,this.side=a.side,this.vertexColors=a.vertexColors,this.opacity=a.opacity,this.transparent=a.transparent,this.blendSrc=a.blendSrc,this.blendDst=a.blendDst,this.blendEquation=a.blendEquation,this.blendSrcAlpha=a.blendSrcAlpha,this.blendDstAlpha=a.blendDstAlpha,this.blendEquationAlpha=a.blendEquationAlpha,this.depthFunc=a.depthFunc,this.depthTest=a.depthTest,this.depthWrite=a.depthWrite,this.stencilWriteMask=a.stencilWriteMask,this.stencilFunc=a.stencilFunc,this.stencilRef=a.stencilRef,this.stencilFuncMask=a.stencilFuncMask,this.stencilFail=a.stencilFail,this.stencilZFail=a.stencilZFail,this.stencilZPass=a.stencilZPass,this.stencilWrite=a.stencilWrite;const f=a.clippingPlanes;let x=null;if(f!==null){const S=f.length;x=new Array(S);for(let I=0;I!==S;++I)x[I]=f[I].clone()}return this.clippingPlanes=x,this.clipIntersection=a.clipIntersection,this.clipShadows=a.clipShadows,this.shadowSide=a.shadowSide,this.colorWrite=a.colorWrite,this.precision=a.precision,this.polygonOffset=a.polygonOffset,this.polygonOffsetFactor=a.polygonOffsetFactor,this.polygonOffsetUnits=a.polygonOffsetUnits,this.dithering=a.dithering,this.alphaTest=a.alphaTest,this.alphaToCoverage=a.alphaToCoverage,this.premultipliedAlpha=a.premultipliedAlpha,this.visible=a.visible,this.toneMapped=a.toneMapped,this.userData=JSON.parse(JSON.stringify(a.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(a){a===!0&&this.version++}}class Qu extends Ca{constructor(a){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new br(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=xt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(a)}copy(a){return super.copy(a),this.color.copy(a.color),this.map=a.map,this.lightMap=a.lightMap,this.lightMapIntensity=a.lightMapIntensity,this.aoMap=a.aoMap,this.aoMapIntensity=a.aoMapIntensity,this.specularMap=a.specularMap,this.alphaMap=a.alphaMap,this.envMap=a.envMap,this.combine=a.combine,this.reflectivity=a.reflectivity,this.refractionRatio=a.refractionRatio,this.wireframe=a.wireframe,this.wireframeLinewidth=a.wireframeLinewidth,this.wireframeLinecap=a.wireframeLinecap,this.wireframeLinejoin=a.wireframeLinejoin,this.fog=a.fog,this}}const Lo=new dt,vy=new In;class Vi{constructor(a,f,x){if(Array.isArray(a))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=a,this.itemSize=f,this.count=a!==void 0?a.length/f:0,this.normalized=x===!0,this.usage=tf,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(a){a===!0&&this.version++}setUsage(a){return this.usage=a,this}copy(a){return this.name=a.name,this.array=new a.array.constructor(a.array),this.itemSize=a.itemSize,this.count=a.count,this.normalized=a.normalized,this.usage=a.usage,this}copyAt(a,f,x){a*=this.itemSize,x*=f.itemSize;for(let S=0,I=this.itemSize;S<I;S++)this.array[a+S]=f.array[x+S];return this}copyArray(a){return this.array.set(a),this}applyMatrix3(a){if(this.itemSize===2)for(let f=0,x=this.count;f<x;f++)vy.fromBufferAttribute(this,f),vy.applyMatrix3(a),this.setXY(f,vy.x,vy.y);else if(this.itemSize===3)for(let f=0,x=this.count;f<x;f++)Lo.fromBufferAttribute(this,f),Lo.applyMatrix3(a),this.setXYZ(f,Lo.x,Lo.y,Lo.z);return this}applyMatrix4(a){for(let f=0,x=this.count;f<x;f++)Lo.fromBufferAttribute(this,f),Lo.applyMatrix4(a),this.setXYZ(f,Lo.x,Lo.y,Lo.z);return this}applyNormalMatrix(a){for(let f=0,x=this.count;f<x;f++)Lo.fromBufferAttribute(this,f),Lo.applyNormalMatrix(a),this.setXYZ(f,Lo.x,Lo.y,Lo.z);return this}transformDirection(a){for(let f=0,x=this.count;f<x;f++)Lo.fromBufferAttribute(this,f),Lo.transformDirection(a),this.setXYZ(f,Lo.x,Lo.y,Lo.z);return this}set(a,f=0){return this.array.set(a,f),this}getX(a){let f=this.array[a*this.itemSize];return this.normalized&&(f=pl(f,this.array)),f}setX(a,f){return this.normalized&&(f=Ni(f,this.array)),this.array[a*this.itemSize]=f,this}getY(a){let f=this.array[a*this.itemSize+1];return this.normalized&&(f=pl(f,this.array)),f}setY(a,f){return this.normalized&&(f=Ni(f,this.array)),this.array[a*this.itemSize+1]=f,this}getZ(a){let f=this.array[a*this.itemSize+2];return this.normalized&&(f=pl(f,this.array)),f}setZ(a,f){return this.normalized&&(f=Ni(f,this.array)),this.array[a*this.itemSize+2]=f,this}getW(a){let f=this.array[a*this.itemSize+3];return this.normalized&&(f=pl(f,this.array)),f}setW(a,f){return this.normalized&&(f=Ni(f,this.array)),this.array[a*this.itemSize+3]=f,this}setXY(a,f,x){return a*=this.itemSize,this.normalized&&(f=Ni(f,this.array),x=Ni(x,this.array)),this.array[a+0]=f,this.array[a+1]=x,this}setXYZ(a,f,x,S){return a*=this.itemSize,this.normalized&&(f=Ni(f,this.array),x=Ni(x,this.array),S=Ni(S,this.array)),this.array[a+0]=f,this.array[a+1]=x,this.array[a+2]=S,this}setXYZW(a,f,x,S,I){return a*=this.itemSize,this.normalized&&(f=Ni(f,this.array),x=Ni(x,this.array),S=Ni(S,this.array),I=Ni(I,this.array)),this.array[a+0]=f,this.array[a+1]=x,this.array[a+2]=S,this.array[a+3]=I,this}onUpload(a){return this.onUploadCallback=a,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const a={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(a.name=this.name),this.usage!==tf&&(a.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(a.updateRange=this.updateRange),a}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class qV extends Vi{constructor(a,f,x){super(new Int8Array(a),f,x)}}class YV extends Vi{constructor(a,f,x){super(new Uint8Array(a),f,x)}}class JV extends Vi{constructor(a,f,x){super(new Uint8ClampedArray(a),f,x)}}class ZV extends Vi{constructor(a,f,x){super(new Int16Array(a),f,x)}}class Fw extends Vi{constructor(a,f,x){super(new Uint16Array(a),f,x)}}class eW extends Vi{constructor(a,f,x){super(new Int32Array(a),f,x)}}class Uw extends Vi{constructor(a,f,x){super(new Uint32Array(a),f,x)}}class tW extends Vi{constructor(a,f,x){super(new Uint16Array(a),f,x),this.isFloat16BufferAttribute=!0}}class Mr extends Vi{constructor(a,f,x){super(new Float32Array(a),f,x)}}class nW extends Vi{constructor(a,f,x){super(new Float64Array(a),f,x)}}let rW=0;const Gs=new wr,zw=new yi,Gh=new dt,As=new Oc,zg=new Oc,Jo=new dt;class ci extends Oa{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:rW++}),this.uuid=Da(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(a){return Array.isArray(a)?this.index=new(cy(a)?Uw:Fw)(a,1):this.index=a,this}getAttribute(a){return this.attributes[a]}setAttribute(a,f){return this.attributes[a]=f,this}deleteAttribute(a){return delete this.attributes[a],this}hasAttribute(a){return this.attributes[a]!==void 0}addGroup(a,f,x=0){this.groups.push({start:a,count:f,materialIndex:x})}clearGroups(){this.groups=[]}setDrawRange(a,f){this.drawRange.start=a,this.drawRange.count=f}applyMatrix4(a){const f=this.attributes.position;f!==void 0&&(f.applyMatrix4(a),f.needsUpdate=!0);const x=this.attributes.normal;if(x!==void 0){const I=new da().getNormalMatrix(a);x.applyNormalMatrix(I),x.needsUpdate=!0}const S=this.attributes.tangent;return S!==void 0&&(S.transformDirection(a),S.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(a){return Gs.makeRotationFromQuaternion(a),this.applyMatrix4(Gs),this}rotateX(a){return Gs.makeRotationX(a),this.applyMatrix4(Gs),this}rotateY(a){return Gs.makeRotationY(a),this.applyMatrix4(Gs),this}rotateZ(a){return Gs.makeRotationZ(a),this.applyMatrix4(Gs),this}translate(a,f,x){return Gs.makeTranslation(a,f,x),this.applyMatrix4(Gs),this}scale(a,f,x){return Gs.makeScale(a,f,x),this.applyMatrix4(Gs),this}lookAt(a){return zw.lookAt(a),zw.updateMatrix(),this.applyMatrix4(zw.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Gh).negate(),this.translate(Gh.x,Gh.y,Gh.z),this}setFromPoints(a){const f=[];for(let x=0,S=a.length;x<S;x++){const I=a[x];f.push(I.x,I.y,I.z||0)}return this.setAttribute("position",new Mr(f,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Oc);const a=this.attributes.position,f=this.morphAttributes.position;if(a&&a.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new dt(-1/0,-1/0,-1/0),new dt(1/0,1/0,1/0));return}if(a!==void 0){if(this.boundingBox.setFromBufferAttribute(a),f)for(let x=0,S=f.length;x<S;x++){const I=f[x];As.setFromBufferAttribute(I),this.morphTargetsRelative?(Jo.addVectors(this.boundingBox.min,As.min),this.boundingBox.expandByPoint(Jo),Jo.addVectors(this.boundingBox.max,As.max),this.boundingBox.expandByPoint(Jo)):(this.boundingBox.expandByPoint(As.min),this.boundingBox.expandByPoint(As.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new gl);const a=this.attributes.position,f=this.morphAttributes.position;if(a&&a.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new dt,1/0);return}if(a){const x=this.boundingSphere.center;if(As.setFromBufferAttribute(a),f)for(let I=0,N=f.length;I<N;I++){const U=f[I];zg.setFromBufferAttribute(U),this.morphTargetsRelative?(Jo.addVectors(As.min,zg.min),As.expandByPoint(Jo),Jo.addVectors(As.max,zg.max),As.expandByPoint(Jo)):(As.expandByPoint(zg.min),As.expandByPoint(zg.max))}As.getCenter(x);let S=0;for(let I=0,N=a.count;I<N;I++)Jo.fromBufferAttribute(a,I),S=Math.max(S,x.distanceToSquared(Jo));if(f)for(let I=0,N=f.length;I<N;I++){const U=f[I],W=this.morphTargetsRelative;for(let K=0,q=U.count;K<q;K++)Jo.fromBufferAttribute(U,K),W&&(Gh.fromBufferAttribute(a,K),Jo.add(Gh)),S=Math.max(S,x.distanceToSquared(Jo))}this.boundingSphere.radius=Math.sqrt(S),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const a=this.index,f=this.attributes;if(a===null||f.position===void 0||f.normal===void 0||f.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const x=a.array,S=f.position.array,I=f.normal.array,N=f.uv.array,U=S.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Vi(new Float32Array(4*U),4));const W=this.getAttribute("tangent").array,K=[],q=[];for(let _t=0;_t<U;_t++)K[_t]=new dt,q[_t]=new dt;const ee=new dt,te=new dt,ie=new dt,de=new In,le=new In,ae=new In,Re=new dt,$e=new dt;function Ne(_t,jt,an){ee.fromArray(S,_t*3),te.fromArray(S,jt*3),ie.fromArray(S,an*3),de.fromArray(N,_t*2),le.fromArray(N,jt*2),ae.fromArray(N,an*2),te.sub(ee),ie.sub(ee),le.sub(de),ae.sub(de);const Wt=1/(le.x*ae.y-ae.x*le.y);isFinite(Wt)&&(Re.copy(te).multiplyScalar(ae.y).addScaledVector(ie,-le.y).multiplyScalar(Wt),$e.copy(ie).multiplyScalar(le.x).addScaledVector(te,-ae.x).multiplyScalar(Wt),K[_t].add(Re),K[jt].add(Re),K[an].add(Re),q[_t].add($e),q[jt].add($e),q[an].add($e))}let ze=this.groups;ze.length===0&&(ze=[{start:0,count:x.length}]);for(let _t=0,jt=ze.length;_t<jt;++_t){const an=ze[_t],Wt=an.start,Ht=an.count;for(let tn=Wt,Rn=Wt+Ht;tn<Rn;tn+=3)Ne(x[tn+0],x[tn+1],x[tn+2])}const Ke=new dt,ht=new dt,Lt=new dt,je=new dt;function gt(_t){Lt.fromArray(I,_t*3),je.copy(Lt);const jt=K[_t];Ke.copy(jt),Ke.sub(Lt.multiplyScalar(Lt.dot(jt))).normalize(),ht.crossVectors(je,jt);const Wt=ht.dot(q[_t])<0?-1:1;W[_t*4]=Ke.x,W[_t*4+1]=Ke.y,W[_t*4+2]=Ke.z,W[_t*4+3]=Wt}for(let _t=0,jt=ze.length;_t<jt;++_t){const an=ze[_t],Wt=an.start,Ht=an.count;for(let tn=Wt,Rn=Wt+Ht;tn<Rn;tn+=3)gt(x[tn+0]),gt(x[tn+1]),gt(x[tn+2])}}computeVertexNormals(){const a=this.index,f=this.getAttribute("position");if(f!==void 0){let x=this.getAttribute("normal");if(x===void 0)x=new Vi(new Float32Array(f.count*3),3),this.setAttribute("normal",x);else for(let te=0,ie=x.count;te<ie;te++)x.setXYZ(te,0,0,0);const S=new dt,I=new dt,N=new dt,U=new dt,W=new dt,K=new dt,q=new dt,ee=new dt;if(a)for(let te=0,ie=a.count;te<ie;te+=3){const de=a.getX(te+0),le=a.getX(te+1),ae=a.getX(te+2);S.fromBufferAttribute(f,de),I.fromBufferAttribute(f,le),N.fromBufferAttribute(f,ae),q.subVectors(N,I),ee.subVectors(S,I),q.cross(ee),U.fromBufferAttribute(x,de),W.fromBufferAttribute(x,le),K.fromBufferAttribute(x,ae),U.add(q),W.add(q),K.add(q),x.setXYZ(de,U.x,U.y,U.z),x.setXYZ(le,W.x,W.y,W.z),x.setXYZ(ae,K.x,K.y,K.z)}else for(let te=0,ie=f.count;te<ie;te+=3)S.fromBufferAttribute(f,te+0),I.fromBufferAttribute(f,te+1),N.fromBufferAttribute(f,te+2),q.subVectors(N,I),ee.subVectors(S,I),q.cross(ee),x.setXYZ(te+0,q.x,q.y,q.z),x.setXYZ(te+1,q.x,q.y,q.z),x.setXYZ(te+2,q.x,q.y,q.z);this.normalizeNormals(),x.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const a=this.attributes.normal;for(let f=0,x=a.count;f<x;f++)Jo.fromBufferAttribute(a,f),Jo.normalize(),a.setXYZ(f,Jo.x,Jo.y,Jo.z)}toNonIndexed(){function a(U,W){const K=U.array,q=U.itemSize,ee=U.normalized,te=new K.constructor(W.length*q);let ie=0,de=0;for(let le=0,ae=W.length;le<ae;le++){U.isInterleavedBufferAttribute?ie=W[le]*U.data.stride+U.offset:ie=W[le]*q;for(let Re=0;Re<q;Re++)te[de++]=K[ie++]}return new Vi(te,q,ee)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const f=new ci,x=this.index.array,S=this.attributes;for(const U in S){const W=S[U],K=a(W,x);f.setAttribute(U,K)}const I=this.morphAttributes;for(const U in I){const W=[],K=I[U];for(let q=0,ee=K.length;q<ee;q++){const te=K[q],ie=a(te,x);W.push(ie)}f.morphAttributes[U]=W}f.morphTargetsRelative=this.morphTargetsRelative;const N=this.groups;for(let U=0,W=N.length;U<W;U++){const K=N[U];f.addGroup(K.start,K.count,K.materialIndex)}return f}toJSON(){const a={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(a.uuid=this.uuid,a.type=this.type,this.name!==""&&(a.name=this.name),Object.keys(this.userData).length>0&&(a.userData=this.userData),this.parameters!==void 0){const W=this.parameters;for(const K in W)W[K]!==void 0&&(a[K]=W[K]);return a}a.data={attributes:{}};const f=this.index;f!==null&&(a.data.index={type:f.array.constructor.name,array:Array.prototype.slice.call(f.array)});const x=this.attributes;for(const W in x){const K=x[W];a.data.attributes[W]=K.toJSON(a.data)}const S={};let I=!1;for(const W in this.morphAttributes){const K=this.morphAttributes[W],q=[];for(let ee=0,te=K.length;ee<te;ee++){const ie=K[ee];q.push(ie.toJSON(a.data))}q.length>0&&(S[W]=q,I=!0)}I&&(a.data.morphAttributes=S,a.data.morphTargetsRelative=this.morphTargetsRelative);const N=this.groups;N.length>0&&(a.data.groups=JSON.parse(JSON.stringify(N)));const U=this.boundingSphere;return U!==null&&(a.data.boundingSphere={center:U.center.toArray(),radius:U.radius}),a}clone(){return new this.constructor().copy(this)}copy(a){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const f={};this.name=a.name;const x=a.index;x!==null&&this.setIndex(x.clone(f));const S=a.attributes;for(const K in S){const q=S[K];this.setAttribute(K,q.clone(f))}const I=a.morphAttributes;for(const K in I){const q=[],ee=I[K];for(let te=0,ie=ee.length;te<ie;te++)q.push(ee[te].clone(f));this.morphAttributes[K]=q}this.morphTargetsRelative=a.morphTargetsRelative;const N=a.groups;for(let K=0,q=N.length;K<q;K++){const ee=N[K];this.addGroup(ee.start,ee.count,ee.materialIndex)}const U=a.boundingBox;U!==null&&(this.boundingBox=U.clone());const W=a.boundingSphere;return W!==null&&(this.boundingSphere=W.clone()),this.drawRange.start=a.drawRange.start,this.drawRange.count=a.drawRange.count,this.userData=a.userData,a.parameters!==void 0&&(this.parameters=Object.assign({},a.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const BP=new wr,jh=new Na,Hw=new gl,Ku=new dt,Xu=new dt,qu=new dt,$w=new dt,Gw=new dt,jw=new dt,Ay=new dt,yy=new dt,by=new dt,xy=new In,Ey=new In,Cy=new In,Vw=new dt,wy=new dt;class pa extends yi{constructor(a=new ci,f=new Qu){super(),this.isMesh=!0,this.type="Mesh",this.geometry=a,this.material=f,this.updateMorphTargets()}copy(a,f){return super.copy(a,f),a.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=a.morphTargetInfluences.slice()),a.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},a.morphTargetDictionary)),this.material=a.material,this.geometry=a.geometry,this}updateMorphTargets(){const f=this.geometry.morphAttributes,x=Object.keys(f);if(x.length>0){const S=f[x[0]];if(S!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let I=0,N=S.length;I<N;I++){const U=S[I].name||String(I);this.morphTargetInfluences.push(0),this.morphTargetDictionary[U]=I}}}}raycast(a,f){const x=this.geometry,S=this.material,I=this.matrixWorld;if(S===void 0||(x.boundingSphere===null&&x.computeBoundingSphere(),Hw.copy(x.boundingSphere),Hw.applyMatrix4(I),a.ray.intersectsSphere(Hw)===!1)||(BP.copy(I).invert(),jh.copy(a.ray).applyMatrix4(BP),x.boundingBox!==null&&jh.intersectsBox(x.boundingBox)===!1))return;let N;const U=x.index,W=x.attributes.position,K=x.morphAttributes.position,q=x.morphTargetsRelative,ee=x.attributes.uv,te=x.attributes.uv2,ie=x.groups,de=x.drawRange;if(U!==null)if(Array.isArray(S))for(let le=0,ae=ie.length;le<ae;le++){const Re=ie[le],$e=S[Re.materialIndex],Ne=Math.max(Re.start,de.start),ze=Math.min(U.count,Math.min(Re.start+Re.count,de.start+de.count));for(let Ke=Ne,ht=ze;Ke<ht;Ke+=3){const Lt=U.getX(Ke),je=U.getX(Ke+1),gt=U.getX(Ke+2);N=Sy(this,$e,a,jh,W,K,q,ee,te,Lt,je,gt),N&&(N.faceIndex=Math.floor(Ke/3),N.face.materialIndex=Re.materialIndex,f.push(N))}}else{const le=Math.max(0,de.start),ae=Math.min(U.count,de.start+de.count);for(let Re=le,$e=ae;Re<$e;Re+=3){const Ne=U.getX(Re),ze=U.getX(Re+1),Ke=U.getX(Re+2);N=Sy(this,S,a,jh,W,K,q,ee,te,Ne,ze,Ke),N&&(N.faceIndex=Math.floor(Re/3),f.push(N))}}else if(W!==void 0)if(Array.isArray(S))for(let le=0,ae=ie.length;le<ae;le++){const Re=ie[le],$e=S[Re.materialIndex],Ne=Math.max(Re.start,de.start),ze=Math.min(W.count,Math.min(Re.start+Re.count,de.start+de.count));for(let Ke=Ne,ht=ze;Ke<ht;Ke+=3){const Lt=Ke,je=Ke+1,gt=Ke+2;N=Sy(this,$e,a,jh,W,K,q,ee,te,Lt,je,gt),N&&(N.faceIndex=Math.floor(Ke/3),N.face.materialIndex=Re.materialIndex,f.push(N))}}else{const le=Math.max(0,de.start),ae=Math.min(W.count,de.start+de.count);for(let Re=le,$e=ae;Re<$e;Re+=3){const Ne=Re,ze=Re+1,Ke=Re+2;N=Sy(this,S,a,jh,W,K,q,ee,te,Ne,ze,Ke),N&&(N.faceIndex=Math.floor(Re/3),f.push(N))}}}}function iW(H,a,f,x,S,I,N,U){let W;if(a.side===_?W=x.intersectTriangle(N,I,S,!0,U):W=x.intersectTriangle(S,I,N,a.side!==L,U),W===null)return null;wy.copy(U),wy.applyMatrix4(H.matrixWorld);const K=f.ray.origin.distanceTo(wy);return K<f.near||K>f.far?null:{distance:K,point:wy.clone(),object:H}}function Sy(H,a,f,x,S,I,N,U,W,K,q,ee){Ku.fromBufferAttribute(S,K),Xu.fromBufferAttribute(S,q),qu.fromBufferAttribute(S,ee);const te=H.morphTargetInfluences;if(I&&te){Ay.set(0,0,0),yy.set(0,0,0),by.set(0,0,0);for(let de=0,le=I.length;de<le;de++){const ae=te[de],Re=I[de];ae!==0&&($w.fromBufferAttribute(Re,K),Gw.fromBufferAttribute(Re,q),jw.fromBufferAttribute(Re,ee),N?(Ay.addScaledVector($w,ae),yy.addScaledVector(Gw,ae),by.addScaledVector(jw,ae)):(Ay.addScaledVector($w.sub(Ku),ae),yy.addScaledVector(Gw.sub(Xu),ae),by.addScaledVector(jw.sub(qu),ae)))}Ku.add(Ay),Xu.add(yy),qu.add(by)}H.isSkinnedMesh&&(H.boneTransform(K,Ku),H.boneTransform(q,Xu),H.boneTransform(ee,qu));const ie=iW(H,a,f,x,Ku,Xu,qu,Vw);if(ie){U&&(xy.fromBufferAttribute(U,K),Ey.fromBufferAttribute(U,q),Cy.fromBufferAttribute(U,ee),ie.uv=$s.getUV(Vw,Ku,Xu,qu,xy,Ey,Cy,new In)),W&&(xy.fromBufferAttribute(W,K),Ey.fromBufferAttribute(W,q),Cy.fromBufferAttribute(W,ee),ie.uv2=$s.getUV(Vw,Ku,Xu,qu,xy,Ey,Cy,new In));const de={a:K,b:q,c:ee,normal:new dt,materialIndex:0};$s.getNormal(Ku,Xu,qu,de.normal),ie.face=de}return ie}class Yu extends ci{constructor(a=1,f=1,x=1,S=1,I=1,N=1){super(),this.type="BoxGeometry",this.parameters={width:a,height:f,depth:x,widthSegments:S,heightSegments:I,depthSegments:N};const U=this;S=Math.floor(S),I=Math.floor(I),N=Math.floor(N);const W=[],K=[],q=[],ee=[];let te=0,ie=0;de("z","y","x",-1,-1,x,f,a,N,I,0),de("z","y","x",1,-1,x,f,-a,N,I,1),de("x","z","y",1,1,a,x,f,S,N,2),de("x","z","y",1,-1,a,x,-f,S,N,3),de("x","y","z",1,-1,a,f,x,S,I,4),de("x","y","z",-1,-1,a,f,-x,S,I,5),this.setIndex(W),this.setAttribute("position",new Mr(K,3)),this.setAttribute("normal",new Mr(q,3)),this.setAttribute("uv",new Mr(ee,2));function de(le,ae,Re,$e,Ne,ze,Ke,ht,Lt,je,gt){const _t=ze/Lt,jt=Ke/je,an=ze/2,Wt=Ke/2,Ht=ht/2,tn=Lt+1,Rn=je+1;let On=0,Tn=0;const Qn=new dt;for(let zn=0;zn<Rn;zn++){const xr=zn*jt-Wt;for(let fr=0;fr<tn;fr++){const hn=fr*_t-an;Qn[le]=hn*$e,Qn[ae]=xr*Ne,Qn[Re]=Ht,K.push(Qn.x,Qn.y,Qn.z),Qn[le]=0,Qn[ae]=0,Qn[Re]=ht>0?1:-1,q.push(Qn.x,Qn.y,Qn.z),ee.push(fr/Lt),ee.push(1-zn/je),On+=1}}for(let zn=0;zn<je;zn++)for(let xr=0;xr<Lt;xr++){const fr=te+xr+tn*zn,hn=te+xr+tn*(zn+1),Dn=te+(xr+1)+tn*(zn+1),cr=te+(xr+1)+tn*zn;W.push(fr,hn,cr),W.push(hn,Dn,cr),Tn+=6}U.addGroup(ie,Tn,gt),ie+=Tn,te+=On}}static fromJSON(a){return new Yu(a.width,a.height,a.depth,a.widthSegments,a.heightSegments,a.depthSegments)}}function Vh(H){const a={};for(const f in H){a[f]={};for(const x in H[f]){const S=H[f][x];S&&(S.isColor||S.isMatrix3||S.isMatrix4||S.isVector2||S.isVector3||S.isVector4||S.isTexture||S.isQuaternion)?a[f][x]=S.clone():Array.isArray(S)?a[f][x]=S.slice():a[f][x]=S}}return a}function ka(H){const a={};for(let f=0;f<H.length;f++){const x=Vh(H[f]);for(const S in x)a[S]=x[S]}return a}function oW(H){const a=[];for(let f=0;f<H.length;f++)a.push(H[f].clone());return a}function OP(H){return H.getRenderTarget()===null&&H.outputEncoding===$n?Br:ni}const DP={clone:Vh,merge:ka};var aW=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,sW=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class oc extends Ca{constructor(a){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=aW,this.fragmentShader=sW,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,a!==void 0&&this.setValues(a)}copy(a){return super.copy(a),this.fragmentShader=a.fragmentShader,this.vertexShader=a.vertexShader,this.uniforms=Vh(a.uniforms),this.uniformsGroups=oW(a.uniformsGroups),this.defines=Object.assign({},a.defines),this.wireframe=a.wireframe,this.wireframeLinewidth=a.wireframeLinewidth,this.fog=a.fog,this.lights=a.lights,this.clipping=a.clipping,this.extensions=Object.assign({},a.extensions),this.glslVersion=a.glslVersion,this}toJSON(a){const f=super.toJSON(a);f.glslVersion=this.glslVersion,f.uniforms={};for(const S in this.uniforms){const N=this.uniforms[S].value;N&&N.isTexture?f.uniforms[S]={type:"t",value:N.toJSON(a).uuid}:N&&N.isColor?f.uniforms[S]={type:"c",value:N.getHex()}:N&&N.isVector2?f.uniforms[S]={type:"v2",value:N.toArray()}:N&&N.isVector3?f.uniforms[S]={type:"v3",value:N.toArray()}:N&&N.isVector4?f.uniforms[S]={type:"v4",value:N.toArray()}:N&&N.isMatrix3?f.uniforms[S]={type:"m3",value:N.toArray()}:N&&N.isMatrix4?f.uniforms[S]={type:"m4",value:N.toArray()}:f.uniforms[S]={value:N}}Object.keys(this.defines).length>0&&(f.defines=this.defines),f.vertexShader=this.vertexShader,f.fragmentShader=this.fragmentShader;const x={};for(const S in this.extensions)this.extensions[S]===!0&&(x[S]=!0);return Object.keys(x).length>0&&(f.extensions=x),f}}class _y extends yi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new wr,this.projectionMatrix=new wr,this.projectionMatrixInverse=new wr}copy(a,f){return super.copy(a,f),this.matrixWorldInverse.copy(a.matrixWorldInverse),this.projectionMatrix.copy(a.projectionMatrix),this.projectionMatrixInverse.copy(a.projectionMatrixInverse),this}getWorldDirection(a){this.updateWorldMatrix(!0,!1);const f=this.matrixWorld.elements;return a.set(-f[8],-f[9],-f[10]).normalize()}updateMatrixWorld(a){super.updateMatrixWorld(a),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(a,f){super.updateWorldMatrix(a,f),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Uo extends _y{constructor(a=50,f=1,x=.1,S=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=a,this.zoom=1,this.near=x,this.far=S,this.focus=10,this.aspect=f,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(a,f){return super.copy(a,f),this.fov=a.fov,this.zoom=a.zoom,this.near=a.near,this.far=a.far,this.focus=a.focus,this.aspect=a.aspect,this.view=a.view===null?null:Object.assign({},a.view),this.filmGauge=a.filmGauge,this.filmOffset=a.filmOffset,this}setFocalLength(a){const f=.5*this.getFilmHeight()/a;this.fov=nf*2*Math.atan(f),this.updateProjectionMatrix()}getFocalLength(){const a=Math.tan(Lc*.5*this.fov);return .5*this.getFilmHeight()/a}getEffectiveFOV(){return nf*2*Math.atan(Math.tan(Lc*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(a,f,x,S,I,N){this.aspect=a/f,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=a,this.view.fullHeight=f,this.view.offsetX=x,this.view.offsetY=S,this.view.width=I,this.view.height=N,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const a=this.near;let f=a*Math.tan(Lc*.5*this.fov)/this.zoom,x=2*f,S=this.aspect*x,I=-.5*S;const N=this.view;if(this.view!==null&&this.view.enabled){const W=N.fullWidth,K=N.fullHeight;I+=N.offsetX*S/W,f-=N.offsetY*x/K,S*=N.width/W,x*=N.height/K}const U=this.filmOffset;U!==0&&(I+=a*U/this.getFilmWidth()),this.projectionMatrix.makePerspective(I,I+S,f,f-x,a,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(a){const f=super.toJSON(a);return f.object.fov=this.fov,f.object.zoom=this.zoom,f.object.near=this.near,f.object.far=this.far,f.object.focus=this.focus,f.object.aspect=this.aspect,this.view!==null&&(f.object.view=Object.assign({},this.view)),f.object.filmGauge=this.filmGauge,f.object.filmOffset=this.filmOffset,f}}const Wh=-90,Qh=1;class NP extends yi{constructor(a,f,x){super(),this.type="CubeCamera",this.renderTarget=x;const S=new Uo(Wh,Qh,a,f);S.layers=this.layers,S.up.set(0,1,0),S.lookAt(1,0,0),this.add(S);const I=new Uo(Wh,Qh,a,f);I.layers=this.layers,I.up.set(0,1,0),I.lookAt(-1,0,0),this.add(I);const N=new Uo(Wh,Qh,a,f);N.layers=this.layers,N.up.set(0,0,-1),N.lookAt(0,1,0),this.add(N);const U=new Uo(Wh,Qh,a,f);U.layers=this.layers,U.up.set(0,0,1),U.lookAt(0,-1,0),this.add(U);const W=new Uo(Wh,Qh,a,f);W.layers=this.layers,W.up.set(0,1,0),W.lookAt(0,0,1),this.add(W);const K=new Uo(Wh,Qh,a,f);K.layers=this.layers,K.up.set(0,1,0),K.lookAt(0,0,-1),this.add(K)}update(a,f){this.parent===null&&this.updateMatrixWorld();const x=this.renderTarget,[S,I,N,U,W,K]=this.children,q=a.getRenderTarget(),ee=a.toneMapping,te=a.xr.enabled;a.toneMapping=Tt,a.xr.enabled=!1;const ie=x.texture.generateMipmaps;x.texture.generateMipmaps=!1,a.setRenderTarget(x,0),a.render(f,S),a.setRenderTarget(x,1),a.render(f,I),a.setRenderTarget(x,2),a.render(f,N),a.setRenderTarget(x,3),a.render(f,U),a.setRenderTarget(x,4),a.render(f,W),x.texture.generateMipmaps=ie,a.setRenderTarget(x,5),a.render(f,K),a.setRenderTarget(q),a.toneMapping=ee,a.xr.enabled=te,x.texture.needsPMREMUpdate=!0}}class Hg extends fo{constructor(a,f,x,S,I,N,U,W,K,q){a=a!==void 0?a:[],f=f!==void 0?f:Te,super(a,f,x,S,I,N,U,W,K,q),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(a){this.image=a}}class kP extends ns{constructor(a=1,f={}){super(a,a,f),this.isWebGLCubeRenderTarget=!0;const x={width:a,height:a,depth:1},S=[x,x,x,x,x,x];this.texture=new Hg(S,f.mapping,f.wrapS,f.wrapT,f.magFilter,f.minFilter,f.format,f.type,f.anisotropy,f.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=f.generateMipmaps!==void 0?f.generateMipmaps:!1,this.texture.minFilter=f.minFilter!==void 0?f.minFilter:ve}fromEquirectangularTexture(a,f){this.texture.type=f.type,this.texture.encoding=f.encoding,this.texture.generateMipmaps=f.generateMipmaps,this.texture.minFilter=f.minFilter,this.texture.magFilter=f.magFilter;const x={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},S=new Yu(5,5,5),I=new oc({name:"CubemapFromEquirect",uniforms:Vh(x.uniforms),vertexShader:x.vertexShader,fragmentShader:x.fragmentShader,side:_,blending:R});I.uniforms.tEquirect.value=f;const N=new pa(S,I),U=f.minFilter;return f.minFilter===Je&&(f.minFilter=ve),new NP(1,10,this).update(a,N),f.minFilter=U,N.geometry.dispose(),N.material.dispose(),this}clear(a,f,x,S){const I=a.getRenderTarget();for(let N=0;N<6;N++)a.setRenderTarget(this,N),a.clear(f,x,S);a.setRenderTarget(I)}}const Ww=new dt,lW=new dt,cW=new da;class Ju{constructor(a=new dt(1,0,0),f=0){this.isPlane=!0,this.normal=a,this.constant=f}set(a,f){return this.normal.copy(a),this.constant=f,this}setComponents(a,f,x,S){return this.normal.set(a,f,x),this.constant=S,this}setFromNormalAndCoplanarPoint(a,f){return this.normal.copy(a),this.constant=-f.dot(this.normal),this}setFromCoplanarPoints(a,f,x){const S=Ww.subVectors(x,f).cross(lW.subVectors(a,f)).normalize();return this.setFromNormalAndCoplanarPoint(S,a),this}copy(a){return this.normal.copy(a.normal),this.constant=a.constant,this}normalize(){const a=1/this.normal.length();return this.normal.multiplyScalar(a),this.constant*=a,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(a){return this.normal.dot(a)+this.constant}distanceToSphere(a){return this.distanceToPoint(a.center)-a.radius}projectPoint(a,f){return f.copy(this.normal).multiplyScalar(-this.distanceToPoint(a)).add(a)}intersectLine(a,f){const x=a.delta(Ww),S=this.normal.dot(x);if(S===0)return this.distanceToPoint(a.start)===0?f.copy(a.start):null;const I=-(a.start.dot(this.normal)+this.constant)/S;return I<0||I>1?null:f.copy(x).multiplyScalar(I).add(a.start)}intersectsLine(a){const f=this.distanceToPoint(a.start),x=this.distanceToPoint(a.end);return f<0&&x>0||x<0&&f>0}intersectsBox(a){return a.intersectsPlane(this)}intersectsSphere(a){return a.intersectsPlane(this)}coplanarPoint(a){return a.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(a,f){const x=f||cW.getNormalMatrix(a),S=this.coplanarPoint(Ww).applyMatrix4(a),I=this.normal.applyMatrix3(x).normalize();return this.constant=-S.dot(I),this}translate(a){return this.constant-=a.dot(this.normal),this}equals(a){return a.normal.equals(this.normal)&&a.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Kh=new gl,My=new dt;class Ty{constructor(a=new Ju,f=new Ju,x=new Ju,S=new Ju,I=new Ju,N=new Ju){this.planes=[a,f,x,S,I,N]}set(a,f,x,S,I,N){const U=this.planes;return U[0].copy(a),U[1].copy(f),U[2].copy(x),U[3].copy(S),U[4].copy(I),U[5].copy(N),this}copy(a){const f=this.planes;for(let x=0;x<6;x++)f[x].copy(a.planes[x]);return this}setFromProjectionMatrix(a){const f=this.planes,x=a.elements,S=x[0],I=x[1],N=x[2],U=x[3],W=x[4],K=x[5],q=x[6],ee=x[7],te=x[8],ie=x[9],de=x[10],le=x[11],ae=x[12],Re=x[13],$e=x[14],Ne=x[15];return f[0].setComponents(U-S,ee-W,le-te,Ne-ae).normalize(),f[1].setComponents(U+S,ee+W,le+te,Ne+ae).normalize(),f[2].setComponents(U+I,ee+K,le+ie,Ne+Re).normalize(),f[3].setComponents(U-I,ee-K,le-ie,Ne-Re).normalize(),f[4].setComponents(U-N,ee-q,le-de,Ne-$e).normalize(),f[5].setComponents(U+N,ee+q,le+de,Ne+$e).normalize(),this}intersectsObject(a){const f=a.geometry;return f.boundingSphere===null&&f.computeBoundingSphere(),Kh.copy(f.boundingSphere).applyMatrix4(a.matrixWorld),this.intersectsSphere(Kh)}intersectsSprite(a){return Kh.center.set(0,0,0),Kh.radius=.7071067811865476,Kh.applyMatrix4(a.matrixWorld),this.intersectsSphere(Kh)}intersectsSphere(a){const f=this.planes,x=a.center,S=-a.radius;for(let I=0;I<6;I++)if(f[I].distanceToPoint(x)<S)return!1;return!0}intersectsBox(a){const f=this.planes;for(let x=0;x<6;x++){const S=f[x];if(My.x=S.normal.x>0?a.max.x:a.min.x,My.y=S.normal.y>0?a.max.y:a.min.y,My.z=S.normal.z>0?a.max.z:a.min.z,S.distanceToPoint(My)<0)return!1}return!0}containsPoint(a){const f=this.planes;for(let x=0;x<6;x++)if(f[x].distanceToPoint(a)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Qw(){let H=null,a=!1,f=null,x=null;function S(I,N){f(I,N),x=H.requestAnimationFrame(S)}return{start:function(){a!==!0&&f!==null&&(x=H.requestAnimationFrame(S),a=!0)},stop:function(){H.cancelAnimationFrame(x),a=!1},setAnimationLoop:function(I){f=I},setContext:function(I){H=I}}}function uW(H,a){const f=a.isWebGL2,x=new WeakMap;function S(K,q){const ee=K.array,te=K.usage,ie=H.createBuffer();H.bindBuffer(q,ie),H.bufferData(q,ee,te),K.onUploadCallback();let de;if(ee instanceof Float32Array)de=5126;else if(ee instanceof Uint16Array)if(K.isFloat16BufferAttribute)if(f)de=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else de=5123;else if(ee instanceof Int16Array)de=5122;else if(ee instanceof Uint32Array)de=5125;else if(ee instanceof Int32Array)de=5124;else if(ee instanceof Int8Array)de=5120;else if(ee instanceof Uint8Array)de=5121;else if(ee instanceof Uint8ClampedArray)de=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+ee);return{buffer:ie,type:de,bytesPerElement:ee.BYTES_PER_ELEMENT,version:K.version}}function I(K,q,ee){const te=q.array,ie=q.updateRange;H.bindBuffer(ee,K),ie.count===-1?H.bufferSubData(ee,0,te):(f?H.bufferSubData(ee,ie.offset*te.BYTES_PER_ELEMENT,te,ie.offset,ie.count):H.bufferSubData(ee,ie.offset*te.BYTES_PER_ELEMENT,te.subarray(ie.offset,ie.offset+ie.count)),ie.count=-1),q.onUploadCallback()}function N(K){return K.isInterleavedBufferAttribute&&(K=K.data),x.get(K)}function U(K){K.isInterleavedBufferAttribute&&(K=K.data);const q=x.get(K);q&&(H.deleteBuffer(q.buffer),x.delete(K))}function W(K,q){if(K.isGLBufferAttribute){const te=x.get(K);(!te||te.version<K.version)&&x.set(K,{buffer:K.buffer,type:K.type,bytesPerElement:K.elementSize,version:K.version});return}K.isInterleavedBufferAttribute&&(K=K.data);const ee=x.get(K);ee===void 0?x.set(K,S(K,q)):ee.version<K.version&&(I(ee.buffer,K,q),ee.version=K.version)}return{get:N,remove:U,update:W}}class Xh extends ci{constructor(a=1,f=1,x=1,S=1){super(),this.type="PlaneGeometry",this.parameters={width:a,height:f,widthSegments:x,heightSegments:S};const I=a/2,N=f/2,U=Math.floor(x),W=Math.floor(S),K=U+1,q=W+1,ee=a/U,te=f/W,ie=[],de=[],le=[],ae=[];for(let Re=0;Re<q;Re++){const $e=Re*te-N;for(let Ne=0;Ne<K;Ne++){const ze=Ne*ee-I;de.push(ze,-$e,0),le.push(0,0,1),ae.push(Ne/U),ae.push(1-Re/W)}}for(let Re=0;Re<W;Re++)for(let $e=0;$e<U;$e++){const Ne=$e+K*Re,ze=$e+K*(Re+1),Ke=$e+1+K*(Re+1),ht=$e+1+K*Re;ie.push(Ne,ze,ht),ie.push(ze,Ke,ht)}this.setIndex(ie),this.setAttribute("position",new Mr(de,3)),this.setAttribute("normal",new Mr(le,3)),this.setAttribute("uv",new Mr(ae,2))}static fromJSON(a){return new Xh(a.width,a.height,a.widthSegments,a.heightSegments)}}var dW=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,fW=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,hW=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,pW=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,mW=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,gW=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,vW="vec3 transformed = vec3( position );",AW=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,yW=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,bW=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,xW=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,EW=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,CW=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,wW=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,SW=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,_W=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,MW=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,TW=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,RW=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,IW=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,LW=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,PW=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,BW=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,OW=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,DW=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,NW=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,kW="gl_FragColor = linearToOutputTexel( gl_FragColor );",FW=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,UW=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,zW=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,HW=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,$W=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,GW=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,jW=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,VW=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,WW=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,QW=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,KW=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,XW=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,qW=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,YW=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,JW=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,ZW=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,eQ=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,tQ=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,nQ=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,rQ=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,iQ=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,oQ=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,aQ=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,sQ=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lQ=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,cQ=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,uQ=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,dQ=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,fQ=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,hQ=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,pQ=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,mQ=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,gQ=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,vQ=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,AQ=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,yQ=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,bQ=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,xQ=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,EQ=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,CQ=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,wQ=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,SQ=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,_Q=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,MQ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,TQ=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,RQ=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,IQ=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,LQ=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,PQ=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,BQ=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,OQ=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,DQ=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,NQ=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,kQ=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,FQ=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,UQ=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,zQ=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,HQ=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,$Q=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,GQ=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,jQ=`#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,VQ=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,WQ=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,QQ=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,KQ=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,XQ=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,qQ=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,YQ=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,JQ=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,ZQ=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,eK=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,tK=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,nK=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,rK=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,iK=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,oK=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,aK=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,sK=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,lK=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const ii={alphamap_fragment:dW,alphamap_pars_fragment:fW,alphatest_fragment:hW,alphatest_pars_fragment:pW,aomap_fragment:mW,aomap_pars_fragment:gW,begin_vertex:vW,beginnormal_vertex:AW,bsdfs:yW,iridescence_fragment:bW,bumpmap_pars_fragment:xW,clipping_planes_fragment:EW,clipping_planes_pars_fragment:CW,clipping_planes_pars_vertex:wW,clipping_planes_vertex:SW,color_fragment:_W,color_pars_fragment:MW,color_pars_vertex:TW,color_vertex:RW,common:IW,cube_uv_reflection_fragment:LW,defaultnormal_vertex:PW,displacementmap_pars_vertex:BW,displacementmap_vertex:OW,emissivemap_fragment:DW,emissivemap_pars_fragment:NW,encodings_fragment:kW,encodings_pars_fragment:FW,envmap_fragment:UW,envmap_common_pars_fragment:zW,envmap_pars_fragment:HW,envmap_pars_vertex:$W,envmap_physical_pars_fragment:eQ,envmap_vertex:GW,fog_vertex:jW,fog_pars_vertex:VW,fog_fragment:WW,fog_pars_fragment:QW,gradientmap_pars_fragment:KW,lightmap_fragment:XW,lightmap_pars_fragment:qW,lights_lambert_fragment:YW,lights_lambert_pars_fragment:JW,lights_pars_begin:ZW,lights_toon_fragment:tQ,lights_toon_pars_fragment:nQ,lights_phong_fragment:rQ,lights_phong_pars_fragment:iQ,lights_physical_fragment:oQ,lights_physical_pars_fragment:aQ,lights_fragment_begin:sQ,lights_fragment_maps:lQ,lights_fragment_end:cQ,logdepthbuf_fragment:uQ,logdepthbuf_pars_fragment:dQ,logdepthbuf_pars_vertex:fQ,logdepthbuf_vertex:hQ,map_fragment:pQ,map_pars_fragment:mQ,map_particle_fragment:gQ,map_particle_pars_fragment:vQ,metalnessmap_fragment:AQ,metalnessmap_pars_fragment:yQ,morphcolor_vertex:bQ,morphnormal_vertex:xQ,morphtarget_pars_vertex:EQ,morphtarget_vertex:CQ,normal_fragment_begin:wQ,normal_fragment_maps:SQ,normal_pars_fragment:_Q,normal_pars_vertex:MQ,normal_vertex:TQ,normalmap_pars_fragment:RQ,clearcoat_normal_fragment_begin:IQ,clearcoat_normal_fragment_maps:LQ,clearcoat_pars_fragment:PQ,iridescence_pars_fragment:BQ,output_fragment:OQ,packing:DQ,premultiplied_alpha_fragment:NQ,project_vertex:kQ,dithering_fragment:FQ,dithering_pars_fragment:UQ,roughnessmap_fragment:zQ,roughnessmap_pars_fragment:HQ,shadowmap_pars_fragment:$Q,shadowmap_pars_vertex:GQ,shadowmap_vertex:jQ,shadowmask_pars_fragment:VQ,skinbase_vertex:WQ,skinning_pars_vertex:QQ,skinning_vertex:KQ,skinnormal_vertex:XQ,specularmap_fragment:qQ,specularmap_pars_fragment:YQ,tonemapping_fragment:JQ,tonemapping_pars_fragment:ZQ,transmission_fragment:eK,transmission_pars_fragment:tK,uv_pars_fragment:nK,uv_pars_vertex:rK,uv_vertex:iK,uv2_pars_fragment:oK,uv2_pars_vertex:aK,uv2_vertex:sK,worldpos_vertex:lK,background_vert:`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,background_frag:`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,backgroundCube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,backgroundCube_frag:`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,cube_frag:`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,depth_vert:`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,depth_frag:`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,distanceRGBA_vert:`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,distanceRGBA_frag:`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,equirect_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,equirect_frag:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,linedashed_vert:`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,linedashed_frag:`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,meshbasic_vert:`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshbasic_frag:`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert:`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag:`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshmatcap_vert:`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshmatcap_frag:`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshnormal_vert:`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,meshnormal_frag:`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,meshphong_vert:`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphong_frag:`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert:`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,meshphysical_frag:`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshtoon_vert:`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshtoon_frag:`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,points_vert:`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,points_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,shadow_vert:`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,shadow_frag:`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,sprite_vert:`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,sprite_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`},ir={common:{diffuse:{value:new br(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new da},uv2Transform:{value:new da},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new In(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new br(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new br(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new da}},sprite:{diffuse:{value:new br(16777215)},opacity:{value:1},center:{value:new In(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new da}}},bl={basic:{uniforms:ka([ir.common,ir.specularmap,ir.envmap,ir.aomap,ir.lightmap,ir.fog]),vertexShader:ii.meshbasic_vert,fragmentShader:ii.meshbasic_frag},lambert:{uniforms:ka([ir.common,ir.specularmap,ir.envmap,ir.aomap,ir.lightmap,ir.emissivemap,ir.bumpmap,ir.normalmap,ir.displacementmap,ir.fog,ir.lights,{emissive:{value:new br(0)}}]),vertexShader:ii.meshlambert_vert,fragmentShader:ii.meshlambert_frag},phong:{uniforms:ka([ir.common,ir.specularmap,ir.envmap,ir.aomap,ir.lightmap,ir.emissivemap,ir.bumpmap,ir.normalmap,ir.displacementmap,ir.fog,ir.lights,{emissive:{value:new br(0)},specular:{value:new br(1118481)},shininess:{value:30}}]),vertexShader:ii.meshphong_vert,fragmentShader:ii.meshphong_frag},standard:{uniforms:ka([ir.common,ir.envmap,ir.aomap,ir.lightmap,ir.emissivemap,ir.bumpmap,ir.normalmap,ir.displacementmap,ir.roughnessmap,ir.metalnessmap,ir.fog,ir.lights,{emissive:{value:new br(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ii.meshphysical_vert,fragmentShader:ii.meshphysical_frag},toon:{uniforms:ka([ir.common,ir.aomap,ir.lightmap,ir.emissivemap,ir.bumpmap,ir.normalmap,ir.displacementmap,ir.gradientmap,ir.fog,ir.lights,{emissive:{value:new br(0)}}]),vertexShader:ii.meshtoon_vert,fragmentShader:ii.meshtoon_frag},matcap:{uniforms:ka([ir.common,ir.bumpmap,ir.normalmap,ir.displacementmap,ir.fog,{matcap:{value:null}}]),vertexShader:ii.meshmatcap_vert,fragmentShader:ii.meshmatcap_frag},points:{uniforms:ka([ir.points,ir.fog]),vertexShader:ii.points_vert,fragmentShader:ii.points_frag},dashed:{uniforms:ka([ir.common,ir.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ii.linedashed_vert,fragmentShader:ii.linedashed_frag},depth:{uniforms:ka([ir.common,ir.displacementmap]),vertexShader:ii.depth_vert,fragmentShader:ii.depth_frag},normal:{uniforms:ka([ir.common,ir.bumpmap,ir.normalmap,ir.displacementmap,{opacity:{value:1}}]),vertexShader:ii.meshnormal_vert,fragmentShader:ii.meshnormal_frag},sprite:{uniforms:ka([ir.sprite,ir.fog]),vertexShader:ii.sprite_vert,fragmentShader:ii.sprite_frag},background:{uniforms:{uvTransform:{value:new da},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ii.background_vert,fragmentShader:ii.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:ii.backgroundCube_vert,fragmentShader:ii.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ii.cube_vert,fragmentShader:ii.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ii.equirect_vert,fragmentShader:ii.equirect_frag},distanceRGBA:{uniforms:ka([ir.common,ir.displacementmap,{referencePosition:{value:new dt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ii.distanceRGBA_vert,fragmentShader:ii.distanceRGBA_frag},shadow:{uniforms:ka([ir.lights,ir.fog,{color:{value:new br(0)},opacity:{value:1}}]),vertexShader:ii.shadow_vert,fragmentShader:ii.shadow_frag}};bl.physical={uniforms:ka([bl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new In(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new br(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new In},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new br(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new br(1,1,1)},specularColorMap:{value:null}}]),vertexShader:ii.meshphysical_vert,fragmentShader:ii.meshphysical_frag};const Ry={r:0,b:0,g:0};function cK(H,a,f,x,S,I,N){const U=new br(0);let W=I===!0?0:1,K,q,ee=null,te=0,ie=null;function de(ae,Re){let $e=!1,Ne=Re.isScene===!0?Re.background:null;Ne&&Ne.isTexture&&(Ne=(Re.backgroundBlurriness>0?f:a).get(Ne));const ze=H.xr,Ke=ze.getSession&&ze.getSession();Ke&&Ke.environmentBlendMode==="additive"&&(Ne=null),Ne===null?le(U,W):Ne&&Ne.isColor&&(le(Ne,1),$e=!0),(H.autoClear||$e)&&H.clear(H.autoClearColor,H.autoClearDepth,H.autoClearStencil),Ne&&(Ne.isCubeTexture||Ne.mapping===Ge)?(q===void 0&&(q=new pa(new Yu(1,1,1),new oc({name:"BackgroundCubeMaterial",uniforms:Vh(bl.backgroundCube.uniforms),vertexShader:bl.backgroundCube.vertexShader,fragmentShader:bl.backgroundCube.fragmentShader,side:_,depthTest:!1,depthWrite:!1,fog:!1})),q.geometry.deleteAttribute("normal"),q.geometry.deleteAttribute("uv"),q.onBeforeRender=function(ht,Lt,je){this.matrixWorld.copyPosition(je.matrixWorld)},Object.defineProperty(q.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),S.update(q)),q.material.uniforms.envMap.value=Ne,q.material.uniforms.flipEnvMap.value=Ne.isCubeTexture&&Ne.isRenderTargetTexture===!1?-1:1,q.material.uniforms.backgroundBlurriness.value=Re.backgroundBlurriness,q.material.uniforms.backgroundIntensity.value=Re.backgroundIntensity,(ee!==Ne||te!==Ne.version||ie!==H.toneMapping)&&(q.material.needsUpdate=!0,ee=Ne,te=Ne.version,ie=H.toneMapping),q.layers.enableAll(),ae.unshift(q,q.geometry,q.material,0,0,null)):Ne&&Ne.isTexture&&(K===void 0&&(K=new pa(new Xh(2,2),new oc({name:"BackgroundMaterial",uniforms:Vh(bl.background.uniforms),vertexShader:bl.background.vertexShader,fragmentShader:bl.background.fragmentShader,side:C,depthTest:!1,depthWrite:!1,fog:!1})),K.geometry.deleteAttribute("normal"),Object.defineProperty(K.material,"map",{get:function(){return this.uniforms.t2D.value}}),S.update(K)),K.material.uniforms.t2D.value=Ne,K.material.uniforms.backgroundIntensity.value=Re.backgroundIntensity,Ne.matrixAutoUpdate===!0&&Ne.updateMatrix(),K.material.uniforms.uvTransform.value.copy(Ne.matrix),(ee!==Ne||te!==Ne.version||ie!==H.toneMapping)&&(K.material.needsUpdate=!0,ee=Ne,te=Ne.version,ie=H.toneMapping),K.layers.enableAll(),ae.unshift(K,K.geometry,K.material,0,0,null))}function le(ae,Re){ae.getRGB(Ry,OP(H)),x.buffers.color.setClear(Ry.r,Ry.g,Ry.b,Re,N)}return{getClearColor:function(){return U},setClearColor:function(ae,Re=1){U.set(ae),W=Re,le(U,W)},getClearAlpha:function(){return W},setClearAlpha:function(ae){W=ae,le(U,W)},render:de}}function uK(H,a,f,x){const S=H.getParameter(34921),I=x.isWebGL2?null:a.get("OES_vertex_array_object"),N=x.isWebGL2||I!==null,U={},W=ae(null);let K=W,q=!1;function ee(Ht,tn,Rn,On,Tn){let Qn=!1;if(N){const zn=le(On,Rn,tn);K!==zn&&(K=zn,ie(K.object)),Qn=Re(Ht,On,Rn,Tn),Qn&&$e(Ht,On,Rn,Tn)}else{const zn=tn.wireframe===!0;(K.geometry!==On.id||K.program!==Rn.id||K.wireframe!==zn)&&(K.geometry=On.id,K.program=Rn.id,K.wireframe=zn,Qn=!0)}Tn!==null&&f.update(Tn,34963),(Qn||q)&&(q=!1,je(Ht,tn,Rn,On),Tn!==null&&H.bindBuffer(34963,f.get(Tn).buffer))}function te(){return x.isWebGL2?H.createVertexArray():I.createVertexArrayOES()}function ie(Ht){return x.isWebGL2?H.bindVertexArray(Ht):I.bindVertexArrayOES(Ht)}function de(Ht){return x.isWebGL2?H.deleteVertexArray(Ht):I.deleteVertexArrayOES(Ht)}function le(Ht,tn,Rn){const On=Rn.wireframe===!0;let Tn=U[Ht.id];Tn===void 0&&(Tn={},U[Ht.id]=Tn);let Qn=Tn[tn.id];Qn===void 0&&(Qn={},Tn[tn.id]=Qn);let zn=Qn[On];return zn===void 0&&(zn=ae(te()),Qn[On]=zn),zn}function ae(Ht){const tn=[],Rn=[],On=[];for(let Tn=0;Tn<S;Tn++)tn[Tn]=0,Rn[Tn]=0,On[Tn]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:tn,enabledAttributes:Rn,attributeDivisors:On,object:Ht,attributes:{},index:null}}function Re(Ht,tn,Rn,On){const Tn=K.attributes,Qn=tn.attributes;let zn=0;const xr=Rn.getAttributes();for(const fr in xr)if(xr[fr].location>=0){const Dn=Tn[fr];let cr=Qn[fr];if(cr===void 0&&(fr==="instanceMatrix"&&Ht.instanceMatrix&&(cr=Ht.instanceMatrix),fr==="instanceColor"&&Ht.instanceColor&&(cr=Ht.instanceColor)),Dn===void 0||Dn.attribute!==cr||cr&&Dn.data!==cr.data)return!0;zn++}return K.attributesNum!==zn||K.index!==On}function $e(Ht,tn,Rn,On){const Tn={},Qn=tn.attributes;let zn=0;const xr=Rn.getAttributes();for(const fr in xr)if(xr[fr].location>=0){let Dn=Qn[fr];Dn===void 0&&(fr==="instanceMatrix"&&Ht.instanceMatrix&&(Dn=Ht.instanceMatrix),fr==="instanceColor"&&Ht.instanceColor&&(Dn=Ht.instanceColor));const cr={};cr.attribute=Dn,Dn&&Dn.data&&(cr.data=Dn.data),Tn[fr]=cr,zn++}K.attributes=Tn,K.attributesNum=zn,K.index=On}function Ne(){const Ht=K.newAttributes;for(let tn=0,Rn=Ht.length;tn<Rn;tn++)Ht[tn]=0}function ze(Ht){Ke(Ht,0)}function Ke(Ht,tn){const Rn=K.newAttributes,On=K.enabledAttributes,Tn=K.attributeDivisors;Rn[Ht]=1,On[Ht]===0&&(H.enableVertexAttribArray(Ht),On[Ht]=1),Tn[Ht]!==tn&&((x.isWebGL2?H:a.get("ANGLE_instanced_arrays"))[x.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Ht,tn),Tn[Ht]=tn)}function ht(){const Ht=K.newAttributes,tn=K.enabledAttributes;for(let Rn=0,On=tn.length;Rn<On;Rn++)tn[Rn]!==Ht[Rn]&&(H.disableVertexAttribArray(Rn),tn[Rn]=0)}function Lt(Ht,tn,Rn,On,Tn,Qn){x.isWebGL2===!0&&(Rn===5124||Rn===5125)?H.vertexAttribIPointer(Ht,tn,Rn,Tn,Qn):H.vertexAttribPointer(Ht,tn,Rn,On,Tn,Qn)}function je(Ht,tn,Rn,On){if(x.isWebGL2===!1&&(Ht.isInstancedMesh||On.isInstancedBufferGeometry)&&a.get("ANGLE_instanced_arrays")===null)return;Ne();const Tn=On.attributes,Qn=Rn.getAttributes(),zn=tn.defaultAttributeValues;for(const xr in Qn){const fr=Qn[xr];if(fr.location>=0){let hn=Tn[xr];if(hn===void 0&&(xr==="instanceMatrix"&&Ht.instanceMatrix&&(hn=Ht.instanceMatrix),xr==="instanceColor"&&Ht.instanceColor&&(hn=Ht.instanceColor)),hn!==void 0){const Dn=hn.normalized,cr=hn.itemSize,rn=f.get(hn);if(rn===void 0)continue;const Sr=rn.buffer,ur=rn.type,kr=rn.bytesPerElement;if(hn.isInterleavedBufferAttribute){const Jn=hn.data,oi=Jn.stride,Ln=hn.offset;if(Jn.isInstancedInterleavedBuffer){for(let _n=0;_n<fr.locationSize;_n++)Ke(fr.location+_n,Jn.meshPerAttribute);Ht.isInstancedMesh!==!0&&On._maxInstanceCount===void 0&&(On._maxInstanceCount=Jn.meshPerAttribute*Jn.count)}else for(let _n=0;_n<fr.locationSize;_n++)ze(fr.location+_n);H.bindBuffer(34962,Sr);for(let _n=0;_n<fr.locationSize;_n++)Lt(fr.location+_n,cr/fr.locationSize,ur,Dn,oi*kr,(Ln+cr/fr.locationSize*_n)*kr)}else{if(hn.isInstancedBufferAttribute){for(let Jn=0;Jn<fr.locationSize;Jn++)Ke(fr.location+Jn,hn.meshPerAttribute);Ht.isInstancedMesh!==!0&&On._maxInstanceCount===void 0&&(On._maxInstanceCount=hn.meshPerAttribute*hn.count)}else for(let Jn=0;Jn<fr.locationSize;Jn++)ze(fr.location+Jn);H.bindBuffer(34962,Sr);for(let Jn=0;Jn<fr.locationSize;Jn++)Lt(fr.location+Jn,cr/fr.locationSize,ur,Dn,cr*kr,cr/fr.locationSize*Jn*kr)}}else if(zn!==void 0){const Dn=zn[xr];if(Dn!==void 0)switch(Dn.length){case 2:H.vertexAttrib2fv(fr.location,Dn);break;case 3:H.vertexAttrib3fv(fr.location,Dn);break;case 4:H.vertexAttrib4fv(fr.location,Dn);break;default:H.vertexAttrib1fv(fr.location,Dn)}}}}ht()}function gt(){an();for(const Ht in U){const tn=U[Ht];for(const Rn in tn){const On=tn[Rn];for(const Tn in On)de(On[Tn].object),delete On[Tn];delete tn[Rn]}delete U[Ht]}}function _t(Ht){if(U[Ht.id]===void 0)return;const tn=U[Ht.id];for(const Rn in tn){const On=tn[Rn];for(const Tn in On)de(On[Tn].object),delete On[Tn];delete tn[Rn]}delete U[Ht.id]}function jt(Ht){for(const tn in U){const Rn=U[tn];if(Rn[Ht.id]===void 0)continue;const On=Rn[Ht.id];for(const Tn in On)de(On[Tn].object),delete On[Tn];delete Rn[Ht.id]}}function an(){Wt(),q=!0,K!==W&&(K=W,ie(K.object))}function Wt(){W.geometry=null,W.program=null,W.wireframe=!1}return{setup:ee,reset:an,resetDefaultState:Wt,dispose:gt,releaseStatesOfGeometry:_t,releaseStatesOfProgram:jt,initAttributes:Ne,enableAttribute:ze,disableUnusedAttributes:ht}}function dK(H,a,f,x){const S=x.isWebGL2;let I;function N(K){I=K}function U(K,q){H.drawArrays(I,K,q),f.update(q,I,1)}function W(K,q,ee){if(ee===0)return;let te,ie;if(S)te=H,ie="drawArraysInstanced";else if(te=a.get("ANGLE_instanced_arrays"),ie="drawArraysInstancedANGLE",te===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}te[ie](I,K,q,ee),f.update(q,I,ee)}this.setMode=N,this.render=U,this.renderInstances=W}function fK(H,a,f){let x;function S(){if(x!==void 0)return x;if(a.has("EXT_texture_filter_anisotropic")===!0){const Lt=a.get("EXT_texture_filter_anisotropic");x=H.getParameter(Lt.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else x=0;return x}function I(Lt){if(Lt==="highp"){if(H.getShaderPrecisionFormat(35633,36338).precision>0&&H.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";Lt="mediump"}return Lt==="mediump"&&H.getShaderPrecisionFormat(35633,36337).precision>0&&H.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const N=typeof WebGL2RenderingContext<"u"&&H instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&H instanceof WebGL2ComputeRenderingContext;let U=f.precision!==void 0?f.precision:"highp";const W=I(U);W!==U&&(console.warn("THREE.WebGLRenderer:",U,"not supported, using",W,"instead."),U=W);const K=N||a.has("WEBGL_draw_buffers"),q=f.logarithmicDepthBuffer===!0,ee=H.getParameter(34930),te=H.getParameter(35660),ie=H.getParameter(3379),de=H.getParameter(34076),le=H.getParameter(34921),ae=H.getParameter(36347),Re=H.getParameter(36348),$e=H.getParameter(36349),Ne=te>0,ze=N||a.has("OES_texture_float"),Ke=Ne&&ze,ht=N?H.getParameter(36183):0;return{isWebGL2:N,drawBuffers:K,getMaxAnisotropy:S,getMaxPrecision:I,precision:U,logarithmicDepthBuffer:q,maxTextures:ee,maxVertexTextures:te,maxTextureSize:ie,maxCubemapSize:de,maxAttributes:le,maxVertexUniforms:ae,maxVaryings:Re,maxFragmentUniforms:$e,vertexTextures:Ne,floatFragmentTextures:ze,floatVertexTextures:Ke,maxSamples:ht}}function hK(H){const a=this;let f=null,x=0,S=!1,I=!1;const N=new Ju,U=new da,W={value:null,needsUpdate:!1};this.uniform=W,this.numPlanes=0,this.numIntersection=0,this.init=function(ee,te,ie){const de=ee.length!==0||te||x!==0||S;return S=te,f=q(ee,ie,0),x=ee.length,de},this.beginShadows=function(){I=!0,q(null)},this.endShadows=function(){I=!1,K()},this.setState=function(ee,te,ie){const de=ee.clippingPlanes,le=ee.clipIntersection,ae=ee.clipShadows,Re=H.get(ee);if(!S||de===null||de.length===0||I&&!ae)I?q(null):K();else{const $e=I?0:x,Ne=$e*4;let ze=Re.clippingState||null;W.value=ze,ze=q(de,te,Ne,ie);for(let Ke=0;Ke!==Ne;++Ke)ze[Ke]=f[Ke];Re.clippingState=ze,this.numIntersection=le?this.numPlanes:0,this.numPlanes+=$e}};function K(){W.value!==f&&(W.value=f,W.needsUpdate=x>0),a.numPlanes=x,a.numIntersection=0}function q(ee,te,ie,de){const le=ee!==null?ee.length:0;let ae=null;if(le!==0){if(ae=W.value,de!==!0||ae===null){const Re=ie+le*4,$e=te.matrixWorldInverse;U.getNormalMatrix($e),(ae===null||ae.length<Re)&&(ae=new Float32Array(Re));for(let Ne=0,ze=ie;Ne!==le;++Ne,ze+=4)N.copy(ee[Ne]).applyMatrix4($e,U),N.normal.toArray(ae,ze),ae[ze+3]=N.constant}W.value=ae,W.needsUpdate=!0}return a.numPlanes=le,a.numIntersection=0,ae}}function pK(H){let a=new WeakMap;function f(N,U){return U===Se?N.mapping=Te:U===we&&(N.mapping=Ce),N}function x(N){if(N&&N.isTexture&&N.isRenderTargetTexture===!1){const U=N.mapping;if(U===Se||U===we)if(a.has(N)){const W=a.get(N).texture;return f(W,N.mapping)}else{const W=N.image;if(W&&W.height>0){const K=new kP(W.height/2);return K.fromEquirectangularTexture(H,N),a.set(N,K),N.addEventListener("dispose",S),f(K.texture,N.mapping)}else return null}}return N}function S(N){const U=N.target;U.removeEventListener("dispose",S);const W=a.get(U);W!==void 0&&(a.delete(U),W.dispose())}function I(){a=new WeakMap}return{get:x,dispose:I}}class Iy extends _y{constructor(a=-1,f=1,x=1,S=-1,I=.1,N=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=a,this.right=f,this.top=x,this.bottom=S,this.near=I,this.far=N,this.updateProjectionMatrix()}copy(a,f){return super.copy(a,f),this.left=a.left,this.right=a.right,this.top=a.top,this.bottom=a.bottom,this.near=a.near,this.far=a.far,this.zoom=a.zoom,this.view=a.view===null?null:Object.assign({},a.view),this}setViewOffset(a,f,x,S,I,N){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=a,this.view.fullHeight=f,this.view.offsetX=x,this.view.offsetY=S,this.view.width=I,this.view.height=N,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const a=(this.right-this.left)/(2*this.zoom),f=(this.top-this.bottom)/(2*this.zoom),x=(this.right+this.left)/2,S=(this.top+this.bottom)/2;let I=x-a,N=x+a,U=S+f,W=S-f;if(this.view!==null&&this.view.enabled){const K=(this.right-this.left)/this.view.fullWidth/this.zoom,q=(this.top-this.bottom)/this.view.fullHeight/this.zoom;I+=K*this.view.offsetX,N=I+K*this.view.width,U-=q*this.view.offsetY,W=U-q*this.view.height}this.projectionMatrix.makeOrthographic(I,N,U,W,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(a){const f=super.toJSON(a);return f.object.zoom=this.zoom,f.object.left=this.left,f.object.right=this.right,f.object.top=this.top,f.object.bottom=this.bottom,f.object.near=this.near,f.object.far=this.far,this.view!==null&&(f.object.view=Object.assign({},this.view)),f}}const qh=4,FP=[.125,.215,.35,.446,.526,.582],uf=20,Kw=new Iy,UP=new br;let Xw=null;const df=(1+Math.sqrt(5))/2,Yh=1/df,zP=[new dt(1,1,1),new dt(-1,1,1),new dt(1,1,-1),new dt(-1,1,-1),new dt(0,df,Yh),new dt(0,df,-Yh),new dt(Yh,0,df),new dt(-Yh,0,df),new dt(df,Yh,0),new dt(-df,Yh,0)];class qw{constructor(a){this._renderer=a,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(a,f=0,x=.1,S=100){Xw=this._renderer.getRenderTarget(),this._setSize(256);const I=this._allocateTargets();return I.depthBuffer=!0,this._sceneToCubeUV(a,x,S,I),f>0&&this._blur(I,0,0,f),this._applyPMREM(I),this._cleanup(I),I}fromEquirectangular(a,f=null){return this._fromTexture(a,f)}fromCubemap(a,f=null){return this._fromTexture(a,f)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=GP(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=$P(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(a){this._lodMax=Math.floor(Math.log2(a)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let a=0;a<this._lodPlanes.length;a++)this._lodPlanes[a].dispose()}_cleanup(a){this._renderer.setRenderTarget(Xw),a.scissorTest=!1,Ly(a,0,0,a.width,a.height)}_fromTexture(a,f){a.mapping===Te||a.mapping===Ce?this._setSize(a.image.length===0?16:a.image[0].width||a.image[0].image.width):this._setSize(a.image.width/4),Xw=this._renderer.getRenderTarget();const x=f||this._allocateTargets();return this._textureToCubeUV(a,x),this._applyPMREM(x),this._cleanup(x),x}_allocateTargets(){const a=3*Math.max(this._cubeSize,112),f=4*this._cubeSize,x={magFilter:ve,minFilter:ve,generateMipmaps:!1,type:pt,format:Pn,encoding:pr,depthBuffer:!1},S=HP(a,f,x);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==a){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=HP(a,f,x);const{_lodMax:I}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=mK(I)),this._blurMaterial=gK(I,a,f)}return S}_compileMaterial(a){const f=new pa(this._lodPlanes[0],a);this._renderer.compile(f,Kw)}_sceneToCubeUV(a,f,x,S){const U=new Uo(90,1,f,x),W=[1,-1,1,1,1,1],K=[1,1,1,-1,-1,-1],q=this._renderer,ee=q.autoClear,te=q.toneMapping;q.getClearColor(UP),q.toneMapping=Tt,q.autoClear=!1;const ie=new Qu({name:"PMREM.Background",side:_,depthWrite:!1,depthTest:!1}),de=new pa(new Yu,ie);let le=!1;const ae=a.background;ae?ae.isColor&&(ie.color.copy(ae),a.background=null,le=!0):(ie.color.copy(UP),le=!0);for(let Re=0;Re<6;Re++){const $e=Re%3;$e===0?(U.up.set(0,W[Re],0),U.lookAt(K[Re],0,0)):$e===1?(U.up.set(0,0,W[Re]),U.lookAt(0,K[Re],0)):(U.up.set(0,W[Re],0),U.lookAt(0,0,K[Re]));const Ne=this._cubeSize;Ly(S,$e*Ne,Re>2?Ne:0,Ne,Ne),q.setRenderTarget(S),le&&q.render(de,U),q.render(a,U)}de.geometry.dispose(),de.material.dispose(),q.toneMapping=te,q.autoClear=ee,a.background=ae}_textureToCubeUV(a,f){const x=this._renderer,S=a.mapping===Te||a.mapping===Ce;S?(this._cubemapMaterial===null&&(this._cubemapMaterial=GP()),this._cubemapMaterial.uniforms.flipEnvMap.value=a.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=$P());const I=S?this._cubemapMaterial:this._equirectMaterial,N=new pa(this._lodPlanes[0],I),U=I.uniforms;U.envMap.value=a;const W=this._cubeSize;Ly(f,0,0,3*W,2*W),x.setRenderTarget(f),x.render(N,Kw)}_applyPMREM(a){const f=this._renderer,x=f.autoClear;f.autoClear=!1;for(let S=1;S<this._lodPlanes.length;S++){const I=Math.sqrt(this._sigmas[S]*this._sigmas[S]-this._sigmas[S-1]*this._sigmas[S-1]),N=zP[(S-1)%zP.length];this._blur(a,S-1,S,I,N)}f.autoClear=x}_blur(a,f,x,S,I){const N=this._pingPongRenderTarget;this._halfBlur(a,N,f,x,S,"latitudinal",I),this._halfBlur(N,a,x,x,S,"longitudinal",I)}_halfBlur(a,f,x,S,I,N,U){const W=this._renderer,K=this._blurMaterial;N!=="latitudinal"&&N!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const q=3,ee=new pa(this._lodPlanes[S],K),te=K.uniforms,ie=this._sizeLods[x]-1,de=isFinite(I)?Math.PI/(2*ie):2*Math.PI/(2*uf-1),le=I/de,ae=isFinite(I)?1+Math.floor(q*le):uf;ae>uf&&console.warn(`sigmaRadians, ${I}, is too large and will clip, as it requested ${ae} samples when the maximum is set to ${uf}`);const Re=[];let $e=0;for(let Lt=0;Lt<uf;++Lt){const je=Lt/le,gt=Math.exp(-je*je/2);Re.push(gt),Lt===0?$e+=gt:Lt<ae&&($e+=2*gt)}for(let Lt=0;Lt<Re.length;Lt++)Re[Lt]=Re[Lt]/$e;te.envMap.value=a.texture,te.samples.value=ae,te.weights.value=Re,te.latitudinal.value=N==="latitudinal",U&&(te.poleAxis.value=U);const{_lodMax:Ne}=this;te.dTheta.value=de,te.mipInt.value=Ne-x;const ze=this._sizeLods[S],Ke=3*ze*(S>Ne-qh?S-Ne+qh:0),ht=4*(this._cubeSize-ze);Ly(f,Ke,ht,3*ze,2*ze),W.setRenderTarget(f),W.render(ee,Kw)}}function mK(H){const a=[],f=[],x=[];let S=H;const I=H-qh+1+FP.length;for(let N=0;N<I;N++){const U=Math.pow(2,S);f.push(U);let W=1/U;N>H-qh?W=FP[N-H+qh-1]:N===0&&(W=0),x.push(W);const K=1/(U-2),q=-K,ee=1+K,te=[q,q,ee,q,ee,ee,q,q,ee,ee,q,ee],ie=6,de=6,le=3,ae=2,Re=1,$e=new Float32Array(le*de*ie),Ne=new Float32Array(ae*de*ie),ze=new Float32Array(Re*de*ie);for(let ht=0;ht<ie;ht++){const Lt=ht%3*2/3-1,je=ht>2?0:-1,gt=[Lt,je,0,Lt+2/3,je,0,Lt+2/3,je+1,0,Lt,je,0,Lt+2/3,je+1,0,Lt,je+1,0];$e.set(gt,le*de*ht),Ne.set(te,ae*de*ht);const _t=[ht,ht,ht,ht,ht,ht];ze.set(_t,Re*de*ht)}const Ke=new ci;Ke.setAttribute("position",new Vi($e,le)),Ke.setAttribute("uv",new Vi(Ne,ae)),Ke.setAttribute("faceIndex",new Vi(ze,Re)),a.push(Ke),S>qh&&S--}return{lodPlanes:a,sizeLods:f,sigmas:x}}function HP(H,a,f){const x=new ns(H,a,f);return x.texture.mapping=Ge,x.texture.name="PMREM.cubeUv",x.scissorTest=!0,x}function Ly(H,a,f,x,S){H.viewport.set(a,f,x,S),H.scissor.set(a,f,x,S)}function gK(H,a,f){const x=new Float32Array(uf),S=new dt(0,1,0);return new oc({name:"SphericalGaussianBlur",defines:{n:uf,CUBEUV_TEXEL_WIDTH:1/a,CUBEUV_TEXEL_HEIGHT:1/f,CUBEUV_MAX_MIP:`${H}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:x},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:S}},vertexShader:Yw(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:R,depthTest:!1,depthWrite:!1})}function $P(){return new oc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Yw(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:R,depthTest:!1,depthWrite:!1})}function GP(){return new oc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Yw(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:R,depthTest:!1,depthWrite:!1})}function Yw(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function vK(H){let a=new WeakMap,f=null;function x(U){if(U&&U.isTexture){const W=U.mapping,K=W===Se||W===we,q=W===Te||W===Ce;if(K||q)if(U.isRenderTargetTexture&&U.needsPMREMUpdate===!0){U.needsPMREMUpdate=!1;let ee=a.get(U);return f===null&&(f=new qw(H)),ee=K?f.fromEquirectangular(U,ee):f.fromCubemap(U,ee),a.set(U,ee),ee.texture}else{if(a.has(U))return a.get(U).texture;{const ee=U.image;if(K&&ee&&ee.height>0||q&&ee&&S(ee)){f===null&&(f=new qw(H));const te=K?f.fromEquirectangular(U):f.fromCubemap(U);return a.set(U,te),U.addEventListener("dispose",I),te.texture}else return null}}}return U}function S(U){let W=0;const K=6;for(let q=0;q<K;q++)U[q]!==void 0&&W++;return W===K}function I(U){const W=U.target;W.removeEventListener("dispose",I);const K=a.get(W);K!==void 0&&(a.delete(W),K.dispose())}function N(){a=new WeakMap,f!==null&&(f.dispose(),f=null)}return{get:x,dispose:N}}function AK(H){const a={};function f(x){if(a[x]!==void 0)return a[x];let S;switch(x){case"WEBGL_depth_texture":S=H.getExtension("WEBGL_depth_texture")||H.getExtension("MOZ_WEBGL_depth_texture")||H.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":S=H.getExtension("EXT_texture_filter_anisotropic")||H.getExtension("MOZ_EXT_texture_filter_anisotropic")||H.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":S=H.getExtension("WEBGL_compressed_texture_s3tc")||H.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||H.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":S=H.getExtension("WEBGL_compressed_texture_pvrtc")||H.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:S=H.getExtension(x)}return a[x]=S,S}return{has:function(x){return f(x)!==null},init:function(x){x.isWebGL2?f("EXT_color_buffer_float"):(f("WEBGL_depth_texture"),f("OES_texture_float"),f("OES_texture_half_float"),f("OES_texture_half_float_linear"),f("OES_standard_derivatives"),f("OES_element_index_uint"),f("OES_vertex_array_object"),f("ANGLE_instanced_arrays")),f("OES_texture_float_linear"),f("EXT_color_buffer_half_float"),f("WEBGL_multisampled_render_to_texture")},get:function(x){const S=f(x);return S===null&&console.warn("THREE.WebGLRenderer: "+x+" extension not supported."),S}}}function yK(H,a,f,x){const S={},I=new WeakMap;function N(ee){const te=ee.target;te.index!==null&&a.remove(te.index);for(const de in te.attributes)a.remove(te.attributes[de]);te.removeEventListener("dispose",N),delete S[te.id];const ie=I.get(te);ie&&(a.remove(ie),I.delete(te)),x.releaseStatesOfGeometry(te),te.isInstancedBufferGeometry===!0&&delete te._maxInstanceCount,f.memory.geometries--}function U(ee,te){return S[te.id]===!0||(te.addEventListener("dispose",N),S[te.id]=!0,f.memory.geometries++),te}function W(ee){const te=ee.attributes;for(const de in te)a.update(te[de],34962);const ie=ee.morphAttributes;for(const de in ie){const le=ie[de];for(let ae=0,Re=le.length;ae<Re;ae++)a.update(le[ae],34962)}}function K(ee){const te=[],ie=ee.index,de=ee.attributes.position;let le=0;if(ie!==null){const $e=ie.array;le=ie.version;for(let Ne=0,ze=$e.length;Ne<ze;Ne+=3){const Ke=$e[Ne+0],ht=$e[Ne+1],Lt=$e[Ne+2];te.push(Ke,ht,ht,Lt,Lt,Ke)}}else{const $e=de.array;le=de.version;for(let Ne=0,ze=$e.length/3-1;Ne<ze;Ne+=3){const Ke=Ne+0,ht=Ne+1,Lt=Ne+2;te.push(Ke,ht,ht,Lt,Lt,Ke)}}const ae=new(cy(te)?Uw:Fw)(te,1);ae.version=le;const Re=I.get(ee);Re&&a.remove(Re),I.set(ee,ae)}function q(ee){const te=I.get(ee);if(te){const ie=ee.index;ie!==null&&te.version<ie.version&&K(ee)}else K(ee);return I.get(ee)}return{get:U,update:W,getWireframeAttribute:q}}function bK(H,a,f,x){const S=x.isWebGL2;let I;function N(te){I=te}let U,W;function K(te){U=te.type,W=te.bytesPerElement}function q(te,ie){H.drawElements(I,ie,U,te*W),f.update(ie,I,1)}function ee(te,ie,de){if(de===0)return;let le,ae;if(S)le=H,ae="drawElementsInstanced";else if(le=a.get("ANGLE_instanced_arrays"),ae="drawElementsInstancedANGLE",le===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}le[ae](I,ie,U,te*W,de),f.update(ie,I,de)}this.setMode=N,this.setIndex=K,this.render=q,this.renderInstances=ee}function xK(H){const a={geometries:0,textures:0},f={frame:0,calls:0,triangles:0,points:0,lines:0};function x(I,N,U){switch(f.calls++,N){case 4:f.triangles+=U*(I/3);break;case 1:f.lines+=U*(I/2);break;case 3:f.lines+=U*(I-1);break;case 2:f.lines+=U*I;break;case 0:f.points+=U*I;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",N);break}}function S(){f.frame++,f.calls=0,f.triangles=0,f.points=0,f.lines=0}return{memory:a,render:f,programs:null,autoReset:!0,reset:S,update:x}}function EK(H,a){return H[0]-a[0]}function CK(H,a){return Math.abs(a[1])-Math.abs(H[1])}function wK(H,a,f){const x={},S=new Float32Array(8),I=new WeakMap,N=new wi,U=[];for(let K=0;K<8;K++)U[K]=[K,0];function W(K,q,ee,te){const ie=K.morphTargetInfluences;if(a.isWebGL2===!0){const le=q.morphAttributes.position||q.morphAttributes.normal||q.morphAttributes.color,ae=le!==void 0?le.length:0;let Re=I.get(q);if(Re===void 0||Re.count!==ae){let Rn=function(){Ht.dispose(),I.delete(q),q.removeEventListener("dispose",Rn)};var de=Rn;Re!==void 0&&Re.texture.dispose();const ze=q.morphAttributes.position!==void 0,Ke=q.morphAttributes.normal!==void 0,ht=q.morphAttributes.color!==void 0,Lt=q.morphAttributes.position||[],je=q.morphAttributes.normal||[],gt=q.morphAttributes.color||[];let _t=0;ze===!0&&(_t=1),Ke===!0&&(_t=2),ht===!0&&(_t=3);let jt=q.attributes.position.count*_t,an=1;jt>a.maxTextureSize&&(an=Math.ceil(jt/a.maxTextureSize),jt=a.maxTextureSize);const Wt=new Float32Array(jt*an*4*ae),Ht=new af(Wt,jt,an,ae);Ht.type=Pt,Ht.needsUpdate=!0;const tn=_t*4;for(let On=0;On<ae;On++){const Tn=Lt[On],Qn=je[On],zn=gt[On],xr=jt*an*4*On;for(let fr=0;fr<Tn.count;fr++){const hn=fr*tn;ze===!0&&(N.fromBufferAttribute(Tn,fr),Wt[xr+hn+0]=N.x,Wt[xr+hn+1]=N.y,Wt[xr+hn+2]=N.z,Wt[xr+hn+3]=0),Ke===!0&&(N.fromBufferAttribute(Qn,fr),Wt[xr+hn+4]=N.x,Wt[xr+hn+5]=N.y,Wt[xr+hn+6]=N.z,Wt[xr+hn+7]=0),ht===!0&&(N.fromBufferAttribute(zn,fr),Wt[xr+hn+8]=N.x,Wt[xr+hn+9]=N.y,Wt[xr+hn+10]=N.z,Wt[xr+hn+11]=zn.itemSize===4?N.w:1)}}Re={count:ae,texture:Ht,size:new In(jt,an)},I.set(q,Re),q.addEventListener("dispose",Rn)}let $e=0;for(let ze=0;ze<ie.length;ze++)$e+=ie[ze];const Ne=q.morphTargetsRelative?1:1-$e;te.getUniforms().setValue(H,"morphTargetBaseInfluence",Ne),te.getUniforms().setValue(H,"morphTargetInfluences",ie),te.getUniforms().setValue(H,"morphTargetsTexture",Re.texture,f),te.getUniforms().setValue(H,"morphTargetsTextureSize",Re.size)}else{const le=ie===void 0?0:ie.length;let ae=x[q.id];if(ae===void 0||ae.length!==le){ae=[];for(let Ke=0;Ke<le;Ke++)ae[Ke]=[Ke,0];x[q.id]=ae}for(let Ke=0;Ke<le;Ke++){const ht=ae[Ke];ht[0]=Ke,ht[1]=ie[Ke]}ae.sort(CK);for(let Ke=0;Ke<8;Ke++)Ke<le&&ae[Ke][1]?(U[Ke][0]=ae[Ke][0],U[Ke][1]=ae[Ke][1]):(U[Ke][0]=Number.MAX_SAFE_INTEGER,U[Ke][1]=0);U.sort(EK);const Re=q.morphAttributes.position,$e=q.morphAttributes.normal;let Ne=0;for(let Ke=0;Ke<8;Ke++){const ht=U[Ke],Lt=ht[0],je=ht[1];Lt!==Number.MAX_SAFE_INTEGER&&je?(Re&&q.getAttribute("morphTarget"+Ke)!==Re[Lt]&&q.setAttribute("morphTarget"+Ke,Re[Lt]),$e&&q.getAttribute("morphNormal"+Ke)!==$e[Lt]&&q.setAttribute("morphNormal"+Ke,$e[Lt]),S[Ke]=je,Ne+=je):(Re&&q.hasAttribute("morphTarget"+Ke)===!0&&q.deleteAttribute("morphTarget"+Ke),$e&&q.hasAttribute("morphNormal"+Ke)===!0&&q.deleteAttribute("morphNormal"+Ke),S[Ke]=0)}const ze=q.morphTargetsRelative?1:1-Ne;te.getUniforms().setValue(H,"morphTargetBaseInfluence",ze),te.getUniforms().setValue(H,"morphTargetInfluences",S)}}return{update:W}}function SK(H,a,f,x){let S=new WeakMap;function I(W){const K=x.render.frame,q=W.geometry,ee=a.get(W,q);return S.get(ee)!==K&&(a.update(ee),S.set(ee,K)),W.isInstancedMesh&&(W.hasEventListener("dispose",U)===!1&&W.addEventListener("dispose",U),f.update(W.instanceMatrix,34962),W.instanceColor!==null&&f.update(W.instanceColor,34962)),ee}function N(){S=new WeakMap}function U(W){const K=W.target;K.removeEventListener("dispose",U),f.remove(K.instanceMatrix),K.instanceColor!==null&&f.remove(K.instanceColor)}return{update:I,dispose:N}}const jP=new fo,VP=new af,WP=new Uh,QP=new Hg,KP=[],XP=[],qP=new Float32Array(16),YP=new Float32Array(9),JP=new Float32Array(4);function Jh(H,a,f){const x=H[0];if(x<=0||x>0)return H;const S=a*f;let I=KP[S];if(I===void 0&&(I=new Float32Array(S),KP[S]=I),a!==0){x.toArray(I,0);for(let N=1,U=0;N!==a;++N)U+=f,H[N].toArray(I,U)}return I}function zo(H,a){if(H.length!==a.length)return!1;for(let f=0,x=H.length;f<x;f++)if(H[f]!==a[f])return!1;return!0}function Ho(H,a){for(let f=0,x=a.length;f<x;f++)H[f]=a[f]}function Py(H,a){let f=XP[a];f===void 0&&(f=new Int32Array(a),XP[a]=f);for(let x=0;x!==a;++x)f[x]=H.allocateTextureUnit();return f}function _K(H,a){const f=this.cache;f[0]!==a&&(H.uniform1f(this.addr,a),f[0]=a)}function MK(H,a){const f=this.cache;if(a.x!==void 0)(f[0]!==a.x||f[1]!==a.y)&&(H.uniform2f(this.addr,a.x,a.y),f[0]=a.x,f[1]=a.y);else{if(zo(f,a))return;H.uniform2fv(this.addr,a),Ho(f,a)}}function TK(H,a){const f=this.cache;if(a.x!==void 0)(f[0]!==a.x||f[1]!==a.y||f[2]!==a.z)&&(H.uniform3f(this.addr,a.x,a.y,a.z),f[0]=a.x,f[1]=a.y,f[2]=a.z);else if(a.r!==void 0)(f[0]!==a.r||f[1]!==a.g||f[2]!==a.b)&&(H.uniform3f(this.addr,a.r,a.g,a.b),f[0]=a.r,f[1]=a.g,f[2]=a.b);else{if(zo(f,a))return;H.uniform3fv(this.addr,a),Ho(f,a)}}function RK(H,a){const f=this.cache;if(a.x!==void 0)(f[0]!==a.x||f[1]!==a.y||f[2]!==a.z||f[3]!==a.w)&&(H.uniform4f(this.addr,a.x,a.y,a.z,a.w),f[0]=a.x,f[1]=a.y,f[2]=a.z,f[3]=a.w);else{if(zo(f,a))return;H.uniform4fv(this.addr,a),Ho(f,a)}}function IK(H,a){const f=this.cache,x=a.elements;if(x===void 0){if(zo(f,a))return;H.uniformMatrix2fv(this.addr,!1,a),Ho(f,a)}else{if(zo(f,x))return;JP.set(x),H.uniformMatrix2fv(this.addr,!1,JP),Ho(f,x)}}function LK(H,a){const f=this.cache,x=a.elements;if(x===void 0){if(zo(f,a))return;H.uniformMatrix3fv(this.addr,!1,a),Ho(f,a)}else{if(zo(f,x))return;YP.set(x),H.uniformMatrix3fv(this.addr,!1,YP),Ho(f,x)}}function PK(H,a){const f=this.cache,x=a.elements;if(x===void 0){if(zo(f,a))return;H.uniformMatrix4fv(this.addr,!1,a),Ho(f,a)}else{if(zo(f,x))return;qP.set(x),H.uniformMatrix4fv(this.addr,!1,qP),Ho(f,x)}}function BK(H,a){const f=this.cache;f[0]!==a&&(H.uniform1i(this.addr,a),f[0]=a)}function OK(H,a){const f=this.cache;if(a.x!==void 0)(f[0]!==a.x||f[1]!==a.y)&&(H.uniform2i(this.addr,a.x,a.y),f[0]=a.x,f[1]=a.y);else{if(zo(f,a))return;H.uniform2iv(this.addr,a),Ho(f,a)}}function DK(H,a){const f=this.cache;if(a.x!==void 0)(f[0]!==a.x||f[1]!==a.y||f[2]!==a.z)&&(H.uniform3i(this.addr,a.x,a.y,a.z),f[0]=a.x,f[1]=a.y,f[2]=a.z);else{if(zo(f,a))return;H.uniform3iv(this.addr,a),Ho(f,a)}}function NK(H,a){const f=this.cache;if(a.x!==void 0)(f[0]!==a.x||f[1]!==a.y||f[2]!==a.z||f[3]!==a.w)&&(H.uniform4i(this.addr,a.x,a.y,a.z,a.w),f[0]=a.x,f[1]=a.y,f[2]=a.z,f[3]=a.w);else{if(zo(f,a))return;H.uniform4iv(this.addr,a),Ho(f,a)}}function kK(H,a){const f=this.cache;f[0]!==a&&(H.uniform1ui(this.addr,a),f[0]=a)}function FK(H,a){const f=this.cache;if(a.x!==void 0)(f[0]!==a.x||f[1]!==a.y)&&(H.uniform2ui(this.addr,a.x,a.y),f[0]=a.x,f[1]=a.y);else{if(zo(f,a))return;H.uniform2uiv(this.addr,a),Ho(f,a)}}function UK(H,a){const f=this.cache;if(a.x!==void 0)(f[0]!==a.x||f[1]!==a.y||f[2]!==a.z)&&(H.uniform3ui(this.addr,a.x,a.y,a.z),f[0]=a.x,f[1]=a.y,f[2]=a.z);else{if(zo(f,a))return;H.uniform3uiv(this.addr,a),Ho(f,a)}}function zK(H,a){const f=this.cache;if(a.x!==void 0)(f[0]!==a.x||f[1]!==a.y||f[2]!==a.z||f[3]!==a.w)&&(H.uniform4ui(this.addr,a.x,a.y,a.z,a.w),f[0]=a.x,f[1]=a.y,f[2]=a.z,f[3]=a.w);else{if(zo(f,a))return;H.uniform4uiv(this.addr,a),Ho(f,a)}}function HK(H,a,f){const x=this.cache,S=f.allocateTextureUnit();x[0]!==S&&(H.uniform1i(this.addr,S),x[0]=S),f.setTexture2D(a||jP,S)}function $K(H,a,f){const x=this.cache,S=f.allocateTextureUnit();x[0]!==S&&(H.uniform1i(this.addr,S),x[0]=S),f.setTexture3D(a||WP,S)}function GK(H,a,f){const x=this.cache,S=f.allocateTextureUnit();x[0]!==S&&(H.uniform1i(this.addr,S),x[0]=S),f.setTextureCube(a||QP,S)}function jK(H,a,f){const x=this.cache,S=f.allocateTextureUnit();x[0]!==S&&(H.uniform1i(this.addr,S),x[0]=S),f.setTexture2DArray(a||VP,S)}function VK(H){switch(H){case 5126:return _K;case 35664:return MK;case 35665:return TK;case 35666:return RK;case 35674:return IK;case 35675:return LK;case 35676:return PK;case 5124:case 35670:return BK;case 35667:case 35671:return OK;case 35668:case 35672:return DK;case 35669:case 35673:return NK;case 5125:return kK;case 36294:return FK;case 36295:return UK;case 36296:return zK;case 35678:case 36198:case 36298:case 36306:case 35682:return HK;case 35679:case 36299:case 36307:return $K;case 35680:case 36300:case 36308:case 36293:return GK;case 36289:case 36303:case 36311:case 36292:return jK}}function WK(H,a){H.uniform1fv(this.addr,a)}function QK(H,a){const f=Jh(a,this.size,2);H.uniform2fv(this.addr,f)}function KK(H,a){const f=Jh(a,this.size,3);H.uniform3fv(this.addr,f)}function XK(H,a){const f=Jh(a,this.size,4);H.uniform4fv(this.addr,f)}function qK(H,a){const f=Jh(a,this.size,4);H.uniformMatrix2fv(this.addr,!1,f)}function YK(H,a){const f=Jh(a,this.size,9);H.uniformMatrix3fv(this.addr,!1,f)}function JK(H,a){const f=Jh(a,this.size,16);H.uniformMatrix4fv(this.addr,!1,f)}function ZK(H,a){H.uniform1iv(this.addr,a)}function eX(H,a){H.uniform2iv(this.addr,a)}function tX(H,a){H.uniform3iv(this.addr,a)}function nX(H,a){H.uniform4iv(this.addr,a)}function rX(H,a){H.uniform1uiv(this.addr,a)}function iX(H,a){H.uniform2uiv(this.addr,a)}function oX(H,a){H.uniform3uiv(this.addr,a)}function aX(H,a){H.uniform4uiv(this.addr,a)}function sX(H,a,f){const x=this.cache,S=a.length,I=Py(f,S);zo(x,I)||(H.uniform1iv(this.addr,I),Ho(x,I));for(let N=0;N!==S;++N)f.setTexture2D(a[N]||jP,I[N])}function lX(H,a,f){const x=this.cache,S=a.length,I=Py(f,S);zo(x,I)||(H.uniform1iv(this.addr,I),Ho(x,I));for(let N=0;N!==S;++N)f.setTexture3D(a[N]||WP,I[N])}function cX(H,a,f){const x=this.cache,S=a.length,I=Py(f,S);zo(x,I)||(H.uniform1iv(this.addr,I),Ho(x,I));for(let N=0;N!==S;++N)f.setTextureCube(a[N]||QP,I[N])}function uX(H,a,f){const x=this.cache,S=a.length,I=Py(f,S);zo(x,I)||(H.uniform1iv(this.addr,I),Ho(x,I));for(let N=0;N!==S;++N)f.setTexture2DArray(a[N]||VP,I[N])}function dX(H){switch(H){case 5126:return WK;case 35664:return QK;case 35665:return KK;case 35666:return XK;case 35674:return qK;case 35675:return YK;case 35676:return JK;case 5124:case 35670:return ZK;case 35667:case 35671:return eX;case 35668:case 35672:return tX;case 35669:case 35673:return nX;case 5125:return rX;case 36294:return iX;case 36295:return oX;case 36296:return aX;case 35678:case 36198:case 36298:case 36306:case 35682:return sX;case 35679:case 36299:case 36307:return lX;case 35680:case 36300:case 36308:case 36293:return cX;case 36289:case 36303:case 36311:case 36292:return uX}}class fX{constructor(a,f,x){this.id=a,this.addr=x,this.cache=[],this.setValue=VK(f.type)}}class hX{constructor(a,f,x){this.id=a,this.addr=x,this.cache=[],this.size=f.size,this.setValue=dX(f.type)}}class pX{constructor(a){this.id=a,this.seq=[],this.map={}}setValue(a,f,x){const S=this.seq;for(let I=0,N=S.length;I!==N;++I){const U=S[I];U.setValue(a,f[U.id],x)}}}const Jw=/(\w+)(\])?(\[|\.)?/g;function ZP(H,a){H.seq.push(a),H.map[a.id]=a}function mX(H,a,f){const x=H.name,S=x.length;for(Jw.lastIndex=0;;){const I=Jw.exec(x),N=Jw.lastIndex;let U=I[1];const W=I[2]==="]",K=I[3];if(W&&(U=U|0),K===void 0||K==="["&&N+2===S){ZP(f,K===void 0?new fX(U,H,a):new hX(U,H,a));break}else{let ee=f.map[U];ee===void 0&&(ee=new pX(U),ZP(f,ee)),f=ee}}}class By{constructor(a,f){this.seq=[],this.map={};const x=a.getProgramParameter(f,35718);for(let S=0;S<x;++S){const I=a.getActiveUniform(f,S),N=a.getUniformLocation(f,I.name);mX(I,N,this)}}setValue(a,f,x,S){const I=this.map[f];I!==void 0&&I.setValue(a,x,S)}setOptional(a,f,x){const S=f[x];S!==void 0&&this.setValue(a,x,S)}static upload(a,f,x,S){for(let I=0,N=f.length;I!==N;++I){const U=f[I],W=x[U.id];W.needsUpdate!==!1&&U.setValue(a,W.value,S)}}static seqWithValue(a,f){const x=[];for(let S=0,I=a.length;S!==I;++S){const N=a[S];N.id in f&&x.push(N)}return x}}function eB(H,a,f){const x=H.createShader(a);return H.shaderSource(x,f),H.compileShader(x),x}let gX=0;function vX(H,a){const f=H.split(`
`),x=[],S=Math.max(a-6,0),I=Math.min(a+6,f.length);for(let N=S;N<I;N++){const U=N+1;x.push(`${U===a?">":" "} ${U}: ${f[N]}`)}return x.join(`
`)}function AX(H){switch(H){case pr:return["Linear","( value )"];case $n:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",H),["Linear","( value )"]}}function tB(H,a,f){const x=H.getShaderParameter(a,35713),S=H.getShaderInfoLog(a).trim();if(x&&S==="")return"";const I=/ERROR: 0:(\d+)/.exec(S);if(I){const N=parseInt(I[1]);return f.toUpperCase()+`

`+S+`

`+vX(H.getShaderSource(a),N)}else return S}function yX(H,a){const f=AX(a);return"vec4 "+H+"( vec4 value ) { return LinearTo"+f[0]+f[1]+"; }"}function bX(H,a){let f;switch(a){case Dt:f="Linear";break;case Yt:f="Reinhard";break;case Ve:f="OptimizedCineon";break;case be:f="ACESFilmic";break;case fe:f="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",a),f="Linear"}return"vec3 "+H+"( vec3 color ) { return "+f+"ToneMapping( color ); }"}function xX(H){return[H.extensionDerivatives||H.envMapCubeUVHeight||H.bumpMap||H.tangentSpaceNormalMap||H.clearcoatNormalMap||H.flatShading||H.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(H.extensionFragDepth||H.logarithmicDepthBuffer)&&H.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",H.extensionDrawBuffers&&H.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(H.extensionShaderTextureLOD||H.envMap||H.transmission)&&H.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter($g).join(`
`)}function EX(H){const a=[];for(const f in H){const x=H[f];x!==!1&&a.push("#define "+f+" "+x)}return a.join(`
`)}function CX(H,a){const f={},x=H.getProgramParameter(a,35721);for(let S=0;S<x;S++){const I=H.getActiveAttrib(a,S),N=I.name;let U=1;I.type===35674&&(U=2),I.type===35675&&(U=3),I.type===35676&&(U=4),f[N]={type:I.type,location:H.getAttribLocation(a,N),locationSize:U}}return f}function $g(H){return H!==""}function nB(H,a){const f=a.numSpotLightShadows+a.numSpotLightMaps-a.numSpotLightShadowsWithMaps;return H.replace(/NUM_DIR_LIGHTS/g,a.numDirLights).replace(/NUM_SPOT_LIGHTS/g,a.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,a.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,f).replace(/NUM_RECT_AREA_LIGHTS/g,a.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,a.numPointLights).replace(/NUM_HEMI_LIGHTS/g,a.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,a.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,a.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,a.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,a.numPointLightShadows)}function rB(H,a){return H.replace(/NUM_CLIPPING_PLANES/g,a.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,a.numClippingPlanes-a.numClipIntersection)}const wX=/^[ \t]*#include +<([\w\d./]+)>/gm;function Zw(H){return H.replace(wX,SX)}function SX(H,a){const f=ii[a];if(f===void 0)throw new Error("Can not resolve #include <"+a+">");return Zw(f)}const _X=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function iB(H){return H.replace(_X,MX)}function MX(H,a,f,x){let S="";for(let I=parseInt(a);I<parseInt(f);I++)S+=x.replace(/\[\s*i\s*\]/g,"[ "+I+" ]").replace(/UNROLLED_LOOP_INDEX/g,I);return S}function oB(H){let a="precision "+H.precision+` float;
precision `+H.precision+" int;";return H.precision==="highp"?a+=`
#define HIGH_PRECISION`:H.precision==="mediump"?a+=`
#define MEDIUM_PRECISION`:H.precision==="lowp"&&(a+=`
#define LOW_PRECISION`),a}function TX(H){let a="SHADOWMAP_TYPE_BASIC";return H.shadowMapType===g?a="SHADOWMAP_TYPE_PCF":H.shadowMapType===w?a="SHADOWMAP_TYPE_PCF_SOFT":H.shadowMapType===E&&(a="SHADOWMAP_TYPE_VSM"),a}function RX(H){let a="ENVMAP_TYPE_CUBE";if(H.envMap)switch(H.envMapMode){case Te:case Ce:a="ENVMAP_TYPE_CUBE";break;case Ge:a="ENVMAP_TYPE_CUBE_UV";break}return a}function IX(H){let a="ENVMAP_MODE_REFLECTION";if(H.envMap)switch(H.envMapMode){case Ce:a="ENVMAP_MODE_REFRACTION";break}return a}function LX(H){let a="ENVMAP_BLENDING_NONE";if(H.envMap)switch(H.combine){case xt:a="ENVMAP_BLENDING_MULTIPLY";break;case At:a="ENVMAP_BLENDING_MIX";break;case Ct:a="ENVMAP_BLENDING_ADD";break}return a}function PX(H){const a=H.envMapCubeUVHeight;if(a===null)return null;const f=Math.log2(a)-2,x=1/a;return{texelWidth:1/(3*Math.max(Math.pow(2,f),7*16)),texelHeight:x,maxMip:f}}function BX(H,a,f,x){const S=H.getContext(),I=f.defines;let N=f.vertexShader,U=f.fragmentShader;const W=TX(f),K=RX(f),q=IX(f),ee=LX(f),te=PX(f),ie=f.isWebGL2?"":xX(f),de=EX(I),le=S.createProgram();let ae,Re,$e=f.glslVersion?"#version "+f.glslVersion+`
`:"";f.isRawShaderMaterial?(ae=[de].filter($g).join(`
`),ae.length>0&&(ae+=`
`),Re=[ie,de].filter($g).join(`
`),Re.length>0&&(Re+=`
`)):(ae=[oB(f),"#define SHADER_NAME "+f.shaderName,de,f.instancing?"#define USE_INSTANCING":"",f.instancingColor?"#define USE_INSTANCING_COLOR":"",f.supportsVertexTextures?"#define VERTEX_TEXTURES":"",f.useFog&&f.fog?"#define USE_FOG":"",f.useFog&&f.fogExp2?"#define FOG_EXP2":"",f.map?"#define USE_MAP":"",f.envMap?"#define USE_ENVMAP":"",f.envMap?"#define "+q:"",f.lightMap?"#define USE_LIGHTMAP":"",f.aoMap?"#define USE_AOMAP":"",f.emissiveMap?"#define USE_EMISSIVEMAP":"",f.bumpMap?"#define USE_BUMPMAP":"",f.normalMap?"#define USE_NORMALMAP":"",f.normalMap&&f.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",f.normalMap&&f.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",f.clearcoatMap?"#define USE_CLEARCOATMAP":"",f.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",f.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",f.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",f.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",f.displacementMap&&f.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",f.specularMap?"#define USE_SPECULARMAP":"",f.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",f.specularColorMap?"#define USE_SPECULARCOLORMAP":"",f.roughnessMap?"#define USE_ROUGHNESSMAP":"",f.metalnessMap?"#define USE_METALNESSMAP":"",f.alphaMap?"#define USE_ALPHAMAP":"",f.transmission?"#define USE_TRANSMISSION":"",f.transmissionMap?"#define USE_TRANSMISSIONMAP":"",f.thicknessMap?"#define USE_THICKNESSMAP":"",f.sheenColorMap?"#define USE_SHEENCOLORMAP":"",f.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",f.vertexTangents?"#define USE_TANGENT":"",f.vertexColors?"#define USE_COLOR":"",f.vertexAlphas?"#define USE_COLOR_ALPHA":"",f.vertexUvs?"#define USE_UV":"",f.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",f.flatShading?"#define FLAT_SHADED":"",f.skinning?"#define USE_SKINNING":"",f.morphTargets?"#define USE_MORPHTARGETS":"",f.morphNormals&&f.flatShading===!1?"#define USE_MORPHNORMALS":"",f.morphColors&&f.isWebGL2?"#define USE_MORPHCOLORS":"",f.morphTargetsCount>0&&f.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",f.morphTargetsCount>0&&f.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+f.morphTextureStride:"",f.morphTargetsCount>0&&f.isWebGL2?"#define MORPHTARGETS_COUNT "+f.morphTargetsCount:"",f.doubleSided?"#define DOUBLE_SIDED":"",f.flipSided?"#define FLIP_SIDED":"",f.shadowMapEnabled?"#define USE_SHADOWMAP":"",f.shadowMapEnabled?"#define "+W:"",f.sizeAttenuation?"#define USE_SIZEATTENUATION":"",f.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",f.logarithmicDepthBuffer&&f.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter($g).join(`
`),Re=[ie,oB(f),"#define SHADER_NAME "+f.shaderName,de,f.useFog&&f.fog?"#define USE_FOG":"",f.useFog&&f.fogExp2?"#define FOG_EXP2":"",f.map?"#define USE_MAP":"",f.matcap?"#define USE_MATCAP":"",f.envMap?"#define USE_ENVMAP":"",f.envMap?"#define "+K:"",f.envMap?"#define "+q:"",f.envMap?"#define "+ee:"",te?"#define CUBEUV_TEXEL_WIDTH "+te.texelWidth:"",te?"#define CUBEUV_TEXEL_HEIGHT "+te.texelHeight:"",te?"#define CUBEUV_MAX_MIP "+te.maxMip+".0":"",f.lightMap?"#define USE_LIGHTMAP":"",f.aoMap?"#define USE_AOMAP":"",f.emissiveMap?"#define USE_EMISSIVEMAP":"",f.bumpMap?"#define USE_BUMPMAP":"",f.normalMap?"#define USE_NORMALMAP":"",f.normalMap&&f.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",f.normalMap&&f.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",f.clearcoat?"#define USE_CLEARCOAT":"",f.clearcoatMap?"#define USE_CLEARCOATMAP":"",f.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",f.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",f.iridescence?"#define USE_IRIDESCENCE":"",f.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",f.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",f.specularMap?"#define USE_SPECULARMAP":"",f.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",f.specularColorMap?"#define USE_SPECULARCOLORMAP":"",f.roughnessMap?"#define USE_ROUGHNESSMAP":"",f.metalnessMap?"#define USE_METALNESSMAP":"",f.alphaMap?"#define USE_ALPHAMAP":"",f.alphaTest?"#define USE_ALPHATEST":"",f.sheen?"#define USE_SHEEN":"",f.sheenColorMap?"#define USE_SHEENCOLORMAP":"",f.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",f.transmission?"#define USE_TRANSMISSION":"",f.transmissionMap?"#define USE_TRANSMISSIONMAP":"",f.thicknessMap?"#define USE_THICKNESSMAP":"",f.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",f.vertexTangents?"#define USE_TANGENT":"",f.vertexColors||f.instancingColor?"#define USE_COLOR":"",f.vertexAlphas?"#define USE_COLOR_ALPHA":"",f.vertexUvs?"#define USE_UV":"",f.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",f.gradientMap?"#define USE_GRADIENTMAP":"",f.flatShading?"#define FLAT_SHADED":"",f.doubleSided?"#define DOUBLE_SIDED":"",f.flipSided?"#define FLIP_SIDED":"",f.shadowMapEnabled?"#define USE_SHADOWMAP":"",f.shadowMapEnabled?"#define "+W:"",f.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",f.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",f.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",f.logarithmicDepthBuffer&&f.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",f.toneMapping!==Tt?"#define TONE_MAPPING":"",f.toneMapping!==Tt?ii.tonemapping_pars_fragment:"",f.toneMapping!==Tt?bX("toneMapping",f.toneMapping):"",f.dithering?"#define DITHERING":"",f.opaque?"#define OPAQUE":"",ii.encodings_pars_fragment,yX("linearToOutputTexel",f.outputEncoding),f.useDepthPacking?"#define DEPTH_PACKING "+f.depthPacking:"",`
`].filter($g).join(`
`)),N=Zw(N),N=nB(N,f),N=rB(N,f),U=Zw(U),U=nB(U,f),U=rB(U,f),N=iB(N),U=iB(U),f.isWebGL2&&f.isRawShaderMaterial!==!0&&($e=`#version 300 es
`,ae=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+ae,Re=["#define varying in",f.glslVersion===_g?"":"layout(location = 0) out highp vec4 pc_fragColor;",f.glslVersion===_g?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+Re);const Ne=$e+ae+N,ze=$e+Re+U,Ke=eB(S,35633,Ne),ht=eB(S,35632,ze);if(S.attachShader(le,Ke),S.attachShader(le,ht),f.index0AttributeName!==void 0?S.bindAttribLocation(le,0,f.index0AttributeName):f.morphTargets===!0&&S.bindAttribLocation(le,0,"position"),S.linkProgram(le),H.debug.checkShaderErrors){const gt=S.getProgramInfoLog(le).trim(),_t=S.getShaderInfoLog(Ke).trim(),jt=S.getShaderInfoLog(ht).trim();let an=!0,Wt=!0;if(S.getProgramParameter(le,35714)===!1){an=!1;const Ht=tB(S,Ke,"vertex"),tn=tB(S,ht,"fragment");console.error("THREE.WebGLProgram: Shader Error "+S.getError()+" - VALIDATE_STATUS "+S.getProgramParameter(le,35715)+`

Program Info Log: `+gt+`
`+Ht+`
`+tn)}else gt!==""?console.warn("THREE.WebGLProgram: Program Info Log:",gt):(_t===""||jt==="")&&(Wt=!1);Wt&&(this.diagnostics={runnable:an,programLog:gt,vertexShader:{log:_t,prefix:ae},fragmentShader:{log:jt,prefix:Re}})}S.deleteShader(Ke),S.deleteShader(ht);let Lt;this.getUniforms=function(){return Lt===void 0&&(Lt=new By(S,le)),Lt};let je;return this.getAttributes=function(){return je===void 0&&(je=CX(S,le)),je},this.destroy=function(){x.releaseStatesOfProgram(this),S.deleteProgram(le),this.program=void 0},this.name=f.shaderName,this.id=gX++,this.cacheKey=a,this.usedTimes=1,this.program=le,this.vertexShader=Ke,this.fragmentShader=ht,this}let OX=0;class DX{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(a){const f=a.vertexShader,x=a.fragmentShader,S=this._getShaderStage(f),I=this._getShaderStage(x),N=this._getShaderCacheForMaterial(a);return N.has(S)===!1&&(N.add(S),S.usedTimes++),N.has(I)===!1&&(N.add(I),I.usedTimes++),this}remove(a){const f=this.materialCache.get(a);for(const x of f)x.usedTimes--,x.usedTimes===0&&this.shaderCache.delete(x.code);return this.materialCache.delete(a),this}getVertexShaderID(a){return this._getShaderStage(a.vertexShader).id}getFragmentShaderID(a){return this._getShaderStage(a.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(a){const f=this.materialCache;let x=f.get(a);return x===void 0&&(x=new Set,f.set(a,x)),x}_getShaderStage(a){const f=this.shaderCache;let x=f.get(a);return x===void 0&&(x=new NX(a),f.set(a,x)),x}}class NX{constructor(a){this.id=OX++,this.code=a,this.usedTimes=0}}function kX(H,a,f,x,S,I,N){const U=new Si,W=new DX,K=[],q=S.isWebGL2,ee=S.logarithmicDepthBuffer,te=S.vertexTextures;let ie=S.precision;const de={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function le(je,gt,_t,jt,an){const Wt=jt.fog,Ht=an.geometry,tn=je.isMeshStandardMaterial?jt.environment:null,Rn=(je.isMeshStandardMaterial?f:a).get(je.envMap||tn),On=Rn&&Rn.mapping===Ge?Rn.image.height:null,Tn=de[je.type];je.precision!==null&&(ie=S.getMaxPrecision(je.precision),ie!==je.precision&&console.warn("THREE.WebGLProgram.getParameters:",je.precision,"not supported, using",ie,"instead."));const Qn=Ht.morphAttributes.position||Ht.morphAttributes.normal||Ht.morphAttributes.color,zn=Qn!==void 0?Qn.length:0;let xr=0;Ht.morphAttributes.position!==void 0&&(xr=1),Ht.morphAttributes.normal!==void 0&&(xr=2),Ht.morphAttributes.color!==void 0&&(xr=3);let fr,hn,Dn,cr;if(Tn){const oi=bl[Tn];fr=oi.vertexShader,hn=oi.fragmentShader}else fr=je.vertexShader,hn=je.fragmentShader,W.update(je),Dn=W.getVertexShaderID(je),cr=W.getFragmentShaderID(je);const rn=H.getRenderTarget(),Sr=je.alphaTest>0,ur=je.clearcoat>0,kr=je.iridescence>0;return{isWebGL2:q,shaderID:Tn,shaderName:je.type,vertexShader:fr,fragmentShader:hn,defines:je.defines,customVertexShaderID:Dn,customFragmentShaderID:cr,isRawShaderMaterial:je.isRawShaderMaterial===!0,glslVersion:je.glslVersion,precision:ie,instancing:an.isInstancedMesh===!0,instancingColor:an.isInstancedMesh===!0&&an.instanceColor!==null,supportsVertexTextures:te,outputEncoding:rn===null?H.outputEncoding:rn.isXRRenderTarget===!0?rn.texture.encoding:pr,map:!!je.map,matcap:!!je.matcap,envMap:!!Rn,envMapMode:Rn&&Rn.mapping,envMapCubeUVHeight:On,lightMap:!!je.lightMap,aoMap:!!je.aoMap,emissiveMap:!!je.emissiveMap,bumpMap:!!je.bumpMap,normalMap:!!je.normalMap,objectSpaceNormalMap:je.normalMapType===lr,tangentSpaceNormalMap:je.normalMapType===Yn,decodeVideoTexture:!!je.map&&je.map.isVideoTexture===!0&&je.map.encoding===$n,clearcoat:ur,clearcoatMap:ur&&!!je.clearcoatMap,clearcoatRoughnessMap:ur&&!!je.clearcoatRoughnessMap,clearcoatNormalMap:ur&&!!je.clearcoatNormalMap,iridescence:kr,iridescenceMap:kr&&!!je.iridescenceMap,iridescenceThicknessMap:kr&&!!je.iridescenceThicknessMap,displacementMap:!!je.displacementMap,roughnessMap:!!je.roughnessMap,metalnessMap:!!je.metalnessMap,specularMap:!!je.specularMap,specularIntensityMap:!!je.specularIntensityMap,specularColorMap:!!je.specularColorMap,opaque:je.transparent===!1&&je.blending===P,alphaMap:!!je.alphaMap,alphaTest:Sr,gradientMap:!!je.gradientMap,sheen:je.sheen>0,sheenColorMap:!!je.sheenColorMap,sheenRoughnessMap:!!je.sheenRoughnessMap,transmission:je.transmission>0,transmissionMap:!!je.transmissionMap,thicknessMap:!!je.thicknessMap,combine:je.combine,vertexTangents:!!je.normalMap&&!!Ht.attributes.tangent,vertexColors:je.vertexColors,vertexAlphas:je.vertexColors===!0&&!!Ht.attributes.color&&Ht.attributes.color.itemSize===4,vertexUvs:!!je.map||!!je.bumpMap||!!je.normalMap||!!je.specularMap||!!je.alphaMap||!!je.emissiveMap||!!je.roughnessMap||!!je.metalnessMap||!!je.clearcoatMap||!!je.clearcoatRoughnessMap||!!je.clearcoatNormalMap||!!je.iridescenceMap||!!je.iridescenceThicknessMap||!!je.displacementMap||!!je.transmissionMap||!!je.thicknessMap||!!je.specularIntensityMap||!!je.specularColorMap||!!je.sheenColorMap||!!je.sheenRoughnessMap,uvsVertexOnly:!(je.map||je.bumpMap||je.normalMap||je.specularMap||je.alphaMap||je.emissiveMap||je.roughnessMap||je.metalnessMap||je.clearcoatNormalMap||je.iridescenceMap||je.iridescenceThicknessMap||je.transmission>0||je.transmissionMap||je.thicknessMap||je.specularIntensityMap||je.specularColorMap||je.sheen>0||je.sheenColorMap||je.sheenRoughnessMap)&&!!je.displacementMap,fog:!!Wt,useFog:je.fog===!0,fogExp2:Wt&&Wt.isFogExp2,flatShading:!!je.flatShading,sizeAttenuation:je.sizeAttenuation,logarithmicDepthBuffer:ee,skinning:an.isSkinnedMesh===!0,morphTargets:Ht.morphAttributes.position!==void 0,morphNormals:Ht.morphAttributes.normal!==void 0,morphColors:Ht.morphAttributes.color!==void 0,morphTargetsCount:zn,morphTextureStride:xr,numDirLights:gt.directional.length,numPointLights:gt.point.length,numSpotLights:gt.spot.length,numSpotLightMaps:gt.spotLightMap.length,numRectAreaLights:gt.rectArea.length,numHemiLights:gt.hemi.length,numDirLightShadows:gt.directionalShadowMap.length,numPointLightShadows:gt.pointShadowMap.length,numSpotLightShadows:gt.spotShadowMap.length,numSpotLightShadowsWithMaps:gt.numSpotLightShadowsWithMaps,numClippingPlanes:N.numPlanes,numClipIntersection:N.numIntersection,dithering:je.dithering,shadowMapEnabled:H.shadowMap.enabled&&_t.length>0,shadowMapType:H.shadowMap.type,toneMapping:je.toneMapped?H.toneMapping:Tt,physicallyCorrectLights:H.physicallyCorrectLights,premultipliedAlpha:je.premultipliedAlpha,doubleSided:je.side===L,flipSided:je.side===_,useDepthPacking:!!je.depthPacking,depthPacking:je.depthPacking||0,index0AttributeName:je.index0AttributeName,extensionDerivatives:je.extensions&&je.extensions.derivatives,extensionFragDepth:je.extensions&&je.extensions.fragDepth,extensionDrawBuffers:je.extensions&&je.extensions.drawBuffers,extensionShaderTextureLOD:je.extensions&&je.extensions.shaderTextureLOD,rendererExtensionFragDepth:q||x.has("EXT_frag_depth"),rendererExtensionDrawBuffers:q||x.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:q||x.has("EXT_shader_texture_lod"),customProgramCacheKey:je.customProgramCacheKey()}}function ae(je){const gt=[];if(je.shaderID?gt.push(je.shaderID):(gt.push(je.customVertexShaderID),gt.push(je.customFragmentShaderID)),je.defines!==void 0)for(const _t in je.defines)gt.push(_t),gt.push(je.defines[_t]);return je.isRawShaderMaterial===!1&&(Re(gt,je),$e(gt,je),gt.push(H.outputEncoding)),gt.push(je.customProgramCacheKey),gt.join()}function Re(je,gt){je.push(gt.precision),je.push(gt.outputEncoding),je.push(gt.envMapMode),je.push(gt.envMapCubeUVHeight),je.push(gt.combine),je.push(gt.vertexUvs),je.push(gt.fogExp2),je.push(gt.sizeAttenuation),je.push(gt.morphTargetsCount),je.push(gt.morphAttributeCount),je.push(gt.numDirLights),je.push(gt.numPointLights),je.push(gt.numSpotLights),je.push(gt.numSpotLightMaps),je.push(gt.numHemiLights),je.push(gt.numRectAreaLights),je.push(gt.numDirLightShadows),je.push(gt.numPointLightShadows),je.push(gt.numSpotLightShadows),je.push(gt.numSpotLightShadowsWithMaps),je.push(gt.shadowMapType),je.push(gt.toneMapping),je.push(gt.numClippingPlanes),je.push(gt.numClipIntersection),je.push(gt.depthPacking)}function $e(je,gt){U.disableAll(),gt.isWebGL2&&U.enable(0),gt.supportsVertexTextures&&U.enable(1),gt.instancing&&U.enable(2),gt.instancingColor&&U.enable(3),gt.map&&U.enable(4),gt.matcap&&U.enable(5),gt.envMap&&U.enable(6),gt.lightMap&&U.enable(7),gt.aoMap&&U.enable(8),gt.emissiveMap&&U.enable(9),gt.bumpMap&&U.enable(10),gt.normalMap&&U.enable(11),gt.objectSpaceNormalMap&&U.enable(12),gt.tangentSpaceNormalMap&&U.enable(13),gt.clearcoat&&U.enable(14),gt.clearcoatMap&&U.enable(15),gt.clearcoatRoughnessMap&&U.enable(16),gt.clearcoatNormalMap&&U.enable(17),gt.iridescence&&U.enable(18),gt.iridescenceMap&&U.enable(19),gt.iridescenceThicknessMap&&U.enable(20),gt.displacementMap&&U.enable(21),gt.specularMap&&U.enable(22),gt.roughnessMap&&U.enable(23),gt.metalnessMap&&U.enable(24),gt.gradientMap&&U.enable(25),gt.alphaMap&&U.enable(26),gt.alphaTest&&U.enable(27),gt.vertexColors&&U.enable(28),gt.vertexAlphas&&U.enable(29),gt.vertexUvs&&U.enable(30),gt.vertexTangents&&U.enable(31),gt.uvsVertexOnly&&U.enable(32),je.push(U.mask),U.disableAll(),gt.fog&&U.enable(0),gt.useFog&&U.enable(1),gt.flatShading&&U.enable(2),gt.logarithmicDepthBuffer&&U.enable(3),gt.skinning&&U.enable(4),gt.morphTargets&&U.enable(5),gt.morphNormals&&U.enable(6),gt.morphColors&&U.enable(7),gt.premultipliedAlpha&&U.enable(8),gt.shadowMapEnabled&&U.enable(9),gt.physicallyCorrectLights&&U.enable(10),gt.doubleSided&&U.enable(11),gt.flipSided&&U.enable(12),gt.useDepthPacking&&U.enable(13),gt.dithering&&U.enable(14),gt.specularIntensityMap&&U.enable(15),gt.specularColorMap&&U.enable(16),gt.transmission&&U.enable(17),gt.transmissionMap&&U.enable(18),gt.thicknessMap&&U.enable(19),gt.sheen&&U.enable(20),gt.sheenColorMap&&U.enable(21),gt.sheenRoughnessMap&&U.enable(22),gt.decodeVideoTexture&&U.enable(23),gt.opaque&&U.enable(24),je.push(U.mask)}function Ne(je){const gt=de[je.type];let _t;if(gt){const jt=bl[gt];_t=DP.clone(jt.uniforms)}else _t=je.uniforms;return _t}function ze(je,gt){let _t;for(let jt=0,an=K.length;jt<an;jt++){const Wt=K[jt];if(Wt.cacheKey===gt){_t=Wt,++_t.usedTimes;break}}return _t===void 0&&(_t=new BX(H,gt,je,I),K.push(_t)),_t}function Ke(je){if(--je.usedTimes===0){const gt=K.indexOf(je);K[gt]=K[K.length-1],K.pop(),je.destroy()}}function ht(je){W.remove(je)}function Lt(){W.dispose()}return{getParameters:le,getProgramCacheKey:ae,getUniforms:Ne,acquireProgram:ze,releaseProgram:Ke,releaseShaderCache:ht,programs:K,dispose:Lt}}function FX(){let H=new WeakMap;function a(I){let N=H.get(I);return N===void 0&&(N={},H.set(I,N)),N}function f(I){H.delete(I)}function x(I,N,U){H.get(I)[N]=U}function S(){H=new WeakMap}return{get:a,remove:f,update:x,dispose:S}}function UX(H,a){return H.groupOrder!==a.groupOrder?H.groupOrder-a.groupOrder:H.renderOrder!==a.renderOrder?H.renderOrder-a.renderOrder:H.material.id!==a.material.id?H.material.id-a.material.id:H.z!==a.z?H.z-a.z:H.id-a.id}function aB(H,a){return H.groupOrder!==a.groupOrder?H.groupOrder-a.groupOrder:H.renderOrder!==a.renderOrder?H.renderOrder-a.renderOrder:H.z!==a.z?a.z-H.z:H.id-a.id}function sB(){const H=[];let a=0;const f=[],x=[],S=[];function I(){a=0,f.length=0,x.length=0,S.length=0}function N(ee,te,ie,de,le,ae){let Re=H[a];return Re===void 0?(Re={id:ee.id,object:ee,geometry:te,material:ie,groupOrder:de,renderOrder:ee.renderOrder,z:le,group:ae},H[a]=Re):(Re.id=ee.id,Re.object=ee,Re.geometry=te,Re.material=ie,Re.groupOrder=de,Re.renderOrder=ee.renderOrder,Re.z=le,Re.group=ae),a++,Re}function U(ee,te,ie,de,le,ae){const Re=N(ee,te,ie,de,le,ae);ie.transmission>0?x.push(Re):ie.transparent===!0?S.push(Re):f.push(Re)}function W(ee,te,ie,de,le,ae){const Re=N(ee,te,ie,de,le,ae);ie.transmission>0?x.unshift(Re):ie.transparent===!0?S.unshift(Re):f.unshift(Re)}function K(ee,te){f.length>1&&f.sort(ee||UX),x.length>1&&x.sort(te||aB),S.length>1&&S.sort(te||aB)}function q(){for(let ee=a,te=H.length;ee<te;ee++){const ie=H[ee];if(ie.id===null)break;ie.id=null,ie.object=null,ie.geometry=null,ie.material=null,ie.group=null}}return{opaque:f,transmissive:x,transparent:S,init:I,push:U,unshift:W,finish:q,sort:K}}function zX(){let H=new WeakMap;function a(x,S){const I=H.get(x);let N;return I===void 0?(N=new sB,H.set(x,[N])):S>=I.length?(N=new sB,I.push(N)):N=I[S],N}function f(){H=new WeakMap}return{get:a,dispose:f}}function HX(){const H={};return{get:function(a){if(H[a.id]!==void 0)return H[a.id];let f;switch(a.type){case"DirectionalLight":f={direction:new dt,color:new br};break;case"SpotLight":f={position:new dt,direction:new dt,color:new br,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":f={position:new dt,color:new br,distance:0,decay:0};break;case"HemisphereLight":f={direction:new dt,skyColor:new br,groundColor:new br};break;case"RectAreaLight":f={color:new br,position:new dt,halfWidth:new dt,halfHeight:new dt};break}return H[a.id]=f,f}}}function $X(){const H={};return{get:function(a){if(H[a.id]!==void 0)return H[a.id];let f;switch(a.type){case"DirectionalLight":f={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new In};break;case"SpotLight":f={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new In};break;case"PointLight":f={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new In,shadowCameraNear:1,shadowCameraFar:1e3};break}return H[a.id]=f,f}}}let GX=0;function jX(H,a){return(a.castShadow?2:0)-(H.castShadow?2:0)+(a.map?1:0)-(H.map?1:0)}function VX(H,a){const f=new HX,x=$X(),S={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let q=0;q<9;q++)S.probe.push(new dt);const I=new dt,N=new wr,U=new wr;function W(q,ee){let te=0,ie=0,de=0;for(let jt=0;jt<9;jt++)S.probe[jt].set(0,0,0);let le=0,ae=0,Re=0,$e=0,Ne=0,ze=0,Ke=0,ht=0,Lt=0,je=0;q.sort(jX);const gt=ee!==!0?Math.PI:1;for(let jt=0,an=q.length;jt<an;jt++){const Wt=q[jt],Ht=Wt.color,tn=Wt.intensity,Rn=Wt.distance,On=Wt.shadow&&Wt.shadow.map?Wt.shadow.map.texture:null;if(Wt.isAmbientLight)te+=Ht.r*tn*gt,ie+=Ht.g*tn*gt,de+=Ht.b*tn*gt;else if(Wt.isLightProbe)for(let Tn=0;Tn<9;Tn++)S.probe[Tn].addScaledVector(Wt.sh.coefficients[Tn],tn);else if(Wt.isDirectionalLight){const Tn=f.get(Wt);if(Tn.color.copy(Wt.color).multiplyScalar(Wt.intensity*gt),Wt.castShadow){const Qn=Wt.shadow,zn=x.get(Wt);zn.shadowBias=Qn.bias,zn.shadowNormalBias=Qn.normalBias,zn.shadowRadius=Qn.radius,zn.shadowMapSize=Qn.mapSize,S.directionalShadow[le]=zn,S.directionalShadowMap[le]=On,S.directionalShadowMatrix[le]=Wt.shadow.matrix,ze++}S.directional[le]=Tn,le++}else if(Wt.isSpotLight){const Tn=f.get(Wt);Tn.position.setFromMatrixPosition(Wt.matrixWorld),Tn.color.copy(Ht).multiplyScalar(tn*gt),Tn.distance=Rn,Tn.coneCos=Math.cos(Wt.angle),Tn.penumbraCos=Math.cos(Wt.angle*(1-Wt.penumbra)),Tn.decay=Wt.decay,S.spot[Re]=Tn;const Qn=Wt.shadow;if(Wt.map&&(S.spotLightMap[Lt]=Wt.map,Lt++,Qn.updateMatrices(Wt),Wt.castShadow&&je++),S.spotLightMatrix[Re]=Qn.matrix,Wt.castShadow){const zn=x.get(Wt);zn.shadowBias=Qn.bias,zn.shadowNormalBias=Qn.normalBias,zn.shadowRadius=Qn.radius,zn.shadowMapSize=Qn.mapSize,S.spotShadow[Re]=zn,S.spotShadowMap[Re]=On,ht++}Re++}else if(Wt.isRectAreaLight){const Tn=f.get(Wt);Tn.color.copy(Ht).multiplyScalar(tn),Tn.halfWidth.set(Wt.width*.5,0,0),Tn.halfHeight.set(0,Wt.height*.5,0),S.rectArea[$e]=Tn,$e++}else if(Wt.isPointLight){const Tn=f.get(Wt);if(Tn.color.copy(Wt.color).multiplyScalar(Wt.intensity*gt),Tn.distance=Wt.distance,Tn.decay=Wt.decay,Wt.castShadow){const Qn=Wt.shadow,zn=x.get(Wt);zn.shadowBias=Qn.bias,zn.shadowNormalBias=Qn.normalBias,zn.shadowRadius=Qn.radius,zn.shadowMapSize=Qn.mapSize,zn.shadowCameraNear=Qn.camera.near,zn.shadowCameraFar=Qn.camera.far,S.pointShadow[ae]=zn,S.pointShadowMap[ae]=On,S.pointShadowMatrix[ae]=Wt.shadow.matrix,Ke++}S.point[ae]=Tn,ae++}else if(Wt.isHemisphereLight){const Tn=f.get(Wt);Tn.skyColor.copy(Wt.color).multiplyScalar(tn*gt),Tn.groundColor.copy(Wt.groundColor).multiplyScalar(tn*gt),S.hemi[Ne]=Tn,Ne++}}$e>0&&(a.isWebGL2||H.has("OES_texture_float_linear")===!0?(S.rectAreaLTC1=ir.LTC_FLOAT_1,S.rectAreaLTC2=ir.LTC_FLOAT_2):H.has("OES_texture_half_float_linear")===!0?(S.rectAreaLTC1=ir.LTC_HALF_1,S.rectAreaLTC2=ir.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),S.ambient[0]=te,S.ambient[1]=ie,S.ambient[2]=de;const _t=S.hash;(_t.directionalLength!==le||_t.pointLength!==ae||_t.spotLength!==Re||_t.rectAreaLength!==$e||_t.hemiLength!==Ne||_t.numDirectionalShadows!==ze||_t.numPointShadows!==Ke||_t.numSpotShadows!==ht||_t.numSpotMaps!==Lt)&&(S.directional.length=le,S.spot.length=Re,S.rectArea.length=$e,S.point.length=ae,S.hemi.length=Ne,S.directionalShadow.length=ze,S.directionalShadowMap.length=ze,S.pointShadow.length=Ke,S.pointShadowMap.length=Ke,S.spotShadow.length=ht,S.spotShadowMap.length=ht,S.directionalShadowMatrix.length=ze,S.pointShadowMatrix.length=Ke,S.spotLightMatrix.length=ht+Lt-je,S.spotLightMap.length=Lt,S.numSpotLightShadowsWithMaps=je,_t.directionalLength=le,_t.pointLength=ae,_t.spotLength=Re,_t.rectAreaLength=$e,_t.hemiLength=Ne,_t.numDirectionalShadows=ze,_t.numPointShadows=Ke,_t.numSpotShadows=ht,_t.numSpotMaps=Lt,S.version=GX++)}function K(q,ee){let te=0,ie=0,de=0,le=0,ae=0;const Re=ee.matrixWorldInverse;for(let $e=0,Ne=q.length;$e<Ne;$e++){const ze=q[$e];if(ze.isDirectionalLight){const Ke=S.directional[te];Ke.direction.setFromMatrixPosition(ze.matrixWorld),I.setFromMatrixPosition(ze.target.matrixWorld),Ke.direction.sub(I),Ke.direction.transformDirection(Re),te++}else if(ze.isSpotLight){const Ke=S.spot[de];Ke.position.setFromMatrixPosition(ze.matrixWorld),Ke.position.applyMatrix4(Re),Ke.direction.setFromMatrixPosition(ze.matrixWorld),I.setFromMatrixPosition(ze.target.matrixWorld),Ke.direction.sub(I),Ke.direction.transformDirection(Re),de++}else if(ze.isRectAreaLight){const Ke=S.rectArea[le];Ke.position.setFromMatrixPosition(ze.matrixWorld),Ke.position.applyMatrix4(Re),U.identity(),N.copy(ze.matrixWorld),N.premultiply(Re),U.extractRotation(N),Ke.halfWidth.set(ze.width*.5,0,0),Ke.halfHeight.set(0,ze.height*.5,0),Ke.halfWidth.applyMatrix4(U),Ke.halfHeight.applyMatrix4(U),le++}else if(ze.isPointLight){const Ke=S.point[ie];Ke.position.setFromMatrixPosition(ze.matrixWorld),Ke.position.applyMatrix4(Re),ie++}else if(ze.isHemisphereLight){const Ke=S.hemi[ae];Ke.direction.setFromMatrixPosition(ze.matrixWorld),Ke.direction.transformDirection(Re),ae++}}}return{setup:W,setupView:K,state:S}}function lB(H,a){const f=new VX(H,a),x=[],S=[];function I(){x.length=0,S.length=0}function N(ee){x.push(ee)}function U(ee){S.push(ee)}function W(ee){f.setup(x,ee)}function K(ee){f.setupView(x,ee)}return{init:I,state:{lightsArray:x,shadowsArray:S,lights:f},setupLights:W,setupLightsView:K,pushLight:N,pushShadow:U}}function WX(H,a){let f=new WeakMap;function x(I,N=0){const U=f.get(I);let W;return U===void 0?(W=new lB(H,a),f.set(I,[W])):N>=U.length?(W=new lB(H,a),U.push(W)):W=U[N],W}function S(){f=new WeakMap}return{get:x,dispose:S}}class eS extends Ca{constructor(a){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=fn,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(a)}copy(a){return super.copy(a),this.depthPacking=a.depthPacking,this.map=a.map,this.alphaMap=a.alphaMap,this.displacementMap=a.displacementMap,this.displacementScale=a.displacementScale,this.displacementBias=a.displacementBias,this.wireframe=a.wireframe,this.wireframeLinewidth=a.wireframeLinewidth,this}}class tS extends Ca{constructor(a){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new dt,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(a)}copy(a){return super.copy(a),this.referencePosition.copy(a.referencePosition),this.nearDistance=a.nearDistance,this.farDistance=a.farDistance,this.map=a.map,this.alphaMap=a.alphaMap,this.displacementMap=a.displacementMap,this.displacementScale=a.displacementScale,this.displacementBias=a.displacementBias,this}}const QX=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,KX=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function XX(H,a,f){let x=new Ty;const S=new In,I=new In,N=new wi,U=new eS({depthPacking:xn}),W=new tS,K={},q=f.maxTextureSize,ee={0:_,1:C,2:L},te=new oc({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new In},radius:{value:4}},vertexShader:QX,fragmentShader:KX}),ie=te.clone();ie.defines.HORIZONTAL_PASS=1;const de=new ci;de.setAttribute("position",new Vi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const le=new pa(de,te),ae=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=g,this.render=function(ze,Ke,ht){if(ae.enabled===!1||ae.autoUpdate===!1&&ae.needsUpdate===!1||ze.length===0)return;const Lt=H.getRenderTarget(),je=H.getActiveCubeFace(),gt=H.getActiveMipmapLevel(),_t=H.state;_t.setBlending(R),_t.buffers.color.setClear(1,1,1,1),_t.buffers.depth.setTest(!0),_t.setScissorTest(!1);for(let jt=0,an=ze.length;jt<an;jt++){const Wt=ze[jt],Ht=Wt.shadow;if(Ht===void 0){console.warn("THREE.WebGLShadowMap:",Wt,"has no shadow.");continue}if(Ht.autoUpdate===!1&&Ht.needsUpdate===!1)continue;S.copy(Ht.mapSize);const tn=Ht.getFrameExtents();if(S.multiply(tn),I.copy(Ht.mapSize),(S.x>q||S.y>q)&&(S.x>q&&(I.x=Math.floor(q/tn.x),S.x=I.x*tn.x,Ht.mapSize.x=I.x),S.y>q&&(I.y=Math.floor(q/tn.y),S.y=I.y*tn.y,Ht.mapSize.y=I.y)),Ht.map===null){const On=this.type!==E?{minFilter:ce,magFilter:ce}:{};Ht.map=new ns(S.x,S.y,On),Ht.map.texture.name=Wt.name+".shadowMap",Ht.camera.updateProjectionMatrix()}H.setRenderTarget(Ht.map),H.clear();const Rn=Ht.getViewportCount();for(let On=0;On<Rn;On++){const Tn=Ht.getViewport(On);N.set(I.x*Tn.x,I.y*Tn.y,I.x*Tn.z,I.y*Tn.w),_t.viewport(N),Ht.updateMatrices(Wt,On),x=Ht.getFrustum(),Ne(Ke,ht,Ht.camera,Wt,this.type)}Ht.isPointLightShadow!==!0&&this.type===E&&Re(Ht,ht),Ht.needsUpdate=!1}ae.needsUpdate=!1,H.setRenderTarget(Lt,je,gt)};function Re(ze,Ke){const ht=a.update(le);te.defines.VSM_SAMPLES!==ze.blurSamples&&(te.defines.VSM_SAMPLES=ze.blurSamples,ie.defines.VSM_SAMPLES=ze.blurSamples,te.needsUpdate=!0,ie.needsUpdate=!0),ze.mapPass===null&&(ze.mapPass=new ns(S.x,S.y)),te.uniforms.shadow_pass.value=ze.map.texture,te.uniforms.resolution.value=ze.mapSize,te.uniforms.radius.value=ze.radius,H.setRenderTarget(ze.mapPass),H.clear(),H.renderBufferDirect(Ke,null,ht,te,le,null),ie.uniforms.shadow_pass.value=ze.mapPass.texture,ie.uniforms.resolution.value=ze.mapSize,ie.uniforms.radius.value=ze.radius,H.setRenderTarget(ze.map),H.clear(),H.renderBufferDirect(Ke,null,ht,ie,le,null)}function $e(ze,Ke,ht,Lt,je,gt){let _t=null;const jt=ht.isPointLight===!0?ze.customDistanceMaterial:ze.customDepthMaterial;if(jt!==void 0?_t=jt:_t=ht.isPointLight===!0?W:U,H.localClippingEnabled&&Ke.clipShadows===!0&&Array.isArray(Ke.clippingPlanes)&&Ke.clippingPlanes.length!==0||Ke.displacementMap&&Ke.displacementScale!==0||Ke.alphaMap&&Ke.alphaTest>0||Ke.map&&Ke.alphaTest>0){const an=_t.uuid,Wt=Ke.uuid;let Ht=K[an];Ht===void 0&&(Ht={},K[an]=Ht);let tn=Ht[Wt];tn===void 0&&(tn=_t.clone(),Ht[Wt]=tn),_t=tn}return _t.visible=Ke.visible,_t.wireframe=Ke.wireframe,gt===E?_t.side=Ke.shadowSide!==null?Ke.shadowSide:Ke.side:_t.side=Ke.shadowSide!==null?Ke.shadowSide:ee[Ke.side],_t.alphaMap=Ke.alphaMap,_t.alphaTest=Ke.alphaTest,_t.map=Ke.map,_t.clipShadows=Ke.clipShadows,_t.clippingPlanes=Ke.clippingPlanes,_t.clipIntersection=Ke.clipIntersection,_t.displacementMap=Ke.displacementMap,_t.displacementScale=Ke.displacementScale,_t.displacementBias=Ke.displacementBias,_t.wireframeLinewidth=Ke.wireframeLinewidth,_t.linewidth=Ke.linewidth,ht.isPointLight===!0&&_t.isMeshDistanceMaterial===!0&&(_t.referencePosition.setFromMatrixPosition(ht.matrixWorld),_t.nearDistance=Lt,_t.farDistance=je),_t}function Ne(ze,Ke,ht,Lt,je){if(ze.visible===!1)return;if(ze.layers.test(Ke.layers)&&(ze.isMesh||ze.isLine||ze.isPoints)&&(ze.castShadow||ze.receiveShadow&&je===E)&&(!ze.frustumCulled||x.intersectsObject(ze))){ze.modelViewMatrix.multiplyMatrices(ht.matrixWorldInverse,ze.matrixWorld);const jt=a.update(ze),an=ze.material;if(Array.isArray(an)){const Wt=jt.groups;for(let Ht=0,tn=Wt.length;Ht<tn;Ht++){const Rn=Wt[Ht],On=an[Rn.materialIndex];if(On&&On.visible){const Tn=$e(ze,On,Lt,ht.near,ht.far,je);H.renderBufferDirect(ht,null,jt,Tn,ze,Rn)}}}else if(an.visible){const Wt=$e(ze,an,Lt,ht.near,ht.far,je);H.renderBufferDirect(ht,null,jt,Wt,ze,null)}}const _t=ze.children;for(let jt=0,an=_t.length;jt<an;jt++)Ne(_t[jt],Ke,ht,Lt,je)}}function qX(H,a,f){const x=f.isWebGL2;function S(){let zt=!1;const En=new wi;let Vn=null;const Er=new wi(0,0,0,0);return{setMask:function(Nr){Vn!==Nr&&!zt&&(H.colorMask(Nr,Nr,Nr,Nr),Vn=Nr)},setLocked:function(Nr){zt=Nr},setClear:function(Nr,Di,ea,wa,_f){_f===!0&&(Nr*=wa,Di*=wa,ea*=wa),En.set(Nr,Di,ea,wa),Er.equals(En)===!1&&(H.clearColor(Nr,Di,ea,wa),Er.copy(En))},reset:function(){zt=!1,Vn=null,Er.set(-1,0,0,0)}}}function I(){let zt=!1,En=null,Vn=null,Er=null;return{setTest:function(Nr){Nr?Sr(2929):ur(2929)},setMask:function(Nr){En!==Nr&&!zt&&(H.depthMask(Nr),En=Nr)},setFunc:function(Nr){if(Vn!==Nr){switch(Nr){case He:H.depthFunc(512);break;case Ze:H.depthFunc(519);break;case Xe:H.depthFunc(513);break;case ke:H.depthFunc(515);break;case lt:H.depthFunc(514);break;case ot:H.depthFunc(518);break;case it:H.depthFunc(516);break;case ft:H.depthFunc(517);break;default:H.depthFunc(515)}Vn=Nr}},setLocked:function(Nr){zt=Nr},setClear:function(Nr){Er!==Nr&&(H.clearDepth(Nr),Er=Nr)},reset:function(){zt=!1,En=null,Vn=null,Er=null}}}function N(){let zt=!1,En=null,Vn=null,Er=null,Nr=null,Di=null,ea=null,wa=null,_f=null;return{setTest:function(io){zt||(io?Sr(2960):ur(2960))},setMask:function(io){En!==io&&!zt&&(H.stencilMask(io),En=io)},setFunc:function(io,Gc,Vs){(Vn!==io||Er!==Gc||Nr!==Vs)&&(H.stencilFunc(io,Gc,Vs),Vn=io,Er=Gc,Nr=Vs)},setOp:function(io,Gc,Vs){(Di!==io||ea!==Gc||wa!==Vs)&&(H.stencilOp(io,Gc,Vs),Di=io,ea=Gc,wa=Vs)},setLocked:function(io){zt=io},setClear:function(io){_f!==io&&(H.clearStencil(io),_f=io)},reset:function(){zt=!1,En=null,Vn=null,Er=null,Nr=null,Di=null,ea=null,wa=null,_f=null}}}const U=new S,W=new I,K=new N,q=new WeakMap,ee=new WeakMap;let te={},ie={},de=new WeakMap,le=[],ae=null,Re=!1,$e=null,Ne=null,ze=null,Ke=null,ht=null,Lt=null,je=null,gt=!1,_t=null,jt=null,an=null,Wt=null,Ht=null;const tn=H.getParameter(35661);let Rn=!1,On=0;const Tn=H.getParameter(7938);Tn.indexOf("WebGL")!==-1?(On=parseFloat(/^WebGL (\d)/.exec(Tn)[1]),Rn=On>=1):Tn.indexOf("OpenGL ES")!==-1&&(On=parseFloat(/^OpenGL ES (\d)/.exec(Tn)[1]),Rn=On>=2);let Qn=null,zn={};const xr=H.getParameter(3088),fr=H.getParameter(2978),hn=new wi().fromArray(xr),Dn=new wi().fromArray(fr);function cr(zt,En,Vn){const Er=new Uint8Array(4),Nr=H.createTexture();H.bindTexture(zt,Nr),H.texParameteri(zt,10241,9728),H.texParameteri(zt,10240,9728);for(let Di=0;Di<Vn;Di++)H.texImage2D(En+Di,0,6408,1,1,0,6408,5121,Er);return Nr}const rn={};rn[3553]=cr(3553,3553,1),rn[34067]=cr(34067,34069,6),U.setClear(0,0,0,1),W.setClear(1),K.setClear(0),Sr(2929),W.setFunc(ke),hr(!1),Jr(v),Sr(2884),nr(R);function Sr(zt){te[zt]!==!0&&(H.enable(zt),te[zt]=!0)}function ur(zt){te[zt]!==!1&&(H.disable(zt),te[zt]=!1)}function kr(zt,En){return ie[zt]!==En?(H.bindFramebuffer(zt,En),ie[zt]=En,x&&(zt===36009&&(ie[36160]=En),zt===36160&&(ie[36009]=En)),!0):!1}function Jn(zt,En){let Vn=le,Er=!1;if(zt)if(Vn=de.get(En),Vn===void 0&&(Vn=[],de.set(En,Vn)),zt.isWebGLMultipleRenderTargets){const Nr=zt.texture;if(Vn.length!==Nr.length||Vn[0]!==36064){for(let Di=0,ea=Nr.length;Di<ea;Di++)Vn[Di]=36064+Di;Vn.length=Nr.length,Er=!0}}else Vn[0]!==36064&&(Vn[0]=36064,Er=!0);else Vn[0]!==1029&&(Vn[0]=1029,Er=!0);Er&&(f.isWebGL2?H.drawBuffers(Vn):a.get("WEBGL_draw_buffers").drawBuffersWEBGL(Vn))}function oi(zt){return ae!==zt?(H.useProgram(zt),ae=zt,!0):!1}const Ln={[B]:32774,[O]:32778,[F]:32779};if(x)Ln[k]=32775,Ln[z]=32776;else{const zt=a.get("EXT_blend_minmax");zt!==null&&(Ln[k]=zt.MIN_EXT,Ln[z]=zt.MAX_EXT)}const _n={[G]:0,[j]:1,[Q]:768,[J]:770,[Ie]:776,[Be]:774,[oe]:772,[X]:769,[Z]:771,[ge]:775,[ue]:773};function nr(zt,En,Vn,Er,Nr,Di,ea,wa){if(zt===R){Re===!0&&(ur(3042),Re=!1);return}if(Re===!1&&(Sr(3042),Re=!0),zt!==V){if(zt!==$e||wa!==gt){if((Ne!==B||ht!==B)&&(H.blendEquation(32774),Ne=B,ht=B),wa)switch(zt){case P:H.blendFuncSeparate(1,771,1,771);break;case T:H.blendFunc(1,1);break;case D:H.blendFuncSeparate(0,769,0,1);break;case $:H.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",zt);break}else switch(zt){case P:H.blendFuncSeparate(770,771,1,771);break;case T:H.blendFunc(770,1);break;case D:H.blendFuncSeparate(0,769,0,1);break;case $:H.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",zt);break}ze=null,Ke=null,Lt=null,je=null,$e=zt,gt=wa}return}Nr=Nr||En,Di=Di||Vn,ea=ea||Er,(En!==Ne||Nr!==ht)&&(H.blendEquationSeparate(Ln[En],Ln[Nr]),Ne=En,ht=Nr),(Vn!==ze||Er!==Ke||Di!==Lt||ea!==je)&&(H.blendFuncSeparate(_n[Vn],_n[Er],_n[Di],_n[ea]),ze=Vn,Ke=Er,Lt=Di,je=ea),$e=zt,gt=!1}function Or(zt,En){zt.side===L?ur(2884):Sr(2884);let Vn=zt.side===_;En&&(Vn=!Vn),hr(Vn),zt.blending===P&&zt.transparent===!1?nr(R):nr(zt.blending,zt.blendEquation,zt.blendSrc,zt.blendDst,zt.blendEquationAlpha,zt.blendSrcAlpha,zt.blendDstAlpha,zt.premultipliedAlpha),W.setFunc(zt.depthFunc),W.setTest(zt.depthTest),W.setMask(zt.depthWrite),U.setMask(zt.colorWrite);const Er=zt.stencilWrite;K.setTest(Er),Er&&(K.setMask(zt.stencilWriteMask),K.setFunc(zt.stencilFunc,zt.stencilRef,zt.stencilFuncMask),K.setOp(zt.stencilFail,zt.stencilZFail,zt.stencilZPass)),Ur(zt.polygonOffset,zt.polygonOffsetFactor,zt.polygonOffsetUnits),zt.alphaToCoverage===!0?Sr(32926):ur(32926)}function hr(zt){_t!==zt&&(zt?H.frontFace(2304):H.frontFace(2305),_t=zt)}function Jr(zt){zt!==m?(Sr(2884),zt!==jt&&(zt===v?H.cullFace(1029):zt===y?H.cullFace(1028):H.cullFace(1032))):ur(2884),jt=zt}function Vr(zt){zt!==an&&(Rn&&H.lineWidth(zt),an=zt)}function Ur(zt,En,Vn){zt?(Sr(32823),(Wt!==En||Ht!==Vn)&&(H.polygonOffset(En,Vn),Wt=En,Ht=Vn)):ur(32823)}function Wi(zt){zt?Sr(3089):ur(3089)}function ki(zt){zt===void 0&&(zt=33984+tn-1),Qn!==zt&&(H.activeTexture(zt),Qn=zt)}function vt(zt,En,Vn){Vn===void 0&&(Qn===null?Vn=33984+tn-1:Vn=Qn);let Er=zn[Vn];Er===void 0&&(Er={type:void 0,texture:void 0},zn[Vn]=Er),(Er.type!==zt||Er.texture!==En)&&(Qn!==Vn&&(H.activeTexture(Vn),Qn=Vn),H.bindTexture(zt,En||rn[zt]),Er.type=zt,Er.texture=En)}function rt(){const zt=zn[Qn];zt!==void 0&&zt.type!==void 0&&(H.bindTexture(zt.type,null),zt.type=void 0,zt.texture=void 0)}function un(){try{H.compressedTexImage2D.apply(H,arguments)}catch(zt){console.error("THREE.WebGLState:",zt)}}function Kn(){try{H.compressedTexImage3D.apply(H,arguments)}catch(zt){console.error("THREE.WebGLState:",zt)}}function Zn(){try{H.texSubImage2D.apply(H,arguments)}catch(zt){console.error("THREE.WebGLState:",zt)}}function gr(){try{H.texSubImage3D.apply(H,arguments)}catch(zt){console.error("THREE.WebGLState:",zt)}}function Yr(){try{H.compressedTexSubImage2D.apply(H,arguments)}catch(zt){console.error("THREE.WebGLState:",zt)}}function Ar(){try{H.compressedTexSubImage3D.apply(H,arguments)}catch(zt){console.error("THREE.WebGLState:",zt)}}function Mn(){try{H.texStorage2D.apply(H,arguments)}catch(zt){console.error("THREE.WebGLState:",zt)}}function zr(){try{H.texStorage3D.apply(H,arguments)}catch(zt){console.error("THREE.WebGLState:",zt)}}function qr(){try{H.texImage2D.apply(H,arguments)}catch(zt){console.error("THREE.WebGLState:",zt)}}function Rr(){try{H.texImage3D.apply(H,arguments)}catch(zt){console.error("THREE.WebGLState:",zt)}}function Wr(zt){hn.equals(zt)===!1&&(H.scissor(zt.x,zt.y,zt.z,zt.w),hn.copy(zt))}function Hr(zt){Dn.equals(zt)===!1&&(H.viewport(zt.x,zt.y,zt.z,zt.w),Dn.copy(zt))}function Li(zt,En){let Vn=ee.get(En);Vn===void 0&&(Vn=new WeakMap,ee.set(En,Vn));let Er=Vn.get(zt);Er===void 0&&(Er=H.getUniformBlockIndex(En,zt.name),Vn.set(zt,Er))}function ro(zt,En){const Er=ee.get(En).get(zt);q.get(zt)!==Er&&(H.uniformBlockBinding(En,Er,zt.__bindingPointIndex),q.set(zt,Er))}function Zo(){H.disable(3042),H.disable(2884),H.disable(2929),H.disable(32823),H.disable(3089),H.disable(2960),H.disable(32926),H.blendEquation(32774),H.blendFunc(1,0),H.blendFuncSeparate(1,0,1,0),H.colorMask(!0,!0,!0,!0),H.clearColor(0,0,0,0),H.depthMask(!0),H.depthFunc(513),H.clearDepth(1),H.stencilMask(4294967295),H.stencilFunc(519,0,4294967295),H.stencilOp(7680,7680,7680),H.clearStencil(0),H.cullFace(1029),H.frontFace(2305),H.polygonOffset(0,0),H.activeTexture(33984),H.bindFramebuffer(36160,null),x===!0&&(H.bindFramebuffer(36009,null),H.bindFramebuffer(36008,null)),H.useProgram(null),H.lineWidth(1),H.scissor(0,0,H.canvas.width,H.canvas.height),H.viewport(0,0,H.canvas.width,H.canvas.height),te={},Qn=null,zn={},ie={},de=new WeakMap,le=[],ae=null,Re=!1,$e=null,Ne=null,ze=null,Ke=null,ht=null,Lt=null,je=null,gt=!1,_t=null,jt=null,an=null,Wt=null,Ht=null,hn.set(0,0,H.canvas.width,H.canvas.height),Dn.set(0,0,H.canvas.width,H.canvas.height),U.reset(),W.reset(),K.reset()}return{buffers:{color:U,depth:W,stencil:K},enable:Sr,disable:ur,bindFramebuffer:kr,drawBuffers:Jn,useProgram:oi,setBlending:nr,setMaterial:Or,setFlipSided:hr,setCullFace:Jr,setLineWidth:Vr,setPolygonOffset:Ur,setScissorTest:Wi,activeTexture:ki,bindTexture:vt,unbindTexture:rt,compressedTexImage2D:un,compressedTexImage3D:Kn,texImage2D:qr,texImage3D:Rr,updateUBOMapping:Li,uniformBlockBinding:ro,texStorage2D:Mn,texStorage3D:zr,texSubImage2D:Zn,texSubImage3D:gr,compressedTexSubImage2D:Yr,compressedTexSubImage3D:Ar,scissor:Wr,viewport:Hr,reset:Zo}}function YX(H,a,f,x,S,I,N){const U=S.isWebGL2,W=S.maxTextures,K=S.maxCubemapSize,q=S.maxTextureSize,ee=S.maxSamples,te=a.has("WEBGL_multisampled_render_to_texture")?a.get("WEBGL_multisampled_render_to_texture"):null,ie=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),de=new WeakMap;let le;const ae=new WeakMap;let Re=!1;try{Re=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function $e(vt,rt){return Re?new OffscreenCanvas(vt,rt):of("canvas")}function Ne(vt,rt,un,Kn){let Zn=1;if((vt.width>Kn||vt.height>Kn)&&(Zn=Kn/Math.max(vt.width,vt.height)),Zn<1||rt===!0)if(typeof HTMLImageElement<"u"&&vt instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&vt instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&vt instanceof ImageBitmap){const gr=rt?Dh:Math.floor,Yr=gr(Zn*vt.width),Ar=gr(Zn*vt.height);le===void 0&&(le=$e(Yr,Ar));const Mn=un?$e(Yr,Ar):le;return Mn.width=Yr,Mn.height=Ar,Mn.getContext("2d").drawImage(vt,0,0,Yr,Ar),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+vt.width+"x"+vt.height+") to ("+Yr+"x"+Ar+")."),Mn}else return"data"in vt&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+vt.width+"x"+vt.height+")."),vt;return vt}function ze(vt){return Tg(vt.width)&&Tg(vt.height)}function Ke(vt){return U?!1:vt.wrapS!==Ue||vt.wrapT!==Ue||vt.minFilter!==ce&&vt.minFilter!==ve}function ht(vt,rt){return vt.generateMipmaps&&rt&&vt.minFilter!==ce&&vt.minFilter!==ve}function Lt(vt){H.generateMipmap(vt)}function je(vt,rt,un,Kn,Zn=!1){if(U===!1)return rt;if(vt!==null){if(H[vt]!==void 0)return H[vt];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+vt+"'")}let gr=rt;return rt===6403&&(un===5126&&(gr=33326),un===5131&&(gr=33325),un===5121&&(gr=33321)),rt===33319&&(un===5126&&(gr=33328),un===5131&&(gr=33327),un===5121&&(gr=33323)),rt===6408&&(un===5126&&(gr=34836),un===5131&&(gr=34842),un===5121&&(gr=Kn===$n&&Zn===!1?35907:32856),un===32819&&(gr=32854),un===32820&&(gr=32855)),(gr===33325||gr===33326||gr===33327||gr===33328||gr===34842||gr===34836)&&a.get("EXT_color_buffer_float"),gr}function gt(vt,rt,un){return ht(vt,un)===!0||vt.isFramebufferTexture&&vt.minFilter!==ce&&vt.minFilter!==ve?Math.log2(Math.max(rt.width,rt.height))+1:vt.mipmaps!==void 0&&vt.mipmaps.length>0?vt.mipmaps.length:vt.isCompressedTexture&&Array.isArray(vt.image)?rt.mipmaps.length:1}function _t(vt){return vt===ce||vt===Y||vt===Le?9728:9729}function jt(vt){const rt=vt.target;rt.removeEventListener("dispose",jt),Wt(rt),rt.isVideoTexture&&de.delete(rt)}function an(vt){const rt=vt.target;rt.removeEventListener("dispose",an),tn(rt)}function Wt(vt){const rt=x.get(vt);if(rt.__webglInit===void 0)return;const un=vt.source,Kn=ae.get(un);if(Kn){const Zn=Kn[rt.__cacheKey];Zn.usedTimes--,Zn.usedTimes===0&&Ht(vt),Object.keys(Kn).length===0&&ae.delete(un)}x.remove(vt)}function Ht(vt){const rt=x.get(vt);H.deleteTexture(rt.__webglTexture);const un=vt.source,Kn=ae.get(un);delete Kn[rt.__cacheKey],N.memory.textures--}function tn(vt){const rt=vt.texture,un=x.get(vt),Kn=x.get(rt);if(Kn.__webglTexture!==void 0&&(H.deleteTexture(Kn.__webglTexture),N.memory.textures--),vt.depthTexture&&vt.depthTexture.dispose(),vt.isWebGLCubeRenderTarget)for(let Zn=0;Zn<6;Zn++)H.deleteFramebuffer(un.__webglFramebuffer[Zn]),un.__webglDepthbuffer&&H.deleteRenderbuffer(un.__webglDepthbuffer[Zn]);else{if(H.deleteFramebuffer(un.__webglFramebuffer),un.__webglDepthbuffer&&H.deleteRenderbuffer(un.__webglDepthbuffer),un.__webglMultisampledFramebuffer&&H.deleteFramebuffer(un.__webglMultisampledFramebuffer),un.__webglColorRenderbuffer)for(let Zn=0;Zn<un.__webglColorRenderbuffer.length;Zn++)un.__webglColorRenderbuffer[Zn]&&H.deleteRenderbuffer(un.__webglColorRenderbuffer[Zn]);un.__webglDepthRenderbuffer&&H.deleteRenderbuffer(un.__webglDepthRenderbuffer)}if(vt.isWebGLMultipleRenderTargets)for(let Zn=0,gr=rt.length;Zn<gr;Zn++){const Yr=x.get(rt[Zn]);Yr.__webglTexture&&(H.deleteTexture(Yr.__webglTexture),N.memory.textures--),x.remove(rt[Zn])}x.remove(rt),x.remove(vt)}let Rn=0;function On(){Rn=0}function Tn(){const vt=Rn;return vt>=W&&console.warn("THREE.WebGLTextures: Trying to use "+vt+" texture units while this GPU supports only "+W),Rn+=1,vt}function Qn(vt){const rt=[];return rt.push(vt.wrapS),rt.push(vt.wrapT),rt.push(vt.wrapR||0),rt.push(vt.magFilter),rt.push(vt.minFilter),rt.push(vt.anisotropy),rt.push(vt.internalFormat),rt.push(vt.format),rt.push(vt.type),rt.push(vt.generateMipmaps),rt.push(vt.premultiplyAlpha),rt.push(vt.flipY),rt.push(vt.unpackAlignment),rt.push(vt.encoding),rt.join()}function zn(vt,rt){const un=x.get(vt);if(vt.isVideoTexture&&Wi(vt),vt.isRenderTargetTexture===!1&&vt.version>0&&un.__version!==vt.version){const Kn=vt.image;if(Kn===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Kn.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ur(un,vt,rt);return}}f.bindTexture(3553,un.__webglTexture,33984+rt)}function xr(vt,rt){const un=x.get(vt);if(vt.version>0&&un.__version!==vt.version){ur(un,vt,rt);return}f.bindTexture(35866,un.__webglTexture,33984+rt)}function fr(vt,rt){const un=x.get(vt);if(vt.version>0&&un.__version!==vt.version){ur(un,vt,rt);return}f.bindTexture(32879,un.__webglTexture,33984+rt)}function hn(vt,rt){const un=x.get(vt);if(vt.version>0&&un.__version!==vt.version){kr(un,vt,rt);return}f.bindTexture(34067,un.__webglTexture,33984+rt)}const Dn={[Ae]:10497,[Ue]:33071,[et]:33648},cr={[ce]:9728,[Y]:9984,[Le]:9986,[ve]:9729,[he]:9985,[Je]:9987};function rn(vt,rt,un){if(un?(H.texParameteri(vt,10242,Dn[rt.wrapS]),H.texParameteri(vt,10243,Dn[rt.wrapT]),(vt===32879||vt===35866)&&H.texParameteri(vt,32882,Dn[rt.wrapR]),H.texParameteri(vt,10240,cr[rt.magFilter]),H.texParameteri(vt,10241,cr[rt.minFilter])):(H.texParameteri(vt,10242,33071),H.texParameteri(vt,10243,33071),(vt===32879||vt===35866)&&H.texParameteri(vt,32882,33071),(rt.wrapS!==Ue||rt.wrapT!==Ue)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),H.texParameteri(vt,10240,_t(rt.magFilter)),H.texParameteri(vt,10241,_t(rt.minFilter)),rt.minFilter!==ce&&rt.minFilter!==ve&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),a.has("EXT_texture_filter_anisotropic")===!0){const Kn=a.get("EXT_texture_filter_anisotropic");if(rt.type===Pt&&a.has("OES_texture_float_linear")===!1||U===!1&&rt.type===pt&&a.has("OES_texture_half_float_linear")===!1)return;(rt.anisotropy>1||x.get(rt).__currentAnisotropy)&&(H.texParameterf(vt,Kn.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(rt.anisotropy,S.getMaxAnisotropy())),x.get(rt).__currentAnisotropy=rt.anisotropy)}}function Sr(vt,rt){let un=!1;vt.__webglInit===void 0&&(vt.__webglInit=!0,rt.addEventListener("dispose",jt));const Kn=rt.source;let Zn=ae.get(Kn);Zn===void 0&&(Zn={},ae.set(Kn,Zn));const gr=Qn(rt);if(gr!==vt.__cacheKey){Zn[gr]===void 0&&(Zn[gr]={texture:H.createTexture(),usedTimes:0},N.memory.textures++,un=!0),Zn[gr].usedTimes++;const Yr=Zn[vt.__cacheKey];Yr!==void 0&&(Zn[vt.__cacheKey].usedTimes--,Yr.usedTimes===0&&Ht(rt)),vt.__cacheKey=gr,vt.__webglTexture=Zn[gr].texture}return un}function ur(vt,rt,un){let Kn=3553;(rt.isDataArrayTexture||rt.isCompressedArrayTexture)&&(Kn=35866),rt.isData3DTexture&&(Kn=32879);const Zn=Sr(vt,rt),gr=rt.source;f.bindTexture(Kn,vt.__webglTexture,33984+un);const Yr=x.get(gr);if(gr.version!==Yr.__version||Zn===!0){f.activeTexture(33984+un),H.pixelStorei(37440,rt.flipY),H.pixelStorei(37441,rt.premultiplyAlpha),H.pixelStorei(3317,rt.unpackAlignment),H.pixelStorei(37443,0);const Ar=Ke(rt)&&ze(rt.image)===!1;let Mn=Ne(rt.image,Ar,!1,q);Mn=ki(rt,Mn);const zr=ze(Mn)||U,qr=I.convert(rt.format,rt.encoding);let Rr=I.convert(rt.type),Wr=je(rt.internalFormat,qr,Rr,rt.encoding,rt.isVideoTexture);rn(Kn,rt,zr);let Hr;const Li=rt.mipmaps,ro=U&&rt.isVideoTexture!==!0,Zo=Yr.__version===void 0||Zn===!0,zt=gt(rt,Mn,zr);if(rt.isDepthTexture)Wr=6402,U?rt.type===Pt?Wr=36012:rt.type===Vt?Wr=33190:rt.type===qt?Wr=35056:Wr=33189:rt.type===Pt&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),rt.format===Fn&&Wr===6402&&rt.type!==Bt&&rt.type!==Vt&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),rt.type=Vt,Rr=I.convert(rt.type)),rt.format===Cn&&Wr===6402&&(Wr=34041,rt.type!==qt&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),rt.type=qt,Rr=I.convert(rt.type))),Zo&&(ro?f.texStorage2D(3553,1,Wr,Mn.width,Mn.height):f.texImage2D(3553,0,Wr,Mn.width,Mn.height,0,qr,Rr,null));else if(rt.isDataTexture)if(Li.length>0&&zr){ro&&Zo&&f.texStorage2D(3553,zt,Wr,Li[0].width,Li[0].height);for(let En=0,Vn=Li.length;En<Vn;En++)Hr=Li[En],ro?f.texSubImage2D(3553,En,0,0,Hr.width,Hr.height,qr,Rr,Hr.data):f.texImage2D(3553,En,Wr,Hr.width,Hr.height,0,qr,Rr,Hr.data);rt.generateMipmaps=!1}else ro?(Zo&&f.texStorage2D(3553,zt,Wr,Mn.width,Mn.height),f.texSubImage2D(3553,0,0,0,Mn.width,Mn.height,qr,Rr,Mn.data)):f.texImage2D(3553,0,Wr,Mn.width,Mn.height,0,qr,Rr,Mn.data);else if(rt.isCompressedTexture)if(rt.isCompressedArrayTexture){ro&&Zo&&f.texStorage3D(35866,zt,Wr,Li[0].width,Li[0].height,Mn.depth);for(let En=0,Vn=Li.length;En<Vn;En++)Hr=Li[En],rt.format!==Pn?qr!==null?ro?f.compressedTexSubImage3D(35866,En,0,0,0,Hr.width,Hr.height,Mn.depth,qr,Hr.data,0,0):f.compressedTexImage3D(35866,En,Wr,Hr.width,Hr.height,Mn.depth,0,Hr.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ro?f.texSubImage3D(35866,En,0,0,0,Hr.width,Hr.height,Mn.depth,qr,Rr,Hr.data):f.texImage3D(35866,En,Wr,Hr.width,Hr.height,Mn.depth,0,qr,Rr,Hr.data)}else{ro&&Zo&&f.texStorage2D(3553,zt,Wr,Li[0].width,Li[0].height);for(let En=0,Vn=Li.length;En<Vn;En++)Hr=Li[En],rt.format!==Pn?qr!==null?ro?f.compressedTexSubImage2D(3553,En,0,0,Hr.width,Hr.height,qr,Hr.data):f.compressedTexImage2D(3553,En,Wr,Hr.width,Hr.height,0,Hr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ro?f.texSubImage2D(3553,En,0,0,Hr.width,Hr.height,qr,Rr,Hr.data):f.texImage2D(3553,En,Wr,Hr.width,Hr.height,0,qr,Rr,Hr.data)}else if(rt.isDataArrayTexture)ro?(Zo&&f.texStorage3D(35866,zt,Wr,Mn.width,Mn.height,Mn.depth),f.texSubImage3D(35866,0,0,0,0,Mn.width,Mn.height,Mn.depth,qr,Rr,Mn.data)):f.texImage3D(35866,0,Wr,Mn.width,Mn.height,Mn.depth,0,qr,Rr,Mn.data);else if(rt.isData3DTexture)ro?(Zo&&f.texStorage3D(32879,zt,Wr,Mn.width,Mn.height,Mn.depth),f.texSubImage3D(32879,0,0,0,0,Mn.width,Mn.height,Mn.depth,qr,Rr,Mn.data)):f.texImage3D(32879,0,Wr,Mn.width,Mn.height,Mn.depth,0,qr,Rr,Mn.data);else if(rt.isFramebufferTexture){if(Zo)if(ro)f.texStorage2D(3553,zt,Wr,Mn.width,Mn.height);else{let En=Mn.width,Vn=Mn.height;for(let Er=0;Er<zt;Er++)f.texImage2D(3553,Er,Wr,En,Vn,0,qr,Rr,null),En>>=1,Vn>>=1}}else if(Li.length>0&&zr){ro&&Zo&&f.texStorage2D(3553,zt,Wr,Li[0].width,Li[0].height);for(let En=0,Vn=Li.length;En<Vn;En++)Hr=Li[En],ro?f.texSubImage2D(3553,En,0,0,qr,Rr,Hr):f.texImage2D(3553,En,Wr,qr,Rr,Hr);rt.generateMipmaps=!1}else ro?(Zo&&f.texStorage2D(3553,zt,Wr,Mn.width,Mn.height),f.texSubImage2D(3553,0,0,0,qr,Rr,Mn)):f.texImage2D(3553,0,Wr,qr,Rr,Mn);ht(rt,zr)&&Lt(Kn),Yr.__version=gr.version,rt.onUpdate&&rt.onUpdate(rt)}vt.__version=rt.version}function kr(vt,rt,un){if(rt.image.length!==6)return;const Kn=Sr(vt,rt),Zn=rt.source;f.bindTexture(34067,vt.__webglTexture,33984+un);const gr=x.get(Zn);if(Zn.version!==gr.__version||Kn===!0){f.activeTexture(33984+un),H.pixelStorei(37440,rt.flipY),H.pixelStorei(37441,rt.premultiplyAlpha),H.pixelStorei(3317,rt.unpackAlignment),H.pixelStorei(37443,0);const Yr=rt.isCompressedTexture||rt.image[0].isCompressedTexture,Ar=rt.image[0]&&rt.image[0].isDataTexture,Mn=[];for(let En=0;En<6;En++)!Yr&&!Ar?Mn[En]=Ne(rt.image[En],!1,!0,K):Mn[En]=Ar?rt.image[En].image:rt.image[En],Mn[En]=ki(rt,Mn[En]);const zr=Mn[0],qr=ze(zr)||U,Rr=I.convert(rt.format,rt.encoding),Wr=I.convert(rt.type),Hr=je(rt.internalFormat,Rr,Wr,rt.encoding),Li=U&&rt.isVideoTexture!==!0,ro=gr.__version===void 0||Kn===!0;let Zo=gt(rt,zr,qr);rn(34067,rt,qr);let zt;if(Yr){Li&&ro&&f.texStorage2D(34067,Zo,Hr,zr.width,zr.height);for(let En=0;En<6;En++){zt=Mn[En].mipmaps;for(let Vn=0;Vn<zt.length;Vn++){const Er=zt[Vn];rt.format!==Pn?Rr!==null?Li?f.compressedTexSubImage2D(34069+En,Vn,0,0,Er.width,Er.height,Rr,Er.data):f.compressedTexImage2D(34069+En,Vn,Hr,Er.width,Er.height,0,Er.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Li?f.texSubImage2D(34069+En,Vn,0,0,Er.width,Er.height,Rr,Wr,Er.data):f.texImage2D(34069+En,Vn,Hr,Er.width,Er.height,0,Rr,Wr,Er.data)}}}else{zt=rt.mipmaps,Li&&ro&&(zt.length>0&&Zo++,f.texStorage2D(34067,Zo,Hr,Mn[0].width,Mn[0].height));for(let En=0;En<6;En++)if(Ar){Li?f.texSubImage2D(34069+En,0,0,0,Mn[En].width,Mn[En].height,Rr,Wr,Mn[En].data):f.texImage2D(34069+En,0,Hr,Mn[En].width,Mn[En].height,0,Rr,Wr,Mn[En].data);for(let Vn=0;Vn<zt.length;Vn++){const Nr=zt[Vn].image[En].image;Li?f.texSubImage2D(34069+En,Vn+1,0,0,Nr.width,Nr.height,Rr,Wr,Nr.data):f.texImage2D(34069+En,Vn+1,Hr,Nr.width,Nr.height,0,Rr,Wr,Nr.data)}}else{Li?f.texSubImage2D(34069+En,0,0,0,Rr,Wr,Mn[En]):f.texImage2D(34069+En,0,Hr,Rr,Wr,Mn[En]);for(let Vn=0;Vn<zt.length;Vn++){const Er=zt[Vn];Li?f.texSubImage2D(34069+En,Vn+1,0,0,Rr,Wr,Er.image[En]):f.texImage2D(34069+En,Vn+1,Hr,Rr,Wr,Er.image[En])}}}ht(rt,qr)&&Lt(34067),gr.__version=Zn.version,rt.onUpdate&&rt.onUpdate(rt)}vt.__version=rt.version}function Jn(vt,rt,un,Kn,Zn){const gr=I.convert(un.format,un.encoding),Yr=I.convert(un.type),Ar=je(un.internalFormat,gr,Yr,un.encoding);x.get(rt).__hasExternalTextures||(Zn===32879||Zn===35866?f.texImage3D(Zn,0,Ar,rt.width,rt.height,rt.depth,0,gr,Yr,null):f.texImage2D(Zn,0,Ar,rt.width,rt.height,0,gr,Yr,null)),f.bindFramebuffer(36160,vt),Ur(rt)?te.framebufferTexture2DMultisampleEXT(36160,Kn,Zn,x.get(un).__webglTexture,0,Vr(rt)):(Zn===3553||Zn>=34069&&Zn<=34074)&&H.framebufferTexture2D(36160,Kn,Zn,x.get(un).__webglTexture,0),f.bindFramebuffer(36160,null)}function oi(vt,rt,un){if(H.bindRenderbuffer(36161,vt),rt.depthBuffer&&!rt.stencilBuffer){let Kn=33189;if(un||Ur(rt)){const Zn=rt.depthTexture;Zn&&Zn.isDepthTexture&&(Zn.type===Pt?Kn=36012:Zn.type===Vt&&(Kn=33190));const gr=Vr(rt);Ur(rt)?te.renderbufferStorageMultisampleEXT(36161,gr,Kn,rt.width,rt.height):H.renderbufferStorageMultisample(36161,gr,Kn,rt.width,rt.height)}else H.renderbufferStorage(36161,Kn,rt.width,rt.height);H.framebufferRenderbuffer(36160,36096,36161,vt)}else if(rt.depthBuffer&&rt.stencilBuffer){const Kn=Vr(rt);un&&Ur(rt)===!1?H.renderbufferStorageMultisample(36161,Kn,35056,rt.width,rt.height):Ur(rt)?te.renderbufferStorageMultisampleEXT(36161,Kn,35056,rt.width,rt.height):H.renderbufferStorage(36161,34041,rt.width,rt.height),H.framebufferRenderbuffer(36160,33306,36161,vt)}else{const Kn=rt.isWebGLMultipleRenderTargets===!0?rt.texture:[rt.texture];for(let Zn=0;Zn<Kn.length;Zn++){const gr=Kn[Zn],Yr=I.convert(gr.format,gr.encoding),Ar=I.convert(gr.type),Mn=je(gr.internalFormat,Yr,Ar,gr.encoding),zr=Vr(rt);un&&Ur(rt)===!1?H.renderbufferStorageMultisample(36161,zr,Mn,rt.width,rt.height):Ur(rt)?te.renderbufferStorageMultisampleEXT(36161,zr,Mn,rt.width,rt.height):H.renderbufferStorage(36161,Mn,rt.width,rt.height)}}H.bindRenderbuffer(36161,null)}function Ln(vt,rt){if(rt&&rt.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(f.bindFramebuffer(36160,vt),!(rt.depthTexture&&rt.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!x.get(rt.depthTexture).__webglTexture||rt.depthTexture.image.width!==rt.width||rt.depthTexture.image.height!==rt.height)&&(rt.depthTexture.image.width=rt.width,rt.depthTexture.image.height=rt.height,rt.depthTexture.needsUpdate=!0),zn(rt.depthTexture,0);const Kn=x.get(rt.depthTexture).__webglTexture,Zn=Vr(rt);if(rt.depthTexture.format===Fn)Ur(rt)?te.framebufferTexture2DMultisampleEXT(36160,36096,3553,Kn,0,Zn):H.framebufferTexture2D(36160,36096,3553,Kn,0);else if(rt.depthTexture.format===Cn)Ur(rt)?te.framebufferTexture2DMultisampleEXT(36160,33306,3553,Kn,0,Zn):H.framebufferTexture2D(36160,33306,3553,Kn,0);else throw new Error("Unknown depthTexture format")}function _n(vt){const rt=x.get(vt),un=vt.isWebGLCubeRenderTarget===!0;if(vt.depthTexture&&!rt.__autoAllocateDepthBuffer){if(un)throw new Error("target.depthTexture not supported in Cube render targets");Ln(rt.__webglFramebuffer,vt)}else if(un){rt.__webglDepthbuffer=[];for(let Kn=0;Kn<6;Kn++)f.bindFramebuffer(36160,rt.__webglFramebuffer[Kn]),rt.__webglDepthbuffer[Kn]=H.createRenderbuffer(),oi(rt.__webglDepthbuffer[Kn],vt,!1)}else f.bindFramebuffer(36160,rt.__webglFramebuffer),rt.__webglDepthbuffer=H.createRenderbuffer(),oi(rt.__webglDepthbuffer,vt,!1);f.bindFramebuffer(36160,null)}function nr(vt,rt,un){const Kn=x.get(vt);rt!==void 0&&Jn(Kn.__webglFramebuffer,vt,vt.texture,36064,3553),un!==void 0&&_n(vt)}function Or(vt){const rt=vt.texture,un=x.get(vt),Kn=x.get(rt);vt.addEventListener("dispose",an),vt.isWebGLMultipleRenderTargets!==!0&&(Kn.__webglTexture===void 0&&(Kn.__webglTexture=H.createTexture()),Kn.__version=rt.version,N.memory.textures++);const Zn=vt.isWebGLCubeRenderTarget===!0,gr=vt.isWebGLMultipleRenderTargets===!0,Yr=ze(vt)||U;if(Zn){un.__webglFramebuffer=[];for(let Ar=0;Ar<6;Ar++)un.__webglFramebuffer[Ar]=H.createFramebuffer()}else{if(un.__webglFramebuffer=H.createFramebuffer(),gr)if(S.drawBuffers){const Ar=vt.texture;for(let Mn=0,zr=Ar.length;Mn<zr;Mn++){const qr=x.get(Ar[Mn]);qr.__webglTexture===void 0&&(qr.__webglTexture=H.createTexture(),N.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(U&&vt.samples>0&&Ur(vt)===!1){const Ar=gr?rt:[rt];un.__webglMultisampledFramebuffer=H.createFramebuffer(),un.__webglColorRenderbuffer=[],f.bindFramebuffer(36160,un.__webglMultisampledFramebuffer);for(let Mn=0;Mn<Ar.length;Mn++){const zr=Ar[Mn];un.__webglColorRenderbuffer[Mn]=H.createRenderbuffer(),H.bindRenderbuffer(36161,un.__webglColorRenderbuffer[Mn]);const qr=I.convert(zr.format,zr.encoding),Rr=I.convert(zr.type),Wr=je(zr.internalFormat,qr,Rr,zr.encoding,vt.isXRRenderTarget===!0),Hr=Vr(vt);H.renderbufferStorageMultisample(36161,Hr,Wr,vt.width,vt.height),H.framebufferRenderbuffer(36160,36064+Mn,36161,un.__webglColorRenderbuffer[Mn])}H.bindRenderbuffer(36161,null),vt.depthBuffer&&(un.__webglDepthRenderbuffer=H.createRenderbuffer(),oi(un.__webglDepthRenderbuffer,vt,!0)),f.bindFramebuffer(36160,null)}}if(Zn){f.bindTexture(34067,Kn.__webglTexture),rn(34067,rt,Yr);for(let Ar=0;Ar<6;Ar++)Jn(un.__webglFramebuffer[Ar],vt,rt,36064,34069+Ar);ht(rt,Yr)&&Lt(34067),f.unbindTexture()}else if(gr){const Ar=vt.texture;for(let Mn=0,zr=Ar.length;Mn<zr;Mn++){const qr=Ar[Mn],Rr=x.get(qr);f.bindTexture(3553,Rr.__webglTexture),rn(3553,qr,Yr),Jn(un.__webglFramebuffer,vt,qr,36064+Mn,3553),ht(qr,Yr)&&Lt(3553)}f.unbindTexture()}else{let Ar=3553;(vt.isWebGL3DRenderTarget||vt.isWebGLArrayRenderTarget)&&(U?Ar=vt.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),f.bindTexture(Ar,Kn.__webglTexture),rn(Ar,rt,Yr),Jn(un.__webglFramebuffer,vt,rt,36064,Ar),ht(rt,Yr)&&Lt(Ar),f.unbindTexture()}vt.depthBuffer&&_n(vt)}function hr(vt){const rt=ze(vt)||U,un=vt.isWebGLMultipleRenderTargets===!0?vt.texture:[vt.texture];for(let Kn=0,Zn=un.length;Kn<Zn;Kn++){const gr=un[Kn];if(ht(gr,rt)){const Yr=vt.isWebGLCubeRenderTarget?34067:3553,Ar=x.get(gr).__webglTexture;f.bindTexture(Yr,Ar),Lt(Yr),f.unbindTexture()}}}function Jr(vt){if(U&&vt.samples>0&&Ur(vt)===!1){const rt=vt.isWebGLMultipleRenderTargets?vt.texture:[vt.texture],un=vt.width,Kn=vt.height;let Zn=16384;const gr=[],Yr=vt.stencilBuffer?33306:36096,Ar=x.get(vt),Mn=vt.isWebGLMultipleRenderTargets===!0;if(Mn)for(let zr=0;zr<rt.length;zr++)f.bindFramebuffer(36160,Ar.__webglMultisampledFramebuffer),H.framebufferRenderbuffer(36160,36064+zr,36161,null),f.bindFramebuffer(36160,Ar.__webglFramebuffer),H.framebufferTexture2D(36009,36064+zr,3553,null,0);f.bindFramebuffer(36008,Ar.__webglMultisampledFramebuffer),f.bindFramebuffer(36009,Ar.__webglFramebuffer);for(let zr=0;zr<rt.length;zr++){gr.push(36064+zr),vt.depthBuffer&&gr.push(Yr);const qr=Ar.__ignoreDepthValues!==void 0?Ar.__ignoreDepthValues:!1;if(qr===!1&&(vt.depthBuffer&&(Zn|=256),vt.stencilBuffer&&(Zn|=1024)),Mn&&H.framebufferRenderbuffer(36008,36064,36161,Ar.__webglColorRenderbuffer[zr]),qr===!0&&(H.invalidateFramebuffer(36008,[Yr]),H.invalidateFramebuffer(36009,[Yr])),Mn){const Rr=x.get(rt[zr]).__webglTexture;H.framebufferTexture2D(36009,36064,3553,Rr,0)}H.blitFramebuffer(0,0,un,Kn,0,0,un,Kn,Zn,9728),ie&&H.invalidateFramebuffer(36008,gr)}if(f.bindFramebuffer(36008,null),f.bindFramebuffer(36009,null),Mn)for(let zr=0;zr<rt.length;zr++){f.bindFramebuffer(36160,Ar.__webglMultisampledFramebuffer),H.framebufferRenderbuffer(36160,36064+zr,36161,Ar.__webglColorRenderbuffer[zr]);const qr=x.get(rt[zr]).__webglTexture;f.bindFramebuffer(36160,Ar.__webglFramebuffer),H.framebufferTexture2D(36009,36064+zr,3553,qr,0)}f.bindFramebuffer(36009,Ar.__webglMultisampledFramebuffer)}}function Vr(vt){return Math.min(ee,vt.samples)}function Ur(vt){const rt=x.get(vt);return U&&vt.samples>0&&a.has("WEBGL_multisampled_render_to_texture")===!0&&rt.__useRenderToTexture!==!1}function Wi(vt){const rt=N.render.frame;de.get(vt)!==rt&&(de.set(vt,rt),vt.update())}function ki(vt,rt){const un=vt.encoding,Kn=vt.format,Zn=vt.type;return vt.isCompressedTexture===!0||vt.isVideoTexture===!0||vt.format===Oh||un!==pr&&(un===$n?U===!1?a.has("EXT_sRGB")===!0&&Kn===Pn?(vt.format=Oh,vt.minFilter=ve,vt.generateMipmaps=!1):rt=Pg.sRGBToLinear(rt):(Kn!==Pn||Zn!==nt)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",un)),rt}this.allocateTextureUnit=Tn,this.resetTextureUnits=On,this.setTexture2D=zn,this.setTexture2DArray=xr,this.setTexture3D=fr,this.setTextureCube=hn,this.rebindTextures=nr,this.setupRenderTarget=Or,this.updateRenderTargetMipmap=hr,this.updateMultisampleRenderTarget=Jr,this.setupDepthRenderbuffer=_n,this.setupFrameBufferTexture=Jn,this.useMultisampledRTT=Ur}function cB(H,a,f){const x=f.isWebGL2;function S(I,N=null){let U;if(I===nt)return 5121;if(I===Ot)return 32819;if(I===cn)return 32820;if(I===It)return 5120;if(I===kt)return 5122;if(I===Bt)return 5123;if(I===Gt)return 5124;if(I===Vt)return 5125;if(I===Pt)return 5126;if(I===pt)return x?5131:(U=a.get("OES_texture_half_float"),U!==null?U.HALF_FLOAT_OES:null);if(I===Sn)return 6406;if(I===Pn)return 6408;if(I===rr)return 6409;if(I===Gn)return 6410;if(I===Fn)return 6402;if(I===Cn)return 34041;if(I===yn)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(I===Oh)return U=a.get("EXT_sRGB"),U!==null?U.SRGB_ALPHA_EXT:null;if(I===Oe)return 6403;if(I===st)return 36244;if(I===wt)return 33319;if(I===xe)return 33320;if(I===De)return 36249;if(I===tt||I===St||I===Mt||I===Ut)if(N===$n)if(U=a.get("WEBGL_compressed_texture_s3tc_srgb"),U!==null){if(I===tt)return U.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(I===St)return U.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(I===Mt)return U.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(I===Ut)return U.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(U=a.get("WEBGL_compressed_texture_s3tc"),U!==null){if(I===tt)return U.COMPRESSED_RGB_S3TC_DXT1_EXT;if(I===St)return U.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(I===Mt)return U.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(I===Ut)return U.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(I===Qt||I===mn||I===sn||I===Kt)if(U=a.get("WEBGL_compressed_texture_pvrtc"),U!==null){if(I===Qt)return U.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(I===mn)return U.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(I===sn)return U.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(I===Kt)return U.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(I===Hn)return U=a.get("WEBGL_compressed_texture_etc1"),U!==null?U.COMPRESSED_RGB_ETC1_WEBGL:null;if(I===Nn||I===er)if(U=a.get("WEBGL_compressed_texture_etc"),U!==null){if(I===Nn)return N===$n?U.COMPRESSED_SRGB8_ETC2:U.COMPRESSED_RGB8_ETC2;if(I===er)return N===$n?U.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:U.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(I===yr||I===kn||I===dr||I===sr||I===Dr||I===or||I===Jt||I===bn||I===qn||I===jn||I===re||I===se||I===_e||I===Fe)if(U=a.get("WEBGL_compressed_texture_astc"),U!==null){if(I===yr)return N===$n?U.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:U.COMPRESSED_RGBA_ASTC_4x4_KHR;if(I===kn)return N===$n?U.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:U.COMPRESSED_RGBA_ASTC_5x4_KHR;if(I===dr)return N===$n?U.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:U.COMPRESSED_RGBA_ASTC_5x5_KHR;if(I===sr)return N===$n?U.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:U.COMPRESSED_RGBA_ASTC_6x5_KHR;if(I===Dr)return N===$n?U.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:U.COMPRESSED_RGBA_ASTC_6x6_KHR;if(I===or)return N===$n?U.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:U.COMPRESSED_RGBA_ASTC_8x5_KHR;if(I===Jt)return N===$n?U.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:U.COMPRESSED_RGBA_ASTC_8x6_KHR;if(I===bn)return N===$n?U.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:U.COMPRESSED_RGBA_ASTC_8x8_KHR;if(I===qn)return N===$n?U.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:U.COMPRESSED_RGBA_ASTC_10x5_KHR;if(I===jn)return N===$n?U.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:U.COMPRESSED_RGBA_ASTC_10x6_KHR;if(I===re)return N===$n?U.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:U.COMPRESSED_RGBA_ASTC_10x8_KHR;if(I===se)return N===$n?U.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:U.COMPRESSED_RGBA_ASTC_10x10_KHR;if(I===_e)return N===$n?U.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:U.COMPRESSED_RGBA_ASTC_12x10_KHR;if(I===Fe)return N===$n?U.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:U.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(I===Ye)if(U=a.get("EXT_texture_compression_bptc"),U!==null){if(I===Ye)return N===$n?U.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:U.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return I===qt?x?34042:(U=a.get("WEBGL_depth_texture"),U!==null?U.UNSIGNED_INT_24_8_WEBGL:null):H[I]!==void 0?H[I]:null}return{convert:S}}class ff extends yi{constructor(){super(),this.isGroup=!0,this.type="Group"}}class nS extends Uo{constructor(a=[]){super(),this.isArrayCamera=!0,this.cameras=a}}var uB=new dt,dB=new dt;function JX(H,a,f){uB.setFromMatrixPosition(a.matrixWorld),dB.setFromMatrixPosition(f.matrixWorld);var x=uB.distanceTo(dB),S=a.projectionMatrix.elements,I=f.projectionMatrix.elements,N=S[14]/(S[10]-1),U=S[14]/(S[10]+1),W=(S[9]+1)/S[5],K=(S[9]-1)/S[5],q=(S[8]-1)/S[0],ee=(I[8]+1)/I[0],te=N*q,ie=N*ee,de=x/(-q+ee),le=de*-q;a.matrixWorld.decompose(H.position,H.quaternion,H.scale),H.translateX(le),H.translateZ(de),H.matrixWorld.compose(H.position,H.quaternion,H.scale),H.matrixWorldInverse.copy(H.matrixWorld).invert();var ae=N+de,Re=U+de,$e=te-le,Ne=ie+(x-le),ze=W*U/Re*ae,Ke=K*U/Re*ae;H.projectionMatrix.makePerspective($e,Ne,ze,Ke,ae,Re)}function fB(H){var a,f,x=this,S=null,I=null,N=null,U=[],W=new wr,K=new wr,q=1,ee="local-floor";typeof window<"u"&&"VRFrameData"in window&&(I=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",ze,!1));var te=new wr,ie=new fa,de=new dt,le=new Uo;le.viewport=new wi,le.layers.enable(1);var ae=new Uo;ae.viewport=new wi,ae.layers.enable(2);var Re=new nS([le,ae]);Re.layers.enable(1),Re.layers.enable(2);var $e=new In,Ne;function ze(){var jt=x.isPresenting=S!==null&&S.isPresenting===!0;if(jt){var an=S.getEyeParameters("left");a=2*an.renderWidth*q,f=an.renderHeight*q,Ne=H.getPixelRatio(),H.getSize($e),H.setDrawingBufferSize(a,f,1),le.viewport.set(0,0,a/2,f),ae.viewport.set(a/2,0,a/2,f),_t.start(),x.dispatchEvent({type:"sessionstart"})}else x.enabled&&H.setDrawingBufferSize($e.width,$e.height,Ne),_t.stop(),x.dispatchEvent({type:"sessionend"})}var Ke=[],ht=[];function Lt(jt){for(var an=navigator.getGamepads&&navigator.getGamepads(),Wt=0,Ht=an.length;Wt<Ht;Wt++){var tn=an[Wt];if(tn&&(tn.id==="Daydream Controller"||tn.id==="Gear VR Controller"||tn.id==="Oculus Go Controller"||tn.id==="OpenVR Gamepad"||tn.id.startsWith("Oculus Touch")||tn.id.startsWith("HTC Vive Focus")||tn.id.startsWith("Spatial Controller"))){var Rn=tn.hand;if(jt===0&&(Rn===""||Rn==="right")||jt===1&&Rn==="left")return tn}}}function je(){for(var jt=0;jt<U.length;jt++){var an=U[jt],Wt=Lt(jt);if(Wt!==void 0&&Wt.pose!==void 0){if(Wt.pose===null)return;var Ht=Wt.pose;Ht.hasPosition===!1&&an.position.set(.2,-.6,-.05),Ht.position!==null&&an.position.fromArray(Ht.position),Ht.orientation!==null&&an.quaternion.fromArray(Ht.orientation),an.matrix.compose(an.position,an.quaternion,an.scale),an.matrix.premultiply(W),an.matrix.decompose(an.position,an.quaternion,an.scale),an.matrixWorldNeedsUpdate=!0,an.visible=!0;var tn=Wt.id==="Daydream Controller"?0:1;Ke[jt]===void 0&&(Ke[jt]=!1),Ke[jt]!==Wt.buttons[tn].pressed&&(Ke[jt]=Wt.buttons[tn].pressed,Ke[jt]===!0?an.dispatchEvent({type:"selectstart"}):(an.dispatchEvent({type:"selectend"}),an.dispatchEvent({type:"select"}))),tn=2,ht[jt]===void 0&&(ht[jt]=!1),Wt.buttons[tn]!==void 0&&ht[jt]!==Wt.buttons[tn].pressed&&(ht[jt]=Wt.buttons[tn].pressed,ht[jt]===!0?an.dispatchEvent({type:"squeezestart"}):(an.dispatchEvent({type:"squeezeend"}),an.dispatchEvent({type:"squeeze"})))}else an.visible=!1}}function gt(jt,an){an!==null&&an.length===4&&jt.set(an[0]*a,an[1]*f,an[2]*a,an[3]*f)}this.enabled=!1,this.getController=function(jt){var an=U[jt];return an===void 0&&(an=new ff,an.matrixAutoUpdate=!1,an.visible=!1,U[jt]=an),an},this.getDevice=function(){return S},this.setDevice=function(jt){jt!==void 0&&(S=jt),_t.setContext(jt)},this.setFramebufferScaleFactor=function(jt){q=jt},this.setReferenceSpaceType=function(jt){ee=jt},this.setPoseTarget=function(jt){jt!==void 0&&(N=jt)},this.cameraAutoUpdate=!0,this.updateCamera=function(jt){var an=ee==="local-floor"?1.6:0;if(S.depthNear=jt.near,S.depthFar=jt.far,S.getFrameData(I),ee==="local-floor"){var Wt=S.stageParameters;Wt?W.fromArray(Wt.sittingToStandingTransform):W.makeTranslation(0,an,0)}var Ht=I.pose,tn=N!==null?N:jt;tn.matrix.copy(W),tn.matrix.decompose(tn.position,tn.quaternion,tn.scale),Ht.orientation!==null&&(ie.fromArray(Ht.orientation),tn.quaternion.multiply(ie)),Ht.position!==null&&(ie.setFromRotationMatrix(W),de.fromArray(Ht.position),de.applyQuaternion(ie),tn.position.add(de)),tn.updateMatrixWorld();for(var Rn=tn.children,On=0,Tn=Rn.length;On<Tn;On++)Rn[On].updateMatrixWorld(!0);le.near=jt.near,ae.near=jt.near,le.far=jt.far,ae.far=jt.far,le.matrixWorldInverse.fromArray(I.leftViewMatrix),ae.matrixWorldInverse.fromArray(I.rightViewMatrix),K.copy(W).invert(),ee==="local-floor"&&(le.matrixWorldInverse.multiply(K),ae.matrixWorldInverse.multiply(K));var Qn=tn.parent;Qn!==null&&(te.copy(Qn.matrixWorld).invert(),le.matrixWorldInverse.multiply(te),ae.matrixWorldInverse.multiply(te)),le.matrixWorld.copy(le.matrixWorldInverse).invert(),ae.matrixWorld.copy(ae.matrixWorldInverse).invert(),le.projectionMatrix.fromArray(I.leftProjectionMatrix),ae.projectionMatrix.fromArray(I.rightProjectionMatrix),JX(Re,le,ae);var zn=S.getLayers();if(zn.length){var xr=zn[0];gt(le.viewport,xr.leftBounds),gt(ae.viewport,xr.rightBounds)}return je(),Re},this.getCamera=function(){return Re},this.getFoveation=function(){return 1},this.setFoveation=function(jt){jt!==1&&console.warn("THREE.WebVRManager: setFoveation() not used in WebVR.")},this.getStandingMatrix=function(){return W},this.isPresenting=!1;var _t=new Qw;this.setAnimationLoop=function(jt){_t.setAnimationLoop(jt),this.isPresenting&&_t.start()},this.submitFrame=function(){this.isPresenting&&S.submitFrame()},this.dispose=function(){typeof window<"u"&&window.removeEventListener("vrdisplaypresentchange",ze)},this.setFrameOfReferenceType=function(){console.warn("THREE.WebVRManager: setFrameOfReferenceType() has been deprecated.")}}Object.assign(fB.prototype,{addEventListener:Oa.prototype.addEventListener,hasEventListener:Oa.prototype.hasEventListener,removeEventListener:Oa.prototype.removeEventListener,dispatchEvent:Oa.prototype.dispatchEvent});const ZX={type:"move"};class rS{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ff,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ff,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new dt,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new dt),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ff,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new dt,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new dt),this._grip}dispatchEvent(a){return this._targetRay!==null&&this._targetRay.dispatchEvent(a),this._grip!==null&&this._grip.dispatchEvent(a),this._hand!==null&&this._hand.dispatchEvent(a),this}connect(a){if(a&&a.hand){const f=this._hand;if(f)for(const x of a.hand.values())this._getHandJoint(f,x)}return this.dispatchEvent({type:"connected",data:a}),this}disconnect(a){return this.dispatchEvent({type:"disconnected",data:a}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(a,f,x){let S=null,I=null,N=null;const U=this._targetRay,W=this._grip,K=this._hand;if(a&&f.session.visibilityState!=="visible-blurred"){if(K&&a.hand){N=!0;for(const le of a.hand.values()){const ae=f.getJointPose(le,x),Re=this._getHandJoint(K,le);ae!==null&&(Re.matrix.fromArray(ae.transform.matrix),Re.matrix.decompose(Re.position,Re.rotation,Re.scale),Re.jointRadius=ae.radius),Re.visible=ae!==null}const q=K.joints["index-finger-tip"],ee=K.joints["thumb-tip"],te=q.position.distanceTo(ee.position),ie=.02,de=.005;K.inputState.pinching&&te>ie+de?(K.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:a.handedness,target:this})):!K.inputState.pinching&&te<=ie-de&&(K.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:a.handedness,target:this}))}else W!==null&&a.gripSpace&&(I=f.getPose(a.gripSpace,x),I!==null&&(W.matrix.fromArray(I.transform.matrix),W.matrix.decompose(W.position,W.rotation,W.scale),I.linearVelocity?(W.hasLinearVelocity=!0,W.linearVelocity.copy(I.linearVelocity)):W.hasLinearVelocity=!1,I.angularVelocity?(W.hasAngularVelocity=!0,W.angularVelocity.copy(I.angularVelocity)):W.hasAngularVelocity=!1));U!==null&&(S=f.getPose(a.targetRaySpace,x),S===null&&I!==null&&(S=I),S!==null&&(U.matrix.fromArray(S.transform.matrix),U.matrix.decompose(U.position,U.rotation,U.scale),S.linearVelocity?(U.hasLinearVelocity=!0,U.linearVelocity.copy(S.linearVelocity)):U.hasLinearVelocity=!1,S.angularVelocity?(U.hasAngularVelocity=!0,U.angularVelocity.copy(S.angularVelocity)):U.hasAngularVelocity=!1,this.dispatchEvent(ZX)))}return U!==null&&(U.visible=S!==null),W!==null&&(W.visible=I!==null),K!==null&&(K.visible=N!==null),this}_getHandJoint(a,f){if(a.joints[f.jointName]===void 0){const x=new ff;x.matrixAutoUpdate=!1,x.visible=!1,a.joints[f.jointName]=x,a.add(x)}return a.joints[f.jointName]}}class hB extends fo{constructor(a,f,x,S,I,N,U,W,K,q){if(q=q!==void 0?q:Fn,q!==Fn&&q!==Cn)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");x===void 0&&q===Fn&&(x=Vt),x===void 0&&q===Cn&&(x=qt),super(null,S,I,N,U,W,q,x,K),this.isDepthTexture=!0,this.image={width:a,height:f},this.magFilter=U!==void 0?U:ce,this.minFilter=W!==void 0?W:ce,this.flipY=!1,this.generateMipmaps=!1}}class eq extends Oa{constructor(a,f){super();const x=this;let S=null,I=1;var N=null;let U=null,W="local-floor",K=null,q=null;var ee=[];let te=null,ie=null,de=null,le=null;const ae=f.getContextAttributes();let Re=null,$e=null;const Ne=[],ze=[],Ke=new Set,ht=new Map,Lt=new Uo;Lt.layers.enable(1),Lt.viewport=new wi;const je=new Uo;je.layers.enable(2),je.viewport=new wi;const gt=[Lt,je],_t=new nS;_t.layers.enable(1),_t.layers.enable(2);let jt=null,an=null;this.cameraAutoUpdate=!0,this.layersEnabled=!1,this.enabled=!1,this.isPresenting=!1,this.getCameraPose=function(){return q},this.getController=function(hn){let Dn=Ne[hn];return Dn===void 0&&(Dn=new rS,Ne[hn]=Dn),Dn.getTargetRaySpace()},this.getControllerGrip=function(hn){let Dn=Ne[hn];return Dn===void 0&&(Dn=new rS,Ne[hn]=Dn),Dn.getGripSpace()},this.getHand=function(hn){let Dn=Ne[hn];return Dn===void 0&&(Dn=new rS,Ne[hn]=Dn),Dn.getHandSpace()};function Wt(hn){const Dn=ze.indexOf(hn.inputSource);if(Dn===-1)return;const cr=Ne[Dn];cr!==void 0&&cr.dispatchEvent({type:hn.type,data:hn.inputSource})}function Ht(){S.removeEventListener("select",Wt),S.removeEventListener("selectstart",Wt),S.removeEventListener("selectend",Wt),S.removeEventListener("squeeze",Wt),S.removeEventListener("squeezestart",Wt),S.removeEventListener("squeezeend",Wt),S.removeEventListener("end",Ht),S.removeEventListener("inputsourceschange",tn);for(let hn=0;hn<Ne.length;hn++){const Dn=ze[hn];Dn!==null&&(ze[hn]=null,Ne[hn].disconnect(Dn))}jt=null,an=null,a.setRenderTarget(Re),de=null,ie=null,te=null,S=null,$e=null,fr.stop(),x.isPresenting=!1,x.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(hn){I=hn,x.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(hn){W=hn,x.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return K||U},this.setReferenceSpace=function(hn){K=hn},this.getBaseLayer=function(){return ie!==null?ie:de},this.getBinding=function(){return te},this.getFrame=function(){return le},this.getSession=function(){return S},this.setSession=async function(hn){if(S=hn,S!==null){if(Re=a.getRenderTarget(),S.addEventListener("select",Wt),S.addEventListener("selectstart",Wt),S.addEventListener("selectend",Wt),S.addEventListener("squeeze",Wt),S.addEventListener("squeezestart",Wt),S.addEventListener("squeezeend",Wt),S.addEventListener("end",Ht),S.addEventListener("inputsourceschange",tn),ae.xrCompatible!==!0&&await f.makeXRCompatible(),S.renderState.layers===void 0||a.capabilities.isWebGL2===!1){const Dn={antialias:S.renderState.layers===void 0?ae.antialias:!0,alpha:ae.alpha,depth:ae.depth,stencil:ae.stencil,framebufferScaleFactor:I};de=new XRWebGLLayer(S,f,Dn),S.updateRenderState({baseLayer:de}),$e=new ns(de.framebufferWidth,de.framebufferHeight,{format:Pn,type:nt,encoding:a.outputEncoding,stencilBuffer:ae.stencil})}else{let Dn=null,cr=null,rn=null;ae.depth&&(rn=ae.stencil?35056:33190,Dn=ae.stencil?Cn:Fn,cr=ae.stencil?qt:Vt);const Sr={colorFormat:32856,depthFormat:rn,scaleFactor:I};te=new XRWebGLBinding(S,f),ie=te.createProjectionLayer(Sr),S.updateRenderState({layers:[ie]}),$e=new ns(ie.textureWidth,ie.textureHeight,{format:Pn,type:nt,depthTexture:new hB(ie.textureWidth,ie.textureHeight,cr,void 0,void 0,void 0,void 0,void 0,void 0,Dn),stencilBuffer:ae.stencil,encoding:a.outputEncoding,samples:ae.antialias?4:0});const ur=a.properties.get($e);ur.__ignoreDepthValues=ie.ignoreDepthValues}$e.isXRRenderTarget=!0,this.setFoveation(1),K=null,U=await S.requestReferenceSpace(W),fr.setContext(S),fr.start(),x.isPresenting=!0,x.dispatchEvent({type:"sessionstart"})}},this.addLayer=function(hn){!window.XRWebGLBinding||!this.layersEnabled||!S||(ee.push(hn),this.updateLayers())},this.removeLayer=function(hn){ee.splice(ee.indexOf(hn),1),!(!window.XRWebGLBinding||!this.layersEnabled||!S)&&this.updateLayers()},this.updateLayers=function(){var hn=ee.map(function(Dn){return Dn});hn.unshift(S.renderState.layers[0]),S.updateRenderState({layers:hn})};function tn(hn){for(let Dn=0;Dn<hn.removed.length;Dn++){const cr=hn.removed[Dn],rn=ze.indexOf(cr);rn>=0&&(ze[rn]=null,Ne[rn].disconnect(cr))}for(let Dn=0;Dn<hn.added.length;Dn++){const cr=hn.added[Dn];let rn=ze.indexOf(cr);if(rn===-1){for(let ur=0;ur<Ne.length;ur++)if(ur>=ze.length){ze.push(cr),rn=ur;break}else if(ze[ur]===null){ze[ur]=cr,rn=ur;break}if(rn===-1)break}const Sr=Ne[rn];Sr&&Sr.connect(cr)}}const Rn=new dt,On=new dt;function Tn(hn,Dn,cr){Rn.setFromMatrixPosition(Dn.matrixWorld),On.setFromMatrixPosition(cr.matrixWorld);const rn=Rn.distanceTo(On),Sr=Dn.projectionMatrix.elements,ur=cr.projectionMatrix.elements,kr=Sr[14]/(Sr[10]-1),Jn=Sr[14]/(Sr[10]+1),oi=(Sr[9]+1)/Sr[5],Ln=(Sr[9]-1)/Sr[5],_n=(Sr[8]-1)/Sr[0],nr=(ur[8]+1)/ur[0],Or=kr*_n,hr=kr*nr,Jr=rn/(-_n+nr),Vr=Jr*-_n;Dn.matrixWorld.decompose(hn.position,hn.quaternion,hn.scale),hn.translateX(Vr),hn.translateZ(Jr),hn.matrixWorld.compose(hn.position,hn.quaternion,hn.scale),hn.matrixWorldInverse.copy(hn.matrixWorld).invert();const Ur=kr+Jr,Wi=Jn+Jr,ki=Or-Vr,vt=hr+(rn-Vr),rt=oi*Jn/Wi*Ur,un=Ln*Jn/Wi*Ur;hn.projectionMatrix.makePerspective(ki,vt,rt,un,Ur,Wi)}function Qn(hn,Dn){Dn===null?hn.matrixWorld.copy(hn.matrix):hn.matrixWorld.multiplyMatrices(Dn.matrixWorld,hn.matrix),hn.matrixWorldInverse.copy(hn.matrixWorld).invert()}this.setPoseTarget=function(hn){hn!==void 0&&(N=hn)},this.updateCamera=function(hn){if(S===null)return;_t.near=je.near=Lt.near=hn.near,_t.far=je.far=Lt.far=hn.far,(jt!==_t.near||an!==_t.far)&&(S.updateRenderState({depthNear:_t.near,depthFar:_t.far}),jt=_t.near,an=_t.far);const Dn=_t.cameras;var cr=N||hn;const rn=cr.parent;Qn(_t,rn);for(let ur=0;ur<Dn.length;ur++)Qn(Dn[ur],rn);_t.matrixWorld.decompose(_t.position,_t.quaternion,_t.scale),cr.matrixWorld.copy(_t.matrixWorld),cr.matrix.copy(_t.matrix),cr.matrix.decompose(cr.position,cr.quaternion,cr.scale);const Sr=cr.children;for(let ur=0,kr=Sr.length;ur<kr;ur++)Sr[ur].updateMatrixWorld(!0);Dn.length===2?Tn(_t,Lt,je):_t.projectionMatrix.copy(Lt.projectionMatrix)},this.getCamera=function(){return _t},this.getFoveation=function(){if(ie!==null)return ie.fixedFoveation;if(de!==null)return de.fixedFoveation},this.setFoveation=function(hn){ie!==null&&(ie.fixedFoveation=hn),de!==null&&de.fixedFoveation!==void 0&&(de.fixedFoveation=hn)},this.getPlanes=function(){return Ke};let zn=null;function xr(hn,Dn){if(q=Dn.getViewerPose(K||U),le=Dn,q!==null){const cr=q.views;de!==null&&(a.setRenderTargetFramebuffer($e,de.framebuffer),a.setRenderTarget($e));let rn=!1;cr.length!==_t.cameras.length&&(_t.cameras.length=0,rn=!0);for(let Sr=0;Sr<cr.length;Sr++){const ur=cr[Sr];let kr=null;if(de!==null)kr=de.getViewport(ur);else{const oi=te.getViewSubImage(ie,ur);kr=oi.viewport,Sr===0&&(a.setRenderTargetTextures($e,oi.colorTexture,ie.ignoreDepthValues?void 0:oi.depthStencilTexture),a.setRenderTarget($e))}let Jn=gt[Sr];Jn===void 0&&(Jn=new Uo,Jn.layers.enable(Sr),Jn.viewport=new wi,gt[Sr]=Jn),Jn.matrix.fromArray(ur.transform.matrix),Jn.projectionMatrix.fromArray(ur.projectionMatrix),Jn.viewport.set(kr.x,kr.y,kr.width,kr.height),Sr===0&&_t.matrix.copy(Jn.matrix),rn===!0&&_t.cameras.push(Jn)}}for(let cr=0;cr<Ne.length;cr++){const rn=ze[cr],Sr=Ne[cr];rn!==null&&Sr!==void 0&&Sr.update(rn,Dn,K||U)}if(zn&&zn(hn,Dn),Dn.detectedPlanes){x.dispatchEvent({type:"planesdetected",data:Dn.detectedPlanes});let cr=null;for(const rn of Ke)Dn.detectedPlanes.has(rn)||(cr===null&&(cr=[]),cr.push(rn));if(cr!==null)for(const rn of cr)Ke.delete(rn),ht.delete(rn),x.dispatchEvent({type:"planeremoved",data:rn});for(const rn of Dn.detectedPlanes)if(!Ke.has(rn))Ke.add(rn),ht.set(rn,Dn.lastChangedTime),x.dispatchEvent({type:"planeadded",data:rn});else{const Sr=ht.get(rn);rn.lastChangedTime>Sr&&(ht.set(rn,rn.lastChangedTime),x.dispatchEvent({type:"planechanged",data:rn}))}}le=null}const fr=new Qw;fr.setAnimationLoop(xr),this.setAnimationLoop=function(hn){zn=hn},this.dispose=function(){}}}function tq(H,a){function f(le,ae){ae.color.getRGB(le.fogColor.value,OP(H)),ae.isFog?(le.fogNear.value=ae.near,le.fogFar.value=ae.far):ae.isFogExp2&&(le.fogDensity.value=ae.density)}function x(le,ae,Re,$e,Ne){ae.isMeshBasicMaterial||ae.isMeshLambertMaterial?S(le,ae):ae.isMeshToonMaterial?(S(le,ae),q(le,ae)):ae.isMeshPhongMaterial?(S(le,ae),K(le,ae)):ae.isMeshStandardMaterial?(S(le,ae),ee(le,ae),ae.isMeshPhysicalMaterial&&te(le,ae,Ne)):ae.isMeshMatcapMaterial?(S(le,ae),ie(le,ae)):ae.isMeshDepthMaterial?S(le,ae):ae.isMeshDistanceMaterial?(S(le,ae),de(le,ae)):ae.isMeshNormalMaterial?S(le,ae):ae.isLineBasicMaterial?(I(le,ae),ae.isLineDashedMaterial&&N(le,ae)):ae.isPointsMaterial?U(le,ae,Re,$e):ae.isSpriteMaterial?W(le,ae):ae.isShadowMaterial?(le.color.value.copy(ae.color),le.opacity.value=ae.opacity):ae.isShaderMaterial&&(ae.uniformsNeedUpdate=!1)}function S(le,ae){le.opacity.value=ae.opacity,ae.color&&le.diffuse.value.copy(ae.color),ae.emissive&&le.emissive.value.copy(ae.emissive).multiplyScalar(ae.emissiveIntensity),ae.map&&(le.map.value=ae.map),ae.alphaMap&&(le.alphaMap.value=ae.alphaMap),ae.bumpMap&&(le.bumpMap.value=ae.bumpMap,le.bumpScale.value=ae.bumpScale,ae.side===_&&(le.bumpScale.value*=-1)),ae.displacementMap&&(le.displacementMap.value=ae.displacementMap,le.displacementScale.value=ae.displacementScale,le.displacementBias.value=ae.displacementBias),ae.emissiveMap&&(le.emissiveMap.value=ae.emissiveMap),ae.normalMap&&(le.normalMap.value=ae.normalMap,le.normalScale.value.copy(ae.normalScale),ae.side===_&&le.normalScale.value.negate()),ae.specularMap&&(le.specularMap.value=ae.specularMap),ae.alphaTest>0&&(le.alphaTest.value=ae.alphaTest);const Re=a.get(ae).envMap;if(Re&&(le.envMap.value=Re,le.flipEnvMap.value=Re.isCubeTexture&&Re.isRenderTargetTexture===!1?-1:1,le.reflectivity.value=ae.reflectivity,le.ior.value=ae.ior,le.refractionRatio.value=ae.refractionRatio),ae.lightMap){le.lightMap.value=ae.lightMap;const ze=H.physicallyCorrectLights!==!0?Math.PI:1;le.lightMapIntensity.value=ae.lightMapIntensity*ze}ae.aoMap&&(le.aoMap.value=ae.aoMap,le.aoMapIntensity.value=ae.aoMapIntensity);let $e;ae.map?$e=ae.map:ae.specularMap?$e=ae.specularMap:ae.displacementMap?$e=ae.displacementMap:ae.normalMap?$e=ae.normalMap:ae.bumpMap?$e=ae.bumpMap:ae.roughnessMap?$e=ae.roughnessMap:ae.metalnessMap?$e=ae.metalnessMap:ae.alphaMap?$e=ae.alphaMap:ae.emissiveMap?$e=ae.emissiveMap:ae.clearcoatMap?$e=ae.clearcoatMap:ae.clearcoatNormalMap?$e=ae.clearcoatNormalMap:ae.clearcoatRoughnessMap?$e=ae.clearcoatRoughnessMap:ae.iridescenceMap?$e=ae.iridescenceMap:ae.iridescenceThicknessMap?$e=ae.iridescenceThicknessMap:ae.specularIntensityMap?$e=ae.specularIntensityMap:ae.specularColorMap?$e=ae.specularColorMap:ae.transmissionMap?$e=ae.transmissionMap:ae.thicknessMap?$e=ae.thicknessMap:ae.sheenColorMap?$e=ae.sheenColorMap:ae.sheenRoughnessMap&&($e=ae.sheenRoughnessMap),$e!==void 0&&($e.isWebGLRenderTarget&&($e=$e.texture),$e.matrixAutoUpdate===!0&&$e.updateMatrix(),le.uvTransform.value.copy($e.matrix));let Ne;ae.aoMap?Ne=ae.aoMap:ae.lightMap&&(Ne=ae.lightMap),Ne!==void 0&&(Ne.isWebGLRenderTarget&&(Ne=Ne.texture),Ne.matrixAutoUpdate===!0&&Ne.updateMatrix(),le.uv2Transform.value.copy(Ne.matrix))}function I(le,ae){le.diffuse.value.copy(ae.color),le.opacity.value=ae.opacity}function N(le,ae){le.dashSize.value=ae.dashSize,le.totalSize.value=ae.dashSize+ae.gapSize,le.scale.value=ae.scale}function U(le,ae,Re,$e){le.diffuse.value.copy(ae.color),le.opacity.value=ae.opacity,le.size.value=ae.size*Re,le.scale.value=$e*.5,ae.map&&(le.map.value=ae.map),ae.alphaMap&&(le.alphaMap.value=ae.alphaMap),ae.alphaTest>0&&(le.alphaTest.value=ae.alphaTest);let Ne;ae.map?Ne=ae.map:ae.alphaMap&&(Ne=ae.alphaMap),Ne!==void 0&&(Ne.matrixAutoUpdate===!0&&Ne.updateMatrix(),le.uvTransform.value.copy(Ne.matrix))}function W(le,ae){le.diffuse.value.copy(ae.color),le.opacity.value=ae.opacity,le.rotation.value=ae.rotation,ae.map&&(le.map.value=ae.map),ae.alphaMap&&(le.alphaMap.value=ae.alphaMap),ae.alphaTest>0&&(le.alphaTest.value=ae.alphaTest);let Re;ae.map?Re=ae.map:ae.alphaMap&&(Re=ae.alphaMap),Re!==void 0&&(Re.matrixAutoUpdate===!0&&Re.updateMatrix(),le.uvTransform.value.copy(Re.matrix))}function K(le,ae){le.specular.value.copy(ae.specular),le.shininess.value=Math.max(ae.shininess,1e-4)}function q(le,ae){ae.gradientMap&&(le.gradientMap.value=ae.gradientMap)}function ee(le,ae){le.roughness.value=ae.roughness,le.metalness.value=ae.metalness,ae.roughnessMap&&(le.roughnessMap.value=ae.roughnessMap),ae.metalnessMap&&(le.metalnessMap.value=ae.metalnessMap),a.get(ae).envMap&&(le.envMapIntensity.value=ae.envMapIntensity)}function te(le,ae,Re){le.ior.value=ae.ior,ae.sheen>0&&(le.sheenColor.value.copy(ae.sheenColor).multiplyScalar(ae.sheen),le.sheenRoughness.value=ae.sheenRoughness,ae.sheenColorMap&&(le.sheenColorMap.value=ae.sheenColorMap),ae.sheenRoughnessMap&&(le.sheenRoughnessMap.value=ae.sheenRoughnessMap)),ae.clearcoat>0&&(le.clearcoat.value=ae.clearcoat,le.clearcoatRoughness.value=ae.clearcoatRoughness,ae.clearcoatMap&&(le.clearcoatMap.value=ae.clearcoatMap),ae.clearcoatRoughnessMap&&(le.clearcoatRoughnessMap.value=ae.clearcoatRoughnessMap),ae.clearcoatNormalMap&&(le.clearcoatNormalScale.value.copy(ae.clearcoatNormalScale),le.clearcoatNormalMap.value=ae.clearcoatNormalMap,ae.side===_&&le.clearcoatNormalScale.value.negate())),ae.iridescence>0&&(le.iridescence.value=ae.iridescence,le.iridescenceIOR.value=ae.iridescenceIOR,le.iridescenceThicknessMinimum.value=ae.iridescenceThicknessRange[0],le.iridescenceThicknessMaximum.value=ae.iridescenceThicknessRange[1],ae.iridescenceMap&&(le.iridescenceMap.value=ae.iridescenceMap),ae.iridescenceThicknessMap&&(le.iridescenceThicknessMap.value=ae.iridescenceThicknessMap)),ae.transmission>0&&(le.transmission.value=ae.transmission,le.transmissionSamplerMap.value=Re.texture,le.transmissionSamplerSize.value.set(Re.width,Re.height),ae.transmissionMap&&(le.transmissionMap.value=ae.transmissionMap),le.thickness.value=ae.thickness,ae.thicknessMap&&(le.thicknessMap.value=ae.thicknessMap),le.attenuationDistance.value=ae.attenuationDistance,le.attenuationColor.value.copy(ae.attenuationColor)),le.specularIntensity.value=ae.specularIntensity,le.specularColor.value.copy(ae.specularColor),ae.specularIntensityMap&&(le.specularIntensityMap.value=ae.specularIntensityMap),ae.specularColorMap&&(le.specularColorMap.value=ae.specularColorMap)}function ie(le,ae){ae.matcap&&(le.matcap.value=ae.matcap)}function de(le,ae){le.referencePosition.value.copy(ae.referencePosition),le.nearDistance.value=ae.nearDistance,le.farDistance.value=ae.farDistance}return{refreshFogUniforms:f,refreshMaterialUniforms:x}}function nq(H,a,f,x){let S={},I={},N=[];const U=f.isWebGL2?H.getParameter(35375):0;function W($e,Ne){const ze=Ne.program;x.uniformBlockBinding($e,ze)}function K($e,Ne){let ze=S[$e.id];ze===void 0&&(de($e),ze=q($e),S[$e.id]=ze,$e.addEventListener("dispose",ae));const Ke=Ne.program;x.updateUBOMapping($e,Ke);const ht=a.render.frame;I[$e.id]!==ht&&(te($e),I[$e.id]=ht)}function q($e){const Ne=ee();$e.__bindingPointIndex=Ne;const ze=H.createBuffer(),Ke=$e.__size,ht=$e.usage;return H.bindBuffer(35345,ze),H.bufferData(35345,Ke,ht),H.bindBuffer(35345,null),H.bindBufferBase(35345,Ne,ze),ze}function ee(){for(let $e=0;$e<U;$e++)if(N.indexOf($e)===-1)return N.push($e),$e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function te($e){const Ne=S[$e.id],ze=$e.uniforms,Ke=$e.__cache;H.bindBuffer(35345,Ne);for(let ht=0,Lt=ze.length;ht<Lt;ht++){const je=ze[ht];if(ie(je,ht,Ke)===!0){const gt=je.value,_t=je.__offset;typeof gt=="number"?(je.__data[0]=gt,H.bufferSubData(35345,_t,je.__data)):(je.value.isMatrix3?(je.__data[0]=je.value.elements[0],je.__data[1]=je.value.elements[1],je.__data[2]=je.value.elements[2],je.__data[3]=je.value.elements[0],je.__data[4]=je.value.elements[3],je.__data[5]=je.value.elements[4],je.__data[6]=je.value.elements[5],je.__data[7]=je.value.elements[0],je.__data[8]=je.value.elements[6],je.__data[9]=je.value.elements[7],je.__data[10]=je.value.elements[8],je.__data[11]=je.value.elements[0]):gt.toArray(je.__data),H.bufferSubData(35345,_t,je.__data))}}H.bindBuffer(35345,null)}function ie($e,Ne,ze){const Ke=$e.value;if(ze[Ne]===void 0)return typeof Ke=="number"?ze[Ne]=Ke:ze[Ne]=Ke.clone(),!0;if(typeof Ke=="number"){if(ze[Ne]!==Ke)return ze[Ne]=Ke,!0}else{const ht=ze[Ne];if(ht.equals(Ke)===!1)return ht.copy(Ke),!0}return!1}function de($e){const Ne=$e.uniforms;let ze=0;const Ke=16;let ht=0;for(let Lt=0,je=Ne.length;Lt<je;Lt++){const gt=Ne[Lt],_t=le(gt);if(gt.__data=new Float32Array(_t.storage/Float32Array.BYTES_PER_ELEMENT),gt.__offset=ze,Lt>0){ht=ze%Ke;const jt=Ke-ht;ht!==0&&jt-_t.boundary<0&&(ze+=Ke-ht,gt.__offset=ze)}ze+=_t.storage}return ht=ze%Ke,ht>0&&(ze+=Ke-ht),$e.__size=ze,$e.__cache={},this}function le($e){const Ne=$e.value,ze={boundary:0,storage:0};return typeof Ne=="number"?(ze.boundary=4,ze.storage=4):Ne.isVector2?(ze.boundary=8,ze.storage=8):Ne.isVector3||Ne.isColor?(ze.boundary=16,ze.storage=12):Ne.isVector4?(ze.boundary=16,ze.storage=16):Ne.isMatrix3?(ze.boundary=48,ze.storage=48):Ne.isMatrix4?(ze.boundary=64,ze.storage=64):Ne.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",Ne),ze}function ae($e){const Ne=$e.target;Ne.removeEventListener("dispose",ae);const ze=N.indexOf(Ne.__bindingPointIndex);N.splice(ze,1),H.deleteBuffer(S[Ne.id]),delete S[Ne.id],delete I[Ne.id]}function Re(){for(const $e in S)H.deleteBuffer(S[$e]);N=[],S={},I={}}return{bind:W,update:K,dispose:Re}}function rq(){const H=of("canvas");return H.style.display="block",H}function pB(H={}){this.isWebGLRenderer=!0;const a=H.canvas!==void 0?H.canvas:rq(),f=H.context!==void 0?H.context:null,x=H.depth!==void 0?H.depth:!0,S=H.stencil!==void 0?H.stencil:!0,I=H.antialias!==void 0?H.antialias:!1,N=H.premultipliedAlpha!==void 0?H.premultipliedAlpha:!0,U=H.preserveDrawingBuffer!==void 0?H.preserveDrawingBuffer:!1,W=H.powerPreference!==void 0?H.powerPreference:"default",K=H.failIfMajorPerformanceCaveat!==void 0?H.failIfMajorPerformanceCaveat:!1;let q;f!==null?q=f.getContextAttributes().alpha:q=H.alpha!==void 0?H.alpha:!1;let ee=null,te=null;const ie=[],de=[];this.domElement=a,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=pr,this.physicallyCorrectLights=!1,this.toneMapping=Tt,this.toneMappingExposure=1;const le=this;let ae=!1,Re=0,$e=0,Ne=null,ze=-1,Ke=null;const ht=new wi,Lt=new wi;let je=null,gt=a.width,_t=a.height,jt=1,an=null,Wt=null;const Ht=new wi(0,0,gt,_t),tn=new wi(0,0,gt,_t);let Rn=!1;const On=new Ty;let Tn=!1,Qn=!1,zn=null;const xr=new wr,fr=new In,hn=new dt,Dn={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function cr(){return Ne===null?jt:1}let rn=f;function Sr(ut,en){for(let pn=0;pn<ut.length;pn++){const Xt=ut[pn],wn=a.getContext(Xt,en);if(wn!==null)return wn}return null}try{const ut={alpha:!0,depth:x,stencil:S,antialias:I,premultipliedAlpha:N,preserveDrawingBuffer:U,powerPreference:W,failIfMajorPerformanceCaveat:K};if("setAttribute"in a&&a.setAttribute("data-engine",`three.js r${d}`),a.addEventListener("webglcontextlost",Wr,!1),a.addEventListener("webglcontextrestored",Hr,!1),a.addEventListener("webglcontextcreationerror",Li,!1),rn===null){const en=["webgl2","webgl","experimental-webgl"];if(le.isWebGL1Renderer===!0&&en.shift(),rn=Sr(en,ut),rn===null)throw Sr(en)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}rn.getShaderPrecisionFormat===void 0&&(rn.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ut){throw console.error("THREE.WebGLRenderer: "+ut.message),ut}let ur,kr,Jn,oi,Ln,_n,nr,Or,hr,Jr,Vr,Ur,Wi,ki,vt,rt,un,Kn,Zn,gr,Yr,Ar,Mn,zr;function qr(){ur=new AK(rn),kr=new fK(rn,ur,H),ur.init(kr),Ar=new cB(rn,ur,kr),Jn=new qX(rn,ur,kr),oi=new xK,Ln=new FX,_n=new YX(rn,ur,Jn,Ln,kr,Ar,oi),nr=new pK(le),Or=new vK(le),hr=new uW(rn,kr),Mn=new uK(rn,ur,hr,kr),Jr=new yK(rn,hr,oi,Mn),Vr=new SK(rn,Jr,hr,oi),Zn=new wK(rn,kr,_n),rt=new hK(Ln),Ur=new kX(le,nr,Or,ur,kr,Mn,rt),Wi=new tq(le,Ln),ki=new zX,vt=new WX(ur,kr),Kn=new cK(le,nr,Or,Jn,Vr,q,N),un=new XX(le,Vr,kr),zr=new nq(rn,oi,kr,Jn),gr=new dK(rn,ur,oi,kr),Yr=new bK(rn,ur,oi,kr),oi.programs=Ur.programs,le.capabilities=kr,le.extensions=ur,le.properties=Ln,le.renderLists=ki,le.shadowMap=un,le.state=Jn,le.info=oi}qr();const Rr=typeof navigator<"u"&&"xr"in navigator?new eq(le,rn):new fB(le);this.xr=Rr,this.getContext=function(){return rn},this.getContextAttributes=function(){return rn.getContextAttributes()},this.forceContextLoss=function(){const ut=ur.get("WEBGL_lose_context");ut&&ut.loseContext()},this.forceContextRestore=function(){const ut=ur.get("WEBGL_lose_context");ut&&ut.restoreContext()},this.getPixelRatio=function(){return jt},this.setPixelRatio=function(ut){ut!==void 0&&(jt=ut,this.setSize(gt,_t,!1))},this.getSize=function(ut){return ut.set(gt,_t)},this.setSize=function(ut,en,pn){if(Rr.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}gt=ut,_t=en,a.width=Math.floor(ut*jt),a.height=Math.floor(en*jt),pn!==!1&&(a.style.width=ut+"px",a.style.height=en+"px"),this.setViewport(0,0,ut,en)},this.getDrawingBufferSize=function(ut){return ut.set(gt*jt,_t*jt).floor()},this.setDrawingBufferSize=function(ut,en,pn){gt=ut,_t=en,jt=pn,a.width=Math.floor(ut*pn),a.height=Math.floor(en*pn),this.setViewport(0,0,ut,en)},this.getCurrentViewport=function(ut){return ut.copy(ht)},this.getViewport=function(ut){return ut.copy(Ht)},this.setViewport=function(ut,en,pn,Xt){ut.isVector4?Ht.set(ut.x,ut.y,ut.z,ut.w):Ht.set(ut,en,pn,Xt),Jn.viewport(ht.copy(Ht).multiplyScalar(jt).floor())},this.getScissor=function(ut){return ut.copy(tn)},this.setScissor=function(ut,en,pn,Xt){ut.isVector4?tn.set(ut.x,ut.y,ut.z,ut.w):tn.set(ut,en,pn,Xt),Jn.scissor(Lt.copy(tn).multiplyScalar(jt).floor())},this.getScissorTest=function(){return Rn},this.setScissorTest=function(ut){Jn.setScissorTest(Rn=ut)},this.setOpaqueSort=function(ut){an=ut},this.setTransparentSort=function(ut){Wt=ut},this.getClearColor=function(ut){return ut.copy(Kn.getClearColor())},this.setClearColor=function(){Kn.setClearColor.apply(Kn,arguments)},this.getClearAlpha=function(){return Kn.getClearAlpha()},this.setClearAlpha=function(){Kn.setClearAlpha.apply(Kn,arguments)},this.clear=function(ut=!0,en=!0,pn=!0){let Xt=0;ut&&(Xt|=16384),en&&(Xt|=256),pn&&(Xt|=1024),rn.clear(Xt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){a.removeEventListener("webglcontextlost",Wr,!1),a.removeEventListener("webglcontextrestored",Hr,!1),a.removeEventListener("webglcontextcreationerror",Li,!1),ki.dispose(),vt.dispose(),Ln.dispose(),nr.dispose(),Or.dispose(),Vr.dispose(),Mn.dispose(),zr.dispose(),Ur.dispose(),Rr.dispose(),Rr.removeEventListener("sessionstart",Er),Rr.removeEventListener("sessionend",Nr),zn&&(zn.dispose(),zn=null),Di.stop()};function Wr(ut){ut.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),ae=!0}function Hr(){console.log("THREE.WebGLRenderer: Context Restored."),ae=!1;const ut=oi.autoReset,en=un.enabled,pn=un.autoUpdate,Xt=un.needsUpdate,wn=un.type;qr(),oi.autoReset=ut,un.enabled=en,un.autoUpdate=pn,un.needsUpdate=Xt,un.type=wn}function Li(ut){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ut.statusMessage)}function ro(ut){const en=ut.target;en.removeEventListener("dispose",ro),Zo(en)}function Zo(ut){zt(ut),Ln.remove(ut)}function zt(ut){const en=Ln.get(ut).programs;en!==void 0&&(en.forEach(function(pn){Ur.releaseProgram(pn)}),ut.isShaderMaterial&&Ur.releaseShaderCache(ut))}this.renderBufferDirect=function(ut,en,pn,Xt,wn,$r){en===null&&(en=Dn);const Zr=wn.isMesh&&wn.matrixWorld.determinant()<0,di=bJ(ut,en,pn,Xt,wn);Jn.setMaterial(Xt,Zr);let pi=pn.index,Pi=1;Xt.wireframe===!0&&(pi=Jr.getWireframeAttribute(pn),Pi=2);const bi=pn.drawRange,xi=pn.attributes.position;let Po=bi.start*Pi,bs=(bi.start+bi.count)*Pi;$r!==null&&(Po=Math.max(Po,$r.start*Pi),bs=Math.min(bs,($r.start+$r.count)*Pi)),pi!==null?(Po=Math.max(Po,0),bs=Math.min(bs,pi.count)):xi!=null&&(Po=Math.max(Po,0),bs=Math.min(bs,xi.count));const jc=bs-Po;if(jc<0||jc===1/0)return;Mn.setup(wn,Xt,di,pn,pi);let Mf,Bo=gr;if(pi!==null&&(Mf=hr.get(pi),Bo=Yr,Bo.setIndex(Mf)),wn.isMesh)Xt.wireframe===!0?(Jn.setLineWidth(Xt.wireframeLinewidth*cr()),Bo.setMode(1)):Bo.setMode(4);else if(wn.isLine){let Ei=Xt.linewidth;Ei===void 0&&(Ei=1),Jn.setLineWidth(Ei*cr()),wn.isLineSegments?Bo.setMode(1):wn.isLineLoop?Bo.setMode(2):Bo.setMode(3)}else wn.isPoints?Bo.setMode(0):wn.isSprite&&Bo.setMode(4);if(wn.isInstancedMesh)Bo.renderInstances(Po,jc,wn.count);else if(pn.isInstancedBufferGeometry){const Ei=pn._maxInstanceCount!==void 0?pn._maxInstanceCount:1/0,HS=Math.min(pn.instanceCount,Ei);Bo.renderInstances(Po,jc,HS)}else Bo.render(Po,jc)},this.compile=function(ut,en){function pn(Xt,wn,$r){Xt.transparent===!0&&Xt.side===L?(Xt.side=_,Xt.needsUpdate=!0,Vs(Xt,wn,$r),Xt.side=C,Xt.needsUpdate=!0,Vs(Xt,wn,$r),Xt.side=L):Vs(Xt,wn,$r)}te=vt.get(ut),te.init(),de.push(te),ut.traverseVisible(function(Xt){Xt.isLight&&Xt.layers.test(en.layers)&&(te.pushLight(Xt),Xt.castShadow&&te.pushShadow(Xt))}),te.setupLights(le.physicallyCorrectLights),ut.traverse(function(Xt){const wn=Xt.material;if(wn)if(Array.isArray(wn))for(let $r=0;$r<wn.length;$r++){const Zr=wn[$r];pn(Zr,ut,Xt)}else pn(wn,ut,Xt)}),de.pop(),te=null};let En=null;function Vn(ut){En&&En(ut)}function Er(){Di.stop()}function Nr(){Di.start()}const Di=new Qw;Di.setAnimationLoop(Vn),typeof self<"u"&&Di.setContext(self),this.setAnimationLoop=function(ut){En=ut,Rr.setAnimationLoop(ut),ut===null?Di.stop():Di.start()},Rr.addEventListener("sessionstart",Er),Rr.addEventListener("sessionend",Nr),this.render=function(ut,en){if(en!==void 0&&en.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(ae===!0)return;ut.matrixWorldAutoUpdate===!0&&ut.updateMatrixWorld(),en.parent===null&&en.matrixWorldAutoUpdate===!0&&en.updateMatrixWorld(),Rr.enabled===!0&&Rr.isPresenting===!0&&(Rr.cameraAutoUpdate===!0&&Rr.updateCamera(en),en=Rr.getCamera()),ut.isScene===!0&&ut.onBeforeRender(le,ut,en,Ne),te=vt.get(ut,de.length),te.init(),de.push(te),xr.multiplyMatrices(en.projectionMatrix,en.matrixWorldInverse),On.setFromProjectionMatrix(xr),Qn=this.localClippingEnabled,Tn=rt.init(this.clippingPlanes,Qn,en),ee=ki.get(ut,ie.length),ee.init(),ie.push(ee),ea(ut,en,0,le.sortObjects),ee.finish(),le.sortObjects===!0&&ee.sort(an,Wt),Tn===!0&&rt.beginShadows();const pn=te.state.shadowsArray;if(un.render(pn,ut,en),Tn===!0&&rt.endShadows(),this.info.autoReset===!0&&this.info.reset(),Kn.render(ee,ut),te.setupLights(le.physicallyCorrectLights),en.isArrayCamera){const Xt=en.cameras;for(let wn=0,$r=Xt.length;wn<$r;wn++){const Zr=Xt[wn];wa(ee,ut,Zr,Zr.viewport)}}else wa(ee,ut,en);Ne!==null&&(_n.updateMultisampleRenderTarget(Ne),_n.updateRenderTargetMipmap(Ne)),ut.isScene===!0&&ut.onAfterRender(le,ut,en),Rr.enabled&&Rr.submitFrame&&Rr.submitFrame(),Mn.resetDefaultState(),ze=-1,Ke=null,de.pop(),de.length>0?te=de[de.length-1]:te=null,ie.pop(),ie.length>0?ee=ie[ie.length-1]:ee=null};function ea(ut,en,pn,Xt){if(ut.visible===!1)return;if(ut.layers.test(en.layers)){if(ut.isGroup)pn=ut.renderOrder;else if(ut.isLOD)ut.autoUpdate===!0&&ut.update(en);else if(ut.isLight)te.pushLight(ut),ut.castShadow&&te.pushShadow(ut);else if(ut.isSprite){if(!ut.frustumCulled||On.intersectsSprite(ut)){Xt&&hn.setFromMatrixPosition(ut.matrixWorld).applyMatrix4(xr);const Zr=Vr.update(ut),di=ut.material;di.visible&&ee.push(ut,Zr,di,pn,hn.z,null)}}else if((ut.isMesh||ut.isLine||ut.isPoints)&&(ut.isSkinnedMesh&&ut.skeleton.frame!==oi.render.frame&&(ut.skeleton.update(),ut.skeleton.frame=oi.render.frame),!ut.frustumCulled||On.intersectsObject(ut))){Xt&&hn.setFromMatrixPosition(ut.matrixWorld).applyMatrix4(xr);const Zr=Vr.update(ut),di=ut.material;if(Array.isArray(di)){const pi=Zr.groups;for(let Pi=0,bi=pi.length;Pi<bi;Pi++){const xi=pi[Pi],Po=di[xi.materialIndex];Po&&Po.visible&&ee.push(ut,Zr,Po,pn,hn.z,xi)}}else di.visible&&ee.push(ut,Zr,di,pn,hn.z,null)}}const $r=ut.children;for(let Zr=0,di=$r.length;Zr<di;Zr++)ea($r[Zr],en,pn,Xt)}function wa(ut,en,pn,Xt){const wn=ut.opaque,$r=ut.transmissive,Zr=ut.transparent;te.setupLightsView(pn),$r.length>0&&_f(wn,en,pn),Xt&&Jn.viewport(ht.copy(Xt)),wn.length>0&&io(wn,en,pn),$r.length>0&&io($r,en,pn),Zr.length>0&&io(Zr,en,pn),Jn.buffers.depth.setTest(!0),Jn.buffers.depth.setMask(!0),Jn.buffers.color.setMask(!0),Jn.setPolygonOffset(!1)}function _f(ut,en,pn){const Xt=kr.isWebGL2;zn===null&&(zn=new ns(1,1,{generateMipmaps:!0,type:ur.has("EXT_color_buffer_half_float")?pt:nt,minFilter:Je,samples:Xt&&I===!0?4:0})),le.getDrawingBufferSize(fr),Xt?zn.setSize(fr.x,fr.y):zn.setSize(Dh(fr.x),Dh(fr.y));const wn=le.getRenderTarget();le.setRenderTarget(zn),le.clear();const $r=le.toneMapping;le.toneMapping=Tt,io(ut,en,pn),le.toneMapping=$r,_n.updateMultisampleRenderTarget(zn),_n.updateRenderTargetMipmap(zn),le.setRenderTarget(wn)}function io(ut,en,pn){const Xt=en.isScene===!0?en.overrideMaterial:null;for(let wn=0,$r=ut.length;wn<$r;wn++){const Zr=ut[wn],di=Zr.object,pi=Zr.geometry,Pi=Xt===null?Zr.material:Xt,bi=Zr.group;di.layers.test(pn.layers)&&Gc(di,en,pn,pi,Pi,bi)}}function Gc(ut,en,pn,Xt,wn,$r){ut.onBeforeRender(le,en,pn,Xt,wn,$r),ut.modelViewMatrix.multiplyMatrices(pn.matrixWorldInverse,ut.matrixWorld),ut.normalMatrix.getNormalMatrix(ut.modelViewMatrix),wn.onBeforeRender(le,en,pn,Xt,ut,$r),wn.transparent===!0&&wn.side===L?(wn.side=_,wn.needsUpdate=!0,le.renderBufferDirect(pn,en,Xt,wn,ut,$r),wn.side=C,wn.needsUpdate=!0,le.renderBufferDirect(pn,en,Xt,wn,ut,$r),wn.side=L):le.renderBufferDirect(pn,en,Xt,wn,ut,$r),ut.onAfterRender(le,en,pn,Xt,wn,$r)}function Vs(ut,en,pn){en.isScene!==!0&&(en=Dn);const Xt=Ln.get(ut),wn=te.state.lights,$r=te.state.shadowsArray,Zr=wn.state.version,di=Ur.getParameters(ut,wn.state,$r,en,pn),pi=Ur.getProgramCacheKey(di);let Pi=Xt.programs;Xt.environment=ut.isMeshStandardMaterial?en.environment:null,Xt.fog=en.fog,Xt.envMap=(ut.isMeshStandardMaterial?Or:nr).get(ut.envMap||Xt.environment),Pi===void 0&&(ut.addEventListener("dispose",ro),Pi=new Map,Xt.programs=Pi);let bi=Pi.get(pi);if(bi!==void 0){if(Xt.currentProgram===bi&&Xt.lightsStateVersion===Zr)return XO(ut,di),bi}else di.uniforms=Ur.getUniforms(ut),ut.onBuild(pn,di,le),ut.onBeforeCompile(di,le),bi=Ur.acquireProgram(di,pi),Pi.set(pi,bi),Xt.uniforms=di.uniforms;const xi=Xt.uniforms;(!ut.isShaderMaterial&&!ut.isRawShaderMaterial||ut.clipping===!0)&&(xi.clippingPlanes=rt.uniform),XO(ut,di),Xt.needsLights=EJ(ut),Xt.lightsStateVersion=Zr,Xt.needsLights&&(xi.ambientLightColor.value=wn.state.ambient,xi.lightProbe.value=wn.state.probe,xi.directionalLights.value=wn.state.directional,xi.directionalLightShadows.value=wn.state.directionalShadow,xi.spotLights.value=wn.state.spot,xi.spotLightShadows.value=wn.state.spotShadow,xi.rectAreaLights.value=wn.state.rectArea,xi.ltc_1.value=wn.state.rectAreaLTC1,xi.ltc_2.value=wn.state.rectAreaLTC2,xi.pointLights.value=wn.state.point,xi.pointLightShadows.value=wn.state.pointShadow,xi.hemisphereLights.value=wn.state.hemi,xi.directionalShadowMap.value=wn.state.directionalShadowMap,xi.directionalShadowMatrix.value=wn.state.directionalShadowMatrix,xi.spotShadowMap.value=wn.state.spotShadowMap,xi.spotLightMatrix.value=wn.state.spotLightMatrix,xi.spotLightMap.value=wn.state.spotLightMap,xi.pointShadowMap.value=wn.state.pointShadowMap,xi.pointShadowMatrix.value=wn.state.pointShadowMatrix);const Po=bi.getUniforms(),bs=By.seqWithValue(Po.seq,xi);return Xt.currentProgram=bi,Xt.uniformsList=bs,bi}function XO(ut,en){const pn=Ln.get(ut);pn.outputEncoding=en.outputEncoding,pn.instancing=en.instancing,pn.skinning=en.skinning,pn.morphTargets=en.morphTargets,pn.morphNormals=en.morphNormals,pn.morphColors=en.morphColors,pn.morphTargetsCount=en.morphTargetsCount,pn.numClippingPlanes=en.numClippingPlanes,pn.numIntersection=en.numClipIntersection,pn.vertexAlphas=en.vertexAlphas,pn.vertexTangents=en.vertexTangents,pn.toneMapping=en.toneMapping}function bJ(ut,en,pn,Xt,wn){en.isScene!==!0&&(en=Dn),_n.resetTextureUnits();const $r=en.fog,Zr=Xt.isMeshStandardMaterial?en.environment:null,di=Ne===null?le.outputEncoding:Ne.isXRRenderTarget===!0?Ne.texture.encoding:pr,pi=(Xt.isMeshStandardMaterial?Or:nr).get(Xt.envMap||Zr),Pi=Xt.vertexColors===!0&&!!pn.attributes.color&&pn.attributes.color.itemSize===4,bi=!!Xt.normalMap&&!!pn.attributes.tangent,xi=!!pn.morphAttributes.position,Po=!!pn.morphAttributes.normal,bs=!!pn.morphAttributes.color,jc=Xt.toneMapped?le.toneMapping:Tt,Mf=pn.morphAttributes.position||pn.morphAttributes.normal||pn.morphAttributes.color,Bo=Mf!==void 0?Mf.length:0,Ei=Ln.get(Xt),HS=te.state.lights;if(Tn===!0&&(Qn===!0||ut!==Ke)){const xs=ut===Ke&&Xt.id===ze;rt.setState(Xt,ut,xs)}let ta=!1;Xt.version===Ei.__version?(Ei.needsLights&&Ei.lightsStateVersion!==HS.state.version||Ei.outputEncoding!==di||wn.isInstancedMesh&&Ei.instancing===!1||!wn.isInstancedMesh&&Ei.instancing===!0||wn.isSkinnedMesh&&Ei.skinning===!1||!wn.isSkinnedMesh&&Ei.skinning===!0||Ei.envMap!==pi||Xt.fog===!0&&Ei.fog!==$r||Ei.numClippingPlanes!==void 0&&(Ei.numClippingPlanes!==rt.numPlanes||Ei.numIntersection!==rt.numIntersection)||Ei.vertexAlphas!==Pi||Ei.vertexTangents!==bi||Ei.morphTargets!==xi||Ei.morphNormals!==Po||Ei.morphColors!==bs||Ei.toneMapping!==jc||kr.isWebGL2===!0&&Ei.morphTargetsCount!==Bo)&&(ta=!0):(ta=!0,Ei.__version=Xt.version);let Tf=Ei.currentProgram;ta===!0&&(Tf=Vs(Xt,en,wn));let qO=!1,vv=!1,$S=!1;const za=Tf.getUniforms(),Rf=Ei.uniforms;if(Jn.useProgram(Tf.program)&&(qO=!0,vv=!0,$S=!0),Xt.id!==ze&&(ze=Xt.id,vv=!0),qO||Ke!==ut){if(za.setValue(rn,"projectionMatrix",ut.projectionMatrix),kr.logarithmicDepthBuffer&&za.setValue(rn,"logDepthBufFC",2/(Math.log(ut.far+1)/Math.LN2)),Ke!==ut&&(Ke=ut,vv=!0,$S=!0),Xt.isShaderMaterial||Xt.isMeshPhongMaterial||Xt.isMeshToonMaterial||Xt.isMeshStandardMaterial||Xt.envMap){const xs=za.map.cameraPosition;xs!==void 0&&xs.setValue(rn,hn.setFromMatrixPosition(ut.matrixWorld))}(Xt.isMeshPhongMaterial||Xt.isMeshToonMaterial||Xt.isMeshLambertMaterial||Xt.isMeshBasicMaterial||Xt.isMeshStandardMaterial||Xt.isShaderMaterial)&&za.setValue(rn,"isOrthographic",ut.isOrthographicCamera===!0),(Xt.isMeshPhongMaterial||Xt.isMeshToonMaterial||Xt.isMeshLambertMaterial||Xt.isMeshBasicMaterial||Xt.isMeshStandardMaterial||Xt.isShaderMaterial||Xt.isShadowMaterial||wn.isSkinnedMesh)&&za.setValue(rn,"viewMatrix",ut.matrixWorldInverse)}if(wn.isSkinnedMesh){za.setOptional(rn,wn,"bindMatrix"),za.setOptional(rn,wn,"bindMatrixInverse");const xs=wn.skeleton;xs&&(kr.floatVertexTextures?(xs.boneTexture===null&&xs.computeBoneTexture(),za.setValue(rn,"boneTexture",xs.boneTexture,_n),za.setValue(rn,"boneTextureSize",xs.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const GS=pn.morphAttributes;if((GS.position!==void 0||GS.normal!==void 0||GS.color!==void 0&&kr.isWebGL2===!0)&&Zn.update(wn,pn,Xt,Tf),(vv||Ei.receiveShadow!==wn.receiveShadow)&&(Ei.receiveShadow=wn.receiveShadow,za.setValue(rn,"receiveShadow",wn.receiveShadow)),Xt.isMeshGouraudMaterial&&Xt.envMap!==null&&(Rf.envMap.value=pi,Rf.flipEnvMap.value=pi.isCubeTexture&&pi.isRenderTargetTexture===!1?-1:1),vv&&(za.setValue(rn,"toneMappingExposure",le.toneMappingExposure),Ei.needsLights&&xJ(Rf,$S),$r&&Xt.fog===!0&&Wi.refreshFogUniforms(Rf,$r),Wi.refreshMaterialUniforms(Rf,Xt,jt,_t,zn),By.upload(rn,Ei.uniformsList,Rf,_n)),Xt.isShaderMaterial&&Xt.uniformsNeedUpdate===!0&&(By.upload(rn,Ei.uniformsList,Rf,_n),Xt.uniformsNeedUpdate=!1),Xt.isSpriteMaterial&&za.setValue(rn,"center",wn.center),za.setValue(rn,"modelViewMatrix",wn.modelViewMatrix),za.setValue(rn,"normalMatrix",wn.normalMatrix),za.setValue(rn,"modelMatrix",wn.matrixWorld),Xt.isShaderMaterial||Xt.isRawShaderMaterial){const xs=Xt.uniformsGroups;for(let jS=0,CJ=xs.length;jS<CJ;jS++)if(kr.isWebGL2){const YO=xs[jS];zr.update(YO,Tf),zr.bind(YO,Tf)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Tf}function xJ(ut,en){ut.ambientLightColor.needsUpdate=en,ut.lightProbe.needsUpdate=en,ut.directionalLights.needsUpdate=en,ut.directionalLightShadows.needsUpdate=en,ut.pointLights.needsUpdate=en,ut.pointLightShadows.needsUpdate=en,ut.spotLights.needsUpdate=en,ut.spotLightShadows.needsUpdate=en,ut.rectAreaLights.needsUpdate=en,ut.hemisphereLights.needsUpdate=en}function EJ(ut){return ut.isMeshLambertMaterial||ut.isMeshToonMaterial||ut.isMeshPhongMaterial||ut.isMeshStandardMaterial||ut.isShadowMaterial||ut.isShaderMaterial&&ut.lights===!0}this.setTexture2D=function(){var ut=!1;return function(pn,Xt){pn&&pn.isWebGLRenderTarget&&(ut||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),ut=!0),pn=pn.texture),_n.setTexture2D(pn,Xt)}}(),this.getActiveCubeFace=function(){return Re},this.getActiveMipmapLevel=function(){return $e},this.getRenderTarget=function(){return Ne},this.setRenderTargetTextures=function(ut,en,pn){Ln.get(ut.texture).__webglTexture=en,Ln.get(ut.depthTexture).__webglTexture=pn;const Xt=Ln.get(ut);Xt.__hasExternalTextures=!0,Xt.__hasExternalTextures&&(Xt.__autoAllocateDepthBuffer=pn===void 0,Xt.__autoAllocateDepthBuffer||ur.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Xt.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(ut,en){const pn=Ln.get(ut);pn.__webglFramebuffer=en,pn.__useDefaultFramebuffer=en===void 0},this.setRenderTarget=function(ut,en=0,pn=0){Ne=ut,Re=en,$e=pn;let Xt=!0,wn=null,$r=!1,Zr=!1;if(ut){const pi=Ln.get(ut);pi.__useDefaultFramebuffer!==void 0?(Jn.bindFramebuffer(36160,null),Xt=!1):pi.__webglFramebuffer===void 0?_n.setupRenderTarget(ut):pi.__hasExternalTextures&&_n.rebindTextures(ut,Ln.get(ut.texture).__webglTexture,Ln.get(ut.depthTexture).__webglTexture);const Pi=ut.texture;(Pi.isData3DTexture||Pi.isDataArrayTexture||Pi.isCompressedArrayTexture)&&(Zr=!0);const bi=Ln.get(ut).__webglFramebuffer;ut.isWebGLCubeRenderTarget?(wn=bi[en],$r=!0):kr.isWebGL2&&ut.samples>0&&_n.useMultisampledRTT(ut)===!1?wn=Ln.get(ut).__webglMultisampledFramebuffer:wn=bi,ht.copy(ut.viewport),Lt.copy(ut.scissor),je=ut.scissorTest}else ht.copy(Ht).multiplyScalar(jt).floor(),Lt.copy(tn).multiplyScalar(jt).floor(),je=Rn;if(Jn.bindFramebuffer(36160,wn)&&kr.drawBuffers&&Xt&&Jn.drawBuffers(ut,wn),Jn.viewport(ht),Jn.scissor(Lt),Jn.setScissorTest(je),$r){const pi=Ln.get(ut.texture);rn.framebufferTexture2D(36160,36064,34069+en,pi.__webglTexture,pn)}else if(Zr){const pi=Ln.get(ut.texture),Pi=en||0;rn.framebufferTextureLayer(36160,36064,pi.__webglTexture,pn||0,Pi)}ze=-1},this.readRenderTargetPixels=function(ut,en,pn,Xt,wn,$r,Zr){if(!(ut&&ut.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let di=Ln.get(ut).__webglFramebuffer;if(ut.isWebGLCubeRenderTarget&&Zr!==void 0&&(di=di[Zr]),di){Jn.bindFramebuffer(36160,di);try{const pi=ut.texture,Pi=pi.format,bi=pi.type;if(Pi!==Pn&&Ar.convert(Pi)!==rn.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const xi=bi===pt&&(ur.has("EXT_color_buffer_half_float")||kr.isWebGL2&&ur.has("EXT_color_buffer_float"));if(bi!==nt&&Ar.convert(bi)!==rn.getParameter(35738)&&!(bi===Pt&&(kr.isWebGL2||ur.has("OES_texture_float")||ur.has("WEBGL_color_buffer_float")))&&!xi){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}en>=0&&en<=ut.width-Xt&&pn>=0&&pn<=ut.height-wn&&rn.readPixels(en,pn,Xt,wn,Ar.convert(Pi),Ar.convert(bi),$r)}finally{const pi=Ne!==null?Ln.get(Ne).__webglFramebuffer:null;Jn.bindFramebuffer(36160,pi)}}},this.copyFramebufferToTexture=function(ut,en,pn=0){const Xt=Math.pow(2,-pn),wn=Math.floor(en.image.width*Xt),$r=Math.floor(en.image.height*Xt);_n.setTexture2D(en,0),rn.copyTexSubImage2D(3553,pn,0,0,ut.x,ut.y,wn,$r),Jn.unbindTexture()},this.copyTextureToTexture=function(ut,en,pn,Xt=0){const wn=en.image.width,$r=en.image.height,Zr=Ar.convert(pn.format),di=Ar.convert(pn.type);_n.setTexture2D(pn,0),rn.pixelStorei(37440,pn.flipY),rn.pixelStorei(37441,pn.premultiplyAlpha),rn.pixelStorei(3317,pn.unpackAlignment),en.isDataTexture?rn.texSubImage2D(3553,Xt,ut.x,ut.y,wn,$r,Zr,di,en.image.data):en.isCompressedTexture?rn.compressedTexSubImage2D(3553,Xt,ut.x,ut.y,en.mipmaps[0].width,en.mipmaps[0].height,Zr,en.mipmaps[0].data):rn.texSubImage2D(3553,Xt,ut.x,ut.y,Zr,di,en.image),Xt===0&&pn.generateMipmaps&&rn.generateMipmap(3553),Jn.unbindTexture()},this.copyTextureToTexture3D=function(ut,en,pn,Xt,wn=0){if(le.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const $r=ut.max.x-ut.min.x+1,Zr=ut.max.y-ut.min.y+1,di=ut.max.z-ut.min.z+1,pi=Ar.convert(Xt.format),Pi=Ar.convert(Xt.type);let bi;if(Xt.isData3DTexture)_n.setTexture3D(Xt,0),bi=32879;else if(Xt.isDataArrayTexture)_n.setTexture2DArray(Xt,0),bi=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}rn.pixelStorei(37440,Xt.flipY),rn.pixelStorei(37441,Xt.premultiplyAlpha),rn.pixelStorei(3317,Xt.unpackAlignment);const xi=rn.getParameter(3314),Po=rn.getParameter(32878),bs=rn.getParameter(3316),jc=rn.getParameter(3315),Mf=rn.getParameter(32877),Bo=pn.isCompressedTexture?pn.mipmaps[0]:pn.image;rn.pixelStorei(3314,Bo.width),rn.pixelStorei(32878,Bo.height),rn.pixelStorei(3316,ut.min.x),rn.pixelStorei(3315,ut.min.y),rn.pixelStorei(32877,ut.min.z),pn.isDataTexture||pn.isData3DTexture?rn.texSubImage3D(bi,wn,en.x,en.y,en.z,$r,Zr,di,pi,Pi,Bo.data):pn.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),rn.compressedTexSubImage3D(bi,wn,en.x,en.y,en.z,$r,Zr,di,pi,Bo.data)):rn.texSubImage3D(bi,wn,en.x,en.y,en.z,$r,Zr,di,pi,Pi,Bo),rn.pixelStorei(3314,xi),rn.pixelStorei(32878,Po),rn.pixelStorei(3316,bs),rn.pixelStorei(3315,jc),rn.pixelStorei(32877,Mf),wn===0&&Xt.generateMipmaps&&rn.generateMipmap(bi),Jn.unbindTexture()},this.initTexture=function(ut){ut.isCubeTexture?_n.setTextureCube(ut,0):ut.isData3DTexture?_n.setTexture3D(ut,0):ut.isDataArrayTexture||ut.isCompressedArrayTexture?_n.setTexture2DArray(ut,0):_n.setTexture2D(ut,0),Jn.unbindTexture()},this.resetState=function(){Re=0,$e=0,Ne=null,Jn.reset(),Mn.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class mB extends pB{}mB.prototype.isWebGL1Renderer=!0;class Oy{constructor(a,f=25e-5){this.isFogExp2=!0,this.name="",this.color=new br(a),this.density=f}clone(){return new Oy(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Dy{constructor(a,f=1,x=1e3){this.isFog=!0,this.name="",this.color=new br(a),this.near=f,this.far=x}clone(){return new Dy(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class gB extends yi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(a,f){return super.copy(a,f),a.background!==null&&(this.background=a.background.clone()),a.environment!==null&&(this.environment=a.environment.clone()),a.fog!==null&&(this.fog=a.fog.clone()),this.backgroundBlurriness=a.backgroundBlurriness,this.backgroundIntensity=a.backgroundIntensity,a.overrideMaterial!==null&&(this.overrideMaterial=a.overrideMaterial.clone()),this.matrixAutoUpdate=a.matrixAutoUpdate,this}toJSON(a){const f=super.toJSON(a);return this.fog!==null&&(f.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(f.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(f.backgroundIntensity=this.backgroundIntensity),f}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(a){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=a}}class Ny{constructor(a,f){this.isInterleavedBuffer=!0,this.array=a,this.stride=f,this.count=a!==void 0?a.length/f:0,this.usage=tf,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Da()}onUploadCallback(){}set needsUpdate(a){a===!0&&this.version++}setUsage(a){return this.usage=a,this}copy(a){return this.array=new a.array.constructor(a.array),this.count=a.count,this.stride=a.stride,this.usage=a.usage,this}copyAt(a,f,x){a*=this.stride,x*=f.stride;for(let S=0,I=this.stride;S<I;S++)this.array[a+S]=f.array[x+S];return this}set(a,f=0){return this.array.set(a,f),this}clone(a){a.arrayBuffers===void 0&&(a.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Da()),a.arrayBuffers[this.array.buffer._uuid]===void 0&&(a.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const f=new this.array.constructor(a.arrayBuffers[this.array.buffer._uuid]),x=new this.constructor(f,this.stride);return x.setUsage(this.usage),x}onUpload(a){return this.onUploadCallback=a,this}toJSON(a){return a.arrayBuffers===void 0&&(a.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Da()),a.arrayBuffers[this.array.buffer._uuid]===void 0&&(a.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Fa=new dt;class hf{constructor(a,f,x,S=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=a,this.itemSize=f,this.offset=x,this.normalized=S===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(a){this.data.needsUpdate=a}applyMatrix4(a){for(let f=0,x=this.data.count;f<x;f++)Fa.fromBufferAttribute(this,f),Fa.applyMatrix4(a),this.setXYZ(f,Fa.x,Fa.y,Fa.z);return this}applyNormalMatrix(a){for(let f=0,x=this.count;f<x;f++)Fa.fromBufferAttribute(this,f),Fa.applyNormalMatrix(a),this.setXYZ(f,Fa.x,Fa.y,Fa.z);return this}transformDirection(a){for(let f=0,x=this.count;f<x;f++)Fa.fromBufferAttribute(this,f),Fa.transformDirection(a),this.setXYZ(f,Fa.x,Fa.y,Fa.z);return this}setX(a,f){return this.normalized&&(f=Ni(f,this.array)),this.data.array[a*this.data.stride+this.offset]=f,this}setY(a,f){return this.normalized&&(f=Ni(f,this.array)),this.data.array[a*this.data.stride+this.offset+1]=f,this}setZ(a,f){return this.normalized&&(f=Ni(f,this.array)),this.data.array[a*this.data.stride+this.offset+2]=f,this}setW(a,f){return this.normalized&&(f=Ni(f,this.array)),this.data.array[a*this.data.stride+this.offset+3]=f,this}getX(a){let f=this.data.array[a*this.data.stride+this.offset];return this.normalized&&(f=pl(f,this.array)),f}getY(a){let f=this.data.array[a*this.data.stride+this.offset+1];return this.normalized&&(f=pl(f,this.array)),f}getZ(a){let f=this.data.array[a*this.data.stride+this.offset+2];return this.normalized&&(f=pl(f,this.array)),f}getW(a){let f=this.data.array[a*this.data.stride+this.offset+3];return this.normalized&&(f=pl(f,this.array)),f}setXY(a,f,x){return a=a*this.data.stride+this.offset,this.normalized&&(f=Ni(f,this.array),x=Ni(x,this.array)),this.data.array[a+0]=f,this.data.array[a+1]=x,this}setXYZ(a,f,x,S){return a=a*this.data.stride+this.offset,this.normalized&&(f=Ni(f,this.array),x=Ni(x,this.array),S=Ni(S,this.array)),this.data.array[a+0]=f,this.data.array[a+1]=x,this.data.array[a+2]=S,this}setXYZW(a,f,x,S,I){return a=a*this.data.stride+this.offset,this.normalized&&(f=Ni(f,this.array),x=Ni(x,this.array),S=Ni(S,this.array),I=Ni(I,this.array)),this.data.array[a+0]=f,this.data.array[a+1]=x,this.data.array[a+2]=S,this.data.array[a+3]=I,this}clone(a){if(a===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const f=[];for(let x=0;x<this.count;x++){const S=x*this.data.stride+this.offset;for(let I=0;I<this.itemSize;I++)f.push(this.data.array[S+I])}return new Vi(new this.array.constructor(f),this.itemSize,this.normalized)}else return a.interleavedBuffers===void 0&&(a.interleavedBuffers={}),a.interleavedBuffers[this.data.uuid]===void 0&&(a.interleavedBuffers[this.data.uuid]=this.data.clone(a)),new hf(a.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(a){if(a===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const f=[];for(let x=0;x<this.count;x++){const S=x*this.data.stride+this.offset;for(let I=0;I<this.itemSize;I++)f.push(this.data.array[S+I])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:f,normalized:this.normalized}}else return a.interleavedBuffers===void 0&&(a.interleavedBuffers={}),a.interleavedBuffers[this.data.uuid]===void 0&&(a.interleavedBuffers[this.data.uuid]=this.data.toJSON(a)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class iS extends Ca{constructor(a){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new br(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(a)}copy(a){return super.copy(a),this.color.copy(a.color),this.map=a.map,this.alphaMap=a.alphaMap,this.rotation=a.rotation,this.sizeAttenuation=a.sizeAttenuation,this.fog=a.fog,this}}let Zh;const Gg=new dt,ep=new dt,tp=new dt,np=new In,jg=new In,vB=new wr,ky=new dt,Vg=new dt,Fy=new dt,AB=new In,oS=new In,yB=new In;class bB extends yi{constructor(a){if(super(),this.isSprite=!0,this.type="Sprite",Zh===void 0){Zh=new ci;const f=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),x=new Ny(f,5);Zh.setIndex([0,1,2,0,2,3]),Zh.setAttribute("position",new hf(x,3,0,!1)),Zh.setAttribute("uv",new hf(x,2,3,!1))}this.geometry=Zh,this.material=a!==void 0?a:new iS,this.center=new In(.5,.5)}raycast(a,f){a.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ep.setFromMatrixScale(this.matrixWorld),vB.copy(a.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(a.camera.matrixWorldInverse,this.matrixWorld),tp.setFromMatrixPosition(this.modelViewMatrix),a.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&ep.multiplyScalar(-tp.z);const x=this.material.rotation;let S,I;x!==0&&(I=Math.cos(x),S=Math.sin(x));const N=this.center;Uy(ky.set(-.5,-.5,0),tp,N,ep,S,I),Uy(Vg.set(.5,-.5,0),tp,N,ep,S,I),Uy(Fy.set(.5,.5,0),tp,N,ep,S,I),AB.set(0,0),oS.set(1,0),yB.set(1,1);let U=a.ray.intersectTriangle(ky,Vg,Fy,!1,Gg);if(U===null&&(Uy(Vg.set(-.5,.5,0),tp,N,ep,S,I),oS.set(0,1),U=a.ray.intersectTriangle(ky,Fy,Vg,!1,Gg),U===null))return;const W=a.ray.origin.distanceTo(Gg);W<a.near||W>a.far||f.push({distance:W,point:Gg.clone(),uv:$s.getUV(Gg,ky,Vg,Fy,AB,oS,yB,new In),face:null,object:this})}copy(a,f){return super.copy(a,f),a.center!==void 0&&this.center.copy(a.center),this.material=a.material,this}}function Uy(H,a,f,x,S,I){np.subVectors(H,f).addScalar(.5).multiply(x),S!==void 0?(jg.x=I*np.x-S*np.y,jg.y=S*np.x+I*np.y):jg.copy(np),H.copy(a),H.x+=jg.x,H.y+=jg.y,H.applyMatrix4(vB)}const zy=new dt,xB=new dt;class EB extends yi{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(a){super.copy(a,!1);const f=a.levels;for(let x=0,S=f.length;x<S;x++){const I=f[x];this.addLevel(I.object.clone(),I.distance,I.hysteresis)}return this.autoUpdate=a.autoUpdate,this}addLevel(a,f=0,x=0){f=Math.abs(f);const S=this.levels;let I;for(I=0;I<S.length&&!(f<S[I].distance);I++);return S.splice(I,0,{distance:f,hysteresis:x,object:a}),this.add(a),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(a){const f=this.levels;if(f.length>0){let x,S;for(x=1,S=f.length;x<S;x++){let I=f[x].distance;if(f[x].object.visible&&(I-=I*f[x].hysteresis),a<I)break}return f[x-1].object}return null}raycast(a,f){if(this.levels.length>0){zy.setFromMatrixPosition(this.matrixWorld);const S=a.ray.origin.distanceTo(zy);this.getObjectForDistance(S).raycast(a,f)}}update(a){const f=this.levels;if(f.length>1){zy.setFromMatrixPosition(a.matrixWorld),xB.setFromMatrixPosition(this.matrixWorld);const x=zy.distanceTo(xB)/a.zoom;f[0].object.visible=!0;let S,I;for(S=1,I=f.length;S<I;S++){let N=f[S].distance;if(f[S].object.visible&&(N-=N*f[S].hysteresis),x>=N)f[S-1].object.visible=!1,f[S].object.visible=!0;else break}for(this._currentLevel=S-1;S<I;S++)f[S].object.visible=!1}}toJSON(a){const f=super.toJSON(a);this.autoUpdate===!1&&(f.object.autoUpdate=!1),f.object.levels=[];const x=this.levels;for(let S=0,I=x.length;S<I;S++){const N=x[S];f.object.levels.push({object:N.object.uuid,distance:N.distance,hysteresis:N.hysteresis})}return f}}const CB=new dt,wB=new wi,SB=new wi,iq=new dt,_B=new wr;class MB extends pa{constructor(a,f){super(a,f),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new wr,this.bindMatrixInverse=new wr}copy(a,f){return super.copy(a,f),this.bindMode=a.bindMode,this.bindMatrix.copy(a.bindMatrix),this.bindMatrixInverse.copy(a.bindMatrixInverse),this.skeleton=a.skeleton,this}bind(a,f){this.skeleton=a,f===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),f=this.matrixWorld),this.bindMatrix.copy(f),this.bindMatrixInverse.copy(f).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const a=new wi,f=this.geometry.attributes.skinWeight;for(let x=0,S=f.count;x<S;x++){a.fromBufferAttribute(f,x);const I=1/a.manhattanLength();I!==1/0?a.multiplyScalar(I):a.set(1,0,0,0),f.setXYZW(x,a.x,a.y,a.z,a.w)}}updateMatrixWorld(a){super.updateMatrixWorld(a),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(a,f){const x=this.skeleton,S=this.geometry;wB.fromBufferAttribute(S.attributes.skinIndex,a),SB.fromBufferAttribute(S.attributes.skinWeight,a),CB.copy(f).applyMatrix4(this.bindMatrix),f.set(0,0,0);for(let I=0;I<4;I++){const N=SB.getComponent(I);if(N!==0){const U=wB.getComponent(I);_B.multiplyMatrices(x.bones[U].matrixWorld,x.boneInverses[U]),f.addScaledVector(iq.copy(CB).applyMatrix4(_B),N)}}return f.applyMatrix4(this.bindMatrixInverse)}}class aS extends yi{constructor(){super(),this.isBone=!0,this.type="Bone"}}class rp extends fo{constructor(a=null,f=1,x=1,S,I,N,U,W,K=ce,q=ce,ee,te){super(null,N,U,W,K,q,S,I,ee,te),this.isDataTexture=!0,this.image={data:a,width:f,height:x},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const TB=new wr,oq=new wr;class Hy{constructor(a=[],f=[]){this.uuid=Da(),this.bones=a.slice(0),this.boneInverses=f,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const a=this.bones,f=this.boneInverses;if(this.boneMatrices=new Float32Array(a.length*16),f.length===0)this.calculateInverses();else if(a.length!==f.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let x=0,S=this.bones.length;x<S;x++)this.boneInverses.push(new wr)}}calculateInverses(){this.boneInverses.length=0;for(let a=0,f=this.bones.length;a<f;a++){const x=new wr;this.bones[a]&&x.copy(this.bones[a].matrixWorld).invert(),this.boneInverses.push(x)}}pose(){for(let a=0,f=this.bones.length;a<f;a++){const x=this.bones[a];x&&x.matrixWorld.copy(this.boneInverses[a]).invert()}for(let a=0,f=this.bones.length;a<f;a++){const x=this.bones[a];x&&(x.parent&&x.parent.isBone?(x.matrix.copy(x.parent.matrixWorld).invert(),x.matrix.multiply(x.matrixWorld)):x.matrix.copy(x.matrixWorld),x.matrix.decompose(x.position,x.quaternion,x.scale))}}update(){const a=this.bones,f=this.boneInverses,x=this.boneMatrices,S=this.boneTexture;for(let I=0,N=a.length;I<N;I++){const U=a[I]?a[I].matrixWorld:oq;TB.multiplyMatrices(U,f[I]),TB.toArray(x,I*16)}S!==null&&(S.needsUpdate=!0)}clone(){return new Hy(this.bones,this.boneInverses)}computeBoneTexture(){let a=Math.sqrt(this.bones.length*4);a=ly(a),a=Math.max(a,4);const f=new Float32Array(a*a*4);f.set(this.boneMatrices);const x=new rp(f,a,a,Pn,Pt);return x.needsUpdate=!0,this.boneMatrices=f,this.boneTexture=x,this.boneTextureSize=a,this}getBoneByName(a){for(let f=0,x=this.bones.length;f<x;f++){const S=this.bones[f];if(S.name===a)return S}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(a,f){this.uuid=a.uuid;for(let x=0,S=a.bones.length;x<S;x++){const I=a.bones[x];let N=f[I];N===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",I),N=new aS),this.bones.push(N),this.boneInverses.push(new wr().fromArray(a.boneInverses[x]))}return this.init(),this}toJSON(){const a={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};a.uuid=this.uuid;const f=this.bones,x=this.boneInverses;for(let S=0,I=f.length;S<I;S++){const N=f[S];a.bones.push(N.uuid);const U=x[S];a.boneInverses.push(U.toArray())}return a}}class ip extends Vi{constructor(a,f,x,S=1){super(a,f,x),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=S}copy(a){return super.copy(a),this.meshPerAttribute=a.meshPerAttribute,this}toJSON(){const a=super.toJSON();return a.meshPerAttribute=this.meshPerAttribute,a.isInstancedBufferAttribute=!0,a}}const RB=new wr,IB=new wr,$y=[],aq=new wr,Wg=new pa;class LB extends pa{constructor(a,f,x){super(a,f),this.isInstancedMesh=!0,this.instanceMatrix=new ip(new Float32Array(x*16),16),this.instanceColor=null,this.count=x,this.frustumCulled=!1;for(let S=0;S<x;S++)this.setMatrixAt(S,aq)}copy(a,f){return super.copy(a,f),this.instanceMatrix.copy(a.instanceMatrix),a.instanceColor!==null&&(this.instanceColor=a.instanceColor.clone()),this.count=a.count,this}getColorAt(a,f){f.fromArray(this.instanceColor.array,a*3)}getMatrixAt(a,f){f.fromArray(this.instanceMatrix.array,a*16)}raycast(a,f){const x=this.matrixWorld,S=this.count;if(Wg.geometry=this.geometry,Wg.material=this.material,Wg.material!==void 0)for(let I=0;I<S;I++){this.getMatrixAt(I,RB),IB.multiplyMatrices(x,RB),Wg.matrixWorld=IB,Wg.raycast(a,$y);for(let N=0,U=$y.length;N<U;N++){const W=$y[N];W.instanceId=I,W.object=this,f.push(W)}$y.length=0}}setColorAt(a,f){this.instanceColor===null&&(this.instanceColor=new ip(new Float32Array(this.instanceMatrix.count*3),3)),f.toArray(this.instanceColor.array,a*3)}setMatrixAt(a,f){f.toArray(this.instanceMatrix.array,a*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Ua extends Ca{constructor(a){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new br(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(a)}copy(a){return super.copy(a),this.color.copy(a.color),this.linewidth=a.linewidth,this.linecap=a.linecap,this.linejoin=a.linejoin,this.fog=a.fog,this}}const PB=new dt,BB=new dt,OB=new wr,sS=new Na,Gy=new gl;class Zu extends yi{constructor(a=new ci,f=new Ua){super(),this.isLine=!0,this.type="Line",this.geometry=a,this.material=f,this.updateMorphTargets()}copy(a,f){return super.copy(a,f),this.material=a.material,this.geometry=a.geometry,this}computeLineDistances(){const a=this.geometry;if(a.index===null){const f=a.attributes.position,x=[0];for(let S=1,I=f.count;S<I;S++)PB.fromBufferAttribute(f,S-1),BB.fromBufferAttribute(f,S),x[S]=x[S-1],x[S]+=PB.distanceTo(BB);a.setAttribute("lineDistance",new Mr(x,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(a,f){const x=this.geometry,S=this.matrixWorld,I=a.params.Line.threshold,N=x.drawRange;if(x.boundingSphere===null&&x.computeBoundingSphere(),Gy.copy(x.boundingSphere),Gy.applyMatrix4(S),Gy.radius+=I,a.ray.intersectsSphere(Gy)===!1)return;OB.copy(S).invert(),sS.copy(a.ray).applyMatrix4(OB);const U=I/((this.scale.x+this.scale.y+this.scale.z)/3),W=U*U,K=new dt,q=new dt,ee=new dt,te=new dt,ie=this.isLineSegments?2:1,de=x.index,ae=x.attributes.position;if(de!==null){const Re=Math.max(0,N.start),$e=Math.min(de.count,N.start+N.count);for(let Ne=Re,ze=$e-1;Ne<ze;Ne+=ie){const Ke=de.getX(Ne),ht=de.getX(Ne+1);if(K.fromBufferAttribute(ae,Ke),q.fromBufferAttribute(ae,ht),sS.distanceSqToSegment(K,q,te,ee)>W)continue;te.applyMatrix4(this.matrixWorld);const je=a.ray.origin.distanceTo(te);je<a.near||je>a.far||f.push({distance:je,point:ee.clone().applyMatrix4(this.matrixWorld),index:Ne,face:null,faceIndex:null,object:this})}}else{const Re=Math.max(0,N.start),$e=Math.min(ae.count,N.start+N.count);for(let Ne=Re,ze=$e-1;Ne<ze;Ne+=ie){if(K.fromBufferAttribute(ae,Ne),q.fromBufferAttribute(ae,Ne+1),sS.distanceSqToSegment(K,q,te,ee)>W)continue;te.applyMatrix4(this.matrixWorld);const ht=a.ray.origin.distanceTo(te);ht<a.near||ht>a.far||f.push({distance:ht,point:ee.clone().applyMatrix4(this.matrixWorld),index:Ne,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const f=this.geometry.morphAttributes,x=Object.keys(f);if(x.length>0){const S=f[x[0]];if(S!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let I=0,N=S.length;I<N;I++){const U=S[I].name||String(I);this.morphTargetInfluences.push(0),this.morphTargetDictionary[U]=I}}}}}const DB=new dt,NB=new dt;class ac extends Zu{constructor(a,f){super(a,f),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const a=this.geometry;if(a.index===null){const f=a.attributes.position,x=[];for(let S=0,I=f.count;S<I;S+=2)DB.fromBufferAttribute(f,S),NB.fromBufferAttribute(f,S+1),x[S]=S===0?0:x[S-1],x[S+1]=x[S]+DB.distanceTo(NB);a.setAttribute("lineDistance",new Mr(x,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class kB extends Zu{constructor(a,f){super(a,f),this.isLineLoop=!0,this.type="LineLoop"}}class lS extends Ca{constructor(a){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new br(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(a)}copy(a){return super.copy(a),this.color.copy(a.color),this.map=a.map,this.alphaMap=a.alphaMap,this.size=a.size,this.sizeAttenuation=a.sizeAttenuation,this.fog=a.fog,this}}const FB=new wr,cS=new Na,jy=new gl,Vy=new dt;class UB extends yi{constructor(a=new ci,f=new lS){super(),this.isPoints=!0,this.type="Points",this.geometry=a,this.material=f,this.updateMorphTargets()}copy(a,f){return super.copy(a,f),this.material=a.material,this.geometry=a.geometry,this}raycast(a,f){const x=this.geometry,S=this.matrixWorld,I=a.params.Points.threshold,N=x.drawRange;if(x.boundingSphere===null&&x.computeBoundingSphere(),jy.copy(x.boundingSphere),jy.applyMatrix4(S),jy.radius+=I,a.ray.intersectsSphere(jy)===!1)return;FB.copy(S).invert(),cS.copy(a.ray).applyMatrix4(FB);const U=I/((this.scale.x+this.scale.y+this.scale.z)/3),W=U*U,K=x.index,ee=x.attributes.position;if(K!==null){const te=Math.max(0,N.start),ie=Math.min(K.count,N.start+N.count);for(let de=te,le=ie;de<le;de++){const ae=K.getX(de);Vy.fromBufferAttribute(ee,ae),zB(Vy,ae,W,S,a,f,this)}}else{const te=Math.max(0,N.start),ie=Math.min(ee.count,N.start+N.count);for(let de=te,le=ie;de<le;de++)Vy.fromBufferAttribute(ee,de),zB(Vy,de,W,S,a,f,this)}}updateMorphTargets(){const f=this.geometry.morphAttributes,x=Object.keys(f);if(x.length>0){const S=f[x[0]];if(S!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let I=0,N=S.length;I<N;I++){const U=S[I].name||String(I);this.morphTargetInfluences.push(0),this.morphTargetDictionary[U]=I}}}}}function zB(H,a,f,x,S,I,N){const U=cS.distanceSqToPoint(H);if(U<f){const W=new dt;cS.closestPointToPoint(H,W),W.applyMatrix4(x);const K=S.ray.origin.distanceTo(W);if(K<S.near||K>S.far)return;I.push({distance:K,distanceToRay:Math.sqrt(U),point:W,index:a,face:null,object:N})}}class sq extends fo{constructor(a,f,x,S,I,N,U,W,K){super(a,f,x,S,I,N,U,W,K),this.isVideoTexture=!0,this.minFilter=N!==void 0?N:ve,this.magFilter=I!==void 0?I:ve,this.generateMipmaps=!1;const q=this;function ee(){q.needsUpdate=!0,a.requestVideoFrameCallback(ee)}"requestVideoFrameCallback"in a&&a.requestVideoFrameCallback(ee)}clone(){return new this.constructor(this.image).copy(this)}update(){const a=this.image;"requestVideoFrameCallback"in a===!1&&a.readyState>=a.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class lq extends fo{constructor(a,f,x){super({width:a,height:f}),this.isFramebufferTexture=!0,this.format=x,this.magFilter=ce,this.minFilter=ce,this.generateMipmaps=!1,this.needsUpdate=!0}}class uS extends fo{constructor(a,f,x,S,I,N,U,W,K,q,ee,te){super(null,N,U,W,K,q,S,I,ee,te),this.isCompressedTexture=!0,this.image={width:f,height:x},this.mipmaps=a,this.flipY=!1,this.generateMipmaps=!1}}class cq extends uS{constructor(a,f,x,S,I,N){super(a,f,x,I,N),this.isCompressedArrayTexture=!0,this.image.depth=S,this.wrapR=Ue}}class uq extends fo{constructor(a,f,x,S,I,N,U,W,K){super(a,f,x,S,I,N,U,W,K),this.isCanvasTexture=!0,this.needsUpdate=!0}}class xl{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(a,f){const x=this.getUtoTmapping(a);return this.getPoint(x,f)}getPoints(a=5){const f=[];for(let x=0;x<=a;x++)f.push(this.getPoint(x/a));return f}getSpacedPoints(a=5){const f=[];for(let x=0;x<=a;x++)f.push(this.getPointAt(x/a));return f}getLength(){const a=this.getLengths();return a[a.length-1]}getLengths(a=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===a+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const f=[];let x,S=this.getPoint(0),I=0;f.push(0);for(let N=1;N<=a;N++)x=this.getPoint(N/a),I+=x.distanceTo(S),f.push(I),S=x;return this.cacheArcLengths=f,f}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(a,f){const x=this.getLengths();let S=0;const I=x.length;let N;f?N=f:N=a*x[I-1];let U=0,W=I-1,K;for(;U<=W;)if(S=Math.floor(U+(W-U)/2),K=x[S]-N,K<0)U=S+1;else if(K>0)W=S-1;else{W=S;break}if(S=W,x[S]===N)return S/(I-1);const q=x[S],te=x[S+1]-q,ie=(N-q)/te;return(S+ie)/(I-1)}getTangent(a,f){let S=a-1e-4,I=a+1e-4;S<0&&(S=0),I>1&&(I=1);const N=this.getPoint(S),U=this.getPoint(I),W=f||(N.isVector2?new In:new dt);return W.copy(U).sub(N).normalize(),W}getTangentAt(a,f){const x=this.getUtoTmapping(a);return this.getTangent(x,f)}computeFrenetFrames(a,f){const x=new dt,S=[],I=[],N=[],U=new dt,W=new wr;for(let ie=0;ie<=a;ie++){const de=ie/a;S[ie]=this.getTangentAt(de,new dt)}I[0]=new dt,N[0]=new dt;let K=Number.MAX_VALUE;const q=Math.abs(S[0].x),ee=Math.abs(S[0].y),te=Math.abs(S[0].z);q<=K&&(K=q,x.set(1,0,0)),ee<=K&&(K=ee,x.set(0,1,0)),te<=K&&x.set(0,0,1),U.crossVectors(S[0],x).normalize(),I[0].crossVectors(S[0],U),N[0].crossVectors(S[0],I[0]);for(let ie=1;ie<=a;ie++){if(I[ie]=I[ie-1].clone(),N[ie]=N[ie-1].clone(),U.crossVectors(S[ie-1],S[ie]),U.length()>Number.EPSILON){U.normalize();const de=Math.acos(uo(S[ie-1].dot(S[ie]),-1,1));I[ie].applyMatrix4(W.makeRotationAxis(U,de))}N[ie].crossVectors(S[ie],I[ie])}if(f===!0){let ie=Math.acos(uo(I[0].dot(I[a]),-1,1));ie/=a,S[0].dot(U.crossVectors(I[0],I[a]))>0&&(ie=-ie);for(let de=1;de<=a;de++)I[de].applyMatrix4(W.makeRotationAxis(S[de],ie*de)),N[de].crossVectors(S[de],I[de])}return{tangents:S,normals:I,binormals:N}}clone(){return new this.constructor().copy(this)}copy(a){return this.arcLengthDivisions=a.arcLengthDivisions,this}toJSON(){const a={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return a.arcLengthDivisions=this.arcLengthDivisions,a.type=this.type,a}fromJSON(a){return this.arcLengthDivisions=a.arcLengthDivisions,this}}class Wy extends xl{constructor(a=0,f=0,x=1,S=1,I=0,N=Math.PI*2,U=!1,W=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=a,this.aY=f,this.xRadius=x,this.yRadius=S,this.aStartAngle=I,this.aEndAngle=N,this.aClockwise=U,this.aRotation=W}getPoint(a,f){const x=f||new In,S=Math.PI*2;let I=this.aEndAngle-this.aStartAngle;const N=Math.abs(I)<Number.EPSILON;for(;I<0;)I+=S;for(;I>S;)I-=S;I<Number.EPSILON&&(N?I=0:I=S),this.aClockwise===!0&&!N&&(I===S?I=-S:I=I-S);const U=this.aStartAngle+a*I;let W=this.aX+this.xRadius*Math.cos(U),K=this.aY+this.yRadius*Math.sin(U);if(this.aRotation!==0){const q=Math.cos(this.aRotation),ee=Math.sin(this.aRotation),te=W-this.aX,ie=K-this.aY;W=te*q-ie*ee+this.aX,K=te*ee+ie*q+this.aY}return x.set(W,K)}copy(a){return super.copy(a),this.aX=a.aX,this.aY=a.aY,this.xRadius=a.xRadius,this.yRadius=a.yRadius,this.aStartAngle=a.aStartAngle,this.aEndAngle=a.aEndAngle,this.aClockwise=a.aClockwise,this.aRotation=a.aRotation,this}toJSON(){const a=super.toJSON();return a.aX=this.aX,a.aY=this.aY,a.xRadius=this.xRadius,a.yRadius=this.yRadius,a.aStartAngle=this.aStartAngle,a.aEndAngle=this.aEndAngle,a.aClockwise=this.aClockwise,a.aRotation=this.aRotation,a}fromJSON(a){return super.fromJSON(a),this.aX=a.aX,this.aY=a.aY,this.xRadius=a.xRadius,this.yRadius=a.yRadius,this.aStartAngle=a.aStartAngle,this.aEndAngle=a.aEndAngle,this.aClockwise=a.aClockwise,this.aRotation=a.aRotation,this}}class HB extends Wy{constructor(a,f,x,S,I,N){super(a,f,x,x,S,I,N),this.isArcCurve=!0,this.type="ArcCurve"}}function dS(){let H=0,a=0,f=0,x=0;function S(I,N,U,W){H=I,a=U,f=-3*I+3*N-2*U-W,x=2*I-2*N+U+W}return{initCatmullRom:function(I,N,U,W,K){S(N,U,K*(U-I),K*(W-N))},initNonuniformCatmullRom:function(I,N,U,W,K,q,ee){let te=(N-I)/K-(U-I)/(K+q)+(U-N)/q,ie=(U-N)/q-(W-N)/(q+ee)+(W-U)/ee;te*=q,ie*=q,S(N,U,te,ie)},calc:function(I){const N=I*I,U=N*I;return H+a*I+f*N+x*U}}}const Qy=new dt,fS=new dS,hS=new dS,pS=new dS;class $B extends xl{constructor(a=[],f=!1,x="centripetal",S=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=a,this.closed=f,this.curveType=x,this.tension=S}getPoint(a,f=new dt){const x=f,S=this.points,I=S.length,N=(I-(this.closed?0:1))*a;let U=Math.floor(N),W=N-U;this.closed?U+=U>0?0:(Math.floor(Math.abs(U)/I)+1)*I:W===0&&U===I-1&&(U=I-2,W=1);let K,q;this.closed||U>0?K=S[(U-1)%I]:(Qy.subVectors(S[0],S[1]).add(S[0]),K=Qy);const ee=S[U%I],te=S[(U+1)%I];if(this.closed||U+2<I?q=S[(U+2)%I]:(Qy.subVectors(S[I-1],S[I-2]).add(S[I-1]),q=Qy),this.curveType==="centripetal"||this.curveType==="chordal"){const ie=this.curveType==="chordal"?.5:.25;let de=Math.pow(K.distanceToSquared(ee),ie),le=Math.pow(ee.distanceToSquared(te),ie),ae=Math.pow(te.distanceToSquared(q),ie);le<1e-4&&(le=1),de<1e-4&&(de=le),ae<1e-4&&(ae=le),fS.initNonuniformCatmullRom(K.x,ee.x,te.x,q.x,de,le,ae),hS.initNonuniformCatmullRom(K.y,ee.y,te.y,q.y,de,le,ae),pS.initNonuniformCatmullRom(K.z,ee.z,te.z,q.z,de,le,ae)}else this.curveType==="catmullrom"&&(fS.initCatmullRom(K.x,ee.x,te.x,q.x,this.tension),hS.initCatmullRom(K.y,ee.y,te.y,q.y,this.tension),pS.initCatmullRom(K.z,ee.z,te.z,q.z,this.tension));return x.set(fS.calc(W),hS.calc(W),pS.calc(W)),x}copy(a){super.copy(a),this.points=[];for(let f=0,x=a.points.length;f<x;f++){const S=a.points[f];this.points.push(S.clone())}return this.closed=a.closed,this.curveType=a.curveType,this.tension=a.tension,this}toJSON(){const a=super.toJSON();a.points=[];for(let f=0,x=this.points.length;f<x;f++){const S=this.points[f];a.points.push(S.toArray())}return a.closed=this.closed,a.curveType=this.curveType,a.tension=this.tension,a}fromJSON(a){super.fromJSON(a),this.points=[];for(let f=0,x=a.points.length;f<x;f++){const S=a.points[f];this.points.push(new dt().fromArray(S))}return this.closed=a.closed,this.curveType=a.curveType,this.tension=a.tension,this}}function GB(H,a,f,x,S){const I=(x-a)*.5,N=(S-f)*.5,U=H*H,W=H*U;return(2*f-2*x+I+N)*W+(-3*f+3*x-2*I-N)*U+I*H+f}function dq(H,a){const f=1-H;return f*f*a}function fq(H,a){return 2*(1-H)*H*a}function hq(H,a){return H*H*a}function Qg(H,a,f,x){return dq(H,a)+fq(H,f)+hq(H,x)}function pq(H,a){const f=1-H;return f*f*f*a}function mq(H,a){const f=1-H;return 3*f*f*H*a}function gq(H,a){return 3*(1-H)*H*H*a}function vq(H,a){return H*H*H*a}function Kg(H,a,f,x,S){return pq(H,a)+mq(H,f)+gq(H,x)+vq(H,S)}class mS extends xl{constructor(a=new In,f=new In,x=new In,S=new In){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=a,this.v1=f,this.v2=x,this.v3=S}getPoint(a,f=new In){const x=f,S=this.v0,I=this.v1,N=this.v2,U=this.v3;return x.set(Kg(a,S.x,I.x,N.x,U.x),Kg(a,S.y,I.y,N.y,U.y)),x}copy(a){return super.copy(a),this.v0.copy(a.v0),this.v1.copy(a.v1),this.v2.copy(a.v2),this.v3.copy(a.v3),this}toJSON(){const a=super.toJSON();return a.v0=this.v0.toArray(),a.v1=this.v1.toArray(),a.v2=this.v2.toArray(),a.v3=this.v3.toArray(),a}fromJSON(a){return super.fromJSON(a),this.v0.fromArray(a.v0),this.v1.fromArray(a.v1),this.v2.fromArray(a.v2),this.v3.fromArray(a.v3),this}}class jB extends xl{constructor(a=new dt,f=new dt,x=new dt,S=new dt){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=a,this.v1=f,this.v2=x,this.v3=S}getPoint(a,f=new dt){const x=f,S=this.v0,I=this.v1,N=this.v2,U=this.v3;return x.set(Kg(a,S.x,I.x,N.x,U.x),Kg(a,S.y,I.y,N.y,U.y),Kg(a,S.z,I.z,N.z,U.z)),x}copy(a){return super.copy(a),this.v0.copy(a.v0),this.v1.copy(a.v1),this.v2.copy(a.v2),this.v3.copy(a.v3),this}toJSON(){const a=super.toJSON();return a.v0=this.v0.toArray(),a.v1=this.v1.toArray(),a.v2=this.v2.toArray(),a.v3=this.v3.toArray(),a}fromJSON(a){return super.fromJSON(a),this.v0.fromArray(a.v0),this.v1.fromArray(a.v1),this.v2.fromArray(a.v2),this.v3.fromArray(a.v3),this}}class Ky extends xl{constructor(a=new In,f=new In){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=a,this.v2=f}getPoint(a,f=new In){const x=f;return a===1?x.copy(this.v2):(x.copy(this.v2).sub(this.v1),x.multiplyScalar(a).add(this.v1)),x}getPointAt(a,f){return this.getPoint(a,f)}getTangent(a,f){const x=f||new In;return x.copy(this.v2).sub(this.v1).normalize(),x}copy(a){return super.copy(a),this.v1.copy(a.v1),this.v2.copy(a.v2),this}toJSON(){const a=super.toJSON();return a.v1=this.v1.toArray(),a.v2=this.v2.toArray(),a}fromJSON(a){return super.fromJSON(a),this.v1.fromArray(a.v1),this.v2.fromArray(a.v2),this}}class VB extends xl{constructor(a=new dt,f=new dt){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=a,this.v2=f}getPoint(a,f=new dt){const x=f;return a===1?x.copy(this.v2):(x.copy(this.v2).sub(this.v1),x.multiplyScalar(a).add(this.v1)),x}getPointAt(a,f){return this.getPoint(a,f)}copy(a){return super.copy(a),this.v1.copy(a.v1),this.v2.copy(a.v2),this}toJSON(){const a=super.toJSON();return a.v1=this.v1.toArray(),a.v2=this.v2.toArray(),a}fromJSON(a){return super.fromJSON(a),this.v1.fromArray(a.v1),this.v2.fromArray(a.v2),this}}class gS extends xl{constructor(a=new In,f=new In,x=new In){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=a,this.v1=f,this.v2=x}getPoint(a,f=new In){const x=f,S=this.v0,I=this.v1,N=this.v2;return x.set(Qg(a,S.x,I.x,N.x),Qg(a,S.y,I.y,N.y)),x}copy(a){return super.copy(a),this.v0.copy(a.v0),this.v1.copy(a.v1),this.v2.copy(a.v2),this}toJSON(){const a=super.toJSON();return a.v0=this.v0.toArray(),a.v1=this.v1.toArray(),a.v2=this.v2.toArray(),a}fromJSON(a){return super.fromJSON(a),this.v0.fromArray(a.v0),this.v1.fromArray(a.v1),this.v2.fromArray(a.v2),this}}class vS extends xl{constructor(a=new dt,f=new dt,x=new dt){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=a,this.v1=f,this.v2=x}getPoint(a,f=new dt){const x=f,S=this.v0,I=this.v1,N=this.v2;return x.set(Qg(a,S.x,I.x,N.x),Qg(a,S.y,I.y,N.y),Qg(a,S.z,I.z,N.z)),x}copy(a){return super.copy(a),this.v0.copy(a.v0),this.v1.copy(a.v1),this.v2.copy(a.v2),this}toJSON(){const a=super.toJSON();return a.v0=this.v0.toArray(),a.v1=this.v1.toArray(),a.v2=this.v2.toArray(),a}fromJSON(a){return super.fromJSON(a),this.v0.fromArray(a.v0),this.v1.fromArray(a.v1),this.v2.fromArray(a.v2),this}}class AS extends xl{constructor(a=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=a}getPoint(a,f=new In){const x=f,S=this.points,I=(S.length-1)*a,N=Math.floor(I),U=I-N,W=S[N===0?N:N-1],K=S[N],q=S[N>S.length-2?S.length-1:N+1],ee=S[N>S.length-3?S.length-1:N+2];return x.set(GB(U,W.x,K.x,q.x,ee.x),GB(U,W.y,K.y,q.y,ee.y)),x}copy(a){super.copy(a),this.points=[];for(let f=0,x=a.points.length;f<x;f++){const S=a.points[f];this.points.push(S.clone())}return this}toJSON(){const a=super.toJSON();a.points=[];for(let f=0,x=this.points.length;f<x;f++){const S=this.points[f];a.points.push(S.toArray())}return a}fromJSON(a){super.fromJSON(a),this.points=[];for(let f=0,x=a.points.length;f<x;f++){const S=a.points[f];this.points.push(new In().fromArray(S))}return this}}var yS=Object.freeze({__proto__:null,ArcCurve:HB,CatmullRomCurve3:$B,CubicBezierCurve:mS,CubicBezierCurve3:jB,EllipseCurve:Wy,LineCurve:Ky,LineCurve3:VB,QuadraticBezierCurve:gS,QuadraticBezierCurve3:vS,SplineCurve:AS});class WB extends xl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(a){this.curves.push(a)}closePath(){const a=this.curves[0].getPoint(0),f=this.curves[this.curves.length-1].getPoint(1);a.equals(f)||this.curves.push(new Ky(f,a))}getPoint(a,f){const x=a*this.getLength(),S=this.getCurveLengths();let I=0;for(;I<S.length;){if(S[I]>=x){const N=S[I]-x,U=this.curves[I],W=U.getLength(),K=W===0?0:1-N/W;return U.getPointAt(K,f)}I++}return null}getLength(){const a=this.getCurveLengths();return a[a.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const a=[];let f=0;for(let x=0,S=this.curves.length;x<S;x++)f+=this.curves[x].getLength(),a.push(f);return this.cacheLengths=a,a}getSpacedPoints(a=40){const f=[];for(let x=0;x<=a;x++)f.push(this.getPoint(x/a));return this.autoClose&&f.push(f[0]),f}getPoints(a=12){const f=[];let x;for(let S=0,I=this.curves;S<I.length;S++){const N=I[S],U=N.isEllipseCurve?a*2:N.isLineCurve||N.isLineCurve3?1:N.isSplineCurve?a*N.points.length:a,W=N.getPoints(U);for(let K=0;K<W.length;K++){const q=W[K];x&&x.equals(q)||(f.push(q),x=q)}}return this.autoClose&&f.length>1&&!f[f.length-1].equals(f[0])&&f.push(f[0]),f}copy(a){super.copy(a),this.curves=[];for(let f=0,x=a.curves.length;f<x;f++){const S=a.curves[f];this.curves.push(S.clone())}return this.autoClose=a.autoClose,this}toJSON(){const a=super.toJSON();a.autoClose=this.autoClose,a.curves=[];for(let f=0,x=this.curves.length;f<x;f++){const S=this.curves[f];a.curves.push(S.toJSON())}return a}fromJSON(a){super.fromJSON(a),this.autoClose=a.autoClose,this.curves=[];for(let f=0,x=a.curves.length;f<x;f++){const S=a.curves[f];this.curves.push(new yS[S.type]().fromJSON(S))}return this}}class Xg extends WB{constructor(a){super(),this.type="Path",this.currentPoint=new In,a&&this.setFromPoints(a)}setFromPoints(a){this.moveTo(a[0].x,a[0].y);for(let f=1,x=a.length;f<x;f++)this.lineTo(a[f].x,a[f].y);return this}moveTo(a,f){return this.currentPoint.set(a,f),this}lineTo(a,f){const x=new Ky(this.currentPoint.clone(),new In(a,f));return this.curves.push(x),this.currentPoint.set(a,f),this}quadraticCurveTo(a,f,x,S){const I=new gS(this.currentPoint.clone(),new In(a,f),new In(x,S));return this.curves.push(I),this.currentPoint.set(x,S),this}bezierCurveTo(a,f,x,S,I,N){const U=new mS(this.currentPoint.clone(),new In(a,f),new In(x,S),new In(I,N));return this.curves.push(U),this.currentPoint.set(I,N),this}splineThru(a){const f=[this.currentPoint.clone()].concat(a),x=new AS(f);return this.curves.push(x),this.currentPoint.copy(a[a.length-1]),this}arc(a,f,x,S,I,N){const U=this.currentPoint.x,W=this.currentPoint.y;return this.absarc(a+U,f+W,x,S,I,N),this}absarc(a,f,x,S,I,N){return this.absellipse(a,f,x,x,S,I,N),this}ellipse(a,f,x,S,I,N,U,W){const K=this.currentPoint.x,q=this.currentPoint.y;return this.absellipse(a+K,f+q,x,S,I,N,U,W),this}absellipse(a,f,x,S,I,N,U,W){const K=new Wy(a,f,x,S,I,N,U,W);if(this.curves.length>0){const ee=K.getPoint(0);ee.equals(this.currentPoint)||this.lineTo(ee.x,ee.y)}this.curves.push(K);const q=K.getPoint(1);return this.currentPoint.copy(q),this}copy(a){return super.copy(a),this.currentPoint.copy(a.currentPoint),this}toJSON(){const a=super.toJSON();return a.currentPoint=this.currentPoint.toArray(),a}fromJSON(a){return super.fromJSON(a),this.currentPoint.fromArray(a.currentPoint),this}}class op extends ci{constructor(a=[new In(0,-.5),new In(.5,0),new In(0,.5)],f=12,x=0,S=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:a,segments:f,phiStart:x,phiLength:S},f=Math.floor(f),S=uo(S,0,Math.PI*2);const I=[],N=[],U=[],W=[],K=[],q=1/f,ee=new dt,te=new In,ie=new dt,de=new dt,le=new dt;let ae=0,Re=0;for(let $e=0;$e<=a.length-1;$e++)switch($e){case 0:ae=a[$e+1].x-a[$e].x,Re=a[$e+1].y-a[$e].y,ie.x=Re*1,ie.y=-ae,ie.z=Re*0,le.copy(ie),ie.normalize(),W.push(ie.x,ie.y,ie.z);break;case a.length-1:W.push(le.x,le.y,le.z);break;default:ae=a[$e+1].x-a[$e].x,Re=a[$e+1].y-a[$e].y,ie.x=Re*1,ie.y=-ae,ie.z=Re*0,de.copy(ie),ie.x+=le.x,ie.y+=le.y,ie.z+=le.z,ie.normalize(),W.push(ie.x,ie.y,ie.z),le.copy(de)}for(let $e=0;$e<=f;$e++){const Ne=x+$e*q*S,ze=Math.sin(Ne),Ke=Math.cos(Ne);for(let ht=0;ht<=a.length-1;ht++){ee.x=a[ht].x*ze,ee.y=a[ht].y,ee.z=a[ht].x*Ke,N.push(ee.x,ee.y,ee.z),te.x=$e/f,te.y=ht/(a.length-1),U.push(te.x,te.y);const Lt=W[3*ht+0]*ze,je=W[3*ht+1],gt=W[3*ht+0]*Ke;K.push(Lt,je,gt)}}for(let $e=0;$e<f;$e++)for(let Ne=0;Ne<a.length-1;Ne++){const ze=Ne+$e*a.length,Ke=ze,ht=ze+a.length,Lt=ze+a.length+1,je=ze+1;I.push(Ke,ht,je),I.push(Lt,je,ht)}this.setIndex(I),this.setAttribute("position",new Mr(N,3)),this.setAttribute("uv",new Mr(U,2)),this.setAttribute("normal",new Mr(K,3))}static fromJSON(a){return new op(a.points,a.segments,a.phiStart,a.phiLength)}}class qg extends op{constructor(a=1,f=1,x=4,S=8){const I=new Xg;I.absarc(0,-f/2,a,Math.PI*1.5,0),I.absarc(0,f/2,a,0,Math.PI*.5),super(I.getPoints(x),S),this.type="CapsuleGeometry",this.parameters={radius:a,height:f,capSegments:x,radialSegments:S}}static fromJSON(a){return new qg(a.radius,a.length,a.capSegments,a.radialSegments)}}class Yg extends ci{constructor(a=1,f=8,x=0,S=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:a,segments:f,thetaStart:x,thetaLength:S},f=Math.max(3,f);const I=[],N=[],U=[],W=[],K=new dt,q=new In;N.push(0,0,0),U.push(0,0,1),W.push(.5,.5);for(let ee=0,te=3;ee<=f;ee++,te+=3){const ie=x+ee/f*S;K.x=a*Math.cos(ie),K.y=a*Math.sin(ie),N.push(K.x,K.y,K.z),U.push(0,0,1),q.x=(N[te]/a+1)/2,q.y=(N[te+1]/a+1)/2,W.push(q.x,q.y)}for(let ee=1;ee<=f;ee++)I.push(ee,ee+1,0);this.setIndex(I),this.setAttribute("position",new Mr(N,3)),this.setAttribute("normal",new Mr(U,3)),this.setAttribute("uv",new Mr(W,2))}static fromJSON(a){return new Yg(a.radius,a.segments,a.thetaStart,a.thetaLength)}}class pf extends ci{constructor(a=1,f=1,x=1,S=8,I=1,N=!1,U=0,W=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:a,radiusBottom:f,height:x,radialSegments:S,heightSegments:I,openEnded:N,thetaStart:U,thetaLength:W};const K=this;S=Math.floor(S),I=Math.floor(I);const q=[],ee=[],te=[],ie=[];let de=0;const le=[],ae=x/2;let Re=0;$e(),N===!1&&(a>0&&Ne(!0),f>0&&Ne(!1)),this.setIndex(q),this.setAttribute("position",new Mr(ee,3)),this.setAttribute("normal",new Mr(te,3)),this.setAttribute("uv",new Mr(ie,2));function $e(){const ze=new dt,Ke=new dt;let ht=0;const Lt=(f-a)/x;for(let je=0;je<=I;je++){const gt=[],_t=je/I,jt=_t*(f-a)+a;for(let an=0;an<=S;an++){const Wt=an/S,Ht=Wt*W+U,tn=Math.sin(Ht),Rn=Math.cos(Ht);Ke.x=jt*tn,Ke.y=-_t*x+ae,Ke.z=jt*Rn,ee.push(Ke.x,Ke.y,Ke.z),ze.set(tn,Lt,Rn).normalize(),te.push(ze.x,ze.y,ze.z),ie.push(Wt,1-_t),gt.push(de++)}le.push(gt)}for(let je=0;je<S;je++)for(let gt=0;gt<I;gt++){const _t=le[gt][je],jt=le[gt+1][je],an=le[gt+1][je+1],Wt=le[gt][je+1];q.push(_t,jt,Wt),q.push(jt,an,Wt),ht+=6}K.addGroup(Re,ht,0),Re+=ht}function Ne(ze){const Ke=de,ht=new In,Lt=new dt;let je=0;const gt=ze===!0?a:f,_t=ze===!0?1:-1;for(let an=1;an<=S;an++)ee.push(0,ae*_t,0),te.push(0,_t,0),ie.push(.5,.5),de++;const jt=de;for(let an=0;an<=S;an++){const Ht=an/S*W+U,tn=Math.cos(Ht),Rn=Math.sin(Ht);Lt.x=gt*Rn,Lt.y=ae*_t,Lt.z=gt*tn,ee.push(Lt.x,Lt.y,Lt.z),te.push(0,_t,0),ht.x=tn*.5+.5,ht.y=Rn*.5*_t+.5,ie.push(ht.x,ht.y),de++}for(let an=0;an<S;an++){const Wt=Ke+an,Ht=jt+an;ze===!0?q.push(Ht,Ht+1,Wt):q.push(Ht+1,Ht,Wt),je+=3}K.addGroup(Re,je,ze===!0?1:2),Re+=je}}static fromJSON(a){return new pf(a.radiusTop,a.radiusBottom,a.height,a.radialSegments,a.heightSegments,a.openEnded,a.thetaStart,a.thetaLength)}}class Jg extends pf{constructor(a=1,f=1,x=8,S=1,I=!1,N=0,U=Math.PI*2){super(0,a,f,x,S,I,N,U),this.type="ConeGeometry",this.parameters={radius:a,height:f,radialSegments:x,heightSegments:S,openEnded:I,thetaStart:N,thetaLength:U}}static fromJSON(a){return new Jg(a.radius,a.height,a.radialSegments,a.heightSegments,a.openEnded,a.thetaStart,a.thetaLength)}}class Uc extends ci{constructor(a=[],f=[],x=1,S=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:a,indices:f,radius:x,detail:S};const I=[],N=[];U(S),K(x),q(),this.setAttribute("position",new Mr(I,3)),this.setAttribute("normal",new Mr(I.slice(),3)),this.setAttribute("uv",new Mr(N,2)),S===0?this.computeVertexNormals():this.normalizeNormals();function U($e){const Ne=new dt,ze=new dt,Ke=new dt;for(let ht=0;ht<f.length;ht+=3)ie(f[ht+0],Ne),ie(f[ht+1],ze),ie(f[ht+2],Ke),W(Ne,ze,Ke,$e)}function W($e,Ne,ze,Ke){const ht=Ke+1,Lt=[];for(let je=0;je<=ht;je++){Lt[je]=[];const gt=$e.clone().lerp(ze,je/ht),_t=Ne.clone().lerp(ze,je/ht),jt=ht-je;for(let an=0;an<=jt;an++)an===0&&je===ht?Lt[je][an]=gt:Lt[je][an]=gt.clone().lerp(_t,an/jt)}for(let je=0;je<ht;je++)for(let gt=0;gt<2*(ht-je)-1;gt++){const _t=Math.floor(gt/2);gt%2===0?(te(Lt[je][_t+1]),te(Lt[je+1][_t]),te(Lt[je][_t])):(te(Lt[je][_t+1]),te(Lt[je+1][_t+1]),te(Lt[je+1][_t]))}}function K($e){const Ne=new dt;for(let ze=0;ze<I.length;ze+=3)Ne.x=I[ze+0],Ne.y=I[ze+1],Ne.z=I[ze+2],Ne.normalize().multiplyScalar($e),I[ze+0]=Ne.x,I[ze+1]=Ne.y,I[ze+2]=Ne.z}function q(){const $e=new dt;for(let Ne=0;Ne<I.length;Ne+=3){$e.x=I[Ne+0],$e.y=I[Ne+1],$e.z=I[Ne+2];const ze=ae($e)/2/Math.PI+.5,Ke=Re($e)/Math.PI+.5;N.push(ze,1-Ke)}de(),ee()}function ee(){for(let $e=0;$e<N.length;$e+=6){const Ne=N[$e+0],ze=N[$e+2],Ke=N[$e+4],ht=Math.max(Ne,ze,Ke),Lt=Math.min(Ne,ze,Ke);ht>.9&&Lt<.1&&(Ne<.2&&(N[$e+0]+=1),ze<.2&&(N[$e+2]+=1),Ke<.2&&(N[$e+4]+=1))}}function te($e){I.push($e.x,$e.y,$e.z)}function ie($e,Ne){const ze=$e*3;Ne.x=a[ze+0],Ne.y=a[ze+1],Ne.z=a[ze+2]}function de(){const $e=new dt,Ne=new dt,ze=new dt,Ke=new dt,ht=new In,Lt=new In,je=new In;for(let gt=0,_t=0;gt<I.length;gt+=9,_t+=6){$e.set(I[gt+0],I[gt+1],I[gt+2]),Ne.set(I[gt+3],I[gt+4],I[gt+5]),ze.set(I[gt+6],I[gt+7],I[gt+8]),ht.set(N[_t+0],N[_t+1]),Lt.set(N[_t+2],N[_t+3]),je.set(N[_t+4],N[_t+5]),Ke.copy($e).add(Ne).add(ze).divideScalar(3);const jt=ae(Ke);le(ht,_t+0,$e,jt),le(Lt,_t+2,Ne,jt),le(je,_t+4,ze,jt)}}function le($e,Ne,ze,Ke){Ke<0&&$e.x===1&&(N[Ne]=$e.x-1),ze.x===0&&ze.z===0&&(N[Ne]=Ke/2/Math.PI+.5)}function ae($e){return Math.atan2($e.z,-$e.x)}function Re($e){return Math.atan2(-$e.y,Math.sqrt($e.x*$e.x+$e.z*$e.z))}}static fromJSON(a){return new Uc(a.vertices,a.indices,a.radius,a.details)}}class Zg extends Uc{constructor(a=1,f=0){const x=(1+Math.sqrt(5))/2,S=1/x,I=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-S,-x,0,-S,x,0,S,-x,0,S,x,-S,-x,0,-S,x,0,S,-x,0,S,x,0,-x,0,-S,x,0,-S,-x,0,S,x,0,S],N=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(I,N,a,f),this.type="DodecahedronGeometry",this.parameters={radius:a,detail:f}}static fromJSON(a){return new Zg(a.radius,a.detail)}}const Xy=new dt,qy=new dt,bS=new dt,Yy=new $s;class QB extends ci{constructor(a=null,f=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:a,thresholdAngle:f},a!==null){const S=Math.pow(10,4),I=Math.cos(Lc*f),N=a.getIndex(),U=a.getAttribute("position"),W=N?N.count:U.count,K=[0,0,0],q=["a","b","c"],ee=new Array(3),te={},ie=[];for(let de=0;de<W;de+=3){N?(K[0]=N.getX(de),K[1]=N.getX(de+1),K[2]=N.getX(de+2)):(K[0]=de,K[1]=de+1,K[2]=de+2);const{a:le,b:ae,c:Re}=Yy;if(le.fromBufferAttribute(U,K[0]),ae.fromBufferAttribute(U,K[1]),Re.fromBufferAttribute(U,K[2]),Yy.getNormal(bS),ee[0]=`${Math.round(le.x*S)},${Math.round(le.y*S)},${Math.round(le.z*S)}`,ee[1]=`${Math.round(ae.x*S)},${Math.round(ae.y*S)},${Math.round(ae.z*S)}`,ee[2]=`${Math.round(Re.x*S)},${Math.round(Re.y*S)},${Math.round(Re.z*S)}`,!(ee[0]===ee[1]||ee[1]===ee[2]||ee[2]===ee[0]))for(let $e=0;$e<3;$e++){const Ne=($e+1)%3,ze=ee[$e],Ke=ee[Ne],ht=Yy[q[$e]],Lt=Yy[q[Ne]],je=`${ze}_${Ke}`,gt=`${Ke}_${ze}`;gt in te&&te[gt]?(bS.dot(te[gt].normal)<=I&&(ie.push(ht.x,ht.y,ht.z),ie.push(Lt.x,Lt.y,Lt.z)),te[gt]=null):je in te||(te[je]={index0:K[$e],index1:K[Ne],normal:bS.clone()})}}for(const de in te)if(te[de]){const{index0:le,index1:ae}=te[de];Xy.fromBufferAttribute(U,le),qy.fromBufferAttribute(U,ae),ie.push(Xy.x,Xy.y,Xy.z),ie.push(qy.x,qy.y,qy.z)}this.setAttribute("position",new Mr(ie,3))}}}class mf extends Xg{constructor(a){super(a),this.uuid=Da(),this.type="Shape",this.holes=[]}getPointsHoles(a){const f=[];for(let x=0,S=this.holes.length;x<S;x++)f[x]=this.holes[x].getPoints(a);return f}extractPoints(a){return{shape:this.getPoints(a),holes:this.getPointsHoles(a)}}copy(a){super.copy(a),this.holes=[];for(let f=0,x=a.holes.length;f<x;f++){const S=a.holes[f];this.holes.push(S.clone())}return this}toJSON(){const a=super.toJSON();a.uuid=this.uuid,a.holes=[];for(let f=0,x=this.holes.length;f<x;f++){const S=this.holes[f];a.holes.push(S.toJSON())}return a}fromJSON(a){super.fromJSON(a),this.uuid=a.uuid,this.holes=[];for(let f=0,x=a.holes.length;f<x;f++){const S=a.holes[f];this.holes.push(new Xg().fromJSON(S))}return this}}const Aq={triangulate:function(H,a,f=2){const x=a&&a.length,S=x?a[0]*f:H.length;let I=KB(H,0,S,f,!0);const N=[];if(!I||I.next===I.prev)return N;let U,W,K,q,ee,te,ie;if(x&&(I=Cq(H,a,I,f)),H.length>80*f){U=K=H[0],W=q=H[1];for(let de=f;de<S;de+=f)ee=H[de],te=H[de+1],ee<U&&(U=ee),te<W&&(W=te),ee>K&&(K=ee),te>q&&(q=te);ie=Math.max(K-U,q-W),ie=ie!==0?32767/ie:0}return ev(I,N,f,U,W,ie,0),N}};function KB(H,a,f,x,S){let I,N;if(S===Oq(H,a,f,x)>0)for(I=a;I<f;I+=x)N=YB(I,H[I],H[I+1],N);else for(I=f-x;I>=a;I-=x)N=YB(I,H[I],H[I+1],N);return N&&Jy(N,N.next)&&(nv(N),N=N.next),N}function gf(H,a){if(!H)return H;a||(a=H);let f=H,x;do if(x=!1,!f.steiner&&(Jy(f,f.next)||ho(f.prev,f,f.next)===0)){if(nv(f),f=a=f.prev,f===f.next)break;x=!0}else f=f.next;while(x||f!==a);return a}function ev(H,a,f,x,S,I,N){if(!H)return;!N&&I&&Tq(H,x,S,I);let U=H,W,K;for(;H.prev!==H.next;){if(W=H.prev,K=H.next,I?bq(H,x,S,I):yq(H)){a.push(W.i/f|0),a.push(H.i/f|0),a.push(K.i/f|0),nv(H),H=K.next,U=K.next;continue}if(H=K,H===U){N?N===1?(H=xq(gf(H),a,f),ev(H,a,f,x,S,I,2)):N===2&&Eq(H,a,f,x,S,I):ev(gf(H),a,f,x,S,I,1);break}}}function yq(H){const a=H.prev,f=H,x=H.next;if(ho(a,f,x)>=0)return!1;const S=a.x,I=f.x,N=x.x,U=a.y,W=f.y,K=x.y,q=S<I?S<N?S:N:I<N?I:N,ee=U<W?U<K?U:K:W<K?W:K,te=S>I?S>N?S:N:I>N?I:N,ie=U>W?U>K?U:K:W>K?W:K;let de=x.next;for(;de!==a;){if(de.x>=q&&de.x<=te&&de.y>=ee&&de.y<=ie&&ap(S,U,I,W,N,K,de.x,de.y)&&ho(de.prev,de,de.next)>=0)return!1;de=de.next}return!0}function bq(H,a,f,x){const S=H.prev,I=H,N=H.next;if(ho(S,I,N)>=0)return!1;const U=S.x,W=I.x,K=N.x,q=S.y,ee=I.y,te=N.y,ie=U<W?U<K?U:K:W<K?W:K,de=q<ee?q<te?q:te:ee<te?ee:te,le=U>W?U>K?U:K:W>K?W:K,ae=q>ee?q>te?q:te:ee>te?ee:te,Re=xS(ie,de,a,f,x),$e=xS(le,ae,a,f,x);let Ne=H.prevZ,ze=H.nextZ;for(;Ne&&Ne.z>=Re&&ze&&ze.z<=$e;){if(Ne.x>=ie&&Ne.x<=le&&Ne.y>=de&&Ne.y<=ae&&Ne!==S&&Ne!==N&&ap(U,q,W,ee,K,te,Ne.x,Ne.y)&&ho(Ne.prev,Ne,Ne.next)>=0||(Ne=Ne.prevZ,ze.x>=ie&&ze.x<=le&&ze.y>=de&&ze.y<=ae&&ze!==S&&ze!==N&&ap(U,q,W,ee,K,te,ze.x,ze.y)&&ho(ze.prev,ze,ze.next)>=0))return!1;ze=ze.nextZ}for(;Ne&&Ne.z>=Re;){if(Ne.x>=ie&&Ne.x<=le&&Ne.y>=de&&Ne.y<=ae&&Ne!==S&&Ne!==N&&ap(U,q,W,ee,K,te,Ne.x,Ne.y)&&ho(Ne.prev,Ne,Ne.next)>=0)return!1;Ne=Ne.prevZ}for(;ze&&ze.z<=$e;){if(ze.x>=ie&&ze.x<=le&&ze.y>=de&&ze.y<=ae&&ze!==S&&ze!==N&&ap(U,q,W,ee,K,te,ze.x,ze.y)&&ho(ze.prev,ze,ze.next)>=0)return!1;ze=ze.nextZ}return!0}function xq(H,a,f){let x=H;do{const S=x.prev,I=x.next.next;!Jy(S,I)&&XB(S,x,x.next,I)&&tv(S,I)&&tv(I,S)&&(a.push(S.i/f|0),a.push(x.i/f|0),a.push(I.i/f|0),nv(x),nv(x.next),x=H=I),x=x.next}while(x!==H);return gf(x)}function Eq(H,a,f,x,S,I){let N=H;do{let U=N.next.next;for(;U!==N.prev;){if(N.i!==U.i&&Lq(N,U)){let W=qB(N,U);N=gf(N,N.next),W=gf(W,W.next),ev(N,a,f,x,S,I,0),ev(W,a,f,x,S,I,0);return}U=U.next}N=N.next}while(N!==H)}function Cq(H,a,f,x){const S=[];let I,N,U,W,K;for(I=0,N=a.length;I<N;I++)U=a[I]*x,W=I<N-1?a[I+1]*x:H.length,K=KB(H,U,W,x,!1),K===K.next&&(K.steiner=!0),S.push(Iq(K));for(S.sort(wq),I=0;I<S.length;I++)f=Sq(S[I],f);return f}function wq(H,a){return H.x-a.x}function Sq(H,a){const f=_q(H,a);if(!f)return a;const x=qB(f,H);return gf(x,x.next),gf(f,f.next)}function _q(H,a){let f=a,x=-1/0,S;const I=H.x,N=H.y;do{if(N<=f.y&&N>=f.next.y&&f.next.y!==f.y){const te=f.x+(N-f.y)*(f.next.x-f.x)/(f.next.y-f.y);if(te<=I&&te>x&&(x=te,S=f.x<f.next.x?f:f.next,te===I))return S}f=f.next}while(f!==a);if(!S)return null;const U=S,W=S.x,K=S.y;let q=1/0,ee;f=S;do I>=f.x&&f.x>=W&&I!==f.x&&ap(N<K?I:x,N,W,K,N<K?x:I,N,f.x,f.y)&&(ee=Math.abs(N-f.y)/(I-f.x),tv(f,H)&&(ee<q||ee===q&&(f.x>S.x||f.x===S.x&&Mq(S,f)))&&(S=f,q=ee)),f=f.next;while(f!==U);return S}function Mq(H,a){return ho(H.prev,H,a.prev)<0&&ho(a.next,H,H.next)<0}function Tq(H,a,f,x){let S=H;do S.z===0&&(S.z=xS(S.x,S.y,a,f,x)),S.prevZ=S.prev,S.nextZ=S.next,S=S.next;while(S!==H);S.prevZ.nextZ=null,S.prevZ=null,Rq(S)}function Rq(H){let a,f,x,S,I,N,U,W,K=1;do{for(f=H,H=null,I=null,N=0;f;){for(N++,x=f,U=0,a=0;a<K&&(U++,x=x.nextZ,!!x);a++);for(W=K;U>0||W>0&&x;)U!==0&&(W===0||!x||f.z<=x.z)?(S=f,f=f.nextZ,U--):(S=x,x=x.nextZ,W--),I?I.nextZ=S:H=S,S.prevZ=I,I=S;f=x}I.nextZ=null,K*=2}while(N>1);return H}function xS(H,a,f,x,S){return H=(H-f)*S|0,a=(a-x)*S|0,H=(H|H<<8)&16711935,H=(H|H<<4)&252645135,H=(H|H<<2)&858993459,H=(H|H<<1)&1431655765,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,H|a<<1}function Iq(H){let a=H,f=H;do(a.x<f.x||a.x===f.x&&a.y<f.y)&&(f=a),a=a.next;while(a!==H);return f}function ap(H,a,f,x,S,I,N,U){return(S-N)*(a-U)>=(H-N)*(I-U)&&(H-N)*(x-U)>=(f-N)*(a-U)&&(f-N)*(I-U)>=(S-N)*(x-U)}function Lq(H,a){return H.next.i!==a.i&&H.prev.i!==a.i&&!Pq(H,a)&&(tv(H,a)&&tv(a,H)&&Bq(H,a)&&(ho(H.prev,H,a.prev)||ho(H,a.prev,a))||Jy(H,a)&&ho(H.prev,H,H.next)>0&&ho(a.prev,a,a.next)>0)}function ho(H,a,f){return(a.y-H.y)*(f.x-a.x)-(a.x-H.x)*(f.y-a.y)}function Jy(H,a){return H.x===a.x&&H.y===a.y}function XB(H,a,f,x){const S=eb(ho(H,a,f)),I=eb(ho(H,a,x)),N=eb(ho(f,x,H)),U=eb(ho(f,x,a));return!!(S!==I&&N!==U||S===0&&Zy(H,f,a)||I===0&&Zy(H,x,a)||N===0&&Zy(f,H,x)||U===0&&Zy(f,a,x))}function Zy(H,a,f){return a.x<=Math.max(H.x,f.x)&&a.x>=Math.min(H.x,f.x)&&a.y<=Math.max(H.y,f.y)&&a.y>=Math.min(H.y,f.y)}function eb(H){return H>0?1:H<0?-1:0}function Pq(H,a){let f=H;do{if(f.i!==H.i&&f.next.i!==H.i&&f.i!==a.i&&f.next.i!==a.i&&XB(f,f.next,H,a))return!0;f=f.next}while(f!==H);return!1}function tv(H,a){return ho(H.prev,H,H.next)<0?ho(H,a,H.next)>=0&&ho(H,H.prev,a)>=0:ho(H,a,H.prev)<0||ho(H,H.next,a)<0}function Bq(H,a){let f=H,x=!1;const S=(H.x+a.x)/2,I=(H.y+a.y)/2;do f.y>I!=f.next.y>I&&f.next.y!==f.y&&S<(f.next.x-f.x)*(I-f.y)/(f.next.y-f.y)+f.x&&(x=!x),f=f.next;while(f!==H);return x}function qB(H,a){const f=new ES(H.i,H.x,H.y),x=new ES(a.i,a.x,a.y),S=H.next,I=a.prev;return H.next=a,a.prev=H,f.next=S,S.prev=f,x.next=f,f.prev=x,I.next=x,x.prev=I,x}function YB(H,a,f,x){const S=new ES(H,a,f);return x?(S.next=x.next,S.prev=x,x.next.prev=S,x.next=S):(S.prev=S,S.next=S),S}function nv(H){H.next.prev=H.prev,H.prev.next=H.next,H.prevZ&&(H.prevZ.nextZ=H.nextZ),H.nextZ&&(H.nextZ.prevZ=H.prevZ)}function ES(H,a,f){this.i=H,this.x=a,this.y=f,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Oq(H,a,f,x){let S=0;for(let I=a,N=f-x;I<f;I+=x)S+=(H[N]-H[I])*(H[I+1]+H[N+1]),N=I;return S}class sc{static area(a){const f=a.length;let x=0;for(let S=f-1,I=0;I<f;S=I++)x+=a[S].x*a[I].y-a[I].x*a[S].y;return x*.5}static isClockWise(a){return sc.area(a)<0}static triangulateShape(a,f){const x=[],S=[],I=[];JB(a),ZB(x,a);let N=a.length;f.forEach(JB);for(let W=0;W<f.length;W++)S.push(N),N+=f[W].length,ZB(x,f[W]);const U=Aq.triangulate(x,S);for(let W=0;W<U.length;W+=3)I.push(U.slice(W,W+3));return I}}function JB(H){const a=H.length;a>2&&H[a-1].equals(H[0])&&H.pop()}function ZB(H,a){for(let f=0;f<a.length;f++)H.push(a[f].x),H.push(a[f].y)}class rv extends ci{constructor(a=new mf([new In(.5,.5),new In(-.5,.5),new In(-.5,-.5),new In(.5,-.5)]),f={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:a,options:f},a=Array.isArray(a)?a:[a];const x=this,S=[],I=[];for(let U=0,W=a.length;U<W;U++){const K=a[U];N(K)}this.setAttribute("position",new Mr(S,3)),this.setAttribute("uv",new Mr(I,2)),this.computeVertexNormals();function N(U){const W=[],K=f.curveSegments!==void 0?f.curveSegments:12,q=f.steps!==void 0?f.steps:1,ee=f.depth!==void 0?f.depth:1;let te=f.bevelEnabled!==void 0?f.bevelEnabled:!0,ie=f.bevelThickness!==void 0?f.bevelThickness:.2,de=f.bevelSize!==void 0?f.bevelSize:ie-.1,le=f.bevelOffset!==void 0?f.bevelOffset:0,ae=f.bevelSegments!==void 0?f.bevelSegments:3;const Re=f.extrudePath,$e=f.UVGenerator!==void 0?f.UVGenerator:Dq;let Ne,ze=!1,Ke,ht,Lt,je;Re&&(Ne=Re.getSpacedPoints(q),ze=!0,te=!1,Ke=Re.computeFrenetFrames(q,!1),ht=new dt,Lt=new dt,je=new dt),te||(ae=0,ie=0,de=0,le=0);const gt=U.extractPoints(K);let _t=gt.shape;const jt=gt.holes;if(!sc.isClockWise(_t)){_t=_t.reverse();for(let Ln=0,_n=jt.length;Ln<_n;Ln++){const nr=jt[Ln];sc.isClockWise(nr)&&(jt[Ln]=nr.reverse())}}const Wt=sc.triangulateShape(_t,jt),Ht=_t;for(let Ln=0,_n=jt.length;Ln<_n;Ln++){const nr=jt[Ln];_t=_t.concat(nr)}function tn(Ln,_n,nr){return _n||console.error("THREE.ExtrudeGeometry: vec does not exist"),_n.clone().multiplyScalar(nr).add(Ln)}const Rn=_t.length,On=Wt.length;function Tn(Ln,_n,nr){let Or,hr,Jr;const Vr=Ln.x-_n.x,Ur=Ln.y-_n.y,Wi=nr.x-Ln.x,ki=nr.y-Ln.y,vt=Vr*Vr+Ur*Ur,rt=Vr*ki-Ur*Wi;if(Math.abs(rt)>Number.EPSILON){const un=Math.sqrt(vt),Kn=Math.sqrt(Wi*Wi+ki*ki),Zn=_n.x-Ur/un,gr=_n.y+Vr/un,Yr=nr.x-ki/Kn,Ar=nr.y+Wi/Kn,Mn=((Yr-Zn)*ki-(Ar-gr)*Wi)/(Vr*ki-Ur*Wi);Or=Zn+Vr*Mn-Ln.x,hr=gr+Ur*Mn-Ln.y;const zr=Or*Or+hr*hr;if(zr<=2)return new In(Or,hr);Jr=Math.sqrt(zr/2)}else{let un=!1;Vr>Number.EPSILON?Wi>Number.EPSILON&&(un=!0):Vr<-Number.EPSILON?Wi<-Number.EPSILON&&(un=!0):Math.sign(Ur)===Math.sign(ki)&&(un=!0),un?(Or=-Ur,hr=Vr,Jr=Math.sqrt(vt)):(Or=Vr,hr=Ur,Jr=Math.sqrt(vt/2))}return new In(Or/Jr,hr/Jr)}const Qn=[];for(let Ln=0,_n=Ht.length,nr=_n-1,Or=Ln+1;Ln<_n;Ln++,nr++,Or++)nr===_n&&(nr=0),Or===_n&&(Or=0),Qn[Ln]=Tn(Ht[Ln],Ht[nr],Ht[Or]);const zn=[];let xr,fr=Qn.concat();for(let Ln=0,_n=jt.length;Ln<_n;Ln++){const nr=jt[Ln];xr=[];for(let Or=0,hr=nr.length,Jr=hr-1,Vr=Or+1;Or<hr;Or++,Jr++,Vr++)Jr===hr&&(Jr=0),Vr===hr&&(Vr=0),xr[Or]=Tn(nr[Or],nr[Jr],nr[Vr]);zn.push(xr),fr=fr.concat(xr)}for(let Ln=0;Ln<ae;Ln++){const _n=Ln/ae,nr=ie*Math.cos(_n*Math.PI/2),Or=de*Math.sin(_n*Math.PI/2)+le;for(let hr=0,Jr=Ht.length;hr<Jr;hr++){const Vr=tn(Ht[hr],Qn[hr],Or);Sr(Vr.x,Vr.y,-nr)}for(let hr=0,Jr=jt.length;hr<Jr;hr++){const Vr=jt[hr];xr=zn[hr];for(let Ur=0,Wi=Vr.length;Ur<Wi;Ur++){const ki=tn(Vr[Ur],xr[Ur],Or);Sr(ki.x,ki.y,-nr)}}}const hn=de+le;for(let Ln=0;Ln<Rn;Ln++){const _n=te?tn(_t[Ln],fr[Ln],hn):_t[Ln];ze?(Lt.copy(Ke.normals[0]).multiplyScalar(_n.x),ht.copy(Ke.binormals[0]).multiplyScalar(_n.y),je.copy(Ne[0]).add(Lt).add(ht),Sr(je.x,je.y,je.z)):Sr(_n.x,_n.y,0)}for(let Ln=1;Ln<=q;Ln++)for(let _n=0;_n<Rn;_n++){const nr=te?tn(_t[_n],fr[_n],hn):_t[_n];ze?(Lt.copy(Ke.normals[Ln]).multiplyScalar(nr.x),ht.copy(Ke.binormals[Ln]).multiplyScalar(nr.y),je.copy(Ne[Ln]).add(Lt).add(ht),Sr(je.x,je.y,je.z)):Sr(nr.x,nr.y,ee/q*Ln)}for(let Ln=ae-1;Ln>=0;Ln--){const _n=Ln/ae,nr=ie*Math.cos(_n*Math.PI/2),Or=de*Math.sin(_n*Math.PI/2)+le;for(let hr=0,Jr=Ht.length;hr<Jr;hr++){const Vr=tn(Ht[hr],Qn[hr],Or);Sr(Vr.x,Vr.y,ee+nr)}for(let hr=0,Jr=jt.length;hr<Jr;hr++){const Vr=jt[hr];xr=zn[hr];for(let Ur=0,Wi=Vr.length;Ur<Wi;Ur++){const ki=tn(Vr[Ur],xr[Ur],Or);ze?Sr(ki.x,ki.y+Ne[q-1].y,Ne[q-1].x+nr):Sr(ki.x,ki.y,ee+nr)}}}Dn(),cr();function Dn(){const Ln=S.length/3;if(te){let _n=0,nr=Rn*_n;for(let Or=0;Or<On;Or++){const hr=Wt[Or];ur(hr[2]+nr,hr[1]+nr,hr[0]+nr)}_n=q+ae*2,nr=Rn*_n;for(let Or=0;Or<On;Or++){const hr=Wt[Or];ur(hr[0]+nr,hr[1]+nr,hr[2]+nr)}}else{for(let _n=0;_n<On;_n++){const nr=Wt[_n];ur(nr[2],nr[1],nr[0])}for(let _n=0;_n<On;_n++){const nr=Wt[_n];ur(nr[0]+Rn*q,nr[1]+Rn*q,nr[2]+Rn*q)}}x.addGroup(Ln,S.length/3-Ln,0)}function cr(){const Ln=S.length/3;let _n=0;rn(Ht,_n),_n+=Ht.length;for(let nr=0,Or=jt.length;nr<Or;nr++){const hr=jt[nr];rn(hr,_n),_n+=hr.length}x.addGroup(Ln,S.length/3-Ln,1)}function rn(Ln,_n){let nr=Ln.length;for(;--nr>=0;){const Or=nr;let hr=nr-1;hr<0&&(hr=Ln.length-1);for(let Jr=0,Vr=q+ae*2;Jr<Vr;Jr++){const Ur=Rn*Jr,Wi=Rn*(Jr+1),ki=_n+Or+Ur,vt=_n+hr+Ur,rt=_n+hr+Wi,un=_n+Or+Wi;kr(ki,vt,rt,un)}}}function Sr(Ln,_n,nr){W.push(Ln),W.push(_n),W.push(nr)}function ur(Ln,_n,nr){Jn(Ln),Jn(_n),Jn(nr);const Or=S.length/3,hr=$e.generateTopUV(x,S,Or-3,Or-2,Or-1);oi(hr[0]),oi(hr[1]),oi(hr[2])}function kr(Ln,_n,nr,Or){Jn(Ln),Jn(_n),Jn(Or),Jn(_n),Jn(nr),Jn(Or);const hr=S.length/3,Jr=$e.generateSideWallUV(x,S,hr-6,hr-3,hr-2,hr-1);oi(Jr[0]),oi(Jr[1]),oi(Jr[3]),oi(Jr[1]),oi(Jr[2]),oi(Jr[3])}function Jn(Ln){S.push(W[Ln*3+0]),S.push(W[Ln*3+1]),S.push(W[Ln*3+2])}function oi(Ln){I.push(Ln.x),I.push(Ln.y)}}}toJSON(){const a=super.toJSON(),f=this.parameters.shapes,x=this.parameters.options;return Nq(f,x,a)}static fromJSON(a,f){const x=[];for(let I=0,N=a.shapes.length;I<N;I++){const U=f[a.shapes[I]];x.push(U)}const S=a.options.extrudePath;return S!==void 0&&(a.options.extrudePath=new yS[S.type]().fromJSON(S)),new rv(x,a.options)}}const Dq={generateTopUV:function(H,a,f,x,S){const I=a[f*3],N=a[f*3+1],U=a[x*3],W=a[x*3+1],K=a[S*3],q=a[S*3+1];return[new In(I,N),new In(U,W),new In(K,q)]},generateSideWallUV:function(H,a,f,x,S,I){const N=a[f*3],U=a[f*3+1],W=a[f*3+2],K=a[x*3],q=a[x*3+1],ee=a[x*3+2],te=a[S*3],ie=a[S*3+1],de=a[S*3+2],le=a[I*3],ae=a[I*3+1],Re=a[I*3+2];return Math.abs(U-q)<Math.abs(N-K)?[new In(N,1-W),new In(K,1-ee),new In(te,1-de),new In(le,1-Re)]:[new In(U,1-W),new In(q,1-ee),new In(ie,1-de),new In(ae,1-Re)]}};function Nq(H,a,f){if(f.shapes=[],Array.isArray(H))for(let x=0,S=H.length;x<S;x++){const I=H[x];f.shapes.push(I.uuid)}else f.shapes.push(H.uuid);return f.options=Object.assign({},a),a.extrudePath!==void 0&&(f.options.extrudePath=a.extrudePath.toJSON()),f}class iv extends Uc{constructor(a=1,f=0){const x=(1+Math.sqrt(5))/2,S=[-1,x,0,1,x,0,-1,-x,0,1,-x,0,0,-1,x,0,1,x,0,-1,-x,0,1,-x,x,0,-1,x,0,1,-x,0,-1,-x,0,1],I=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(S,I,a,f),this.type="IcosahedronGeometry",this.parameters={radius:a,detail:f}}static fromJSON(a){return new iv(a.radius,a.detail)}}class sp extends Uc{constructor(a=1,f=0){const x=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],S=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(x,S,a,f),this.type="OctahedronGeometry",this.parameters={radius:a,detail:f}}static fromJSON(a){return new sp(a.radius,a.detail)}}class ov extends ci{constructor(a=.5,f=1,x=8,S=1,I=0,N=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:a,outerRadius:f,thetaSegments:x,phiSegments:S,thetaStart:I,thetaLength:N},x=Math.max(3,x),S=Math.max(1,S);const U=[],W=[],K=[],q=[];let ee=a;const te=(f-a)/S,ie=new dt,de=new In;for(let le=0;le<=S;le++){for(let ae=0;ae<=x;ae++){const Re=I+ae/x*N;ie.x=ee*Math.cos(Re),ie.y=ee*Math.sin(Re),W.push(ie.x,ie.y,ie.z),K.push(0,0,1),de.x=(ie.x/f+1)/2,de.y=(ie.y/f+1)/2,q.push(de.x,de.y)}ee+=te}for(let le=0;le<S;le++){const ae=le*(x+1);for(let Re=0;Re<x;Re++){const $e=Re+ae,Ne=$e,ze=$e+x+1,Ke=$e+x+2,ht=$e+1;U.push(Ne,ze,ht),U.push(ze,Ke,ht)}}this.setIndex(U),this.setAttribute("position",new Mr(W,3)),this.setAttribute("normal",new Mr(K,3)),this.setAttribute("uv",new Mr(q,2))}static fromJSON(a){return new ov(a.innerRadius,a.outerRadius,a.thetaSegments,a.phiSegments,a.thetaStart,a.thetaLength)}}class av extends ci{constructor(a=new mf([new In(0,.5),new In(-.5,-.5),new In(.5,-.5)]),f=12){super(),this.type="ShapeGeometry",this.parameters={shapes:a,curveSegments:f};const x=[],S=[],I=[],N=[];let U=0,W=0;if(Array.isArray(a)===!1)K(a);else for(let q=0;q<a.length;q++)K(a[q]),this.addGroup(U,W,q),U+=W,W=0;this.setIndex(x),this.setAttribute("position",new Mr(S,3)),this.setAttribute("normal",new Mr(I,3)),this.setAttribute("uv",new Mr(N,2));function K(q){const ee=S.length/3,te=q.extractPoints(f);let ie=te.shape;const de=te.holes;sc.isClockWise(ie)===!1&&(ie=ie.reverse());for(let ae=0,Re=de.length;ae<Re;ae++){const $e=de[ae];sc.isClockWise($e)===!0&&(de[ae]=$e.reverse())}const le=sc.triangulateShape(ie,de);for(let ae=0,Re=de.length;ae<Re;ae++){const $e=de[ae];ie=ie.concat($e)}for(let ae=0,Re=ie.length;ae<Re;ae++){const $e=ie[ae];S.push($e.x,$e.y,0),I.push(0,0,1),N.push($e.x,$e.y)}for(let ae=0,Re=le.length;ae<Re;ae++){const $e=le[ae],Ne=$e[0]+ee,ze=$e[1]+ee,Ke=$e[2]+ee;x.push(Ne,ze,Ke),W+=3}}}toJSON(){const a=super.toJSON(),f=this.parameters.shapes;return kq(f,a)}static fromJSON(a,f){const x=[];for(let S=0,I=a.shapes.length;S<I;S++){const N=f[a.shapes[S]];x.push(N)}return new av(x,a.curveSegments)}}function kq(H,a){if(a.shapes=[],Array.isArray(H))for(let f=0,x=H.length;f<x;f++){const S=H[f];a.shapes.push(S.uuid)}else a.shapes.push(H.uuid);return a}class lp extends ci{constructor(a=1,f=32,x=16,S=0,I=Math.PI*2,N=0,U=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:a,widthSegments:f,heightSegments:x,phiStart:S,phiLength:I,thetaStart:N,thetaLength:U},f=Math.max(3,Math.floor(f)),x=Math.max(2,Math.floor(x));const W=Math.min(N+U,Math.PI);let K=0;const q=[],ee=new dt,te=new dt,ie=[],de=[],le=[],ae=[];for(let Re=0;Re<=x;Re++){const $e=[],Ne=Re/x;let ze=0;Re==0&&N==0?ze=.5/f:Re==x&&W==Math.PI&&(ze=-.5/f);for(let Ke=0;Ke<=f;Ke++){const ht=Ke/f;ee.x=-a*Math.cos(S+ht*I)*Math.sin(N+Ne*U),ee.y=a*Math.cos(N+Ne*U),ee.z=a*Math.sin(S+ht*I)*Math.sin(N+Ne*U),de.push(ee.x,ee.y,ee.z),te.copy(ee).normalize(),le.push(te.x,te.y,te.z),ae.push(ht+ze,1-Ne),$e.push(K++)}q.push($e)}for(let Re=0;Re<x;Re++)for(let $e=0;$e<f;$e++){const Ne=q[Re][$e+1],ze=q[Re][$e],Ke=q[Re+1][$e],ht=q[Re+1][$e+1];(Re!==0||N>0)&&ie.push(Ne,ze,ht),(Re!==x-1||W<Math.PI)&&ie.push(ze,Ke,ht)}this.setIndex(ie),this.setAttribute("position",new Mr(de,3)),this.setAttribute("normal",new Mr(le,3)),this.setAttribute("uv",new Mr(ae,2))}static fromJSON(a){return new lp(a.radius,a.widthSegments,a.heightSegments,a.phiStart,a.phiLength,a.thetaStart,a.thetaLength)}}class sv extends Uc{constructor(a=1,f=0){const x=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],S=[2,1,0,0,3,2,1,3,0,2,3,1];super(x,S,a,f),this.type="TetrahedronGeometry",this.parameters={radius:a,detail:f}}static fromJSON(a){return new sv(a.radius,a.detail)}}class lv extends ci{constructor(a=1,f=.4,x=8,S=6,I=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:a,tube:f,radialSegments:x,tubularSegments:S,arc:I},x=Math.floor(x),S=Math.floor(S);const N=[],U=[],W=[],K=[],q=new dt,ee=new dt,te=new dt;for(let ie=0;ie<=x;ie++)for(let de=0;de<=S;de++){const le=de/S*I,ae=ie/x*Math.PI*2;ee.x=(a+f*Math.cos(ae))*Math.cos(le),ee.y=(a+f*Math.cos(ae))*Math.sin(le),ee.z=f*Math.sin(ae),U.push(ee.x,ee.y,ee.z),q.x=a*Math.cos(le),q.y=a*Math.sin(le),te.subVectors(ee,q).normalize(),W.push(te.x,te.y,te.z),K.push(de/S),K.push(ie/x)}for(let ie=1;ie<=x;ie++)for(let de=1;de<=S;de++){const le=(S+1)*ie+de-1,ae=(S+1)*(ie-1)+de-1,Re=(S+1)*(ie-1)+de,$e=(S+1)*ie+de;N.push(le,ae,$e),N.push(ae,Re,$e)}this.setIndex(N),this.setAttribute("position",new Mr(U,3)),this.setAttribute("normal",new Mr(W,3)),this.setAttribute("uv",new Mr(K,2))}static fromJSON(a){return new lv(a.radius,a.tube,a.radialSegments,a.tubularSegments,a.arc)}}class cv extends ci{constructor(a=1,f=.4,x=64,S=8,I=2,N=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:a,tube:f,tubularSegments:x,radialSegments:S,p:I,q:N},x=Math.floor(x),S=Math.floor(S);const U=[],W=[],K=[],q=[],ee=new dt,te=new dt,ie=new dt,de=new dt,le=new dt,ae=new dt,Re=new dt;for(let Ne=0;Ne<=x;++Ne){const ze=Ne/x*I*Math.PI*2;$e(ze,I,N,a,ie),$e(ze+.01,I,N,a,de),ae.subVectors(de,ie),Re.addVectors(de,ie),le.crossVectors(ae,Re),Re.crossVectors(le,ae),le.normalize(),Re.normalize();for(let Ke=0;Ke<=S;++Ke){const ht=Ke/S*Math.PI*2,Lt=-f*Math.cos(ht),je=f*Math.sin(ht);ee.x=ie.x+(Lt*Re.x+je*le.x),ee.y=ie.y+(Lt*Re.y+je*le.y),ee.z=ie.z+(Lt*Re.z+je*le.z),W.push(ee.x,ee.y,ee.z),te.subVectors(ee,ie).normalize(),K.push(te.x,te.y,te.z),q.push(Ne/x),q.push(Ke/S)}}for(let Ne=1;Ne<=x;Ne++)for(let ze=1;ze<=S;ze++){const Ke=(S+1)*(Ne-1)+(ze-1),ht=(S+1)*Ne+(ze-1),Lt=(S+1)*Ne+ze,je=(S+1)*(Ne-1)+ze;U.push(Ke,ht,je),U.push(ht,Lt,je)}this.setIndex(U),this.setAttribute("position",new Mr(W,3)),this.setAttribute("normal",new Mr(K,3)),this.setAttribute("uv",new Mr(q,2));function $e(Ne,ze,Ke,ht,Lt){const je=Math.cos(Ne),gt=Math.sin(Ne),_t=Ke/ze*Ne,jt=Math.cos(_t);Lt.x=ht*(2+jt)*.5*je,Lt.y=ht*(2+jt)*gt*.5,Lt.z=ht*Math.sin(_t)*.5}}static fromJSON(a){return new cv(a.radius,a.tube,a.tubularSegments,a.radialSegments,a.p,a.q)}}class uv extends ci{constructor(a=new vS(new dt(-1,-1,0),new dt(-1,1,0),new dt(1,1,0)),f=64,x=1,S=8,I=!1){super(),this.type="TubeGeometry",this.parameters={path:a,tubularSegments:f,radius:x,radialSegments:S,closed:I};const N=a.computeFrenetFrames(f,I);this.tangents=N.tangents,this.normals=N.normals,this.binormals=N.binormals;const U=new dt,W=new dt,K=new In;let q=new dt;const ee=[],te=[],ie=[],de=[];le(),this.setIndex(de),this.setAttribute("position",new Mr(ee,3)),this.setAttribute("normal",new Mr(te,3)),this.setAttribute("uv",new Mr(ie,2));function le(){for(let Ne=0;Ne<f;Ne++)ae(Ne);ae(I===!1?f:0),$e(),Re()}function ae(Ne){q=a.getPointAt(Ne/f,q);const ze=N.normals[Ne],Ke=N.binormals[Ne];for(let ht=0;ht<=S;ht++){const Lt=ht/S*Math.PI*2,je=Math.sin(Lt),gt=-Math.cos(Lt);W.x=gt*ze.x+je*Ke.x,W.y=gt*ze.y+je*Ke.y,W.z=gt*ze.z+je*Ke.z,W.normalize(),te.push(W.x,W.y,W.z),U.x=q.x+x*W.x,U.y=q.y+x*W.y,U.z=q.z+x*W.z,ee.push(U.x,U.y,U.z)}}function Re(){for(let Ne=1;Ne<=f;Ne++)for(let ze=1;ze<=S;ze++){const Ke=(S+1)*(Ne-1)+(ze-1),ht=(S+1)*Ne+(ze-1),Lt=(S+1)*Ne+ze,je=(S+1)*(Ne-1)+ze;de.push(Ke,ht,je),de.push(ht,Lt,je)}}function $e(){for(let Ne=0;Ne<=f;Ne++)for(let ze=0;ze<=S;ze++)K.x=Ne/f,K.y=ze/S,ie.push(K.x,K.y)}}toJSON(){const a=super.toJSON();return a.path=this.parameters.path.toJSON(),a}static fromJSON(a){return new uv(new yS[a.path.type]().fromJSON(a.path),a.tubularSegments,a.radius,a.radialSegments,a.closed)}}class eO extends ci{constructor(a=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:a},a!==null){const f=[],x=new Set,S=new dt,I=new dt;if(a.index!==null){const N=a.attributes.position,U=a.index;let W=a.groups;W.length===0&&(W=[{start:0,count:U.count,materialIndex:0}]);for(let K=0,q=W.length;K<q;++K){const ee=W[K],te=ee.start,ie=ee.count;for(let de=te,le=te+ie;de<le;de+=3)for(let ae=0;ae<3;ae++){const Re=U.getX(de+ae),$e=U.getX(de+(ae+1)%3);S.fromBufferAttribute(N,Re),I.fromBufferAttribute(N,$e),tO(S,I,x)===!0&&(f.push(S.x,S.y,S.z),f.push(I.x,I.y,I.z))}}}else{const N=a.attributes.position;for(let U=0,W=N.count/3;U<W;U++)for(let K=0;K<3;K++){const q=3*U+K,ee=3*U+(K+1)%3;S.fromBufferAttribute(N,q),I.fromBufferAttribute(N,ee),tO(S,I,x)===!0&&(f.push(S.x,S.y,S.z),f.push(I.x,I.y,I.z))}}this.setAttribute("position",new Mr(f,3))}}}function tO(H,a,f){const x=`${H.x},${H.y},${H.z}-${a.x},${a.y},${a.z}`,S=`${a.x},${a.y},${a.z}-${H.x},${H.y},${H.z}`;return f.has(x)===!0||f.has(S)===!0?!1:(f.add(x),f.add(S),!0)}var nO=Object.freeze({__proto__:null,BoxGeometry:Yu,CapsuleGeometry:qg,CircleGeometry:Yg,ConeGeometry:Jg,CylinderGeometry:pf,DodecahedronGeometry:Zg,EdgesGeometry:QB,ExtrudeGeometry:rv,IcosahedronGeometry:iv,LatheGeometry:op,OctahedronGeometry:sp,PlaneGeometry:Xh,PolyhedronGeometry:Uc,RingGeometry:ov,ShapeGeometry:av,SphereGeometry:lp,TetrahedronGeometry:sv,TorusGeometry:lv,TorusKnotGeometry:cv,TubeGeometry:uv,WireframeGeometry:eO});class rO extends Ca{constructor(a){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new br(0),this.transparent=!0,this.fog=!0,this.setValues(a)}copy(a){return super.copy(a),this.color.copy(a.color),this.fog=a.fog,this}}class iO extends oc{constructor(a){super(a),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class CS extends Ca{constructor(a){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new br(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new br(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yn,this.normalScale=new In(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(a)}copy(a){return super.copy(a),this.defines={STANDARD:""},this.color.copy(a.color),this.roughness=a.roughness,this.metalness=a.metalness,this.map=a.map,this.lightMap=a.lightMap,this.lightMapIntensity=a.lightMapIntensity,this.aoMap=a.aoMap,this.aoMapIntensity=a.aoMapIntensity,this.emissive.copy(a.emissive),this.emissiveMap=a.emissiveMap,this.emissiveIntensity=a.emissiveIntensity,this.bumpMap=a.bumpMap,this.bumpScale=a.bumpScale,this.normalMap=a.normalMap,this.normalMapType=a.normalMapType,this.normalScale.copy(a.normalScale),this.displacementMap=a.displacementMap,this.displacementScale=a.displacementScale,this.displacementBias=a.displacementBias,this.roughnessMap=a.roughnessMap,this.metalnessMap=a.metalnessMap,this.alphaMap=a.alphaMap,this.envMap=a.envMap,this.envMapIntensity=a.envMapIntensity,this.wireframe=a.wireframe,this.wireframeLinewidth=a.wireframeLinewidth,this.wireframeLinecap=a.wireframeLinecap,this.wireframeLinejoin=a.wireframeLinejoin,this.flatShading=a.flatShading,this.fog=a.fog,this}}class oO extends CS{constructor(a){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new In(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return uo(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(f){this.ior=(1+.4*f)/(1-.4*f)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new br(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new br(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new br(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(a)}get sheen(){return this._sheen}set sheen(a){this._sheen>0!=a>0&&this.version++,this._sheen=a}get clearcoat(){return this._clearcoat}set clearcoat(a){this._clearcoat>0!=a>0&&this.version++,this._clearcoat=a}get iridescence(){return this._iridescence}set iridescence(a){this._iridescence>0!=a>0&&this.version++,this._iridescence=a}get transmission(){return this._transmission}set transmission(a){this._transmission>0!=a>0&&this.version++,this._transmission=a}copy(a){return super.copy(a),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=a.clearcoat,this.clearcoatMap=a.clearcoatMap,this.clearcoatRoughness=a.clearcoatRoughness,this.clearcoatRoughnessMap=a.clearcoatRoughnessMap,this.clearcoatNormalMap=a.clearcoatNormalMap,this.clearcoatNormalScale.copy(a.clearcoatNormalScale),this.ior=a.ior,this.iridescence=a.iridescence,this.iridescenceMap=a.iridescenceMap,this.iridescenceIOR=a.iridescenceIOR,this.iridescenceThicknessRange=[...a.iridescenceThicknessRange],this.iridescenceThicknessMap=a.iridescenceThicknessMap,this.sheen=a.sheen,this.sheenColor.copy(a.sheenColor),this.sheenColorMap=a.sheenColorMap,this.sheenRoughness=a.sheenRoughness,this.sheenRoughnessMap=a.sheenRoughnessMap,this.transmission=a.transmission,this.transmissionMap=a.transmissionMap,this.thickness=a.thickness,this.thicknessMap=a.thicknessMap,this.attenuationDistance=a.attenuationDistance,this.attenuationColor.copy(a.attenuationColor),this.specularIntensity=a.specularIntensity,this.specularIntensityMap=a.specularIntensityMap,this.specularColor.copy(a.specularColor),this.specularColorMap=a.specularColorMap,this}}class aO extends Ca{constructor(a){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new br(16777215),this.specular=new br(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new br(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yn,this.normalScale=new In(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=xt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(a)}copy(a){return super.copy(a),this.color.copy(a.color),this.specular.copy(a.specular),this.shininess=a.shininess,this.map=a.map,this.lightMap=a.lightMap,this.lightMapIntensity=a.lightMapIntensity,this.aoMap=a.aoMap,this.aoMapIntensity=a.aoMapIntensity,this.emissive.copy(a.emissive),this.emissiveMap=a.emissiveMap,this.emissiveIntensity=a.emissiveIntensity,this.bumpMap=a.bumpMap,this.bumpScale=a.bumpScale,this.normalMap=a.normalMap,this.normalMapType=a.normalMapType,this.normalScale.copy(a.normalScale),this.displacementMap=a.displacementMap,this.displacementScale=a.displacementScale,this.displacementBias=a.displacementBias,this.specularMap=a.specularMap,this.alphaMap=a.alphaMap,this.envMap=a.envMap,this.combine=a.combine,this.reflectivity=a.reflectivity,this.refractionRatio=a.refractionRatio,this.wireframe=a.wireframe,this.wireframeLinewidth=a.wireframeLinewidth,this.wireframeLinecap=a.wireframeLinecap,this.wireframeLinejoin=a.wireframeLinejoin,this.flatShading=a.flatShading,this.fog=a.fog,this}}class sO extends Ca{constructor(a){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new br(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new br(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yn,this.normalScale=new In(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(a)}copy(a){return super.copy(a),this.color.copy(a.color),this.map=a.map,this.gradientMap=a.gradientMap,this.lightMap=a.lightMap,this.lightMapIntensity=a.lightMapIntensity,this.aoMap=a.aoMap,this.aoMapIntensity=a.aoMapIntensity,this.emissive.copy(a.emissive),this.emissiveMap=a.emissiveMap,this.emissiveIntensity=a.emissiveIntensity,this.bumpMap=a.bumpMap,this.bumpScale=a.bumpScale,this.normalMap=a.normalMap,this.normalMapType=a.normalMapType,this.normalScale.copy(a.normalScale),this.displacementMap=a.displacementMap,this.displacementScale=a.displacementScale,this.displacementBias=a.displacementBias,this.alphaMap=a.alphaMap,this.wireframe=a.wireframe,this.wireframeLinewidth=a.wireframeLinewidth,this.wireframeLinecap=a.wireframeLinecap,this.wireframeLinejoin=a.wireframeLinejoin,this.fog=a.fog,this}}class lO extends Ca{constructor(a){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yn,this.normalScale=new In(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(a)}copy(a){return super.copy(a),this.bumpMap=a.bumpMap,this.bumpScale=a.bumpScale,this.normalMap=a.normalMap,this.normalMapType=a.normalMapType,this.normalScale.copy(a.normalScale),this.displacementMap=a.displacementMap,this.displacementScale=a.displacementScale,this.displacementBias=a.displacementBias,this.wireframe=a.wireframe,this.wireframeLinewidth=a.wireframeLinewidth,this.flatShading=a.flatShading,this}}class cO extends Ca{constructor(a){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new br(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new br(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yn,this.normalScale=new In(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=xt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(a)}copy(a){return super.copy(a),this.color.copy(a.color),this.map=a.map,this.lightMap=a.lightMap,this.lightMapIntensity=a.lightMapIntensity,this.aoMap=a.aoMap,this.aoMapIntensity=a.aoMapIntensity,this.emissive.copy(a.emissive),this.emissiveMap=a.emissiveMap,this.emissiveIntensity=a.emissiveIntensity,this.bumpMap=a.bumpMap,this.bumpScale=a.bumpScale,this.normalMap=a.normalMap,this.normalMapType=a.normalMapType,this.normalScale.copy(a.normalScale),this.displacementMap=a.displacementMap,this.displacementScale=a.displacementScale,this.displacementBias=a.displacementBias,this.specularMap=a.specularMap,this.alphaMap=a.alphaMap,this.envMap=a.envMap,this.combine=a.combine,this.reflectivity=a.reflectivity,this.refractionRatio=a.refractionRatio,this.wireframe=a.wireframe,this.wireframeLinewidth=a.wireframeLinewidth,this.wireframeLinecap=a.wireframeLinecap,this.wireframeLinejoin=a.wireframeLinejoin,this.flatShading=a.flatShading,this.fog=a.fog,this}}class uO extends Ca{constructor(a){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new br(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yn,this.normalScale=new In(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(a)}copy(a){return super.copy(a),this.defines={MATCAP:""},this.color.copy(a.color),this.matcap=a.matcap,this.map=a.map,this.bumpMap=a.bumpMap,this.bumpScale=a.bumpScale,this.normalMap=a.normalMap,this.normalMapType=a.normalMapType,this.normalScale.copy(a.normalScale),this.displacementMap=a.displacementMap,this.displacementScale=a.displacementScale,this.displacementBias=a.displacementBias,this.alphaMap=a.alphaMap,this.flatShading=a.flatShading,this.fog=a.fog,this}}class dO extends Ua{constructor(a){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(a)}copy(a){return super.copy(a),this.scale=a.scale,this.dashSize=a.dashSize,this.gapSize=a.gapSize,this}}function js(H,a,f){return wS(H)?new H.constructor(H.subarray(a,f!==void 0?f:H.length)):H.slice(a,f)}function vf(H,a,f){return!H||!f&&H.constructor===a?H:typeof a.BYTES_PER_ELEMENT=="number"?new a(H):Array.prototype.slice.call(H)}function wS(H){return ArrayBuffer.isView(H)&&!(H instanceof DataView)}function fO(H){function a(S,I){return H[S]-H[I]}const f=H.length,x=new Array(f);for(let S=0;S!==f;++S)x[S]=S;return x.sort(a),x}function SS(H,a,f){const x=H.length,S=new H.constructor(x);for(let I=0,N=0;N!==x;++I){const U=f[I]*a;for(let W=0;W!==a;++W)S[N++]=H[U+W]}return S}function _S(H,a,f,x){let S=1,I=H[0];for(;I!==void 0&&I[x]===void 0;)I=H[S++];if(I===void 0)return;let N=I[x];if(N!==void 0)if(Array.isArray(N))do N=I[x],N!==void 0&&(a.push(I.time),f.push.apply(f,N)),I=H[S++];while(I!==void 0);else if(N.toArray!==void 0)do N=I[x],N!==void 0&&(a.push(I.time),N.toArray(f,f.length)),I=H[S++];while(I!==void 0);else do N=I[x],N!==void 0&&(a.push(I.time),f.push(N)),I=H[S++];while(I!==void 0)}function Fq(H,a,f,x,S=30){const I=H.clone();I.name=a;const N=[];for(let W=0;W<I.tracks.length;++W){const K=I.tracks[W],q=K.getValueSize(),ee=[],te=[];for(let ie=0;ie<K.times.length;++ie){const de=K.times[ie]*S;if(!(de<f||de>=x)){ee.push(K.times[ie]);for(let le=0;le<q;++le)te.push(K.values[ie*q+le])}}ee.length!==0&&(K.times=vf(ee,K.times.constructor),K.values=vf(te,K.values.constructor),N.push(K))}I.tracks=N;let U=1/0;for(let W=0;W<I.tracks.length;++W)U>I.tracks[W].times[0]&&(U=I.tracks[W].times[0]);for(let W=0;W<I.tracks.length;++W)I.tracks[W].shift(-1*U);return I.resetDuration(),I}function Uq(H,a=0,f=H,x=30){x<=0&&(x=30);const S=f.tracks.length,I=a/x;for(let N=0;N<S;++N){const U=f.tracks[N],W=U.ValueTypeName;if(W==="bool"||W==="string")continue;const K=H.tracks.find(function(Re){return Re.name===U.name&&Re.ValueTypeName===W});if(K===void 0)continue;let q=0;const ee=U.getValueSize();U.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(q=ee/3);let te=0;const ie=K.getValueSize();K.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(te=ie/3);const de=U.times.length-1;let le;if(I<=U.times[0]){const Re=q,$e=ee-q;le=js(U.values,Re,$e)}else if(I>=U.times[de]){const Re=de*ee+q,$e=Re+ee-q;le=js(U.values,Re,$e)}else{const Re=U.createInterpolant(),$e=q,Ne=ee-q;Re.evaluate(I),le=js(Re.resultBuffer,$e,Ne)}W==="quaternion"&&new fa().fromArray(le).normalize().conjugate().toArray(le);const ae=K.times.length;for(let Re=0;Re<ae;++Re){const $e=Re*ie+te;if(W==="quaternion")fa.multiplyQuaternionsFlat(K.values,$e,le,0,K.values,$e);else{const Ne=ie-te*2;for(let ze=0;ze<Ne;++ze)K.values[$e+ze]-=le[ze]}}}return H.blendMode=dn,H}var zq=Object.freeze({__proto__:null,arraySlice:js,convertArray:vf,isTypedArray:wS,getKeyframeOrder:fO,sortedArray:SS,flattenJSON:_S,subclip:Fq,makeClipAdditive:Uq});class dv{constructor(a,f,x,S){this.parameterPositions=a,this._cachedIndex=0,this.resultBuffer=S!==void 0?S:new f.constructor(x),this.sampleValues=f,this.valueSize=x,this.settings=null,this.DefaultSettings_={}}evaluate(a){const f=this.parameterPositions;let x=this._cachedIndex,S=f[x],I=f[x-1];e:{t:{let N;n:{r:if(!(a<S)){for(let U=x+2;;){if(S===void 0){if(a<I)break r;return x=f.length,this._cachedIndex=x,this.copySampleValue_(x-1)}if(x===U)break;if(I=S,S=f[++x],a<S)break t}N=f.length;break n}if(!(a>=I)){const U=f[1];a<U&&(x=2,I=U);for(let W=x-2;;){if(I===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(x===W)break;if(S=I,I=f[--x-1],a>=I)break t}N=x,x=0;break n}break e}for(;x<N;){const U=x+N>>>1;a<f[U]?N=U:x=U+1}if(S=f[x],I=f[x-1],I===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(S===void 0)return x=f.length,this._cachedIndex=x,this.copySampleValue_(x-1)}this._cachedIndex=x,this.intervalChanged_(x,I,S)}return this.interpolate_(x,I,a,S)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(a){const f=this.resultBuffer,x=this.sampleValues,S=this.valueSize,I=a*S;for(let N=0;N!==S;++N)f[N]=x[I+N];return f}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class hO extends dv{constructor(a,f,x,S){super(a,f,x,S),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Pe,endingEnd:Pe}}intervalChanged_(a,f,x){const S=this.parameterPositions;let I=a-2,N=a+1,U=S[I],W=S[N];if(U===void 0)switch(this.getSettings_().endingStart){case yt:I=a,U=2*f-x;break;case Ft:I=S.length-2,U=f+S[I]-S[I+1];break;default:I=a,U=x}if(W===void 0)switch(this.getSettings_().endingEnd){case yt:N=a,W=2*x-f;break;case Ft:N=1,W=x+S[1]-S[0];break;default:N=a-1,W=f}const K=(x-f)*.5,q=this.valueSize;this._weightPrev=K/(f-U),this._weightNext=K/(W-x),this._offsetPrev=I*q,this._offsetNext=N*q}interpolate_(a,f,x,S){const I=this.resultBuffer,N=this.sampleValues,U=this.valueSize,W=a*U,K=W-U,q=this._offsetPrev,ee=this._offsetNext,te=this._weightPrev,ie=this._weightNext,de=(x-f)/(S-f),le=de*de,ae=le*de,Re=-te*ae+2*te*le-te*de,$e=(1+te)*ae+(-1.5-2*te)*le+(-.5+te)*de+1,Ne=(-1-ie)*ae+(1.5+ie)*le+.5*de,ze=ie*ae-ie*le;for(let Ke=0;Ke!==U;++Ke)I[Ke]=Re*N[q+Ke]+$e*N[K+Ke]+Ne*N[W+Ke]+ze*N[ee+Ke];return I}}class MS extends dv{constructor(a,f,x,S){super(a,f,x,S)}interpolate_(a,f,x,S){const I=this.resultBuffer,N=this.sampleValues,U=this.valueSize,W=a*U,K=W-U,q=(x-f)/(S-f),ee=1-q;for(let te=0;te!==U;++te)I[te]=N[K+te]*ee+N[W+te]*q;return I}}class pO extends dv{constructor(a,f,x,S){super(a,f,x,S)}interpolate_(a){return this.copySampleValue_(a-1)}}class El{constructor(a,f,x,S){if(a===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(f===void 0||f.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+a);this.name=a,this.times=vf(f,this.TimeBufferType),this.values=vf(x,this.ValueBufferType),this.setInterpolation(S||this.DefaultInterpolation)}static toJSON(a){const f=a.constructor;let x;if(f.toJSON!==this.toJSON)x=f.toJSON(a);else{x={name:a.name,times:vf(a.times,Array),values:vf(a.values,Array)};const S=a.getInterpolation();S!==a.DefaultInterpolation&&(x.interpolation=S)}return x.type=a.ValueTypeName,x}InterpolantFactoryMethodDiscrete(a){return new pO(this.times,this.values,this.getValueSize(),a)}InterpolantFactoryMethodLinear(a){return new MS(this.times,this.values,this.getValueSize(),a)}InterpolantFactoryMethodSmooth(a){return new hO(this.times,this.values,this.getValueSize(),a)}setInterpolation(a){let f;switch(a){case ye:f=this.InterpolantFactoryMethodDiscrete;break;case Ee:f=this.InterpolantFactoryMethodLinear;break;case Me:f=this.InterpolantFactoryMethodSmooth;break}if(f===void 0){const x="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(a!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(x);return console.warn("THREE.KeyframeTrack:",x),this}return this.createInterpolant=f,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ye;case this.InterpolantFactoryMethodLinear:return Ee;case this.InterpolantFactoryMethodSmooth:return Me}}getValueSize(){return this.values.length/this.times.length}shift(a){if(a!==0){const f=this.times;for(let x=0,S=f.length;x!==S;++x)f[x]+=a}return this}scale(a){if(a!==1){const f=this.times;for(let x=0,S=f.length;x!==S;++x)f[x]*=a}return this}trim(a,f){const x=this.times,S=x.length;let I=0,N=S-1;for(;I!==S&&x[I]<a;)++I;for(;N!==-1&&x[N]>f;)--N;if(++N,I!==0||N!==S){I>=N&&(N=Math.max(N,1),I=N-1);const U=this.getValueSize();this.times=js(x,I,N),this.values=js(this.values,I*U,N*U)}return this}validate(){let a=!0;const f=this.getValueSize();f-Math.floor(f)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),a=!1);const x=this.times,S=this.values,I=x.length;I===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),a=!1);let N=null;for(let U=0;U!==I;U++){const W=x[U];if(typeof W=="number"&&isNaN(W)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,U,W),a=!1;break}if(N!==null&&N>W){console.error("THREE.KeyframeTrack: Out of order keys.",this,U,W,N),a=!1;break}N=W}if(S!==void 0&&wS(S))for(let U=0,W=S.length;U!==W;++U){const K=S[U];if(isNaN(K)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,U,K),a=!1;break}}return a}optimize(){const a=js(this.times),f=js(this.values),x=this.getValueSize(),S=this.getInterpolation()===Me,I=a.length-1;let N=1;for(let U=1;U<I;++U){let W=!1;const K=a[U],q=a[U+1];if(K!==q&&(U!==1||K!==a[0]))if(S)W=!0;else{const ee=U*x,te=ee-x,ie=ee+x;for(let de=0;de!==x;++de){const le=f[ee+de];if(le!==f[te+de]||le!==f[ie+de]){W=!0;break}}}if(W){if(U!==N){a[N]=a[U];const ee=U*x,te=N*x;for(let ie=0;ie!==x;++ie)f[te+ie]=f[ee+ie]}++N}}if(I>0){a[N]=a[I];for(let U=I*x,W=N*x,K=0;K!==x;++K)f[W+K]=f[U+K];++N}return N!==a.length?(this.times=js(a,0,N),this.values=js(f,0,N*x)):(this.times=a,this.values=f),this}clone(){const a=js(this.times,0),f=js(this.values,0),x=this.constructor,S=new x(this.name,a,f);return S.createInterpolant=this.createInterpolant,S}}El.prototype.TimeBufferType=Float32Array,El.prototype.ValueBufferType=Float32Array,El.prototype.DefaultInterpolation=Ee;class Af extends El{}Af.prototype.ValueTypeName="bool",Af.prototype.ValueBufferType=Array,Af.prototype.DefaultInterpolation=ye,Af.prototype.InterpolantFactoryMethodLinear=void 0,Af.prototype.InterpolantFactoryMethodSmooth=void 0;class TS extends El{}TS.prototype.ValueTypeName="color";class fv extends El{}fv.prototype.ValueTypeName="number";class mO extends dv{constructor(a,f,x,S){super(a,f,x,S)}interpolate_(a,f,x,S){const I=this.resultBuffer,N=this.sampleValues,U=this.valueSize,W=(x-f)/(S-f);let K=a*U;for(let q=K+U;K!==q;K+=4)fa.slerpFlat(I,0,N,K-U,N,K,W);return I}}class cp extends El{InterpolantFactoryMethodLinear(a){return new mO(this.times,this.values,this.getValueSize(),a)}}cp.prototype.ValueTypeName="quaternion",cp.prototype.DefaultInterpolation=Ee,cp.prototype.InterpolantFactoryMethodSmooth=void 0;class yf extends El{}yf.prototype.ValueTypeName="string",yf.prototype.ValueBufferType=Array,yf.prototype.DefaultInterpolation=ye,yf.prototype.InterpolantFactoryMethodLinear=void 0,yf.prototype.InterpolantFactoryMethodSmooth=void 0;class hv extends El{}hv.prototype.ValueTypeName="vector";class pv{constructor(a,f=-1,x,S=Zt){this.name=a,this.tracks=x,this.duration=f,this.blendMode=S,this.uuid=Da(),this.duration<0&&this.resetDuration()}static parse(a){const f=[],x=a.tracks,S=1/(a.fps||1);for(let N=0,U=x.length;N!==U;++N)f.push($q(x[N]).scale(S));const I=new this(a.name,a.duration,f,a.blendMode);return I.uuid=a.uuid,I}static toJSON(a){const f=[],x=a.tracks,S={name:a.name,duration:a.duration,tracks:f,uuid:a.uuid,blendMode:a.blendMode};for(let I=0,N=x.length;I!==N;++I)f.push(El.toJSON(x[I]));return S}static CreateFromMorphTargetSequence(a,f,x,S){const I=f.length,N=[];for(let U=0;U<I;U++){let W=[],K=[];W.push((U+I-1)%I,U,(U+1)%I),K.push(0,1,0);const q=fO(W);W=SS(W,1,q),K=SS(K,1,q),!S&&W[0]===0&&(W.push(I),K.push(K[0])),N.push(new fv(".morphTargetInfluences["+f[U].name+"]",W,K).scale(1/x))}return new this(a,-1,N)}static findByName(a,f){let x=a;if(!Array.isArray(a)){const S=a;x=S.geometry&&S.geometry.animations||S.animations}for(let S=0;S<x.length;S++)if(x[S].name===f)return x[S];return null}static CreateClipsFromMorphTargetSequences(a,f,x){const S={},I=/^([\w-]*?)([\d]+)$/;for(let U=0,W=a.length;U<W;U++){const K=a[U],q=K.name.match(I);if(q&&q.length>1){const ee=q[1];let te=S[ee];te||(S[ee]=te=[]),te.push(K)}}const N=[];for(const U in S)N.push(this.CreateFromMorphTargetSequence(U,S[U],f,x));return N}static parseAnimation(a,f){if(!a)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const x=function(ee,te,ie,de,le){if(ie.length!==0){const ae=[],Re=[];_S(ie,ae,Re,de),ae.length!==0&&le.push(new ee(te,ae,Re))}},S=[],I=a.name||"default",N=a.fps||30,U=a.blendMode;let W=a.length||-1;const K=a.hierarchy||[];for(let ee=0;ee<K.length;ee++){const te=K[ee].keys;if(!(!te||te.length===0))if(te[0].morphTargets){const ie={};let de;for(de=0;de<te.length;de++)if(te[de].morphTargets)for(let le=0;le<te[de].morphTargets.length;le++)ie[te[de].morphTargets[le]]=-1;for(const le in ie){const ae=[],Re=[];for(let $e=0;$e!==te[de].morphTargets.length;++$e){const Ne=te[de];ae.push(Ne.time),Re.push(Ne.morphTarget===le?1:0)}S.push(new fv(".morphTargetInfluence["+le+"]",ae,Re))}W=ie.length*N}else{const ie=".bones["+f[ee].name+"]";x(hv,ie+".position",te,"pos",S),x(cp,ie+".quaternion",te,"rot",S),x(hv,ie+".scale",te,"scl",S)}}return S.length===0?null:new this(I,W,S,U)}resetDuration(){const a=this.tracks;let f=0;for(let x=0,S=a.length;x!==S;++x){const I=this.tracks[x];f=Math.max(f,I.times[I.times.length-1])}return this.duration=f,this}trim(){for(let a=0;a<this.tracks.length;a++)this.tracks[a].trim(0,this.duration);return this}validate(){let a=!0;for(let f=0;f<this.tracks.length;f++)a=a&&this.tracks[f].validate();return a}optimize(){for(let a=0;a<this.tracks.length;a++)this.tracks[a].optimize();return this}clone(){const a=[];for(let f=0;f<this.tracks.length;f++)a.push(this.tracks[f].clone());return new this.constructor(this.name,this.duration,a,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Hq(H){switch(H.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return fv;case"vector":case"vector2":case"vector3":case"vector4":return hv;case"color":return TS;case"quaternion":return cp;case"bool":case"boolean":return Af;case"string":return yf}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+H)}function $q(H){if(H.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const a=Hq(H.type);if(H.times===void 0){const f=[],x=[];_S(H.keys,f,x,"value"),H.times=f,H.values=x}return a.parse!==void 0?a.parse(H):new a(H.name,H.times,H.values,H.interpolation)}const bf={enabled:!1,files:{},add:function(H,a){this.enabled!==!1&&(this.files[H]=a)},get:function(H){if(this.enabled!==!1)return this.files[H]},remove:function(H){delete this.files[H]},clear:function(){this.files={}}};class RS{constructor(a,f,x){const S=this;let I=!1,N=0,U=0,W;const K=[];this.onStart=void 0,this.onLoad=a,this.onProgress=f,this.onError=x,this.itemStart=function(q){U++,I===!1&&S.onStart!==void 0&&S.onStart(q,N,U),I=!0},this.itemEnd=function(q){N++,S.onProgress!==void 0&&S.onProgress(q,N,U),N===U&&(I=!1,S.onLoad!==void 0&&S.onLoad())},this.itemError=function(q){S.onError!==void 0&&S.onError(q)},this.resolveURL=function(q){return W?W(q):q},this.setURLModifier=function(q){return W=q,this},this.addHandler=function(q,ee){return K.push(q,ee),this},this.removeHandler=function(q){const ee=K.indexOf(q);return ee!==-1&&K.splice(ee,2),this},this.getHandler=function(q){for(let ee=0,te=K.length;ee<te;ee+=2){const ie=K[ee],de=K[ee+1];if(ie.global&&(ie.lastIndex=0),ie.test(q))return de}return null}}}const gO=new RS;class ys{constructor(a){this.manager=a!==void 0?a:gO,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(a,f){const x=this;return new Promise(function(S,I){x.load(a,S,f,I)})}parse(){}setCrossOrigin(a){return this.crossOrigin=a,this}setWithCredentials(a){return this.withCredentials=a,this}setPath(a){return this.path=a,this}setResourcePath(a){return this.resourcePath=a,this}setRequestHeader(a){return this.requestHeader=a,this}}const zc={};class Gq extends Error{constructor(a,f){super(a),this.response=f}}class Hc extends ys{constructor(a){super(a)}load(a,f,x,S){a===void 0&&(a=""),this.path!==void 0&&(a=this.path+a),a=this.manager.resolveURL(a);const I=bf.get(a);if(I!==void 0)return this.manager.itemStart(a),setTimeout(()=>{f&&f(I),this.manager.itemEnd(a)},0),I;if(zc[a]!==void 0){zc[a].push({onLoad:f,onProgress:x,onError:S});return}zc[a]=[],zc[a].push({onLoad:f,onProgress:x,onError:S});const N=new Request(a,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),U=this.mimeType,W=this.responseType;fetch(N).then(K=>{if(K.status===200||K.status===0){if(K.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||K.body===void 0||K.body.getReader===void 0)return K;const q=zc[a],ee=K.body.getReader(),te=K.headers.get("Content-Length")||K.headers.get("X-File-Size"),ie=te?parseInt(te):0,de=ie!==0;let le=0;const ae=new ReadableStream({start(Re){$e();function $e(){ee.read().then(({done:Ne,value:ze})=>{if(Ne)Re.close();else{le+=ze.byteLength;const Ke=new ProgressEvent("progress",{lengthComputable:de,loaded:le,total:ie});for(let ht=0,Lt=q.length;ht<Lt;ht++){const je=q[ht];je.onProgress&&je.onProgress(Ke)}Re.enqueue(ze),$e()}})}}});return new Response(ae)}else throw new Gq(`fetch for "${K.url}" responded with ${K.status}: ${K.statusText}`,K)}).then(K=>{switch(W){case"arraybuffer":return K.arrayBuffer();case"blob":return K.blob();case"document":return K.text().then(q=>new DOMParser().parseFromString(q,U));case"json":return K.json();default:if(U===void 0)return K.text();{const ee=/charset="?([^;"\s]*)"?/i.exec(U),te=ee&&ee[1]?ee[1].toLowerCase():void 0,ie=new TextDecoder(te);return K.arrayBuffer().then(de=>ie.decode(de))}}}).then(K=>{bf.add(a,K);const q=zc[a];delete zc[a];for(let ee=0,te=q.length;ee<te;ee++){const ie=q[ee];ie.onLoad&&ie.onLoad(K)}}).catch(K=>{const q=zc[a];if(q===void 0)throw this.manager.itemError(a),K;delete zc[a];for(let ee=0,te=q.length;ee<te;ee++){const ie=q[ee];ie.onError&&ie.onError(K)}this.manager.itemError(a)}).finally(()=>{this.manager.itemEnd(a)}),this.manager.itemStart(a)}setResponseType(a){return this.responseType=a,this}setMimeType(a){return this.mimeType=a,this}}class jq extends ys{constructor(a){super(a)}load(a,f,x,S){const I=this,N=new Hc(this.manager);N.setPath(this.path),N.setRequestHeader(this.requestHeader),N.setWithCredentials(this.withCredentials),N.load(a,function(U){try{f(I.parse(JSON.parse(U)))}catch(W){S?S(W):console.error(W),I.manager.itemError(a)}},x,S)}parse(a){const f=[];for(let x=0;x<a.length;x++){const S=pv.parse(a[x]);f.push(S)}return f}}class Vq extends ys{constructor(a){super(a)}load(a,f,x,S){const I=this,N=[],U=new uS,W=new Hc(this.manager);W.setPath(this.path),W.setResponseType("arraybuffer"),W.setRequestHeader(this.requestHeader),W.setWithCredentials(I.withCredentials);let K=0;function q(ee){W.load(a[ee],function(te){const ie=I.parse(te,!0);N[ee]={width:ie.width,height:ie.height,format:ie.format,mipmaps:ie.mipmaps},K+=1,K===6&&(ie.mipmapCount===1&&(U.minFilter=ve),U.image=N,U.format=ie.format,U.needsUpdate=!0,f&&f(U))},x,S)}if(Array.isArray(a))for(let ee=0,te=a.length;ee<te;++ee)q(ee);else W.load(a,function(ee){const te=I.parse(ee,!0);if(te.isCubemap){const ie=te.mipmaps.length/te.mipmapCount;for(let de=0;de<ie;de++){N[de]={mipmaps:[]};for(let le=0;le<te.mipmapCount;le++)N[de].mipmaps.push(te.mipmaps[de*te.mipmapCount+le]),N[de].format=te.format,N[de].width=te.width,N[de].height=te.height}U.image=N}else U.image.width=te.width,U.image.height=te.height,U.mipmaps=te.mipmaps;te.mipmapCount===1&&(U.minFilter=ve),U.format=te.format,U.needsUpdate=!0,f&&f(U)},x,S);return U}}class mv extends ys{constructor(a){super(a)}load(a,f,x,S){this.path!==void 0&&(a=this.path+a),a=this.manager.resolveURL(a);const I=this,N=bf.get(a);if(N!==void 0)return I.manager.itemStart(a),setTimeout(function(){f&&f(N),I.manager.itemEnd(a)},0),N;const U=of("img");function W(){q(),bf.add(a,this),f&&f(this),I.manager.itemEnd(a)}function K(ee){q(),S&&S(ee),I.manager.itemError(a),I.manager.itemEnd(a)}function q(){U.removeEventListener("load",W,!1),U.removeEventListener("error",K,!1)}return U.addEventListener("load",W,!1),U.addEventListener("error",K,!1),a.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(U.crossOrigin=this.crossOrigin),I.manager.itemStart(a),U.src=a,U}}class Wq extends ys{constructor(a){super(a)}load(a,f,x,S){const I=new Hg,N=new mv(this.manager);N.setCrossOrigin(this.crossOrigin),N.setPath(this.path);let U=0;function W(K){N.load(a[K],function(q){I.images[K]=q,U++,U===6&&(I.needsUpdate=!0,f&&f(I))},void 0,S)}for(let K=0;K<a.length;++K)W(K);return I}}class Qq extends ys{constructor(a){super(a)}load(a,f,x,S){const I=this,N=new rp,U=new Hc(this.manager);return U.setResponseType("arraybuffer"),U.setRequestHeader(this.requestHeader),U.setPath(this.path),U.setWithCredentials(I.withCredentials),U.load(a,function(W){const K=I.parse(W);K&&(K.image!==void 0?N.image=K.image:K.data!==void 0&&(N.image.width=K.width,N.image.height=K.height,N.image.data=K.data),N.wrapS=K.wrapS!==void 0?K.wrapS:Ue,N.wrapT=K.wrapT!==void 0?K.wrapT:Ue,N.magFilter=K.magFilter!==void 0?K.magFilter:ve,N.minFilter=K.minFilter!==void 0?K.minFilter:ve,N.anisotropy=K.anisotropy!==void 0?K.anisotropy:1,K.encoding!==void 0&&(N.encoding=K.encoding),K.flipY!==void 0&&(N.flipY=K.flipY),K.format!==void 0&&(N.format=K.format),K.type!==void 0&&(N.type=K.type),K.mipmaps!==void 0&&(N.mipmaps=K.mipmaps,N.minFilter=Je),K.mipmapCount===1&&(N.minFilter=ve),K.generateMipmaps!==void 0&&(N.generateMipmaps=K.generateMipmaps),N.needsUpdate=!0,f&&f(N,K))},x,S),N}}class Kq extends ys{constructor(a){super(a)}load(a,f,x,S){const I=new fo,N=new mv(this.manager);return N.setCrossOrigin(this.crossOrigin),N.setPath(this.path),N.load(a,function(U){I.image=U,I.needsUpdate=!0,f!==void 0&&f(I)},x,S),I}}class ed extends yi{constructor(a,f=1){super(),this.isLight=!0,this.type="Light",this.color=new br(a),this.intensity=f}dispose(){}copy(a,f){return super.copy(a,f),this.color.copy(a.color),this.intensity=a.intensity,this}toJSON(a){const f=super.toJSON(a);return f.object.color=this.color.getHex(),f.object.intensity=this.intensity,this.groundColor!==void 0&&(f.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(f.object.distance=this.distance),this.angle!==void 0&&(f.object.angle=this.angle),this.decay!==void 0&&(f.object.decay=this.decay),this.penumbra!==void 0&&(f.object.penumbra=this.penumbra),this.shadow!==void 0&&(f.object.shadow=this.shadow.toJSON()),f}}class vO extends ed{constructor(a,f,x){super(a,x),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(yi.DefaultUp),this.updateMatrix(),this.groundColor=new br(f)}copy(a,f){return super.copy(a,f),this.groundColor.copy(a.groundColor),this}}const IS=new wr,AO=new dt,yO=new dt;class LS{constructor(a){this.camera=a,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new In(512,512),this.map=null,this.mapPass=null,this.matrix=new wr,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Ty,this._frameExtents=new In(1,1),this._viewportCount=1,this._viewports=[new wi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(a){const f=this.camera,x=this.matrix;AO.setFromMatrixPosition(a.matrixWorld),f.position.copy(AO),yO.setFromMatrixPosition(a.target.matrixWorld),f.lookAt(yO),f.updateMatrixWorld(),IS.multiplyMatrices(f.projectionMatrix,f.matrixWorldInverse),this._frustum.setFromProjectionMatrix(IS),x.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),x.multiply(IS)}getViewport(a){return this._viewports[a]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(a){return this.camera=a.camera.clone(),this.bias=a.bias,this.radius=a.radius,this.mapSize.copy(a.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const a={};return this.bias!==0&&(a.bias=this.bias),this.normalBias!==0&&(a.normalBias=this.normalBias),this.radius!==1&&(a.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(a.mapSize=this.mapSize.toArray()),a.camera=this.camera.toJSON(!1).object,delete a.camera.matrix,a}}class Xq extends LS{constructor(){super(new Uo(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(a){const f=this.camera,x=nf*2*a.angle*this.focus,S=this.mapSize.width/this.mapSize.height,I=a.distance||f.far;(x!==f.fov||S!==f.aspect||I!==f.far)&&(f.fov=x,f.aspect=S,f.far=I,f.updateProjectionMatrix()),super.updateMatrices(a)}copy(a){return super.copy(a),this.focus=a.focus,this}}class bO extends ed{constructor(a,f,x=0,S=Math.PI/3,I=0,N=2){super(a,f),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(yi.DefaultUp),this.updateMatrix(),this.target=new yi,this.distance=x,this.angle=S,this.penumbra=I,this.decay=N,this.map=null,this.shadow=new Xq}get power(){return this.intensity*Math.PI}set power(a){this.intensity=a/Math.PI}dispose(){this.shadow.dispose()}copy(a,f){return super.copy(a,f),this.distance=a.distance,this.angle=a.angle,this.penumbra=a.penumbra,this.decay=a.decay,this.target=a.target.clone(),this.shadow=a.shadow.clone(),this}}const xO=new wr,gv=new dt,PS=new dt;class qq extends LS{constructor(){super(new Uo(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new In(4,2),this._viewportCount=6,this._viewports=[new wi(2,1,1,1),new wi(0,1,1,1),new wi(3,1,1,1),new wi(1,1,1,1),new wi(3,0,1,1),new wi(1,0,1,1)],this._cubeDirections=[new dt(1,0,0),new dt(-1,0,0),new dt(0,0,1),new dt(0,0,-1),new dt(0,1,0),new dt(0,-1,0)],this._cubeUps=[new dt(0,1,0),new dt(0,1,0),new dt(0,1,0),new dt(0,1,0),new dt(0,0,1),new dt(0,0,-1)]}updateMatrices(a,f=0){const x=this.camera,S=this.matrix,I=a.distance||x.far;I!==x.far&&(x.far=I,x.updateProjectionMatrix()),gv.setFromMatrixPosition(a.matrixWorld),x.position.copy(gv),PS.copy(x.position),PS.add(this._cubeDirections[f]),x.up.copy(this._cubeUps[f]),x.lookAt(PS),x.updateMatrixWorld(),S.makeTranslation(-gv.x,-gv.y,-gv.z),xO.multiplyMatrices(x.projectionMatrix,x.matrixWorldInverse),this._frustum.setFromProjectionMatrix(xO)}}class EO extends ed{constructor(a,f,x=0,S=2){super(a,f),this.isPointLight=!0,this.type="PointLight",this.distance=x,this.decay=S,this.shadow=new qq}get power(){return this.intensity*4*Math.PI}set power(a){this.intensity=a/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(a,f){return super.copy(a,f),this.distance=a.distance,this.decay=a.decay,this.shadow=a.shadow.clone(),this}}class Yq extends LS{constructor(){super(new Iy(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class CO extends ed{constructor(a,f){super(a,f),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(yi.DefaultUp),this.updateMatrix(),this.target=new yi,this.shadow=new Yq}dispose(){this.shadow.dispose()}copy(a){return super.copy(a),this.target=a.target.clone(),this.shadow=a.shadow.clone(),this}}class wO extends ed{constructor(a,f){super(a,f),this.isAmbientLight=!0,this.type="AmbientLight"}}class SO extends ed{constructor(a,f,x=10,S=10){super(a,f),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=x,this.height=S}get power(){return this.intensity*this.width*this.height*Math.PI}set power(a){this.intensity=a/(this.width*this.height*Math.PI)}copy(a){return super.copy(a),this.width=a.width,this.height=a.height,this}toJSON(a){const f=super.toJSON(a);return f.object.width=this.width,f.object.height=this.height,f}}class _O{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let a=0;a<9;a++)this.coefficients.push(new dt)}set(a){for(let f=0;f<9;f++)this.coefficients[f].copy(a[f]);return this}zero(){for(let a=0;a<9;a++)this.coefficients[a].set(0,0,0);return this}getAt(a,f){const x=a.x,S=a.y,I=a.z,N=this.coefficients;return f.copy(N[0]).multiplyScalar(.282095),f.addScaledVector(N[1],.488603*S),f.addScaledVector(N[2],.488603*I),f.addScaledVector(N[3],.488603*x),f.addScaledVector(N[4],1.092548*(x*S)),f.addScaledVector(N[5],1.092548*(S*I)),f.addScaledVector(N[6],.315392*(3*I*I-1)),f.addScaledVector(N[7],1.092548*(x*I)),f.addScaledVector(N[8],.546274*(x*x-S*S)),f}getIrradianceAt(a,f){const x=a.x,S=a.y,I=a.z,N=this.coefficients;return f.copy(N[0]).multiplyScalar(.886227),f.addScaledVector(N[1],1.023328*S),f.addScaledVector(N[2],1.023328*I),f.addScaledVector(N[3],1.023328*x),f.addScaledVector(N[4],.858086*x*S),f.addScaledVector(N[5],.858086*S*I),f.addScaledVector(N[6],.743125*I*I-.247708),f.addScaledVector(N[7],.858086*x*I),f.addScaledVector(N[8],.429043*(x*x-S*S)),f}add(a){for(let f=0;f<9;f++)this.coefficients[f].add(a.coefficients[f]);return this}addScaledSH(a,f){for(let x=0;x<9;x++)this.coefficients[x].addScaledVector(a.coefficients[x],f);return this}scale(a){for(let f=0;f<9;f++)this.coefficients[f].multiplyScalar(a);return this}lerp(a,f){for(let x=0;x<9;x++)this.coefficients[x].lerp(a.coefficients[x],f);return this}equals(a){for(let f=0;f<9;f++)if(!this.coefficients[f].equals(a.coefficients[f]))return!1;return!0}copy(a){return this.set(a.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(a,f=0){const x=this.coefficients;for(let S=0;S<9;S++)x[S].fromArray(a,f+S*3);return this}toArray(a=[],f=0){const x=this.coefficients;for(let S=0;S<9;S++)x[S].toArray(a,f+S*3);return a}static getBasisAt(a,f){const x=a.x,S=a.y,I=a.z;f[0]=.282095,f[1]=.488603*S,f[2]=.488603*I,f[3]=.488603*x,f[4]=1.092548*x*S,f[5]=1.092548*S*I,f[6]=.315392*(3*I*I-1),f[7]=1.092548*x*I,f[8]=.546274*(x*x-S*S)}}class tb extends ed{constructor(a=new _O,f=1){super(void 0,f),this.isLightProbe=!0,this.sh=a}copy(a){return super.copy(a),this.sh.copy(a.sh),this}fromJSON(a){return this.intensity=a.intensity,this.sh.fromArray(a.sh),this}toJSON(a){const f=super.toJSON(a);return f.object.sh=this.sh.toArray(),f}}class nb extends ys{constructor(a){super(a),this.textures={}}load(a,f,x,S){const I=this,N=new Hc(I.manager);N.setPath(I.path),N.setRequestHeader(I.requestHeader),N.setWithCredentials(I.withCredentials),N.load(a,function(U){try{f(I.parse(JSON.parse(U)))}catch(W){S?S(W):console.error(W),I.manager.itemError(a)}},x,S)}parse(a){const f=this.textures;function x(I){return f[I]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",I),f[I]}const S=nb.createMaterialFromType(a.type);if(a.uuid!==void 0&&(S.uuid=a.uuid),a.name!==void 0&&(S.name=a.name),a.color!==void 0&&S.color!==void 0&&S.color.setHex(a.color),a.roughness!==void 0&&(S.roughness=a.roughness),a.metalness!==void 0&&(S.metalness=a.metalness),a.sheen!==void 0&&(S.sheen=a.sheen),a.sheenColor!==void 0&&(S.sheenColor=new br().setHex(a.sheenColor)),a.sheenRoughness!==void 0&&(S.sheenRoughness=a.sheenRoughness),a.emissive!==void 0&&S.emissive!==void 0&&S.emissive.setHex(a.emissive),a.specular!==void 0&&S.specular!==void 0&&S.specular.setHex(a.specular),a.specularIntensity!==void 0&&(S.specularIntensity=a.specularIntensity),a.specularColor!==void 0&&S.specularColor!==void 0&&S.specularColor.setHex(a.specularColor),a.shininess!==void 0&&(S.shininess=a.shininess),a.clearcoat!==void 0&&(S.clearcoat=a.clearcoat),a.clearcoatRoughness!==void 0&&(S.clearcoatRoughness=a.clearcoatRoughness),a.iridescence!==void 0&&(S.iridescence=a.iridescence),a.iridescenceIOR!==void 0&&(S.iridescenceIOR=a.iridescenceIOR),a.iridescenceThicknessRange!==void 0&&(S.iridescenceThicknessRange=a.iridescenceThicknessRange),a.transmission!==void 0&&(S.transmission=a.transmission),a.thickness!==void 0&&(S.thickness=a.thickness),a.attenuationDistance!==void 0&&(S.attenuationDistance=a.attenuationDistance),a.attenuationColor!==void 0&&S.attenuationColor!==void 0&&S.attenuationColor.setHex(a.attenuationColor),a.fog!==void 0&&(S.fog=a.fog),a.flatShading!==void 0&&(S.flatShading=a.flatShading),a.blending!==void 0&&(S.blending=a.blending),a.combine!==void 0&&(S.combine=a.combine),a.side!==void 0&&(S.side=a.side),a.shadowSide!==void 0&&(S.shadowSide=a.shadowSide),a.opacity!==void 0&&(S.opacity=a.opacity),a.transparent!==void 0&&(S.transparent=a.transparent),a.alphaTest!==void 0&&(S.alphaTest=a.alphaTest),a.depthTest!==void 0&&(S.depthTest=a.depthTest),a.depthWrite!==void 0&&(S.depthWrite=a.depthWrite),a.colorWrite!==void 0&&(S.colorWrite=a.colorWrite),a.stencilWrite!==void 0&&(S.stencilWrite=a.stencilWrite),a.stencilWriteMask!==void 0&&(S.stencilWriteMask=a.stencilWriteMask),a.stencilFunc!==void 0&&(S.stencilFunc=a.stencilFunc),a.stencilRef!==void 0&&(S.stencilRef=a.stencilRef),a.stencilFuncMask!==void 0&&(S.stencilFuncMask=a.stencilFuncMask),a.stencilFail!==void 0&&(S.stencilFail=a.stencilFail),a.stencilZFail!==void 0&&(S.stencilZFail=a.stencilZFail),a.stencilZPass!==void 0&&(S.stencilZPass=a.stencilZPass),a.wireframe!==void 0&&(S.wireframe=a.wireframe),a.wireframeLinewidth!==void 0&&(S.wireframeLinewidth=a.wireframeLinewidth),a.wireframeLinecap!==void 0&&(S.wireframeLinecap=a.wireframeLinecap),a.wireframeLinejoin!==void 0&&(S.wireframeLinejoin=a.wireframeLinejoin),a.rotation!==void 0&&(S.rotation=a.rotation),a.linewidth!==1&&(S.linewidth=a.linewidth),a.dashSize!==void 0&&(S.dashSize=a.dashSize),a.gapSize!==void 0&&(S.gapSize=a.gapSize),a.scale!==void 0&&(S.scale=a.scale),a.polygonOffset!==void 0&&(S.polygonOffset=a.polygonOffset),a.polygonOffsetFactor!==void 0&&(S.polygonOffsetFactor=a.polygonOffsetFactor),a.polygonOffsetUnits!==void 0&&(S.polygonOffsetUnits=a.polygonOffsetUnits),a.dithering!==void 0&&(S.dithering=a.dithering),a.alphaToCoverage!==void 0&&(S.alphaToCoverage=a.alphaToCoverage),a.premultipliedAlpha!==void 0&&(S.premultipliedAlpha=a.premultipliedAlpha),a.visible!==void 0&&(S.visible=a.visible),a.toneMapped!==void 0&&(S.toneMapped=a.toneMapped),a.userData!==void 0&&(S.userData=a.userData),a.vertexColors!==void 0&&(typeof a.vertexColors=="number"?S.vertexColors=a.vertexColors>0:S.vertexColors=a.vertexColors),a.uniforms!==void 0)for(const I in a.uniforms){const N=a.uniforms[I];switch(S.uniforms[I]={},N.type){case"t":S.uniforms[I].value=x(N.value);break;case"c":S.uniforms[I].value=new br().setHex(N.value);break;case"v2":S.uniforms[I].value=new In().fromArray(N.value);break;case"v3":S.uniforms[I].value=new dt().fromArray(N.value);break;case"v4":S.uniforms[I].value=new wi().fromArray(N.value);break;case"m3":S.uniforms[I].value=new da().fromArray(N.value);break;case"m4":S.uniforms[I].value=new wr().fromArray(N.value);break;default:S.uniforms[I].value=N.value}}if(a.defines!==void 0&&(S.defines=a.defines),a.vertexShader!==void 0&&(S.vertexShader=a.vertexShader),a.fragmentShader!==void 0&&(S.fragmentShader=a.fragmentShader),a.glslVersion!==void 0&&(S.glslVersion=a.glslVersion),a.extensions!==void 0)for(const I in a.extensions)S.extensions[I]=a.extensions[I];if(a.size!==void 0&&(S.size=a.size),a.sizeAttenuation!==void 0&&(S.sizeAttenuation=a.sizeAttenuation),a.map!==void 0&&(S.map=x(a.map)),a.matcap!==void 0&&(S.matcap=x(a.matcap)),a.alphaMap!==void 0&&(S.alphaMap=x(a.alphaMap)),a.bumpMap!==void 0&&(S.bumpMap=x(a.bumpMap)),a.bumpScale!==void 0&&(S.bumpScale=a.bumpScale),a.normalMap!==void 0&&(S.normalMap=x(a.normalMap)),a.normalMapType!==void 0&&(S.normalMapType=a.normalMapType),a.normalScale!==void 0){let I=a.normalScale;Array.isArray(I)===!1&&(I=[I,I]),S.normalScale=new In().fromArray(I)}return a.displacementMap!==void 0&&(S.displacementMap=x(a.displacementMap)),a.displacementScale!==void 0&&(S.displacementScale=a.displacementScale),a.displacementBias!==void 0&&(S.displacementBias=a.displacementBias),a.roughnessMap!==void 0&&(S.roughnessMap=x(a.roughnessMap)),a.metalnessMap!==void 0&&(S.metalnessMap=x(a.metalnessMap)),a.emissiveMap!==void 0&&(S.emissiveMap=x(a.emissiveMap)),a.emissiveIntensity!==void 0&&(S.emissiveIntensity=a.emissiveIntensity),a.specularMap!==void 0&&(S.specularMap=x(a.specularMap)),a.specularIntensityMap!==void 0&&(S.specularIntensityMap=x(a.specularIntensityMap)),a.specularColorMap!==void 0&&(S.specularColorMap=x(a.specularColorMap)),a.envMap!==void 0&&(S.envMap=x(a.envMap)),a.envMapIntensity!==void 0&&(S.envMapIntensity=a.envMapIntensity),a.reflectivity!==void 0&&(S.reflectivity=a.reflectivity),a.refractionRatio!==void 0&&(S.refractionRatio=a.refractionRatio),a.lightMap!==void 0&&(S.lightMap=x(a.lightMap)),a.lightMapIntensity!==void 0&&(S.lightMapIntensity=a.lightMapIntensity),a.aoMap!==void 0&&(S.aoMap=x(a.aoMap)),a.aoMapIntensity!==void 0&&(S.aoMapIntensity=a.aoMapIntensity),a.gradientMap!==void 0&&(S.gradientMap=x(a.gradientMap)),a.clearcoatMap!==void 0&&(S.clearcoatMap=x(a.clearcoatMap)),a.clearcoatRoughnessMap!==void 0&&(S.clearcoatRoughnessMap=x(a.clearcoatRoughnessMap)),a.clearcoatNormalMap!==void 0&&(S.clearcoatNormalMap=x(a.clearcoatNormalMap)),a.clearcoatNormalScale!==void 0&&(S.clearcoatNormalScale=new In().fromArray(a.clearcoatNormalScale)),a.iridescenceMap!==void 0&&(S.iridescenceMap=x(a.iridescenceMap)),a.iridescenceThicknessMap!==void 0&&(S.iridescenceThicknessMap=x(a.iridescenceThicknessMap)),a.transmissionMap!==void 0&&(S.transmissionMap=x(a.transmissionMap)),a.thicknessMap!==void 0&&(S.thicknessMap=x(a.thicknessMap)),a.sheenColorMap!==void 0&&(S.sheenColorMap=x(a.sheenColorMap)),a.sheenRoughnessMap!==void 0&&(S.sheenRoughnessMap=x(a.sheenRoughnessMap)),S}setTextures(a){return this.textures=a,this}static createMaterialFromType(a){const f={ShadowMaterial:rO,SpriteMaterial:iS,RawShaderMaterial:iO,ShaderMaterial:oc,PointsMaterial:lS,MeshPhysicalMaterial:oO,MeshStandardMaterial:CS,MeshPhongMaterial:aO,MeshToonMaterial:sO,MeshNormalMaterial:lO,MeshLambertMaterial:cO,MeshDepthMaterial:eS,MeshDistanceMaterial:tS,MeshBasicMaterial:Qu,MeshMatcapMaterial:uO,LineDashedMaterial:dO,LineBasicMaterial:Ua,Material:Ca};return new f[a]}}class BS{static decodeText(a){if(typeof TextDecoder<"u")return new TextDecoder().decode(a);let f="";for(let x=0,S=a.length;x<S;x++)f+=String.fromCharCode(a[x]);try{return decodeURIComponent(escape(f))}catch{return f}}static extractUrlBase(a){const f=a.lastIndexOf("/");return f===-1?"./":a.slice(0,f+1)}static resolveURL(a,f){return typeof a!="string"||a===""?"":(/^https?:\/\//i.test(f)&&/^\//.test(a)&&(f=f.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(a)||/^data:.*,.*$/i.test(a)||/^blob:.*$/i.test(a)?a:f+a)}}class MO extends ci{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(a){return super.copy(a),this.instanceCount=a.instanceCount,this}toJSON(){const a=super.toJSON();return a.instanceCount=this.instanceCount,a.isInstancedBufferGeometry=!0,a}}class TO extends ys{constructor(a){super(a)}load(a,f,x,S){const I=this,N=new Hc(I.manager);N.setPath(I.path),N.setRequestHeader(I.requestHeader),N.setWithCredentials(I.withCredentials),N.load(a,function(U){try{f(I.parse(JSON.parse(U)))}catch(W){S?S(W):console.error(W),I.manager.itemError(a)}},x,S)}parse(a){const f={},x={};function S(ie,de){if(f[de]!==void 0)return f[de];const ae=ie.interleavedBuffers[de],Re=I(ie,ae.buffer),$e=Hu(ae.type,Re),Ne=new Ny($e,ae.stride);return Ne.uuid=ae.uuid,f[de]=Ne,Ne}function I(ie,de){if(x[de]!==void 0)return x[de];const ae=ie.arrayBuffers[de],Re=new Uint32Array(ae).buffer;return x[de]=Re,Re}const N=a.isInstancedBufferGeometry?new MO:new ci,U=a.data.index;if(U!==void 0){const ie=Hu(U.type,U.array);N.setIndex(new Vi(ie,1))}const W=a.data.attributes;for(const ie in W){const de=W[ie];let le;if(de.isInterleavedBufferAttribute){const ae=S(a.data,de.data);le=new hf(ae,de.itemSize,de.offset,de.normalized)}else{const ae=Hu(de.type,de.array),Re=de.isInstancedBufferAttribute?ip:Vi;le=new Re(ae,de.itemSize,de.normalized)}de.name!==void 0&&(le.name=de.name),de.usage!==void 0&&le.setUsage(de.usage),de.updateRange!==void 0&&(le.updateRange.offset=de.updateRange.offset,le.updateRange.count=de.updateRange.count),N.setAttribute(ie,le)}const K=a.data.morphAttributes;if(K)for(const ie in K){const de=K[ie],le=[];for(let ae=0,Re=de.length;ae<Re;ae++){const $e=de[ae];let Ne;if($e.isInterleavedBufferAttribute){const ze=S(a.data,$e.data);Ne=new hf(ze,$e.itemSize,$e.offset,$e.normalized)}else{const ze=Hu($e.type,$e.array);Ne=new Vi(ze,$e.itemSize,$e.normalized)}$e.name!==void 0&&(Ne.name=$e.name),le.push(Ne)}N.morphAttributes[ie]=le}a.data.morphTargetsRelative&&(N.morphTargetsRelative=!0);const ee=a.data.groups||a.data.drawcalls||a.data.offsets;if(ee!==void 0)for(let ie=0,de=ee.length;ie!==de;++ie){const le=ee[ie];N.addGroup(le.start,le.count,le.materialIndex)}const te=a.data.boundingSphere;if(te!==void 0){const ie=new dt;te.center!==void 0&&ie.fromArray(te.center),N.boundingSphere=new gl(ie,te.radius)}return a.name&&(N.name=a.name),a.userData&&(N.userData=a.userData),N}}class Jq extends ys{constructor(a){super(a)}load(a,f,x,S){const I=this,N=this.path===""?BS.extractUrlBase(a):this.path;this.resourcePath=this.resourcePath||N;const U=new Hc(this.manager);U.setPath(this.path),U.setRequestHeader(this.requestHeader),U.setWithCredentials(this.withCredentials),U.load(a,function(W){let K=null;try{K=JSON.parse(W)}catch(ee){S!==void 0&&S(ee),console.error("THREE:ObjectLoader: Can't parse "+a+".",ee.message);return}const q=K.metadata;if(q===void 0||q.type===void 0||q.type.toLowerCase()==="geometry"){S!==void 0&&S(new Error("THREE.ObjectLoader: Can't load "+a)),console.error("THREE.ObjectLoader: Can't load "+a);return}I.parse(K,f)},x,S)}async loadAsync(a,f){const x=this,S=this.path===""?BS.extractUrlBase(a):this.path;this.resourcePath=this.resourcePath||S;const I=new Hc(this.manager);I.setPath(this.path),I.setRequestHeader(this.requestHeader),I.setWithCredentials(this.withCredentials);const N=await I.loadAsync(a,f),U=JSON.parse(N),W=U.metadata;if(W===void 0||W.type===void 0||W.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+a);return await x.parseAsync(U)}parse(a,f){const x=this.parseAnimations(a.animations),S=this.parseShapes(a.shapes),I=this.parseGeometries(a.geometries,S),N=this.parseImages(a.images,function(){f!==void 0&&f(K)}),U=this.parseTextures(a.textures,N),W=this.parseMaterials(a.materials,U),K=this.parseObject(a.object,I,W,U,x),q=this.parseSkeletons(a.skeletons,K);if(this.bindSkeletons(K,q),f!==void 0){let ee=!1;for(const te in N)if(N[te].data instanceof HTMLImageElement){ee=!0;break}ee===!1&&f(K)}return K}async parseAsync(a){const f=this.parseAnimations(a.animations),x=this.parseShapes(a.shapes),S=this.parseGeometries(a.geometries,x),I=await this.parseImagesAsync(a.images),N=this.parseTextures(a.textures,I),U=this.parseMaterials(a.materials,N),W=this.parseObject(a.object,S,U,N,f),K=this.parseSkeletons(a.skeletons,W);return this.bindSkeletons(W,K),W}parseShapes(a){const f={};if(a!==void 0)for(let x=0,S=a.length;x<S;x++){const I=new mf().fromJSON(a[x]);f[I.uuid]=I}return f}parseSkeletons(a,f){const x={},S={};if(f.traverse(function(I){I.isBone&&(S[I.uuid]=I)}),a!==void 0)for(let I=0,N=a.length;I<N;I++){const U=new Hy().fromJSON(a[I],S);x[U.uuid]=U}return x}parseGeometries(a,f){const x={};if(a!==void 0){const I=new TO;for(let N=0,U=a.length;N<U;N++){let W;const K=a[N];switch(K.type){case"BufferGeometry":case"InstancedBufferGeometry":W=I.parse(K);break;case"Geometry":if("THREE"in window&&"LegacyJSONLoader"in THREE){var S=new THREE.LegacyJSONLoader;W=S.parse(K,this.resourcePath).geometry}else console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:K.type in nO?W=nO[K.type].fromJSON(K,f):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${K.type}"`)}W.uuid=K.uuid,K.name!==void 0&&(W.name=K.name),W.isBufferGeometry===!0&&K.userData!==void 0&&(W.userData=K.userData),x[K.uuid]=W}}return x}parseMaterials(a,f){const x={},S={};if(a!==void 0){const I=new nb;I.setTextures(f);for(let N=0,U=a.length;N<U;N++){const W=a[N];x[W.uuid]===void 0&&(x[W.uuid]=I.parse(W)),S[W.uuid]=x[W.uuid]}}return S}parseAnimations(a){const f={};if(a!==void 0)for(let x=0;x<a.length;x++){const S=a[x],I=pv.parse(S);f[I.uuid]=I}return f}parseImages(a,f){const x=this,S={};let I;function N(W){return x.manager.itemStart(W),I.load(W,function(){x.manager.itemEnd(W)},void 0,function(){x.manager.itemError(W),x.manager.itemEnd(W)})}function U(W){if(typeof W=="string"){const K=W,q=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(K)?K:x.resourcePath+K;return N(q)}else return W.data?{data:Hu(W.type,W.data),width:W.width,height:W.height}:null}if(a!==void 0&&a.length>0){const W=new RS(f);I=new mv(W),I.setCrossOrigin(this.crossOrigin);for(let K=0,q=a.length;K<q;K++){const ee=a[K],te=ee.url;if(Array.isArray(te)){const ie=[];for(let de=0,le=te.length;de<le;de++){const ae=te[de],Re=U(ae);Re!==null&&(Re instanceof HTMLImageElement?ie.push(Re):ie.push(new rp(Re.data,Re.width,Re.height)))}S[ee.uuid]=new Bc(ie)}else{const ie=U(ee.url);S[ee.uuid]=new Bc(ie)}}}return S}async parseImagesAsync(a){const f=this,x={};let S;async function I(N){if(typeof N=="string"){const U=N,W=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(U)?U:f.resourcePath+U;return await S.loadAsync(W)}else return N.data?{data:Hu(N.type,N.data),width:N.width,height:N.height}:null}if(a!==void 0&&a.length>0){S=new mv(this.manager),S.setCrossOrigin(this.crossOrigin);for(let N=0,U=a.length;N<U;N++){const W=a[N],K=W.url;if(Array.isArray(K)){const q=[];for(let ee=0,te=K.length;ee<te;ee++){const ie=K[ee],de=await I(ie);de!==null&&(de instanceof HTMLImageElement?q.push(de):q.push(new rp(de.data,de.width,de.height)))}x[W.uuid]=new Bc(q)}else{const q=await I(W.url);x[W.uuid]=new Bc(q)}}}return x}parseTextures(a,f){function x(I,N){return typeof I=="number"?I:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",I),N[I])}const S={};if(a!==void 0)for(let I=0,N=a.length;I<N;I++){const U=a[I];U.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',U.uuid),f[U.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",U.image);const W=f[U.image],K=W.data;let q;Array.isArray(K)?(q=new Hg,K.length===6&&(q.needsUpdate=!0)):(K&&K.data?q=new rp:q=new fo,K&&(q.needsUpdate=!0)),q.source=W,q.uuid=U.uuid,U.name!==void 0&&(q.name=U.name),U.mapping!==void 0&&(q.mapping=x(U.mapping,Zq)),U.offset!==void 0&&q.offset.fromArray(U.offset),U.repeat!==void 0&&q.repeat.fromArray(U.repeat),U.center!==void 0&&q.center.fromArray(U.center),U.rotation!==void 0&&(q.rotation=U.rotation),U.wrap!==void 0&&(q.wrapS=x(U.wrap[0],RO),q.wrapT=x(U.wrap[1],RO)),U.format!==void 0&&(q.format=U.format),U.type!==void 0&&(q.type=U.type),U.encoding!==void 0&&(q.encoding=U.encoding),U.minFilter!==void 0&&(q.minFilter=x(U.minFilter,IO)),U.magFilter!==void 0&&(q.magFilter=x(U.magFilter,IO)),U.anisotropy!==void 0&&(q.anisotropy=U.anisotropy),U.flipY!==void 0&&(q.flipY=U.flipY),U.premultiplyAlpha!==void 0&&(q.premultiplyAlpha=U.premultiplyAlpha),U.unpackAlignment!==void 0&&(q.unpackAlignment=U.unpackAlignment),U.userData!==void 0&&(q.userData=U.userData),S[U.uuid]=q}return S}parseObject(a,f,x,S,I){let N;function U(te){return f[te]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",te),f[te]}function W(te){if(te!==void 0){if(Array.isArray(te)){const ie=[];for(let de=0,le=te.length;de<le;de++){const ae=te[de];x[ae]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",ae),ie.push(x[ae])}return ie}return x[te]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",te),x[te]}}function K(te){return S[te]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",te),S[te]}let q,ee;switch(a.type){case"Scene":N=new gB,a.background!==void 0&&(Number.isInteger(a.background)?N.background=new br(a.background):N.background=K(a.background)),a.environment!==void 0&&(N.environment=K(a.environment)),a.fog!==void 0&&(a.fog.type==="Fog"?N.fog=new Dy(a.fog.color,a.fog.near,a.fog.far):a.fog.type==="FogExp2"&&(N.fog=new Oy(a.fog.color,a.fog.density))),a.backgroundBlurriness!==void 0&&(N.backgroundBlurriness=a.backgroundBlurriness);break;case"PerspectiveCamera":N=new Uo(a.fov,a.aspect,a.near,a.far),a.focus!==void 0&&(N.focus=a.focus),a.zoom!==void 0&&(N.zoom=a.zoom),a.filmGauge!==void 0&&(N.filmGauge=a.filmGauge),a.filmOffset!==void 0&&(N.filmOffset=a.filmOffset),a.view!==void 0&&(N.view=Object.assign({},a.view));break;case"OrthographicCamera":N=new Iy(a.left,a.right,a.top,a.bottom,a.near,a.far),a.zoom!==void 0&&(N.zoom=a.zoom),a.view!==void 0&&(N.view=Object.assign({},a.view));break;case"AmbientLight":N=new wO(a.color,a.intensity);break;case"DirectionalLight":N=new CO(a.color,a.intensity);break;case"PointLight":N=new EO(a.color,a.intensity,a.distance,a.decay);break;case"RectAreaLight":N=new SO(a.color,a.intensity,a.width,a.height);break;case"SpotLight":N=new bO(a.color,a.intensity,a.distance,a.angle,a.penumbra,a.decay);break;case"HemisphereLight":N=new vO(a.color,a.groundColor,a.intensity);break;case"LightProbe":N=new tb().fromJSON(a);break;case"SkinnedMesh":q=U(a.geometry),ee=W(a.material),N=new MB(q,ee),a.bindMode!==void 0&&(N.bindMode=a.bindMode),a.bindMatrix!==void 0&&N.bindMatrix.fromArray(a.bindMatrix),a.skeleton!==void 0&&(N.skeleton=a.skeleton);break;case"Mesh":q=U(a.geometry),ee=W(a.material),N=new pa(q,ee);break;case"InstancedMesh":q=U(a.geometry),ee=W(a.material);const te=a.count,ie=a.instanceMatrix,de=a.instanceColor;N=new LB(q,ee,te),N.instanceMatrix=new ip(new Float32Array(ie.array),16),de!==void 0&&(N.instanceColor=new ip(new Float32Array(de.array),de.itemSize));break;case"LOD":N=new EB;break;case"Line":N=new Zu(U(a.geometry),W(a.material));break;case"LineLoop":N=new kB(U(a.geometry),W(a.material));break;case"LineSegments":N=new ac(U(a.geometry),W(a.material));break;case"PointCloud":case"Points":N=new UB(U(a.geometry),W(a.material));break;case"Sprite":N=new bB(W(a.material));break;case"Group":N=new ff;break;case"Bone":N=new aS;break;default:N=new yi}if(N.uuid=a.uuid,a.name!==void 0&&(N.name=a.name),a.matrix!==void 0?(N.matrix.fromArray(a.matrix),a.matrixAutoUpdate!==void 0&&(N.matrixAutoUpdate=a.matrixAutoUpdate),N.matrixAutoUpdate&&N.matrix.decompose(N.position,N.quaternion,N.scale)):(a.position!==void 0&&N.position.fromArray(a.position),a.rotation!==void 0&&N.rotation.fromArray(a.rotation),a.quaternion!==void 0&&N.quaternion.fromArray(a.quaternion),a.scale!==void 0&&N.scale.fromArray(a.scale)),a.castShadow!==void 0&&(N.castShadow=a.castShadow),a.receiveShadow!==void 0&&(N.receiveShadow=a.receiveShadow),a.shadow&&(a.shadow.bias!==void 0&&(N.shadow.bias=a.shadow.bias),a.shadow.normalBias!==void 0&&(N.shadow.normalBias=a.shadow.normalBias),a.shadow.radius!==void 0&&(N.shadow.radius=a.shadow.radius),a.shadow.mapSize!==void 0&&N.shadow.mapSize.fromArray(a.shadow.mapSize),a.shadow.camera!==void 0&&(N.shadow.camera=this.parseObject(a.shadow.camera))),a.visible!==void 0&&(N.visible=a.visible),a.frustumCulled!==void 0&&(N.frustumCulled=a.frustumCulled),a.renderOrder!==void 0&&(N.renderOrder=a.renderOrder),a.userData!==void 0&&(N.userData=a.userData),a.layers!==void 0&&(N.layers.mask=a.layers),a.children!==void 0){const te=a.children;for(let ie=0;ie<te.length;ie++)N.add(this.parseObject(te[ie],f,x,S,I))}if(a.animations!==void 0){const te=a.animations;for(let ie=0;ie<te.length;ie++){const de=te[ie];N.animations.push(I[de])}}if(a.type==="LOD"){a.autoUpdate!==void 0&&(N.autoUpdate=a.autoUpdate);const te=a.levels;for(let ie=0;ie<te.length;ie++){const de=te[ie],le=N.getObjectByProperty("uuid",de.object);le!==void 0&&N.addLevel(le,de.distance,de.hysteresis)}}return N}bindSkeletons(a,f){Object.keys(f).length!==0&&a.traverse(function(x){if(x.isSkinnedMesh===!0&&x.skeleton!==void 0){const S=f[x.skeleton];S===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",x.skeleton):x.bind(S,x.bindMatrix)}})}}const Zq={UVMapping:me,CubeReflectionMapping:Te,CubeRefractionMapping:Ce,EquirectangularReflectionMapping:Se,EquirectangularRefractionMapping:we,CubeUVReflectionMapping:Ge},RO={RepeatWrapping:Ae,ClampToEdgeWrapping:Ue,MirroredRepeatWrapping:et},IO={NearestFilter:ce,NearestMipmapNearestFilter:Y,NearestMipmapLinearFilter:Le,LinearFilter:ve,LinearMipmapNearestFilter:he,LinearMipmapLinearFilter:Je};class eY extends ys{constructor(a){super(a),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(a){return this.options=a,this}load(a,f,x,S){a===void 0&&(a=""),this.path!==void 0&&(a=this.path+a),a=this.manager.resolveURL(a);const I=this,N=bf.get(a);if(N!==void 0)return I.manager.itemStart(a),setTimeout(function(){f&&f(N),I.manager.itemEnd(a)},0),N;const U={};U.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",U.headers=this.requestHeader,fetch(a,U).then(function(W){return W.blob()}).then(function(W){return createImageBitmap(W,Object.assign(I.options,{colorSpaceConversion:"none"}))}).then(function(W){bf.add(a,W),f&&f(W),I.manager.itemEnd(a)}).catch(function(W){S&&S(W),I.manager.itemError(a),I.manager.itemEnd(a)}),I.manager.itemStart(a)}}let rb;class OS{static getContext(){return rb===void 0&&(rb=new(window.AudioContext||window.webkitAudioContext)),rb}static setContext(a){rb=a}}class tY extends ys{constructor(a){super(a)}load(a,f,x,S){const I=this,N=new Hc(this.manager);N.setResponseType("arraybuffer"),N.setPath(this.path),N.setRequestHeader(this.requestHeader),N.setWithCredentials(this.withCredentials),N.load(a,function(U){try{const W=U.slice(0);OS.getContext().decodeAudioData(W,function(q){f(q)})}catch(W){S?S(W):console.error(W),I.manager.itemError(a)}},x,S)}}class nY extends tb{constructor(a,f,x=1){super(void 0,x),this.isHemisphereLightProbe=!0;const S=new br().set(a),I=new br().set(f),N=new dt(S.r,S.g,S.b),U=new dt(I.r,I.g,I.b),W=Math.sqrt(Math.PI),K=W*Math.sqrt(.75);this.sh.coefficients[0].copy(N).add(U).multiplyScalar(W),this.sh.coefficients[1].copy(N).sub(U).multiplyScalar(K)}}class rY extends tb{constructor(a,f=1){super(void 0,f),this.isAmbientLightProbe=!0;const x=new br().set(a);this.sh.coefficients[0].set(x.r,x.g,x.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const LO=new wr,PO=new wr,xf=new wr;class iY{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Uo,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Uo,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(a){const f=this._cache;if(f.focus!==a.focus||f.fov!==a.fov||f.aspect!==a.aspect*this.aspect||f.near!==a.near||f.far!==a.far||f.zoom!==a.zoom||f.eyeSep!==this.eyeSep){f.focus=a.focus,f.fov=a.fov,f.aspect=a.aspect*this.aspect,f.near=a.near,f.far=a.far,f.zoom=a.zoom,f.eyeSep=this.eyeSep,xf.copy(a.projectionMatrix);const S=f.eyeSep/2,I=S*f.near/f.focus,N=f.near*Math.tan(Lc*f.fov*.5)/f.zoom;let U,W;PO.elements[12]=-S,LO.elements[12]=S,U=-N*f.aspect+I,W=N*f.aspect+I,xf.elements[0]=2*f.near/(W-U),xf.elements[8]=(W+U)/(W-U),this.cameraL.projectionMatrix.copy(xf),U=-N*f.aspect-I,W=N*f.aspect-I,xf.elements[0]=2*f.near/(W-U),xf.elements[8]=(W+U)/(W-U),this.cameraR.projectionMatrix.copy(xf)}this.cameraL.matrixWorld.copy(a.matrixWorld).multiply(PO),this.cameraR.matrixWorld.copy(a.matrixWorld).multiply(LO)}}class BO{constructor(a=!0){this.autoStart=a,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=OO(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let a=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const f=OO();a=(f-this.oldTime)/1e3,this.oldTime=f,this.elapsedTime+=a}return a}}function OO(){return(typeof performance>"u"?Date:performance).now()}const Ef=new dt,DO=new fa,oY=new dt,Cf=new dt;class aY extends yi{constructor(){super(),this.type="AudioListener",this.context=OS.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new BO}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(a){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=a,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(a){return this.gain.gain.setTargetAtTime(a,this.context.currentTime,.01),this}updateMatrixWorld(a){super.updateMatrixWorld(a);const f=this.context.listener,x=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Ef,DO,oY),Cf.set(0,0,-1).applyQuaternion(DO),f.positionX){const S=this.context.currentTime+this.timeDelta;f.positionX.linearRampToValueAtTime(Ef.x,S),f.positionY.linearRampToValueAtTime(Ef.y,S),f.positionZ.linearRampToValueAtTime(Ef.z,S),f.forwardX.linearRampToValueAtTime(Cf.x,S),f.forwardY.linearRampToValueAtTime(Cf.y,S),f.forwardZ.linearRampToValueAtTime(Cf.z,S),f.upX.linearRampToValueAtTime(x.x,S),f.upY.linearRampToValueAtTime(x.y,S),f.upZ.linearRampToValueAtTime(x.z,S)}else f.setPosition(Ef.x,Ef.y,Ef.z),f.setOrientation(Cf.x,Cf.y,Cf.z,x.x,x.y,x.z)}}class NO extends yi{constructor(a){super(),this.type="Audio",this.listener=a,this.context=a.context,this.gain=this.context.createGain(),this.gain.connect(a.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(a){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=a,this.connect(),this}setMediaElementSource(a){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(a),this.connect(),this}setMediaStreamSource(a){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(a),this.connect(),this}setBuffer(a){return this.buffer=a,this.sourceType="buffer",this.autoplay&&this.play(),this}play(a=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+a;const f=this.context.createBufferSource();return f.buffer=this.buffer,f.loop=this.loop,f.loopStart=this.loopStart,f.loopEnd=this.loopEnd,f.onended=this.onEnded.bind(this),f.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=f,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let a=1,f=this.filters.length;a<f;a++)this.filters[a-1].connect(this.filters[a]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let a=1,f=this.filters.length;a<f;a++)this.filters[a-1].disconnect(this.filters[a]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(a){return a||(a=[]),this._connected===!0?(this.disconnect(),this.filters=a.slice(),this.connect()):this.filters=a.slice(),this}setDetune(a){if(this.detune=a,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(a){return this.setFilters(a?[a]:[])}setPlaybackRate(a){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=a,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(a){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=a,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(a){return this.loopStart=a,this}setLoopEnd(a){return this.loopEnd=a,this}getVolume(){return this.gain.gain.value}setVolume(a){return this.gain.gain.setTargetAtTime(a,this.context.currentTime,.01),this}}const wf=new dt,kO=new fa,sY=new dt,Sf=new dt;class lY extends NO{constructor(a){super(a),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(a){return this.panner.refDistance=a,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(a){return this.panner.rolloffFactor=a,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(a){return this.panner.distanceModel=a,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(a){return this.panner.maxDistance=a,this}setDirectionalCone(a,f,x){return this.panner.coneInnerAngle=a,this.panner.coneOuterAngle=f,this.panner.coneOuterGain=x,this}updateMatrixWorld(a){if(super.updateMatrixWorld(a),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(wf,kO,sY),Sf.set(0,0,1).applyQuaternion(kO);const f=this.panner;if(f.positionX){const x=this.context.currentTime+this.listener.timeDelta;f.positionX.linearRampToValueAtTime(wf.x,x),f.positionY.linearRampToValueAtTime(wf.y,x),f.positionZ.linearRampToValueAtTime(wf.z,x),f.orientationX.linearRampToValueAtTime(Sf.x,x),f.orientationY.linearRampToValueAtTime(Sf.y,x),f.orientationZ.linearRampToValueAtTime(Sf.z,x)}else f.setPosition(wf.x,wf.y,wf.z),f.setOrientation(Sf.x,Sf.y,Sf.z)}}class cY{constructor(a,f=2048){this.analyser=a.context.createAnalyser(),this.analyser.fftSize=f,this.data=new Uint8Array(this.analyser.frequencyBinCount),a.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let a=0;const f=this.getFrequencyData();for(let x=0;x<f.length;x++)a+=f[x];return a/f.length}}class FO{constructor(a,f,x){this.binding=a,this.valueSize=x;let S,I,N;switch(f){case"quaternion":S=this._slerp,I=this._slerpAdditive,N=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(x*6),this._workIndex=5;break;case"string":case"bool":S=this._select,I=this._select,N=this._setAdditiveIdentityOther,this.buffer=new Array(x*5);break;default:S=this._lerp,I=this._lerpAdditive,N=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(x*5)}this._mixBufferRegion=S,this._mixBufferRegionAdditive=I,this._setIdentity=N,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(a,f){const x=this.buffer,S=this.valueSize,I=a*S+S;let N=this.cumulativeWeight;if(N===0){for(let U=0;U!==S;++U)x[I+U]=x[U];N=f}else{N+=f;const U=f/N;this._mixBufferRegion(x,I,0,U,S)}this.cumulativeWeight=N}accumulateAdditive(a){const f=this.buffer,x=this.valueSize,S=x*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(f,S,0,a,x),this.cumulativeWeightAdditive+=a}apply(a){const f=this.valueSize,x=this.buffer,S=a*f+f,I=this.cumulativeWeight,N=this.cumulativeWeightAdditive,U=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,I<1){const W=f*this._origIndex;this._mixBufferRegion(x,S,W,1-I,f)}N>0&&this._mixBufferRegionAdditive(x,S,this._addIndex*f,1,f);for(let W=f,K=f+f;W!==K;++W)if(x[W]!==x[W+f]){U.setValue(x,S);break}}saveOriginalState(){const a=this.binding,f=this.buffer,x=this.valueSize,S=x*this._origIndex;a.getValue(f,S);for(let I=x,N=S;I!==N;++I)f[I]=f[S+I%x];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const a=this.valueSize*3;this.binding.setValue(this.buffer,a)}_setAdditiveIdentityNumeric(){const a=this._addIndex*this.valueSize,f=a+this.valueSize;for(let x=a;x<f;x++)this.buffer[x]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const a=this._origIndex*this.valueSize,f=this._addIndex*this.valueSize;for(let x=0;x<this.valueSize;x++)this.buffer[f+x]=this.buffer[a+x]}_select(a,f,x,S,I){if(S>=.5)for(let N=0;N!==I;++N)a[f+N]=a[x+N]}_slerp(a,f,x,S){fa.slerpFlat(a,f,a,f,a,x,S)}_slerpAdditive(a,f,x,S,I){const N=this._workIndex*I;fa.multiplyQuaternionsFlat(a,N,a,f,a,x),fa.slerpFlat(a,f,a,f,a,N,S)}_lerp(a,f,x,S,I){const N=1-S;for(let U=0;U!==I;++U){const W=f+U;a[W]=a[W]*N+a[x+U]*S}}_lerpAdditive(a,f,x,S,I){for(let N=0;N!==I;++N){const U=f+N;a[U]=a[U]+a[x+N]*S}}}const DS="\\[\\]\\.:\\/",uY=new RegExp("["+DS+"]","g"),NS="[^"+DS+"]",dY="[^"+DS.replace("\\.","")+"]",fY=/((?:WC+[\/:])*)/.source.replace("WC",NS),hY=/(WCOD+)?/.source.replace("WCOD",dY),pY=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",NS),mY=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",NS),gY=new RegExp("^"+fY+hY+pY+mY+"$"),vY=["material","materials","bones","map"];class AY{constructor(a,f,x){const S=x||Mi.parseTrackName(f);this._targetGroup=a,this._bindings=a.subscribe_(f,S)}getValue(a,f){this.bind();const x=this._targetGroup.nCachedObjects_,S=this._bindings[x];S!==void 0&&S.getValue(a,f)}setValue(a,f){const x=this._bindings;for(let S=this._targetGroup.nCachedObjects_,I=x.length;S!==I;++S)x[S].setValue(a,f)}bind(){const a=this._bindings;for(let f=this._targetGroup.nCachedObjects_,x=a.length;f!==x;++f)a[f].bind()}unbind(){const a=this._bindings;for(let f=this._targetGroup.nCachedObjects_,x=a.length;f!==x;++f)a[f].unbind()}}class Mi{constructor(a,f,x){this.path=f,this.parsedPath=x||Mi.parseTrackName(f),this.node=Mi.findNode(a,this.parsedPath.nodeName)||a,this.rootNode=a,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(a,f,x){return a&&a.isAnimationObjectGroup?new Mi.Composite(a,f,x):new Mi(a,f,x)}static sanitizeNodeName(a){return a.replace(/\s/g,"_").replace(uY,"")}static parseTrackName(a){const f=gY.exec(a);if(f===null)throw new Error("PropertyBinding: Cannot parse trackName: "+a);const x={nodeName:f[2],objectName:f[3],objectIndex:f[4],propertyName:f[5],propertyIndex:f[6]},S=x.nodeName&&x.nodeName.lastIndexOf(".");if(S!==void 0&&S!==-1){const I=x.nodeName.substring(S+1);vY.indexOf(I)!==-1&&(x.nodeName=x.nodeName.substring(0,S),x.objectName=I)}if(x.propertyName===null||x.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+a);return x}static findNode(a,f){if(f===void 0||f===""||f==="."||f===-1||f===a.name||f===a.uuid)return a;if(a.skeleton){const x=a.skeleton.getBoneByName(f);if(x!==void 0)return x}if(a.children){const x=function(I){for(let N=0;N<I.length;N++){const U=I[N];if(U.name===f||U.uuid===f)return U;const W=x(U.children);if(W)return W}return null},S=x(a.children);if(S)return S}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(a,f){a[f]=this.targetObject[this.propertyName]}_getValue_array(a,f){const x=this.resolvedProperty;for(let S=0,I=x.length;S!==I;++S)a[f++]=x[S]}_getValue_arrayElement(a,f){a[f]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(a,f){this.resolvedProperty.toArray(a,f)}_setValue_direct(a,f){this.targetObject[this.propertyName]=a[f]}_setValue_direct_setNeedsUpdate(a,f){this.targetObject[this.propertyName]=a[f],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(a,f){this.targetObject[this.propertyName]=a[f],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(a,f){const x=this.resolvedProperty;for(let S=0,I=x.length;S!==I;++S)x[S]=a[f++]}_setValue_array_setNeedsUpdate(a,f){const x=this.resolvedProperty;for(let S=0,I=x.length;S!==I;++S)x[S]=a[f++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(a,f){const x=this.resolvedProperty;for(let S=0,I=x.length;S!==I;++S)x[S]=a[f++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(a,f){this.resolvedProperty[this.propertyIndex]=a[f]}_setValue_arrayElement_setNeedsUpdate(a,f){this.resolvedProperty[this.propertyIndex]=a[f],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(a,f){this.resolvedProperty[this.propertyIndex]=a[f],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(a,f){this.resolvedProperty.fromArray(a,f)}_setValue_fromArray_setNeedsUpdate(a,f){this.resolvedProperty.fromArray(a,f),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(a,f){this.resolvedProperty.fromArray(a,f),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(a,f){this.bind(),this.getValue(a,f)}_setValue_unbound(a,f){this.bind(),this.setValue(a,f)}bind(){let a=this.node;const f=this.parsedPath,x=f.objectName,S=f.propertyName;let I=f.propertyIndex;if(a||(a=Mi.findNode(this.rootNode,f.nodeName)||this.rootNode,this.node=a),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!a){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(x){let K=f.objectIndex;switch(x){case"materials":if(!a.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!a.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}a=a.material.materials;break;case"bones":if(!a.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}a=a.skeleton.bones;for(let q=0;q<a.length;q++)if(a[q].name===K){K=q;break}break;case"map":if("map"in a){a=a.map;break}if(!a.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!a.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}a=a.material.map;break;default:if(a[x]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}a=a[x]}if(K!==void 0){if(a[K]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,a);return}a=a[K]}}const N=a[S];if(N===void 0){const K=f.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+K+"."+S+" but it wasn't found.",a);return}let U=this.Versioning.None;this.targetObject=a,a.needsUpdate!==void 0?U=this.Versioning.NeedsUpdate:a.matrixWorldNeedsUpdate!==void 0&&(U=this.Versioning.MatrixWorldNeedsUpdate);let W=this.BindingType.Direct;if(I!==void 0){if(S==="morphTargetInfluences"){if(!a.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!a.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}a.morphTargetDictionary[I]!==void 0&&(I=a.morphTargetDictionary[I])}W=this.BindingType.ArrayElement,this.resolvedProperty=N,this.propertyIndex=I}else N.fromArray!==void 0&&N.toArray!==void 0?(W=this.BindingType.HasFromToArray,this.resolvedProperty=N):Array.isArray(N)?(W=this.BindingType.EntireArray,this.resolvedProperty=N):this.propertyName=S;this.getValue=this.GetterByBindingType[W],this.setValue=this.SetterByBindingTypeAndVersioning[W][U]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Mi.Composite=AY,Mi.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Mi.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Mi.prototype.GetterByBindingType=[Mi.prototype._getValue_direct,Mi.prototype._getValue_array,Mi.prototype._getValue_arrayElement,Mi.prototype._getValue_toArray],Mi.prototype.SetterByBindingTypeAndVersioning=[[Mi.prototype._setValue_direct,Mi.prototype._setValue_direct_setNeedsUpdate,Mi.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Mi.prototype._setValue_array,Mi.prototype._setValue_array_setNeedsUpdate,Mi.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Mi.prototype._setValue_arrayElement,Mi.prototype._setValue_arrayElement_setNeedsUpdate,Mi.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Mi.prototype._setValue_fromArray,Mi.prototype._setValue_fromArray_setNeedsUpdate,Mi.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class yY{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Da(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const a={};this._indicesByUUID=a;for(let x=0,S=arguments.length;x!==S;++x)a[arguments[x].uuid]=x;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const f=this;this.stats={objects:{get total(){return f._objects.length},get inUse(){return this.total-f.nCachedObjects_}},get bindingsPerObject(){return f._bindings.length}}}add(){const a=this._objects,f=this._indicesByUUID,x=this._paths,S=this._parsedPaths,I=this._bindings,N=I.length;let U,W=a.length,K=this.nCachedObjects_;for(let q=0,ee=arguments.length;q!==ee;++q){const te=arguments[q],ie=te.uuid;let de=f[ie];if(de===void 0){de=W++,f[ie]=de,a.push(te);for(let le=0,ae=N;le!==ae;++le)I[le].push(new Mi(te,x[le],S[le]))}else if(de<K){U=a[de];const le=--K,ae=a[le];f[ae.uuid]=de,a[de]=ae,f[ie]=le,a[le]=te;for(let Re=0,$e=N;Re!==$e;++Re){const Ne=I[Re],ze=Ne[le];let Ke=Ne[de];Ne[de]=ze,Ke===void 0&&(Ke=new Mi(te,x[Re],S[Re])),Ne[le]=Ke}}else a[de]!==U&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=K}remove(){const a=this._objects,f=this._indicesByUUID,x=this._bindings,S=x.length;let I=this.nCachedObjects_;for(let N=0,U=arguments.length;N!==U;++N){const W=arguments[N],K=W.uuid,q=f[K];if(q!==void 0&&q>=I){const ee=I++,te=a[ee];f[te.uuid]=q,a[q]=te,f[K]=ee,a[ee]=W;for(let ie=0,de=S;ie!==de;++ie){const le=x[ie],ae=le[ee],Re=le[q];le[q]=ae,le[ee]=Re}}}this.nCachedObjects_=I}uncache(){const a=this._objects,f=this._indicesByUUID,x=this._bindings,S=x.length;let I=this.nCachedObjects_,N=a.length;for(let U=0,W=arguments.length;U!==W;++U){const K=arguments[U],q=K.uuid,ee=f[q];if(ee!==void 0)if(delete f[q],ee<I){const te=--I,ie=a[te],de=--N,le=a[de];f[ie.uuid]=ee,a[ee]=ie,f[le.uuid]=te,a[te]=le,a.pop();for(let ae=0,Re=S;ae!==Re;++ae){const $e=x[ae],Ne=$e[te],ze=$e[de];$e[ee]=Ne,$e[te]=ze,$e.pop()}}else{const te=--N,ie=a[te];te>0&&(f[ie.uuid]=ee),a[ee]=ie,a.pop();for(let de=0,le=S;de!==le;++de){const ae=x[de];ae[ee]=ae[te],ae.pop()}}}this.nCachedObjects_=I}subscribe_(a,f){const x=this._bindingsIndicesByPath;let S=x[a];const I=this._bindings;if(S!==void 0)return I[S];const N=this._paths,U=this._parsedPaths,W=this._objects,K=W.length,q=this.nCachedObjects_,ee=new Array(K);S=I.length,x[a]=S,N.push(a),U.push(f),I.push(ee);for(let te=q,ie=W.length;te!==ie;++te){const de=W[te];ee[te]=new Mi(de,a,f)}return ee}unsubscribe_(a){const f=this._bindingsIndicesByPath,x=f[a];if(x!==void 0){const S=this._paths,I=this._parsedPaths,N=this._bindings,U=N.length-1,W=N[U],K=a[U];f[K]=x,N[x]=W,N.pop(),I[x]=I[U],I.pop(),S[x]=S[U],S.pop()}}}class bY{constructor(a,f,x=null,S=f.blendMode){this._mixer=a,this._clip=f,this._localRoot=x,this.blendMode=S;const I=f.tracks,N=I.length,U=new Array(N),W={endingStart:Pe,endingEnd:Pe};for(let K=0;K!==N;++K){const q=I[K].createInterpolant(null);U[K]=q,q.settings=W}this._interpolantSettings=W,this._interpolants=U,this._propertyBindings=new Array(N),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=bt,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(a){return this._startTime=a,this}setLoop(a,f){return this.loop=a,this.repetitions=f,this}setEffectiveWeight(a){return this.weight=a,this._effectiveWeight=this.enabled?a:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(a){return this._scheduleFading(a,0,1)}fadeOut(a){return this._scheduleFading(a,1,0)}crossFadeFrom(a,f,x){if(a.fadeOut(f),this.fadeIn(f),x){const S=this._clip.duration,I=a._clip.duration,N=I/S,U=S/I;a.warp(1,N,f),this.warp(U,1,f)}return this}crossFadeTo(a,f,x){return a.crossFadeFrom(this,f,x)}stopFading(){const a=this._weightInterpolant;return a!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(a)),this}setEffectiveTimeScale(a){return this.timeScale=a,this._effectiveTimeScale=this.paused?0:a,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(a){return this.timeScale=this._clip.duration/a,this.stopWarping()}syncWith(a){return this.time=a.time,this.timeScale=a.timeScale,this.stopWarping()}halt(a){return this.warp(this._effectiveTimeScale,0,a)}warp(a,f,x){const S=this._mixer,I=S.time,N=this.timeScale;let U=this._timeScaleInterpolant;U===null&&(U=S._lendControlInterpolant(),this._timeScaleInterpolant=U);const W=U.parameterPositions,K=U.sampleValues;return W[0]=I,W[1]=I+x,K[0]=a/N,K[1]=f/N,this}stopWarping(){const a=this._timeScaleInterpolant;return a!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(a)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(a,f,x,S){if(!this.enabled){this._updateWeight(a);return}const I=this._startTime;if(I!==null){const W=(a-I)*x;W<0||x===0?f=0:(this._startTime=null,f=x*W)}f*=this._updateTimeScale(a);const N=this._updateTime(f),U=this._updateWeight(a);if(U>0){const W=this._interpolants,K=this._propertyBindings;switch(this.blendMode){case dn:for(let q=0,ee=W.length;q!==ee;++q)W[q].evaluate(N),K[q].accumulateAdditive(U);break;case Zt:default:for(let q=0,ee=W.length;q!==ee;++q)W[q].evaluate(N),K[q].accumulate(S,U)}}}_updateWeight(a){let f=0;if(this.enabled){f=this.weight;const x=this._weightInterpolant;if(x!==null){const S=x.evaluate(a)[0];f*=S,a>x.parameterPositions[1]&&(this.stopFading(),S===0&&(this.enabled=!1))}}return this._effectiveWeight=f,f}_updateTimeScale(a){let f=0;if(!this.paused){f=this.timeScale;const x=this._timeScaleInterpolant;if(x!==null){const S=x.evaluate(a)[0];f*=S,a>x.parameterPositions[1]&&(this.stopWarping(),f===0?this.paused=!0:this.timeScale=f)}}return this._effectiveTimeScale=f,f}_updateTime(a){const f=this._clip.duration,x=this.loop;let S=this.time+a,I=this._loopCount;const N=x===pe;if(a===0)return I===-1?S:N&&(I&1)===1?f-S:S;if(x===at){I===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(S>=f)S=f;else if(S<0)S=0;else{this.time=S;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=S,this._mixer.dispatchEvent({type:"finished",action:this,direction:a<0?-1:1})}}else{if(I===-1&&(a>=0?(I=0,this._setEndings(!0,this.repetitions===0,N)):this._setEndings(this.repetitions===0,!0,N)),S>=f||S<0){const U=Math.floor(S/f);S-=f*U,I+=Math.abs(U);const W=this.repetitions-I;if(W<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,S=a>0?f:0,this.time=S,this._mixer.dispatchEvent({type:"finished",action:this,direction:a>0?1:-1});else{if(W===1){const K=a<0;this._setEndings(K,!K,N)}else this._setEndings(!1,!1,N);this._loopCount=I,this.time=S,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:U})}}else this.time=S;if(N&&(I&1)===1)return f-S}return S}_setEndings(a,f,x){const S=this._interpolantSettings;x?(S.endingStart=yt,S.endingEnd=yt):(a?S.endingStart=this.zeroSlopeAtStart?yt:Pe:S.endingStart=Ft,f?S.endingEnd=this.zeroSlopeAtEnd?yt:Pe:S.endingEnd=Ft)}_scheduleFading(a,f,x){const S=this._mixer,I=S.time;let N=this._weightInterpolant;N===null&&(N=S._lendControlInterpolant(),this._weightInterpolant=N);const U=N.parameterPositions,W=N.sampleValues;return U[0]=I,W[0]=f,U[1]=I+a,W[1]=x,this}}const xY=new Float32Array(1);class EY extends Oa{constructor(a){super(),this._root=a,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(a,f){const x=a._localRoot||this._root,S=a._clip.tracks,I=S.length,N=a._propertyBindings,U=a._interpolants,W=x.uuid,K=this._bindingsByRootAndName;let q=K[W];q===void 0&&(q={},K[W]=q);for(let ee=0;ee!==I;++ee){const te=S[ee],ie=te.name;let de=q[ie];if(de!==void 0)++de.referenceCount,N[ee]=de;else{if(de=N[ee],de!==void 0){de._cacheIndex===null&&(++de.referenceCount,this._addInactiveBinding(de,W,ie));continue}const le=f&&f._propertyBindings[ee].binding.parsedPath;de=new FO(Mi.create(x,ie,le),te.ValueTypeName,te.getValueSize()),++de.referenceCount,this._addInactiveBinding(de,W,ie),N[ee]=de}U[ee].resultBuffer=de.buffer}}_activateAction(a){if(!this._isActiveAction(a)){if(a._cacheIndex===null){const x=(a._localRoot||this._root).uuid,S=a._clip.uuid,I=this._actionsByClip[S];this._bindAction(a,I&&I.knownActions[0]),this._addInactiveAction(a,S,x)}const f=a._propertyBindings;for(let x=0,S=f.length;x!==S;++x){const I=f[x];I.useCount++===0&&(this._lendBinding(I),I.saveOriginalState())}this._lendAction(a)}}_deactivateAction(a){if(this._isActiveAction(a)){const f=a._propertyBindings;for(let x=0,S=f.length;x!==S;++x){const I=f[x];--I.useCount===0&&(I.restoreOriginalState(),this._takeBackBinding(I))}this._takeBackAction(a)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const a=this;this.stats={actions:{get total(){return a._actions.length},get inUse(){return a._nActiveActions}},bindings:{get total(){return a._bindings.length},get inUse(){return a._nActiveBindings}},controlInterpolants:{get total(){return a._controlInterpolants.length},get inUse(){return a._nActiveControlInterpolants}}}}_isActiveAction(a){const f=a._cacheIndex;return f!==null&&f<this._nActiveActions}_addInactiveAction(a,f,x){const S=this._actions,I=this._actionsByClip;let N=I[f];if(N===void 0)N={knownActions:[a],actionByRoot:{}},a._byClipCacheIndex=0,I[f]=N;else{const U=N.knownActions;a._byClipCacheIndex=U.length,U.push(a)}a._cacheIndex=S.length,S.push(a),N.actionByRoot[x]=a}_removeInactiveAction(a){const f=this._actions,x=f[f.length-1],S=a._cacheIndex;x._cacheIndex=S,f[S]=x,f.pop(),a._cacheIndex=null;const I=a._clip.uuid,N=this._actionsByClip,U=N[I],W=U.knownActions,K=W[W.length-1],q=a._byClipCacheIndex;K._byClipCacheIndex=q,W[q]=K,W.pop(),a._byClipCacheIndex=null;const ee=U.actionByRoot,te=(a._localRoot||this._root).uuid;delete ee[te],W.length===0&&delete N[I],this._removeInactiveBindingsForAction(a)}_removeInactiveBindingsForAction(a){const f=a._propertyBindings;for(let x=0,S=f.length;x!==S;++x){const I=f[x];--I.referenceCount===0&&this._removeInactiveBinding(I)}}_lendAction(a){const f=this._actions,x=a._cacheIndex,S=this._nActiveActions++,I=f[S];a._cacheIndex=S,f[S]=a,I._cacheIndex=x,f[x]=I}_takeBackAction(a){const f=this._actions,x=a._cacheIndex,S=--this._nActiveActions,I=f[S];a._cacheIndex=S,f[S]=a,I._cacheIndex=x,f[x]=I}_addInactiveBinding(a,f,x){const S=this._bindingsByRootAndName,I=this._bindings;let N=S[f];N===void 0&&(N={},S[f]=N),N[x]=a,a._cacheIndex=I.length,I.push(a)}_removeInactiveBinding(a){const f=this._bindings,x=a.binding,S=x.rootNode.uuid,I=x.path,N=this._bindingsByRootAndName,U=N[S],W=f[f.length-1],K=a._cacheIndex;W._cacheIndex=K,f[K]=W,f.pop(),delete U[I],Object.keys(U).length===0&&delete N[S]}_lendBinding(a){const f=this._bindings,x=a._cacheIndex,S=this._nActiveBindings++,I=f[S];a._cacheIndex=S,f[S]=a,I._cacheIndex=x,f[x]=I}_takeBackBinding(a){const f=this._bindings,x=a._cacheIndex,S=--this._nActiveBindings,I=f[S];a._cacheIndex=S,f[S]=a,I._cacheIndex=x,f[x]=I}_lendControlInterpolant(){const a=this._controlInterpolants,f=this._nActiveControlInterpolants++;let x=a[f];return x===void 0&&(x=new MS(new Float32Array(2),new Float32Array(2),1,xY),x.__cacheIndex=f,a[f]=x),x}_takeBackControlInterpolant(a){const f=this._controlInterpolants,x=a.__cacheIndex,S=--this._nActiveControlInterpolants,I=f[S];a.__cacheIndex=S,f[S]=a,I.__cacheIndex=x,f[x]=I}clipAction(a,f,x){const S=f||this._root,I=S.uuid;let N=typeof a=="string"?pv.findByName(S,a):a;const U=N!==null?N.uuid:a,W=this._actionsByClip[U];let K=null;if(x===void 0&&(N!==null?x=N.blendMode:x=Zt),W!==void 0){const ee=W.actionByRoot[I];if(ee!==void 0&&ee.blendMode===x)return ee;K=W.knownActions[0],N===null&&(N=K._clip)}if(N===null)return null;const q=new bY(this,N,f,x);return this._bindAction(q,K),this._addInactiveAction(q,U,I),q}existingAction(a,f){const x=f||this._root,S=x.uuid,I=typeof a=="string"?pv.findByName(x,a):a,N=I?I.uuid:a,U=this._actionsByClip[N];return U!==void 0&&U.actionByRoot[S]||null}stopAllAction(){const a=this._actions,f=this._nActiveActions;for(let x=f-1;x>=0;--x)a[x].stop();return this}update(a){a*=this.timeScale;const f=this._actions,x=this._nActiveActions,S=this.time+=a,I=Math.sign(a),N=this._accuIndex^=1;for(let K=0;K!==x;++K)f[K]._update(S,a,I,N);const U=this._bindings,W=this._nActiveBindings;for(let K=0;K!==W;++K)U[K].apply(N);return this}setTime(a){this.time=0;for(let f=0;f<this._actions.length;f++)this._actions[f].time=0;return this.update(a)}getRoot(){return this._root}uncacheClip(a){const f=this._actions,x=a.uuid,S=this._actionsByClip,I=S[x];if(I!==void 0){const N=I.knownActions;for(let U=0,W=N.length;U!==W;++U){const K=N[U];this._deactivateAction(K);const q=K._cacheIndex,ee=f[f.length-1];K._cacheIndex=null,K._byClipCacheIndex=null,ee._cacheIndex=q,f[q]=ee,f.pop(),this._removeInactiveBindingsForAction(K)}delete S[x]}}uncacheRoot(a){const f=a.uuid,x=this._actionsByClip;for(const N in x){const U=x[N].actionByRoot,W=U[f];W!==void 0&&(this._deactivateAction(W),this._removeInactiveAction(W))}const S=this._bindingsByRootAndName,I=S[f];if(I!==void 0)for(const N in I){const U=I[N];U.restoreOriginalState(),this._removeInactiveBinding(U)}}uncacheAction(a,f){const x=this.existingAction(a,f);x!==null&&(this._deactivateAction(x),this._removeInactiveAction(x))}}class kS{constructor(a){this.value=a}clone(){return new kS(this.value.clone===void 0?this.value:this.value.clone())}}let CY=0;class wY extends Oa{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:CY++}),this.name="",this.usage=tf,this.uniforms=[]}add(a){return this.uniforms.push(a),this}remove(a){const f=this.uniforms.indexOf(a);return f!==-1&&this.uniforms.splice(f,1),this}setName(a){return this.name=a,this}setUsage(a){return this.usage=a,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(a){this.name=a.name,this.usage=a.usage;const f=a.uniforms;this.uniforms.length=0;for(let x=0,S=f.length;x<S;x++)this.uniforms.push(f[x].clone());return this}clone(){return new this.constructor().copy(this)}}class SY extends Ny{constructor(a,f,x=1){super(a,f),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=x}copy(a){return super.copy(a),this.meshPerAttribute=a.meshPerAttribute,this}clone(a){const f=super.clone(a);return f.meshPerAttribute=this.meshPerAttribute,f}toJSON(a){const f=super.toJSON(a);return f.isInstancedInterleavedBuffer=!0,f.meshPerAttribute=this.meshPerAttribute,f}}class _Y{constructor(a,f,x,S,I){this.isGLBufferAttribute=!0,this.buffer=a,this.type=f,this.itemSize=x,this.elementSize=S,this.count=I,this.version=0}set needsUpdate(a){a===!0&&this.version++}setBuffer(a){return this.buffer=a,this}setType(a,f){return this.type=a,this.elementSize=f,this}setItemSize(a){return this.itemSize=a,this}setCount(a){return this.count=a,this}}class MY{constructor(a,f,x=0,S=1/0){this.ray=new Na(a,f),this.near=x,this.far=S,this.camera=null,this.layers=new Si,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(a,f){this.ray.set(a,f)}setFromCamera(a,f){f.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(f.matrixWorld),this.ray.direction.set(a.x,a.y,.5).unproject(f).sub(this.ray.origin).normalize(),this.camera=f):f.isOrthographicCamera?(this.ray.origin.set(a.x,a.y,(f.near+f.far)/(f.near-f.far)).unproject(f),this.ray.direction.set(0,0,-1).transformDirection(f.matrixWorld),this.camera=f):console.error("THREE.Raycaster: Unsupported camera type: "+f.type)}intersectObject(a,f=!0,x=[]){return FS(a,this,x,f),x.sort(UO),x}intersectObjects(a,f=!0,x=[]){for(let S=0,I=a.length;S<I;S++)FS(a[S],this,x,f);return x.sort(UO),x}}function UO(H,a){return H.distance-a.distance}function FS(H,a,f,x){if(H.layers.test(a.layers)&&H.raycast(a,f),x===!0){const S=H.children;for(let I=0,N=S.length;I<N;I++)FS(S[I],a,f,!0)}}class TY{constructor(a=1,f=0,x=0){return this.radius=a,this.phi=f,this.theta=x,this}set(a,f,x){return this.radius=a,this.phi=f,this.theta=x,this}copy(a){return this.radius=a.radius,this.phi=a.phi,this.theta=a.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(a){return this.setFromCartesianCoords(a.x,a.y,a.z)}setFromCartesianCoords(a,f,x){return this.radius=Math.sqrt(a*a+f*f+x*x),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(a,x),this.phi=Math.acos(uo(f/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class RY{constructor(a=1,f=0,x=0){return this.radius=a,this.theta=f,this.y=x,this}set(a,f,x){return this.radius=a,this.theta=f,this.y=x,this}copy(a){return this.radius=a.radius,this.theta=a.theta,this.y=a.y,this}setFromVector3(a){return this.setFromCartesianCoords(a.x,a.y,a.z)}setFromCartesianCoords(a,f,x){return this.radius=Math.sqrt(a*a+x*x),this.theta=Math.atan2(a,x),this.y=f,this}clone(){return new this.constructor().copy(this)}}const zO=new In;class IY{constructor(a=new In(1/0,1/0),f=new In(-1/0,-1/0)){this.isBox2=!0,this.min=a,this.max=f}set(a,f){return this.min.copy(a),this.max.copy(f),this}setFromPoints(a){this.makeEmpty();for(let f=0,x=a.length;f<x;f++)this.expandByPoint(a[f]);return this}setFromCenterAndSize(a,f){const x=zO.copy(f).multiplyScalar(.5);return this.min.copy(a).sub(x),this.max.copy(a).add(x),this}clone(){return new this.constructor().copy(this)}copy(a){return this.min.copy(a.min),this.max.copy(a.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(a){return this.isEmpty()?a.set(0,0):a.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(a){return this.isEmpty()?a.set(0,0):a.subVectors(this.max,this.min)}expandByPoint(a){return this.min.min(a),this.max.max(a),this}expandByVector(a){return this.min.sub(a),this.max.add(a),this}expandByScalar(a){return this.min.addScalar(-a),this.max.addScalar(a),this}containsPoint(a){return!(a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y)}containsBox(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y}getParameter(a,f){return f.set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(a){return!(a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y)}clampPoint(a,f){return f.copy(a).clamp(this.min,this.max)}distanceToPoint(a){return zO.copy(a).clamp(this.min,this.max).sub(a).length()}intersect(a){return this.min.max(a.min),this.max.min(a.max),this}union(a){return this.min.min(a.min),this.max.max(a.max),this}translate(a){return this.min.add(a),this.max.add(a),this}equals(a){return a.min.equals(this.min)&&a.max.equals(this.max)}}const HO=new dt,ib=new dt;class LY{constructor(a=new dt,f=new dt){this.start=a,this.end=f}set(a,f){return this.start.copy(a),this.end.copy(f),this}copy(a){return this.start.copy(a.start),this.end.copy(a.end),this}getCenter(a){return a.addVectors(this.start,this.end).multiplyScalar(.5)}delta(a){return a.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(a,f){return this.delta(f).multiplyScalar(a).add(this.start)}closestPointToPointParameter(a,f){HO.subVectors(a,this.start),ib.subVectors(this.end,this.start);const x=ib.dot(ib);let I=ib.dot(HO)/x;return f&&(I=uo(I,0,1)),I}closestPointToPoint(a,f,x){const S=this.closestPointToPointParameter(a,f);return this.delta(x).multiplyScalar(S).add(this.start)}applyMatrix4(a){return this.start.applyMatrix4(a),this.end.applyMatrix4(a),this}equals(a){return a.start.equals(this.start)&&a.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const $O=new dt;class PY extends yi{constructor(a,f){super(),this.light=a,this.matrix=a.matrixWorld,this.matrixAutoUpdate=!1,this.color=f,this.type="SpotLightHelper";const x=new ci,S=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let N=0,U=1,W=32;N<W;N++,U++){const K=N/W*Math.PI*2,q=U/W*Math.PI*2;S.push(Math.cos(K),Math.sin(K),1,Math.cos(q),Math.sin(q),1)}x.setAttribute("position",new Mr(S,3));const I=new Ua({fog:!1,toneMapped:!1});this.cone=new ac(x,I),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const a=this.light.distance?this.light.distance:1e3,f=a*Math.tan(this.light.angle);this.cone.scale.set(f,f,a),$O.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt($O),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const td=new dt,ob=new wr,US=new wr;class BY extends ac{constructor(a){const f=GO(a),x=new ci,S=[],I=[],N=new br(0,0,1),U=new br(0,1,0);for(let K=0;K<f.length;K++){const q=f[K];q.parent&&q.parent.isBone&&(S.push(0,0,0),S.push(0,0,0),I.push(N.r,N.g,N.b),I.push(U.r,U.g,U.b))}x.setAttribute("position",new Mr(S,3)),x.setAttribute("color",new Mr(I,3));const W=new Ua({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(x,W),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=a,this.bones=f,this.matrix=a.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(a){const f=this.bones,x=this.geometry,S=x.getAttribute("position");US.copy(this.root.matrixWorld).invert();for(let I=0,N=0;I<f.length;I++){const U=f[I];U.parent&&U.parent.isBone&&(ob.multiplyMatrices(US,U.matrixWorld),td.setFromMatrixPosition(ob),S.setXYZ(N,td.x,td.y,td.z),ob.multiplyMatrices(US,U.parent.matrixWorld),td.setFromMatrixPosition(ob),S.setXYZ(N+1,td.x,td.y,td.z),N+=2)}x.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(a)}dispose(){this.geometry.dispose(),this.material.dispose()}}function GO(H){const a=[];H.isBone===!0&&a.push(H);for(let f=0;f<H.children.length;f++)a.push.apply(a,GO(H.children[f]));return a}class OY extends pa{constructor(a,f,x){const S=new lp(f,4,2),I=new Qu({wireframe:!0,fog:!1,toneMapped:!1});super(S,I),this.light=a,this.color=x,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const DY=new dt,jO=new br,VO=new br;class NY extends yi{constructor(a,f,x){super(),this.light=a,this.matrix=a.matrixWorld,this.matrixAutoUpdate=!1,this.color=x,this.type="HemisphereLightHelper";const S=new sp(f);S.rotateY(Math.PI*.5),this.material=new Qu({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const I=S.getAttribute("position"),N=new Float32Array(I.count*3);S.setAttribute("color",new Vi(N,3)),this.add(new pa(S,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const a=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const f=a.geometry.getAttribute("color");jO.copy(this.light.color),VO.copy(this.light.groundColor);for(let x=0,S=f.count;x<S;x++){const I=x<S/2?jO:VO;f.setXYZ(x,I.r,I.g,I.b)}f.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),a.lookAt(DY.setFromMatrixPosition(this.light.matrixWorld).negate())}}class kY extends ac{constructor(a=10,f=10,x=4473924,S=8947848){x=new br(x),S=new br(S);const I=f/2,N=a/f,U=a/2,W=[],K=[];for(let te=0,ie=0,de=-U;te<=f;te++,de+=N){W.push(-U,0,de,U,0,de),W.push(de,0,-U,de,0,U);const le=te===I?x:S;le.toArray(K,ie),ie+=3,le.toArray(K,ie),ie+=3,le.toArray(K,ie),ie+=3,le.toArray(K,ie),ie+=3}const q=new ci;q.setAttribute("position",new Mr(W,3)),q.setAttribute("color",new Mr(K,3));const ee=new Ua({vertexColors:!0,toneMapped:!1});super(q,ee),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class FY extends ac{constructor(a=10,f=16,x=8,S=64,I=4473924,N=8947848){I=new br(I),N=new br(N);const U=[],W=[];if(f>1)for(let ee=0;ee<f;ee++){const te=ee/f*(Math.PI*2),ie=Math.sin(te)*a,de=Math.cos(te)*a;U.push(0,0,0),U.push(ie,0,de);const le=ee&1?I:N;W.push(le.r,le.g,le.b),W.push(le.r,le.g,le.b)}for(let ee=0;ee<x;ee++){const te=ee&1?I:N,ie=a-a/x*ee;for(let de=0;de<S;de++){let le=de/S*(Math.PI*2),ae=Math.sin(le)*ie,Re=Math.cos(le)*ie;U.push(ae,0,Re),W.push(te.r,te.g,te.b),le=(de+1)/S*(Math.PI*2),ae=Math.sin(le)*ie,Re=Math.cos(le)*ie,U.push(ae,0,Re),W.push(te.r,te.g,te.b)}}const K=new ci;K.setAttribute("position",new Mr(U,3)),K.setAttribute("color",new Mr(W,3));const q=new Ua({vertexColors:!0,toneMapped:!1});super(K,q),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const WO=new dt,ab=new dt,QO=new dt;class UY extends yi{constructor(a,f,x){super(),this.light=a,this.matrix=a.matrixWorld,this.matrixAutoUpdate=!1,this.color=x,this.type="DirectionalLightHelper",f===void 0&&(f=1);let S=new ci;S.setAttribute("position",new Mr([-f,f,0,f,f,0,f,-f,0,-f,-f,0,-f,f,0],3));const I=new Ua({fog:!1,toneMapped:!1});this.lightPlane=new Zu(S,I),this.add(this.lightPlane),S=new ci,S.setAttribute("position",new Mr([0,0,0,0,0,1],3)),this.targetLine=new Zu(S,I),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),WO.setFromMatrixPosition(this.light.matrixWorld),ab.setFromMatrixPosition(this.light.target.matrixWorld),QO.subVectors(ab,WO),this.lightPlane.lookAt(ab),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(ab),this.targetLine.scale.z=QO.length()}}const sb=new dt,yo=new _y;class zY extends ac{constructor(a){const f=new ci,x=new Ua({color:16777215,vertexColors:!0,toneMapped:!1}),S=[],I=[],N={};U("n1","n2"),U("n2","n4"),U("n4","n3"),U("n3","n1"),U("f1","f2"),U("f2","f4"),U("f4","f3"),U("f3","f1"),U("n1","f1"),U("n2","f2"),U("n3","f3"),U("n4","f4"),U("p","n1"),U("p","n2"),U("p","n3"),U("p","n4"),U("u1","u2"),U("u2","u3"),U("u3","u1"),U("c","t"),U("p","c"),U("cn1","cn2"),U("cn3","cn4"),U("cf1","cf2"),U("cf3","cf4");function U(de,le){W(de),W(le)}function W(de){S.push(0,0,0),I.push(0,0,0),N[de]===void 0&&(N[de]=[]),N[de].push(S.length/3-1)}f.setAttribute("position",new Mr(S,3)),f.setAttribute("color",new Mr(I,3)),super(f,x),this.type="CameraHelper",this.camera=a,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=a.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=N,this.update();const K=new br(16755200),q=new br(16711680),ee=new br(43775),te=new br(16777215),ie=new br(3355443);this.setColors(K,q,ee,te,ie)}setColors(a,f,x,S,I){const U=this.geometry.getAttribute("color");U.setXYZ(0,a.r,a.g,a.b),U.setXYZ(1,a.r,a.g,a.b),U.setXYZ(2,a.r,a.g,a.b),U.setXYZ(3,a.r,a.g,a.b),U.setXYZ(4,a.r,a.g,a.b),U.setXYZ(5,a.r,a.g,a.b),U.setXYZ(6,a.r,a.g,a.b),U.setXYZ(7,a.r,a.g,a.b),U.setXYZ(8,a.r,a.g,a.b),U.setXYZ(9,a.r,a.g,a.b),U.setXYZ(10,a.r,a.g,a.b),U.setXYZ(11,a.r,a.g,a.b),U.setXYZ(12,a.r,a.g,a.b),U.setXYZ(13,a.r,a.g,a.b),U.setXYZ(14,a.r,a.g,a.b),U.setXYZ(15,a.r,a.g,a.b),U.setXYZ(16,a.r,a.g,a.b),U.setXYZ(17,a.r,a.g,a.b),U.setXYZ(18,a.r,a.g,a.b),U.setXYZ(19,a.r,a.g,a.b),U.setXYZ(20,a.r,a.g,a.b),U.setXYZ(21,a.r,a.g,a.b),U.setXYZ(22,a.r,a.g,a.b),U.setXYZ(23,a.r,a.g,a.b),U.setXYZ(24,f.r,f.g,f.b),U.setXYZ(25,f.r,f.g,f.b),U.setXYZ(26,f.r,f.g,f.b),U.setXYZ(27,f.r,f.g,f.b),U.setXYZ(28,f.r,f.g,f.b),U.setXYZ(29,f.r,f.g,f.b),U.setXYZ(30,f.r,f.g,f.b),U.setXYZ(31,f.r,f.g,f.b),U.setXYZ(32,x.r,x.g,x.b),U.setXYZ(33,x.r,x.g,x.b),U.setXYZ(34,x.r,x.g,x.b),U.setXYZ(35,x.r,x.g,x.b),U.setXYZ(36,x.r,x.g,x.b),U.setXYZ(37,x.r,x.g,x.b),U.setXYZ(38,S.r,S.g,S.b),U.setXYZ(39,S.r,S.g,S.b),U.setXYZ(40,I.r,I.g,I.b),U.setXYZ(41,I.r,I.g,I.b),U.setXYZ(42,I.r,I.g,I.b),U.setXYZ(43,I.r,I.g,I.b),U.setXYZ(44,I.r,I.g,I.b),U.setXYZ(45,I.r,I.g,I.b),U.setXYZ(46,I.r,I.g,I.b),U.setXYZ(47,I.r,I.g,I.b),U.setXYZ(48,I.r,I.g,I.b),U.setXYZ(49,I.r,I.g,I.b),U.needsUpdate=!0}update(){const a=this.geometry,f=this.pointMap,x=1,S=1;yo.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),_o("c",f,a,yo,0,0,-1),_o("t",f,a,yo,0,0,1),_o("n1",f,a,yo,-x,-S,-1),_o("n2",f,a,yo,x,-S,-1),_o("n3",f,a,yo,-x,S,-1),_o("n4",f,a,yo,x,S,-1),_o("f1",f,a,yo,-x,-S,1),_o("f2",f,a,yo,x,-S,1),_o("f3",f,a,yo,-x,S,1),_o("f4",f,a,yo,x,S,1),_o("u1",f,a,yo,x*.7,S*1.1,-1),_o("u2",f,a,yo,-x*.7,S*1.1,-1),_o("u3",f,a,yo,0,S*2,-1),_o("cf1",f,a,yo,-x,0,1),_o("cf2",f,a,yo,x,0,1),_o("cf3",f,a,yo,0,-S,1),_o("cf4",f,a,yo,0,S,1),_o("cn1",f,a,yo,-x,0,-1),_o("cn2",f,a,yo,x,0,-1),_o("cn3",f,a,yo,0,-S,-1),_o("cn4",f,a,yo,0,S,-1),a.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function _o(H,a,f,x,S,I,N){sb.set(S,I,N).unproject(x);const U=a[H];if(U!==void 0){const W=f.getAttribute("position");for(let K=0,q=U.length;K<q;K++)W.setXYZ(U[K],sb.x,sb.y,sb.z)}}const lb=new Oc;class HY extends ac{constructor(a,f=16776960){const x=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),S=new Float32Array(8*3),I=new ci;I.setIndex(new Vi(x,1)),I.setAttribute("position",new Vi(S,3)),super(I,new Ua({color:f,toneMapped:!1})),this.object=a,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(a){if(a!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&lb.setFromObject(this.object),lb.isEmpty())return;const f=lb.min,x=lb.max,S=this.geometry.attributes.position,I=S.array;I[0]=x.x,I[1]=x.y,I[2]=x.z,I[3]=f.x,I[4]=x.y,I[5]=x.z,I[6]=f.x,I[7]=f.y,I[8]=x.z,I[9]=x.x,I[10]=f.y,I[11]=x.z,I[12]=x.x,I[13]=x.y,I[14]=f.z,I[15]=f.x,I[16]=x.y,I[17]=f.z,I[18]=f.x,I[19]=f.y,I[20]=f.z,I[21]=x.x,I[22]=f.y,I[23]=f.z,S.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(a){return this.object=a,this.update(),this}copy(a,f){return super.copy(a,f),this.object=a.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class $Y extends ac{constructor(a,f=16776960){const x=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),S=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],I=new ci;I.setIndex(new Vi(x,1)),I.setAttribute("position",new Mr(S,3)),super(I,new Ua({color:f,toneMapped:!1})),this.box=a,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(a){const f=this.box;f.isEmpty()||(f.getCenter(this.position),f.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(a))}dispose(){this.geometry.dispose(),this.material.dispose()}}class GY extends Zu{constructor(a,f=1,x=16776960){const S=x,I=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],N=new ci;N.setAttribute("position",new Mr(I,3)),N.computeBoundingSphere(),super(N,new Ua({color:S,toneMapped:!1})),this.type="PlaneHelper",this.plane=a,this.size=f;const U=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],W=new ci;W.setAttribute("position",new Mr(U,3)),W.computeBoundingSphere(),this.add(new pa(W,new Qu({color:S,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(a){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(a)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const KO=new dt;let cb,zS;class jY extends yi{constructor(a=new dt(0,0,1),f=new dt(0,0,0),x=1,S=16776960,I=x*.2,N=I*.2){super(),this.type="ArrowHelper",cb===void 0&&(cb=new ci,cb.setAttribute("position",new Mr([0,0,0,0,1,0],3)),zS=new pf(0,.5,1,5,1),zS.translate(0,-.5,0)),this.position.copy(f),this.line=new Zu(cb,new Ua({color:S,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new pa(zS,new Qu({color:S,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(a),this.setLength(x,I,N)}setDirection(a){if(a.y>.99999)this.quaternion.set(0,0,0,1);else if(a.y<-.99999)this.quaternion.set(1,0,0,0);else{KO.set(a.z,0,-a.x).normalize();const f=Math.acos(a.y);this.quaternion.setFromAxisAngle(KO,f)}}setLength(a,f=a*.2,x=f*.2){this.line.scale.set(1,Math.max(1e-4,a-f),1),this.line.updateMatrix(),this.cone.scale.set(x,f,x),this.cone.position.y=a,this.cone.updateMatrix()}setColor(a){this.line.material.color.set(a),this.cone.material.color.set(a)}copy(a){return super.copy(a,!1),this.line.copy(a.line),this.cone.copy(a.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class VY extends ac{constructor(a=1){const f=[0,0,0,a,0,0,0,0,0,0,a,0,0,0,0,0,0,a],x=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],S=new ci;S.setAttribute("position",new Mr(f,3)),S.setAttribute("color",new Mr(x,3));const I=new Ua({vertexColors:!0,toneMapped:!1});super(S,I),this.type="AxesHelper"}setColors(a,f,x){const S=new br,I=this.geometry.attributes.color.array;return S.set(a),S.toArray(I,0),S.toArray(I,3),S.set(f),S.toArray(I,6),S.toArray(I,9),S.set(x),S.toArray(I,12),S.toArray(I,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class WY{constructor(){this.type="ShapePath",this.color=new br,this.subPaths=[],this.currentPath=null}moveTo(a,f){return this.currentPath=new Xg,this.subPaths.push(this.currentPath),this.currentPath.moveTo(a,f),this}lineTo(a,f){return this.currentPath.lineTo(a,f),this}quadraticCurveTo(a,f,x,S){return this.currentPath.quadraticCurveTo(a,f,x,S),this}bezierCurveTo(a,f,x,S,I,N){return this.currentPath.bezierCurveTo(a,f,x,S,I,N),this}splineThru(a){return this.currentPath.splineThru(a),this}toShapes(a){function f(Re){const $e=[];for(let Ne=0,ze=Re.length;Ne<ze;Ne++){const Ke=Re[Ne],ht=new mf;ht.curves=Ke.curves,$e.push(ht)}return $e}function x(Re,$e){const Ne=$e.length;let ze=!1;for(let Ke=Ne-1,ht=0;ht<Ne;Ke=ht++){let Lt=$e[Ke],je=$e[ht],gt=je.x-Lt.x,_t=je.y-Lt.y;if(Math.abs(_t)>Number.EPSILON){if(_t<0&&(Lt=$e[ht],gt=-gt,je=$e[Ke],_t=-_t),Re.y<Lt.y||Re.y>je.y)continue;if(Re.y===Lt.y){if(Re.x===Lt.x)return!0}else{const jt=_t*(Re.x-Lt.x)-gt*(Re.y-Lt.y);if(jt===0)return!0;if(jt<0)continue;ze=!ze}}else{if(Re.y!==Lt.y)continue;if(je.x<=Re.x&&Re.x<=Lt.x||Lt.x<=Re.x&&Re.x<=je.x)return!0}}return ze}const S=sc.isClockWise,I=this.subPaths;if(I.length===0)return[];let N,U,W;const K=[];if(I.length===1)return U=I[0],W=new mf,W.curves=U.curves,K.push(W),K;let q=!S(I[0].getPoints());q=a?!q:q;const ee=[],te=[];let ie=[],de=0,le;te[de]=void 0,ie[de]=[];for(let Re=0,$e=I.length;Re<$e;Re++)U=I[Re],le=U.getPoints(),N=S(le),N=a?!N:N,N?(!q&&te[de]&&de++,te[de]={s:new mf,p:le},te[de].s.curves=U.curves,q&&de++,ie[de]=[]):ie[de].push({h:U,p:le[0]});if(!te[0])return f(I);if(te.length>1){let Re=!1,$e=0;for(let Ne=0,ze=te.length;Ne<ze;Ne++)ee[Ne]=[];for(let Ne=0,ze=te.length;Ne<ze;Ne++){const Ke=ie[Ne];for(let ht=0;ht<Ke.length;ht++){const Lt=Ke[ht];let je=!0;for(let gt=0;gt<te.length;gt++)x(Lt.p,te[gt].p)&&(Ne!==gt&&$e++,je?(je=!1,ee[gt].push(Lt)):Re=!0);je&&ee[Ne].push(Lt)}}$e>0&&Re===!1&&(ie=ee)}let ae;for(let Re=0,$e=te.length;Re<$e;Re++){W=te[Re].s,K.push(W),ae=ie[Re];for(let Ne=0,ze=ae.length;Ne<ze;Ne++)W.holes.push(ae[Ne].h)}return K}}const $c=QY();function QY(){const H=new ArrayBuffer(4),a=new Float32Array(H),f=new Uint32Array(H),x=new Uint32Array(512),S=new Uint32Array(512);for(let W=0;W<256;++W){const K=W-127;K<-27?(x[W]=0,x[W|256]=32768,S[W]=24,S[W|256]=24):K<-14?(x[W]=1024>>-K-14,x[W|256]=1024>>-K-14|32768,S[W]=-K-1,S[W|256]=-K-1):K<=15?(x[W]=K+15<<10,x[W|256]=K+15<<10|32768,S[W]=13,S[W|256]=13):K<128?(x[W]=31744,x[W|256]=64512,S[W]=24,S[W|256]=24):(x[W]=31744,x[W|256]=64512,S[W]=13,S[W|256]=13)}const I=new Uint32Array(2048),N=new Uint32Array(64),U=new Uint32Array(64);for(let W=1;W<1024;++W){let K=W<<13,q=0;for(;!(K&8388608);)K<<=1,q-=8388608;K&=-8388609,q+=947912704,I[W]=K|q}for(let W=1024;W<2048;++W)I[W]=939524096+(W-1024<<13);for(let W=1;W<31;++W)N[W]=W<<23;N[31]=1199570944,N[32]=2147483648;for(let W=33;W<63;++W)N[W]=2147483648+(W-32<<23);N[63]=3347054592;for(let W=1;W<64;++W)W!==32&&(U[W]=1024);return{floatView:a,uint32View:f,baseTable:x,shiftTable:S,mantissaTable:I,exponentTable:N,offsetTable:U}}function KY(H){Math.abs(H)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),H=uo(H,-65504,65504),$c.floatView[0]=H;const a=$c.uint32View[0],f=a>>23&511;return $c.baseTable[f]+((a&8388607)>>$c.shiftTable[f])}function XY(H){const a=H>>10;return $c.uint32View[0]=$c.mantissaTable[$c.offsetTable[a]+(H&1023)]+$c.exponentTable[a],$c.floatView[0]}var qY=Object.freeze({__proto__:null,toHalfFloat:KY,fromHalfFloat:XY});function YY(){console.error("THREE.ImmediateRenderObject has been removed.")}class JY extends ns{constructor(a,f,x){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(a,f,x),this.samples=4}}class ZY extends af{constructor(a,f,x,S){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(a,f,x,S)}}class eJ extends Uh{constructor(a,f,x,S){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(a,f,x,S)}}class tJ extends Yu{constructor(a,f,x,S,I,N){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(a,f,x,S,I,N)}}class nJ extends qg{constructor(a,f,x,S){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(a,f,x,S)}}class rJ extends Yg{constructor(a,f,x,S){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(a,f,x,S)}}class iJ extends Jg{constructor(a,f,x,S,I,N,U){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(a,f,x,S,I,N,U)}}class oJ extends pf{constructor(a,f,x,S,I,N,U,W){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(a,f,x,S,I,N,U,W)}}class aJ extends Zg{constructor(a,f){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(a,f)}}class sJ extends rv{constructor(a,f){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(a,f)}}class lJ extends iv{constructor(a,f){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(a,f)}}class cJ extends op{constructor(a,f,x,S){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(a,f,x,S)}}class uJ extends sp{constructor(a,f){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(a,f)}}class dJ extends Xh{constructor(a,f,x,S){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(a,f,x,S)}}class fJ extends Uc{constructor(a,f,x,S){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(a,f,x,S)}}class hJ extends ov{constructor(a,f,x,S,I,N){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(a,f,x,S,I,N)}}class pJ extends av{constructor(a,f){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(a,f)}}class mJ extends lp{constructor(a,f,x,S,I,N,U){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(a,f,x,S,I,N,U)}}class gJ extends sv{constructor(a,f){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(a,f)}}class vJ extends lv{constructor(a,f,x,S,I){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(a,f,x,S,I)}}class AJ extends cv{constructor(a,f,x,S,I,N){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(a,f,x,S,I,N)}}class yJ extends uv{constructor(a,f,x,S,I){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(a,f,x,S,I)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:d}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=d)},"./node_modules/super-three/examples/jsm/libs/ktx-parse.module.js":(l,u,c)=>{c.r(u),c.d(u,{KHR_DF_CHANNEL_RGBSDA_ALPHA:()=>fe,KHR_DF_CHANNEL_RGBSDA_BLUE:()=>Yt,KHR_DF_CHANNEL_RGBSDA_DEPTH:()=>be,KHR_DF_CHANNEL_RGBSDA_GREEN:()=>Dt,KHR_DF_CHANNEL_RGBSDA_RED:()=>Tt,KHR_DF_CHANNEL_RGBSDA_STENCIL:()=>Ve,KHR_DF_FLAG_ALPHA_PREMULTIPLIED:()=>P,KHR_DF_FLAG_ALPHA_STRAIGHT:()=>R,KHR_DF_KHR_DESCRIPTORTYPE_BASICFORMAT:()=>y,KHR_DF_MODEL_ASTC:()=>_,KHR_DF_MODEL_ETC1:()=>E,KHR_DF_MODEL_ETC1S:()=>L,KHR_DF_MODEL_ETC2:()=>C,KHR_DF_MODEL_RGBSDA:()=>w,KHR_DF_MODEL_UNSPECIFIED:()=>g,KHR_DF_PRIMARIES_ACES:()=>ot,KHR_DF_PRIMARIES_ACESCC:()=>it,KHR_DF_PRIMARIES_ADOBERGB:()=>Ct,KHR_DF_PRIMARIES_BT2020:()=>ke,KHR_DF_PRIMARIES_BT601_EBU:()=>Ze,KHR_DF_PRIMARIES_BT601_SMPTE:()=>Xe,KHR_DF_PRIMARIES_BT709:()=>He,KHR_DF_PRIMARIES_CIEXYZ:()=>lt,KHR_DF_PRIMARIES_DISPLAYP3:()=>At,KHR_DF_PRIMARIES_NTSC1953:()=>ft,KHR_DF_PRIMARIES_PAL525:()=>xt,KHR_DF_PRIMARIES_UNSPECIFIED:()=>Ie,KHR_DF_SAMPLE_DATATYPE_EXPONENT:()=>Ce,KHR_DF_SAMPLE_DATATYPE_FLOAT:()=>me,KHR_DF_SAMPLE_DATATYPE_LINEAR:()=>Se,KHR_DF_SAMPLE_DATATYPE_SIGNED:()=>Te,KHR_DF_TRANSFER_ACESCC:()=>ue,KHR_DF_TRANSFER_ACESCCT:()=>Be,KHR_DF_TRANSFER_ADOBERGB:()=>ge,KHR_DF_TRANSFER_BT1886:()=>k,KHR_DF_TRANSFER_DCIP3:()=>X,KHR_DF_TRANSFER_HLG_EOTF:()=>G,KHR_DF_TRANSFER_HLG_OETF:()=>z,KHR_DF_TRANSFER_ITU:()=>V,KHR_DF_TRANSFER_LINEAR:()=>D,KHR_DF_TRANSFER_NTSC:()=>B,KHR_DF_TRANSFER_PAL625_EOTF:()=>Z,KHR_DF_TRANSFER_PAL_OETF:()=>J,KHR_DF_TRANSFER_PQ_EOTF:()=>j,KHR_DF_TRANSFER_PQ_OETF:()=>Q,KHR_DF_TRANSFER_SLOG:()=>O,KHR_DF_TRANSFER_SLOG2:()=>F,KHR_DF_TRANSFER_SRGB:()=>$,KHR_DF_TRANSFER_ST240:()=>oe,KHR_DF_TRANSFER_UNSPECIFIED:()=>T,KHR_DF_VENDORID_KHRONOS:()=>A,KHR_DF_VERSION:()=>b,KHR_SUPERCOMPRESSION_BASISLZ:()=>p,KHR_SUPERCOMPRESSION_NONE:()=>h,KHR_SUPERCOMPRESSION_ZLIB:()=>v,KHR_SUPERCOMPRESSION_ZSTD:()=>m,KTX2Container:()=>Wu,VK_FORMAT_A1R5G5B5_UNORM_PACK16:()=>Le,VK_FORMAT_A2B10G10R10_SINT_PACK32:()=>Hn,VK_FORMAT_A2B10G10R10_SNORM_PACK32:()=>sn,VK_FORMAT_A2B10G10R10_UINT_PACK32:()=>Kt,VK_FORMAT_A2B10G10R10_UNORM_PACK32:()=>mn,VK_FORMAT_A2R10G10B10_SINT_PACK32:()=>Qt,VK_FORMAT_A2R10G10B10_SNORM_PACK32:()=>Mt,VK_FORMAT_A2R10G10B10_UINT_PACK32:()=>Ut,VK_FORMAT_A2R10G10B10_UNORM_PACK32:()=>St,VK_FORMAT_A4B4G4R4_UNORM_PACK16_EXT:()=>Nc,VK_FORMAT_A4R4G4B4_UNORM_PACK16_EXT:()=>nc,VK_FORMAT_ASTC_10x10_SFLOAT_BLOCK_EXT:()=>ju,VK_FORMAT_ASTC_10x10_SRGB_BLOCK:()=>of,VK_FORMAT_ASTC_10x10_UNORM_BLOCK:()=>Hu,VK_FORMAT_ASTC_10x5_SFLOAT_BLOCK_EXT:()=>Dc,VK_FORMAT_ASTC_10x5_SRGB_BLOCK:()=>In,VK_FORMAT_ASTC_10x5_UNORM_BLOCK:()=>Tw,VK_FORMAT_ASTC_10x6_SFLOAT_BLOCK_EXT:()=>Dg,VK_FORMAT_ASTC_10x6_SRGB_BLOCK:()=>Rg,VK_FORMAT_ASTC_10x6_UNORM_BLOCK:()=>da,VK_FORMAT_ASTC_10x8_SFLOAT_BLOCK_EXT:()=>Gu,VK_FORMAT_ASTC_10x8_SRGB_BLOCK:()=>Rw,VK_FORMAT_ASTC_10x8_UNORM_BLOCK:()=>cy,VK_FORMAT_ASTC_12x10_SFLOAT_BLOCK_EXT:()=>Vu,VK_FORMAT_ASTC_12x10_SRGB_BLOCK:()=>Nh,VK_FORMAT_ASTC_12x10_UNORM_BLOCK:()=>Pc,VK_FORMAT_ASTC_12x12_SFLOAT_BLOCK_EXT:()=>tc,VK_FORMAT_ASTC_12x12_SRGB_BLOCK:()=>Yo,VK_FORMAT_ASTC_12x12_UNORM_BLOCK:()=>Ig,VK_FORMAT_ASTC_4x4_SFLOAT_BLOCK_EXT:()=>Pw,VK_FORMAT_ASTC_4x4_SRGB_BLOCK:()=>Aw,VK_FORMAT_ASTC_4x4_UNORM_BLOCK:()=>vw,VK_FORMAT_ASTC_5x4_SFLOAT_BLOCK_EXT:()=>Bw,VK_FORMAT_ASTC_5x4_SRGB_BLOCK:()=>bw,VK_FORMAT_ASTC_5x4_UNORM_BLOCK:()=>yw,VK_FORMAT_ASTC_5x5_SFLOAT_BLOCK_EXT:()=>fa,VK_FORMAT_ASTC_5x5_SRGB_BLOCK:()=>Ew,VK_FORMAT_ASTC_5x5_UNORM_BLOCK:()=>xw,VK_FORMAT_ASTC_6x5_SFLOAT_BLOCK_EXT:()=>dt,VK_FORMAT_ASTC_6x5_SRGB_BLOCK:()=>ww,VK_FORMAT_ASTC_6x5_UNORM_BLOCK:()=>Cw,VK_FORMAT_ASTC_6x6_SFLOAT_BLOCK_EXT:()=>Og,VK_FORMAT_ASTC_6x6_SRGB_BLOCK:()=>_w,VK_FORMAT_ASTC_6x6_UNORM_BLOCK:()=>Sw,VK_FORMAT_ASTC_8x5_SFLOAT_BLOCK_EXT:()=>dy,VK_FORMAT_ASTC_8x5_SRGB_BLOCK:()=>ly,VK_FORMAT_ASTC_8x5_UNORM_BLOCK:()=>Tg,VK_FORMAT_ASTC_8x6_SFLOAT_BLOCK_EXT:()=>Oc,VK_FORMAT_ASTC_8x6_SRGB_BLOCK:()=>Mw,VK_FORMAT_ASTC_8x6_UNORM_BLOCK:()=>Dh,VK_FORMAT_ASTC_8x8_SFLOAT_BLOCK_EXT:()=>ml,VK_FORMAT_ASTC_8x8_SRGB_BLOCK:()=>Ni,VK_FORMAT_ASTC_8x8_UNORM_BLOCK:()=>pl,VK_FORMAT_B10G11R11_UFLOAT_PACK32:()=>ts,VK_FORMAT_B10X6G10X6R10X6G10X6_422_UNORM_4PACK16:()=>Lg,VK_FORMAT_B12X4G12X4R12X4G12X4_422_UNORM_4PACK16:()=>Bc,VK_FORMAT_B4G4R4A4_UNORM_PACK16:()=>Ue,VK_FORMAT_B5G5R5A1_UNORM_PACK16:()=>ne,VK_FORMAT_B5G6R5_UNORM_PACK16:()=>ce,VK_FORMAT_B8G8R8A8_SINT:()=>De,VK_FORMAT_B8G8R8A8_SNORM:()=>wt,VK_FORMAT_B8G8R8A8_SRGB:()=>tt,VK_FORMAT_B8G8R8A8_UINT:()=>xe,VK_FORMAT_B8G8R8A8_UNORM:()=>st,VK_FORMAT_B8G8R8_SINT:()=>yn,VK_FORMAT_B8G8R8_SNORM:()=>qt,VK_FORMAT_B8G8R8_SRGB:()=>Pn,VK_FORMAT_B8G8R8_UINT:()=>Sn,VK_FORMAT_B8G8R8_UNORM:()=>cn,VK_FORMAT_BC1_RGBA_SRGB_BLOCK:()=>tf,VK_FORMAT_BC1_RGBA_UNORM_BLOCK:()=>ay,VK_FORMAT_BC1_RGB_SRGB_BLOCK:()=>ow,VK_FORMAT_BC1_RGB_UNORM_BLOCK:()=>iw,VK_FORMAT_BC2_SRGB_BLOCK:()=>sw,VK_FORMAT_BC2_UNORM_BLOCK:()=>aw,VK_FORMAT_BC3_SRGB_BLOCK:()=>cw,VK_FORMAT_BC3_UNORM_BLOCK:()=>lw,VK_FORMAT_BC4_SNORM_BLOCK:()=>dw,VK_FORMAT_BC4_UNORM_BLOCK:()=>uw,VK_FORMAT_BC5_SNORM_BLOCK:()=>hw,VK_FORMAT_BC5_UNORM_BLOCK:()=>fw,VK_FORMAT_BC6H_SFLOAT_BLOCK:()=>_g,VK_FORMAT_BC6H_UFLOAT_BLOCK:()=>pw,VK_FORMAT_BC7_SRGB_BLOCK:()=>Oa,VK_FORMAT_BC7_UNORM_BLOCK:()=>Oh,VK_FORMAT_D16_UNORM:()=>_c,VK_FORMAT_D16_UNORM_S8_UINT:()=>Ic,VK_FORMAT_D24_UNORM_S8_UINT:()=>co,VK_FORMAT_D32_SFLOAT:()=>Tc,VK_FORMAT_D32_SFLOAT_S8_UINT:()=>rw,VK_FORMAT_E5B9G9R9_UFLOAT_PACK32:()=>hl,VK_FORMAT_EAC_R11G11_SNORM_BLOCK:()=>rf,VK_FORMAT_EAC_R11G11_UNORM_BLOCK:()=>gw,VK_FORMAT_EAC_R11_SNORM_BLOCK:()=>mw,VK_FORMAT_EAC_R11_UNORM_BLOCK:()=>Mg,VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK:()=>nf,VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK:()=>Lc,VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK:()=>uo,VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK:()=>Da,VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK:()=>sy,VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK:()=>qo,VK_FORMAT_G10X6B10X6G10X6R10X6_422_UNORM_4PACK16:()=>kh,VK_FORMAT_G12X4B12X4G12X4R12X4_422_UNORM_4PACK16:()=>Pg,VK_FORMAT_PVRTC1_2BPP_SRGB_BLOCK_IMG:()=>ns,VK_FORMAT_PVRTC1_2BPP_UNORM_BLOCK_IMG:()=>Bg,VK_FORMAT_PVRTC1_4BPP_SRGB_BLOCK_IMG:()=>af,VK_FORMAT_PVRTC1_4BPP_UNORM_BLOCK_IMG:()=>Iw,VK_FORMAT_PVRTC2_2BPP_SRGB_BLOCK_IMG:()=>Lw,VK_FORMAT_PVRTC2_2BPP_UNORM_BLOCK_IMG:()=>fo,VK_FORMAT_PVRTC2_4BPP_SRGB_BLOCK_IMG:()=>Uh,VK_FORMAT_PVRTC2_4BPP_UNORM_BLOCK_IMG:()=>wi,VK_FORMAT_R10X6G10X6B10X6A10X6_UNORM_4PACK16:()=>ms,VK_FORMAT_R10X6G10X6_UNORM_2PACK16:()=>Co,VK_FORMAT_R10X6_UNORM_PACK16:()=>uy,VK_FORMAT_R12X4G12X4B12X4A12X4_UNORM_4PACK16:()=>$u,VK_FORMAT_R12X4G12X4_UNORM_2PACK16:()=>br,VK_FORMAT_R12X4_UNORM_PACK16:()=>Fh,VK_FORMAT_R16G16B16A16_SFLOAT:()=>pe,VK_FORMAT_R16G16B16A16_SINT:()=>bt,VK_FORMAT_R16G16B16A16_SNORM:()=>Ye,VK_FORMAT_R16G16B16A16_UINT:()=>at,VK_FORMAT_R16G16B16A16_UNORM:()=>Fe,VK_FORMAT_R16G16B16_SFLOAT:()=>_e,VK_FORMAT_R16G16B16_SINT:()=>se,VK_FORMAT_R16G16B16_SNORM:()=>jn,VK_FORMAT_R16G16B16_UINT:()=>re,VK_FORMAT_R16G16B16_UNORM:()=>qn,VK_FORMAT_R16G16_SFLOAT:()=>bn,VK_FORMAT_R16G16_SINT:()=>Jt,VK_FORMAT_R16G16_SNORM:()=>Dr,VK_FORMAT_R16G16_UINT:()=>or,VK_FORMAT_R16G16_UNORM:()=>sr,VK_FORMAT_R16_SFLOAT:()=>dr,VK_FORMAT_R16_SINT:()=>kn,VK_FORMAT_R16_SNORM:()=>er,VK_FORMAT_R16_UINT:()=>yr,VK_FORMAT_R16_UNORM:()=>Nn,VK_FORMAT_R32G32B32A32_SFLOAT:()=>pr,VK_FORMAT_R32G32B32A32_SINT:()=>Wn,VK_FORMAT_R32G32B32A32_UINT:()=>ln,VK_FORMAT_R32G32B32_SFLOAT:()=>Bn,VK_FORMAT_R32G32B32_SINT:()=>dn,VK_FORMAT_R32G32B32_UINT:()=>Zt,VK_FORMAT_R32G32_SFLOAT:()=>Ft,VK_FORMAT_R32G32_SINT:()=>yt,VK_FORMAT_R32G32_UINT:()=>Pe,VK_FORMAT_R32_SFLOAT:()=>Me,VK_FORMAT_R32_SINT:()=>Ee,VK_FORMAT_R32_UINT:()=>ye,VK_FORMAT_R4G4B4A4_UNORM_PACK16:()=>Ae,VK_FORMAT_R4G4_UNORM_PACK8:()=>Ge,VK_FORMAT_R5G5B5A1_UNORM_PACK16:()=>Y,VK_FORMAT_R5G6B5_UNORM_PACK16:()=>et,VK_FORMAT_R64G64B64A64_SFLOAT:()=>ps,VK_FORMAT_R64G64B64A64_SINT:()=>Gr,VK_FORMAT_R64G64B64A64_UINT:()=>Ii,VK_FORMAT_R64G64B64_SFLOAT:()=>Kr,VK_FORMAT_R64G64B64_SINT:()=>ni,VK_FORMAT_R64G64B64_UINT:()=>Br,VK_FORMAT_R64G64_SFLOAT:()=>mr,VK_FORMAT_R64G64_SINT:()=>lr,VK_FORMAT_R64G64_UINT:()=>Yn,VK_FORMAT_R64_SFLOAT:()=>xn,VK_FORMAT_R64_SINT:()=>fn,VK_FORMAT_R64_UINT:()=>$n,VK_FORMAT_R8G8B8A8_SINT:()=>Cn,VK_FORMAT_R8G8B8A8_SNORM:()=>Gn,VK_FORMAT_R8G8B8A8_SRGB:()=>Oe,VK_FORMAT_R8G8B8A8_UINT:()=>Fn,VK_FORMAT_R8G8B8A8_UNORM:()=>rr,VK_FORMAT_R8G8B8_SINT:()=>pt,VK_FORMAT_R8G8B8_SNORM:()=>Vt,VK_FORMAT_R8G8B8_SRGB:()=>Ot,VK_FORMAT_R8G8B8_UINT:()=>Pt,VK_FORMAT_R8G8B8_UNORM:()=>Gt,VK_FORMAT_R8G8_SINT:()=>kt,VK_FORMAT_R8G8_SNORM:()=>nt,VK_FORMAT_R8G8_SRGB:()=>Bt,VK_FORMAT_R8G8_UINT:()=>It,VK_FORMAT_R8G8_UNORM:()=>Qe,VK_FORMAT_R8_SINT:()=>qe,VK_FORMAT_R8_SNORM:()=>ve,VK_FORMAT_R8_SRGB:()=>Je,VK_FORMAT_R8_UINT:()=>he,VK_FORMAT_R8_UNORM:()=>We,VK_FORMAT_S8_UINT:()=>Rc,VK_FORMAT_UNDEFINED:()=>we,VK_FORMAT_X8_D24_UNORM_PACK32:()=>Mc,read:()=>Ng,write:()=>kg});var d=c("./node_modules/buffer/index.js").Buffer;const h=0,p=1,m=2,v=3,y=0,A=0,b=2,g=0,w=1,E=160,C=161,_=162,L=163,R=0,P=1,T=0,D=1,$=2,V=3,B=4,O=5,F=6,k=7,z=8,G=9,j=10,Q=11,X=12,J=13,Z=14,oe=15,ue=16,Be=17,ge=18,Ie=0,He=1,Ze=2,Xe=3,ke=4,lt=5,ot=6,it=7,ft=8,xt=9,At=10,Ct=11,Tt=0,Dt=1,Yt=2,Ve=13,be=14,fe=15,me=128,Te=64,Ce=32,Se=16,we=0,Ge=1,Ae=2,Ue=3,et=4,ce=5,Y=6,ne=7,Le=8,We=9,ve=10,he=13,qe=14,Je=15,Qe=16,nt=17,It=20,kt=21,Bt=22,Gt=23,Vt=24,Pt=27,pt=28,Ot=29,cn=30,qt=31,Sn=34,yn=35,Pn=36,rr=37,Gn=38,Fn=41,Cn=42,Oe=43,st=44,wt=45,xe=48,De=49,tt=50,St=58,Mt=59,Ut=62,Qt=63,mn=64,sn=65,Kt=68,Hn=69,Nn=70,er=71,yr=74,kn=75,dr=76,sr=77,Dr=78,or=81,Jt=82,bn=83,qn=84,jn=85,re=88,se=89,_e=90,Fe=91,Ye=92,at=95,bt=96,pe=97,ye=98,Ee=99,Me=100,Pe=101,yt=102,Ft=103,Zt=104,dn=105,Bn=106,ln=107,Wn=108,pr=109,$n=110,fn=111,xn=112,Yn=113,lr=114,mr=115,Br=116,ni=117,Kr=118,Ii=119,Gr=120,ps=121,ts=122,hl=123,_c=124,Mc=125,Tc=126,Rc=127,Ic=128,co=129,rw=130,iw=131,ow=132,ay=133,tf=134,aw=135,sw=136,lw=137,cw=138,uw=139,dw=140,fw=141,hw=142,pw=143,_g=144,Oh=145,Oa=146,qo=147,sy=148,Lc=149,nf=150,Da=151,uo=152,Mg=153,mw=154,gw=155,rf=156,vw=157,Aw=158,yw=159,bw=160,xw=161,Ew=162,Cw=163,ww=164,Sw=165,_w=166,Tg=167,ly=168,Dh=169,Mw=170,pl=171,Ni=172,Tw=173,In=174,da=175,Rg=176,cy=177,Rw=178,Hu=179,of=180,Pc=181,Nh=182,Ig=183,Yo=184,uy=1000156007,Co=1000156008,ms=1000156009,kh=1000156010,Lg=1000156011,Fh=1000156017,br=1000156018,$u=1000156019,Pg=1000156020,Bc=1000156021,Bg=1000054e3,Iw=1000054001,fo=1000054002,wi=1000054003,ns=1000054004,af=1000054005,Lw=1000054006,Uh=1000054007,Pw=1000066e3,Bw=1000066001,fa=1000066002,dt=1000066003,Og=1000066004,dy=1000066005,Oc=1000066006,ml=1000066007,Dc=1000066008,Dg=1000066009,Gu=1000066010,ju=1000066011,Vu=1000066012,tc=1000066013,nc=100034e4,Nc=1000340001;class Wu{constructor(){this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=0,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:0,descriptorBlockSize:0,versionNumber:2,colorModel:0,colorPrimaries:1,transferFunction:2,flags:0,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class rc{constructor(jr,hi,wo,Ai){this._dataView=new DataView(jr.buffer,jr.byteOffset+hi,wo),this._littleEndian=Ai,this._offset=0}_nextUint8(){const jr=this._dataView.getUint8(this._offset);return this._offset+=1,jr}_nextUint16(){const jr=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,jr}_nextUint32(){const jr=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,jr}_nextUint64(){const jr=this._dataView.getUint32(this._offset,this._littleEndian)+4294967296*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,jr}_nextInt32(){const jr=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,jr}_skip(jr){return this._offset+=jr,this}_scan(jr,hi=0){const wo=this._offset;let Ai=0;for(;this._dataView.getUint8(this._offset)!==hi&&Ai<jr;)Ai++,this._offset++;return Ai<jr&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+wo,Ai)}}const sf=new Uint8Array([0]),Yi=[171,75,84,88,32,50,48,187,13,10,26,10];function zh(vr){return typeof TextEncoder<"u"?new TextEncoder().encode(vr):d.from(vr)}function fy(vr){return typeof TextDecoder<"u"?new TextDecoder().decode(vr):d.from(vr).toString("utf8")}function ic(vr){let jr=0;for(const Ai of vr)jr+=Ai.byteLength;const hi=new Uint8Array(jr);let wo=0;for(const Ai of vr)hi.set(new Uint8Array(Ai),wo),wo+=Ai.byteLength;return hi}function Ng(vr){const jr=new Uint8Array(vr.buffer,vr.byteOffset,Yi.length);if(jr[0]!==Yi[0]||jr[1]!==Yi[1]||jr[2]!==Yi[2]||jr[3]!==Yi[3]||jr[4]!==Yi[4]||jr[5]!==Yi[5]||jr[6]!==Yi[6]||jr[7]!==Yi[7]||jr[8]!==Yi[8]||jr[9]!==Yi[9]||jr[10]!==Yi[10]||jr[11]!==Yi[11])throw new Error("Missing KTX 2.0 identifier.");const hi=new Wu,wo=17*Uint32Array.BYTES_PER_ELEMENT,Ai=new rc(vr,Yi.length,wo,!0);hi.vkFormat=Ai._nextUint32(),hi.typeSize=Ai._nextUint32(),hi.pixelWidth=Ai._nextUint32(),hi.pixelHeight=Ai._nextUint32(),hi.pixelDepth=Ai._nextUint32(),hi.layerCount=Ai._nextUint32(),hi.faceCount=Ai._nextUint32();const Na=Ai._nextUint32();hi.supercompressionScheme=Ai._nextUint32();const wr=Ai._nextUint32(),rs=Ai._nextUint32(),si=Ai._nextUint32(),Hh=Ai._nextUint32(),lf=Ai._nextUint64(),xa=Ai._nextUint64(),Ea=new rc(vr,Yi.length+wo,3*Na*8,!0);for(let Ao=0;Ao<Na;Ao++)hi.levels.push({levelData:new Uint8Array(vr.buffer,vr.byteOffset+Ea._nextUint64(),Ea._nextUint64()),uncompressedByteLength:Ea._nextUint64()});const Xr=new rc(vr,wr,rs,!0),Al={vendorId:Xr._skip(4)._nextUint16(),descriptorType:Xr._nextUint16(),versionNumber:Xr._nextUint16(),descriptorBlockSize:Xr._nextUint16(),colorModel:Xr._nextUint8(),colorPrimaries:Xr._nextUint8(),transferFunction:Xr._nextUint8(),flags:Xr._nextUint8(),texelBlockDimension:[Xr._nextUint8(),Xr._nextUint8(),Xr._nextUint8(),Xr._nextUint8()],bytesPlane:[Xr._nextUint8(),Xr._nextUint8(),Xr._nextUint8(),Xr._nextUint8(),Xr._nextUint8(),Xr._nextUint8(),Xr._nextUint8(),Xr._nextUint8()],samples:[]},cf=(Al.descriptorBlockSize/4-6)/4;for(let Ao=0;Ao<cf;Ao++){const vs={bitOffset:Xr._nextUint16(),bitLength:Xr._nextUint8(),channelType:Xr._nextUint8(),samplePosition:[Xr._nextUint8(),Xr._nextUint8(),Xr._nextUint8(),Xr._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};64&vs.channelType?(vs.sampleLower=Xr._nextInt32(),vs.sampleUpper=Xr._nextInt32()):(vs.sampleLower=Xr._nextUint32(),vs.sampleUpper=Xr._nextUint32()),Al.samples[Ao]=vs}hi.dataFormatDescriptor.length=0,hi.dataFormatDescriptor.push(Al);const ha=new rc(vr,si,Hh,!0);for(;ha._offset<Hh;){const Ao=ha._nextUint32(),vs=ha._scan(Ao),Hs=fy(vs),Fc=ha._scan(Ao-vs.byteLength);hi.keyValue[Hs]=Hs.match(/^ktx/i)?fy(Fc):Fc,ha._offset%4&&ha._skip(4-ha._offset%4)}if(xa<=0)return hi;const Si=new rc(vr,lf,xa,!0),Xi=Si._nextUint16(),li=Si._nextUint16(),_i=Si._nextUint32(),So=Si._nextUint32(),yl=Si._nextUint32(),kc=Si._nextUint32(),hy=[];for(let Ao=0;Ao<Na;Ao++)hy.push({imageFlags:Si._nextUint32(),rgbSliceByteOffset:Si._nextUint32(),rgbSliceByteLength:Si._nextUint32(),alphaSliceByteOffset:Si._nextUint32(),alphaSliceByteLength:Si._nextUint32()});const py=lf+Si._offset,Fg=py+_i,Ug=Fg+So,my=Ug+yl,Ow=new Uint8Array(vr.buffer,vr.byteOffset+py,_i),gy=new Uint8Array(vr.buffer,vr.byteOffset+Fg,So),yi=new Uint8Array(vr.buffer,vr.byteOffset+Ug,yl),gs=new Uint8Array(vr.buffer,vr.byteOffset+my,kc);return hi.globalData={endpointCount:Xi,selectorCount:li,imageDescs:hy,endpointsData:Ow,selectorsData:gy,tablesData:yi,extendedData:gs},hi}function gl(){return(gl=Object.assign||function(vr){for(var jr=1;jr<arguments.length;jr++){var hi=arguments[jr];for(var wo in hi)Object.prototype.hasOwnProperty.call(hi,wo)&&(vr[wo]=hi[wo])}return vr}).apply(this,arguments)}const vl={keepWriter:!1};function kg(vr,jr={}){jr=gl({},vl,jr);let hi=new ArrayBuffer(0);if(vr.globalData){const Xi=new ArrayBuffer(20+5*vr.globalData.imageDescs.length*4),li=new DataView(Xi);li.setUint16(0,vr.globalData.endpointCount,!0),li.setUint16(2,vr.globalData.selectorCount,!0),li.setUint32(4,vr.globalData.endpointsData.byteLength,!0),li.setUint32(8,vr.globalData.selectorsData.byteLength,!0),li.setUint32(12,vr.globalData.tablesData.byteLength,!0),li.setUint32(16,vr.globalData.extendedData.byteLength,!0);for(let _i=0;_i<vr.globalData.imageDescs.length;_i++){const So=vr.globalData.imageDescs[_i];li.setUint32(20+5*_i*4+0,So.imageFlags,!0),li.setUint32(20+5*_i*4+4,So.rgbSliceByteOffset,!0),li.setUint32(20+5*_i*4+8,So.rgbSliceByteLength,!0),li.setUint32(20+5*_i*4+12,So.alphaSliceByteOffset,!0),li.setUint32(20+5*_i*4+16,So.alphaSliceByteLength,!0)}hi=ic([Xi,vr.globalData.endpointsData,vr.globalData.selectorsData,vr.globalData.tablesData,vr.globalData.extendedData])}const wo=[];let Ai=vr.keyValue;jr.keepWriter||(Ai=gl({},vr.keyValue,{KTXwriter:"KTX-Parse v0.3.1"}));for(const Xi in Ai){const li=Ai[Xi],_i=zh(Xi),So=typeof li=="string"?zh(li):li,yl=_i.byteLength+1+So.byteLength+1,kc=yl%4?4-yl%4:0;wo.push(ic([new Uint32Array([yl]),_i,sf,So,sf,new Uint8Array(kc).fill(0)]))}const Na=ic(wo);if(vr.dataFormatDescriptor.length!==1||vr.dataFormatDescriptor[0].descriptorType!==0)throw new Error("Only BASICFORMAT Data Format Descriptor output supported.");const wr=vr.dataFormatDescriptor[0],rs=new ArrayBuffer(28+16*wr.samples.length),si=new DataView(rs),Hh=24+16*wr.samples.length;if(si.setUint32(0,rs.byteLength,!0),si.setUint16(4,wr.vendorId,!0),si.setUint16(6,wr.descriptorType,!0),si.setUint16(8,wr.versionNumber,!0),si.setUint16(10,Hh,!0),si.setUint8(12,wr.colorModel),si.setUint8(13,wr.colorPrimaries),si.setUint8(14,wr.transferFunction),si.setUint8(15,wr.flags),!Array.isArray(wr.texelBlockDimension))throw new Error("texelBlockDimension is now an array. For dimensionality `d`, set `d - 1`.");si.setUint8(16,wr.texelBlockDimension[0]),si.setUint8(17,wr.texelBlockDimension[1]),si.setUint8(18,wr.texelBlockDimension[2]),si.setUint8(19,wr.texelBlockDimension[3]);for(let Xi=0;Xi<8;Xi++)si.setUint8(20+Xi,wr.bytesPlane[Xi]);for(let Xi=0;Xi<wr.samples.length;Xi++){const li=wr.samples[Xi],_i=28+16*Xi;if(li.channelID)throw new Error("channelID has been renamed to channelType.");si.setUint16(_i+0,li.bitOffset,!0),si.setUint8(_i+2,li.bitLength),si.setUint8(_i+3,li.channelType),si.setUint8(_i+4,li.samplePosition[0]),si.setUint8(_i+5,li.samplePosition[1]),si.setUint8(_i+6,li.samplePosition[2]),si.setUint8(_i+7,li.samplePosition[3]),64&li.channelType?(si.setInt32(_i+8,li.sampleLower,!0),si.setInt32(_i+12,li.sampleUpper,!0)):(si.setUint32(_i+8,li.sampleLower,!0),si.setUint32(_i+12,li.sampleUpper,!0))}const lf=Yi.length+68+3*vr.levels.length*8,xa=lf+rs.byteLength;let Ea=hi.byteLength>0?xa+Na.byteLength:0;Ea%8&&(Ea+=8-Ea%8);const Xr=[],Al=new DataView(new ArrayBuffer(3*vr.levels.length*8));let cf=(Ea||xa+Na.byteLength)+hi.byteLength;for(let Xi=0;Xi<vr.levels.length;Xi++){const li=vr.levels[Xi];Xr.push(li.levelData),Al.setBigUint64(24*Xi+0,BigInt(cf),!0),Al.setBigUint64(24*Xi+8,BigInt(li.levelData.byteLength),!0),Al.setBigUint64(24*Xi+16,BigInt(li.uncompressedByteLength),!0),cf+=li.levelData.byteLength}const ha=new ArrayBuffer(68),Si=new DataView(ha);return Si.setUint32(0,vr.vkFormat,!0),Si.setUint32(4,vr.typeSize,!0),Si.setUint32(8,vr.pixelWidth,!0),Si.setUint32(12,vr.pixelHeight,!0),Si.setUint32(16,vr.pixelDepth,!0),Si.setUint32(20,vr.layerCount,!0),Si.setUint32(24,vr.faceCount,!0),Si.setUint32(28,vr.levels.length,!0),Si.setUint32(32,vr.supercompressionScheme,!0),Si.setUint32(36,lf,!0),Si.setUint32(40,rs.byteLength,!0),Si.setUint32(44,xa,!0),Si.setUint32(48,Na.byteLength,!0),Si.setBigUint64(52,BigInt(hi.byteLength>0?Ea:0),!0),Si.setBigUint64(60,BigInt(hi.byteLength),!0),new Uint8Array(ic([new Uint8Array(Yi).buffer,ha,Al.buffer,rs,Na,Ea>0?new ArrayBuffer(Ea-(xa+Na.byteLength)):new ArrayBuffer(0),hi,...Xr]))}},"./node_modules/super-three/examples/jsm/libs/zstddec.module.js":(l,u,c)=>{c.r(u),c.d(u,{ZSTDDecoder:()=>y});var d=c("./node_modules/buffer/index.js").Buffer;let h,p,m;const v={env:{emscripten_notify_memory_growth:function(b){m=new Uint8Array(p.exports.memory.buffer)}}};class y{init(){return h||(h=typeof fetch<"u"?fetch("data:application/wasm;base64,"+A).then(g=>g.arrayBuffer()).then(g=>WebAssembly.instantiate(g,v)).then(this._init):WebAssembly.instantiate(d.from(A,"base64"),v).then(this._init),h)}_init(g){p=g.instance,v.env.emscripten_notify_memory_growth(0)}decode(g,w=0){if(!p)throw new Error("ZSTDDecoder: Await .init() before decoding.");const E=g.byteLength,C=p.exports.malloc(E);m.set(g,C),w=w||Number(p.exports.ZSTD_findDecompressedSize(C,E));const _=p.exports.malloc(w),L=p.exports.ZSTD_decompress(_,w,C,E),R=m.slice(_,_+L);return p.exports.free(C),p.exports.free(_),R}}const A="AGFzbQEAAAABpQEVYAF/AX9gAn9/AGADf39/AX9gBX9/f39/AX9gAX8AYAJ/fwF/YAR/f39/AX9gA39/fwBgBn9/f39/fwF/YAd/f39/f39/AX9gAn9/AX5gAn5+AX5gAABgBX9/f39/AGAGf39/f39/AGAIf39/f39/f38AYAl/f39/f39/f38AYAABf2AIf39/f39/f38Bf2ANf39/f39/f39/f39/fwF/YAF/AX4CJwEDZW52H2Vtc2NyaXB0ZW5fbm90aWZ5X21lbW9yeV9ncm93dGgABANpaAEFAAAFAgEFCwACAQABAgIFBQcAAwABDgsBAQcAEhMHAAUBDAQEAAANBwQCAgYCBAgDAwMDBgEACQkHBgICAAYGAgQUBwYGAwIGAAMCAQgBBwUGCgoEEQAEBAEIAwgDBQgDEA8IAAcABAUBcAECAgUEAQCAAgYJAX8BQaCgwAILB2AHBm1lbW9yeQIABm1hbGxvYwAoBGZyZWUAJgxaU1REX2lzRXJyb3IAaBlaU1REX2ZpbmREZWNvbXByZXNzZWRTaXplAFQPWlNURF9kZWNvbXByZXNzAEoGX3N0YXJ0ACQJBwEAQQELASQKussBaA8AIAAgACgCBCABajYCBAsZACAAKAIAIAAoAgRBH3F0QQAgAWtBH3F2CwgAIABBiH9LC34BBH9BAyEBIAAoAgQiA0EgTQRAIAAoAggiASAAKAIQTwRAIAAQDQ8LIAAoAgwiAiABRgRAQQFBAiADQSBJGw8LIAAgASABIAJrIANBA3YiBCABIARrIAJJIgEbIgJrIgQ2AgggACADIAJBA3RrNgIEIAAgBCgAADYCAAsgAQsUAQF/IAAgARACIQIgACABEAEgAgv3AQECfyACRQRAIABCADcCACAAQQA2AhAgAEIANwIIQbh/DwsgACABNgIMIAAgAUEEajYCECACQQRPBEAgACABIAJqIgFBfGoiAzYCCCAAIAMoAAA2AgAgAUF/ai0AACIBBEAgAEEIIAEQFGs2AgQgAg8LIABBADYCBEF/DwsgACABNgIIIAAgAS0AACIDNgIAIAJBfmoiBEEBTQRAIARBAWtFBEAgACABLQACQRB0IANyIgM2AgALIAAgAS0AAUEIdCADajYCAAsgASACakF/ai0AACIBRQRAIABBADYCBEFsDwsgAEEoIAEQFCACQQN0ams2AgQgAgsWACAAIAEpAAA3AAAgACABKQAINwAICy8BAX8gAUECdEGgHWooAgAgACgCAEEgIAEgACgCBGprQR9xdnEhAiAAIAEQASACCyEAIAFCz9bTvtLHq9lCfiAAfEIfiUKHla+vmLbem55/fgsdAQF/IAAoAgggACgCDEYEfyAAKAIEQSBGBUEACwuCBAEDfyACQYDAAE8EQCAAIAEgAhBnIAAPCyAAIAJqIQMCQCAAIAFzQQNxRQRAAkAgAkEBSARAIAAhAgwBCyAAQQNxRQRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADTw0BIAJBA3ENAAsLAkAgA0F8cSIEQcAASQ0AIAIgBEFAaiIFSw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBU0NAAsLIAIgBE8NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIARJDQALDAELIANBBEkEQCAAIQIMAQsgA0F8aiIEIABJBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsgAAsMACAAIAEpAAA3AAALQQECfyAAKAIIIgEgACgCEEkEQEEDDwsgACAAKAIEIgJBB3E2AgQgACABIAJBA3ZrIgE2AgggACABKAAANgIAQQALDAAgACABKAIANgAAC/cCAQJ/AkAgACABRg0AAkAgASACaiAASwRAIAAgAmoiBCABSw0BCyAAIAEgAhALDwsgACABc0EDcSEDAkACQCAAIAFJBEAgAwRAIAAhAwwDCyAAQQNxRQRAIAAhAwwCCyAAIQMDQCACRQ0EIAMgAS0AADoAACABQQFqIQEgAkF/aiECIANBAWoiA0EDcQ0ACwwBCwJAIAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQhBSAGQQR2IQRBICAAdCIAQQFyIQkgASgCACEPQQAhAiADIQYCQANAIAlBAkggAiAPS3JFBEAgAiEHAkAgCARAA0AgBEH//wNxQf//A0YEQCAHQRhqIQcgBiAQSQR/IAZBAmoiBigAACAFdgUgBUEQaiEFIARBEHYLIQQMAQsLA0AgBEEDcSIIQQNGBEAgBUECaiEFIARBAnYhBCAHQQNqIQcMAQsLIAcgCGoiByAPSw0EIAVBAmohBQNAIAIgB0kEQCANIAJBAXRqQQA7AQAgAkEBaiECDAELCyAGIA5LQQAgBiAFQQN1aiIHIAxLG0UEQCAHKAAAIAVBB3EiBXYhBAwCCyAEQQJ2IQQLIAYhBwsCfyALQX9qIAQgAEF/anEiBiAAQQF0QX9qIgggCWsiEUkNABogBCAIcSIEQQAgESAEIABIG2shBiALCyEIIA0gAkEBdGogBkF/aiIEOwEAIAlBASAGayAEIAZBAUgbayEJA0AgCSAASARAIABBAXUhACALQX9qIQsMAQsLAn8gByAOS0EAIAcgBSAIaiIFQQN1aiIGIAxLG0UEQCAFQQdxDAELIAUgDCIGIAdrQQN0awshBSACQQFqIQIgBEUhCCAGKAAAIAVBH3F2IQQMAQsLQWwgCUEBRyAFQSBKcg0BGiABIAJBf2o2AgAgBiAFQQdqQQN1aiADawwBC0FQCyEAIApBEGokACAACwkAQQFBBSAAGwsMACAAIAEoAAA2AAALqgMBCn8jAEHwAGsiCiQAIAJBAWohDiAAQQhqIQtBgIAEIAVBf2p0QRB1IQxBACECQQEhBkEBIAV0IglBf2oiDyEIA0AgAiAORkUEQAJAIAEgAkEBdCINai8BACIHQf//A0YEQCALIAhBA3RqIAI2AgQgCEF/aiEIQQEhBwwBCyAGQQAgDCAHQRB0QRB1ShshBgsgCiANaiAHOwEAIAJBAWohAgwBCwsgACAFNgIEIAAgBjYCACAJQQN2IAlBAXZqQQNqIQxBACEAQQAhBkEAIQIDQCAGIA5GBEADQAJAIAAgCUYNACAKIAsgAEEDdGoiASgCBCIGQQF0aiICIAIvAQAiAkEBajsBACABIAUgAhAUayIIOgADIAEgAiAIQf8BcXQgCWs7AQAgASAEIAZBAnQiAmooAgA6AAIgASACIANqKAIANgIEIABBAWohAAwBCwsFIAEgBkEBdGouAQAhDUEAIQcDQCAHIA1ORQRAIAsgAkEDdGogBjYCBANAIAIgDGogD3EiAiAISw0ACyAHQQFqIQcMAQsLIAZBAWohBgwBCwsgCkHwAGokAAsjAEIAIAEQCSAAhUKHla+vmLbem55/fkLj3MqV/M7y9YV/fAsQACAAQn43AwggACABNgIACyQBAX8gAARAIAEoAgQiAgRAIAEoAgggACACEQEADwsgABAmCwsfACAAIAEgAi8BABAINgIAIAEQBBogACACQQRqNgIEC0oBAX9BoCAoAgAiASAAaiIAQX9MBEBBiCBBMDYCAEF/DwsCQCAAPwBBEHRNDQAgABBmDQBBiCBBMDYCAEF/DwtBoCAgADYCACABC9cBAQh/Qbp/IQoCQCACKAIEIgggAigCACIJaiIOIAEgAGtLDQBBbCEKIAkgBCADKAIAIgtrSw0AIAAgCWoiBCACKAIIIgxrIQ0gACABQWBqIg8gCyAJQQAQKSADIAkgC2o2AgACQAJAIAwgBCAFa00EQCANIQUMAQsgDCAEIAZrSw0CIAcgDSAFayIAaiIBIAhqIAdNBEAgBCABIAgQDxoMAgsgBCABQQAgAGsQDyEBIAIgACAIaiIINgIEIAEgAGshBAsgBCAPIAUgCEEBECkLIA4hCgsgCgubAgEBfyMAQYABayINJAAgDSADNgJ8AkAgAkEDSwRAQX8hCQwBCwJAAkACQAJAIAJBAWsOAwADAgELIAZFBEBBuH8hCQwEC0FsIQkgBS0AACICIANLDQMgACAHIAJBAnQiAmooAgAgAiAIaigCABA7IAEgADYCAEEBIQkMAwsgASAJNgIAQQAhCQwCCyAKRQRAQWwhCQwCC0EAIQkgC0UgDEEZSHINAUEIIAR0QQhqIQBBACECA0AgAiAATw0CIAJBQGshAgwAAAsAC0FsIQkgDSANQfwAaiANQfgAaiAFIAYQFSICEAMNACANKAJ4IgMgBEsNACAAIA0gDSgCfCAHIAggAxAYIAEgADYCACACIQkLIA1BgAFqJAAgCQsLACAAIAEgAhALGgsQACAALwAAIAAtAAJBEHRyCy8AAn9BuH8gAUEISQ0AGkFyIAAoAAQiAEF3Sw0AGkG4fyAAQQhqIgAgACABSxsLCwkAIAAgATsAAAsDAAELigYBBX8gACAAKAIAIgVBfnE2AgBBACAAIAVBAXZqQYQgKAIAIgQgAEYbIQECQAJAIAAoAgQiAkUNACACKAIAIgNBAXENACACQQhqIgUgA0EBdkF4aiIDQQggA0EISxtnQR9zQQJ0QYAfaiIDKAIARgRAIAMgAigCDDYCAAsgAigCCCIDBEAgAyACKAIMNgIECyACKAIMIgMEQCADIAIoAgg2AgALIAIgAigCACAAKAIAQX5xajYCAEGEICEAAkACQCABRQ0AIAEgAjYCBCABKAIAIgNBAXENASADQQF2QXhqIgNBCCADQQhLG2dBH3NBAnRBgB9qIgMoAgAgAUEIakYEQCADIAEoAgw2AgALIAEoAggiAwRAIAMgASgCDDYCBAsgASgCDCIDBEAgAyABKAIINgIAQYQgKAIAIQQLIAIgAigCACABKAIAQX5xajYCACABIARGDQAgASABKAIAQQF2akEEaiEACyAAIAI2AgALIAIoAgBBAXZBeGoiAEEIIABBCEsbZ0Efc0ECdEGAH2oiASgCACEAIAEgBTYCACACIAA2AgwgAkEANgIIIABFDQEgACAFNgIADwsCQCABRQ0AIAEoAgAiAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAigCACABQQhqRgRAIAIgASgCDDYCAAsgASgCCCICBEAgAiABKAIMNgIECyABKAIMIgIEQCACIAEoAgg2AgBBhCAoAgAhBAsgACAAKAIAIAEoAgBBfnFqIgI2AgACQCABIARHBEAgASABKAIAQQF2aiAANgIEIAAoAgAhAgwBC0GEICAANgIACyACQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgIoAgAhASACIABBCGoiAjYCACAAIAE2AgwgAEEANgIIIAFFDQEgASACNgIADwsgBUEBdkF4aiIBQQggAUEISxtnQR9zQQJ0QYAfaiICKAIAIQEgAiAAQQhqIgI2AgAgACABNgIMIABBADYCCCABRQ0AIAEgAjYCAAsLDgAgAARAIABBeGoQJQsLgAIBA38CQCAAQQ9qQXhxQYQgKAIAKAIAQQF2ayICEB1Bf0YNAAJAQYQgKAIAIgAoAgAiAUEBcQ0AIAFBAXZBeGoiAUEIIAFBCEsbZ0Efc0ECdEGAH2oiASgCACAAQQhqRgRAIAEgACgCDDYCAAsgACgCCCIBBEAgASAAKAIMNgIECyAAKAIMIgFFDQAgASAAKAIINgIAC0EBIQEgACAAKAIAIAJBAXRqIgI2AgAgAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAygCACECIAMgAEEIaiIDNgIAIAAgAjYCDCAAQQA2AgggAkUNACACIAM2AgALIAELtwIBA38CQAJAIABBASAAGyICEDgiAA0AAkACQEGEICgCACIARQ0AIAAoAgAiA0EBcQ0AIAAgA0EBcjYCACADQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgAgAEEIakYEQCABIAAoAgw2AgALIAAoAggiAQRAIAEgACgCDDYCBAsgACgCDCIBBEAgASAAKAIINgIACyACECchAkEAIQFBhCAoAgAhACACDQEgACAAKAIAQX5xNgIAQQAPCyACQQ9qQXhxIgMQHSICQX9GDQIgAkEHakF4cSIAIAJHBEAgACACaxAdQX9GDQMLAkBBhCAoAgAiAUUEQEGAICAANgIADAELIAAgATYCBAtBhCAgADYCACAAIANBAXRBAXI2AgAMAQsgAEUNAQsgAEEIaiEBCyABC7kDAQJ/IAAgA2ohBQJAIANBB0wEQANAIAAgBU8NAiAAIAItAAA6AAAgAEEBaiEAIAJBAWohAgwAAAsACyAEQQFGBEACQCAAIAJrIgZBB00EQCAAIAItAAA6AAAgACACLQABOgABIAAgAi0AAjoAAiAAIAItAAM6AAMgAEEEaiACIAZBAnQiBkHAHmooAgBqIgIQFyACIAZB4B5qKAIAayECDAELIAAgAhAMCyACQQhqIQIgAEEIaiEACwJAAkACQAJAIAUgAU0EQCAAIANqIQEgBEEBRyAAIAJrQQ9Kcg0BA0AgACACEAwgAkEIaiECIABBCGoiACABSQ0ACwwFCyAAIAFLBEAgACEBDAQLIARBAUcgACACa0EPSnINASAAIQMgAiEEA0AgAyAEEAwgBEEIaiEEIANBCGoiAyABSQ0ACwwCCwNAIAAgAhAHIAJBEGohAiAAQRBqIgAgAUkNAAsMAwsgACEDIAIhBANAIAMgBBAHIARBEGohBCADQRBqIgMgAUkNAAsLIAIgASAAa2ohAgsDQCABIAVPDQEgASACLQAAOgAAIAFBAWohASACQQFqIQIMAAALAAsLQQECfyAAIAAoArjgASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigCACACaiAAQQZ2IgFBAnRBsB5qKAIAaiAAQSBxIgBFaiABRSAAQQV2cWoFQbh/CwsdACAAKAKQ4gEQWiAAQQA2AqDiASAAQgA3A5DiAQu1AwEFfyMAQZACayIKJABBuH8hBgJAIAVFDQAgBCwAACIIQf8BcSEHAkAgCEF/TARAIAdBgn9qQQF2IgggBU8NAkFsIQYgB0GBf2oiBUGAAk8NAiAEQQFqIQdBACEGA0AgBiAFTwRAIAUhBiAIIQcMAwUgACAGaiAHIAZBAXZqIgQtAABBBHY6AAAgACAGQQFyaiAELQAAQQ9xOgAAIAZBAmohBgwBCwAACwALIAcgBU8NASAAIARBAWogByAKEFMiBhADDQELIAYhBEEAIQYgAUEAQTQQECEJQQAhBQNAIAQgBkcEQCAAIAZqIggtAAAiAUELSwRAQWwhBgwDBSAJIAFBAnRqIgEgASgCAEEBajYCACAGQQFqIQZBASAILQAAdEEBdSAFaiEFDAILAAsLQWwhBiAFRQ0AIAUQFEEBaiIBQQxLDQAgAyABNgIAQQFBASABdCAFayIDEBQiAXQgA0cNACAAIARqIAFBAWoiADoAACAJIABBAnRqIgAgACgCAEEBajYCACAJKAIEIgBBAkkgAEEBcXINACACIARBAWo2AgAgB0EBaiEGCyAKQZACaiQAIAYLxhEBDH8jAEHwAGsiBSQAQWwhCwJAIANBCkkNACACLwAAIQogAi8AAiEJIAIvAAQhByAFQQhqIAQQDgJAIAMgByAJIApqakEGaiIMSQ0AIAUtAAohCCAFQdgAaiACQQZqIgIgChAGIgsQAw0BIAVBQGsgAiAKaiICIAkQBiILEAMNASAFQShqIAIgCWoiAiAHEAYiCxADDQEgBUEQaiACIAdqIAMgDGsQBiILEAMNASAAIAFqIg9BfWohECAEQQRqIQZBASELIAAgAUEDakECdiIDaiIMIANqIgIgA2oiDiEDIAIhBCAMIQcDQCALIAMgEElxBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgCS0AAyELIAcgBiAFQUBrIAgQAkECdGoiCS8BADsAACAFQUBrIAktAAIQASAJLQADIQogBCAGIAVBKGogCBACQQJ0aiIJLwEAOwAAIAVBKGogCS0AAhABIAktAAMhCSADIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgDS0AAyENIAAgC2oiCyAGIAVB2ABqIAgQAkECdGoiAC8BADsAACAFQdgAaiAALQACEAEgAC0AAyEAIAcgCmoiCiAGIAVBQGsgCBACQQJ0aiIHLwEAOwAAIAVBQGsgBy0AAhABIActAAMhByAEIAlqIgkgBiAFQShqIAgQAkECdGoiBC8BADsAACAFQShqIAQtAAIQASAELQADIQQgAyANaiIDIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgACALaiEAIAcgCmohByAEIAlqIQQgAyANLQADaiEDIAVB2ABqEA0gBUFAaxANciAFQShqEA1yIAVBEGoQDXJFIQsMAQsLIAQgDksgByACS3INAEFsIQsgACAMSw0BIAxBfWohCQNAQQAgACAJSSAFQdgAahAEGwRAIAAgBiAFQdgAaiAIEAJBAnRqIgovAQA7AAAgBUHYAGogCi0AAhABIAAgCi0AA2oiACAGIAVB2ABqIAgQAkECdGoiCi8BADsAACAFQdgAaiAKLQACEAEgACAKLQADaiEADAEFIAxBfmohCgNAIAVB2ABqEAQgACAKS3JFBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgACAJLQADaiEADAELCwNAIAAgCk0EQCAAIAYgBUHYAGogCBACQQJ0aiIJLwEAOwAAIAVB2ABqIAktAAIQASAAIAktAANqIQAMAQsLAkAgACAMTw0AIAAgBiAFQdgAaiAIEAIiAEECdGoiDC0AADoAACAMLQADQQFGBEAgBUHYAGogDC0AAhABDAELIAUoAlxBH0sNACAFQdgAaiAGIABBAnRqLQACEAEgBSgCXEEhSQ0AIAVBIDYCXAsgAkF9aiEMA0BBACAHIAxJIAVBQGsQBBsEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiIAIAYgBUFAayAIEAJBAnRqIgcvAQA7AAAgBUFAayAHLQACEAEgACAHLQADaiEHDAEFIAJBfmohDANAIAVBQGsQBCAHIAxLckUEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwNAIAcgDE0EQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwJAIAcgAk8NACAHIAYgBUFAayAIEAIiAEECdGoiAi0AADoAACACLQADQQFGBEAgBUFAayACLQACEAEMAQsgBSgCREEfSw0AIAVBQGsgBiAAQQJ0ai0AAhABIAUoAkRBIUkNACAFQSA2AkQLIA5BfWohAgNAQQAgBCACSSAFQShqEAQbBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2oiACAGIAVBKGogCBACQQJ0aiIELwEAOwAAIAVBKGogBC0AAhABIAAgBC0AA2ohBAwBBSAOQX5qIQIDQCAFQShqEAQgBCACS3JFBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsDQCAEIAJNBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsCQCAEIA5PDQAgBCAGIAVBKGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBKGogAi0AAhABDAELIAUoAixBH0sNACAFQShqIAYgAEECdGotAAIQASAFKAIsQSFJDQAgBUEgNgIsCwNAQQAgAyAQSSAFQRBqEAQbBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2oiACAGIAVBEGogCBACQQJ0aiICLwEAOwAAIAVBEGogAi0AAhABIAAgAi0AA2ohAwwBBSAPQX5qIQIDQCAFQRBqEAQgAyACS3JFBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsDQCADIAJNBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsCQCADIA9PDQAgAyAGIAVBEGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBEGogAi0AAhABDAELIAUoAhRBH0sNACAFQRBqIAYgAEECdGotAAIQASAFKAIUQSFJDQAgBUEgNgIUCyABQWwgBUHYAGoQCiAFQUBrEApxIAVBKGoQCnEgBUEQahAKcRshCwwJCwAACwALAAALAAsAAAsACwAACwALQWwhCwsgBUHwAGokACALC7UEAQ5/IwBBEGsiBiQAIAZBBGogABAOQVQhBQJAIARB3AtJDQAgBi0ABCEHIANB8ARqQQBB7AAQECEIIAdBDEsNACADQdwJaiIJIAggBkEIaiAGQQxqIAEgAhAxIhAQA0UEQCAGKAIMIgQgB0sNASADQdwFaiEPIANBpAVqIREgAEEEaiESIANBqAVqIQEgBCEFA0AgBSICQX9qIQUgCCACQQJ0aigCAEUNAAsgAkEBaiEOQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgASALaiAKNgIAIAVBAWohBSAKIAxqIQoMAQsLIAEgCjYCAEEAIQUgBigCCCELA0AgBSALRkUEQCABIAUgCWotAAAiDEECdGoiDSANKAIAIg1BAWo2AgAgDyANQQF0aiINIAw6AAEgDSAFOgAAIAVBAWohBQwBCwtBACEBIANBADYCqAUgBEF/cyAHaiEJQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgAyALaiABNgIAIAwgBSAJanQgAWohASAFQQFqIQUMAQsLIAcgBEEBaiIBIAJrIgRrQQFqIQgDQEEBIQUgBCAIT0UEQANAIAUgDk9FBEAgBUECdCIJIAMgBEE0bGpqIAMgCWooAgAgBHY2AgAgBUEBaiEFDAELCyAEQQFqIQQMAQsLIBIgByAPIAogESADIAIgARBkIAZBAToABSAGIAc6AAYgACAGKAIENgIACyAQIQULIAZBEGokACAFC8ENAQt/IwBB8ABrIgUkAEFsIQkCQCADQQpJDQAgAi8AACEKIAIvAAIhDCACLwAEIQYgBUEIaiAEEA4CQCADIAYgCiAMampBBmoiDUkNACAFLQAKIQcgBUHYAGogAkEGaiICIAoQBiIJEAMNASAFQUBrIAIgCmoiAiAMEAYiCRADDQEgBUEoaiACIAxqIgIgBhAGIgkQAw0BIAVBEGogAiAGaiADIA1rEAYiCRADDQEgACABaiIOQX1qIQ8gBEEEaiEGQQEhCSAAIAFBA2pBAnYiAmoiCiACaiIMIAJqIg0hAyAMIQQgCiECA0AgCSADIA9JcQRAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAACAGIAVBQGsgBxACQQF0aiIILQAAIQsgBUFAayAILQABEAEgAiALOgAAIAYgBUEoaiAHEAJBAXRqIggtAAAhCyAFQShqIAgtAAEQASAEIAs6AAAgBiAFQRBqIAcQAkEBdGoiCC0AACELIAVBEGogCC0AARABIAMgCzoAACAGIAVB2ABqIAcQAkEBdGoiCC0AACELIAVB2ABqIAgtAAEQASAAIAs6AAEgBiAFQUBrIAcQAkEBdGoiCC0AACELIAVBQGsgCC0AARABIAIgCzoAASAGIAVBKGogBxACQQF0aiIILQAAIQsgBUEoaiAILQABEAEgBCALOgABIAYgBUEQaiAHEAJBAXRqIggtAAAhCyAFQRBqIAgtAAEQASADIAs6AAEgA0ECaiEDIARBAmohBCACQQJqIQIgAEECaiEAIAkgBUHYAGoQDUVxIAVBQGsQDUVxIAVBKGoQDUVxIAVBEGoQDUVxIQkMAQsLIAQgDUsgAiAMS3INAEFsIQkgACAKSw0BIApBfWohCQNAIAVB2ABqEAQgACAJT3JFBEAgBiAFQdgAaiAHEAJBAXRqIggtAAAhCyAFQdgAaiAILQABEAEgACALOgAAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAASAAQQJqIQAMAQsLA0AgBUHYAGoQBCAAIApPckUEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCwNAIAAgCkkEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCyAMQX1qIQADQCAFQUBrEAQgAiAAT3JFBEAgBiAFQUBrIAcQAkEBdGoiCi0AACEJIAVBQGsgCi0AARABIAIgCToAACAGIAVBQGsgBxACQQF0aiIKLQAAIQkgBUFAayAKLQABEAEgAiAJOgABIAJBAmohAgwBCwsDQCAFQUBrEAQgAiAMT3JFBEAgBiAFQUBrIAcQAkEBdGoiAC0AACEKIAVBQGsgAC0AARABIAIgCjoAACACQQFqIQIMAQsLA0AgAiAMSQRAIAYgBUFAayAHEAJBAXRqIgAtAAAhCiAFQUBrIAAtAAEQASACIAo6AAAgAkEBaiECDAELCyANQX1qIQADQCAFQShqEAQgBCAAT3JFBEAgBiAFQShqIAcQAkEBdGoiAi0AACEKIAVBKGogAi0AARABIAQgCjoAACAGIAVBKGogBxACQQF0aiICLQAAIQogBUEoaiACLQABEAEgBCAKOgABIARBAmohBAwBCwsDQCAFQShqEAQgBCANT3JFBEAgBiAFQShqIAcQAkEBdGoiAC0AACECIAVBKGogAC0AARABIAQgAjoAACAEQQFqIQQMAQsLA0AgBCANSQRAIAYgBUEoaiAHEAJBAXRqIgAtAAAhAiAFQShqIAAtAAEQASAEIAI6AAAgBEEBaiEEDAELCwNAIAVBEGoQBCADIA9PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIAYgBUEQaiAHEAJBAXRqIgAtAAAhAiAFQRBqIAAtAAEQASADIAI6AAEgA0ECaiEDDAELCwNAIAVBEGoQBCADIA5PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIANBAWohAwwBCwsDQCADIA5JBEAgBiAFQRBqIAcQAkEBdGoiAC0AACECIAVBEGogAC0AARABIAMgAjoAACADQQFqIQMMAQsLIAFBbCAFQdgAahAKIAVBQGsQCnEgBUEoahAKcSAFQRBqEApxGyEJDAELQWwhCQsgBUHwAGokACAJC8oCAQR/IwBBIGsiBSQAIAUgBBAOIAUtAAIhByAFQQhqIAIgAxAGIgIQA0UEQCAEQQRqIQIgACABaiIDQX1qIQQDQCAFQQhqEAQgACAET3JFBEAgAiAFQQhqIAcQAkEBdGoiBi0AACEIIAVBCGogBi0AARABIAAgCDoAACACIAVBCGogBxACQQF0aiIGLQAAIQggBUEIaiAGLQABEAEgACAIOgABIABBAmohAAwBCwsDQCAFQQhqEAQgACADT3JFBEAgAiAFQQhqIAcQAkEBdGoiBC0AACEGIAVBCGogBC0AARABIAAgBjoAACAAQQFqIQAMAQsLA0AgACADT0UEQCACIAVBCGogBxACQQF0aiIELQAAIQYgBUEIaiAELQABEAEgACAGOgAAIABBAWohAAwBCwsgAUFsIAVBCGoQChshAgsgBUEgaiQAIAILtgMBCX8jAEEQayIGJAAgBkEANgIMIAZBADYCCEFUIQQCQAJAIANBQGsiDCADIAZBCGogBkEMaiABIAIQMSICEAMNACAGQQRqIAAQDiAGKAIMIgcgBi0ABEEBaksNASAAQQRqIQogBkEAOgAFIAYgBzoABiAAIAYoAgQ2AgAgB0EBaiEJQQEhBANAIAQgCUkEQCADIARBAnRqIgEoAgAhACABIAU2AgAgACAEQX9qdCAFaiEFIARBAWohBAwBCwsgB0EBaiEHQQAhBSAGKAIIIQkDQCAFIAlGDQEgAyAFIAxqLQAAIgRBAnRqIgBBASAEdEEBdSILIAAoAgAiAWoiADYCACAHIARrIQhBACEEAkAgC0EDTQRAA0AgBCALRg0CIAogASAEakEBdGoiACAIOgABIAAgBToAACAEQQFqIQQMAAALAAsDQCABIABPDQEgCiABQQF0aiIEIAg6AAEgBCAFOgAAIAQgCDoAAyAEIAU6AAIgBCAIOgAFIAQgBToABCAEIAg6AAcgBCAFOgAGIAFBBGohAQwAAAsACyAFQQFqIQUMAAALAAsgAiEECyAGQRBqJAAgBAutAQECfwJAQYQgKAIAIABHIAAoAgBBAXYiAyABa0F4aiICQXhxQQhHcgR/IAIFIAMQJ0UNASACQQhqC0EQSQ0AIAAgACgCACICQQFxIAAgAWpBD2pBeHEiASAAa0EBdHI2AgAgASAANgIEIAEgASgCAEEBcSAAIAJBAXZqIAFrIgJBAXRyNgIAQYQgIAEgAkH/////B3FqQQRqQYQgKAIAIABGGyABNgIAIAEQJQsLygIBBX8CQAJAAkAgAEEIIABBCEsbZ0EfcyAAaUEBR2oiAUEESSAAIAF2cg0AIAFBAnRB/B5qKAIAIgJFDQADQCACQXhqIgMoAgBBAXZBeGoiBSAATwRAIAIgBUEIIAVBCEsbZ0Efc0ECdEGAH2oiASgCAEYEQCABIAIoAgQ2AgALDAMLIARBHksNASAEQQFqIQQgAigCBCICDQALC0EAIQMgAUEgTw0BA0AgAUECdEGAH2ooAgAiAkUEQCABQR5LIQIgAUEBaiEBIAJFDQEMAwsLIAIgAkF4aiIDKAIAQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgBGBEAgASACKAIENgIACwsgAigCACIBBEAgASACKAIENgIECyACKAIEIgEEQCABIAIoAgA2AgALIAMgAygCAEEBcjYCACADIAAQNwsgAwvhCwINfwV+IwBB8ABrIgckACAHIAAoAvDhASIINgJcIAEgAmohDSAIIAAoAoDiAWohDwJAAkAgBUUEQCABIQQMAQsgACgCxOABIRAgACgCwOABIREgACgCvOABIQ4gAEEBNgKM4QFBACEIA0AgCEEDRwRAIAcgCEECdCICaiAAIAJqQazQAWooAgA2AkQgCEEBaiEIDAELC0FsIQwgB0EYaiADIAQQBhADDQEgB0EsaiAHQRhqIAAoAgAQEyAHQTRqIAdBGGogACgCCBATIAdBPGogB0EYaiAAKAIEEBMgDUFgaiESIAEhBEEAIQwDQCAHKAIwIAcoAixBA3RqKQIAIhRCEIinQf8BcSEIIAcoAkAgBygCPEEDdGopAgAiFUIQiKdB/wFxIQsgBygCOCAHKAI0QQN0aikCACIWQiCIpyEJIBVCIIghFyAUQiCIpyECAkAgFkIQiKdB/wFxIgNBAk8EQAJAIAZFIANBGUlyRQRAIAkgB0EYaiADQSAgBygCHGsiCiAKIANLGyIKEAUgAyAKayIDdGohCSAHQRhqEAQaIANFDQEgB0EYaiADEAUgCWohCQwBCyAHQRhqIAMQBSAJaiEJIAdBGGoQBBoLIAcpAkQhGCAHIAk2AkQgByAYNwNIDAELAkAgA0UEQCACBEAgBygCRCEJDAMLIAcoAkghCQwBCwJAAkAgB0EYakEBEAUgCSACRWpqIgNBA0YEQCAHKAJEQX9qIgMgA0VqIQkMAQsgA0ECdCAHaigCRCIJIAlFaiEJIANBAUYNAQsgByAHKAJINgJMCwsgByAHKAJENgJIIAcgCTYCRAsgF6chAyALBEAgB0EYaiALEAUgA2ohAwsgCCALakEUTwRAIAdBGGoQBBoLIAgEQCAHQRhqIAgQBSACaiECCyAHQRhqEAQaIAcgB0EYaiAUQhiIp0H/AXEQCCAUp0H//wNxajYCLCAHIAdBGGogFUIYiKdB/wFxEAggFadB//8DcWo2AjwgB0EYahAEGiAHIAdBGGogFkIYiKdB/wFxEAggFqdB//8DcWo2AjQgByACNgJgIAcoAlwhCiAHIAk2AmggByADNgJkAkACQAJAIAQgAiADaiILaiASSw0AIAIgCmoiEyAPSw0AIA0gBGsgC0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdBKGogACgCBBATQQAhBCAHQeAAaiEMIAdB5ABqIQoDQCAHQShqEARBAksgBCAXTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEJIAcoAkggBygCREEDdGopAgAiH0IgiKchCCAeQiCIISAgHUIgiKchAgJAIB9CEIinQf8BcSIDQQJPBEACQCAGRSADQRlJckUEQCAIIAdBKGogA0EgIAcoAixrIg0gDSADSxsiDRAFIAMgDWsiA3RqIQggB0EoahAEGiADRQ0BIAdBKGogAxAFIAhqIQgMAQsgB0EoaiADEAUgCGohCCAHQShqEAQaCyAHKQJUISEgByAINgJUIAcgITcDWAwBCwJAIANFBEAgAgRAIAcoAlQhCAwDCyAHKAJYIQgMAQsCQAJAIAdBKGpBARAFIAggAkVqaiIDQQNGBEAgBygCVEF/aiIDIANFaiEIDAELIANBAnQgB2ooAlQiCCAIRWohCCADQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAg2AlQLICCnIQMgCQRAIAdBKGogCRAFIANqIQMLIAkgC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgAmohAgsgB0EoahAEGiAHIAcoAmggAmoiCSADajYCaCAKIAwgCCAJSxsoAgAhDSAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogB0EoaiAfQhiIp0H/AXEQCCEOIAdB8ABqIARBBHRqIgsgCSANaiAIazYCDCALIAg2AgggCyADNgIEIAsgAjYCACAHIA4gH6dB//8DcWo2AkQgBEEBaiEEDAELCyAEIBdIDQEgEkFgaiEYIAdB4ABqIRogB0HkAGohGyABIQMDQCAHQShqEARBAksgBCAFTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEIIAcoAkggBygCREEDdGopAgAiH0IgiKchCSAeQiCIISAgHUIgiKchDAJAIB9CEIinQf8BcSICQQJPBEACQCAGRSACQRlJckUEQCAJIAdBKGogAkEgIAcoAixrIgogCiACSxsiChAFIAIgCmsiAnRqIQkgB0EoahAEGiACRQ0BIAdBKGogAhAFIAlqIQkMAQsgB0EoaiACEAUgCWohCSAHQShqEAQaCyAHKQJUISEgByAJNgJUIAcgITcDWAwBCwJAIAJFBEAgDARAIAcoAlQhCQwDCyAHKAJYIQkMAQsCQAJAIAdBKGpBARAFIAkgDEVqaiICQQNGBEAgBygCVEF/aiICIAJFaiEJDAELIAJBAnQgB2ooAlQiCSAJRWohCSACQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAk2AlQLICCnIRQgCARAIAdBKGogCBAFIBRqIRQLIAggC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgDGohDAsgB0EoahAEGiAHIAcoAmggDGoiGSAUajYCaCAbIBogCSAZSxsoAgAhHCAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogByAHQShqIB9CGIinQf8BcRAIIB+nQf//A3FqNgJEIAcgB0HwAGogBEEDcUEEdGoiDSkDCCIdNwPIASAHIA0pAwAiHjcDwAECQAJAAkAgBygCvAEiDiAepyICaiIWIBNLDQAgAyAHKALEASIKIAJqIgtqIBhLDQAgEiADayALQSBqTw0BCyAHIAcpA8gBNwMQIAcgBykDwAE3AwggAyASIAdBCGogB0G8AWogEyAPIBUgERAeIQsMAQsgAiADaiEIIAMgDhAHIAJBEU8EQCADQRBqIQIDQCACIA5BEGoiDhAHIAJBEGoiAiAISQ0ACwsgCCAdpyIOayECIAcgFjYCvAEgDiAIIA9rSwRAIA4gCCAVa0sEQEFsIQsMAgsgESACIA9rIgJqIhYgCmogEU0EQCAIIBYgChAPGgwCCyAIIBZBACACaxAPIQggByACIApqIgo2AsQBIAggAmshCCAPIQILIA5BEE8EQCAIIApqIQoDQCAIIAIQByACQRBqIQIgCEEQaiIIIApJDQALDAELAkAgDkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgDkECdCIKQcAeaigCAGoiAhAXIAIgCkHgHmooAgBrIQIgBygCxAEhCgwBCyAIIAIQDAsgCkEJSQ0AIAggCmohCiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAKSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAKSQ0ACwsgCxADBEAgCyEQDAQFIA0gDDYCACANIBkgHGogCWs2AgwgDSAJNgIIIA0gFDYCBCAEQQFqIQQgAyALaiEDDAILAAsLIAQgBUgNASAEIBdrIQtBACEEA0AgCyAFSARAIAcgB0HwAGogC0EDcUEEdGoiAikDCCIdNwPIASAHIAIpAwAiHjcDwAECQAJAAkAgBygCvAEiDCAepyICaiIKIBNLDQAgAyAHKALEASIJIAJqIhBqIBhLDQAgEiADayAQQSBqTw0BCyAHIAcpA8gBNwMgIAcgBykDwAE3AxggAyASIAdBGGogB0G8AWogEyAPIBUgERAeIRAMAQsgAiADaiEIIAMgDBAHIAJBEU8EQCADQRBqIQIDQCACIAxBEGoiDBAHIAJBEGoiAiAISQ0ACwsgCCAdpyIGayECIAcgCjYCvAEgBiAIIA9rSwRAIAYgCCAVa0sEQEFsIRAMAgsgESACIA9rIgJqIgwgCWogEU0EQCAIIAwgCRAPGgwCCyAIIAxBACACaxAPIQggByACIAlqIgk2AsQBIAggAmshCCAPIQILIAZBEE8EQCAIIAlqIQYDQCAIIAIQByACQRBqIQIgCEEQaiIIIAZJDQALDAELAkAgBkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgBkECdCIGQcAeaigCAGoiAhAXIAIgBkHgHmooAgBrIQIgBygCxAEhCQwBCyAIIAIQDAsgCUEJSQ0AIAggCWohBiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAGSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAGSQ0ACwsgEBADDQMgC0EBaiELIAMgEGohAwwBCwsDQCAEQQNHBEAgACAEQQJ0IgJqQazQAWogAiAHaigCVDYCACAEQQFqIQQMAQsLIAcoArwBIQgLQbp/IRAgEyAIayIAIBIgA2tLDQAgAwR/IAMgCCAAEAsgAGoFQQALIAFrIRALIAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY0AAQMyIFEAMiBg0AIANBHzYCfCADIANB/ABqIANB+ABqIAQgBCAFaiAGGyIEIAEgAmoiAiAEaxAVIgUQAw0AIAMoAnwiBkEfSw0AIAMoAngiB0EJTw0AIABBiCBqIAMgBkGAC0GADCAHEBggA0E0NgJ8IAMgA0H8AGogA0H4AGogBCAFaiIEIAIgBGsQFSIFEAMNACADKAJ8IgZBNEsNACADKAJ4IgdBCk8NACAAQZAwaiADIAZBgA1B4A4gBxAYIANBIzYCfCADIANB/ABqIANB+ABqIAQgBWoiBCACIARrEBUiBRADDQAgAygCfCIGQSNLDQAgAygCeCIHQQpPDQAgACADIAZBwBBB0BEgBxAYIAQgBWoiBEEMaiIFIAJLDQAgAiAFayEFQQAhAgNAIAJBA0cEQCAEKAAAIgZBf2ogBU8NAiAAIAJBAnRqQZzQAWogBjYCACACQQFqIQIgBEEEaiEEDAELCyAEIAFrIQgLIANBgAFqJAAgCAtGAQN/IABBCGohAyAAKAIEIQJBACEAA0AgACACdkUEQCABIAMgAEEDdGotAAJBFktqIQEgAEEBaiEADAELCyABQQggAmt0C4YDAQV/Qbh/IQcCQCADRQ0AIAItAAAiBEUEQCABQQA2AgBBAUG4fyADQQFGGw8LAn8gAkEBaiIFIARBGHRBGHUiBkF/Sg0AGiAGQX9GBEAgA0EDSA0CIAUvAABBgP4BaiEEIAJBA2oMAQsgA0ECSA0BIAItAAEgBEEIdHJBgIB+aiEEIAJBAmoLIQUgASAENgIAIAVBAWoiASACIANqIgNLDQBBbCEHIABBEGogACAFLQAAIgVBBnZBI0EJIAEgAyABa0HAEEHQEUHwEiAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBmCBqIABBCGogBUEEdkEDcUEfQQggASABIAZqIAgbIgEgAyABa0GAC0GADEGAFyAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBoDBqIABBBGogBUECdkEDcUE0QQkgASABIAZqIAgbIgEgAyABa0GADUHgDkGQGSAAKAKM4QEgACgCnOIBIAQQHyIAEAMNACAAIAFqIAJrIQcLIAcLrQMBCn8jAEGABGsiCCQAAn9BUiACQf8BSw0AGkFUIANBDEsNABogAkEBaiELIABBBGohCUGAgAQgA0F/anRBEHUhCkEAIQJBASEEQQEgA3QiB0F/aiIMIQUDQCACIAtGRQRAAkAgASACQQF0Ig1qLwEAIgZB//8DRgRAIAkgBUECdGogAjoAAiAFQX9qIQVBASEGDAELIARBACAKIAZBEHRBEHVKGyEECyAIIA1qIAY7AQAgAkEBaiECDAELCyAAIAQ7AQIgACADOwEAIAdBA3YgB0EBdmpBA2ohBkEAIQRBACECA0AgBCALRkUEQCABIARBAXRqLgEAIQpBACEAA0AgACAKTkUEQCAJIAJBAnRqIAQ6AAIDQCACIAZqIAxxIgIgBUsNAAsgAEEBaiEADAELCyAEQQFqIQQMAQsLQX8gAg0AGkEAIQIDfyACIAdGBH9BAAUgCCAJIAJBAnRqIgAtAAJBAXRqIgEgAS8BACIBQQFqOwEAIAAgAyABEBRrIgU6AAMgACABIAVB/wFxdCAHazsBACACQQFqIQIMAQsLCyEFIAhBgARqJAAgBQvjBgEIf0FsIQcCQCACQQNJDQACQAJAAkACQCABLQAAIgNBA3EiCUEBaw4DAwEAAgsgACgCiOEBDQBBYg8LIAJBBUkNAkEDIQYgASgAACEFAn8CQAJAIANBAnZBA3EiCEF+aiIEQQFNBEAgBEEBaw0BDAILIAVBDnZB/wdxIQQgBUEEdkH/B3EhAyAIRQwCCyAFQRJ2IQRBBCEGIAVBBHZB//8AcSEDQQAMAQsgBUEEdkH//w9xIgNBgIAISw0DIAEtAARBCnQgBUEWdnIhBEEFIQZBAAshBSAEIAZqIgogAksNAgJAIANBgQZJDQAgACgCnOIBRQ0AQQAhAgNAIAJBg4ABSw0BIAJBQGshAgwAAAsACwJ/IAlBA0YEQCABIAZqIQEgAEHw4gFqIQIgACgCDCEGIAUEQCACIAMgASAEIAYQXwwCCyACIAMgASAEIAYQXQwBCyAAQbjQAWohAiABIAZqIQEgAEHw4gFqIQYgAEGo0ABqIQggBQRAIAggBiADIAEgBCACEF4MAQsgCCAGIAMgASAEIAIQXAsQAw0CIAAgAzYCgOIBIABBATYCiOEBIAAgAEHw4gFqNgLw4QEgCUECRgRAIAAgAEGo0ABqNgIMCyAAIANqIgBBiOMBakIANwAAIABBgOMBakIANwAAIABB+OIBakIANwAAIABB8OIBakIANwAAIAoPCwJ/AkACQAJAIANBAnZBA3FBf2oiBEECSw0AIARBAWsOAgACAQtBASEEIANBA3YMAgtBAiEEIAEvAABBBHYMAQtBAyEEIAEQIUEEdgsiAyAEaiIFQSBqIAJLBEAgBSACSw0CIABB8OIBaiABIARqIAMQCyEBIAAgAzYCgOIBIAAgATYC8OEBIAEgA2oiAEIANwAYIABCADcAECAAQgA3AAggAEIANwAAIAUPCyAAIAM2AoDiASAAIAEgBGo2AvDhASAFDwsCfwJAAkACQCADQQJ2QQNxQX9qIgRBAksNACAEQQFrDgIAAgELQQEhByADQQN2DAILQQIhByABLwAAQQR2DAELIAJBBEkgARAhIgJBj4CAAUtyDQFBAyEHIAJBBHYLIQIgAEHw4gFqIAEgB2otAAAgAkEgahAQIQEgACACNgKA4gEgACABNgLw4QEgB0EBaiEHCyAHC0sAIABC+erQ0OfJoeThADcDICAAQgA3AxggAELP1tO+0ser2UI3AxAgAELW64Lu6v2J9eAANwMIIABCADcDACAAQShqQQBBKBAQGgviAgICfwV+IABBKGoiASAAKAJIaiECAn4gACkDACIDQiBaBEAgACkDECIEQgeJIAApAwgiBUIBiXwgACkDGCIGQgyJfCAAKQMgIgdCEol8IAUQGSAEEBkgBhAZIAcQGQwBCyAAKQMYQsXP2bLx5brqJ3wLIAN8IQMDQCABQQhqIgAgAk0EQEIAIAEpAAAQCSADhUIbiUKHla+vmLbem55/fkLj3MqV/M7y9YV/fCEDIAAhAQwBCwsCQCABQQRqIgAgAksEQCABIQAMAQsgASgAAK1Ch5Wvr5i23puef34gA4VCF4lCz9bTvtLHq9lCfkL5893xmfaZqxZ8IQMLA0AgACACSQRAIAAxAABCxc/ZsvHluuonfiADhUILiUKHla+vmLbem55/fiEDIABBAWohAAwBCwsgA0IhiCADhULP1tO+0ser2UJ+IgNCHYggA4VC+fPd8Zn2masWfiIDQiCIIAOFC+8CAgJ/BH4gACAAKQMAIAKtfDcDAAJAAkAgACgCSCIDIAJqIgRBH00EQCABRQ0BIAAgA2pBKGogASACECAgACgCSCACaiEEDAELIAEgAmohAgJ/IAMEQCAAQShqIgQgA2ogAUEgIANrECAgACAAKQMIIAQpAAAQCTcDCCAAIAApAxAgACkAMBAJNwMQIAAgACkDGCAAKQA4EAk3AxggACAAKQMgIABBQGspAAAQCTcDICAAKAJIIQMgAEEANgJIIAEgA2tBIGohAQsgAUEgaiACTQsEQCACQWBqIQMgACkDICEFIAApAxghBiAAKQMQIQcgACkDCCEIA0AgCCABKQAAEAkhCCAHIAEpAAgQCSEHIAYgASkAEBAJIQYgBSABKQAYEAkhBSABQSBqIgEgA00NAAsgACAFNwMgIAAgBjcDGCAAIAc3AxAgACAINwMICyABIAJPDQEgAEEoaiABIAIgAWsiBBAgCyAAIAQ2AkgLCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQEBogAwVBun8LCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQCxogAwVBun8LC6gCAQZ/IwBBEGsiByQAIABB2OABaikDAEKAgIAQViEIQbh/IQUCQCAEQf//B0sNACAAIAMgBBBCIgUQAyIGDQAgACgCnOIBIQkgACAHQQxqIAMgAyAFaiAGGyIKIARBACAFIAYbayIGEEAiAxADBEAgAyEFDAELIAcoAgwhBCABRQRAQbp/IQUgBEEASg0BCyAGIANrIQUgAyAKaiEDAkAgCQRAIABBADYCnOIBDAELAkACQAJAIARBBUgNACAAQdjgAWopAwBCgICACFgNAAwBCyAAQQA2ApziAQwBCyAAKAIIED8hBiAAQQA2ApziASAGQRRPDQELIAAgASACIAMgBSAEIAgQOSEFDAELIAAgASACIAMgBSAEIAgQOiEFCyAHQRBqJAAgBQtnACAAQdDgAWogASACIAAoAuzhARAuIgEQAwRAIAEPC0G4fyECAkAgAQ0AIABB7OABaigCACIBBEBBYCECIAAoApjiASABRw0BC0EAIQIgAEHw4AFqKAIARQ0AIABBkOEBahBDCyACCycBAX8QVyIERQRAQUAPCyAEIAAgASACIAMgBBBLEE8hACAEEFYgAAs/AQF/AkACQAJAIAAoAqDiAUEBaiIBQQJLDQAgAUEBaw4CAAECCyAAEDBBAA8LIABBADYCoOIBCyAAKAKU4gELvAMCB38BfiMAQRBrIgkkAEG4fyEGAkAgBCgCACIIQQVBCSAAKALs4QEiBRtJDQAgAygCACIHQQFBBSAFGyAFEC8iBRADBEAgBSEGDAELIAggBUEDakkNACAAIAcgBRBJIgYQAw0AIAEgAmohCiAAQZDhAWohCyAIIAVrIQIgBSAHaiEHIAEhBQNAIAcgAiAJECwiBhADDQEgAkF9aiICIAZJBEBBuH8hBgwCCyAJKAIAIghBAksEQEFsIQYMAgsgB0EDaiEHAn8CQAJAAkAgCEEBaw4CAgABCyAAIAUgCiAFayAHIAYQSAwCCyAFIAogBWsgByAGEEcMAQsgBSAKIAVrIActAAAgCSgCCBBGCyIIEAMEQCAIIQYMAgsgACgC8OABBEAgCyAFIAgQRQsgAiAGayECIAYgB2ohByAFIAhqIQUgCSgCBEUNAAsgACkD0OABIgxCf1IEQEFsIQYgDCAFIAFrrFINAQsgACgC8OABBEBBaiEGIAJBBEkNASALEEQhDCAHKAAAIAynRw0BIAdBBGohByACQXxqIQILIAMgBzYCACAEIAI2AgAgBSABayEGCyAJQRBqJAAgBgsuACAAECsCf0EAQQAQAw0AGiABRSACRXJFBEBBYiAAIAEgAhA9EAMNARoLQQALCzcAIAEEQCAAIAAoAsTgASABKAIEIAEoAghqRzYCnOIBCyAAECtBABADIAFFckUEQCAAIAEQWwsL0QIBB38jAEEQayIGJAAgBiAENgIIIAYgAzYCDCAFBEAgBSgCBCEKIAUoAgghCQsgASEIAkACQANAIAAoAuzhARAWIQsCQANAIAQgC0kNASADKAAAQXBxQdDUtMIBRgRAIAMgBBAiIgcQAw0EIAQgB2shBCADIAdqIQMMAQsLIAYgAzYCDCAGIAQ2AggCQCAFBEAgACAFEE5BACEHQQAQA0UNAQwFCyAAIAogCRBNIgcQAw0ECyAAIAgQUCAMQQFHQQAgACAIIAIgBkEMaiAGQQhqEEwiByIDa0EAIAMQAxtBCkdyRQRAQbh/IQcMBAsgBxADDQMgAiAHayECIAcgCGohCEEBIQwgBigCDCEDIAYoAgghBAwBCwsgBiADNgIMIAYgBDYCCEG4fyEHIAQNASAIIAFrIQcMAQsgBiADNgIMIAYgBDYCCAsgBkEQaiQAIAcLRgECfyABIAAoArjgASICRwRAIAAgAjYCxOABIAAgATYCuOABIAAoArzgASEDIAAgATYCvOABIAAgASADIAJrajYCwOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEEdCAAbiECCyAAQQh2IgEgAkEYbCIAQYwIaigCAGwgAEGICGooAgBqIgJBA3YgAmogAEGACGooAgAgAEGECGooAgAgAWxqSQs3ACAAIAMgBCAFQYAQEDMiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQMgVBuH8LC78DAQN/IwBBIGsiBSQAIAVBCGogAiADEAYiAhADRQRAIAAgAWoiB0F9aiEGIAUgBBAOIARBBGohAiAFLQACIQMDQEEAIAAgBkkgBUEIahAEGwRAIAAgAiAFQQhqIAMQAkECdGoiBC8BADsAACAFQQhqIAQtAAIQASAAIAQtAANqIgQgAiAFQQhqIAMQAkECdGoiAC8BADsAACAFQQhqIAAtAAIQASAEIAAtAANqIQAMAQUgB0F+aiEEA0AgBUEIahAEIAAgBEtyRQRAIAAgAiAFQQhqIAMQAkECdGoiBi8BADsAACAFQQhqIAYtAAIQASAAIAYtAANqIQAMAQsLA0AgACAES0UEQCAAIAIgBUEIaiADEAJBAnRqIgYvAQA7AAAgBUEIaiAGLQACEAEgACAGLQADaiEADAELCwJAIAAgB08NACAAIAIgBUEIaiADEAIiA0ECdGoiAC0AADoAACAALQADQQFGBEAgBUEIaiAALQACEAEMAQsgBSgCDEEfSw0AIAVBCGogAiADQQJ0ai0AAhABIAUoAgxBIUkNACAFQSA2AgwLIAFBbCAFQQhqEAobIQILCwsgBUEgaiQAIAILkgIBBH8jAEFAaiIJJAAgCSADQTQQCyEDAkAgBEECSA0AIAMgBEECdGooAgAhCSADQTxqIAgQIyADQQE6AD8gAyACOgA+QQAhBCADKAI8IQoDQCAEIAlGDQEgACAEQQJ0aiAKNgEAIARBAWohBAwAAAsAC0EAIQkDQCAGIAlGRQRAIAMgBSAJQQF0aiIKLQABIgtBAnRqIgwoAgAhBCADQTxqIAotAABBCHQgCGpB//8DcRAjIANBAjoAPyADIAcgC2siCiACajoAPiAEQQEgASAKa3RqIQogAygCPCELA0AgACAEQQJ0aiALNgEAIARBAWoiBCAKSQ0ACyAMIAo2AgAgCUEBaiEJDAELCyADQUBrJAALowIBCX8jAEHQAGsiCSQAIAlBEGogBUE0EAsaIAcgBmshDyAHIAFrIRADQAJAIAMgCkcEQEEBIAEgByACIApBAXRqIgYtAAEiDGsiCGsiC3QhDSAGLQAAIQ4gCUEQaiAMQQJ0aiIMKAIAIQYgCyAPTwRAIAAgBkECdGogCyAIIAUgCEE0bGogCCAQaiIIQQEgCEEBShsiCCACIAQgCEECdGooAgAiCEEBdGogAyAIayAHIA4QYyAGIA1qIQgMAgsgCUEMaiAOECMgCUEBOgAPIAkgCDoADiAGIA1qIQggCSgCDCELA0AgBiAITw0CIAAgBkECdGogCzYBACAGQQFqIQYMAAALAAsgCUHQAGokAA8LIAwgCDYCACAKQQFqIQoMAAALAAs0ACAAIAMgBCAFEDYiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQNAVBuH8LCyMAIAA/AEEQdGtB//8DakEQdkAAQX9GBEBBAA8LQQAQAEEBCzsBAX8gAgRAA0AgACABIAJBgCAgAkGAIEkbIgMQCyEAIAFBgCBqIQEgAEGAIGohACACIANrIgINAAsLCwYAIAAQAwsLqBUJAEGICAsNAQAAAAEAAAACAAAAAgBBoAgLswYBAAAAAQAAAAIAAAACAAAAJgAAAIIAAAAhBQAASgAAAGcIAAAmAAAAwAEAAIAAAABJBQAASgAAAL4IAAApAAAALAIAAIAAAABJBQAASgAAAL4IAAAvAAAAygIAAIAAAACKBQAASgAAAIQJAAA1AAAAcwMAAIAAAACdBQAASgAAAKAJAAA9AAAAgQMAAIAAAADrBQAASwAAAD4KAABEAAAAngMAAIAAAABNBgAASwAAAKoKAABLAAAAswMAAIAAAADBBgAATQAAAB8NAABNAAAAUwQAAIAAAAAjCAAAUQAAAKYPAABUAAAAmQQAAIAAAABLCQAAVwAAALESAABYAAAA2gQAAIAAAABvCQAAXQAAACMUAABUAAAARQUAAIAAAABUCgAAagAAAIwUAABqAAAArwUAAIAAAAB2CQAAfAAAAE4QAAB8AAAA0gIAAIAAAABjBwAAkQAAAJAHAACSAAAAAAAAAAEAAAABAAAABQAAAA0AAAAdAAAAPQAAAH0AAAD9AAAA/QEAAP0DAAD9BwAA/Q8AAP0fAAD9PwAA/X8AAP3/AAD9/wEA/f8DAP3/BwD9/w8A/f8fAP3/PwD9/38A/f//AP3//wH9//8D/f//B/3//w/9//8f/f//P/3//38AAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAAFAAAABUAAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAACUAAAAnAAAAKQAAACsAAAAvAAAAMwAAADsAAABDAAAAUwAAAGMAAACDAAAAAwEAAAMCAAADBAAAAwgAAAMQAAADIAAAA0AAAAOAAAADAAEAQeAPC1EBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAQcQQC4sBAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABIAAAAUAAAAFgAAABgAAAAcAAAAIAAAACgAAAAwAAAAQAAAAIAAAAAAAQAAAAIAAAAEAAAACAAAABAAAAAgAAAAQAAAAIAAAAAAAQBBkBIL5gQBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAAAEAAAAEAAAACAAAAAAAAAABAAEBBgAAAAAAAAQAAAAAEAAABAAAAAAgAAAFAQAAAAAAAAUDAAAAAAAABQQAAAAAAAAFBgAAAAAAAAUHAAAAAAAABQkAAAAAAAAFCgAAAAAAAAUMAAAAAAAABg4AAAAAAAEFEAAAAAAAAQUUAAAAAAABBRYAAAAAAAIFHAAAAAAAAwUgAAAAAAAEBTAAAAAgAAYFQAAAAAAABwWAAAAAAAAIBgABAAAAAAoGAAQAAAAADAYAEAAAIAAABAAAAAAAAAAEAQAAAAAAAAUCAAAAIAAABQQAAAAAAAAFBQAAACAAAAUHAAAAAAAABQgAAAAgAAAFCgAAAAAAAAULAAAAAAAABg0AAAAgAAEFEAAAAAAAAQUSAAAAIAABBRYAAAAAAAIFGAAAACAAAwUgAAAAAAADBSgAAAAAAAYEQAAAABAABgRAAAAAIAAHBYAAAAAAAAkGAAIAAAAACwYACAAAMAAABAAAAAAQAAAEAQAAACAAAAUCAAAAIAAABQMAAAAgAAAFBQAAACAAAAUGAAAAIAAABQgAAAAgAAAFCQAAACAAAAULAAAAIAAABQwAAAAAAAAGDwAAACAAAQUSAAAAIAABBRQAAAAgAAIFGAAAACAAAgUcAAAAIAADBSgAAAAgAAQFMAAAAAAAEAYAAAEAAAAPBgCAAAAAAA4GAEAAAAAADQYAIABBgBcLhwIBAAEBBQAAAAAAAAUAAAAAAAAGBD0AAAAAAAkF/QEAAAAADwX9fwAAAAAVBf3/HwAAAAMFBQAAAAAABwR9AAAAAAAMBf0PAAAAABIF/f8DAAAAFwX9/38AAAAFBR0AAAAAAAgE/QAAAAAADgX9PwAAAAAUBf3/DwAAAAIFAQAAABAABwR9AAAAAAALBf0HAAAAABEF/f8BAAAAFgX9/z8AAAAEBQ0AAAAQAAgE/QAAAAAADQX9HwAAAAATBf3/BwAAAAEFAQAAABAABgQ9AAAAAAAKBf0DAAAAABAF/f8AAAAAHAX9//8PAAAbBf3//wcAABoF/f//AwAAGQX9//8BAAAYBf3//wBBkBkLhgQBAAEBBgAAAAAAAAYDAAAAAAAABAQAAAAgAAAFBQAAAAAAAAUGAAAAAAAABQgAAAAAAAAFCQAAAAAAAAULAAAAAAAABg0AAAAAAAAGEAAAAAAAAAYTAAAAAAAABhYAAAAAAAAGGQAAAAAAAAYcAAAAAAAABh8AAAAAAAAGIgAAAAAAAQYlAAAAAAABBikAAAAAAAIGLwAAAAAAAwY7AAAAAAAEBlMAAAAAAAcGgwAAAAAACQYDAgAAEAAABAQAAAAAAAAEBQAAACAAAAUGAAAAAAAABQcAAAAgAAAFCQAAAAAAAAUKAAAAAAAABgwAAAAAAAAGDwAAAAAAAAYSAAAAAAAABhUAAAAAAAAGGAAAAAAAAAYbAAAAAAAABh4AAAAAAAAGIQAAAAAAAQYjAAAAAAABBicAAAAAAAIGKwAAAAAAAwYzAAAAAAAEBkMAAAAAAAUGYwAAAAAACAYDAQAAIAAABAQAAAAwAAAEBAAAABAAAAQFAAAAIAAABQcAAAAgAAAFCAAAACAAAAUKAAAAIAAABQsAAAAAAAAGDgAAAAAAAAYRAAAAAAAABhQAAAAAAAAGFwAAAAAAAAYaAAAAAAAABh0AAAAAAAAGIAAAAAAAEAYDAAEAAAAPBgOAAAAAAA4GA0AAAAAADQYDIAAAAAAMBgMQAAAAAAsGAwgAAAAACgYDBABBpB0L2QEBAAAAAwAAAAcAAAAPAAAAHwAAAD8AAAB/AAAA/wAAAP8BAAD/AwAA/wcAAP8PAAD/HwAA/z8AAP9/AAD//wAA//8BAP//AwD//wcA//8PAP//HwD//z8A//9/AP///wD///8B////A////wf///8P////H////z////9/AAAAAAEAAAACAAAABAAAAAAAAAACAAAABAAAAAgAAAAAAAAAAQAAAAIAAAABAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAcAAAAIAAAACQAAAAoAAAALAEGgIAsDwBBQ"},"./node_modules/super-three/examples/jsm/lights/LightProbeGenerator.js":(l,u,c)=>{c.r(u),c.d(u,{LightProbeGenerator:()=>h});var d=c("./node_modules/super-three/build/three.module.js");class h{static fromCubeTexture(v){let y=0;const A=new d.Vector3,b=new d.Vector3,g=new d.Color,w=[0,0,0,0,0,0,0,0,0],E=new d.SphericalHarmonics3,C=E.coefficients;for(let L=0;L<6;L++){const R=v.image[L],P=R.width,T=R.height,D=document.createElement("canvas");D.width=P,D.height=T;const $=D.getContext("2d");$.drawImage(R,0,0,P,T);const V=$.getImageData(0,0,P,T),B=V.data,O=V.width,F=2/O;for(let k=0,z=B.length;k<z;k+=4){g.setRGB(B[k]/255,B[k+1]/255,B[k+2]/255),p(g,v.encoding);const G=k/4,j=-1+(G%O+.5)*F,Q=1-(Math.floor(G/O)+.5)*F;switch(L){case 0:A.set(-1,Q,-j);break;case 1:A.set(1,Q,j);break;case 2:A.set(-j,1,-Q);break;case 3:A.set(-j,-1,Q);break;case 4:A.set(-j,Q,1);break;case 5:A.set(j,Q,-1);break}const X=A.lengthSq(),J=4/(Math.sqrt(X)*X);y+=J,b.copy(A).normalize(),d.SphericalHarmonics3.getBasisAt(b,w);for(let Z=0;Z<9;Z++)C[Z].x+=w[Z]*g.r*J,C[Z].y+=w[Z]*g.g*J,C[Z].z+=w[Z]*g.b*J}}const _=4*Math.PI/y;for(let L=0;L<9;L++)C[L].x*=_,C[L].y*=_,C[L].z*=_;return new d.LightProbe(E)}static fromCubeRenderTarget(v,y){let A=0;const b=new d.Vector3,g=new d.Vector3,w=new d.Color,E=[0,0,0,0,0,0,0,0,0],C=new d.SphericalHarmonics3,_=C.coefficients;for(let R=0;R<6;R++){const P=y.width,T=new Uint8Array(P*P*4);v.readRenderTargetPixels(y,0,0,P,P,T,R);const D=2/P;for(let $=0,V=T.length;$<V;$+=4){w.setRGB(T[$]/255,T[$+1]/255,T[$+2]/255),p(w,y.texture.encoding);const B=$/4,O=-1+(B%P+.5)*D,F=1-(Math.floor(B/P)+.5)*D;switch(R){case 0:b.set(1,F,-O);break;case 1:b.set(-1,F,O);break;case 2:b.set(O,1,-F);break;case 3:b.set(O,-1,F);break;case 4:b.set(O,F,1);break;case 5:b.set(-O,F,-1);break}const k=b.lengthSq(),z=4/(Math.sqrt(k)*k);A+=z,g.copy(b).normalize(),d.SphericalHarmonics3.getBasisAt(g,E);for(let G=0;G<9;G++)_[G].x+=E[G]*w.r*z,_[G].y+=E[G]*w.g*z,_[G].z+=E[G]*w.b*z}}const L=4*Math.PI/A;for(let R=0;R<9;R++)_[R].x*=L,_[R].y*=L,_[R].z*=L;return new d.LightProbe(C)}}function p(m,v){switch(v){case d.sRGBEncoding:m.convertSRGBToLinear();break;case d.LinearEncoding:break;default:console.warn("WARNING: LightProbeGenerator convertColorToLinear() encountered an unsupported encoding.");break}return m}},"./node_modules/super-three/examples/jsm/loaders/DRACOLoader.js":(l,u,c)=>{c.r(u),c.d(u,{DRACOLoader:()=>p});var d=c("./node_modules/super-three/build/three.module.js");const h=new WeakMap;class p extends d.Loader{constructor(y){super(y),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(y){return this.decoderPath=y,this}setDecoderConfig(y){return this.decoderConfig=y,this}setWorkerLimit(y){return this.workerLimit=y,this}load(y,A,b,g){const w=new d.FileLoader(this.manager);w.setPath(this.path),w.setResponseType("arraybuffer"),w.setRequestHeader(this.requestHeader),w.setWithCredentials(this.withCredentials),w.load(y,E=>{this.decodeDracoFile(E,A).catch(g)},b,g)}decodeDracoFile(y,A,b,g){const w={attributeIDs:b||this.defaultAttributeIDs,attributeTypes:g||this.defaultAttributeTypes,useUniqueIDs:!!b};return this.decodeGeometry(y,w).then(A)}decodeGeometry(y,A){const b=JSON.stringify(A);if(h.has(y)){const _=h.get(y);if(_.key===b)return _.promise;if(y.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let g;const w=this.workerNextTaskID++,E=y.byteLength,C=this._getWorker(w,E).then(_=>(g=_,new Promise((L,R)=>{g._callbacks[w]={resolve:L,reject:R},g.postMessage({type:"decode",id:w,taskConfig:A,buffer:y},[y])}))).then(_=>this._createGeometry(_.geometry));return C.catch(()=>!0).then(()=>{g&&w&&this._releaseTask(g,w)}),h.set(y,{key:b,promise:C}),C}_createGeometry(y){const A=new d.BufferGeometry;y.index&&A.setIndex(new d.BufferAttribute(y.index.array,1));for(let b=0;b<y.attributes.length;b++){const g=y.attributes[b],w=g.name,E=g.array,C=g.itemSize;A.setAttribute(w,new d.BufferAttribute(E,C))}return A}_loadLibrary(y,A){const b=new d.FileLoader(this.manager);return b.setPath(this.decoderPath),b.setResponseType(A),b.setWithCredentials(this.withCredentials),new Promise((g,w)=>{b.load(y,g,void 0,w)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const y=typeof WebAssembly!="object"||this.decoderConfig.type==="js",A=[];return y?A.push(this._loadLibrary("draco_decoder.js","text")):(A.push(this._loadLibrary("draco_wasm_wrapper.js","text")),A.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(A).then(b=>{const g=b[0];y||(this.decoderConfig.wasmBinary=b[1]);const w=m.toString(),E=["/* draco decoder */",g,"","/* worker */",w.substring(w.indexOf("{")+1,w.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([E]))}),this.decoderPending}_getWorker(y,A){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const g=new Worker(this.workerSourceURL);g._callbacks={},g._taskCosts={},g._taskLoad=0,g.postMessage({type:"init",decoderConfig:this.decoderConfig}),g.onmessage=function(w){const E=w.data;switch(E.type){case"decode":g._callbacks[E.id].resolve(E);break;case"error":g._callbacks[E.id].reject(E);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+E.type+'"')}},this.workerPool.push(g)}else this.workerPool.sort(function(g,w){return g._taskLoad>w._taskLoad?-1:1});const b=this.workerPool[this.workerPool.length-1];return b._taskCosts[y]=A,b._taskLoad+=A,b})}_releaseTask(y,A){y._taskLoad-=y._taskCosts[A],delete y._callbacks[A],delete y._taskCosts[A]}debug(){console.log("Task load: ",this.workerPool.map(y=>y._taskLoad))}dispose(){for(let y=0;y<this.workerPool.length;++y)this.workerPool[y].terminate();return this.workerPool.length=0,this}}function m(){let v,y;onmessage=function(E){const C=E.data;switch(C.type){case"init":v=C.decoderConfig,y=new Promise(function(R){v.onModuleLoaded=function(P){R({draco:P})},DracoDecoderModule(v)});break;case"decode":const _=C.buffer,L=C.taskConfig;y.then(R=>{const P=R.draco,T=new P.Decoder,D=new P.DecoderBuffer;D.Init(new Int8Array(_),_.byteLength);try{const $=A(P,T,D,L),V=$.attributes.map(B=>B.array.buffer);$.index&&V.push($.index.array.buffer),self.postMessage({type:"decode",id:C.id,geometry:$},V)}catch($){console.error($),self.postMessage({type:"error",id:C.id,error:$.message})}finally{P.destroy(D),P.destroy(T)}});break}};function A(E,C,_,L){const R=L.attributeIDs,P=L.attributeTypes;let T,D;const $=C.GetEncodedGeometryType(_);if($===E.TRIANGULAR_MESH)T=new E.Mesh,D=C.DecodeBufferToMesh(_,T);else if($===E.POINT_CLOUD)T=new E.PointCloud,D=C.DecodeBufferToPointCloud(_,T);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!D.ok()||T.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+D.error_msg());const V={index:null,attributes:[]};for(const B in R){const O=self[P[B]];let F,k;if(L.useUniqueIDs)k=R[B],F=C.GetAttributeByUniqueId(T,k);else{if(k=C.GetAttributeId(T,E[R[B]]),k===-1)continue;F=C.GetAttribute(T,k)}V.attributes.push(g(E,C,T,B,O,F))}return $===E.TRIANGULAR_MESH&&(V.index=b(E,C,T)),E.destroy(T),V}function b(E,C,_){const R=_.num_faces()*3,P=R*4,T=E._malloc(P);C.GetTrianglesUInt32Array(_,P,T);const D=new Uint32Array(E.HEAPF32.buffer,T,R).slice();return E._free(T),{array:D,itemSize:1}}function g(E,C,_,L,R,P){const T=P.num_components(),$=_.num_points()*T,V=$*R.BYTES_PER_ELEMENT,B=w(E,R),O=E._malloc(V);C.GetAttributeDataArrayForAllPoints(_,P,B,V,O);const F=new R(E.HEAPF32.buffer,O,$).slice();return E._free(O),{name:L,array:F,itemSize:T}}function w(E,C){switch(C){case Float32Array:return E.DT_FLOAT32;case Int8Array:return E.DT_INT8;case Int16Array:return E.DT_INT16;case Int32Array:return E.DT_INT32;case Uint8Array:return E.DT_UINT8;case Uint16Array:return E.DT_UINT16;case Uint32Array:return E.DT_UINT32}}}},"./node_modules/super-three/examples/jsm/loaders/GLTFLoader.js":(l,u,c)=>{c.r(u),c.d(u,{GLTFLoader:()=>h});var d=c("./node_modules/super-three/build/three.module.js");class h extends d.Loader{constructor(fe){super(fe),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(me){return new b(me)}),this.register(function(me){return new R(me)}),this.register(function(me){return new P(me)}),this.register(function(me){return new w(me)}),this.register(function(me){return new E(me)}),this.register(function(me){return new C(me)}),this.register(function(me){return new _(me)}),this.register(function(me){return new A(me)}),this.register(function(me){return new L(me)}),this.register(function(me){return new g(me)}),this.register(function(me){return new v(me)}),this.register(function(me){return new T(me)}),this.register(function(me){return new D(me)})}load(fe,me,Te,Ce){const Se=this;let we;this.resourcePath!==""?we=this.resourcePath:this.path!==""?we=this.path:we=d.LoaderUtils.extractUrlBase(fe),this.manager.itemStart(fe);const Ge=function(Ue){Ce?Ce(Ue):console.error(Ue),Se.manager.itemError(fe),Se.manager.itemEnd(fe)},Ae=new d.FileLoader(this.manager);Ae.setPath(this.path),Ae.setResponseType("arraybuffer"),Ae.setRequestHeader(this.requestHeader),Ae.setWithCredentials(this.withCredentials),Ae.load(fe,function(Ue){try{Se.parse(Ue,we,function(et){me(et),Se.manager.itemEnd(fe)},Ge)}catch(et){Ge(et)}},Te,Ge)}setDRACOLoader(fe){return this.dracoLoader=fe,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(fe){return this.ktx2Loader=fe,this}setMeshoptDecoder(fe){return this.meshoptDecoder=fe,this}register(fe){return this.pluginCallbacks.indexOf(fe)===-1&&this.pluginCallbacks.push(fe),this}unregister(fe){return this.pluginCallbacks.indexOf(fe)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(fe),1),this}parse(fe,me,Te,Ce){let Se;const we={},Ge={};if(typeof fe=="string")Se=JSON.parse(fe);else if(fe instanceof ArrayBuffer)if(d.LoaderUtils.decodeText(new Uint8Array(fe,0,4))===$){try{we[m.KHR_BINARY_GLTF]=new O(fe)}catch(et){Ce&&Ce(et);return}Se=JSON.parse(we[m.KHR_BINARY_GLTF].content)}else Se=JSON.parse(d.LoaderUtils.decodeText(new Uint8Array(fe)));else Se=fe;if(Se.asset===void 0||Se.asset.version[0]<2){Ce&&Ce(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const Ae=new Ct(Se,{path:me||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});Ae.fileLoader.setRequestHeader(this.requestHeader);for(let Ue=0;Ue<this.pluginCallbacks.length;Ue++){const et=this.pluginCallbacks[Ue](Ae);Ge[et.name]=et,we[et.name]=!0}if(Se.extensionsUsed)for(let Ue=0;Ue<Se.extensionsUsed.length;++Ue){const et=Se.extensionsUsed[Ue],ce=Se.extensionsRequired||[];switch(et){case m.KHR_MATERIALS_UNLIT:we[et]=new y;break;case m.KHR_DRACO_MESH_COMPRESSION:we[et]=new F(Se,this.dracoLoader);break;case m.KHR_TEXTURE_TRANSFORM:we[et]=new k;break;case m.KHR_MESH_QUANTIZATION:we[et]=new z;break;default:ce.indexOf(et)>=0&&Ge[et]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+et+'".')}}Ae.setExtensions(we),Ae.setPlugins(Ge),Ae.parse(Te,Ce)}parseAsync(fe,me){const Te=this;return new Promise(function(Ce,Se){Te.parse(fe,me,Ce,Se)})}}function p(){let be={};return{get:function(fe){return be[fe]},add:function(fe,me){be[fe]=me},remove:function(fe){delete be[fe]},removeAll:function(){be={}}}}const m={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class v{constructor(fe){this.parser=fe,this.name=m.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const fe=this.parser,me=this.parser.json.nodes||[];for(let Te=0,Ce=me.length;Te<Ce;Te++){const Se=me[Te];Se.extensions&&Se.extensions[this.name]&&Se.extensions[this.name].light!==void 0&&fe._addNodeRef(this.cache,Se.extensions[this.name].light)}}_loadLight(fe){const me=this.parser,Te="light:"+fe;let Ce=me.cache.get(Te);if(Ce)return Ce;const Se=me.json,Ae=((Se.extensions&&Se.extensions[this.name]||{}).lights||[])[fe];let Ue;const et=new d.Color(16777215);Ae.color!==void 0&&et.fromArray(Ae.color);const ce=Ae.range!==void 0?Ae.range:0;switch(Ae.type){case"directional":Ue=new d.DirectionalLight(et),Ue.target.position.set(0,0,-1),Ue.add(Ue.target);break;case"point":Ue=new d.PointLight(et),Ue.distance=ce;break;case"spot":Ue=new d.SpotLight(et),Ue.distance=ce,Ae.spot=Ae.spot||{},Ae.spot.innerConeAngle=Ae.spot.innerConeAngle!==void 0?Ae.spot.innerConeAngle:0,Ae.spot.outerConeAngle=Ae.spot.outerConeAngle!==void 0?Ae.spot.outerConeAngle:Math.PI/4,Ue.angle=Ae.spot.outerConeAngle,Ue.penumbra=1-Ae.spot.innerConeAngle/Ae.spot.outerConeAngle,Ue.target.position.set(0,0,-1),Ue.add(Ue.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+Ae.type)}return Ue.position.set(0,0,0),Ue.decay=2,ke(Ue,Ae),Ae.intensity!==void 0&&(Ue.intensity=Ae.intensity),Ue.name=me.createUniqueName(Ae.name||"light_"+fe),Ce=Promise.resolve(Ue),me.cache.add(Te,Ce),Ce}getDependency(fe,me){if(fe==="light")return this._loadLight(me)}createNodeAttachment(fe){const me=this,Te=this.parser,Se=Te.json.nodes[fe],Ge=(Se.extensions&&Se.extensions[this.name]||{}).light;return Ge===void 0?null:this._loadLight(Ge).then(function(Ae){return Te._getNodeRef(me.cache,Ge,Ae)})}}class y{constructor(){this.name=m.KHR_MATERIALS_UNLIT}getMaterialType(){return d.MeshBasicMaterial}extendParams(fe,me,Te){const Ce=[];fe.color=new d.Color(1,1,1),fe.opacity=1;const Se=me.pbrMetallicRoughness;if(Se){if(Array.isArray(Se.baseColorFactor)){const we=Se.baseColorFactor;fe.color.fromArray(we),fe.opacity=we[3]}Se.baseColorTexture!==void 0&&Ce.push(Te.assignTexture(fe,"map",Se.baseColorTexture,d.sRGBEncoding))}return Promise.all(Ce)}}class A{constructor(fe){this.parser=fe,this.name=m.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(fe,me){const Ce=this.parser.json.materials[fe];if(!Ce.extensions||!Ce.extensions[this.name])return Promise.resolve();const Se=Ce.extensions[this.name].emissiveStrength;return Se!==void 0&&(me.emissiveIntensity=Se),Promise.resolve()}}class b{constructor(fe){this.parser=fe,this.name=m.KHR_MATERIALS_CLEARCOAT}getMaterialType(fe){const Te=this.parser.json.materials[fe];return!Te.extensions||!Te.extensions[this.name]?null:d.MeshPhysicalMaterial}extendMaterialParams(fe,me){const Te=this.parser,Ce=Te.json.materials[fe];if(!Ce.extensions||!Ce.extensions[this.name])return Promise.resolve();const Se=[],we=Ce.extensions[this.name];if(we.clearcoatFactor!==void 0&&(me.clearcoat=we.clearcoatFactor),we.clearcoatTexture!==void 0&&Se.push(Te.assignTexture(me,"clearcoatMap",we.clearcoatTexture)),we.clearcoatRoughnessFactor!==void 0&&(me.clearcoatRoughness=we.clearcoatRoughnessFactor),we.clearcoatRoughnessTexture!==void 0&&Se.push(Te.assignTexture(me,"clearcoatRoughnessMap",we.clearcoatRoughnessTexture)),we.clearcoatNormalTexture!==void 0&&(Se.push(Te.assignTexture(me,"clearcoatNormalMap",we.clearcoatNormalTexture)),we.clearcoatNormalTexture.scale!==void 0)){const Ge=we.clearcoatNormalTexture.scale;me.clearcoatNormalScale=new d.Vector2(Ge,Ge)}return Promise.all(Se)}}class g{constructor(fe){this.parser=fe,this.name=m.KHR_MATERIALS_IRIDESCENCE}getMaterialType(fe){const Te=this.parser.json.materials[fe];return!Te.extensions||!Te.extensions[this.name]?null:d.MeshPhysicalMaterial}extendMaterialParams(fe,me){const Te=this.parser,Ce=Te.json.materials[fe];if(!Ce.extensions||!Ce.extensions[this.name])return Promise.resolve();const Se=[],we=Ce.extensions[this.name];return we.iridescenceFactor!==void 0&&(me.iridescence=we.iridescenceFactor),we.iridescenceTexture!==void 0&&Se.push(Te.assignTexture(me,"iridescenceMap",we.iridescenceTexture)),we.iridescenceIor!==void 0&&(me.iridescenceIOR=we.iridescenceIor),me.iridescenceThicknessRange===void 0&&(me.iridescenceThicknessRange=[100,400]),we.iridescenceThicknessMinimum!==void 0&&(me.iridescenceThicknessRange[0]=we.iridescenceThicknessMinimum),we.iridescenceThicknessMaximum!==void 0&&(me.iridescenceThicknessRange[1]=we.iridescenceThicknessMaximum),we.iridescenceThicknessTexture!==void 0&&Se.push(Te.assignTexture(me,"iridescenceThicknessMap",we.iridescenceThicknessTexture)),Promise.all(Se)}}class w{constructor(fe){this.parser=fe,this.name=m.KHR_MATERIALS_SHEEN}getMaterialType(fe){const Te=this.parser.json.materials[fe];return!Te.extensions||!Te.extensions[this.name]?null:d.MeshPhysicalMaterial}extendMaterialParams(fe,me){const Te=this.parser,Ce=Te.json.materials[fe];if(!Ce.extensions||!Ce.extensions[this.name])return Promise.resolve();const Se=[];me.sheenColor=new d.Color(0,0,0),me.sheenRoughness=0,me.sheen=1;const we=Ce.extensions[this.name];return we.sheenColorFactor!==void 0&&me.sheenColor.fromArray(we.sheenColorFactor),we.sheenRoughnessFactor!==void 0&&(me.sheenRoughness=we.sheenRoughnessFactor),we.sheenColorTexture!==void 0&&Se.push(Te.assignTexture(me,"sheenColorMap",we.sheenColorTexture,d.sRGBEncoding)),we.sheenRoughnessTexture!==void 0&&Se.push(Te.assignTexture(me,"sheenRoughnessMap",we.sheenRoughnessTexture)),Promise.all(Se)}}class E{constructor(fe){this.parser=fe,this.name=m.KHR_MATERIALS_TRANSMISSION}getMaterialType(fe){const Te=this.parser.json.materials[fe];return!Te.extensions||!Te.extensions[this.name]?null:d.MeshPhysicalMaterial}extendMaterialParams(fe,me){const Te=this.parser,Ce=Te.json.materials[fe];if(!Ce.extensions||!Ce.extensions[this.name])return Promise.resolve();const Se=[],we=Ce.extensions[this.name];return we.transmissionFactor!==void 0&&(me.transmission=we.transmissionFactor),we.transmissionTexture!==void 0&&Se.push(Te.assignTexture(me,"transmissionMap",we.transmissionTexture)),Promise.all(Se)}}class C{constructor(fe){this.parser=fe,this.name=m.KHR_MATERIALS_VOLUME}getMaterialType(fe){const Te=this.parser.json.materials[fe];return!Te.extensions||!Te.extensions[this.name]?null:d.MeshPhysicalMaterial}extendMaterialParams(fe,me){const Te=this.parser,Ce=Te.json.materials[fe];if(!Ce.extensions||!Ce.extensions[this.name])return Promise.resolve();const Se=[],we=Ce.extensions[this.name];me.thickness=we.thicknessFactor!==void 0?we.thicknessFactor:0,we.thicknessTexture!==void 0&&Se.push(Te.assignTexture(me,"thicknessMap",we.thicknessTexture)),me.attenuationDistance=we.attenuationDistance||1/0;const Ge=we.attenuationColor||[1,1,1];return me.attenuationColor=new d.Color(Ge[0],Ge[1],Ge[2]),Promise.all(Se)}}class _{constructor(fe){this.parser=fe,this.name=m.KHR_MATERIALS_IOR}getMaterialType(fe){const Te=this.parser.json.materials[fe];return!Te.extensions||!Te.extensions[this.name]?null:d.MeshPhysicalMaterial}extendMaterialParams(fe,me){const Ce=this.parser.json.materials[fe];if(!Ce.extensions||!Ce.extensions[this.name])return Promise.resolve();const Se=Ce.extensions[this.name];return me.ior=Se.ior!==void 0?Se.ior:1.5,Promise.resolve()}}class L{constructor(fe){this.parser=fe,this.name=m.KHR_MATERIALS_SPECULAR}getMaterialType(fe){const Te=this.parser.json.materials[fe];return!Te.extensions||!Te.extensions[this.name]?null:d.MeshPhysicalMaterial}extendMaterialParams(fe,me){const Te=this.parser,Ce=Te.json.materials[fe];if(!Ce.extensions||!Ce.extensions[this.name])return Promise.resolve();const Se=[],we=Ce.extensions[this.name];me.specularIntensity=we.specularFactor!==void 0?we.specularFactor:1,we.specularTexture!==void 0&&Se.push(Te.assignTexture(me,"specularIntensityMap",we.specularTexture));const Ge=we.specularColorFactor||[1,1,1];return me.specularColor=new d.Color(Ge[0],Ge[1],Ge[2]),we.specularColorTexture!==void 0&&Se.push(Te.assignTexture(me,"specularColorMap",we.specularColorTexture,d.sRGBEncoding)),Promise.all(Se)}}class R{constructor(fe){this.parser=fe,this.name=m.KHR_TEXTURE_BASISU}loadTexture(fe){const me=this.parser,Te=me.json,Ce=Te.textures[fe];if(!Ce.extensions||!Ce.extensions[this.name])return null;const Se=Ce.extensions[this.name],we=me.options.ktx2Loader;if(!we){if(Te.extensionsRequired&&Te.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return me.loadTextureImage(fe,Se.source,we)}}class P{constructor(fe){this.parser=fe,this.name=m.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(fe){const me=this.name,Te=this.parser,Ce=Te.json,Se=Ce.textures[fe];if(!Se.extensions||!Se.extensions[me])return null;const we=Se.extensions[me],Ge=Ce.images[we.source];let Ae=Te.textureLoader;if(Ge.uri){const Ue=Te.options.manager.getHandler(Ge.uri);Ue!==null&&(Ae=Ue)}return this.detectSupport().then(function(Ue){if(Ue)return Te.loadTextureImage(fe,we.source,Ae);if(Ce.extensionsRequired&&Ce.extensionsRequired.indexOf(me)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return Te.loadTexture(fe)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(fe){const me=new Image;me.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",me.onload=me.onerror=function(){fe(me.height===1)}})),this.isSupported}}class T{constructor(fe){this.name=m.EXT_MESHOPT_COMPRESSION,this.parser=fe}loadBufferView(fe){const me=this.parser.json,Te=me.bufferViews[fe];if(Te.extensions&&Te.extensions[this.name]){const Ce=Te.extensions[this.name],Se=this.parser.getDependency("buffer",Ce.buffer),we=this.parser.options.meshoptDecoder;if(!we||!we.supported){if(me.extensionsRequired&&me.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Se.then(function(Ge){const Ae=Ce.byteOffset||0,Ue=Ce.byteLength||0,et=Ce.count,ce=Ce.byteStride,Y=new Uint8Array(Ge,Ae,Ue);return we.decodeGltfBufferAsync?we.decodeGltfBufferAsync(et,ce,Y,Ce.mode,Ce.filter).then(function(ne){return ne.buffer}):we.ready.then(function(){const ne=new ArrayBuffer(et*ce);return we.decodeGltfBuffer(new Uint8Array(ne),et,ce,Y,Ce.mode,Ce.filter),ne})})}else return null}}class D{constructor(fe){this.name=m.EXT_MESH_GPU_INSTANCING,this.parser=fe}createNodeMesh(fe){const me=this.parser.json,Te=me.nodes[fe];if(!Te.extensions||!Te.extensions[this.name]||Te.mesh===void 0)return null;const Ce=me.meshes[Te.mesh];for(const Ue of Ce.primitives)if(Ue.mode!==X.TRIANGLES&&Ue.mode!==X.TRIANGLE_STRIP&&Ue.mode!==X.TRIANGLE_FAN&&Ue.mode!==void 0)return null;const we=Te.extensions[this.name].attributes,Ge=[],Ae={};for(const Ue in we)Ge.push(this.parser.getDependency("accessor",we[Ue]).then(et=>(Ae[Ue]=et,Ae[Ue])));return Ge.length<1?null:(Ge.push(this.parser.createNodeMesh(fe)),Promise.all(Ge).then(Ue=>{const et=Ue.pop(),ce=et.isGroup?et.children:[et],Y=Ue[0].count,ne=[];for(const Le of ce){const We=new d.Matrix4,ve=new d.Vector3,he=new d.Quaternion,qe=new d.Vector3(1,1,1),Je=new d.InstancedMesh(Le.geometry,Le.material,Y);for(let Qe=0;Qe<Y;Qe++)Ae.TRANSLATION&&ve.fromBufferAttribute(Ae.TRANSLATION,Qe),Ae.ROTATION&&he.fromBufferAttribute(Ae.ROTATION,Qe),Ae.SCALE&&qe.fromBufferAttribute(Ae.SCALE,Qe),Je.setMatrixAt(Qe,We.compose(ve,he,qe));for(const Qe in Ae)Qe!=="TRANSLATION"&&Qe!=="ROTATION"&&Qe!=="SCALE"&&Le.geometry.setAttribute(Qe,Ae[Qe]);d.Object3D.prototype.copy.call(Je,Le),Je.frustumCulled=!1,this.parser.assignFinalMaterial(Je),ne.push(Je)}return et.isGroup?(et.clear(),et.add(...ne),et):ne[0]}))}}const $="glTF",V=12,B={JSON:1313821514,BIN:5130562};class O{constructor(fe){this.name=m.KHR_BINARY_GLTF,this.content=null,this.body=null;const me=new DataView(fe,0,V);if(this.header={magic:d.LoaderUtils.decodeText(new Uint8Array(fe.slice(0,4))),version:me.getUint32(4,!0),length:me.getUint32(8,!0)},this.header.magic!==$)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const Te=this.header.length-V,Ce=new DataView(fe,V);let Se=0;for(;Se<Te;){const we=Ce.getUint32(Se,!0);Se+=4;const Ge=Ce.getUint32(Se,!0);if(Se+=4,Ge===B.JSON){const Ae=new Uint8Array(fe,V+Se,we);this.content=d.LoaderUtils.decodeText(Ae)}else if(Ge===B.BIN){const Ae=V+Se;this.body=fe.slice(Ae,Ae+we)}Se+=we}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class F{constructor(fe,me){if(!me)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=m.KHR_DRACO_MESH_COMPRESSION,this.json=fe,this.dracoLoader=me,this.dracoLoader.preload()}decodePrimitive(fe,me){const Te=this.json,Ce=this.dracoLoader,Se=fe.extensions[this.name].bufferView,we=fe.extensions[this.name].attributes,Ge={},Ae={},Ue={};for(const et in we){const ce=Be[et]||et.toLowerCase();Ge[ce]=we[et]}for(const et in fe.attributes){const ce=Be[et]||et.toLowerCase();if(we[et]!==void 0){const Y=Te.accessors[fe.attributes[et]],ne=J[Y.componentType];Ue[ce]=ne.name,Ae[ce]=Y.normalized===!0}}return me.getDependency("bufferView",Se).then(function(et){return new Promise(function(ce){Ce.decodeDracoFile(et,function(Y){for(const ne in Y.attributes){const Le=Y.attributes[ne],We=Ae[ne];We!==void 0&&(Le.normalized=We)}ce(Y)},Ge,Ue)})})}}class k{constructor(){this.name=m.KHR_TEXTURE_TRANSFORM}extendTexture(fe,me){return me.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),me.offset===void 0&&me.rotation===void 0&&me.scale===void 0||(fe=fe.clone(),me.offset!==void 0&&fe.offset.fromArray(me.offset),me.rotation!==void 0&&(fe.rotation=me.rotation),me.scale!==void 0&&fe.repeat.fromArray(me.scale),fe.needsUpdate=!0),fe}}class z{constructor(){this.name=m.KHR_MESH_QUANTIZATION}}class G extends d.Interpolant{constructor(fe,me,Te,Ce){super(fe,me,Te,Ce)}copySampleValue_(fe){const me=this.resultBuffer,Te=this.sampleValues,Ce=this.valueSize,Se=fe*Ce*3+Ce;for(let we=0;we!==Ce;we++)me[we]=Te[Se+we];return me}interpolate_(fe,me,Te,Ce){const Se=this.resultBuffer,we=this.sampleValues,Ge=this.valueSize,Ae=Ge*2,Ue=Ge*3,et=Ce-me,ce=(Te-me)/et,Y=ce*ce,ne=Y*ce,Le=fe*Ue,We=Le-Ue,ve=-2*ne+3*Y,he=ne-Y,qe=1-ve,Je=he-Y+ce;for(let Qe=0;Qe!==Ge;Qe++){const nt=we[We+Qe+Ge],It=we[We+Qe+Ae]*et,kt=we[Le+Qe+Ge],Bt=we[Le+Qe]*et;Se[Qe]=qe*nt+Je*It+ve*kt+he*Bt}return Se}}const j=new d.Quaternion;class Q extends G{interpolate_(fe,me,Te,Ce){const Se=super.interpolate_(fe,me,Te,Ce);return j.fromArray(Se).normalize().toArray(Se),Se}}const X={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},J={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Z={9728:d.NearestFilter,9729:d.LinearFilter,9984:d.NearestMipmapNearestFilter,9985:d.LinearMipmapNearestFilter,9986:d.NearestMipmapLinearFilter,9987:d.LinearMipmapLinearFilter},oe={33071:d.ClampToEdgeWrapping,33648:d.MirroredRepeatWrapping,10497:d.RepeatWrapping},ue={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Be={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},ge={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Ie={CUBICSPLINE:void 0,LINEAR:d.InterpolateLinear,STEP:d.InterpolateDiscrete},He={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Ze(be){return be.DefaultMaterial===void 0&&(be.DefaultMaterial=new d.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:d.FrontSide})),be.DefaultMaterial}function Xe(be,fe,me){for(const Te in me.extensions)be[Te]===void 0&&(fe.userData.gltfExtensions=fe.userData.gltfExtensions||{},fe.userData.gltfExtensions[Te]=me.extensions[Te])}function ke(be,fe){fe.extras!==void 0&&(typeof fe.extras=="object"?Object.assign(be.userData,fe.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+fe.extras))}function lt(be,fe,me){let Te=!1,Ce=!1,Se=!1;for(let Ue=0,et=fe.length;Ue<et;Ue++){const ce=fe[Ue];if(ce.POSITION!==void 0&&(Te=!0),ce.NORMAL!==void 0&&(Ce=!0),ce.COLOR_0!==void 0&&(Se=!0),Te&&Ce&&Se)break}if(!Te&&!Ce&&!Se)return Promise.resolve(be);const we=[],Ge=[],Ae=[];for(let Ue=0,et=fe.length;Ue<et;Ue++){const ce=fe[Ue];if(Te){const Y=ce.POSITION!==void 0?me.getDependency("accessor",ce.POSITION):be.attributes.position;we.push(Y)}if(Ce){const Y=ce.NORMAL!==void 0?me.getDependency("accessor",ce.NORMAL):be.attributes.normal;Ge.push(Y)}if(Se){const Y=ce.COLOR_0!==void 0?me.getDependency("accessor",ce.COLOR_0):be.attributes.color;Ae.push(Y)}}return Promise.all([Promise.all(we),Promise.all(Ge),Promise.all(Ae)]).then(function(Ue){const et=Ue[0],ce=Ue[1],Y=Ue[2];return Te&&(be.morphAttributes.position=et),Ce&&(be.morphAttributes.normal=ce),Se&&(be.morphAttributes.color=Y),be.morphTargetsRelative=!0,be})}function ot(be,fe){if(be.updateMorphTargets(),fe.weights!==void 0)for(let me=0,Te=fe.weights.length;me<Te;me++)be.morphTargetInfluences[me]=fe.weights[me];if(fe.extras&&Array.isArray(fe.extras.targetNames)){const me=fe.extras.targetNames;if(be.morphTargetInfluences.length===me.length){be.morphTargetDictionary={};for(let Te=0,Ce=me.length;Te<Ce;Te++)be.morphTargetDictionary[me[Te]]=Te}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function it(be){const fe=be.extensions&&be.extensions[m.KHR_DRACO_MESH_COMPRESSION];let me;return fe?me="draco:"+fe.bufferView+":"+fe.indices+":"+ft(fe.attributes):me=be.indices+":"+ft(be.attributes)+":"+be.mode,me}function ft(be){let fe="";const me=Object.keys(be).sort();for(let Te=0,Ce=me.length;Te<Ce;Te++)fe+=me[Te]+":"+be[me[Te]]+";";return fe}function xt(be){switch(be){case Int8Array:return .007874015748031496;case Uint8Array:return .00392156862745098;case Int16Array:return 3051850947599719e-20;case Uint16Array:return 15259021896696422e-21;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function At(be){return be.search(/\.jpe?g($|\?)/i)>0||be.search(/^data\:image\/jpeg/)===0?"image/jpeg":be.search(/\.webp($|\?)/i)>0||be.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}class Ct{constructor(fe={},me={}){this.json=fe,this.extensions={},this.plugins={},this.options=me,this.cache=new p,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let Te=!1,Ce=!1,Se=-1;typeof navigator<"u"&&(Te=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,Ce=navigator.userAgent.indexOf("Firefox")>-1,Se=Ce?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||Te||Ce&&Se<98?this.textureLoader=new d.TextureLoader(this.options.manager):this.textureLoader=new d.ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new d.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(fe){this.extensions=fe}setPlugins(fe){this.plugins=fe}parse(fe,me){const Te=this,Ce=this.json,Se=this.extensions;this.cache.removeAll(),this._invokeAll(function(we){return we._markDefs&&we._markDefs()}),Promise.all(this._invokeAll(function(we){return we.beforeRoot&&we.beforeRoot()})).then(function(){return Promise.all([Te.getDependencies("scene"),Te.getDependencies("animation"),Te.getDependencies("camera")])}).then(function(we){const Ge={scene:we[0][Ce.scene||0],scenes:we[0],animations:we[1],cameras:we[2],asset:Ce.asset,parser:Te,userData:{}};Xe(Se,Ge,Ce),ke(Ge,Ce),Promise.all(Te._invokeAll(function(Ae){return Ae.afterRoot&&Ae.afterRoot(Ge)})).then(function(){fe(Ge)})}).catch(me)}_markDefs(){const fe=this.json.nodes||[],me=this.json.skins||[],Te=this.json.meshes||[];for(let Ce=0,Se=me.length;Ce<Se;Ce++){const we=me[Ce].joints;for(let Ge=0,Ae=we.length;Ge<Ae;Ge++)fe[we[Ge]].isBone=!0}for(let Ce=0,Se=fe.length;Ce<Se;Ce++){const we=fe[Ce];we.mesh!==void 0&&(this._addNodeRef(this.meshCache,we.mesh),we.skin!==void 0&&(Te[we.mesh].isSkinnedMesh=!0)),we.camera!==void 0&&this._addNodeRef(this.cameraCache,we.camera)}}_addNodeRef(fe,me){me!==void 0&&(fe.refs[me]===void 0&&(fe.refs[me]=fe.uses[me]=0),fe.refs[me]++)}_getNodeRef(fe,me,Te){if(fe.refs[me]<=1)return Te;const Ce=Te.clone(),Se=(we,Ge)=>{const Ae=this.associations.get(we);Ae!=null&&this.associations.set(Ge,Ae);for(const[Ue,et]of we.children.entries())Se(et,Ge.children[Ue])};return Se(Te,Ce),Ce.name+="_instance_"+fe.uses[me]++,Ce}_invokeOne(fe){const me=Object.values(this.plugins);me.push(this);for(let Te=0;Te<me.length;Te++){const Ce=fe(me[Te]);if(Ce)return Ce}return null}_invokeAll(fe){const me=Object.values(this.plugins);me.unshift(this);const Te=[];for(let Ce=0;Ce<me.length;Ce++){const Se=fe(me[Ce]);Se&&Te.push(Se)}return Te}getDependency(fe,me){const Te=fe+":"+me;let Ce=this.cache.get(Te);if(!Ce){switch(fe){case"scene":Ce=this.loadScene(me);break;case"node":Ce=this.loadNode(me);break;case"mesh":Ce=this._invokeOne(function(Se){return Se.loadMesh&&Se.loadMesh(me)});break;case"accessor":Ce=this.loadAccessor(me);break;case"bufferView":Ce=this._invokeOne(function(Se){return Se.loadBufferView&&Se.loadBufferView(me)});break;case"buffer":Ce=this.loadBuffer(me);break;case"material":Ce=this._invokeOne(function(Se){return Se.loadMaterial&&Se.loadMaterial(me)});break;case"texture":Ce=this._invokeOne(function(Se){return Se.loadTexture&&Se.loadTexture(me)});break;case"skin":Ce=this.loadSkin(me);break;case"animation":Ce=this._invokeOne(function(Se){return Se.loadAnimation&&Se.loadAnimation(me)});break;case"camera":Ce=this.loadCamera(me);break;default:if(Ce=this._invokeOne(function(Se){return Se!=this&&Se.getDependency&&Se.getDependency(fe,me)}),!Ce)throw new Error("Unknown type: "+fe);break}this.cache.add(Te,Ce)}return Ce}getDependencies(fe){let me=this.cache.get(fe);if(!me){const Te=this,Ce=this.json[fe+(fe==="mesh"?"es":"s")]||[];me=Promise.all(Ce.map(function(Se,we){return Te.getDependency(fe,we)})),this.cache.add(fe,me)}return me}loadBuffer(fe){const me=this.json.buffers[fe],Te=this.fileLoader;if(me.type&&me.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+me.type+" buffer type is not supported.");if(me.uri===void 0&&fe===0)return Promise.resolve(this.extensions[m.KHR_BINARY_GLTF].body);const Ce=this.options;return new Promise(function(Se,we){Te.load(d.LoaderUtils.resolveURL(me.uri,Ce.path),Se,void 0,function(){we(new Error('THREE.GLTFLoader: Failed to load buffer "'+me.uri+'".'))})})}loadBufferView(fe){const me=this.json.bufferViews[fe];return this.getDependency("buffer",me.buffer).then(function(Te){const Ce=me.byteLength||0,Se=me.byteOffset||0;return Te.slice(Se,Se+Ce)})}loadAccessor(fe){const me=this,Te=this.json,Ce=this.json.accessors[fe];if(Ce.bufferView===void 0&&Ce.sparse===void 0){const we=ue[Ce.type],Ge=J[Ce.componentType],Ae=Ce.normalized===!0,Ue=new Ge(Ce.count*we);return Promise.resolve(new d.BufferAttribute(Ue,we,Ae))}const Se=[];return Ce.bufferView!==void 0?Se.push(this.getDependency("bufferView",Ce.bufferView)):Se.push(null),Ce.sparse!==void 0&&(Se.push(this.getDependency("bufferView",Ce.sparse.indices.bufferView)),Se.push(this.getDependency("bufferView",Ce.sparse.values.bufferView))),Promise.all(Se).then(function(we){const Ge=we[0],Ae=ue[Ce.type],Ue=J[Ce.componentType],et=Ue.BYTES_PER_ELEMENT,ce=et*Ae,Y=Ce.byteOffset||0,ne=Ce.bufferView!==void 0?Te.bufferViews[Ce.bufferView].byteStride:void 0,Le=Ce.normalized===!0;let We,ve;if(ne&&ne!==ce){const he=Math.floor(Y/ne),qe="InterleavedBuffer:"+Ce.bufferView+":"+Ce.componentType+":"+he+":"+Ce.count;let Je=me.cache.get(qe);Je||(We=new Ue(Ge,he*ne,Ce.count*ne/et),Je=new d.InterleavedBuffer(We,ne/et),me.cache.add(qe,Je)),ve=new d.InterleavedBufferAttribute(Je,Ae,Y%ne/et,Le)}else Ge===null?We=new Ue(Ce.count*Ae):We=new Ue(Ge,Y,Ce.count*Ae),ve=new d.BufferAttribute(We,Ae,Le);if(Ce.sparse!==void 0){const he=ue.SCALAR,qe=J[Ce.sparse.indices.componentType],Je=Ce.sparse.indices.byteOffset||0,Qe=Ce.sparse.values.byteOffset||0,nt=new qe(we[1],Je,Ce.sparse.count*he),It=new Ue(we[2],Qe,Ce.sparse.count*Ae);Ge!==null&&(ve=new d.BufferAttribute(ve.array.slice(),ve.itemSize,ve.normalized));for(let kt=0,Bt=nt.length;kt<Bt;kt++){const Gt=nt[kt];if(ve.setX(Gt,It[kt*Ae]),Ae>=2&&ve.setY(Gt,It[kt*Ae+1]),Ae>=3&&ve.setZ(Gt,It[kt*Ae+2]),Ae>=4&&ve.setW(Gt,It[kt*Ae+3]),Ae>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return ve})}loadTexture(fe){const me=this.json,Te=this.options,Se=me.textures[fe].source,we=me.images[Se];let Ge=this.textureLoader;if(we.uri){const Ae=Te.manager.getHandler(we.uri);Ae!==null&&(Ge=Ae)}return this.loadTextureImage(fe,Se,Ge)}loadTextureImage(fe,me,Te){const Ce=this,Se=this.json,we=Se.textures[fe],Ge=Se.images[me],Ae=(Ge.uri||Ge.bufferView)+":"+we.sampler;if(this.textureCache[Ae])return this.textureCache[Ae];const Ue=this.loadImageSource(me,Te).then(function(et){et.flipY=!1,et.name=we.name||Ge.name||"";const Y=(Se.samplers||{})[we.sampler]||{};return et.magFilter=Z[Y.magFilter]||d.LinearFilter,et.minFilter=Z[Y.minFilter]||d.LinearMipmapLinearFilter,et.wrapS=oe[Y.wrapS]||d.RepeatWrapping,et.wrapT=oe[Y.wrapT]||d.RepeatWrapping,Ce.associations.set(et,{textures:fe}),et}).catch(function(){return null});return this.textureCache[Ae]=Ue,Ue}loadImageSource(fe,me){const Te=this,Ce=this.json,Se=this.options;if(this.sourceCache[fe]!==void 0)return this.sourceCache[fe].then(ce=>ce.clone());const we=Ce.images[fe],Ge=self.URL||self.webkitURL;let Ae=we.uri||"",Ue=!1;if(we.bufferView!==void 0)Ae=Te.getDependency("bufferView",we.bufferView).then(function(ce){Ue=!0;const Y=new Blob([ce],{type:we.mimeType});return Ae=Ge.createObjectURL(Y),Ae});else if(we.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+fe+" is missing URI and bufferView");const et=Promise.resolve(Ae).then(function(ce){return new Promise(function(Y,ne){let Le=Y;me.isImageBitmapLoader===!0&&(Le=function(We){const ve=new d.Texture(We);ve.needsUpdate=!0,Y(ve)}),me.load(d.LoaderUtils.resolveURL(ce,Se.path),Le,void 0,ne)})}).then(function(ce){return Ue===!0&&Ge.revokeObjectURL(Ae),ce.userData.mimeType=we.mimeType||At(we.uri),ce}).catch(function(ce){throw console.error("THREE.GLTFLoader: Couldn't load texture",Ae),ce});return this.sourceCache[fe]=et,et}assignTexture(fe,me,Te,Ce){const Se=this;return this.getDependency("texture",Te.index).then(function(we){if(!we)return null;if(Te.texCoord!==void 0&&Te.texCoord!=0&&!(me==="aoMap"&&Te.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+Te.texCoord+" for texture "+me+" not yet supported."),Se.extensions[m.KHR_TEXTURE_TRANSFORM]){const Ge=Te.extensions!==void 0?Te.extensions[m.KHR_TEXTURE_TRANSFORM]:void 0;if(Ge){const Ae=Se.associations.get(we);we=Se.extensions[m.KHR_TEXTURE_TRANSFORM].extendTexture(we,Ge),Se.associations.set(we,Ae)}}return Ce!==void 0&&(we.encoding=Ce),fe[me]=we,we})}assignFinalMaterial(fe){const me=fe.geometry;let Te=fe.material;const Ce=me.attributes.tangent===void 0,Se=me.attributes.color!==void 0,we=me.attributes.normal===void 0;if(fe.isPoints){const Ge="PointsMaterial:"+Te.uuid;let Ae=this.cache.get(Ge);Ae||(Ae=new d.PointsMaterial,d.Material.prototype.copy.call(Ae,Te),Ae.color.copy(Te.color),Ae.map=Te.map,Ae.sizeAttenuation=!1,this.cache.add(Ge,Ae)),Te=Ae}else if(fe.isLine){const Ge="LineBasicMaterial:"+Te.uuid;let Ae=this.cache.get(Ge);Ae||(Ae=new d.LineBasicMaterial,d.Material.prototype.copy.call(Ae,Te),Ae.color.copy(Te.color),this.cache.add(Ge,Ae)),Te=Ae}if(Ce||Se||we){let Ge="ClonedMaterial:"+Te.uuid+":";Ce&&(Ge+="derivative-tangents:"),Se&&(Ge+="vertex-colors:"),we&&(Ge+="flat-shading:");let Ae=this.cache.get(Ge);Ae||(Ae=Te.clone(),Se&&(Ae.vertexColors=!0),we&&(Ae.flatShading=!0),Ce&&(Ae.normalScale&&(Ae.normalScale.y*=-1),Ae.clearcoatNormalScale&&(Ae.clearcoatNormalScale.y*=-1)),this.cache.add(Ge,Ae),this.associations.set(Ae,this.associations.get(Te))),Te=Ae}Te.aoMap&&me.attributes.uv2===void 0&&me.attributes.uv!==void 0&&me.setAttribute("uv2",me.attributes.uv),fe.material=Te}getMaterialType(){return d.MeshStandardMaterial}loadMaterial(fe){const me=this,Te=this.json,Ce=this.extensions,Se=Te.materials[fe];let we;const Ge={},Ae=Se.extensions||{},Ue=[];if(Ae[m.KHR_MATERIALS_UNLIT]){const ce=Ce[m.KHR_MATERIALS_UNLIT];we=ce.getMaterialType(),Ue.push(ce.extendParams(Ge,Se,me))}else{const ce=Se.pbrMetallicRoughness||{};if(Ge.color=new d.Color(1,1,1),Ge.opacity=1,Array.isArray(ce.baseColorFactor)){const Y=ce.baseColorFactor;Ge.color.fromArray(Y),Ge.opacity=Y[3]}ce.baseColorTexture!==void 0&&Ue.push(me.assignTexture(Ge,"map",ce.baseColorTexture,d.sRGBEncoding)),Ge.metalness=ce.metallicFactor!==void 0?ce.metallicFactor:1,Ge.roughness=ce.roughnessFactor!==void 0?ce.roughnessFactor:1,ce.metallicRoughnessTexture!==void 0&&(Ue.push(me.assignTexture(Ge,"metalnessMap",ce.metallicRoughnessTexture)),Ue.push(me.assignTexture(Ge,"roughnessMap",ce.metallicRoughnessTexture))),we=this._invokeOne(function(Y){return Y.getMaterialType&&Y.getMaterialType(fe)}),Ue.push(Promise.all(this._invokeAll(function(Y){return Y.extendMaterialParams&&Y.extendMaterialParams(fe,Ge)})))}Se.doubleSided===!0&&(Ge.side=d.DoubleSide);const et=Se.alphaMode||He.OPAQUE;if(et===He.BLEND?(Ge.transparent=!0,Ge.depthWrite=!1):(Ge.transparent=!1,et===He.MASK&&(Ge.alphaTest=Se.alphaCutoff!==void 0?Se.alphaCutoff:.5)),Se.normalTexture!==void 0&&we!==d.MeshBasicMaterial&&(Ue.push(me.assignTexture(Ge,"normalMap",Se.normalTexture)),Ge.normalScale=new d.Vector2(1,1),Se.normalTexture.scale!==void 0)){const ce=Se.normalTexture.scale;Ge.normalScale.set(ce,ce)}return Se.occlusionTexture!==void 0&&we!==d.MeshBasicMaterial&&(Ue.push(me.assignTexture(Ge,"aoMap",Se.occlusionTexture)),Se.occlusionTexture.strength!==void 0&&(Ge.aoMapIntensity=Se.occlusionTexture.strength)),Se.emissiveFactor!==void 0&&we!==d.MeshBasicMaterial&&(Ge.emissive=new d.Color().fromArray(Se.emissiveFactor)),Se.emissiveTexture!==void 0&&we!==d.MeshBasicMaterial&&Ue.push(me.assignTexture(Ge,"emissiveMap",Se.emissiveTexture,d.sRGBEncoding)),Promise.all(Ue).then(function(){const ce=new we(Ge);return Se.name&&(ce.name=Se.name),ke(ce,Se),me.associations.set(ce,{materials:fe}),Se.extensions&&Xe(Ce,ce,Se),ce})}createUniqueName(fe){const me=d.PropertyBinding.sanitizeNodeName(fe||"");let Te=me;for(let Ce=1;this.nodeNamesUsed[Te];++Ce)Te=me+"_"+Ce;return this.nodeNamesUsed[Te]=!0,Te}loadGeometries(fe){const me=this,Te=this.extensions,Ce=this.primitiveCache;function Se(Ge){return Te[m.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(Ge,me).then(function(Ae){return Yt(Ae,Ge,me)})}const we=[];for(let Ge=0,Ae=fe.length;Ge<Ae;Ge++){const Ue=fe[Ge],et=it(Ue),ce=Ce[et];if(ce)we.push(ce.promise);else{let Y;Ue.extensions&&Ue.extensions[m.KHR_DRACO_MESH_COMPRESSION]?Y=Se(Ue):Y=Yt(new d.BufferGeometry,Ue,me),Ce[et]={primitive:Ue,promise:Y},we.push(Y)}}return Promise.all(we)}loadMesh(fe){const me=this,Te=this.json,Ce=this.extensions,Se=Te.meshes[fe],we=Se.primitives,Ge=[];for(let Ae=0,Ue=we.length;Ae<Ue;Ae++){const et=we[Ae].material===void 0?Ze(this.cache):this.getDependency("material",we[Ae].material);Ge.push(et)}return Ge.push(me.loadGeometries(we)),Promise.all(Ge).then(function(Ae){const Ue=Ae.slice(0,Ae.length-1),et=Ae[Ae.length-1],ce=[];for(let ne=0,Le=et.length;ne<Le;ne++){const We=et[ne],ve=we[ne];let he;const qe=Ue[ne];if(ve.mode===X.TRIANGLES||ve.mode===X.TRIANGLE_STRIP||ve.mode===X.TRIANGLE_FAN||ve.mode===void 0)he=Se.isSkinnedMesh===!0?new d.SkinnedMesh(We,qe):new d.Mesh(We,qe),he.isSkinnedMesh===!0&&!he.geometry.attributes.skinWeight.normalized&&he.normalizeSkinWeights(),ve.mode===X.TRIANGLE_STRIP?he.geometry=Ve(he.geometry,d.TriangleStripDrawMode):ve.mode===X.TRIANGLE_FAN&&(he.geometry=Ve(he.geometry,d.TriangleFanDrawMode));else if(ve.mode===X.LINES)he=new d.LineSegments(We,qe);else if(ve.mode===X.LINE_STRIP)he=new d.Line(We,qe);else if(ve.mode===X.LINE_LOOP)he=new d.LineLoop(We,qe);else if(ve.mode===X.POINTS)he=new d.Points(We,qe);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+ve.mode);Object.keys(he.geometry.morphAttributes).length>0&&ot(he,Se),he.name=me.createUniqueName(Se.name||"mesh_"+fe),ke(he,Se),ve.extensions&&Xe(Ce,he,ve),me.assignFinalMaterial(he),ce.push(he)}for(let ne=0,Le=ce.length;ne<Le;ne++)me.associations.set(ce[ne],{meshes:fe,primitives:ne});if(ce.length===1)return ce[0];const Y=new d.Group;me.associations.set(Y,{meshes:fe});for(let ne=0,Le=ce.length;ne<Le;ne++)Y.add(ce[ne]);return Y})}loadCamera(fe){let me;const Te=this.json.cameras[fe],Ce=Te[Te.type];if(!Ce){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return Te.type==="perspective"?me=new d.PerspectiveCamera(d.MathUtils.radToDeg(Ce.yfov),Ce.aspectRatio||1,Ce.znear||1,Ce.zfar||2e6):Te.type==="orthographic"&&(me=new d.OrthographicCamera(-Ce.xmag,Ce.xmag,Ce.ymag,-Ce.ymag,Ce.znear,Ce.zfar)),Te.name&&(me.name=this.createUniqueName(Te.name)),ke(me,Te),Promise.resolve(me)}loadSkin(fe){const me=this.json.skins[fe],Te=[];for(let Ce=0,Se=me.joints.length;Ce<Se;Ce++)Te.push(this.getDependency("node",me.joints[Ce]));return me.inverseBindMatrices!==void 0?Te.push(this.getDependency("accessor",me.inverseBindMatrices)):Te.push(null),Promise.all(Te).then(function(Ce){const Se=Ce.pop(),we=Ce,Ge=[],Ae=[];for(let Ue=0,et=we.length;Ue<et;Ue++){const ce=we[Ue];if(ce){Ge.push(ce);const Y=new d.Matrix4;Se!==null&&Y.fromArray(Se.array,Ue*16),Ae.push(Y)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',me.joints[Ue])}return new d.Skeleton(Ge,Ae)})}loadAnimation(fe){const Te=this.json.animations[fe],Ce=[],Se=[],we=[],Ge=[],Ae=[];for(let Ue=0,et=Te.channels.length;Ue<et;Ue++){const ce=Te.channels[Ue],Y=Te.samplers[ce.sampler],ne=ce.target,Le=ne.node,We=Te.parameters!==void 0?Te.parameters[Y.input]:Y.input,ve=Te.parameters!==void 0?Te.parameters[Y.output]:Y.output;Ce.push(this.getDependency("node",Le)),Se.push(this.getDependency("accessor",We)),we.push(this.getDependency("accessor",ve)),Ge.push(Y),Ae.push(ne)}return Promise.all([Promise.all(Ce),Promise.all(Se),Promise.all(we),Promise.all(Ge),Promise.all(Ae)]).then(function(Ue){const et=Ue[0],ce=Ue[1],Y=Ue[2],ne=Ue[3],Le=Ue[4],We=[];for(let he=0,qe=et.length;he<qe;he++){const Je=et[he],Qe=ce[he],nt=Y[he],It=ne[he],kt=Le[he];if(Je===void 0)continue;Je.updateMatrix();let Bt;switch(ge[kt.path]){case ge.weights:Bt=d.NumberKeyframeTrack;break;case ge.rotation:Bt=d.QuaternionKeyframeTrack;break;case ge.position:case ge.scale:default:Bt=d.VectorKeyframeTrack;break}const Gt=Je.name?Je.name:Je.uuid,Vt=It.interpolation!==void 0?Ie[It.interpolation]:d.InterpolateLinear,Pt=[];ge[kt.path]===ge.weights?Je.traverse(function(Ot){Ot.morphTargetInfluences&&Pt.push(Ot.name?Ot.name:Ot.uuid)}):Pt.push(Gt);let pt=nt.array;if(nt.normalized){const Ot=xt(pt.constructor),cn=new Float32Array(pt.length);for(let qt=0,Sn=pt.length;qt<Sn;qt++)cn[qt]=pt[qt]*Ot;pt=cn}for(let Ot=0,cn=Pt.length;Ot<cn;Ot++){const qt=new Bt(Pt[Ot]+"."+ge[kt.path],Qe.array,pt,Vt);It.interpolation==="CUBICSPLINE"&&(qt.createInterpolant=function(yn){const Pn=this instanceof d.QuaternionKeyframeTrack?Q:G;return new Pn(this.times,this.values,this.getValueSize()/3,yn)},qt.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),We.push(qt)}}const ve=Te.name?Te.name:"animation_"+fe;return new d.AnimationClip(ve,void 0,We)})}createNodeMesh(fe){const me=this.json,Te=this,Ce=me.nodes[fe];return Ce.mesh===void 0?null:Te.getDependency("mesh",Ce.mesh).then(function(Se){const we=Te._getNodeRef(Te.meshCache,Ce.mesh,Se);return Ce.weights!==void 0&&we.traverse(function(Ge){if(Ge.isMesh)for(let Ae=0,Ue=Ce.weights.length;Ae<Ue;Ae++)Ge.morphTargetInfluences[Ae]=Ce.weights[Ae]}),we})}loadNode(fe){const me=this.json,Te=this.extensions,Ce=this,Se=me.nodes[fe],we=Se.name?Ce.createUniqueName(Se.name):"";return function(){const Ge=[],Ae=Ce._invokeOne(function(Ue){return Ue.createNodeMesh&&Ue.createNodeMesh(fe)});return Ae&&Ge.push(Ae),Se.camera!==void 0&&Ge.push(Ce.getDependency("camera",Se.camera).then(function(Ue){return Ce._getNodeRef(Ce.cameraCache,Se.camera,Ue)})),Ce._invokeAll(function(Ue){return Ue.createNodeAttachment&&Ue.createNodeAttachment(fe)}).forEach(function(Ue){Ge.push(Ue)}),Promise.all(Ge)}().then(function(Ge){let Ae;if(Se.isBone===!0?Ae=new d.Bone:Ge.length>1?Ae=new d.Group:Ge.length===1?Ae=Ge[0]:Ae=new d.Object3D,Ae!==Ge[0])for(let Ue=0,et=Ge.length;Ue<et;Ue++)Ae.add(Ge[Ue]);if(Se.name&&(Ae.userData.name=Se.name,Ae.name=we),ke(Ae,Se),Se.extensions&&Xe(Te,Ae,Se),Se.matrix!==void 0){const Ue=new d.Matrix4;Ue.fromArray(Se.matrix),Ae.applyMatrix4(Ue)}else Se.translation!==void 0&&Ae.position.fromArray(Se.translation),Se.rotation!==void 0&&Ae.quaternion.fromArray(Se.rotation),Se.scale!==void 0&&Ae.scale.fromArray(Se.scale);return Ce.associations.has(Ae)||Ce.associations.set(Ae,{}),Ce.associations.get(Ae).nodes=fe,Ae})}loadScene(fe){const me=this.json,Te=this.extensions,Ce=this.json.scenes[fe],Se=this,we=new d.Group;Ce.name&&(we.name=Se.createUniqueName(Ce.name)),ke(we,Ce),Ce.extensions&&Xe(Te,we,Ce);const Ge=Ce.nodes||[],Ae=[];for(let Ue=0,et=Ge.length;Ue<et;Ue++)Ae.push(Tt(Ge[Ue],we,me,Se));return Promise.all(Ae).then(function(){const Ue=et=>{const ce=new Map;for(const[Y,ne]of Se.associations)(Y instanceof d.Material||Y instanceof d.Texture)&&ce.set(Y,ne);return et.traverse(Y=>{const ne=Se.associations.get(Y);ne!=null&&ce.set(Y,ne)}),ce};return Se.associations=Ue(we),we})}}function Tt(be,fe,me,Te){const Ce=me.nodes[be];return Te.getDependency("node",be).then(function(Se){return Ce.skin===void 0?Se:Te.getDependency("skin",Ce.skin).then(function(we){return Se.traverse(function(Ge){Ge.isSkinnedMesh&&Ge.bind(we,Ge.matrixWorld)}),Se})}).then(function(Se){fe.add(Se);const we=[];if(Ce.children){const Ge=Ce.children;for(let Ae=0,Ue=Ge.length;Ae<Ue;Ae++){const et=Ge[Ae];we.push(Tt(et,Se,me,Te))}}return Promise.all(we)})}function Dt(be,fe,me){const Te=fe.attributes,Ce=new d.Box3;if(Te.POSITION!==void 0){const Ge=me.json.accessors[Te.POSITION],Ae=Ge.min,Ue=Ge.max;if(Ae!==void 0&&Ue!==void 0){if(Ce.set(new d.Vector3(Ae[0],Ae[1],Ae[2]),new d.Vector3(Ue[0],Ue[1],Ue[2])),Ge.normalized){const et=xt(J[Ge.componentType]);Ce.min.multiplyScalar(et),Ce.max.multiplyScalar(et)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const Se=fe.targets;if(Se!==void 0){const Ge=new d.Vector3,Ae=new d.Vector3;for(let Ue=0,et=Se.length;Ue<et;Ue++){const ce=Se[Ue];if(ce.POSITION!==void 0){const Y=me.json.accessors[ce.POSITION],ne=Y.min,Le=Y.max;if(ne!==void 0&&Le!==void 0){if(Ae.setX(Math.max(Math.abs(ne[0]),Math.abs(Le[0]))),Ae.setY(Math.max(Math.abs(ne[1]),Math.abs(Le[1]))),Ae.setZ(Math.max(Math.abs(ne[2]),Math.abs(Le[2]))),Y.normalized){const We=xt(J[Y.componentType]);Ae.multiplyScalar(We)}Ge.max(Ae)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}Ce.expandByVector(Ge)}be.boundingBox=Ce;const we=new d.Sphere;Ce.getCenter(we.center),we.radius=Ce.min.distanceTo(Ce.max)/2,be.boundingSphere=we}function Yt(be,fe,me){const Te=fe.attributes,Ce=[];function Se(we,Ge){return me.getDependency("accessor",we).then(function(Ae){be.setAttribute(Ge,Ae)})}for(const we in Te){const Ge=Be[we]||we.toLowerCase();Ge in be.attributes||Ce.push(Se(Te[we],Ge))}if(fe.indices!==void 0&&!be.index){const we=me.getDependency("accessor",fe.indices).then(function(Ge){be.setIndex(Ge)});Ce.push(we)}return ke(be,fe),Dt(be,fe,me),Promise.all(Ce).then(function(){return fe.targets!==void 0?lt(be,fe.targets,me):be})}function Ve(be,fe){let me=be.getIndex();if(me===null){const we=[],Ge=be.getAttribute("position");if(Ge!==void 0){for(let Ae=0;Ae<Ge.count;Ae++)we.push(Ae);be.setIndex(we),me=be.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),be}const Te=me.count-2,Ce=[];if(fe===d.TriangleFanDrawMode)for(let we=1;we<=Te;we++)Ce.push(me.getX(0)),Ce.push(me.getX(we)),Ce.push(me.getX(we+1));else for(let we=0;we<Te;we++)we%2===0?(Ce.push(me.getX(we)),Ce.push(me.getX(we+1)),Ce.push(me.getX(we+2))):(Ce.push(me.getX(we+2)),Ce.push(me.getX(we+1)),Ce.push(me.getX(we)));Ce.length/3!==Te&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const Se=be.clone();return Se.setIndex(Ce),Se}},"./node_modules/super-three/examples/jsm/loaders/KTX2Loader.js":(l,u,c)=>{c.r(u),c.d(u,{KTX2Loader:()=>b});var d=c("./node_modules/super-three/build/three.module.js"),h=c("./node_modules/super-three/examples/jsm/utils/WorkerPool.js"),p=c("./node_modules/super-three/examples/jsm/libs/ktx-parse.module.js"),m=c("./node_modules/super-three/examples/jsm/libs/zstddec.module.js");const v=new WeakMap;let y=0,A;class b extends d.Loader{constructor(L){super(L),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new h.WorkerPool,this.workerSourceURL="",this.workerConfig=null,typeof MSC_TRANSCODER<"u"&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(L){return this.transcoderPath=L,this}setWorkerLimit(L){return this.workerPool.setWorkerLimit(L),this}detectSupport(L){return this.workerConfig={astcSupported:L.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:L.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:L.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:L.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:L.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:L.extensions.has("WEBGL_compressed_texture_pvrtc")||L.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},L.capabilities.isWebGL2&&(this.workerConfig.etc1Supported=!1),this}init(){if(!this.transcoderPending){const L=new d.FileLoader(this.manager);L.setPath(this.transcoderPath),L.setWithCredentials(this.withCredentials);const R=L.loadAsync("basis_transcoder.js"),P=new d.FileLoader(this.manager);P.setPath(this.transcoderPath),P.setResponseType("arraybuffer"),P.setWithCredentials(this.withCredentials);const T=P.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([R,T]).then(([D,$])=>{const V=b.BasisWorker.toString(),B=["/* constants */","let _EngineFormat = "+JSON.stringify(b.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(b.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(b.BasisFormat),"/* basis_transcoder.js */",D,"/* worker */",V.substring(V.indexOf("{")+1,V.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([B])),this.transcoderBinary=$,this.workerPool.setWorkerCreator(()=>{const O=new Worker(this.workerSourceURL),F=this.transcoderBinary.slice(0);return O.postMessage({type:"init",config:this.workerConfig,transcoderBinary:F},[F]),O})}),y>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),y++}return this.transcoderPending}load(L,R,P,T){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const D=new d.FileLoader(this.manager);D.setResponseType("arraybuffer"),D.setWithCredentials(this.withCredentials),D.load(L,$=>{if(v.has($))return v.get($).promise.then(R).catch(T);this._createTexture($).then(V=>R?R(V):null).catch(T)},P,T)}_createTextureFrom(L,R){const{mipmaps:P,width:T,height:D,format:$,type:V,error:B,dfdTransferFn:O,dfdFlags:F}=L;if(V==="error")return Promise.reject(B);const k=R.layerCount>1?new d.CompressedArrayTexture(P,T,D,R.layerCount,$,d.UnsignedByteType):new d.CompressedTexture(P,T,D,$,d.UnsignedByteType);return k.minFilter=P.length===1?d.LinearFilter:d.LinearMipmapLinearFilter,k.magFilter=d.LinearFilter,k.generateMipmaps=!1,k.needsUpdate=!0,k.encoding=O===p.KHR_DF_TRANSFER_SRGB?d.sRGBEncoding:d.LinearEncoding,k.premultiplyAlpha=!!(F&p.KHR_DF_FLAG_ALPHA_PREMULTIPLIED),k}async _createTexture(L,R={}){const P=(0,p.read)(new Uint8Array(L));if(P.vkFormat!==p.VK_FORMAT_UNDEFINED)return C(P);const T=R,D=this.init().then(()=>this.workerPool.postMessage({type:"transcode",buffer:L,taskConfig:T},[L])).then($=>this._createTextureFrom($.data,P));return v.set(L,{promise:D}),D}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),y--,this}}b.BasisFormat={ETC1S:0,UASTC_4x4:1},b.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16},b.EngineFormat={RGBAFormat:d.RGBAFormat,RGBA_ASTC_4x4_Format:d.RGBA_ASTC_4x4_Format,RGBA_BPTC_Format:d.RGBA_BPTC_Format,RGBA_ETC2_EAC_Format:d.RGBA_ETC2_EAC_Format,RGBA_PVRTC_4BPPV1_Format:d.RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT5_Format:d.RGBA_S3TC_DXT5_Format,RGB_ETC1_Format:d.RGB_ETC1_Format,RGB_ETC2_Format:d.RGB_ETC2_Format,RGB_PVRTC_4BPPV1_Format:d.RGB_PVRTC_4BPPV1_Format,RGB_S3TC_DXT1_Format:d.RGB_S3TC_DXT1_Format},b.BasisWorker=function(){let _,L,R;const P=_EngineFormat,T=_TranscoderFormat,D=_BasisFormat;self.addEventListener("message",function(j){const Q=j.data;switch(Q.type){case"init":_=Q.config,$(Q.transcoderBinary);break;case"transcode":L.then(()=>{try{const{width:X,height:J,hasAlpha:Z,mipmaps:oe,format:ue,dfdTransferFn:Be,dfdFlags:ge}=V(Q.buffer),Ie=[];for(let He=0;He<oe.length;++He)Ie.push(oe[He].data.buffer);self.postMessage({type:"transcode",id:Q.id,width:X,height:J,hasAlpha:Z,mipmaps:oe,format:ue,dfdTransferFn:Be,dfdFlags:ge},Ie)}catch(X){console.error(X),self.postMessage({type:"error",id:Q.id,error:X.message})}});break}});function $(j){L=new Promise(Q=>{R={wasmBinary:j,onRuntimeInitialized:Q},BASIS(R)}).then(()=>{R.initializeBasis(),R.KTX2File===void 0&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")})}function V(j){const Q=new R.KTX2File(new Uint8Array(j));function X(){Q.close(),Q.delete()}if(!Q.isValid())throw X(),new Error("THREE.KTX2Loader:	Invalid or unsupported .ktx2 file");const J=Q.isUASTC()?D.UASTC_4x4:D.ETC1S,Z=Q.getWidth(),oe=Q.getHeight(),ue=Q.getLayers()||1,Be=Q.getLevels(),ge=Q.getHasAlpha(),Ie=Q.getDFDTransferFunc(),He=Q.getDFDFlags(),{transcoderFormat:Ze,engineFormat:Xe}=k(J,Z,oe,ge);if(!Z||!oe||!Be)throw X(),new Error("THREE.KTX2Loader:	Invalid texture");if(!Q.startTranscoding())throw X(),new Error("THREE.KTX2Loader: .startTranscoding failed");const ke=[];for(let lt=0;lt<Be;lt++){const ot=[];let it,ft;for(let xt=0;xt<ue;xt++){const At=Q.getImageLevelInfo(lt,xt,0);it=At.origWidth,ft=At.origHeight;const Ct=new Uint8Array(Q.getImageTranscodedSizeInBytes(lt,xt,0,Ze));if(!Q.transcodeImage(Ct,lt,xt,0,Ze,0,-1,-1))throw X(),new Error("THREE.KTX2Loader: .transcodeImage failed.");ot.push(Ct)}ke.push({data:G(ot),width:it,height:ft})}return X(),{width:Z,height:oe,hasAlpha:ge,mipmaps:ke,format:Xe,dfdTransferFn:Ie,dfdFlags:He}}const B=[{if:"astcSupported",basisFormat:[D.UASTC_4x4],transcoderFormat:[T.ASTC_4x4,T.ASTC_4x4],engineFormat:[P.RGBA_ASTC_4x4_Format,P.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[D.ETC1S,D.UASTC_4x4],transcoderFormat:[T.BC7_M5,T.BC7_M5],engineFormat:[P.RGBA_BPTC_Format,P.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[D.ETC1S,D.UASTC_4x4],transcoderFormat:[T.BC1,T.BC3],engineFormat:[P.RGB_S3TC_DXT1_Format,P.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[D.ETC1S,D.UASTC_4x4],transcoderFormat:[T.ETC1,T.ETC2],engineFormat:[P.RGB_ETC2_Format,P.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[D.ETC1S,D.UASTC_4x4],transcoderFormat:[T.ETC1],engineFormat:[P.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[D.ETC1S,D.UASTC_4x4],transcoderFormat:[T.PVRTC1_4_RGB,T.PVRTC1_4_RGBA],engineFormat:[P.RGB_PVRTC_4BPPV1_Format,P.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],O=B.sort(function(j,Q){return j.priorityETC1S-Q.priorityETC1S}),F=B.sort(function(j,Q){return j.priorityUASTC-Q.priorityUASTC});function k(j,Q,X,J){let Z,oe;const ue=j===D.ETC1S?O:F;for(let Be=0;Be<ue.length;Be++){const ge=ue[Be];if(_[ge.if]&&ge.basisFormat.includes(j)&&!(J&&ge.transcoderFormat.length<2)&&!(ge.needsPowerOfTwo&&!(z(Q)&&z(X))))return Z=ge.transcoderFormat[J?1:0],oe=ge.engineFormat[J?1:0],{transcoderFormat:Z,engineFormat:oe}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),Z=T.RGBA32,oe=P.RGBAFormat,{transcoderFormat:Z,engineFormat:oe}}function z(j){return j<=2?!0:(j&j-1)===0&&j!==0}function G(j){let Q=0;for(const Z of j)Q+=Z.byteLength;const X=new Uint8Array(Q);let J=0;for(const Z of j)X.set(Z,J),J+=Z.byteLength;return X}};const g={[p.VK_FORMAT_R32G32B32A32_SFLOAT]:d.RGBAFormat,[p.VK_FORMAT_R16G16B16A16_SFLOAT]:d.RGBAFormat,[p.VK_FORMAT_R8G8B8A8_UNORM]:d.RGBAFormat,[p.VK_FORMAT_R8G8B8A8_SRGB]:d.RGBAFormat,[p.VK_FORMAT_R32G32_SFLOAT]:d.RGFormat,[p.VK_FORMAT_R16G16_SFLOAT]:d.RGFormat,[p.VK_FORMAT_R8G8_UNORM]:d.RGFormat,[p.VK_FORMAT_R8G8_SRGB]:d.RGFormat,[p.VK_FORMAT_R32_SFLOAT]:d.RedFormat,[p.VK_FORMAT_R16_SFLOAT]:d.RedFormat,[p.VK_FORMAT_R8_SRGB]:d.RedFormat,[p.VK_FORMAT_R8_UNORM]:d.RedFormat},w={[p.VK_FORMAT_R32G32B32A32_SFLOAT]:d.FloatType,[p.VK_FORMAT_R16G16B16A16_SFLOAT]:d.HalfFloatType,[p.VK_FORMAT_R8G8B8A8_UNORM]:d.UnsignedByteType,[p.VK_FORMAT_R8G8B8A8_SRGB]:d.UnsignedByteType,[p.VK_FORMAT_R32G32_SFLOAT]:d.FloatType,[p.VK_FORMAT_R16G16_SFLOAT]:d.HalfFloatType,[p.VK_FORMAT_R8G8_UNORM]:d.UnsignedByteType,[p.VK_FORMAT_R8G8_SRGB]:d.UnsignedByteType,[p.VK_FORMAT_R32_SFLOAT]:d.FloatType,[p.VK_FORMAT_R16_SFLOAT]:d.HalfFloatType,[p.VK_FORMAT_R8_SRGB]:d.UnsignedByteType,[p.VK_FORMAT_R8_UNORM]:d.UnsignedByteType},E={[p.VK_FORMAT_R8G8B8A8_SRGB]:d.sRGBEncoding,[p.VK_FORMAT_R8G8_SRGB]:d.sRGBEncoding,[p.VK_FORMAT_R8_SRGB]:d.sRGBEncoding};async function C(_){const{vkFormat:L,pixelWidth:R,pixelHeight:P,pixelDepth:T}=_;if(g[L]===void 0)throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");const D=_.levels[0];let $,V;if(_.supercompressionScheme===p.KHR_SUPERCOMPRESSION_NONE)$=D.levelData;else if(_.supercompressionScheme===p.KHR_SUPERCOMPRESSION_ZSTD)A||(A=new Promise(async O=>{const F=new m.ZSTDDecoder;await F.init(),O(F)})),$=(await A).decode(D.levelData,D.uncompressedByteLength);else throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");w[L]===d.FloatType?V=new Float32Array($.buffer,$.byteOffset,$.byteLength/Float32Array.BYTES_PER_ELEMENT):w[L]===d.HalfFloatType?V=new Uint16Array($.buffer,$.byteOffset,$.byteLength/Uint16Array.BYTES_PER_ELEMENT):V=$;const B=T===0?new d.DataTexture(V,R,P):new d.Data3DTexture(V,R,P,T);return B.type=w[L],B.format=g[L],B.encoding=E[L]||d.LinearEncoding,B.needsUpdate=!0,Promise.resolve(B)}},"./node_modules/super-three/examples/jsm/loaders/MTLLoader.js":(l,u,c)=>{c.r(u),c.d(u,{MTLLoader:()=>h});var d=c("./node_modules/super-three/build/three.module.js");class h extends d.Loader{constructor(v){super(v)}load(v,y,A,b){const g=this,w=this.path===""?d.LoaderUtils.extractUrlBase(v):this.path,E=new d.FileLoader(this.manager);E.setPath(this.path),E.setRequestHeader(this.requestHeader),E.setWithCredentials(this.withCredentials),E.load(v,function(C){try{y(g.parse(C,w))}catch(_){b?b(_):console.error(_),g.manager.itemError(v)}},A,b)}setMaterialOptions(v){return this.materialOptions=v,this}parse(v,y){const A=v.split(`
`);let b={};const g=/\s+/,w={};for(let C=0;C<A.length;C++){let _=A[C];if(_=_.trim(),_.length===0||_.charAt(0)==="#")continue;const L=_.indexOf(" ");let R=L>=0?_.substring(0,L):_;R=R.toLowerCase();let P=L>=0?_.substring(L+1):"";if(P=P.trim(),R==="newmtl")b={name:P},w[P]=b;else if(R==="ka"||R==="kd"||R==="ks"||R==="ke"){const T=P.split(g,3);b[R]=[parseFloat(T[0]),parseFloat(T[1]),parseFloat(T[2])]}else b[R]=P}const E=new p(this.resourcePath||y,this.materialOptions);return E.setCrossOrigin(this.crossOrigin),E.setManager(this.manager),E.setMaterials(w),E}}class p{constructor(v="",y={}){this.baseUrl=v,this.options=y,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.crossOrigin="anonymous",this.side=this.options.side!==void 0?this.options.side:d.FrontSide,this.wrap=this.options.wrap!==void 0?this.options.wrap:d.RepeatWrapping}setCrossOrigin(v){return this.crossOrigin=v,this}setManager(v){this.manager=v}setMaterials(v){this.materialsInfo=this.convert(v),this.materials={},this.materialsArray=[],this.nameLookup={}}convert(v){if(!this.options)return v;const y={};for(const A in v){const b=v[A],g={};y[A]=g;for(const w in b){let E=!0,C=b[w];const _=w.toLowerCase();switch(_){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(C=[C[0]/255,C[1]/255,C[2]/255]),this.options&&this.options.ignoreZeroRGBs&&C[0]===0&&C[1]===0&&C[2]===0&&(E=!1);break}E&&(g[_]=C)}}return y}preload(){for(const v in this.materialsInfo)this.create(v)}getIndex(v){return this.nameLookup[v]}getAsArray(){let v=0;for(const y in this.materialsInfo)this.materialsArray[v]=this.create(y),this.nameLookup[y]=v,v++;return this.materialsArray}create(v){return this.materials[v]===void 0&&this.createMaterial_(v),this.materials[v]}createMaterial_(v){const y=this,A=this.materialsInfo[v],b={name:v,side:this.side};function g(E,C){return typeof C!="string"||C===""?"":/^https?:\/\//i.test(C)?C:E+C}function w(E,C){if(b[E])return;const _=y.getTextureParams(C,b),L=y.loadTexture(g(y.baseUrl,_.url));L.repeat.copy(_.scale),L.offset.copy(_.offset),L.wrapS=y.wrap,L.wrapT=y.wrap,(E==="map"||E==="emissiveMap")&&(L.encoding=d.sRGBEncoding),b[E]=L}for(const E in A){const C=A[E];let _;if(C!=="")switch(E.toLowerCase()){case"kd":b.color=new d.Color().fromArray(C).convertSRGBToLinear();break;case"ks":b.specular=new d.Color().fromArray(C).convertSRGBToLinear();break;case"ke":b.emissive=new d.Color().fromArray(C).convertSRGBToLinear();break;case"map_kd":w("map",C);break;case"map_ks":w("specularMap",C);break;case"map_ke":w("emissiveMap",C);break;case"norm":w("normalMap",C);break;case"map_bump":case"bump":w("bumpMap",C);break;case"map_d":w("alphaMap",C),b.transparent=!0;break;case"ns":b.shininess=parseFloat(C);break;case"d":_=parseFloat(C),_<1&&(b.opacity=_,b.transparent=!0);break;case"tr":_=parseFloat(C),this.options&&this.options.invertTrProperty&&(_=1-_),_>0&&(b.opacity=1-_,b.transparent=!0);break}}return this.materials[v]=new d.MeshPhongMaterial(b),this.materials[v]}getTextureParams(v,y){const A={scale:new d.Vector2(1,1),offset:new d.Vector2(0,0)},b=v.split(/\s+/);let g;return g=b.indexOf("-bm"),g>=0&&(y.bumpScale=parseFloat(b[g+1]),b.splice(g,2)),g=b.indexOf("-s"),g>=0&&(A.scale.set(parseFloat(b[g+1]),parseFloat(b[g+2])),b.splice(g,4)),g=b.indexOf("-o"),g>=0&&(A.offset.set(parseFloat(b[g+1]),parseFloat(b[g+2])),b.splice(g,4)),A.url=b.join(" ").trim(),A}loadTexture(v,y,A,b,g){const w=this.manager!==void 0?this.manager:d.DefaultLoadingManager;let E=w.getHandler(v);E===null&&(E=new d.TextureLoader(w)),E.setCrossOrigin&&E.setCrossOrigin(this.crossOrigin);const C=E.load(v,A,b,g);return y!==void 0&&(C.mapping=y),C}}},"./node_modules/super-three/examples/jsm/loaders/OBJLoader.js":(l,u,c)=>{c.r(u),c.d(u,{OBJLoader:()=>L});var d=c("./node_modules/super-three/build/three.module.js");const h=/^[og]\s*(.+)?/,p=/^mtllib /,m=/^usemtl /,v=/^usemap /,y=/\s+/,A=new d.Vector3,b=new d.Vector3,g=new d.Vector3,w=new d.Vector3,E=new d.Vector3,C=new d.Color;function _(){const R={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(P,T){if(this.object&&this.object.fromDeclaration===!1){this.object.name=P,this.object.fromDeclaration=T!==!1;return}const D=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:P||"",fromDeclaration:T!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function($,V){const B=this._finalize(!1);B&&(B.inherited||B.groupCount<=0)&&this.materials.splice(B.index,1);const O={index:this.materials.length,name:$||"",mtllib:Array.isArray(V)&&V.length>0?V[V.length-1]:"",smooth:B!==void 0?B.smooth:this.smooth,groupStart:B!==void 0?B.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(F){const k={index:typeof F=="number"?F:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return k.clone=this.clone.bind(k),k}};return this.materials.push(O),O},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function($){const V=this.currentMaterial();if(V&&V.groupEnd===-1&&(V.groupEnd=this.geometry.vertices.length/3,V.groupCount=V.groupEnd-V.groupStart,V.inherited=!1),$&&this.materials.length>1)for(let B=this.materials.length-1;B>=0;B--)this.materials[B].groupCount<=0&&this.materials.splice(B,1);return $&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),V}},D&&D.name&&typeof D.clone=="function"){const $=D.clone(0);$.inherited=!0,this.object.materials.push($)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(P,T){const D=parseInt(P,10);return(D>=0?D-1:D+T/3)*3},parseNormalIndex:function(P,T){const D=parseInt(P,10);return(D>=0?D-1:D+T/3)*3},parseUVIndex:function(P,T){const D=parseInt(P,10);return(D>=0?D-1:D+T/2)*2},addVertex:function(P,T,D){const $=this.vertices,V=this.object.geometry.vertices;V.push($[P+0],$[P+1],$[P+2]),V.push($[T+0],$[T+1],$[T+2]),V.push($[D+0],$[D+1],$[D+2])},addVertexPoint:function(P){const T=this.vertices;this.object.geometry.vertices.push(T[P+0],T[P+1],T[P+2])},addVertexLine:function(P){const T=this.vertices;this.object.geometry.vertices.push(T[P+0],T[P+1],T[P+2])},addNormal:function(P,T,D){const $=this.normals,V=this.object.geometry.normals;V.push($[P+0],$[P+1],$[P+2]),V.push($[T+0],$[T+1],$[T+2]),V.push($[D+0],$[D+1],$[D+2])},addFaceNormal:function(P,T,D){const $=this.vertices,V=this.object.geometry.normals;A.fromArray($,P),b.fromArray($,T),g.fromArray($,D),E.subVectors(g,b),w.subVectors(A,b),E.cross(w),E.normalize(),V.push(E.x,E.y,E.z),V.push(E.x,E.y,E.z),V.push(E.x,E.y,E.z)},addColor:function(P,T,D){const $=this.colors,V=this.object.geometry.colors;$[P]!==void 0&&V.push($[P+0],$[P+1],$[P+2]),$[T]!==void 0&&V.push($[T+0],$[T+1],$[T+2]),$[D]!==void 0&&V.push($[D+0],$[D+1],$[D+2])},addUV:function(P,T,D){const $=this.uvs,V=this.object.geometry.uvs;V.push($[P+0],$[P+1]),V.push($[T+0],$[T+1]),V.push($[D+0],$[D+1])},addDefaultUV:function(){const P=this.object.geometry.uvs;P.push(0,0),P.push(0,0),P.push(0,0)},addUVLine:function(P){const T=this.uvs;this.object.geometry.uvs.push(T[P+0],T[P+1])},addFace:function(P,T,D,$,V,B,O,F,k){const z=this.vertices.length;let G=this.parseVertexIndex(P,z),j=this.parseVertexIndex(T,z),Q=this.parseVertexIndex(D,z);if(this.addVertex(G,j,Q),this.addColor(G,j,Q),O!==void 0&&O!==""){const X=this.normals.length;G=this.parseNormalIndex(O,X),j=this.parseNormalIndex(F,X),Q=this.parseNormalIndex(k,X),this.addNormal(G,j,Q)}else this.addFaceNormal(G,j,Q);if($!==void 0&&$!==""){const X=this.uvs.length;G=this.parseUVIndex($,X),j=this.parseUVIndex(V,X),Q=this.parseUVIndex(B,X),this.addUV(G,j,Q),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(P){this.object.geometry.type="Points";const T=this.vertices.length;for(let D=0,$=P.length;D<$;D++){const V=this.parseVertexIndex(P[D],T);this.addVertexPoint(V),this.addColor(V)}},addLineGeometry:function(P,T){this.object.geometry.type="Line";const D=this.vertices.length,$=this.uvs.length;for(let V=0,B=P.length;V<B;V++)this.addVertexLine(this.parseVertexIndex(P[V],D));for(let V=0,B=T.length;V<B;V++)this.addUVLine(this.parseUVIndex(T[V],$))}};return R.startObject("",!1),R}class L extends d.Loader{constructor(P){super(P),this.materials=null}load(P,T,D,$){const V=this,B=new d.FileLoader(this.manager);B.setPath(this.path),B.setRequestHeader(this.requestHeader),B.setWithCredentials(this.withCredentials),B.load(P,function(O){try{T(V.parse(O))}catch(F){$?$(F):console.error(F),V.manager.itemError(P)}},D,$)}setMaterials(P){return this.materials=P,this}parse(P){const T=new _;P.indexOf(`\r
`)!==-1&&(P=P.replace(/\r\n/g,`
`)),P.indexOf(`\\
`)!==-1&&(P=P.replace(/\\\n/g,""));const D=P.split(`
`);let $=[];for(let O=0,F=D.length;O<F;O++){const k=D[O].trimStart();if(k.length===0)continue;const z=k.charAt(0);if(z!=="#")if(z==="v"){const G=k.split(y);switch(G[0]){case"v":T.vertices.push(parseFloat(G[1]),parseFloat(G[2]),parseFloat(G[3])),G.length>=7?(C.setRGB(parseFloat(G[4]),parseFloat(G[5]),parseFloat(G[6])).convertSRGBToLinear(),T.colors.push(C.r,C.g,C.b)):T.colors.push(void 0,void 0,void 0);break;case"vn":T.normals.push(parseFloat(G[1]),parseFloat(G[2]),parseFloat(G[3]));break;case"vt":T.uvs.push(parseFloat(G[1]),parseFloat(G[2]));break}}else if(z==="f"){const j=k.slice(1).trim().split(y),Q=[];for(let J=0,Z=j.length;J<Z;J++){const oe=j[J];if(oe.length>0){const ue=oe.split("/");Q.push(ue)}}const X=Q[0];for(let J=1,Z=Q.length-1;J<Z;J++){const oe=Q[J],ue=Q[J+1];T.addFace(X[0],oe[0],ue[0],X[1],oe[1],ue[1],X[2],oe[2],ue[2])}}else if(z==="l"){const G=k.substring(1).trim().split(" ");let j=[];const Q=[];if(k.indexOf("/")===-1)j=G;else for(let X=0,J=G.length;X<J;X++){const Z=G[X].split("/");Z[0]!==""&&j.push(Z[0]),Z[1]!==""&&Q.push(Z[1])}T.addLineGeometry(j,Q)}else if(z==="p"){const j=k.slice(1).trim().split(" ");T.addPointGeometry(j)}else if(($=h.exec(k))!==null){const G=(" "+$[0].slice(1).trim()).slice(1);T.startObject(G)}else if(m.test(k))T.object.startMaterial(k.substring(7).trim(),T.materialLibraries);else if(p.test(k))T.materialLibraries.push(k.substring(7).trim());else if(v.test(k))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(z==="s"){if($=k.split(" "),$.length>1){const j=$[1].trim().toLowerCase();T.object.smooth=j!=="0"&&j!=="off"}else T.object.smooth=!0;const G=T.object.currentMaterial();G&&(G.smooth=T.object.smooth)}else{if(k==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+k+'"')}}T.finalize();const V=new d.Group;if(V.materialLibraries=[].concat(T.materialLibraries),!(T.objects.length===1&&T.objects[0].geometry.vertices.length===0)===!0)for(let O=0,F=T.objects.length;O<F;O++){const k=T.objects[O],z=k.geometry,G=k.materials,j=z.type==="Line",Q=z.type==="Points";let X=!1;if(z.vertices.length===0)continue;const J=new d.BufferGeometry;J.setAttribute("position",new d.Float32BufferAttribute(z.vertices,3)),z.normals.length>0&&J.setAttribute("normal",new d.Float32BufferAttribute(z.normals,3)),z.colors.length>0&&(X=!0,J.setAttribute("color",new d.Float32BufferAttribute(z.colors,3))),z.hasUVIndices===!0&&J.setAttribute("uv",new d.Float32BufferAttribute(z.uvs,2));const Z=[];for(let ue=0,Be=G.length;ue<Be;ue++){const ge=G[ue],Ie=ge.name+"_"+ge.smooth+"_"+X;let He=T.materials[Ie];if(this.materials!==null){if(He=this.materials.create(ge.name),j&&He&&!(He instanceof d.LineBasicMaterial)){const Ze=new d.LineBasicMaterial;d.Material.prototype.copy.call(Ze,He),Ze.color.copy(He.color),He=Ze}else if(Q&&He&&!(He instanceof d.PointsMaterial)){const Ze=new d.PointsMaterial({size:10,sizeAttenuation:!1});d.Material.prototype.copy.call(Ze,He),Ze.color.copy(He.color),Ze.map=He.map,He=Ze}}He===void 0&&(j?He=new d.LineBasicMaterial:Q?He=new d.PointsMaterial({size:1,sizeAttenuation:!1}):He=new d.MeshPhongMaterial,He.name=ge.name,He.flatShading=!ge.smooth,He.vertexColors=X,T.materials[Ie]=He),Z.push(He)}let oe;if(Z.length>1){for(let ue=0,Be=G.length;ue<Be;ue++){const ge=G[ue];J.addGroup(ge.groupStart,ge.groupCount,ue)}j?oe=new d.LineSegments(J,Z):Q?oe=new d.Points(J,Z):oe=new d.Mesh(J,Z)}else j?oe=new d.LineSegments(J,Z[0]):Q?oe=new d.Points(J,Z[0]):oe=new d.Mesh(J,Z[0]);oe.name=k.name,V.add(oe)}else if(T.vertices.length>0){const O=new d.PointsMaterial({size:1,sizeAttenuation:!1}),F=new d.BufferGeometry;F.setAttribute("position",new d.Float32BufferAttribute(T.vertices,3)),T.colors.length>0&&T.colors[0]!==void 0&&(F.setAttribute("color",new d.Float32BufferAttribute(T.colors,3)),O.vertexColors=!0);const k=new d.Points(F,O);V.add(k)}return V}}},"./node_modules/super-three/examples/jsm/utils/BufferGeometryUtils.js":(l,u,c)=>{c.r(u),c.d(u,{computeMikkTSpaceTangents:()=>p,computeMorphedAttributes:()=>_,computeTangents:()=>h,deepCloneAttribute:()=>y,deinterleaveAttribute:()=>b,deinterleaveGeometry:()=>g,estimateBytesUsed:()=>w,interleaveAttributes:()=>A,mergeBufferAttributes:()=>v,mergeBufferGeometries:()=>m,mergeGroups:()=>L,mergeVertices:()=>E,toCreasedNormals:()=>R,toTrianglesDrawMode:()=>C});var d=c("./node_modules/super-three/build/three.module.js");function h(){throw new Error("BufferGeometryUtils: computeTangents renamed to computeMikkTSpaceTangents.")}function p(P,T,D=!0){if(!T||!T.isReady)throw new Error("BufferGeometryUtils: Initialized MikkTSpace library required.");if(!P.hasAttribute("position")||!P.hasAttribute("normal")||!P.hasAttribute("uv"))throw new Error('BufferGeometryUtils: Tangents require "position", "normal", and "uv" attributes.');function $(O){if(O.normalized||O.isInterleavedBufferAttribute){const F=new Float32Array(O.getCount()*O.itemSize);for(let k=0,z=0;k<O.getCount();k++)F[z++]=O.getX(k),F[z++]=O.getY(k),O.itemSize>2&&(F[z++]=O.getZ(k));return F}return O.array instanceof Float32Array?O.array:new Float32Array(O.array)}const V=P.index?P.toNonIndexed():P,B=T.generateTangents($(V.attributes.position),$(V.attributes.normal),$(V.attributes.uv));if(D)for(let O=3;O<B.length;O+=4)B[O]*=-1;return V.setAttribute("tangent",new d.BufferAttribute(B,4)),P!==V&&P.copy(V),P}function m(P,T=!1){const D=P[0].index!==null,$=new Set(Object.keys(P[0].attributes)),V=new Set(Object.keys(P[0].morphAttributes)),B={},O={},F=P[0].morphTargetsRelative,k=new d.BufferGeometry;let z=0;for(let G=0;G<P.length;++G){const j=P[G];let Q=0;if(D!==(j.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+G+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(const X in j.attributes){if(!$.has(X))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+G+'. All geometries must have compatible attributes; make sure "'+X+'" attribute exists among all geometries, or in none of them.'),null;B[X]===void 0&&(B[X]=[]),B[X].push(j.attributes[X]),Q++}if(Q!==$.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+G+". Make sure all geometries have the same number of attributes."),null;if(F!==j.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+G+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(const X in j.morphAttributes){if(!V.has(X))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+G+".  .morphAttributes must be consistent throughout all geometries."),null;O[X]===void 0&&(O[X]=[]),O[X].push(j.morphAttributes[X])}if(T){let X;if(D)X=j.index.count;else if(j.attributes.position!==void 0)X=j.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+G+". The geometry must have either an index or a position attribute"),null;k.addGroup(z,X,G),z+=X}}if(D){let G=0;const j=[];for(let Q=0;Q<P.length;++Q){const X=P[Q].index;for(let J=0;J<X.count;++J)j.push(X.getX(J)+G);G+=P[Q].attributes.position.count}k.setIndex(j)}for(const G in B){const j=v(B[G]);if(!j)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+G+" attribute."),null;k.setAttribute(G,j)}for(const G in O){const j=O[G][0].length;if(j===0)break;k.morphAttributes=k.morphAttributes||{},k.morphAttributes[G]=[];for(let Q=0;Q<j;++Q){const X=[];for(let Z=0;Z<O[G].length;++Z)X.push(O[G][Z][Q]);const J=v(X);if(!J)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+G+" morphAttribute."),null;k.morphAttributes[G].push(J)}}return k}function v(P){let T,D,$,V=0;for(let F=0;F<P.length;++F){const k=P[F];if(k.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(T===void 0&&(T=k.array.constructor),T!==k.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(D===void 0&&(D=k.itemSize),D!==k.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if($===void 0&&($=k.normalized),$!==k.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;V+=k.array.length}const B=new T(V);let O=0;for(let F=0;F<P.length;++F)B.set(P[F].array,O),O+=P[F].array.length;return new d.BufferAttribute(B,D,$)}function y(P){return P.isInstancedInterleavedBufferAttribute||P.isInterleavedBufferAttribute?b(P):P.isInstancedBufferAttribute?new d.InstancedBufferAttribute().copy(P):new d.BufferAttribute().copy(P)}function A(P){let T,D=0,$=0;for(let z=0,G=P.length;z<G;++z){const j=P[z];if(T===void 0&&(T=j.array.constructor),T!==j.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;D+=j.array.length,$+=j.itemSize}const V=new d.InterleavedBuffer(new T(D),$);let B=0;const O=[],F=["getX","getY","getZ","getW"],k=["setX","setY","setZ","setW"];for(let z=0,G=P.length;z<G;z++){const j=P[z],Q=j.itemSize,X=j.count,J=new d.InterleavedBufferAttribute(V,Q,B,j.normalized);O.push(J),B+=Q;for(let Z=0;Z<X;Z++)for(let oe=0;oe<Q;oe++)J[k[oe]](Z,j[F[oe]](Z))}return O}function b(P){const T=P.data.array.constructor,D=P.count,$=P.itemSize,V=P.normalized,B=new T(D*$);let O;P.isInstancedInterleavedBufferAttribute?O=new d.InstancedBufferAttribute(B,$,V,P.meshPerAttribute):O=new d.BufferAttribute(B,$,V);for(let F=0;F<D;F++)O.setX(F,P.getX(F)),$>=2&&O.setY(F,P.getY(F)),$>=3&&O.setZ(F,P.getZ(F)),$>=4&&O.setW(F,P.getW(F));return O}function g(P){const T=P.attributes,D=P.morphTargets,$=new Map;for(const V in T){const B=T[V];B.isInterleavedBufferAttribute&&($.has(B)||$.set(B,b(B)),T[V]=$.get(B))}for(const V in D){const B=D[V];B.isInterleavedBufferAttribute&&($.has(B)||$.set(B,b(B)),D[V]=$.get(B))}}function w(P){let T=0;for(const $ in P.attributes){const V=P.getAttribute($);T+=V.count*V.itemSize*V.array.BYTES_PER_ELEMENT}const D=P.getIndex();return T+=D?D.count*D.itemSize*D.array.BYTES_PER_ELEMENT:0,T}function E(P,T=1e-4){T=Math.max(T,Number.EPSILON);const D={},$=P.getIndex(),V=P.getAttribute("position"),B=$?$.count:V.count;let O=0;const F=Object.keys(P.attributes),k={},z={},G=[],j=["getX","getY","getZ","getW"],Q=["setX","setY","setZ","setW"];for(let oe=0,ue=F.length;oe<ue;oe++){const Be=F[oe],ge=P.attributes[Be];k[Be]=new d.BufferAttribute(new ge.array.constructor(ge.count*ge.itemSize),ge.itemSize,ge.normalized);const Ie=P.morphAttributes[Be];Ie&&(z[Be]=new d.BufferAttribute(new Ie.array.constructor(Ie.count*Ie.itemSize),Ie.itemSize,Ie.normalized))}const X=Math.log10(1/T),J=Math.pow(10,X);for(let oe=0;oe<B;oe++){const ue=$?$.getX(oe):oe;let Be="";for(let ge=0,Ie=F.length;ge<Ie;ge++){const He=F[ge],Ze=P.getAttribute(He),Xe=Ze.itemSize;for(let ke=0;ke<Xe;ke++)Be+=`${~~(Ze[j[ke]](ue)*J)},`}if(Be in D)G.push(D[Be]);else{for(let ge=0,Ie=F.length;ge<Ie;ge++){const He=F[ge],Ze=P.getAttribute(He),Xe=P.morphAttributes[He],ke=Ze.itemSize,lt=k[He],ot=z[He];for(let it=0;it<ke;it++){const ft=j[it],xt=Q[it];if(lt[xt](O,Ze[ft](ue)),Xe)for(let At=0,Ct=Xe.length;At<Ct;At++)ot[At][xt](O,Xe[At][ft](ue))}}D[Be]=O,G.push(O),O++}}const Z=P.clone();for(const oe in P.attributes){const ue=k[oe];if(Z.setAttribute(oe,new d.BufferAttribute(ue.array.slice(0,O*ue.itemSize),ue.itemSize,ue.normalized)),oe in z)for(let Be=0;Be<z[oe].length;Be++){const ge=z[oe][Be];Z.morphAttributes[oe][Be]=new d.BufferAttribute(ge.array.slice(0,O*ge.itemSize),ge.itemSize,ge.normalized)}}return Z.setIndex(G),Z}function C(P,T){if(T===d.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),P;if(T===d.TriangleFanDrawMode||T===d.TriangleStripDrawMode){let D=P.getIndex();if(D===null){const O=[],F=P.getAttribute("position");if(F!==void 0){for(let k=0;k<F.count;k++)O.push(k);P.setIndex(O),D=P.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),P}const $=D.count-2,V=[];if(T===d.TriangleFanDrawMode)for(let O=1;O<=$;O++)V.push(D.getX(0)),V.push(D.getX(O)),V.push(D.getX(O+1));else for(let O=0;O<$;O++)O%2===0?(V.push(D.getX(O)),V.push(D.getX(O+1)),V.push(D.getX(O+2))):(V.push(D.getX(O+2)),V.push(D.getX(O+1)),V.push(D.getX(O)));V.length/3!==$&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const B=P.clone();return B.setIndex(V),B.clearGroups(),B}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",T),P}function _(P){if(P.geometry.isBufferGeometry!==!0)return console.error("THREE.BufferGeometryUtils: Geometry is not of type BufferGeometry."),null;const T=new d.Vector3,D=new d.Vector3,$=new d.Vector3,V=new d.Vector3,B=new d.Vector3,O=new d.Vector3,F=new d.Vector3,k=new d.Vector3,z=new d.Vector3;function G(Ve,be,fe,me,Te,Ce,Se,we){T.fromBufferAttribute(be,Te),D.fromBufferAttribute(be,Ce),$.fromBufferAttribute(be,Se);const Ge=Ve.morphTargetInfluences;if(fe&&Ge){F.set(0,0,0),k.set(0,0,0),z.set(0,0,0);for(let Ae=0,Ue=fe.length;Ae<Ue;Ae++){const et=Ge[Ae],ce=fe[Ae];et!==0&&(V.fromBufferAttribute(ce,Te),B.fromBufferAttribute(ce,Ce),O.fromBufferAttribute(ce,Se),me?(F.addScaledVector(V,et),k.addScaledVector(B,et),z.addScaledVector(O,et)):(F.addScaledVector(V.sub(T),et),k.addScaledVector(B.sub(D),et),z.addScaledVector(O.sub($),et)))}T.add(F),D.add(k),$.add(z)}Ve.isSkinnedMesh&&(Ve.boneTransform(Te,T),Ve.boneTransform(Ce,D),Ve.boneTransform(Se,$)),we[Te*3+0]=T.x,we[Te*3+1]=T.y,we[Te*3+2]=T.z,we[Ce*3+0]=D.x,we[Ce*3+1]=D.y,we[Ce*3+2]=D.z,we[Se*3+0]=$.x,we[Se*3+1]=$.y,we[Se*3+2]=$.z}const j=P.geometry,Q=P.material;let X,J,Z;const oe=j.index,ue=j.attributes.position,Be=j.morphAttributes.position,ge=j.morphTargetsRelative,Ie=j.attributes.normal,He=j.morphAttributes.position,Ze=j.groups,Xe=j.drawRange;let ke,lt,ot,it,ft,xt,At;const Ct=new Float32Array(ue.count*ue.itemSize),Tt=new Float32Array(Ie.count*Ie.itemSize);if(oe!==null)if(Array.isArray(Q))for(ke=0,ot=Ze.length;ke<ot;ke++)for(ft=Ze[ke],xt=Math.max(ft.start,Xe.start),At=Math.min(ft.start+ft.count,Xe.start+Xe.count),lt=xt,it=At;lt<it;lt+=3)X=oe.getX(lt),J=oe.getX(lt+1),Z=oe.getX(lt+2),G(P,ue,Be,ge,X,J,Z,Ct),G(P,Ie,He,ge,X,J,Z,Tt);else for(xt=Math.max(0,Xe.start),At=Math.min(oe.count,Xe.start+Xe.count),ke=xt,ot=At;ke<ot;ke+=3)X=oe.getX(ke),J=oe.getX(ke+1),Z=oe.getX(ke+2),G(P,ue,Be,ge,X,J,Z,Ct),G(P,Ie,He,ge,X,J,Z,Tt);else if(Array.isArray(Q))for(ke=0,ot=Ze.length;ke<ot;ke++)for(ft=Ze[ke],xt=Math.max(ft.start,Xe.start),At=Math.min(ft.start+ft.count,Xe.start+Xe.count),lt=xt,it=At;lt<it;lt+=3)X=lt,J=lt+1,Z=lt+2,G(P,ue,Be,ge,X,J,Z,Ct),G(P,Ie,He,ge,X,J,Z,Tt);else for(xt=Math.max(0,Xe.start),At=Math.min(ue.count,Xe.start+Xe.count),ke=xt,ot=At;ke<ot;ke+=3)X=ke,J=ke+1,Z=ke+2,G(P,ue,Be,ge,X,J,Z,Ct),G(P,Ie,He,ge,X,J,Z,Tt);const Dt=new d.Float32BufferAttribute(Ct,3),Yt=new d.Float32BufferAttribute(Tt,3);return{positionAttribute:ue,normalAttribute:Ie,morphedPositionAttribute:Dt,morphedNormalAttribute:Yt}}function L(P){if(P.groups.length===0)return console.warn("THREE.BufferGeometryUtils.mergeGroups(): No groups are defined. Nothing to merge."),P;let T=P.groups;if(T=T.sort((O,F)=>O.materialIndex!==F.materialIndex?O.materialIndex-F.materialIndex:O.start-F.start),P.getIndex()===null){const O=P.getAttribute("position"),F=[];for(let k=0;k<O.count;k+=3)F.push(k,k+1,k+2);P.setIndex(F)}const D=P.getIndex(),$=[];for(let O=0;O<T.length;O++){const F=T[O],k=F.start,z=k+F.count;for(let G=k;G<z;G++)$.push(D.getX(G))}P.dispose(),P.setIndex($);let V=0;for(let O=0;O<T.length;O++){const F=T[O];F.start=V,V+=F.count}let B=T[0];P.groups=[B];for(let O=1;O<T.length;O++){const F=T[O];B.materialIndex===F.materialIndex?B.count+=F.count:(B=F,P.groups.push(B))}return P}function R(P,T=Math.PI/3){const D=Math.cos(T),$=(1+1e-10)*100,V=[new d.Vector3,new d.Vector3,new d.Vector3],B=new d.Vector3,O=new d.Vector3,F=new d.Vector3,k=new d.Vector3;function z(Z){const oe=~~(Z.x*$),ue=~~(Z.y*$),Be=~~(Z.z*$);return`${oe},${ue},${Be}`}const G=P.toNonIndexed(),j=G.attributes.position,Q={};for(let Z=0,oe=j.count/3;Z<oe;Z++){const ue=3*Z,Be=V[0].fromBufferAttribute(j,ue+0),ge=V[1].fromBufferAttribute(j,ue+1),Ie=V[2].fromBufferAttribute(j,ue+2);B.subVectors(Ie,ge),O.subVectors(Be,ge);const He=new d.Vector3().crossVectors(B,O).normalize();for(let Ze=0;Ze<3;Ze++){const Xe=V[Ze],ke=z(Xe);ke in Q||(Q[ke]=[]),Q[ke].push(He)}}const X=new Float32Array(j.count*3),J=new d.BufferAttribute(X,3,!1);for(let Z=0,oe=j.count/3;Z<oe;Z++){const ue=3*Z,Be=V[0].fromBufferAttribute(j,ue+0),ge=V[1].fromBufferAttribute(j,ue+1),Ie=V[2].fromBufferAttribute(j,ue+2);B.subVectors(Ie,ge),O.subVectors(Be,ge),F.crossVectors(B,O).normalize();for(let He=0;He<3;He++){const Ze=V[He],Xe=z(Ze),ke=Q[Xe];k.set(0,0,0);for(let lt=0,ot=ke.length;lt<ot;lt++){const it=ke[lt];F.dot(it)>D&&k.add(it)}k.normalize(),J.setXYZ(ue+He,k.x,k.y,k.z)}}return G.setAttribute("normal",J),G}},"./node_modules/super-three/examples/jsm/utils/WorkerPool.js":(l,u,c)=>{c.r(u),c.d(u,{WorkerPool:()=>d});class d{constructor(p=4){this.pool=p,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(p){if(!this.workers[p]){const m=this.workerCreator();m.addEventListener("message",this._onMessage.bind(this,p)),this.workers[p]=m}}_getIdleWorker(){for(let p=0;p<this.pool;p++)if(!(this.workerStatus&1<<p))return p;return-1}_onMessage(p,m){const v=this.workersResolve[p];if(v&&v(m),this.queue.length){const{resolve:y,msg:A,transfer:b}=this.queue.shift();this.workersResolve[p]=y,this.workers[p].postMessage(A,b)}else this.workerStatus^=1<<p}setWorkerCreator(p){this.workerCreator=p}setWorkerLimit(p){this.pool=p}postMessage(p,m){return new Promise(v=>{const y=this._getIdleWorker();y!==-1?(this._initWorker(y),this.workerStatus|=1<<y,this.workersResolve[y]=v,this.workers[y].postMessage(p,m)):this.queue.push({resolve:v,msg:p,transfer:m})})}dispose(){this.workers.forEach(p=>p.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}},"./package.json":l=>{l.exports=JSON.parse('{"name":"aframe","version":"1.4.2","description":"A web framework for building virtual reality experiences.","homepage":"https://aframe.io/","main":"dist/aframe-master.js","scripts":{"dev":"cross-env INSPECTOR_VERSION=dev webpack serve --port 8080","dist":"node scripts/updateVersionLog.js && npm run dist:min && npm run dist:max","dist:max":"webpack --config webpack.config.js","dist:min":"webpack --config webpack.prod.config.js","docs":"markserv --dir docs --port 9001","preghpages":"node ./scripts/preghpages.js","ghpages":"ghpages -p gh-pages/","lint":"semistandard -v | snazzy","lint:fix":"semistandard --fix","precommit":"npm run lint","prepush":"node scripts/testOnlyCheck.js","prerelease":"node scripts/release.js 1.4.1 1.4.2","start":"npm run dev","start:https":"npm run dev -- --server-type https","test":"karma start ./tests/karma.conf.js","test:docs":"node scripts/docsLint.js","test:firefox":"npm test -- --browsers Firefox","test:chrome":"npm test -- --browsers Chrome","test:nobrowser":"NO_BROWSER=true npm test","test:node":"mocha --ui tdd tests/node"},"repository":"aframevr/aframe","license":"MIT","files":["dist/*","docs/**/*","src/**/*","vendor/**/*"],"dependencies":{"buffer":"^6.0.3","custom-event-polyfill":"^1.0.6","debug":"ngokevin/debug#noTimestamp","deep-assign":"^2.0.0","@ungap/custom-elements":"^1.1.0","load-bmfont":"^1.2.3","object-assign":"^4.0.1","present":"0.0.6","promise-polyfill":"^3.1.0","super-animejs":"^3.1.0","super-three":"^0.147.1","three-bmfont-text":"dmarcos/three-bmfont-text#21d017046216e318362c48abd1a48bddfb6e0733","webvr-polyfill":"^0.10.12"},"devDependencies":{"@babel/core":"^7.17.10","babel-loader":"^8.2.5","babel-plugin-istanbul":"^6.1.1","chai":"^4.3.6","chai-shallow-deep-equal":"^1.4.0","chalk":"^1.1.3","cross-env":"^7.0.3","css-loader":"^6.7.1","ghpages":"0.0.8","git-rev":"^0.2.1","glob":"^8.0.3","husky":"^0.11.7","jsdom":"^20.0.0","karma":"^6.4.0","karma-chai-shallow-deep-equal":"0.0.4","karma-chrome-launcher":"^3.1.1","karma-coverage":"^2.2.0","karma-env-preprocessor":"^0.1.1","karma-firefox-launcher":"^2.1.2","karma-mocha":"^2.0.1","karma-mocha-reporter":"^2.2.5","karma-sinon-chai":"^2.0.2","karma-webpack":"^5.0.0","markserv":"github:sukima/markserv#feature/fix-broken-websoketio-link","mocha":"^10.0.0","replace-in-file":"^2.5.3","semistandard":"^9.0.0","shelljs":"^0.7.7","shx":"^0.2.2","sinon":"<12.0.0","sinon-chai":"^3.7.0","snazzy":"^5.0.0","style-loader":"^3.3.1","too-wordy":"ngokevin/too-wordy","webpack":"^5.73.0","webpack-cli":"^4.10.0","webpack-dev-server":"^4.11.0","webpack-merge":"^5.8.0","write-good":"^1.0.8"},"link":true,"semistandard":{"ignore":["build/**","dist/**","examples/**/shaders/*.js","**/vendor/**"]},"keywords":["3d","aframe","cardboard","components","oculus","three","three.js","rift","vive","vr","quest","meta","web-components","webvr","webxr"],"engines":{"node":">= 4.6.0","npm":">= 2.15.9"}}')}},i={};function o(l){var u=i[l];if(u!==void 0)return u.exports;var c=i[l]={id:l,exports:{}};return r[l].call(c.exports,c,c.exports,o),c.exports}o.m=r,o.n=l=>{var u=l&&l.__esModule?()=>l.default:()=>l;return o.d(u,{a:u}),u},o.d=(l,u)=>{for(var c in u)o.o(u,c)&&!o.o(l,c)&&Object.defineProperty(l,c,{enumerable:!0,get:u[c]})},o.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),o.o=(l,u)=>Object.prototype.hasOwnProperty.call(l,u),o.r=l=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},o.b=document.baseURI||self.location.href,o.nc=void 0;var s=o("./src/index.js");return s})())})(V3e);const o8=.1;AFRAME.registerComponent("checkpoint-controls",{schema:{enabled:{default:!0},mode:{default:"teleport",oneOf:["teleport","animate"]},animateSpeed:{default:3}},init:function(){this.active=!0,this.checkpoint=null,this.isNavMeshConstrained=!1,this.offset=new THREE.Vector3,this.position=new THREE.Vector3,this.targetPosition=new THREE.Vector3},play:function(){this.active=!0},pause:function(){this.active=!1},setCheckpoint:function(n){const e=this.el;if(this.active&&this.checkpoint!==n){if(this.checkpoint&&e.emit("navigation-end",{checkpoint:this.checkpoint}),this.checkpoint=n,this.sync(),this.position.distanceTo(this.targetPosition)<o8){this.checkpoint=null;return}e.emit("navigation-start",{checkpoint:n}),this.data.mode==="teleport"&&(this.el.setAttribute("position",this.targetPosition),this.checkpoint=null,e.emit("navigation-end",{checkpoint:n}),e.components["movement-controls"].updateNavLocation())}},isVelocityActive:function(){return!!(this.active&&this.checkpoint)},getVelocity:function(){if(!this.active)return;const n=this.data,e=this.offset,r=this.position,i=this.targetPosition,o=this.checkpoint;return this.sync(),r.distanceTo(i)<o8?(this.checkpoint=null,this.el.emit("navigation-end",{checkpoint:o}),e.set(0,0,0)):(e.setLength(n.animateSpeed),e)},sync:function(){const n=this.offset,e=this.position,r=this.targetPosition;e.copy(this.el.getAttribute("position")),this.checkpoint.object3D.getWorldPosition(r),r.add(this.checkpoint.components.checkpoint.getOffset()),n.copy(r).sub(e)}});var W3e=Object.assign(function(){},{FACE_1:0,FACE_2:1,FACE_3:2,FACE_4:3,L_SHOULDER_1:4,R_SHOULDER_1:5,L_SHOULDER_2:6,R_SHOULDER_2:7,SELECT:8,START:9,DPAD_UP:12,DPAD_DOWN:13,DPAD_LEFT:14,DPAD_RIGHT:15,VENDOR:16});function Q3e(n,e,r){this.type=n,this.index=e,this.pressed=r.pressed,this.value=r.value}var K3e=Q3e;const Qp=W3e,q_=K3e,dd=.2,Zc={LEFT:"left",RIGHT:"right"},eu={MOVEMENT:1,ROTATION:2};AFRAME.registerComponent("gamepad-controls",{GamepadButton:Qp,schema:{enabled:{default:!0},camera:{default:"[camera]",type:"selector"},rotationSensitivity:{default:2}},init:function(){const n=this.el.sceneEl;this.system=n.systems["tracked-controls-webxr"]||{controllers:[]},this.prevTime=window.performance.now(),this.buttons={};const e=this.el.object3D.rotation;this.pitch=new THREE.Object3D,this.pitch.rotation.x=THREE.Math.degToRad(e.x),this.yaw=new THREE.Object3D,this.yaw.position.y=10,this.yaw.rotation.y=THREE.Math.degToRad(e.y),this.yaw.add(this.pitch),this._lookVector=new THREE.Vector2,this._moveVector=new THREE.Vector2,this._dpadVector=new THREE.Vector2,n.addBehavior(this)},update:function(){this.tick()},tick:function(n,e){this.updateButtonState(),this.updateRotation(e)},remove:function(){},isVelocityActive:function(){if(!this.data.enabled||!this.isConnected())return!1;const n=this._dpadVector,e=this._moveVector;this.getDpad(n),this.getJoystick(eu.MOVEMENT,e);const r=n.x||e.x,i=n.y||e.y;return Math.abs(r)>dd||Math.abs(i)>dd},getVelocityDelta:function(){const n=this._dpadVector,e=this._moveVector;this.getDpad(n),this.getJoystick(eu.MOVEMENT,e);const r=n.x||e.x,i=n.y||e.y,o=new THREE.Vector3;return Math.abs(r)>dd&&(o.x+=r),Math.abs(i)>dd&&(o.z+=i),o},isRotationActive:function(){if(!this.data.enabled||!this.isConnected())return!1;const n=this._lookVector;return this.getJoystick(eu.ROTATION,n),Math.abs(n.x)>dd||Math.abs(n.y)>dd},updateRotation:function(n){if(!this.isRotationActive())return;const e=this.data,r=this.yaw,i=this.pitch,o=e.camera.components["look-controls"],s=o&&o.pitchObject&&o.yawObject;s&&(i.rotation.copy(o.pitchObject.rotation),r.rotation.copy(o.yawObject.rotation));const l=this._lookVector;this.getJoystick(eu.ROTATION,l),Math.abs(l.x)<=dd&&(l.x=0),Math.abs(l.y)<=dd&&(l.y=0),l.multiplyScalar(e.rotationSensitivity*n/1e3),r.rotation.y-=l.x,i.rotation.x-=l.y,i.rotation.x=Math.max(-Math.PI/2,Math.min(Math.PI/2,i.rotation.x)),e.camera.object3D.rotation.set(i.rotation.x,r.rotation.y,0),s&&(o.pitchObject.rotation.copy(i.rotation),o.yawObject.rotation.copy(r.rotation))},updateButtonState:function(){const n=this.getGamepad(Zc.RIGHT);if(this.data.enabled&&n)for(var e=0;e<n.buttons.length;e++)n.buttons[e].pressed&&!this.buttons[e]?this.emit(new q_("gamepadbuttondown",e,n.buttons[e])):!n.buttons[e].pressed&&this.buttons[e]&&this.emit(new q_("gamepadbuttonup",e,n.buttons[e])),this.buttons[e]=n.buttons[e].pressed;else Object.keys(this.buttons)&&(this.buttons={})},emit:function(n){this.el.emit(n.type,n),this.el.emit(n.type+":"+n.index,new q_(n.type,n.index,n))},getGamepad:function(){const n=[],e=[];return function(r){const i=this.el.sceneEl.components["proxy-controls"],o=i&&i.isConnected()&&i.getGamepad(0);if(o)return o;n.length=0;for(let l=0;l<this.system.controllers.length;l++){const u=this.system.controllers[l],c=u?u.gamepad:null;if(n.push(c),c&&c.handedness===r)return c}const s=navigator.getGamepads?navigator.getGamepads():e;for(let l=0;l<s.length;l++){const u=s[l];if(u&&u.hand===r)return u}return n[0]||s[0]}}(),getButton:function(n){return this.getGamepad(Zc.RIGHT).buttons[n]},getAxis:function(n){return this.getGamepad(n>1?Zc.RIGHT:Zc.LEFT).axes[n]},getJoystick:function(n,e){const r=this.getGamepad(n===eu.MOVEMENT?Zc.LEFT:Zc.RIGHT);if(r.mapping==="xr-standard")switch(n){case eu.MOVEMENT:return e.set(r.axes[2],r.axes[3]);case eu.ROTATION:return e.set(r.axes[0],r.axes[1])}else switch(n){case eu.MOVEMENT:return e.set(r.axes[0],r.axes[1]);case eu.ROTATION:return e.set(r.axes[2],r.axes[3])}throw new Error('Unexpected joystick index "%d".',n)},getDpad:function(n){const e=this.getGamepad(Zc.LEFT);return e.buttons[Qp.DPAD_RIGHT]?n.set((e.buttons[Qp.DPAD_RIGHT].pressed?1:0)+(e.buttons[Qp.DPAD_LEFT].pressed?-1:0),(e.buttons[Qp.DPAD_UP].pressed?-1:0)+(e.buttons[Qp.DPAD_DOWN].pressed?1:0)):n.set(0,0)},isConnected:function(){const n=this.getGamepad(Zc.LEFT);return!!(n&&n.connected)},getID:function(){return this.getGamepad(Zc.LEFT).id}});(function(n){var e="KeyboardEvent"in n;e||(n.KeyboardEvent=function(){throw TypeError("Illegal constructor")}),"DOM_KEY_LOCATION_STANDARD"in n.KeyboardEvent||(n.KeyboardEvent.DOM_KEY_LOCATION_STANDARD=0),"DOM_KEY_LOCATION_LEFT"in n.KeyboardEvent||(n.KeyboardEvent.DOM_KEY_LOCATION_LEFT=1),"DOM_KEY_LOCATION_RIGHT"in n.KeyboardEvent||(n.KeyboardEvent.DOM_KEY_LOCATION_RIGHT=2),"DOM_KEY_LOCATION_NUMPAD"in n.KeyboardEvent||(n.KeyboardEvent.DOM_KEY_LOCATION_NUMPAD=3);var r=window.KeyboardEvent.DOM_KEY_LOCATION_STANDARD,i=window.KeyboardEvent.DOM_KEY_LOCATION_LEFT,o=window.KeyboardEvent.DOM_KEY_LOCATION_RIGHT,s=window.KeyboardEvent.DOM_KEY_LOCATION_NUMPAD;function l(_,L){return String(_).indexOf(L)!==-1}var u=function(){return l(navigator.platform,"Win")?"win":l(navigator.platform,"Mac")?"mac":l(navigator.platform,"CrOS")?"cros":l(navigator.platform,"Linux")?"linux":l(navigator.userAgent,"iPad")||l(navigator.platform,"iPod")||l(navigator.platform,"iPhone")?"ios":""}(),c=function(){return l(navigator.userAgent,"Chrome/")?"chrome":l(navigator.vendor,"Apple")?"safari":l(navigator.userAgent,"MSIE")?"ie":l(navigator.userAgent,"Gecko/")?"moz":l(navigator.userAgent,"Opera/")?"opera":""}(),d=c+"-"+u;function h(_,L,R){(d===L||c===L||u===L)&&Object.keys(R).forEach(function(P){_[P]=R[P]})}function p(_,L){var R={};return Object.keys(_).forEach(function(P){var T=_[P];L in T&&(R[T[L]]=T)}),R}var m={3:{code:"Cancel"},6:{code:"Help"},8:{code:"Backspace"},9:{code:"Tab"},12:{code:"Clear"},13:{code:"Enter"},16:{code:"Shift"},17:{code:"Control"},18:{code:"Alt"},19:{code:"Pause"},20:{code:"CapsLock"},21:{code:"KanaMode"},22:{code:"HangulMode"},23:{code:"JunjaMode"},24:{code:"FinalMode"},25:{code:"KanjiMode"},27:{code:"Escape"},28:{code:"Convert"},29:{code:"NonConvert"},30:{code:"Accept"},31:{code:"ModeChange"},32:{code:"Space"},33:{code:"PageUp"},34:{code:"PageDown"},35:{code:"End"},36:{code:"Home"},37:{code:"ArrowLeft"},38:{code:"ArrowUp"},39:{code:"ArrowRight"},40:{code:"ArrowDown"},41:{code:"Select"},42:{code:"Print"},43:{code:"Execute"},44:{code:"PrintScreen"},45:{code:"Insert"},46:{code:"Delete"},47:{code:"Help"},48:{code:"Digit0",keyCap:"0"},49:{code:"Digit1",keyCap:"1"},50:{code:"Digit2",keyCap:"2"},51:{code:"Digit3",keyCap:"3"},52:{code:"Digit4",keyCap:"4"},53:{code:"Digit5",keyCap:"5"},54:{code:"Digit6",keyCap:"6"},55:{code:"Digit7",keyCap:"7"},56:{code:"Digit8",keyCap:"8"},57:{code:"Digit9",keyCap:"9"},65:{code:"KeyA",keyCap:"a"},66:{code:"KeyB",keyCap:"b"},67:{code:"KeyC",keyCap:"c"},68:{code:"KeyD",keyCap:"d"},69:{code:"KeyE",keyCap:"e"},70:{code:"KeyF",keyCap:"f"},71:{code:"KeyG",keyCap:"g"},72:{code:"KeyH",keyCap:"h"},73:{code:"KeyI",keyCap:"i"},74:{code:"KeyJ",keyCap:"j"},75:{code:"KeyK",keyCap:"k"},76:{code:"KeyL",keyCap:"l"},77:{code:"KeyM",keyCap:"m"},78:{code:"KeyN",keyCap:"n"},79:{code:"KeyO",keyCap:"o"},80:{code:"KeyP",keyCap:"p"},81:{code:"KeyQ",keyCap:"q"},82:{code:"KeyR",keyCap:"r"},83:{code:"KeyS",keyCap:"s"},84:{code:"KeyT",keyCap:"t"},85:{code:"KeyU",keyCap:"u"},86:{code:"KeyV",keyCap:"v"},87:{code:"KeyW",keyCap:"w"},88:{code:"KeyX",keyCap:"x"},89:{code:"KeyY",keyCap:"y"},90:{code:"KeyZ",keyCap:"z"},91:{code:"OSLeft",location:i},92:{code:"OSRight",location:o},93:{code:"ContextMenu"},95:{code:"Standby"},96:{code:"Numpad0",keyCap:"0",location:s},97:{code:"Numpad1",keyCap:"1",location:s},98:{code:"Numpad2",keyCap:"2",location:s},99:{code:"Numpad3",keyCap:"3",location:s},100:{code:"Numpad4",keyCap:"4",location:s},101:{code:"Numpad5",keyCap:"5",location:s},102:{code:"Numpad6",keyCap:"6",location:s},103:{code:"Numpad7",keyCap:"7",location:s},104:{code:"Numpad8",keyCap:"8",location:s},105:{code:"Numpad9",keyCap:"9",location:s},106:{code:"NumpadMultiply",keyCap:"*",location:s},107:{code:"NumpadAdd",keyCap:"+",location:s},108:{code:"NumpadComma",keyCap:",",location:s},109:{code:"NumpadSubtract",keyCap:"-",location:s},110:{code:"NumpadDecimal",keyCap:".",location:s},111:{code:"NumpadDivide",keyCap:"/",location:s},112:{code:"F1"},113:{code:"F2"},114:{code:"F3"},115:{code:"F4"},116:{code:"F5"},117:{code:"F6"},118:{code:"F7"},119:{code:"F8"},120:{code:"F9"},121:{code:"F10"},122:{code:"F11"},123:{code:"F12"},124:{code:"F13"},125:{code:"F14"},126:{code:"F15"},127:{code:"F16"},128:{code:"F17"},129:{code:"F18"},130:{code:"F19"},131:{code:"F20"},132:{code:"F21"},133:{code:"F22"},134:{code:"F23"},135:{code:"F24"},144:{code:"NumLock",location:s},145:{code:"ScrollLock"},160:{code:"ShiftLeft",location:i},161:{code:"ShiftRight",location:o},162:{code:"ControlLeft",location:i},163:{code:"ControlRight",location:o},164:{code:"AltLeft",location:i},165:{code:"AltRight",location:o},166:{code:"BrowserBack"},167:{code:"BrowserForward"},168:{code:"BrowserRefresh"},169:{code:"BrowserStop"},170:{code:"BrowserSearch"},171:{code:"BrowserFavorites"},172:{code:"BrowserHome"},173:{code:"VolumeMute"},174:{code:"VolumeDown"},175:{code:"VolumeUp"},176:{code:"MediaTrackNext"},177:{code:"MediaTrackPrevious"},178:{code:"MediaStop"},179:{code:"MediaPlayPause"},180:{code:"LaunchMail"},181:{code:"MediaSelect"},182:{code:"LaunchApp1"},183:{code:"LaunchApp2"},186:{code:"Semicolon",keyCap:";"},187:{code:"Equal",keyCap:"="},188:{code:"Comma",keyCap:","},189:{code:"Minus",keyCap:"-"},190:{code:"Period",keyCap:"."},191:{code:"Slash",keyCap:"/"},192:{code:"Backquote",keyCap:"`"},219:{code:"BracketLeft",keyCap:"["},220:{code:"Backslash",keyCap:"\\"},221:{code:"BracketRight",keyCap:"]"},222:{code:"Quote",keyCap:"'"},226:{code:"IntlBackslash",keyCap:"\\"},229:{code:"Process"},246:{code:"Attn"},247:{code:"CrSel"},248:{code:"ExSel"},249:{code:"EraseEof"},250:{code:"Play"},251:{code:"ZoomToggle"},254:{code:"Clear"}};h(m,"moz",{59:{code:"Semicolon",keyCap:";"},61:{code:"Equal",keyCap:"="},107:{code:"Equal",keyCap:"="},109:{code:"Minus",keyCap:"-"},187:{code:"NumpadAdd",keyCap:"+",location:s},189:{code:"NumpadSubtract",keyCap:"-",location:s}}),h(m,"moz-mac",{12:{code:"NumLock",location:s},173:{code:"Minus",keyCap:"-"}}),h(m,"moz-win",{173:{code:"Minus",keyCap:"-"}}),h(m,"chrome-mac",{93:{code:"OSRight",location:o}}),h(m,"safari",{3:{code:"Enter"},25:{code:"Tab"}}),h(m,"ios",{10:{code:"Enter",location:r}}),h(m,"safari-mac",{91:{code:"OSLeft",location:i},93:{code:"OSRight",location:o},229:{code:"KeyQ",keyCap:"Q"}});var v={};u==="cros"&&(v["U+00A0"]={code:"ShiftLeft",location:i},v["U+00A1"]={code:"ShiftRight",location:o},v["U+00A2"]={code:"ControlLeft",location:i},v["U+00A3"]={code:"ControlRight",location:o},v["U+00A4"]={code:"AltLeft",location:i},v["U+00A5"]={code:"AltRight",location:o}),d==="chrome-mac"&&(v["U+0010"]={code:"ContextMenu"}),d==="safari-mac"&&(v["U+0010"]={code:"ContextMenu"}),u==="ios"&&(v["U+0010"]={code:"Function"},v["U+001C"]={code:"ArrowLeft"},v["U+001D"]={code:"ArrowRight"},v["U+001E"]={code:"ArrowUp"},v["U+001F"]={code:"ArrowDown"},v["U+0001"]={code:"Home"},v["U+0004"]={code:"End"},v["U+000B"]={code:"PageUp"},v["U+000C"]={code:"PageDown"});var y=[];y[i]={16:{code:"ShiftLeft",location:i},17:{code:"ControlLeft",location:i},18:{code:"AltLeft",location:i}},y[o]={16:{code:"ShiftRight",location:o},17:{code:"ControlRight",location:o},18:{code:"AltRight",location:o}},y[s]={13:{code:"NumpadEnter",location:s}},h(y[s],"moz",{109:{code:"NumpadSubtract",location:s},107:{code:"NumpadAdd",location:s}}),h(y[i],"moz-mac",{224:{code:"OSLeft",location:i}}),h(y[o],"moz-mac",{224:{code:"OSRight",location:o}}),h(y[o],"moz-win",{91:{code:"OSRight",location:o}}),h(y[o],"mac",{93:{code:"OSRight",location:o}}),h(y[s],"chrome-mac",{12:{code:"NumLock",location:s}}),h(y[s],"safari-mac",{12:{code:"NumLock",location:s},187:{code:"NumpadAdd",location:s},189:{code:"NumpadSubtract",location:s},190:{code:"NumpadDecimal",location:s},191:{code:"NumpadDivide",location:s}});var A={ShiftLeft:{key:"Shift"},ShiftRight:{key:"Shift"},ControlLeft:{key:"Control"},ControlRight:{key:"Control"},AltLeft:{key:"Alt"},AltRight:{key:"Alt"},OSLeft:{key:"OS"},OSRight:{key:"OS"},NumpadEnter:{key:"Enter"},Space:{key:" "},Digit0:{key:"0",shiftKey:")"},Digit1:{key:"1",shiftKey:"!"},Digit2:{key:"2",shiftKey:"@"},Digit3:{key:"3",shiftKey:"#"},Digit4:{key:"4",shiftKey:"$"},Digit5:{key:"5",shiftKey:"%"},Digit6:{key:"6",shiftKey:"^"},Digit7:{key:"7",shiftKey:"&"},Digit8:{key:"8",shiftKey:"*"},Digit9:{key:"9",shiftKey:"("},KeyA:{key:"a",shiftKey:"A"},KeyB:{key:"b",shiftKey:"B"},KeyC:{key:"c",shiftKey:"C"},KeyD:{key:"d",shiftKey:"D"},KeyE:{key:"e",shiftKey:"E"},KeyF:{key:"f",shiftKey:"F"},KeyG:{key:"g",shiftKey:"G"},KeyH:{key:"h",shiftKey:"H"},KeyI:{key:"i",shiftKey:"I"},KeyJ:{key:"j",shiftKey:"J"},KeyK:{key:"k",shiftKey:"K"},KeyL:{key:"l",shiftKey:"L"},KeyM:{key:"m",shiftKey:"M"},KeyN:{key:"n",shiftKey:"N"},KeyO:{key:"o",shiftKey:"O"},KeyP:{key:"p",shiftKey:"P"},KeyQ:{key:"q",shiftKey:"Q"},KeyR:{key:"r",shiftKey:"R"},KeyS:{key:"s",shiftKey:"S"},KeyT:{key:"t",shiftKey:"T"},KeyU:{key:"u",shiftKey:"U"},KeyV:{key:"v",shiftKey:"V"},KeyW:{key:"w",shiftKey:"W"},KeyX:{key:"x",shiftKey:"X"},KeyY:{key:"y",shiftKey:"Y"},KeyZ:{key:"z",shiftKey:"Z"},Numpad0:{key:"0"},Numpad1:{key:"1"},Numpad2:{key:"2"},Numpad3:{key:"3"},Numpad4:{key:"4"},Numpad5:{key:"5"},Numpad6:{key:"6"},Numpad7:{key:"7"},Numpad8:{key:"8"},Numpad9:{key:"9"},NumpadMultiply:{key:"*"},NumpadAdd:{key:"+"},NumpadComma:{key:","},NumpadSubtract:{key:"-"},NumpadDecimal:{key:"."},NumpadDivide:{key:"/"},Semicolon:{key:";",shiftKey:":"},Equal:{key:"=",shiftKey:"+"},Comma:{key:",",shiftKey:"<"},Minus:{key:"-",shiftKey:"_"},Period:{key:".",shiftKey:">"},Slash:{key:"/",shiftKey:"?"},Backquote:{key:"`",shiftKey:"~"},BracketLeft:{key:"[",shiftKey:"{"},Backslash:{key:"\\",shiftKey:"|"},BracketRight:{key:"]",shiftKey:"}"},Quote:{key:"'",shiftKey:'"'},IntlBackslash:{key:"\\",shiftKey:"|"}};h(A,"mac",{OSLeft:{key:"Meta"},OSRight:{key:"Meta"}});var b={Esc:"Escape",Nonconvert:"NonConvert",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Menu:"ContextMenu",MediaNextTrack:"MediaTrackNext",MediaPreviousTrack:"MediaTrackPrevious",SelectMedia:"MediaSelect",HalfWidth:"Hankaku",FullWidth:"Zenkaku",RomanCharacters:"Romaji",Crsel:"CrSel",Exsel:"ExSel",Zoom:"ZoomToggle"},g=p(m,"code");try{var w=e&&"location"in new KeyboardEvent("")}catch{}function E(_){var L="keyCode"in _?_.keyCode:"which"in _?_.which:0,R=function(){if(w||"keyLocation"in _){var T=w?_.location:_.keyLocation;if(T&&L in y[T])return y[T][L]}return"keyIdentifier"in _&&_.keyIdentifier in v?v[_.keyIdentifier]:L in m?m[L]:null}();if(!R)return null;var P=function(){var T=A[R.code];return T?_.shiftKey&&"shiftKey"in T?T.shiftKey:T.key:R.code}();return{code:R.code,key:P,location:R.location,keyCap:R.keyCap}}function C(_,L){if(_=String(_),!g.hasOwnProperty(_))return"Undefined";if(L&&String(L).toLowerCase()!=="en-us")throw Error("Unsupported locale");var R=g[_];return R.keyCap||R.code||"Undefined"}"KeyboardEvent"in n&&"defineProperty"in Object&&function(){function _(R,P,T){P in R||Object.defineProperty(R,P,T)}if(_(KeyboardEvent.prototype,"code",{get:function(){var R=E(this);return R?R.code:""}}),"key"in KeyboardEvent.prototype){var L=Object.getOwnPropertyDescriptor(KeyboardEvent.prototype,"key");Object.defineProperty(KeyboardEvent.prototype,"key",{get:function(){var R=L.get.call(this);return b.hasOwnProperty(R)?b[R]:R}})}_(KeyboardEvent.prototype,"key",{get:function(){var R=E(this);return R&&"key"in R?R.key:"Unidentified"}}),_(KeyboardEvent.prototype,"location",{get:function(){var R=E(this);return R&&"location"in R?R.location:r}}),_(KeyboardEvent.prototype,"locale",{get:function(){return""}})}(),"queryKeyCap"in n.KeyboardEvent||(n.KeyboardEvent.queryKeyCap=C),n.identifyKey=function(_){if(!("code"in _)){var L=E(_);_.code=L?L.code:"",_.key=L&&"key"in L?L.key:"Unidentified",_.location="location"in _?_.location:"keyLocation"in _?_.keyLocation:L&&"location"in L?L.location:r,_.locale=""}}})(window);const X3e="__keyboard-controls-proxy",q3e=window.KeyboardEvent;AFRAME.registerComponent("keyboard-controls",{schema:{enabled:{default:!0},debug:{default:!1}},init:function(){this.dVelocity=new THREE.Vector3,this.localKeys={},this.listeners={keydown:this.onKeyDown.bind(this),keyup:this.onKeyUp.bind(this),blur:this.onBlur.bind(this)},this.attachEventListeners()},isVelocityActive:function(){return this.data.enabled&&!!Object.keys(this.getKeys()).length},getVelocityDelta:function(){const n=this.data,e=this.getKeys();return this.dVelocity.set(0,0,0),n.enabled&&((e.KeyW||e.ArrowUp)&&(this.dVelocity.z-=1),(e.KeyA||e.ArrowLeft)&&(this.dVelocity.x-=1),(e.KeyS||e.ArrowDown)&&(this.dVelocity.z+=1),(e.KeyD||e.ArrowRight)&&(this.dVelocity.x+=1)),this.dVelocity.clone()},play:function(){this.attachEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){this.pause()},attachEventListeners:function(){window.addEventListener("keydown",this.listeners.keydown,!1),window.addEventListener("keyup",this.listeners.keyup,!1),window.addEventListener("blur",this.listeners.blur,!1)},removeEventListeners:function(){window.removeEventListener("keydown",this.listeners.keydown),window.removeEventListener("keyup",this.listeners.keyup),window.removeEventListener("blur",this.listeners.blur)},onKeyDown:function(n){AFRAME.utils.shouldCaptureKeyEvent(n)&&(this.localKeys[n.code]=!0,this.emit(n))},onKeyUp:function(n){AFRAME.utils.shouldCaptureKeyEvent(n)&&(delete this.localKeys[n.code],this.emit(n))},onBlur:function(){for(let n in this.localKeys)this.localKeys.hasOwnProperty(n)&&delete this.localKeys[n]},emit:function(n){X3e in n&&this.el.emit(n.type,n),this.el.emit(n.type+":"+n.code,new q3e(n.type,n)),this.data.debug&&console.log(n.type+":"+n.code)},isPressed:function(n){return n in this.getKeys()},getKeys:function(){return this.isProxied()?this.el.sceneEl.components["proxy-controls"].getKeyboard():this.localKeys},isProxied:function(){const n=this.el.sceneEl.components["proxy-controls"];return n&&n.isConnected()}});AFRAME.registerComponent("touch-controls",{schema:{enabled:{default:!0},reverseEnabled:{default:!0}},init:function(){this.dVelocity=new THREE.Vector3,this.bindMethods(),this.direction=0},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners(),this.dVelocity.set(0,0,0)},remove:function(){this.pause()},addEventListeners:function(){const n=this.el.sceneEl,e=n.canvas;if(!e){n.addEventListener("render-target-loaded",this.addEventListeners.bind(this));return}e.addEventListener("touchstart",this.onTouchStart),e.addEventListener("touchend",this.onTouchEnd)},removeEventListeners:function(){const n=this.el.sceneEl&&this.el.sceneEl.canvas;n&&(n.removeEventListener("touchstart",this.onTouchStart),n.removeEventListener("touchend",this.onTouchEnd))},isVelocityActive:function(){return this.data.enabled&&!!this.direction},getVelocityDelta:function(){return this.dVelocity.z=this.direction,this.dVelocity.clone()},bindMethods:function(){this.onTouchStart=this.onTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this)},onTouchStart:function(n){this.direction=-1,this.data.reverseEnabled&&n.touches.length===2&&(this.direction=1),n.preventDefault()},onTouchEnd:function(n){this.direction=0,n.preventDefault()}});const a8="-controls",Y3e=.2,J3e=1e-5;AFRAME.registerComponent("movement-controls",{dependencies:["rotation"],schema:{enabled:{default:!0},controls:{default:["gamepad","trackpad","keyboard","touch"]},speed:{default:.3,min:0},fly:{default:!1},constrainToNavMesh:{default:!1},camera:{default:"[movement-controls] [camera]",type:"selector"}},init:function(){const n=this.el;this.velocityCtrl=null,this.velocity=new THREE.Vector3,this.heading=new THREE.Quaternion,this.navGroup=null,this.navNode=null,n.sceneEl.hasLoaded?this.injectControls():n.sceneEl.addEventListener("loaded",this.injectControls.bind(this))},update:function(n){const e=this.el,r=this.data,i=e.sceneEl.systems.nav;e.sceneEl.hasLoaded&&this.injectControls(),i&&r.constrainToNavMesh!==n.constrainToNavMesh&&(r.constrainToNavMesh?i.addAgent(this):i.removeAgent(this))},injectControls:function(){const n=this.data;var e;for(let r=0;r<n.controls.length;r++)e=n.controls[r]+a8,this.el.components[e]||this.el.setAttribute(e,"")},updateNavLocation:function(){this.navGroup=null,this.navNode=null},tick:function(){const n=new THREE.Vector3,e=new THREE.Vector3,r=new THREE.Vector3;return function(i,o){if(!o)return;const s=this.el,l=this.data;if(!l.enabled)return;this.updateVelocityCtrl();const u=this.velocityCtrl,c=this.velocity;if(u)if(o/1e3>Y3e?c.set(0,0,0):this.updateVelocity(o),l.constrainToNavMesh&&u.isNavMeshConstrained!==!1){if(c.lengthSq()<J3e)return;n.copy(s.object3D.position),e.copy(c).multiplyScalar(o/1e3).add(n);const d=s.sceneEl.systems.nav;this.navGroup=this.navGroup===null?d.getGroup(n):this.navGroup,this.navNode=this.navNode||d.getNode(n,this.navGroup),this.navNode=d.clampStep(n,e,this.navGroup,this.navNode,r),s.object3D.position.copy(r)}else s.hasAttribute("velocity")?s.setAttribute("velocity",c):(s.object3D.position.x+=c.x*o/1e3,s.object3D.position.y+=c.y*o/1e3,s.object3D.position.z+=c.z*o/1e3)}}(),updateVelocityCtrl:function(){const n=this.data;if(n.enabled){for(let e=0,r=n.controls.length;e<r;e++){const i=this.el.components[n.controls[e]+a8];if(i&&i.isVelocityActive()){this.velocityCtrl=i;return}}this.velocityCtrl=null}},updateVelocity:function(){const n=new THREE.Vector2,e=new THREE.Quaternion;return function(r){let i;const o=this.el,s=this.velocityCtrl,l=this.velocity,u=this.data;if(s)if(s.getVelocityDelta)i=s.getVelocityDelta(r);else if(s.getVelocity){l.copy(s.getVelocity());return}else if(s.getPositionDelta){l.copy(s.getPositionDelta(r).multiplyScalar(1e3/r));return}else throw new Error("Incompatible movement controls: ",s);if(o.hasAttribute("velocity")&&!u.constrainToNavMesh&&l.copy(this.el.getAttribute("velocity")),i&&u.enabled){const c=u.camera;e.copy(c.object3D.quaternion),e.premultiply(o.object3D.quaternion),i.applyQuaternion(e);const d=i.length();u.fly?(l.copy(i),l.multiplyScalar(this.data.speed*16.66667)):(n.set(i.x,i.z),n.setLength(d*this.data.speed*16.66667),l.x=n.x,l.z=n.y)}}}()});AFRAME.registerComponent("trackpad-controls",{schema:{enabled:{default:!0},enableNegX:{default:!0},enablePosX:{default:!0},enableNegZ:{default:!0},enablePosZ:{default:!0},mode:{default:"touch",oneOf:["swipe","touch","press"]}},init:function(){this.dVelocity=new THREE.Vector3,this.zVel=0,this.xVel=0,this.bindMethods()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners(),this.dVelocity.set(0,0,0)},remove:function(){this.pause()},addEventListeners:function(){const n=this.data,e=this.el.sceneEl;switch(e.addEventListener("axismove",this.onAxisMove),n.mode){case"swipe":case"touch":e.addEventListener("trackpadtouchstart",this.onTouchStart),e.addEventListener("trackpadtouchend",this.onTouchEnd);break;case"press":e.addEventListener("trackpaddown",this.onTouchStart),e.addEventListener("trackpadup",this.onTouchEnd);break}},removeEventListeners:function(){const n=this.el.sceneEl;n.removeEventListener("axismove",this.onAxisMove),n.removeEventListener("trackpadtouchstart",this.onTouchStart),n.removeEventListener("trackpadtouchend",this.onTouchEnd),n.removeEventListener("trackpaddown",this.onTouchStart),n.removeEventListener("trackpadup",this.onTouchEnd)},isVelocityActive:function(){return this.data.enabled&&this.isMoving},getVelocityDelta:function(){return this.dVelocity.z=this.isMoving?-this.zVel:1,this.dVelocity.x=this.isMoving?this.xVel:1,this.dVelocity.clone()},bindMethods:function(){this.onTouchStart=this.onTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.onAxisMove=this.onAxisMove.bind(this)},onTouchStart:function(n){switch(this.data.mode){case"swipe":this.canRecordAxis=!0,this.startingAxisData=[];break;case"touch":this.isMoving=!0;break;case"press":this.isMoving=!0;break}n.preventDefault()},onTouchEnd:function(n){this.data.mode=="swipe"&&(this.startingAxisData=[]),this.isMoving=!1,n.preventDefault()},onAxisMove:function(n){switch(this.data.mode){case"swipe":return this.handleSwipeAxis(n);case"touch":case"press":return this.handleTouchAxis(n)}},handleSwipeAxis:function(n){const e=this.data,r=n.detail.axis;if(this.startingAxisData.length===0&&this.canRecordAxis&&(this.canRecordAxis=!1,this.startingAxisData[0]=r[0],this.startingAxisData[1]=r[1]),this.startingAxisData.length>0){let i=0,o=0;e.enableNegX&&r[0]<this.startingAxisData[0]&&(i=-1),e.enablePosX&&r[0]>this.startingAxisData[0]&&(i=1),e.enablePosZ&&r[1]>this.startingAxisData[1]&&(o=-1),e.enableNegZ&&r[1]<this.startingAxisData[1]&&(o=1);const s=Math.abs(this.startingAxisData[1]-r[1]);Math.abs(this.startingAxisData[0]-r[0])>s?(this.zVel=0,this.xVel=i,this.isMoving=!0):(this.xVel=0,this.zVel=o,this.isMoving=!0)}},handleTouchAxis:function(n){const e=this.data,r=n.detail.axis;let i=0,o=0;e.enableNegX&&r[0]<0&&(i=-1),e.enablePosX&&r[0]>0&&(i=1),e.enablePosZ&&r[1]>0&&(o=-1),e.enableNegZ&&r[1]<0&&(o=1),Math.abs(r[0])>Math.abs(r[1])?(this.zVel=0,this.xVel=i):(this.xVel=0,this.zVel=o)}});const Y_={once:THREE.LoopOnce,repeat:THREE.LoopRepeat,pingpong:THREE.LoopPingPong};AFRAME.registerComponent("animation-mixer",{schema:{clip:{default:"*"},duration:{default:0},clampWhenFinished:{default:!1,type:"boolean"},crossFadeDuration:{default:0},loop:{default:"repeat",oneOf:Object.keys(Y_)},repetitions:{default:1/0,min:0},timeScale:{default:1}},init:function(){this.model=null,this.mixer=null,this.activeActions=[];const n=this.el.getObject3D("mesh");n?this.load(n):this.el.addEventListener("model-loaded",e=>{this.load(e.detail.model)})},load:function(n){const e=this.el;this.model=n,this.mixer=new THREE.AnimationMixer(n),this.mixer.addEventListener("loop",r=>{e.emit("animation-loop",{action:r.action,loopDelta:r.loopDelta})}),this.mixer.addEventListener("finished",r=>{e.emit("animation-finished",{action:r.action,direction:r.direction})}),this.data.clip&&this.update({})},remove:function(){this.mixer&&this.mixer.stopAllAction()},update:function(n){if(!n)return;const e=this.data,r=AFRAME.utils.diff(e,n);if("clip"in r){this.stopAction(),e.clip&&this.playAction();return}this.activeActions.forEach(i=>{"duration"in r&&e.duration&&i.setDuration(e.duration),"clampWhenFinished"in r&&(i.clampWhenFinished=e.clampWhenFinished),("loop"in r||"repetitions"in r)&&i.setLoop(Y_[e.loop],e.repetitions),"timeScale"in r&&i.setEffectiveTimeScale(e.timeScale)})},stopAction:function(){const n=this.data;for(let e=0;e<this.activeActions.length;e++)n.crossFadeDuration?this.activeActions[e].fadeOut(n.crossFadeDuration):this.activeActions[e].stop();this.activeActions.length=0},playAction:function(){if(!this.mixer)return;const n=this.model,e=this.data,r=n.animations||(n.geometry||{}).animations||[];if(!r.length)return;const i=Z3e(e.clip);for(let o,s=0;o=r[s];s++)if(o.name.match(i)){const l=this.mixer.clipAction(o,n);l.enabled=!0,l.clampWhenFinished=e.clampWhenFinished,e.duration&&l.setDuration(e.duration),e.timeScale!==1&&l.setEffectiveTimeScale(e.timeScale),l.setLoop(Y_[e.loop],e.repetitions).fadeIn(e.crossFadeDuration).play(),this.activeActions.push(l)}},tick:function(n,e){this.mixer&&!isNaN(e)&&this.mixer.update(e/1e3)}});function Z3e(n){return new RegExp("^"+n.split(/\*+/).map(eRe).join(".*")+"$")}function eRe(n){return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}var tRe=THREE.ColladaLoader=function(n){this.manager=n!==void 0?n:THREE.DefaultLoadingManager};THREE.ColladaLoader.prototype={constructor:THREE.ColladaLoader,crossOrigin:"anonymous",load:function(n,e,r,i){var o=this,s=o.path===void 0?THREE.LoaderUtils.extractUrlBase(n):o.path,l=new THREE.FileLoader(o.manager);l.setPath(o.path),l.load(n,function(u){e(o.parse(u,s))},r,i)},setPath:function(n){return this.path=n,this},setResourcePath:function(n){return this.resourcePath=n,this},options:{set convertUpAxis(n){console.warn("THREE.ColladaLoader: options.convertUpAxis() has been removed. Up axis is converted automatically.")}},setCrossOrigin:function(n){return this.crossOrigin=n,this},parse:function(n,e){function r(pe,ye){for(var Ee=[],Me=pe.childNodes,Pe=0,yt=Me.length;Pe<yt;Pe++){var Ft=Me[Pe];Ft.nodeName===ye&&Ee.push(Ft)}return Ee}function i(pe){if(pe.length===0)return[];for(var ye=pe.trim().split(/\s+/),Ee=new Array(ye.length),Me=0,Pe=ye.length;Me<Pe;Me++)Ee[Me]=ye[Me];return Ee}function o(pe){if(pe.length===0)return[];for(var ye=pe.trim().split(/\s+/),Ee=new Array(ye.length),Me=0,Pe=ye.length;Me<Pe;Me++)Ee[Me]=parseFloat(ye[Me]);return Ee}function s(pe){if(pe.length===0)return[];for(var ye=pe.trim().split(/\s+/),Ee=new Array(ye.length),Me=0,Pe=ye.length;Me<Pe;Me++)Ee[Me]=parseInt(ye[Me]);return Ee}function l(pe){return pe.substring(1)}function u(){return"three_default_"+Ye++}function c(pe){return Object.keys(pe).length===0}function d(pe){return{unit:h(r(pe,"unit")[0]),upAxis:p(r(pe,"up_axis")[0])}}function h(pe){return pe!==void 0&&pe.hasAttribute("meter")===!0?parseFloat(pe.getAttribute("meter")):1}function p(pe){return pe!==void 0?pe.textContent:"Y_UP"}function m(pe,ye,Ee,Me){var Pe=r(pe,ye)[0];if(Pe!==void 0)for(var yt=r(Pe,Ee),Ft=0;Ft<yt.length;Ft++)Me(yt[Ft])}function v(pe,ye){for(var Ee in pe){var Me=pe[Ee];Me.build=ye(pe[Ee])}}function y(pe,ye){return pe.build!==void 0||(pe.build=ye(pe)),pe.build}function A(pe){for(var ye={sources:{},samplers:{},channels:{}},Ee=0,Me=pe.childNodes.length;Ee<Me;Ee++){var Pe=pe.childNodes[Ee];if(Pe.nodeType===1){var yt;switch(Pe.nodeName){case"source":yt=Pe.getAttribute("id"),ye.sources[yt]=We(Pe);break;case"sampler":yt=Pe.getAttribute("id"),ye.samplers[yt]=b(Pe);break;case"channel":yt=Pe.getAttribute("target"),ye.channels[yt]=g(Pe);break;default:console.log(Pe)}}}at.animations[pe.getAttribute("id")]=ye}function b(pe){for(var ye={inputs:{}},Ee=0,Me=pe.childNodes.length;Ee<Me;Ee++){var Pe=pe.childNodes[Ee];if(Pe.nodeType===1)switch(Pe.nodeName){case"input":var yt=l(Pe.getAttribute("source")),Ft=Pe.getAttribute("semantic");ye.inputs[Ft]=yt;break}}return ye}function g(pe){var ye={},Ee=pe.getAttribute("target"),Me=Ee.split("/"),Pe=Me.shift(),yt=Me.shift(),Ft=yt.indexOf("(")!==-1,Zt=yt.indexOf(".")!==-1;if(Zt)Me=yt.split("."),yt=Me.shift(),ye.member=Me.shift();else if(Ft){var dn=yt.split("(");yt=dn.shift();for(var Bn=0;Bn<dn.length;Bn++)dn[Bn]=parseInt(dn[Bn].replace(/\)/,""));ye.indices=dn}return ye.id=Pe,ye.sid=yt,ye.arraySyntax=Ft,ye.memberSyntax=Zt,ye.sampler=l(pe.getAttribute("source")),ye}function w(pe){var ye=[],Ee=pe.channels,Me=pe.samplers,Pe=pe.sources;for(var yt in Ee)if(Ee.hasOwnProperty(yt)){var Ft=Ee[yt],Zt=Me[Ft.sampler],dn=Zt.inputs.INPUT,Bn=Zt.inputs.OUTPUT,ln=Pe[dn],Wn=Pe[Bn],pr=C(Ft,ln,Wn);T(pr,ye)}return ye}function E(pe){return y(at.animations[pe],w)}function C(pe,ye,Ee){var Me=at.nodes[pe.id],Pe=er(Me.id),yt=Me.transforms[pe.sid],Ft=Me.matrix.clone().transpose(),Zt,dn,Bn,ln,Wn,pr,$n={};switch(yt){case"matrix":for(Bn=0,ln=ye.array.length;Bn<ln;Bn++)if(Zt=ye.array[Bn],dn=Bn*Ee.stride,$n[Zt]===void 0&&($n[Zt]={}),pe.arraySyntax===!0){var fn=Ee.array[dn],xn=pe.indices[0]+4*pe.indices[1];$n[Zt][xn]=fn}else for(Wn=0,pr=Ee.stride;Wn<pr;Wn++)$n[Zt][Wn]=Ee.array[dn+Wn];break;case"translate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',yt);break;case"rotate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',yt);break;case"scale":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',yt);break}var Yn=_($n,Ft),lr={name:Pe.uuid,keyframes:Yn};return lr}function _(pe,ye){var Ee=[];for(var Me in pe)Ee.push({time:parseFloat(Me),value:pe[Me]});Ee.sort(yt);for(var Pe=0;Pe<16;Pe++)D(Ee,Pe,ye.elements[Pe]);return Ee;function yt(Ft,Zt){return Ft.time-Zt.time}}var L=new THREE.Vector3,R=new THREE.Vector3,P=new THREE.Quaternion;function T(pe,ye){for(var Ee=pe.keyframes,Me=pe.name,Pe=[],yt=[],Ft=[],Zt=[],dn=0,Bn=Ee.length;dn<Bn;dn++){var ln=Ee[dn],Wn=ln.time,pr=ln.value;De.fromArray(pr).transpose(),De.decompose(L,P,R),Pe.push(Wn),yt.push(L.x,L.y,L.z),Ft.push(P.x,P.y,P.z,P.w),Zt.push(R.x,R.y,R.z)}return yt.length>0&&ye.push(new THREE.VectorKeyframeTrack(Me+".position",Pe,yt)),Ft.length>0&&ye.push(new THREE.QuaternionKeyframeTrack(Me+".quaternion",Pe,Ft)),Zt.length>0&&ye.push(new THREE.VectorKeyframeTrack(Me+".scale",Pe,Zt)),ye}function D(pe,ye,Ee){var Me,Pe=!0,yt,Ft;for(yt=0,Ft=pe.length;yt<Ft;yt++)Me=pe[yt],Me.value[ye]===void 0?Me.value[ye]=null:Pe=!1;if(Pe===!0)for(yt=0,Ft=pe.length;yt<Ft;yt++)Me=pe[yt],Me.value[ye]=Ee;else $(pe,ye)}function $(pe,ye){for(var Ee,Me,Pe=0,yt=pe.length;Pe<yt;Pe++){var Ft=pe[Pe];if(Ft.value[ye]===null){if(Ee=V(pe,Pe,ye),Me=B(pe,Pe,ye),Ee===null){Ft.value[ye]=Me.value[ye];continue}if(Me===null){Ft.value[ye]=Ee.value[ye];continue}O(Ft,Ee,Me,ye)}}}function V(pe,ye,Ee){for(;ye>=0;){var Me=pe[ye];if(Me.value[Ee]!==null)return Me;ye--}return null}function B(pe,ye,Ee){for(;ye<pe.length;){var Me=pe[ye];if(Me.value[Ee]!==null)return Me;ye++}return null}function O(pe,ye,Ee,Me){if(Ee.time-ye.time===0){pe.value[Me]=ye.value[Me];return}pe.value[Me]=(pe.time-ye.time)*(Ee.value[Me]-ye.value[Me])/(Ee.time-ye.time)+ye.value[Me]}function F(pe){for(var ye={name:pe.getAttribute("id")||"default",start:parseFloat(pe.getAttribute("start")||0),end:parseFloat(pe.getAttribute("end")||0),animations:[]},Ee=0,Me=pe.childNodes.length;Ee<Me;Ee++){var Pe=pe.childNodes[Ee];if(Pe.nodeType===1)switch(Pe.nodeName){case"instance_animation":ye.animations.push(l(Pe.getAttribute("url")));break}}at.clips[pe.getAttribute("id")]=ye}function k(pe){for(var ye=[],Ee=pe.name,Me=pe.end-pe.start||-1,Pe=pe.animations,yt=0,Ft=Pe.length;yt<Ft;yt++)for(var Zt=E(Pe[yt]),dn=0,Bn=Zt.length;dn<Bn;dn++)ye.push(Zt[dn]);return new THREE.AnimationClip(Ee,Me,ye)}function z(pe){return y(at.clips[pe],k)}function G(pe){for(var ye={},Ee=0,Me=pe.childNodes.length;Ee<Me;Ee++){var Pe=pe.childNodes[Ee];if(Pe.nodeType===1)switch(Pe.nodeName){case"skin":ye.id=l(Pe.getAttribute("source")),ye.skin=j(Pe);break;case"morph":ye.id=l(Pe.getAttribute("source")),console.warn("THREE.ColladaLoader: Morph target animation not supported yet.");break}}at.controllers[pe.getAttribute("id")]=ye}function j(pe){for(var ye={sources:{}},Ee=0,Me=pe.childNodes.length;Ee<Me;Ee++){var Pe=pe.childNodes[Ee];if(Pe.nodeType===1)switch(Pe.nodeName){case"bind_shape_matrix":ye.bindShapeMatrix=o(Pe.textContent);break;case"source":var yt=Pe.getAttribute("id");ye.sources[yt]=We(Pe);break;case"joints":ye.joints=Q(Pe);break;case"vertex_weights":ye.vertexWeights=X(Pe);break}}return ye}function Q(pe){for(var ye={inputs:{}},Ee=0,Me=pe.childNodes.length;Ee<Me;Ee++){var Pe=pe.childNodes[Ee];if(Pe.nodeType===1)switch(Pe.nodeName){case"input":var yt=Pe.getAttribute("semantic"),Ft=l(Pe.getAttribute("source"));ye.inputs[yt]=Ft;break}}return ye}function X(pe){for(var ye={inputs:{}},Ee=0,Me=pe.childNodes.length;Ee<Me;Ee++){var Pe=pe.childNodes[Ee];if(Pe.nodeType===1)switch(Pe.nodeName){case"input":var yt=Pe.getAttribute("semantic"),Ft=l(Pe.getAttribute("source")),Zt=parseInt(Pe.getAttribute("offset"));ye.inputs[yt]={id:Ft,offset:Zt};break;case"vcount":ye.vcount=s(Pe.textContent);break;case"v":ye.v=s(Pe.textContent);break}}return ye}function J(pe){var ye={id:pe.id},Ee=at.geometries[ye.id];return pe.skin!==void 0&&(ye.skin=Z(pe.skin),Ee.sources.skinIndices=ye.skin.indices,Ee.sources.skinWeights=ye.skin.weights),ye}function Z(pe){var ye=4,Ee={joints:[],indices:{array:[],stride:ye},weights:{array:[],stride:ye}},Me=pe.sources,Pe=pe.vertexWeights,yt=Pe.vcount,Ft=Pe.v,Zt=Pe.inputs.JOINT.offset,dn=Pe.inputs.WEIGHT.offset,Bn=pe.sources[pe.joints.inputs.JOINT],ln=pe.sources[pe.joints.inputs.INV_BIND_MATRIX],Wn=Me[Pe.inputs.WEIGHT.id].array,pr=0,$n,fn,xn;for($n=0,xn=yt.length;$n<xn;$n++){var Yn=yt[$n],lr=[];for(fn=0;fn<Yn;fn++){var mr=Ft[pr+Zt],Br=Ft[pr+dn],ni=Wn[Br];lr.push({index:mr,weight:ni}),pr+=2}for(lr.sort(ps),fn=0;fn<ye;fn++){var Kr=lr[fn];Kr!==void 0?(Ee.indices.array.push(Kr.index),Ee.weights.array.push(Kr.weight)):(Ee.indices.array.push(0),Ee.weights.array.push(0))}}for(pe.bindShapeMatrix?Ee.bindMatrix=new THREE.Matrix4().fromArray(pe.bindShapeMatrix).transpose():Ee.bindMatrix=new THREE.Matrix4().identity(),$n=0,xn=Bn.array.length;$n<xn;$n++){var Ii=Bn.array[$n],Gr=new THREE.Matrix4().fromArray(ln.array,$n*ln.stride).transpose();Ee.joints.push({name:Ii,boneInverse:Gr})}return Ee;function ps(ts,hl){return hl.weight-ts.weight}}function oe(pe){return y(at.controllers[pe],J)}function ue(pe){var ye={init_from:r(pe,"init_from")[0].textContent};at.images[pe.getAttribute("id")]=ye}function Be(pe){return pe.build!==void 0?pe.build:pe.init_from}function ge(pe){var ye=at.images[pe];return ye!==void 0?y(ye,Be):(console.warn("THREE.ColladaLoader: Couldn't find image with ID:",pe),null)}function Ie(pe){for(var ye={},Ee=0,Me=pe.childNodes.length;Ee<Me;Ee++){var Pe=pe.childNodes[Ee];if(Pe.nodeType===1)switch(Pe.nodeName){case"profile_COMMON":ye.profile=He(Pe);break}}at.effects[pe.getAttribute("id")]=ye}function He(pe){for(var ye={surfaces:{},samplers:{}},Ee=0,Me=pe.childNodes.length;Ee<Me;Ee++){var Pe=pe.childNodes[Ee];if(Pe.nodeType===1)switch(Pe.nodeName){case"newparam":Ze(Pe,ye);break;case"technique":ye.technique=lt(Pe);break;case"extra":ye.extra=Ct(Pe);break}}return ye}function Ze(pe,ye){for(var Ee=pe.getAttribute("sid"),Me=0,Pe=pe.childNodes.length;Me<Pe;Me++){var yt=pe.childNodes[Me];if(yt.nodeType===1)switch(yt.nodeName){case"surface":ye.surfaces[Ee]=Xe(yt);break;case"sampler2D":ye.samplers[Ee]=ke(yt);break}}}function Xe(pe){for(var ye={},Ee=0,Me=pe.childNodes.length;Ee<Me;Ee++){var Pe=pe.childNodes[Ee];if(Pe.nodeType===1)switch(Pe.nodeName){case"init_from":ye.init_from=Pe.textContent;break}}return ye}function ke(pe){for(var ye={},Ee=0,Me=pe.childNodes.length;Ee<Me;Ee++){var Pe=pe.childNodes[Ee];if(Pe.nodeType===1)switch(Pe.nodeName){case"source":ye.source=Pe.textContent;break}}return ye}function lt(pe){for(var ye={},Ee=0,Me=pe.childNodes.length;Ee<Me;Ee++){var Pe=pe.childNodes[Ee];if(Pe.nodeType===1)switch(Pe.nodeName){case"constant":case"lambert":case"blinn":case"phong":ye.type=Pe.nodeName,ye.parameters=ot(Pe);break}}return ye}function ot(pe){for(var ye={},Ee=0,Me=pe.childNodes.length;Ee<Me;Ee++){var Pe=pe.childNodes[Ee];if(Pe.nodeType===1)switch(Pe.nodeName){case"emission":case"diffuse":case"specular":case"bump":case"ambient":case"shininess":case"transparency":ye[Pe.nodeName]=it(Pe);break;case"transparent":ye[Pe.nodeName]={opaque:Pe.getAttribute("opaque"),data:it(Pe)};break}}return ye}function it(pe){for(var ye={},Ee=0,Me=pe.childNodes.length;Ee<Me;Ee++){var Pe=pe.childNodes[Ee];if(Pe.nodeType===1)switch(Pe.nodeName){case"color":ye[Pe.nodeName]=o(Pe.textContent);break;case"float":ye[Pe.nodeName]=parseFloat(Pe.textContent);break;case"texture":ye[Pe.nodeName]={id:Pe.getAttribute("texture"),extra:ft(Pe)};break}}return ye}function ft(pe){for(var ye={technique:{}},Ee=0,Me=pe.childNodes.length;Ee<Me;Ee++){var Pe=pe.childNodes[Ee];if(Pe.nodeType===1)switch(Pe.nodeName){case"extra":xt(Pe,ye);break}}return ye}function xt(pe,ye){for(var Ee=0,Me=pe.childNodes.length;Ee<Me;Ee++){var Pe=pe.childNodes[Ee];if(Pe.nodeType===1)switch(Pe.nodeName){case"technique":At(Pe,ye);break}}}function At(pe,ye){for(var Ee=0,Me=pe.childNodes.length;Ee<Me;Ee++){var Pe=pe.childNodes[Ee];if(Pe.nodeType===1)switch(Pe.nodeName){case"repeatU":case"repeatV":case"offsetU":case"offsetV":ye.technique[Pe.nodeName]=parseFloat(Pe.textContent);break;case"wrapU":case"wrapV":Pe.textContent.toUpperCase()==="TRUE"?ye.technique[Pe.nodeName]=1:Pe.textContent.toUpperCase()==="FALSE"?ye.technique[Pe.nodeName]=0:ye.technique[Pe.nodeName]=parseInt(Pe.textContent);break}}}function Ct(pe){for(var ye={},Ee=0,Me=pe.childNodes.length;Ee<Me;Ee++){var Pe=pe.childNodes[Ee];if(Pe.nodeType===1)switch(Pe.nodeName){case"technique":ye.technique=Tt(Pe);break}}return ye}function Tt(pe){for(var ye={},Ee=0,Me=pe.childNodes.length;Ee<Me;Ee++){var Pe=pe.childNodes[Ee];if(Pe.nodeType===1)switch(Pe.nodeName){case"double_sided":ye[Pe.nodeName]=parseInt(Pe.textContent);break}}return ye}function Dt(pe){return pe}function Yt(pe){return y(at.effects[pe],Dt)}function Ve(pe){for(var ye={name:pe.getAttribute("name")},Ee=0,Me=pe.childNodes.length;Ee<Me;Ee++){var Pe=pe.childNodes[Ee];if(Pe.nodeType===1)switch(Pe.nodeName){case"instance_effect":ye.url=l(Pe.getAttribute("url"));break}}at.materials[pe.getAttribute("id")]=ye}function be(pe){var ye,Ee=pe.slice((pe.lastIndexOf(".")-1>>>0)+2);switch(Ee=Ee.toLowerCase(),Ee){case"tga":ye=se;break;default:ye=re}return ye}function fe(pe){var ye=Yt(pe.url),Ee=ye.profile.technique,Me=ye.profile.extra,Pe;switch(Ee.type){case"phong":case"blinn":Pe=new THREE.MeshPhongMaterial;break;case"lambert":Pe=new THREE.MeshLambertMaterial;break;default:Pe=new THREE.MeshBasicMaterial;break}Pe.name=pe.name;function yt(pr){var $n=ye.profile.samplers[pr.id],fn=null;if($n!==void 0){var xn=ye.profile.surfaces[$n.source];fn=ge(xn.init_from)}else console.warn("THREE.ColladaLoader: Undefined sampler. Access image directly (see #12530)."),fn=ge(pr.id);if(fn!==null){var Yn=be(fn);if(Yn!==void 0){var lr=Yn.load(fn),mr=pr.extra;if(mr!==void 0&&mr.technique!==void 0&&c(mr.technique)===!1){var Br=mr.technique;lr.wrapS=Br.wrapU?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,lr.wrapT=Br.wrapV?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,lr.offset.set(Br.offsetU||0,Br.offsetV||0),lr.repeat.set(Br.repeatU||1,Br.repeatV||1)}else lr.wrapS=THREE.RepeatWrapping,lr.wrapT=THREE.RepeatWrapping;return lr}else return console.warn("THREE.ColladaLoader: Loader for texture %s not found.",fn),null}else return console.warn("THREE.ColladaLoader: Couldn't create texture with ID:",pr.id),null}var Ft=Ee.parameters;for(var Zt in Ft){var dn=Ft[Zt];switch(Zt){case"diffuse":dn.color&&Pe.color.fromArray(dn.color),dn.texture&&(Pe.map=yt(dn.texture));break;case"specular":dn.color&&Pe.specular&&Pe.specular.fromArray(dn.color),dn.texture&&(Pe.specularMap=yt(dn.texture));break;case"bump":dn.texture&&(Pe.normalMap=yt(dn.texture));break;case"ambient":dn.texture&&(Pe.lightMap=yt(dn.texture));break;case"shininess":dn.float&&Pe.shininess&&(Pe.shininess=dn.float);break;case"emission":dn.color&&Pe.emissive&&Pe.emissive.fromArray(dn.color),dn.texture&&(Pe.emissiveMap=yt(dn.texture));break}}var Bn=Ft.transparent,ln=Ft.transparency;if(ln===void 0&&Bn&&(ln={float:1}),Bn===void 0&&ln&&(Bn={opaque:"A_ONE",data:{color:[1,1,1,1]}}),Bn&&ln)if(Bn.data.texture)Pe.transparent=!0;else{var Wn=Bn.data.color;switch(Bn.opaque){case"A_ONE":Pe.opacity=Wn[3]*ln.float;break;case"RGB_ZERO":Pe.opacity=1-Wn[0]*ln.float;break;case"A_ZERO":Pe.opacity=1-Wn[3]*ln.float;break;case"RGB_ONE":Pe.opacity=Wn[0]*ln.float;break;default:console.warn('THREE.ColladaLoader: Invalid opaque type "%s" of transparent tag.',Bn.opaque)}Pe.opacity<1&&(Pe.transparent=!0)}return Me!==void 0&&Me.technique!==void 0&&Me.technique.double_sided===1&&(Pe.side=THREE.DoubleSide),Pe}function me(pe){return y(at.materials[pe],fe)}function Te(pe){for(var ye={name:pe.getAttribute("name")},Ee=0,Me=pe.childNodes.length;Ee<Me;Ee++){var Pe=pe.childNodes[Ee];if(Pe.nodeType===1)switch(Pe.nodeName){case"optics":ye.optics=Ce(Pe);break}}at.cameras[pe.getAttribute("id")]=ye}function Ce(pe){for(var ye=0;ye<pe.childNodes.length;ye++){var Ee=pe.childNodes[ye];switch(Ee.nodeName){case"technique_common":return Se(Ee)}}return{}}function Se(pe){for(var ye={},Ee=0;Ee<pe.childNodes.length;Ee++){var Me=pe.childNodes[Ee];switch(Me.nodeName){case"perspective":case"orthographic":ye.technique=Me.nodeName,ye.parameters=we(Me);break}}return ye}function we(pe){for(var ye={},Ee=0;Ee<pe.childNodes.length;Ee++){var Me=pe.childNodes[Ee];switch(Me.nodeName){case"xfov":case"yfov":case"xmag":case"ymag":case"znear":case"zfar":case"aspect_ratio":ye[Me.nodeName]=parseFloat(Me.textContent);break}}return ye}function Ge(pe){var ye;switch(pe.optics.technique){case"perspective":ye=new THREE.PerspectiveCamera(pe.optics.parameters.yfov,pe.optics.parameters.aspect_ratio,pe.optics.parameters.znear,pe.optics.parameters.zfar);break;case"orthographic":var Ee=pe.optics.parameters.ymag,Me=pe.optics.parameters.xmag,Pe=pe.optics.parameters.aspect_ratio;Me=Me===void 0?Ee*Pe:Me,Ee=Ee===void 0?Me/Pe:Ee,Me*=.5,Ee*=.5,ye=new THREE.OrthographicCamera(-Me,Me,Ee,-Ee,pe.optics.parameters.znear,pe.optics.parameters.zfar);break;default:ye=new THREE.PerspectiveCamera;break}return ye.name=pe.name,ye}function Ae(pe){var ye=at.cameras[pe];return ye!==void 0?y(ye,Ge):(console.warn("THREE.ColladaLoader: Couldn't find camera with ID:",pe),null)}function Ue(pe){for(var ye={},Ee=0,Me=pe.childNodes.length;Ee<Me;Ee++){var Pe=pe.childNodes[Ee];if(Pe.nodeType===1)switch(Pe.nodeName){case"technique_common":ye=et(Pe);break}}at.lights[pe.getAttribute("id")]=ye}function et(pe){for(var ye={},Ee=0,Me=pe.childNodes.length;Ee<Me;Ee++){var Pe=pe.childNodes[Ee];if(Pe.nodeType===1)switch(Pe.nodeName){case"directional":case"point":case"spot":case"ambient":ye.technique=Pe.nodeName,ye.parameters=ce(Pe)}}return ye}function ce(pe){for(var ye={},Ee=0,Me=pe.childNodes.length;Ee<Me;Ee++){var Pe=pe.childNodes[Ee];if(Pe.nodeType===1)switch(Pe.nodeName){case"color":var yt=o(Pe.textContent);ye.color=new THREE.Color().fromArray(yt);break;case"falloff_angle":ye.falloffAngle=parseFloat(Pe.textContent);break;case"quadratic_attenuation":var Ft=parseFloat(Pe.textContent);ye.distance=Ft?Math.sqrt(1/Ft):0;break}}return ye}function Y(pe){var ye;switch(pe.technique){case"directional":ye=new THREE.DirectionalLight;break;case"point":ye=new THREE.PointLight;break;case"spot":ye=new THREE.SpotLight;break;case"ambient":ye=new THREE.AmbientLight;break}return pe.parameters.color&&ye.color.copy(pe.parameters.color),pe.parameters.distance&&(ye.distance=pe.parameters.distance),ye}function ne(pe){var ye=at.lights[pe];return ye!==void 0?y(ye,Y):(console.warn("THREE.ColladaLoader: Couldn't find light with ID:",pe),null)}function Le(pe){var ye={name:pe.getAttribute("name"),sources:{},vertices:{},primitives:[]},Ee=r(pe,"mesh")[0];if(Ee!==void 0){for(var Me=0;Me<Ee.childNodes.length;Me++){var Pe=Ee.childNodes[Me];if(Pe.nodeType===1){var yt=Pe.getAttribute("id");switch(Pe.nodeName){case"source":ye.sources[yt]=We(Pe);break;case"vertices":ye.vertices=ve(Pe);break;case"polygons":console.warn("THREE.ColladaLoader: Unsupported primitive type: ",Pe.nodeName);break;case"lines":case"linestrips":case"polylist":case"triangles":ye.primitives.push(he(Pe));break;default:console.log(Pe)}}}at.geometries[pe.getAttribute("id")]=ye}}function We(pe){for(var ye={array:[],stride:3},Ee=0;Ee<pe.childNodes.length;Ee++){var Me=pe.childNodes[Ee];if(Me.nodeType===1)switch(Me.nodeName){case"float_array":ye.array=o(Me.textContent);break;case"Name_array":ye.array=i(Me.textContent);break;case"technique_common":var Pe=r(Me,"accessor")[0];Pe!==void 0&&(ye.stride=parseInt(Pe.getAttribute("stride")));break}}return ye}function ve(pe){for(var ye={},Ee=0;Ee<pe.childNodes.length;Ee++){var Me=pe.childNodes[Ee];Me.nodeType===1&&(ye[Me.getAttribute("semantic")]=l(Me.getAttribute("source")))}return ye}function he(pe){for(var ye={type:pe.nodeName,material:pe.getAttribute("material"),count:parseInt(pe.getAttribute("count")),inputs:{},stride:0,hasUV:!1},Ee=0,Me=pe.childNodes.length;Ee<Me;Ee++){var Pe=pe.childNodes[Ee];if(Pe.nodeType===1)switch(Pe.nodeName){case"input":var yt=l(Pe.getAttribute("source")),Ft=Pe.getAttribute("semantic"),Zt=parseInt(Pe.getAttribute("offset")),dn=parseInt(Pe.getAttribute("set")),Bn=dn>0?Ft+dn:Ft;ye.inputs[Bn]={id:yt,offset:Zt},ye.stride=Math.max(ye.stride,Zt+1),Ft==="TEXCOORD"&&(ye.hasUV=!0);break;case"vcount":ye.vcount=s(Pe.textContent);break;case"p":ye.p=s(Pe.textContent);break}}return ye}function qe(pe){for(var ye={},Ee=0;Ee<pe.length;Ee++){var Me=pe[Ee];ye[Me.type]===void 0&&(ye[Me.type]=[]),ye[Me.type].push(Me)}return ye}function Je(pe){for(var ye=0,Ee=0,Me=pe.length;Ee<Me;Ee++){var Pe=pe[Ee];Pe.hasUV===!0&&ye++}ye>0&&ye<pe.length&&(pe.uvsNeedsFix=!0)}function Qe(pe){var ye={},Ee=pe.sources,Me=pe.vertices,Pe=pe.primitives;if(Pe.length===0)return{};var yt=qe(Pe);for(var Ft in yt){var Zt=yt[Ft];Je(Zt),ye[Ft]=nt(Zt,Ee,Me)}return ye}function nt(pe,ye,Ee){for(var Me={},Pe={array:[],stride:0},yt={array:[],stride:0},Ft={array:[],stride:0},Zt={array:[],stride:0},dn={array:[],stride:0},Bn={array:[],stride:4},ln={array:[],stride:4},Wn=new THREE.BufferGeometry,pr=[],$n=0,fn=0;fn<pe.length;fn++){var xn=pe[fn],Yn=xn.inputs,lr=0;switch(xn.type){case"lines":case"linestrips":lr=xn.count*2;break;case"triangles":lr=xn.count*3;break;case"polylist":for(var mr=0;mr<xn.count;mr++){var Br=xn.vcount[mr];switch(Br){case 3:lr+=3;break;case 4:lr+=6;break;default:lr+=(Br-2)*3;break}}break;default:console.warn("THREE.ColladaLoader: Unknow primitive type:",xn.type)}Wn.addGroup($n,lr,fn),$n+=lr,xn.material&&pr.push(xn.material);for(var ni in Yn){var Kr=Yn[ni];switch(ni){case"VERTEX":for(var Ii in Ee){var Gr=Ee[Ii];switch(Ii){case"POSITION":var ps=Pe.array.length;if(It(xn,ye[Gr],Kr.offset,Pe.array),Pe.stride=ye[Gr].stride,ye.skinWeights&&ye.skinIndices&&(It(xn,ye.skinIndices,Kr.offset,Bn.array),It(xn,ye.skinWeights,Kr.offset,ln.array)),xn.hasUV===!1&&pe.uvsNeedsFix===!0)for(var lr=(Pe.array.length-ps)/Pe.stride,ts=0;ts<lr;ts++)Ft.array.push(0,0);break;case"NORMAL":It(xn,ye[Gr],Kr.offset,yt.array),yt.stride=ye[Gr].stride;break;case"COLOR":It(xn,ye[Gr],Kr.offset,dn.array),dn.stride=ye[Gr].stride;break;case"TEXCOORD":It(xn,ye[Gr],Kr.offset,Ft.array),Ft.stride=ye[Gr].stride;break;case"TEXCOORD1":It(xn,ye[Gr],Kr.offset,Zt.array),Ft.stride=ye[Gr].stride;break;default:console.warn('THREE.ColladaLoader: Semantic "%s" not handled in geometry build process.',Ii)}}break;case"NORMAL":It(xn,ye[Kr.id],Kr.offset,yt.array),yt.stride=ye[Kr.id].stride;break;case"COLOR":It(xn,ye[Kr.id],Kr.offset,dn.array),dn.stride=ye[Kr.id].stride;break;case"TEXCOORD":It(xn,ye[Kr.id],Kr.offset,Ft.array),Ft.stride=ye[Kr.id].stride;break;case"TEXCOORD1":It(xn,ye[Kr.id],Kr.offset,Zt.array),Zt.stride=ye[Kr.id].stride;break}}}return Pe.array.length>0&&Wn.addAttribute("position",new THREE.Float32BufferAttribute(Pe.array,Pe.stride)),yt.array.length>0&&Wn.addAttribute("normal",new THREE.Float32BufferAttribute(yt.array,yt.stride)),dn.array.length>0&&Wn.addAttribute("color",new THREE.Float32BufferAttribute(dn.array,dn.stride)),Ft.array.length>0&&Wn.addAttribute("uv",new THREE.Float32BufferAttribute(Ft.array,Ft.stride)),Zt.array.length>0&&Wn.addAttribute("uv2",new THREE.Float32BufferAttribute(Zt.array,Zt.stride)),Bn.array.length>0&&Wn.addAttribute("skinIndex",new THREE.Float32BufferAttribute(Bn.array,Bn.stride)),ln.array.length>0&&Wn.addAttribute("skinWeight",new THREE.Float32BufferAttribute(ln.array,ln.stride)),Me.data=Wn,Me.type=pe[0].type,Me.materialKeys=pr,Me}function It(pe,ye,Ee,Me){var Pe=pe.p,yt=pe.stride,Ft=pe.vcount;function Zt(ni){for(var Kr=Pe[ni+Ee]*Bn,Ii=Kr+Bn;Kr<Ii;Kr++)Me.push(dn[Kr])}var dn=ye.array,Bn=ye.stride;if(pe.vcount!==void 0)for(var ln=0,Wn=0,pr=Ft.length;Wn<pr;Wn++){var $n=Ft[Wn];if($n===4){var fn=ln+yt*0,xn=ln+yt*1,Yn=ln+yt*2,lr=ln+yt*3;Zt(fn),Zt(xn),Zt(lr),Zt(xn),Zt(Yn),Zt(lr)}else if($n===3){var fn=ln+yt*0,xn=ln+yt*1,Yn=ln+yt*2;Zt(fn),Zt(xn),Zt(Yn)}else if($n>4)for(var mr=1,Br=$n-2;mr<=Br;mr++){var fn=ln+yt*0,xn=ln+yt*mr,Yn=ln+yt*(mr+1);Zt(fn),Zt(xn),Zt(Yn)}ln+=yt*$n}else for(var Wn=0,pr=Pe.length;Wn<pr;Wn+=yt)Zt(Wn)}function kt(pe){return y(at.geometries[pe],Qe)}function Bt(pe){for(var ye={name:pe.getAttribute("name")||"",joints:{},links:[]},Ee=0;Ee<pe.childNodes.length;Ee++){var Me=pe.childNodes[Ee];if(Me.nodeType===1)switch(Me.nodeName){case"technique_common":Pt(Me,ye);break}}at.kinematicsModels[pe.getAttribute("id")]=ye}function Gt(pe){return pe.build!==void 0?pe.build:pe}function Vt(pe){return y(at.kinematicsModels[pe],Gt)}function Pt(pe,ye){for(var Ee=0;Ee<pe.childNodes.length;Ee++){var Me=pe.childNodes[Ee];if(Me.nodeType===1)switch(Me.nodeName){case"joint":ye.joints[Me.getAttribute("sid")]=pt(Me);break;case"link":ye.links.push(cn(Me));break}}}function pt(pe){for(var ye,Ee=0;Ee<pe.childNodes.length;Ee++){var Me=pe.childNodes[Ee];if(Me.nodeType===1)switch(Me.nodeName){case"prismatic":case"revolute":ye=Ot(Me);break}}return ye}function Ot(pe,Ee){for(var Ee={sid:pe.getAttribute("sid"),name:pe.getAttribute("name")||"",axis:new THREE.Vector3,limits:{min:0,max:0},type:pe.nodeName,static:!1,zeroPosition:0,middlePosition:0},Me=0;Me<pe.childNodes.length;Me++){var Pe=pe.childNodes[Me];if(Pe.nodeType===1)switch(Pe.nodeName){case"axis":var yt=o(Pe.textContent);Ee.axis.fromArray(yt);break;case"limits":var Ft=Pe.getElementsByTagName("max")[0],Zt=Pe.getElementsByTagName("min")[0];Ee.limits.max=parseFloat(Ft.textContent),Ee.limits.min=parseFloat(Zt.textContent);break}}return Ee.limits.min>=Ee.limits.max&&(Ee.static=!0),Ee.middlePosition=(Ee.limits.min+Ee.limits.max)/2,Ee}function cn(pe){for(var ye={sid:pe.getAttribute("sid"),name:pe.getAttribute("name")||"",attachments:[],transforms:[]},Ee=0;Ee<pe.childNodes.length;Ee++){var Me=pe.childNodes[Ee];if(Me.nodeType===1)switch(Me.nodeName){case"attachment_full":ye.attachments.push(qt(Me));break;case"matrix":case"translate":case"rotate":ye.transforms.push(Sn(Me));break}}return ye}function qt(pe){for(var ye={joint:pe.getAttribute("joint").split("/").pop(),transforms:[],links:[]},Ee=0;Ee<pe.childNodes.length;Ee++){var Me=pe.childNodes[Ee];if(Me.nodeType===1)switch(Me.nodeName){case"link":ye.links.push(cn(Me));break;case"matrix":case"translate":case"rotate":ye.transforms.push(Sn(Me));break}}return ye}function Sn(pe){var ye={type:pe.nodeName},Ee=o(pe.textContent);switch(ye.type){case"matrix":ye.obj=new THREE.Matrix4,ye.obj.fromArray(Ee).transpose();break;case"translate":ye.obj=new THREE.Vector3,ye.obj.fromArray(Ee);break;case"rotate":ye.obj=new THREE.Vector3,ye.obj.fromArray(Ee),ye.angle=THREE.Math.degToRad(Ee[3]);break}return ye}function yn(pe){for(var ye={name:pe.getAttribute("name")||"",rigidBodies:{}},Ee=0;Ee<pe.childNodes.length;Ee++){var Me=pe.childNodes[Ee];if(Me.nodeType===1)switch(Me.nodeName){case"rigid_body":ye.rigidBodies[Me.getAttribute("name")]={},Pn(Me,ye.rigidBodies[Me.getAttribute("name")]);break}}at.physicsModels[pe.getAttribute("id")]=ye}function Pn(pe,ye){for(var Ee=0;Ee<pe.childNodes.length;Ee++){var Me=pe.childNodes[Ee];if(Me.nodeType===1)switch(Me.nodeName){case"technique_common":rr(Me,ye);break}}}function rr(pe,ye){for(var Ee=0;Ee<pe.childNodes.length;Ee++){var Me=pe.childNodes[Ee];if(Me.nodeType===1)switch(Me.nodeName){case"inertia":ye.inertia=o(Me.textContent);break;case"mass":ye.mass=o(Me.textContent)[0];break}}}function Gn(pe){for(var ye={bindJointAxis:[]},Ee=0;Ee<pe.childNodes.length;Ee++){var Me=pe.childNodes[Ee];if(Me.nodeType===1)switch(Me.nodeName){case"bind_joint_axis":ye.bindJointAxis.push(Fn(Me));break}}at.kinematicsScenes[l(pe.getAttribute("url"))]=ye}function Fn(pe){for(var ye={target:pe.getAttribute("target").split("/").pop()},Ee=0;Ee<pe.childNodes.length;Ee++){var Me=pe.childNodes[Ee];if(Me.nodeType===1)switch(Me.nodeName){case"axis":var Pe=Me.getElementsByTagName("param")[0];ye.axis=Pe.textContent;var yt=ye.axis.split("inst_").pop().split("axis")[0];ye.jointIndex=yt.substr(0,yt.length-1);break}}return ye}function Cn(pe){return pe.build!==void 0?pe.build:pe}function Oe(pe){return y(at.kinematicsScenes[pe],Cn)}function st(){var pe=Object.keys(at.kinematicsModels)[0],ye=Object.keys(at.kinematicsScenes)[0],Ee=Object.keys(at.visualScenes)[0];if(pe===void 0||ye===void 0)return;for(var Me=Vt(pe),Pe=Oe(ye),yt=sr(Ee),Ft=Pe.bindJointAxis,Zt={},dn=0,Bn=Ft.length;dn<Bn;dn++){var ln=Ft[dn],Wn=bn.querySelector('[sid="'+ln.target+'"]');if(Wn){var pr=Wn.parentElement;$n(ln.jointIndex,pr)}}function $n(xn,Yn){var lr=Yn.getAttribute("name"),mr=Me.joints[xn];yt.traverse(function(Br){Br.name===lr&&(Zt[xn]={object:Br,transforms:wt(Yn),joint:mr,position:mr.zeroPosition})})}var fn=new THREE.Matrix4;Fe={joints:Me&&Me.joints,getJointValue:function(xn){var Yn=Zt[xn];if(Yn)return Yn.position;console.warn("THREE.ColladaLoader: Joint "+xn+" doesn't exist.")},setJointValue:function(xn,Yn){var lr=Zt[xn];if(lr){var mr=lr.joint;if(Yn>mr.limits.max||Yn<mr.limits.min)console.warn("THREE.ColladaLoader: Joint "+xn+" value "+Yn+" outside of limits (min: "+mr.limits.min+", max: "+mr.limits.max+").");else if(mr.static)console.warn("THREE.ColladaLoader: Joint "+xn+" is static.");else{var Br=lr.object,ni=mr.axis,Kr=lr.transforms;De.identity();for(var Ii=0;Ii<Kr.length;Ii++){var Gr=Kr[Ii];if(Gr.sid&&Gr.sid.indexOf(xn)!==-1)switch(mr.type){case"revolute":De.multiply(fn.makeRotationAxis(ni,THREE.Math.degToRad(Yn)));break;case"prismatic":De.multiply(fn.makeTranslation(ni.x*Yn,ni.y*Yn,ni.z*Yn));break;default:console.warn("THREE.ColladaLoader: Unknown joint type: "+mr.type);break}else switch(Gr.type){case"matrix":De.multiply(Gr.obj);break;case"translate":De.multiply(fn.makeTranslation(Gr.obj.x,Gr.obj.y,Gr.obj.z));break;case"scale":De.scale(Gr.obj);break;case"rotate":De.multiply(fn.makeRotationAxis(Gr.obj,Gr.angle));break}}Br.matrix.copy(De),Br.matrix.decompose(Br.position,Br.quaternion,Br.scale),Zt[xn].position=Yn}}else console.log("THREE.ColladaLoader: "+xn+" does not exist.")}}}function wt(pe){for(var ye=[],Ee=bn.querySelector('[id="'+pe.id+'"]'),Me=0;Me<Ee.childNodes.length;Me++){var Pe=Ee.childNodes[Me];if(Pe.nodeType===1)switch(Pe.nodeName){case"matrix":var Ft=o(Pe.textContent),yt=new THREE.Matrix4().fromArray(Ft).transpose();ye.push({sid:Pe.getAttribute("sid"),type:Pe.nodeName,obj:yt});break;case"translate":case"scale":var Ft=o(Pe.textContent),Zt=new THREE.Vector3().fromArray(Ft);ye.push({sid:Pe.getAttribute("sid"),type:Pe.nodeName,obj:Zt});break;case"rotate":var Ft=o(Pe.textContent),Zt=new THREE.Vector3().fromArray(Ft),dn=THREE.Math.degToRad(Ft[3]);ye.push({sid:Pe.getAttribute("sid"),type:Pe.nodeName,obj:Zt,angle:dn});break}}return ye}function xe(pe){for(var ye=pe.getElementsByTagName("node"),Ee=0;Ee<ye.length;Ee++){var Me=ye[Ee];Me.hasAttribute("id")===!1&&Me.setAttribute("id",u())}}var De=new THREE.Matrix4,tt=new THREE.Vector3;function St(pe){for(var ye={name:pe.getAttribute("name")||"",type:pe.getAttribute("type"),id:pe.getAttribute("id"),sid:pe.getAttribute("sid"),matrix:new THREE.Matrix4,nodes:[],instanceCameras:[],instanceControllers:[],instanceLights:[],instanceGeometries:[],instanceNodes:[],transforms:{}},Ee=0;Ee<pe.childNodes.length;Ee++){var Me=pe.childNodes[Ee];if(Me.nodeType===1)switch(Me.nodeName){case"node":ye.nodes.push(Me.getAttribute("id")),St(Me);break;case"instance_camera":ye.instanceCameras.push(l(Me.getAttribute("url")));break;case"instance_controller":ye.instanceControllers.push(Mt(Me));break;case"instance_light":ye.instanceLights.push(l(Me.getAttribute("url")));break;case"instance_geometry":ye.instanceGeometries.push(Mt(Me));break;case"instance_node":ye.instanceNodes.push(l(Me.getAttribute("url")));break;case"matrix":var yt=o(Me.textContent);ye.matrix.multiply(De.fromArray(yt).transpose()),ye.transforms[Me.getAttribute("sid")]=Me.nodeName;break;case"translate":var yt=o(Me.textContent);tt.fromArray(yt),ye.matrix.multiply(De.makeTranslation(tt.x,tt.y,tt.z)),ye.transforms[Me.getAttribute("sid")]=Me.nodeName;break;case"rotate":var yt=o(Me.textContent),Pe=THREE.Math.degToRad(yt[3]);ye.matrix.multiply(De.makeRotationAxis(tt.fromArray(yt),Pe)),ye.transforms[Me.getAttribute("sid")]=Me.nodeName;break;case"scale":var yt=o(Me.textContent);ye.matrix.scale(tt.fromArray(yt)),ye.transforms[Me.getAttribute("sid")]=Me.nodeName;break;case"extra":break;default:console.log(Me)}}return Nn(ye.id)?console.warn("THREE.ColladaLoader: There is already a node with ID %s. Exclude current node from further processing.",ye.id):at.nodes[ye.id]=ye,ye}function Mt(pe){for(var ye={id:l(pe.getAttribute("url")),materials:{},skeletons:[]},Ee=0;Ee<pe.childNodes.length;Ee++){var Me=pe.childNodes[Ee];switch(Me.nodeName){case"bind_material":for(var Pe=Me.getElementsByTagName("instance_material"),yt=0;yt<Pe.length;yt++){var Ft=Pe[yt],Zt=Ft.getAttribute("symbol"),dn=Ft.getAttribute("target");ye.materials[Zt]=l(dn)}break;case"skeleton":ye.skeletons.push(l(Me.textContent));break}}return ye}function Ut(pe,ye){var Ee=[],Me=[],Pe,yt,Ft;for(Pe=0;Pe<pe.length;Pe++){var Zt=pe[Pe],dn;if(Nn(Zt))dn=er(Zt),Qt(dn,ye,Ee);else if(dr(Zt))for(var Bn=at.visualScenes[Zt],ln=Bn.children,yt=0;yt<ln.length;yt++){var Wn=ln[yt];if(Wn.type==="JOINT"){var dn=er(Wn.id);Qt(dn,ye,Ee)}}else console.error("THREE.ColladaLoader: Unable to find root bone of skeleton with ID:",Zt)}for(Pe=0;Pe<ye.length;Pe++)for(yt=0;yt<Ee.length;yt++)if(Ft=Ee[yt],Ft.bone.name===ye[Pe].name){Me[Pe]=Ft,Ft.processed=!0;break}for(Pe=0;Pe<Ee.length;Pe++)Ft=Ee[Pe],Ft.processed===!1&&(Me.push(Ft),Ft.processed=!0);var pr=[],$n=[];for(Pe=0;Pe<Me.length;Pe++)Ft=Me[Pe],pr.push(Ft.bone),$n.push(Ft.boneInverse);return new THREE.Skeleton(pr,$n)}function Qt(pe,ye,Ee){pe.traverse(function(Me){if(Me.isBone===!0){for(var Pe,yt=0;yt<ye.length;yt++){var Ft=ye[yt];if(Ft.name===Me.name){Pe=Ft.boneInverse;break}}Pe===void 0&&(Pe=new THREE.Matrix4),Ee.push({bone:Me,boneInverse:Pe,processed:!1})}})}function mn(pe){for(var ye=[],Ee=pe.matrix,Me=pe.nodes,Pe=pe.type,yt=pe.instanceCameras,Ft=pe.instanceControllers,Zt=pe.instanceLights,dn=pe.instanceGeometries,Bn=pe.instanceNodes,ln=0,Wn=Me.length;ln<Wn;ln++)ye.push(er(Me[ln]));for(var ln=0,Wn=yt.length;ln<Wn;ln++){var pr=Ae(yt[ln]);pr!==null&&ye.push(pr.clone())}for(var ln=0,Wn=Ft.length;ln<Wn;ln++)for(var $n=Ft[ln],fn=oe($n.id),xn=kt(fn.id),Yn=Hn(xn,$n.materials),lr=$n.skeletons,mr=fn.skin.joints,Br=Ut(lr,mr),ni=0,Kr=Yn.length;ni<Kr;ni++){var Gr=Yn[ni];Gr.isSkinnedMesh&&(Gr.bind(Br,fn.skin.bindMatrix),Gr.normalizeSkinWeights()),ye.push(Gr)}for(var ln=0,Wn=Zt.length;ln<Wn;ln++){var Ii=ne(Zt[ln]);Ii!==null&&ye.push(Ii.clone())}for(var ln=0,Wn=dn.length;ln<Wn;ln++)for(var $n=dn[ln],xn=kt($n.id),Yn=Hn(xn,$n.materials),ni=0,Kr=Yn.length;ni<Kr;ni++)ye.push(Yn[ni]);for(var ln=0,Wn=Bn.length;ln<Wn;ln++)ye.push(er(Bn[ln]).clone());var Gr;if(Me.length===0&&ye.length===1)Gr=ye[0];else{Gr=Pe==="JOINT"?new THREE.Bone:new THREE.Group;for(var ln=0;ln<ye.length;ln++)Gr.add(ye[ln])}return Gr.name===""&&(Gr.name=Pe==="JOINT"?pe.sid:pe.name),Gr.matrix.copy(Ee),Gr.matrix.decompose(Gr.position,Gr.quaternion,Gr.scale),Gr}var sn=new THREE.MeshBasicMaterial({color:16711935});function Kt(pe,ye){for(var Ee=[],Me=0,Pe=pe.length;Me<Pe;Me++){var yt=ye[pe[Me]];yt===void 0?(console.warn("THREE.ColladaLoader: Material with key %s not found. Apply fallback material.",pe[Me]),Ee.push(sn)):Ee.push(me(yt))}return Ee}function Hn(pe,ye){var Ee=[];for(var Me in pe){var Pe=pe[Me],yt=Kt(Pe.materialKeys,ye);yt.length===0&&(Me==="lines"||Me==="linestrips"?yt.push(new THREE.LineBasicMaterial):yt.push(new THREE.MeshPhongMaterial));var Ft=Pe.data.attributes.skinIndex!==void 0;if(Ft)for(var Zt=0,dn=yt.length;Zt<dn;Zt++)yt[Zt].skinning=!0;var Bn=yt.length===1?yt[0]:yt,ln;switch(Me){case"lines":ln=new THREE.LineSegments(Pe.data,Bn);break;case"linestrips":ln=new THREE.Line(Pe.data,Bn);break;case"triangles":case"polylist":Ft?ln=new THREE.SkinnedMesh(Pe.data,Bn):ln=new THREE.Mesh(Pe.data,Bn);break}Ee.push(ln)}return Ee}function Nn(pe){return at.nodes[pe]!==void 0}function er(pe){return y(at.nodes[pe],mn)}function yr(pe){var ye={name:pe.getAttribute("name"),children:[]};xe(pe);for(var Ee=r(pe,"node"),Me=0;Me<Ee.length;Me++)ye.children.push(St(Ee[Me]));at.visualScenes[pe.getAttribute("id")]=ye}function kn(pe){var ye=new THREE.Group;ye.name=pe.name;for(var Ee=pe.children,Me=0;Me<Ee.length;Me++){var Pe=Ee[Me];ye.add(er(Pe.id))}return ye}function dr(pe){return at.visualScenes[pe]!==void 0}function sr(pe){return y(at.visualScenes[pe],kn)}function Dr(pe){var ye=r(pe,"instance_visual_scene")[0];return sr(l(ye.getAttribute("url")))}function or(){var pe=at.clips;if(c(pe)===!0){if(c(at.animations)===!1){var ye=[];for(var Ee in at.animations)for(var Me=E(Ee),Pe=0,yt=Me.length;Pe<yt;Pe++)ye.push(Me[Pe]);_e.push(new THREE.AnimationClip("default",-1,ye))}}else for(var Ee in pe)_e.push(z(Ee))}if(n.length===0)return{scene:new THREE.Scene};var Jt=new DOMParser().parseFromString(n,"application/xml"),bn=r(Jt,"COLLADA")[0],qn=bn.getAttribute("version");console.log("THREE.ColladaLoader: File version",qn);var jn=d(r(bn,"asset")[0]),re=new THREE.TextureLoader(this.manager);re.setPath(this.resourcePath||e).setCrossOrigin(this.crossOrigin);var se;THREE.TGALoader&&(se=new THREE.TGALoader(this.manager),se.setPath(this.resourcePath||e));var _e=[],Fe={},Ye=0,at={animations:{},clips:{},controllers:{},images:{},effects:{},materials:{},cameras:{},lights:{},geometries:{},nodes:{},visualScenes:{},kinematicsModels:{},physicsModels:{},kinematicsScenes:{}};m(bn,"library_animations","animation",A),m(bn,"library_animation_clips","animation_clip",F),m(bn,"library_controllers","controller",G),m(bn,"library_images","image",ue),m(bn,"library_effects","effect",Ie),m(bn,"library_materials","material",Ve),m(bn,"library_cameras","camera",Te),m(bn,"library_lights","light",Ue),m(bn,"library_geometries","geometry",Le),m(bn,"library_nodes","node",St),m(bn,"library_visual_scenes","visual_scene",yr),m(bn,"library_kinematics_models","kinematics_model",Bt),m(bn,"library_physics_models","physics_model",yn),m(bn,"scene","instance_kinematics_scene",Gn),v(at.animations,w),v(at.clips,k),v(at.controllers,J),v(at.images,Be),v(at.effects,Dt),v(at.materials,fe),v(at.cameras,Ge),v(at.lights,Y),v(at.geometries,Qe),v(at.visualScenes,kn),or(),st();var bt=Dr(r(bn,"scene")[0]);return jn.upAxis==="Z_UP"&&bt.quaternion.setFromEuler(new THREE.Euler(-Math.PI/2,0,0)),bt.scale.multiplyScalar(jn.unit),{animations:_e,kinematics:Fe,library:at,scene:bt}}};THREE.ColladaLoader=tRe;AFRAME.registerComponent("collada-model-legacy",{schema:{type:"asset"},init:function(){this.model=null,this.loader=new THREE.ColladaLoader},update:function(){var n=this,e=this.el,r=this.data,i=this.el.sceneEl.systems.renderer;r&&(this.remove(),this.loader.load(r,function(o){n.model=o.scene,n.model.traverse(function(s){if(s.isMesh){var l=s.material;l.color&&i.applyColorCorrection(l.color),l.map&&i.applyColorCorrection(l.map),l.emissive&&i.applyColorCorrection(l.emissive),l.emissiveMap&&i.applyColorCorrection(l.emissiveMap)}}),e.setObject3D("mesh",n.model),e.emit("model-loaded",{format:"collada",model:n.model})}))},remove:function(){this.model&&this.el.removeObject3D("mesh")}});var nRe=THREE.FBXLoader=function(){var n,e,r;function i(B){this.manager=B!==void 0?B:THREE.DefaultLoadingManager}i.prototype={constructor:i,crossOrigin:"anonymous",load:function(B,O,F,k){var z=this,G=THREE.LoaderUtils.extractUrlBase(B),j=new THREE.FileLoader(this.manager);j.setResponseType("arraybuffer"),j.load(B,function(Q){try{var X=z.parse(Q,G);O(X)}catch(J){setTimeout(function(){k&&k(J),z.manager.itemError(B)},0)}},F,k)},setCrossOrigin:function(B){return this.crossOrigin=B,this},parse:function(B,O){if(p(B))n=new c().parse(B);else{var F=T(B);if(!m(F))throw new Error("THREE.FBXLoader: Unknown format.");if(v(F)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+v(F));n=new u().parse(F)}var k=new THREE.TextureLoader(this.manager).setPath(O).setCrossOrigin(this.crossOrigin);return new o(k).parse(n)}};function o(B){this.textureLoader=B}o.prototype={constructor:o,parse:function(){e=this.parseConnections();var B=this.parseImages(),O=this.parseTextures(B),F=this.parseMaterials(O),k=this.parseDeformers(),z=new s().parse(k);return this.parseScene(k,z,F),r},parseConnections:function(){var B=new Map;if("Connections"in n){var O=n.Connections.connections;O.forEach(function(F){var k=F[0],z=F[1],G=F[2];B.has(k)||B.set(k,{parents:[],children:[]});var j={ID:z,relationship:G};B.get(k).parents.push(j),B.has(z)||B.set(z,{parents:[],children:[]});var Q={ID:k,relationship:G};B.get(z).children.push(Q)})}return B},parseImages:function(){var B={},O={};if("Video"in n.Objects){var F=n.Objects.Video;for(var k in F){var z=F[k],G=parseInt(k);if(B[G]=z.RelativeFilename||z.Filename,"Content"in z){var j=z.Content instanceof ArrayBuffer&&z.Content.byteLength>0,Q=typeof z.Content=="string"&&z.Content!=="";if(j||Q){var X=this.parseImage(F[k]);O[z.RelativeFilename||z.Filename]=X}}}}for(var G in B){var J=B[G];O[J]!==void 0?B[G]=O[J]:B[G]=B[G].split("\\").pop()}return B},parseImage:function(B){var O=B.Content,F=B.RelativeFilename||B.Filename,k=F.slice(F.lastIndexOf(".")+1).toLowerCase(),z;switch(k){case"bmp":z="image/bmp";break;case"jpg":case"jpeg":z="image/jpeg";break;case"png":z="image/png";break;case"tif":z="image/tiff";break;case"tga":if(typeof THREE.TGALoader!="function"){console.warn("FBXLoader: THREE.TGALoader is required to load TGA textures");return}else{THREE.Loader.Handlers.get(".tga")===null&&THREE.Loader.Handlers.add(/\.tga$/i,new THREE.TGALoader),z="image/tga";break}default:console.warn('FBXLoader: Image type "'+k+'" is not supported.');return}if(typeof O=="string")return"data:"+z+";base64,"+O;var G=new Uint8Array(O);return window.URL.createObjectURL(new Blob([G],{type:z}))},parseTextures:function(B){var O=new Map;if("Texture"in n.Objects){var F=n.Objects.Texture;for(var k in F){var z=this.parseTexture(F[k],B);O.set(parseInt(k),z)}}return O},parseTexture:function(B,O){var F=this.loadTexture(B,O);F.ID=B.id,F.name=B.attrName;var k=B.WrapModeU,z=B.WrapModeV,G=k!==void 0?k.value:0,j=z!==void 0?z.value:0;if(F.wrapS=G===0?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,F.wrapT=j===0?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,"Scaling"in B){var Q=B.Scaling.value;F.repeat.x=Q[0],F.repeat.y=Q[1]}return F},loadTexture:function(B,O){var F,k=this.textureLoader.path,z=e.get(B.id).children;z!==void 0&&z.length>0&&O[z[0].ID]!==void 0&&(F=O[z[0].ID],(F.indexOf("blob:")===0||F.indexOf("data:")===0)&&this.textureLoader.setPath(void 0));var G,j=B.FileName.slice(-3).toLowerCase();if(j==="tga"){var Q=THREE.Loader.Handlers.get(".tga");Q===null?(console.warn("FBXLoader: TGALoader not found, creating empty placeholder texture for",F),G=new THREE.Texture):G=Q.load(F)}else j==="psd"?(console.warn("FBXLoader: PSD textures are not supported, creating empty placeholder texture for",F),G=new THREE.Texture):G=this.textureLoader.load(F);return this.textureLoader.setPath(k),G},parseMaterials:function(B){var O=new Map;if("Material"in n.Objects){var F=n.Objects.Material;for(var k in F){var z=this.parseMaterial(F[k],B);z!==null&&O.set(parseInt(k),z)}}return O},parseMaterial:function(B,O){var F=B.id,k=B.attrName,z=B.ShadingModel;if(typeof z=="object"&&(z=z.value),!e.has(F))return null;var G=this.parseParameters(B,O,F),j;switch(z.toLowerCase()){case"phong":j=new THREE.MeshPhongMaterial;break;case"lambert":j=new THREE.MeshLambertMaterial;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',z),j=new THREE.MeshPhongMaterial({color:3342591});break}return j.setValues(G),j.name=k,j},parseParameters:function(B,O,F){var k={};B.BumpFactor&&(k.bumpScale=B.BumpFactor.value),B.Diffuse?k.color=new THREE.Color().fromArray(B.Diffuse.value):B.DiffuseColor&&B.DiffuseColor.type==="Color"&&(k.color=new THREE.Color().fromArray(B.DiffuseColor.value)),B.DisplacementFactor&&(k.displacementScale=B.DisplacementFactor.value),B.Emissive?k.emissive=new THREE.Color().fromArray(B.Emissive.value):B.EmissiveColor&&B.EmissiveColor.type==="Color"&&(k.emissive=new THREE.Color().fromArray(B.EmissiveColor.value)),B.EmissiveFactor&&(k.emissiveIntensity=parseFloat(B.EmissiveFactor.value)),B.Opacity&&(k.opacity=parseFloat(B.Opacity.value)),k.opacity<1&&(k.transparent=!0),B.ReflectionFactor&&(k.reflectivity=B.ReflectionFactor.value),B.Shininess&&(k.shininess=B.Shininess.value),B.Specular?k.specular=new THREE.Color().fromArray(B.Specular.value):B.SpecularColor&&B.SpecularColor.type==="Color"&&(k.specular=new THREE.Color().fromArray(B.SpecularColor.value));var z=this;return e.get(F).children.forEach(function(G){var j=G.relationship;switch(j){case"Bump":k.bumpMap=z.getTexture(O,G.ID);break;case"DiffuseColor":k.map=z.getTexture(O,G.ID);break;case"DisplacementColor":k.displacementMap=z.getTexture(O,G.ID);break;case"EmissiveColor":k.emissiveMap=z.getTexture(O,G.ID);break;case"NormalMap":k.normalMap=z.getTexture(O,G.ID);break;case"ReflectionColor":k.envMap=z.getTexture(O,G.ID),k.envMap.mapping=THREE.EquirectangularReflectionMapping;break;case"SpecularColor":k.specularMap=z.getTexture(O,G.ID);break;case"TransparentColor":k.alphaMap=z.getTexture(O,G.ID),k.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",j);break}}),k},getTexture:function(B,O){return"LayeredTexture"in n.Objects&&O in n.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),O=e.get(O).children[0].ID),B.get(O)},parseDeformers:function(){var B={},O={};if("Deformer"in n.Objects){var F=n.Objects.Deformer;for(var k in F){var z=F[k],G=e.get(parseInt(k));if(z.attrType==="Skin"){var j=this.parseSkeleton(G,F);j.ID=k,G.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),j.geometryID=G.parents[0].ID,B[k]=j}else if(z.attrType==="BlendShape"){var Q={id:k};Q.rawTargets=this.parseMorphTargets(G,F),Q.id=k,G.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),O[k]=Q}}}return{skeletons:B,morphTargets:O}},parseSkeleton:function(B,O){var F=[];return B.children.forEach(function(k){var z=O[k.ID];if(z.attrType==="Cluster"){var G={ID:k.ID,indices:[],weights:[],transform:new THREE.Matrix4().fromArray(z.Transform.a),transformLink:new THREE.Matrix4().fromArray(z.TransformLink.a),linkMode:z.Mode};"Indexes"in z&&(G.indices=z.Indexes.a,G.weights=z.Weights.a),F.push(G)}}),{rawBones:F,bones:[]}},parseMorphTargets:function(B,O){for(var F=[],k=0;k<B.children.length;k++){if(k===8){console.warn("FBXLoader: maximum of 8 morph targets supported. Ignoring additional targets.");break}var z=B.children[k],G=O[z.ID],j={name:G.attrName,initialWeight:G.DeformPercent,id:G.id,fullWeights:G.FullWeights.a};if(G.attrType!=="BlendShapeChannel")return;var Q=e.get(parseInt(z.ID));Q.children.forEach(function(X){X.relationship===void 0&&(j.geoID=X.ID)}),F.push(j)}return F},parseScene:function(B,O,F){r=new THREE.Group;var k=this.parseModels(B.skeletons,O,F),z=n.Objects.Model,G=this;k.forEach(function(Q){var X=z[Q.ID];G.setLookAtProperties(Q,X);var J=e.get(Q.ID).parents;J.forEach(function(Z){var oe=k.get(Z.ID);oe!==void 0&&oe.add(Q)}),Q.parent===null&&r.add(Q)}),this.bindSkeleton(B.skeletons,O,k),this.createAmbientLight(),this.setupMorphMaterials();var j=new l().parse();r.children.length===1&&r.children[0].isGroup&&(r.children[0].animations=j,r=r.children[0]),r.animations=j},parseModels:function(B,O,F){var k=new Map,z=n.Objects.Model;for(var G in z){var j=parseInt(G),Q=z[G],X=e.get(j),J=this.buildSkeleton(X,B,j,Q.attrName);if(!J){switch(Q.attrType){case"Camera":J=this.createCamera(X);break;case"Light":J=this.createLight(X);break;case"Mesh":J=this.createMesh(X,O,F);break;case"NurbsCurve":J=this.createCurve(X,O);break;case"LimbNode":case"Null":default:J=new THREE.Group;break}J.name=THREE.PropertyBinding.sanitizeNodeName(Q.attrName),J.ID=j}this.setModelTransforms(J,Q),k.set(j,J)}return k},buildSkeleton:function(B,O,F,k){var z=null;return B.parents.forEach(function(G){for(var j in O){var Q=O[j];Q.rawBones.forEach(function(X,J){if(X.ID===G.ID){var Z=z;z=new THREE.Bone,z.matrixWorld.copy(X.transformLink),z.name=THREE.PropertyBinding.sanitizeNodeName(k),z.ID=F,Q.bones[J]=z,Z!==null&&z.add(Z)}})}}),z},createCamera:function(B){var O,F;if(B.children.forEach(function(oe){var ue=n.Objects.NodeAttribute[oe.ID];ue!==void 0&&(F=ue)}),F===void 0)O=new THREE.Object3D;else{var k=0;F.CameraProjectionType!==void 0&&F.CameraProjectionType.value===1&&(k=1);var z=1;F.NearPlane!==void 0&&(z=F.NearPlane.value/1e3);var G=1e3;F.FarPlane!==void 0&&(G=F.FarPlane.value/1e3);var j=window.innerWidth,Q=window.innerHeight;F.AspectWidth!==void 0&&F.AspectHeight!==void 0&&(j=F.AspectWidth.value,Q=F.AspectHeight.value);var X=j/Q,J=45;F.FieldOfView!==void 0&&(J=F.FieldOfView.value);var Z=F.FocalLength?F.FocalLength.value:null;switch(k){case 0:O=new THREE.PerspectiveCamera(J,X,z,G),Z!==null&&O.setFocalLength(Z);break;case 1:O=new THREE.OrthographicCamera(-j/2,j/2,Q/2,-Q/2,z,G);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+k+"."),O=new THREE.Object3D;break}}return O},createLight:function(B){var O,F;if(B.children.forEach(function(Z){var oe=n.Objects.NodeAttribute[Z.ID];oe!==void 0&&(F=oe)}),F===void 0)O=new THREE.Object3D;else{var k;F.LightType===void 0?k=0:k=F.LightType.value;var z=16777215;F.Color!==void 0&&(z=new THREE.Color().fromArray(F.Color.value));var G=F.Intensity===void 0?1:F.Intensity.value/100;F.CastLightOnObject!==void 0&&F.CastLightOnObject.value===0&&(G=0);var j=0;F.FarAttenuationEnd!==void 0&&(F.EnableFarAttenuation!==void 0&&F.EnableFarAttenuation.value===0?j=0:j=F.FarAttenuationEnd.value);var Q=1;switch(k){case 0:O=new THREE.PointLight(z,G,j,Q);break;case 1:O=new THREE.DirectionalLight(z,G);break;case 2:var X=Math.PI/3;F.InnerAngle!==void 0&&(X=THREE.Math.degToRad(F.InnerAngle.value));var J=0;F.OuterAngle!==void 0&&(J=THREE.Math.degToRad(F.OuterAngle.value),J=Math.max(J,1)),O=new THREE.SpotLight(z,G,j,X,J,Q);break;default:console.warn("THREE.FBXLoader: Unknown light type "+F.LightType.value+", defaulting to a THREE.PointLight."),O=new THREE.PointLight(z,G);break}F.CastShadows!==void 0&&F.CastShadows.value===1&&(O.castShadow=!0)}return O},createMesh:function(B,O,F){var k,z=null,G=null,j=[];return B.children.forEach(function(Q){O.has(Q.ID)&&(z=O.get(Q.ID)),F.has(Q.ID)&&j.push(F.get(Q.ID))}),j.length>1?G=j:j.length>0?G=j[0]:(G=new THREE.MeshPhongMaterial({color:13421772}),j.push(G)),"color"in z.attributes&&j.forEach(function(Q){Q.vertexColors=THREE.VertexColors}),z.FBX_Deformer?(j.forEach(function(Q){Q.skinning=!0}),k=new THREE.SkinnedMesh(z,G)):k=new THREE.Mesh(z,G),k},createCurve:function(B,O){var F=B.children.reduce(function(z,G){return O.has(G.ID)&&(z=O.get(G.ID)),z},null),k=new THREE.LineBasicMaterial({color:3342591,linewidth:1});return new THREE.Line(F,k)},setModelTransforms:function(B,O){var F={};"RotationOrder"in O&&(F.eulerOrder=parseInt(O.RotationOrder.value)),"Lcl_Translation"in O&&(F.translation=O.Lcl_Translation.value),"RotationOffset"in O&&(F.rotationOffset=O.RotationOffset.value),"Lcl_Rotation"in O&&(F.rotation=O.Lcl_Rotation.value),"PreRotation"in O&&(F.preRotation=O.PreRotation.value),"PostRotation"in O&&(F.postRotation=O.PostRotation.value),"Lcl_Scaling"in O&&(F.scale=O.Lcl_Scaling.value);var k=L(F);B.applyMatrix(k)},setLookAtProperties:function(B,O){if("LookAtProperty"in O){var F=e.get(B.ID).children;F.forEach(function(k){if(k.relationship==="LookAtProperty"){var z=n.Objects.Model[k.ID];if("Lcl_Translation"in z){var G=z.Lcl_Translation.value;B.target!==void 0?(B.target.position.fromArray(G),r.add(B.target)):B.lookAt(new THREE.Vector3().fromArray(G))}}})}},bindSkeleton:function(B,O,F){var k=this.parsePoseNodes();for(var z in B){var G=B[z],j=e.get(parseInt(G.ID)).parents;j.forEach(function(Q){if(O.has(Q.ID)){var X=Q.ID,J=e.get(X);J.parents.forEach(function(Z){if(F.has(Z.ID)){var oe=F.get(Z.ID);oe.bind(new THREE.Skeleton(G.bones),k[Z.ID])}})}})}},parsePoseNodes:function(){var B={};if("Pose"in n.Objects){var O=n.Objects.Pose;for(var F in O)if(O[F].attrType==="BindPose"){var k=O[F].PoseNode;Array.isArray(k)?k.forEach(function(z){B[z.Node]=new THREE.Matrix4().fromArray(z.Matrix.a)}):B[k.Node]=new THREE.Matrix4().fromArray(k.Matrix.a)}}return B},createAmbientLight:function(){if("GlobalSettings"in n&&"AmbientColor"in n.GlobalSettings){var B=n.GlobalSettings.AmbientColor.value,O=B[0],F=B[1],k=B[2];if(O!==0||F!==0||k!==0){var z=new THREE.Color(O,F,k);r.add(new THREE.AmbientLight(z,1))}}},setupMorphMaterials:function(){r.traverse(function(B){if(B.isMesh&&(B.geometry.morphAttributes.position||B.geometry.morphAttributes.normal)){var O=B.uuid,F=B.material.uuid,k=!1;r.traverse(function(z){z.isMesh&&z.material.uuid===F&&z.uuid!==O&&(k=!0)}),k===!0&&(B.material=B.material.clone()),B.material.morphTargets=!0}})}};function s(){}s.prototype={constructor:s,parse:function(B){var O=new Map;if("Geometry"in n.Objects){var F=n.Objects.Geometry;for(var k in F){var z=e.get(parseInt(k)),G=this.parseGeometry(z,F[k],B);O.set(parseInt(k),G)}}return O},parseGeometry:function(B,O,F){switch(O.attrType){case"Mesh":return this.parseMeshGeometry(B,O,F);case"NurbsCurve":return this.parseNurbsGeometry(O)}},parseMeshGeometry:function(B,O,F){var k=F.skeletons,z=F.morphTargets,G=B.parents.map(function(oe){return n.Objects.Model[oe.ID]});if(G.length!==0){var j=B.children.reduce(function(oe,ue){return k[ue.ID]!==void 0&&(oe=k[ue.ID]),oe},null),Q=B.children.reduce(function(oe,ue){return z[ue.ID]!==void 0&&(oe=z[ue.ID]),oe},null),X=G[0],J={};"RotationOrder"in X&&(J.eulerOrder=X.RotationOrder.value),"GeometricTranslation"in X&&(J.translation=X.GeometricTranslation.value),"GeometricRotation"in X&&(J.rotation=X.GeometricRotation.value),"GeometricScaling"in X&&(J.scale=X.GeometricScaling.value);var Z=L(J);return this.genGeometry(O,j,Q,Z)}},genGeometry:function(B,O,F,k){var z=new THREE.BufferGeometry;B.attrName&&(z.name=B.attrName);var G=this.parseGeoNode(B,O),j=this.genBuffers(G),Q=new THREE.Float32BufferAttribute(j.vertex,3);if(k.applyToBufferAttribute(Q),z.addAttribute("position",Q),j.colors.length>0&&z.addAttribute("color",new THREE.Float32BufferAttribute(j.colors,3)),O&&(z.addAttribute("skinIndex",new THREE.Uint16BufferAttribute(j.weightsIndices,4)),z.addAttribute("skinWeight",new THREE.Float32BufferAttribute(j.vertexWeights,4)),z.FBX_Deformer=O),j.normal.length>0){var X=new THREE.Float32BufferAttribute(j.normal,3),J=new THREE.Matrix3().getNormalMatrix(k);J.applyToBufferAttribute(X),z.addAttribute("normal",X)}if(j.uvs.forEach(function(ge,Ie){var He="uv"+(Ie+1).toString();Ie===0&&(He="uv"),z.addAttribute(He,new THREE.Float32BufferAttribute(j.uvs[Ie],2))}),G.material&&G.material.mappingType!=="AllSame"){var Z=j.materialIndex[0],oe=0;if(j.materialIndex.forEach(function(ge,Ie){ge!==Z&&(z.addGroup(oe,Ie-oe,Z),Z=ge,oe=Ie)}),z.groups.length>0){var ue=z.groups[z.groups.length-1],Be=ue.start+ue.count;Be!==j.materialIndex.length&&z.addGroup(Be,j.materialIndex.length-Be,Z)}z.groups.length===0&&z.addGroup(0,j.materialIndex.length,j.materialIndex[0])}return this.addMorphTargets(z,B,F,k),z},parseGeoNode:function(B,O){var F={};if(F.vertexPositions=B.Vertices!==void 0?B.Vertices.a:[],F.vertexIndices=B.PolygonVertexIndex!==void 0?B.PolygonVertexIndex.a:[],B.LayerElementColor&&(F.color=this.parseVertexColors(B.LayerElementColor[0])),B.LayerElementMaterial&&(F.material=this.parseMaterialIndices(B.LayerElementMaterial[0])),B.LayerElementNormal&&(F.normal=this.parseNormals(B.LayerElementNormal[0])),B.LayerElementUV){F.uv=[];for(var k=0;B.LayerElementUV[k];)F.uv.push(this.parseUVs(B.LayerElementUV[k])),k++}return F.weightTable={},O!==null&&(F.skeleton=O,O.rawBones.forEach(function(z,G){z.indices.forEach(function(j,Q){F.weightTable[j]===void 0&&(F.weightTable[j]=[]),F.weightTable[j].push({id:G,weight:z.weights[Q]})})})),F},genBuffers:function(B){var O={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]},F=0,k=0,z=!1,G=[],j=[],Q=[],X=[],J=[],Z=[],oe=this;return B.vertexIndices.forEach(function(ue,Be){var ge=!1;ue<0&&(ue=ue^-1,ge=!0);var Ie=[],He=[];if(G.push(ue*3,ue*3+1,ue*3+2),B.color){var Ze=b(Be,F,ue,B.color);Q.push(Ze[0],Ze[1],Ze[2])}if(B.skeleton){if(B.weightTable[ue]!==void 0&&B.weightTable[ue].forEach(function(it){He.push(it.weight),Ie.push(it.id)}),He.length>4){z||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),z=!0);var Xe=[0,0,0,0],ke=[0,0,0,0];He.forEach(function(it,ft){var xt=it,At=Ie[ft];ke.forEach(function(Ct,Tt,Dt){if(xt>Ct){Dt[Tt]=xt,xt=Ct;var Yt=Xe[Tt];Xe[Tt]=At,At=Yt}})}),Ie=Xe,He=ke}for(;He.length<4;)He.push(0),Ie.push(0);for(var lt=0;lt<4;++lt)J.push(He[lt]),Z.push(Ie[lt])}if(B.normal){var Ze=b(Be,F,ue,B.normal);j.push(Ze[0],Ze[1],Ze[2])}if(B.material&&B.material.mappingType!=="AllSame")var ot=b(Be,F,ue,B.material)[0];B.uv&&B.uv.forEach(function(it,ft){var xt=b(Be,F,ue,it);X[ft]===void 0&&(X[ft]=[]),X[ft].push(xt[0]),X[ft].push(xt[1])}),k++,ge&&(oe.genFace(O,B,G,ot,j,Q,X,J,Z,k),F++,k=0,G=[],j=[],Q=[],X=[],J=[],Z=[])}),O},genFace:function(B,O,F,k,z,G,j,Q,X,J){for(var Z=2;Z<J;Z++)B.vertex.push(O.vertexPositions[F[0]]),B.vertex.push(O.vertexPositions[F[1]]),B.vertex.push(O.vertexPositions[F[2]]),B.vertex.push(O.vertexPositions[F[(Z-1)*3]]),B.vertex.push(O.vertexPositions[F[(Z-1)*3+1]]),B.vertex.push(O.vertexPositions[F[(Z-1)*3+2]]),B.vertex.push(O.vertexPositions[F[Z*3]]),B.vertex.push(O.vertexPositions[F[Z*3+1]]),B.vertex.push(O.vertexPositions[F[Z*3+2]]),O.skeleton&&(B.vertexWeights.push(Q[0]),B.vertexWeights.push(Q[1]),B.vertexWeights.push(Q[2]),B.vertexWeights.push(Q[3]),B.vertexWeights.push(Q[(Z-1)*4]),B.vertexWeights.push(Q[(Z-1)*4+1]),B.vertexWeights.push(Q[(Z-1)*4+2]),B.vertexWeights.push(Q[(Z-1)*4+3]),B.vertexWeights.push(Q[Z*4]),B.vertexWeights.push(Q[Z*4+1]),B.vertexWeights.push(Q[Z*4+2]),B.vertexWeights.push(Q[Z*4+3]),B.weightsIndices.push(X[0]),B.weightsIndices.push(X[1]),B.weightsIndices.push(X[2]),B.weightsIndices.push(X[3]),B.weightsIndices.push(X[(Z-1)*4]),B.weightsIndices.push(X[(Z-1)*4+1]),B.weightsIndices.push(X[(Z-1)*4+2]),B.weightsIndices.push(X[(Z-1)*4+3]),B.weightsIndices.push(X[Z*4]),B.weightsIndices.push(X[Z*4+1]),B.weightsIndices.push(X[Z*4+2]),B.weightsIndices.push(X[Z*4+3])),O.color&&(B.colors.push(G[0]),B.colors.push(G[1]),B.colors.push(G[2]),B.colors.push(G[(Z-1)*3]),B.colors.push(G[(Z-1)*3+1]),B.colors.push(G[(Z-1)*3+2]),B.colors.push(G[Z*3]),B.colors.push(G[Z*3+1]),B.colors.push(G[Z*3+2])),O.material&&O.material.mappingType!=="AllSame"&&(B.materialIndex.push(k),B.materialIndex.push(k),B.materialIndex.push(k)),O.normal&&(B.normal.push(z[0]),B.normal.push(z[1]),B.normal.push(z[2]),B.normal.push(z[(Z-1)*3]),B.normal.push(z[(Z-1)*3+1]),B.normal.push(z[(Z-1)*3+2]),B.normal.push(z[Z*3]),B.normal.push(z[Z*3+1]),B.normal.push(z[Z*3+2])),O.uv&&O.uv.forEach(function(oe,ue){B.uvs[ue]===void 0&&(B.uvs[ue]=[]),B.uvs[ue].push(j[ue][0]),B.uvs[ue].push(j[ue][1]),B.uvs[ue].push(j[ue][(Z-1)*2]),B.uvs[ue].push(j[ue][(Z-1)*2+1]),B.uvs[ue].push(j[ue][Z*2]),B.uvs[ue].push(j[ue][Z*2+1])})},addMorphTargets:function(B,O,F,k){if(F!==null){B.morphAttributes.position=[],B.morphAttributes.normal=[];var z=this;F.rawTargets.forEach(function(G){var j=n.Objects.Geometry[G.geoID];j!==void 0&&z.genMorphGeometry(B,O,j,k)})}},genMorphGeometry:function(B,O,F,k){var z=new THREE.BufferGeometry;F.attrName&&(z.name=F.attrName);for(var G=O.PolygonVertexIndex!==void 0?O.PolygonVertexIndex.a:[],j=O.Vertices!==void 0?O.Vertices.a.slice():[],Q=F.Vertices!==void 0?F.Vertices.a:[],X=F.Indexes!==void 0?F.Indexes.a:[],J=0;J<X.length;J++){var Z=X[J]*3;j[Z]+=Q[J*3],j[Z+1]+=Q[J*3+1],j[Z+2]+=Q[J*3+2]}var oe={vertexIndices:G,vertexPositions:j},ue=this.genBuffers(oe),Be=new THREE.Float32BufferAttribute(ue.vertex,3);Be.name=F.attrName,k.applyToBufferAttribute(Be),B.morphAttributes.position.push(Be)},parseNormals:function(B){var O=B.MappingInformationType,F=B.ReferenceInformationType,k=B.Normals.a,z=[];return F==="IndexToDirect"&&("NormalIndex"in B?z=B.NormalIndex.a:"NormalsIndex"in B&&(z=B.NormalsIndex.a)),{dataSize:3,buffer:k,indices:z,mappingType:O,referenceType:F}},parseUVs:function(B){var O=B.MappingInformationType,F=B.ReferenceInformationType,k=B.UV.a,z=[];return F==="IndexToDirect"&&(z=B.UVIndex.a),{dataSize:2,buffer:k,indices:z,mappingType:O,referenceType:F}},parseVertexColors:function(B){var O=B.MappingInformationType,F=B.ReferenceInformationType,k=B.Colors.a,z=[];return F==="IndexToDirect"&&(z=B.ColorIndex.a),{dataSize:4,buffer:k,indices:z,mappingType:O,referenceType:F}},parseMaterialIndices:function(B){var O=B.MappingInformationType,F=B.ReferenceInformationType;if(O==="NoMappingInformation")return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:F};for(var k=B.Materials.a,z=[],G=0;G<k.length;++G)z.push(G);return{dataSize:1,buffer:k,indices:z,mappingType:O,referenceType:F}},parseNurbsGeometry:function(B){if(THREE.NURBSCurve===void 0)return console.error("THREE.FBXLoader: The loader relies on THREE.NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new THREE.BufferGeometry;var O=parseInt(B.Order);if(isNaN(O))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",B.Order,B.id),new THREE.BufferGeometry;for(var F=O-1,k=B.KnotVector.a,z=[],G=B.Points.a,j=0,Q=G.length;j<Q;j+=4)z.push(new THREE.Vector4().fromArray(G,j));var X,J;if(B.Form==="Closed")z.push(z[0]);else if(B.Form==="Periodic"){X=F,J=k.length-1-X;for(var j=0;j<F;++j)z.push(z[j])}var Z=new THREE.NURBSCurve(F,k,z,X,J),oe=Z.getPoints(z.length*7),ue=new Float32Array(oe.length*3);oe.forEach(function(ge,Ie){ge.toArray(ue,Ie*3)});var Be=new THREE.BufferGeometry;return Be.addAttribute("position",new THREE.BufferAttribute(ue,3)),Be}};function l(){}l.prototype={constructor:l,parse:function(){var B=[],O=this.parseClips();if(O===void 0)return B;for(var F in O){var k=O[F],z=this.addClip(k);B.push(z)}return B},parseClips:function(){if(n.Objects.AnimationCurve!==void 0){var B=this.parseAnimationCurveNodes();this.parseAnimationCurves(B);var O=this.parseAnimationLayers(B),F=this.parseAnimStacks(O);return F}},parseAnimationCurveNodes:function(){var B=n.Objects.AnimationCurveNode,O=new Map;for(var F in B){var k=B[F];if(k.attrName.match(/S|R|T|DeformPercent/)!==null){var z={id:k.id,attr:k.attrName,curves:{}};O.set(z.id,z)}}return O},parseAnimationCurves:function(B){var O=n.Objects.AnimationCurve;for(var F in O){var k={id:O[F].id,times:O[F].KeyTime.a.map(y),values:O[F].KeyValueFloat.a},z=e.get(k.id);if(z!==void 0){var G=z.parents[0].ID,j=z.parents[0].relationship;j.match(/X/)?B.get(G).curves.x=k:j.match(/Y/)?B.get(G).curves.y=k:j.match(/Z/)?B.get(G).curves.z=k:j.match(/d|DeformPercent/)&&B.has(G)&&(B.get(G).curves.morph=k)}}},parseAnimationLayers:function(B){var O=n.Objects.AnimationLayer,F=new Map;for(var k in O){var z=[],G=e.get(parseInt(k));if(G!==void 0){var j=G.children,Q=this;j.forEach(function(X,J){if(B.has(X.ID)){var Z=B.get(X.ID);if(Z.curves.x!==void 0||Z.curves.y!==void 0||Z.curves.z!==void 0){if(z[J]===void 0){var oe;e.get(X.ID).parents.forEach(function(Ze){Ze.relationship!==void 0&&(oe=Ze.ID)});var ue=n.Objects.Model[oe.toString()],Be={modelName:THREE.PropertyBinding.sanitizeNodeName(ue.attrName),initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1],transform:Q.getModelAnimTransform(ue)};"PreRotation"in ue&&(Be.preRotations=ue.PreRotation.value),"PostRotation"in ue&&(Be.postRotations=ue.PostRotation.value),z[J]=Be}z[J][Z.attr]=Z}else if(Z.curves.morph!==void 0){if(z[J]===void 0){var ge;e.get(X.ID).parents.forEach(function(lt){lt.relationship!==void 0&&(ge=lt.ID)});var Ie=e.get(ge).parents[0].ID,He=e.get(Ie).parents[0].ID,oe=e.get(He).parents[0].ID,ue=n.Objects.Model[oe],Be={modelName:THREE.PropertyBinding.sanitizeNodeName(ue.attrName),morphName:n.Objects.Deformer[ge].attrName};z[J]=Be}z[J][Z.attr]=Z}}}),F.set(parseInt(k),z)}}return F},getModelAnimTransform:function(B){var O={};return"RotationOrder"in B&&(O.eulerOrder=parseInt(B.RotationOrder.value)),"Lcl_Translation"in B&&(O.translation=B.Lcl_Translation.value),"RotationOffset"in B&&(O.rotationOffset=B.RotationOffset.value),"Lcl_Rotation"in B&&(O.rotation=B.Lcl_Rotation.value),"PreRotation"in B&&(O.preRotation=B.PreRotation.value),"PostRotation"in B&&(O.postRotation=B.PostRotation.value),"Lcl_Scaling"in B&&(O.scale=B.Lcl_Scaling.value),L(O)},parseAnimStacks:function(B){var O=n.Objects.AnimationStack,F={};for(var k in O){var z=e.get(parseInt(k)).children;z.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");var G=B.get(z[0].ID);F[k]={name:O[k].attrName,layer:G}}return F},addClip:function(B){var O=[],F=this;return B.layer.forEach(function(k){O=O.concat(F.generateTracks(k))}),new THREE.AnimationClip(B.name,-1,O)},generateTracks:function(B){var O=[],F=new THREE.Vector3,k=new THREE.Quaternion,z=new THREE.Vector3;if(B.transform&&B.transform.decompose(F,k,z),F=F.toArray(),k=new THREE.Euler().setFromQuaternion(k).toArray(),z=z.toArray(),B.T!==void 0&&Object.keys(B.T.curves).length>0){var G=this.generateVectorTrack(B.modelName,B.T.curves,F,"position");G!==void 0&&O.push(G)}if(B.R!==void 0&&Object.keys(B.R.curves).length>0){var j=this.generateRotationTrack(B.modelName,B.R.curves,k,B.preRotations,B.postRotations);j!==void 0&&O.push(j)}if(B.S!==void 0&&Object.keys(B.S.curves).length>0){var Q=this.generateVectorTrack(B.modelName,B.S.curves,z,"scale");Q!==void 0&&O.push(Q)}if(B.DeformPercent!==void 0){var X=this.generateMorphTrack(B);X!==void 0&&O.push(X)}return O},generateVectorTrack:function(B,O,F,k){var z=this.getTimesForAllAxes(O),G=this.getKeyframeTrackValues(z,O,F);return new THREE.VectorKeyframeTrack(B+"."+k,z,G)},generateRotationTrack:function(B,O,F,k,z){O.x!==void 0&&(this.interpolateRotations(O.x),O.x.values=O.x.values.map(THREE.Math.degToRad)),O.y!==void 0&&(this.interpolateRotations(O.y),O.y.values=O.y.values.map(THREE.Math.degToRad)),O.z!==void 0&&(this.interpolateRotations(O.z),O.z.values=O.z.values.map(THREE.Math.degToRad));var G=this.getTimesForAllAxes(O),j=this.getKeyframeTrackValues(G,O,F);k!==void 0&&(k=k.map(THREE.Math.degToRad),k.push("ZYX"),k=new THREE.Euler().fromArray(k),k=new THREE.Quaternion().setFromEuler(k)),z!==void 0&&(z=z.map(THREE.Math.degToRad),z.push("ZYX"),z=new THREE.Euler().fromArray(z),z=new THREE.Quaternion().setFromEuler(z).inverse());for(var Q=new THREE.Quaternion,X=new THREE.Euler,J=[],Z=0;Z<j.length;Z+=3)X.set(j[Z],j[Z+1],j[Z+2],"ZYX"),Q.setFromEuler(X),k!==void 0&&Q.premultiply(k),z!==void 0&&Q.multiply(z),Q.toArray(J,Z/3*4);return new THREE.QuaternionKeyframeTrack(B+".quaternion",G,J)},generateMorphTrack:function(B){var O=B.DeformPercent.curves.morph,F=O.values.map(function(z){return z/100}),k=r.getObjectByName(B.modelName).morphTargetDictionary[B.morphName];return new THREE.NumberKeyframeTrack(B.modelName+".morphTargetInfluences["+k+"]",O.times,F)},getTimesForAllAxes:function(B){var O=[];return B.x!==void 0&&(O=O.concat(B.x.times)),B.y!==void 0&&(O=O.concat(B.y.times)),B.z!==void 0&&(O=O.concat(B.z.times)),O=O.sort(function(F,k){return F-k}).filter(function(F,k,z){return z.indexOf(F)==k}),O},getKeyframeTrackValues:function(B,O,F){var k=F,z=[],G=-1,j=-1,Q=-1;return B.forEach(function(X){if(O.x&&(G=O.x.times.indexOf(X)),O.y&&(j=O.y.times.indexOf(X)),O.z&&(Q=O.z.times.indexOf(X)),G!==-1){var J=O.x.values[G];z.push(J),k[0]=J}else z.push(k[0]);if(j!==-1){var Z=O.y.values[j];z.push(Z),k[1]=Z}else z.push(k[1]);if(Q!==-1){var oe=O.z.values[Q];z.push(oe),k[2]=oe}else z.push(k[2])}),z},interpolateRotations:function(B){for(var O=1;O<B.values.length;O++){var F=B.values[O-1],k=B.values[O]-F,z=Math.abs(k);if(z>=180){for(var G=z/180,j=k/G,Q=F+j,X=B.times[O-1],J=B.times[O]-X,Z=J/G,oe=X+Z,ue=[],Be=[];oe<B.times[O];)ue.push(oe),oe+=Z,Be.push(Q),Q+=j;B.times=V(B.times,O,ue),B.values=V(B.values,O,Be)}}}};function u(){}u.prototype={constructor:u,getPrevNode:function(){return this.nodeStack[this.currentIndent-2]},getCurrentNode:function(){return this.nodeStack[this.currentIndent-1]},getCurrentProp:function(){return this.currentProp},pushStack:function(B){this.nodeStack.push(B),this.currentIndent+=1},popStack:function(){this.nodeStack.pop(),this.currentIndent-=1},setCurrentProp:function(B,O){this.currentProp=B,this.currentPropName=O},parse:function(B){this.currentIndent=0,console.log("FBXTree: ",h),this.allNodes=new h,this.nodeStack=[],this.currentProp=[],this.currentPropName="";var O=this,F=B.split(/[\r\n]+/);return F.forEach(function(k,z){var G=k.match(/^[\s\t]*;/),j=k.match(/^[\s\t]*$/);if(!(G||j)){var Q=k.match("^\\t{"+O.currentIndent+"}(\\w+):(.*){",""),X=k.match("^\\t{"+O.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),J=k.match("^\\t{"+(O.currentIndent-1)+"}}");Q?O.parseNodeBegin(k,Q):X?O.parseNodeProperty(k,X,F[++z]):J?O.popStack():k.match(/^[^\s\t}]/)&&O.parseNodePropertyContinued(k)}}),this.allNodes},parseNodeBegin:function(B,O){var F=O[1].trim().replace(/^"/,"").replace(/"$/,""),k=O[2].split(",").map(function(Q){return Q.trim().replace(/^"/,"").replace(/"$/,"")}),z={name:F},G=this.parseNodeAttr(k),j=this.getCurrentNode();this.currentIndent===0?this.allNodes.add(F,z):F in j?(F==="PoseNode"?j.PoseNode.push(z):j[F].id!==void 0&&(j[F]={},j[F][j[F].id]=j[F]),G.id!==""&&(j[F][G.id]=z)):typeof G.id=="number"?(j[F]={},j[F][G.id]=z):F!=="Properties70"&&(F==="PoseNode"?j[F]=[z]:j[F]=z),typeof G.id=="number"&&(z.id=G.id),G.name!==""&&(z.attrName=G.name),G.type!==""&&(z.attrType=G.type),this.pushStack(z)},parseNodeAttr:function(B){var O=B[0];B[0]!==""&&(O=parseInt(B[0]),isNaN(O)&&(O=B[0]));var F="",k="";return B.length>1&&(F=B[1].replace(/^(\w+)::/,""),k=B[2]),{id:O,name:F,type:k}},parseNodeProperty:function(B,O,F){var k=O[1].replace(/^"/,"").replace(/"$/,"").trim(),z=O[2].replace(/^"/,"").replace(/"$/,"").trim();k==="Content"&&z===","&&(z=F.replace(/"/g,"").replace(/,$/,"").trim());var G=this.getCurrentNode(),j=G.name;if(j==="Properties70"){this.parseNodeSpecialProperty(B,k,z);return}if(k==="C"){var Q=z.split(",").slice(1),X=parseInt(Q[0]),J=parseInt(Q[1]),Z=z.split(",").slice(3);Z=Z.map(function(oe){return oe.trim().replace(/^"/,"")}),k="connections",z=[X,J],D(z,Z),G[k]===void 0&&(G[k]=[])}k==="Node"&&(G.id=z),k in G&&Array.isArray(G[k])?G[k].push(z):k!=="a"?G[k]=z:G.a=z,this.setCurrentProp(G,k),k==="a"&&z.slice(-1)!==","&&(G.a=P(z))},parseNodePropertyContinued:function(B){var O=this.getCurrentNode();O.a+=B,B.slice(-1)!==","&&(O.a=P(O.a))},parseNodeSpecialProperty:function(B,O,F){var k=F.split('",').map(function(J){return J.trim().replace(/^\"/,"").replace(/\s/,"_")}),z=k[0],G=k[1],j=k[2],Q=k[3],X=k[4];switch(G){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":X=parseFloat(X);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":X=P(X);break}this.getPrevNode()[z]={type:G,type2:j,flag:Q,value:X},this.setCurrentProp(this.getPrevNode(),z)}};function c(){}c.prototype={constructor:c,parse:function(B){var O=new d(B);O.skip(23);var F=O.getUint32();console.log("THREE.FBXLoader: FBX binary version: "+F);for(var k=new h;!this.endOfContent(O);){var z=this.parseNode(O,F);z!==null&&k.add(z.name,z)}return k},endOfContent:function(B){return B.size()%16===0?(B.getOffset()+160+16&-16)>=B.size():B.getOffset()+160+16>=B.size()},parseNode:function(B,O){var F={},k=O>=7500?B.getUint64():B.getUint32(),z=O>=7500?B.getUint64():B.getUint32();O>=7500?B.getUint64():B.getUint32();var G=B.getUint8(),j=B.getString(G);if(k===0)return null;for(var Q=[],X=0;X<z;X++)Q.push(this.parseProperty(B));var J=Q.length>0?Q[0]:"",Z=Q.length>1?Q[1]:"",oe=Q.length>2?Q[2]:"";for(F.singleProperty=z===1&&B.getOffset()===k;k>B.getOffset();){var ue=this.parseNode(B,O);ue!==null&&this.parseSubNode(j,F,ue)}return F.propertyList=Q,typeof J=="number"&&(F.id=J),Z!==""&&(F.attrName=Z),oe!==""&&(F.attrType=oe),j!==""&&(F.name=j),F},parseSubNode:function(B,O,F){if(F.singleProperty===!0){var k=F.propertyList[0];Array.isArray(k)?(O[F.name]=F,F.a=k):O[F.name]=k}else if(B==="Connections"&&F.name==="C"){var z=[];F.propertyList.forEach(function(oe,ue){ue!==0&&z.push(oe)}),O.connections===void 0&&(O.connections=[]),O.connections.push(z)}else if(F.name==="Properties70"){var G=Object.keys(F);G.forEach(function(oe){O[oe]=F[oe]})}else if(B==="Properties70"&&F.name==="P"){var j=F.propertyList[0],Q=F.propertyList[1],X=F.propertyList[2],J=F.propertyList[3],Z;j.indexOf("Lcl ")===0&&(j=j.replace("Lcl ","Lcl_")),Q.indexOf("Lcl ")===0&&(Q=Q.replace("Lcl ","Lcl_")),Q==="Color"||Q==="ColorRGB"||Q==="Vector"||Q==="Vector3D"||Q.indexOf("Lcl_")===0?Z=[F.propertyList[4],F.propertyList[5],F.propertyList[6]]:Z=F.propertyList[4],O[j]={type:Q,type2:X,flag:J,value:Z}}else O[F.name]===void 0?typeof F.id=="number"?(O[F.name]={},O[F.name][F.id]=F):O[F.name]=F:F.name==="PoseNode"?(Array.isArray(O[F.name])||(O[F.name]=[O[F.name]]),O[F.name].push(F)):O[F.name][F.id]===void 0&&(O[F.name][F.id]=F)},parseProperty:function(B){var O=B.getString(1);switch(O){case"C":return B.getBoolean();case"D":return B.getFloat64();case"F":return B.getFloat32();case"I":return B.getInt32();case"L":return B.getInt64();case"R":var F=B.getUint32();return B.getArrayBuffer(F);case"S":var F=B.getUint32();return B.getString(F);case"Y":return B.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":var k=B.getUint32(),z=B.getUint32(),G=B.getUint32();if(z===0)switch(O){case"b":case"c":return B.getBooleanArray(k);case"d":return B.getFloat64Array(k);case"f":return B.getFloat32Array(k);case"i":return B.getInt32Array(k);case"l":return B.getInt64Array(k)}typeof Zlib>"u"&&console.error("THREE.FBXLoader: External library Inflate.min.js required, obtain or import from https://github.com/imaya/zlib.js");var j=new Zlib.Inflate(new Uint8Array(B.getArrayBuffer(G))),Q=new d(j.decompress().buffer);switch(O){case"b":case"c":return Q.getBooleanArray(k);case"d":return Q.getFloat64Array(k);case"f":return Q.getFloat32Array(k);case"i":return Q.getInt32Array(k);case"l":return Q.getInt64Array(k)}default:throw new Error("THREE.FBXLoader: Unknown property type "+O)}}};function d(B,O){this.dv=new DataView(B),this.offset=0,this.littleEndian=O!==void 0?O:!0}d.prototype={constructor:d,getOffset:function(){return this.offset},size:function(){return this.dv.buffer.byteLength},skip:function(B){this.offset+=B},getBoolean:function(){return(this.getUint8()&1)===1},getBooleanArray:function(B){for(var O=[],F=0;F<B;F++)O.push(this.getBoolean());return O},getUint8:function(){var B=this.dv.getUint8(this.offset);return this.offset+=1,B},getInt16:function(){var B=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,B},getInt32:function(){var B=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,B},getInt32Array:function(B){for(var O=[],F=0;F<B;F++)O.push(this.getInt32());return O},getUint32:function(){var B=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,B},getInt64:function(){var B,O;return this.littleEndian?(B=this.getUint32(),O=this.getUint32()):(O=this.getUint32(),B=this.getUint32()),O&2147483648?(O=~O&4294967295,B=~B&4294967295,B===4294967295&&(O=O+1&4294967295),B=B+1&4294967295,-(O*4294967296+B)):O*4294967296+B},getInt64Array:function(B){for(var O=[],F=0;F<B;F++)O.push(this.getInt64());return O},getUint64:function(){var B,O;return this.littleEndian?(B=this.getUint32(),O=this.getUint32()):(O=this.getUint32(),B=this.getUint32()),O*4294967296+B},getFloat32:function(){var B=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,B},getFloat32Array:function(B){for(var O=[],F=0;F<B;F++)O.push(this.getFloat32());return O},getFloat64:function(){var B=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,B},getFloat64Array:function(B){for(var O=[],F=0;F<B;F++)O.push(this.getFloat64());return O},getArrayBuffer:function(B){var O=this.dv.buffer.slice(this.offset,this.offset+B);return this.offset+=B,O},getString:function(B){for(var O=[],F=0;F<B;F++)O[F]=this.getUint8();var k=O.indexOf(0);return k>=0&&(O=O.slice(0,k)),THREE.LoaderUtils.decodeText(new Uint8Array(O))}};function h(){}h.prototype={constructor:h,add:function(B,O){this[B]=O}};function p(B){var O="Kaydara FBX Binary  \0";return B.byteLength>=O.length&&O===T(B,0,O.length)}function m(B){var O=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"],F=0;function k(j){var Q=B[j-1];return B=B.slice(F+j),F++,Q}for(var z=0;z<O.length;++z){var G=k(1);if(G===O[z])return!1}return!0}function v(B){var O=/FBXVersion: (\d+)/,F=B.match(O);if(F){var k=parseInt(F[1]);return k}throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function y(B){return B/46186158e3}var A=[];function b(B,O,F,k){var z;switch(k.mappingType){case"ByPolygonVertex":z=B;break;case"ByPolygon":z=O;break;case"ByVertice":z=F;break;case"AllSame":z=k.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+k.mappingType)}k.referenceType==="IndexToDirect"&&(z=k.indices[z]);var G=z*k.dataSize,j=G+k.dataSize;return $(A,k.buffer,G,j)}var g=new THREE.Matrix4,w=new THREE.Euler,E=new THREE.Vector3,C=new THREE.Vector3,_=new THREE.Matrix4;function L(B){var O=new THREE.Matrix4;C.set(0,0,0),_.identity();var F=B.eulerOrder?R(B.eulerOrder):R(0);if(B.translation&&C.fromArray(B.translation),B.rotationOffset&&C.add(E.fromArray(B.rotationOffset)),B.rotation){var k=B.rotation.map(THREE.Math.degToRad);k.push(F),_.makeRotationFromEuler(w.fromArray(k))}if(B.preRotation){var k=B.preRotation.map(THREE.Math.degToRad);k.push(F),g.makeRotationFromEuler(w.fromArray(k)),_.premultiply(g)}if(B.postRotation){var k=B.postRotation.map(THREE.Math.degToRad);k.push(F),g.makeRotationFromEuler(w.fromArray(k)),g.getInverse(g),_.multiply(g)}return B.scale&&O.scale(E.fromArray(B.scale)),O.setPosition(C),O.multiply(_),O}function R(B){var O=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return B===6?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),O[0]):O[B]}function P(B){var O=B.split(",").map(function(F){return parseFloat(F)});return O}function T(B,O,F){return O===void 0&&(O=0),F===void 0&&(F=B.byteLength),THREE.LoaderUtils.decodeText(new Uint8Array(B,O,F))}function D(B,O){for(var F=0,k=B.length,z=O.length;F<z;F++,k++)B[k]=O[F]}function $(B,O,F,k){for(var z=F,G=0;z<k;z++,G++)B[G]=O[z];return B}function V(B,O,F){return B.slice(0,O).concat(F).concat(B.slice(O))}return i}();THREE.FBXLoader=nRe;AFRAME.registerComponent("fbx-model",{schema:{src:{type:"asset"},crossorigin:{default:""}},init:function(){this.model=null},update:function(){const n=this.data;if(!n.src)return;this.remove();const e=new THREE.FBXLoader;n.crossorigin&&e.setCrossOrigin(n.crossorigin),e.load(n.src,this.load.bind(this))},load:function(n){this.model=n,this.el.setObject3D("mesh",n),this.el.emit("model-loaded",{format:"fbx",model:n})},remove:function(){this.model&&this.el.removeObject3D("mesh")}});function rRe(){return"script_"+Date.now()+"_"+Math.ceil(Math.random()*1e5)}function iRe(n,e){var r=document.createElement("script");return r.type="text/javascript",r.async=!0,r.id=e,r.src=n,r}function J_(n){const e=document.getElementById(n),r=e.parentNode;try{r&&r.removeChild(e)}catch{}}function oRe(n){const e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)}function aRe(n,e,r){return new r(function(i,o){const s=e.timeout||5e3,l=rRe(),u=iRe(n,l),c=setTimeout(function(){o(new Error("Script request to "+n+" timed out")),J_(l)},s),d=function(h){clearTimeout(h)};u.addEventListener("load",function(h){i({ok:!0}),d(c),J_(l)}),u.addEventListener("error",function(h){o(new Error("Script request to "+n+" failed "+h)),d(c),J_(l)}),oRe(u)})}function sRe(n){return n=n||{},function(e,r){return r=r||{},aRe(e,r,n.Promise||Promise)}}var lRe=sRe;const cRe=lRe(),uRe="https://cdn.jsdelivr.net/gh/mrdoob/three.js@r86/examples/js/loaders/GLTFLoader.js",dRe=function(){let n;return function(){return n=n||cRe(uRe),n}}();AFRAME.registerComponent("gltf-model-legacy",{schema:{type:"model"},init:function(){this.model=null,this.loader=null,this.loaderPromise=dRe().then(()=>{this.loader=new THREE.GLTFLoader,this.loader.setCrossOrigin("Anonymous")})},update:function(){const n=this,e=this.el,r=this.data;r&&(this.remove(),this.loaderPromise.then(()=>{this.loader.load(r,function(o){n.model=o.scene,n.model.animations=o.animations,e.setObject3D("mesh",n.model),e.emit("model-loaded",{format:"gltf",model:n.model})})}))},remove:function(){this.model&&this.el.removeObject3D("mesh")}});AFRAME.registerComponent("object-model",{schema:{src:{type:"asset"},crossorigin:{default:""}},init:function(){this.model=null},update:function(){let n;const e=this.data;e.src&&(this.remove(),n=new THREE.ObjectLoader,e.crossorigin&&n.setCrossOrigin(e.crossorigin),n.load(e.src,r=>{r.traverse(i=>{i instanceof THREE.SkinnedMesh&&i.material&&(i.material.skinning=!!(i.geometry&&i.geometry.bones||[]).length)}),this.load(r)}))},load:function(n){this.model=n,this.el.setObject3D("mesh",n),this.el.emit("model-loaded",{format:"json",model:n})},remove:function(){this.model&&this.el.removeObject3D("mesh")}});AFRAME.registerComponent("checkpoint",{schema:{offset:{default:{x:0,y:0,z:0},type:"vec3"}},init:function(){this.active=!1,this.targetEl=null,this.fire=this.fire.bind(this),this.offset=new THREE.Vector3},update:function(){this.offset.copy(this.data.offset)},play:function(){this.el.addEventListener("click",this.fire)},pause:function(){this.el.removeEventListener("click",this.fire)},remove:function(){this.pause()},fire:function(){const n=this.el.sceneEl.querySelector("[checkpoint-controls]");if(!n)throw new Error("No `checkpoint-controls` component found.");n.components["checkpoint-controls"].setCheckpoint(this.el)},getOffset:function(){return this.offset.copy(this.data.offset)}});function fRe(n){return n?Array.isArray(n)?n:n.materials?n.materials:[n]:[]}function Gv(n,e,r,i){n&&(e=e||[],n.traverse(o=>{if(!o.isMesh)return;fRe(o.material).forEach(l=>{l&&!("envMap"in l)||e.length&&e.indexOf(l.name)===-1||(l.envMap=r,l.reflectivity=i,l.needsUpdate=!0)})}))}AFRAME.registerComponent("cube-env-map",{multiple:!0,schema:{path:{default:""},extension:{default:"jpg",oneOf:["jpg","png"]},format:{default:"RGBFormat",oneOf:["RGBFormat","RGBAFormat"]},enableBackground:{default:!1},reflectivity:{default:1,min:0,max:1},materials:{default:[]}},init:function(){const n=this.data;this.texture=new THREE.CubeTextureLoader().load([n.path+"posx."+n.extension,n.path+"negx."+n.extension,n.path+"posy."+n.extension,n.path+"negy."+n.extension,n.path+"posz."+n.extension,n.path+"negz."+n.extension]),this.texture.format=THREE[n.format],this.object3dsetHandler=()=>{const e=this.el.getObject3D("mesh"),r=this.data;Gv(e,r.materials,this.texture,r.reflectivity)},this.el.addEventListener("object3dset",this.object3dsetHandler)},update:function(n){const e=this.data,r=this.el.getObject3D("mesh");let i=[],o=[];if(e.materials.length&&(n.materials?(i=e.materials.filter(s=>!n.materials.includes(s)),o=n.materials.filter(s=>!e.materials.includes(s))):i=e.materials),i.length&&Gv(r,i,this.texture,e.reflectivity),o.length&&Gv(r,o,null,1),n.materials&&e.reflectivity!==n.reflectivity){const s=e.materials.filter(l=>n.materials.includes(l));s.length&&Gv(r,s,this.texture,e.reflectivity)}this.data.enableBackground&&!n.enableBackground?this.setBackground(this.texture):!this.data.enableBackground&&n.enableBackground&&this.setBackground(null)},remove:function(){this.el.removeEventListener("object3dset",this.object3dsetHandler);const n=this.el.getObject3D("mesh"),e=this.data;Gv(n,e.materials,null,1),e.enableBackground&&this.setBackground(null)},setBackground:function(n){this.el.sceneEl.object3D.background=n}});AFRAME.registerComponent("grab",{init:function(){this.system=this.el.sceneEl.systems.physics,this.GRABBED_STATE="grabbed",this.grabbing=!1,this.hitEl=null,this.physics=this.el.sceneEl.systems.physics,this.constraint=null,this.onHit=this.onHit.bind(this),this.onGripOpen=this.onGripOpen.bind(this),this.onGripClose=this.onGripClose.bind(this)},play:function(){const n=this.el;n.addEventListener("hit",this.onHit),n.addEventListener("gripdown",this.onGripClose),n.addEventListener("gripup",this.onGripOpen),n.addEventListener("trackpaddown",this.onGripClose),n.addEventListener("trackpadup",this.onGripOpen),n.addEventListener("triggerdown",this.onGripClose),n.addEventListener("triggerup",this.onGripOpen)},pause:function(){const n=this.el;n.removeEventListener("hit",this.onHit),n.removeEventListener("gripdown",this.onGripClose),n.removeEventListener("gripup",this.onGripOpen),n.removeEventListener("trackpaddown",this.onGripClose),n.removeEventListener("trackpadup",this.onGripOpen),n.removeEventListener("triggerdown",this.onGripClose),n.removeEventListener("triggerup",this.onGripOpen)},onGripClose:function(){this.grabbing=!0},onGripOpen:function(){const n=this.hitEl;this.grabbing=!1,n&&(n.removeState(this.GRABBED_STATE),this.hitEl=void 0,this.system.removeConstraint(this.constraint),this.constraint=null)},onHit:function(n){const e=n.detail.el;!e||e.is(this.GRABBED_STATE)||!this.grabbing||this.hitEl||(e.addState(this.GRABBED_STATE),this.hitEl=e,this.constraint=new CANNON.LockConstraint(this.el.body,e.body),this.system.addConstraint(this.constraint))}});const hRe=-9.8,pRe=-15;AFRAME.registerComponent("jump-ability",{dependencies:["velocity"],schema:{on:{default:"keydown:Space gamepadbuttondown:0"},playerHeight:{default:1.764},maxJumps:{default:1},distance:{default:5},debug:{default:!1}},init:function(){this.velocity=0,this.numJumps=0;const n=this.beginJump.bind(this),e=this.data.on.split(" ");this.bindings={};for(let r=0;r<e.length;r++)this.bindings[e[r]]=n,this.el.addEventListener(e[r],n);this.bindings.collide=this.onCollide.bind(this),this.el.addEventListener("collide",this.bindings.collide)},remove:function(){for(var n in this.bindings)this.bindings.hasOwnProperty(n)&&(this.el.removeEventListener(n,this.bindings[n]),delete this.bindings[n]);this.el.removeEventListener("collide",this.bindings.collide),delete this.bindings.collide},beginJump:function(){if(this.numJumps<this.data.maxJumps){const n=this.data,e=Math.sqrt(-2*n.distance*(hRe+pRe)),r=this.el.getAttribute("velocity");this.el.setAttribute("velocity",{x:r.x,y:e,z:r.z}),this.numJumps++,this.el.emit("jumpstart")}},onCollide:function(){this.numJumps>0&&this.el.emit("jumpend"),this.numJumps=0}});const s8=1e-6;AFRAME.registerComponent("kinematic-body",{dependencies:["velocity"],schema:{mass:{default:5},radius:{default:1.3},linearDamping:{default:.05},enableSlopes:{default:!0},enableJumps:{default:!1}},init:function(){this.system=this.el.sceneEl.systems.physics,this.system.addComponent(this);const n=this.el,e=this.data,r=new CANNON.Vec3().copy(n.object3D.getWorldPosition(new THREE.Vector3));this.body=new CANNON.Body({material:this.system.getMaterial("staticMaterial"),position:r,mass:e.mass,linearDamping:e.linearDamping,fixedRotation:!0}),this.body.addShape(new CANNON.Sphere(e.radius),new CANNON.Vec3(0,e.radius,0)),this.body.el=this.el,this.el.body=this.body,this.system.addBody(this.body),n.hasAttribute("wasd-controls")&&console.warn("[kinematic-body] Not compatible with wasd-controls, use movement-controls.")},remove:function(){this.system.removeBody(this.body),this.system.removeComponent(this),delete this.el.body},beforeStep:function(n,e){if(!e)return;const r=this.el,i=this.data,o=this.body;i.enableJumps||o.velocity.set(0,0,0),o.position.copy(r.getAttribute("position"))},step:function(){const n=new THREE.Vector3,e=new THREE.Vector3,r=new THREE.Vector3,i=new THREE.Vector3;return function(o,s){if(!s)return;let l=this.body,u=this.data,c=!1,d,h=-1/0,p,m=this.system.getContacts();s=Math.min(s,this.system.data.maxInterval*1e3),i.set(0,0,0),n.copy(this.el.getAttribute("velocity")),l.velocity.copy(n);for(var v=0,y;y=m[v];v++)if(y.enabled){if(l.id===y.bi.id)y.ni.negate(r);else if(l.id===y.bj.id)r.copy(y.ni);else continue;c=l.velocity.dot(r)<-s8,c&&r.y<=.5?n.projectOnPlane(r):r.y>.5&&(d=l.id===y.bi.id?Math.abs(y.rj.y+y.bj.position.y):Math.abs(y.ri.y+y.bi.position.y),d>h&&(h=d,i.copy(r),p=l.id===y.bi.id?y.bj:y.bi))}e.copy(n).normalize(),p&&(!u.enableJumps||e.y<.5)?(u.enableSlopes?i.y<1-s8&&i.copy(this.raycastToGround(p,i)):i.set(0,1,0),n.projectOnPlane(i)):this.system.driver.world&&n.add(this.system.driver.world.gravity.scale(s*4/1e3)),l.velocity.copy(n),this.el.setAttribute("velocity",l.velocity),this.el.setAttribute("position",l.position)}}(),raycastToGround:function(n,e){let r,i,o=this.body.position,s=this.body.position.clone();return r=new CANNON.Ray(o,s),r._updateDirection(),r.intersectBody(n),r.hasHit?(i=r.result.hitNormalWorld,Math.abs(i.y)>Math.abs(e.y)?i:e):e}});AFRAME.registerComponent("mesh-smooth",{init:function(){this.el.addEventListener("model-loaded",n=>{n.detail.model.traverse(e=>{e.isMesh&&e.geometry.computeVertexNormals()})})}});AFRAME.registerComponent("normal-material",{init:function(){this.material=new THREE.MeshNormalMaterial({flatShading:!0}),this.applyMaterial=this.applyMaterial.bind(this),this.el.addEventListener("object3dset",this.applyMaterial)},remove:function(){this.el.removeEventListener("object3dset",this.applyMaterial)},applyMaterial:function(){this.el.object3D.traverse(n=>{n.isMesh&&(n.material=this.material)})}});AFRAME.registerComponent("sphere-collider",{schema:{objects:{default:""},state:{default:"collided"},radius:{default:.05},watch:{default:!0}},init:function(){this.observer=null,this.els=[],this.collisions=[],this.handleHit=this.handleHit.bind(this),this.handleHitEnd=this.handleHitEnd.bind(this)},remove:function(){this.pause()},play:function(){const n=this.el.sceneEl;this.data.watch&&(this.observer=new MutationObserver(this.update.bind(this,null)),this.observer.observe(n,{childList:!0,subtree:!0}))},pause:function(){this.observer&&(this.observer.disconnect(),this.observer=null)},update:function(){const n=this.data;let e;n.objects?e=this.el.sceneEl.querySelectorAll(n.objects):e=this.el.sceneEl.children,this.els=Array.prototype.slice.call(e)},tick:function(){const n=new THREE.Vector3,e=new THREE.Vector3,r=new THREE.Vector3,i=new THREE.Vector3,o=new THREE.Box3,s=new Map;return function(){const l=this.el,u=this.data,c=l.getObject3D("mesh"),d=[];let h;if(!c)return;s.clear(),l.object3D.getWorldPosition(n),l.object3D.getWorldScale(r),h=u.radius*m(r),this.els.forEach(p),d.sort((v,y)=>s.get(v)>s.get(y)?1:-1).forEach(this.handleHit),d.length===0&&l.emit("hit",{el:null}),this.collisions.filter(v=>!s.has(v)).forEach(this.handleHitEnd),this.collisions=d;function p(v){let y,A,b,g;v.isEntity&&(A=v.getObject3D("mesh"),A&&(o.setFromObject(A).getSize(i),g=Math.max(i.x,i.y,i.z)/2,y=Math.sqrt(2*g*g),o.getCenter(e),y&&(b=n.distanceTo(e),b<y+h&&(d.push(v),s.set(v,b)))))}function m(v){return Math.max.apply(null,v.toArray())}}}(),handleHit:function(n){n.emit("hit"),n.addState(this.data.state),this.el.emit("hit",{el:n})},handleHitEnd:function(n){n.emit("hitend"),n.removeState(this.data.state),this.el.emit("hitend",{el:n})}});AFRAME.registerComponent("nav-mesh",{init:function(){this.system=this.el.sceneEl.systems.nav,this.hasLoadedNavMesh=!1,this.el.addEventListener("object3dset",this.loadNavMesh.bind(this))},play:function(){this.hasLoadedNavMesh||this.loadNavMesh()},loadNavMesh:function(){const n=this.el.getObject3D("mesh"),e=this.el.sceneEl.object3D;if(!n)return;let r;if(n.traverse(o=>{o.isMesh&&(r=o)}),!r)return;const i=r.geometry.isBufferGeometry?new THREE.Geometry().fromBufferGeometry(r.geometry):r.geometry.clone();e.updateMatrixWorld(),i.applyMatrix(r.matrixWorld),this.system.setNavMeshGeometry(i),this.hasLoadedNavMesh=!0}});AFRAME.registerComponent("nav-agent",{schema:{destination:{type:"vec3"},active:{default:!1},speed:{default:2}},init:function(){this.system=this.el.sceneEl.systems.nav,this.system.addAgent(this),this.group=null,this.path=[],this.raycaster=new THREE.Raycaster},remove:function(){this.system.removeAgent(this)},update:function(){this.path.length=0},updateNavLocation:function(){this.group=null,this.path=[]},tick:function(){const n=new THREE.Vector3,e=new THREE.Vector3,r=new THREE.Vector3;return function(i,o){const s=this.el,l=this.data,u=this.raycaster,c=l.speed*o/1e3;if(!l.active)return;if(!this.path.length){const y=this.el.object3D.position;this.group=this.group||this.system.getGroup(y),this.path=this.system.getPath(y,n.copy(l.destination),this.group)||[],s.emit("navigation-start")}if(!this.path.length){console.warn("[nav] Unable to find path to %o.",l.destination),this.el.setAttribute("nav-agent",{active:!1}),s.emit("navigation-end");return}const d=s.object3D.position,h=this.path[0];e.subVectors(h,d);const p=e.length();let m;if(p<c){if(this.path.shift(),!this.path.length){this.el.setAttribute("nav-agent",{active:!1}),s.emit("navigation-end");return}r.copy(d),m=this.path[0]}else r.copy(e.setLength(c)).add(d),m=h;m.y=d.y,s.object3D.lookAt(m),u.ray.origin.copy(r),u.ray.origin.y+=1.5,u.ray.direction.y=-1;const v=u.intersectObject(this.system.getNavMesh());v.length?(e.subVectors(v[0].point,d),d.add(e.setLength(c))):d.copy(r)}}()});var Bi=function(){};Bi.computeCentroids=function(n){var e,r,i;for(e=0,r=n.faces.length;e<r;e++)(i=n.faces[e]).centroid=new THREE.Vector3(0,0,0),i.centroid.add(n.vertices[i.a]),i.centroid.add(n.vertices[i.b]),i.centroid.add(n.vertices[i.c]),i.centroid.divideScalar(3)},Bi.roundNumber=function(n,e){return Number(n.toFixed(e))},Bi.sample=function(n){return n[Math.floor(Math.random()*n.length)]},Bi.mergeVertexIds=function(n,e){var r=[];if(n.forEach(function(c){e.indexOf(c)>=0&&r.push(c)}),r.length<2)return[];r.includes(n[0])&&r.includes(n[n.length-1])&&n.push(n.shift()),r.includes(e[0])&&r.includes(e[e.length-1])&&e.push(e.shift()),r=[],n.forEach(function(c){e.includes(c)&&r.push(c)});for(var i=r[1],o=r[0],s=n.slice();s[0]!==i;)s.push(s.shift());for(var l=0,u=e.slice();u[0]!==o;)if(u.push(u.shift()),l++>10)throw new Error("Unexpected state");return u.shift(),u.pop(),s=s.concat(u)},Bi.setPolygonCentroid=function(n,e){var r=new THREE.Vector3,i=e.vertices;n.vertexIds.forEach(function(o){r.add(i[o])}),r.divideScalar(n.vertexIds.length),n.centroid.copy(r)},Bi.cleanPolygon=function(n,e){for(var r=[],i=e.vertices,o=0;o<n.vertexIds.length;o++){var s,l,u,c=i[n.vertexIds[o]];o===0?(s=n.vertexIds[1],l=n.vertexIds[n.vertexIds.length-1]):o===n.vertexIds.length-1?(s=n.vertexIds[0],l=n.vertexIds[n.vertexIds.length-2]):(s=n.vertexIds[o+1],l=n.vertexIds[o-1]),u=i[l];var d=i[s].clone().sub(c),h=u.clone().sub(c),p=d.angleTo(h);if(p>Math.PI-.01&&p<Math.PI+.01){var m=[];n.neighbours.forEach(function(v){v.vertexIds.includes(n.vertexIds[o])||m.push(v)}),n.neighbours=m}else r.push(n.vertexIds[o])}n.vertexIds=r,this.setPolygonCentroid(n,e)},Bi.isConvex=function(n,e){var r=e.vertices;if(n.vertexIds.length<3)return!1;for(var i=!0,o=[],s=0;s<n.vertexIds.length;s++){var l,u,c=r[n.vertexIds[s]];s===0?(l=r[n.vertexIds[1]],u=r[n.vertexIds[n.vertexIds.length-1]]):s===n.vertexIds.length-1?(l=r[n.vertexIds[0]],u=r[n.vertexIds[n.vertexIds.length-2]]):(l=r[n.vertexIds[s+1]],u=r[n.vertexIds[s-1]]);var d=l.clone().sub(c),h=u.clone().sub(c),p=d.angleTo(h);if(p===Math.PI||p===0)return!1;var m=d.cross(h).y;o.push(m)}return o.forEach(function(v){v===0&&(i=!1)}),o.forEach(o[0]>0?function(v){v<0&&(i=!1)}:function(v){v>0&&(i=!1)}),i},Bi.distanceToSquared=function(n,e){var r=n.x-e.x,i=n.y-e.y,o=n.z-e.z;return r*r+i*i+o*o},Bi.isPointInPoly=function(n,e){for(var r=!1,i=-1,o=n.length,s=o-1;++i<o;s=i)(n[i].z<=e.z&&e.z<n[s].z||n[s].z<=e.z&&e.z<n[i].z)&&e.x<(n[s].x-n[i].x)*(e.z-n[i].z)/(n[s].z-n[i].z)+n[i].x&&(r=!r);return r},Bi.isVectorInPolygon=function(n,e,r){var i=1e5,o=-1e5,s=[];return e.vertexIds.forEach(function(l){i=Math.min(r[l].y,i),o=Math.max(r[l].y,o),s.push(r[l])}),!!(n.y<o+.5&&n.y>i-.5&&this.isPointInPoly(s,n))},Bi.triarea2=function(n,e,r){return(r.x-n.x)*(e.z-n.z)-(e.x-n.x)*(r.z-n.z)},Bi.vequal=function(n,e){return this.distanceToSquared(n,e)<1e-5};var Ad=function(n){this.content=[],this.scoreFunction=n};Ad.prototype.push=function(n){this.content.push(n),this.sinkDown(this.content.length-1)},Ad.prototype.pop=function(){var n=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),n},Ad.prototype.remove=function(n){var e=this.content.indexOf(n),r=this.content.pop();e!==this.content.length-1&&(this.content[e]=r,this.scoreFunction(r)<this.scoreFunction(n)?this.sinkDown(e):this.bubbleUp(e))},Ad.prototype.size=function(){return this.content.length},Ad.prototype.rescoreElement=function(n){this.sinkDown(this.content.indexOf(n))},Ad.prototype.sinkDown=function(n){for(var e=this.content[n];n>0;){var r=(n+1>>1)-1,i=this.content[r];if(!(this.scoreFunction(e)<this.scoreFunction(i)))break;this.content[r]=e,this.content[n]=i,n=r}},Ad.prototype.bubbleUp=function(n){for(var e=this.content.length,r=this.content[n],i=this.scoreFunction(r);;){var o=n+1<<1,s=o-1,l=null,u=void 0;if(s<e&&(u=this.scoreFunction(this.content[s]))<i&&(l=s),o<e&&this.scoreFunction(this.content[o])<(l===null?i:u)&&(l=o),l===null)break;this.content[n]=this.content[l],this.content[l]=r,n=l}};var zf=function(){};zf.init=function(n){for(var e=0;e<n.length;e++){var r=n[e];r.f=0,r.g=0,r.h=0,r.cost=1,r.visited=!1,r.closed=!1,r.parent=null}},zf.cleanUp=function(n){for(var e=0;e<n.length;e++){var r=n[e];delete r.f,delete r.g,delete r.h,delete r.cost,delete r.visited,delete r.closed,delete r.parent}},zf.heap=function(){return new Ad(function(n){return n.f})},zf.search=function(n,e,r){this.init(n);var i=this.heap();for(i.push(e);i.size()>0;){var o=i.pop();if(o===r){for(var s=o,l=[];s.parent;)l.push(s),s=s.parent;return this.cleanUp(l),l.reverse()}o.closed=!0;for(var u=this.neighbours(n,o),c=0,d=u.length;c<d;c++){var h=u[c];if(!h.closed){var p=o.g+h.cost,m=h.visited;if(!m||p<h.g){if(h.visited=!0,h.parent=o,!h.centroid||!r.centroid)throw new Error("Unexpected state");h.h=h.h||this.heuristic(h.centroid,r.centroid),h.g=p,h.f=h.g+h.h,m?i.rescoreElement(h):i.push(h)}}}}return[]},zf.heuristic=function(n,e){return Bi.distanceToSquared(n,e)},zf.neighbours=function(n,e){for(var r=[],i=0;i<e.neighbours.length;i++)r.push(n[e.neighbours[i]]);return r};var mRe=1,Hf=function(){};Hf.buildZone=function(n){var e=this,r=this._buildNavigationMesh(n),i={};r.vertices.forEach(function(l){l.x=Bi.roundNumber(l.x,2),l.y=Bi.roundNumber(l.y,2),l.z=Bi.roundNumber(l.z,2)}),i.vertices=r.vertices;var o=this._buildPolygonGroups(r);i.groups=[];var s=function(l,u){for(var c=0;c<l.length;c++)if(u===l[c])return c};return o.forEach(function(l){var u=[];l.forEach(function(c){var d=c.neighbours.map(function(p){return s(l,p)}),h=c.neighbours.map(function(p){return e._getSharedVerticesInOrder(c,p)});c.centroid.x=Bi.roundNumber(c.centroid.x,2),c.centroid.y=Bi.roundNumber(c.centroid.y,2),c.centroid.z=Bi.roundNumber(c.centroid.z,2),u.push({id:s(l,c),neighbours:d,vertexIds:c.vertexIds,centroid:c.centroid,portals:h})}),i.groups.push(u)}),i},Hf._buildNavigationMesh=function(n){return Bi.computeCentroids(n),n.mergeVertices(),this._buildPolygonsFromGeometry(n)},Hf._buildPolygonGroups=function(n){var e=[],r=0,i=function(o){o.neighbours.forEach(function(s){s.group===void 0&&(s.group=o.group,i(s))})};return n.polygons.forEach(function(o){o.group===void 0&&(o.group=r++,i(o)),e[o.group]||(e[o.group]=[]),e[o.group].push(o)}),e},Hf._buildPolygonNeighbours=function(n,e,r){var i=new Set,o=r.get(n.vertexIds[0]),s=r.get(n.vertexIds[1]),l=r.get(n.vertexIds[2]);o.forEach(function(u){(s.has(u)||l.has(u))&&i.add(e.polygons[u])}),s.forEach(function(u){l.has(u)&&i.add(e.polygons[u])}),n.neighbours=Array.from(i)},Hf._buildPolygonsFromGeometry=function(n){for(var e=this,r=[],i=n.vertices,o=n.faceVertexUvs,s=new Map,l=0;l<i.length;l++)s.set(l,new Set);n.faces.forEach(function(c){r.push({id:mRe++,vertexIds:[c.a,c.b,c.c],centroid:c.centroid,normal:c.normal,neighbours:[]}),s.get(c.a).add(r.length-1),s.get(c.b).add(r.length-1),s.get(c.c).add(r.length-1)});var u={polygons:r,vertices:i,faceVertexUvs:o};return r.forEach(function(c){e._buildPolygonNeighbours(c,u,s)}),u},Hf._getSharedVerticesInOrder=function(n,e){var r=n.vertexIds,i=e.vertexIds,o=new Set;if(r.forEach(function(l){i.includes(l)&&o.add(l)}),o.size<2)return[];o.has(r[0])&&o.has(r[r.length-1])&&r.push(r.shift()),o.has(i[0])&&o.has(i[i.length-1])&&i.push(i.shift());var s=[];return r.forEach(function(l){i.includes(l)&&s.push(l)}),s};var nR=function(){this.portals=[]};nR.prototype.push=function(n,e){e===void 0&&(e=n),this.portals.push({left:n,right:e})},nR.prototype.stringPull=function(){var n,e,r,i=this.portals,o=[],s=0,l=0,u=0;e=i[0].left,r=i[0].right,o.push(n=i[0].left);for(var c=1;c<i.length;c++){var d=i[c].left,h=i[c].right;if(Bi.triarea2(n,r,h)<=0){if(!(Bi.vequal(n,r)||Bi.triarea2(n,e,h)>0)){o.push(e),e=n=e,r=n,l=s=l,u=s,c=s;continue}r=h,u=c}if(Bi.triarea2(n,e,d)>=0){if(!(Bi.vequal(n,e)||Bi.triarea2(n,r,d)<0)){o.push(r),e=n=r,r=n,l=s=u,u=s,c=s;continue}e=d,l=c}}return o.length!==0&&Bi.vequal(o[o.length-1],i[i.length-1].left)||o.push(i[i.length-1].left),this.path=o,o};var Z_,eM,Of,tM,nM,x1,yd=function(){this.zones={}};yd.createZone=function(n){return Hf.buildZone(n)},yd.prototype.setZoneData=function(n,e){this.zones[n]=e},yd.prototype.getGroup=function(n,e){if(!this.zones[n])return null;var r=null,i=Math.pow(50,2);return this.zones[n].groups.forEach(function(o,s){o.forEach(function(l){var u=Bi.distanceToSquared(l.centroid,e);u<i&&(r=s,i=u)})}),r},yd.prototype.getRandomNode=function(n,e,r,i){if(!this.zones[n])return new THREE.Vector3;r=r||null,i=i||0;var o=[];return this.zones[n].groups[e].forEach(function(s){r&&i?Bi.distanceToSquared(r,s.centroid)<i*i&&o.push(s.centroid):o.push(s.centroid)}),Bi.sample(o)||new THREE.Vector3},yd.prototype.getClosestNode=function(n,e,r,i){i===void 0&&(i=!1);var o=this.zones[e].vertices,s=null,l=1/0;return this.zones[e].groups[r].forEach(function(u){var c=Bi.distanceToSquared(u.centroid,n);c<l&&(!i||Bi.isVectorInPolygon(n,u,o))&&(s=u,l=c)}),s},yd.prototype.findPath=function(n,e,r,i){var o=this.zones[r].groups[i],s=this.zones[r].vertices,l=this.getClosestNode(n,r,i),u=this.getClosestNode(e,r,i,!0);if(!l||!u)return null;var c=zf.search(o,l,u),d=function(A,b){for(var g=0;g<A.neighbours.length;g++)if(A.neighbours[g]===b.id)return A.portals[g]},h=new nR;h.push(n);for(var p=0;p<c.length;p++){var m=c[p+1];if(m){var v=d(c[p],m);h.push(s[v[0]],s[v[1]])}}h.push(e),h.stringPull();var y=h.path.map(function(A){return new THREE.Vector3(A.x,A.y,A.z)});return y.shift(),y},yd.prototype.clampStep=(Of=new THREE.Vector3,tM=new THREE.Plane,nM=new THREE.Triangle,x1=new THREE.Vector3,function(n,e,r,i,o,s){var l=this.zones[i].vertices,u=this.zones[i].groups[o],c=[r],d={};d[r.id]=0,Z_=void 0,x1.set(0,0,0),eM=1/0,tM.setFromCoplanarPoints(l[r.vertexIds[0]],l[r.vertexIds[1]],l[r.vertexIds[2]]),tM.projectPoint(e,Of),e.copy(Of);for(var h=c.pop();h;h=c.pop()){nM.set(l[h.vertexIds[0]],l[h.vertexIds[1]],l[h.vertexIds[2]]),nM.closestPointToPoint(e,Of),Of.distanceToSquared(e)<eM&&(Z_=h,x1.copy(Of),eM=Of.distanceToSquared(e));var p=d[h];if(!(p>2))for(var m=0;m<h.neighbours.length;m++){var v=u[h.neighbours[m]];v.id in d||(c.push(v),d[v.id]=p+1)}}return s.copy(x1),Z_});const gRe=Object.freeze(Object.defineProperty({__proto__:null,Pathfinding:yd},Symbol.toStringTag,{value:"Module"})),vRe=IR(gRe),{Pathfinding:dj}=vRe,jv=new dj,Vv="level";AFRAME.registerSystem("nav",{init:function(){this.navMesh=null,this.agents=new Set},setNavMeshGeometry:function(n){this.navMesh=new THREE.Mesh(n),jv.setZoneData(Vv,dj.createZone(n)),Array.from(this.agents).forEach(e=>e.updateNavLocation())},getNavMesh:function(){return this.navMesh},addAgent:function(n){this.agents.add(n)},removeAgent:function(n){this.agents.delete(n)},getPath:function(n,e,r){return this.navMesh?jv.findPath(n,e,Vv,r):null},getGroup:function(n){return this.navMesh?jv.getGroup(Vv,n):null},getNode:function(n,e){return this.navMesh?jv.getClosestNode(n,Vv,e,!0):null},clampStep:function(n,e,r,i,o){if(this.navMesh){if(!i)return o.copy(e),this.getNode(e,r)}else return o.copy(e),null;return jv.clampStep(n,e,i,Vv,r,o)}});AFRAME.registerPrimitive("a-grid",{defaultComponents:{geometry:{primitive:"plane",width:75,height:75},rotation:{x:-90,y:0,z:0},material:{src:"url(https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v1.16.3/assets/grid.png)",repeat:"75 75"}},mappings:{width:"geometry.width",height:"geometry.height",src:"material.src"}});var fj={exports:{}},gn=fj.exports={VERSION:"0.1.1",PI:Math.PI,TAU:2*Math.PI,DEG_TO_RAD:.0174532925,RAD_TO_DEG:57.2957795,SQRT3:Math.sqrt(3),TILE:"tile",ENT:"entity",STR:"structure",HEX:"hex",SQR:"square",ABS:"abstract"};gn.Board=function(n,e){if(!n)throw new Error("You must pass in a grid system for the board to use.");this.tiles=[],this.tileGroup=null,this.group=new THREE.Object3D,this.grid=null,this.overlay=null,this.finder=new gn.AStarFinder(e),gn.Loader.init(),this.setGrid(n)},gn.Board.prototype={setEntityOnTile:function(n,e){var r=this.grid.cellToPixel(e.cell);n.position.copy(r),n.position.y+=n.heightOffset||0,n.tile&&(n.tile.entity=null),n.tile=e,e.entity=n},addTile:function(n){var e=this.tiles.indexOf(n);e===-1&&(this.tiles.push(n),this.snapTileToGrid(n),n.position.y=0,this.tileGroup.add(n.mesh),this.grid.add(n.cell),n.cell.tile=n)},removeTile:function(n){if(n){var e=this.tiles.indexOf(n);this.grid.remove(n.cell),e!==-1&&this.tiles.splice(e,1),n.dispose()}},removeAllTiles:function(){if(this.tileGroup)for(var n=this.tileGroup.children,e=0;e<n.length;e++)this.tileGroup.remove(n[e])},getTileAtCell:function(n){var e=this.grid.cellToHash(n);return n.tile||(typeof this.grid.cells[e]<"u"?this.grid.cells[e].tile:null)},snapToGrid:function(n){var e=this.grid.pixelToCell(n);n.copy(this.grid.cellToPixel(e))},snapTileToGrid:function(n){if(n.cell)n.position.copy(this.grid.cellToPixel(n.cell));else{var e=this.grid.pixelToCell(n.position);n.position.copy(this.grid.cellToPixel(e))}return n},getRandomTile:function(){var n=gn.Tools.randomInt(0,this.tiles.length-1);return this.tiles[n]},findPath:function(n,e,r){return this.finder.findPath(n.cell,e.cell,r,this.grid)},setGrid:function(n){this.group.remove(this.tileGroup),this.grid&&n!==this.grid&&(this.removeAllTiles(),this.tiles.forEach(function(e){this.grid.remove(e.cell),e.dispose()}),this.grid.dispose()),this.grid=n,this.tiles=[],this.tileGroup=new THREE.Object3D,this.group.add(this.tileGroup)},generateOverlay:function(n){var e=new THREE.LineBasicMaterial({color:0,opacity:.3});this.overlay&&this.group.remove(this.overlay),this.overlay=new THREE.Object3D,this.grid.generateOverlay(n,this.overlay,e),this.group.add(this.overlay)},generateTilemap:function(n){this.reset();var e=this.grid.generateTiles(n);this.tiles=e,this.tileGroup=new THREE.Object3D;for(var r=0;r<e.length;r++)this.tileGroup.add(e[r].mesh);this.group.add(this.tileGroup)},reset:function(){this.removeAllTiles(),this.tileGroup&&this.group.remove(this.tileGroup)}},gn.Board.prototype.constructor=gn.Board,gn.Cell=function(n,e,r,i){this.q=n||0,this.r=e||0,this.s=r||0,this.h=i||1,this.tile=null,this.userData={},this.walkable=!0,this._calcCost=0,this._priority=0,this._visited=!1,this._parent=null,this.uniqueID=gn.LinkedList.generateID()},gn.Cell.prototype={set:function(n,e,r){return this.q=n,this.r=e,this.s=r,this},copy:function(n){return this.q=n.q,this.r=n.r,this.s=n.s,this.h=n.h,this.tile=n.tile||null,this.userData=n.userData||{},this.walkable=n.walkable,this},add:function(n){return this.q+=n.q,this.r+=n.r,this.s+=n.s,this},equals:function(n){return this.q===n.q&&this.r===n.r&&this.s===n.s}},gn.Cell.prototype.constructor=gn.Cell,gn.HexGrid=function(n){n=n||{},this.type=gn.HEX,this.size=5,this.cellSize=typeof n.cellSize>"u"?10:n.cellSize,this.cells={},this.numCells=0,this.extrudeSettings=null,this.autogenerated=!1;var e,r=[];for(e=0;6>e;e++)r.push(this._createVertex(e));for(this.cellShape=new THREE.Shape,this.cellShape.moveTo(r[0].x,r[0].y),e=1;6>e;e++)this.cellShape.lineTo(r[e].x,r[e].y);this.cellShape.lineTo(r[0].x,r[0].y),this.cellShape.autoClose=!0,this.cellGeo=new THREE.Geometry,this.cellGeo.vertices=r,this.cellGeo.verticesNeedUpdate=!0,this.cellShapeGeo=new THREE.ShapeGeometry(this.cellShape),this._cellWidth=2*this.cellSize,this._cellLength=.5*gn.SQRT3*this._cellWidth,this._hashDelimeter=".",this._directions=[new gn.Cell(1,-1,0),new gn.Cell(1,0,-1),new gn.Cell(0,1,-1),new gn.Cell(-1,1,0),new gn.Cell(-1,0,1),new gn.Cell(0,-1,1)],this._diagonals=[new gn.Cell(2,-1,-1),new gn.Cell(1,1,-2),new gn.Cell(-1,2,-1),new gn.Cell(-2,1,1),new gn.Cell(-1,-1,2),new gn.Cell(1,-2,1)],this._list=[],this._vec3=new THREE.Vector3,this._cel=new gn.Cell,this._conversionVec=new THREE.Vector3,this._geoCache=[],this._matCache=[]},gn.HexGrid.TWO_THIRDS=2/3,gn.HexGrid.prototype={cellToPixel:function(n){return this._vec3.x=n.q*this._cellWidth*.75,this._vec3.y=n.h,this._vec3.z=-((n.s-n.r)*this._cellLength*.5),this._vec3},pixelToCell:function(n){var e=n.x*(gn.HexGrid.TWO_THIRDS/this.cellSize),r=(-n.x/3+gn.SQRT3/3*n.z)/this.cellSize;return this._cel.set(e,r,-e-r),this._cubeRound(this._cel)},getCellAt:function(n){var e=n.x*(gn.HexGrid.TWO_THIRDS/this.cellSize),r=(-n.x/3+gn.SQRT3/3*n.z)/this.cellSize;return this._cel.set(e,r,-e-r),this._cubeRound(this._cel),this.cells[this.cellToHash(this._cel)]},getNeighbors:function(n,e,r){var i,o,s=this._directions.length;for(this._list.length=0,i=0;s>i;i++)this._cel.copy(n),this._cel.add(this._directions[i]),o=this.cells[this.cellToHash(this._cel)],!o||r&&!r(n,o)||this._list.push(o);if(e)for(i=0;s>i;i++)this._cel.copy(n),this._cel.add(this._diagonals[i]),o=this.cells[this.cellToHash(this._cel)],!o||r&&!r(n,o)||this._list.push(o);return this._list},getRandomCell:function(){var n,e=0,r=gn.Tools.randomInt(0,this.numCells);for(n in this.cells){if(e===r)return this.cells[n];e++}return this.cells[n]},cellToHash:function(n){return n.q+this._hashDelimeter+n.r+this._hashDelimeter+n.s},distance:function(n,e){var r=Math.max(Math.abs(n.q-e.q),Math.abs(n.r-e.r),Math.abs(n.s-e.s));return r+=e.h-n.h},clearPath:function(){var n,e;for(n in this.cells)e=this.cells[n],e._calcCost=0,e._priority=0,e._parent=null,e._visited=!1},traverse:function(n){var e;for(e in this.cells)n(this.cells[e])},generateTile:function(n,e,r){var i=Math.abs(n.h);1>i&&(i=1);var o=this._geoCache[i];o||(this.extrudeSettings.amount=i,o=new THREE.ExtrudeGeometry(this.cellShape,this.extrudeSettings),this._geoCache[i]=o);var s=new gn.Tile({size:this.cellSize,scale:e,cell:n,geometry:o,material:r});return n.tile=s,s},generateTiles:function(n){n=n||{};var e=[],r={tileScale:.95,cellSize:this.cellSize,material:null,extrudeSettings:{amount:1,bevelEnabled:!0,bevelSegments:1,steps:1,bevelSize:.5,bevelThickness:.5}};r=gn.Tools.merge(r,n),this.cellSize=r.cellSize,this._cellWidth=2*this.cellSize,this._cellLength=.5*gn.SQRT3*this._cellWidth,this.autogenerated=!0,this.extrudeSettings=r.extrudeSettings;var i,o,s;for(i in this.cells)s=this.cells[i],o=this.generateTile(s,r.tileScale,r.material),o.position.copy(this.cellToPixel(s)),o.position.y=0,e.push(o);return e},generateTilePoly:function(n){n||(n=new THREE.MeshBasicMaterial({color:2405631}));var e=new THREE.Mesh(this.cellShapeGeo,n);return this._vec3.set(1,0,0),e.rotateOnAxis(this._vec3,gn.PI/2),e},generate:function(n){n=n||{},this.size=typeof n.size>"u"?this.size:n.size;var e,r,i,o;for(e=-this.size;e<this.size+1;e++)for(r=-this.size;r<this.size+1;r++)i=-e-r,Math.abs(e)<=this.size&&Math.abs(r)<=this.size&&Math.abs(i)<=this.size&&(o=new gn.Cell(e,r,i),this.add(o))},generateOverlay:function(n,e,r){var i,o,s,l=this.cellShape.createPointsGeometry();for(i=-n;n+1>i;i++)for(o=-n;n+1>o;o++)if(s=-i-o,Math.abs(i)<=n&&Math.abs(o)<=n&&Math.abs(s)<=n){this._cel.set(i,o,s);var u=new THREE.Line(l,r);u.position.copy(this.cellToPixel(this._cel)),u.rotation.x=90*gn.DEG_TO_RAD,e.add(u)}},add:function(n){var e=this.cellToHash(n);if(!this.cells[e])return this.cells[e]=n,this.numCells++,n},remove:function(n){var e=this.cellToHash(n);this.cells[e]&&(delete this.cells[e],this.numCells--)},dispose:function(){this.cells=null,this.numCells=0,this.cellShape=null,this.cellGeo.dispose(),this.cellGeo=null,this.cellShapeGeo.dispose(),this.cellShapeGeo=null,this._list=null,this._vec3=null,this._conversionVec=null,this._geoCache=null,this._matCache=null},load:function(n,e,r){var i=this;gn.Tools.getJSON({url:n,callback:function(o){i.fromJSON(o),e.call(r||null,o)},cache:!1,scope:i})},fromJSON:function(n){var e,r,i=n.cells;for(this.cells={},this.numCells=0,this.size=n.size,this.cellSize=n.cellSize,this._cellWidth=2*this.cellSize,this._cellLength=.5*gn.SQRT3*this._cellWidth,this.extrudeSettings=n.extrudeSettings,this.autogenerated=n.autogenerated,e=0;e<i.length;e++)r=new gn.Cell,r.copy(i[e]),this.add(r)},toJSON:function(){var n,e,r={size:this.size,cellSize:this.cellSize,extrudeSettings:this.extrudeSettings,autogenerated:this.autogenerated},i=[];for(e in this.cells)n=this.cells[e],i.push({q:n.q,r:n.r,s:n.s,h:n.h,walkable:n.walkable,userData:n.userData});return r.cells=i,r},_createVertex:function(n){var e=gn.TAU/6*n;return new THREE.Vector3(this.cellSize*Math.cos(e),this.cellSize*Math.sin(e),0)},_cubeRound:function(n){var e=Math.round(n.q),r=Math.round(n.r),i=Math.round(n.s),o=Math.abs(e-n.q),s=Math.abs(r-n.r),l=Math.abs(i-n.s);return o>s&&o>l?e=-r-i:s>l?r=-e-i:i=-e-r,this._cel.set(e,r,i)}},gn.HexGrid.prototype.constructor=gn.HexGrid,gn.SqrGrid=function(n){n=n||{},this.type=gn.SQR,this.size=5,this.cellSize=typeof n.cellSize>"u"?10:n.cellSize,this.cells={},this.numCells=0,this.extrudeSettings=null,this.autogenerated=!1;var e=[];e.push(new THREE.Vector3),e.push(new THREE.Vector3(-this.cellSize,this.cellSize)),e.push(new THREE.Vector3(this.cellSize,this.cellSize)),e.push(new THREE.Vector3(this.cellSize,-this.cellSize)),this.cellShape=new THREE.Shape,this.cellShape.moveTo(-this.cellSize,-this.cellSize),this.cellShape.lineTo(-this.cellSize,this.cellSize),this.cellShape.lineTo(this.cellSize,this.cellSize),this.cellShape.lineTo(this.cellSize,-this.cellSize),this.cellShape.lineTo(-this.cellSize,-this.cellSize),this.cellGeo=new THREE.Geometry,this.cellGeo.vertices=e,this.cellGeo.verticesNeedUpdate=!0,this.cellShapeGeo=new THREE.ShapeGeometry(this.cellShape),this._fullCellSize=2*this.cellSize,this._hashDelimeter=".",this._directions=[new gn.Cell(1,0,0),new gn.Cell(0,-1,0),new gn.Cell(-1,0,0),new gn.Cell(0,1,0)],this._diagonals=[new gn.Cell(-1,-1,0),new gn.Cell(-1,1,0),new gn.Cell(1,1,0),new gn.Cell(1,-1,0)],this._list=[],this._vec3=new THREE.Vector3,this._cel=new gn.Cell,this._conversionVec=new THREE.Vector3,this._geoCache=[],this._matCache=[]},gn.SqrGrid.prototype={cellToPixel:function(n){return this._vec3.x=n.q*this._fullCellSize,this._vec3.y=n.h,this._vec3.z=n.r*this._fullCellSize,this._vec3},pixelToCell:function(n){var e=Math.round(n.x/this._fullCellSize),r=Math.round(n.z/this._fullCellSize);return this._cel.set(e,r,0)},getCellAt:function(n){var e=Math.round(n.x/this._fullCellSize),r=Math.round(n.z/this._fullCellSize);return this._cel.set(e,r),this.cells[this.cellToHash(this._cel)]},getNeighbors:function(n,e,r){var i,o,s=this._directions.length;for(this._list.length=0,i=0;s>i;i++)this._cel.copy(n),this._cel.add(this._directions[i]),o=this.cells[this.cellToHash(this._cel)],!o||r&&!r(n,o)||this._list.push(o);if(e)for(i=0;s>i;i++)this._cel.copy(n),this._cel.add(this._diagonals[i]),o=this.cells[this.cellToHash(this._cel)],!o||r&&!r(n,o)||this._list.push(o);return this._list},getRandomCell:function(){var n,e=0,r=gn.Tools.randomInt(0,this.numCells);for(n in this.cells){if(e===r)return this.cells[n];e++}return this.cells[n]},cellToHash:function(n){return n.q+this._hashDelimeter+n.r},distance:function(n,e){var r=Math.max(Math.abs(n.q-e.q),Math.abs(n.r-e.r));return r+=e.h-n.h},clearPath:function(){var n,e;for(n in this.cells)e=this.cells[n],e._calcCost=0,e._priority=0,e._parent=null,e._visited=!1},traverse:function(n){var e;for(e in this.cells)n(this.cells[e])},generateTile:function(n,e,r){var i=Math.abs(n.h);1>i&&(i=1);var o=this._geoCache[i];o||(this.extrudeSettings.amount=i,o=new THREE.ExtrudeGeometry(this.cellShape,this.extrudeSettings),this._geoCache[i]=o);var s=new gn.Tile({size:this.cellSize,scale:e,cell:n,geometry:o,material:r});return n.tile=s,s},generateTiles:function(n){n=n||{};var e=[],r={tileScale:.95,cellSize:this.cellSize,material:null,extrudeSettings:{amount:1,bevelEnabled:!0,bevelSegments:1,steps:1,bevelSize:.5,bevelThickness:.5}};r=gn.Tools.merge(r,n),this.cellSize=r.cellSize,this._fullCellSize=2*this.cellSize,this.autogenerated=!0,this.extrudeSettings=r.extrudeSettings;var i,o,s;for(i in this.cells)s=this.cells[i],o=this.generateTile(s,r.tileScale,r.material),o.position.copy(this.cellToPixel(s)),o.position.y=0,e.push(o);return e},generateTilePoly:function(n){n||(n=new THREE.MeshBasicMaterial({color:2405631}));var e=new THREE.Mesh(this.cellShapeGeo,n);return this._vec3.set(1,0,0),e.rotateOnAxis(this._vec3,gn.PI/2),e},generate:function(n){n=n||{},this.size=typeof n.size>"u"?this.size:n.size;var e,r,i,o=Math.ceil(this.size/2);for(e=-o;o>e;e++)for(r=-o;o>r;r++)i=new gn.Cell(e,r+1),this.add(i)},generateOverlay:function(n,e,r){var i,o,s=Math.ceil(n/2);for(i=-s;s>i;i++)for(o=-s;s>o;o++){this._cel.set(i,o);var l=new THREE.Line(this.cellGeo,r);l.position.copy(this.cellToPixel(this._cel)),l.rotation.x=90*gn.DEG_TO_RAD,e.add(l)}},add:function(n){var e=this.cellToHash(n);if(!this.cells[e])return this.cells[e]=n,this.numCells++,n},remove:function(n){var e=this.cellToHash(n);this.cells[e]&&(delete this.cells[e],this.numCells--)},dispose:function(){this.cells=null,this.numCells=0,this.cellShape=null,this.cellGeo.dispose(),this.cellGeo=null,this.cellShapeGeo.dispose(),this.cellShapeGeo=null,this._list=null,this._vec3=null,this._conversionVec=null,this._geoCache=null,this._matCache=null},load:function(n,e,r){gn.Tools.getJSON({url:n,callback:function(i){this.fromJSON(i),e.call(r||null,i)},cache:!1,scope:this})},fromJSON:function(n){var e,r,i=n.cells;for(this.cells={},this.numCells=0,this.size=n.size,this.cellSize=n.cellSize,this._fullCellSize=2*this.cellSize,this.extrudeSettings=n.extrudeSettings,this.autogenerated=n.autogenerated,e=0;e<i.length;e++)r=new gn.Cell,r.copy(i[e]),this.add(r)},toJSON:function(){var n,e,r={size:this.size,cellSize:this.cellSize,extrudeSettings:this.extrudeSettings,autogenerated:this.autogenerated},i=[];for(e in this.cells)n=this.cells[e],i.push({q:n.q,r:n.r,s:n.s,h:n.h,walkable:n.walkable,userData:n.userData});return r.cells=i,r}},gn.SqrGrid.prototype.constructor=gn.SqrGrid,gn.Tile=function(n){n=n||{};var e={cell:null,geometry:null,material:null};if(e=gn.Tools.merge(e,n),!e.cell||!e.geometry)throw new Error("Missing vg.Tile configuration");this.cell=e.cell,this.cell.tile&&this.cell.tile!==this&&this.cell.tile.dispose(),this.cell.tile=this,this.uniqueID=gn.Tools.generateID(),this.geometry=e.geometry,this.material=e.material,this.material||(this.material=new THREE.MeshPhongMaterial({color:gn.Tools.randomizeRGB("30, 30, 30",13)})),this.objectType=gn.TILE,this.entity=null,this.userData={},this.selected=!1,this.highlight="0x0084cc",this.mesh=new THREE.Mesh(this.geometry,this.material),this.mesh.userData.structure=this,this.position=this.mesh.position,this.rotation=this.mesh.rotation,this.rotation.x=-90*gn.DEG_TO_RAD,this.mesh.scale.set(e.scale,e.scale,1),this.material.emissive?this._emissive=this.material.emissive.getHex():this._emissive=null},gn.Tile.prototype={select:function(){return this.material.emissive&&this.material.emissive.setHex(this.highlight),this.selected=!0,this},deselect:function(){return this._emissive!==null&&this.material.emissive&&this.material.emissive.setHex(this._emissive),this.selected=!1,this},toggle:function(){return this.selected?this.deselect():this.select(),this},dispose:function(){this.cell&&this.cell.tile&&(this.cell.tile=null),this.cell=null,this.position=null,this.rotation=null,this.mesh.parent&&this.mesh.parent.remove(this.mesh),this.mesh.userData.structure=null,this.mesh=null,this.material=null,this.userData=null,this.entity=null,this.geometry=null,this._emissive=null}},gn.Tile.prototype.constructor=gn.Tile,function(){var n=function(){this.obj=null,this.next=null,this.prev=null,this.free=!0},e=function(){this.first=null,this.last=null,this.length=0,this.objToNodeMap={},this.uniqueID=Date.now()+""+Math.floor(1e3*Math.random()),this.sortArray=[]};e.generateID=function(){return Math.random().toString(36).slice(2)+Date.now()},e.prototype={getNode:function(r){return this.objToNodeMap[r.uniqueID]},addNode:function(r){var i=new n;if(!r.uniqueID)try{r.uniqueID=e.generateID()}catch{return console.error("[LinkedList.addNode] obj passed is immutable: cannot attach necessary identifier"),null}return i.obj=r,i.free=!1,this.objToNodeMap[r.uniqueID]=i,i},swapObjects:function(r,i){this.objToNodeMap[r.obj.uniqueID]=null,this.objToNodeMap[i.uniqueID]=r,r.obj=i},add:function(r){var i=this.objToNodeMap[r.uniqueID];if(i){if(i.free===!1)return;i.obj=r,i.free=!1,i.next=null,i.prev=null}else i=this.addNode(r);if(this.first){if(!this.last)throw new Error("[LinkedList.add] No last in the list -- that shouldn't happen here");this.last.next=i,i.prev=this.last,this.last=i,i.next=null}else this.first=i,this.last=i,i.next=null,i.prev=null;this.length++,this.showDebug&&this.dump("after add")},has:function(r){return!!this.objToNodeMap[r.uniqueID]},moveUp:function(r){this.dump("before move up");var i=this.getNode(r);if(!i)throw"Oops, trying to move an object that isn't in the list";if(i.prev){var o=i.prev,s=o.prev;i==this.last&&(this.last=o);var l=i.next;s&&(s.next=i),i.next=o,i.prev=o.prev,o.next=l,o.prev=i,this.first==o&&(this.first=i)}},moveDown:function(r){var i=this.getNode(r);if(!i)throw"Oops, trying to move an object that isn't in the list";if(i.next){var o=i.next;this.moveUp(o.obj),this.last==o&&(this.last=i)}},sort:function(r){var i,o,s=this.sortArray,l=this.first;for(s.length=0;l;)s.push(l.obj),l=l.next;for(this.clear(),s.sort(r),o=s.length,i=0;o>i;i++)this.add(s[i])},remove:function(r){var i=this.getNode(r);return!i||i.free?!1:(i.prev&&(i.prev.next=i.next),i.next&&(i.next.prev=i.prev),i.prev||(this.first=i.next),i.next||(this.last=i.prev),i.free=!0,i.prev=null,i.next=null,this.length--,!0)},shift:function(){var r=this.first;return this.length===0?null:(r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),this.first=r.next,r.next||(this.last=null),r.free=!0,r.prev=null,r.next=null,this.length--,r.obj)},pop:function(){var r=this.last;return this.length===0?null:(r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),this.last=r.prev,r.prev||(this.first=null),r.free=!0,r.prev=null,r.next=null,this.length--,r.obj)},concat:function(r){for(var i=r.first;i;)this.add(i.obj),i=i.next},clear:function(){for(var r=this.first;r;)r.free=!0,r=r.next;this.first=null,this.length=0},dispose:function(){for(var r=this.first;r;)r.obj=null,r=r.next;this.first=null,this.objToNodeMap=null},dump:function(r){console.log("===================="+r+"=====================");for(var i=this.first;i;)console.log("{"+i.obj.toString()+"} previous="+(i.prev?i.prev.obj:"NULL")),i=i.next();console.log("==================================="),console.log("Last: {"+(this.last?this.last.obj:"NULL")+"} First: {"+(this.first?this.first.obj:"NULL")+"}")}},e.prototype.constructor=e,gn.LinkedList=e}(),function(){var n=function(r,i,o,s,l){this._listener=i,this.isOnce=o,this.context=s,this.signal=r,this._priority=l||0};n.prototype={active:!0,params:null,execute:function(r){var i,o;return this.active&&this._listener&&(o=this.params?this.params.concat(r):r,i=this._listener.apply(this.context,o),this.isOnce&&this.detach()),i},detach:function(){return this.isBound()?this.signal.remove(this._listener,this.context):null},isBound:function(){return!!this.signal&&!!this._listener},_destroy:function(){delete this.signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this.isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},n.prototype.constructor=n;var e=function(){this._bindings=[],this._prevParams=null;var r=this;this.dispatch=function(){e.prototype.dispatch.apply(r,arguments)}};e.prototype={memorize:!1,_shouldPropagate:!0,active:!0,validateListener:function(r,i){if(typeof r!="function")throw new Error("Signal: listener is a required param of {fn}() and should be a Function.".replace("{fn}",i))},_registerListener:function(r,i,o,s){var l,u=this._indexOfListener(r,o);if(u!==-1){if(l=this._bindings[u],l.isOnce!==i)throw new Error("You cannot add"+(i?"":"Once")+"() then add"+(i?"Once":"")+"() the same listener without removing the relationship first.")}else l=new n(this,r,i,o,s),this._addBinding(l);return this.memorize&&this._prevParams&&l.execute(this._prevParams),l},_addBinding:function(r){var i=this._bindings.length;do i--;while(this._bindings[i]&&r._priority<=this._bindings[i]._priority);this._bindings.splice(i+1,0,r)},_indexOfListener:function(r,i){for(var o,s=this._bindings.length;s--;)if(o=this._bindings[s],o._listener===r&&o.context===i)return s;return-1},has:function(r,i){return this._indexOfListener(r,i)!==-1},add:function(r,i,o){return this.validateListener(r,"add"),this._registerListener(r,!1,i,o)},addOnce:function(r,i,o){return this.validateListener(r,"addOnce"),this._registerListener(r,!0,i,o)},remove:function(r,i){this.validateListener(r,"remove");var o=this._indexOfListener(r,i);return o!==-1&&(this._bindings[o]._destroy(),this._bindings.splice(o,1)),r},removeAll:function(r){typeof r>"u"&&(r=null);for(var i=this._bindings.length;i--;)r?this._bindings[i].context===r&&(this._bindings[i]._destroy(),this._bindings.splice(i,1)):this._bindings[i]._destroy();r||(this._bindings.length=0)},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(){if(this.active){var r,i=Array.prototype.slice.call(arguments),o=this._bindings.length;if(this.memorize&&(this._prevParams=i),o){r=this._bindings.slice(),this._shouldPropagate=!0;do o--;while(r[o]&&this._shouldPropagate&&r[o].execute(i)!==!1)}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}},e.prototype.constructor=e,gn.Signal=e}(),gn.AStarFinder=function(n){n=n||{};var e={allowDiagonal:!1,heuristicFilter:null};e=gn.Tools.merge(e,n),this.allowDiagonal=e.allowDiagonal,this.heuristicFilter=e.heuristicFilter,this.list=new gn.LinkedList},gn.AStarFinder.prototype={findPath:function(n,e,r,i){var o,s,l,u,c,d;for(r=r||this.heuristicFilter,i.clearPath(),this.list.clear(),this.list.add(n);this.list.length>0;){if(this.list.sort(this.compare),o=this.list.shift(),o._visited=!0,o===e)return gn.PathUtil.backtrace(e);for(l=i.getNeighbors(o,this.allowDiagonal,r),c=0,d=l.length;d>c;c++)if(u=l[c],u.walkable&&(s=o._calcCost+i.distance(o,u),!u._visited||s<u._calcCost)){if(u._visited=!0,u._parent=o,u._calcCost=s,u._priority=s+i.distance(e,u),u===e)return gn.PathUtil.backtrace(e);this.list.add(u)}}return null},compare:function(n,e){return n._priority-e._priority}},gn.AStarFinder.prototype.constructor=gn.AStarFinder,gn.PathUtil={backtrace:function(n){for(var e=[n];n._parent;)n=n._parent,e.push(n);return e.reverse()},biBacktrace:function(n,e){var r=this.backtrace(n),i=this.backtrace(e);return r.concat(i.reverse())},pathLength:function(n){var e,r,i,o,s,l=0;for(e=1;e<n.length;++e)r=n[e-1],i=n[e],o=r[0]-i[0],s=r[1]-i[1],l+=Math.sqrt(o*o+s*s);return l},interpolate:function(n,e,r,i){var o,s,l,u,c,d,h=Math.abs,p=[];for(l=h(r-n),u=h(i-e),o=r>n?1:-1,s=i>e?1:-1,c=l-u;n!==r||e!==i;)p.push([n,e]),d=2*c,d>-u&&(c-=u,n+=o),l>d&&(c+=l,e+=s);return p},expandPath:function(n){var e,r,i,o,s,l,u=[],c=n.length;if(2>c)return u;for(s=0;c-1>s;++s)for(e=n[s],r=n[s+1],i=this.interpolate(e[0],e[1],r[0],r[1]),o=i.length,l=0;o-1>l;++l)u.push(i[l]);return u.push(n[c-1]),u},smoothenPath:function(n,e){var r,i,o,s,l,u,c,d,h,p,m,v,y=e.length,A=e[0][0],b=e[0][1],g=e[y-1][0],w=e[y-1][1];for(r=A,i=b,l=[[r,i]],c=2;y>c;++c){for(h=e[c],o=h[0],s=h[1],p=this.interpolate(r,i,o,s),v=!1,d=1;d<p.length;++d)if(m=p[d],!n.isWalkableAt(m[0],m[1])){v=!0;break}v&&(u=e[c-1],l.push(u),r=u[0],i=u[1])}return l.push([g,w]),l},compressPath:function(n){if(n.length<3)return n;var e,r,i,o,s,l,u=[],c=n[0][0],d=n[0][1],h=n[1][0],p=n[1][1],m=h-c,v=p-d;for(s=Math.sqrt(m*m+v*v),m/=s,v/=s,u.push([c,d]),l=2;l<n.length;l++)e=h,r=p,i=m,o=v,h=n[l][0],p=n[l][1],m=h-e,v=p-r,s=Math.sqrt(m*m+v*v),m/=s,v/=s,(m!==i||v!==o)&&u.push([e,r]);return u.push([h,p]),u}},gn.Loader={manager:null,imageLoader:null,crossOrigin:!1,init:function(n){this.crossOrigin=n||!1,this.manager=new THREE.LoadingManager(function(){},function(){},function(){console.warn("Error loading images")}),this.imageLoader=new THREE.ImageLoader(this.manager),this.imageLoader.crossOrigin=n},loadTexture:function(n,e,r,i){var o=new THREE.Texture(null,e);return this.imageLoader.load(n,function(s){o.image=s,o.needsUpdate=!0,r&&r(o)},null,function(s){i&&i(s)}),o.sourceFile=n,o}},gn.MouseCaster=function(n,e,r){this.down=!1,this.rightDown=!1,this.pickedObject=null,this.selectedObject=null,this.allHits=null,this.active=!0,this.shift=!1,this.ctrl=!1,this.wheel=0,this.position=new THREE.Vector3,this.screenPosition=new THREE.Vector2,this.signal=new gn.Signal,this.group=n,this._camera=e,this._raycaster=new THREE.Raycaster,this._preventDefault=!1,r=r||document,r.addEventListener("mousemove",this._onDocumentMouseMove.bind(this),!1),r.addEventListener("mousedown",this._onDocumentMouseDown.bind(this),!1),r.addEventListener("mouseup",this._onDocumentMouseUp.bind(this),!1),r.addEventListener("mousewheel",this._onMouseWheel.bind(this),!1),r.addEventListener("DOMMouseScroll",this._onMouseWheel.bind(this),!1)},gn.MouseCaster.OVER="over",gn.MouseCaster.OUT="out",gn.MouseCaster.DOWN="down",gn.MouseCaster.UP="up",gn.MouseCaster.CLICK="click",gn.MouseCaster.WHEEL="wheel",gn.MouseCaster.prototype={update:function(){if(this.active){this._raycaster.setFromCamera(this.screenPosition,this._camera);var n,e,r=this._raycaster.intersectObject(this.group,!0);r.length>0?(n=r[0],e=n.object.userData.structure,this.pickedObject!=e&&(this.pickedObject&&this.signal.dispatch(gn.MouseCaster.OUT,this.pickedObject),this.pickedObject=e,this.selectedObject=null,this.signal.dispatch(gn.MouseCaster.OVER,this.pickedObject)),this.position.copy(n.point),this.screenPosition.z=n.distance):(this.pickedObject&&this.signal.dispatch(gn.MouseCaster.OUT,this.pickedObject),this.pickedObject=null,this.selectedObject=null),this.allHits=r}},preventDefault:function(){this._preventDefault=!0},_onDocumentMouseDown:function(n){return n=n||window.event,n.preventDefault(),this._preventDefault?(this._preventDefault=!1,!1):(this.pickedObject&&(this.selectedObject=this.pickedObject),this.shift=n.shiftKey,this.ctrl=n.ctrlKey,this.down=n.which===1,this.rightDown=n.which===3,void this.signal.dispatch(gn.MouseCaster.DOWN,this.pickedObject))},_onDocumentMouseUp:function(n){return n.preventDefault(),this._preventDefault?(this._preventDefault=!1,!1):(this.shift=n.shiftKey,this.ctrl=n.ctrlKey,this.signal.dispatch(gn.MouseCaster.UP,this.pickedObject),this.selectedObject&&this.pickedObject&&this.selectedObject.uniqueID===this.pickedObject.uniqueID&&this.signal.dispatch(gn.MouseCaster.CLICK,this.pickedObject),this.down=n.which===1?!1:this.down,void(this.rightDown=n.which===3?!1:this.rightDown))},_onDocumentMouseMove:function(n){n.preventDefault(),this.screenPosition.x=n.clientX/window.innerWidth*2-1,this.screenPosition.y=2*-(n.clientY/window.innerHeight)+1},_onMouseWheel:function(n){if(this.active){n.preventDefault(),n.stopPropagation();var e=0;n.wheelDelta!==void 0?e=n.wheelDelta:n.detail!==void 0&&(e=-n.detail),e>0?this.wheel++:this.wheel--,this.signal.dispatch(gn.MouseCaster.WHEEL,this.wheel)}}},gn.MouseCaster.prototype.constructor=gn.MouseCaster,gn.Scene=function(n,e){var r={element:document.body,alpha:!0,antialias:!0,clearColor:"#fff",sortObjects:!1,fog:null,light:new THREE.DirectionalLight(16777215),lightPosition:null,cameraType:"PerspectiveCamera",cameraPosition:null,orthoZoom:4},i={minDistance:100,maxDistance:1e3,zoomSpeed:2,noZoom:!1};if(r=gn.Tools.merge(r,n),typeof e!="boolean"&&(i=gn.Tools.merge(i,e)),this.renderer=new THREE.WebGLRenderer({alpha:r.alpha,antialias:r.antialias}),this.renderer.setClearColor(r.clearColor,0),this.renderer.sortObjects=r.sortObjects,this.width=window.innerWidth,this.height=window.innerHeight,this.orthoZoom=r.orthoZoom,this.container=new THREE.Scene,this.container.fog=r.fog,this.container.add(new THREE.AmbientLight(14540253)),r.lightPosition||r.light.position.set(-1,1,-1).normalize(),this.container.add(r.light),r.cameraType==="OrthographicCamera"){var o=window.innerWidth/this.orthoZoom,s=window.innerHeight/this.orthoZoom;this.camera=new THREE.OrthographicCamera(o/-2,o/2,s/2,s/-2,1,5e3)}else this.camera=new THREE.PerspectiveCamera(50,this.width/this.height,1,5e3);this.contolled=!!e,this.contolled&&(this.controls=new THREE.OrbitControls(this.camera,this.renderer.domElement),this.controls.minDistance=i.minDistance,this.controls.maxDistance=i.maxDistance,this.controls.zoomSpeed=i.zoomSpeed,this.controls.noZoom=i.noZoom),r.cameraPosition&&this.camera.position.copy(r.cameraPosition),window.addEventListener("resize",(function(){if(this.width=window.innerWidth,this.height=window.innerHeight,this.camera.type==="OrthographicCamera"){var l=this.width/this.orthoZoom,u=this.height/this.orthoZoom;this.camera.left=l/-2,this.camera.right=l/2,this.camera.top=u/2,this.camera.bottom=u/-2}else this.camera.aspect=this.width/this.height;this.camera.updateProjectionMatrix(),this.renderer.setSize(this.width,this.height)}).bind(this),!1),this.attachTo(r.element)},gn.Scene.prototype={attachTo:function(n){n.style.width=this.width+"px",n.style.height=this.height+"px",this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.width,this.height),n.appendChild(this.renderer.domElement)},add:function(n){this.container.add(n)},remove:function(n){this.container.remove(n)},render:function(){this.contolled&&this.controls.update(),this.renderer.render(this.container,this.camera)},updateOrthoZoom:function(){if(this.orthoZoom<=0)return void(this.orthoZoom=0);var n=this.width/this.orthoZoom,e=this.height/this.orthoZoom;this.camera.left=n/-2,this.camera.right=n/2,this.camera.top=e/2,this.camera.bottom=e/-2,this.camera.updateProjectionMatrix()},focusOn:function(n){this.camera.lookAt(n.position)}},gn.Scene.prototype.constructor=gn.Scene,gn.SelectionManager=function(n){this.mouse=n,this.onSelect=new gn.Signal,this.onDeselect=new gn.Signal,this.selected=null,this.toggleSelection=!1,this.mouse.signal.add(this.onMouse,this)},gn.SelectionManager.prototype={select:function(n,e){n&&(e=e||!0,this.selected!==n&&this.clearSelection(e),n.selected?this.toggleSelection&&(e&&this.onDeselect.dispatch(n),n.deselect()):n.select(),this.selected=n,e&&this.onSelect.dispatch(n))},clearSelection:function(n){n=n||!0,this.selected&&(n&&this.onDeselect.dispatch(this.selected),this.selected.deselect()),this.selected=null},onMouse:function(n,e){switch(n){case gn.MouseCaster.DOWN:e||this.clearSelection();break;case gn.MouseCaster.CLICK:this.select(e)}}},gn.SelectionManager.prototype.constructor=gn.SelectionManager,gn.Tools={clamp:function(n,e,r){return Math.max(e,Math.min(r,n))},sign:function(n){return n&&n/Math.abs(n)},random:function(n,e){return arguments.length===1?Math.random()*n-.5*n:Math.random()*(e-n)+n},randomInt:function(n,e){return arguments.length===1?Math.random()*n-.5*n|0:Math.random()*(e-n+1)+n|0},normalize:function(n,e,r){return(n-e)/(r-e)},getShortRotation:function(n){return n%=this.TAU,n>this.PI?n-=this.TAU:n<-this.PI&&(n+=this.TAU),n},generateID:function(){return Math.random().toString(36).slice(2)+Date.now()},isPlainObject:function(n){if(typeof n!="object"||n.nodeType||n===n.window)return!1;try{if(n.constructor&&!Object.prototype.hasOwnProperty.call(n.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0},merge:function(n,e){var r=this,i=Array.isArray(e),o=i&&[]||{};return i?(n=n||[],o=o.concat(n),e.forEach(function(s,l){typeof o[l]>"u"?o[l]=s:r.isPlainObject(s)?o[l]=r.merge(n[l],s):n.indexOf(s)===-1&&o.push(s)}),o):(n&&r.isPlainObject(n)&&Object.keys(n).forEach(function(s){o[s]=n[s]}),Object.keys(e).forEach(function(s){e[s]&&r.isPlainObject(e[s])&&n[s]?o[s]=r.merge(n[s],e[s]):o[s]=e[s]}),o)},now:function(){return window.nwf?window.nwf.system.Performance.elapsedTime:window.performance.now()},empty:function(n){for(;n.lastChild;)n.removeChild(n.lastChild)},radixSort:function(n,e,r,i){if(e=e||0,r=r||n.length,i=i||31,!(e>=r-1||0>i)){for(var o=e,s=r,l=1<<i;s>o;)if(n[o]&l){--s;var u=n[o];n[o]=n[s],n[s]=u}else++o;this.radixSort(n,e,s,i-1),this.radixSort(n,s,r,i-1)}},randomizeRGB:function(n,e){var r,i,o=n.split(","),s="rgb(";for(e=this.randomInt(e),r=0;3>r;r++)i=parseInt(o[r])+e,0>i?i=0:i>255&&(i=255),s+=i+",";return s=s.substring(0,s.length-1),s+=")"},getJSON:function(n){var e=new XMLHttpRequest,r=typeof n.cache>"u"?!1:n.cache,i=r?n.url:n.url+"?t="+Math.floor(1e4*Math.random())+Date.now();e.onreadystatechange=function(){if(this.status===200){var o=null;try{o=JSON.parse(this.responseText)}catch{return}return void n.callback.call(n.scope||null,o)}this.status!==0&&console.warn("[Tools.getJSON] Error: "+this.status+" ("+this.statusText+") :: "+n.url)},e.open("GET",i,!0),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("Content-Type","application/json"),e.send("")}};var ARe=fj.exports,yRe={size:5,cellSize:10,extrudeSettings:{amount:1,bevelEnabled:!0,bevelSegments:1,steps:1,bevelSize:.5,bevelThickness:.5},autogenerated:!0,cells:[{q:-1,r:0,s:1,h:1,walkable:!0,userData:{}},{q:0,r:-1,s:1,h:1,walkable:!0,userData:{}},{q:0,r:0,s:0,h:1,walkable:!0,userData:{}},{q:1,r:-1,s:0,h:1,walkable:!0,userData:{}},{q:-1,r:1,s:0,h:0,walkable:!0,userData:{}},{q:0,r:1,s:-1,h:0,walkable:!0,userData:{}},{q:1,r:0,s:-1,h:0,walkable:!0,userData:{}}]};const l8=ARe,bRe=yRe;AFRAME.registerPrimitive("a-hexgrid",{defaultComponents:{hexgrid:{}},mappings:{src:"hexgrid.src"}});AFRAME.registerComponent("hexgrid",{dependencies:["material"],schema:{src:{type:"asset"}},init:function(){const n=this.data;n.src?fetch(n.src).then(e=>e.json()).then(e=>this.addMesh(e)):this.addMesh(bRe)},addMesh:function(n){const e=new l8.HexGrid;e.fromJSON(n);const r=new l8.Board(e);r.generateTilemap(),this.el.setObject3D("mesh",r.group),this.addMaterial()},addMaterial:function(){const e=(this.el.components.material||{}).material;e&&this.el.object3D.traverse(r=>{r.isMesh&&(r.material=e)})},remove:function(){this.el.removeObject3D("mesh")}});AFRAME.registerPrimitive("a-ocean",{defaultComponents:{ocean:{},rotation:{x:-90,y:0,z:0}},mappings:{width:"ocean.width",depth:"ocean.depth",density:"ocean.density",amplitude:"ocean.amplitude",amplitudeVariance:"ocean.amplitudeVariance",speed:"ocean.speed",speedVariance:"ocean.speedVariance",color:"ocean.color",opacity:"ocean.opacity"}});AFRAME.registerComponent("ocean",{schema:{width:{default:10,min:0},depth:{default:10,min:0},density:{default:10},amplitude:{default:.1},amplitudeVariance:{default:.3},speed:{default:1},speedVariance:{default:2},color:{default:"#7AD2F7",type:"color"},opacity:{default:.8}},play:function(){const n=this.el,e=this.data;let r=n.components.material;const i=new THREE.PlaneGeometry(e.width,e.depth,e.density,e.density);i.mergeVertices(),this.waves=[];for(let o,s=0,l=i.vertices.length;s<l;s++)o=i.vertices[s],this.waves.push({z:o.z,ang:Math.random()*Math.PI*2,amp:e.amplitude+Math.random()*e.amplitudeVariance,speed:(e.speed+Math.random()*e.speedVariance)/1e3});r||(r={},r.material=new THREE.MeshPhongMaterial({color:e.color,transparent:e.opacity<1,opacity:e.opacity,shading:THREE.FlatShading})),this.mesh=new THREE.Mesh(i,r.material),n.setObject3D("mesh",this.mesh)},remove:function(){this.el.removeObject3D("mesh")},tick:function(n,e){if(!e)return;const r=this.mesh.geometry.vertices;for(let i,o,s=0;i=r[s];s++)o=this.waves[s],i.z=o.z+Math.sin(o.ang)*o.amp,o.ang+=o.speed*e;this.mesh.geometry.verticesNeedUpdate=!0}});AFRAME.registerPrimitive("a-tube",{defaultComponents:{tube:{}},mappings:{path:"tube.path",segments:"tube.segments",radius:"tube.radius","radial-segments":"tube.radialSegments",closed:"tube.closed"}});AFRAME.registerComponent("tube",{schema:{path:{default:[]},segments:{default:64},radius:{default:1},radialSegments:{default:8},closed:{default:!1}},init:function(){const n=this.el,e=this.data;let r=n.components.material;if(!e.path.length){console.error("[a-tube] `path` property expected but not found.");return}const i=new THREE.CatmullRomCurve3(e.path.map(function(s){return s=s.split(" "),new THREE.Vector3(Number(s[0]),Number(s[1]),Number(s[2]))})),o=new THREE.TubeGeometry(i,e.segments,e.radius,e.radialSegments,e.closed);r||(r={},r.material=new THREE.MeshPhongMaterial),this.mesh=new THREE.Mesh(o,r.material),this.el.setObject3D("mesh",this.mesh)},update:function(n){Object.keys(n).length&&(this.remove(),this.init())},remove:function(){this.mesh&&this.el.removeObject3D("mesh")}});var Tr=function(n){return typeof n=="function"?n:typeof n=="string"?function(e){return e[n]}:function(e){return n}};const xRe=Object.freeze(Object.defineProperty({__proto__:null,default:Tr},Symbol.toStringTag,{value:"Module"})),ERe=IR(xRe);function hj(n,e,r){var i,o=1;n==null&&(n=0),e==null&&(e=0),r==null&&(r=0);function s(){var l,u=i.length,c,d=0,h=0,p=0;for(l=0;l<u;++l)c=i[l],d+=c.x||0,h+=c.y||0,p+=c.z||0;for(d=(d/u-n)*o,h=(h/u-e)*o,p=(p/u-r)*o,l=0;l<u;++l)c=i[l],d&&(c.x-=d),h&&(c.y-=h),p&&(c.z-=p)}return s.initialize=function(l){i=l},s.x=function(l){return arguments.length?(n=+l,s):n},s.y=function(l){return arguments.length?(e=+l,s):e},s.z=function(l){return arguments.length?(r=+l,s):r},s.strength=function(l){return arguments.length?(o=+l,s):o},s}function CRe(n){const e=+this._x.call(null,n);return pj(this.cover(e),e,n)}function pj(n,e,r){if(isNaN(e))return n;var i,o=n._root,s={data:r},l=n._x0,u=n._x1,c,d,h,p,m;if(!o)return n._root=s,n;for(;o.length;)if((h=e>=(c=(l+u)/2))?l=c:u=c,i=o,!(o=o[p=+h]))return i[p]=s,n;if(d=+n._x.call(null,o.data),e===d)return s.next=o,i?i[p]=s:n._root=s,n;do i=i?i[p]=new Array(2):n._root=new Array(2),(h=e>=(c=(l+u)/2))?l=c:u=c;while((p=+h)==(m=+(d>=c)));return i[m]=o,i[p]=s,n}function wRe(n){Array.isArray(n)||(n=Array.from(n));const e=n.length,r=new Float64Array(e);let i=1/0,o=-1/0;for(let s=0,l;s<e;++s)isNaN(l=+this._x.call(null,n[s]))||(r[s]=l,l<i&&(i=l),l>o&&(o=l));if(i>o)return this;this.cover(i).cover(o);for(let s=0;s<e;++s)pj(this,r[s],n[s]);return this}function SRe(n){if(isNaN(n=+n))return this;var e=this._x0,r=this._x1;if(isNaN(e))r=(e=Math.floor(n))+1;else{for(var i=r-e||1,o=this._root,s,l;e>n||n>=r;)switch(l=+(n<e),s=new Array(2),s[l]=o,o=s,i*=2,l){case 0:r=e+i;break;case 1:e=r-i;break}this._root&&this._root.length&&(this._root=o)}return this._x0=e,this._x1=r,this}function _Re(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function MRe(n){return arguments.length?this.cover(+n[0][0]).cover(+n[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function Eu(n,e,r){this.node=n,this.x0=e,this.x1=r}function TRe(n,e){var r,i=this._x0,o,s,l=this._x1,u=[],c=this._root,d,h;for(c&&u.push(new Eu(c,i,l)),e==null?e=1/0:(i=n-e,l=n+e);d=u.pop();)if(!(!(c=d.node)||(o=d.x0)>l||(s=d.x1)<i))if(c.length){var p=(o+s)/2;u.push(new Eu(c[1],p,s),new Eu(c[0],o,p)),(h=+(n>=p))&&(d=u[u.length-1],u[u.length-1]=u[u.length-1-h],u[u.length-1-h]=d)}else{var m=Math.abs(n-+this._x.call(null,c.data));m<e&&(e=m,i=n-m,l=n+m,r=c.data)}return r}function RRe(n){if(isNaN(c=+this._x.call(null,n)))return this;var e,r=this._root,i,o,s,l=this._x0,u=this._x1,c,d,h,p,m;if(!r)return this;if(r.length)for(;;){if((h=c>=(d=(l+u)/2))?l=d:u=d,e=r,!(r=r[p=+h]))return this;if(!r.length)break;e[p+1&1]&&(i=e,m=p)}for(;r.data!==n;)if(o=r,!(r=r.next))return this;return(s=r.next)&&delete r.next,o?(s?o.next=s:delete o.next,this):e?(s?e[p]=s:delete e[p],(r=e[0]||e[1])&&r===(e[1]||e[0])&&!r.length&&(i?i[m]=r:this._root=r),this):(this._root=s,this)}function IRe(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this}function LRe(){return this._root}function PRe(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function BRe(n){var e=[],r,i=this._root,o,s,l;for(i&&e.push(new Eu(i,this._x0,this._x1));r=e.pop();)if(!n(i=r.node,s=r.x0,l=r.x1)&&i.length){var u=(s+l)/2;(o=i[1])&&e.push(new Eu(o,u,l)),(o=i[0])&&e.push(new Eu(o,s,u))}return this}function ORe(n){var e=[],r=[],i;for(this._root&&e.push(new Eu(this._root,this._x0,this._x1));i=e.pop();){var o=i.node;if(o.length){var s,l=i.x0,u=i.x1,c=(l+u)/2;(s=o[0])&&e.push(new Eu(s,l,c)),(s=o[1])&&e.push(new Eu(s,c,u))}r.push(i)}for(;i=r.pop();)n(i.node,i.x0,i.x1);return this}function DRe(n){return n[0]}function NRe(n){return arguments.length?(this._x=n,this):this._x}function mj(n,e){var r=new cP(e??DRe,NaN,NaN);return n==null?r:r.addAll(n)}function cP(n,e,r){this._x=n,this._x0=e,this._x1=r,this._root=void 0}function c8(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var hs=mj.prototype=cP.prototype;hs.copy=function(){var n=new cP(this._x,this._x0,this._x1),e=this._root,r,i;if(!e)return n;if(!e.length)return n._root=c8(e),n;for(r=[{source:e,target:n._root=new Array(2)}];e=r.pop();)for(var o=0;o<2;++o)(i=e.source[o])&&(i.length?r.push({source:i,target:e.target[o]=new Array(2)}):e.target[o]=c8(i));return n};hs.add=CRe;hs.addAll=wRe;hs.cover=SRe;hs.data=_Re;hs.extent=MRe;hs.find=TRe;hs.remove=RRe;hs.removeAll=IRe;hs.root=LRe;hs.size=PRe;hs.visit=BRe;hs.visitAfter=ORe;hs.x=NRe;function kRe(n){const e=+this._x.call(null,n),r=+this._y.call(null,n);return gj(this.cover(e,r),e,r,n)}function gj(n,e,r,i){if(isNaN(e)||isNaN(r))return n;var o,s=n._root,l={data:i},u=n._x0,c=n._y0,d=n._x1,h=n._y1,p,m,v,y,A,b,g,w;if(!s)return n._root=l,n;for(;s.length;)if((A=e>=(p=(u+d)/2))?u=p:d=p,(b=r>=(m=(c+h)/2))?c=m:h=m,o=s,!(s=s[g=b<<1|A]))return o[g]=l,n;if(v=+n._x.call(null,s.data),y=+n._y.call(null,s.data),e===v&&r===y)return l.next=s,o?o[g]=l:n._root=l,n;do o=o?o[g]=new Array(4):n._root=new Array(4),(A=e>=(p=(u+d)/2))?u=p:d=p,(b=r>=(m=(c+h)/2))?c=m:h=m;while((g=b<<1|A)===(w=(y>=m)<<1|v>=p));return o[w]=s,o[g]=l,n}function FRe(n){var e,r,i=n.length,o,s,l=new Array(i),u=new Array(i),c=1/0,d=1/0,h=-1/0,p=-1/0;for(r=0;r<i;++r)isNaN(o=+this._x.call(null,e=n[r]))||isNaN(s=+this._y.call(null,e))||(l[r]=o,u[r]=s,o<c&&(c=o),o>h&&(h=o),s<d&&(d=s),s>p&&(p=s));if(c>h||d>p)return this;for(this.cover(c,d).cover(h,p),r=0;r<i;++r)gj(this,l[r],u[r],n[r]);return this}function URe(n,e){if(isNaN(n=+n)||isNaN(e=+e))return this;var r=this._x0,i=this._y0,o=this._x1,s=this._y1;if(isNaN(r))o=(r=Math.floor(n))+1,s=(i=Math.floor(e))+1;else{for(var l=o-r||1,u=this._root,c,d;r>n||n>=o||i>e||e>=s;)switch(d=(e<i)<<1|n<r,c=new Array(4),c[d]=u,u=c,l*=2,d){case 0:o=r+l,s=i+l;break;case 1:r=o-l,s=i+l;break;case 2:o=r+l,i=s-l;break;case 3:r=o-l,i=s-l;break}this._root&&this._root.length&&(this._root=u)}return this._x0=r,this._y0=i,this._x1=o,this._y1=s,this}function zRe(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function HRe(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Va(n,e,r,i,o){this.node=n,this.x0=e,this.y0=r,this.x1=i,this.y1=o}function $Re(n,e,r){var i,o=this._x0,s=this._y0,l,u,c,d,h=this._x1,p=this._y1,m=[],v=this._root,y,A;for(v&&m.push(new Va(v,o,s,h,p)),r==null?r=1/0:(o=n-r,s=e-r,h=n+r,p=e+r,r*=r);y=m.pop();)if(!(!(v=y.node)||(l=y.x0)>h||(u=y.y0)>p||(c=y.x1)<o||(d=y.y1)<s))if(v.length){var b=(l+c)/2,g=(u+d)/2;m.push(new Va(v[3],b,g,c,d),new Va(v[2],l,g,b,d),new Va(v[1],b,u,c,g),new Va(v[0],l,u,b,g)),(A=(e>=g)<<1|n>=b)&&(y=m[m.length-1],m[m.length-1]=m[m.length-1-A],m[m.length-1-A]=y)}else{var w=n-+this._x.call(null,v.data),E=e-+this._y.call(null,v.data),C=w*w+E*E;if(C<r){var _=Math.sqrt(r=C);o=n-_,s=e-_,h=n+_,p=e+_,i=v.data}}return i}function GRe(n){if(isNaN(h=+this._x.call(null,n))||isNaN(p=+this._y.call(null,n)))return this;var e,r=this._root,i,o,s,l=this._x0,u=this._y0,c=this._x1,d=this._y1,h,p,m,v,y,A,b,g;if(!r)return this;if(r.length)for(;;){if((y=h>=(m=(l+c)/2))?l=m:c=m,(A=p>=(v=(u+d)/2))?u=v:d=v,e=r,!(r=r[b=A<<1|y]))return this;if(!r.length)break;(e[b+1&3]||e[b+2&3]||e[b+3&3])&&(i=e,g=b)}for(;r.data!==n;)if(o=r,!(r=r.next))return this;return(s=r.next)&&delete r.next,o?(s?o.next=s:delete o.next,this):e?(s?e[b]=s:delete e[b],(r=e[0]||e[1]||e[2]||e[3])&&r===(e[3]||e[2]||e[1]||e[0])&&!r.length&&(i?i[g]=r:this._root=r),this):(this._root=s,this)}function jRe(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this}function VRe(){return this._root}function WRe(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function QRe(n){var e=[],r,i=this._root,o,s,l,u,c;for(i&&e.push(new Va(i,this._x0,this._y0,this._x1,this._y1));r=e.pop();)if(!n(i=r.node,s=r.x0,l=r.y0,u=r.x1,c=r.y1)&&i.length){var d=(s+u)/2,h=(l+c)/2;(o=i[3])&&e.push(new Va(o,d,h,u,c)),(o=i[2])&&e.push(new Va(o,s,h,d,c)),(o=i[1])&&e.push(new Va(o,d,l,u,h)),(o=i[0])&&e.push(new Va(o,s,l,d,h))}return this}function KRe(n){var e=[],r=[],i;for(this._root&&e.push(new Va(this._root,this._x0,this._y0,this._x1,this._y1));i=e.pop();){var o=i.node;if(o.length){var s,l=i.x0,u=i.y0,c=i.x1,d=i.y1,h=(l+c)/2,p=(u+d)/2;(s=o[0])&&e.push(new Va(s,l,u,h,p)),(s=o[1])&&e.push(new Va(s,h,u,c,p)),(s=o[2])&&e.push(new Va(s,l,p,h,d)),(s=o[3])&&e.push(new Va(s,h,p,c,d))}r.push(i)}for(;i=r.pop();)n(i.node,i.x0,i.y0,i.x1,i.y1);return this}function XRe(n){return n[0]}function qRe(n){return arguments.length?(this._x=n,this):this._x}function YRe(n){return n[1]}function JRe(n){return arguments.length?(this._y=n,this):this._y}function vj(n,e,r){var i=new uP(e??XRe,r??YRe,NaN,NaN,NaN,NaN);return n==null?i:i.addAll(n)}function uP(n,e,r,i,o,s){this._x=n,this._y=e,this._x0=r,this._y0=i,this._x1=o,this._y1=s,this._root=void 0}function u8(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var es=vj.prototype=uP.prototype;es.copy=function(){var n=new uP(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,r,i;if(!e)return n;if(!e.length)return n._root=u8(e),n;for(r=[{source:e,target:n._root=new Array(4)}];e=r.pop();)for(var o=0;o<4;++o)(i=e.source[o])&&(i.length?r.push({source:i,target:e.target[o]=new Array(4)}):e.target[o]=u8(i));return n};es.add=kRe;es.addAll=FRe;es.cover=URe;es.data=zRe;es.extent=HRe;es.find=$Re;es.remove=GRe;es.removeAll=jRe;es.root=VRe;es.size=WRe;es.visit=QRe;es.visitAfter=KRe;es.x=qRe;es.y=JRe;function ZRe(n){const e=+this._x.call(null,n),r=+this._y.call(null,n),i=+this._z.call(null,n);return Aj(this.cover(e,r,i),e,r,i,n)}function Aj(n,e,r,i,o){if(isNaN(e)||isNaN(r)||isNaN(i))return n;var s,l=n._root,u={data:o},c=n._x0,d=n._y0,h=n._z0,p=n._x1,m=n._y1,v=n._z1,y,A,b,g,w,E,C,_,L,R,P;if(!l)return n._root=u,n;for(;l.length;)if((C=e>=(y=(c+p)/2))?c=y:p=y,(_=r>=(A=(d+m)/2))?d=A:m=A,(L=i>=(b=(h+v)/2))?h=b:v=b,s=l,!(l=l[R=L<<2|_<<1|C]))return s[R]=u,n;if(g=+n._x.call(null,l.data),w=+n._y.call(null,l.data),E=+n._z.call(null,l.data),e===g&&r===w&&i===E)return u.next=l,s?s[R]=u:n._root=u,n;do s=s?s[R]=new Array(8):n._root=new Array(8),(C=e>=(y=(c+p)/2))?c=y:p=y,(_=r>=(A=(d+m)/2))?d=A:m=A,(L=i>=(b=(h+v)/2))?h=b:v=b;while((R=L<<2|_<<1|C)===(P=(E>=b)<<2|(w>=A)<<1|g>=y));return s[P]=l,s[R]=u,n}function eIe(n){Array.isArray(n)||(n=Array.from(n));const e=n.length,r=new Float64Array(e),i=new Float64Array(e),o=new Float64Array(e);let s=1/0,l=1/0,u=1/0,c=-1/0,d=-1/0,h=-1/0;for(let p=0,m,v,y,A;p<e;++p)isNaN(v=+this._x.call(null,m=n[p]))||isNaN(y=+this._y.call(null,m))||isNaN(A=+this._z.call(null,m))||(r[p]=v,i[p]=y,o[p]=A,v<s&&(s=v),v>c&&(c=v),y<l&&(l=y),y>d&&(d=y),A<u&&(u=A),A>h&&(h=A));if(s>c||l>d||u>h)return this;this.cover(s,l,u).cover(c,d,h);for(let p=0;p<e;++p)Aj(this,r[p],i[p],o[p],n[p]);return this}function tIe(n,e,r){if(isNaN(n=+n)||isNaN(e=+e)||isNaN(r=+r))return this;var i=this._x0,o=this._y0,s=this._z0,l=this._x1,u=this._y1,c=this._z1;if(isNaN(i))l=(i=Math.floor(n))+1,u=(o=Math.floor(e))+1,c=(s=Math.floor(r))+1;else{for(var d=l-i||1,h=this._root,p,m;i>n||n>=l||o>e||e>=u||s>r||r>=c;)switch(m=(r<s)<<2|(e<o)<<1|n<i,p=new Array(8),p[m]=h,h=p,d*=2,m){case 0:l=i+d,u=o+d,c=s+d;break;case 1:i=l-d,u=o+d,c=s+d;break;case 2:l=i+d,o=u-d,c=s+d;break;case 3:i=l-d,o=u-d,c=s+d;break;case 4:l=i+d,u=o+d,s=c-d;break;case 5:i=l-d,u=o+d,s=c-d;break;case 6:l=i+d,o=u-d,s=c-d;break;case 7:i=l-d,o=u-d,s=c-d;break}this._root&&this._root.length&&(this._root=h)}return this._x0=i,this._y0=o,this._z0=s,this._x1=l,this._y1=u,this._z1=c,this}function nIe(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function rIe(n){return arguments.length?this.cover(+n[0][0],+n[0][1],+n[0][2]).cover(+n[1][0],+n[1][1],+n[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function Qi(n,e,r,i,o,s,l){this.node=n,this.x0=e,this.y0=r,this.z0=i,this.x1=o,this.y1=s,this.z1=l}function iIe(n,e,r,i){var o,s=this._x0,l=this._y0,u=this._z0,c,d,h,p,m,v,y=this._x1,A=this._y1,b=this._z1,g=[],w=this._root,E,C;for(w&&g.push(new Qi(w,s,l,u,y,A,b)),i==null?i=1/0:(s=n-i,l=e-i,u=r-i,y=n+i,A=e+i,b=r+i,i*=i);E=g.pop();)if(!(!(w=E.node)||(c=E.x0)>y||(d=E.y0)>A||(h=E.z0)>b||(p=E.x1)<s||(m=E.y1)<l||(v=E.z1)<u))if(w.length){var _=(c+p)/2,L=(d+m)/2,R=(h+v)/2;g.push(new Qi(w[7],_,L,R,p,m,v),new Qi(w[6],c,L,R,_,m,v),new Qi(w[5],_,d,R,p,L,v),new Qi(w[4],c,d,R,_,L,v),new Qi(w[3],_,L,h,p,m,R),new Qi(w[2],c,L,h,_,m,R),new Qi(w[1],_,d,h,p,L,R),new Qi(w[0],c,d,h,_,L,R)),(C=(r>=R)<<2|(e>=L)<<1|n>=_)&&(E=g[g.length-1],g[g.length-1]=g[g.length-1-C],g[g.length-1-C]=E)}else{var P=n-+this._x.call(null,w.data),T=e-+this._y.call(null,w.data),D=r-+this._z.call(null,w.data),$=P*P+T*T+D*D;if($<i){var V=Math.sqrt(i=$);s=n-V,l=e-V,u=r-V,y=n+V,A=e+V,b=r+V,o=w.data}}return o}function oIe(n){if(isNaN(m=+this._x.call(null,n))||isNaN(v=+this._y.call(null,n))||isNaN(y=+this._z.call(null,n)))return this;var e,r=this._root,i,o,s,l=this._x0,u=this._y0,c=this._z0,d=this._x1,h=this._y1,p=this._z1,m,v,y,A,b,g,w,E,C,_,L;if(!r)return this;if(r.length)for(;;){if((w=m>=(A=(l+d)/2))?l=A:d=A,(E=v>=(b=(u+h)/2))?u=b:h=b,(C=y>=(g=(c+p)/2))?c=g:p=g,e=r,!(r=r[_=C<<2|E<<1|w]))return this;if(!r.length)break;(e[_+1&7]||e[_+2&7]||e[_+3&7]||e[_+4&7]||e[_+5&7]||e[_+6&7]||e[_+7&7])&&(i=e,L=_)}for(;r.data!==n;)if(o=r,!(r=r.next))return this;return(s=r.next)&&delete r.next,o?(s?o.next=s:delete o.next,this):e?(s?e[_]=s:delete e[_],(r=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&r===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!r.length&&(i?i[L]=r:this._root=r),this):(this._root=s,this)}function aIe(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this}function sIe(){return this._root}function lIe(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function cIe(n){var e=[],r,i=this._root,o,s,l,u,c,d,h;for(i&&e.push(new Qi(i,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=e.pop();)if(!n(i=r.node,s=r.x0,l=r.y0,u=r.z0,c=r.x1,d=r.y1,h=r.z1)&&i.length){var p=(s+c)/2,m=(l+d)/2,v=(u+h)/2;(o=i[7])&&e.push(new Qi(o,p,m,v,c,d,h)),(o=i[6])&&e.push(new Qi(o,s,m,v,p,d,h)),(o=i[5])&&e.push(new Qi(o,p,l,v,c,m,h)),(o=i[4])&&e.push(new Qi(o,s,l,v,p,m,h)),(o=i[3])&&e.push(new Qi(o,p,m,u,c,d,v)),(o=i[2])&&e.push(new Qi(o,s,m,u,p,d,v)),(o=i[1])&&e.push(new Qi(o,p,l,u,c,m,v)),(o=i[0])&&e.push(new Qi(o,s,l,u,p,m,v))}return this}function uIe(n){var e=[],r=[],i;for(this._root&&e.push(new Qi(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=e.pop();){var o=i.node;if(o.length){var s,l=i.x0,u=i.y0,c=i.z0,d=i.x1,h=i.y1,p=i.z1,m=(l+d)/2,v=(u+h)/2,y=(c+p)/2;(s=o[0])&&e.push(new Qi(s,l,u,c,m,v,y)),(s=o[1])&&e.push(new Qi(s,m,u,c,d,v,y)),(s=o[2])&&e.push(new Qi(s,l,v,c,m,h,y)),(s=o[3])&&e.push(new Qi(s,m,v,c,d,h,y)),(s=o[4])&&e.push(new Qi(s,l,u,y,m,v,p)),(s=o[5])&&e.push(new Qi(s,m,u,y,d,v,p)),(s=o[6])&&e.push(new Qi(s,l,v,y,m,h,p)),(s=o[7])&&e.push(new Qi(s,m,v,y,d,h,p))}r.push(i)}for(;i=r.pop();)n(i.node,i.x0,i.y0,i.z0,i.x1,i.y1,i.z1);return this}function dIe(n){return n[0]}function fIe(n){return arguments.length?(this._x=n,this):this._x}function hIe(n){return n[1]}function pIe(n){return arguments.length?(this._y=n,this):this._y}function mIe(n){return n[2]}function gIe(n){return arguments.length?(this._z=n,this):this._z}function yj(n,e,r,i){var o=new dP(e??dIe,r??hIe,i??mIe,NaN,NaN,NaN,NaN,NaN,NaN);return n==null?o:o.addAll(n)}function dP(n,e,r,i,o,s,l,u,c){this._x=n,this._y=e,this._z=r,this._x0=i,this._y0=o,this._z0=s,this._x1=l,this._y1=u,this._z1=c,this._root=void 0}function d8(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var Ba=yj.prototype=dP.prototype;Ba.copy=function(){var n=new dP(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),e=this._root,r,i;if(!e)return n;if(!e.length)return n._root=d8(e),n;for(r=[{source:e,target:n._root=new Array(8)}];e=r.pop();)for(var o=0;o<8;++o)(i=e.source[o])&&(i.length?r.push({source:i,target:e.target[o]=new Array(8)}):e.target[o]=d8(i));return n};Ba.add=ZRe;Ba.addAll=eIe;Ba.cover=tIe;Ba.data=nIe;Ba.extent=rIe;Ba.find=iIe;Ba.remove=oIe;Ba.removeAll=aIe;Ba.root=sIe;Ba.size=lIe;Ba.visit=cIe;Ba.visitAfter=uIe;Ba.x=fIe;Ba.y=pIe;Ba.z=gIe;function vu(n){return function(){return n}}function fu(n){return(n()-.5)*1e-6}function vIe(n){return n.index}function f8(n,e){var r=n.get(e);if(!r)throw new Error("node not found: "+e);return r}function bj(n){var e=vIe,r=m,i,o=vu(30),s,l,u,c,d,h,p=1;n==null&&(n=[]);function m(g){return 1/Math.min(c[g.source.index],c[g.target.index])}function v(g){for(var w=0,E=n.length;w<p;++w)for(var C=0,_,L,R,P=0,T=0,D=0,$,V;C<E;++C)_=n[C],L=_.source,R=_.target,P=R.x+R.vx-L.x-L.vx||fu(h),u>1&&(T=R.y+R.vy-L.y-L.vy||fu(h)),u>2&&(D=R.z+R.vz-L.z-L.vz||fu(h)),$=Math.sqrt(P*P+T*T+D*D),$=($-s[C])/$*g*i[C],P*=$,T*=$,D*=$,R.vx-=P*(V=d[C]),u>1&&(R.vy-=T*V),u>2&&(R.vz-=D*V),L.vx+=P*(V=1-V),u>1&&(L.vy+=T*V),u>2&&(L.vz+=D*V)}function y(){if(l){var g,w=l.length,E=n.length,C=new Map(l.map((L,R)=>[e(L,R,l),L])),_;for(g=0,c=new Array(w);g<E;++g)_=n[g],_.index=g,typeof _.source!="object"&&(_.source=f8(C,_.source)),typeof _.target!="object"&&(_.target=f8(C,_.target)),c[_.source.index]=(c[_.source.index]||0)+1,c[_.target.index]=(c[_.target.index]||0)+1;for(g=0,d=new Array(E);g<E;++g)_=n[g],d[g]=c[_.source.index]/(c[_.source.index]+c[_.target.index]);i=new Array(E),A(),s=new Array(E),b()}}function A(){if(l)for(var g=0,w=n.length;g<w;++g)i[g]=+r(n[g],g,n)}function b(){if(l)for(var g=0,w=n.length;g<w;++g)s[g]=+o(n[g],g,n)}return v.initialize=function(g,...w){l=g,h=w.find(E=>typeof E=="function")||Math.random,u=w.find(E=>[1,2,3].includes(E))||2,y()},v.links=function(g){return arguments.length?(n=g,y(),v):n},v.id=function(g){return arguments.length?(e=g,v):e},v.iterations=function(g){return arguments.length?(p=+g,v):p},v.strength=function(g){return arguments.length?(r=typeof g=="function"?g:vu(+g),A(),v):r},v.distance=function(g){return arguments.length?(o=typeof g=="function"?g:vu(+g),b(),v):o},v}var AIe={value:()=>{}};function ty(){for(var n=0,e=arguments.length,r={},i;n<e;++n){if(!(i=arguments[n]+"")||i in r||/[\s.]/.test(i))throw new Error("illegal type: "+i);r[i]=[]}return new ax(r)}function ax(n){this._=n}function yIe(n,e){return n.trim().split(/^|\s+/).map(function(r){var i="",o=r.indexOf(".");if(o>=0&&(i=r.slice(o+1),r=r.slice(0,o)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:i}})}ax.prototype=ty.prototype={constructor:ax,on:function(n,e){var r=this._,i=yIe(n+"",r),o,s=-1,l=i.length;if(arguments.length<2){for(;++s<l;)if((o=(n=i[s]).type)&&(o=bIe(r[o],n.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<l;)if(o=(n=i[s]).type)r[o]=h8(r[o],n.name,e);else if(e==null)for(o in r)r[o]=h8(r[o],n.name,null);return this},copy:function(){var n={},e=this._;for(var r in e)n[r]=e[r].slice();return new ax(n)},call:function(n,e){if((o=arguments.length-2)>0)for(var r=new Array(o),i=0,o,s;i<o;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(s=this._[n],i=0,o=s.length;i<o;++i)s[i].value.apply(e,r)},apply:function(n,e,r){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],o=0,s=i.length;o<s;++o)i[o].value.apply(e,r)}};function bIe(n,e){for(var r=0,i=n.length,o;r<i;++r)if((o=n[r]).name===e)return o.value}function h8(n,e,r){for(var i=0,o=n.length;i<o;++i)if(n[i].name===e){n[i]=AIe,n=n.slice(0,i).concat(n.slice(i+1));break}return r!=null&&n.push({name:e,value:r}),n}var cg=0,p0=0,Wv=0,xj=1e3,vE,m0,AE=0,wh=0,XC=0,_A=typeof performance=="object"&&performance.now?performance:Date,Ej=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function fP(){return wh||(Ej(xIe),wh=_A.now()+XC)}function xIe(){wh=0}function yE(){this._call=this._time=this._next=null}yE.prototype=hP.prototype={constructor:yE,restart:function(n,e,r){if(typeof n!="function")throw new TypeError("callback is not a function");r=(r==null?fP():+r)+(e==null?0:+e),!this._next&&m0!==this&&(m0?m0._next=this:vE=this,m0=this),this._call=n,this._time=r,rR()},stop:function(){this._call&&(this._call=null,this._time=1/0,rR())}};function hP(n,e,r){var i=new yE;return i.restart(n,e,r),i}function EIe(){fP(),++cg;for(var n=vE,e;n;)(e=wh-n._time)>=0&&n._call.call(void 0,e),n=n._next;--cg}function p8(){wh=(AE=_A.now())+XC,cg=p0=0;try{EIe()}finally{cg=0,wIe(),wh=0}}function CIe(){var n=_A.now(),e=n-AE;e>xj&&(XC-=e,AE=n)}function wIe(){for(var n,e=vE,r,i=1/0;e;)e._call?(i>e._time&&(i=e._time),n=e,e=e._next):(r=e._next,e._next=null,e=n?n._next=r:vE=r);m0=n,rR(i)}function rR(n){if(!cg){p0&&(p0=clearTimeout(p0));var e=n-wh;e>24?(n<1/0&&(p0=setTimeout(p8,n-_A.now()-XC)),Wv&&(Wv=clearInterval(Wv))):(Wv||(AE=_A.now(),Wv=setInterval(CIe,xj)),cg=1,Ej(p8))}}function m8(n,e,r){var i=new yE;return e=e==null?0:+e,i.restart(o=>{i.stop(),n(o+e)},e,r),i}const SIe=1664525,_Ie=1013904223,g8=4294967296;function MIe(){let n=1;return()=>(n=(SIe*n+_Ie)%g8)/g8}var v8=3;function rM(n){return n.x}function A8(n){return n.y}function TIe(n){return n.z}var RIe=10,IIe=Math.PI*(3-Math.sqrt(5)),LIe=Math.PI*20/(9+Math.sqrt(221));function Cj(n,e){e=e||2;var r=Math.min(v8,Math.max(1,Math.round(e))),i,o=1,s=.001,l=1-Math.pow(s,1/300),u=0,c=.6,d=new Map,h=hP(v),p=ty("tick","end"),m=MIe();n==null&&(n=[]);function v(){y(),p.call("tick",i),o<s&&(h.stop(),p.call("end",i))}function y(g){var w,E=n.length,C;g===void 0&&(g=1);for(var _=0;_<g;++_)for(o+=(u-o)*l,d.forEach(function(L){L(o)}),w=0;w<E;++w)C=n[w],C.fx==null?C.x+=C.vx*=c:(C.x=C.fx,C.vx=0),r>1&&(C.fy==null?C.y+=C.vy*=c:(C.y=C.fy,C.vy=0)),r>2&&(C.fz==null?C.z+=C.vz*=c:(C.z=C.fz,C.vz=0));return i}function A(){for(var g=0,w=n.length,E;g<w;++g){if(E=n[g],E.index=g,E.fx!=null&&(E.x=E.fx),E.fy!=null&&(E.y=E.fy),E.fz!=null&&(E.z=E.fz),isNaN(E.x)||r>1&&isNaN(E.y)||r>2&&isNaN(E.z)){var C=RIe*(r>2?Math.cbrt(.5+g):r>1?Math.sqrt(.5+g):g),_=g*IIe,L=g*LIe;r===1?E.x=C:r===2?(E.x=C*Math.cos(_),E.y=C*Math.sin(_)):(E.x=C*Math.sin(_)*Math.cos(L),E.y=C*Math.cos(_),E.z=C*Math.sin(_)*Math.sin(L))}(isNaN(E.vx)||r>1&&isNaN(E.vy)||r>2&&isNaN(E.vz))&&(E.vx=0,r>1&&(E.vy=0),r>2&&(E.vz=0))}}function b(g){return g.initialize&&g.initialize(n,m,r),g}return A(),i={tick:y,restart:function(){return h.restart(v),i},stop:function(){return h.stop(),i},numDimensions:function(g){return arguments.length?(r=Math.min(v8,Math.max(1,Math.round(g))),d.forEach(b),i):r},nodes:function(g){return arguments.length?(n=g,A(),d.forEach(b),i):n},alpha:function(g){return arguments.length?(o=+g,i):o},alphaMin:function(g){return arguments.length?(s=+g,i):s},alphaDecay:function(g){return arguments.length?(l=+g,i):+l},alphaTarget:function(g){return arguments.length?(u=+g,i):u},velocityDecay:function(g){return arguments.length?(c=1-g,i):1-c},randomSource:function(g){return arguments.length?(m=g,d.forEach(b),i):m},force:function(g,w){return arguments.length>1?(w==null?d.delete(g):d.set(g,b(w)),i):d.get(g)},find:function(){var g=Array.prototype.slice.call(arguments),w=g.shift()||0,E=(r>1?g.shift():null)||0,C=(r>2?g.shift():null)||0,_=g.shift()||1/0,L=0,R=n.length,P,T,D,$,V,B;for(_*=_,L=0;L<R;++L)V=n[L],P=w-V.x,T=E-(V.y||0),D=C-(V.z||0),$=P*P+T*T+D*D,$<_&&(B=V,_=$);return B},on:function(g,w){return arguments.length>1?(p.on(g,w),i):p.on(g)}}}function wj(){var n,e,r,i,o,s=vu(-30),l,u=1,c=1/0,d=.81;function h(y){var A,b=n.length,g=(e===1?mj(n,rM):e===2?vj(n,rM,A8):e===3?yj(n,rM,A8,TIe):null).visitAfter(m);for(o=y,A=0;A<b;++A)r=n[A],g.visit(v)}function p(){if(n){var y,A=n.length,b;for(l=new Array(A),y=0;y<A;++y)b=n[y],l[b.index]=+s(b,y,n)}}function m(y){var A=0,b,g,w=0,E,C,_,L,R=y.length;if(R){for(E=C=_=L=0;L<R;++L)(b=y[L])&&(g=Math.abs(b.value))&&(A+=b.value,w+=g,E+=g*(b.x||0),C+=g*(b.y||0),_+=g*(b.z||0));A*=Math.sqrt(4/R),y.x=E/w,e>1&&(y.y=C/w),e>2&&(y.z=_/w)}else{b=y,b.x=b.data.x,e>1&&(b.y=b.data.y),e>2&&(b.z=b.data.z);do A+=l[b.data.index];while(b=b.next)}y.value=A}function v(y,A,b,g,w){if(!y.value)return!0;var E=[b,g,w][e-1],C=y.x-r.x,_=e>1?y.y-r.y:0,L=e>2?y.z-r.z:0,R=E-A,P=C*C+_*_+L*L;if(R*R/d<P)return P<c&&(C===0&&(C=fu(i),P+=C*C),e>1&&_===0&&(_=fu(i),P+=_*_),e>2&&L===0&&(L=fu(i),P+=L*L),P<u&&(P=Math.sqrt(u*P)),r.vx+=C*y.value*o/P,e>1&&(r.vy+=_*y.value*o/P),e>2&&(r.vz+=L*y.value*o/P)),!0;if(y.length||P>=c)return;(y.data!==r||y.next)&&(C===0&&(C=fu(i),P+=C*C),e>1&&_===0&&(_=fu(i),P+=_*_),e>2&&L===0&&(L=fu(i),P+=L*L),P<u&&(P=Math.sqrt(u*P)));do y.data!==r&&(R=l[y.data.index]*o/P,r.vx+=C*R,e>1&&(r.vy+=_*R),e>2&&(r.vz+=L*R));while(y=y.next)}return h.initialize=function(y,...A){n=y,i=A.find(b=>typeof b=="function")||Math.random,e=A.find(b=>[1,2,3].includes(b))||2,p()},h.strength=function(y){return arguments.length?(s=typeof y=="function"?y:vu(+y),p(),h):s},h.distanceMin=function(y){return arguments.length?(u=y*y,h):Math.sqrt(u)},h.distanceMax=function(y){return arguments.length?(c=y*y,h):Math.sqrt(c)},h.theta=function(y){return arguments.length?(d=y*y,h):Math.sqrt(d)},h}function Sj(n,e,r,i){var o,s,l=vu(.1),u,c;typeof n!="function"&&(n=vu(+n)),e==null&&(e=0),r==null&&(r=0),i==null&&(i=0);function d(p){for(var m=0,v=o.length;m<v;++m){var y=o[m],A=y.x-e||1e-6,b=(y.y||0)-r||1e-6,g=(y.z||0)-i||1e-6,w=Math.sqrt(A*A+b*b+g*g),E=(c[m]-w)*u[m]*p/w;y.vx+=A*E,s>1&&(y.vy+=b*E),s>2&&(y.vz+=g*E)}}function h(){if(o){var p,m=o.length;for(u=new Array(m),c=new Array(m),p=0;p<m;++p)c[p]=+n(o[p],p,o),u[p]=isNaN(c[p])?0:+l(o[p],p,o)}}return d.initialize=function(p,...m){o=p,s=m.find(v=>[1,2,3].includes(v))||2,h()},d.strength=function(p){return arguments.length?(l=typeof p=="function"?p:vu(+p),h(),d):l},d.radius=function(p){return arguments.length?(n=typeof p=="function"?p:vu(+p),h(),d):n},d.x=function(p){return arguments.length?(e=+p,d):e},d.y=function(p){return arguments.length?(r=+p,d):r},d.z=function(p){return arguments.length?(i=+p,d):i},d}var pP=function(e){BIe(e);var r=PIe(e);return e.on=r.on,e.off=r.off,e.fire=r.fire,e};function PIe(n){var e=Object.create(null);return{on:function(r,i,o){if(typeof i!="function")throw new Error("callback is expected to be a function");var s=e[r];return s||(s=e[r]=[]),s.push({callback:i,ctx:o}),n},off:function(r,i){var o=typeof r>"u";if(o)return e=Object.create(null),n;if(e[r]){var s=typeof i!="function";if(s)delete e[r];else for(var l=e[r],u=0;u<l.length;++u)l[u].callback===i&&l.splice(u,1)}return n},fire:function(r){var i=e[r];if(!i)return n;var o;arguments.length>1&&(o=Array.prototype.splice.call(arguments,1));for(var s=0;s<i.length;++s){var l=i[s];l.callback.apply(l.ctx,o)}return n}}}function BIe(n){if(!n)throw new Error("Eventify cannot use falsy object as events subject");for(var e=["on","fire","off"],r=0;r<e.length;++r)if(n.hasOwnProperty(e[r]))throw new Error("Subject cannot be eventified, since it already has property '"+e[r]+"'")}var OIe=NIe,DIe=pP;function NIe(n){if(n=n||{},"uniqueLinkId"in n&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n",`
`,`Note: there is also change in default behavior: From now on each graph
is considered to be not a multigraph by default (each edge is unique).`),n.multigraph=n.uniqueLinkId),n.multigraph===void 0&&(n.multigraph=!1),typeof Map!="function")throw new Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var e=new Map,r=new Map,i={},o=0,s=n.multigraph?C:E,l=[],u=k,c=k,d=k,h=k,p={version:20,addNode:A,addLink:w,removeLink:P,removeNode:g,getNode:b,getNodeCount:_,getLinkCount:L,getEdgeCount:L,getLinksCount:L,getNodesCount:_,getLinks:R,forEachNode:j,forEachLinkedNode:B,forEachLink:V,beginUpdate:d,endUpdate:h,clear:$,hasLink:D,hasNode:b,getLink:D};return DIe(p),m(),p;function m(){var Q=p.on;p.on=X;function X(){return p.beginUpdate=d=z,p.endUpdate=h=G,u=v,c=y,p.on=Q,Q.apply(p,arguments)}}function v(Q,X){l.push({link:Q,changeType:X})}function y(Q,X){l.push({node:Q,changeType:X})}function A(Q,X){if(Q===void 0)throw new Error("Invalid node identifier");d();var J=b(Q);return J?(J.data=X,c(J,"update")):(J=new kIe(Q,X),c(J,"add")),e.set(Q,J),h(),J}function b(Q){return e.get(Q)}function g(Q){var X=b(Q);if(!X)return!1;d();var J=X.links;return J&&(J.forEach(T),X.links=null),e.delete(Q),c(X,"remove"),h(),!0}function w(Q,X,J){d();var Z=b(Q)||A(Q),oe=b(X)||A(X),ue=s(Q,X,J),Be=r.has(ue.id);return r.set(ue.id,ue),y8(Z,ue),Q!==X&&y8(oe,ue),u(ue,Be?"update":"add"),h(),ue}function E(Q,X,J){var Z=E1(Q,X),oe=r.get(Z);return oe?(oe.data=J,oe):new b8(Q,X,J,Z)}function C(Q,X,J){var Z=E1(Q,X),oe=i.hasOwnProperty(Z);if(oe||D(Q,X)){oe||(i[Z]=0);var ue="@"+ ++i[Z];Z=E1(Q+ue,X+ue)}return new b8(Q,X,J,Z)}function _(){return e.size}function L(){return r.size}function R(Q){var X=b(Q);return X?X.links:null}function P(Q,X){return X!==void 0&&(Q=D(Q,X)),T(Q)}function T(Q){if(!Q||!r.get(Q.id))return!1;d(),r.delete(Q.id);var X=b(Q.fromId),J=b(Q.toId);return X&&X.links.delete(Q),J&&J.links.delete(Q),u(Q,"remove"),h(),!0}function D(Q,X){if(!(Q===void 0||X===void 0))return r.get(E1(Q,X))}function $(){d(),j(function(Q){g(Q.id)}),h()}function V(Q){if(typeof Q=="function")for(var X=r.values(),J=X.next();!J.done;){if(Q(J.value))return!0;J=X.next()}}function B(Q,X,J){var Z=b(Q);if(Z&&Z.links&&typeof X=="function")return J?F(Z.links,Q,X):O(Z.links,Q,X)}function O(Q,X,J){for(var Z,oe=Q.values(),ue=oe.next();!ue.done;){var Be=ue.value,ge=Be.fromId===X?Be.toId:Be.fromId;if(Z=J(e.get(ge),Be),Z)return!0;ue=oe.next()}}function F(Q,X,J){for(var Z,oe=Q.values(),ue=oe.next();!ue.done;){var Be=ue.value;if(Be.fromId===X&&(Z=J(e.get(Be.toId),Be),Z))return!0;ue=oe.next()}}function k(){}function z(){o+=1}function G(){o-=1,o===0&&l.length>0&&(p.fire("changed",l),l.length=0)}function j(Q){if(typeof Q!="function")throw new Error("Function is expected to iterate over graph nodes. You passed "+Q);for(var X=e.values(),J=X.next();!J.done;){if(Q(J.value))return!0;J=X.next()}}}function kIe(n,e){this.id=n,this.links=null,this.data=e}function y8(n,e){n.links?n.links.add(e):n.links=new Set([e])}function b8(n,e,r,i){this.fromId=n,this.toId=e,this.data=r,this.id=i}function E1(n,e){return n.toString()+"👉 "+e.toString()}const FIe=Nu(OIe);var mP={exports:{}},ny={exports:{}},_j=function(e){return e===0?"x":e===1?"y":e===2?"z":"c"+(e+1)};const UIe=_j;var Sg=function(e){return r;function r(i,o){let s=o&&o.indent||0,l=o&&o.join!==void 0?o.join:`
`,u=Array(s+1).join(" "),c=[];for(let d=0;d<e;++d){let h=UIe(d),p=d===0?"":u;c.push(p+i.replace(/{var}/g,h))}return c.join(l)}};const Mj=Sg;ny.exports=zIe;ny.exports.generateCreateBodyFunctionBody=Tj;ny.exports.getVectorCode=Ij;ny.exports.getBodyCode=Rj;function zIe(n,e){let r=Tj(n,e),{Body:i}=new Function(r)();return i}function Tj(n,e){return`
${Ij(n,e)}
${Rj(n)}
return {Body: Body, Vector: Vector};
`}function Rj(n){let e=Mj(n),r=e("{var}",{join:", "});return`
function Body(${r}) {
  this.isPinned = false;
  this.pos = new Vector(${r});
  this.force = new Vector();
  this.velocity = new Vector();
  this.mass = 1;

  this.springCount = 0;
  this.springLength = 0;
}

Body.prototype.reset = function() {
  this.force.reset();
  this.springCount = 0;
  this.springLength = 0;
}

Body.prototype.setPosition = function (${r}) {
  ${e("this.pos.{var} = {var} || 0;",{indent:2})}
};`}function Ij(n,e){let r=Mj(n),i="";return e&&(i=`${r(`
   var v{var};
Object.defineProperty(this, '{var}', {
  set: function(v) { 
    if (!Number.isFinite(v)) throw new Error('Cannot set non-numbers to {var}');
    v{var} = v; 
  },
  get: function() { return v{var}; }
});`)}`),`function Vector(${r("{var}",{join:", "})}) {
  ${i}
    if (typeof arguments[0] === 'object') {
      // could be another vector
      let v = arguments[0];
      ${r('if (!Number.isFinite(v.{var})) throw new Error("Expected value is not a finite number at Vector constructor ({var})");',{indent:4})}
      ${r("this.{var} = v.{var};",{indent:4})}
    } else {
      ${r('this.{var} = typeof {var} === "number" ? {var} : 0;',{indent:4})}
    }
  }
  
  Vector.prototype.reset = function () {
    ${r("this.{var} = ",{join:""})}0;
  };`}var HIe=ny.exports,ef={exports:{}};const gP=Sg,fd=_j;ef.exports=$Ie;ef.exports.generateQuadTreeFunctionBody=Lj;ef.exports.getInsertStackCode=Nj;ef.exports.getQuadNodeCode=Dj;ef.exports.isSamePosition=Pj;ef.exports.getChildBodyCode=Oj;ef.exports.setChildBodyCode=Bj;function $Ie(n){let e=Lj(n);return new Function(e)()}function Lj(n){let e=gP(n),r=Math.pow(2,n);return`
${Nj()}
${Dj(n)}
${Pj(n)}
${Oj(n)}
${Bj(n)}

function createQuadTree(options, random) {
  options = options || {};
  options.gravity = typeof options.gravity === 'number' ? options.gravity : -1;
  options.theta = typeof options.theta === 'number' ? options.theta : 0.8;

  var gravity = options.gravity;
  var updateQueue = [];
  var insertStack = new InsertStack();
  var theta = options.theta;

  var nodesCache = [];
  var currentInCache = 0;
  var root = newNode();

  return {
    insertBodies: insertBodies,

    /**
     * Gets root node if it is present
     */
    getRoot: function() {
      return root;
    },

    updateBodyForce: update,

    options: function(newOptions) {
      if (newOptions) {
        if (typeof newOptions.gravity === 'number') {
          gravity = newOptions.gravity;
        }
        if (typeof newOptions.theta === 'number') {
          theta = newOptions.theta;
        }

        return this;
      }

      return {
        gravity: gravity,
        theta: theta
      };
    }
  };

  function newNode() {
    // To avoid pressure on GC we reuse nodes.
    var node = nodesCache[currentInCache];
    if (node) {
${l("      node.")}
      node.body = null;
      node.mass = ${e("node.mass_{var} = ",{join:""})}0;
      ${e("node.min_{var} = node.max_{var} = ",{join:""})}0;
    } else {
      node = new QuadNode();
      nodesCache[currentInCache] = node;
    }

    ++currentInCache;
    return node;
  }

  function update(sourceBody) {
    var queue = updateQueue;
    var v;
    ${e("var d{var};",{indent:4})}
    var r; 
    ${e("var f{var} = 0;",{indent:4})}
    var queueLength = 1;
    var shiftIdx = 0;
    var pushIdx = 1;

    queue[0] = root;

    while (queueLength) {
      var node = queue[shiftIdx];
      var body = node.body;

      queueLength -= 1;
      shiftIdx += 1;
      var differentBody = (body !== sourceBody);
      if (body && differentBody) {
        // If the current node is a leaf node (and it is not source body),
        // calculate the force exerted by the current node on body, and add this
        // amount to body's net force.
        ${e("d{var} = body.pos.{var} - sourceBody.pos.{var};",{indent:8})}
        r = Math.sqrt(${e("d{var} * d{var}",{join:" + "})});

        if (r === 0) {
          // Poor man's protection against zero distance.
          ${e("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}
          r = Math.sqrt(${e("d{var} * d{var}",{join:" + "})});
        }

        // This is standard gravitation force calculation but we divide
        // by r^3 to save two operations when normalizing force vector.
        v = gravity * body.mass * sourceBody.mass / (r * r * r);
        ${e("f{var} += v * d{var};",{indent:8})}
      } else if (differentBody) {
        // Otherwise, calculate the ratio s / r,  where s is the width of the region
        // represented by the internal node, and r is the distance between the body
        // and the node's center-of-mass
        ${e("d{var} = node.mass_{var} / node.mass - sourceBody.pos.{var};",{indent:8})}
        r = Math.sqrt(${e("d{var} * d{var}",{join:" + "})});

        if (r === 0) {
          // Sorry about code duplication. I don't want to create many functions
          // right away. Just want to see performance first.
          ${e("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}
          r = Math.sqrt(${e("d{var} * d{var}",{join:" + "})});
        }
        // If s / r < θ, treat this internal node as a single body, and calculate the
        // force it exerts on sourceBody, and add this amount to sourceBody's net force.
        if ((node.max_${fd(0)} - node.min_${fd(0)}) / r < theta) {
          // in the if statement above we consider node's width only
          // because the region was made into square during tree creation.
          // Thus there is no difference between using width or height.
          v = gravity * node.mass * sourceBody.mass / (r * r * r);
          ${e("f{var} += v * d{var};",{indent:10})}
        } else {
          // Otherwise, run the procedure recursively on each of the current node's children.

          // I intentionally unfolded this loop, to save several CPU cycles.
${s()}
        }
      }
    }

    ${e("sourceBody.force.{var} += f{var};",{indent:4})}
  }

  function insertBodies(bodies) {
    ${e("var {var}min = Number.MAX_VALUE;",{indent:4})}
    ${e("var {var}max = Number.MIN_VALUE;",{indent:4})}
    var i = bodies.length;

    // To reduce quad tree depth we are looking for exact bounding box of all particles.
    while (i--) {
      var pos = bodies[i].pos;
      ${e("if (pos.{var} < {var}min) {var}min = pos.{var};",{indent:6})}
      ${e("if (pos.{var} > {var}max) {var}max = pos.{var};",{indent:6})}
    }

    // Makes the bounds square.
    var maxSideLength = -Infinity;
    ${e("if ({var}max - {var}min > maxSideLength) maxSideLength = {var}max - {var}min ;",{indent:4})}

    currentInCache = 0;
    root = newNode();
    ${e("root.min_{var} = {var}min;",{indent:4})}
    ${e("root.max_{var} = {var}min + maxSideLength;",{indent:4})}

    i = bodies.length - 1;
    if (i >= 0) {
      root.body = bodies[i];
    }
    while (i--) {
      insert(bodies[i], root);
    }
  }

  function insert(newBody) {
    insertStack.reset();
    insertStack.push(root, newBody);

    while (!insertStack.isEmpty()) {
      var stackItem = insertStack.pop();
      var node = stackItem.node;
      var body = stackItem.body;

      if (!node.body) {
        // This is internal node. Update the total mass of the node and center-of-mass.
        ${e("var {var} = body.pos.{var};",{indent:8})}
        node.mass += body.mass;
        ${e("node.mass_{var} += body.mass * {var};",{indent:8})}

        // Recursively insert the body in the appropriate quadrant.
        // But first find the appropriate quadrant.
        var quadIdx = 0; // Assume we are in the 0's quad.
        ${e("var min_{var} = node.min_{var};",{indent:8})}
        ${e("var max_{var} = (min_{var} + node.max_{var}) / 2;",{indent:8})}

${o(8)}

        var child = getChild(node, quadIdx);

        if (!child) {
          // The node is internal but this quadrant is not taken. Add
          // subnode to it.
          child = newNode();
          ${e("child.min_{var} = min_{var};",{indent:10})}
          ${e("child.max_{var} = max_{var};",{indent:10})}
          child.body = body;

          setChild(node, quadIdx, child);
        } else {
          // continue searching in this quadrant.
          insertStack.push(child, body);
        }
      } else {
        // We are trying to add to the leaf node.
        // We have to convert current leaf into internal node
        // and continue adding two nodes.
        var oldBody = node.body;
        node.body = null; // internal nodes do not cary bodies

        if (isSamePosition(oldBody.pos, body.pos)) {
          // Prevent infinite subdivision by bumping one node
          // anywhere in this quadrant
          var retriesCount = 3;
          do {
            var offset = random.nextDouble();
            ${e("var d{var} = (node.max_{var} - node.min_{var}) * offset;",{indent:12})}

            ${e("oldBody.pos.{var} = node.min_{var} + d{var};",{indent:12})}
            retriesCount -= 1;
            // Make sure we don't bump it out of the box. If we do, next iteration should fix it
          } while (retriesCount > 0 && isSamePosition(oldBody.pos, body.pos));

          if (retriesCount === 0 && isSamePosition(oldBody.pos, body.pos)) {
            // This is very bad, we ran out of precision.
            // if we do not return from the method we'll get into
            // infinite loop here. So we sacrifice correctness of layout, and keep the app running
            // Next layout iteration should get larger bounding box in the first step and fix this
            return;
          }
        }
        // Next iteration should subdivide node further.
        insertStack.push(node, oldBody);
        insertStack.push(node, body);
      }
    }
  }
}
return createQuadTree;

`;function o(u){let c=[],d=Array(u+1).join(" ");for(let h=0;h<n;++h)c.push(d+`if (${fd(h)} > max_${fd(h)}) {`),c.push(d+`  quadIdx = quadIdx + ${Math.pow(2,h)};`),c.push(d+`  min_${fd(h)} = max_${fd(h)};`),c.push(d+`  max_${fd(h)} = node.max_${fd(h)};`),c.push(d+"}");return c.join(`
`)}function s(){let u=Array(11).join(" "),c=[];for(let d=0;d<r;++d)c.push(u+`if (node.quad${d}) {`),c.push(u+`  queue[pushIdx] = node.quad${d};`),c.push(u+"  queueLength += 1;"),c.push(u+"  pushIdx += 1;"),c.push(u+"}");return c.join(`
`)}function l(u){let c=[];for(let d=0;d<r;++d)c.push(`${u}quad${d} = null;`);return c.join(`
`)}}function Pj(n){let e=gP(n);return`
  function isSamePosition(point1, point2) {
    ${e("var d{var} = Math.abs(point1.{var} - point2.{var});",{indent:2})}
  
    return ${e("d{var} < 1e-8",{join:" && "})};
  }  
`}function Bj(n){var e=Math.pow(2,n);return`
function setChild(node, idx, child) {
  ${r()}
}`;function r(){let i=[];for(let o=0;o<e;++o){let s=o===0?"  ":"  else ";i.push(`${s}if (idx === ${o}) node.quad${o} = child;`)}return i.join(`
`)}}function Oj(n){return`function getChild(node, idx) {
${e()}
  return null;
}`;function e(){let r=[],i=Math.pow(2,n);for(let o=0;o<i;++o)r.push(`  if (idx === ${o}) return node.quad${o};`);return r.join(`
`)}}function Dj(n){let e=gP(n),r=Math.pow(2,n);var i=`
function QuadNode() {
  // body stored inside this node. In quad tree only leaf nodes (by construction)
  // contain bodies:
  this.body = null;

  // Child nodes are stored in quads. Each quad is presented by number:
  // 0 | 1
  // -----
  // 2 | 3
${o("  this.")}

  // Total mass of current node
  this.mass = 0;

  // Center of mass coordinates
  ${e("this.mass_{var} = 0;",{indent:2})}

  // bounding box coordinates
  ${e("this.min_{var} = 0;",{indent:2})}
  ${e("this.max_{var} = 0;",{indent:2})}
}
`;return i;function o(s){let l=[];for(let u=0;u<r;++u)l.push(`${s}quad${u} = null;`);return l.join(`
`)}}function Nj(){return`
/**
 * Our implementation of QuadTree is non-recursive to avoid GC hit
 * This data structure represent stack of elements
 * which we are trying to insert into quad tree.
 */
function InsertStack () {
    this.stack = [];
    this.popIdx = 0;
}

InsertStack.prototype = {
    isEmpty: function() {
        return this.popIdx === 0;
    },
    push: function (node, body) {
        var item = this.stack[this.popIdx];
        if (!item) {
            // we are trying to avoid memory pressure: create new element
            // only when absolutely necessary
            this.stack[this.popIdx] = new InsertStackElement(node, body);
        } else {
            item.node = node;
            item.body = body;
        }
        ++this.popIdx;
    },
    pop: function () {
        if (this.popIdx > 0) {
            return this.stack[--this.popIdx];
        }
    },
    reset: function () {
        this.popIdx = 0;
    }
};

function InsertStackElement(node, body) {
    this.node = node; // QuadTree node
    this.body = body; // physical body which needs to be inserted to node
}
`}var GIe=ef.exports,vP={exports:{}};vP.exports=VIe;vP.exports.generateFunctionBody=kj;const jIe=Sg;function VIe(n){let e=kj(n);return new Function("bodies","settings","random",e)}function kj(n){let e=jIe(n);return`
  var boundingBox = {
    ${e("min_{var}: 0, max_{var}: 0,",{indent:4})}
  };

  return {
    box: boundingBox,

    update: updateBoundingBox,

    reset: resetBoundingBox,

    getBestNewPosition: function (neighbors) {
      var ${e("base_{var} = 0",{join:", "})};

      if (neighbors.length) {
        for (var i = 0; i < neighbors.length; ++i) {
          let neighborPos = neighbors[i].pos;
          ${e("base_{var} += neighborPos.{var};",{indent:10})}
        }

        ${e("base_{var} /= neighbors.length;",{indent:8})}
      } else {
        ${e("base_{var} = (boundingBox.min_{var} + boundingBox.max_{var}) / 2;",{indent:8})}
      }

      var springLength = settings.springLength;
      return {
        ${e("{var}: base_{var} + (random.nextDouble() - 0.5) * springLength,",{indent:8})}
      };
    }
  };

  function updateBoundingBox() {
    var i = bodies.length;
    if (i === 0) return; // No bodies - no borders.

    ${e("var max_{var} = -Infinity;",{indent:4})}
    ${e("var min_{var} = Infinity;",{indent:4})}

    while(i--) {
      // this is O(n), it could be done faster with quadtree, if we check the root node bounds
      var bodyPos = bodies[i].pos;
      ${e("if (bodyPos.{var} < min_{var}) min_{var} = bodyPos.{var};",{indent:6})}
      ${e("if (bodyPos.{var} > max_{var}) max_{var} = bodyPos.{var};",{indent:6})}
    }

    ${e("boundingBox.min_{var} = min_{var};",{indent:4})}
    ${e("boundingBox.max_{var} = max_{var};",{indent:4})}
  }

  function resetBoundingBox() {
    ${e("boundingBox.min_{var} = boundingBox.max_{var} = 0;",{indent:4})}
  }
`}var WIe=vP.exports,AP={exports:{}};const QIe=Sg;AP.exports=KIe;AP.exports.generateCreateDragForceFunctionBody=Fj;function KIe(n){let e=Fj(n);return new Function("options",e)}function Fj(n){return`
  if (!Number.isFinite(options.dragCoefficient)) throw new Error('dragCoefficient is not a finite number');

  return {
    update: function(body) {
      ${QIe(n)("body.force.{var} -= options.dragCoefficient * body.velocity.{var};",{indent:6})}
    }
  };
`}var XIe=AP.exports,yP={exports:{}};const qIe=Sg;yP.exports=YIe;yP.exports.generateCreateSpringForceFunctionBody=Uj;function YIe(n){let e=Uj(n);return new Function("options","random",e)}function Uj(n){let e=qIe(n);return`
  if (!Number.isFinite(options.springCoefficient)) throw new Error('Spring coefficient is not a number');
  if (!Number.isFinite(options.springLength)) throw new Error('Spring length is not a number');

  return {
    /**
     * Updates forces acting on a spring
     */
    update: function (spring) {
      var body1 = spring.from;
      var body2 = spring.to;
      var length = spring.length < 0 ? options.springLength : spring.length;
      ${e("var d{var} = body2.pos.{var} - body1.pos.{var};",{indent:6})}
      var r = Math.sqrt(${e("d{var} * d{var}",{join:" + "})});

      if (r === 0) {
        ${e("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:8})}
        r = Math.sqrt(${e("d{var} * d{var}",{join:" + "})});
      }

      var d = r - length;
      var coefficient = ((spring.coefficient > 0) ? spring.coefficient : options.springCoefficient) * d / r;

      ${e("body1.force.{var} += coefficient * d{var}",{indent:6})};
      body1.springCount += 1;
      body1.springLength += r;

      ${e("body2.force.{var} -= coefficient * d{var}",{indent:6})};
      body2.springCount += 1;
      body2.springLength += r;
    }
  };
`}var JIe=yP.exports,bP={exports:{}};const ZIe=Sg;bP.exports=eLe;bP.exports.generateIntegratorFunctionBody=zj;function eLe(n){let e=zj(n);return new Function("bodies","timeStep","adaptiveTimeStepWeight",e)}function zj(n){let e=ZIe(n);return`
  var length = bodies.length;
  if (length === 0) return 0;

  ${e("var d{var} = 0, t{var} = 0;",{indent:2})}

  for (var i = 0; i < length; ++i) {
    var body = bodies[i];
    if (body.isPinned) continue;

    if (adaptiveTimeStepWeight && body.springCount) {
      timeStep = (adaptiveTimeStepWeight * body.springLength/body.springCount);
    }

    var coeff = timeStep / body.mass;

    ${e("body.velocity.{var} += coeff * body.force.{var};",{indent:4})}
    ${e("var v{var} = body.velocity.{var};",{indent:4})}
    var v = Math.sqrt(${e("v{var} * v{var}",{join:" + "})});

    if (v > 1) {
      // We normalize it so that we move within timeStep range. 
      // for the case when v <= 1 - we let velocity to fade out.
      ${e("body.velocity.{var} = v{var} / v;",{indent:6})}
    }

    ${e("d{var} = timeStep * body.velocity.{var};",{indent:4})}

    ${e("body.pos.{var} += d{var};",{indent:4})}

    ${e("t{var} += Math.abs(d{var});",{indent:4})}
  }

  return (${e("t{var} * t{var}",{join:" + "})})/length;
`}var tLe=bP.exports,iM,x8;function nLe(){if(x8)return iM;x8=1,iM=n;function n(e,r,i,o){this.from=e,this.to=r,this.length=i,this.coefficient=o}return iM}var oM,E8;function rLe(){if(E8)return oM;E8=1,oM=n;function n(e,r){var i;if(e||(e={}),r){for(i in r)if(r.hasOwnProperty(i)){var o=e.hasOwnProperty(i),s=typeof r[i],l=!o||typeof e[i]!==s;l?e[i]=r[i]:s==="object"&&(e[i]=n(e[i],r[i]))}}return e}return oM}var Qv={exports:{}},C8;function iLe(){if(C8)return Qv.exports;C8=1,Qv.exports=n,Qv.exports.random=n,Qv.exports.randomIterator=u;function n(c){var d=typeof c=="number"?c:+new Date;return new e(d)}function e(c){this.seed=c}e.prototype.next=l,e.prototype.nextDouble=s,e.prototype.uniform=s,e.prototype.gaussian=r;function r(){var c,d,h;do d=this.nextDouble()*2-1,h=this.nextDouble()*2-1,c=d*d+h*h;while(c>=1||c===0);return d*Math.sqrt(-2*Math.log(c)/c)}e.prototype.levy=i;function i(){var c=1.5,d=Math.pow(o(1+c)*Math.sin(Math.PI*c/2)/(o((1+c)/2)*c*Math.pow(2,(c-1)/2)),1/c);return this.gaussian()*d/Math.pow(Math.abs(this.gaussian()),1/c)}function o(c){return Math.sqrt(2*Math.PI/c)*Math.pow(1/Math.E*(c+1/(12*c-1/(10*c))),c)}function s(){var c=this.seed;return c=c+2127912214+(c<<12)&4294967295,c=(c^3345072700^c>>>19)&4294967295,c=c+374761393+(c<<5)&4294967295,c=(c+3550635116^c<<9)&4294967295,c=c+4251993797+(c<<3)&4294967295,c=(c^3042594569^c>>>16)&4294967295,this.seed=c,(c&268435455)/268435456}function l(c){return Math.floor(this.nextDouble()*c)}function u(c,d){var h=d||n();if(typeof h.next!="function")throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:m,shuffle:p};function p(){var v,y,A;for(v=c.length-1;v>0;--v)y=h.next(v+1),A=c[y],c[y]=c[v],c[v]=A;return c}function m(v){var y,A,b;for(y=c.length-1;y>0;--y)A=h.next(y+1),b=c[A],c[A]=c[y],c[y]=b,v(b);c.length&&v(c[0])}}return Qv.exports}var Hj=dLe,oLe=HIe,aLe=GIe,sLe=WIe,lLe=XIe,cLe=JIe,uLe=tLe,w8={};function dLe(n){var e=nLe(),r=rLe(),i=pP;if(n){if(n.springCoeff!==void 0)throw new Error("springCoeff was renamed to springCoefficient");if(n.dragCoeff!==void 0)throw new Error("dragCoeff was renamed to dragCoefficient")}n=r(n,{springLength:10,springCoefficient:.8,gravity:-12,theta:.8,dragCoefficient:.9,timeStep:.5,adaptiveTimeStepWeight:0,dimensions:2,debug:!1});var o=w8[n.dimensions];if(!o){var s=n.dimensions;o={Body:oLe(s,n.debug),createQuadTree:aLe(s),createBounds:sLe(s),createDragForce:lLe(s),createSpringForce:cLe(s),integrate:uLe(s)},w8[s]=o}var l=o.Body,u=o.createQuadTree,c=o.createBounds,d=o.createDragForce,h=o.createSpringForce,p=o.integrate,m=F=>new l(F),v=iLe().random(42),y=[],A=[],b=u(n,v),g=c(y,n,v),w=h(n,v),E=d(n),C=0,_=[],L=new Map,R=0;D("nbody",B),D("spring",O);var P={bodies:y,quadTree:b,springs:A,settings:n,addForce:D,removeForce:$,getForces:V,step:function(){for(var F=0;F<_.length;++F)_[F](R);var k=p(y,n.timeStep,n.adaptiveTimeStepWeight);return R+=1,k},addBody:function(F){if(!F)throw new Error("Body is required");return y.push(F),F},addBodyAt:function(F){if(!F)throw new Error("Body position is required");var k=m(F);return y.push(k),k},removeBody:function(F){if(F){var k=y.indexOf(F);if(!(k<0))return y.splice(k,1),y.length===0&&g.reset(),!0}},addSpring:function(F,k,z,G){if(!F||!k)throw new Error("Cannot add null spring to force simulator");typeof z!="number"&&(z=-1);var j=new e(F,k,z,G>=0?G:-1);return A.push(j),j},getTotalMovement:function(){return C},removeSpring:function(F){if(F){var k=A.indexOf(F);if(k>-1)return A.splice(k,1),!0}},getBestNewBodyPosition:function(F){return g.getBestNewPosition(F)},getBBox:T,getBoundingBox:T,invalidateBBox:function(){console.warn("invalidateBBox() is deprecated, bounds always recomputed on `getBBox()` call")},gravity:function(F){return F!==void 0?(n.gravity=F,b.options({gravity:F}),this):n.gravity},theta:function(F){return F!==void 0?(n.theta=F,b.options({theta:F}),this):n.theta},random:v};return fLe(n,P),i(P),P;function T(){return g.update(),g.box}function D(F,k){if(L.has(F))throw new Error("Force "+F+" is already added");L.set(F,k),_.push(k)}function $(F){var k=_.indexOf(L.get(F));k<0||(_.splice(k,1),L.delete(F))}function V(){return L}function B(){if(y.length!==0){b.insertBodies(y);for(var F=y.length;F--;){var k=y[F];k.isPinned||(k.reset(),b.updateBodyForce(k),E.update(k))}}}function O(){for(var F=A.length;F--;)w.update(A[F])}}function fLe(n,e){for(var r in n)hLe(n,e,r)}function hLe(n,e,r){if(n.hasOwnProperty(r)&&typeof e[r]!="function"){var i=Number.isFinite(n[r]);i?e[r]=function(o){if(o!==void 0){if(!Number.isFinite(o))throw new Error("Value of "+r+" should be a valid number.");return n[r]=o,e}return n[r]}:e[r]=function(o){return o!==void 0?(n[r]=o,e):n[r]}}}mP.exports=mLe;mP.exports.simulator=Hj;var pLe=pP;function mLe(n,e){if(!n)throw new Error("Graph structure cannot be undefined");var r=e&&e.createSimulator||Hj,i=r(e);if(Array.isArray(e))throw new Error("Physics settings is expected to be an object");var o=n.version>19?B:V;e&&typeof e.nodeMass=="function"&&(o=e.nodeMass);var s=new Map,l={},u=0,c=i.settings.springTransform||gLe;E(),b();var d=!1,h={step:function(){if(u===0)return p(!0),!0;var O=i.step();h.lastMove=O,h.fire("step");var F=O/u,k=F<=.01;return p(k),k},getNodePosition:function(O){return $(O).pos},setNodePosition:function(O){var F=$(O);F.setPosition.apply(F,Array.prototype.slice.call(arguments,1))},getLinkPosition:function(O){var F=l[O];if(F)return{from:F.from.pos,to:F.to.pos}},getGraphRect:function(){return i.getBBox()},forEachBody:m,pinNode:function(O,F){var k=$(O.id);k.isPinned=!!F},isNodePinned:function(O){return $(O.id).isPinned},dispose:function(){n.off("changed",w),h.fire("disposed")},getBody:A,getSpring:y,getForceVectorLength:v,simulator:i,graph:n,lastMove:0};return pLe(h),h;function p(O){d!==O&&(d=O,g(O))}function m(O){s.forEach(O)}function v(){var O=0,F=0;return m(function(k){O+=Math.abs(k.force.x),F+=Math.abs(k.force.y)}),Math.sqrt(O*O+F*F)}function y(O,F){var k;if(F===void 0)typeof O!="object"?k=O:k=O.id;else{var z=n.hasLink(O,F);if(!z)return;k=z.id}return l[k]}function A(O){return s.get(O)}function b(){n.on("changed",w)}function g(O){h.fire("stable",O)}function w(O){for(var F=0;F<O.length;++F){var k=O[F];k.changeType==="add"?(k.node&&C(k.node.id),k.link&&L(k.link)):k.changeType==="remove"&&(k.node&&_(k.node),k.link&&R(k.link))}u=n.getNodesCount()}function E(){u=0,n.forEachNode(function(O){C(O.id),u+=1}),n.forEachLink(L)}function C(O){var F=s.get(O);if(!F){var k=n.getNode(O);if(!k)throw new Error("initBody() was called with unknown node id");var z=k.position;if(!z){var G=P(k);z=i.getBestNewBodyPosition(G)}F=i.addBodyAt(z),F.id=O,s.set(O,F),T(O),D(k)&&(F.isPinned=!0)}}function _(O){var F=O.id,k=s.get(F);k&&(s.delete(F),i.removeBody(k))}function L(O){T(O.fromId),T(O.toId);var F=s.get(O.fromId),k=s.get(O.toId),z=i.addSpring(F,k,O.length);c(O,z),l[O.id]=z}function R(O){var F=l[O.id];if(F){var k=n.getNode(O.fromId),z=n.getNode(O.toId);k&&T(k.id),z&&T(z.id),delete l[O.id],i.removeSpring(F)}}function P(O){var F=[];if(!O.links)return F;for(var k=Math.min(O.links.length,2),z=0;z<k;++z){var G=O.links[z],j=G.fromId!==O.id?s.get(G.fromId):s.get(G.toId);j&&j.pos&&F.push(j)}return F}function T(O){var F=s.get(O);if(F.mass=o(O),Number.isNaN(F.mass))throw new Error("Node mass should be a number")}function D(O){return O&&(O.isPinned||O.data&&O.data.isPinned)}function $(O){var F=s.get(O);return F||(C(O),F=s.get(O)),F}function V(O){var F=n.getLinks(O);return F?1+F.length/3:1}function B(O){var F=n.getLinks(O);return F?1+F.size/3:1}}function gLe(){}var vLe=mP.exports;const ALe=Nu(vLe);function bE(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var yLe=typeof global=="object"&&global&&global.Object===Object&&global;const bLe=yLe;var xLe=typeof self=="object"&&self&&self.Object===Object&&self,ELe=bLe||xLe||Function("return this")();const $j=ELe;var CLe=function(){return $j.Date.now()};const aM=CLe;var wLe=/\s/;function SLe(n){for(var e=n.length;e--&&wLe.test(n.charAt(e)););return e}var _Le=/^\s+/;function MLe(n){return n&&n.slice(0,SLe(n)+1).replace(_Le,"")}var TLe=$j.Symbol;const xE=TLe;var Gj=Object.prototype,RLe=Gj.hasOwnProperty,ILe=Gj.toString,Kv=xE?xE.toStringTag:void 0;function LLe(n){var e=RLe.call(n,Kv),r=n[Kv];try{n[Kv]=void 0;var i=!0}catch{}var o=ILe.call(n);return i&&(e?n[Kv]=r:delete n[Kv]),o}var PLe=Object.prototype,BLe=PLe.toString;function OLe(n){return BLe.call(n)}var DLe="[object Null]",NLe="[object Undefined]",S8=xE?xE.toStringTag:void 0;function kLe(n){return n==null?n===void 0?NLe:DLe:S8&&S8 in Object(n)?LLe(n):OLe(n)}function FLe(n){return n!=null&&typeof n=="object"}var ULe="[object Symbol]";function zLe(n){return typeof n=="symbol"||FLe(n)&&kLe(n)==ULe}var _8=0/0,HLe=/^[-+]0x[0-9a-f]+$/i,$Le=/^0b[01]+$/i,GLe=/^0o[0-7]+$/i,jLe=parseInt;function M8(n){if(typeof n=="number")return n;if(zLe(n))return _8;if(bE(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=bE(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=MLe(n);var r=$Le.test(n);return r||GLe.test(n)?jLe(n.slice(2),r?2:8):HLe.test(n)?_8:+n}var VLe="Expected a function",WLe=Math.max,QLe=Math.min;function jj(n,e,r){var i,o,s,l,u,c,d=0,h=!1,p=!1,m=!0;if(typeof n!="function")throw new TypeError(VLe);e=M8(e)||0,bE(r)&&(h=!!r.leading,p="maxWait"in r,s=p?WLe(M8(r.maxWait)||0,e):s,m="trailing"in r?!!r.trailing:m);function v(L){var R=i,P=o;return i=o=void 0,d=L,l=n.apply(P,R),l}function y(L){return d=L,u=setTimeout(g,e),h?v(L):l}function A(L){var R=L-c,P=L-d,T=e-R;return p?QLe(T,s-P):T}function b(L){var R=L-c,P=L-d;return c===void 0||R>=e||R<0||p&&P>=s}function g(){var L=aM();if(b(L))return w(L);u=setTimeout(g,A(L))}function w(L){return u=void 0,m&&i?v(L):(i=o=void 0,l)}function E(){u!==void 0&&clearTimeout(u),d=0,i=c=o=u=void 0}function C(){return u===void 0?l:w(aM())}function _(){var L=aM(),R=b(L);if(i=arguments,o=this,c=L,R){if(u===void 0)return y(c);if(p)return clearTimeout(u),u=setTimeout(g,e),v(c)}return u===void 0&&(u=setTimeout(g,e)),l}return _.cancel=E,_.flush=C,_}function KLe(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,s,l,u=[],c=!0,d=!1;try{if(s=(r=r.call(n)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(i=s.call(r)).done)&&(u.push(i.value),u.length!==e);c=!0);}catch(h){d=!0,o=h}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw o}}return u}}function XLe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function T8(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,nPe(i.key),i)}}function qLe(n,e,r){return e&&T8(n.prototype,e),r&&T8(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}function YLe(n,e){return JLe(n)||KLe(n,e)||ZLe(n,e)||ePe()}function JLe(n){if(Array.isArray(n))return n}function ZLe(n,e){if(n){if(typeof n=="string")return R8(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R8(n,e)}}function R8(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function ePe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tPe(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function nPe(n){var e=tPe(n,"string");return typeof e=="symbol"?e:String(e)}var rPe=qLe(function n(e,r){var i=r.default,o=i===void 0?null:i,s=r.triggerUpdate,l=s===void 0?!0:s,u=r.onChange,c=u===void 0?function(d,h){}:u;XLe(this,n),this.name=e,this.defaultVal=o,this.triggerUpdate=l,this.onChange=c});function Bh(n){var e=n.stateInit,r=e===void 0?function(){return{}}:e,i=n.props,o=i===void 0?{}:i,s=n.methods,l=s===void 0?{}:s,u=n.aliases,c=u===void 0?{}:u,d=n.init,h=d===void 0?function(){}:d,p=n.update,m=p===void 0?function(){}:p,v=Object.keys(o).map(function(y){return new rPe(y,o[y])});return function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=Object.assign({},r instanceof Function?r(y):r,{initialised:!1}),b={};function g(C){return w(C,y),E(),g}var w=function(_,L){h.call(g,_,A,L),A.initialised=!0},E=jj(function(){A.initialised&&(m.call(g,A,b),b={})},1);return v.forEach(function(C){g[C.name]=_(C);function _(L){var R=L.name,P=L.triggerUpdate,T=P===void 0?!1:P,D=L.onChange,$=D===void 0?function(O,F){}:D,V=L.defaultVal,B=V===void 0?null:V;return function(O){var F=A[R];if(!arguments.length)return F;var k=O===void 0?B:O;return A[R]=k,$.call(g,k,A,F),!b.hasOwnProperty(R)&&(b[R]=F),T&&E(),g}}}),Object.keys(l).forEach(function(C){g[C]=function(){for(var _,L=arguments.length,R=new Array(L),P=0;P<L;P++)R[P]=arguments[P];return(_=l[C]).call.apply(_,[g,A].concat(R))}}),Object.entries(c).forEach(function(C){var _=YLe(C,2),L=_[0],R=_[1];return g[L]=g[R]}),g.resetProps=function(){return v.forEach(function(C){g[C.name](C.defaultVal)}),g},g.resetProps(),A._rerender=E,g}}class I8 extends Map{constructor(e,r=aPe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[i,o]of e)this.set(i,o)}get(e){return super.get(L8(this,e))}has(e){return super.has(L8(this,e))}set(e,r){return super.set(iPe(this,e),r)}delete(e){return super.delete(oPe(this,e))}}function L8({_intern:n,_key:e},r){const i=e(r);return n.has(i)?n.get(i):r}function iPe({_intern:n,_key:e},r){const i=e(r);return n.has(i)?n.get(i):(n.set(i,r),r)}function oPe({_intern:n,_key:e},r){const i=e(r);return n.has(i)&&(r=n.get(i),n.delete(i)),r}function aPe(n){return n!==null&&typeof n=="object"?n.valueOf():n}function iR(n,e){let r;if(e===void 0)for(const i of n)i!=null&&(r<i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let o of n)(o=e(o,++i,n))!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}return r}function oR(n,e){let r;if(e===void 0)for(const i of n)i!=null&&(r>i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let o of n)(o=e(o,++i,n))!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}return r}function sPe(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,s,l,u=[],c=!0,d=!1;try{if(s=(r=r.call(n)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(i=s.call(r)).done)&&(u.push(i.value),u.length!==e);c=!0);}catch(h){d=!0,o=h}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw o}}return u}}function lPe(n,e){if(n==null)return{};var r={},i=Object.keys(n),o,s;for(s=0;s<i.length;s++)o=i[s],!(e.indexOf(o)>=0)&&(r[o]=n[o]);return r}function cPe(n,e){if(n==null)return{};var r=lPe(n,e),i,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(o=0;o<s.length;o++)i=s[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(r[i]=n[i])}return r}function uPe(n,e){return hPe(n)||sPe(n,e)||Vj(n,e)||gPe()}function dPe(n){return fPe(n)||pPe(n)||Vj(n)||mPe()}function fPe(n){if(Array.isArray(n))return aR(n)}function hPe(n){if(Array.isArray(n))return n}function pPe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Vj(n,e){if(n){if(typeof n=="string")return aR(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aR(n,e)}}function aR(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function mPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vPe(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function APe(n){var e=vPe(n,"string");return typeof e=="symbol"?e:String(e)}var sR=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=(e instanceof Array?e.length?e:[void 0]:[e]).map(function(u){return{keyAccessor:u,isProp:!(u instanceof Function)}}),s=n.reduce(function(u,c){var d=u,h=c;return o.forEach(function(p,m){var v=p.keyAccessor,y=p.isProp,A;if(y){var b=h,g=b[v],w=cPe(b,[v].map(APe));A=g,h=w}else A=v(h,m);m+1<o.length?(d.hasOwnProperty(A)||(d[A]={}),d=d[A]):r?(d.hasOwnProperty(A)||(d[A]=[]),d[A].push(h)):d[A]=h}),u},{});r instanceof Function&&function u(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;d===o.length?Object.keys(c).forEach(function(h){return c[h]=r(c[h])}):Object.values(c).forEach(function(h){return u(h,d+1)})}(s);var l=s;return i&&(l=[],function u(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];d.length===o.length?l.push({keys:d,vals:c}):Object.entries(c).forEach(function(h){var p=uPe(h,2),m=p[0],v=p[1];return u(v,[].concat(dPe(d),[m]))})}(s),e instanceof Array&&e.length===0&&l.length===1&&(l[0].keys=[])),l};function yPe(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,s,l,u=[],c=!0,d=!1;try{if(s=(r=r.call(n)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(i=s.call(r)).done)&&(u.push(i.value),u.length!==e);c=!0);}catch(h){d=!0,o=h}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw o}}return u}}function P8(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function bPe(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P8(Object(r),!0).forEach(function(i){Wj(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):P8(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function Wj(n,e,r){return e=RPe(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function xPe(n,e){if(n==null)return{};var r={},i=Object.keys(n),o,s;for(s=0;s<i.length;s++)o=i[s],!(e.indexOf(o)>=0)&&(r[o]=n[o]);return r}function EPe(n,e){if(n==null)return{};var r=xPe(n,e),i,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(o=0;o<s.length;o++)i=s[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(r[i]=n[i])}return r}function Qj(n,e){return wPe(n)||yPe(n,e)||Kj(n,e)||MPe()}function EE(n){return CPe(n)||SPe(n)||Kj(n)||_Pe()}function CPe(n){if(Array.isArray(n))return lR(n)}function wPe(n){if(Array.isArray(n))return n}function SPe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Kj(n,e){if(n){if(typeof n=="string")return lR(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lR(n,e)}}function lR(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function _Pe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TPe(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function RPe(n){var e=TPe(n,"string");return typeof e=="symbol"?e:String(e)}var IPe=["createObj","updateObj","exitObj","objBindAttr","dataBindAttr"];function LPe(n,e,r){var i={enter:[],update:[],exit:[]};if(r){var l=sR(n,r,!1),u=sR(e,r,!1),c=Object.assign({},l,u);Object.entries(c).forEach(function(d){var h=Qj(d,2),p=h[0],m=h[1],v=l.hasOwnProperty(p)?u.hasOwnProperty(p)?"update":"exit":"enter";i[v].push(v==="update"?[l[p],u[p]]:m)})}else{var o=new Set(n),s=new Set(e);new Set([].concat(EE(o),EE(s))).forEach(function(d){var h=o.has(d)?s.has(d)?"update":"exit":"enter";i[h].push(h==="update"?[d,d]:d)})}return i}function PPe(n,e,r){var i=r.objBindAttr,o=i===void 0?"__obj":i,s=r.dataBindAttr,l=s===void 0?"__data":s,u=r.idAccessor,c=r.purge,d=c===void 0?!1:c,h=function(b){return b.hasOwnProperty(l)},p=e.filter(function(A){return!h(A)}),m=e.filter(h).map(function(A){return A[l]}),v=n,y=d?{enter:v,exit:m,update:[]}:LPe(m,v,u);return y.update=y.update.map(function(A){var b=Qj(A,2),g=b[0],w=b[1];return g!==w&&(w[o]=g[o],w[o][l]=w),w}),y.exit=y.exit.concat(p.map(function(A){return Wj({},o,A)})),y}function BPe(n,e,r,i,o){var s=o.createObj,l=s===void 0?function(P){return{}}:s,u=o.updateObj,c=u===void 0?function(P,T){}:u,d=o.exitObj,h=d===void 0?function(P){}:d,p=o.objBindAttr,m=p===void 0?"__obj":p,v=o.dataBindAttr,y=v===void 0?"__data":v,A=EPe(o,IPe),b=PPe(n,e,bPe({objBindAttr:m,dataBindAttr:y},A)),g=b.enter,w=b.update,E=b.exit;E.forEach(function(P){var T=P[m];delete P[m],h(T),i(T)});var C=L(g),_=[].concat(EE(g),EE(w));R(_),C.forEach(r);function L(P){var T=[];return P.forEach(function(D){var $=l(D);$&&($[y]=D,D[m]=$,T.push($))}),T}function R(P){P.forEach(function(T){var D=T[m];D&&(D[y]=T,c(D,T))})}}function OPe(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}const B8=Symbol("implicit");function xP(){var n=new I8,e=[],r=[],i=B8;function o(s){let l=n.get(s);if(l===void 0){if(i!==B8)return i;n.set(s,l=e.push(s)-1)}return r[l%r.length]}return o.domain=function(s){if(!arguments.length)return e.slice();e=[],n=new I8;for(const l of s)n.has(l)||n.set(l,e.push(l)-1);return o},o.range=function(s){return arguments.length?(r=Array.from(s),o):r.slice()},o.unknown=function(s){return arguments.length?(i=s,o):i},o.copy=function(){return xP(e,r).unknown(i)},OPe.apply(o,arguments),o}function EP(n,e,r){n.prototype=e.prototype=r,r.constructor=n}function Xj(n,e){var r=Object.create(n.prototype);for(var i in e)r[i]=e[i];return r}function ry(){}var MA=.7,CE=1/MA,km="\\s*([+-]?\\d+)\\s*",TA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",DPe=/^#([0-9a-f]{3,8})$/,NPe=new RegExp(`^rgb\\(${km},${km},${km}\\)$`),kPe=new RegExp(`^rgb\\(${yc},${yc},${yc}\\)$`),FPe=new RegExp(`^rgba\\(${km},${km},${km},${TA}\\)$`),UPe=new RegExp(`^rgba\\(${yc},${yc},${yc},${TA}\\)$`),zPe=new RegExp(`^hsl\\(${TA},${yc},${yc}\\)$`),HPe=new RegExp(`^hsla\\(${TA},${yc},${yc},${TA}\\)$`),O8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};EP(ry,RA,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:D8,formatHex:D8,formatHex8:$Pe,formatHsl:GPe,formatRgb:N8,toString:N8});function D8(){return this.rgb().formatHex()}function $Pe(){return this.rgb().formatHex8()}function GPe(){return qj(this).formatHsl()}function N8(){return this.rgb().formatRgb()}function RA(n){var e,r;return n=(n+"").trim().toLowerCase(),(e=DPe.exec(n))?(r=e[1].length,e=parseInt(e[1],16),r===6?k8(e):r===3?new as(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?C1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?C1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=NPe.exec(n))?new as(e[1],e[2],e[3],1):(e=kPe.exec(n))?new as(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=FPe.exec(n))?C1(e[1],e[2],e[3],e[4]):(e=UPe.exec(n))?C1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=zPe.exec(n))?z8(e[1],e[2]/100,e[3]/100,1):(e=HPe.exec(n))?z8(e[1],e[2]/100,e[3]/100,e[4]):O8.hasOwnProperty(n)?k8(O8[n]):n==="transparent"?new as(NaN,NaN,NaN,0):null}function k8(n){return new as(n>>16&255,n>>8&255,n&255,1)}function C1(n,e,r,i){return i<=0&&(n=e=r=NaN),new as(n,e,r,i)}function jPe(n){return n instanceof ry||(n=RA(n)),n?(n=n.rgb(),new as(n.r,n.g,n.b,n.opacity)):new as}function cR(n,e,r,i){return arguments.length===1?jPe(n):new as(n,e,r,i??1)}function as(n,e,r,i){this.r=+n,this.g=+e,this.b=+r,this.opacity=+i}EP(as,cR,Xj(ry,{brighter(n){return n=n==null?CE:Math.pow(CE,n),new as(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?MA:Math.pow(MA,n),new as(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new as(hh(this.r),hh(this.g),hh(this.b),wE(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:F8,formatHex:F8,formatHex8:VPe,formatRgb:U8,toString:U8}));function F8(){return`#${th(this.r)}${th(this.g)}${th(this.b)}`}function VPe(){return`#${th(this.r)}${th(this.g)}${th(this.b)}${th((isNaN(this.opacity)?1:this.opacity)*255)}`}function U8(){const n=wE(this.opacity);return`${n===1?"rgb(":"rgba("}${hh(this.r)}, ${hh(this.g)}, ${hh(this.b)}${n===1?")":`, ${n})`}`}function wE(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function hh(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function th(n){return n=hh(n),(n<16?"0":"")+n.toString(16)}function z8(n,e,r,i){return i<=0?n=e=r=NaN:r<=0||r>=1?n=e=NaN:e<=0&&(n=NaN),new Ul(n,e,r,i)}function qj(n){if(n instanceof Ul)return new Ul(n.h,n.s,n.l,n.opacity);if(n instanceof ry||(n=RA(n)),!n)return new Ul;if(n instanceof Ul)return n;n=n.rgb();var e=n.r/255,r=n.g/255,i=n.b/255,o=Math.min(e,r,i),s=Math.max(e,r,i),l=NaN,u=s-o,c=(s+o)/2;return u?(e===s?l=(r-i)/u+(r<i)*6:r===s?l=(i-e)/u+2:l=(e-r)/u+4,u/=c<.5?s+o:2-s-o,l*=60):u=c>0&&c<1?0:l,new Ul(l,u,c,n.opacity)}function WPe(n,e,r,i){return arguments.length===1?qj(n):new Ul(n,e,r,i??1)}function Ul(n,e,r,i){this.h=+n,this.s=+e,this.l=+r,this.opacity=+i}EP(Ul,WPe,Xj(ry,{brighter(n){return n=n==null?CE:Math.pow(CE,n),new Ul(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?MA:Math.pow(MA,n),new Ul(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*e,o=2*r-i;return new as(sM(n>=240?n-240:n+120,o,i),sM(n,o,i),sM(n<120?n+240:n-120,o,i),this.opacity)},clamp(){return new Ul(H8(this.h),w1(this.s),w1(this.l),wE(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=wE(this.opacity);return`${n===1?"hsl(":"hsla("}${H8(this.h)}, ${w1(this.s)*100}%, ${w1(this.l)*100}%${n===1?")":`, ${n})`}`}}));function H8(n){return n=(n||0)%360,n<0?n+360:n}function w1(n){return Math.max(0,Math.min(1,n||0))}function sM(n,e,r){return(n<60?e+(r-e)*n/60:n<180?r:n<240?e+(r-e)*(240-n)/60:e)*255}const Yj=n=>()=>n;function QPe(n,e){return function(r){return n+r*e}}function KPe(n,e,r){return n=Math.pow(n,r),e=Math.pow(e,r)-n,r=1/r,function(i){return Math.pow(n+i*e,r)}}function XPe(n){return(n=+n)==1?Jj:function(e,r){return r-e?KPe(e,r,n):Yj(isNaN(e)?r:e)}}function Jj(n,e){var r=e-n;return r?QPe(n,r):Yj(isNaN(n)?e:n)}const $8=function n(e){var r=XPe(e);function i(o,s){var l=r((o=cR(o)).r,(s=cR(s)).r),u=r(o.g,s.g),c=r(o.b,s.b),d=Jj(o.opacity,s.opacity);return function(h){return o.r=l(h),o.g=u(h),o.b=c(h),o.opacity=d(h),o+""}}return i.gamma=n,i}(1);function wd(n,e){return n=+n,e=+e,function(r){return n*(1-r)+e*r}}var uR=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lM=new RegExp(uR.source,"g");function qPe(n){return function(){return n}}function YPe(n){return function(e){return n(e)+""}}function JPe(n,e){var r=uR.lastIndex=lM.lastIndex=0,i,o,s,l=-1,u=[],c=[];for(n=n+"",e=e+"";(i=uR.exec(n))&&(o=lM.exec(e));)(s=o.index)>r&&(s=e.slice(r,s),u[l]?u[l]+=s:u[++l]=s),(i=i[0])===(o=o[0])?u[l]?u[l]+=o:u[++l]=o:(u[++l]=null,c.push({i:l,x:wd(i,o)})),r=lM.lastIndex;return r<e.length&&(s=e.slice(r),u[l]?u[l]+=s:u[++l]=s),u.length<2?c[0]?YPe(c[0].x):qPe(e):(e=c.length,function(d){for(var h=0,p;h<e;++h)u[(p=c[h]).i]=p.x(d);return u.join("")})}var G8=180/Math.PI,dR={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Zj(n,e,r,i,o,s){var l,u,c;return(l=Math.sqrt(n*n+e*e))&&(n/=l,e/=l),(c=n*r+e*i)&&(r-=n*c,i-=e*c),(u=Math.sqrt(r*r+i*i))&&(r/=u,i/=u,c/=u),n*i<e*r&&(n=-n,e=-e,c=-c,l=-l),{translateX:o,translateY:s,rotate:Math.atan2(e,n)*G8,skewX:Math.atan(c)*G8,scaleX:l,scaleY:u}}var S1;function ZPe(n){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?dR:Zj(e.a,e.b,e.c,e.d,e.e,e.f)}function eBe(n){return n==null||(S1||(S1=document.createElementNS("http://www.w3.org/2000/svg","g")),S1.setAttribute("transform",n),!(n=S1.transform.baseVal.consolidate()))?dR:(n=n.matrix,Zj(n.a,n.b,n.c,n.d,n.e,n.f))}function eV(n,e,r,i){function o(d){return d.length?d.pop()+" ":""}function s(d,h,p,m,v,y){if(d!==p||h!==m){var A=v.push("translate(",null,e,null,r);y.push({i:A-4,x:wd(d,p)},{i:A-2,x:wd(h,m)})}else(p||m)&&v.push("translate("+p+e+m+r)}function l(d,h,p,m){d!==h?(d-h>180?h+=360:h-d>180&&(d+=360),m.push({i:p.push(o(p)+"rotate(",null,i)-2,x:wd(d,h)})):h&&p.push(o(p)+"rotate("+h+i)}function u(d,h,p,m){d!==h?m.push({i:p.push(o(p)+"skewX(",null,i)-2,x:wd(d,h)}):h&&p.push(o(p)+"skewX("+h+i)}function c(d,h,p,m,v,y){if(d!==p||h!==m){var A=v.push(o(v)+"scale(",null,",",null,")");y.push({i:A-4,x:wd(d,p)},{i:A-2,x:wd(h,m)})}else(p!==1||m!==1)&&v.push(o(v)+"scale("+p+","+m+")")}return function(d,h){var p=[],m=[];return d=n(d),h=n(h),s(d.translateX,d.translateY,h.translateX,h.translateY,p,m),l(d.rotate,h.rotate,p,m),u(d.skewX,h.skewX,p,m),c(d.scaleX,d.scaleY,h.scaleX,h.scaleY,p,m),d=h=null,function(v){for(var y=-1,A=m.length,b;++y<A;)p[(b=m[y]).i]=b.x(v);return p.join("")}}}var tBe=eV(ZPe,"px, ","px)","deg)"),nBe=eV(eBe,", ",")",")"),rBe=1e-12;function j8(n){return((n=Math.exp(n))+1/n)/2}function iBe(n){return((n=Math.exp(n))-1/n)/2}function oBe(n){return((n=Math.exp(2*n))-1)/(n+1)}const aBe=function n(e,r,i){function o(s,l){var u=s[0],c=s[1],d=s[2],h=l[0],p=l[1],m=l[2],v=h-u,y=p-c,A=v*v+y*y,b,g;if(A<rBe)g=Math.log(m/d)/e,b=function(R){return[u+R*v,c+R*y,d*Math.exp(e*R*g)]};else{var w=Math.sqrt(A),E=(m*m-d*d+i*A)/(2*d*r*w),C=(m*m-d*d-i*A)/(2*m*r*w),_=Math.log(Math.sqrt(E*E+1)-E),L=Math.log(Math.sqrt(C*C+1)-C);g=(L-_)/e,b=function(R){var P=R*g,T=j8(_),D=d/(r*w)*(T*oBe(e*P+_)-iBe(_));return[u+D*v,c+D*y,d*T/j8(e*P+_)]}}return b.duration=g*1e3*e/Math.SQRT2,b}return o.rho=function(s){var l=Math.max(.001,+s),u=l*l,c=u*u;return n(l,u,c)},o}(Math.SQRT2,2,4);function sBe(n){for(var e=n.length/6|0,r=new Array(e),i=0;i<e;)r[i]="#"+n.slice(i*6,++i*6);return r}const tV=sBe("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function SE(n){"@babel/helpers - typeof";return SE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SE(n)}var lBe=/^\s+/,cBe=/\s+$/;function Lr(n,e){if(n=n||"",e=e||{},n instanceof Lr)return n;if(!(this instanceof Lr))return new Lr(n,e);var r=uBe(n);this._originalInput=n,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}Lr.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),r,i,o,s,l,u;return r=e.r/255,i=e.g/255,o=e.b/255,r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),i<=.03928?l=i/12.92:l=Math.pow((i+.055)/1.055,2.4),o<=.03928?u=o/12.92:u=Math.pow((o+.055)/1.055,2.4),.2126*s+.7152*l+.0722*u},setAlpha:function(e){return this._a=nV(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=W8(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=W8(this._r,this._g,this._b),r=Math.round(e.h*360),i=Math.round(e.s*100),o=Math.round(e.v*100);return this._a==1?"hsv("+r+", "+i+"%, "+o+"%)":"hsva("+r+", "+i+"%, "+o+"%, "+this._roundA+")"},toHsl:function(){var e=V8(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=V8(this._r,this._g,this._b),r=Math.round(e.h*360),i=Math.round(e.s*100),o=Math.round(e.l*100);return this._a==1?"hsl("+r+", "+i+"%, "+o+"%)":"hsla("+r+", "+i+"%, "+o+"%, "+this._roundA+")"},toHex:function(e){return Q8(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return pBe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(ao(this._r,255)*100)+"%",g:Math.round(ao(this._g,255)*100)+"%",b:Math.round(ao(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(ao(this._r,255)*100)+"%, "+Math.round(ao(this._g,255)*100)+"%, "+Math.round(ao(this._b,255)*100)+"%)":"rgba("+Math.round(ao(this._r,255)*100)+"%, "+Math.round(ao(this._g,255)*100)+"%, "+Math.round(ao(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:_Be[Q8(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var r="#"+K8(this._r,this._g,this._b,this._a),i=r,o=this._gradientType?"GradientType = 1, ":"";if(e){var s=Lr(e);i="#"+K8(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+r+",endColorstr="+i+")"},toString:function(e){var r=!!e;e=e||this._format;var i=!1,o=this._a<1&&this._a>=0,s=!r&&o&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return Lr(this.toString())},_applyModification:function(e,r){var i=e.apply(null,[this].concat([].slice.call(r)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(ABe,arguments)},brighten:function(){return this._applyModification(yBe,arguments)},darken:function(){return this._applyModification(bBe,arguments)},desaturate:function(){return this._applyModification(mBe,arguments)},saturate:function(){return this._applyModification(gBe,arguments)},greyscale:function(){return this._applyModification(vBe,arguments)},spin:function(){return this._applyModification(xBe,arguments)},_applyCombination:function(e,r){return e.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(wBe,arguments)},complement:function(){return this._applyCombination(EBe,arguments)},monochromatic:function(){return this._applyCombination(SBe,arguments)},splitcomplement:function(){return this._applyCombination(CBe,arguments)},triad:function(){return this._applyCombination(X8,[3])},tetrad:function(){return this._applyCombination(X8,[4])}};Lr.fromRatio=function(n,e){if(SE(n)=="object"){var r={};for(var i in n)n.hasOwnProperty(i)&&(i==="a"?r[i]=n[i]:r[i]=g0(n[i]));n=r}return Lr(n,e)};function uBe(n){var e={r:0,g:0,b:0},r=1,i=null,o=null,s=null,l=!1,u=!1;return typeof n=="string"&&(n=IBe(n)),SE(n)=="object"&&(tu(n.r)&&tu(n.g)&&tu(n.b)?(e=dBe(n.r,n.g,n.b),l=!0,u=String(n.r).substr(-1)==="%"?"prgb":"rgb"):tu(n.h)&&tu(n.s)&&tu(n.v)?(i=g0(n.s),o=g0(n.v),e=hBe(n.h,i,o),l=!0,u="hsv"):tu(n.h)&&tu(n.s)&&tu(n.l)&&(i=g0(n.s),s=g0(n.l),e=fBe(n.h,i,s),l=!0,u="hsl"),n.hasOwnProperty("a")&&(r=n.a)),r=nV(r),{ok:l,format:n.format||u,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}function dBe(n,e,r){return{r:ao(n,255)*255,g:ao(e,255)*255,b:ao(r,255)*255}}function V8(n,e,r){n=ao(n,255),e=ao(e,255),r=ao(r,255);var i=Math.max(n,e,r),o=Math.min(n,e,r),s,l,u=(i+o)/2;if(i==o)s=l=0;else{var c=i-o;switch(l=u>.5?c/(2-i-o):c/(i+o),i){case n:s=(e-r)/c+(e<r?6:0);break;case e:s=(r-n)/c+2;break;case r:s=(n-e)/c+4;break}s/=6}return{h:s,s:l,l:u}}function fBe(n,e,r){var i,o,s;n=ao(n,360),e=ao(e,100),r=ao(r,100);function l(d,h,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?d+(h-d)*6*p:p<1/2?h:p<2/3?d+(h-d)*(2/3-p)*6:d}if(e===0)i=o=s=r;else{var u=r<.5?r*(1+e):r+e-r*e,c=2*r-u;i=l(c,u,n+1/3),o=l(c,u,n),s=l(c,u,n-1/3)}return{r:i*255,g:o*255,b:s*255}}function W8(n,e,r){n=ao(n,255),e=ao(e,255),r=ao(r,255);var i=Math.max(n,e,r),o=Math.min(n,e,r),s,l,u=i,c=i-o;if(l=i===0?0:c/i,i==o)s=0;else{switch(i){case n:s=(e-r)/c+(e<r?6:0);break;case e:s=(r-n)/c+2;break;case r:s=(n-e)/c+4;break}s/=6}return{h:s,s:l,v:u}}function hBe(n,e,r){n=ao(n,360)*6,e=ao(e,100),r=ao(r,100);var i=Math.floor(n),o=n-i,s=r*(1-e),l=r*(1-o*e),u=r*(1-(1-o)*e),c=i%6,d=[r,l,s,s,u,r][c],h=[u,r,r,l,s,s][c],p=[s,s,u,r,r,l][c];return{r:d*255,g:h*255,b:p*255}}function Q8(n,e,r,i){var o=[$l(Math.round(n).toString(16)),$l(Math.round(e).toString(16)),$l(Math.round(r).toString(16))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function pBe(n,e,r,i,o){var s=[$l(Math.round(n).toString(16)),$l(Math.round(e).toString(16)),$l(Math.round(r).toString(16)),$l(rV(i))];return o&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function K8(n,e,r,i){var o=[$l(rV(i)),$l(Math.round(n).toString(16)),$l(Math.round(e).toString(16)),$l(Math.round(r).toString(16))];return o.join("")}Lr.equals=function(n,e){return!n||!e?!1:Lr(n).toRgbString()==Lr(e).toRgbString()};Lr.random=function(){return Lr.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function mBe(n,e){e=e===0?0:e||10;var r=Lr(n).toHsl();return r.s-=e/100,r.s=qC(r.s),Lr(r)}function gBe(n,e){e=e===0?0:e||10;var r=Lr(n).toHsl();return r.s+=e/100,r.s=qC(r.s),Lr(r)}function vBe(n){return Lr(n).desaturate(100)}function ABe(n,e){e=e===0?0:e||10;var r=Lr(n).toHsl();return r.l+=e/100,r.l=qC(r.l),Lr(r)}function yBe(n,e){e=e===0?0:e||10;var r=Lr(n).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),Lr(r)}function bBe(n,e){e=e===0?0:e||10;var r=Lr(n).toHsl();return r.l-=e/100,r.l=qC(r.l),Lr(r)}function xBe(n,e){var r=Lr(n).toHsl(),i=(r.h+e)%360;return r.h=i<0?360+i:i,Lr(r)}function EBe(n){var e=Lr(n).toHsl();return e.h=(e.h+180)%360,Lr(e)}function X8(n,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var r=Lr(n).toHsl(),i=[Lr(n)],o=360/e,s=1;s<e;s++)i.push(Lr({h:(r.h+s*o)%360,s:r.s,l:r.l}));return i}function CBe(n){var e=Lr(n).toHsl(),r=e.h;return[Lr(n),Lr({h:(r+72)%360,s:e.s,l:e.l}),Lr({h:(r+216)%360,s:e.s,l:e.l})]}function wBe(n,e,r){e=e||6,r=r||30;var i=Lr(n).toHsl(),o=360/r,s=[Lr(n)];for(i.h=(i.h-(o*e>>1)+720)%360;--e;)i.h=(i.h+o)%360,s.push(Lr(i));return s}function SBe(n,e){e=e||6;for(var r=Lr(n).toHsv(),i=r.h,o=r.s,s=r.v,l=[],u=1/e;e--;)l.push(Lr({h:i,s:o,v:s})),s=(s+u)%1;return l}Lr.mix=function(n,e,r){r=r===0?0:r||50;var i=Lr(n).toRgb(),o=Lr(e).toRgb(),s=r/100,l={r:(o.r-i.r)*s+i.r,g:(o.g-i.g)*s+i.g,b:(o.b-i.b)*s+i.b,a:(o.a-i.a)*s+i.a};return Lr(l)};Lr.readability=function(n,e){var r=Lr(n),i=Lr(e);return(Math.max(r.getLuminance(),i.getLuminance())+.05)/(Math.min(r.getLuminance(),i.getLuminance())+.05)};Lr.isReadable=function(n,e,r){var i=Lr.readability(n,e),o,s;switch(s=!1,o=LBe(r),o.level+o.size){case"AAsmall":case"AAAlarge":s=i>=4.5;break;case"AAlarge":s=i>=3;break;case"AAAsmall":s=i>=7;break}return s};Lr.mostReadable=function(n,e,r){var i=null,o=0,s,l,u,c;r=r||{},l=r.includeFallbackColors,u=r.level,c=r.size;for(var d=0;d<e.length;d++)s=Lr.readability(n,e[d]),s>o&&(o=s,i=Lr(e[d]));return Lr.isReadable(n,i,{level:u,size:c})||!l?i:(r.includeFallbackColors=!1,Lr.mostReadable(n,["#fff","#000"],r))};var fR=Lr.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},_Be=Lr.hexNames=MBe(fR);function MBe(n){var e={};for(var r in n)n.hasOwnProperty(r)&&(e[n[r]]=r);return e}function nV(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function ao(n,e){TBe(n)&&(n="100%");var r=RBe(n);return n=Math.min(e,Math.max(0,parseFloat(n))),r&&(n=parseInt(n*e,10)/100),Math.abs(n-e)<1e-6?1:n%e/parseFloat(e)}function qC(n){return Math.min(1,Math.max(0,n))}function Ms(n){return parseInt(n,16)}function TBe(n){return typeof n=="string"&&n.indexOf(".")!=-1&&parseFloat(n)===1}function RBe(n){return typeof n=="string"&&n.indexOf("%")!=-1}function $l(n){return n.length==1?"0"+n:""+n}function g0(n){return n<=1&&(n=n*100+"%"),n}function rV(n){return Math.round(parseFloat(n)*255).toString(16)}function q8(n){return Ms(n)/255}var Tl=function(){var n="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",r="(?:"+e+")|(?:"+n+")",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",o="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+o),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function tu(n){return!!Tl.CSS_UNIT.exec(n)}function IBe(n){n=n.replace(lBe,"").replace(cBe,"").toLowerCase();var e=!1;if(fR[n])n=fR[n],e=!0;else if(n=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=Tl.rgb.exec(n))?{r:r[1],g:r[2],b:r[3]}:(r=Tl.rgba.exec(n))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Tl.hsl.exec(n))?{h:r[1],s:r[2],l:r[3]}:(r=Tl.hsla.exec(n))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Tl.hsv.exec(n))?{h:r[1],s:r[2],v:r[3]}:(r=Tl.hsva.exec(n))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Tl.hex8.exec(n))?{r:Ms(r[1]),g:Ms(r[2]),b:Ms(r[3]),a:q8(r[4]),format:e?"name":"hex8"}:(r=Tl.hex6.exec(n))?{r:Ms(r[1]),g:Ms(r[2]),b:Ms(r[3]),format:e?"name":"hex"}:(r=Tl.hex4.exec(n))?{r:Ms(r[1]+""+r[1]),g:Ms(r[2]+""+r[2]),b:Ms(r[3]+""+r[3]),a:q8(r[4]+""+r[4]),format:e?"name":"hex8"}:(r=Tl.hex3.exec(n))?{r:Ms(r[1]+""+r[1]),g:Ms(r[2]+""+r[2]),b:Ms(r[3]+""+r[3]),format:e?"name":"hex"}:!1}function LBe(n){var e,r;return n=n||{level:"AA",size:"small"},e=(n.level||"AA").toUpperCase(),r=(n.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:e,size:r}}function PBe(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,s,l,u=[],c=!0,d=!1;try{if(s=(r=r.call(n)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(i=s.call(r)).done)&&(u.push(i.value),u.length!==e);c=!0);}catch(h){d=!0,o=h}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw o}}return u}}function Y8(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function iV(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y8(Object(r),!0).forEach(function(i){CP(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Y8(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function hR(n){"@babel/helpers - typeof";return hR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hR(n)}function BBe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function J8(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,lV(i.key),i)}}function OBe(n,e,r){return e&&J8(n.prototype,e),r&&J8(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}function CP(n,e,r){return e=lV(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function DBe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&ME(n,e)}function _E(n){return _E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_E(n)}function ME(n,e){return ME=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},ME(n,e)}function oV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sx(n,e,r){return oV()?sx=Reflect.construct.bind():sx=function(o,s,l){var u=[null];u.push.apply(u,s);var c=Function.bind.apply(o,u),d=new c;return l&&ME(d,l.prototype),d},sx.apply(null,arguments)}function NBe(n,e){if(n==null)return{};var r={},i=Object.keys(n),o,s;for(s=0;s<i.length;s++)o=i[s],!(e.indexOf(o)>=0)&&(r[o]=n[o]);return r}function kBe(n,e){if(n==null)return{};var r=NBe(n,e),i,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(o=0;o<s.length;o++)i=s[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(r[i]=n[i])}return r}function aV(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function FBe(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aV(n)}function UBe(n){var e=oV();return function(){var i=_E(n),o;if(e){var s=_E(this).constructor;o=Reflect.construct(i,arguments,s)}else o=i.apply(this,arguments);return FBe(this,o)}}function Z8(n,e){return HBe(n)||PBe(n,e)||sV(n,e)||jBe()}function Dl(n){return zBe(n)||$Be(n)||sV(n)||GBe()}function zBe(n){if(Array.isArray(n))return pR(n)}function HBe(n){if(Array.isArray(n))return n}function $Be(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function sV(n,e){if(n){if(typeof n=="string")return pR(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pR(n,e)}}function pR(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function GBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VBe(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function lV(n){var e=VBe(n,"string");return typeof e=="symbol"?e:String(e)}var WBe=function n(e){e instanceof Array?e.forEach(n):(e.map&&e.map.dispose(),e.dispose())},QBe=function n(e){e.geometry&&e.geometry.dispose(),e.material&&WBe(e.material),e.texture&&e.texture.dispose(),e.children&&e.children.forEach(n)},mR=function(e){for(;e.children.length;){var r=e.children[0];e.remove(r),QBe(r)}},KBe=["objFilter"];function Xv(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.objFilter,o=i===void 0?function(){return!0}:i,s=kBe(r,KBe);return BPe(n,e.children.filter(o),function(l){return e.add(l)},function(l){e.remove(l),mR(l)},iV({objBindAttr:"__threeObj"},s))}var qv=function(e){return isNaN(e)?parseInt(Lr(e).toHex(),16):e},cM=function(e){return isNaN(e)?Lr(e).getAlpha():1},XBe=xP(tV);function e6(n,e,r){!e||typeof r!="string"||n.filter(function(i){return!i[r]}).forEach(function(i){i[r]=XBe(e(i))})}function qBe(n,e){var r=n.nodes,i=n.links,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=o.nodeFilter,l=s===void 0?function(){return!0}:s,u=o.onLoopError,c=u===void 0?function(v){throw"Invalid DAG structure! Found cycle in node path: ".concat(v.join(" -> "),".")}:u,d={};r.forEach(function(v){return d[e(v)]={data:v,out:[],depth:-1,skip:!l(v)}}),i.forEach(function(v){var y=v.source,A=v.target,b=C(y),g=C(A);if(!d.hasOwnProperty(b))throw"Missing source node with id: ".concat(b);if(!d.hasOwnProperty(g))throw"Missing target node with id: ".concat(g);var w=d[b],E=d[g];w.out.push(E);function C(_){return hR(_)==="object"?e(_):_}});var h=[];m(Object.values(d));var p=Object.assign.apply(Object,[{}].concat(Dl(Object.entries(d).filter(function(v){var y=Z8(v,2),A=y[1];return!A.skip}).map(function(v){var y=Z8(v,2),A=y[0],b=y[1];return CP({},A,b.depth)}))));return p;function m(v){for(var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,b=function(){var _=v[g];if(y.indexOf(_)!==-1){var L=[].concat(Dl(y.slice(y.indexOf(_))),[_]).map(function(R){return e(R.data)});return h.some(function(R){return R.length===L.length&&R.every(function(P,T){return P===L[T]})})||(h.push(L),c(L)),"continue"}A>_.depth&&(_.depth=A,m(_.out,[].concat(Dl(y),[_]),A+(_.skip?0:1)))},g=0,w=v.length;g<w;g++)var E=b()}}var Qr=window.THREE?window.THREE:{Group:Am,Mesh:Hl,MeshLambertMaterial:n3e,Color:mi,BufferGeometry:fs,BufferAttribute:sl,Matrix4:lo,Vector3:Rt,SphereGeometry:QC,CylinderGeometry:WC,TubeGeometry:sP,ConeGeometry:aP,Line:zTe,LineBasicMaterial:tj,QuadraticBezierCurve3:oP,CubicBezierCurve3:rj,Box3:Lh},t6={graph:FIe,forcelayout:ALe},YBe=2,n6=new Qr.BufferGeometry().setAttribute?"setAttribute":"addAttribute",_1=new Qr.BufferGeometry().applyMatrix4?"applyMatrix4":"applyMatrix",JBe=Bh({props:{jsonUrl:{onChange:function(e,r){var i=this;e&&!r.fetchingJson&&(r.fetchingJson=!0,r.onLoading(),fetch(e).then(function(o){return o.json()}).then(function(o){r.fetchingJson=!1,r.onFinishLoading(o),i.graphData(o)}))},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,r){r.engineRunning=!1}},numDimensions:{default:3,onChange:function(e,r){var i=r.d3ForceLayout.force("charge");i&&i.strength(e>2?-60:-30),e<3&&o(r.graphData.nodes,"z"),e<2&&o(r.graphData.nodes,"y");function o(s,l){s.forEach(function(u){delete u[l],delete u["v".concat(l)]})}}},dagMode:{onChange:function(e,r){!e&&r.forceEngine==="d3"&&(r.graphData.nodes||[]).forEach(function(i){return i.fx=i.fy=i.fz=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(e){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4},nodeId:{default:"id"},nodeVal:{default:"val"},nodeResolution:{default:8},nodeColor:{default:"color"},nodeAutoColorBy:{},nodeOpacity:{default:.75},nodeVisibility:{default:!0},nodeThreeObject:{},nodeThreeObjectExtend:{default:!1},nodePositionUpdate:{triggerUpdate:!1},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0},linkColor:{default:"color"},linkAutoColorBy:{},linkOpacity:{default:.2},linkWidth:{},linkResolution:{default:6},linkCurvature:{default:0,triggerUpdate:!1},linkCurveRotation:{default:0,triggerUpdate:!1},linkMaterial:{},linkThreeObject:{},linkThreeObjectExtend:{default:!1},linkPositionUpdate:{triggerUpdate:!1},linkDirectionalArrowLength:{default:0},linkDirectionalArrowColor:{},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1},linkDirectionalArrowResolution:{default:8},linkDirectionalParticles:{default:0},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:.5},linkDirectionalParticleColor:{},linkDirectionalParticleResolution:{default:4},forceEngine:{default:"d3"},d3AlphaMin:{default:0},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,r){r.d3ForceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,r){r.d3ForceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,r){r.d3ForceLayout.velocityDecay(e)}},ngraphPhysics:{default:{timeStep:20,gravity:-1.2,theta:.8,springLength:30,springCoefficient:8e-4,dragCoefficient:.02}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onLoading:{default:function(){},triggerUpdate:!1},onFinishLoading:{default:function(){},triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1}},methods:{refresh:function(e){return e._flushObjects=!0,e._rerender(),this},d3Force:function(e,r,i){return i===void 0?e.d3ForceLayout.force(r):(e.d3ForceLayout.force(r,i),this)},d3ReheatSimulation:function(e){return e.d3ForceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},tickFrame:function(e){var r=e.forceEngine!=="ngraph";return e.engineRunning&&i(),o(),s(),this;function i(){++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime||r&&e.d3AlphaMin>0&&e.d3ForceLayout.alpha()<e.d3AlphaMin?(e.engineRunning=!1,e.onEngineStop()):(e.layout[r?"tick":"step"](),e.onEngineTick());var l=Tr(e.nodeThreeObjectExtend);e.graphData.nodes.forEach(function(m){var v=m.__threeObj;if(v){var y=r?m:e.layout.getNodePosition(m[e.nodeId]),A=l(m);(!e.nodePositionUpdate||!e.nodePositionUpdate(A?v.children[0]:v,{x:y.x,y:y.y,z:y.z},m)||A)&&(v.position.x=y.x,v.position.y=y.y||0,v.position.z=y.z||0)}});var u=Tr(e.linkWidth),c=Tr(e.linkCurvature),d=Tr(e.linkCurveRotation),h=Tr(e.linkThreeObjectExtend);e.graphData.links.forEach(function(m){var v=m.__lineObj;if(v){var y=r?m:e.layout.getLinkPosition(e.layout.graph.getLink(m.source,m.target).id),A=y[r?"source":"from"],b=y[r?"target":"to"];if(!(!A||!b||!A.hasOwnProperty("x")||!b.hasOwnProperty("x"))){p(m);var g=h(m);if(!(e.linkPositionUpdate&&e.linkPositionUpdate(g?v.children[1]:v,{start:{x:A.x,y:A.y,z:A.z},end:{x:b.x,y:b.y,z:b.z}},m)&&!g)){var w=30,E=m.__curve,C=v.children.length?v.children[0]:v;if(C.type==="Line"){if(E)C.geometry.setFromPoints(E.getPoints(w));else{var _=C.geometry.getAttribute("position");(!_||!_.array||_.array.length!==6)&&C.geometry[n6]("position",_=new Qr.BufferAttribute(new Float32Array(2*3),3)),_.array[0]=A.x,_.array[1]=A.y||0,_.array[2]=A.z||0,_.array[3]=b.x,_.array[4]=b.y||0,_.array[5]=b.z||0,_.needsUpdate=!0}C.geometry.computeBoundingSphere()}else if(C.type==="Mesh")if(E){C.geometry.type.match(/^Tube(Buffer)?Geometry$/)||(C.position.set(0,0,0),C.rotation.set(0,0,0),C.scale.set(1,1,1));var V=Math.ceil(u(m)*10)/10,B=V/2,O=new Qr.TubeGeometry(E,w,B,e.linkResolution,!1);C.geometry.dispose(),C.geometry=O}else{if(!C.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)){var L=Math.ceil(u(m)*10)/10,R=L/2,P=new Qr.CylinderGeometry(R,R,1,e.linkResolution,1,!1);P[_1](new Qr.Matrix4().makeTranslation(0,1/2,0)),P[_1](new Qr.Matrix4().makeRotationX(Math.PI/2)),C.geometry.dispose(),C.geometry=P}var T=new Qr.Vector3(A.x,A.y||0,A.z||0),D=new Qr.Vector3(b.x,b.y||0,b.z||0),$=T.distanceTo(D);C.position.x=T.x,C.position.y=T.y,C.position.z=T.z,C.scale.z=$,C.parent.localToWorld(D),C.lookAt(D)}}}}});function p(m){var v=r?m:e.layout.getLinkPosition(e.layout.graph.getLink(m.source,m.target).id),y=v[r?"source":"from"],A=v[r?"target":"to"];if(!(!y||!A||!y.hasOwnProperty("x")||!A.hasOwnProperty("x"))){var b=c(m);if(!b)m.__curve=null;else{var g=new Qr.Vector3(y.x,y.y||0,y.z||0),w=new Qr.Vector3(A.x,A.y||0,A.z||0),E=g.distanceTo(w),C,_=d(m);if(E>0){var L=A.x-y.x,R=A.y-y.y||0,P=new Qr.Vector3().subVectors(w,g),T=P.clone().multiplyScalar(b).cross(L!==0||R!==0?new Qr.Vector3(0,0,1):new Qr.Vector3(0,1,0)).applyAxisAngle(P.normalize(),_).add(new Qr.Vector3().addVectors(g,w).divideScalar(2));C=new Qr.QuadraticBezierCurve3(g,T,w)}else{var D=b*70,$=-_,V=$+Math.PI/2;C=new Qr.CubicBezierCurve3(g,new Qr.Vector3(D*Math.cos(V),D*Math.sin(V),0).add(g),new Qr.Vector3(D*Math.cos($),D*Math.sin($),0).add(g),w)}m.__curve=C}}}}function o(){var l=Tr(e.linkDirectionalArrowRelPos),u=Tr(e.linkDirectionalArrowLength),c=Tr(e.nodeVal);e.graphData.links.forEach(function(d){var h=d.__arrowObj;if(h){var p=r?d:e.layout.getLinkPosition(e.layout.graph.getLink(d.source,d.target).id),m=p[r?"source":"from"],v=p[r?"target":"to"];if(!(!m||!v||!m.hasOwnProperty("x")||!v.hasOwnProperty("x"))){var y=Math.cbrt(Math.max(0,c(m)||1))*e.nodeRelSize,A=Math.cbrt(Math.max(0,c(v)||1))*e.nodeRelSize,b=u(d),g=l(d),w=d.__curve?function(P){return d.__curve.getPoint(P)}:function(P){var T=function($,V,B,O){return V[$]+(B[$]-V[$])*O||0};return{x:T("x",m,v,P),y:T("y",m,v,P),z:T("z",m,v,P)}},E=d.__curve?d.__curve.getLength():Math.sqrt(["x","y","z"].map(function(P){return Math.pow((v[P]||0)-(m[P]||0),2)}).reduce(function(P,T){return P+T},0)),C=y+b+(E-y-A-b)*g,_=w(C/E),L=w((C-b)/E);["x","y","z"].forEach(function(P){return h.position[P]=L[P]});var R=sx(Qr.Vector3,Dl(["x","y","z"].map(function(P){return _[P]})));h.parent.localToWorld(R),h.lookAt(R)}}})}function s(){var l=Tr(e.linkDirectionalParticleSpeed);e.graphData.links.forEach(function(u){var c=u.__photonsObj&&u.__photonsObj.children,d=u.__singleHopPhotonsObj&&u.__singleHopPhotonsObj.children;if(!((!d||!d.length)&&(!c||!c.length))){var h=r?u:e.layout.getLinkPosition(e.layout.graph.getLink(u.source,u.target).id),p=h[r?"source":"from"],m=h[r?"target":"to"];if(!(!p||!m||!p.hasOwnProperty("x")||!m.hasOwnProperty("x"))){var v=l(u),y=u.__curve?function(b){return u.__curve.getPoint(b)}:function(b){var g=function(E,C,_,L){return C[E]+(_[E]-C[E])*L||0};return{x:g("x",p,m,b),y:g("y",p,m,b),z:g("z",p,m,b)}},A=[].concat(Dl(c||[]),Dl(d||[]));A.forEach(function(b,g){var w=b.parent.__linkThreeObjType==="singleHopPhotons";if(b.hasOwnProperty("__progressRatio")||(b.__progressRatio=w?0:g/c.length),b.__progressRatio+=v,b.__progressRatio>=1)if(!w)b.__progressRatio=b.__progressRatio%1;else{b.parent.remove(b),mR(b);return}var E=b.__progressRatio,C=y(E);["x","y","z"].forEach(function(_){return b.position[_]=C[_]})})}}})}},emitParticle:function(e,r){if(r&&e.graphData.links.includes(r)){if(!r.__singleHopPhotonsObj){var i=new Qr.Group;i.__linkThreeObjType="singleHopPhotons",r.__singleHopPhotonsObj=i,e.graphScene.add(i)}var o=Tr(e.linkDirectionalParticleWidth),s=Math.ceil(o(r)*10)/10/2,l=e.linkDirectionalParticleResolution,u=new Qr.SphereGeometry(s,l,l),c=Tr(e.linkColor),d=Tr(e.linkDirectionalParticleColor),h=d(r)||c(r)||"#f0f0f0",p=new Qr.Color(qv(h)),m=e.linkOpacity*3,v=new Qr.MeshLambertMaterial({color:p,transparent:!0,opacity:m});r.__singleHopPhotonsObj.add(new Qr.Mesh(u,v))}return this},getGraphBbox:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0};if(!e.initialised)return null;var i=function o(s){var l=[];if(s.geometry){s.geometry.computeBoundingBox();var u=new Qr.Box3;u.copy(s.geometry.boundingBox).applyMatrix4(s.matrixWorld),l.push(u)}return l.concat.apply(l,Dl((s.children||[]).filter(function(c){return!c.hasOwnProperty("__graphObjType")||c.__graphObjType==="node"&&r(c.__data)}).map(o)))}(e.graphScene);return i.length?Object.assign.apply(Object,Dl(["x","y","z"].map(function(o){return CP({},o,[oR(i,function(s){return s.min[o]}),iR(i,function(s){return s.max[o]})])}))):null}},stateInit:function(){return{d3ForceLayout:Cj().force("link",bj()).force("charge",wj()).force("center",hj()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(e,r){r.graphScene=e},update:function(e,r){var i=function(ue){return ue.some(function(Be){return r.hasOwnProperty(Be)})};if(e.engineRunning=!1,e.onUpdate(),e.nodeAutoColorBy!==null&&i(["nodeAutoColorBy","graphData","nodeColor"])&&e6(e.graphData.nodes,Tr(e.nodeAutoColorBy),e.nodeColor),e.linkAutoColorBy!==null&&i(["linkAutoColorBy","graphData","linkColor"])&&e6(e.graphData.links,Tr(e.linkAutoColorBy),e.linkColor),e._flushObjects||i(["graphData","nodeThreeObject","nodeThreeObjectExtend","nodeVal","nodeColor","nodeVisibility","nodeRelSize","nodeResolution","nodeOpacity"])){var o=Tr(e.nodeThreeObject),s=Tr(e.nodeThreeObjectExtend),l=Tr(e.nodeVal),u=Tr(e.nodeColor),c=Tr(e.nodeVisibility),d={},h={};Xv(e.graphData.nodes.filter(c),e.graphScene,{purge:e._flushObjects||i(["nodeThreeObject","nodeThreeObjectExtend"]),objFilter:function(ue){return ue.__graphObjType==="node"},createObj:function(ue){var Be=o(ue),ge=s(ue);Be&&e.nodeThreeObject===Be&&(Be=Be.clone());var Ie;return Be&&!ge?Ie=Be:(Ie=new Qr.Mesh,Ie.__graphDefaultObj=!0,Be&&ge&&Ie.add(Be)),Ie.__graphObjType="node",Ie},updateObj:function(ue,Be){if(ue.__graphDefaultObj){var ge=l(Be)||1,Ie=Math.cbrt(ge)*e.nodeRelSize,He=e.nodeResolution;(!ue.geometry.type.match(/^Sphere(Buffer)?Geometry$/)||ue.geometry.parameters.radius!==Ie||ue.geometry.parameters.widthSegments!==He)&&(d.hasOwnProperty(ge)||(d[ge]=new Qr.SphereGeometry(Ie,He,He)),ue.geometry.dispose(),ue.geometry=d[ge]);var Ze=u(Be),Xe=new Qr.Color(qv(Ze||"#ffffaa")),ke=e.nodeOpacity*cM(Ze);(ue.material.type!=="MeshLambertMaterial"||!ue.material.color.equals(Xe)||ue.material.opacity!==ke)&&(h.hasOwnProperty(Ze)||(h[Ze]=new Qr.MeshLambertMaterial({color:Xe,transparent:!0,opacity:ke})),ue.material.dispose(),ue.material=h[Ze])}}})}if(e._flushObjects||i(["graphData","linkThreeObject","linkThreeObjectExtend","linkMaterial","linkColor","linkWidth","linkVisibility","linkResolution","linkOpacity","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution"])){var p=Tr(e.linkThreeObject),m=Tr(e.linkThreeObjectExtend),v=Tr(e.linkMaterial),y=Tr(e.linkVisibility),A=Tr(e.linkColor),b=Tr(e.linkWidth),g={},w={},E={},C=e.graphData.links.filter(y);if(Xv(C,e.graphScene,{objBindAttr:"__lineObj",purge:e._flushObjects||i(["linkThreeObject","linkThreeObjectExtend","linkWidth"]),objFilter:function(ue){return ue.__graphObjType==="link"},exitObj:function(ue){var Be=ue.__data&&ue.__data.__singleHopPhotonsObj;Be&&(Be.parent.remove(Be),mR(Be),delete ue.__data.__singleHopPhotonsObj)},createObj:function(ue){var Be=p(ue),ge=m(ue);Be&&e.linkThreeObject===Be&&(Be=Be.clone());var Ie;if(!Be||ge){var He=!!b(ue);if(He)Ie=new Qr.Mesh;else{var Ze=new Qr.BufferGeometry;Ze[n6]("position",new Qr.BufferAttribute(new Float32Array(2*3),3)),Ie=new Qr.Line(Ze)}}var Xe;return Be?ge?(Xe=new Qr.Group,Xe.__graphDefaultObj=!0,Xe.add(Ie),Xe.add(Be)):Xe=Be:(Xe=Ie,Xe.__graphDefaultObj=!0),Xe.renderOrder=10,Xe.__graphObjType="link",Xe},updateObj:function(ue,Be){if(ue.__graphDefaultObj){var ge=ue.children.length?ue.children[0]:ue,Ie=Math.ceil(b(Be)*10)/10,He=!!Ie;if(He){var Ze=Ie/2,Xe=e.linkResolution;if(!ge.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)||ge.geometry.parameters.radiusTop!==Ze||ge.geometry.parameters.radialSegments!==Xe){if(!g.hasOwnProperty(Ie)){var ke=new Qr.CylinderGeometry(Ze,Ze,1,Xe,1,!1);ke[_1](new Qr.Matrix4().makeTranslation(0,1/2,0)),ke[_1](new Qr.Matrix4().makeRotationX(Math.PI/2)),g[Ie]=ke}ge.geometry.dispose(),ge.geometry=g[Ie]}}var lt=v(Be);if(lt)ge.material=lt;else{var ot=A(Be),it=new Qr.Color(qv(ot||"#f0f0f0")),ft=e.linkOpacity*cM(ot),xt=He?"MeshLambertMaterial":"LineBasicMaterial";if(ge.material.type!==xt||!ge.material.color.equals(it)||ge.material.opacity!==ft){var At=He?w:E;At.hasOwnProperty(ot)||(At[ot]=new Qr[xt]({color:it,transparent:ft<1,opacity:ft,depthWrite:ft>=1})),ge.material.dispose(),ge.material=At[ot]}}}}}),e.linkDirectionalArrowLength||r.hasOwnProperty("linkDirectionalArrowLength")){var _=Tr(e.linkDirectionalArrowLength),L=Tr(e.linkDirectionalArrowColor);Xv(C.filter(_),e.graphScene,{objBindAttr:"__arrowObj",objFilter:function(ue){return ue.__linkThreeObjType==="arrow"},createObj:function(){var ue=new Qr.Mesh(void 0,new Qr.MeshLambertMaterial({transparent:!0}));return ue.__linkThreeObjType="arrow",ue},updateObj:function(ue,Be){var ge=_(Be),Ie=e.linkDirectionalArrowResolution;if(!ue.geometry.type.match(/^Cone(Buffer)?Geometry$/)||ue.geometry.parameters.height!==ge||ue.geometry.parameters.radialSegments!==Ie){var He=new Qr.ConeGeometry(ge*.25,ge,Ie);He.translate(0,ge/2,0),He.rotateX(Math.PI/2),ue.geometry.dispose(),ue.geometry=He}var Ze=L(Be)||A(Be)||"#f0f0f0";ue.material.color=new Qr.Color(qv(Ze)),ue.material.opacity=e.linkOpacity*3*cM(Ze)}})}if(e.linkDirectionalParticles||r.hasOwnProperty("linkDirectionalParticles")){var R=Tr(e.linkDirectionalParticles),P=Tr(e.linkDirectionalParticleWidth),T=Tr(e.linkDirectionalParticleColor),D={},$={};Xv(C.filter(R),e.graphScene,{objBindAttr:"__photonsObj",objFilter:function(ue){return ue.__linkThreeObjType==="photons"},createObj:function(){var ue=new Qr.Group;return ue.__linkThreeObjType="photons",ue},updateObj:function(ue,Be){var ge=Math.round(Math.abs(R(Be))),Ie=!!ue.children.length&&ue.children[0],He=Math.ceil(P(Be)*10)/10/2,Ze=e.linkDirectionalParticleResolution,Xe;Ie&&Ie.geometry.parameters.radius===He&&Ie.geometry.parameters.widthSegments===Ze?Xe=Ie.geometry:($.hasOwnProperty(He)||($[He]=new Qr.SphereGeometry(He,Ze,Ze)),Xe=$[He],Ie&&Ie.geometry.dispose());var ke=T(Be)||A(Be)||"#f0f0f0",lt=new Qr.Color(qv(ke)),ot=e.linkOpacity*3,it;Ie&&Ie.material.color.equals(lt)&&Ie.material.opacity===ot?it=Ie.material:(D.hasOwnProperty(ke)||(D[ke]=new Qr.MeshLambertMaterial({color:lt,transparent:!0,opacity:ot})),it=D[ke],Ie&&Ie.material.dispose()),Xv(Dl(new Array(ge)).map(function(ft,xt){return{idx:xt}}),ue,{idAccessor:function(xt){return xt.idx},createObj:function(){return new Qr.Mesh(Xe,it)},updateObj:function(xt){xt.geometry=Xe,xt.material=it}})}})}}if(e._flushObjects=!1,i(["graphData","nodeId","linkSource","linkTarget","numDimensions","forceEngine","dagMode","dagNodeFilter","dagLevelDistance"])){e.engineRunning=!1,e.graphData.links.forEach(function(oe){oe.source=oe[e.linkSource],oe.target=oe[e.linkTarget]});var V=e.forceEngine!=="ngraph",B;if(V){(B=e.d3ForceLayout).stop().alpha(1).numDimensions(e.numDimensions).nodes(e.graphData.nodes);var O=e.d3ForceLayout.force("link");O&&O.id(function(oe){return oe[e.nodeId]}).links(e.graphData.links);var F=e.dagMode&&qBe(e.graphData,function(oe){return oe[e.nodeId]},{nodeFilter:e.dagNodeFilter,onLoopError:e.onDagError||void 0}),k=Math.max.apply(Math,Dl(Object.values(F||[]))),z=e.dagLevelDistance||e.graphData.nodes.length/(k||1)*YBe*(["radialin","radialout"].indexOf(e.dagMode)!==-1?.7:1);if(e.dagMode){var G=function(ue,Be){return function(ge){return ue?(F[ge[e.nodeId]]-k/2)*z*(Be?-1:1):void 0}},j=G(["lr","rl"].indexOf(e.dagMode)!==-1,e.dagMode==="rl"),Q=G(["td","bu"].indexOf(e.dagMode)!==-1,e.dagMode==="td"),X=G(["zin","zout"].indexOf(e.dagMode)!==-1,e.dagMode==="zout");e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(oe){oe.fx=j(oe),oe.fy=Q(oe),oe.fz=X(oe)})}e.d3ForceLayout.force("dagRadial",["radialin","radialout"].indexOf(e.dagMode)!==-1?Sj(function(oe){var ue=F[oe[e.nodeId]]||-1;return(e.dagMode==="radialin"?k-ue:ue)*z}).strength(function(oe){return e.dagNodeFilter(oe)?1:0}):null)}else{var J=t6.graph();e.graphData.nodes.forEach(function(oe){J.addNode(oe[e.nodeId])}),e.graphData.links.forEach(function(oe){J.addLink(oe.source,oe.target)}),B=t6.forcelayout(J,iV({dimensions:e.numDimensions},e.ngraphPhysics)),B.graph=J}for(var Z=0;Z<e.warmupTicks&&!(V&&e.d3AlphaMin>0&&e.d3ForceLayout.alpha()<e.d3AlphaMin);Z++)B[V?"tick":"step"]();e.layout=B,this.resetCountdown()}e.engineRunning=!0,e.onFinishUpdate()}});function ZBe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=function(o){DBe(l,o);var s=UBe(l);function l(){var u;BBe(this,l);for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];return u=s.call.apply(s,[this].concat(d)),u.__kapsuleInstance=n().apply(void 0,[].concat(Dl(r?[aV(u)]:[]),d)),u}return OBe(l)}(e);return Object.keys(n()).forEach(function(o){return i.prototype[o]=function(){var s,l=(s=this.__kapsuleInstance)[o].apply(s,arguments);return l===this.__kapsuleInstance?this:l}}),i}var eOe=window.THREE?window.THREE:{Group:Am},wP=ZBe(JBe,eOe.Group,!0);const tOe=Object.freeze(Object.defineProperty({__proto__:null,default:wP},Symbol.toStringTag,{value:"Module"})),nOe=IR(tOe);if(typeof AFRAME>"u")throw new Error("Component attempted to register before AFRAME was available.");let uM=ERe;"default"in uM&&(uM=uM.default);let nh=nOe;"default"in nh&&(nh=nh.default);const dM=function(n){return typeof n=="string"?JSON.parse(n):n},Rl=function(n){if(typeof n=="function")return n;const e=eval;try{return e("("+n+")")}catch{}return null},bo=function(n){return isNaN(parseFloat(n))?Rl(n)?Rl(n):n:parseFloat(n)};AFRAME.registerComponent("forcegraph",{schema:{jsonUrl:{type:"string",default:""},nodes:{parse:dM,default:[]},links:{parse:dM,default:[]},numDimensions:{type:"number",default:3},dagMode:{type:"string",default:""},dagLevelDistance:{type:"number",default:0},dagNodeFilter:{parse:Rl,default:function(){return!0}},onDagError:{parse:Rl,default:void 0},nodeRelSize:{type:"number",default:4},nodeId:{type:"string",default:"id"},nodeVal:{parse:bo,default:"val"},nodeResolution:{type:"number",default:8},nodeVisibility:{parse:bo,default:!0},nodeColor:{parse:bo,default:"color"},nodeAutoColorBy:{parse:bo,default:""},nodeOpacity:{type:"number",default:.75},nodeThreeObject:{parse:bo,default:null},nodeThreeObjectExtend:{parse:bo,default:!1},linkSource:{type:"string",default:"source"},linkTarget:{type:"string",default:"target"},linkVisibility:{parse:bo,default:!0},linkColor:{parse:bo,default:"color"},linkAutoColorBy:{parse:bo,default:""},linkOpacity:{type:"number",default:.2},linkWidth:{parse:bo,default:0},linkResolution:{type:"number",default:6},linkCurvature:{parse:bo,default:0},linkCurveRotation:{parse:bo,default:0},linkMaterial:{parse:bo,default:null},linkThreeObject:{parse:bo,default:null},linkThreeObjectExtend:{parse:bo,default:!1},linkPositionUpdate:{parse:Rl,default:null},linkDirectionalArrowLength:{parse:bo,default:0},linkDirectionalArrowColor:{parse:bo,default:null},linkDirectionalArrowRelPos:{parse:bo,default:.5},linkDirectionalArrowResolution:{type:"number",default:8},linkDirectionalParticles:{parse:bo,default:0},linkDirectionalParticleSpeed:{parse:bo,default:.01},linkDirectionalParticleWidth:{parse:bo,default:.5},linkDirectionalParticleColor:{parse:bo,default:null},linkDirectionalParticleResolution:{type:"number",default:4},onNodeHover:{parse:Rl,default:()=>{}},onLinkHover:{parse:Rl,default:()=>{}},onNodeClick:{parse:Rl,default:()=>{}},onLinkClick:{parse:Rl,default:()=>{}},forceEngine:{type:"string",default:"d3"},d3AlphaMin:{type:"number",default:0},d3AlphaDecay:{type:"number",default:.0228},d3VelocityDecay:{type:"number",default:.4},ngraphPhysics:{parse:dM,default:null},warmupTicks:{type:"int",default:0},cooldownTicks:{type:"int",default:1e18},cooldownTime:{type:"int",default:15e3},onEngineTick:{parse:Rl,default:function(){}},onEngineStop:{parse:Rl,default:function(){}}},getGraphBbox:function(){return this.forceGraph||(this.forceGraph=new nh),this.forceGraph.getGraphBbox()},emitParticle:function(){this.forceGraph||(this.forceGraph=new nh);const n=this.forceGraph,e=n.emitParticle.apply(n,arguments);return e===n?this:e},d3Force:function(){this.forceGraph||(this.forceGraph=new nh);const n=this.forceGraph,e=n.d3Force.apply(n,arguments);return e===n?this:e},d3ReheatSimulation:function(){return this.forceGraph&&this.forceGraph.d3ReheatSimulation(),this},refresh:function(){return this.forceGraph&&this.forceGraph.refresh(),this},init:function(){const n=this.state={};n.infoEl=document.createElement("a-text"),n.infoEl.setAttribute("position","0 -0.1 -1"),n.infoEl.setAttribute("width",1),n.infoEl.setAttribute("align","center"),n.infoEl.setAttribute("color","lavender");const e=document.querySelector("a-entity[camera], a-camera");e.appendChild(n.infoEl),n.cameraObj=e.object3D.children.filter(function(r){return r.type==="PerspectiveCamera"})[0],this.el.sceneEl.addEventListener("camera-set-active",function(r){n.cameraObj=r.detail.cameraEl.components.camera.camera}),this.forceGraph||(this.forceGraph=new nh),this.forceGraph.onFinishUpdate(()=>this.el.setObject3D("forcegraphGroup",this.forceGraph)).onLoading(()=>n.infoEl.setAttribute("value","Loading...")).onFinishLoading(()=>n.infoEl.setAttribute("value","")),this.el.addEventListener("raycaster-intersected",r=>n.hoverDetail=r.detail),this.el.addEventListener("raycaster-intersected-cleared",r=>n.hoverDetail=r.detail),this.el.addEventListener("click",()=>n.hoverObj&&this.data["on"+(n.hoverObj.__graphObjType==="node"?"Node":"Link")+"Click"](n.hoverObj.__data))},remove:function(){this.state.infoEl.remove(),this.el.removeObject3D("forcegraphGroup")},update:function(n){const e=this,r=this.data,i=AFRAME.utils.diff(r,n);["jsonUrl","numDimensions","dagMode","dagLevelDistance","dagNodeFilter","onDagError","nodeRelSize","nodeId","nodeVal","nodeResolution","nodeVisibility","nodeColor","nodeAutoColorBy","nodeOpacity","nodeThreeObject","nodeThreeObjectExtend","linkSource","linkTarget","linkVisibility","linkColor","linkAutoColorBy","linkOpacity","linkWidth","linkResolution","linkCurvature","linkCurveRotation","linkMaterial","linkThreeObject","linkThreeObjectExtend","linkPositionUpdate","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution","forceEngine","d3AlphaMin","d3AphaDecay","d3VelocityDecay","ngraphPhysics","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].filter(function(s){return s in i}).forEach(function(s){e.forceGraph[s](r[s]!==""?r[s]:null)}),("nodes"in i||"links"in i)&&e.forceGraph.graphData({nodes:r.nodes,links:r.links})},tick:function(n,e){const r=this.state,i=this.data,o=r.hoverDetail?r.hoverDetail.getIntersection?r.hoverDetail.getIntersection(this.el):r.hoverDetail.intersection||void 0:void 0;let s=o?o.object:void 0;for(;s&&!s.hasOwnProperty("__graphObjType");)s=s.parent;if(s!==r.hoverObj){const l=r.hoverObj?r.hoverObj.__graphObjType:null,u=r.hoverObj?r.hoverObj.__data:null,c=s?s.__graphObjType:null,d=s?s.__data:null;l&&l!==c&&i["on"+(l==="node"?"Node":"Link")+"Hover"](null,u),c&&i["on"+(c==="node"?"Node":"Link")+"Hover"](d,l===c?u:null),r.hoverObj=s}this.forceGraph.tickFrame()}});function rOe(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Xm(n,e)}function iOe(n){try{return Function.toString.call(n).indexOf("[native code]")!==-1}catch{return typeof n=="function"}}function lx(n,e,r){return bz()?lx=Reflect.construct.bind():lx=function(o,s,l){var u=[null];u.push.apply(u,s);var c=Function.bind.apply(o,u),d=new c;return l&&Xm(d,l.prototype),d},lx.apply(null,arguments)}function gR(n){var e=typeof Map=="function"?new Map:void 0;return gR=function(i){if(i===null||!iOe(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(i))return e.get(i);e.set(i,o)}function o(){return lx(i,arguments,fA(this).constructor)}return o.prototype=Object.create(i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Xm(o,i)},gR(n)}var ym=function(n){rOe(e,n);function e(r){var i;return i=n.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+r+" for more information.")||this,ei(i)}return e}(gR(Error));function fM(n){return Math.round(n*255)}function oOe(n,e,r){return fM(n)+","+fM(e)+","+fM(r)}function r6(n,e,r,i){if(i===void 0&&(i=oOe),e===0)return i(r,r,r);var o=(n%360+360)%360/60,s=(1-Math.abs(2*r-1))*e,l=s*(1-Math.abs(o%2-1)),u=0,c=0,d=0;o>=0&&o<1?(u=s,c=l):o>=1&&o<2?(u=l,c=s):o>=2&&o<3?(c=s,d=l):o>=3&&o<4?(c=l,d=s):o>=4&&o<5?(u=l,d=s):o>=5&&o<6&&(u=s,d=l);var h=r-s/2,p=u+h,m=c+h,v=d+h;return i(p,m,v)}var i6={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};function aOe(n){if(typeof n!="string")return n;var e=n.toLowerCase();return i6[e]?"#"+i6[e]:n}var sOe=/^#[a-fA-F0-9]{6}$/,lOe=/^#[a-fA-F0-9]{8}$/,cOe=/^#[a-fA-F0-9]{3}$/,uOe=/^#[a-fA-F0-9]{4}$/,hM=/^rgb\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*\)$/i,dOe=/^rgb(?:a)?\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i,fOe=/^hsl\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,hOe=/^hsl(?:a)?\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i;function YC(n){if(typeof n!="string")throw new ym(3);var e=aOe(n);if(e.match(sOe))return{red:parseInt(""+e[1]+e[2],16),green:parseInt(""+e[3]+e[4],16),blue:parseInt(""+e[5]+e[6],16)};if(e.match(lOe)){var r=parseFloat((parseInt(""+e[7]+e[8],16)/255).toFixed(2));return{red:parseInt(""+e[1]+e[2],16),green:parseInt(""+e[3]+e[4],16),blue:parseInt(""+e[5]+e[6],16),alpha:r}}if(e.match(cOe))return{red:parseInt(""+e[1]+e[1],16),green:parseInt(""+e[2]+e[2],16),blue:parseInt(""+e[3]+e[3],16)};if(e.match(uOe)){var i=parseFloat((parseInt(""+e[4]+e[4],16)/255).toFixed(2));return{red:parseInt(""+e[1]+e[1],16),green:parseInt(""+e[2]+e[2],16),blue:parseInt(""+e[3]+e[3],16),alpha:i}}var o=hM.exec(e);if(o)return{red:parseInt(""+o[1],10),green:parseInt(""+o[2],10),blue:parseInt(""+o[3],10)};var s=dOe.exec(e.substring(0,50));if(s)return{red:parseInt(""+s[1],10),green:parseInt(""+s[2],10),blue:parseInt(""+s[3],10),alpha:parseFloat(""+s[4])>1?parseFloat(""+s[4])/100:parseFloat(""+s[4])};var l=fOe.exec(e);if(l){var u=parseInt(""+l[1],10),c=parseInt(""+l[2],10)/100,d=parseInt(""+l[3],10)/100,h="rgb("+r6(u,c,d)+")",p=hM.exec(h);if(!p)throw new ym(4,e,h);return{red:parseInt(""+p[1],10),green:parseInt(""+p[2],10),blue:parseInt(""+p[3],10)}}var m=hOe.exec(e.substring(0,50));if(m){var v=parseInt(""+m[1],10),y=parseInt(""+m[2],10)/100,A=parseInt(""+m[3],10)/100,b="rgb("+r6(v,y,A)+")",g=hM.exec(b);if(!g)throw new ym(4,e,b);return{red:parseInt(""+g[1],10),green:parseInt(""+g[2],10),blue:parseInt(""+g[3],10),alpha:parseFloat(""+m[4])>1?parseFloat(""+m[4])/100:parseFloat(""+m[4])}}throw new ym(5)}var pOe=function(e){return e.length===7&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e},o6=pOe;function Kp(n){var e=n.toString(16);return e.length===1?"0"+e:e}function a6(n,e,r){if(typeof n=="number"&&typeof e=="number"&&typeof r=="number")return o6("#"+Kp(n)+Kp(e)+Kp(r));if(typeof n=="object"&&e===void 0&&r===void 0)return o6("#"+Kp(n.red)+Kp(n.green)+Kp(n.blue));throw new ym(6)}function mOe(n,e,r,i){if(typeof n=="string"&&typeof e=="number"){var o=YC(n);return"rgba("+o.red+","+o.green+","+o.blue+","+e+")"}else{if(typeof n=="number"&&typeof e=="number"&&typeof r=="number"&&typeof i=="number")return i>=1?a6(n,e,r):"rgba("+n+","+e+","+r+","+i+")";if(typeof n=="object"&&e===void 0&&r===void 0&&i===void 0)return n.alpha>=1?a6(n.red,n.green,n.blue):"rgba("+n.red+","+n.green+","+n.blue+","+n.alpha+")"}throw new ym(7)}function cV(n,e,r){return function(){var o=r.concat(Array.prototype.slice.call(arguments));return o.length>=e?n.apply(this,o):cV(n,e,o)}}function gOe(n){return cV(n,n.length,[])}function vOe(n,e,r){return Math.max(n,Math.min(e,r))}function AOe(n,e){if(e==="transparent")return e;var r=YC(e),i=typeof r.alpha=="number"?r.alpha:1,o=on({},r,{alpha:vOe(0,1,(i*100+parseFloat(n)*100)/100)});return mOe(o)}var yOe=gOe(AOe),uV=yOe;function bOe(n,e){e===void 0&&(e={});var r=e.insertAt;if(!(!n||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",r==="top"&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}}var xOe=`.graph-nav-info {
  position: absolute;
  bottom: 5px;
  width: 100%;
  text-align: center;
  color: slategrey;
  opacity: 0.7;
  font-size: 10px;
  font-family: Sans-serif;
  z-index: 1000;
}`;bOe(xOe);function EOe(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,s,l,u=[],c=!0,d=!1;try{if(s=(r=r.call(n)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(i=s.call(r)).done)&&(u.push(i.value),u.length!==e);c=!0);}catch(h){d=!0,o=h}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw o}}return u}}function s6(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function l6(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s6(Object(r),!0).forEach(function(i){v0(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):s6(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function v0(n,e,r){return e=ROe(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function pM(n,e){return wOe(n)||EOe(n,e)||dV(n,e)||MOe()}function M1(n){return COe(n)||SOe(n)||dV(n)||_Oe()}function COe(n){if(Array.isArray(n))return vR(n)}function wOe(n){if(Array.isArray(n))return n}function SOe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function dV(n,e){if(n){if(typeof n=="string")return vR(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vR(n,e)}}function vR(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function _Oe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TOe(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ROe(n){var e=TOe(n,"string");return typeof e=="symbol"?e:String(e)}THREE&&THREE.MathUtils&&THREE.MathUtils.degToRad&&(THREE.Math={degToRad:THREE.MathUtils.degToRad});var IOe=Bh({props:{width:{default:window.innerWidth,triggerUpdate:!1,onChange:function(e,r){r.container&&(r.container.style.width="".concat(e,"px"))}},height:{default:window.innerHeight,triggerUpdate:!1,onChange:function(e,r){r.container&&(r.container.style.height="".concat(e,"px"))}},jsonUrl:{},graphData:{default:{nodes:[],links:[]}},numDimensions:{default:3},dagMode:{},dagLevelDistance:{},dagNodeFilter:{default:function(){return!0}},onDagError:{default:void 0},backgroundColor:{default:"#002"},showNavInfo:{default:!0},nodeRelSize:{default:4},nodeId:{default:"id"},nodeLabel:{default:"name"},nodeDesc:{default:"desc"},onNodeHover:{},onNodeClick:{},nodeVal:{default:"val"},nodeResolution:{default:8},nodeVisibility:{default:!0},nodeColor:{default:"color"},nodeAutoColorBy:{},nodeOpacity:{default:.75},nodeThreeObject:{},nodeThreeObjectExtend:{default:!1},linkSource:{default:"source"},linkTarget:{default:"target"},linkLabel:{default:"name"},linkDesc:{default:"desc"},onLinkHover:{},onLinkClick:{},linkVisibility:{default:!0},linkColor:{default:"color"},linkAutoColorBy:{},linkOpacity:{default:.2},linkWidth:{default:0},linkResolution:{default:6},linkCurvature:{default:0},linkCurveRotation:{default:0},linkMaterial:{},linkThreeObject:{},linkThreeObjectExtend:{default:!1},linkPositionUpdate:{},linkDirectionalArrowLength:{default:0},linkDirectionalArrowColor:{},linkDirectionalArrowRelPos:{default:.5},linkDirectionalArrowResolution:{default:8},linkDirectionalParticles:{default:0},linkDirectionalParticleSpeed:{default:.01},linkDirectionalParticleWidth:{default:.5},linkDirectionalParticleColor:{},linkDirectionalParticleResolution:{default:4},forceEngine:{default:"d3"},d3AlphaMin:{default:0},d3AlphaDecay:{default:.0228},d3VelocityDecay:{default:.4},ngraphPhysics:{},warmupTicks:{default:0},cooldownTicks:{},cooldownTime:{default:15e3},onEngineTick:{},onEngineStop:{}},methods:l6(l6({},Object.assign.apply(Object,[{}].concat(M1(["getGraphBbox","emitParticle","d3Force","d3ReheatSimulation","refresh"].map(function(n){return v0({},n,function(e){for(var r=e.forcegraph.components.forcegraph,i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];var l=r[n].apply(r,o);return l===r?this:l})}))))),{},{_destructor:function(){this.graphData({nodes:[],links:[]})}}),init:function(e,r){e.innerHTML="",r.container=document.createElement("div"),e.appendChild(r.container),r.container.style.position="relative",r.container.style.width="".concat(r.width,"px"),r.container.style.height="".concat(r.height,"px"),r.container.appendChild(r.navInfo=document.createElement("div")),r.navInfo.className="graph-nav-info",r.navInfo.textContent="Mouse drag: look, gamepad/arrow/wasd keys: move";var i=document.createElement("a-scene");i.setAttribute("embedded",""),i.appendChild(r.sky=document.createElement("a-sky")),r.sky.setAttribute("radius",3e3);var o;i.appendChild(o=document.createElement("a-entity")),o.setAttribute("position","0 0 300"),o.setAttribute("movement-controls","controls: gamepad; fly: true; speed: 7");var s;o.appendChild(s=document.createElement("a-entity")),s.setAttribute("camera",""),s.setAttribute("position","0 0 0"),s.setAttribute("look-controls","pointerLockEnabled: false"),s.setAttribute("wasd-controls","fly: true; acceleration: 700");var l;s.appendChild(l=document.createElement("a-text")),l.setAttribute("position","0 -0.3 -1"),l.setAttribute("width",2),l.setAttribute("align","center"),l.setAttribute("color","lavender"),l.setAttribute("value","");var u;s.appendChild(u=document.createElement("a-text")),u.setAttribute("position","0 -0.4 -1"),u.setAttribute("width",1.3),u.setAttribute("align","center"),u.setAttribute("color","lavender"),u.setAttribute("value",""),r.raycasterEls=[];var c;i.appendChild(c=document.createElement("a-entity")),c.setAttribute("cursor","rayOrigin: mouse; mouseCursorStylesEnabled: true"),c.setAttribute("raycaster","objects: [forcegraph]; interval: 100"),r.raycasterEls.push(c),["left","right"].forEach(function(d){var h;o.appendChild(h=document.createElement("a-entity")),h.setAttribute("laser-controls","hand: ".concat(d,"; model: false;")),h.setAttribute("raycaster","objects: [forcegraph]; interval: 100; lineColor: steelblue; lineOpacity: 0.85"),r.raycasterEls.push(h)}),i.appendChild(r.forcegraph=document.createElement("a-entity")),r.forcegraph.setAttribute("forcegraph",null),r.container.appendChild(i),r.forcegraph.setAttribute("forcegraph",Object.assign.apply(Object,M1(["node","link"].map(function(d){var h={node:"Node",link:"Link"}[d];return v0({},"on".concat(h,"Hover"),function(m,v){var y=m&&Tr(r["".concat(d,"Label")])(m)||"",A=m&&Tr(r["".concat(d,"Desc")])(m)||"";l.setAttribute("value",y),u.setAttribute("value",A),r["on".concat(h,"Hover")]&&r["on".concat(h,"Hover")](m,v)})}))))},update:function(e,r){if(r.hasOwnProperty("backgroundColor")){var i=YC(e.backgroundColor).alpha;i===void 0&&(i=1),e.sky.setAttribute("color",uV(1,e.backgroundColor)),e.sky.setAttribute("opacity",i)}r.hasOwnProperty("showNavInfo")&&(e.navInfo.style.display=e.showNavInfo?null:"none");var o=["onNodeHover","onLinkHover","onNodeClick","onLinkClick"].some(function(u){return e[u]})||["nodeLabel","linkLabel"].some(function(u){return e[u]!=="name"})||["nodeDesc","linkDesc"].some(function(u){return e[u]!=="desc"});e.raycasterEls.forEach(function(u){return u.setAttribute("raycaster",o?"objects: [forcegraph]; interval: 100":"objects: __none__")});var s=["jsonUrl","numDimensions","dagMode","dagLevelDistance","dagNodeFilter","onDagError","nodeRelSize","nodeId","onNodeClick","nodeVal","nodeResolution","nodeVisibility","nodeColor","nodeAutoColorBy","nodeOpacity","nodeThreeObject","nodeThreeObjectExtend","linkSource","linkTarget","onLinkClick","linkVisibility","linkColor","linkAutoColorBy","linkOpacity","linkWidth","linkResolution","linkCurvature","linkCurveRotation","linkMaterial","linkThreeObject","linkThreeObjectExtend","linkPositionUpdate","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution","forceEngine","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","ngraphPhysics","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"],l=Object.assign.apply(Object,[{}].concat(M1(Object.entries(e).filter(function(u){var c=pM(u,2),d=c[0],h=c[1];return r.hasOwnProperty(d)&&s.indexOf(d)!==-1&&h!==void 0&&h!==null}).map(function(u){var c=pM(u,2),d=c[0],h=c[1];return v0({},d,h)})),M1(Object.entries(e.graphData).map(function(u){var c=pM(u,2),d=c[0],h=c[1];return v0({},d,h)}))));e.forcegraph.setAttribute("forcegraph",l)}}),fV={exports:{}},LOe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",POe=LOe,BOe=POe;function hV(){}function pV(){}pV.resetWarningCache=hV;var OOe=function(){function n(i,o,s,l,u,c){if(c!==BOe){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}n.isRequired=n;function e(){return n}var r={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:pV,resetWarningCache:hV};return r.PropTypes=r,r};fV.exports=OOe();var DOe=fV.exports;const $t=Nu(DOe);function NOe(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,s,l,u=[],c=!0,d=!1;try{if(s=(r=r.call(n)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(i=s.call(r)).done)&&(u.push(i.value),u.length!==e);c=!0);}catch(h){d=!0,o=h}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw o}}return u}}function c6(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function u6(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c6(Object(r),!0).forEach(function(i){cx(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):c6(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function cx(n,e,r){return e=GOe(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function T1(n,e){return FOe(n)||NOe(n,e)||mV(n,e)||HOe()}function R1(n){return kOe(n)||UOe(n)||mV(n)||zOe()}function kOe(n){if(Array.isArray(n))return AR(n)}function FOe(n){if(Array.isArray(n))return n}function UOe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function mV(n,e){if(n){if(typeof n=="string")return AR(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AR(n,e)}}function AR(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function zOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Oe(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function GOe(n){var e=$Oe(n,"string");return typeof e=="symbol"?e:String(e)}var jOe=Bh({props:{width:{},height:{},yOffset:{default:1.5},glScale:{default:200},jsonUrl:{},graphData:{default:{nodes:[],links:[]}},numDimensions:{default:3},dagMode:{},dagLevelDistance:{},dagNodeFilter:{default:function(){return!0}},onDagError:{default:void 0},nodeRelSize:{default:4},nodeId:{default:"id"},nodeVal:{default:"val"},nodeResolution:{default:8},nodeVisibility:{default:!0},nodeColor:{default:"color"},nodeAutoColorBy:{},nodeOpacity:{default:.75},nodeThreeObject:{},nodeThreeObjectExtend:{default:!1},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0},linkColor:{default:"color"},linkAutoColorBy:{},linkOpacity:{default:.2},linkWidth:{default:0},linkResolution:{default:6},linkCurvature:{default:0},linkCurveRotation:{default:0},linkMaterial:{},linkThreeObject:{},linkThreeObjectExtend:{default:!1},linkPositionUpdate:{},linkDirectionalArrowLength:{default:0},linkDirectionalArrowColor:{},linkDirectionalArrowRelPos:{default:.5},linkDirectionalArrowResolution:{default:8},linkDirectionalParticles:{default:0},linkDirectionalParticleSpeed:{default:.01},linkDirectionalParticleWidth:{default:.5},linkDirectionalParticleColor:{},linkDirectionalParticleResolution:{default:4},onNodeHover:{},onNodeClick:{},onLinkHover:{},onLinkClick:{},forceEngine:{default:"d3"},d3AlphaMin:{default:0},d3AlphaDecay:{default:.0228},d3VelocityDecay:{default:.4},ngraphPhysics:{},warmupTicks:{default:0},cooldownTicks:{},cooldownTime:{default:15e3},onEngineTick:{},onEngineStop:{}},methods:u6(u6({},Object.assign.apply(Object,[{}].concat(R1(["getGraphBbox","emitParticle","d3Force","d3ReheatSimulation","refresh"].map(function(n){return cx({},n,function(e){for(var r=e.forcegraph.components.forcegraph,i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];var l=r[n].apply(r,o);return l===r?this:l})}))))),{},{_destructor:function(){this.graphData({nodes:[],links:[]})}}),init:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=i.markerAttrs,s=o===void 0?{preset:"hiro"}:o;e.innerHTML="",r.container=document.createElement("div"),e.appendChild(r.container);var l=document.createElement("a-scene");l.setAttribute("embedded",""),l.setAttribute("vr-mode-ui","enabled: false"),l.setAttribute("arjs","debugUIEnabled: false;");var u=document.createElement("a-marker");Object.entries(s).forEach(function(h){var p=T1(h,2),m=p[0],v=p[1];return u.setAttribute(m,v)}),l.appendChild(u);var c;l.appendChild(c=document.createElement("a-entity")),c.setAttribute("cursor"),c.setAttribute("raycaster","objects: [forcegraph]"),r.forcegraph=document.createElement("a-entity"),r.forcegraph.setAttribute("forcegraph",null),u.appendChild(r.forcegraph);var d=document.createElement("a-entity");d.setAttribute("camera",""),l.appendChild(d),r.container.appendChild(l)},update:function(e,r){r.hasOwnProperty("width")&&e.width&&(e.container.style.width="".concat(e.width,"px")),r.hasOwnProperty("height")&&e.height&&(e.container.style.height="".concat(e.height,"px")),r.hasOwnProperty("glScale")&&e.forcegraph.setAttribute("scale",R1(new Array(3)).map(function(){return 1/e.glScale}).join(" ")),r.hasOwnProperty("yOffset")&&e.forcegraph.setAttribute("position","0 ".concat(e.yOffset," 0"));var i=["jsonUrl","numDimensions","dagMode","dagLevelDistance","dagNodeFilter","onDagError","nodeRelSize","nodeId","nodeVal","nodeResolution","nodeVisibility","nodeColor","nodeAutoColorBy","nodeOpacity","nodeThreeObject","nodeThreeObjectExtend","linkSource","linkTarget","linkVisibility","linkColor","linkAutoColorBy","linkOpacity","linkWidth","linkResolution","linkCurvature","linkCurveRotation","linkMaterial","linkThreeObject","linkThreeObjectExtend","linkPositionUpdate","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution","onNodeHover","onNodeClick","onLinkHover","onLinkClick","forceEngine","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","ngraphPhysics","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"],o=Object.assign.apply(Object,[{}].concat(R1(Object.entries(e).filter(function(s){var l=T1(s,2),u=l[0],c=l[1];return r.hasOwnProperty(u)&&i.indexOf(u)!==-1&&c!==void 0&&c!==null}).map(function(s){var l=T1(s,2),u=l[0],c=l[1];return cx({},u,c)})),R1(Object.entries(e.graphData).map(function(s){var l=T1(s,2),u=l[0],c=l[1];return cx({},u,c)}))));e.forcegraph.setAttribute("forcegraph",o)}});const Xp=new du,hd=new aj,Yv=new tr,d6=new Rt,I1=new Rt,mM=new Rt,f6=new lo;class VOe extends Zl{constructor(e,r,i){super(),i.style.touchAction="none";let o=null,s=null;const l=[],u=this;function c(){i.addEventListener("pointermove",v),i.addEventListener("pointerdown",y),i.addEventListener("pointerup",A),i.addEventListener("pointerleave",A)}function d(){i.removeEventListener("pointermove",v),i.removeEventListener("pointerdown",y),i.removeEventListener("pointerup",A),i.removeEventListener("pointerleave",A),i.style.cursor=""}function h(){d()}function p(){return e}function m(){return hd}function v(g){if(u.enabled!==!1){if(b(g),hd.setFromCamera(Yv,r),o){hd.ray.intersectPlane(Xp,I1)&&o.position.copy(I1.sub(d6).applyMatrix4(f6)),u.dispatchEvent({type:"drag",object:o});return}if(g.pointerType==="mouse"||g.pointerType==="pen")if(l.length=0,hd.setFromCamera(Yv,r),hd.intersectObjects(e,u.recursive,l),l.length>0){const w=l[0].object;Xp.setFromNormalAndCoplanarPoint(r.getWorldDirection(Xp.normal),mM.setFromMatrixPosition(w.matrixWorld)),s!==w&&s!==null&&(u.dispatchEvent({type:"hoveroff",object:s}),i.style.cursor="auto",s=null),s!==w&&(u.dispatchEvent({type:"hoveron",object:w}),i.style.cursor="pointer",s=w)}else s!==null&&(u.dispatchEvent({type:"hoveroff",object:s}),i.style.cursor="auto",s=null)}}function y(g){u.enabled!==!1&&(b(g),l.length=0,hd.setFromCamera(Yv,r),hd.intersectObjects(e,u.recursive,l),l.length>0&&(o=u.transformGroup===!0?e[0]:l[0].object,Xp.setFromNormalAndCoplanarPoint(r.getWorldDirection(Xp.normal),mM.setFromMatrixPosition(o.matrixWorld)),hd.ray.intersectPlane(Xp,I1)&&(f6.copy(o.parent.matrixWorld).invert(),d6.copy(I1).sub(mM.setFromMatrixPosition(o.matrixWorld))),i.style.cursor="move",u.dispatchEvent({type:"dragstart",object:o})))}function A(){u.enabled!==!1&&(o&&(u.dispatchEvent({type:"dragend",object:o}),o=null),i.style.cursor=s?"pointer":"auto")}function b(g){const w=i.getBoundingClientRect();Yv.x=(g.clientX-w.left)/w.width*2-1,Yv.y=-(g.clientY-w.top)/w.height*2+1}c(),this.enabled=!0,this.recursive=!0,this.transformGroup=!1,this.activate=c,this.deactivate=d,this.dispose=h,this.getObjects=p,this.getRaycaster=m}}const gM={type:"change"},vM={type:"start"},AM={type:"end"};class WOe extends Zl{constructor(e,r){super();const i=this,o={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4};this.object=e,this.domElement=r,this.domElement.style.touchAction="none",this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.keys=["KeyA","KeyS","KeyD"],this.mouseButtons={LEFT:fc.ROTATE,MIDDLE:fc.DOLLY,RIGHT:fc.PAN},this.target=new Rt;const s=1e-6,l=new Rt;let u=1,c=o.NONE,d=o.NONE,h=0,p=0,m=0;const v=new Rt,y=new tr,A=new tr,b=new Rt,g=new tr,w=new tr,E=new tr,C=new tr,_=[],L={};this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom,this.handleResize=function(){const ge=i.domElement.getBoundingClientRect(),Ie=i.domElement.ownerDocument.documentElement;i.screen.left=ge.left+window.pageXOffset-Ie.clientLeft,i.screen.top=ge.top+window.pageYOffset-Ie.clientTop,i.screen.width=ge.width,i.screen.height=ge.height};const R=function(){const ge=new tr;return function(He,Ze){return ge.set((He-i.screen.left)/i.screen.width,(Ze-i.screen.top)/i.screen.height),ge}}(),P=function(){const ge=new tr;return function(He,Ze){return ge.set((He-i.screen.width*.5-i.screen.left)/(i.screen.width*.5),(i.screen.height+2*(i.screen.top-Ze))/i.screen.width),ge}}();this.rotateCamera=function(){const ge=new Rt,Ie=new Xl,He=new Rt,Ze=new Rt,Xe=new Rt,ke=new Rt;return function(){ke.set(A.x-y.x,A.y-y.y,0);let ot=ke.length();ot?(v.copy(i.object.position).sub(i.target),He.copy(v).normalize(),Ze.copy(i.object.up).normalize(),Xe.crossVectors(Ze,He).normalize(),Ze.setLength(A.y-y.y),Xe.setLength(A.x-y.x),ke.copy(Ze.add(Xe)),ge.crossVectors(ke,v).normalize(),ot*=i.rotateSpeed,Ie.setFromAxisAngle(ge,ot),v.applyQuaternion(Ie),i.object.up.applyQuaternion(Ie),b.copy(ge),m=ot):!i.staticMoving&&m&&(m*=Math.sqrt(1-i.dynamicDampingFactor),v.copy(i.object.position).sub(i.target),Ie.setFromAxisAngle(b,m),v.applyQuaternion(Ie),i.object.up.applyQuaternion(Ie)),y.copy(A)}}(),this.zoomCamera=function(){let ge;c===o.TOUCH_ZOOM_PAN?(ge=h/p,h=p,i.object.isPerspectiveCamera?v.multiplyScalar(ge):i.object.isOrthographicCamera?(i.object.zoom=Q3.clamp(i.object.zoom/ge,i.minZoom,i.maxZoom),u!==i.object.zoom&&i.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(ge=1+(w.y-g.y)*i.zoomSpeed,ge!==1&&ge>0&&(i.object.isPerspectiveCamera?v.multiplyScalar(ge):i.object.isOrthographicCamera?(i.object.zoom=Q3.clamp(i.object.zoom/ge,i.minZoom,i.maxZoom),u!==i.object.zoom&&i.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),i.staticMoving?g.copy(w):g.y+=(w.y-g.y)*this.dynamicDampingFactor)},this.panCamera=function(){const ge=new tr,Ie=new Rt,He=new Rt;return function(){if(ge.copy(C).sub(E),ge.lengthSq()){if(i.object.isOrthographicCamera){const Xe=(i.object.right-i.object.left)/i.object.zoom/i.domElement.clientWidth,ke=(i.object.top-i.object.bottom)/i.object.zoom/i.domElement.clientWidth;ge.x*=Xe,ge.y*=ke}ge.multiplyScalar(v.length()*i.panSpeed),He.copy(v).cross(i.object.up).setLength(ge.x),He.add(Ie.copy(i.object.up).setLength(ge.y)),i.object.position.add(He),i.target.add(He),i.staticMoving?E.copy(C):E.add(ge.subVectors(C,E).multiplyScalar(i.dynamicDampingFactor))}}}(),this.checkDistances=function(){(!i.noZoom||!i.noPan)&&(v.lengthSq()>i.maxDistance*i.maxDistance&&(i.object.position.addVectors(i.target,v.setLength(i.maxDistance)),g.copy(w)),v.lengthSq()<i.minDistance*i.minDistance&&(i.object.position.addVectors(i.target,v.setLength(i.minDistance)),g.copy(w)))},this.update=function(){v.subVectors(i.object.position,i.target),i.noRotate||i.rotateCamera(),i.noZoom||i.zoomCamera(),i.noPan||i.panCamera(),i.object.position.addVectors(i.target,v),i.object.isPerspectiveCamera?(i.checkDistances(),i.object.lookAt(i.target),l.distanceToSquared(i.object.position)>s&&(i.dispatchEvent(gM),l.copy(i.object.position))):i.object.isOrthographicCamera?(i.object.lookAt(i.target),(l.distanceToSquared(i.object.position)>s||u!==i.object.zoom)&&(i.dispatchEvent(gM),l.copy(i.object.position),u=i.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")},this.reset=function(){c=o.NONE,d=o.NONE,i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.up.copy(i.up0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),v.subVectors(i.object.position,i.target),i.object.lookAt(i.target),i.dispatchEvent(gM),l.copy(i.object.position),u=i.object.zoom};function T(ge){i.enabled!==!1&&(_.length===0&&(i.domElement.setPointerCapture(ge.pointerId),i.domElement.addEventListener("pointermove",D),i.domElement.addEventListener("pointerup",$)),Z(ge),ge.pointerType==="touch"?j(ge):F(ge))}function D(ge){i.enabled!==!1&&(ge.pointerType==="touch"?Q(ge):k(ge))}function $(ge){i.enabled!==!1&&(ge.pointerType==="touch"?X(ge):z(),oe(ge),_.length===0&&(i.domElement.releasePointerCapture(ge.pointerId),i.domElement.removeEventListener("pointermove",D),i.domElement.removeEventListener("pointerup",$)))}function V(ge){oe(ge)}function B(ge){i.enabled!==!1&&(window.removeEventListener("keydown",B),d===o.NONE&&(ge.code===i.keys[o.ROTATE]&&!i.noRotate?d=o.ROTATE:ge.code===i.keys[o.ZOOM]&&!i.noZoom?d=o.ZOOM:ge.code===i.keys[o.PAN]&&!i.noPan&&(d=o.PAN)))}function O(){i.enabled!==!1&&(d=o.NONE,window.addEventListener("keydown",B))}function F(ge){if(c===o.NONE)switch(ge.button){case i.mouseButtons.LEFT:c=o.ROTATE;break;case i.mouseButtons.MIDDLE:c=o.ZOOM;break;case i.mouseButtons.RIGHT:c=o.PAN;break}const Ie=d!==o.NONE?d:c;Ie===o.ROTATE&&!i.noRotate?(A.copy(P(ge.pageX,ge.pageY)),y.copy(A)):Ie===o.ZOOM&&!i.noZoom?(g.copy(R(ge.pageX,ge.pageY)),w.copy(g)):Ie===o.PAN&&!i.noPan&&(E.copy(R(ge.pageX,ge.pageY)),C.copy(E)),i.dispatchEvent(vM)}function k(ge){const Ie=d!==o.NONE?d:c;Ie===o.ROTATE&&!i.noRotate?(y.copy(A),A.copy(P(ge.pageX,ge.pageY))):Ie===o.ZOOM&&!i.noZoom?w.copy(R(ge.pageX,ge.pageY)):Ie===o.PAN&&!i.noPan&&C.copy(R(ge.pageX,ge.pageY))}function z(){c=o.NONE,i.dispatchEvent(AM)}function G(ge){if(i.enabled!==!1&&i.noZoom!==!0){switch(ge.preventDefault(),ge.deltaMode){case 2:g.y-=ge.deltaY*.025;break;case 1:g.y-=ge.deltaY*.01;break;default:g.y-=ge.deltaY*25e-5;break}i.dispatchEvent(vM),i.dispatchEvent(AM)}}function j(ge){switch(ue(ge),_.length){case 1:c=o.TOUCH_ROTATE,A.copy(P(_[0].pageX,_[0].pageY)),y.copy(A);break;default:c=o.TOUCH_ZOOM_PAN;const Ie=_[0].pageX-_[1].pageX,He=_[0].pageY-_[1].pageY;p=h=Math.sqrt(Ie*Ie+He*He);const Ze=(_[0].pageX+_[1].pageX)/2,Xe=(_[0].pageY+_[1].pageY)/2;E.copy(R(Ze,Xe)),C.copy(E);break}i.dispatchEvent(vM)}function Q(ge){switch(ue(ge),_.length){case 1:y.copy(A),A.copy(P(ge.pageX,ge.pageY));break;default:const Ie=Be(ge),He=ge.pageX-Ie.x,Ze=ge.pageY-Ie.y;p=Math.sqrt(He*He+Ze*Ze);const Xe=(ge.pageX+Ie.x)/2,ke=(ge.pageY+Ie.y)/2;C.copy(R(Xe,ke));break}}function X(ge){switch(_.length){case 0:c=o.NONE;break;case 1:c=o.TOUCH_ROTATE,A.copy(P(ge.pageX,ge.pageY)),y.copy(A);break;case 2:c=o.TOUCH_ZOOM_PAN;for(let Ie=0;Ie<_.length;Ie++)if(_[Ie].pointerId!==ge.pointerId){const He=L[_[Ie].pointerId];A.copy(P(He.x,He.y)),y.copy(A);break}break}i.dispatchEvent(AM)}function J(ge){i.enabled!==!1&&ge.preventDefault()}function Z(ge){_.push(ge)}function oe(ge){delete L[ge.pointerId];for(let Ie=0;Ie<_.length;Ie++)if(_[Ie].pointerId==ge.pointerId){_.splice(Ie,1);return}}function ue(ge){let Ie=L[ge.pointerId];Ie===void 0&&(Ie=new tr,L[ge.pointerId]=Ie),Ie.set(ge.pageX,ge.pageY)}function Be(ge){const Ie=ge.pointerId===_[0].pointerId?_[1]:_[0];return L[Ie.pointerId]}this.dispose=function(){i.domElement.removeEventListener("contextmenu",J),i.domElement.removeEventListener("pointerdown",T),i.domElement.removeEventListener("pointercancel",V),i.domElement.removeEventListener("wheel",G),i.domElement.removeEventListener("pointermove",D),i.domElement.removeEventListener("pointerup",$),window.removeEventListener("keydown",B),window.removeEventListener("keyup",O)},this.domElement.addEventListener("contextmenu",J),this.domElement.addEventListener("pointerdown",T),this.domElement.addEventListener("pointercancel",V),this.domElement.addEventListener("wheel",G,{passive:!1}),window.addEventListener("keydown",B),window.addEventListener("keyup",O),this.handleResize(),this.update()}}const h6={type:"change"},yM={type:"start"},p6={type:"end"},L1=new GC,m6=new du,QOe=Math.cos(70*Q3.DEG2RAD);class KOe extends Zl{constructor(e,r){super(),this.object=e,this.domElement=r,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new Rt,this.cursor=new Rt,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:fc.ROTATE,MIDDLE:fc.DOLLY,RIGHT:fc.PAN},this.touches={ONE:Sp.ROTATE,TWO:Sp.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return u.phi},this.getAzimuthalAngle=function(){return u.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(Ae){Ae.addEventListener("keydown",be),this._domElementKeyEvents=Ae},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",be),this._domElementKeyEvents=null},this.saveState=function(){i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=function(){i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(h6),i.update(),s=o.NONE},this.update=function(){const Ae=new Rt,Ue=new Xl().setFromUnitVectors(e.up,new Rt(0,1,0)),et=Ue.clone().invert(),ce=new Rt,Y=new Xl,ne=new Rt,Le=2*Math.PI;return function(ve=null){const he=i.object.position;Ae.copy(he).sub(i.target),Ae.applyQuaternion(Ue),u.setFromVector3(Ae),i.autoRotate&&s===o.NONE&&$(T(ve)),i.enableDamping?(u.theta+=c.theta*i.dampingFactor,u.phi+=c.phi*i.dampingFactor):(u.theta+=c.theta,u.phi+=c.phi);let qe=i.minAzimuthAngle,Je=i.maxAzimuthAngle;isFinite(qe)&&isFinite(Je)&&(qe<-Math.PI?qe+=Le:qe>Math.PI&&(qe-=Le),Je<-Math.PI?Je+=Le:Je>Math.PI&&(Je-=Le),qe<=Je?u.theta=Math.max(qe,Math.min(Je,u.theta)):u.theta=u.theta>(qe+Je)/2?Math.max(qe,u.theta):Math.min(Je,u.theta)),u.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,u.phi)),u.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(h,i.dampingFactor):i.target.add(h),i.target.sub(i.cursor),i.target.clampLength(i.minTargetRadius,i.maxTargetRadius),i.target.add(i.cursor),i.zoomToCursor&&L||i.object.isOrthographicCamera?u.radius=j(u.radius):u.radius=j(u.radius*d),Ae.setFromSpherical(u),Ae.applyQuaternion(et),he.copy(i.target).add(Ae),i.object.lookAt(i.target),i.enableDamping===!0?(c.theta*=1-i.dampingFactor,c.phi*=1-i.dampingFactor,h.multiplyScalar(1-i.dampingFactor)):(c.set(0,0,0),h.set(0,0,0));let Qe=!1;if(i.zoomToCursor&&L){let nt=null;if(i.object.isPerspectiveCamera){const It=Ae.length();nt=j(It*d);const kt=It-nt;i.object.position.addScaledVector(C,kt),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const It=new Rt(_.x,_.y,0);It.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/d)),i.object.updateProjectionMatrix(),Qe=!0;const kt=new Rt(_.x,_.y,0);kt.unproject(i.object),i.object.position.sub(kt).add(It),i.object.updateMatrixWorld(),nt=Ae.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;nt!==null&&(this.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(nt).add(i.object.position):(L1.origin.copy(i.object.position),L1.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(L1.direction))<QOe?e.lookAt(i.target):(m6.setFromNormalAndCoplanarPoint(i.object.up,i.target),L1.intersectPlane(m6,i.target))))}else i.object.isOrthographicCamera&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/d)),i.object.updateProjectionMatrix(),Qe=!0);return d=1,L=!1,Qe||ce.distanceToSquared(i.object.position)>l||8*(1-Y.dot(i.object.quaternion))>l||ne.distanceToSquared(i.target)>0?(i.dispatchEvent(h6),ce.copy(i.object.position),Y.copy(i.object.quaternion),ne.copy(i.target),Qe=!1,!0):!1}}(),this.dispose=function(){i.domElement.removeEventListener("contextmenu",Te),i.domElement.removeEventListener("pointerdown",At),i.domElement.removeEventListener("pointercancel",Tt),i.domElement.removeEventListener("wheel",Ve),i.domElement.removeEventListener("pointermove",Ct),i.domElement.removeEventListener("pointerup",Tt),i._domElementKeyEvents!==null&&(i._domElementKeyEvents.removeEventListener("keydown",be),i._domElementKeyEvents=null)};const i=this,o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let s=o.NONE;const l=1e-6,u=new q3,c=new q3;let d=1;const h=new Rt,p=new tr,m=new tr,v=new tr,y=new tr,A=new tr,b=new tr,g=new tr,w=new tr,E=new tr,C=new Rt,_=new tr;let L=!1;const R=[],P={};function T(Ae){return Ae!==null?2*Math.PI/60*i.autoRotateSpeed*Ae:2*Math.PI/60/60*i.autoRotateSpeed}function D(){return Math.pow(.95,i.zoomSpeed)}function $(Ae){c.theta-=Ae}function V(Ae){c.phi-=Ae}const B=function(){const Ae=new Rt;return function(et,ce){Ae.setFromMatrixColumn(ce,0),Ae.multiplyScalar(-et),h.add(Ae)}}(),O=function(){const Ae=new Rt;return function(et,ce){i.screenSpacePanning===!0?Ae.setFromMatrixColumn(ce,1):(Ae.setFromMatrixColumn(ce,0),Ae.crossVectors(i.object.up,Ae)),Ae.multiplyScalar(et),h.add(Ae)}}(),F=function(){const Ae=new Rt;return function(et,ce){const Y=i.domElement;if(i.object.isPerspectiveCamera){const ne=i.object.position;Ae.copy(ne).sub(i.target);let Le=Ae.length();Le*=Math.tan(i.object.fov/2*Math.PI/180),B(2*et*Le/Y.clientHeight,i.object.matrix),O(2*ce*Le/Y.clientHeight,i.object.matrix)}else i.object.isOrthographicCamera?(B(et*(i.object.right-i.object.left)/i.object.zoom/Y.clientWidth,i.object.matrix),O(ce*(i.object.top-i.object.bottom)/i.object.zoom/Y.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}}();function k(Ae){i.object.isPerspectiveCamera||i.object.isOrthographicCamera?d/=Ae:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function z(Ae){i.object.isPerspectiveCamera||i.object.isOrthographicCamera?d*=Ae:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function G(Ae){if(!i.zoomToCursor)return;L=!0;const Ue=i.domElement.getBoundingClientRect(),et=Ae.clientX-Ue.left,ce=Ae.clientY-Ue.top,Y=Ue.width,ne=Ue.height;_.x=et/Y*2-1,_.y=-(ce/ne)*2+1,C.set(_.x,_.y,1).unproject(i.object).sub(i.object.position).normalize()}function j(Ae){return Math.max(i.minDistance,Math.min(i.maxDistance,Ae))}function Q(Ae){p.set(Ae.clientX,Ae.clientY)}function X(Ae){G(Ae),g.set(Ae.clientX,Ae.clientY)}function J(Ae){y.set(Ae.clientX,Ae.clientY)}function Z(Ae){m.set(Ae.clientX,Ae.clientY),v.subVectors(m,p).multiplyScalar(i.rotateSpeed);const Ue=i.domElement;$(2*Math.PI*v.x/Ue.clientHeight),V(2*Math.PI*v.y/Ue.clientHeight),p.copy(m),i.update()}function oe(Ae){w.set(Ae.clientX,Ae.clientY),E.subVectors(w,g),E.y>0?k(D()):E.y<0&&z(D()),g.copy(w),i.update()}function ue(Ae){A.set(Ae.clientX,Ae.clientY),b.subVectors(A,y).multiplyScalar(i.panSpeed),F(b.x,b.y),y.copy(A),i.update()}function Be(Ae){G(Ae),Ae.deltaY<0?z(D()):Ae.deltaY>0&&k(D()),i.update()}function ge(Ae){let Ue=!1;switch(Ae.code){case i.keys.UP:Ae.ctrlKey||Ae.metaKey||Ae.shiftKey?V(2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):F(0,i.keyPanSpeed),Ue=!0;break;case i.keys.BOTTOM:Ae.ctrlKey||Ae.metaKey||Ae.shiftKey?V(-2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):F(0,-i.keyPanSpeed),Ue=!0;break;case i.keys.LEFT:Ae.ctrlKey||Ae.metaKey||Ae.shiftKey?$(2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):F(i.keyPanSpeed,0),Ue=!0;break;case i.keys.RIGHT:Ae.ctrlKey||Ae.metaKey||Ae.shiftKey?$(-2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):F(-i.keyPanSpeed,0),Ue=!0;break}Ue&&(Ae.preventDefault(),i.update())}function Ie(){if(R.length===1)p.set(R[0].pageX,R[0].pageY);else{const Ae=.5*(R[0].pageX+R[1].pageX),Ue=.5*(R[0].pageY+R[1].pageY);p.set(Ae,Ue)}}function He(){if(R.length===1)y.set(R[0].pageX,R[0].pageY);else{const Ae=.5*(R[0].pageX+R[1].pageX),Ue=.5*(R[0].pageY+R[1].pageY);y.set(Ae,Ue)}}function Ze(){const Ae=R[0].pageX-R[1].pageX,Ue=R[0].pageY-R[1].pageY,et=Math.sqrt(Ae*Ae+Ue*Ue);g.set(0,et)}function Xe(){i.enableZoom&&Ze(),i.enablePan&&He()}function ke(){i.enableZoom&&Ze(),i.enableRotate&&Ie()}function lt(Ae){if(R.length==1)m.set(Ae.pageX,Ae.pageY);else{const et=Ge(Ae),ce=.5*(Ae.pageX+et.x),Y=.5*(Ae.pageY+et.y);m.set(ce,Y)}v.subVectors(m,p).multiplyScalar(i.rotateSpeed);const Ue=i.domElement;$(2*Math.PI*v.x/Ue.clientHeight),V(2*Math.PI*v.y/Ue.clientHeight),p.copy(m)}function ot(Ae){if(R.length===1)A.set(Ae.pageX,Ae.pageY);else{const Ue=Ge(Ae),et=.5*(Ae.pageX+Ue.x),ce=.5*(Ae.pageY+Ue.y);A.set(et,ce)}b.subVectors(A,y).multiplyScalar(i.panSpeed),F(b.x,b.y),y.copy(A)}function it(Ae){const Ue=Ge(Ae),et=Ae.pageX-Ue.x,ce=Ae.pageY-Ue.y,Y=Math.sqrt(et*et+ce*ce);w.set(0,Y),E.set(0,Math.pow(w.y/g.y,i.zoomSpeed)),k(E.y),g.copy(w)}function ft(Ae){i.enableZoom&&it(Ae),i.enablePan&&ot(Ae)}function xt(Ae){i.enableZoom&&it(Ae),i.enableRotate&&lt(Ae)}function At(Ae){i.enabled!==!1&&(R.length===0&&(i.domElement.setPointerCapture(Ae.pointerId),i.domElement.addEventListener("pointermove",Ct),i.domElement.addEventListener("pointerup",Tt)),Ce(Ae),Ae.pointerType==="touch"?fe(Ae):Dt(Ae))}function Ct(Ae){i.enabled!==!1&&(Ae.pointerType==="touch"?me(Ae):Yt(Ae))}function Tt(Ae){Se(Ae),R.length===0&&(i.domElement.releasePointerCapture(Ae.pointerId),i.domElement.removeEventListener("pointermove",Ct),i.domElement.removeEventListener("pointerup",Tt)),i.dispatchEvent(p6),s=o.NONE}function Dt(Ae){let Ue;switch(Ae.button){case 0:Ue=i.mouseButtons.LEFT;break;case 1:Ue=i.mouseButtons.MIDDLE;break;case 2:Ue=i.mouseButtons.RIGHT;break;default:Ue=-1}switch(Ue){case fc.DOLLY:if(i.enableZoom===!1)return;X(Ae),s=o.DOLLY;break;case fc.ROTATE:if(Ae.ctrlKey||Ae.metaKey||Ae.shiftKey){if(i.enablePan===!1)return;J(Ae),s=o.PAN}else{if(i.enableRotate===!1)return;Q(Ae),s=o.ROTATE}break;case fc.PAN:if(Ae.ctrlKey||Ae.metaKey||Ae.shiftKey){if(i.enableRotate===!1)return;Q(Ae),s=o.ROTATE}else{if(i.enablePan===!1)return;J(Ae),s=o.PAN}break;default:s=o.NONE}s!==o.NONE&&i.dispatchEvent(yM)}function Yt(Ae){switch(s){case o.ROTATE:if(i.enableRotate===!1)return;Z(Ae);break;case o.DOLLY:if(i.enableZoom===!1)return;oe(Ae);break;case o.PAN:if(i.enablePan===!1)return;ue(Ae);break}}function Ve(Ae){i.enabled===!1||i.enableZoom===!1||s!==o.NONE||(Ae.preventDefault(),i.dispatchEvent(yM),Be(Ae),i.dispatchEvent(p6))}function be(Ae){i.enabled===!1||i.enablePan===!1||ge(Ae)}function fe(Ae){switch(we(Ae),R.length){case 1:switch(i.touches.ONE){case Sp.ROTATE:if(i.enableRotate===!1)return;Ie(),s=o.TOUCH_ROTATE;break;case Sp.PAN:if(i.enablePan===!1)return;He(),s=o.TOUCH_PAN;break;default:s=o.NONE}break;case 2:switch(i.touches.TWO){case Sp.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Xe(),s=o.TOUCH_DOLLY_PAN;break;case Sp.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;ke(),s=o.TOUCH_DOLLY_ROTATE;break;default:s=o.NONE}break;default:s=o.NONE}s!==o.NONE&&i.dispatchEvent(yM)}function me(Ae){switch(we(Ae),s){case o.TOUCH_ROTATE:if(i.enableRotate===!1)return;lt(Ae),i.update();break;case o.TOUCH_PAN:if(i.enablePan===!1)return;ot(Ae),i.update();break;case o.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;ft(Ae),i.update();break;case o.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;xt(Ae),i.update();break;default:s=o.NONE}}function Te(Ae){i.enabled!==!1&&Ae.preventDefault()}function Ce(Ae){R.push(Ae)}function Se(Ae){delete P[Ae.pointerId];for(let Ue=0;Ue<R.length;Ue++)if(R[Ue].pointerId==Ae.pointerId){R.splice(Ue,1);return}}function we(Ae){let Ue=P[Ae.pointerId];Ue===void 0&&(Ue=new tr,P[Ae.pointerId]=Ue),Ue.set(Ae.pageX,Ae.pageY)}function Ge(Ae){const Ue=Ae.pointerId===R[0].pointerId?R[1]:R[0];return P[Ue.pointerId]}i.domElement.addEventListener("contextmenu",Te),i.domElement.addEventListener("pointerdown",At),i.domElement.addEventListener("pointercancel",Tt),i.domElement.addEventListener("wheel",Ve,{passive:!1}),this.update()}}const XOe={type:"change"};class qOe extends Zl{constructor(e,r){super(),this.object=e,this.domElement=r,this.enabled=!0,this.movementSpeed=1,this.rollSpeed=.005,this.dragToLook=!1,this.autoForward=!1;const i=this,o=1e-6,s=new Xl,l=new Rt;this.tmpQuaternion=new Xl,this.status=0,this.moveState={up:0,down:0,left:0,right:0,forward:0,back:0,pitchUp:0,pitchDown:0,yawLeft:0,yawRight:0,rollLeft:0,rollRight:0},this.moveVector=new Rt(0,0,0),this.rotationVector=new Rt(0,0,0),this.keydown=function(y){if(!(y.altKey||this.enabled===!1)){switch(y.code){case"ShiftLeft":case"ShiftRight":this.movementSpeedMultiplier=.1;break;case"KeyW":this.moveState.forward=1;break;case"KeyS":this.moveState.back=1;break;case"KeyA":this.moveState.left=1;break;case"KeyD":this.moveState.right=1;break;case"KeyR":this.moveState.up=1;break;case"KeyF":this.moveState.down=1;break;case"ArrowUp":this.moveState.pitchUp=1;break;case"ArrowDown":this.moveState.pitchDown=1;break;case"ArrowLeft":this.moveState.yawLeft=1;break;case"ArrowRight":this.moveState.yawRight=1;break;case"KeyQ":this.moveState.rollLeft=1;break;case"KeyE":this.moveState.rollRight=1;break}this.updateMovementVector(),this.updateRotationVector()}},this.keyup=function(y){if(this.enabled!==!1){switch(y.code){case"ShiftLeft":case"ShiftRight":this.movementSpeedMultiplier=1;break;case"KeyW":this.moveState.forward=0;break;case"KeyS":this.moveState.back=0;break;case"KeyA":this.moveState.left=0;break;case"KeyD":this.moveState.right=0;break;case"KeyR":this.moveState.up=0;break;case"KeyF":this.moveState.down=0;break;case"ArrowUp":this.moveState.pitchUp=0;break;case"ArrowDown":this.moveState.pitchDown=0;break;case"ArrowLeft":this.moveState.yawLeft=0;break;case"ArrowRight":this.moveState.yawRight=0;break;case"KeyQ":this.moveState.rollLeft=0;break;case"KeyE":this.moveState.rollRight=0;break}this.updateMovementVector(),this.updateRotationVector()}},this.pointerdown=function(y){if(this.enabled!==!1)if(this.dragToLook)this.status++;else{switch(y.button){case 0:this.moveState.forward=1;break;case 2:this.moveState.back=1;break}this.updateMovementVector()}},this.pointermove=function(y){if(this.enabled!==!1&&(!this.dragToLook||this.status>0)){const A=this.getContainerDimensions(),b=A.size[0]/2,g=A.size[1]/2;this.moveState.yawLeft=-(y.pageX-A.offset[0]-b)/b,this.moveState.pitchDown=(y.pageY-A.offset[1]-g)/g,this.updateRotationVector()}},this.pointerup=function(y){if(this.enabled!==!1){if(this.dragToLook)this.status--,this.moveState.yawLeft=this.moveState.pitchDown=0;else{switch(y.button){case 0:this.moveState.forward=0;break;case 2:this.moveState.back=0;break}this.updateMovementVector()}this.updateRotationVector()}},this.pointercancel=function(){this.enabled!==!1&&(this.dragToLook?(this.status=0,this.moveState.yawLeft=this.moveState.pitchDown=0):(this.moveState.forward=0,this.moveState.back=0,this.updateMovementVector()),this.updateRotationVector())},this.contextMenu=function(y){this.enabled!==!1&&y.preventDefault()},this.update=function(y){if(this.enabled===!1)return;const A=y*i.movementSpeed,b=y*i.rollSpeed;i.object.translateX(i.moveVector.x*A),i.object.translateY(i.moveVector.y*A),i.object.translateZ(i.moveVector.z*A),i.tmpQuaternion.set(i.rotationVector.x*b,i.rotationVector.y*b,i.rotationVector.z*b,1).normalize(),i.object.quaternion.multiply(i.tmpQuaternion),(l.distanceToSquared(i.object.position)>o||8*(1-s.dot(i.object.quaternion))>o)&&(i.dispatchEvent(XOe),s.copy(i.object.quaternion),l.copy(i.object.position))},this.updateMovementVector=function(){const y=this.moveState.forward||this.autoForward&&!this.moveState.back?1:0;this.moveVector.x=-this.moveState.left+this.moveState.right,this.moveVector.y=-this.moveState.down+this.moveState.up,this.moveVector.z=-y+this.moveState.back},this.updateRotationVector=function(){this.rotationVector.x=-this.moveState.pitchDown+this.moveState.pitchUp,this.rotationVector.y=-this.moveState.yawRight+this.moveState.yawLeft,this.rotationVector.z=-this.moveState.rollRight+this.moveState.rollLeft},this.getContainerDimensions=function(){return this.domElement!=document?{size:[this.domElement.offsetWidth,this.domElement.offsetHeight],offset:[this.domElement.offsetLeft,this.domElement.offsetTop]}:{size:[window.innerWidth,window.innerHeight],offset:[0,0]}},this.dispose=function(){this.domElement.removeEventListener("contextmenu",u),this.domElement.removeEventListener("pointerdown",d),this.domElement.removeEventListener("pointermove",c),this.domElement.removeEventListener("pointerup",h),this.domElement.removeEventListener("pointercancel",p),window.removeEventListener("keydown",m),window.removeEventListener("keyup",v)};const u=this.contextMenu.bind(this),c=this.pointermove.bind(this),d=this.pointerdown.bind(this),h=this.pointerup.bind(this),p=this.pointercancel.bind(this),m=this.keydown.bind(this),v=this.keyup.bind(this);this.domElement.addEventListener("contextmenu",u),this.domElement.addEventListener("pointerdown",d),this.domElement.addEventListener("pointermove",c),this.domElement.addEventListener("pointerup",h),this.domElement.addEventListener("pointercancel",p),window.addEventListener("keydown",m),window.addEventListener("keyup",v),this.updateMovementVector(),this.updateRotationVector()}}const YOe={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`};class JC{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const JOe=new nP(-1,1,1,-1,0,1);class ZOe extends fs{constructor(){super(),this.setAttribute("position",new Wo([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new Wo([0,2,0,0,2,0],2))}}const eDe=new ZOe;class tDe{constructor(e){this._mesh=new Hl(eDe,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,JOe)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}class nDe extends JC{constructor(e,r){super(),this.textureID=r!==void 0?r:"tDiffuse",e instanceof Ou?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=jG.clone(e.uniforms),this.material=new Ou({name:e.name!==void 0?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new tDe(this.material)}render(e,r,i){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=i.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(r),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class g6 extends JC{constructor(e,r){super(),this.scene=e,this.camera=r,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,r,i){const o=e.getContext(),s=e.state;s.buffers.color.setMask(!1),s.buffers.depth.setMask(!1),s.buffers.color.setLocked(!0),s.buffers.depth.setLocked(!0);let l,u;this.inverse?(l=0,u=1):(l=1,u=0),s.buffers.stencil.setTest(!0),s.buffers.stencil.setOp(o.REPLACE,o.REPLACE,o.REPLACE),s.buffers.stencil.setFunc(o.ALWAYS,l,4294967295),s.buffers.stencil.setClear(u),s.buffers.stencil.setLocked(!0),e.setRenderTarget(i),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(r),this.clear&&e.clear(),e.render(this.scene,this.camera),s.buffers.color.setLocked(!1),s.buffers.depth.setLocked(!1),s.buffers.color.setMask(!0),s.buffers.depth.setMask(!0),s.buffers.stencil.setLocked(!1),s.buffers.stencil.setFunc(o.EQUAL,1,4294967295),s.buffers.stencil.setOp(o.KEEP,o.KEEP,o.KEEP),s.buffers.stencil.setLocked(!0)}}class rDe extends JC{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class iDe{constructor(e,r){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),r===void 0){const i=e.getSize(new tr);this._width=i.width,this._height=i.height,r=new Kd(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:ag}),r.texture.name="EffectComposer.rt1"}else this._width=r.width,this._height=r.height;this.renderTarget1=r,this.renderTarget2=r.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new nDe(YOe),this.copyPass.material.blending=bu,this.clock=new oj}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,r){this.passes.splice(r,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const r=this.passes.indexOf(e);r!==-1&&this.passes.splice(r,1)}isLastEnabledPass(e){for(let r=e+1;r<this.passes.length;r++)if(this.passes[r].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const r=this.renderer.getRenderTarget();let i=!1;for(let o=0,s=this.passes.length;o<s;o++){const l=this.passes[o];if(l.enabled!==!1){if(l.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(o),l.render(this.renderer,this.writeBuffer,this.readBuffer,e,i),l.needsSwap){if(i){const u=this.renderer.getContext(),c=this.renderer.state.buffers.stencil;c.setFunc(u.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),c.setFunc(u.EQUAL,1,4294967295)}this.swapBuffers()}g6!==void 0&&(l instanceof g6?i=!0:l instanceof rDe&&(i=!1))}}this.renderer.setRenderTarget(r)}reset(e){if(e===void 0){const r=this.renderer.getSize(new tr);this._pixelRatio=this.renderer.getPixelRatio(),this._width=r.width,this._height=r.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,r){this._width=e,this._height=r;const i=this._width*this._pixelRatio,o=this._height*this._pixelRatio;this.renderTarget1.setSize(i,o),this.renderTarget2.setSize(i,o);for(let s=0;s<this.passes.length;s++)this.passes[s].setSize(i,o)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class oDe extends JC{constructor(e,r,i=null,o=null,s=null){super(),this.scene=e,this.camera=r,this.overrideMaterial=i,this.clearColor=o,this.clearAlpha=s,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new mi}render(e,r,i){const o=e.autoClear;e.autoClear=!1;let s,l;this.overrideMaterial!==null&&(l=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor)),this.clearAlpha!==null&&(s=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),this.clearDepth==!0&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:i),this.clear===!0&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor!==null&&e.setClearColor(this._oldClearColor),this.clearAlpha!==null&&e.setClearAlpha(s),this.overrideMaterial!==null&&(this.scene.overrideMaterial=l),e.autoClear=o}}var Cu=Object.freeze({Linear:Object.freeze({None:function(n){return n},In:function(n){return this.None(n)},Out:function(n){return this.None(n)},InOut:function(n){return this.None(n)}}),Quadratic:Object.freeze({In:function(n){return n*n},Out:function(n){return n*(2-n)},InOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)}}),Cubic:Object.freeze({In:function(n){return n*n*n},Out:function(n){return--n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)}}),Quartic:Object.freeze({In:function(n){return n*n*n*n},Out:function(n){return 1- --n*n*n*n},InOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)}}),Quintic:Object.freeze({In:function(n){return n*n*n*n*n},Out:function(n){return--n*n*n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)}}),Sinusoidal:Object.freeze({In:function(n){return 1-Math.sin((1-n)*Math.PI/2)},Out:function(n){return Math.sin(n*Math.PI/2)},InOut:function(n){return .5*(1-Math.sin(Math.PI*(.5-n)))}}),Exponential:Object.freeze({In:function(n){return n===0?0:Math.pow(1024,n-1)},Out:function(n){return n===1?1:1-Math.pow(2,-10*n)},InOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)}}),Circular:Object.freeze({In:function(n){return 1-Math.sqrt(1-n*n)},Out:function(n){return Math.sqrt(1- --n*n)},InOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)}}),Elastic:Object.freeze({In:function(n){return n===0?0:n===1?1:-Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI)},Out:function(n){return n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n-.1)*5*Math.PI)+1},InOut:function(n){return n===0?0:n===1?1:(n*=2,n<1?-.5*Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI):.5*Math.pow(2,-10*(n-1))*Math.sin((n-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(n){var e=1.70158;return n===1?1:n*n*((e+1)*n-e)},Out:function(n){var e=1.70158;return n===0?0:--n*n*((e+1)*n+e)+1},InOut:function(n){var e=2.5949095;return(n*=2)<1?.5*(n*n*((e+1)*n-e)):.5*((n-=2)*n*((e+1)*n+e)+2)}}),Bounce:Object.freeze({In:function(n){return 1-Cu.Bounce.Out(1-n)},Out:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},InOut:function(n){return n<.5?Cu.Bounce.In(n*2)*.5:Cu.Bounce.Out(n*2-1)*.5+.5}}),generatePow:function(n){return n===void 0&&(n=4),n=n<Number.EPSILON?Number.EPSILON:n,n=n>1e4?1e4:n,{In:function(e){return Math.pow(e,n)},Out:function(e){return 1-Math.pow(1-e,n)},InOut:function(e){return e<.5?Math.pow(e*2,n)/2:(1-Math.pow(2-e*2,n))/2+.5}}}}),A0=function(){return performance.now()},aDe=function(){function n(){this._tweens={},this._tweensAddedDuringUpdate={}}return n.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(r){return e._tweens[r]})},n.prototype.removeAll=function(){this._tweens={}},n.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},n.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},n.prototype.update=function(e,r){e===void 0&&(e=A0()),r===void 0&&(r=!1);var i=Object.keys(this._tweens);if(i.length===0)return!1;for(;i.length>0;){this._tweensAddedDuringUpdate={};for(var o=0;o<i.length;o++){var s=this._tweens[i[o]],l=!r;s&&s.update(e,l)===!1&&!r&&delete this._tweens[i[o]]}i=Object.keys(this._tweensAddedDuringUpdate)}return!0},n}(),bm={Linear:function(n,e){var r=n.length-1,i=r*e,o=Math.floor(i),s=bm.Utils.Linear;return e<0?s(n[0],n[1],i):e>1?s(n[r],n[r-1],r-i):s(n[o],n[o+1>r?r:o+1],i-o)},Bezier:function(n,e){for(var r=0,i=n.length-1,o=Math.pow,s=bm.Utils.Bernstein,l=0;l<=i;l++)r+=o(1-e,i-l)*o(e,l)*n[l]*s(i,l);return r},CatmullRom:function(n,e){var r=n.length-1,i=r*e,o=Math.floor(i),s=bm.Utils.CatmullRom;return n[0]===n[r]?(e<0&&(o=Math.floor(i=r*(1+e))),s(n[(o-1+r)%r],n[o],n[(o+1)%r],n[(o+2)%r],i-o)):e<0?n[0]-(s(n[0],n[0],n[1],n[1],-i)-n[0]):e>1?n[r]-(s(n[r],n[r],n[r-1],n[r-1],i-r)-n[r]):s(n[o?o-1:0],n[o],n[r<o+1?r:o+1],n[r<o+2?r:o+2],i-o)},Utils:{Linear:function(n,e,r){return(e-n)*r+n},Bernstein:function(n,e){var r=bm.Utils.Factorial;return r(n)/r(e)/r(n-e)},Factorial:function(){var n=[1];return function(e){var r=1;if(n[e])return n[e];for(var i=e;i>1;i--)r*=i;return n[e]=r,r}}(),CatmullRom:function(n,e,r,i,o){var s=(r-n)*.5,l=(i-e)*.5,u=o*o,c=o*u;return(2*e-2*r+s+l)*c+(-3*e+3*r-2*s-l)*u+s*o+e}}},sDe=function(){function n(){}return n.nextId=function(){return n._nextId++},n._nextId=0,n}(),yR=new aDe,TE=function(){function n(e,r){r===void 0&&(r=yR),this._object=e,this._group=r,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Cu.Linear.None,this._interpolationFunction=bm.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=sDe.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return n.prototype.getId=function(){return this._id},n.prototype.isPlaying=function(){return this._isPlaying},n.prototype.isPaused=function(){return this._isPaused},n.prototype.to=function(e,r){if(r===void 0&&(r=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=r,this},n.prototype.duration=function(e){return e===void 0&&(e=1e3),this._duration=e,this},n.prototype.dynamic=function(e){return e===void 0&&(e=!1),this._isDynamic=e,this},n.prototype.start=function(e,r){if(e===void 0&&(e=A0()),r===void 0&&(r=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var i in this._valuesStartRepeat)this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||r){if(this._propertiesAreSetUp=!0,!this._isDynamic){var o={};for(var s in this._valuesEnd)o[s]=this._valuesEnd[s];this._valuesEnd=o}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,r)}return this},n.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},n.prototype._setupProperties=function(e,r,i,o,s){for(var l in i){var u=e[l],c=Array.isArray(u),d=c?"array":typeof u,h=!c&&Array.isArray(i[l]);if(!(d==="undefined"||d==="function")){if(h){var p=i[l];if(p.length===0)continue;for(var m=[u],v=0,y=p.length;v<y;v+=1){var A=this._handleRelativeValue(u,p[v]);if(isNaN(A)){h=!1,console.warn("Found invalid interpolation list. Skipping.");break}m.push(A)}h&&(i[l]=m)}if((d==="object"||c)&&u&&!h){r[l]=c?[]:{};var b=u;for(var g in b)r[l][g]=b[g];o[l]=c?[]:{};var p=i[l];if(!this._isDynamic){var w={};for(var g in p)w[g]=p[g];i[l]=p=w}this._setupProperties(b,r[l],p,o[l],s)}else(typeof r[l]>"u"||s)&&(r[l]=u),c||(r[l]*=1),h?o[l]=i[l].slice().reverse():o[l]=r[l]||0}}},n.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},n.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},n.prototype.pause=function(e){return e===void 0&&(e=A0()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this),this)},n.prototype.resume=function(e){return e===void 0&&(e=A0()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},n.prototype.stopChainedTweens=function(){for(var e=0,r=this._chainedTweens.length;e<r;e++)this._chainedTweens[e].stop();return this},n.prototype.group=function(e){return e===void 0&&(e=yR),this._group=e,this},n.prototype.delay=function(e){return e===void 0&&(e=0),this._delayTime=e,this},n.prototype.repeat=function(e){return e===void 0&&(e=0),this._initialRepeat=e,this._repeat=e,this},n.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},n.prototype.yoyo=function(e){return e===void 0&&(e=!1),this._yoyo=e,this},n.prototype.easing=function(e){return e===void 0&&(e=Cu.Linear.None),this._easingFunction=e,this},n.prototype.interpolation=function(e){return e===void 0&&(e=bm.Linear),this._interpolationFunction=e,this},n.prototype.chain=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this._chainedTweens=e,this},n.prototype.onStart=function(e){return this._onStartCallback=e,this},n.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},n.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},n.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},n.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},n.prototype.onStop=function(e){return this._onStopCallback=e,this},n.prototype.update=function(e,r){if(e===void 0&&(e=A0()),r===void 0&&(r=!0),this._isPaused)return!0;var i,o,s=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>s)return!1;r&&this.start(e,!0)}if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0),o=(e-this._startTime)/this._duration,o=this._duration===0||o>1?1:o;var l=this._easingFunction(o);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,l),this._onUpdateCallback&&this._onUpdateCallback(this._object,o),o===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(i in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[i]=="string"&&(this._valuesStartRepeat[i]=this._valuesStartRepeat[i]+parseFloat(this._valuesEnd[i])),this._yoyo&&this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var u=0,c=this._chainedTweens.length;u<c;u++)this._chainedTweens[u].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},n.prototype._updateProperties=function(e,r,i,o){for(var s in i)if(r[s]!==void 0){var l=r[s]||0,u=i[s],c=Array.isArray(e[s]),d=Array.isArray(u),h=!c&&d;h?e[s]=this._interpolationFunction(u,o):typeof u=="object"&&u?this._updateProperties(e[s],l,u,o):(u=this._handleRelativeValue(l,u),typeof u=="number"&&(e[s]=l+(u-l)*o))}},n.prototype._handleRelativeValue=function(e,r){return typeof r!="string"?r:r.charAt(0)==="+"||r.charAt(0)==="-"?e+parseFloat(r):parseFloat(r)},n.prototype._swapEndStartRepeatValues=function(e){var r=this._valuesStartRepeat[e],i=this._valuesEnd[e];typeof i=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(i):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=r},n}(),Cc=yR;Cc.getAll.bind(Cc);Cc.removeAll.bind(Cc);Cc.add.bind(Cc);Cc.remove.bind(Cc);var gV=Cc.update.bind(Cc);function lDe(n,e){e===void 0&&(e={});var r=e.insertAt;if(!(!n||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",r==="top"&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}}var cDe=`.scene-nav-info {
  bottom: 5px;
  width: 100%;
  text-align: center;
  color: slategrey;
  opacity: 0.7;
  font-size: 10px;
}

.scene-tooltip {
  top: 0;
  color: lavender;
  font-size: 15px;
}

.scene-nav-info, .scene-tooltip {
  position: absolute;
  font-family: sans-serif;
  pointer-events: none;
  user-select: none;
}

.scene-container canvas:focus {
  outline: none;
}`;lDe(cDe);function uDe(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,s,l,u=[],c=!0,d=!1;try{if(s=(r=r.call(n)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(i=s.call(r)).done)&&(u.push(i.value),u.length!==e);c=!0);}catch(h){d=!0,o=h}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw o}}return u}}function dDe(n,e,r){return e=yDe(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function fDe(n,e){return pDe(n)||uDe(n,e)||vV(n,e)||vDe()}function Jv(n){return hDe(n)||mDe(n)||vV(n)||gDe()}function hDe(n){if(Array.isArray(n))return bR(n)}function pDe(n){if(Array.isArray(n))return n}function mDe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function vV(n,e){if(n){if(typeof n=="string")return bR(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bR(n,e)}}function bR(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function gDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ADe(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function yDe(n){var e=ADe(n,"string");return typeof e=="symbol"?e:String(e)}var oo=window.THREE?window.THREE:{WebGLRenderer:JG,Scene:kTe,PerspectiveCamera:nl,Raycaster:aj,SRGBColorSpace:Go,TextureLoader:a3e,Vector2:tr,Vector3:Rt,Box3:Lh,Color:mi,Mesh:Hl,SphereGeometry:QC,MeshBasicMaterial:ZL,BackSide:Ka,EventDispatcher:Zl,MOUSE:fc,Quaternion:Xl,Spherical:q3,Clock:oj},AV=Bh({props:{width:{default:window.innerWidth,onChange:function(e,r,i){isNaN(e)&&(r.width=i)}},height:{default:window.innerHeight,onChange:function(e,r,i){isNaN(e)&&(r.height=i)}},backgroundColor:{default:"#000011"},backgroundImageUrl:{},onBackgroundImageLoaded:{},showNavInfo:{default:!0},skyRadius:{default:5e4},objects:{default:[]},lights:{default:[]},enablePointerInteraction:{default:!0,onChange:function(e,r){r.hoverObj=null,r.toolTipElem&&(r.toolTipElem.innerHTML="")},triggerUpdate:!1},lineHoverPrecision:{default:1,triggerUpdate:!1},hoverOrderComparator:{default:function(){return-1},triggerUpdate:!1},hoverFilter:{default:function(){return!0},triggerUpdate:!1},tooltipContent:{triggerUpdate:!1},hoverDuringDrag:{default:!1,triggerUpdate:!1},clickAfterDrag:{default:!1,triggerUpdate:!1},onHover:{default:function(){},triggerUpdate:!1},onClick:{default:function(){},triggerUpdate:!1},onRightClick:{triggerUpdate:!1}},methods:{tick:function(e){if(e.initialised){if(e.controls.update&&e.controls.update(e.clock.getDelta()),e.postProcessingComposer?e.postProcessingComposer.render():e.renderer.render(e.scene,e.camera),e.extraRenderers.forEach(function(s){return s.render(e.scene,e.camera)}),e.enablePointerInteraction){var r=null;if(e.hoverDuringDrag||!e.isPointerDragging){var i=this.intersectingObjects(e.pointerPos.x,e.pointerPos.y).filter(function(s){return e.hoverFilter(s.object)}).sort(function(s,l){return e.hoverOrderComparator(s.object,l.object)}),o=i.length?i[0]:null;r=o?o.object:null,e.intersectionPoint=o?o.point:null}r!==e.hoverObj&&(e.onHover(r,e.hoverObj),e.toolTipElem.innerHTML=r&&Tr(e.tooltipContent)(r)||"",e.hoverObj=r)}gV()}return this},getPointerPos:function(e){var r=e.pointerPos,i=r.x,o=r.y;return{x:i,y:o}},cameraPosition:function(e,r,i,o){var s=e.camera;if(r&&e.initialised){var l=r,u=i||{x:0,y:0,z:0};if(!o)h(l),p(u);else{var c=Object.assign({},s.position),d=m();new TE(c).to(l,o).easing(Cu.Quadratic.Out).onUpdate(h).start(),new TE(d).to(u,o/3).easing(Cu.Quadratic.Out).onUpdate(p).start()}return this}return Object.assign({},s.position,{lookAt:m()});function h(v){var y=v.x,A=v.y,b=v.z;y!==void 0&&(s.position.x=y),A!==void 0&&(s.position.y=A),b!==void 0&&(s.position.z=b)}function p(v){var y=new oo.Vector3(v.x,v.y,v.z);e.controls.target?e.controls.target=y:s.lookAt(y)}function m(){return Object.assign(new oo.Vector3(0,0,-1e3).applyQuaternion(s.quaternion).add(s.position))}},zoomToFit:function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,o=arguments.length,s=new Array(o>3?o-3:0),l=3;l<o;l++)s[l-3]=arguments[l];return this.fitToBbox(this.getBbox.apply(this,s),r,i)},fitToBbox:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:10,s=e.camera;if(r){var l=new oo.Vector3(0,0,0),u=Math.max.apply(Math,Jv(Object.entries(r).map(function(v){var y=fDe(v,2),A=y[0],b=y[1];return Math.max.apply(Math,Jv(b.map(function(g){return Math.abs(l[A]-g)})))})))*2,c=(1-o*2/e.height)*s.fov,d=u/Math.atan(c*Math.PI/180),h=d/s.aspect,p=Math.max(d,h);if(p>0){var m=l.clone().sub(s.position).normalize().multiplyScalar(-p);this.cameraPosition(m,l,i)}}return this},getBbox:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},i=new oo.Box3(new oo.Vector3(0,0,0),new oo.Vector3(0,0,0)),o=e.objects.filter(r);return o.length?(o.forEach(function(s){return i.expandByObject(s)}),Object.assign.apply(Object,Jv(["x","y","z"].map(function(s){return dDe({},s,[i.min[s],i.max[s]])})))):null},getScreenCoords:function(e,r,i,o){var s=new oo.Vector3(r,i,o);return s.project(this.camera()),{x:(s.x+1)*e.width/2,y:-(s.y-1)*e.height/2}},getSceneCoords:function(e,r,i){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=new oo.Vector2(r/e.width*2-1,-(i/e.height)*2+1),l=new oo.Raycaster;return l.setFromCamera(s,e.camera),Object.assign({},l.ray.at(o,new oo.Vector3))},intersectingObjects:function(e,r,i){var o=new oo.Vector2(r/e.width*2-1,-(i/e.height)*2+1),s=new oo.Raycaster;return s.params.Line.threshold=e.lineHoverPrecision,s.setFromCamera(o,e.camera),s.intersectObjects(e.objects,!0)},renderer:function(e){return e.renderer},scene:function(e){return e.scene},camera:function(e){return e.camera},postProcessingComposer:function(e){return e.postProcessingComposer},controls:function(e){return e.controls},tbControls:function(e){return e.controls}},stateInit:function(){return{scene:new oo.Scene,camera:new oo.PerspectiveCamera,clock:new oo.Clock}},init:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=i.controlType,s=o===void 0?"trackball":o,l=i.rendererConfig,u=l===void 0?{}:l,c=i.extraRenderers,d=c===void 0?[]:c,h=i.waitForLoadComplete,p=h===void 0?!0:h;e.innerHTML="",e.appendChild(r.container=document.createElement("div")),r.container.className="scene-container",r.container.style.position="relative",r.container.appendChild(r.navInfo=document.createElement("div")),r.navInfo.className="scene-nav-info",r.navInfo.textContent={orbit:"Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan",trackball:"Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan",fly:"WASD: move, R|F: up | down, Q|E: roll, up|down: pitch, left|right: yaw"}[s]||"",r.navInfo.style.display=r.showNavInfo?null:"none",r.toolTipElem=document.createElement("div"),r.toolTipElem.classList.add("scene-tooltip"),r.container.appendChild(r.toolTipElem),r.pointerPos=new oo.Vector2,r.pointerPos.x=-2,r.pointerPos.y=-2,["pointermove","pointerdown"].forEach(function(m){return r.container.addEventListener(m,function(v){if(m==="pointerdown"&&(r.isPointerPressed=!0),!r.isPointerDragging&&v.type==="pointermove"&&(v.pressure>0||r.isPointerPressed)&&(v.pointerType!=="touch"||v.movementX===void 0||[v.movementX,v.movementY].some(function(b){return Math.abs(b)>1}))&&(r.isPointerDragging=!0),r.enablePointerInteraction){var y=A(r.container);r.pointerPos.x=v.pageX-y.left,r.pointerPos.y=v.pageY-y.top,r.toolTipElem.style.top="".concat(r.pointerPos.y,"px"),r.toolTipElem.style.left="".concat(r.pointerPos.x,"px"),r.toolTipElem.style.transform="translate(-".concat(r.pointerPos.x/r.width*100,"%, ").concat(r.height-r.pointerPos.y<100?"calc(-100% - 8px)":"21px",")")}function A(b){var g=b.getBoundingClientRect(),w=window.pageXOffset||document.documentElement.scrollLeft,E=window.pageYOffset||document.documentElement.scrollTop;return{top:g.top+E,left:g.left+w}}},{passive:!0})}),r.container.addEventListener("pointerup",function(m){r.isPointerPressed=!1,!(r.isPointerDragging&&(r.isPointerDragging=!1,!r.clickAfterDrag))&&requestAnimationFrame(function(){m.button===0&&r.onClick(r.hoverObj||null,m,r.intersectionPoint),m.button===2&&r.onRightClick&&r.onRightClick(r.hoverObj||null,m,r.intersectionPoint)})},{passive:!0,capture:!0}),r.container.addEventListener("contextmenu",function(m){r.onRightClick&&m.preventDefault()}),r.renderer=new oo.WebGLRenderer(Object.assign({antialias:!0,alpha:!0},u)),r.renderer.setPixelRatio(Math.min(2,window.devicePixelRatio)),r.container.appendChild(r.renderer.domElement),r.extraRenderers=d,r.extraRenderers.forEach(function(m){m.domElement.style.position="absolute",m.domElement.style.top="0px",m.domElement.style.pointerEvents="none",r.container.appendChild(m.domElement)}),r.postProcessingComposer=new iDe(r.renderer),r.postProcessingComposer.addPass(new oDe(r.scene,r.camera)),r.controls=new{trackball:WOe,orbit:KOe,fly:qOe}[s](r.camera,r.renderer.domElement),s==="fly"&&(r.controls.movementSpeed=300,r.controls.rollSpeed=Math.PI/6,r.controls.dragToLook=!0),(s==="trackball"||s==="orbit")&&(r.controls.minDistance=.1,r.controls.maxDistance=r.skyRadius,r.controls.addEventListener("start",function(){r.controlsEngaged=!0}),r.controls.addEventListener("change",function(){r.controlsEngaged&&(r.controlsDragging=!0)}),r.controls.addEventListener("end",function(){r.controlsEngaged=!1,r.controlsDragging=!1})),[r.renderer,r.postProcessingComposer].concat(Jv(r.extraRenderers)).forEach(function(m){return m.setSize(r.width,r.height)}),r.camera.aspect=r.width/r.height,r.camera.updateProjectionMatrix(),r.camera.position.z=1e3,r.scene.add(r.skysphere=new oo.Mesh),r.skysphere.visible=!1,r.loadComplete=r.scene.visible=!p,window.scene=r.scene},update:function(e,r){if(e.width&&e.height&&(r.hasOwnProperty("width")||r.hasOwnProperty("height"))&&(e.container.style.width="".concat(e.width,"px"),e.container.style.height="".concat(e.height,"px"),[e.renderer,e.postProcessingComposer].concat(Jv(e.extraRenderers)).forEach(function(s){return s.setSize(e.width,e.height)}),e.camera.aspect=e.width/e.height,e.camera.updateProjectionMatrix()),r.hasOwnProperty("skyRadius")&&e.skyRadius&&(e.controls.hasOwnProperty("maxDistance")&&r.skyRadius&&(e.controls.maxDistance=Math.min(e.controls.maxDistance,e.skyRadius)),e.camera.far=e.skyRadius*2.5,e.camera.updateProjectionMatrix(),e.skysphere.geometry=new oo.SphereGeometry(e.skyRadius)),r.hasOwnProperty("backgroundColor")){var i=YC(e.backgroundColor).alpha;i===void 0&&(i=1),e.renderer.setClearColor(new oo.Color(uV(1,e.backgroundColor)),i)}r.hasOwnProperty("backgroundImageUrl")&&(e.backgroundImageUrl?new oo.TextureLoader().load(e.backgroundImageUrl,function(s){s.colorSpace=oo.SRGBColorSpace,e.skysphere.material=new oo.MeshBasicMaterial({map:s,side:oo.BackSide}),e.skysphere.visible=!0,e.onBackgroundImageLoaded&&setTimeout(e.onBackgroundImageLoaded),!e.loadComplete&&o()}):(e.skysphere.visible=!1,e.skysphere.material.map=null,!e.loadComplete&&o())),r.hasOwnProperty("showNavInfo")&&(e.navInfo.style.display=e.showNavInfo?null:"none"),r.hasOwnProperty("lights")&&((r.lights||[]).forEach(function(s){return e.scene.remove(s)}),e.lights.forEach(function(s){return e.scene.add(s)})),r.hasOwnProperty("objects")&&((r.objects||[]).forEach(function(s){return e.scene.remove(s)}),e.objects.forEach(function(s){return e.scene.add(s)}));function o(){e.loadComplete=e.scene.visible=!0}}});function bDe(n,e){e===void 0&&(e={});var r=e.insertAt;if(!(!n||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",r==="top"&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}}var xDe=`.graph-info-msg {
  top: 50%;
  width: 100%;
  text-align: center;
  color: lavender;
  opacity: 0.7;
  font-size: 22px;
  position: absolute;
  font-family: Sans-serif;
}

.scene-container .clickable {
  cursor: pointer;
}

.scene-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.scene-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}`;bDe(xDe);function v6(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function P1(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v6(Object(r),!0).forEach(function(i){iy(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):v6(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function iy(n,e,r){return e=MDe(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function ZC(n){return EDe(n)||CDe(n)||wDe(n)||SDe()}function EDe(n){if(Array.isArray(n))return xR(n)}function CDe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function wDe(n,e){if(n){if(typeof n=="string")return xR(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xR(n,e)}}function xR(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function SDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _De(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function MDe(n){var e=_De(n,"string");return typeof e=="symbol"?e:String(e)}function yV(n,e){var r=new e;return r._destructor&&r._destructor(),{linkProp:function(o){return{default:r[o](),onChange:function(l,u){u[n][o](l)},triggerUpdate:!1}},linkMethod:function(o){return function(s){for(var l=s[n],u=arguments.length,c=new Array(u>1?u-1:0),d=1;d<u;d++)c[d-1]=arguments[d];var h=l[o].apply(l,c);return h===l?this:h}}}}var A6=window.THREE?window.THREE:{AmbientLight:u3e,DirectionalLight:c3e,Vector3:Rt},TDe=170,bV=yV("forceGraph",wP),RDe=Object.assign.apply(Object,ZC(["jsonUrl","graphData","numDimensions","dagMode","dagLevelDistance","dagNodeFilter","onDagError","nodeRelSize","nodeId","nodeVal","nodeResolution","nodeColor","nodeAutoColorBy","nodeOpacity","nodeVisibility","nodeThreeObject","nodeThreeObjectExtend","linkSource","linkTarget","linkVisibility","linkColor","linkAutoColorBy","linkOpacity","linkWidth","linkResolution","linkCurvature","linkCurveRotation","linkMaterial","linkThreeObject","linkThreeObjectExtend","linkPositionUpdate","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution","forceEngine","d3AlphaDecay","d3VelocityDecay","d3AlphaMin","ngraphPhysics","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(n){return iy({},n,bV.linkProp(n))}))),IDe=Object.assign.apply(Object,ZC(["refresh","getGraphBbox","d3Force","d3ReheatSimulation","emitParticle"].map(function(n){return iy({},n,bV.linkMethod(n))}))),ux=yV("renderObjs",AV),LDe=Object.assign.apply(Object,ZC(["width","height","backgroundColor","showNavInfo","enablePointerInteraction"].map(function(n){return iy({},n,ux.linkProp(n))}))),PDe=Object.assign.apply(Object,ZC(["lights","cameraPosition","postProcessingComposer"].map(function(n){return iy({},n,ux.linkMethod(n))})).concat([{graph2ScreenCoords:ux.linkMethod("getScreenCoords"),screen2GraphCoords:ux.linkMethod("getSceneCoords")}])),BDe=Bh({props:P1(P1({nodeLabel:{default:"name",triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:1,onChange:function(e,r){return r.renderObjs.lineHoverPrecision(e)},triggerUpdate:!1},enableNavigationControls:{default:!0,onChange:function(e,r){var i=r.renderObjs.controls();i&&(i.enabled=e,e&&i.domElement&&i.domElement.dispatchEvent(new PointerEvent("pointerup")))},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1}},RDe),LDe),methods:P1(P1({zoomToFit:function(e,r,i){for(var o,s=arguments.length,l=new Array(s>3?s-3:0),u=3;u<s;u++)l[u-3]=arguments[u];return e.renderObjs.fitToBbox((o=e.forceGraph).getGraphBbox.apply(o,l),r,i),this},pauseAnimation:function(e){return e.animationFrameRequestId!==null&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),this},resumeAnimation:function(e){return e.animationFrameRequestId===null&&this._animationCycle(),this},_animationCycle:function(e){e.enablePointerInteraction&&(this.renderer().domElement.style.cursor=null),e.forceGraph.tickFrame(),e.renderObjs.tick(),e.animationFrameRequestId=requestAnimationFrame(this._animationCycle)},scene:function(e){return e.renderObjs.scene()},camera:function(e){return e.renderObjs.camera()},renderer:function(e){return e.renderObjs.renderer()},controls:function(e){return e.renderObjs.controls()},tbControls:function(e){return e.renderObjs.tbControls()},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},IDe),PDe),stateInit:function(e){var r=e.controlType,i=e.rendererConfig,o=e.extraRenderers,s=new wP;return{forceGraph:s,renderObjs:AV({controlType:r,rendererConfig:i,extraRenderers:o}).objects([s]).lights([new A6.AmbientLight(13421772,Math.PI),new A6.DirectionalLight(16777215,.6*Math.PI)])}},init:function(e,r){e.innerHTML="",e.appendChild(r.container=document.createElement("div")),r.container.style.position="relative";var i=document.createElement("div");r.container.appendChild(i),r.renderObjs(i);var o=r.renderObjs.camera(),s=r.renderObjs.renderer(),l=r.renderObjs.controls();l.enabled=!!r.enableNavigationControls,r.lastSetCameraZ=o.position.z;var u;r.container.appendChild(u=document.createElement("div")),u.className="graph-info-msg",u.textContent="",r.forceGraph.onLoading(function(){u.textContent="Loading..."}).onFinishLoading(function(){u.textContent=""}).onUpdate(function(){r.graphData=r.forceGraph.graphData(),o.position.x===0&&o.position.y===0&&o.position.z===r.lastSetCameraZ&&r.graphData.nodes.length&&(o.lookAt(r.forceGraph.position),r.lastSetCameraZ=o.position.z=Math.cbrt(r.graphData.nodes.length)*TDe)}).onFinishUpdate(function(){if(r._dragControls){var c=r.graphData.nodes.find(function(h){return h.__initialFixedPos&&!h.__disposeControlsAfterDrag});c?c.__disposeControlsAfterDrag=!0:r._dragControls.dispose(),r._dragControls=void 0}if(r.enableNodeDrag&&r.enablePointerInteraction&&r.forceEngine==="d3"){var d=r._dragControls=new VOe(r.graphData.nodes.map(function(h){return h.__threeObj}).filter(function(h){return h}),o,s.domElement);d.addEventListener("dragstart",function(h){l.enabled=!1,h.object.__initialPos=h.object.position.clone(),h.object.__prevPos=h.object.position.clone();var p=nu(h.object).__data;!p.__initialFixedPos&&(p.__initialFixedPos={fx:p.fx,fy:p.fy,fz:p.fz}),!p.__initialPos&&(p.__initialPos={x:p.x,y:p.y,z:p.z}),["x","y","z"].forEach(function(m){return p["f".concat(m)]=p[m]}),s.domElement.classList.add("grabbable")}),d.addEventListener("drag",function(h){var p=nu(h.object);if(!h.object.hasOwnProperty("__graphObjType")){var m=h.object.__initialPos,v=h.object.__prevPos,y=h.object.position;p.position.add(y.clone().sub(v)),v.copy(y),y.copy(m)}var A=p.__data,b=p.position,g={x:b.x-A.x,y:b.y-A.y,z:b.z-A.z};["x","y","z"].forEach(function(w){return A["f".concat(w)]=A[w]=b[w]}),r.forceGraph.d3AlphaTarget(.3).resetCountdown(),A.__dragged=!0,r.onNodeDrag(A,g)}),d.addEventListener("dragend",function(h){delete h.object.__initialPos,delete h.object.__prevPos;var p=nu(h.object).__data;p.__disposeControlsAfterDrag&&(d.dispose(),delete p.__disposeControlsAfterDrag);var m=p.__initialFixedPos,v=p.__initialPos,y={x:v.x-p.x,y:v.y-p.y,z:v.z-p.z};m&&(["x","y","z"].forEach(function(A){var b="f".concat(A);m[b]===void 0&&delete p[b]}),delete p.__initialFixedPos,delete p.__initialPos,p.__dragged&&(delete p.__dragged,r.onNodeDragEnd(p,y))),r.forceGraph.d3AlphaTarget(0).resetCountdown(),r.enableNavigationControls&&(l.enabled=!0,l.domElement&&l.domElement.ownerDocument&&l.domElement.ownerDocument.dispatchEvent(new PointerEvent("pointerup",{pointerType:"touch"}))),s.domElement.classList.remove("grabbable")})}}),r.renderObjs.renderer().useLegacyLights=!1,r.renderObjs.hoverOrderComparator(function(c,d){var h=nu(c);if(!h)return 1;var p=nu(d);if(!p)return-1;var m=function(y){return y.__graphObjType==="node"};return m(p)-m(h)}).tooltipContent(function(c){var d=nu(c);return d&&Tr(r["".concat(d.__graphObjType,"Label")])(d.__data)||""}).hoverDuringDrag(!1).onHover(function(c){var d=nu(c);if(d!==r.hoverObj){var h=r.hoverObj?r.hoverObj.__graphObjType:null,p=r.hoverObj?r.hoverObj.__data:null,m=d?d.__graphObjType:null,v=d?d.__data:null;if(h&&h!==m){var y=r["on".concat(h==="node"?"Node":"Link","Hover")];y&&y(null,p)}if(m){var A=r["on".concat(m==="node"?"Node":"Link","Hover")];A&&A(v,h===m?p:null)}s.domElement.classList[d&&r["on".concat(m==="node"?"Node":"Link","Click")]||!d&&r.onBackgroundClick?"add":"remove"]("clickable"),r.hoverObj=d}}).clickAfterDrag(!1).onClick(function(c,d){var h=nu(c);if(h){var p=r["on".concat(h.__graphObjType==="node"?"Node":"Link","Click")];p&&p(h.__data,d)}else r.onBackgroundClick&&r.onBackgroundClick(d)}).onRightClick(function(c,d){var h=nu(c);if(h){var p=r["on".concat(h.__graphObjType==="node"?"Node":"Link","RightClick")];p&&p(h.__data,d)}else r.onBackgroundRightClick&&r.onBackgroundRightClick(d)}),this._animationCycle()}});function nu(n){for(var e=n;e&&!e.hasOwnProperty("__graphObjType");)e=e.parent;return e}var ER="http://www.w3.org/1999/xhtml";const y6={svg:"http://www.w3.org/2000/svg",xhtml:ER,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ew(n){var e=n+="",r=e.indexOf(":");return r>=0&&(e=n.slice(0,r))!=="xmlns"&&(n=n.slice(r+1)),y6.hasOwnProperty(e)?{space:y6[e],local:n}:n}function ODe(n){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===ER&&e.documentElement.namespaceURI===ER?e.createElement(n):e.createElementNS(r,n)}}function DDe(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function xV(n){var e=ew(n);return(e.local?DDe:ODe)(e)}function NDe(){}function SP(n){return n==null?NDe:function(){return this.querySelector(n)}}function kDe(n){typeof n!="function"&&(n=SP(n));for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o)for(var s=e[o],l=s.length,u=i[o]=new Array(l),c,d,h=0;h<l;++h)(c=s[h])&&(d=n.call(c,c.__data__,h,s))&&("__data__"in c&&(d.__data__=c.__data__),u[h]=d);return new ks(i,this._parents)}function FDe(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function UDe(){return[]}function EV(n){return n==null?UDe:function(){return this.querySelectorAll(n)}}function zDe(n){return function(){return FDe(n.apply(this,arguments))}}function HDe(n){typeof n=="function"?n=zDe(n):n=EV(n);for(var e=this._groups,r=e.length,i=[],o=[],s=0;s<r;++s)for(var l=e[s],u=l.length,c,d=0;d<u;++d)(c=l[d])&&(i.push(n.call(c,c.__data__,d,l)),o.push(c));return new ks(i,o)}function CV(n){return function(){return this.matches(n)}}function wV(n){return function(e){return e.matches(n)}}var $De=Array.prototype.find;function GDe(n){return function(){return $De.call(this.children,n)}}function jDe(){return this.firstElementChild}function VDe(n){return this.select(n==null?jDe:GDe(typeof n=="function"?n:wV(n)))}var WDe=Array.prototype.filter;function QDe(){return Array.from(this.children)}function KDe(n){return function(){return WDe.call(this.children,n)}}function XDe(n){return this.selectAll(n==null?QDe:KDe(typeof n=="function"?n:wV(n)))}function qDe(n){typeof n!="function"&&(n=CV(n));for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o)for(var s=e[o],l=s.length,u=i[o]=[],c,d=0;d<l;++d)(c=s[d])&&n.call(c,c.__data__,d,s)&&u.push(c);return new ks(i,this._parents)}function SV(n){return new Array(n.length)}function YDe(){return new ks(this._enter||this._groups.map(SV),this._parents)}function RE(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}RE.prototype={constructor:RE,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function JDe(n){return function(){return n}}function ZDe(n,e,r,i,o,s){for(var l=0,u,c=e.length,d=s.length;l<d;++l)(u=e[l])?(u.__data__=s[l],i[l]=u):r[l]=new RE(n,s[l]);for(;l<c;++l)(u=e[l])&&(o[l]=u)}function e4e(n,e,r,i,o,s,l){var u,c,d=new Map,h=e.length,p=s.length,m=new Array(h),v;for(u=0;u<h;++u)(c=e[u])&&(m[u]=v=l.call(c,c.__data__,u,e)+"",d.has(v)?o[u]=c:d.set(v,c));for(u=0;u<p;++u)v=l.call(n,s[u],u,s)+"",(c=d.get(v))?(i[u]=c,c.__data__=s[u],d.delete(v)):r[u]=new RE(n,s[u]);for(u=0;u<h;++u)(c=e[u])&&d.get(m[u])===c&&(o[u]=c)}function t4e(n){return n.__data__}function n4e(n,e){if(!arguments.length)return Array.from(this,t4e);var r=e?e4e:ZDe,i=this._parents,o=this._groups;typeof n!="function"&&(n=JDe(n));for(var s=o.length,l=new Array(s),u=new Array(s),c=new Array(s),d=0;d<s;++d){var h=i[d],p=o[d],m=p.length,v=r4e(n.call(h,h&&h.__data__,d,i)),y=v.length,A=u[d]=new Array(y),b=l[d]=new Array(y),g=c[d]=new Array(m);r(h,p,A,b,g,v,e);for(var w=0,E=0,C,_;w<y;++w)if(C=A[w]){for(w>=E&&(E=w+1);!(_=b[E])&&++E<y;);C._next=_||null}}return l=new ks(l,i),l._enter=u,l._exit=c,l}function r4e(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function i4e(){return new ks(this._exit||this._groups.map(SV),this._parents)}function o4e(n,e,r){var i=this.enter(),o=this,s=this.exit();return typeof n=="function"?(i=n(i),i&&(i=i.selection())):i=i.append(n+""),e!=null&&(o=e(o),o&&(o=o.selection())),r==null?s.remove():r(s),i&&o?i.merge(o).order():o}function a4e(n){for(var e=n.selection?n.selection():n,r=this._groups,i=e._groups,o=r.length,s=i.length,l=Math.min(o,s),u=new Array(o),c=0;c<l;++c)for(var d=r[c],h=i[c],p=d.length,m=u[c]=new Array(p),v,y=0;y<p;++y)(v=d[y]||h[y])&&(m[y]=v);for(;c<o;++c)u[c]=r[c];return new ks(u,this._parents)}function s4e(){for(var n=this._groups,e=-1,r=n.length;++e<r;)for(var i=n[e],o=i.length-1,s=i[o],l;--o>=0;)(l=i[o])&&(s&&l.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(l,s),s=l);return this}function l4e(n){n||(n=c4e);function e(p,m){return p&&m?n(p.__data__,m.__data__):!p-!m}for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s){for(var l=r[s],u=l.length,c=o[s]=new Array(u),d,h=0;h<u;++h)(d=l[h])&&(c[h]=d);c.sort(e)}return new ks(o,this._parents).order()}function c4e(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function u4e(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function d4e(){return Array.from(this)}function f4e(){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,s=i.length;o<s;++o){var l=i[o];if(l)return l}return null}function h4e(){let n=0;for(const e of this)++n;return n}function p4e(){return!this.node()}function m4e(n){for(var e=this._groups,r=0,i=e.length;r<i;++r)for(var o=e[r],s=0,l=o.length,u;s<l;++s)(u=o[s])&&n.call(u,u.__data__,s,o);return this}function g4e(n){return function(){this.removeAttribute(n)}}function v4e(n){return function(){this.removeAttributeNS(n.space,n.local)}}function A4e(n,e){return function(){this.setAttribute(n,e)}}function y4e(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function b4e(n,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(n):this.setAttribute(n,r)}}function x4e(n,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,r)}}function E4e(n,e){var r=ew(n);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((e==null?r.local?v4e:g4e:typeof e=="function"?r.local?x4e:b4e:r.local?y4e:A4e)(r,e))}function _V(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function C4e(n){return function(){this.style.removeProperty(n)}}function w4e(n,e,r){return function(){this.style.setProperty(n,e,r)}}function S4e(n,e,r){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(n):this.style.setProperty(n,i,r)}}function _4e(n,e,r){return arguments.length>1?this.each((e==null?C4e:typeof e=="function"?S4e:w4e)(n,e,r??"")):ug(this.node(),n)}function ug(n,e){return n.style.getPropertyValue(e)||_V(n).getComputedStyle(n,null).getPropertyValue(e)}function M4e(n){return function(){delete this[n]}}function T4e(n,e){return function(){this[n]=e}}function R4e(n,e){return function(){var r=e.apply(this,arguments);r==null?delete this[n]:this[n]=r}}function I4e(n,e){return arguments.length>1?this.each((e==null?M4e:typeof e=="function"?R4e:T4e)(n,e)):this.node()[n]}function MV(n){return n.trim().split(/^|\s+/)}function _P(n){return n.classList||new TV(n)}function TV(n){this._node=n,this._names=MV(n.getAttribute("class")||"")}TV.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function RV(n,e){for(var r=_P(n),i=-1,o=e.length;++i<o;)r.add(e[i])}function IV(n,e){for(var r=_P(n),i=-1,o=e.length;++i<o;)r.remove(e[i])}function L4e(n){return function(){RV(this,n)}}function P4e(n){return function(){IV(this,n)}}function B4e(n,e){return function(){(e.apply(this,arguments)?RV:IV)(this,n)}}function O4e(n,e){var r=MV(n+"");if(arguments.length<2){for(var i=_P(this.node()),o=-1,s=r.length;++o<s;)if(!i.contains(r[o]))return!1;return!0}return this.each((typeof e=="function"?B4e:e?L4e:P4e)(r,e))}function D4e(){this.textContent=""}function N4e(n){return function(){this.textContent=n}}function k4e(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function F4e(n){return arguments.length?this.each(n==null?D4e:(typeof n=="function"?k4e:N4e)(n)):this.node().textContent}function U4e(){this.innerHTML=""}function z4e(n){return function(){this.innerHTML=n}}function H4e(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function $4e(n){return arguments.length?this.each(n==null?U4e:(typeof n=="function"?H4e:z4e)(n)):this.node().innerHTML}function G4e(){this.nextSibling&&this.parentNode.appendChild(this)}function j4e(){return this.each(G4e)}function V4e(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function W4e(){return this.each(V4e)}function Q4e(n){var e=typeof n=="function"?n:xV(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function K4e(){return null}function X4e(n,e){var r=typeof n=="function"?n:xV(n),i=e==null?K4e:typeof e=="function"?e:SP(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)})}function q4e(){var n=this.parentNode;n&&n.removeChild(this)}function Y4e(){return this.each(q4e)}function J4e(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function Z4e(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function eNe(n){return this.select(n?Z4e:J4e)}function tNe(n){return arguments.length?this.property("__data__",n):this.node().__data__}function nNe(n){return function(e){n.call(this,e,this.__data__)}}function rNe(n){return n.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");return i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),{type:e,name:r}})}function iNe(n){return function(){var e=this.__on;if(e){for(var r=0,i=-1,o=e.length,s;r<o;++r)s=e[r],(!n.type||s.type===n.type)&&s.name===n.name?this.removeEventListener(s.type,s.listener,s.options):e[++i]=s;++i?e.length=i:delete this.__on}}}function oNe(n,e,r){return function(){var i=this.__on,o,s=nNe(e);if(i){for(var l=0,u=i.length;l<u;++l)if((o=i[l]).type===n.type&&o.name===n.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=s,o.options=r),o.value=e;return}}this.addEventListener(n.type,s,r),o={type:n.type,name:n.name,value:e,listener:s,options:r},i?i.push(o):this.__on=[o]}}function aNe(n,e,r){var i=rNe(n+""),o,s=i.length,l;if(arguments.length<2){var u=this.node().__on;if(u){for(var c=0,d=u.length,h;c<d;++c)for(o=0,h=u[c];o<s;++o)if((l=i[o]).type===h.type&&l.name===h.name)return h.value}return}for(u=e?oNe:iNe,o=0;o<s;++o)this.each(u(i[o],e,r));return this}function LV(n,e,r){var i=_V(n),o=i.CustomEvent;typeof o=="function"?o=new o(e,r):(o=i.document.createEvent("Event"),r?(o.initEvent(e,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(e,!1,!1)),n.dispatchEvent(o)}function sNe(n,e){return function(){return LV(this,n,e)}}function lNe(n,e){return function(){return LV(this,n,e.apply(this,arguments))}}function cNe(n,e){return this.each((typeof e=="function"?lNe:sNe)(n,e))}function*uNe(){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,s=i.length,l;o<s;++o)(l=i[o])&&(yield l)}var PV=[null];function ks(n,e){this._groups=n,this._parents=e}function oy(){return new ks([[document.documentElement]],PV)}function dNe(){return this}ks.prototype=oy.prototype={constructor:ks,select:kDe,selectAll:HDe,selectChild:VDe,selectChildren:XDe,filter:qDe,data:n4e,enter:YDe,exit:i4e,join:o4e,merge:a4e,selection:dNe,order:s4e,sort:l4e,call:u4e,nodes:d4e,node:f4e,size:h4e,empty:p4e,each:m4e,attr:E4e,style:_4e,property:I4e,classed:O4e,text:F4e,html:$4e,raise:j4e,lower:W4e,append:Q4e,insert:X4e,remove:Y4e,clone:eNe,datum:tNe,on:aNe,dispatch:cNe,[Symbol.iterator]:uNe};function zl(n){return typeof n=="string"?new ks([[document.querySelector(n)]],[document.documentElement]):new ks([[n]],PV)}function fNe(n){let e;for(;e=n.sourceEvent;)n=e;return n}function cu(n,e){if(n=fNe(n),e===void 0&&(e=n.currentTarget),e){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var i=r.createSVGPoint();return i.x=n.clientX,i.y=n.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[n.clientX-o.left-e.clientLeft,n.clientY-o.top-e.clientTop]}}return[n.pageX,n.pageY]}const hNe={passive:!1},IA={capture:!0,passive:!1};function bM(n){n.stopImmediatePropagation()}function Fm(n){n.preventDefault(),n.stopImmediatePropagation()}function BV(n){var e=n.document.documentElement,r=zl(n).on("dragstart.drag",Fm,IA);"onselectstart"in e?r.on("selectstart.drag",Fm,IA):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function OV(n,e){var r=n.document.documentElement,i=zl(n).on("dragstart.drag",null);e&&(i.on("click.drag",Fm,IA),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const B1=n=>()=>n;function CR(n,{sourceEvent:e,subject:r,target:i,identifier:o,active:s,x:l,y:u,dx:c,dy:d,dispatch:h}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:h}})}CR.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function pNe(n){return!n.ctrlKey&&!n.button}function mNe(){return this.parentNode}function gNe(n,e){return e??{x:n.x,y:n.y}}function vNe(){return navigator.maxTouchPoints||"ontouchstart"in this}function ANe(){var n=pNe,e=mNe,r=gNe,i=vNe,o={},s=ty("start","drag","end"),l=0,u,c,d,h,p=0;function m(C){C.on("mousedown.drag",v).filter(i).on("touchstart.drag",b).on("touchmove.drag",g,hNe).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(C,_){if(!(h||!n.call(this,C,_))){var L=E(this,e.call(this,C,_),C,_,"mouse");L&&(zl(C.view).on("mousemove.drag",y,IA).on("mouseup.drag",A,IA),BV(C.view),bM(C),d=!1,u=C.clientX,c=C.clientY,L("start",C))}}function y(C){if(Fm(C),!d){var _=C.clientX-u,L=C.clientY-c;d=_*_+L*L>p}o.mouse("drag",C)}function A(C){zl(C.view).on("mousemove.drag mouseup.drag",null),OV(C.view,d),Fm(C),o.mouse("end",C)}function b(C,_){if(n.call(this,C,_)){var L=C.changedTouches,R=e.call(this,C,_),P=L.length,T,D;for(T=0;T<P;++T)(D=E(this,R,C,_,L[T].identifier,L[T]))&&(bM(C),D("start",C,L[T]))}}function g(C){var _=C.changedTouches,L=_.length,R,P;for(R=0;R<L;++R)(P=o[_[R].identifier])&&(Fm(C),P("drag",C,_[R]))}function w(C){var _=C.changedTouches,L=_.length,R,P;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),R=0;R<L;++R)(P=o[_[R].identifier])&&(bM(C),P("end",C,_[R]))}function E(C,_,L,R,P,T){var D=s.copy(),$=cu(T||L,_),V,B,O;if((O=r.call(C,new CR("beforestart",{sourceEvent:L,target:m,identifier:P,active:l,x:$[0],y:$[1],dx:0,dy:0,dispatch:D}),R))!=null)return V=O.x-$[0]||0,B=O.y-$[1]||0,function F(k,z,G){var j=$,Q;switch(k){case"start":o[P]=F,Q=l++;break;case"end":delete o[P],--l;case"drag":$=cu(G||z,_),Q=l;break}D.call(k,C,new CR(k,{sourceEvent:z,subject:O,target:m,identifier:P,active:Q,x:$[0]+V,y:$[1]+B,dx:$[0]-j[0],dy:$[1]-j[1],dispatch:D}),R)}}return m.filter=function(C){return arguments.length?(n=typeof C=="function"?C:B1(!!C),m):n},m.container=function(C){return arguments.length?(e=typeof C=="function"?C:B1(C),m):e},m.subject=function(C){return arguments.length?(r=typeof C=="function"?C:B1(C),m):r},m.touchable=function(C){return arguments.length?(i=typeof C=="function"?C:B1(!!C),m):i},m.on=function(){var C=s.on.apply(s,arguments);return C===s?m:C},m.clickDistance=function(C){return arguments.length?(p=(C=+C)*C,m):Math.sqrt(p)},m}var yNe=ty("start","end","cancel","interrupt"),bNe=[],DV=0,b6=1,wR=2,dx=3,x6=4,SR=5,fx=6;function tw(n,e,r,i,o,s){var l=n.__transition;if(!l)n.__transition={};else if(r in l)return;xNe(n,r,{name:e,index:i,group:o,on:yNe,tween:bNe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:DV})}function MP(n,e){var r=ec(n,e);if(r.state>DV)throw new Error("too late; already scheduled");return r}function Sc(n,e){var r=ec(n,e);if(r.state>dx)throw new Error("too late; already running");return r}function ec(n,e){var r=n.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function xNe(n,e,r){var i=n.__transition,o;i[e]=r,r.timer=hP(s,0,r.time);function s(d){r.state=b6,r.timer.restart(l,r.delay,r.time),r.delay<=d&&l(d-r.delay)}function l(d){var h,p,m,v;if(r.state!==b6)return c();for(h in i)if(v=i[h],v.name===r.name){if(v.state===dx)return m8(l);v.state===x6?(v.state=fx,v.timer.stop(),v.on.call("interrupt",n,n.__data__,v.index,v.group),delete i[h]):+h<e&&(v.state=fx,v.timer.stop(),v.on.call("cancel",n,n.__data__,v.index,v.group),delete i[h])}if(m8(function(){r.state===dx&&(r.state=x6,r.timer.restart(u,r.delay,r.time),u(d))}),r.state=wR,r.on.call("start",n,n.__data__,r.index,r.group),r.state===wR){for(r.state=dx,o=new Array(m=r.tween.length),h=0,p=-1;h<m;++h)(v=r.tween[h].value.call(n,n.__data__,r.index,r.group))&&(o[++p]=v);o.length=p+1}}function u(d){for(var h=d<r.duration?r.ease.call(null,d/r.duration):(r.timer.restart(c),r.state=SR,1),p=-1,m=o.length;++p<m;)o[p].call(n,h);r.state===SR&&(r.on.call("end",n,n.__data__,r.index,r.group),c())}function c(){r.state=fx,r.timer.stop(),delete i[e];for(var d in i)return;delete n.__transition}}function hx(n,e){var r=n.__transition,i,o,s=!0,l;if(r){e=e==null?null:e+"";for(l in r){if((i=r[l]).name!==e){s=!1;continue}o=i.state>wR&&i.state<SR,i.state=fx,i.timer.stop(),i.on.call(o?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete r[l]}s&&delete n.__transition}}function ENe(n){return this.each(function(){hx(this,n)})}function CNe(n,e){var r,i;return function(){var o=Sc(this,n),s=o.tween;if(s!==r){i=r=s;for(var l=0,u=i.length;l<u;++l)if(i[l].name===e){i=i.slice(),i.splice(l,1);break}}o.tween=i}}function wNe(n,e,r){var i,o;if(typeof r!="function")throw new Error;return function(){var s=Sc(this,n),l=s.tween;if(l!==i){o=(i=l).slice();for(var u={name:e,value:r},c=0,d=o.length;c<d;++c)if(o[c].name===e){o[c]=u;break}c===d&&o.push(u)}s.tween=o}}function SNe(n,e){var r=this._id;if(n+="",arguments.length<2){for(var i=ec(this.node(),r).tween,o=0,s=i.length,l;o<s;++o)if((l=i[o]).name===n)return l.value;return null}return this.each((e==null?CNe:wNe)(r,n,e))}function TP(n,e,r){var i=n._id;return n.each(function(){var o=Sc(this,i);(o.value||(o.value={}))[e]=r.apply(this,arguments)}),function(o){return ec(o,i).value[e]}}function NV(n,e){var r;return(typeof e=="number"?wd:e instanceof RA?$8:(r=RA(e))?(e=r,$8):JPe)(n,e)}function _Ne(n){return function(){this.removeAttribute(n)}}function MNe(n){return function(){this.removeAttributeNS(n.space,n.local)}}function TNe(n,e,r){var i,o=r+"",s;return function(){var l=this.getAttribute(n);return l===o?null:l===i?s:s=e(i=l,r)}}function RNe(n,e,r){var i,o=r+"",s;return function(){var l=this.getAttributeNS(n.space,n.local);return l===o?null:l===i?s:s=e(i=l,r)}}function INe(n,e,r){var i,o,s;return function(){var l,u=r(this),c;return u==null?void this.removeAttribute(n):(l=this.getAttribute(n),c=u+"",l===c?null:l===i&&c===o?s:(o=c,s=e(i=l,u)))}}function LNe(n,e,r){var i,o,s;return function(){var l,u=r(this),c;return u==null?void this.removeAttributeNS(n.space,n.local):(l=this.getAttributeNS(n.space,n.local),c=u+"",l===c?null:l===i&&c===o?s:(o=c,s=e(i=l,u)))}}function PNe(n,e){var r=ew(n),i=r==="transform"?nBe:NV;return this.attrTween(n,typeof e=="function"?(r.local?LNe:INe)(r,i,TP(this,"attr."+n,e)):e==null?(r.local?MNe:_Ne)(r):(r.local?RNe:TNe)(r,i,e))}function BNe(n,e){return function(r){this.setAttribute(n,e.call(this,r))}}function ONe(n,e){return function(r){this.setAttributeNS(n.space,n.local,e.call(this,r))}}function DNe(n,e){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&ONe(n,s)),r}return o._value=e,o}function NNe(n,e){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&BNe(n,s)),r}return o._value=e,o}function kNe(n,e){var r="attr."+n;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var i=ew(n);return this.tween(r,(i.local?DNe:NNe)(i,e))}function FNe(n,e){return function(){MP(this,n).delay=+e.apply(this,arguments)}}function UNe(n,e){return e=+e,function(){MP(this,n).delay=e}}function zNe(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?FNe:UNe)(e,n)):ec(this.node(),e).delay}function HNe(n,e){return function(){Sc(this,n).duration=+e.apply(this,arguments)}}function $Ne(n,e){return e=+e,function(){Sc(this,n).duration=e}}function GNe(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?HNe:$Ne)(e,n)):ec(this.node(),e).duration}function jNe(n,e){if(typeof e!="function")throw new Error;return function(){Sc(this,n).ease=e}}function VNe(n){var e=this._id;return arguments.length?this.each(jNe(e,n)):ec(this.node(),e).ease}function WNe(n,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;Sc(this,n).ease=r}}function QNe(n){if(typeof n!="function")throw new Error;return this.each(WNe(this._id,n))}function KNe(n){typeof n!="function"&&(n=CV(n));for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o)for(var s=e[o],l=s.length,u=i[o]=[],c,d=0;d<l;++d)(c=s[d])&&n.call(c,c.__data__,d,s)&&u.push(c);return new Du(i,this._parents,this._name,this._id)}function XNe(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,r=n._groups,i=e.length,o=r.length,s=Math.min(i,o),l=new Array(i),u=0;u<s;++u)for(var c=e[u],d=r[u],h=c.length,p=l[u]=new Array(h),m,v=0;v<h;++v)(m=c[v]||d[v])&&(p[v]=m);for(;u<i;++u)l[u]=e[u];return new Du(l,this._parents,this._name,this._id)}function qNe(n){return(n+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function YNe(n,e,r){var i,o,s=qNe(e)?MP:Sc;return function(){var l=s(this,n),u=l.on;u!==i&&(o=(i=u).copy()).on(e,r),l.on=o}}function JNe(n,e){var r=this._id;return arguments.length<2?ec(this.node(),r).on.on(n):this.each(YNe(r,n,e))}function ZNe(n){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==n)return;e&&e.removeChild(this)}}function eke(){return this.on("end.remove",ZNe(this._id))}function tke(n){var e=this._name,r=this._id;typeof n!="function"&&(n=SP(n));for(var i=this._groups,o=i.length,s=new Array(o),l=0;l<o;++l)for(var u=i[l],c=u.length,d=s[l]=new Array(c),h,p,m=0;m<c;++m)(h=u[m])&&(p=n.call(h,h.__data__,m,u))&&("__data__"in h&&(p.__data__=h.__data__),d[m]=p,tw(d[m],e,r,m,d,ec(h,r)));return new Du(s,this._parents,e,r)}function nke(n){var e=this._name,r=this._id;typeof n!="function"&&(n=EV(n));for(var i=this._groups,o=i.length,s=[],l=[],u=0;u<o;++u)for(var c=i[u],d=c.length,h,p=0;p<d;++p)if(h=c[p]){for(var m=n.call(h,h.__data__,p,c),v,y=ec(h,r),A=0,b=m.length;A<b;++A)(v=m[A])&&tw(v,e,r,A,m,y);s.push(m),l.push(h)}return new Du(s,l,e,r)}var rke=oy.prototype.constructor;function ike(){return new rke(this._groups,this._parents)}function oke(n,e){var r,i,o;return function(){var s=ug(this,n),l=(this.style.removeProperty(n),ug(this,n));return s===l?null:s===r&&l===i?o:o=e(r=s,i=l)}}function kV(n){return function(){this.style.removeProperty(n)}}function ake(n,e,r){var i,o=r+"",s;return function(){var l=ug(this,n);return l===o?null:l===i?s:s=e(i=l,r)}}function ske(n,e,r){var i,o,s;return function(){var l=ug(this,n),u=r(this),c=u+"";return u==null&&(c=u=(this.style.removeProperty(n),ug(this,n))),l===c?null:l===i&&c===o?s:(o=c,s=e(i=l,u))}}function lke(n,e){var r,i,o,s="style."+e,l="end."+s,u;return function(){var c=Sc(this,n),d=c.on,h=c.value[s]==null?u||(u=kV(e)):void 0;(d!==r||o!==h)&&(i=(r=d).copy()).on(l,o=h),c.on=i}}function cke(n,e,r){var i=(n+="")=="transform"?tBe:NV;return e==null?this.styleTween(n,oke(n,i)).on("end.style."+n,kV(n)):typeof e=="function"?this.styleTween(n,ske(n,i,TP(this,"style."+n,e))).each(lke(this._id,n)):this.styleTween(n,ake(n,i,e),r).on("end.style."+n,null)}function uke(n,e,r){return function(i){this.style.setProperty(n,e.call(this,i),r)}}function dke(n,e,r){var i,o;function s(){var l=e.apply(this,arguments);return l!==o&&(i=(o=l)&&uke(n,l,r)),i}return s._value=e,s}function fke(n,e,r){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,dke(n,e,r??""))}function hke(n){return function(){this.textContent=n}}function pke(n){return function(){var e=n(this);this.textContent=e??""}}function mke(n){return this.tween("text",typeof n=="function"?pke(TP(this,"text",n)):hke(n==null?"":n+""))}function gke(n){return function(e){this.textContent=n.call(this,e)}}function vke(n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&gke(o)),e}return i._value=n,i}function Ake(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;return this.tween(e,vke(n))}function yke(){for(var n=this._name,e=this._id,r=FV(),i=this._groups,o=i.length,s=0;s<o;++s)for(var l=i[s],u=l.length,c,d=0;d<u;++d)if(c=l[d]){var h=ec(c,e);tw(c,n,r,d,l,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Du(i,this._parents,n,r)}function bke(){var n,e,r=this,i=r._id,o=r.size();return new Promise(function(s,l){var u={value:l},c={value:function(){--o===0&&s()}};r.each(function(){var d=Sc(this,i),h=d.on;h!==n&&(e=(n=h).copy(),e._.cancel.push(u),e._.interrupt.push(u),e._.end.push(c)),d.on=e}),o===0&&s()})}var xke=0;function Du(n,e,r,i){this._groups=n,this._parents=e,this._name=r,this._id=i}function FV(){return++xke}var ru=oy.prototype;Du.prototype={constructor:Du,select:tke,selectAll:nke,selectChild:ru.selectChild,selectChildren:ru.selectChildren,filter:KNe,merge:XNe,selection:ike,transition:yke,call:ru.call,nodes:ru.nodes,node:ru.node,size:ru.size,empty:ru.empty,each:ru.each,on:JNe,attr:PNe,attrTween:kNe,style:cke,styleTween:fke,text:mke,textTween:Ake,remove:eke,tween:SNe,delay:zNe,duration:GNe,ease:VNe,easeVarying:QNe,end:bke,[Symbol.iterator]:ru[Symbol.iterator]};function Eke(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var Cke={time:null,delay:0,duration:250,ease:Eke};function wke(n,e){for(var r;!(r=n.__transition)||!(r=r[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return r}function Ske(n){var e,r;n instanceof Du?(e=n._id,n=n._name):(e=FV(),(r=Cke).time=fP(),n=n==null?null:n+"");for(var i=this._groups,o=i.length,s=0;s<o;++s)for(var l=i[s],u=l.length,c,d=0;d<u;++d)(c=l[d])&&tw(c,n,e,d,l,r||wke(c,e));return new Du(i,this._parents,n,e)}oy.prototype.interrupt=ENe;oy.prototype.transition=Ske;const O1=n=>()=>n;function _ke(n,{sourceEvent:e,target:r,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function Au(n,e,r){this.k=n,this.x=e,this.y=r}Au.prototype={constructor:Au,scale:function(n){return n===1?this:new Au(this.k*n,this.x,this.y)},translate:function(n,e){return n===0&e===0?this:new Au(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var RP=new Au(1,0,0);dc.prototype=Au.prototype;function dc(n){for(;!n.__zoom;)if(!(n=n.parentNode))return RP;return n.__zoom}function xM(n){n.stopImmediatePropagation()}function Zv(n){n.preventDefault(),n.stopImmediatePropagation()}function Mke(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function Tke(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function E6(){return this.__zoom||RP}function Rke(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function Ike(){return navigator.maxTouchPoints||"ontouchstart"in this}function Lke(n,e,r){var i=n.invertX(e[0][0])-r[0][0],o=n.invertX(e[1][0])-r[1][0],s=n.invertY(e[0][1])-r[0][1],l=n.invertY(e[1][1])-r[1][1];return n.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),l>s?(s+l)/2:Math.min(0,s)||Math.max(0,l))}function Pke(){var n=Mke,e=Tke,r=Lke,i=Rke,o=Ike,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],u=250,c=aBe,d=ty("start","zoom","end"),h,p,m,v=500,y=150,A=0,b=10;function g(O){O.property("__zoom",E6).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",T).on("dblclick.zoom",D).filter(o).on("touchstart.zoom",$).on("touchmove.zoom",V).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(O,F,k,z){var G=O.selection?O.selection():O;G.property("__zoom",E6),O!==G?_(O,F,k,z):G.interrupt().each(function(){L(this,arguments).event(z).start().zoom(null,typeof F=="function"?F.apply(this,arguments):F).end()})},g.scaleBy=function(O,F,k,z){g.scaleTo(O,function(){var G=this.__zoom.k,j=typeof F=="function"?F.apply(this,arguments):F;return G*j},k,z)},g.scaleTo=function(O,F,k,z){g.transform(O,function(){var G=e.apply(this,arguments),j=this.__zoom,Q=k==null?C(G):typeof k=="function"?k.apply(this,arguments):k,X=j.invert(Q),J=typeof F=="function"?F.apply(this,arguments):F;return r(E(w(j,J),Q,X),G,l)},k,z)},g.translateBy=function(O,F,k,z){g.transform(O,function(){return r(this.__zoom.translate(typeof F=="function"?F.apply(this,arguments):F,typeof k=="function"?k.apply(this,arguments):k),e.apply(this,arguments),l)},null,z)},g.translateTo=function(O,F,k,z,G){g.transform(O,function(){var j=e.apply(this,arguments),Q=this.__zoom,X=z==null?C(j):typeof z=="function"?z.apply(this,arguments):z;return r(RP.translate(X[0],X[1]).scale(Q.k).translate(typeof F=="function"?-F.apply(this,arguments):-F,typeof k=="function"?-k.apply(this,arguments):-k),j,l)},z,G)};function w(O,F){return F=Math.max(s[0],Math.min(s[1],F)),F===O.k?O:new Au(F,O.x,O.y)}function E(O,F,k){var z=F[0]-k[0]*O.k,G=F[1]-k[1]*O.k;return z===O.x&&G===O.y?O:new Au(O.k,z,G)}function C(O){return[(+O[0][0]+ +O[1][0])/2,(+O[0][1]+ +O[1][1])/2]}function _(O,F,k,z){O.on("start.zoom",function(){L(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){L(this,arguments).event(z).end()}).tween("zoom",function(){var G=this,j=arguments,Q=L(G,j).event(z),X=e.apply(G,j),J=k==null?C(X):typeof k=="function"?k.apply(G,j):k,Z=Math.max(X[1][0]-X[0][0],X[1][1]-X[0][1]),oe=G.__zoom,ue=typeof F=="function"?F.apply(G,j):F,Be=c(oe.invert(J).concat(Z/oe.k),ue.invert(J).concat(Z/ue.k));return function(ge){if(ge===1)ge=ue;else{var Ie=Be(ge),He=Z/Ie[2];ge=new Au(He,J[0]-Ie[0]*He,J[1]-Ie[1]*He)}Q.zoom(null,ge)}})}function L(O,F,k){return!k&&O.__zooming||new R(O,F)}function R(O,F){this.that=O,this.args=F,this.active=0,this.sourceEvent=null,this.extent=e.apply(O,F),this.taps=0}R.prototype={event:function(O){return O&&(this.sourceEvent=O),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(O,F){return this.mouse&&O!=="mouse"&&(this.mouse[1]=F.invert(this.mouse[0])),this.touch0&&O!=="touch"&&(this.touch0[1]=F.invert(this.touch0[0])),this.touch1&&O!=="touch"&&(this.touch1[1]=F.invert(this.touch1[0])),this.that.__zoom=F,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(O){var F=zl(this.that).datum();d.call(O,this.that,new _ke(O,{sourceEvent:this.sourceEvent,target:g,type:O,transform:this.that.__zoom,dispatch:d}),F)}};function P(O,...F){if(!n.apply(this,arguments))return;var k=L(this,F).event(O),z=this.__zoom,G=Math.max(s[0],Math.min(s[1],z.k*Math.pow(2,i.apply(this,arguments)))),j=cu(O);if(k.wheel)(k.mouse[0][0]!==j[0]||k.mouse[0][1]!==j[1])&&(k.mouse[1]=z.invert(k.mouse[0]=j)),clearTimeout(k.wheel);else{if(z.k===G)return;k.mouse=[j,z.invert(j)],hx(this),k.start()}Zv(O),k.wheel=setTimeout(Q,y),k.zoom("mouse",r(E(w(z,G),k.mouse[0],k.mouse[1]),k.extent,l));function Q(){k.wheel=null,k.end()}}function T(O,...F){if(m||!n.apply(this,arguments))return;var k=O.currentTarget,z=L(this,F,!0).event(O),G=zl(O.view).on("mousemove.zoom",J,!0).on("mouseup.zoom",Z,!0),j=cu(O,k),Q=O.clientX,X=O.clientY;BV(O.view),xM(O),z.mouse=[j,this.__zoom.invert(j)],hx(this),z.start();function J(oe){if(Zv(oe),!z.moved){var ue=oe.clientX-Q,Be=oe.clientY-X;z.moved=ue*ue+Be*Be>A}z.event(oe).zoom("mouse",r(E(z.that.__zoom,z.mouse[0]=cu(oe,k),z.mouse[1]),z.extent,l))}function Z(oe){G.on("mousemove.zoom mouseup.zoom",null),OV(oe.view,z.moved),Zv(oe),z.event(oe).end()}}function D(O,...F){if(n.apply(this,arguments)){var k=this.__zoom,z=cu(O.changedTouches?O.changedTouches[0]:O,this),G=k.invert(z),j=k.k*(O.shiftKey?.5:2),Q=r(E(w(k,j),z,G),e.apply(this,F),l);Zv(O),u>0?zl(this).transition().duration(u).call(_,Q,z,O):zl(this).call(g.transform,Q,z,O)}}function $(O,...F){if(n.apply(this,arguments)){var k=O.touches,z=k.length,G=L(this,F,O.changedTouches.length===z).event(O),j,Q,X,J;for(xM(O),Q=0;Q<z;++Q)X=k[Q],J=cu(X,this),J=[J,this.__zoom.invert(J),X.identifier],G.touch0?!G.touch1&&G.touch0[2]!==J[2]&&(G.touch1=J,G.taps=0):(G.touch0=J,j=!0,G.taps=1+!!h);h&&(h=clearTimeout(h)),j&&(G.taps<2&&(p=J[0],h=setTimeout(function(){h=null},v)),hx(this),G.start())}}function V(O,...F){if(this.__zooming){var k=L(this,F).event(O),z=O.changedTouches,G=z.length,j,Q,X,J;for(Zv(O),j=0;j<G;++j)Q=z[j],X=cu(Q,this),k.touch0&&k.touch0[2]===Q.identifier?k.touch0[0]=X:k.touch1&&k.touch1[2]===Q.identifier&&(k.touch1[0]=X);if(Q=k.that.__zoom,k.touch1){var Z=k.touch0[0],oe=k.touch0[1],ue=k.touch1[0],Be=k.touch1[1],ge=(ge=ue[0]-Z[0])*ge+(ge=ue[1]-Z[1])*ge,Ie=(Ie=Be[0]-oe[0])*Ie+(Ie=Be[1]-oe[1])*Ie;Q=w(Q,Math.sqrt(ge/Ie)),X=[(Z[0]+ue[0])/2,(Z[1]+ue[1])/2],J=[(oe[0]+Be[0])/2,(oe[1]+Be[1])/2]}else if(k.touch0)X=k.touch0[0],J=k.touch0[1];else return;k.zoom("touch",r(E(Q,X,J),k.extent,l))}}function B(O,...F){if(this.__zooming){var k=L(this,F).event(O),z=O.changedTouches,G=z.length,j,Q;for(xM(O),m&&clearTimeout(m),m=setTimeout(function(){m=null},v),j=0;j<G;++j)Q=z[j],k.touch0&&k.touch0[2]===Q.identifier?delete k.touch0:k.touch1&&k.touch1[2]===Q.identifier&&delete k.touch1;if(k.touch1&&!k.touch0&&(k.touch0=k.touch1,delete k.touch1),k.touch0)k.touch0[1]=this.__zoom.invert(k.touch0[0]);else if(k.end(),k.taps===2&&(Q=cu(Q,this),Math.hypot(p[0]-Q[0],p[1]-Q[1])<b)){var X=zl(this).on("dblclick.zoom");X&&X.apply(this,arguments)}}}return g.wheelDelta=function(O){return arguments.length?(i=typeof O=="function"?O:O1(+O),g):i},g.filter=function(O){return arguments.length?(n=typeof O=="function"?O:O1(!!O),g):n},g.touchable=function(O){return arguments.length?(o=typeof O=="function"?O:O1(!!O),g):o},g.extent=function(O){return arguments.length?(e=typeof O=="function"?O:O1([[+O[0][0],+O[0][1]],[+O[1][0],+O[1][1]]]),g):e},g.scaleExtent=function(O){return arguments.length?(s[0]=+O[0],s[1]=+O[1],g):[s[0],s[1]]},g.translateExtent=function(O){return arguments.length?(l[0][0]=+O[0][0],l[1][0]=+O[1][0],l[0][1]=+O[0][1],l[1][1]=+O[1][1],g):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},g.constrain=function(O){return arguments.length?(r=O,g):r},g.duration=function(O){return arguments.length?(u=+O,g):u},g.interpolate=function(O){return arguments.length?(c=O,g):c},g.on=function(){var O=d.on.apply(d,arguments);return O===d?g:O},g.clickDistance=function(O){return arguments.length?(A=(O=+O)*O,g):Math.sqrt(A)},g.tapDistance=function(O){return arguments.length?(b=+O,g):b},g}var Bke="Expected a function";function Oke(n,e,r){var i=!0,o=!0;if(typeof n!="function")throw new TypeError(Bke);return bE(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),jj(n,e,{leading:i,maxWait:e,trailing:o})}function Dke(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function C6(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,Gke(i.key),i)}}function Nke(n,e,r){return e&&C6(n.prototype,e),r&&C6(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}function kke(n){return Fke(n)||Uke(n)||zke(n)||Hke()}function Fke(n){if(Array.isArray(n))return _R(n)}function Uke(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function zke(n,e){if(n){if(typeof n=="string")return _R(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _R(n,e)}}function _R(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function Hke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ke(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Gke(n){var e=$ke(n,"string");return typeof e=="symbol"?e:String(e)}var jke=123,Vke=function(e){return"#".concat(Math.min(e,Math.pow(2,24)).toString(16).padStart(6,"0"))},UV=function(e,r,i){return(e<<16)+(r<<8)+i},Wke=function(e){var r=Lr(e).toRgb(),i=r.r,o=r.g,s=r.b;return UV(i,o,s)},w6=function(e,r){return e*jke%Math.pow(2,r)},Qke=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;Dke(this,n),this.csBits=e,this.registry=["__reserved for background__"]}return Nke(n,[{key:"register",value:function(r){if(this.registry.length>=Math.pow(2,24-this.csBits))return null;var i=this.registry.length,o=w6(i,this.csBits),s=Vke(i+(o<<24-this.csBits));return this.registry.push(r),s}},{key:"lookup",value:function(r){var i=typeof r=="string"?Wke(r):UV.apply(void 0,kke(r));if(!i)return null;var o=i&Math.pow(2,24-this.csBits)-1,s=i>>24-this.csBits&Math.pow(2,this.csBits)-1;return w6(o,this.csBits)!==s||o>=this.registry.length?null:this.registry[o]}}]),n}();const{abs:e0,cos:iu,sin:qp,acos:Kke,atan2:t0,sqrt:pd,pow:qs}=Math;function n0(n){return n<0?-qs(-n,1/3):qs(n,1/3)}const zV=Math.PI,D1=2*zV,md=zV/2,Xke=1e-6,EM=Number.MAX_SAFE_INTEGER||9007199254740991,CM=Number.MIN_SAFE_INTEGER||-9007199254740991,qke={x:0,y:0,z:0},Xn={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(n,e){const r=e(n);let i=r.x*r.x+r.y*r.y;return typeof r.z<"u"&&(i+=r.z*r.z),pd(i)},compute:function(n,e,r){if(n===0)return e[0].t=0,e[0];const i=e.length-1;if(n===1)return e[i].t=1,e[i];const o=1-n;let s=e;if(i===0)return e[0].t=n,e[0];if(i===1){const u={x:o*s[0].x+n*s[1].x,y:o*s[0].y+n*s[1].y,t:n};return r&&(u.z=o*s[0].z+n*s[1].z),u}if(i<4){let u=o*o,c=n*n,d,h,p,m=0;i===2?(s=[s[0],s[1],s[2],qke],d=u,h=o*n*2,p=c):i===3&&(d=u*o,h=u*n*3,p=o*c*3,m=n*c);const v={x:d*s[0].x+h*s[1].x+p*s[2].x+m*s[3].x,y:d*s[0].y+h*s[1].y+p*s[2].y+m*s[3].y,t:n};return r&&(v.z=d*s[0].z+h*s[1].z+p*s[2].z+m*s[3].z),v}const l=JSON.parse(JSON.stringify(e));for(;l.length>1;){for(let u=0;u<l.length-1;u++)l[u]={x:l[u].x+(l[u+1].x-l[u].x)*n,y:l[u].y+(l[u+1].y-l[u].y)*n},typeof l[u].z<"u"&&(l[u].z=l[u].z+(l[u+1].z-l[u].z)*n);l.splice(l.length-1,1)}return l[0].t=n,l[0]},computeWithRatios:function(n,e,r,i){const o=1-n,s=r,l=e;let u=s[0],c=s[1],d=s[2],h=s[3],p;if(u*=o,c*=n,l.length===2)return p=u+c,{x:(u*l[0].x+c*l[1].x)/p,y:(u*l[0].y+c*l[1].y)/p,z:i?(u*l[0].z+c*l[1].z)/p:!1,t:n};if(u*=o,c*=2*o,d*=n*n,l.length===3)return p=u+c+d,{x:(u*l[0].x+c*l[1].x+d*l[2].x)/p,y:(u*l[0].y+c*l[1].y+d*l[2].y)/p,z:i?(u*l[0].z+c*l[1].z+d*l[2].z)/p:!1,t:n};if(u*=o,c*=1.5*o,d*=3*o,h*=n*n*n,l.length===4)return p=u+c+d+h,{x:(u*l[0].x+c*l[1].x+d*l[2].x+h*l[3].x)/p,y:(u*l[0].y+c*l[1].y+d*l[2].y+h*l[3].y)/p,z:i?(u*l[0].z+c*l[1].z+d*l[2].z+h*l[3].z)/p:!1,t:n}},derive:function(n,e){const r=[];for(let i=n,o=i.length,s=o-1;o>1;o--,s--){const l=[];for(let u=0,c;u<s;u++)c={x:s*(i[u+1].x-i[u].x),y:s*(i[u+1].y-i[u].y)},e&&(c.z=s*(i[u+1].z-i[u].z)),l.push(c);r.push(l),i=l}return r},between:function(n,e,r){return e<=n&&n<=r||Xn.approximately(n,e)||Xn.approximately(n,r)},approximately:function(n,e,r){return e0(n-e)<=(r||Xke)},length:function(n){const r=Xn.Tvalues.length;let i=0;for(let o=0,s;o<r;o++)s=.5*Xn.Tvalues[o]+.5,i+=Xn.Cvalues[o]*Xn.arcfn(s,n);return .5*i},map:function(n,e,r,i,o){const s=r-e,l=o-i,u=n-e,c=u/s;return i+l*c},lerp:function(n,e,r){const i={x:e.x+n*(r.x-e.x),y:e.y+n*(r.y-e.y)};return e.z!==void 0&&r.z!==void 0&&(i.z=e.z+n*(r.z-e.z)),i},pointToString:function(n){let e=n.x+"/"+n.y;return typeof n.z<"u"&&(e+="/"+n.z),e},pointsToString:function(n){return"["+n.map(Xn.pointToString).join(", ")+"]"},copy:function(n){return JSON.parse(JSON.stringify(n))},angle:function(n,e,r){const i=e.x-n.x,o=e.y-n.y,s=r.x-n.x,l=r.y-n.y,u=i*l-o*s,c=i*s+o*l;return t0(u,c)},round:function(n,e){const r=""+n,i=r.indexOf(".");return parseFloat(r.substring(0,i+1+e))},dist:function(n,e){const r=n.x-e.x,i=n.y-e.y;return pd(r*r+i*i)},closest:function(n,e){let r=qs(2,63),i,o;return n.forEach(function(s,l){o=Xn.dist(e,s),o<r&&(r=o,i=l)}),{mdist:r,mpos:i}},abcratio:function(n,e){if(e!==2&&e!==3)return!1;if(typeof n>"u")n=.5;else if(n===0||n===1)return n;const r=qs(n,e)+qs(1-n,e),i=r-1;return e0(i/r)},projectionratio:function(n,e){if(e!==2&&e!==3)return!1;if(typeof n>"u")n=.5;else if(n===0||n===1)return n;const r=qs(1-n,e),i=qs(n,e)+r;return r/i},lli8:function(n,e,r,i,o,s,l,u){const c=(n*i-e*r)*(o-l)-(n-r)*(o*u-s*l),d=(n*i-e*r)*(s-u)-(e-i)*(o*u-s*l),h=(n-r)*(s-u)-(e-i)*(o-l);return h==0?!1:{x:c/h,y:d/h}},lli4:function(n,e,r,i){const o=n.x,s=n.y,l=e.x,u=e.y,c=r.x,d=r.y,h=i.x,p=i.y;return Xn.lli8(o,s,l,u,c,d,h,p)},lli:function(n,e){return Xn.lli4(n,n.c,e,e.c)},makeline:function(n,e){return new Zi(n.x,n.y,(n.x+e.x)/2,(n.y+e.y)/2,e.x,e.y)},findbbox:function(n){let e=EM,r=EM,i=CM,o=CM;return n.forEach(function(s){const l=s.bbox();e>l.x.min&&(e=l.x.min),r>l.y.min&&(r=l.y.min),i<l.x.max&&(i=l.x.max),o<l.y.max&&(o=l.y.max)}),{x:{min:e,mid:(e+i)/2,max:i,size:i-e},y:{min:r,mid:(r+o)/2,max:o,size:o-r}}},shapeintersections:function(n,e,r,i,o){if(!Xn.bboxoverlap(e,i))return[];const s=[],l=[n.startcap,n.forward,n.back,n.endcap],u=[r.startcap,r.forward,r.back,r.endcap];return l.forEach(function(c){c.virtual||u.forEach(function(d){if(d.virtual)return;const h=c.intersects(d,o);h.length>0&&(h.c1=c,h.c2=d,h.s1=n,h.s2=r,s.push(h))})}),s},makeshape:function(n,e,r){const i=e.points.length,o=n.points.length,s=Xn.makeline(e.points[i-1],n.points[0]),l=Xn.makeline(n.points[o-1],e.points[0]),u={startcap:s,forward:n,back:e,endcap:l,bbox:Xn.findbbox([s,n,e,l])};return u.intersections=function(c){return Xn.shapeintersections(u,u.bbox,c,c.bbox,r)},u},getminmax:function(n,e,r){if(!r)return{min:0,max:0};let i=EM,o=CM,s,l;r.indexOf(0)===-1&&(r=[0].concat(r)),r.indexOf(1)===-1&&r.push(1);for(let u=0,c=r.length;u<c;u++)s=r[u],l=n.get(s),l[e]<i&&(i=l[e]),l[e]>o&&(o=l[e]);return{min:i,mid:(i+o)/2,max:o,size:o-i}},align:function(n,e){const r=e.p1.x,i=e.p1.y,o=-t0(e.p2.y-i,e.p2.x-r),s=function(l){return{x:(l.x-r)*iu(o)-(l.y-i)*qp(o),y:(l.x-r)*qp(o)+(l.y-i)*iu(o)}};return n.map(s)},roots:function(n,e){e=e||{p1:{x:0,y:0},p2:{x:1,y:0}};const r=n.length-1,i=Xn.align(n,e),o=function(R){return 0<=R&&R<=1};if(r===2){const R=i[0].y,P=i[1].y,T=i[2].y,D=R-2*P+T;if(D!==0){const $=-pd(P*P-R*T),V=-R+P,B=-($+V)/D,O=-(-$+V)/D;return[B,O].filter(o)}else if(P!==T&&D===0)return[(2*P-T)/(2*P-2*T)].filter(o);return[]}const s=i[0].y,l=i[1].y,u=i[2].y,c=i[3].y;let d=-s+3*l-3*u+c,h=3*s-6*l+3*u,p=-3*s+3*l,m=s;if(Xn.approximately(d,0)){if(Xn.approximately(h,0))return Xn.approximately(p,0)?[]:[-m/p].filter(o);const R=pd(p*p-4*h*m),P=2*h;return[(R-p)/P,(-p-R)/P].filter(o)}h/=d,p/=d,m/=d;const v=(3*p-h*h)/3,y=v/3,A=(2*h*h*h-9*h*p+27*m)/27,b=A/2,g=b*b+y*y*y;let w,E,C,_,L;if(g<0){const R=-v/3,P=R*R*R,T=pd(P),D=-A/(2*T),$=D<-1?-1:D>1?1:D,V=Kke($),B=n0(T),O=2*B;return C=O*iu(V/3)-h/3,_=O*iu((V+D1)/3)-h/3,L=O*iu((V+2*D1)/3)-h/3,[C,_,L].filter(o)}else{if(g===0)return w=b<0?n0(-b):-n0(b),C=2*w-h/3,_=-w-h/3,[C,_].filter(o);{const R=pd(g);return w=n0(-b+R),E=n0(b+R),[w-E-h/3].filter(o)}}},droots:function(n){if(n.length===3){const e=n[0],r=n[1],i=n[2],o=e-2*r+i;if(o!==0){const s=-pd(r*r-e*i),l=-e+r,u=-(s+l)/o,c=-(-s+l)/o;return[u,c]}else if(r!==i&&o===0)return[(2*r-i)/(2*(r-i))];return[]}if(n.length===2){const e=n[0],r=n[1];return e!==r?[e/(e-r)]:[]}return[]},curvature:function(n,e,r,i,o){let s,l,u,c,d=0,h=0;const p=Xn.compute(n,e),m=Xn.compute(n,r),v=p.x*p.x+p.y*p.y;if(i?(s=pd(qs(p.y*m.z-m.y*p.z,2)+qs(p.z*m.x-m.z*p.x,2)+qs(p.x*m.y-m.x*p.y,2)),l=qs(v+p.z*p.z,3/2)):(s=p.x*m.y-p.y*m.x,l=qs(v,3/2)),s===0||l===0)return{k:0,r:0};if(d=s/l,h=l/s,!o){const y=Xn.curvature(n-.001,e,r,i,!0).k,A=Xn.curvature(n+.001,e,r,i,!0).k;c=(A-d+(d-y))/2,u=(e0(A-d)+e0(d-y))/2}return{k:d,r:h,dk:c,adk:u}},inflections:function(n){if(n.length<4)return[];const e=Xn.align(n,{p1:n[0],p2:n.slice(-1)[0]}),r=e[2].x*e[1].y,i=e[3].x*e[1].y,o=e[1].x*e[2].y,s=e[3].x*e[2].y,l=18*(-3*r+2*i+3*o-s),u=18*(3*r-i-3*o),c=18*(o-r);if(Xn.approximately(l,0)){if(!Xn.approximately(u,0)){let m=-c/u;if(0<=m&&m<=1)return[m]}return[]}const d=2*l;if(Xn.approximately(d,0))return[];const h=u*u-4*l*c;if(h<0)return[];const p=Math.sqrt(h);return[(p-u)/d,-(u+p)/d].filter(function(m){return 0<=m&&m<=1})},bboxoverlap:function(n,e){const r=["x","y"],i=r.length;for(let o=0,s,l,u,c;o<i;o++)if(s=r[o],l=n[s].mid,u=e[s].mid,c=(n[s].size+e[s].size)/2,e0(l-u)>=c)return!1;return!0},expandbox:function(n,e){e.x.min<n.x.min&&(n.x.min=e.x.min),e.y.min<n.y.min&&(n.y.min=e.y.min),e.z&&e.z.min<n.z.min&&(n.z.min=e.z.min),e.x.max>n.x.max&&(n.x.max=e.x.max),e.y.max>n.y.max&&(n.y.max=e.y.max),e.z&&e.z.max>n.z.max&&(n.z.max=e.z.max),n.x.mid=(n.x.min+n.x.max)/2,n.y.mid=(n.y.min+n.y.max)/2,n.z&&(n.z.mid=(n.z.min+n.z.max)/2),n.x.size=n.x.max-n.x.min,n.y.size=n.y.max-n.y.min,n.z&&(n.z.size=n.z.max-n.z.min)},pairiteration:function(n,e,r){const i=n.bbox(),o=e.bbox(),s=1e5,l=r||.5;if(i.x.size+i.y.size<l&&o.x.size+o.y.size<l)return[(s*(n._t1+n._t2)/2|0)/s+"/"+(s*(e._t1+e._t2)/2|0)/s];let u=n.split(.5),c=e.split(.5),d=[{left:u.left,right:c.left},{left:u.left,right:c.right},{left:u.right,right:c.right},{left:u.right,right:c.left}];d=d.filter(function(p){return Xn.bboxoverlap(p.left.bbox(),p.right.bbox())});let h=[];return d.length===0||(d.forEach(function(p){h=h.concat(Xn.pairiteration(p.left,p.right,l))}),h=h.filter(function(p,m){return h.indexOf(p)===m})),h},getccenter:function(n,e,r){const i=e.x-n.x,o=e.y-n.y,s=r.x-e.x,l=r.y-e.y,u=i*iu(md)-o*qp(md),c=i*qp(md)+o*iu(md),d=s*iu(md)-l*qp(md),h=s*qp(md)+l*iu(md),p=(n.x+e.x)/2,m=(n.y+e.y)/2,v=(e.x+r.x)/2,y=(e.y+r.y)/2,A=p+u,b=m+c,g=v+d,w=y+h,E=Xn.lli8(p,m,A,b,v,y,g,w),C=Xn.dist(E,n);let _=t0(n.y-E.y,n.x-E.x),L=t0(e.y-E.y,e.x-E.x),R=t0(r.y-E.y,r.x-E.x),P;return _<R?((_>L||L>R)&&(_+=D1),_>R&&(P=R,R=_,_=P)):R<L&&L<_?(P=R,R=_,_=P):R+=D1,E.s=_,E.e=R,E.r=C,E},numberSort:function(n,e){return n-e}};class j0{constructor(e){this.curves=[],this._3d=!1,e&&(this.curves=e,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(e){return Xn.pointsToString(e.points)}).join(", ")+"]"}addCurve(e){this.curves.push(e),this._3d=this._3d||e._3d}length(){return this.curves.map(function(e){return e.length()}).reduce(function(e,r){return e+r})}curve(e){return this.curves[e]}bbox(){const e=this.curves;for(var r=e[0].bbox(),i=1;i<e.length;i++)Xn.expandbox(r,e[i].bbox());return r}offset(e){const r=[];return this.curves.forEach(function(i){r.push(...i.offset(e))}),new j0(r)}}const{abs:r0,min:S6,max:_6,cos:Yke,sin:Jke,acos:Zke,sqrt:i0}=Math,eFe=Math.PI;class Zi{constructor(e){let r=e&&e.forEach?e:Array.from(arguments).slice(),i=!1;if(typeof r[0]=="object"){i=r.length;const v=[];r.forEach(function(y){["x","y","z"].forEach(function(A){typeof y[A]<"u"&&v.push(y[A])})}),r=v}let o=!1;const s=r.length;if(i){if(i>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");o=!0}}else if(s!==6&&s!==8&&s!==9&&s!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const l=this._3d=!o&&(s===9||s===12)||e&&e[0]&&typeof e[0].z<"u",u=this.points=[];for(let v=0,y=l?3:2;v<s;v+=y){var c={x:r[v],y:r[v+1]};l&&(c.z=r[v+2]),u.push(c)}const d=this.order=u.length-1,h=this.dims=["x","y"];l&&h.push("z"),this.dimlen=h.length;const p=Xn.align(u,{p1:u[0],p2:u[d]}),m=Xn.dist(u[0],u[d]);this._linear=p.reduce((v,y)=>v+r0(y.y),0)<m/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(e,r,i,o){if(typeof o>"u"&&(o=.5),o===0)return new Zi(r,r,i);if(o===1)return new Zi(e,r,r);const s=Zi.getABC(2,e,r,i,o);return new Zi(e,s.A,i)}static cubicFromPoints(e,r,i,o,s){typeof o>"u"&&(o=.5);const l=Zi.getABC(3,e,r,i,o);typeof s>"u"&&(s=Xn.dist(r,l.C));const u=s*(1-o)/o,c=Xn.dist(e,i),d=(i.x-e.x)/c,h=(i.y-e.y)/c,p=s*d,m=s*h,v=u*d,y=u*h,A={x:r.x-p,y:r.y-m},b={x:r.x+v,y:r.y+y},g=l.A,w={x:g.x+(A.x-g.x)/(1-o),y:g.y+(A.y-g.y)/(1-o)},E={x:g.x+(b.x-g.x)/o,y:g.y+(b.y-g.y)/o},C={x:e.x+(w.x-e.x)/o,y:e.y+(w.y-e.y)/o},_={x:i.x+(E.x-i.x)/(1-o),y:i.y+(E.y-i.y)/(1-o)};return new Zi(e,C,_,i)}static getUtils(){return Xn}getUtils(){return Zi.getUtils()}static get PolyBezier(){return j0}valueOf(){return this.toString()}toString(){return Xn.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const e=this.points,r=e[0].x,i=e[0].y,o=["M",r,i,this.order===2?"Q":"C"];for(let s=1,l=e.length;s<l;s++)o.push(e[s].x),o.push(e[s].y);return o.join(" ")}setRatios(e){if(e.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=e,this._lut=[]}verify(){const e=this.coordDigest();e!==this._print&&(this._print=e,this.update())}coordDigest(){return this.points.map(function(e,r){return""+r+e.x+e.y+(e.z?e.z:0)}).join("")}update(){this._lut=[],this.dpoints=Xn.derive(this.points,this._3d),this.computedirection()}computedirection(){const e=this.points,r=Xn.angle(e[0],e[this.order],e[1]);this.clockwise=r>0}length(){return Xn.length(this.derivative.bind(this))}static getABC(e=2,r,i,o,s=.5){const l=Xn.projectionratio(s,e),u=1-l,c={x:l*r.x+u*o.x,y:l*r.y+u*o.y},d=Xn.abcratio(s,e);return{A:{x:i.x+(i.x-c.x)/d,y:i.y+(i.y-c.y)/d},B:i,C:c,S:r,E:o}}getABC(e,r){r=r||this.get(e);let i=this.points[0],o=this.points[this.order];return Zi.getABC(this.order,i,r,o,e)}getLUT(e){if(this.verify(),e=e||100,this._lut.length===e+1)return this._lut;this._lut=[],e++,this._lut=[];for(let r=0,i,o;r<e;r++)o=r/(e-1),i=this.compute(o),i.t=o,this._lut.push(i);return this._lut}on(e,r){r=r||5;const i=this.getLUT(),o=[];for(let s=0,l,u=0;s<i.length;s++)l=i[s],Xn.dist(l,e)<r&&(o.push(l),u+=s/i.length);return o.length?t/=o.length:!1}project(e){const r=this.getLUT(),i=r.length-1,o=Xn.closest(r,e),s=o.mpos,l=(s-1)/i,u=(s+1)/i,c=.1/i;let d=o.mdist,h=l,p=h,m;d+=1;for(let v;h<u+c;h+=c)m=this.compute(h),v=Xn.dist(e,m),v<d&&(d=v,p=h);return p=p<0?0:p>1?1:p,m=this.compute(p),m.t=p,m.d=d,m}get(e){return this.compute(e)}point(e){return this.points[e]}compute(e){return this.ratios?Xn.computeWithRatios(e,this.points,this.ratios,this._3d):Xn.compute(e,this.points,this._3d,this.ratios)}raise(){const e=this.points,r=[e[0]],i=e.length;for(let o=1,s,l;o<i;o++)s=e[o],l=e[o-1],r[o]={x:(i-o)/i*s.x+o/i*l.x,y:(i-o)/i*s.y+o/i*l.y};return r[i]=e[i-1],new Zi(r)}derivative(e){return Xn.compute(e,this.dpoints[0],this._3d)}dderivative(e){return Xn.compute(e,this.dpoints[1],this._3d)}align(){let e=this.points;return new Zi(Xn.align(e,{p1:e[0],p2:e[e.length-1]}))}curvature(e){return Xn.curvature(e,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return Xn.inflections(this.points)}normal(e){return this._3d?this.__normal3(e):this.__normal2(e)}__normal2(e){const r=this.derivative(e),i=i0(r.x*r.x+r.y*r.y);return{t:e,x:-r.y/i,y:r.x/i}}__normal3(e){const r=this.derivative(e),i=this.derivative(e+.01),o=i0(r.x*r.x+r.y*r.y+r.z*r.z),s=i0(i.x*i.x+i.y*i.y+i.z*i.z);r.x/=o,r.y/=o,r.z/=o,i.x/=s,i.y/=s,i.z/=s;const l={x:i.y*r.z-i.z*r.y,y:i.z*r.x-i.x*r.z,z:i.x*r.y-i.y*r.x},u=i0(l.x*l.x+l.y*l.y+l.z*l.z);l.x/=u,l.y/=u,l.z/=u;const c=[l.x*l.x,l.x*l.y-l.z,l.x*l.z+l.y,l.x*l.y+l.z,l.y*l.y,l.y*l.z-l.x,l.x*l.z-l.y,l.y*l.z+l.x,l.z*l.z];return{t:e,x:c[0]*r.x+c[1]*r.y+c[2]*r.z,y:c[3]*r.x+c[4]*r.y+c[5]*r.z,z:c[6]*r.x+c[7]*r.y+c[8]*r.z}}hull(e){let r=this.points,i=[],o=[],s=0;for(o[s++]=r[0],o[s++]=r[1],o[s++]=r[2],this.order===3&&(o[s++]=r[3]);r.length>1;){i=[];for(let l=0,u,c=r.length-1;l<c;l++)u=Xn.lerp(e,r[l],r[l+1]),o[s++]=u,i.push(u);r=i}return o}split(e,r){if(e===0&&r)return this.split(r).left;if(r===1)return this.split(e).right;const i=this.hull(e),o={left:this.order===2?new Zi([i[0],i[3],i[5]]):new Zi([i[0],i[4],i[7],i[9]]),right:this.order===2?new Zi([i[5],i[4],i[2]]):new Zi([i[9],i[8],i[6],i[3]]),span:i};return o.left._t1=Xn.map(0,0,1,this._t1,this._t2),o.left._t2=Xn.map(e,0,1,this._t1,this._t2),o.right._t1=Xn.map(e,0,1,this._t1,this._t2),o.right._t2=Xn.map(1,0,1,this._t1,this._t2),r?(r=Xn.map(r,e,1,0,1),o.right.split(r).left):o}extrema(){const e={};let r=[];return this.dims.forEach((function(i){let o=function(l){return l[i]},s=this.dpoints[0].map(o);e[i]=Xn.droots(s),this.order===3&&(s=this.dpoints[1].map(o),e[i]=e[i].concat(Xn.droots(s))),e[i]=e[i].filter(function(l){return l>=0&&l<=1}),r=r.concat(e[i].sort(Xn.numberSort))}).bind(this)),e.values=r.sort(Xn.numberSort).filter(function(i,o){return r.indexOf(i)===o}),e}bbox(){const e=this.extrema(),r={};return this.dims.forEach((function(i){r[i]=Xn.getminmax(this,i,e[i])}).bind(this)),r}overlaps(e){const r=this.bbox(),i=e.bbox();return Xn.bboxoverlap(r,i)}offset(e,r){if(typeof r<"u"){const i=this.get(e),o=this.normal(e),s={c:i,n:o,x:i.x+o.x*r,y:i.y+o.y*r};return this._3d&&(s.z=i.z+o.z*r),s}if(this._linear){const i=this.normal(0),o=this.points.map(function(s){const l={x:s.x+e*i.x,y:s.y+e*i.y};return s.z&&i.z&&(l.z=s.z+e*i.z),l});return[new Zi(o)]}return this.reduce().map(function(i){return i._linear?i.offset(e)[0]:i.scale(e)})}simple(){if(this.order===3){const o=Xn.angle(this.points[0],this.points[3],this.points[1]),s=Xn.angle(this.points[0],this.points[3],this.points[2]);if(o>0&&s<0||o<0&&s>0)return!1}const e=this.normal(0),r=this.normal(1);let i=e.x*r.x+e.y*r.y;return this._3d&&(i+=e.z*r.z),r0(Zke(i))<eFe/3}reduce(){let e,r=0,i=0,o=.01,s,l=[],u=[],c=this.extrema().values;for(c.indexOf(0)===-1&&(c=[0].concat(c)),c.indexOf(1)===-1&&c.push(1),r=c[0],e=1;e<c.length;e++)i=c[e],s=this.split(r,i),s._t1=r,s._t2=i,l.push(s),r=i;return l.forEach(function(d){for(r=0,i=0;i<=1;)for(i=r+o;i<=1+o;i+=o)if(s=d.split(r,i),!s.simple()){if(i-=o,r0(r-i)<o)return[];s=d.split(r,i),s._t1=Xn.map(r,0,1,d._t1,d._t2),s._t2=Xn.map(i,0,1,d._t1,d._t2),u.push(s),r=i;break}r<1&&(s=d.split(r,1),s._t1=Xn.map(r,0,1,d._t1,d._t2),s._t2=d._t2,u.push(s))}),u}translate(e,r,i){i=typeof i=="number"?i:r;const o=this.order;let s=this.points.map((l,u)=>(1-u/o)*r+u/o*i);return new Zi(this.points.map((l,u)=>({x:l.x+e.x*s[u],y:l.y+e.y*s[u]})))}scale(e){const r=this.order;let i=!1;if(typeof e=="function"&&(i=e),i&&r===2)return this.raise().scale(i);const o=this.clockwise,s=this.points;if(this._linear)return this.translate(this.normal(0),i?i(0):e,i?i(1):e);const l=i?i(0):e,u=i?i(1):e,c=[this.offset(0,10),this.offset(1,10)],d=[],h=Xn.lli4(c[0],c[0].c,c[1],c[1].c);if(!h)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(p){const m=d[p*r]=Xn.copy(s[p*r]);m.x+=(p?u:l)*c[p].n.x,m.y+=(p?u:l)*c[p].n.y}),i?([0,1].forEach(function(p){if(!(r===2&&p)){var m=s[p+1],v={x:m.x-h.x,y:m.y-h.y},y=i?i((p+1)/r):e;i&&!o&&(y=-y);var A=i0(v.x*v.x+v.y*v.y);v.x/=A,v.y/=A,d[p+1]={x:m.x+y*v.x,y:m.y+y*v.y}}}),new Zi(d)):([0,1].forEach(p=>{if(r===2&&p)return;const m=d[p*r],v=this.derivative(p),y={x:m.x+v.x,y:m.y+v.y};d[p+1]=Xn.lli4(m,y,h,s[p+1])}),new Zi(d))}outline(e,r,i,o){if(r=r===void 0?e:r,this._linear){const _=this.normal(0),L=this.points[0],R=this.points[this.points.length-1];let P,T,D;i===void 0&&(i=e,o=r),P={x:L.x+_.x*e,y:L.y+_.y*e},D={x:R.x+_.x*i,y:R.y+_.y*i},T={x:(P.x+D.x)/2,y:(P.y+D.y)/2};const $=[P,T,D];P={x:L.x-_.x*r,y:L.y-_.y*r},D={x:R.x-_.x*o,y:R.y-_.y*o},T={x:(P.x+D.x)/2,y:(P.y+D.y)/2};const V=[D,T,P],B=Xn.makeline(V[2],$[0]),O=Xn.makeline($[2],V[0]),F=[B,new Zi($),O,new Zi(V)];return new j0(F)}const s=this.reduce(),l=s.length,u=[];let c=[],d,h=0,p=this.length();const m=typeof i<"u"&&typeof o<"u";function v(_,L,R,P,T){return function(D){const $=P/R,V=(P+T)/R,B=L-_;return Xn.map(D,0,1,_+$*B,_+V*B)}}s.forEach(function(_){const L=_.length();m?(u.push(_.scale(v(e,i,p,h,L))),c.push(_.scale(v(-r,-o,p,h,L)))):(u.push(_.scale(e)),c.push(_.scale(-r))),h+=L}),c=c.map(function(_){return d=_.points,d[3]?_.points=[d[3],d[2],d[1],d[0]]:_.points=[d[2],d[1],d[0]],_}).reverse();const y=u[0].points[0],A=u[l-1].points[u[l-1].points.length-1],b=c[l-1].points[c[l-1].points.length-1],g=c[0].points[0],w=Xn.makeline(b,y),E=Xn.makeline(A,g),C=[w].concat(u).concat([E]).concat(c);return new j0(C)}outlineshapes(e,r,i){r=r||e;const o=this.outline(e,r).curves,s=[];for(let l=1,u=o.length;l<u/2;l++){const c=Xn.makeshape(o[l],o[u-l],i);c.startcap.virtual=l>1,c.endcap.virtual=l<u/2-1,s.push(c)}return s}intersects(e,r){return e?e.p1&&e.p2?this.lineIntersects(e):(e instanceof Zi&&(e=e.reduce()),this.curveintersects(this.reduce(),e,r)):this.selfintersects(r)}lineIntersects(e){const r=S6(e.p1.x,e.p2.x),i=S6(e.p1.y,e.p2.y),o=_6(e.p1.x,e.p2.x),s=_6(e.p1.y,e.p2.y);return Xn.roots(this.points,e).filter(l=>{var u=this.get(l);return Xn.between(u.x,r,o)&&Xn.between(u.y,i,s)})}selfintersects(e){const r=this.reduce(),i=r.length-2,o=[];for(let s=0,l,u,c;s<i;s++)u=r.slice(s,s+1),c=r.slice(s+2),l=this.curveintersects(u,c,e),o.push(...l);return o}curveintersects(e,r,i){const o=[];e.forEach(function(l){r.forEach(function(u){l.overlaps(u)&&o.push({left:l,right:u})})});let s=[];return o.forEach(function(l){const u=Xn.pairiteration(l.left,l.right,i);u.length>0&&(s=s.concat(u))}),s}arcs(e){return e=e||.5,this._iterate(e,[])}_error(e,r,i,o){const s=(o-i)/4,l=this.get(i+s),u=this.get(o-s),c=Xn.dist(e,r),d=Xn.dist(e,l),h=Xn.dist(e,u);return r0(d-c)+r0(h-c)}_iterate(e,r){let i=0,o=1,s;do{s=0,o=1;let l=this.get(i),u,c,d,h,p=!1,m=!1,v,y=o,A=1;do if(m=p,h=d,y=(i+o)/2,u=this.get(y),c=this.get(o),d=Xn.getccenter(l,u,c),d.interval={start:i,end:o},p=this._error(d,l,i,o)<=e,v=m&&!p,v||(A=o),p){if(o>=1){if(d.interval.end=A=1,h=d,o>1){let g={x:d.x+d.r*Yke(d.e),y:d.y+d.r*Jke(d.e)};d.e+=Xn.angle({x:d.x,y:d.y},g,this.get(1))}break}o=o+(o-i)/2}else o=y;while(!v&&s++<100);if(s>=100)break;h=h||d,r.push(h),i=A}while(o<1);return r}}function tFe(n,e){e===void 0&&(e={});var r=e.insertAt;if(!(!n||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",r==="top"&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}}var nFe=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .graph-tooltip {
  position: absolute;
  top: 0;
  font-family: sans-serif;
  font-size: 16px;
  padding: 4px;
  border-radius: 3px;
  color: #eee;
  background: rgba(0,0,0,0.65);
  visibility: hidden; /* by default */
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;tFe(nFe);function rFe(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,s,l,u=[],c=!0,d=!1;try{if(s=(r=r.call(n)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(i=s.call(r)).done)&&(u.push(i.value),u.length!==e);c=!0);}catch(h){d=!0,o=h}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw o}}return u}}function M6(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function Yp(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M6(Object(r),!0).forEach(function(i){LA(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):M6(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function MR(n){"@babel/helpers - typeof";return MR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MR(n)}function LA(n,e,r){return e=dFe(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function TR(n,e){return TR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},TR(n,e)}function iFe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function V0(n,e,r){return iFe()?V0=Reflect.construct.bind():V0=function(o,s,l){var u=[null];u.push.apply(u,s);var c=Function.bind.apply(o,u),d=new c;return l&&TR(d,l.prototype),d},V0.apply(null,arguments)}function W0(n,e){return aFe(n)||rFe(n,e)||HV(n,e)||cFe()}function il(n){return oFe(n)||sFe(n)||HV(n)||lFe()}function oFe(n){if(Array.isArray(n))return RR(n)}function aFe(n){if(Array.isArray(n))return n}function sFe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function HV(n,e){if(n){if(typeof n=="string")return RR(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RR(n,e)}}function RR(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function lFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uFe(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function dFe(n){var e=uFe(n,"string");return typeof e=="symbol"?e:String(e)}var fFe=xP(tV);function T6(n,e,r){!e||typeof r!="string"||n.filter(function(i){return!i[r]}).forEach(function(i){i[r]=fFe(e(i))})}function hFe(n,e){var r=n.nodes,i=n.links,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=o.nodeFilter,l=s===void 0?function(){return!0}:s,u=o.onLoopError,c=u===void 0?function(v){throw"Invalid DAG structure! Found cycle in node path: ".concat(v.join(" -> "),".")}:u,d={};r.forEach(function(v){return d[e(v)]={data:v,out:[],depth:-1,skip:!l(v)}}),i.forEach(function(v){var y=v.source,A=v.target,b=C(y),g=C(A);if(!d.hasOwnProperty(b))throw"Missing source node with id: ".concat(b);if(!d.hasOwnProperty(g))throw"Missing target node with id: ".concat(g);var w=d[b],E=d[g];w.out.push(E);function C(_){return MR(_)==="object"?e(_):_}});var h=[];m(Object.values(d));var p=Object.assign.apply(Object,[{}].concat(il(Object.entries(d).filter(function(v){var y=W0(v,2),A=y[1];return!A.skip}).map(function(v){var y=W0(v,2),A=y[0],b=y[1];return LA({},A,b.depth)}))));return p;function m(v){for(var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,b=function(){var C=v[g];if(y.indexOf(C)!==-1){var _=[].concat(il(y.slice(y.indexOf(C))),[C]).map(function(L){return e(L.data)});return h.some(function(L){return L.length===_.length&&L.every(function(R,P){return R===_[P]})})||(h.push(_),c(_)),1}A>C.depth&&(C.depth=A,m(C.out,[].concat(il(y),[C]),A+(C.skip?0:1)))},g=0,w=v.length;g<w;g++)b()}}var pFe=2,Ra=function(e,r){return r.onNeedsRedraw&&r.onNeedsRedraw()},R6=function(e,r){if(!r.isShadow){var i=Tr(r.linkDirectionalParticles);r.graphData.links.forEach(function(o){var s=Math.round(Math.abs(i(o)));s?o.__photons=il(Array(s)).map(function(){return{}}):delete o.__photons})}},IE=Bh({props:{graphData:{default:{nodes:[],links:[]},onChange:function(e,r){r.engineRunning=!1,R6(e,r)}},dagMode:{onChange:function(e,r){!e&&(r.graphData.nodes||[]).forEach(function(i){return i.fx=i.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(e){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:Ra},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:Ra},nodeColor:{default:"color",triggerUpdate:!1,onChange:Ra},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:Ra},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:Ra},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:Ra},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:Ra},linkColor:{default:"color",triggerUpdate:!1,onChange:Ra},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:Ra},linkWidth:{default:1,triggerUpdate:!1,onChange:Ra},linkCurvature:{default:0,triggerUpdate:!1,onChange:Ra},linkCanvasObject:{triggerUpdate:!1,onChange:Ra},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:Ra},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:Ra},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:Ra},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:Ra},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:R6},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,r){r.forceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,r){r.forceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,r){r.forceLayout.velocityDecay(e)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(e,r,i){return i===void 0?e.forceLayout.force(r):(e.forceLayout.force(r,i),this)},d3ReheatSimulation:function(e){return e.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},isEngineRunning:function(e){return!!e.engineRunning},tickFrame:function(e){return!e.isShadow&&r(),o(),!e.isShadow&&s(),!e.isShadow&&l(),i(),this;function r(){e.engineRunning&&(++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime||e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin?(e.engineRunning=!1,e.onEngineStop()):(e.forceLayout.tick(),e.onEngineTick()))}function i(){var u=Tr(e.nodeVisibility),c=Tr(e.nodeVal),d=Tr(e.nodeColor),h=Tr(e.nodeCanvasObjectMode),p=e.ctx,m=e.isShadow/e.globalScale,v=e.graphData.nodes.filter(u);p.save(),v.forEach(function(y){var A=h(y);if(e.nodeCanvasObject&&(A==="before"||A==="replace")&&(e.nodeCanvasObject(y,p,e.globalScale),A==="replace")){p.restore();return}var b=Math.sqrt(Math.max(0,c(y)||1))*e.nodeRelSize+m;p.beginPath(),p.arc(y.x,y.y,b,0,2*Math.PI,!1),p.fillStyle=d(y)||"rgba(31, 120, 180, 0.92)",p.fill(),e.nodeCanvasObject&&A==="after"&&e.nodeCanvasObject(y,e.ctx,e.globalScale)}),p.restore()}function o(){var u=Tr(e.linkVisibility),c=Tr(e.linkColor),d=Tr(e.linkWidth),h=Tr(e.linkLineDash),p=Tr(e.linkCurvature),m=Tr(e.linkCanvasObjectMode),v=e.ctx,y=e.isShadow*2,A=e.graphData.links.filter(u);A.forEach(L);var b=[],g=[],w=A;if(e.linkCanvasObject){var E=[],C=[];A.forEach(function(R){return({before:b,after:g,replace:E}[m(R)]||C).push(R)}),w=[].concat(il(b),g,C),b=b.concat(E)}v.save(),b.forEach(function(R){return e.linkCanvasObject(R,v,e.globalScale)}),v.restore();var _=sR(w,[c,d,h]);v.save(),Object.entries(_).forEach(function(R){var P=W0(R,2),T=P[0],D=P[1],$=!T||T==="undefined"?"rgba(0,0,0,0.15)":T;Object.entries(D).forEach(function(V){var B=W0(V,2),O=B[0],F=B[1],k=(O||1)/e.globalScale+y;Object.entries(F).forEach(function(z){var G=W0(z,2);G[0];var j=G[1],Q=h(j[0]);v.beginPath(),j.forEach(function(X){var J=X.source,Z=X.target;if(!(!J||!Z||!J.hasOwnProperty("x")||!Z.hasOwnProperty("x"))){v.moveTo(J.x,J.y);var oe=X.__controlPoints;oe?v[oe.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(v,il(oe).concat([Z.x,Z.y])):v.lineTo(Z.x,Z.y)}}),v.strokeStyle=$,v.lineWidth=k,v.setLineDash(Q||[]),v.stroke()})})}),v.restore(),v.save(),g.forEach(function(R){return e.linkCanvasObject(R,v,e.globalScale)}),v.restore();function L(R){var P=p(R);if(!P){R.__controlPoints=null;return}var T=R.source,D=R.target;if(!(!T||!D||!T.hasOwnProperty("x")||!D.hasOwnProperty("x"))){var $=Math.sqrt(Math.pow(D.x-T.x,2)+Math.pow(D.y-T.y,2));if($>0){var V=Math.atan2(D.y-T.y,D.x-T.x),B=$*P,O={x:(T.x+D.x)/2+B*Math.cos(V-Math.PI/2),y:(T.y+D.y)/2+B*Math.sin(V-Math.PI/2)};R.__controlPoints=[O.x,O.y]}else{var F=P*70;R.__controlPoints=[D.x,D.y-F,D.x+F,D.y]}}}}function s(){var u=1.6,c=.2,d=Tr(e.linkDirectionalArrowLength),h=Tr(e.linkDirectionalArrowRelPos),p=Tr(e.linkVisibility),m=Tr(e.linkDirectionalArrowColor||e.linkColor),v=Tr(e.nodeVal),y=e.ctx;y.save(),e.graphData.links.filter(p).forEach(function(A){var b=d(A);if(!(!b||b<0)){var g=A.source,w=A.target;if(!(!g||!w||!g.hasOwnProperty("x")||!w.hasOwnProperty("x"))){var E=Math.sqrt(Math.max(0,v(g)||1))*e.nodeRelSize,C=Math.sqrt(Math.max(0,v(w)||1))*e.nodeRelSize,_=Math.min(1,Math.max(0,h(A))),L=m(A)||"rgba(0,0,0,0.28)",R=b/u/2,P=A.__controlPoints&&V0(Zi,[g.x,g.y].concat(il(A.__controlPoints),[w.x,w.y])),T=P?function(k){return P.get(k)}:function(k){return{x:g.x+(w.x-g.x)*k||0,y:g.y+(w.y-g.y)*k||0}},D=P?P.length():Math.sqrt(Math.pow(w.x-g.x,2)+Math.pow(w.y-g.y,2)),$=E+b+(D-E-C-b)*_,V=T($/D),B=T(($-b)/D),O=T(($-b*(1-c))/D),F=Math.atan2(V.y-B.y,V.x-B.x)-Math.PI/2;y.beginPath(),y.moveTo(V.x,V.y),y.lineTo(B.x+R*Math.cos(F),B.y+R*Math.sin(F)),y.lineTo(O.x,O.y),y.lineTo(B.x-R*Math.cos(F),B.y-R*Math.sin(F)),y.fillStyle=L,y.fill()}}}),y.restore()}function l(){var u=Tr(e.linkDirectionalParticles),c=Tr(e.linkDirectionalParticleSpeed),d=Tr(e.linkDirectionalParticleWidth),h=Tr(e.linkVisibility),p=Tr(e.linkDirectionalParticleColor||e.linkColor),m=e.ctx;m.save(),e.graphData.links.filter(h).forEach(function(v){var y=u(v);if(!(!v.hasOwnProperty("__photons")||!v.__photons.length)){var A=v.source,b=v.target;if(!(!A||!b||!A.hasOwnProperty("x")||!b.hasOwnProperty("x"))){var g=c(v),w=v.__photons||[],E=Math.max(0,d(v)/2)/Math.sqrt(e.globalScale),C=p(v)||"rgba(0,0,0,0.28)";m.fillStyle=C;var _=v.__controlPoints?V0(Zi,[A.x,A.y].concat(il(v.__controlPoints),[b.x,b.y])):null,L=0,R=!1;w.forEach(function(P){var T=!!P.__singleHop;if(P.hasOwnProperty("__progressRatio")||(P.__progressRatio=T?0:L/y),!T&&L++,P.__progressRatio+=g,P.__progressRatio>=1)if(!T)P.__progressRatio=P.__progressRatio%1;else{R=!0;return}var D=P.__progressRatio,$=_?_.get(D):{x:A.x+(b.x-A.x)*D||0,y:A.y+(b.y-A.y)*D||0};m.beginPath(),m.arc($.x,$.y,E,0,2*Math.PI,!1),m.fill()}),R&&(v.__photons=v.__photons.filter(function(P){return!P.__singleHop||P.__progressRatio<=1}))}}}),m.restore()}},emitParticle:function(e,r){return r&&(!r.__photons&&(r.__photons=[]),r.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:Cj().force("link",bj()).force("charge",wj()).force("center",hj()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(e,r){r.ctx=e},update:function(e){e.engineRunning=!1,e.onUpdate(),e.nodeAutoColorBy!==null&&T6(e.graphData.nodes,Tr(e.nodeAutoColorBy),e.nodeColor),e.linkAutoColorBy!==null&&T6(e.graphData.links,Tr(e.linkAutoColorBy),e.linkColor),e.graphData.links.forEach(function(h){h.source=h[e.linkSource],h.target=h[e.linkTarget]}),e.forceLayout.stop().alpha(1).nodes(e.graphData.nodes);var r=e.forceLayout.force("link");r&&r.id(function(h){return h[e.nodeId]}).links(e.graphData.links);var i=e.dagMode&&hFe(e.graphData,function(h){return h[e.nodeId]},{nodeFilter:e.dagNodeFilter,onLoopError:e.onDagError||void 0}),o=Math.max.apply(Math,il(Object.values(i||[]))),s=e.dagLevelDistance||e.graphData.nodes.length/(o||1)*pFe*(["radialin","radialout"].indexOf(e.dagMode)!==-1?.7:1);if(e.dagMode){var l=function(p,m){return function(v){return p?(i[v[e.nodeId]]-o/2)*s*(m?-1:1):void 0}},u=l(["lr","rl"].indexOf(e.dagMode)!==-1,e.dagMode==="rl"),c=l(["td","bu"].indexOf(e.dagMode)!==-1,e.dagMode==="bu");e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(h){h.fx=u(h),h.fy=c(h)})}e.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(e.dagMode)!==-1?Sj(function(h){var p=i[h[e.nodeId]]||-1;return(e.dagMode==="radialin"?o-p:p)*s}).strength(function(h){return e.dagNodeFilter(h)?1:0}):null);for(var d=0;d<e.warmupTicks&&!(e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin);d++)e.forceLayout.tick();this.resetCountdown(),e.onFinishUpdate()}});function $V(n,e){var r=n instanceof Array?n:[n],i=new e;return i._destructor&&i._destructor(),{linkProp:function(s){return{default:i[s](),onChange:function(u,c){r.forEach(function(d){return c[d][s](u)})},triggerUpdate:!1}},linkMethod:function(s){return function(l){for(var u=arguments.length,c=new Array(u>1?u-1:0),d=1;d<u;d++)c[d-1]=arguments[d];var h=[];return r.forEach(function(p){var m=l[p],v=m[s].apply(m,c);v!==m&&h.push(v)}),h.length?h[0]:this}}}}var mFe=800,gFe=4,GV=$V("forceGraph",IE),vFe=$V(["forceGraph","shadowGraph"],IE),AFe=Object.assign.apply(Object,il(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(n){return LA({},n,GV.linkProp(n))})).concat(il(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(n){return LA({},n,vFe.linkProp(n))})))),yFe=Object.assign.apply(Object,il(["d3Force","d3ReheatSimulation","emitParticle"].map(function(n){return LA({},n,GV.linkMethod(n))})));function wM(n){if(n.canvas){var e=n.canvas.width,r=n.canvas.height;e===300&&r===150&&(e=r=0);var i=window.devicePixelRatio;e/=i,r/=i,[n.canvas,n.shadowCanvas].forEach(function(s){s.style.width="".concat(n.width,"px"),s.style.height="".concat(n.height,"px"),s.width=n.width*i,s.height=n.height*i,!e&&!r&&s.getContext("2d").scale(i,i)});var o=dc(n.canvas).k;n.zoom.translateBy(n.zoom.__baseElem,(n.width-e)/2/o,(n.height-r)/2/o),n.needsRedraw=!0}}function jV(n){var e=window.devicePixelRatio;n.setTransform(e,0,0,e,0,0)}function I6(n,e,r){n.save(),jV(n),n.clearRect(0,0,e,r),n.restore()}var bFe=Bh({props:Yp({width:{default:window.innerWidth,onChange:function(e,r){return wM(r)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(e,r){return wM(r)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,r){[{type:"Node",objs:e.nodes},{type:"Link",objs:e.links}].forEach(i),r.forceGraph.graphData(e),r.shadowGraph.graphData(e);function i(o){var s=o.type,l=o.objs;l.filter(function(u){if(!u.hasOwnProperty("__indexColor"))return!0;var c=r.colorTracker.lookup(u.__indexColor);return!c||!c.hasOwnProperty("d")||c.d!==u}).forEach(function(u){u.__indexColor=r.colorTracker.register({type:s,d:u})})}},triggerUpdate:!1},backgroundColor:{onChange:function(e,r){r.canvas&&e&&(r.canvas.style.background=e)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(e,r){r.shadowGraph.nodeCanvasObject(e?function(i,o,s){return e(i,i.__indexColor,o,s)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(e,r){r.shadowGraph.linkCanvasObject(e?function(i,o,s){return e(i,i.__indexColor,o,s)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(e,r){r.zoom.scaleExtent([e,r.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(e,r){r.zoom.scaleExtent([r.zoom.scaleExtent()[0],e])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(e,r){r.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},AFe),aliases:{stopAnimation:"pauseAnimation"},methods:Yp({graph2ScreenCoords:function(e,r,i){var o=dc(e.canvas);return{x:r*o.k+o.x,y:i*o.k+o.y}},screen2GraphCoords:function(e,r,i){var o=dc(e.canvas);return{x:(r-o.x)/o.k,y:(i-o.y)/o.k}},centerAt:function(e,r,i,o){if(!e.canvas)return null;if(r!==void 0||i!==void 0){var s=Object.assign({},r!==void 0?{x:r}:{},i!==void 0?{y:i}:{});return o?new TE(l()).to(s,o).easing(Cu.Quadratic.Out).onUpdate(u).start():u(s),this}return l();function l(){var c=dc(e.canvas);return{x:(e.width/2-c.x)/c.k,y:(e.height/2-c.y)/c.k}}function u(c){var d=c.x,h=c.y;e.zoom.translateTo(e.zoom.__baseElem,d===void 0?l().x:d,h===void 0?l().y:h),e.needsRedraw=!0}},zoom:function(e,r,i){if(!e.canvas)return null;if(r!==void 0)return i?new TE({k:o()}).to({k:r},i).easing(Cu.Quadratic.Out).onUpdate(function(l){var u=l.k;return s(u)}).start():s(r),this;return o();function o(){return dc(e.canvas).k}function s(l){e.zoom.scaleTo(e.zoom.__baseElem,l),e.needsRedraw=!0}},zoomToFit:function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,o=arguments.length,s=new Array(o>3?o-3:0),l=3;l<o;l++)s[l-3]=arguments[l];var u=this.getGraphBbox.apply(this,s);if(u){var c={x:(u.x[0]+u.x[1])/2,y:(u.y[0]+u.y[1])/2},d=Math.max(1e-12,Math.min(1e12,(e.width-i*2)/(u.x[1]-u.x[0]),(e.height-i*2)/(u.y[1]-u.y[0])));this.centerAt(c.x,c.y,r),this.zoom(d,r)}return this},getGraphBbox:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},i=Tr(e.nodeVal),o=function(u){return Math.sqrt(Math.max(0,i(u)||1))*e.nodeRelSize},s=e.graphData.nodes.filter(r).map(function(l){return{x:l.x,y:l.y,r:o(l)}});return s.length?{x:[oR(s,function(l){return l.x-l.r}),iR(s,function(l){return l.x+l.r})],y:[oR(s,function(l){return l.y-l.r}),iR(s,function(l){return l.y+l.r})]}:null},pauseAnimation:function(e){return e.animationFrameRequestId&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),this},resumeAnimation:function(e){return e.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},yFe),stateInit:function(){return{lastSetZoom:1,zoom:Pke(),forceGraph:new IE,shadowGraph:new IE().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new Qke}},init:function(e,r){var i=this;e.innerHTML="";var o=document.createElement("div");o.classList.add("force-graph-container"),o.style.position="relative",e.appendChild(o),r.canvas=document.createElement("canvas"),r.backgroundColor&&(r.canvas.style.background=r.backgroundColor),o.appendChild(r.canvas),r.shadowCanvas=document.createElement("canvas");var s=r.canvas.getContext("2d"),l=r.shadowCanvas.getContext("2d",{willReadFrequently:!0}),u={x:-1e12,y:-1e12},c=function(){var m=null,v=window.devicePixelRatio,y=u.x>0&&u.y>0?l.getImageData(u.x*v,u.y*v,1,1):null;return y&&(m=r.colorTracker.lookup(y.data)),m};zl(r.canvas).call(ANe().subject(function(){if(!r.enableNodeDrag)return null;var p=c();return p&&p.type==="Node"?p.d:null}).on("start",function(p){var m=p.subject;m.__initialDragPos={x:m.x,y:m.y,fx:m.fx,fy:m.fy},p.active||(m.fx=m.x,m.fy=m.y),r.canvas.classList.add("grabbable")}).on("drag",function(p){var m=p.subject,v=m.__initialDragPos,y=p,A=dc(r.canvas).k,b={x:v.x+(y.x-v.x)/A-m.x,y:v.y+(y.y-v.y)/A-m.y};["x","y"].forEach(function(g){return m["f".concat(g)]=m[g]=v[g]+(y[g]-v[g])/A}),r.forceGraph.d3AlphaTarget(.3).resetCountdown(),r.isPointerDragging=!0,m.__dragged=!0,r.onNodeDrag(m,b)}).on("end",function(p){var m=p.subject,v=m.__initialDragPos,y={x:m.x-v.x,y:m.y-v.y};v.fx===void 0&&(m.fx=void 0),v.fy===void 0&&(m.fy=void 0),delete m.__initialDragPos,r.forceGraph.d3AlphaTarget()&&r.forceGraph.d3AlphaTarget(0).resetCountdown(),r.canvas.classList.remove("grabbable"),r.isPointerDragging=!1,m.__dragged&&(delete m.__dragged,r.onNodeDragEnd(m,y))})),r.zoom(r.zoom.__baseElem=zl(r.canvas)),r.zoom.__baseElem.on("dblclick.zoom",null),r.zoom.filter(function(p){return!p.button&&r.enableZoomPanInteraction&&(r.enableZoomInteraction||p.type!=="wheel")&&(r.enablePanInteraction||p.type==="wheel")}).on("zoom",function(p){var m=p.transform;[s,l].forEach(function(v){jV(v),v.translate(m.x,m.y),v.scale(m.k,m.k)}),r.onZoom&&r.onZoom(Yp(Yp({},m),i.centerAt())),r.needsRedraw=!0}).on("end",function(p){return r.onZoomEnd&&r.onZoomEnd(Yp(Yp({},p.transform),i.centerAt()))}),wM(r),r.forceGraph.onNeedsRedraw(function(){return r.needsRedraw=!0}).onFinishUpdate(function(){dc(r.canvas).k===r.lastSetZoom&&r.graphData.nodes.length&&(r.zoom.scaleTo(r.zoom.__baseElem,r.lastSetZoom=gFe/Math.cbrt(r.graphData.nodes.length)),r.needsRedraw=!0)});var d=document.createElement("div");d.classList.add("graph-tooltip"),o.appendChild(d),["pointermove","pointerdown"].forEach(function(p){return o.addEventListener(p,function(m){p==="pointerdown"&&(r.isPointerPressed=!0,r.pointerDownEvent=m),!r.isPointerDragging&&m.type==="pointermove"&&r.onBackgroundClick&&(m.pressure>0||r.isPointerPressed)&&(m.pointerType!=="touch"||m.movementX===void 0||[m.movementX,m.movementY].some(function(A){return Math.abs(A)>1}))&&(r.isPointerDragging=!0);var v=y(o);u.x=m.pageX-v.left,u.y=m.pageY-v.top,d.style.top="".concat(u.y,"px"),d.style.left="".concat(u.x,"px"),d.style.transform="translate(-".concat(u.x/r.width*100,"%, ").concat(r.height-u.y<100?"calc(-100% - 8px)":"21px",")");function y(A){var b=A.getBoundingClientRect(),g=window.pageXOffset||document.documentElement.scrollLeft,w=window.pageYOffset||document.documentElement.scrollTop;return{top:b.top+w,left:b.left+g}}},{passive:!0})}),o.addEventListener("pointerup",function(p){if(r.isPointerPressed=!1,r.isPointerDragging){r.isPointerDragging=!1;return}var m=[p,r.pointerDownEvent];requestAnimationFrame(function(){if(p.button===0)if(r.hoverObj){var v=r["on".concat(r.hoverObj.type,"Click")];v&&v.apply(void 0,[r.hoverObj.d].concat(m))}else r.onBackgroundClick&&r.onBackgroundClick.apply(r,m);if(p.button===2)if(r.hoverObj){var y=r["on".concat(r.hoverObj.type,"RightClick")];y&&y.apply(void 0,[r.hoverObj.d].concat(m))}else r.onBackgroundRightClick&&r.onBackgroundRightClick.apply(r,m)})},{passive:!0}),o.addEventListener("contextmenu",function(p){return!r.onBackgroundRightClick&&!r.onNodeRightClick&&!r.onLinkRightClick?!0:(p.preventDefault(),!1)}),r.forceGraph(s),r.shadowGraph(l);var h=Oke(function(){I6(l,r.width,r.height),r.shadowGraph.linkWidth(function(m){return Tr(r.linkWidth)(m)+r.linkHoverPrecision});var p=dc(r.canvas);r.shadowGraph.globalScale(p.k).tickFrame()},mFe);r.flushShadowCanvas=h.flush,(this._animationCycle=function p(){var m=!r.autoPauseRedraw||!!r.needsRedraw||r.forceGraph.isEngineRunning()||r.graphData.links.some(function(_){return _.__photons&&_.__photons.length});if(r.needsRedraw=!1,r.enablePointerInteraction){var v=r.isPointerDragging?null:c();if(v!==r.hoverObj){var y=r.hoverObj,A=y?y.type:null,b=v?v.type:null;if(A&&A!==b){var g=r["on".concat(A,"Hover")];g&&g(null,y.d)}if(b){var w=r["on".concat(b,"Hover")];w&&w(v.d,A===b?y.d:null)}var E=v&&Tr(r["".concat(v.type.toLowerCase(),"Label")])(v.d)||"";d.style.visibility=E?"visible":"hidden",d.innerHTML=E,r.canvas.classList[v&&r["on".concat(b,"Click")]||!v&&r.onBackgroundClick?"add":"remove"]("clickable"),r.hoverObj=v}m&&h()}if(m){I6(s,r.width,r.height);var C=dc(r.canvas).k;r.onRenderFramePre&&r.onRenderFramePre(s,C),r.forceGraph.globalScale(C).tickFrame(),r.onRenderFramePost&&r.onRenderFramePost(s,C)}gV(),r.animationFrameRequestId=requestAnimationFrame(p)})()},update:function(e){}}),nw={width:$t.number,height:$t.number,graphData:$t.shape({nodes:$t.arrayOf($t.object).isRequired,links:$t.arrayOf($t.object).isRequired}),backgroundColor:$t.string,nodeRelSize:$t.number,nodeId:$t.string,nodeLabel:$t.oneOfType([$t.string,$t.func]),nodeVal:$t.oneOfType([$t.number,$t.string,$t.func]),nodeVisibility:$t.oneOfType([$t.bool,$t.string,$t.func]),nodeColor:$t.oneOfType([$t.string,$t.func]),nodeAutoColorBy:$t.oneOfType([$t.string,$t.func]),onNodeHover:$t.func,onNodeClick:$t.func,linkSource:$t.string,linkTarget:$t.string,linkLabel:$t.oneOfType([$t.string,$t.func]),linkVisibility:$t.oneOfType([$t.bool,$t.string,$t.func]),linkColor:$t.oneOfType([$t.string,$t.func]),linkAutoColorBy:$t.oneOfType([$t.string,$t.func]),linkWidth:$t.oneOfType([$t.number,$t.string,$t.func]),linkCurvature:$t.oneOfType([$t.number,$t.string,$t.func]),linkDirectionalArrowLength:$t.oneOfType([$t.number,$t.string,$t.func]),linkDirectionalArrowColor:$t.oneOfType([$t.string,$t.func]),linkDirectionalArrowRelPos:$t.oneOfType([$t.number,$t.string,$t.func]),linkDirectionalParticles:$t.oneOfType([$t.number,$t.string,$t.func]),linkDirectionalParticleSpeed:$t.oneOfType([$t.number,$t.string,$t.func]),linkDirectionalParticleWidth:$t.oneOfType([$t.number,$t.string,$t.func]),linkDirectionalParticleColor:$t.oneOfType([$t.string,$t.func]),onLinkHover:$t.func,onLinkClick:$t.func,dagMode:$t.oneOf(["td","bu","lr","rl","zin","zout","radialin","radialout"]),dagLevelDistance:$t.number,dagNodeFilter:$t.func,onDagError:$t.func,d3AlphaMin:$t.number,d3AlphaDecay:$t.number,d3VelocityDecay:$t.number,warmupTicks:$t.number,cooldownTicks:$t.number,cooldownTime:$t.number,onEngineTick:$t.func,onEngineStop:$t.func,getGraphBbox:$t.func},VV={zoomToFit:$t.func,onNodeRightClick:$t.func,onNodeDrag:$t.func,onNodeDragEnd:$t.func,onLinkRightClick:$t.func,linkHoverPrecision:$t.number,onBackgroundClick:$t.func,onBackgroundRightClick:$t.func,enablePointerInteraction:$t.bool,enableNodeDrag:$t.bool},IP={showNavInfo:$t.bool,nodeOpacity:$t.number,nodeResolution:$t.number,nodeThreeObject:$t.oneOfType([$t.object,$t.string,$t.func]),nodeThreeObjectExtend:$t.oneOfType([$t.bool,$t.string,$t.func]),linkOpacity:$t.number,linkResolution:$t.number,linkCurveRotation:$t.oneOfType([$t.number,$t.string,$t.func]),linkMaterial:$t.oneOfType([$t.object,$t.string,$t.func]),linkThreeObject:$t.oneOfType([$t.object,$t.string,$t.func]),linkThreeObjectExtend:$t.oneOfType([$t.bool,$t.string,$t.func]),linkPositionUpdate:$t.func,linkDirectionalArrowResolution:$t.number,linkDirectionalParticleResolution:$t.number,forceEngine:$t.oneOf(["d3","ngraph"]),ngraphPhysics:$t.object,numDimensions:$t.oneOf([1,2,3])},xFe=Object.assign({},nw,VV,{linkLineDash:$t.oneOfType([$t.arrayOf($t.number),$t.string,$t.func]),nodeCanvasObjectMode:$t.oneOfType([$t.string,$t.func]),nodeCanvasObject:$t.func,nodePointerAreaPaint:$t.func,linkCanvasObjectMode:$t.oneOfType([$t.string,$t.func]),linkCanvasObject:$t.func,linkPointerAreaPaint:$t.func,autoPauseRedraw:$t.bool,minZoom:$t.number,maxZoom:$t.number,enableZoomInteraction:$t.bool,enablePanInteraction:$t.bool,onZoom:$t.func,onZoomEnd:$t.func,onRenderFramePre:$t.func,onRenderFramePost:$t.func}),EFe=Object.assign({},nw,VV,IP,{enableNavigationControls:$t.bool,controlType:$t.oneOf(["trackball","orbit","fly"]),rendererConfig:$t.object,extraRenderers:$t.arrayOf($t.shape({render:$t.func.isRequired}))}),CFe=Object.assign({},nw,IP,{nodeDesc:$t.oneOfType([$t.string,$t.func]),linkDesc:$t.oneOfType([$t.string,$t.func])}),wFe=Object.assign({},nw,IP,{markerAttrs:$t.object,yOffset:$t.number,glScale:$t.number});const WV=KC(IOe,{methodNames:["getGraphBbox","emitParticle","d3Force","d3ReheatSimulation","refresh"]});WV.displayName="ForceGraphVR";WV.propTypes=CFe;const QV=KC(jOe,{methodNames:["getGraphBbox","emitParticle","d3Force","d3ReheatSimulation","refresh"],initPropNames:["markerAttrs"]});QV.displayName="ForceGraphAR";QV.propTypes=wFe;const LP=KC(BDe,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","stopAnimation","pauseAnimation","resumeAnimation","cameraPosition","zoomToFit","getGraphBbox","screen2GraphCoords","graph2ScreenCoords","postProcessingComposer","lights","scene","camera","renderer","controls","refresh"],initPropNames:["controlType","rendererConfig","extraRenderers"]});LP.displayName="ForceGraph3D";LP.propTypes=EFe;const KV=KC(bFe,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","stopAnimation","pauseAnimation","resumeAnimation","centerAt","zoom","zoomToFit","getGraphBbox","screen2GraphCoords","graph2ScreenCoords"]});KV.displayName="ForceGraph2D";KV.propTypes=xFe;function SFe(){const n=rg(p=>p.model_content),e=rg(p=>p.setHighlightNodes),[r,i]=M.useState(null),[o,s]=M.useState({nodes:[],links:[]});M.useEffect(()=>(s(c(n)),()=>{}),[n]);const l=M.useCallback(p=>{p!==null&&i(p.getBoundingClientRect().width)},[]),u={TABLE:{color:"EF8354",size:10},MEASURE:{color:"BFFFBC",size:5},COLUMN:{color:"F6BBA2",size:5}},c=p=>{const m=[],v=[];return((p==null?void 0:p.tables)||[]).forEach(b=>{m.push({id:b.uuid,color:u[b.entity_type].color,name:b.name,size:u[b.entity_type].size,e_type:b.entity_type,e_table:b.name}),[...b.measures,...b.columns].forEach(g=>{m.push({id:g.uuid,color:u[g.entity_type].color,name:g.name,size:u[g.entity_type].size,e_type:g.entity_type,e_table:b.name}),v.push({source:b.uuid,target:g.uuid,label:"",color:"F1E4E8"})})}),((p==null?void 0:p.relationships)||[]).forEach(b=>{const g=`[T]${b.fromTable}[C]${b.fromColumn}`,w=`[T]${b.toTable}[C]${b.toColumn}`;v.push({source:g,target:w,label:"relationship",color:"EF8354"})}),{links:v,nodes:m}},d=p=>{const m=new Map;p&&(o.links.filter(y=>y.source.id==p.id||y.target.id==p.id).forEach(y=>{m.set(y.source.id,y.source),m.set(y.target.id,y.target)}),e(Array.from(m.values())))},h=()=>{e([])};return Fr.jsx(IC,{ref:l,children:Fr.jsx(LP,{height:700,width:r-50,graphData:o,linkThreeObjectExtend:!0,onNodeClick:d,onBackgroundClick:h,linkDirectionalParticles:1,linkWidth:2,linkOpacity:.4,linkColor:"color",nodeThreeObject:p=>{const m=p.size,v=new THREE.SphereGeometry(m,32,16),y=new THREE.MeshBasicMaterial({color:"#"+p.color});return new THREE.Mesh(v,y)},linkThreeObject:p=>{const m=new _3e(`${p.label}`);return m.color="white",m.textHeight=3.5,m},linkPositionUpdate:(p,{start:m,end:v})=>{const y=Object.assign(...["x","y","z"].map(A=>({[A]:m[A]+(v[A]-m[A])/2})));Object.assign(p.position,y)}})})}function _Fe(){const n=rg(r=>r.highlightNodes),e=[{title:"Name",dataIndex:"name",key:"name"},{title:"Table",dataIndex:"e_table",key:"e_table"},{title:"Type",dataIndex:"e_type",key:"e_type",filters:[{text:"Table",value:"TABLE"},{text:"Column",value:"COLUMN"},{text:"Measure",value:"MEASURE"}],render:r=>Fr.jsx(Jbe,{children:r}),onFilter:(r,i)=>i.e_type===r}];return Fr.jsx(IC,{children:Fr.jsx(Hbe,{columns:e,dataSource:n})})}function MFe(){const n=rg(s=>s.model_content),e=rg(s=>s.highlightNodes),{tables:r,measures:i,columns:o}=n;return Fr.jsx(IC,{children:Fr.jsxs(o$,{gutter:[16,8],justify:"center",children:[Fr.jsx(Jf,{span:24,children:Fr.jsx(mm,{title:"Tables",value:(r==null?void 0:r.length)||0,valueStyle:{textAlign:"center"},style:{textAlign:"center"}})}),Fr.jsx(Jf,{span:12,children:Fr.jsx(mm,{title:"Columns",value:(o==null?void 0:o.length)||0,style:{textAlign:"center"}})}),Fr.jsx(Jf,{span:12,children:Fr.jsx(mm,{title:"Measures",value:(i==null?void 0:i.length)||0,style:{textAlign:"center"}})}),Fr.jsx(Jf,{span:24,children:Fr.jsx(mm,{title:"Selected Nodes",value:(e==null?void 0:e.length)||0,valueStyle:{color:(e==null?void 0:e.length)>4?"#cf1322":"#3f8600"},style:{textAlign:"center"},prefix:Fr.jsx(dz,{})})})]})})}function TFe(){return Fr.jsxs(o$,{gutter:[16,8],children:[Fr.jsx(Jf,{span:20,children:Fr.jsx(SFe,{})}),Fr.jsxs(Jf,{span:4,children:[Fr.jsx(yCe,{}),Fr.jsx(jge,{}),Fr.jsx(MFe,{})]}),Fr.jsx(Jf,{span:24,children:Fr.jsx(_Fe,{})})]})}const RFe=NEe([{path:"/",element:Fr.jsx(Fr.Fragment,{children:"app"})},{path:"/forcegraph",element:Fr.jsx(TFe,{})},{path:"/autoformat",element:Fr.jsx(Fr.Fragment,{children:"autoformat"})},{path:"/springboot",element:Fr.jsx(Fr.Fragment,{children:"springboot"})}]);function IFe(){return Fr.jsx(jEe,{router:RFe})}const{Header:LFe,Content:PFe,Footer:BFe,Sider:OFe}=y3;function SM(n,e,r,i){return{key:e,icon:r,children:i,label:Fr.jsx(K1e,{href:e,children:n})}}const DFe=[SM("Force Graph","/forcegraph",Fr.jsx(dz,{})),SM("Auto Formatter","/autoformat",Fr.jsx(cre,{})),SM("Springboot","/springboot",Fr.jsx(Eie,{}))],NFe=()=>{const[n,e]=M.useState(!1),{token:{colorBgContainer:r}}=c1e.useToken(),i=o=>{console.log(o)};return Fr.jsxs(y3,{style:{minHeight:"100vh"},children:[Fr.jsx(OFe,{collapsible:!0,collapsed:n,onCollapse:o=>e(o),children:Fr.jsx(EL,{theme:"dark",mode:"inline",onClick:i,items:DFe})}),Fr.jsxs(y3,{children:[Fr.jsx(LFe,{style:{padding:0,background:r}}),Fr.jsx(PFe,{style:{margin:"0 0",padding:"15px 15px"},children:Fr.jsx(IFe,{})}),Fr.jsx(BFe,{style:{textAlign:"center"},children:"pbip poc ©2023 by Halil Türk"})]})]})};_M.createRoot(document.getElementById("root")).render(Fr.jsx(nn.StrictMode,{children:Fr.jsx(NFe,{})}));
