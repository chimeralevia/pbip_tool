function Q6(n,e){for(var r=0;r<e.length;r++){const i=e[r];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const s=Object.getOwnPropertyDescriptor(i,o);s&&Object.defineProperty(n,o,s.get?s:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();function Uu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function kR(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var r=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var o=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(r,i,o.get?o:{enumerable:!0,get:function(){return n[i]}})}),r}var K6={exports:{}},kE={},X6={exports:{}},Ai={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OA=Symbol.for("react.element"),WJ=Symbol.for("react.portal"),QJ=Symbol.for("react.fragment"),KJ=Symbol.for("react.strict_mode"),XJ=Symbol.for("react.profiler"),qJ=Symbol.for("react.provider"),YJ=Symbol.for("react.context"),JJ=Symbol.for("react.forward_ref"),ZJ=Symbol.for("react.suspense"),eZ=Symbol.for("react.memo"),tZ=Symbol.for("react.lazy"),cD=Symbol.iterator;function nZ(n){return n===null||typeof n!="object"?null:(n=cD&&n[cD]||n["@@iterator"],typeof n=="function"?n:null)}var q6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y6=Object.assign,J6={};function hg(n,e,r){this.props=n,this.context=e,this.refs=J6,this.updater=r||q6}hg.prototype.isReactComponent={};hg.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};hg.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function Z6(){}Z6.prototype=hg.prototype;function FR(n,e,r){this.props=n,this.context=e,this.refs=J6,this.updater=r||q6}var UR=FR.prototype=new Z6;UR.constructor=FR;Y6(UR,hg.prototype);UR.isPureReactComponent=!0;var uD=Array.isArray,eU=Object.prototype.hasOwnProperty,zR={current:null},tU={key:!0,ref:!0,__self:!0,__source:!0};function nU(n,e,r){var i,o={},s=null,l=null;if(e!=null)for(i in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(s=""+e.key),e)eU.call(e,i)&&!tU.hasOwnProperty(i)&&(o[i]=e[i]);var u=arguments.length-2;if(u===1)o.children=r;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];o.children=c}if(n&&n.defaultProps)for(i in u=n.defaultProps,u)o[i]===void 0&&(o[i]=u[i]);return{$$typeof:OA,type:n,key:s,ref:l,props:o,_owner:zR.current}}function rZ(n,e){return{$$typeof:OA,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function $R(n){return typeof n=="object"&&n!==null&&n.$$typeof===OA}function iZ(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(r){return e[r]})}var dD=/\/+/g;function qS(n,e){return typeof n=="object"&&n!==null&&n.key!=null?iZ(""+n.key):e.toString(36)}function H1(n,e,r,i,o){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var l=!1;if(n===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(n.$$typeof){case OA:case WJ:l=!0}}if(l)return l=n,o=o(l),n=i===""?"."+qS(l,0):i,uD(o)?(r="",n!=null&&(r=n.replace(dD,"$&/")+"/"),H1(o,e,r,"",function(d){return d})):o!=null&&($R(o)&&(o=rZ(o,r+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(dD,"$&/")+"/")+n)),e.push(o)),1;if(l=0,i=i===""?".":i+":",uD(n))for(var u=0;u<n.length;u++){s=n[u];var c=i+qS(s,u);l+=H1(s,e,r,c,o)}else if(c=nZ(n),typeof c=="function")for(n=c.call(n),u=0;!(s=n.next()).done;)s=s.value,c=i+qS(s,u++),l+=H1(s,e,r,c,o);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function mb(n,e,r){if(n==null)return n;var i=[],o=0;return H1(n,i,"","",function(s){return e.call(r,s,o++)}),i}function oZ(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(r){(n._status===0||n._status===-1)&&(n._status=1,n._result=r)},function(r){(n._status===0||n._status===-1)&&(n._status=2,n._result=r)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Ja={current:null},j1={transition:null},aZ={ReactCurrentDispatcher:Ja,ReactCurrentBatchConfig:j1,ReactCurrentOwner:zR};Ai.Children={map:mb,forEach:function(n,e,r){mb(n,function(){e.apply(this,arguments)},r)},count:function(n){var e=0;return mb(n,function(){e++}),e},toArray:function(n){return mb(n,function(e){return e})||[]},only:function(n){if(!$R(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Ai.Component=hg;Ai.Fragment=QJ;Ai.Profiler=XJ;Ai.PureComponent=FR;Ai.StrictMode=KJ;Ai.Suspense=ZJ;Ai.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aZ;Ai.cloneElement=function(n,e,r){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=Y6({},n.props),o=n.key,s=n.ref,l=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,l=zR.current),e.key!==void 0&&(o=""+e.key),n.type&&n.type.defaultProps)var u=n.type.defaultProps;for(c in e)eU.call(e,c)&&!tU.hasOwnProperty(c)&&(i[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)i.children=r;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];i.children=u}return{$$typeof:OA,type:n.type,key:o,ref:s,props:i,_owner:l}};Ai.createContext=function(n){return n={$$typeof:YJ,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:qJ,_context:n},n.Consumer=n};Ai.createElement=nU;Ai.createFactory=function(n){var e=nU.bind(null,n);return e.type=n,e};Ai.createRef=function(){return{current:null}};Ai.forwardRef=function(n){return{$$typeof:JJ,render:n}};Ai.isValidElement=$R;Ai.lazy=function(n){return{$$typeof:tZ,_payload:{_status:-1,_result:n},_init:oZ}};Ai.memo=function(n,e){return{$$typeof:eZ,type:n,compare:e===void 0?null:e}};Ai.startTransition=function(n){var e=j1.transition;j1.transition={};try{n()}finally{j1.transition=e}};Ai.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ai.useCallback=function(n,e){return Ja.current.useCallback(n,e)};Ai.useContext=function(n){return Ja.current.useContext(n)};Ai.useDebugValue=function(){};Ai.useDeferredValue=function(n){return Ja.current.useDeferredValue(n)};Ai.useEffect=function(n,e){return Ja.current.useEffect(n,e)};Ai.useId=function(){return Ja.current.useId()};Ai.useImperativeHandle=function(n,e,r){return Ja.current.useImperativeHandle(n,e,r)};Ai.useInsertionEffect=function(n,e){return Ja.current.useInsertionEffect(n,e)};Ai.useLayoutEffect=function(n,e){return Ja.current.useLayoutEffect(n,e)};Ai.useMemo=function(n,e){return Ja.current.useMemo(n,e)};Ai.useReducer=function(n,e,r){return Ja.current.useReducer(n,e,r)};Ai.useRef=function(n){return Ja.current.useRef(n)};Ai.useState=function(n){return Ja.current.useState(n)};Ai.useSyncExternalStore=function(n,e,r){return Ja.current.useSyncExternalStore(n,e,r)};Ai.useTransition=function(){return Ja.current.useTransition()};Ai.version="18.2.0";X6.exports=Ai;var M=X6.exports;const Wt=Uu(M),DA=Q6({__proto__:null,default:Wt},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sZ=M,lZ=Symbol.for("react.element"),cZ=Symbol.for("react.fragment"),uZ=Object.prototype.hasOwnProperty,dZ=sZ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fZ={key:!0,ref:!0,__self:!0,__source:!0};function rU(n,e,r){var i,o={},s=null,l=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(l=e.ref);for(i in e)uZ.call(e,i)&&!fZ.hasOwnProperty(i)&&(o[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)o[i]===void 0&&(o[i]=e[i]);return{$$typeof:lZ,type:n,key:s,ref:l,props:o,_owner:dZ.current}}kE.Fragment=cZ;kE.jsx=rU;kE.jsxs=rU;K6.exports=kE;var lr=K6.exports,BM={},iU={exports:{}},Fs={},oU={exports:{}},aU={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(j,G){var Q=j.length;j.push(G);e:for(;0<Q;){var X=Q-1>>>1,J=j[X];if(0<o(J,G))j[X]=G,j[Q]=J,Q=X;else break e}}function r(j){return j.length===0?null:j[0]}function i(j){if(j.length===0)return null;var G=j[0],Q=j.pop();if(Q!==G){j[0]=Q;e:for(var X=0,J=j.length,Z=J>>>1;X<Z;){var oe=2*(X+1)-1,ce=j[oe],Be=oe+1,ge=j[Be];if(0>o(ce,Q))Be<J&&0>o(ge,ce)?(j[X]=ge,j[Be]=Q,X=Be):(j[X]=ce,j[oe]=Q,X=oe);else if(Be<J&&0>o(ge,Q))j[X]=ge,j[Be]=Q,X=Be;else break e}}return G}function o(j,G){var Q=j.sortIndex-G.sortIndex;return Q!==0?Q:j.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var c=[],d=[],h=1,p=null,m=3,v=!1,y=!1,A=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(j){for(var G=r(d);G!==null;){if(G.callback===null)i(d);else if(G.startTime<=j)i(d),G.sortIndex=G.expirationTime,e(c,G);else break;G=r(d)}}function C(j){if(A=!1,E(j),!y)if(r(c)!==null)y=!0,N(_);else{var G=r(d);G!==null&&z(C,G.startTime-j)}}function _(j,G){y=!1,A&&(A=!1,g(L),L=-1),v=!0;var Q=m;try{for(E(G),p=r(c);p!==null&&(!(p.expirationTime>G)||j&&!H());){var X=p.callback;if(typeof X=="function"){p.callback=null,m=p.priorityLevel;var J=X(p.expirationTime<=G);G=n.unstable_now(),typeof J=="function"?p.callback=J:p===r(c)&&i(c),E(G)}else i(c);p=r(c)}if(p!==null)var Z=!0;else{var oe=r(d);oe!==null&&z(C,oe.startTime-G),Z=!1}return Z}finally{p=null,m=Q,v=!1}}var P=!1,R=null,L=-1,T=5,D=-1;function H(){return!(n.unstable_now()-D<T)}function V(){if(R!==null){var j=n.unstable_now();D=j;var G=!0;try{G=R(!0,j)}finally{G?B():(P=!1,R=null)}}else P=!1}var B;if(typeof w=="function")B=function(){w(V)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,F=O.port2;O.port1.onmessage=V,B=function(){F.postMessage(null)}}else B=function(){b(V,0)};function N(j){R=j,P||(P=!0,B())}function z(j,G){L=b(function(){j(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(j){j.callback=null},n.unstable_continueExecution=function(){y||v||(y=!0,N(_))},n.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<j?Math.floor(1e3/j):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return r(c)},n.unstable_next=function(j){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var Q=m;m=G;try{return j()}finally{m=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(j,G){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var Q=m;m=j;try{return G()}finally{m=Q}},n.unstable_scheduleCallback=function(j,G,Q){var X=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?X+Q:X):Q=X,j){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Q+J,j={id:h++,callback:G,priorityLevel:j,startTime:Q,expirationTime:J,sortIndex:-1},Q>X?(j.sortIndex=Q,e(d,j),r(c)===null&&j===r(d)&&(A?(g(L),L=-1):A=!0,z(C,Q-X))):(j.sortIndex=J,e(c,j),y||v||(y=!0,N(_))),j},n.unstable_shouldYield=H,n.unstable_wrapCallback=function(j){var G=m;return function(){var Q=m;m=G;try{return j.apply(this,arguments)}finally{m=Q}}}})(aU);oU.exports=aU;var hZ=oU.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sU=M,Ds=hZ;function Un(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lU=new Set,X0={};function Sh(n,e){zm(n,e),zm(n+"Capture",e)}function zm(n,e){for(X0[n]=e,n=0;n<e.length;n++)lU.add(e[n])}var _u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),OM=Object.prototype.hasOwnProperty,pZ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fD={},hD={};function mZ(n){return OM.call(hD,n)?!0:OM.call(fD,n)?!1:pZ.test(n)?hD[n]=!0:(fD[n]=!0,!1)}function gZ(n,e,r,i){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function vZ(n,e,r,i){if(e===null||typeof e>"u"||gZ(n,e,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Za(n,e,r,i,o,s,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=l}var Aa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Aa[n]=new Za(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Aa[e]=new Za(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Aa[n]=new Za(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Aa[n]=new Za(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Aa[n]=new Za(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Aa[n]=new Za(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Aa[n]=new Za(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Aa[n]=new Za(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Aa[n]=new Za(n,5,!1,n.toLowerCase(),null,!1,!1)});var HR=/[\-:]([a-z])/g;function jR(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(HR,jR);Aa[e]=new Za(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(HR,jR);Aa[e]=new Za(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(HR,jR);Aa[e]=new Za(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Aa[n]=new Za(n,1,!1,n.toLowerCase(),null,!1,!1)});Aa.xlinkHref=new Za("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Aa[n]=new Za(n,1,!1,n.toLowerCase(),null,!0,!0)});function GR(n,e,r,i){var o=Aa.hasOwnProperty(e)?Aa[e]:null;(o!==null?o.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vZ(e,r,o,i)&&(r=null),i||o===null?mZ(e)&&(r===null?n.removeAttribute(e):n.setAttribute(e,""+r)):o.mustUseProperty?n[o.propertyName]=r===null?o.type===3?!1:"":r:(e=o.attributeName,i=o.attributeNamespace,r===null?n.removeAttribute(e):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,i?n.setAttributeNS(i,e,r):n.setAttribute(e,r))))}var zu=sU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gb=Symbol.for("react.element"),em=Symbol.for("react.portal"),tm=Symbol.for("react.fragment"),VR=Symbol.for("react.strict_mode"),DM=Symbol.for("react.profiler"),cU=Symbol.for("react.provider"),uU=Symbol.for("react.context"),WR=Symbol.for("react.forward_ref"),NM=Symbol.for("react.suspense"),kM=Symbol.for("react.suspense_list"),QR=Symbol.for("react.memo"),Ed=Symbol.for("react.lazy"),dU=Symbol.for("react.offscreen"),pD=Symbol.iterator;function yv(n){return n===null||typeof n!="object"?null:(n=pD&&n[pD]||n["@@iterator"],typeof n=="function"?n:null)}var vo=Object.assign,YS;function s0(n){if(YS===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);YS=e&&e[1]||""}return`
`+YS+n}var JS=!1;function ZS(n,e){if(!n||JS)return"";JS=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var i=d}Reflect.construct(n,[],e)}else{try{e.call()}catch(d){i=d}n.call(e.prototype)}else{try{throw Error()}catch(d){i=d}n()}}catch(d){if(d&&i&&typeof d.stack=="string"){for(var o=d.stack.split(`
`),s=i.stack.split(`
`),l=o.length-1,u=s.length-1;1<=l&&0<=u&&o[l]!==s[u];)u--;for(;1<=l&&0<=u;l--,u--)if(o[l]!==s[u]){if(l!==1||u!==1)do if(l--,u--,0>u||o[l]!==s[u]){var c=`
`+o[l].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=l&&0<=u);break}}}finally{JS=!1,Error.prepareStackTrace=r}return(n=n?n.displayName||n.name:"")?s0(n):""}function AZ(n){switch(n.tag){case 5:return s0(n.type);case 16:return s0("Lazy");case 13:return s0("Suspense");case 19:return s0("SuspenseList");case 0:case 2:case 15:return n=ZS(n.type,!1),n;case 11:return n=ZS(n.type.render,!1),n;case 1:return n=ZS(n.type,!0),n;default:return""}}function FM(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case tm:return"Fragment";case em:return"Portal";case DM:return"Profiler";case VR:return"StrictMode";case NM:return"Suspense";case kM:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case uU:return(n.displayName||"Context")+".Consumer";case cU:return(n._context.displayName||"Context")+".Provider";case WR:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case QR:return e=n.displayName||null,e!==null?e:FM(n.type)||"Memo";case Ed:e=n._payload,n=n._init;try{return FM(n(e))}catch{}}return null}function yZ(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return FM(e);case 8:return e===VR?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vd(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function fU(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bZ(n){var e=fU(n)?"checked":"value",r=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,s=r.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return o.call(this)},set:function(l){i=""+l,s.call(this,l)}}),Object.defineProperty(n,e,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(l){i=""+l},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function vb(n){n._valueTracker||(n._valueTracker=bZ(n))}function hU(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var r=e.getValue(),i="";return n&&(i=fU(n)?n.checked?"true":"false":n.value),n=i,n!==r?(e.setValue(n),!0):!1}function bx(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function UM(n,e){var r=e.checked;return vo({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??n._wrapperState.initialChecked})}function mD(n,e){var r=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;r=Vd(e.value!=null?e.value:r),n._wrapperState={initialChecked:i,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function pU(n,e){e=e.checked,e!=null&&GR(n,"checked",e,!1)}function zM(n,e){pU(n,e);var r=Vd(e.value),i=e.type;if(r!=null)i==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+r):n.value!==""+r&&(n.value=""+r);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?$M(n,e.type,r):e.hasOwnProperty("defaultValue")&&$M(n,e.type,Vd(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function gD(n,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,r||e===n.value||(n.value=e),n.defaultValue=e}r=n.name,r!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,r!==""&&(n.name=r)}function $M(n,e,r){(e!=="number"||bx(n.ownerDocument)!==n)&&(r==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+r&&(n.defaultValue=""+r))}var l0=Array.isArray;function Em(n,e,r,i){if(n=n.options,e){e={};for(var o=0;o<r.length;o++)e["$"+r[o]]=!0;for(r=0;r<n.length;r++)o=e.hasOwnProperty("$"+n[r].value),n[r].selected!==o&&(n[r].selected=o),o&&i&&(n[r].defaultSelected=!0)}else{for(r=""+Vd(r),e=null,o=0;o<n.length;o++){if(n[o].value===r){n[o].selected=!0,i&&(n[o].defaultSelected=!0);return}e!==null||n[o].disabled||(e=n[o])}e!==null&&(e.selected=!0)}}function HM(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Un(91));return vo({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function vD(n,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Un(92));if(l0(r)){if(1<r.length)throw Error(Un(93));r=r[0]}e=r}e==null&&(e=""),r=e}n._wrapperState={initialValue:Vd(r)}}function mU(n,e){var r=Vd(e.value),i=Vd(e.defaultValue);r!=null&&(r=""+r,r!==n.value&&(n.value=r),e.defaultValue==null&&n.defaultValue!==r&&(n.defaultValue=r)),i!=null&&(n.defaultValue=""+i)}function AD(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function gU(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jM(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?gU(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Ab,vU=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,i,o){MSApp.execUnsafeLocalFunction(function(){return n(e,r,i,o)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Ab=Ab||document.createElement("div"),Ab.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ab.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function q0(n,e){if(e){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=e;return}}n.textContent=e}var x0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xZ=["Webkit","ms","Moz","O"];Object.keys(x0).forEach(function(n){xZ.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),x0[e]=x0[n]})});function AU(n,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||x0.hasOwnProperty(n)&&x0[n]?(""+e).trim():e+"px"}function yU(n,e){n=n.style;for(var r in e)if(e.hasOwnProperty(r)){var i=r.indexOf("--")===0,o=AU(r,e[r],i);r==="float"&&(r="cssFloat"),i?n.setProperty(r,o):n[r]=o}}var EZ=vo({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function GM(n,e){if(e){if(EZ[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Un(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Un(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Un(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Un(62))}}function VM(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var WM=null;function KR(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var QM=null,Cm=null,wm=null;function yD(n){if(n=FA(n)){if(typeof QM!="function")throw Error(Un(280));var e=n.stateNode;e&&(e=HE(e),QM(n.stateNode,n.type,e))}}function bU(n){Cm?wm?wm.push(n):wm=[n]:Cm=n}function xU(){if(Cm){var n=Cm,e=wm;if(wm=Cm=null,yD(n),e)for(n=0;n<e.length;n++)yD(e[n])}}function EU(n,e){return n(e)}function CU(){}var e2=!1;function wU(n,e,r){if(e2)return n(e,r);e2=!0;try{return EU(n,e,r)}finally{e2=!1,(Cm!==null||wm!==null)&&(CU(),xU())}}function Y0(n,e){var r=n.stateNode;if(r===null)return null;var i=HE(r);if(i===null)return null;r=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(Un(231,e,typeof r));return r}var KM=!1;if(_u)try{var bv={};Object.defineProperty(bv,"passive",{get:function(){KM=!0}}),window.addEventListener("test",bv,bv),window.removeEventListener("test",bv,bv)}catch{KM=!1}function CZ(n,e,r,i,o,s,l,u,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(h){this.onError(h)}}var E0=!1,xx=null,Ex=!1,XM=null,wZ={onError:function(n){E0=!0,xx=n}};function SZ(n,e,r,i,o,s,l,u,c){E0=!1,xx=null,CZ.apply(wZ,arguments)}function _Z(n,e,r,i,o,s,l,u,c){if(SZ.apply(this,arguments),E0){if(E0){var d=xx;E0=!1,xx=null}else throw Error(Un(198));Ex||(Ex=!0,XM=d)}}function _h(n){var e=n,r=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(r=e.return),n=e.return;while(n)}return e.tag===3?r:null}function SU(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function bD(n){if(_h(n)!==n)throw Error(Un(188))}function MZ(n){var e=n.alternate;if(!e){if(e=_h(n),e===null)throw Error(Un(188));return e!==n?null:n}for(var r=n,i=e;;){var o=r.return;if(o===null)break;var s=o.alternate;if(s===null){if(i=o.return,i!==null){r=i;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===r)return bD(o),n;if(s===i)return bD(o),e;s=s.sibling}throw Error(Un(188))}if(r.return!==i.return)r=o,i=s;else{for(var l=!1,u=o.child;u;){if(u===r){l=!0,r=o,i=s;break}if(u===i){l=!0,i=o,r=s;break}u=u.sibling}if(!l){for(u=s.child;u;){if(u===r){l=!0,r=s,i=o;break}if(u===i){l=!0,i=s,r=o;break}u=u.sibling}if(!l)throw Error(Un(189))}}if(r.alternate!==i)throw Error(Un(190))}if(r.tag!==3)throw Error(Un(188));return r.stateNode.current===r?n:e}function _U(n){return n=MZ(n),n!==null?MU(n):null}function MU(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=MU(n);if(e!==null)return e;n=n.sibling}return null}var TU=Ds.unstable_scheduleCallback,xD=Ds.unstable_cancelCallback,TZ=Ds.unstable_shouldYield,RZ=Ds.unstable_requestPaint,Po=Ds.unstable_now,IZ=Ds.unstable_getCurrentPriorityLevel,XR=Ds.unstable_ImmediatePriority,RU=Ds.unstable_UserBlockingPriority,Cx=Ds.unstable_NormalPriority,PZ=Ds.unstable_LowPriority,IU=Ds.unstable_IdlePriority,FE=null,gc=null;function LZ(n){if(gc&&typeof gc.onCommitFiberRoot=="function")try{gc.onCommitFiberRoot(FE,n,void 0,(n.current.flags&128)===128)}catch{}}var jl=Math.clz32?Math.clz32:DZ,BZ=Math.log,OZ=Math.LN2;function DZ(n){return n>>>=0,n===0?32:31-(BZ(n)/OZ|0)|0}var yb=64,bb=4194304;function c0(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function wx(n,e){var r=n.pendingLanes;if(r===0)return 0;var i=0,o=n.suspendedLanes,s=n.pingedLanes,l=r&268435455;if(l!==0){var u=l&~o;u!==0?i=c0(u):(s&=l,s!==0&&(i=c0(s)))}else l=r&~o,l!==0?i=c0(l):s!==0&&(i=c0(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&o)&&(o=i&-i,s=e&-e,o>=s||o===16&&(s&4194240)!==0))return e;if(i&4&&(i|=r&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)r=31-jl(e),o=1<<r,i|=n[r],e&=~o;return i}function NZ(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kZ(n,e){for(var r=n.suspendedLanes,i=n.pingedLanes,o=n.expirationTimes,s=n.pendingLanes;0<s;){var l=31-jl(s),u=1<<l,c=o[l];c===-1?(!(u&r)||u&i)&&(o[l]=NZ(u,e)):c<=e&&(n.expiredLanes|=u),s&=~u}}function qM(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function PU(){var n=yb;return yb<<=1,!(yb&4194240)&&(yb=64),n}function t2(n){for(var e=[],r=0;31>r;r++)e.push(n);return e}function NA(n,e,r){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-jl(e),n[e]=r}function FZ(n,e){var r=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<r;){var o=31-jl(r),s=1<<o;e[o]=0,i[o]=-1,n[o]=-1,r&=~s}}function qR(n,e){var r=n.entangledLanes|=e;for(n=n.entanglements;r;){var i=31-jl(r),o=1<<i;o&e|n[i]&e&&(n[i]|=e),r&=~o}}var zi=0;function LU(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var BU,YR,OU,DU,NU,YM=!1,xb=[],Dd=null,Nd=null,kd=null,J0=new Map,Z0=new Map,Md=[],UZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ED(n,e){switch(n){case"focusin":case"focusout":Dd=null;break;case"dragenter":case"dragleave":Nd=null;break;case"mouseover":case"mouseout":kd=null;break;case"pointerover":case"pointerout":J0.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Z0.delete(e.pointerId)}}function xv(n,e,r,i,o,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:r,eventSystemFlags:i,nativeEvent:s,targetContainers:[o]},e!==null&&(e=FA(e),e!==null&&YR(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),n)}function zZ(n,e,r,i,o){switch(e){case"focusin":return Dd=xv(Dd,n,e,r,i,o),!0;case"dragenter":return Nd=xv(Nd,n,e,r,i,o),!0;case"mouseover":return kd=xv(kd,n,e,r,i,o),!0;case"pointerover":var s=o.pointerId;return J0.set(s,xv(J0.get(s)||null,n,e,r,i,o)),!0;case"gotpointercapture":return s=o.pointerId,Z0.set(s,xv(Z0.get(s)||null,n,e,r,i,o)),!0}return!1}function kU(n){var e=Kf(n.target);if(e!==null){var r=_h(e);if(r!==null){if(e=r.tag,e===13){if(e=SU(r),e!==null){n.blockedOn=e,NU(n.priority,function(){OU(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function G1(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var r=JM(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(r===null){r=n.nativeEvent;var i=new r.constructor(r.type,r);WM=i,r.target.dispatchEvent(i),WM=null}else return e=FA(r),e!==null&&YR(e),n.blockedOn=r,!1;e.shift()}return!0}function CD(n,e,r){G1(n)&&r.delete(e)}function $Z(){YM=!1,Dd!==null&&G1(Dd)&&(Dd=null),Nd!==null&&G1(Nd)&&(Nd=null),kd!==null&&G1(kd)&&(kd=null),J0.forEach(CD),Z0.forEach(CD)}function Ev(n,e){n.blockedOn===e&&(n.blockedOn=null,YM||(YM=!0,Ds.unstable_scheduleCallback(Ds.unstable_NormalPriority,$Z)))}function eA(n){function e(o){return Ev(o,n)}if(0<xb.length){Ev(xb[0],n);for(var r=1;r<xb.length;r++){var i=xb[r];i.blockedOn===n&&(i.blockedOn=null)}}for(Dd!==null&&Ev(Dd,n),Nd!==null&&Ev(Nd,n),kd!==null&&Ev(kd,n),J0.forEach(e),Z0.forEach(e),r=0;r<Md.length;r++)i=Md[r],i.blockedOn===n&&(i.blockedOn=null);for(;0<Md.length&&(r=Md[0],r.blockedOn===null);)kU(r),r.blockedOn===null&&Md.shift()}var Sm=zu.ReactCurrentBatchConfig,Sx=!0;function HZ(n,e,r,i){var o=zi,s=Sm.transition;Sm.transition=null;try{zi=1,JR(n,e,r,i)}finally{zi=o,Sm.transition=s}}function jZ(n,e,r,i){var o=zi,s=Sm.transition;Sm.transition=null;try{zi=4,JR(n,e,r,i)}finally{zi=o,Sm.transition=s}}function JR(n,e,r,i){if(Sx){var o=JM(n,e,r,i);if(o===null)d2(n,e,i,_x,r),ED(n,i);else if(zZ(o,n,e,r,i))i.stopPropagation();else if(ED(n,i),e&4&&-1<UZ.indexOf(n)){for(;o!==null;){var s=FA(o);if(s!==null&&BU(s),s=JM(n,e,r,i),s===null&&d2(n,e,i,_x,r),s===o)break;o=s}o!==null&&i.stopPropagation()}else d2(n,e,i,null,r)}}var _x=null;function JM(n,e,r,i){if(_x=null,n=KR(i),n=Kf(n),n!==null)if(e=_h(n),e===null)n=null;else if(r=e.tag,r===13){if(n=SU(e),n!==null)return n;n=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return _x=n,null}function FU(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IZ()){case XR:return 1;case RU:return 4;case Cx:case PZ:return 16;case IU:return 536870912;default:return 16}default:return 16}}var Rd=null,ZR=null,V1=null;function UU(){if(V1)return V1;var n,e=ZR,r=e.length,i,o="value"in Rd?Rd.value:Rd.textContent,s=o.length;for(n=0;n<r&&e[n]===o[n];n++);var l=r-n;for(i=1;i<=l&&e[r-i]===o[s-i];i++);return V1=o.slice(n,1<i?1-i:void 0)}function W1(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Eb(){return!0}function wD(){return!1}function Us(n){function e(r,i,o,s,l){this._reactName=r,this._targetInst=o,this.type=i,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var u in n)n.hasOwnProperty(u)&&(r=n[u],this[u]=r?r(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Eb:wD,this.isPropagationStopped=wD,this}return vo(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Eb)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Eb)},persist:function(){},isPersistent:Eb}),e}var pg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eI=Us(pg),kA=vo({},pg,{view:0,detail:0}),GZ=Us(kA),n2,r2,Cv,UE=vo({},kA,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tI,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Cv&&(Cv&&n.type==="mousemove"?(n2=n.screenX-Cv.screenX,r2=n.screenY-Cv.screenY):r2=n2=0,Cv=n),n2)},movementY:function(n){return"movementY"in n?n.movementY:r2}}),SD=Us(UE),VZ=vo({},UE,{dataTransfer:0}),WZ=Us(VZ),QZ=vo({},kA,{relatedTarget:0}),i2=Us(QZ),KZ=vo({},pg,{animationName:0,elapsedTime:0,pseudoElement:0}),XZ=Us(KZ),qZ=vo({},pg,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),YZ=Us(qZ),JZ=vo({},pg,{data:0}),_D=Us(JZ),ZZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eee={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nee(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=tee[n])?!!e[n]:!1}function tI(){return nee}var ree=vo({},kA,{key:function(n){if(n.key){var e=ZZ[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=W1(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?eee[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tI,charCode:function(n){return n.type==="keypress"?W1(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?W1(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),iee=Us(ree),oee=vo({},UE,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),MD=Us(oee),aee=vo({},kA,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tI}),see=Us(aee),lee=vo({},pg,{propertyName:0,elapsedTime:0,pseudoElement:0}),cee=Us(lee),uee=vo({},UE,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),dee=Us(uee),fee=[9,13,27,32],nI=_u&&"CompositionEvent"in window,C0=null;_u&&"documentMode"in document&&(C0=document.documentMode);var hee=_u&&"TextEvent"in window&&!C0,zU=_u&&(!nI||C0&&8<C0&&11>=C0),TD=String.fromCharCode(32),RD=!1;function $U(n,e){switch(n){case"keyup":return fee.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function HU(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var nm=!1;function pee(n,e){switch(n){case"compositionend":return HU(e);case"keypress":return e.which!==32?null:(RD=!0,TD);case"textInput":return n=e.data,n===TD&&RD?null:n;default:return null}}function mee(n,e){if(nm)return n==="compositionend"||!nI&&$U(n,e)?(n=UU(),V1=ZR=Rd=null,nm=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zU&&e.locale!=="ko"?null:e.data;default:return null}}var gee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ID(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!gee[n.type]:e==="textarea"}function jU(n,e,r,i){bU(i),e=Mx(e,"onChange"),0<e.length&&(r=new eI("onChange","change",null,r,i),n.push({event:r,listeners:e}))}var w0=null,tA=null;function vee(n){e7(n,0)}function zE(n){var e=om(n);if(hU(e))return n}function Aee(n,e){if(n==="change")return e}var GU=!1;if(_u){var o2;if(_u){var a2="oninput"in document;if(!a2){var PD=document.createElement("div");PD.setAttribute("oninput","return;"),a2=typeof PD.oninput=="function"}o2=a2}else o2=!1;GU=o2&&(!document.documentMode||9<document.documentMode)}function LD(){w0&&(w0.detachEvent("onpropertychange",VU),tA=w0=null)}function VU(n){if(n.propertyName==="value"&&zE(tA)){var e=[];jU(e,tA,n,KR(n)),wU(vee,e)}}function yee(n,e,r){n==="focusin"?(LD(),w0=e,tA=r,w0.attachEvent("onpropertychange",VU)):n==="focusout"&&LD()}function bee(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return zE(tA)}function xee(n,e){if(n==="click")return zE(e)}function Eee(n,e){if(n==="input"||n==="change")return zE(e)}function Cee(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Wl=typeof Object.is=="function"?Object.is:Cee;function nA(n,e){if(Wl(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var r=Object.keys(n),i=Object.keys(e);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var o=r[i];if(!OM.call(e,o)||!Wl(n[o],e[o]))return!1}return!0}function BD(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function OD(n,e){var r=BD(n);n=0;for(var i;r;){if(r.nodeType===3){if(i=n+r.textContent.length,n<=e&&i>=e)return{node:r,offset:e-n};n=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=BD(r)}}function WU(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?WU(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function QU(){for(var n=window,e=bx();e instanceof n.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)n=e.contentWindow;else break;e=bx(n.document)}return e}function rI(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function wee(n){var e=QU(),r=n.focusedElem,i=n.selectionRange;if(e!==r&&r&&r.ownerDocument&&WU(r.ownerDocument.documentElement,r)){if(i!==null&&rI(r)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(n,r.value.length);else if(n=(e=r.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var o=r.textContent.length,s=Math.min(i.start,o);i=i.end===void 0?s:Math.min(i.end,o),!n.extend&&s>i&&(o=i,i=s,s=o),o=OD(r,s);var l=OD(r,i);o&&l&&(n.rangeCount!==1||n.anchorNode!==o.node||n.anchorOffset!==o.offset||n.focusNode!==l.node||n.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),n.addRange(e)))}}for(e=[],n=r;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)n=e[r],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var See=_u&&"documentMode"in document&&11>=document.documentMode,rm=null,ZM=null,S0=null,eT=!1;function DD(n,e,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;eT||rm==null||rm!==bx(i)||(i=rm,"selectionStart"in i&&rI(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),S0&&nA(S0,i)||(S0=i,i=Mx(ZM,"onSelect"),0<i.length&&(e=new eI("onSelect","select",null,e,r),n.push({event:e,listeners:i}),e.target=rm)))}function Cb(n,e){var r={};return r[n.toLowerCase()]=e.toLowerCase(),r["Webkit"+n]="webkit"+e,r["Moz"+n]="moz"+e,r}var im={animationend:Cb("Animation","AnimationEnd"),animationiteration:Cb("Animation","AnimationIteration"),animationstart:Cb("Animation","AnimationStart"),transitionend:Cb("Transition","TransitionEnd")},s2={},KU={};_u&&(KU=document.createElement("div").style,"AnimationEvent"in window||(delete im.animationend.animation,delete im.animationiteration.animation,delete im.animationstart.animation),"TransitionEvent"in window||delete im.transitionend.transition);function $E(n){if(s2[n])return s2[n];if(!im[n])return n;var e=im[n],r;for(r in e)if(e.hasOwnProperty(r)&&r in KU)return s2[n]=e[r];return n}var XU=$E("animationend"),qU=$E("animationiteration"),YU=$E("animationstart"),JU=$E("transitionend"),ZU=new Map,ND="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yd(n,e){ZU.set(n,e),Sh(e,[n])}for(var l2=0;l2<ND.length;l2++){var c2=ND[l2],_ee=c2.toLowerCase(),Mee=c2[0].toUpperCase()+c2.slice(1);Yd(_ee,"on"+Mee)}Yd(XU,"onAnimationEnd");Yd(qU,"onAnimationIteration");Yd(YU,"onAnimationStart");Yd("dblclick","onDoubleClick");Yd("focusin","onFocus");Yd("focusout","onBlur");Yd(JU,"onTransitionEnd");zm("onMouseEnter",["mouseout","mouseover"]);zm("onMouseLeave",["mouseout","mouseover"]);zm("onPointerEnter",["pointerout","pointerover"]);zm("onPointerLeave",["pointerout","pointerover"]);Sh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var u0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tee=new Set("cancel close invalid load scroll toggle".split(" ").concat(u0));function kD(n,e,r){var i=n.type||"unknown-event";n.currentTarget=r,_Z(i,e,void 0,n),n.currentTarget=null}function e7(n,e){e=(e&4)!==0;for(var r=0;r<n.length;r++){var i=n[r],o=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var l=i.length-1;0<=l;l--){var u=i[l],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==s&&o.isPropagationStopped())break e;kD(o,u,d),s=c}else for(l=0;l<i.length;l++){if(u=i[l],c=u.instance,d=u.currentTarget,u=u.listener,c!==s&&o.isPropagationStopped())break e;kD(o,u,d),s=c}}}if(Ex)throw n=XM,Ex=!1,XM=null,n}function Ji(n,e){var r=e[oT];r===void 0&&(r=e[oT]=new Set);var i=n+"__bubble";r.has(i)||(t7(e,n,2,!1),r.add(i))}function u2(n,e,r){var i=0;e&&(i|=4),t7(r,n,i,e)}var wb="_reactListening"+Math.random().toString(36).slice(2);function rA(n){if(!n[wb]){n[wb]=!0,lU.forEach(function(r){r!=="selectionchange"&&(Tee.has(r)||u2(r,!1,n),u2(r,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[wb]||(e[wb]=!0,u2("selectionchange",!1,e))}}function t7(n,e,r,i){switch(FU(e)){case 1:var o=HZ;break;case 4:o=jZ;break;default:o=JR}r=o.bind(null,e,r,n),o=void 0,!KM||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),i?o!==void 0?n.addEventListener(e,r,{capture:!0,passive:o}):n.addEventListener(e,r,!0):o!==void 0?n.addEventListener(e,r,{passive:o}):n.addEventListener(e,r,!1)}function d2(n,e,r,i,o){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var l=i.tag;if(l===3||l===4){var u=i.stateNode.containerInfo;if(u===o||u.nodeType===8&&u.parentNode===o)break;if(l===4)for(l=i.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;l=l.return}for(;u!==null;){if(l=Kf(u),l===null)return;if(c=l.tag,c===5||c===6){i=s=l;continue e}u=u.parentNode}}i=i.return}wU(function(){var d=s,h=KR(r),p=[];e:{var m=ZU.get(n);if(m!==void 0){var v=eI,y=n;switch(n){case"keypress":if(W1(r)===0)break e;case"keydown":case"keyup":v=iee;break;case"focusin":y="focus",v=i2;break;case"focusout":y="blur",v=i2;break;case"beforeblur":case"afterblur":v=i2;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=SD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=WZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=see;break;case XU:case qU:case YU:v=XZ;break;case JU:v=cee;break;case"scroll":v=GZ;break;case"wheel":v=dee;break;case"copy":case"cut":case"paste":v=YZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=MD}var A=(e&4)!==0,b=!A&&n==="scroll",g=A?m!==null?m+"Capture":null:m;A=[];for(var w=d,E;w!==null;){E=w;var C=E.stateNode;if(E.tag===5&&C!==null&&(E=C,g!==null&&(C=Y0(w,g),C!=null&&A.push(iA(w,C,E)))),b)break;w=w.return}0<A.length&&(m=new v(m,y,null,r,h),p.push({event:m,listeners:A}))}}if(!(e&7)){e:{if(m=n==="mouseover"||n==="pointerover",v=n==="mouseout"||n==="pointerout",m&&r!==WM&&(y=r.relatedTarget||r.fromElement)&&(Kf(y)||y[Mu]))break e;if((v||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,v?(y=r.relatedTarget||r.toElement,v=d,y=y?Kf(y):null,y!==null&&(b=_h(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=d),v!==y)){if(A=SD,C="onMouseLeave",g="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(A=MD,C="onPointerLeave",g="onPointerEnter",w="pointer"),b=v==null?m:om(v),E=y==null?m:om(y),m=new A(C,w+"leave",v,r,h),m.target=b,m.relatedTarget=E,C=null,Kf(h)===d&&(A=new A(g,w+"enter",y,r,h),A.target=E,A.relatedTarget=b,C=A),b=C,v&&y)t:{for(A=v,g=y,w=0,E=A;E;E=dp(E))w++;for(E=0,C=g;C;C=dp(C))E++;for(;0<w-E;)A=dp(A),w--;for(;0<E-w;)g=dp(g),E--;for(;w--;){if(A===g||g!==null&&A===g.alternate)break t;A=dp(A),g=dp(g)}A=null}else A=null;v!==null&&FD(p,m,v,A,!1),y!==null&&b!==null&&FD(p,b,y,A,!0)}}e:{if(m=d?om(d):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var _=Aee;else if(ID(m))if(GU)_=Eee;else{_=bee;var P=yee}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(_=xee);if(_&&(_=_(n,d))){jU(p,_,r,h);break e}P&&P(n,m,d),n==="focusout"&&(P=m._wrapperState)&&P.controlled&&m.type==="number"&&$M(m,"number",m.value)}switch(P=d?om(d):window,n){case"focusin":(ID(P)||P.contentEditable==="true")&&(rm=P,ZM=d,S0=null);break;case"focusout":S0=ZM=rm=null;break;case"mousedown":eT=!0;break;case"contextmenu":case"mouseup":case"dragend":eT=!1,DD(p,r,h);break;case"selectionchange":if(See)break;case"keydown":case"keyup":DD(p,r,h)}var R;if(nI)e:{switch(n){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else nm?$U(n,r)&&(L="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(L="onCompositionStart");L&&(zU&&r.locale!=="ko"&&(nm||L!=="onCompositionStart"?L==="onCompositionEnd"&&nm&&(R=UU()):(Rd=h,ZR="value"in Rd?Rd.value:Rd.textContent,nm=!0)),P=Mx(d,L),0<P.length&&(L=new _D(L,n,null,r,h),p.push({event:L,listeners:P}),R?L.data=R:(R=HU(r),R!==null&&(L.data=R)))),(R=hee?pee(n,r):mee(n,r))&&(d=Mx(d,"onBeforeInput"),0<d.length&&(h=new _D("onBeforeInput","beforeinput",null,r,h),p.push({event:h,listeners:d}),h.data=R))}e7(p,e)})}function iA(n,e,r){return{instance:n,listener:e,currentTarget:r}}function Mx(n,e){for(var r=e+"Capture",i=[];n!==null;){var o=n,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=Y0(n,r),s!=null&&i.unshift(iA(n,s,o)),s=Y0(n,e),s!=null&&i.push(iA(n,s,o))),n=n.return}return i}function dp(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function FD(n,e,r,i,o){for(var s=e._reactName,l=[];r!==null&&r!==i;){var u=r,c=u.alternate,d=u.stateNode;if(c!==null&&c===i)break;u.tag===5&&d!==null&&(u=d,o?(c=Y0(r,s),c!=null&&l.unshift(iA(r,c,u))):o||(c=Y0(r,s),c!=null&&l.push(iA(r,c,u)))),r=r.return}l.length!==0&&n.push({event:e,listeners:l})}var Ree=/\r\n?/g,Iee=/\u0000|\uFFFD/g;function UD(n){return(typeof n=="string"?n:""+n).replace(Ree,`
`).replace(Iee,"")}function Sb(n,e,r){if(e=UD(e),UD(n)!==e&&r)throw Error(Un(425))}function Tx(){}var tT=null,nT=null;function rT(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var iT=typeof setTimeout=="function"?setTimeout:void 0,Pee=typeof clearTimeout=="function"?clearTimeout:void 0,zD=typeof Promise=="function"?Promise:void 0,Lee=typeof queueMicrotask=="function"?queueMicrotask:typeof zD<"u"?function(n){return zD.resolve(null).then(n).catch(Bee)}:iT;function Bee(n){setTimeout(function(){throw n})}function f2(n,e){var r=e,i=0;do{var o=r.nextSibling;if(n.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(i===0){n.removeChild(o),eA(e);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=o}while(r);eA(e)}function Fd(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function $D(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return n;e--}else r==="/$"&&e++}n=n.previousSibling}return null}var mg=Math.random().toString(36).slice(2),pc="__reactFiber$"+mg,oA="__reactProps$"+mg,Mu="__reactContainer$"+mg,oT="__reactEvents$"+mg,Oee="__reactListeners$"+mg,Dee="__reactHandles$"+mg;function Kf(n){var e=n[pc];if(e)return e;for(var r=n.parentNode;r;){if(e=r[Mu]||r[pc]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(n=$D(n);n!==null;){if(r=n[pc])return r;n=$D(n)}return e}n=r,r=n.parentNode}return null}function FA(n){return n=n[pc]||n[Mu],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function om(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Un(33))}function HE(n){return n[oA]||null}var aT=[],am=-1;function Jd(n){return{current:n}}function to(n){0>am||(n.current=aT[am],aT[am]=null,am--)}function qi(n,e){am++,aT[am]=n.current,n.current=e}var Wd={},La=Jd(Wd),ss=Jd(!1),gh=Wd;function $m(n,e){var r=n.type.contextTypes;if(!r)return Wd;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in r)o[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=o),o}function ls(n){return n=n.childContextTypes,n!=null}function Rx(){to(ss),to(La)}function HD(n,e,r){if(La.current!==Wd)throw Error(Un(168));qi(La,e),qi(ss,r)}function n7(n,e,r){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var o in i)if(!(o in e))throw Error(Un(108,yZ(n)||"Unknown",o));return vo({},r,i)}function Ix(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Wd,gh=La.current,qi(La,n),qi(ss,ss.current),!0}function jD(n,e,r){var i=n.stateNode;if(!i)throw Error(Un(169));r?(n=n7(n,e,gh),i.__reactInternalMemoizedMergedChildContext=n,to(ss),to(La),qi(La,n)):to(ss),qi(ss,r)}var fu=null,jE=!1,h2=!1;function r7(n){fu===null?fu=[n]:fu.push(n)}function Nee(n){jE=!0,r7(n)}function Zd(){if(!h2&&fu!==null){h2=!0;var n=0,e=zi;try{var r=fu;for(zi=1;n<r.length;n++){var i=r[n];do i=i(!0);while(i!==null)}fu=null,jE=!1}catch(o){throw fu!==null&&(fu=fu.slice(n+1)),TU(XR,Zd),o}finally{zi=e,h2=!1}}return null}var sm=[],lm=0,Px=null,Lx=0,el=[],tl=0,vh=null,gu=1,vu="";function kf(n,e){sm[lm++]=Lx,sm[lm++]=Px,Px=n,Lx=e}function i7(n,e,r){el[tl++]=gu,el[tl++]=vu,el[tl++]=vh,vh=n;var i=gu;n=vu;var o=32-jl(i)-1;i&=~(1<<o),r+=1;var s=32-jl(e)+o;if(30<s){var l=o-o%5;s=(i&(1<<l)-1).toString(32),i>>=l,o-=l,gu=1<<32-jl(e)+o|r<<o|i,vu=s+n}else gu=1<<s|r<<o|i,vu=n}function iI(n){n.return!==null&&(kf(n,1),i7(n,1,0))}function oI(n){for(;n===Px;)Px=sm[--lm],sm[lm]=null,Lx=sm[--lm],sm[lm]=null;for(;n===vh;)vh=el[--tl],el[tl]=null,vu=el[--tl],el[tl]=null,gu=el[--tl],el[tl]=null}var Os=null,Ps=null,so=!1,Nl=null;function o7(n,e){var r=al(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=n,e=n.deletions,e===null?(n.deletions=[r],n.flags|=16):e.push(r)}function GD(n,e){switch(n.tag){case 5:var r=n.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Os=n,Ps=Fd(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Os=n,Ps=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=vh!==null?{id:gu,overflow:vu}:null,n.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=al(18,null,null,0),r.stateNode=e,r.return=n,n.child=r,Os=n,Ps=null,!0):!1;default:return!1}}function sT(n){return(n.mode&1)!==0&&(n.flags&128)===0}function lT(n){if(so){var e=Ps;if(e){var r=e;if(!GD(n,e)){if(sT(n))throw Error(Un(418));e=Fd(r.nextSibling);var i=Os;e&&GD(n,e)?o7(i,r):(n.flags=n.flags&-4097|2,so=!1,Os=n)}}else{if(sT(n))throw Error(Un(418));n.flags=n.flags&-4097|2,so=!1,Os=n}}}function VD(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Os=n}function _b(n){if(n!==Os)return!1;if(!so)return VD(n),so=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!rT(n.type,n.memoizedProps)),e&&(e=Ps)){if(sT(n))throw a7(),Error(Un(418));for(;e;)o7(n,e),e=Fd(e.nextSibling)}if(VD(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Un(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var r=n.data;if(r==="/$"){if(e===0){Ps=Fd(n.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}n=n.nextSibling}Ps=null}}else Ps=Os?Fd(n.stateNode.nextSibling):null;return!0}function a7(){for(var n=Ps;n;)n=Fd(n.nextSibling)}function Hm(){Ps=Os=null,so=!1}function aI(n){Nl===null?Nl=[n]:Nl.push(n)}var kee=zu.ReactCurrentBatchConfig;function Il(n,e){if(n&&n.defaultProps){e=vo({},e),n=n.defaultProps;for(var r in n)e[r]===void 0&&(e[r]=n[r]);return e}return e}var Bx=Jd(null),Ox=null,cm=null,sI=null;function lI(){sI=cm=Ox=null}function cI(n){var e=Bx.current;to(Bx),n._currentValue=e}function cT(n,e,r){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===r)break;n=n.return}}function _m(n,e){Ox=n,sI=cm=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(os=!0),n.firstContext=null)}function cl(n){var e=n._currentValue;if(sI!==n)if(n={context:n,memoizedValue:e,next:null},cm===null){if(Ox===null)throw Error(Un(308));cm=n,Ox.dependencies={lanes:0,firstContext:n}}else cm=cm.next=n;return e}var Xf=null;function uI(n){Xf===null?Xf=[n]:Xf.push(n)}function s7(n,e,r,i){var o=e.interleaved;return o===null?(r.next=r,uI(e)):(r.next=o.next,o.next=r),e.interleaved=r,Tu(n,i)}function Tu(n,e){n.lanes|=e;var r=n.alternate;for(r!==null&&(r.lanes|=e),r=n,n=n.return;n!==null;)n.childLanes|=e,r=n.alternate,r!==null&&(r.childLanes|=e),r=n,n=n.return;return r.tag===3?r.stateNode:null}var Cd=!1;function dI(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function l7(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function xu(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Ud(n,e,r){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Ri&2){var o=i.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),i.pending=e,Tu(n,r)}return o=i.interleaved,o===null?(e.next=e,uI(i)):(e.next=o.next,o.next=e),i.interleaved=e,Tu(n,r)}function Q1(n,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,r|=i,e.lanes=r,qR(n,r)}}function WD(n,e){var r=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var o=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?o=s=l:s=s.next=l,r=r.next}while(r!==null);s===null?o=s=e:s=s.next=e}else o=s=e;r={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=e:n.next=e,r.lastBaseUpdate=e}function Dx(n,e,r,i){var o=n.updateQueue;Cd=!1;var s=o.firstBaseUpdate,l=o.lastBaseUpdate,u=o.shared.pending;if(u!==null){o.shared.pending=null;var c=u,d=c.next;c.next=null,l===null?s=d:l.next=d,l=c;var h=n.alternate;h!==null&&(h=h.updateQueue,u=h.lastBaseUpdate,u!==l&&(u===null?h.firstBaseUpdate=d:u.next=d,h.lastBaseUpdate=c))}if(s!==null){var p=o.baseState;l=0,h=d=c=null,u=s;do{var m=u.lane,v=u.eventTime;if((i&m)===m){h!==null&&(h=h.next={eventTime:v,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var y=n,A=u;switch(m=e,v=r,A.tag){case 1:if(y=A.payload,typeof y=="function"){p=y.call(v,p,m);break e}p=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=A.payload,m=typeof y=="function"?y.call(v,p,m):y,m==null)break e;p=vo({},p,m);break e;case 2:Cd=!0}}u.callback!==null&&u.lane!==0&&(n.flags|=64,m=o.effects,m===null?o.effects=[u]:m.push(u))}else v={eventTime:v,lane:m,tag:u.tag,payload:u.payload,callback:u.callback,next:null},h===null?(d=h=v,c=p):h=h.next=v,l|=m;if(u=u.next,u===null){if(u=o.shared.pending,u===null)break;m=u,u=m.next,m.next=null,o.lastBaseUpdate=m,o.shared.pending=null}}while(1);if(h===null&&(c=p),o.baseState=c,o.firstBaseUpdate=d,o.lastBaseUpdate=h,e=o.shared.interleaved,e!==null){o=e;do l|=o.lane,o=o.next;while(o!==e)}else s===null&&(o.shared.lanes=0);yh|=l,n.lanes=l,n.memoizedState=p}}function QD(n,e,r){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],o=i.callback;if(o!==null){if(i.callback=null,i=r,typeof o!="function")throw Error(Un(191,o));o.call(i)}}}var c7=new sU.Component().refs;function uT(n,e,r,i){e=n.memoizedState,r=r(i,e),r=r==null?e:vo({},e,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var GE={isMounted:function(n){return(n=n._reactInternals)?_h(n)===n:!1},enqueueSetState:function(n,e,r){n=n._reactInternals;var i=Wa(),o=$d(n),s=xu(i,o);s.payload=e,r!=null&&(s.callback=r),e=Ud(n,s,o),e!==null&&(Gl(e,n,o,i),Q1(e,n,o))},enqueueReplaceState:function(n,e,r){n=n._reactInternals;var i=Wa(),o=$d(n),s=xu(i,o);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Ud(n,s,o),e!==null&&(Gl(e,n,o,i),Q1(e,n,o))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var r=Wa(),i=$d(n),o=xu(r,i);o.tag=2,e!=null&&(o.callback=e),e=Ud(n,o,i),e!==null&&(Gl(e,n,i,r),Q1(e,n,i))}};function KD(n,e,r,i,o,s,l){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,l):e.prototype&&e.prototype.isPureReactComponent?!nA(r,i)||!nA(o,s):!0}function u7(n,e,r){var i=!1,o=Wd,s=e.contextType;return typeof s=="object"&&s!==null?s=cl(s):(o=ls(e)?gh:La.current,i=e.contextTypes,s=(i=i!=null)?$m(n,o):Wd),e=new e(r,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=GE,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=o,n.__reactInternalMemoizedMaskedChildContext=s),e}function XD(n,e,r,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,i),e.state!==n&&GE.enqueueReplaceState(e,e.state,null)}function dT(n,e,r,i){var o=n.stateNode;o.props=r,o.state=n.memoizedState,o.refs=c7,dI(n);var s=e.contextType;typeof s=="object"&&s!==null?o.context=cl(s):(s=ls(e)?gh:La.current,o.context=$m(n,s)),o.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(uT(n,e,s,r),o.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&GE.enqueueReplaceState(o,o.state,null),Dx(n,r,o,i),o.state=n.memoizedState),typeof o.componentDidMount=="function"&&(n.flags|=4194308)}function wv(n,e,r){if(n=r.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Un(309));var i=r.stateNode}if(!i)throw Error(Un(147,n));var o=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(l){var u=o.refs;u===c7&&(u=o.refs={}),l===null?delete u[s]:u[s]=l},e._stringRef=s,e)}if(typeof n!="string")throw Error(Un(284));if(!r._owner)throw Error(Un(290,n))}return n}function Mb(n,e){throw n=Object.prototype.toString.call(e),Error(Un(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function qD(n){var e=n._init;return e(n._payload)}function d7(n){function e(g,w){if(n){var E=g.deletions;E===null?(g.deletions=[w],g.flags|=16):E.push(w)}}function r(g,w){if(!n)return null;for(;w!==null;)e(g,w),w=w.sibling;return null}function i(g,w){for(g=new Map;w!==null;)w.key!==null?g.set(w.key,w):g.set(w.index,w),w=w.sibling;return g}function o(g,w){return g=Hd(g,w),g.index=0,g.sibling=null,g}function s(g,w,E){return g.index=E,n?(E=g.alternate,E!==null?(E=E.index,E<w?(g.flags|=2,w):E):(g.flags|=2,w)):(g.flags|=1048576,w)}function l(g){return n&&g.alternate===null&&(g.flags|=2),g}function u(g,w,E,C){return w===null||w.tag!==6?(w=b2(E,g.mode,C),w.return=g,w):(w=o(w,E),w.return=g,w)}function c(g,w,E,C){var _=E.type;return _===tm?h(g,w,E.props.children,C,E.key):w!==null&&(w.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ed&&qD(_)===w.type)?(C=o(w,E.props),C.ref=wv(g,w,E),C.return=g,C):(C=Z1(E.type,E.key,E.props,null,g.mode,C),C.ref=wv(g,w,E),C.return=g,C)}function d(g,w,E,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==E.containerInfo||w.stateNode.implementation!==E.implementation?(w=x2(E,g.mode,C),w.return=g,w):(w=o(w,E.children||[]),w.return=g,w)}function h(g,w,E,C,_){return w===null||w.tag!==7?(w=ah(E,g.mode,C,_),w.return=g,w):(w=o(w,E),w.return=g,w)}function p(g,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return w=b2(""+w,g.mode,E),w.return=g,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case gb:return E=Z1(w.type,w.key,w.props,null,g.mode,E),E.ref=wv(g,null,w),E.return=g,E;case em:return w=x2(w,g.mode,E),w.return=g,w;case Ed:var C=w._init;return p(g,C(w._payload),E)}if(l0(w)||yv(w))return w=ah(w,g.mode,E,null),w.return=g,w;Mb(g,w)}return null}function m(g,w,E,C){var _=w!==null?w.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return _!==null?null:u(g,w,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case gb:return E.key===_?c(g,w,E,C):null;case em:return E.key===_?d(g,w,E,C):null;case Ed:return _=E._init,m(g,w,_(E._payload),C)}if(l0(E)||yv(E))return _!==null?null:h(g,w,E,C,null);Mb(g,E)}return null}function v(g,w,E,C,_){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(E)||null,u(w,g,""+C,_);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case gb:return g=g.get(C.key===null?E:C.key)||null,c(w,g,C,_);case em:return g=g.get(C.key===null?E:C.key)||null,d(w,g,C,_);case Ed:var P=C._init;return v(g,w,E,P(C._payload),_)}if(l0(C)||yv(C))return g=g.get(E)||null,h(w,g,C,_,null);Mb(w,C)}return null}function y(g,w,E,C){for(var _=null,P=null,R=w,L=w=0,T=null;R!==null&&L<E.length;L++){R.index>L?(T=R,R=null):T=R.sibling;var D=m(g,R,E[L],C);if(D===null){R===null&&(R=T);break}n&&R&&D.alternate===null&&e(g,R),w=s(D,w,L),P===null?_=D:P.sibling=D,P=D,R=T}if(L===E.length)return r(g,R),so&&kf(g,L),_;if(R===null){for(;L<E.length;L++)R=p(g,E[L],C),R!==null&&(w=s(R,w,L),P===null?_=R:P.sibling=R,P=R);return so&&kf(g,L),_}for(R=i(g,R);L<E.length;L++)T=v(R,g,L,E[L],C),T!==null&&(n&&T.alternate!==null&&R.delete(T.key===null?L:T.key),w=s(T,w,L),P===null?_=T:P.sibling=T,P=T);return n&&R.forEach(function(H){return e(g,H)}),so&&kf(g,L),_}function A(g,w,E,C){var _=yv(E);if(typeof _!="function")throw Error(Un(150));if(E=_.call(E),E==null)throw Error(Un(151));for(var P=_=null,R=w,L=w=0,T=null,D=E.next();R!==null&&!D.done;L++,D=E.next()){R.index>L?(T=R,R=null):T=R.sibling;var H=m(g,R,D.value,C);if(H===null){R===null&&(R=T);break}n&&R&&H.alternate===null&&e(g,R),w=s(H,w,L),P===null?_=H:P.sibling=H,P=H,R=T}if(D.done)return r(g,R),so&&kf(g,L),_;if(R===null){for(;!D.done;L++,D=E.next())D=p(g,D.value,C),D!==null&&(w=s(D,w,L),P===null?_=D:P.sibling=D,P=D);return so&&kf(g,L),_}for(R=i(g,R);!D.done;L++,D=E.next())D=v(R,g,L,D.value,C),D!==null&&(n&&D.alternate!==null&&R.delete(D.key===null?L:D.key),w=s(D,w,L),P===null?_=D:P.sibling=D,P=D);return n&&R.forEach(function(V){return e(g,V)}),so&&kf(g,L),_}function b(g,w,E,C){if(typeof E=="object"&&E!==null&&E.type===tm&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case gb:e:{for(var _=E.key,P=w;P!==null;){if(P.key===_){if(_=E.type,_===tm){if(P.tag===7){r(g,P.sibling),w=o(P,E.props.children),w.return=g,g=w;break e}}else if(P.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ed&&qD(_)===P.type){r(g,P.sibling),w=o(P,E.props),w.ref=wv(g,P,E),w.return=g,g=w;break e}r(g,P);break}else e(g,P);P=P.sibling}E.type===tm?(w=ah(E.props.children,g.mode,C,E.key),w.return=g,g=w):(C=Z1(E.type,E.key,E.props,null,g.mode,C),C.ref=wv(g,w,E),C.return=g,g=C)}return l(g);case em:e:{for(P=E.key;w!==null;){if(w.key===P)if(w.tag===4&&w.stateNode.containerInfo===E.containerInfo&&w.stateNode.implementation===E.implementation){r(g,w.sibling),w=o(w,E.children||[]),w.return=g,g=w;break e}else{r(g,w);break}else e(g,w);w=w.sibling}w=x2(E,g.mode,C),w.return=g,g=w}return l(g);case Ed:return P=E._init,b(g,w,P(E._payload),C)}if(l0(E))return y(g,w,E,C);if(yv(E))return A(g,w,E,C);Mb(g,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,w!==null&&w.tag===6?(r(g,w.sibling),w=o(w,E),w.return=g,g=w):(r(g,w),w=b2(E,g.mode,C),w.return=g,g=w),l(g)):r(g,w)}return b}var jm=d7(!0),f7=d7(!1),UA={},vc=Jd(UA),aA=Jd(UA),sA=Jd(UA);function qf(n){if(n===UA)throw Error(Un(174));return n}function fI(n,e){switch(qi(sA,e),qi(aA,n),qi(vc,UA),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jM(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=jM(e,n)}to(vc),qi(vc,e)}function Gm(){to(vc),to(aA),to(sA)}function h7(n){qf(sA.current);var e=qf(vc.current),r=jM(e,n.type);e!==r&&(qi(aA,n),qi(vc,r))}function hI(n){aA.current===n&&(to(vc),to(aA))}var mo=Jd(0);function Nx(n){for(var e=n;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var p2=[];function pI(){for(var n=0;n<p2.length;n++)p2[n]._workInProgressVersionPrimary=null;p2.length=0}var K1=zu.ReactCurrentDispatcher,m2=zu.ReactCurrentBatchConfig,Ah=0,go=null,jo=null,ra=null,kx=!1,_0=!1,lA=0,Fee=0;function Sa(){throw Error(Un(321))}function mI(n,e){if(e===null)return!1;for(var r=0;r<e.length&&r<n.length;r++)if(!Wl(n[r],e[r]))return!1;return!0}function gI(n,e,r,i,o,s){if(Ah=s,go=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,K1.current=n===null||n.memoizedState===null?Hee:jee,n=r(i,o),_0){s=0;do{if(_0=!1,lA=0,25<=s)throw Error(Un(301));s+=1,ra=jo=null,e.updateQueue=null,K1.current=Gee,n=r(i,o)}while(_0)}if(K1.current=Fx,e=jo!==null&&jo.next!==null,Ah=0,ra=jo=go=null,kx=!1,e)throw Error(Un(300));return n}function vI(){var n=lA!==0;return lA=0,n}function uc(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ra===null?go.memoizedState=ra=n:ra=ra.next=n,ra}function ul(){if(jo===null){var n=go.alternate;n=n!==null?n.memoizedState:null}else n=jo.next;var e=ra===null?go.memoizedState:ra.next;if(e!==null)ra=e,jo=n;else{if(n===null)throw Error(Un(310));jo=n,n={memoizedState:jo.memoizedState,baseState:jo.baseState,baseQueue:jo.baseQueue,queue:jo.queue,next:null},ra===null?go.memoizedState=ra=n:ra=ra.next=n}return ra}function cA(n,e){return typeof e=="function"?e(n):e}function g2(n){var e=ul(),r=e.queue;if(r===null)throw Error(Un(311));r.lastRenderedReducer=n;var i=jo,o=i.baseQueue,s=r.pending;if(s!==null){if(o!==null){var l=o.next;o.next=s.next,s.next=l}i.baseQueue=o=s,r.pending=null}if(o!==null){s=o.next,i=i.baseState;var u=l=null,c=null,d=s;do{var h=d.lane;if((Ah&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:n(i,d.action);else{var p={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=p,l=i):c=c.next=p,go.lanes|=h,yh|=h}d=d.next}while(d!==null&&d!==s);c===null?l=i:c.next=u,Wl(i,e.memoizedState)||(os=!0),e.memoizedState=i,e.baseState=l,e.baseQueue=c,r.lastRenderedState=i}if(n=r.interleaved,n!==null){o=n;do s=o.lane,go.lanes|=s,yh|=s,o=o.next;while(o!==n)}else o===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function v2(n){var e=ul(),r=e.queue;if(r===null)throw Error(Un(311));r.lastRenderedReducer=n;var i=r.dispatch,o=r.pending,s=e.memoizedState;if(o!==null){r.pending=null;var l=o=o.next;do s=n(s,l.action),l=l.next;while(l!==o);Wl(s,e.memoizedState)||(os=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,i]}function p7(){}function m7(n,e){var r=go,i=ul(),o=e(),s=!Wl(i.memoizedState,o);if(s&&(i.memoizedState=o,os=!0),i=i.queue,AI(A7.bind(null,r,i,n),[n]),i.getSnapshot!==e||s||ra!==null&&ra.memoizedState.tag&1){if(r.flags|=2048,uA(9,v7.bind(null,r,i,o,e),void 0,null),aa===null)throw Error(Un(349));Ah&30||g7(r,e,o)}return o}function g7(n,e,r){n.flags|=16384,n={getSnapshot:e,value:r},e=go.updateQueue,e===null?(e={lastEffect:null,stores:null},go.updateQueue=e,e.stores=[n]):(r=e.stores,r===null?e.stores=[n]:r.push(n))}function v7(n,e,r,i){e.value=r,e.getSnapshot=i,y7(e)&&b7(n)}function A7(n,e,r){return r(function(){y7(e)&&b7(n)})}function y7(n){var e=n.getSnapshot;n=n.value;try{var r=e();return!Wl(n,r)}catch{return!0}}function b7(n){var e=Tu(n,1);e!==null&&Gl(e,n,1,-1)}function YD(n){var e=uc();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cA,lastRenderedState:n},e.queue=n,n=n.dispatch=$ee.bind(null,go,n),[e.memoizedState,n]}function uA(n,e,r,i){return n={tag:n,create:e,destroy:r,deps:i,next:null},e=go.updateQueue,e===null?(e={lastEffect:null,stores:null},go.updateQueue=e,e.lastEffect=n.next=n):(r=e.lastEffect,r===null?e.lastEffect=n.next=n:(i=r.next,r.next=n,n.next=i,e.lastEffect=n)),n}function x7(){return ul().memoizedState}function X1(n,e,r,i){var o=uc();go.flags|=n,o.memoizedState=uA(1|e,r,void 0,i===void 0?null:i)}function VE(n,e,r,i){var o=ul();i=i===void 0?null:i;var s=void 0;if(jo!==null){var l=jo.memoizedState;if(s=l.destroy,i!==null&&mI(i,l.deps)){o.memoizedState=uA(e,r,s,i);return}}go.flags|=n,o.memoizedState=uA(1|e,r,s,i)}function JD(n,e){return X1(8390656,8,n,e)}function AI(n,e){return VE(2048,8,n,e)}function E7(n,e){return VE(4,2,n,e)}function C7(n,e){return VE(4,4,n,e)}function w7(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function S7(n,e,r){return r=r!=null?r.concat([n]):null,VE(4,4,w7.bind(null,e,n),r)}function yI(){}function _7(n,e){var r=ul();e=e===void 0?null:e;var i=r.memoizedState;return i!==null&&e!==null&&mI(e,i[1])?i[0]:(r.memoizedState=[n,e],n)}function M7(n,e){var r=ul();e=e===void 0?null:e;var i=r.memoizedState;return i!==null&&e!==null&&mI(e,i[1])?i[0]:(n=n(),r.memoizedState=[n,e],n)}function T7(n,e,r){return Ah&21?(Wl(r,e)||(r=PU(),go.lanes|=r,yh|=r,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,os=!0),n.memoizedState=r)}function Uee(n,e){var r=zi;zi=r!==0&&4>r?r:4,n(!0);var i=m2.transition;m2.transition={};try{n(!1),e()}finally{zi=r,m2.transition=i}}function R7(){return ul().memoizedState}function zee(n,e,r){var i=$d(n);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},I7(n))P7(e,r);else if(r=s7(n,e,r,i),r!==null){var o=Wa();Gl(r,n,i,o),L7(r,e,i)}}function $ee(n,e,r){var i=$d(n),o={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(I7(n))P7(e,o);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var l=e.lastRenderedState,u=s(l,r);if(o.hasEagerState=!0,o.eagerState=u,Wl(u,l)){var c=e.interleaved;c===null?(o.next=o,uI(e)):(o.next=c.next,c.next=o),e.interleaved=o;return}}catch{}finally{}r=s7(n,e,o,i),r!==null&&(o=Wa(),Gl(r,n,i,o),L7(r,e,i))}}function I7(n){var e=n.alternate;return n===go||e!==null&&e===go}function P7(n,e){_0=kx=!0;var r=n.pending;r===null?e.next=e:(e.next=r.next,r.next=e),n.pending=e}function L7(n,e,r){if(r&4194240){var i=e.lanes;i&=n.pendingLanes,r|=i,e.lanes=r,qR(n,r)}}var Fx={readContext:cl,useCallback:Sa,useContext:Sa,useEffect:Sa,useImperativeHandle:Sa,useInsertionEffect:Sa,useLayoutEffect:Sa,useMemo:Sa,useReducer:Sa,useRef:Sa,useState:Sa,useDebugValue:Sa,useDeferredValue:Sa,useTransition:Sa,useMutableSource:Sa,useSyncExternalStore:Sa,useId:Sa,unstable_isNewReconciler:!1},Hee={readContext:cl,useCallback:function(n,e){return uc().memoizedState=[n,e===void 0?null:e],n},useContext:cl,useEffect:JD,useImperativeHandle:function(n,e,r){return r=r!=null?r.concat([n]):null,X1(4194308,4,w7.bind(null,e,n),r)},useLayoutEffect:function(n,e){return X1(4194308,4,n,e)},useInsertionEffect:function(n,e){return X1(4,2,n,e)},useMemo:function(n,e){var r=uc();return e=e===void 0?null:e,n=n(),r.memoizedState=[n,e],n},useReducer:function(n,e,r){var i=uc();return e=r!==void 0?r(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=zee.bind(null,go,n),[i.memoizedState,n]},useRef:function(n){var e=uc();return n={current:n},e.memoizedState=n},useState:YD,useDebugValue:yI,useDeferredValue:function(n){return uc().memoizedState=n},useTransition:function(){var n=YD(!1),e=n[0];return n=Uee.bind(null,n[1]),uc().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,r){var i=go,o=uc();if(so){if(r===void 0)throw Error(Un(407));r=r()}else{if(r=e(),aa===null)throw Error(Un(349));Ah&30||g7(i,e,r)}o.memoizedState=r;var s={value:r,getSnapshot:e};return o.queue=s,JD(A7.bind(null,i,s,n),[n]),i.flags|=2048,uA(9,v7.bind(null,i,s,r,e),void 0,null),r},useId:function(){var n=uc(),e=aa.identifierPrefix;if(so){var r=vu,i=gu;r=(i&~(1<<32-jl(i)-1)).toString(32)+r,e=":"+e+"R"+r,r=lA++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Fee++,e=":"+e+"r"+r.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},jee={readContext:cl,useCallback:_7,useContext:cl,useEffect:AI,useImperativeHandle:S7,useInsertionEffect:E7,useLayoutEffect:C7,useMemo:M7,useReducer:g2,useRef:x7,useState:function(){return g2(cA)},useDebugValue:yI,useDeferredValue:function(n){var e=ul();return T7(e,jo.memoizedState,n)},useTransition:function(){var n=g2(cA)[0],e=ul().memoizedState;return[n,e]},useMutableSource:p7,useSyncExternalStore:m7,useId:R7,unstable_isNewReconciler:!1},Gee={readContext:cl,useCallback:_7,useContext:cl,useEffect:AI,useImperativeHandle:S7,useInsertionEffect:E7,useLayoutEffect:C7,useMemo:M7,useReducer:v2,useRef:x7,useState:function(){return v2(cA)},useDebugValue:yI,useDeferredValue:function(n){var e=ul();return jo===null?e.memoizedState=n:T7(e,jo.memoizedState,n)},useTransition:function(){var n=v2(cA)[0],e=ul().memoizedState;return[n,e]},useMutableSource:p7,useSyncExternalStore:m7,useId:R7,unstable_isNewReconciler:!1};function Vm(n,e){try{var r="",i=e;do r+=AZ(i),i=i.return;while(i);var o=r}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:o,digest:null}}function A2(n,e,r){return{value:n,source:null,stack:r??null,digest:e??null}}function fT(n,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Vee=typeof WeakMap=="function"?WeakMap:Map;function B7(n,e,r){r=xu(-1,r),r.tag=3,r.payload={element:null};var i=e.value;return r.callback=function(){zx||(zx=!0,ET=i),fT(n,e)},r}function O7(n,e,r){r=xu(-1,r),r.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var o=e.value;r.payload=function(){return i(o)},r.callback=function(){fT(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){fT(n,e),typeof i!="function"&&(zd===null?zd=new Set([this]):zd.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),r}function ZD(n,e,r){var i=n.pingCache;if(i===null){i=n.pingCache=new Vee;var o=new Set;i.set(e,o)}else o=i.get(e),o===void 0&&(o=new Set,i.set(e,o));o.has(r)||(o.add(r),n=ote.bind(null,n,e,r),e.then(n,n))}function e4(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function t4(n,e,r,i,o){return n.mode&1?(n.flags|=65536,n.lanes=o,n):(n===e?n.flags|=65536:(n.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=xu(-1,1),e.tag=2,Ud(r,e,1))),r.lanes|=1),n)}var Wee=zu.ReactCurrentOwner,os=!1;function ja(n,e,r,i){e.child=n===null?f7(e,null,r,i):jm(e,n.child,r,i)}function n4(n,e,r,i,o){r=r.render;var s=e.ref;return _m(e,o),i=gI(n,e,r,i,s,o),r=vI(),n!==null&&!os?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~o,Ru(n,e,o)):(so&&r&&iI(e),e.flags|=1,ja(n,e,i,o),e.child)}function r4(n,e,r,i,o){if(n===null){var s=r.type;return typeof s=="function"&&!MI(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,D7(n,e,s,i,o)):(n=Z1(r.type,null,i,e,e.mode,o),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&o)){var l=s.memoizedProps;if(r=r.compare,r=r!==null?r:nA,r(l,i)&&n.ref===e.ref)return Ru(n,e,o)}return e.flags|=1,n=Hd(s,i),n.ref=e.ref,n.return=e,e.child=n}function D7(n,e,r,i,o){if(n!==null){var s=n.memoizedProps;if(nA(s,i)&&n.ref===e.ref)if(os=!1,e.pendingProps=i=s,(n.lanes&o)!==0)n.flags&131072&&(os=!0);else return e.lanes=n.lanes,Ru(n,e,o)}return hT(n,e,r,i,o)}function N7(n,e,r){var i=e.pendingProps,o=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qi(dm,Ts),Ts|=r;else{if(!(r&1073741824))return n=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,qi(dm,Ts),Ts|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:r,qi(dm,Ts),Ts|=i}else s!==null?(i=s.baseLanes|r,e.memoizedState=null):i=r,qi(dm,Ts),Ts|=i;return ja(n,e,o,r),e.child}function k7(n,e){var r=e.ref;(n===null&&r!==null||n!==null&&n.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function hT(n,e,r,i,o){var s=ls(r)?gh:La.current;return s=$m(e,s),_m(e,o),r=gI(n,e,r,i,s,o),i=vI(),n!==null&&!os?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~o,Ru(n,e,o)):(so&&i&&iI(e),e.flags|=1,ja(n,e,r,o),e.child)}function i4(n,e,r,i,o){if(ls(r)){var s=!0;Ix(e)}else s=!1;if(_m(e,o),e.stateNode===null)q1(n,e),u7(e,r,i),dT(e,r,i,o),i=!0;else if(n===null){var l=e.stateNode,u=e.memoizedProps;l.props=u;var c=l.context,d=r.contextType;typeof d=="object"&&d!==null?d=cl(d):(d=ls(r)?gh:La.current,d=$m(e,d));var h=r.getDerivedStateFromProps,p=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==i||c!==d)&&XD(e,l,i,d),Cd=!1;var m=e.memoizedState;l.state=m,Dx(e,i,l,o),c=e.memoizedState,u!==i||m!==c||ss.current||Cd?(typeof h=="function"&&(uT(e,r,h,i),c=e.memoizedState),(u=Cd||KD(e,r,u,i,m,c,d))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),l.props=i,l.state=c,l.context=d,i=u):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{l=e.stateNode,l7(n,e),u=e.memoizedProps,d=e.type===e.elementType?u:Il(e.type,u),l.props=d,p=e.pendingProps,m=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=cl(c):(c=ls(r)?gh:La.current,c=$m(e,c));var v=r.getDerivedStateFromProps;(h=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==p||m!==c)&&XD(e,l,i,c),Cd=!1,m=e.memoizedState,l.state=m,Dx(e,i,l,o);var y=e.memoizedState;u!==p||m!==y||ss.current||Cd?(typeof v=="function"&&(uT(e,r,v,i),y=e.memoizedState),(d=Cd||KD(e,r,d,i,m,y,c)||!1)?(h||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,y,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,y,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===n.memoizedProps&&m===n.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===n.memoizedProps&&m===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),l.props=i,l.state=y,l.context=c,i=d):(typeof l.componentDidUpdate!="function"||u===n.memoizedProps&&m===n.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===n.memoizedProps&&m===n.memoizedState||(e.flags|=1024),i=!1)}return pT(n,e,r,i,s,o)}function pT(n,e,r,i,o,s){k7(n,e);var l=(e.flags&128)!==0;if(!i&&!l)return o&&jD(e,r,!1),Ru(n,e,s);i=e.stateNode,Wee.current=e;var u=l&&typeof r.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&l?(e.child=jm(e,n.child,null,s),e.child=jm(e,null,u,s)):ja(n,e,u,s),e.memoizedState=i.state,o&&jD(e,r,!0),e.child}function F7(n){var e=n.stateNode;e.pendingContext?HD(n,e.pendingContext,e.pendingContext!==e.context):e.context&&HD(n,e.context,!1),fI(n,e.containerInfo)}function o4(n,e,r,i,o){return Hm(),aI(o),e.flags|=256,ja(n,e,r,i),e.child}var mT={dehydrated:null,treeContext:null,retryLane:0};function gT(n){return{baseLanes:n,cachePool:null,transitions:null}}function U7(n,e,r){var i=e.pendingProps,o=mo.current,s=!1,l=(e.flags&128)!==0,u;if((u=l)||(u=n!==null&&n.memoizedState===null?!1:(o&2)!==0),u?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(o|=1),qi(mo,o&1),n===null)return lT(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=i.children,n=i.fallback,s?(i=e.mode,s=e.child,l={mode:"hidden",children:l},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=KE(l,i,0,null),n=ah(n,i,r,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=gT(r),e.memoizedState=mT,n):bI(e,l));if(o=n.memoizedState,o!==null&&(u=o.dehydrated,u!==null))return Qee(n,e,l,i,u,o,r);if(s){s=i.fallback,l=e.mode,o=n.child,u=o.sibling;var c={mode:"hidden",children:i.children};return!(l&1)&&e.child!==o?(i=e.child,i.childLanes=0,i.pendingProps=c,e.deletions=null):(i=Hd(o,c),i.subtreeFlags=o.subtreeFlags&14680064),u!==null?s=Hd(u,s):(s=ah(s,l,r,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,l=n.child.memoizedState,l=l===null?gT(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=n.childLanes&~r,e.memoizedState=mT,i}return s=n.child,n=s.sibling,i=Hd(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=r),i.return=e,i.sibling=null,n!==null&&(r=e.deletions,r===null?(e.deletions=[n],e.flags|=16):r.push(n)),e.child=i,e.memoizedState=null,i}function bI(n,e){return e=KE({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Tb(n,e,r,i){return i!==null&&aI(i),jm(e,n.child,null,r),n=bI(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function Qee(n,e,r,i,o,s,l){if(r)return e.flags&256?(e.flags&=-257,i=A2(Error(Un(422))),Tb(n,e,l,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,o=e.mode,i=KE({mode:"visible",children:i.children},o,0,null),s=ah(s,o,l,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&jm(e,n.child,null,l),e.child.memoizedState=gT(l),e.memoizedState=mT,s);if(!(e.mode&1))return Tb(n,e,l,null);if(o.data==="$!"){if(i=o.nextSibling&&o.nextSibling.dataset,i)var u=i.dgst;return i=u,s=Error(Un(419)),i=A2(s,i,void 0),Tb(n,e,l,i)}if(u=(l&n.childLanes)!==0,os||u){if(i=aa,i!==null){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(i.suspendedLanes|l)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,Tu(n,o),Gl(i,n,o,-1))}return _I(),i=A2(Error(Un(421))),Tb(n,e,l,i)}return o.data==="$?"?(e.flags|=128,e.child=n.child,e=ate.bind(null,n),o._reactRetry=e,null):(n=s.treeContext,Ps=Fd(o.nextSibling),Os=e,so=!0,Nl=null,n!==null&&(el[tl++]=gu,el[tl++]=vu,el[tl++]=vh,gu=n.id,vu=n.overflow,vh=e),e=bI(e,i.children),e.flags|=4096,e)}function a4(n,e,r){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),cT(n.return,e,r)}function y2(n,e,r,i,o){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:o}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=r,s.tailMode=o)}function z7(n,e,r){var i=e.pendingProps,o=i.revealOrder,s=i.tail;if(ja(n,e,i.children,r),i=mo.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&a4(n,r,e);else if(n.tag===19)a4(n,r,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(qi(mo,i),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(r=e.child,o=null;r!==null;)n=r.alternate,n!==null&&Nx(n)===null&&(o=r),r=r.sibling;r=o,r===null?(o=e.child,e.child=null):(o=r.sibling,r.sibling=null),y2(e,!1,o,r,s);break;case"backwards":for(r=null,o=e.child,e.child=null;o!==null;){if(n=o.alternate,n!==null&&Nx(n)===null){e.child=o;break}n=o.sibling,o.sibling=r,r=o,o=n}y2(e,!0,r,null,s);break;case"together":y2(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function q1(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Ru(n,e,r){if(n!==null&&(e.dependencies=n.dependencies),yh|=e.lanes,!(r&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Un(153));if(e.child!==null){for(n=e.child,r=Hd(n,n.pendingProps),e.child=r,r.return=e;n.sibling!==null;)n=n.sibling,r=r.sibling=Hd(n,n.pendingProps),r.return=e;r.sibling=null}return e.child}function Kee(n,e,r){switch(e.tag){case 3:F7(e),Hm();break;case 5:h7(e);break;case 1:ls(e.type)&&Ix(e);break;case 4:fI(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,o=e.memoizedProps.value;qi(Bx,i._currentValue),i._currentValue=o;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(qi(mo,mo.current&1),e.flags|=128,null):r&e.child.childLanes?U7(n,e,r):(qi(mo,mo.current&1),n=Ru(n,e,r),n!==null?n.sibling:null);qi(mo,mo.current&1);break;case 19:if(i=(r&e.childLanes)!==0,n.flags&128){if(i)return z7(n,e,r);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),qi(mo,mo.current),i)break;return null;case 22:case 23:return e.lanes=0,N7(n,e,r)}return Ru(n,e,r)}var $7,vT,H7,j7;$7=function(n,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)n.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};vT=function(){};H7=function(n,e,r,i){var o=n.memoizedProps;if(o!==i){n=e.stateNode,qf(vc.current);var s=null;switch(r){case"input":o=UM(n,o),i=UM(n,i),s=[];break;case"select":o=vo({},o,{value:void 0}),i=vo({},i,{value:void 0}),s=[];break;case"textarea":o=HM(n,o),i=HM(n,i),s=[];break;default:typeof o.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=Tx)}GM(r,i);var l;r=null;for(d in o)if(!i.hasOwnProperty(d)&&o.hasOwnProperty(d)&&o[d]!=null)if(d==="style"){var u=o[d];for(l in u)u.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(X0.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in i){var c=i[d];if(u=o!=null?o[d]:void 0,i.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(s||(s=[]),s.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(X0.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ji("scroll",n),s||u===c||(s=[])):(s=s||[]).push(d,c))}r&&(s=s||[]).push("style",r);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};j7=function(n,e,r,i){r!==i&&(e.flags|=4)};function Sv(n,e){if(!so)switch(n.tailMode){case"hidden":e=n.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function _a(n){var e=n.alternate!==null&&n.alternate.child===n.child,r=0,i=0;if(e)for(var o=n.child;o!==null;)r|=o.lanes|o.childLanes,i|=o.subtreeFlags&14680064,i|=o.flags&14680064,o.return=n,o=o.sibling;else for(o=n.child;o!==null;)r|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=n,o=o.sibling;return n.subtreeFlags|=i,n.childLanes=r,e}function Xee(n,e,r){var i=e.pendingProps;switch(oI(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _a(e),null;case 1:return ls(e.type)&&Rx(),_a(e),null;case 3:return i=e.stateNode,Gm(),to(ss),to(La),pI(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(_b(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Nl!==null&&(ST(Nl),Nl=null))),vT(n,e),_a(e),null;case 5:hI(e);var o=qf(sA.current);if(r=e.type,n!==null&&e.stateNode!=null)H7(n,e,r,i,o),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Un(166));return _a(e),null}if(n=qf(vc.current),_b(e)){i=e.stateNode,r=e.type;var s=e.memoizedProps;switch(i[pc]=e,i[oA]=s,n=(e.mode&1)!==0,r){case"dialog":Ji("cancel",i),Ji("close",i);break;case"iframe":case"object":case"embed":Ji("load",i);break;case"video":case"audio":for(o=0;o<u0.length;o++)Ji(u0[o],i);break;case"source":Ji("error",i);break;case"img":case"image":case"link":Ji("error",i),Ji("load",i);break;case"details":Ji("toggle",i);break;case"input":mD(i,s),Ji("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Ji("invalid",i);break;case"textarea":vD(i,s),Ji("invalid",i)}GM(r,s),o=null;for(var l in s)if(s.hasOwnProperty(l)){var u=s[l];l==="children"?typeof u=="string"?i.textContent!==u&&(s.suppressHydrationWarning!==!0&&Sb(i.textContent,u,n),o=["children",u]):typeof u=="number"&&i.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&Sb(i.textContent,u,n),o=["children",""+u]):X0.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&Ji("scroll",i)}switch(r){case"input":vb(i),gD(i,s,!0);break;case"textarea":vb(i),AD(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Tx)}i=o,e.updateQueue=i,i!==null&&(e.flags|=4)}else{l=o.nodeType===9?o:o.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=gU(r)),n==="http://www.w3.org/1999/xhtml"?r==="script"?(n=l.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=l.createElement(r,{is:i.is}):(n=l.createElement(r),r==="select"&&(l=n,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):n=l.createElementNS(n,r),n[pc]=e,n[oA]=i,$7(n,e,!1,!1),e.stateNode=n;e:{switch(l=VM(r,i),r){case"dialog":Ji("cancel",n),Ji("close",n),o=i;break;case"iframe":case"object":case"embed":Ji("load",n),o=i;break;case"video":case"audio":for(o=0;o<u0.length;o++)Ji(u0[o],n);o=i;break;case"source":Ji("error",n),o=i;break;case"img":case"image":case"link":Ji("error",n),Ji("load",n),o=i;break;case"details":Ji("toggle",n),o=i;break;case"input":mD(n,i),o=UM(n,i),Ji("invalid",n);break;case"option":o=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},o=vo({},i,{value:void 0}),Ji("invalid",n);break;case"textarea":vD(n,i),o=HM(n,i),Ji("invalid",n);break;default:o=i}GM(r,o),u=o;for(s in u)if(u.hasOwnProperty(s)){var c=u[s];s==="style"?yU(n,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&vU(n,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&q0(n,c):typeof c=="number"&&q0(n,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(X0.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Ji("scroll",n):c!=null&&GR(n,s,c,l))}switch(r){case"input":vb(n),gD(n,i,!1);break;case"textarea":vb(n),AD(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Vd(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?Em(n,!!i.multiple,s,!1):i.defaultValue!=null&&Em(n,!!i.multiple,i.defaultValue,!0);break;default:typeof o.onClick=="function"&&(n.onclick=Tx)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _a(e),null;case 6:if(n&&e.stateNode!=null)j7(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Un(166));if(r=qf(sA.current),qf(vc.current),_b(e)){if(i=e.stateNode,r=e.memoizedProps,i[pc]=e,(s=i.nodeValue!==r)&&(n=Os,n!==null))switch(n.tag){case 3:Sb(i.nodeValue,r,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Sb(i.nodeValue,r,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[pc]=e,e.stateNode=i}return _a(e),null;case 13:if(to(mo),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(so&&Ps!==null&&e.mode&1&&!(e.flags&128))a7(),Hm(),e.flags|=98560,s=!1;else if(s=_b(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(Un(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Un(317));s[pc]=e}else Hm(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_a(e),s=!1}else Nl!==null&&(ST(Nl),Nl=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||mo.current&1?Vo===0&&(Vo=3):_I())),e.updateQueue!==null&&(e.flags|=4),_a(e),null);case 4:return Gm(),vT(n,e),n===null&&rA(e.stateNode.containerInfo),_a(e),null;case 10:return cI(e.type._context),_a(e),null;case 17:return ls(e.type)&&Rx(),_a(e),null;case 19:if(to(mo),s=e.memoizedState,s===null)return _a(e),null;if(i=(e.flags&128)!==0,l=s.rendering,l===null)if(i)Sv(s,!1);else{if(Vo!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(l=Nx(n),l!==null){for(e.flags|=128,Sv(s,!1),i=l.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=r,r=e.child;r!==null;)s=r,n=i,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,n=l.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),r=r.sibling;return qi(mo,mo.current&1|2),e.child}n=n.sibling}s.tail!==null&&Po()>Wm&&(e.flags|=128,i=!0,Sv(s,!1),e.lanes=4194304)}else{if(!i)if(n=Nx(l),n!==null){if(e.flags|=128,i=!0,r=n.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Sv(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!so)return _a(e),null}else 2*Po()-s.renderingStartTime>Wm&&r!==1073741824&&(e.flags|=128,i=!0,Sv(s,!1),e.lanes=4194304);s.isBackwards?(l.sibling=e.child,e.child=l):(r=s.last,r!==null?r.sibling=l:e.child=l,s.last=l)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Po(),e.sibling=null,r=mo.current,qi(mo,i?r&1|2:r&1),e):(_a(e),null);case 22:case 23:return SI(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Ts&1073741824&&(_a(e),e.subtreeFlags&6&&(e.flags|=8192)):_a(e),null;case 24:return null;case 25:return null}throw Error(Un(156,e.tag))}function qee(n,e){switch(oI(e),e.tag){case 1:return ls(e.type)&&Rx(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Gm(),to(ss),to(La),pI(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return hI(e),null;case 13:if(to(mo),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Un(340));Hm()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return to(mo),null;case 4:return Gm(),null;case 10:return cI(e.type._context),null;case 22:case 23:return SI(),null;case 24:return null;default:return null}}var Rb=!1,Pa=!1,Yee=typeof WeakSet=="function"?WeakSet:Set,Sr=null;function um(n,e){var r=n.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){xo(n,e,i)}else r.current=null}function AT(n,e,r){try{r()}catch(i){xo(n,e,i)}}var s4=!1;function Jee(n,e){if(tT=Sx,n=QU(),rI(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else e:{r=(r=n.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var o=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var l=0,u=-1,c=-1,d=0,h=0,p=n,m=null;t:for(;;){for(var v;p!==r||o!==0&&p.nodeType!==3||(u=l+o),p!==s||i!==0&&p.nodeType!==3||(c=l+i),p.nodeType===3&&(l+=p.nodeValue.length),(v=p.firstChild)!==null;)m=p,p=v;for(;;){if(p===n)break t;if(m===r&&++d===o&&(u=l),m===s&&++h===i&&(c=l),(v=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=v}r=u===-1||c===-1?null:{start:u,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(nT={focusedElem:n,selectionRange:r},Sx=!1,Sr=e;Sr!==null;)if(e=Sr,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Sr=n;else for(;Sr!==null;){e=Sr;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var A=y.memoizedProps,b=y.memoizedState,g=e.stateNode,w=g.getSnapshotBeforeUpdate(e.elementType===e.type?A:Il(e.type,A),b);g.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Un(163))}}catch(C){xo(e,e.return,C)}if(n=e.sibling,n!==null){n.return=e.return,Sr=n;break}Sr=e.return}return y=s4,s4=!1,y}function M0(n,e,r){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&n)===n){var s=o.destroy;o.destroy=void 0,s!==void 0&&AT(e,r,s)}o=o.next}while(o!==i)}}function WE(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&n)===n){var i=r.create;r.destroy=i()}r=r.next}while(r!==e)}}function yT(n){var e=n.ref;if(e!==null){var r=n.stateNode;switch(n.tag){case 5:n=r;break;default:n=r}typeof e=="function"?e(n):e.current=n}}function G7(n){var e=n.alternate;e!==null&&(n.alternate=null,G7(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[pc],delete e[oA],delete e[oT],delete e[Oee],delete e[Dee])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function V7(n){return n.tag===5||n.tag===3||n.tag===4}function l4(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||V7(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function bT(n,e,r){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(n,e):r.insertBefore(n,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(n,r)):(e=r,e.appendChild(n)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Tx));else if(i!==4&&(n=n.child,n!==null))for(bT(n,e,r),n=n.sibling;n!==null;)bT(n,e,r),n=n.sibling}function xT(n,e,r){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?r.insertBefore(n,e):r.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(xT(n,e,r),n=n.sibling;n!==null;)xT(n,e,r),n=n.sibling}var ma=null,Pl=!1;function id(n,e,r){for(r=r.child;r!==null;)W7(n,e,r),r=r.sibling}function W7(n,e,r){if(gc&&typeof gc.onCommitFiberUnmount=="function")try{gc.onCommitFiberUnmount(FE,r)}catch{}switch(r.tag){case 5:Pa||um(r,e);case 6:var i=ma,o=Pl;ma=null,id(n,e,r),ma=i,Pl=o,ma!==null&&(Pl?(n=ma,r=r.stateNode,n.nodeType===8?n.parentNode.removeChild(r):n.removeChild(r)):ma.removeChild(r.stateNode));break;case 18:ma!==null&&(Pl?(n=ma,r=r.stateNode,n.nodeType===8?f2(n.parentNode,r):n.nodeType===1&&f2(n,r),eA(n)):f2(ma,r.stateNode));break;case 4:i=ma,o=Pl,ma=r.stateNode.containerInfo,Pl=!0,id(n,e,r),ma=i,Pl=o;break;case 0:case 11:case 14:case 15:if(!Pa&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){o=i=i.next;do{var s=o,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&AT(r,e,l),o=o.next}while(o!==i)}id(n,e,r);break;case 1:if(!Pa&&(um(r,e),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(u){xo(r,e,u)}id(n,e,r);break;case 21:id(n,e,r);break;case 22:r.mode&1?(Pa=(i=Pa)||r.memoizedState!==null,id(n,e,r),Pa=i):id(n,e,r);break;default:id(n,e,r)}}function c4(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var r=n.stateNode;r===null&&(r=n.stateNode=new Yee),e.forEach(function(i){var o=ste.bind(null,n,i);r.has(i)||(r.add(i),i.then(o,o))})}}function Cl(n,e){var r=e.deletions;if(r!==null)for(var i=0;i<r.length;i++){var o=r[i];try{var s=n,l=e,u=l;e:for(;u!==null;){switch(u.tag){case 5:ma=u.stateNode,Pl=!1;break e;case 3:ma=u.stateNode.containerInfo,Pl=!0;break e;case 4:ma=u.stateNode.containerInfo,Pl=!0;break e}u=u.return}if(ma===null)throw Error(Un(160));W7(s,l,o),ma=null,Pl=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(d){xo(o,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Q7(e,n),e=e.sibling}function Q7(n,e){var r=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Cl(e,n),lc(n),i&4){try{M0(3,n,n.return),WE(3,n)}catch(A){xo(n,n.return,A)}try{M0(5,n,n.return)}catch(A){xo(n,n.return,A)}}break;case 1:Cl(e,n),lc(n),i&512&&r!==null&&um(r,r.return);break;case 5:if(Cl(e,n),lc(n),i&512&&r!==null&&um(r,r.return),n.flags&32){var o=n.stateNode;try{q0(o,"")}catch(A){xo(n,n.return,A)}}if(i&4&&(o=n.stateNode,o!=null)){var s=n.memoizedProps,l=r!==null?r.memoizedProps:s,u=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&pU(o,s),VM(u,l);var d=VM(u,s);for(l=0;l<c.length;l+=2){var h=c[l],p=c[l+1];h==="style"?yU(o,p):h==="dangerouslySetInnerHTML"?vU(o,p):h==="children"?q0(o,p):GR(o,h,p,d)}switch(u){case"input":zM(o,s);break;case"textarea":mU(o,s);break;case"select":var m=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Em(o,!!s.multiple,v,!1):m!==!!s.multiple&&(s.defaultValue!=null?Em(o,!!s.multiple,s.defaultValue,!0):Em(o,!!s.multiple,s.multiple?[]:"",!1))}o[oA]=s}catch(A){xo(n,n.return,A)}}break;case 6:if(Cl(e,n),lc(n),i&4){if(n.stateNode===null)throw Error(Un(162));o=n.stateNode,s=n.memoizedProps;try{o.nodeValue=s}catch(A){xo(n,n.return,A)}}break;case 3:if(Cl(e,n),lc(n),i&4&&r!==null&&r.memoizedState.isDehydrated)try{eA(e.containerInfo)}catch(A){xo(n,n.return,A)}break;case 4:Cl(e,n),lc(n);break;case 13:Cl(e,n),lc(n),o=n.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(CI=Po())),i&4&&c4(n);break;case 22:if(h=r!==null&&r.memoizedState!==null,n.mode&1?(Pa=(d=Pa)||h,Cl(e,n),Pa=d):Cl(e,n),lc(n),i&8192){if(d=n.memoizedState!==null,(n.stateNode.isHidden=d)&&!h&&n.mode&1)for(Sr=n,h=n.child;h!==null;){for(p=Sr=h;Sr!==null;){switch(m=Sr,v=m.child,m.tag){case 0:case 11:case 14:case 15:M0(4,m,m.return);break;case 1:um(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){i=m,r=m.return;try{e=i,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(A){xo(i,r,A)}}break;case 5:um(m,m.return);break;case 22:if(m.memoizedState!==null){d4(p);continue}}v!==null?(v.return=m,Sr=v):d4(p)}h=h.sibling}e:for(h=null,p=n;;){if(p.tag===5){if(h===null){h=p;try{o=p.stateNode,d?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=p.stateNode,c=p.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=AU("display",l))}catch(A){xo(n,n.return,A)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(A){xo(n,n.return,A)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===n)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Cl(e,n),lc(n),i&4&&c4(n);break;case 21:break;default:Cl(e,n),lc(n)}}function lc(n){var e=n.flags;if(e&2){try{e:{for(var r=n.return;r!==null;){if(V7(r)){var i=r;break e}r=r.return}throw Error(Un(160))}switch(i.tag){case 5:var o=i.stateNode;i.flags&32&&(q0(o,""),i.flags&=-33);var s=l4(n);xT(n,s,o);break;case 3:case 4:var l=i.stateNode.containerInfo,u=l4(n);bT(n,u,l);break;default:throw Error(Un(161))}}catch(c){xo(n,n.return,c)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function Zee(n,e,r){Sr=n,K7(n)}function K7(n,e,r){for(var i=(n.mode&1)!==0;Sr!==null;){var o=Sr,s=o.child;if(o.tag===22&&i){var l=o.memoizedState!==null||Rb;if(!l){var u=o.alternate,c=u!==null&&u.memoizedState!==null||Pa;u=Rb;var d=Pa;if(Rb=l,(Pa=c)&&!d)for(Sr=o;Sr!==null;)l=Sr,c=l.child,l.tag===22&&l.memoizedState!==null?f4(o):c!==null?(c.return=l,Sr=c):f4(o);for(;s!==null;)Sr=s,K7(s),s=s.sibling;Sr=o,Rb=u,Pa=d}u4(n)}else o.subtreeFlags&8772&&s!==null?(s.return=o,Sr=s):u4(n)}}function u4(n){for(;Sr!==null;){var e=Sr;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pa||WE(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Pa)if(r===null)i.componentDidMount();else{var o=e.elementType===e.type?r.memoizedProps:Il(e.type,r.memoizedProps);i.componentDidUpdate(o,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&QD(e,s,i);break;case 3:var l=e.updateQueue;if(l!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}QD(e,l,r)}break;case 5:var u=e.stateNode;if(r===null&&e.flags&4){r=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&eA(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Un(163))}Pa||e.flags&512&&yT(e)}catch(m){xo(e,e.return,m)}}if(e===n){Sr=null;break}if(r=e.sibling,r!==null){r.return=e.return,Sr=r;break}Sr=e.return}}function d4(n){for(;Sr!==null;){var e=Sr;if(e===n){Sr=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Sr=r;break}Sr=e.return}}function f4(n){for(;Sr!==null;){var e=Sr;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{WE(4,e)}catch(c){xo(e,r,c)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var o=e.return;try{i.componentDidMount()}catch(c){xo(e,o,c)}}var s=e.return;try{yT(e)}catch(c){xo(e,s,c)}break;case 5:var l=e.return;try{yT(e)}catch(c){xo(e,l,c)}}}catch(c){xo(e,e.return,c)}if(e===n){Sr=null;break}var u=e.sibling;if(u!==null){u.return=e.return,Sr=u;break}Sr=e.return}}var ete=Math.ceil,Ux=zu.ReactCurrentDispatcher,xI=zu.ReactCurrentOwner,sl=zu.ReactCurrentBatchConfig,Ri=0,aa=null,Uo=null,ga=0,Ts=0,dm=Jd(0),Vo=0,dA=null,yh=0,QE=0,EI=0,T0=null,is=null,CI=0,Wm=1/0,cu=null,zx=!1,ET=null,zd=null,Ib=!1,Id=null,$x=0,R0=0,CT=null,Y1=-1,J1=0;function Wa(){return Ri&6?Po():Y1!==-1?Y1:Y1=Po()}function $d(n){return n.mode&1?Ri&2&&ga!==0?ga&-ga:kee.transition!==null?(J1===0&&(J1=PU()),J1):(n=zi,n!==0||(n=window.event,n=n===void 0?16:FU(n.type)),n):1}function Gl(n,e,r,i){if(50<R0)throw R0=0,CT=null,Error(Un(185));NA(n,r,i),(!(Ri&2)||n!==aa)&&(n===aa&&(!(Ri&2)&&(QE|=r),Vo===4&&Td(n,ga)),cs(n,i),r===1&&Ri===0&&!(e.mode&1)&&(Wm=Po()+500,jE&&Zd()))}function cs(n,e){var r=n.callbackNode;kZ(n,e);var i=wx(n,n===aa?ga:0);if(i===0)r!==null&&xD(r),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(r!=null&&xD(r),e===1)n.tag===0?Nee(h4.bind(null,n)):r7(h4.bind(null,n)),Lee(function(){!(Ri&6)&&Zd()}),r=null;else{switch(LU(i)){case 1:r=XR;break;case 4:r=RU;break;case 16:r=Cx;break;case 536870912:r=IU;break;default:r=Cx}r=nz(r,X7.bind(null,n))}n.callbackPriority=e,n.callbackNode=r}}function X7(n,e){if(Y1=-1,J1=0,Ri&6)throw Error(Un(327));var r=n.callbackNode;if(Mm()&&n.callbackNode!==r)return null;var i=wx(n,n===aa?ga:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=Hx(n,i);else{e=i;var o=Ri;Ri|=2;var s=Y7();(aa!==n||ga!==e)&&(cu=null,Wm=Po()+500,oh(n,e));do try{rte();break}catch(u){q7(n,u)}while(1);lI(),Ux.current=s,Ri=o,Uo!==null?e=0:(aa=null,ga=0,e=Vo)}if(e!==0){if(e===2&&(o=qM(n),o!==0&&(i=o,e=wT(n,o))),e===1)throw r=dA,oh(n,0),Td(n,i),cs(n,Po()),r;if(e===6)Td(n,i);else{if(o=n.current.alternate,!(i&30)&&!tte(o)&&(e=Hx(n,i),e===2&&(s=qM(n),s!==0&&(i=s,e=wT(n,s))),e===1))throw r=dA,oh(n,0),Td(n,i),cs(n,Po()),r;switch(n.finishedWork=o,n.finishedLanes=i,e){case 0:case 1:throw Error(Un(345));case 2:Ff(n,is,cu);break;case 3:if(Td(n,i),(i&130023424)===i&&(e=CI+500-Po(),10<e)){if(wx(n,0)!==0)break;if(o=n.suspendedLanes,(o&i)!==i){Wa(),n.pingedLanes|=n.suspendedLanes&o;break}n.timeoutHandle=iT(Ff.bind(null,n,is,cu),e);break}Ff(n,is,cu);break;case 4:if(Td(n,i),(i&4194240)===i)break;for(e=n.eventTimes,o=-1;0<i;){var l=31-jl(i);s=1<<l,l=e[l],l>o&&(o=l),i&=~s}if(i=o,i=Po()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*ete(i/1960))-i,10<i){n.timeoutHandle=iT(Ff.bind(null,n,is,cu),i);break}Ff(n,is,cu);break;case 5:Ff(n,is,cu);break;default:throw Error(Un(329))}}}return cs(n,Po()),n.callbackNode===r?X7.bind(null,n):null}function wT(n,e){var r=T0;return n.current.memoizedState.isDehydrated&&(oh(n,e).flags|=256),n=Hx(n,e),n!==2&&(e=is,is=r,e!==null&&ST(e)),n}function ST(n){is===null?is=n:is.push.apply(is,n)}function tte(n){for(var e=n;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var o=r[i],s=o.getSnapshot;o=o.value;try{if(!Wl(s(),o))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Td(n,e){for(e&=~EI,e&=~QE,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var r=31-jl(e),i=1<<r;n[r]=-1,e&=~i}}function h4(n){if(Ri&6)throw Error(Un(327));Mm();var e=wx(n,0);if(!(e&1))return cs(n,Po()),null;var r=Hx(n,e);if(n.tag!==0&&r===2){var i=qM(n);i!==0&&(e=i,r=wT(n,i))}if(r===1)throw r=dA,oh(n,0),Td(n,e),cs(n,Po()),r;if(r===6)throw Error(Un(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Ff(n,is,cu),cs(n,Po()),null}function wI(n,e){var r=Ri;Ri|=1;try{return n(e)}finally{Ri=r,Ri===0&&(Wm=Po()+500,jE&&Zd())}}function bh(n){Id!==null&&Id.tag===0&&!(Ri&6)&&Mm();var e=Ri;Ri|=1;var r=sl.transition,i=zi;try{if(sl.transition=null,zi=1,n)return n()}finally{zi=i,sl.transition=r,Ri=e,!(Ri&6)&&Zd()}}function SI(){Ts=dm.current,to(dm)}function oh(n,e){n.finishedWork=null,n.finishedLanes=0;var r=n.timeoutHandle;if(r!==-1&&(n.timeoutHandle=-1,Pee(r)),Uo!==null)for(r=Uo.return;r!==null;){var i=r;switch(oI(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Rx();break;case 3:Gm(),to(ss),to(La),pI();break;case 5:hI(i);break;case 4:Gm();break;case 13:to(mo);break;case 19:to(mo);break;case 10:cI(i.type._context);break;case 22:case 23:SI()}r=r.return}if(aa=n,Uo=n=Hd(n.current,null),ga=Ts=e,Vo=0,dA=null,EI=QE=yh=0,is=T0=null,Xf!==null){for(e=0;e<Xf.length;e++)if(r=Xf[e],i=r.interleaved,i!==null){r.interleaved=null;var o=i.next,s=r.pending;if(s!==null){var l=s.next;s.next=o,i.next=l}r.pending=i}Xf=null}return n}function q7(n,e){do{var r=Uo;try{if(lI(),K1.current=Fx,kx){for(var i=go.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}kx=!1}if(Ah=0,ra=jo=go=null,_0=!1,lA=0,xI.current=null,r===null||r.return===null){Vo=1,dA=e,Uo=null;break}e:{var s=n,l=r.return,u=r,c=e;if(e=ga,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=u,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=e4(l);if(v!==null){v.flags&=-257,t4(v,l,u,s,e),v.mode&1&&ZD(s,d,e),e=v,c=d;var y=e.updateQueue;if(y===null){var A=new Set;A.add(c),e.updateQueue=A}else y.add(c);break e}else{if(!(e&1)){ZD(s,d,e),_I();break e}c=Error(Un(426))}}else if(so&&u.mode&1){var b=e4(l);if(b!==null){!(b.flags&65536)&&(b.flags|=256),t4(b,l,u,s,e),aI(Vm(c,u));break e}}s=c=Vm(c,u),Vo!==4&&(Vo=2),T0===null?T0=[s]:T0.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=B7(s,c,e);WD(s,g);break e;case 1:u=c;var w=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(zd===null||!zd.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=O7(s,u,e);WD(s,C);break e}}s=s.return}while(s!==null)}Z7(r)}catch(_){e=_,Uo===r&&r!==null&&(Uo=r=r.return);continue}break}while(1)}function Y7(){var n=Ux.current;return Ux.current=Fx,n===null?Fx:n}function _I(){(Vo===0||Vo===3||Vo===2)&&(Vo=4),aa===null||!(yh&268435455)&&!(QE&268435455)||Td(aa,ga)}function Hx(n,e){var r=Ri;Ri|=2;var i=Y7();(aa!==n||ga!==e)&&(cu=null,oh(n,e));do try{nte();break}catch(o){q7(n,o)}while(1);if(lI(),Ri=r,Ux.current=i,Uo!==null)throw Error(Un(261));return aa=null,ga=0,Vo}function nte(){for(;Uo!==null;)J7(Uo)}function rte(){for(;Uo!==null&&!TZ();)J7(Uo)}function J7(n){var e=tz(n.alternate,n,Ts);n.memoizedProps=n.pendingProps,e===null?Z7(n):Uo=e,xI.current=null}function Z7(n){var e=n;do{var r=e.alternate;if(n=e.return,e.flags&32768){if(r=qee(r,e),r!==null){r.flags&=32767,Uo=r;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Vo=6,Uo=null;return}}else if(r=Xee(r,e,Ts),r!==null){Uo=r;return}if(e=e.sibling,e!==null){Uo=e;return}Uo=e=n}while(e!==null);Vo===0&&(Vo=5)}function Ff(n,e,r){var i=zi,o=sl.transition;try{sl.transition=null,zi=1,ite(n,e,r,i)}finally{sl.transition=o,zi=i}return null}function ite(n,e,r,i){do Mm();while(Id!==null);if(Ri&6)throw Error(Un(327));r=n.finishedWork;var o=n.finishedLanes;if(r===null)return null;if(n.finishedWork=null,n.finishedLanes=0,r===n.current)throw Error(Un(177));n.callbackNode=null,n.callbackPriority=0;var s=r.lanes|r.childLanes;if(FZ(n,s),n===aa&&(Uo=aa=null,ga=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ib||(Ib=!0,nz(Cx,function(){return Mm(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=sl.transition,sl.transition=null;var l=zi;zi=1;var u=Ri;Ri|=4,xI.current=null,Jee(n,r),Q7(r,n),wee(nT),Sx=!!tT,nT=tT=null,n.current=r,Zee(r),RZ(),Ri=u,zi=l,sl.transition=s}else n.current=r;if(Ib&&(Ib=!1,Id=n,$x=o),s=n.pendingLanes,s===0&&(zd=null),LZ(r.stateNode),cs(n,Po()),e!==null)for(i=n.onRecoverableError,r=0;r<e.length;r++)o=e[r],i(o.value,{componentStack:o.stack,digest:o.digest});if(zx)throw zx=!1,n=ET,ET=null,n;return $x&1&&n.tag!==0&&Mm(),s=n.pendingLanes,s&1?n===CT?R0++:(R0=0,CT=n):R0=0,Zd(),null}function Mm(){if(Id!==null){var n=LU($x),e=sl.transition,r=zi;try{if(sl.transition=null,zi=16>n?16:n,Id===null)var i=!1;else{if(n=Id,Id=null,$x=0,Ri&6)throw Error(Un(331));var o=Ri;for(Ri|=4,Sr=n.current;Sr!==null;){var s=Sr,l=s.child;if(Sr.flags&16){var u=s.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(Sr=d;Sr!==null;){var h=Sr;switch(h.tag){case 0:case 11:case 15:M0(8,h,s)}var p=h.child;if(p!==null)p.return=h,Sr=p;else for(;Sr!==null;){h=Sr;var m=h.sibling,v=h.return;if(G7(h),h===d){Sr=null;break}if(m!==null){m.return=v,Sr=m;break}Sr=v}}}var y=s.alternate;if(y!==null){var A=y.child;if(A!==null){y.child=null;do{var b=A.sibling;A.sibling=null,A=b}while(A!==null)}}Sr=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,Sr=l;else e:for(;Sr!==null;){if(s=Sr,s.flags&2048)switch(s.tag){case 0:case 11:case 15:M0(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Sr=g;break e}Sr=s.return}}var w=n.current;for(Sr=w;Sr!==null;){l=Sr;var E=l.child;if(l.subtreeFlags&2064&&E!==null)E.return=l,Sr=E;else e:for(l=w;Sr!==null;){if(u=Sr,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:WE(9,u)}}catch(_){xo(u,u.return,_)}if(u===l){Sr=null;break e}var C=u.sibling;if(C!==null){C.return=u.return,Sr=C;break e}Sr=u.return}}if(Ri=o,Zd(),gc&&typeof gc.onPostCommitFiberRoot=="function")try{gc.onPostCommitFiberRoot(FE,n)}catch{}i=!0}return i}finally{zi=r,sl.transition=e}}return!1}function p4(n,e,r){e=Vm(r,e),e=B7(n,e,1),n=Ud(n,e,1),e=Wa(),n!==null&&(NA(n,1,e),cs(n,e))}function xo(n,e,r){if(n.tag===3)p4(n,n,r);else for(;e!==null;){if(e.tag===3){p4(e,n,r);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(zd===null||!zd.has(i))){n=Vm(r,n),n=O7(e,n,1),e=Ud(e,n,1),n=Wa(),e!==null&&(NA(e,1,n),cs(e,n));break}}e=e.return}}function ote(n,e,r){var i=n.pingCache;i!==null&&i.delete(e),e=Wa(),n.pingedLanes|=n.suspendedLanes&r,aa===n&&(ga&r)===r&&(Vo===4||Vo===3&&(ga&130023424)===ga&&500>Po()-CI?oh(n,0):EI|=r),cs(n,e)}function ez(n,e){e===0&&(n.mode&1?(e=bb,bb<<=1,!(bb&130023424)&&(bb=4194304)):e=1);var r=Wa();n=Tu(n,e),n!==null&&(NA(n,e,r),cs(n,r))}function ate(n){var e=n.memoizedState,r=0;e!==null&&(r=e.retryLane),ez(n,r)}function ste(n,e){var r=0;switch(n.tag){case 13:var i=n.stateNode,o=n.memoizedState;o!==null&&(r=o.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(Un(314))}i!==null&&i.delete(e),ez(n,r)}var tz;tz=function(n,e,r){if(n!==null)if(n.memoizedProps!==e.pendingProps||ss.current)os=!0;else{if(!(n.lanes&r)&&!(e.flags&128))return os=!1,Kee(n,e,r);os=!!(n.flags&131072)}else os=!1,so&&e.flags&1048576&&i7(e,Lx,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;q1(n,e),n=e.pendingProps;var o=$m(e,La.current);_m(e,r),o=gI(null,e,i,n,o,r);var s=vI();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ls(i)?(s=!0,Ix(e)):s=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,dI(e),o.updater=GE,e.stateNode=o,o._reactInternals=e,dT(e,i,n,r),e=pT(null,e,i,!0,s,r)):(e.tag=0,so&&s&&iI(e),ja(null,e,o,r),e=e.child),e;case 16:i=e.elementType;e:{switch(q1(n,e),n=e.pendingProps,o=i._init,i=o(i._payload),e.type=i,o=e.tag=cte(i),n=Il(i,n),o){case 0:e=hT(null,e,i,n,r);break e;case 1:e=i4(null,e,i,n,r);break e;case 11:e=n4(null,e,i,n,r);break e;case 14:e=r4(null,e,i,Il(i.type,n),r);break e}throw Error(Un(306,i,""))}return e;case 0:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:Il(i,o),hT(n,e,i,o,r);case 1:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:Il(i,o),i4(n,e,i,o,r);case 3:e:{if(F7(e),n===null)throw Error(Un(387));i=e.pendingProps,s=e.memoizedState,o=s.element,l7(n,e),Dx(e,i,null,r);var l=e.memoizedState;if(i=l.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){o=Vm(Error(Un(423)),e),e=o4(n,e,i,r,o);break e}else if(i!==o){o=Vm(Error(Un(424)),e),e=o4(n,e,i,r,o);break e}else for(Ps=Fd(e.stateNode.containerInfo.firstChild),Os=e,so=!0,Nl=null,r=f7(e,null,i,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Hm(),i===o){e=Ru(n,e,r);break e}ja(n,e,i,r)}e=e.child}return e;case 5:return h7(e),n===null&&lT(e),i=e.type,o=e.pendingProps,s=n!==null?n.memoizedProps:null,l=o.children,rT(i,o)?l=null:s!==null&&rT(i,s)&&(e.flags|=32),k7(n,e),ja(n,e,l,r),e.child;case 6:return n===null&&lT(e),null;case 13:return U7(n,e,r);case 4:return fI(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=jm(e,null,i,r):ja(n,e,i,r),e.child;case 11:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:Il(i,o),n4(n,e,i,o,r);case 7:return ja(n,e,e.pendingProps,r),e.child;case 8:return ja(n,e,e.pendingProps.children,r),e.child;case 12:return ja(n,e,e.pendingProps.children,r),e.child;case 10:e:{if(i=e.type._context,o=e.pendingProps,s=e.memoizedProps,l=o.value,qi(Bx,i._currentValue),i._currentValue=l,s!==null)if(Wl(s.value,l)){if(s.children===o.children&&!ss.current){e=Ru(n,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){l=s.child;for(var c=u.firstContext;c!==null;){if(c.context===i){if(s.tag===1){c=xu(-1,r&-r),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),cT(s.return,r,e),u.lanes|=r;break}c=c.next}}else if(s.tag===10)l=s.type===e.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(Un(341));l.lanes|=r,u=l.alternate,u!==null&&(u.lanes|=r),cT(l,r,e),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===e){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}ja(n,e,o.children,r),e=e.child}return e;case 9:return o=e.type,i=e.pendingProps.children,_m(e,r),o=cl(o),i=i(o),e.flags|=1,ja(n,e,i,r),e.child;case 14:return i=e.type,o=Il(i,e.pendingProps),o=Il(i.type,o),r4(n,e,i,o,r);case 15:return D7(n,e,e.type,e.pendingProps,r);case 17:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:Il(i,o),q1(n,e),e.tag=1,ls(i)?(n=!0,Ix(e)):n=!1,_m(e,r),u7(e,i,o),dT(e,i,o,r),pT(null,e,i,!0,n,r);case 19:return z7(n,e,r);case 22:return N7(n,e,r)}throw Error(Un(156,e.tag))};function nz(n,e){return TU(n,e)}function lte(n,e,r,i){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function al(n,e,r,i){return new lte(n,e,r,i)}function MI(n){return n=n.prototype,!(!n||!n.isReactComponent)}function cte(n){if(typeof n=="function")return MI(n)?1:0;if(n!=null){if(n=n.$$typeof,n===WR)return 11;if(n===QR)return 14}return 2}function Hd(n,e){var r=n.alternate;return r===null?(r=al(n.tag,e,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=e,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&14680064,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,e=n.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r}function Z1(n,e,r,i,o,s){var l=2;if(i=n,typeof n=="function")MI(n)&&(l=1);else if(typeof n=="string")l=5;else e:switch(n){case tm:return ah(r.children,o,s,e);case VR:l=8,o|=8;break;case DM:return n=al(12,r,e,o|2),n.elementType=DM,n.lanes=s,n;case NM:return n=al(13,r,e,o),n.elementType=NM,n.lanes=s,n;case kM:return n=al(19,r,e,o),n.elementType=kM,n.lanes=s,n;case dU:return KE(r,o,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case cU:l=10;break e;case uU:l=9;break e;case WR:l=11;break e;case QR:l=14;break e;case Ed:l=16,i=null;break e}throw Error(Un(130,n==null?n:typeof n,""))}return e=al(l,r,e,o),e.elementType=n,e.type=i,e.lanes=s,e}function ah(n,e,r,i){return n=al(7,n,i,e),n.lanes=r,n}function KE(n,e,r,i){return n=al(22,n,i,e),n.elementType=dU,n.lanes=r,n.stateNode={isHidden:!1},n}function b2(n,e,r){return n=al(6,n,null,e),n.lanes=r,n}function x2(n,e,r){return e=al(4,n.children!==null?n.children:[],n.key,e),e.lanes=r,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function ute(n,e,r,i,o){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=t2(0),this.expirationTimes=t2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=t2(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function TI(n,e,r,i,o,s,l,u,c){return n=new ute(n,e,r,u,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=al(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},dI(s),n}function dte(n,e,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:em,key:i==null?null:""+i,children:n,containerInfo:e,implementation:r}}function rz(n){if(!n)return Wd;n=n._reactInternals;e:{if(_h(n)!==n||n.tag!==1)throw Error(Un(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ls(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Un(171))}if(n.tag===1){var r=n.type;if(ls(r))return n7(n,r,e)}return e}function iz(n,e,r,i,o,s,l,u,c){return n=TI(r,i,!0,n,o,s,l,u,c),n.context=rz(null),r=n.current,i=Wa(),o=$d(r),s=xu(i,o),s.callback=e??null,Ud(r,s,o),n.current.lanes=o,NA(n,o,i),cs(n,i),n}function XE(n,e,r,i){var o=e.current,s=Wa(),l=$d(o);return r=rz(r),e.context===null?e.context=r:e.pendingContext=r,e=xu(s,l),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Ud(o,e,l),n!==null&&(Gl(n,o,l,s),Q1(n,o,l)),l}function jx(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function m4(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<e?r:e}}function RI(n,e){m4(n,e),(n=n.alternate)&&m4(n,e)}function fte(){return null}var oz=typeof reportError=="function"?reportError:function(n){console.error(n)};function II(n){this._internalRoot=n}qE.prototype.render=II.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Un(409));XE(n,e,null,null)};qE.prototype.unmount=II.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;bh(function(){XE(null,n,null,null)}),e[Mu]=null}};function qE(n){this._internalRoot=n}qE.prototype.unstable_scheduleHydration=function(n){if(n){var e=DU();n={blockedOn:null,target:n,priority:e};for(var r=0;r<Md.length&&e!==0&&e<Md[r].priority;r++);Md.splice(r,0,n),r===0&&kU(n)}};function PI(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function YE(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function g4(){}function hte(n,e,r,i,o){if(o){if(typeof i=="function"){var s=i;i=function(){var d=jx(l);s.call(d)}}var l=iz(e,i,n,0,null,!1,!1,"",g4);return n._reactRootContainer=l,n[Mu]=l.current,rA(n.nodeType===8?n.parentNode:n),bh(),l}for(;o=n.lastChild;)n.removeChild(o);if(typeof i=="function"){var u=i;i=function(){var d=jx(c);u.call(d)}}var c=TI(n,0,!1,null,null,!1,!1,"",g4);return n._reactRootContainer=c,n[Mu]=c.current,rA(n.nodeType===8?n.parentNode:n),bh(function(){XE(e,c,r,i)}),c}function JE(n,e,r,i,o){var s=r._reactRootContainer;if(s){var l=s;if(typeof o=="function"){var u=o;o=function(){var c=jx(l);u.call(c)}}XE(e,l,n,o)}else l=hte(r,e,n,o,i);return jx(l)}BU=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var r=c0(e.pendingLanes);r!==0&&(qR(e,r|1),cs(e,Po()),!(Ri&6)&&(Wm=Po()+500,Zd()))}break;case 13:bh(function(){var i=Tu(n,1);if(i!==null){var o=Wa();Gl(i,n,1,o)}}),RI(n,1)}};YR=function(n){if(n.tag===13){var e=Tu(n,134217728);if(e!==null){var r=Wa();Gl(e,n,134217728,r)}RI(n,134217728)}};OU=function(n){if(n.tag===13){var e=$d(n),r=Tu(n,e);if(r!==null){var i=Wa();Gl(r,n,e,i)}RI(n,e)}};DU=function(){return zi};NU=function(n,e){var r=zi;try{return zi=n,e()}finally{zi=r}};QM=function(n,e,r){switch(e){case"input":if(zM(n,r),e=r.name,r.type==="radio"&&e!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var i=r[e];if(i!==n&&i.form===n.form){var o=HE(i);if(!o)throw Error(Un(90));hU(i),zM(i,o)}}}break;case"textarea":mU(n,r);break;case"select":e=r.value,e!=null&&Em(n,!!r.multiple,e,!1)}};EU=wI;CU=bh;var pte={usingClientEntryPoint:!1,Events:[FA,om,HE,bU,xU,wI]},_v={findFiberByHostInstance:Kf,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},mte={bundleType:_v.bundleType,version:_v.version,rendererPackageName:_v.rendererPackageName,rendererConfig:_v.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zu.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=_U(n),n===null?null:n.stateNode},findFiberByHostInstance:_v.findFiberByHostInstance||fte,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pb.isDisabled&&Pb.supportsFiber)try{FE=Pb.inject(mte),gc=Pb}catch{}}Fs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pte;Fs.createPortal=function(n,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!PI(e))throw Error(Un(200));return dte(n,e,null,r)};Fs.createRoot=function(n,e){if(!PI(n))throw Error(Un(299));var r=!1,i="",o=oz;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=TI(n,1,!1,null,null,r,!1,i,o),n[Mu]=e.current,rA(n.nodeType===8?n.parentNode:n),new II(e)};Fs.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Un(188)):(n=Object.keys(n).join(","),Error(Un(268,n)));return n=_U(e),n=n===null?null:n.stateNode,n};Fs.flushSync=function(n){return bh(n)};Fs.hydrate=function(n,e,r){if(!YE(e))throw Error(Un(200));return JE(null,n,e,!0,r)};Fs.hydrateRoot=function(n,e,r){if(!PI(n))throw Error(Un(405));var i=r!=null&&r.hydratedSources||null,o=!1,s="",l=oz;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),e=iz(e,null,n,1,r??null,o,!1,s,l),n[Mu]=e.current,rA(n),i)for(n=0;n<i.length;n++)r=i[n],o=r._getVersion,o=o(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,o]:e.mutableSourceEagerHydrationData.push(r,o);return new qE(e)};Fs.render=function(n,e,r){if(!YE(e))throw Error(Un(200));return JE(null,n,e,!1,r)};Fs.unmountComponentAtNode=function(n){if(!YE(n))throw Error(Un(40));return n._reactRootContainer?(bh(function(){JE(null,null,n,!1,function(){n._reactRootContainer=null,n[Mu]=null})}),!0):!1};Fs.unstable_batchedUpdates=wI;Fs.unstable_renderSubtreeIntoContainer=function(n,e,r,i){if(!YE(r))throw Error(Un(200));if(n==null||n._reactInternals===void 0)throw Error(Un(38));return JE(n,e,r,!1,i)};Fs.version="18.2.0-next-9e3b772b8-20220608";function az(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(az)}catch(n){console.error(n)}}az(),iU.exports=Fs;var Ns=iU.exports;const Gx=Uu(Ns),gte=Q6({__proto__:null,default:Gx},[Ns]);var v4=Ns;BM.createRoot=v4.createRoot,BM.hydrateRoot=v4.hydrateRoot;var vte=M.createContext({});const LI=vte;function rn(){return rn=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},rn.apply(this,arguments)}function sz(n){if(Array.isArray(n))return n}function Ate(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,s,l,u=[],c=!0,d=!1;try{if(s=(r=r.call(n)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(i=s.call(r)).done)&&(u.push(i.value),u.length!==e);c=!0);}catch(h){d=!0,o=h}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw o}}return u}}function _T(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function BI(n,e){if(n){if(typeof n=="string")return _T(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _T(n,e)}}function lz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ot(n,e){return sz(n)||Ate(n,e)||BI(n,e)||lz()}function Tr(n){"@babel/helpers - typeof";return Tr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tr(n)}function yte(n,e){if(Tr(n)!=="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(Tr(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function cz(n){var e=yte(n,"string");return Tr(e)==="symbol"?e:String(e)}function ct(n,e,r){return e=cz(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function bte(n,e){if(n==null)return{};var r={},i=Object.keys(n),o,s;for(s=0;s<i.length;s++)o=i[s],!(e.indexOf(o)>=0)&&(r[o]=n[o]);return r}function Br(n,e){if(n==null)return{};var r=bte(n,e),i,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(o=0;o<s.length;o++)i=s[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(r[i]=n[i])}return r}var uz={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function r(){for(var i=[],o=0;o<arguments.length;o++){var s=arguments[o];if(s){var l=typeof s;if(l==="string"||l==="number")i.push(s);else if(Array.isArray(s)){if(s.length){var u=r.apply(null,s);u&&i.push(u)}}else if(l==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){i.push(s.toString());continue}for(var c in s)e.call(s,c)&&s[c]&&i.push(c)}}}return i.join(" ")}n.exports?(r.default=r,n.exports=r):window.classNames=r})()})(uz);var xte=uz.exports;const bt=Uu(xte);function va(n,e){Ete(n)&&(n="100%");var r=Cte(n);return n=e===360?n:Math.min(e,Math.max(0,parseFloat(n))),r&&(n=parseInt(String(n*e),10)/100),Math.abs(n-e)<1e-6?1:(e===360?n=(n<0?n%e+e:n%e)/parseFloat(String(e)):n=n%e/parseFloat(String(e)),n)}function Lb(n){return Math.min(1,Math.max(0,n))}function Ete(n){return typeof n=="string"&&n.indexOf(".")!==-1&&parseFloat(n)===1}function Cte(n){return typeof n=="string"&&n.indexOf("%")!==-1}function dz(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function Bb(n){return n<=1?"".concat(Number(n)*100,"%"):n}function Yf(n){return n.length===1?"0"+n:String(n)}function wte(n,e,r){return{r:va(n,255)*255,g:va(e,255)*255,b:va(r,255)*255}}function A4(n,e,r){n=va(n,255),e=va(e,255),r=va(r,255);var i=Math.max(n,e,r),o=Math.min(n,e,r),s=0,l=0,u=(i+o)/2;if(i===o)l=0,s=0;else{var c=i-o;switch(l=u>.5?c/(2-i-o):c/(i+o),i){case n:s=(e-r)/c+(e<r?6:0);break;case e:s=(r-n)/c+2;break;case r:s=(n-e)/c+4;break}s/=6}return{h:s,s:l,l:u}}function E2(n,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?n+(e-n)*(6*r):r<1/2?e:r<2/3?n+(e-n)*(2/3-r)*6:n}function Ste(n,e,r){var i,o,s;if(n=va(n,360),e=va(e,100),r=va(r,100),e===0)o=r,s=r,i=r;else{var l=r<.5?r*(1+e):r+e-r*e,u=2*r-l;i=E2(u,l,n+1/3),o=E2(u,l,n),s=E2(u,l,n-1/3)}return{r:i*255,g:o*255,b:s*255}}function MT(n,e,r){n=va(n,255),e=va(e,255),r=va(r,255);var i=Math.max(n,e,r),o=Math.min(n,e,r),s=0,l=i,u=i-o,c=i===0?0:u/i;if(i===o)s=0;else{switch(i){case n:s=(e-r)/u+(e<r?6:0);break;case e:s=(r-n)/u+2;break;case r:s=(n-e)/u+4;break}s/=6}return{h:s,s:c,v:l}}function _te(n,e,r){n=va(n,360)*6,e=va(e,100),r=va(r,100);var i=Math.floor(n),o=n-i,s=r*(1-e),l=r*(1-o*e),u=r*(1-(1-o)*e),c=i%6,d=[r,l,s,s,u,r][c],h=[u,r,r,l,s,s][c],p=[s,s,u,r,r,l][c];return{r:d*255,g:h*255,b:p*255}}function TT(n,e,r,i){var o=[Yf(Math.round(n).toString(16)),Yf(Math.round(e).toString(16)),Yf(Math.round(r).toString(16))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function Mte(n,e,r,i,o){var s=[Yf(Math.round(n).toString(16)),Yf(Math.round(e).toString(16)),Yf(Math.round(r).toString(16)),Yf(Tte(i))];return o&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function Tte(n){return Math.round(parseFloat(n)*255).toString(16)}function y4(n){return _s(n)/255}function _s(n){return parseInt(n,16)}function Rte(n){return{r:n>>16,g:(n&65280)>>8,b:n&255}}var RT={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Zp(n){var e={r:0,g:0,b:0},r=1,i=null,o=null,s=null,l=!1,u=!1;return typeof n=="string"&&(n=Lte(n)),typeof n=="object"&&(Qc(n.r)&&Qc(n.g)&&Qc(n.b)?(e=wte(n.r,n.g,n.b),l=!0,u=String(n.r).substr(-1)==="%"?"prgb":"rgb"):Qc(n.h)&&Qc(n.s)&&Qc(n.v)?(i=Bb(n.s),o=Bb(n.v),e=_te(n.h,i,o),l=!0,u="hsv"):Qc(n.h)&&Qc(n.s)&&Qc(n.l)&&(i=Bb(n.s),s=Bb(n.l),e=Ste(n.h,i,s),l=!0,u="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(r=n.a)),r=dz(r),{ok:l,format:n.format||u,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}var Ite="[-\\+]?\\d+%?",Pte="[-\\+]?\\d*\\.\\d+%?",Pd="(?:".concat(Pte,")|(?:").concat(Ite,")"),C2="[\\s|\\(]+(".concat(Pd,")[,|\\s]+(").concat(Pd,")[,|\\s]+(").concat(Pd,")\\s*\\)?"),w2="[\\s|\\(]+(".concat(Pd,")[,|\\s]+(").concat(Pd,")[,|\\s]+(").concat(Pd,")[,|\\s]+(").concat(Pd,")\\s*\\)?"),Ml={CSS_UNIT:new RegExp(Pd),rgb:new RegExp("rgb"+C2),rgba:new RegExp("rgba"+w2),hsl:new RegExp("hsl"+C2),hsla:new RegExp("hsla"+w2),hsv:new RegExp("hsv"+C2),hsva:new RegExp("hsva"+w2),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Lte(n){if(n=n.trim().toLowerCase(),n.length===0)return!1;var e=!1;if(RT[n])n=RT[n],e=!0;else if(n==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r=Ml.rgb.exec(n);return r?{r:r[1],g:r[2],b:r[3]}:(r=Ml.rgba.exec(n),r?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Ml.hsl.exec(n),r?{h:r[1],s:r[2],l:r[3]}:(r=Ml.hsla.exec(n),r?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Ml.hsv.exec(n),r?{h:r[1],s:r[2],v:r[3]}:(r=Ml.hsva.exec(n),r?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Ml.hex8.exec(n),r?{r:_s(r[1]),g:_s(r[2]),b:_s(r[3]),a:y4(r[4]),format:e?"name":"hex8"}:(r=Ml.hex6.exec(n),r?{r:_s(r[1]),g:_s(r[2]),b:_s(r[3]),format:e?"name":"hex"}:(r=Ml.hex4.exec(n),r?{r:_s(r[1]+r[1]),g:_s(r[2]+r[2]),b:_s(r[3]+r[3]),a:y4(r[4]+r[4]),format:e?"name":"hex8"}:(r=Ml.hex3.exec(n),r?{r:_s(r[1]+r[1]),g:_s(r[2]+r[2]),b:_s(r[3]+r[3]),format:e?"name":"hex"}:!1)))))))))}function Qc(n){return!!Ml.CSS_UNIT.exec(String(n))}var Di=function(){function n(e,r){e===void 0&&(e=""),r===void 0&&(r={});var i;if(e instanceof n)return e;typeof e=="number"&&(e=Rte(e)),this.originalInput=e;var o=Zp(e);this.originalInput=e,this.r=o.r,this.g=o.g,this.b=o.b,this.a=o.a,this.roundA=Math.round(100*this.a)/100,this.format=(i=r.format)!==null&&i!==void 0?i:o.format,this.gradientType=r.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=o.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},n.prototype.getLuminance=function(){var e=this.toRgb(),r,i,o,s=e.r/255,l=e.g/255,u=e.b/255;return s<=.03928?r=s/12.92:r=Math.pow((s+.055)/1.055,2.4),l<=.03928?i=l/12.92:i=Math.pow((l+.055)/1.055,2.4),u<=.03928?o=u/12.92:o=Math.pow((u+.055)/1.055,2.4),.2126*r+.7152*i+.0722*o},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(e){return this.a=dz(e),this.roundA=Math.round(100*this.a)/100,this},n.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},n.prototype.toHsv=function(){var e=MT(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},n.prototype.toHsvString=function(){var e=MT(this.r,this.g,this.b),r=Math.round(e.h*360),i=Math.round(e.s*100),o=Math.round(e.v*100);return this.a===1?"hsv(".concat(r,", ").concat(i,"%, ").concat(o,"%)"):"hsva(".concat(r,", ").concat(i,"%, ").concat(o,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var e=A4(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},n.prototype.toHslString=function(){var e=A4(this.r,this.g,this.b),r=Math.round(e.h*360),i=Math.round(e.s*100),o=Math.round(e.l*100);return this.a===1?"hsl(".concat(r,", ").concat(i,"%, ").concat(o,"%)"):"hsla(".concat(r,", ").concat(i,"%, ").concat(o,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(e){return e===void 0&&(e=!1),TT(this.r,this.g,this.b,e)},n.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},n.prototype.toHex8=function(e){return e===void 0&&(e=!1),Mte(this.r,this.g,this.b,this.a,e)},n.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},n.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var e=Math.round(this.r),r=Math.round(this.g),i=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(r,", ").concat(i,")"):"rgba(".concat(e,", ").concat(r,", ").concat(i,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var e=function(r){return"".concat(Math.round(va(r,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var e=function(r){return Math.round(va(r,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+TT(this.r,this.g,this.b,!1),r=0,i=Object.entries(RT);r<i.length;r++){var o=i[r],s=o[0],l=o[1];if(e===l)return s}return!1},n.prototype.toString=function(e){var r=!!e;e=e??this.format;var i=!1,o=this.a<1&&this.a>=0,s=!r&&o&&(e.startsWith("hex")||e==="name");return s?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.l+=e/100,r.l=Lb(r.l),new n(r)},n.prototype.brighten=function(e){e===void 0&&(e=10);var r=this.toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),new n(r)},n.prototype.darken=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.l-=e/100,r.l=Lb(r.l),new n(r)},n.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},n.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},n.prototype.desaturate=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.s-=e/100,r.s=Lb(r.s),new n(r)},n.prototype.saturate=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.s+=e/100,r.s=Lb(r.s),new n(r)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(e){var r=this.toHsl(),i=(r.h+e)%360;return r.h=i<0?360+i:i,new n(r)},n.prototype.mix=function(e,r){r===void 0&&(r=50);var i=this.toRgb(),o=new n(e).toRgb(),s=r/100,l={r:(o.r-i.r)*s+i.r,g:(o.g-i.g)*s+i.g,b:(o.b-i.b)*s+i.b,a:(o.a-i.a)*s+i.a};return new n(l)},n.prototype.analogous=function(e,r){e===void 0&&(e=6),r===void 0&&(r=30);var i=this.toHsl(),o=360/r,s=[this];for(i.h=(i.h-(o*e>>1)+720)%360;--e;)i.h=(i.h+o)%360,s.push(new n(i));return s},n.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new n(e)},n.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var r=this.toHsv(),i=r.h,o=r.s,s=r.v,l=[],u=1/e;e--;)l.push(new n({h:i,s:o,v:s})),s=(s+u)%1;return l},n.prototype.splitcomplement=function(){var e=this.toHsl(),r=e.h;return[this,new n({h:(r+72)%360,s:e.s,l:e.l}),new n({h:(r+216)%360,s:e.s,l:e.l})]},n.prototype.onBackground=function(e){var r=this.toRgb(),i=new n(e).toRgb(),o=r.a+i.a*(1-r.a);return new n({r:(r.r*r.a+i.r*i.a*(1-r.a))/o,g:(r.g*r.a+i.g*i.a*(1-r.a))/o,b:(r.b*r.a+i.b*i.a*(1-r.a))/o,a:o})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(e){for(var r=this.toHsl(),i=r.h,o=[this],s=360/e,l=1;l<e;l++)o.push(new n({h:(i+l*s)%360,s:r.s,l:r.l}));return o},n.prototype.equals=function(e){return this.toRgbString()===new n(e).toRgbString()},n}(),Ob=2,b4=.16,Bte=.05,Ote=.05,Dte=.15,fz=5,hz=4,Nte=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function x4(n){var e=n.r,r=n.g,i=n.b,o=MT(e,r,i);return{h:o.h*360,s:o.s,v:o.v}}function Db(n){var e=n.r,r=n.g,i=n.b;return"#".concat(TT(e,r,i,!1))}function kte(n,e,r){var i=r/100,o={r:(e.r-n.r)*i+n.r,g:(e.g-n.g)*i+n.g,b:(e.b-n.b)*i+n.b};return o}function E4(n,e,r){var i;return Math.round(n.h)>=60&&Math.round(n.h)<=240?i=r?Math.round(n.h)-Ob*e:Math.round(n.h)+Ob*e:i=r?Math.round(n.h)+Ob*e:Math.round(n.h)-Ob*e,i<0?i+=360:i>=360&&(i-=360),i}function C4(n,e,r){if(n.h===0&&n.s===0)return n.s;var i;return r?i=n.s-b4*e:e===hz?i=n.s+b4:i=n.s+Bte*e,i>1&&(i=1),r&&e===fz&&i>.1&&(i=.1),i<.06&&(i=.06),Number(i.toFixed(2))}function w4(n,e,r){var i;return r?i=n.v+Ote*e:i=n.v-Dte*e,i>1&&(i=1),Number(i.toFixed(2))}function Iu(n){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=[],i=Zp(n),o=fz;o>0;o-=1){var s=x4(i),l=Db(Zp({h:E4(s,o,!0),s:C4(s,o,!0),v:w4(s,o,!0)}));r.push(l)}r.push(Db(i));for(var u=1;u<=hz;u+=1){var c=x4(i),d=Db(Zp({h:E4(c,u),s:C4(c,u),v:w4(c,u)}));r.push(d)}return e.theme==="dark"?Nte.map(function(h){var p=h.index,m=h.opacity,v=Db(kte(Zp(e.backgroundColor||"#141414"),Zp(r[p]),m*100));return v}):r}var Tm={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},I0={},S2={};Object.keys(Tm).forEach(function(n){I0[n]=Iu(Tm[n]),I0[n].primary=I0[n][5],S2[n]=Iu(Tm[n],{theme:"dark",backgroundColor:"#141414"}),S2[n].primary=S2[n][5]});var Fte=I0.gold,IT=I0.blue;function S4(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function ht(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S4(Object(r),!0).forEach(function(i){ct(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):S4(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function la(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Ute(n,e){if(!n)return!1;if(n.contains)return n.contains(e);for(var r=e;r;){if(r===n)return!0;r=r.parentNode}return!1}var _4="data-rc-order",M4="data-rc-priority",zte="rc-util-key",PT=new Map;function pz(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.mark;return e?e.startsWith("data-")?e:"data-".concat(e):zte}function ZE(n){if(n.attachTo)return n.attachTo;var e=document.querySelector("head");return e||document.body}function $te(n){return n==="queue"?"prependQueue":n?"prepend":"append"}function mz(n){return Array.from((PT.get(n)||n).children).filter(function(e){return e.tagName==="STYLE"})}function gz(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!la())return null;var r=e.csp,i=e.prepend,o=e.priority,s=o===void 0?0:o,l=$te(i),u=l==="prependQueue",c=document.createElement("style");c.setAttribute(_4,l),u&&s&&c.setAttribute(M4,"".concat(s)),r!=null&&r.nonce&&(c.nonce=r==null?void 0:r.nonce),c.innerHTML=n;var d=ZE(e),h=d.firstChild;if(i){if(u){var p=mz(d).filter(function(m){if(!["prepend","prependQueue"].includes(m.getAttribute(_4)))return!1;var v=Number(m.getAttribute(M4)||0);return s>=v});if(p.length)return d.insertBefore(c,p[p.length-1].nextSibling),c}d.insertBefore(c,h)}else d.appendChild(c);return c}function vz(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=ZE(e);return mz(r).find(function(i){return i.getAttribute(pz(e))===n})}function Vx(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=vz(n,e);if(r){var i=ZE(e);i.removeChild(r)}}function Hte(n,e){var r=PT.get(n);if(!r||!Ute(document,r)){var i=gz("",e),o=i.parentNode;PT.set(n,o),n.removeChild(i)}}function Qm(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=ZE(r);Hte(i,r);var o=vz(e,r);if(o){var s,l;if((s=r.csp)!==null&&s!==void 0&&s.nonce&&o.nonce!==((l=r.csp)===null||l===void 0?void 0:l.nonce)){var u;o.nonce=(u=r.csp)===null||u===void 0?void 0:u.nonce}return o.innerHTML!==n&&(o.innerHTML=n),o}var c=gz(n,r);return c.setAttribute(pz(r),e),c}function Az(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}function jte(n){return Az(n)instanceof ShadowRoot}function Wx(n){return jte(n)?Az(n):null}var LT={},Gte=function(e){};function Vte(n,e){}function Wte(n,e){}function Qte(){LT={}}function yz(n,e,r){!e&&!LT[r]&&(n(!1,r),LT[r]=!0)}function no(n,e){yz(Vte,n,e)}function Kte(n,e){yz(Wte,n,e)}no.preMessage=Gte;no.resetWarned=Qte;no.noteOnce=Kte;function Xte(n){return n.replace(/-(.)/g,function(e,r){return r.toUpperCase()})}function qte(n,e){no(n,"[@ant-design/icons] ".concat(e))}function T4(n){return Tr(n)==="object"&&typeof n.name=="string"&&typeof n.theme=="string"&&(Tr(n.icon)==="object"||typeof n.icon=="function")}function R4(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(n).reduce(function(e,r){var i=n[r];switch(r){case"class":e.className=i,delete e.class;break;default:delete e[r],e[Xte(r)]=i}return e},{})}function BT(n,e,r){return r?Wt.createElement(n.tag,ht(ht({key:e},R4(n.attrs)),r),(n.children||[]).map(function(i,o){return BT(i,"".concat(e,"-").concat(n.tag,"-").concat(o))})):Wt.createElement(n.tag,ht({key:e},R4(n.attrs)),(n.children||[]).map(function(i,o){return BT(i,"".concat(e,"-").concat(n.tag,"-").concat(o))}))}function bz(n){return Iu(n)[0]}function xz(n){return n?Array.isArray(n)?n:[n]:[]}var Yte=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,Jte=function(e){var r=M.useContext(LI),i=r.csp,o=r.prefixCls,s=Yte;o&&(s=s.replace(/anticon/g,o)),M.useEffect(function(){var l=e.current,u=Wx(l);Qm(s,"@ant-design-icons",{prepend:!0,csp:i,attachTo:u})},[])},Zte=["icon","className","onClick","style","primaryColor","secondaryColor"],P0={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function ene(n){var e=n.primaryColor,r=n.secondaryColor;P0.primaryColor=e,P0.secondaryColor=r||bz(e),P0.calculated=!!r}function tne(){return ht({},P0)}var eC=function(e){var r=e.icon,i=e.className,o=e.onClick,s=e.style,l=e.primaryColor,u=e.secondaryColor,c=Br(e,Zte),d=M.useRef(),h=P0;if(l&&(h={primaryColor:l,secondaryColor:u||bz(l)}),Jte(d),qte(T4(r),"icon should be icon definiton, but got ".concat(r)),!T4(r))return null;var p=r;return p&&typeof p.icon=="function"&&(p=ht(ht({},p),{},{icon:p.icon(h.primaryColor,h.secondaryColor)})),BT(p.icon,"svg-".concat(p.name),ht(ht({className:i,onClick:o,style:s,"data-icon":p.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},c),{},{ref:d}))};eC.displayName="IconReact";eC.getTwoToneColors=tne;eC.setTwoToneColors=ene;const OI=eC;function Ez(n){var e=xz(n),r=Ot(e,2),i=r[0],o=r[1];return OI.setTwoToneColors({primaryColor:i,secondaryColor:o})}function nne(){var n=OI.getTwoToneColors();return n.calculated?[n.primaryColor,n.secondaryColor]:n.primaryColor}var rne=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Ez(IT.primary);var tC=M.forwardRef(function(n,e){var r,i=n.className,o=n.icon,s=n.spin,l=n.rotate,u=n.tabIndex,c=n.onClick,d=n.twoToneColor,h=Br(n,rne),p=M.useContext(LI),m=p.prefixCls,v=m===void 0?"anticon":m,y=p.rootClassName,A=bt(y,v,(r={},ct(r,"".concat(v,"-").concat(o.name),!!o.name),ct(r,"".concat(v,"-spin"),!!s||o.name==="loading"),r),i),b=u;b===void 0&&c&&(b=-1);var g=l?{msTransform:"rotate(".concat(l,"deg)"),transform:"rotate(".concat(l,"deg)")}:void 0,w=xz(d),E=Ot(w,2),C=E[0],_=E[1];return M.createElement("span",rn({role:"img","aria-label":o.name},h,{ref:e,tabIndex:b,onClick:c,className:A}),M.createElement(OI,{icon:o,primaryColor:C,secondaryColor:_,style:g}))});tC.displayName="AntdIcon";tC.getTwoToneColor=nne;tC.setTwoToneColor=Ez;const ri=tC;var ine={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"};const one=ine;var ane=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:one}))};const sne=M.forwardRef(ane);var lne={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};const cne=lne;var une=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:cne}))};const dne=M.forwardRef(une);var fne={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"};const hne=fne;var pne=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:hne}))};const mne=M.forwardRef(pne);var gne={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"};const vne=gne;var Ane=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:vne}))};const yne=M.forwardRef(Ane);var bne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};const xne=bne;var Ene=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:xne}))};const Cz=M.forwardRef(Ene);var Cne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};const wne=Cne;var Sne=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:wne}))};const DI=M.forwardRef(Sne);var _ne={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};const Mne=_ne;var Tne=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:Mne}))};const zA=M.forwardRef(Tne);var Rne={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};const Ine=Rne;var Pne=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:Ine}))};const Mh=M.forwardRef(Pne);var Lne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"};const Bne=Lne;var One=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:Bne}))};const Dne=M.forwardRef(One);var Nne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};const kne=Nne;var Fne=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:kne}))};const Une=M.forwardRef(Fne);var zne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"};const $ne=zne;var Hne=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:$ne}))};const jne=M.forwardRef(Hne);var Gne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"};const Vne=Gne;var Wne=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:Vne}))};const I4=M.forwardRef(Wne);var Qne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"};const Kne=Qne;var Xne=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:Kne}))};const P4=M.forwardRef(Xne);var qne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};const Yne=qne;var Jne=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:Yne}))};const wz=M.forwardRef(Jne);var Zne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};const ere=Zne;var tre=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:ere}))};const nre=M.forwardRef(tre);var rre={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};const ire=rre;var ore=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:ire}))};const are=M.forwardRef(ore);var sre={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"};const lre=sre;var cre=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:lre}))};const NI=M.forwardRef(cre);var ure={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"};const dre=ure;var fre=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:dre}))};const hre=M.forwardRef(fre);var pre={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};const mre=pre;var gre=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:mre}))};const vre=M.forwardRef(gre);var Are={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"};const yre=Are;var bre=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:yre}))};const xre=M.forwardRef(bre);var Ere={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};const Cre=Ere;var wre=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:Cre}))};const Sz=M.forwardRef(wre);var Sre={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};const _re=Sre;var Mre=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:_re}))};const _z=M.forwardRef(Mre);var Tre={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M296 256c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm192 200v-48c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8zm-48 396H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h272c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm104.1-115.6c1.8-34.5 16.2-66.8 40.8-91.4 26.2-26.2 62-41 99.1-41 37.4 0 72.6 14.6 99.1 41 3.2 3.2 6.3 6.6 9.2 10.1L769.2 673a8 8 0 003 14.1l93.3 22.5c5 1.2 9.8-2.6 9.9-7.7l.6-95.4a8 8 0 00-12.9-6.4l-20.3 15.8C805.4 569.6 748.1 540 684 540c-109.9 0-199.6 86.9-204 195.7-.2 4.5 3.5 8.3 8 8.3h48.1c4.3 0 7.8-3.3 8-7.6zM880 744h-48.1c-4.3 0-7.8 3.3-8 7.6-1.8 34.5-16.2 66.8-40.8 91.4-26.2 26.2-62 41-99.1 41-37.4 0-72.6-14.6-99.1-41-3.2-3.2-6.3-6.6-9.2-10.1l23.1-17.9a8 8 0 00-3-14.1l-93.3-22.5c-5-1.2-9.8 2.6-9.9 7.7l-.6 95.4a8 8 0 0012.9 6.4l20.3-15.8C562.6 918.4 619.9 948 684 948c109.9 0 199.6-86.9 204-195.7.2-4.5-3.5-8.3-8-8.3z"}}]},name:"file-sync",theme:"outlined"};const Rre=Tre;var Ire=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:Rre}))};const Pre=M.forwardRef(Ire);var Lre={icon:function(e,r){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:r}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:e}}]}},name:"file",theme:"twotone"};const Bre=Lre;var Ore=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:Bre}))};const Dre=M.forwardRef(Ore);var Nre={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"};const kre=Nre;var Fre=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:kre}))};const Ure=M.forwardRef(Fre);var zre={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};const $re=zre;var Hre=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:$re}))};const jre=M.forwardRef(Hre);var Gre={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"};const Vre=Gre;var Wre=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:Vre}))};const Qre=M.forwardRef(Wre);var Kre={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"};const Xre=Kre;var qre=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:Xre}))};const Yre=M.forwardRef(qre);var Jre={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"};const Zre=Jre;var eie=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:Zre}))};const tie=M.forwardRef(eie);var nie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};const rie=nie;var iie=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:rie}))};const oie=M.forwardRef(iie);var aie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"};const sie=aie;var lie=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:sie}))};const Qx=M.forwardRef(lie);var cie={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};const uie=cie;var die=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:uie}))};const Km=M.forwardRef(die);var fie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};const hie=fie;var pie=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:hie}))};const mie=M.forwardRef(pie);var gie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"};const vie=gie;var Aie=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:vie}))};const yie=M.forwardRef(Aie);var bie={icon:function(e,r){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:e}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:r}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:r}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:r}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:e}}]}},name:"picture",theme:"twotone"};const xie=bie;var Eie=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:xie}))};const Cie=M.forwardRef(Eie);var wie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};const Sie=wie;var _ie=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:Sie}))};const Mie=M.forwardRef(_ie);var Tie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};const Rie=Tie;var Iie=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:Rie}))};const Pie=M.forwardRef(Iie);var Lie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};const Bie=Lie;var Oie=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:Bie}))};const fA=M.forwardRef(Oie);var Die={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};const Nie=Die;var kie=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:Nie}))};const kI=M.forwardRef(kie);var Fie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 000-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"}}]},name:"share-alt",theme:"outlined"};const Uie=Fie;var zie=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:Uie}))};const Mz=M.forwardRef(zie);var $ie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M848 359.3H627.7L825.8 109c4.1-5.3.4-13-6.3-13H436c-2.8 0-5.5 1.5-6.9 4L170 547.5c-3.1 5.3.7 12 6.9 12h174.4l-89.4 357.6c-1.9 7.8 7.5 13.3 13.3 7.7L853.5 373c5.2-4.9 1.7-13.7-5.5-13.7zM378.2 732.5l60.3-241H281.1l189.6-327.4h224.6L487 427.4h211L378.2 732.5z"}}]},name:"thunderbolt",theme:"outlined"};const Hie=$ie;var jie=function(e,r){return M.createElement(ri,rn({},e,{ref:r,icon:Hie}))};const Gie=M.forwardRef(jie);var Tz={exports:{}},Hi={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FI=Symbol.for("react.element"),UI=Symbol.for("react.portal"),nC=Symbol.for("react.fragment"),rC=Symbol.for("react.strict_mode"),iC=Symbol.for("react.profiler"),oC=Symbol.for("react.provider"),aC=Symbol.for("react.context"),Vie=Symbol.for("react.server_context"),sC=Symbol.for("react.forward_ref"),lC=Symbol.for("react.suspense"),cC=Symbol.for("react.suspense_list"),uC=Symbol.for("react.memo"),dC=Symbol.for("react.lazy"),Wie=Symbol.for("react.offscreen"),Rz;Rz=Symbol.for("react.module.reference");function fl(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case FI:switch(n=n.type,n){case nC:case iC:case rC:case lC:case cC:return n;default:switch(n=n&&n.$$typeof,n){case Vie:case aC:case sC:case dC:case uC:case oC:return n;default:return e}}case UI:return e}}}Hi.ContextConsumer=aC;Hi.ContextProvider=oC;Hi.Element=FI;Hi.ForwardRef=sC;Hi.Fragment=nC;Hi.Lazy=dC;Hi.Memo=uC;Hi.Portal=UI;Hi.Profiler=iC;Hi.StrictMode=rC;Hi.Suspense=lC;Hi.SuspenseList=cC;Hi.isAsyncMode=function(){return!1};Hi.isConcurrentMode=function(){return!1};Hi.isContextConsumer=function(n){return fl(n)===aC};Hi.isContextProvider=function(n){return fl(n)===oC};Hi.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===FI};Hi.isForwardRef=function(n){return fl(n)===sC};Hi.isFragment=function(n){return fl(n)===nC};Hi.isLazy=function(n){return fl(n)===dC};Hi.isMemo=function(n){return fl(n)===uC};Hi.isPortal=function(n){return fl(n)===UI};Hi.isProfiler=function(n){return fl(n)===iC};Hi.isStrictMode=function(n){return fl(n)===rC};Hi.isSuspense=function(n){return fl(n)===lC};Hi.isSuspenseList=function(n){return fl(n)===cC};Hi.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===nC||n===iC||n===rC||n===lC||n===cC||n===Wie||typeof n=="object"&&n!==null&&(n.$$typeof===dC||n.$$typeof===uC||n.$$typeof===oC||n.$$typeof===aC||n.$$typeof===sC||n.$$typeof===Rz||n.getModuleId!==void 0)};Hi.typeOf=fl;Tz.exports=Hi;var zI=Tz.exports;function Th(n,e,r){var i=M.useRef({});return(!("value"in i.current)||r(i.current.condition,e))&&(i.current.value=n(),i.current.condition=e),i.current.value}function hA(n,e){typeof n=="function"?n(e):Tr(n)==="object"&&n&&"current"in n&&(n.current=e)}function zs(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];var i=e.filter(function(o){return o});return i.length<=1?i[0]:function(o){e.forEach(function(s){hA(s,o)})}}function Rh(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return Th(function(){return zs.apply(void 0,e)},e,function(i,o){return i.length!==o.length||i.every(function(s,l){return s!==o[l]})})}function bc(n){var e,r,i=zI.isMemo(n)?n.type.type:n.type;return!(typeof i=="function"&&!((e=i.prototype)!==null&&e!==void 0&&e.render)||typeof n=="function"&&!((r=n.prototype)!==null&&r!==void 0&&r.render))}function Qie(n){return!M.isValidElement(n)||zI.isFragment(n)?!1:bc(n)}function qa(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=[];return Wt.Children.forEach(n,function(i){i==null&&!e.keepEmpty||(Array.isArray(i)?r=r.concat(qa(i)):zI.isFragment(i)&&i.props?r=r.concat(qa(i.props.children,e)):r.push(i))}),r}function Kx(n){return n instanceof HTMLElement||n instanceof SVGElement}function L0(n){return Kx(n)?n:n instanceof Wt.Component?Gx.findDOMNode(n):null}var OT=M.createContext(null);function Kie(n){var e=n.children,r=n.onBatchResize,i=M.useRef(0),o=M.useRef([]),s=M.useContext(OT),l=M.useCallback(function(u,c,d){i.current+=1;var h=i.current;o.current.push({size:u,element:c,data:d}),Promise.resolve().then(function(){h===i.current&&(r==null||r(o.current),o.current=[])}),s==null||s(u,c,d)},[r,s]);return M.createElement(OT.Provider,{value:l},e)}var Iz=function(){if(typeof Map<"u")return Map;function n(e,r){var i=-1;return e.some(function(o,s){return o[0]===r?(i=s,!0):!1}),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(r){var i=n(this.__entries__,r),o=this.__entries__[i];return o&&o[1]},e.prototype.set=function(r,i){var o=n(this.__entries__,r);~o?this.__entries__[o][1]=i:this.__entries__.push([r,i])},e.prototype.delete=function(r){var i=this.__entries__,o=n(i,r);~o&&i.splice(o,1)},e.prototype.has=function(r){return!!~n(this.__entries__,r)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(r,i){i===void 0&&(i=null);for(var o=0,s=this.__entries__;o<s.length;o++){var l=s[o];r.call(i,l[1],l[0])}},e}()}(),DT=typeof window<"u"&&typeof document<"u"&&window.document===document,Xx=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Xie=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Xx):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),qie=2;function Yie(n,e){var r=!1,i=!1,o=0;function s(){r&&(r=!1,n()),i&&u()}function l(){Xie(s)}function u(){var c=Date.now();if(r){if(c-o<qie)return;i=!0}else r=!0,i=!1,setTimeout(l,e);o=c}return u}var Jie=20,Zie=["top","right","bottom","left","width","height","size","weight"],eoe=typeof MutationObserver<"u",toe=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Yie(this.refresh.bind(this),Jie)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var r=this.observers_,i=r.indexOf(e);~i&&r.splice(i,1),!r.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return e.forEach(function(r){return r.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!DT||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),eoe?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!DT||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var r=e.propertyName,i=r===void 0?"":r,o=Zie.some(function(s){return!!~i.indexOf(s)});o&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),Pz=function(n,e){for(var r=0,i=Object.keys(e);r<i.length;r++){var o=i[r];Object.defineProperty(n,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0})}return n},Xm=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||Xx},Lz=fC(0,0,0,0);function qx(n){return parseFloat(n)||0}function L4(n){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.reduce(function(i,o){var s=n["border-"+o+"-width"];return i+qx(s)},0)}function noe(n){for(var e=["top","right","bottom","left"],r={},i=0,o=e;i<o.length;i++){var s=o[i],l=n["padding-"+s];r[s]=qx(l)}return r}function roe(n){var e=n.getBBox();return fC(0,0,e.width,e.height)}function ioe(n){var e=n.clientWidth,r=n.clientHeight;if(!e&&!r)return Lz;var i=Xm(n).getComputedStyle(n),o=noe(i),s=o.left+o.right,l=o.top+o.bottom,u=qx(i.width),c=qx(i.height);if(i.boxSizing==="border-box"&&(Math.round(u+s)!==e&&(u-=L4(i,"left","right")+s),Math.round(c+l)!==r&&(c-=L4(i,"top","bottom")+l)),!aoe(n)){var d=Math.round(u+s)-e,h=Math.round(c+l)-r;Math.abs(d)!==1&&(u-=d),Math.abs(h)!==1&&(c-=h)}return fC(o.left,o.top,u,c)}var ooe=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof Xm(n).SVGGraphicsElement}:function(n){return n instanceof Xm(n).SVGElement&&typeof n.getBBox=="function"}}();function aoe(n){return n===Xm(n).document.documentElement}function soe(n){return DT?ooe(n)?roe(n):ioe(n):Lz}function loe(n){var e=n.x,r=n.y,i=n.width,o=n.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,l=Object.create(s.prototype);return Pz(l,{x:e,y:r,width:i,height:o,top:r,right:e+i,bottom:o+r,left:e}),l}function fC(n,e,r,i){return{x:n,y:e,width:r,height:i}}var coe=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=fC(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=soe(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),uoe=function(){function n(e,r){var i=loe(r);Pz(this,{target:e,contentRect:i})}return n}(),doe=function(){function n(e,r,i){if(this.activeObservations_=[],this.observations_=new Iz,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=r,this.callbackCtx_=i}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Xm(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)||(r.set(e,new coe(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Xm(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)&&(r.delete(e),r.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&e.activeObservations_.push(r)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,r=this.activeObservations_.map(function(i){return new uoe(i.target,i.broadcastRect())});this.callback_.call(e,r,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),Bz=typeof WeakMap<"u"?new WeakMap:new Iz,Oz=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=toe.getInstance(),i=new doe(e,r,this);Bz.set(this,i)}return n}();["observe","unobserve","disconnect"].forEach(function(n){Oz.prototype[n]=function(){var e;return(e=Bz.get(this))[n].apply(e,arguments)}});var foe=function(){return typeof Xx.ResizeObserver<"u"?Xx.ResizeObserver:Oz}(),Ld=new Map;function hoe(n){n.forEach(function(e){var r,i=e.target;(r=Ld.get(i))===null||r===void 0||r.forEach(function(o){return o(i)})})}var Dz=new foe(hoe);function poe(n,e){Ld.has(n)||(Ld.set(n,new Set),Dz.observe(n)),Ld.get(n).add(e)}function moe(n,e){Ld.has(n)&&(Ld.get(n).delete(e),Ld.get(n).size||(Dz.unobserve(n),Ld.delete(n)))}function ca(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function B4(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,cz(i.key),i)}}function ua(n,e,r){return e&&B4(n.prototype,e),r&&B4(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}function qm(n,e){return qm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},qm(n,e)}function ql(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&qm(n,e)}function pA(n){return pA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pA(n)}function Nz(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ti(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function goe(n,e){if(e&&(Tr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ti(n)}function Yl(n){var e=Nz();return function(){var i=pA(n),o;if(e){var s=pA(this).constructor;o=Reflect.construct(i,arguments,s)}else o=i.apply(this,arguments);return goe(this,o)}}var voe=function(n){ql(r,n);var e=Yl(r);function r(){return ca(this,r),e.apply(this,arguments)}return ua(r,[{key:"render",value:function(){return this.props.children}}]),r}(M.Component);function Aoe(n,e){var r=n.children,i=n.disabled,o=M.useRef(null),s=M.useRef(null),l=M.useContext(OT),u=typeof r=="function",c=u?r(o):r,d=M.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),h=!u&&M.isValidElement(c)&&bc(c),p=h?c.ref:null,m=Rh(p,o),v=function(){var g;return L0(o.current)||(o.current&&Tr(o.current)==="object"?L0((g=o.current)===null||g===void 0?void 0:g.nativeElement):null)||L0(s.current)};M.useImperativeHandle(e,function(){return v()});var y=M.useRef(n);y.current=n;var A=M.useCallback(function(b){var g=y.current,w=g.onResize,E=g.data,C=b.getBoundingClientRect(),_=C.width,P=C.height,R=b.offsetWidth,L=b.offsetHeight,T=Math.floor(_),D=Math.floor(P);if(d.current.width!==T||d.current.height!==D||d.current.offsetWidth!==R||d.current.offsetHeight!==L){var H={width:T,height:D,offsetWidth:R,offsetHeight:L};d.current=H;var V=R===Math.round(_)?_:R,B=L===Math.round(P)?P:L,O=ht(ht({},H),{},{offsetWidth:V,offsetHeight:B});l==null||l(O,b,E),w&&Promise.resolve().then(function(){w(O,b)})}},[]);return M.useEffect(function(){var b=v();return b&&!i&&poe(b,A),function(){return moe(b,A)}},[o.current,i]),M.createElement(voe,{ref:s},h?M.cloneElement(c,{ref:m}):c)}var yoe=M.forwardRef(Aoe),boe="rc-observer-key";function xoe(n,e){var r=n.children,i=typeof r=="function"?[r]:qa(r);return i.map(function(o,s){var l=(o==null?void 0:o.key)||"".concat(boe,"-").concat(s);return M.createElement(yoe,rn({},n,{key:l,ref:s===0?e:void 0}),o)})}var Qa=M.forwardRef(xoe);Qa.Collection=Kie;function co(n,e){var r=ht({},n);return Array.isArray(e)&&e.forEach(function(i){delete r[i]}),r}function Eoe(n){if(Array.isArray(n))return _T(n)}function kz(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Coe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mn(n){return Eoe(n)||kz(n)||BI(n)||Coe()}var Fz=function(e){return+setTimeout(e,16)},Uz=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(Fz=function(e){return window.requestAnimationFrame(e)},Uz=function(e){return window.cancelAnimationFrame(e)});var O4=0,$I=new Map;function zz(n){$I.delete(n)}var Oi=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;O4+=1;var i=O4;function o(s){if(s===0)zz(i),e();else{var l=Fz(function(){o(s-1)});$I.set(i,l)}}return o(r),i};Oi.cancel=function(n){var e=$I.get(n);return zz(e),Uz(e)};function HI(n){for(var e=0,r,i=0,o=n.length;o>=4;++i,o-=4)r=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(o){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function Pu(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=new Set;function o(s,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,c=i.has(s);if(no(!c,"Warning: There may be circular references"),c)return!1;if(s===l)return!0;if(r&&u>1)return!1;i.add(s);var d=u+1;if(Array.isArray(s)){if(!Array.isArray(l)||s.length!==l.length)return!1;for(var h=0;h<s.length;h++)if(!o(s[h],l[h],d))return!1;return!0}if(s&&l&&Tr(s)==="object"&&Tr(l)==="object"){var p=Object.keys(s);return p.length!==Object.keys(l).length?!1:p.every(function(m){return o(s[m],l[m],d)})}return!1}return o(n,e)}var D4="%",woe=function(){function n(e){ca(this,n),ct(this,"instanceId",void 0),ct(this,"cache",new Map),this.instanceId=e}return ua(n,[{key:"get",value:function(r){return this.cache.get(r.join(D4))||null}},{key:"update",value:function(r,i){var o=r.join(D4),s=this.cache.get(o),l=i(s);l===null?this.cache.delete(o):this.cache.set(o,l)}}]),n}(),NT="data-token-hash",sh="data-css-hash",fm="__cssinjs_instance__";function Soe(){var n=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(sh,"]"))||[],r=document.head.firstChild;Array.from(e).forEach(function(o){o[fm]=o[fm]||n,o[fm]===n&&document.head.insertBefore(o,r)});var i={};Array.from(document.querySelectorAll("style[".concat(sh,"]"))).forEach(function(o){var s=o.getAttribute(sh);if(i[s]){if(o[fm]===n){var l;(l=o.parentNode)===null||l===void 0||l.removeChild(o)}}else i[s]=!0})}return new woe(n)}var jI=M.createContext({hashPriority:"low",cache:Soe(),defaultCache:!0});function _oe(n,e){if(n.length!==e.length)return!1;for(var r=0;r<n.length;r++)if(n[r]!==e[r])return!1;return!0}var GI=function(){function n(){ca(this,n),ct(this,"cache",void 0),ct(this,"keys",void 0),ct(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return ua(n,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(r){var i,o,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l={map:this.cache};return r.forEach(function(u){if(!l)l=void 0;else{var c,d;l=(c=l)===null||c===void 0||(d=c.map)===null||d===void 0?void 0:d.get(u)}}),(i=l)!==null&&i!==void 0&&i.value&&s&&(l.value[1]=this.cacheCallTimes++),(o=l)===null||o===void 0?void 0:o.value}},{key:"get",value:function(r){var i;return(i=this.internalGet(r,!0))===null||i===void 0?void 0:i[0]}},{key:"has",value:function(r){return!!this.internalGet(r)}},{key:"set",value:function(r,i){var o=this;if(!this.has(r)){if(this.size()+1>n.MAX_CACHE_SIZE+n.MAX_CACHE_OFFSET){var s=this.keys.reduce(function(d,h){var p=Ot(d,2),m=p[1];return o.internalGet(h)[1]<m?[h,o.internalGet(h)[1]]:d},[this.keys[0],this.cacheCallTimes]),l=Ot(s,1),u=l[0];this.delete(u)}this.keys.push(r)}var c=this.cache;r.forEach(function(d,h){if(h===r.length-1)c.set(d,{value:[i,o.cacheCallTimes++]});else{var p=c.get(d);p?p.map||(p.map=new Map):c.set(d,{map:new Map}),c=c.get(d).map}})}},{key:"deleteByPath",value:function(r,i){var o=r.get(i[0]);if(i.length===1){var s;return o.map?r.set(i[0],{map:o.map}):r.delete(i[0]),(s=o.value)===null||s===void 0?void 0:s[0]}var l=this.deleteByPath(o.map,i.slice(1));return(!o.map||o.map.size===0)&&!o.value&&r.delete(i[0]),l}},{key:"delete",value:function(r){if(this.has(r))return this.keys=this.keys.filter(function(i){return!_oe(i,r)}),this.deleteByPath(this.cache,r)}}]),n}();ct(GI,"MAX_CACHE_SIZE",20);ct(GI,"MAX_CACHE_OFFSET",5);var N4=0,$z=function(){function n(e){ca(this,n),ct(this,"derivatives",void 0),ct(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=N4,e.length===0&&(e.length>0,void 0),N4+=1}return ua(n,[{key:"getDerivativeToken",value:function(r){return this.derivatives.reduce(function(i,o){return o(r,i)},void 0)}}]),n}(),_2=new GI;function mA(n){var e=Array.isArray(n)?n:[n];return _2.has(e)||_2.set(e,new $z(e)),_2.get(e)}var Moe=new WeakMap,M2={};function Toe(n,e){for(var r=Moe,i=0;i<e.length;i+=1){var o=e[i];r.has(o)||r.set(o,new WeakMap),r=r.get(o)}return r.has(M2)||r.set(M2,n()),r.get(M2)}var k4=new WeakMap;function Yx(n){var e=k4.get(n)||"";return e||(Object.keys(n).forEach(function(r){var i=n[r];e+=r,i instanceof $z?e+=i.id:i&&Tr(i)==="object"?e+=Yx(i):e+=i}),k4.set(n,e)),e}function Roe(n,e){return HI("".concat(e,"_").concat(Yx(n)))}var B0="random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,""),Hz="_bAmBoO_";function Ioe(n,e,r){if(la()){var i,o;Qm(n,B0);var s=document.createElement("div");s.style.position="fixed",s.style.left="0",s.style.top="0",e==null||e(s),document.body.appendChild(s);var l=r?r(s):(i=getComputedStyle(s).content)===null||i===void 0?void 0:i.includes(Hz);return(o=s.parentNode)===null||o===void 0||o.removeChild(s),Vx(B0),l}return!1}var T2=void 0;function Poe(){return T2===void 0&&(T2=Ioe("@layer ".concat(B0," { .").concat(B0,' { content: "').concat(Hz,'"!important; } }'),function(n){n.className=B0})),T2}var F4=la()?M.useLayoutEffect:M.useEffect,mi=function(e,r){var i=M.useRef(!0);F4(function(){return e(i.current)},r),F4(function(){return i.current=!1,function(){i.current=!0}},[])},kT=function(e,r){mi(function(i){if(!i)return e()},r)},Loe=ht({},DA),U4=Loe.useInsertionEffect,Boe=function(e,r,i){M.useMemo(e,i),mi(function(){return r(!0)},i)},Ooe=U4?function(n,e,r){return U4(function(){return n(),e()},r)}:Boe,Doe=ht({},DA),Noe=Doe.useInsertionEffect,koe=function(e){var r=[],i=!1;function o(s){i||r.push(s)}return M.useEffect(function(){return i=!1,function(){i=!0,r.length&&r.forEach(function(s){return s()})}},e),o},Foe=function(){return function(e){e()}},Uoe=typeof Noe<"u"?koe:Foe;function jz(n,e,r,i,o){var s=M.useContext(jI),l=s.cache,u=[n].concat(mn(e)),c=u.join("_"),d=Uoe([c]),h=function(y){l.update(u,function(A){var b=A||[],g=Ot(b,2),w=g[0],E=w===void 0?0:w,C=g[1],_=C,P=_||r(),R=[E,P];return y?y(R):R})};M.useMemo(function(){h()},[c]);var p=l.get(u),m=p[1];return Ooe(function(){o==null||o(m)},function(v){return h(function(y){var A=Ot(y,2),b=A[0],g=A[1];return v&&b===0&&(o==null||o(m)),[b+1,g]}),function(){l.update(u,function(y){var A=y||[],b=Ot(A,2),g=b[0],w=g===void 0?0:g,E=b[1],C=w-1;return C===0?(d(function(){return i==null?void 0:i(E,!1)}),null):[w-1,E]})}},[c]),m}var zoe={},$oe="css",Gf=new Map;function Hoe(n){Gf.set(n,(Gf.get(n)||0)+1)}function joe(n,e){if(typeof document<"u"){var r=document.querySelectorAll("style[".concat(NT,'="').concat(n,'"]'));r.forEach(function(i){if(i[fm]===e){var o;(o=i.parentNode)===null||o===void 0||o.removeChild(i)}})}}var Goe=0;function Voe(n,e){Gf.set(n,(Gf.get(n)||0)-1);var r=Array.from(Gf.keys()),i=r.filter(function(o){var s=Gf.get(o)||0;return s<=0});r.length-i.length>Goe&&i.forEach(function(o){joe(o,e),Gf.delete(o)})}var Gz=function(e,r,i,o){var s=i.getDerivativeToken(e),l=ht(ht({},s),r);return o&&(l=o(l)),l};function Woe(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=M.useContext(jI),o=i.cache.instanceId,s=r.salt,l=s===void 0?"":s,u=r.override,c=u===void 0?zoe:u,d=r.formatToken,h=r.getComputedToken,p=Toe(function(){return Object.assign.apply(Object,[{}].concat(mn(e)))},e),m=Yx(p),v=Yx(c),y=jz("token",[l,n.id,m,v],function(){var A=h?h(p,c,n):Gz(p,c,n,d),b=Roe(A,l);A._tokenKey=b,Hoe(b);var g="".concat($oe,"-").concat(HI(b));return A._hashId=g,[A,g]},function(A){Voe(A[0]._tokenKey,o)});return y}var Qoe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Vz="comm",Wz="rule",Qz="decl",Koe="@import",Xoe="@keyframes",qoe="@layer",Yoe=Math.abs,VI=String.fromCharCode;function Kz(n){return n.trim()}function ex(n,e,r){return n.replace(e,r)}function Joe(n,e){return n.indexOf(e)}function gA(n,e){return n.charCodeAt(e)|0}function vA(n,e,r){return n.slice(e,r)}function wd(n){return n.length}function Xz(n){return n.length}function Nb(n,e){return e.push(n),n}var hC=1,Ym=1,qz=0,dl=0,ko=0,gg="";function WI(n,e,r,i,o,s,l){return{value:n,root:e,parent:r,type:i,props:o,children:s,line:hC,column:Ym,length:l,return:""}}function Zoe(){return ko}function eae(){return ko=dl>0?gA(gg,--dl):0,Ym--,ko===10&&(Ym=1,hC--),ko}function Vl(){return ko=dl<qz?gA(gg,dl++):0,Ym++,ko===10&&(Ym=1,hC++),ko}function lh(){return gA(gg,dl)}function tx(){return dl}function pC(n,e){return vA(gg,n,e)}function FT(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function tae(n){return hC=Ym=1,qz=wd(gg=n),dl=0,[]}function nae(n){return gg="",n}function R2(n){return Kz(pC(dl-1,UT(n===91?n+2:n===40?n+1:n)))}function rae(n){for(;(ko=lh())&&ko<33;)Vl();return FT(n)>2||FT(ko)>3?"":" "}function iae(n,e){for(;--e&&Vl()&&!(ko<48||ko>102||ko>57&&ko<65||ko>70&&ko<97););return pC(n,tx()+(e<6&&lh()==32&&Vl()==32))}function UT(n){for(;Vl();)switch(ko){case n:return dl;case 34:case 39:n!==34&&n!==39&&UT(ko);break;case 40:n===41&&UT(n);break;case 92:Vl();break}return dl}function oae(n,e){for(;Vl()&&n+ko!==47+10;)if(n+ko===42+42&&lh()===47)break;return"/*"+pC(e,dl-1)+"*"+VI(n===47?n:Vl())}function aae(n){for(;!FT(lh());)Vl();return pC(n,dl)}function sae(n){return nae(nx("",null,null,null,[""],n=tae(n),0,[0],n))}function nx(n,e,r,i,o,s,l,u,c){for(var d=0,h=0,p=l,m=0,v=0,y=0,A=1,b=1,g=1,w=0,E="",C=o,_=s,P=i,R=E;b;)switch(y=w,w=Vl()){case 40:if(y!=108&&gA(R,p-1)==58){Joe(R+=ex(R2(w),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:R+=R2(w);break;case 9:case 10:case 13:case 32:R+=rae(y);break;case 92:R+=iae(tx()-1,7);continue;case 47:switch(lh()){case 42:case 47:Nb(lae(oae(Vl(),tx()),e,r),c);break;default:R+="/"}break;case 123*A:u[d++]=wd(R)*g;case 125*A:case 59:case 0:switch(w){case 0:case 125:b=0;case 59+h:g==-1&&(R=ex(R,/\f/g,"")),v>0&&wd(R)-p&&Nb(v>32?$4(R+";",i,r,p-1):$4(ex(R," ","")+";",i,r,p-2),c);break;case 59:R+=";";default:if(Nb(P=z4(R,e,r,d,h,o,u,E,C=[],_=[],p),s),w===123)if(h===0)nx(R,e,P,P,C,s,p,u,_);else switch(m===99&&gA(R,3)===110?100:m){case 100:case 108:case 109:case 115:nx(n,P,P,i&&Nb(z4(n,P,P,0,0,o,u,E,o,C=[],p),_),o,_,p,u,i?C:_);break;default:nx(R,P,P,P,[""],_,0,u,_)}}d=h=v=0,A=g=1,E=R="",p=l;break;case 58:p=1+wd(R),v=y;default:if(A<1){if(w==123)--A;else if(w==125&&A++==0&&eae()==125)continue}switch(R+=VI(w),w*A){case 38:g=h>0?1:(R+="\f",-1);break;case 44:u[d++]=(wd(R)-1)*g,g=1;break;case 64:lh()===45&&(R+=R2(Vl())),m=lh(),h=p=wd(E=R+=aae(tx())),w++;break;case 45:y===45&&wd(R)==2&&(A=0)}}return s}function z4(n,e,r,i,o,s,l,u,c,d,h){for(var p=o-1,m=o===0?s:[""],v=Xz(m),y=0,A=0,b=0;y<i;++y)for(var g=0,w=vA(n,p+1,p=Yoe(A=l[y])),E=n;g<v;++g)(E=Kz(A>0?m[g]+" "+w:ex(w,/&\f/g,m[g])))&&(c[b++]=E);return WI(n,e,r,o===0?Wz:u,c,d,h)}function lae(n,e,r){return WI(n,e,r,Vz,VI(Zoe()),vA(n,2,-2),0)}function $4(n,e,r,i){return WI(n,e,r,Qz,vA(n,0,i),vA(n,i+1,-1),i)}function zT(n,e){for(var r="",i=Xz(n),o=0;o<i;o++)r+=e(n[o],o,n,e)||"";return r}function cae(n,e,r,i){switch(n.type){case qoe:if(n.children.length)break;case Koe:case Qz:return n.return=n.return||n.value;case Vz:return"";case Xoe:return n.return=n.value+"{"+zT(n.children,i)+"}";case Wz:n.value=n.props.join(",")}return wd(r=zT(n.children,i))?n.return=n.value+"{"+r+"}":""}var H4="data-ant-cssinjs-cache-path",Yz="_FILE_STYLE__",ch,Jz=!0;function uae(){if(!ch&&(ch={},la())){var n=document.createElement("div");n.className=H4,n.style.position="fixed",n.style.visibility="hidden",n.style.top="-9999px",document.body.appendChild(n);var e=getComputedStyle(n).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(o){var s=o.split(":"),l=Ot(s,2),u=l[0],c=l[1];ch[u]=c});var r=document.querySelector("style[".concat(H4,"]"));if(r){var i;Jz=!1,(i=r.parentNode)===null||i===void 0||i.removeChild(r)}document.body.removeChild(n)}}function dae(n){return uae(),!!ch[n]}function fae(n){var e=ch[n],r=null;if(e&&la())if(Jz)r=Yz;else{var i=document.querySelector("style[".concat(sh,'="').concat(ch[n],'"]'));i?r=i.innerHTML:delete ch[n]}return[r,e]}var j4=la(),hae="_skip_check_",Zz="_multi_value_";function G4(n){var e=zT(sae(n),cae);return e.replace(/\{%%%\:[^;];}/g,";")}function pae(n){return Tr(n)==="object"&&n&&(hae in n||Zz in n)}function mae(n,e,r){if(!e)return n;var i=".".concat(e),o=r==="low"?":where(".concat(i,")"):i,s=n.split(",").map(function(l){var u,c=l.trim().split(/\s+/),d=c[0]||"",h=((u=d.match(/^\w+/))===null||u===void 0?void 0:u[0])||"";return d="".concat(h).concat(o).concat(d.slice(h.length)),[d].concat(mn(c.slice(1))).join(" ")});return s.join(",")}var gae=function n(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},o=i.root,s=i.injectHash,l=i.parentSelectors,u=r.hashId,c=r.layer;r.path;var d=r.hashPriority,h=r.transformers,p=h===void 0?[]:h;r.linters;var m="",v={};function y(E){var C=E.getName(u);if(!v[C]){var _=n(E.style,r,{root:!1,parentSelectors:l}),P=Ot(_,1),R=P[0];v[C]="@keyframes ".concat(E.getName(u)).concat(R)}}function A(E){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return E.forEach(function(_){Array.isArray(_)?A(_,C):_&&C.push(_)}),C}var b=A(Array.isArray(e)?e:[e]);if(b.forEach(function(E){var C=typeof E=="string"&&!o?{}:E;if(typeof C=="string")m+="".concat(C,`
`);else if(C._keyframe)y(C);else{var _=p.reduce(function(P,R){var L;return(R==null||(L=R.visit)===null||L===void 0?void 0:L.call(R,P))||P},C);Object.keys(_).forEach(function(P){var R=_[P];if(Tr(R)==="object"&&R&&(P!=="animationName"||!R._keyframe)&&!pae(R)){var L=!1,T=P.trim(),D=!1;(o||s)&&u?T.startsWith("@")?L=!0:T=mae(P,u,d):o&&!u&&(T==="&"||T==="")&&(T="",D=!0);var H=n(R,r,{root:D,injectHash:L,parentSelectors:[].concat(mn(l),[T])}),V=Ot(H,2),B=V[0],O=V[1];v=ht(ht({},v),O),m+="".concat(T).concat(B)}else{let j=function(G,Q){var X=G.replace(/[A-Z]/g,function(Z){return"-".concat(Z.toLowerCase())}),J=Q;!Qoe[G]&&typeof J=="number"&&J!==0&&(J="".concat(J,"px")),G==="animationName"&&Q!==null&&Q!==void 0&&Q._keyframe&&(y(Q),J=Q.getName(u)),m+="".concat(X,":").concat(J,";")};var z=j,F,N=(F=R==null?void 0:R.value)!==null&&F!==void 0?F:R;Tr(R)==="object"&&R!==null&&R!==void 0&&R[Zz]&&Array.isArray(N)?N.forEach(function(G){j(P,G)}):j(P,N)}})}}),!o)m="{".concat(m,"}");else if(c&&Poe()){var g=c.split(","),w=g[g.length-1].trim();m="@layer ".concat(w," {").concat(m,"}"),g.length>1&&(m="@layer ".concat(c,"{%%%:%}").concat(m))}return[m,v]};function vae(n,e){return HI("".concat(n.join("%")).concat(e))}function Aae(){return null}function $T(n,e){var r=n.token,i=n.path,o=n.hashId,s=n.layer,l=n.nonce,u=n.clientOnly,c=n.order,d=c===void 0?0:c,h=M.useContext(jI),p=h.autoClear;h.mock;var m=h.defaultCache,v=h.hashPriority,y=h.container,A=h.ssrInline,b=h.transformers,g=h.linters,w=h.cache,E=r._tokenKey,C=[E].concat(mn(i)),_=j4,P=jz("style",C,function(){var H=C.join("|");if(dae(H)){var V=fae(H),B=Ot(V,2),O=B[0],F=B[1];if(O)return[O,E,F,{},u,d]}var N=e(),z=gae(N,{hashId:o,hashPriority:v,layer:s,path:i.join("-"),transformers:b,linters:g}),j=Ot(z,2),G=j[0],Q=j[1],X=G4(G),J=vae(C,X);return[X,E,J,Q,u,d]},function(H,V){var B=Ot(H,3),O=B[2];(V||p)&&j4&&Vx(O,{mark:sh})},function(H){var V=Ot(H,4),B=V[0];V[1];var O=V[2],F=V[3];if(_&&B!==Yz){var N={mark:sh,prepend:"queue",attachTo:y,priority:d},z=typeof l=="function"?l():l;z&&(N.csp={nonce:z});var j=Qm(B,O,N);j[fm]=w.instanceId,j.setAttribute(NT,E),Object.keys(F).forEach(function(G){Qm(G4(F[G]),"_effect-".concat(G),N)})}}),R=Ot(P,3),L=R[0],T=R[1],D=R[2];return function(H){var V;if(!A||_||!m)V=M.createElement(Aae,null);else{var B;V=M.createElement("style",rn({},(B={},ct(B,NT,T),ct(B,sh,D),B),{dangerouslySetInnerHTML:{__html:L}}))}return M.createElement(M.Fragment,null,V,H)}}var ui=function(){function n(e,r){ca(this,n),ct(this,"name",void 0),ct(this,"style",void 0),ct(this,"_keyframe",!0),this.name=e,this.style=r}return ua(n,[{key:"getName",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return r?"".concat(r,"-").concat(this.name):this.name}}]),n}();function fp(n){return n.notSplit=!0,n}fp(["borderTop","borderBottom"]),fp(["borderTop"]),fp(["borderBottom"]),fp(["borderLeft","borderRight"]),fp(["borderLeft"]),fp(["borderRight"]);function e9(n){return sz(n)||kz(n)||BI(n)||lz()}function Ls(n,e){for(var r=n,i=0;i<e.length;i+=1){if(r==null)return;r=r[e[i]]}return r}function t9(n,e,r,i){if(!e.length)return r;var o=e9(e),s=o[0],l=o.slice(1),u;return!n&&typeof s=="number"?u=[]:Array.isArray(n)?u=mn(n):u=ht({},n),i&&r===void 0&&l.length===1?delete u[s][l[0]]:u[s]=t9(u[s],l,r,i),u}function Ll(n,e,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&i&&r===void 0&&!Ls(n,e.slice(0,-1))?n:t9(n,e,r,i)}function yae(n){return Tr(n)==="object"&&n!==null&&Object.getPrototypeOf(n)===Object.prototype}function V4(n){return Array.isArray(n)?[]:{}}var bae=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function hm(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];var i=V4(e[0]);return e.forEach(function(o){function s(l,u){var c=new Set(u),d=Ls(o,l),h=Array.isArray(d);if(h||yae(d)){if(!c.has(d)){c.add(d);var p=Ls(i,l);h?i=Ll(i,l,[]):(!p||Tr(p)!=="object")&&(i=Ll(i,l,V4(d))),bae(d).forEach(function(m){s([].concat(mn(l),[m]),c)})}}else i=Ll(i,l,d)}s([])}),i}function xae(){}const Eae=M.createContext({}),vg=()=>{const n=()=>{};return n.deprecated=xae,n},Cae=M.createContext(void 0),n9={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"};var wae={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"};const Sae={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},r9=Sae,_ae={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},wae),timePickerLocale:Object.assign({},r9)},W4=_ae,Es="${label} is not a valid ${type}",Mae={locale:"en",Pagination:n9,DatePicker:W4,TimePicker:r9,Calendar:W4,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Es,method:Es,array:Es,object:Es,number:Es,date:Es,boolean:Es,integer:Es,float:Es,regexp:Es,email:Es,url:Es,hex:Es},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh"},ColorPicker:{presetEmpty:"Empty"}},Lu=Mae;Object.assign({},Lu.Modal);let rx=[];const Q4=()=>rx.reduce((n,e)=>Object.assign(Object.assign({},n),e),Lu.Modal);function Tae(n){if(n){const e=Object.assign({},n);return rx.push(e),Q4(),()=>{rx=rx.filter(r=>r!==e),Q4()}}Object.assign({},Lu.Modal)}const Rae=M.createContext(void 0),QI=Rae,Iae=(n,e)=>{const r=M.useContext(QI),i=M.useMemo(()=>{var s;const l=e||Lu[n],u=(s=r==null?void 0:r[n])!==null&&s!==void 0?s:{};return Object.assign(Object.assign({},typeof l=="function"?l():l),u||{})},[n,e,r]),o=M.useMemo(()=>{const s=r==null?void 0:r.locale;return r!=null&&r.exist&&!s?Lu.locale:s},[r]);return[i,o]},$A=Iae,Pae="internalMark",Lae=n=>{const{locale:e={},children:r,_ANT_MARK__:i}=n;M.useEffect(()=>Tae(e&&e.Modal),[e]);const o=M.useMemo(()=>Object.assign(Object.assign({},e),{exist:!0}),[e]);return M.createElement(QI.Provider,{value:o},r)},Bae=Lae,Oae=n=>{const{controlHeight:e}=n;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}},i9=Oae;function Dae(n){const{sizeUnit:e,sizeStep:r}=n;return{sizeXXL:e*(r+8),sizeXL:e*(r+4),sizeLG:e*(r+2),sizeMD:e*(r+1),sizeMS:e*r,size:e*r,sizeSM:e*(r-1),sizeXS:e*(r-2),sizeXXS:e*(r-3)}}const KI={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},Jm=Object.assign(Object.assign({},KI),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});function o9(n,e){let{generateColorPalettes:r,generateNeutralColorPalettes:i}=e;const{colorSuccess:o,colorWarning:s,colorError:l,colorInfo:u,colorPrimary:c,colorBgBase:d,colorTextBase:h}=n,p=r(c),m=r(o),v=r(s),y=r(l),A=r(u),b=i(d,h),g=n.colorLink||n.colorInfo,w=r(g);return Object.assign(Object.assign({},b),{colorPrimaryBg:p[1],colorPrimaryBgHover:p[2],colorPrimaryBorder:p[3],colorPrimaryBorderHover:p[4],colorPrimaryHover:p[5],colorPrimary:p[6],colorPrimaryActive:p[7],colorPrimaryTextHover:p[8],colorPrimaryText:p[9],colorPrimaryTextActive:p[10],colorSuccessBg:m[1],colorSuccessBgHover:m[2],colorSuccessBorder:m[3],colorSuccessBorderHover:m[4],colorSuccessHover:m[4],colorSuccess:m[6],colorSuccessActive:m[7],colorSuccessTextHover:m[8],colorSuccessText:m[9],colorSuccessTextActive:m[10],colorErrorBg:y[1],colorErrorBgHover:y[2],colorErrorBorder:y[3],colorErrorBorderHover:y[4],colorErrorHover:y[5],colorError:y[6],colorErrorActive:y[7],colorErrorTextHover:y[8],colorErrorText:y[9],colorErrorTextActive:y[10],colorWarningBg:v[1],colorWarningBgHover:v[2],colorWarningBorder:v[3],colorWarningBorderHover:v[4],colorWarningHover:v[4],colorWarning:v[6],colorWarningActive:v[7],colorWarningTextHover:v[8],colorWarningText:v[9],colorWarningTextActive:v[10],colorInfoBg:A[1],colorInfoBgHover:A[2],colorInfoBorder:A[3],colorInfoBorderHover:A[4],colorInfoHover:A[4],colorInfo:A[6],colorInfoActive:A[7],colorInfoTextHover:A[8],colorInfoText:A[9],colorInfoTextActive:A[10],colorLinkHover:w[4],colorLink:w[6],colorLinkActive:w[7],colorBgMask:new Di("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}const Nae=n=>{let e=n,r=n,i=n,o=n;return n<6&&n>=5?e=n+1:n<16&&n>=6?e=n+2:n>=16&&(e=16),n<7&&n>=5?r=4:n<8&&n>=7?r=5:n<14&&n>=8?r=6:n<16&&n>=14?r=7:n>=16&&(r=8),n<6&&n>=2?i=1:n>=6&&(i=2),n>4&&n<8?o=4:n>=8&&(o=6),{borderRadius:n,borderRadiusXS:i,borderRadiusSM:r,borderRadiusLG:e,borderRadiusOuter:o}},kae=Nae;function Fae(n){const{motionUnit:e,motionBase:r,borderRadius:i,lineWidth:o}=n;return Object.assign({motionDurationFast:`${(r+e).toFixed(1)}s`,motionDurationMid:`${(r+e*2).toFixed(1)}s`,motionDurationSlow:`${(r+e*3).toFixed(1)}s`,lineWidthBold:o+1},kae(i))}const Kc=(n,e)=>new Di(n).setAlpha(e).toRgbString(),Mv=(n,e)=>new Di(n).darken(e).toHexString(),Uae=n=>{const e=Iu(n);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},zae=(n,e)=>{const r=n||"#fff",i=e||"#000";return{colorBgBase:r,colorTextBase:i,colorText:Kc(i,.88),colorTextSecondary:Kc(i,.65),colorTextTertiary:Kc(i,.45),colorTextQuaternary:Kc(i,.25),colorFill:Kc(i,.15),colorFillSecondary:Kc(i,.06),colorFillTertiary:Kc(i,.04),colorFillQuaternary:Kc(i,.02),colorBgLayout:Mv(r,4),colorBgContainer:Mv(r,0),colorBgElevated:Mv(r,0),colorBgSpotlight:Kc(i,.85),colorBgBlur:"transparent",colorBorder:Mv(r,15),colorBorderSecondary:Mv(r,6)}};function $ae(n){const e=new Array(10).fill(null).map((r,i)=>{const o=i-1,s=n*Math.pow(2.71828,o/5),l=i>1?Math.floor(s):Math.ceil(s);return Math.floor(l/2)*2});return e[1]=n,e.map(r=>{const i=r+8;return{size:r,lineHeight:i/r}})}const Hae=n=>{const e=$ae(n),r=e.map(o=>o.size),i=e.map(o=>o.lineHeight);return{fontSizeSM:r[0],fontSize:r[1],fontSizeLG:r[2],fontSizeXL:r[3],fontSizeHeading1:r[6],fontSizeHeading2:r[5],fontSizeHeading3:r[4],fontSizeHeading4:r[3],fontSizeHeading5:r[2],lineHeight:i[1],lineHeightLG:i[2],lineHeightSM:i[0],lineHeightHeading1:i[6],lineHeightHeading2:i[5],lineHeightHeading3:i[4],lineHeightHeading4:i[3],lineHeightHeading5:i[2]}},a9=Hae;function HA(n){const e=Object.keys(KI).map(r=>{const i=Iu(n[r]);return new Array(10).fill(1).reduce((o,s,l)=>(o[`${r}-${l+1}`]=i[l],o[`${r}${l+1}`]=i[l],o),{})}).reduce((r,i)=>(r=Object.assign(Object.assign({},r),i),r),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),e),o9(n,{generateColorPalettes:Uae,generateNeutralColorPalettes:zae})),a9(n.fontSize)),Dae(n)),i9(n)),Fae(n))}const s9=mA(HA),Jx={token:Jm,override:{override:Jm},hashed:!0},l9=Wt.createContext(Jx),XI="anticon",jae=(n,e)=>e||(n?`ant-${n}`:"ant"),Er=M.createContext({getPrefixCls:jae,iconPrefixCls:XI}),Gae=`-ant-${Date.now()}-${Math.random()}`;function Vae(n,e){const r={},i=(l,u)=>{let c=l.clone();return c=(u==null?void 0:u(c))||c,c.toRgbString()},o=(l,u)=>{const c=new Di(l),d=Iu(c.toRgbString());r[`${u}-color`]=i(c),r[`${u}-color-disabled`]=d[1],r[`${u}-color-hover`]=d[4],r[`${u}-color-active`]=d[6],r[`${u}-color-outline`]=c.clone().setAlpha(.2).toRgbString(),r[`${u}-color-deprecated-bg`]=d[0],r[`${u}-color-deprecated-border`]=d[2]};if(e.primaryColor){o(e.primaryColor,"primary");const l=new Di(e.primaryColor),u=Iu(l.toRgbString());u.forEach((d,h)=>{r[`primary-${h+1}`]=d}),r["primary-color-deprecated-l-35"]=i(l,d=>d.lighten(35)),r["primary-color-deprecated-l-20"]=i(l,d=>d.lighten(20)),r["primary-color-deprecated-t-20"]=i(l,d=>d.tint(20)),r["primary-color-deprecated-t-50"]=i(l,d=>d.tint(50)),r["primary-color-deprecated-f-12"]=i(l,d=>d.setAlpha(d.getAlpha()*.12));const c=new Di(u[0]);r["primary-color-active-deprecated-f-30"]=i(c,d=>d.setAlpha(d.getAlpha()*.3)),r["primary-color-active-deprecated-d-02"]=i(c,d=>d.darken(2))}return e.successColor&&o(e.successColor,"success"),e.warningColor&&o(e.warningColor,"warning"),e.errorColor&&o(e.errorColor,"error"),e.infoColor&&o(e.infoColor,"info"),`
  :root {
    ${Object.keys(r).map(l=>`--${n}-${l}: ${r[l]};`).join(`
`)}
  }
  `.trim()}function Wae(n,e){const r=Vae(n,e);la()&&Qm(r,`${Gae}-dynamic-theme`)}const HT=M.createContext(!1),Qae=n=>{let{children:e,disabled:r}=n;const i=M.useContext(HT);return M.createElement(HT.Provider,{value:r??i},e)},ef=HT,jT=M.createContext(void 0),Kae=n=>{let{children:e,size:r}=n;const i=M.useContext(jT);return M.createElement(jT.Provider,{value:r||i},e)},mC=jT;function Xae(){const n=M.useContext(ef),e=M.useContext(mC);return{componentDisabled:n,componentSize:e}}const Zx=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"],qae="5.10.3";function I2(n){return n>=0&&n<=255}function kb(n,e){const{r,g:i,b:o,a:s}=new Di(n).toRgb();if(s<1)return n;const{r:l,g:u,b:c}=new Di(e).toRgb();for(let d=.01;d<=1;d+=.01){const h=Math.round((r-l*(1-d))/d),p=Math.round((i-u*(1-d))/d),m=Math.round((o-c*(1-d))/d);if(I2(h)&&I2(p)&&I2(m))return new Di({r:h,g:p,b:m,a:Math.round(d*100)/100}).toRgbString()}return new Di({r,g:i,b:o,a:1}).toRgbString()}var Yae=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};function qI(n){const{override:e}=n,r=Yae(n,["override"]),i=Object.assign({},e);Object.keys(Jm).forEach(m=>{delete i[m]});const o=Object.assign(Object.assign({},r),i),s=480,l=576,u=768,c=992,d=1200,h=1600;if(o.motion===!1){const m="0s";o.motionDurationFast=m,o.motionDurationMid=m,o.motionDurationSlow=m}return Object.assign(Object.assign(Object.assign({},o),{colorFillContent:o.colorFillSecondary,colorFillContentHover:o.colorFill,colorFillAlter:o.colorFillQuaternary,colorBgContainerDisabled:o.colorFillTertiary,colorBorderBg:o.colorBgContainer,colorSplit:kb(o.colorBorderSecondary,o.colorBgContainer),colorTextPlaceholder:o.colorTextQuaternary,colorTextDisabled:o.colorTextQuaternary,colorTextHeading:o.colorText,colorTextLabel:o.colorTextSecondary,colorTextDescription:o.colorTextTertiary,colorTextLightSolid:o.colorWhite,colorHighlight:o.colorError,colorBgTextHover:o.colorFillSecondary,colorBgTextActive:o.colorFill,colorIcon:o.colorTextTertiary,colorIconHover:o.colorText,colorErrorOutline:kb(o.colorErrorBg,o.colorBgContainer),colorWarningOutline:kb(o.colorWarningBg,o.colorBgContainer),fontSizeIcon:o.fontSizeSM,lineWidthFocus:o.lineWidth*4,lineWidth:o.lineWidth,controlOutlineWidth:o.lineWidth*2,controlInteractiveSize:o.controlHeight/2,controlItemBgHover:o.colorFillTertiary,controlItemBgActive:o.colorPrimaryBg,controlItemBgActiveHover:o.colorPrimaryBgHover,controlItemBgActiveDisabled:o.colorFill,controlTmpOutline:o.colorFillQuaternary,controlOutline:kb(o.colorPrimaryBg,o.colorBgContainer),lineType:o.lineType,borderRadius:o.borderRadius,borderRadiusXS:o.borderRadiusXS,borderRadiusSM:o.borderRadiusSM,borderRadiusLG:o.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:o.sizeXXS,paddingXS:o.sizeXS,paddingSM:o.sizeSM,padding:o.size,paddingMD:o.sizeMD,paddingLG:o.sizeLG,paddingXL:o.sizeXL,paddingContentHorizontalLG:o.sizeLG,paddingContentVerticalLG:o.sizeMS,paddingContentHorizontal:o.sizeMS,paddingContentVertical:o.sizeSM,paddingContentHorizontalSM:o.size,paddingContentVerticalSM:o.sizeXS,marginXXS:o.sizeXXS,marginXS:o.sizeXS,marginSM:o.sizeSM,margin:o.size,marginMD:o.sizeMD,marginLG:o.sizeLG,marginXL:o.sizeXL,marginXXL:o.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:s,screenXSMin:s,screenXSMax:l-1,screenSM:l,screenSMMin:l,screenSMMax:u-1,screenMD:u,screenMDMin:u,screenMDMax:c-1,screenLG:c,screenLGMin:c,screenLGMax:d-1,screenXL:d,screenXLMin:d,screenXLMax:h-1,screenXXL:h,screenXXLMin:h,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new Di("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new Di("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new Di("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),i)}var K4=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const c9=(n,e,r)=>{const i=r.getDerivativeToken(n),{override:o}=e,s=K4(e,["override"]);let l=Object.assign(Object.assign({},i),{override:o});return l=qI(l),s&&Object.entries(s).forEach(u=>{let[c,d]=u;const{theme:h}=d,p=K4(d,["theme"]);let m=p;h&&(m=c9(Object.assign(Object.assign({},l),p),{override:p},h)),l[c]=m}),l};function $s(){const{token:n,hashed:e,theme:r,override:i}=Wt.useContext(l9),o=`${qae}-${e||""}`,s=r||s9,[l,u]=Woe(s,[Jm,n],{salt:o,override:i,getComputedToken:c9,formatToken:qI});return[s,l,e?u:""]}function Fo(n){var e=M.useRef();e.current=n;var r=M.useCallback(function(){for(var i,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return(i=e.current)===null||i===void 0?void 0:i.call.apply(i,[e].concat(s))},[]);return r}function Rm(n){var e=M.useRef(!1),r=M.useState(n),i=Ot(r,2),o=i[0],s=i[1];M.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function l(u,c){c&&e.current||s(u)}return[o,l]}function P2(n){return n!==void 0}function Co(n,e){var r=e||{},i=r.defaultValue,o=r.value,s=r.onChange,l=r.postState,u=Rm(function(){return P2(o)?o:P2(i)?typeof i=="function"?i():i:typeof n=="function"?n():n}),c=Ot(u,2),d=c[0],h=c[1],p=o!==void 0?o:d,m=l?l(p):p,v=Fo(s),y=Rm([p]),A=Ot(y,2),b=A[0],g=A[1];kT(function(){var E=b[0];d!==E&&v(d,E)},[b]),kT(function(){P2(o)||h(o)},[o]);var w=Fo(function(E,C){h(E,C),g([p],C)});return[m,w]}const YI=n=>({color:n.colorLink,textDecoration:"none",outline:"none",cursor:"pointer",transition:`color ${n.motionDurationSlow}`,"&:focus, &:hover":{color:n.colorLinkHover},"&:active":{color:n.colorLinkActive}}),Jae=(n,e,r,i,o)=>{const s=n/2,l=0,u=s,c=r*1/Math.sqrt(2),d=s-r*(1-1/Math.sqrt(2)),h=s-e*(1/Math.sqrt(2)),p=r*(Math.sqrt(2)-1)+e*(1/Math.sqrt(2)),m=2*s-h,v=p,y=2*s-c,A=d,b=2*s-l,g=u,w=s*Math.sqrt(2)+r*(Math.sqrt(2)-2),E=r*(Math.sqrt(2)-1);return{pointerEvents:"none",width:n,height:n,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:n,height:n/2,background:i,clipPath:{_multi_value_:!0,value:[`polygon(${E}px 100%, 50% ${E}px, ${2*s-E}px 100%, ${E}px 100%)`,`path('M ${l} ${u} A ${r} ${r} 0 0 0 ${c} ${d} L ${h} ${p} A ${e} ${e} 0 0 1 ${m} ${v} L ${y} ${A} A ${r} ${r} 0 0 0 ${b} ${g} Z')`]},content:'""'},"&::after":{content:'""',position:"absolute",width:w,height:w,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${e}px 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:o,zIndex:0,background:"transparent"}}},xc={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},$i=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:n.colorText,fontSize:n.fontSize,lineHeight:n.lineHeight,listStyle:"none",fontFamily:e?"inherit":n.fontFamily}},gC=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),Ec=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),Zae=n=>({a:{color:n.colorLink,textDecoration:n.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${n.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:n.colorLinkHover},"&:active":{color:n.colorLinkActive},"&:active,\n  &:hover":{textDecoration:n.linkHoverDecoration,outline:0},"&:focus":{textDecoration:n.linkFocusDecoration,outline:0},"&[disabled]":{color:n.colorTextDisabled,cursor:"not-allowed"}}}),ese=(n,e)=>{const{fontFamily:r,fontSize:i}=n,o=`[class^="${e}"], [class*=" ${e}"]`;return{[o]:{fontFamily:r,fontSize:i,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"},[o]:{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}}}},Bu=n=>({outline:`${n.lineWidthFocus}px solid ${n.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),Zm=n=>({"&:focus-visible":Object.assign({},Bu(n))}),u9=typeof CSSINJS_STATISTIC<"u";let GT=!0;function ei(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];if(!u9)return Object.assign.apply(Object,[{}].concat(e));GT=!1;const i={};return e.forEach(o=>{Object.keys(o).forEach(l=>{Object.defineProperty(i,l,{configurable:!0,enumerable:!0,get:()=>o[l]})})}),GT=!0,i}const X4={};function tse(){}function nse(n){let e,r=n,i=tse;return u9&&(e=new Set,r=new Proxy(n,{get(o,s){return GT&&e.add(s),o[s]}}),i=(o,s)=>{var l;X4[o]={global:Array.from(e),component:Object.assign(Object.assign({},(l=X4[o])===null||l===void 0?void 0:l.component),s)}}),{token:r,keys:e,flush:i}}const rse=(n,e)=>{const[r,i]=$s();return $T({theme:r,token:i,hashId:"",path:["ant-design-icons",n],nonce:()=>e==null?void 0:e.nonce},()=>[{[`.${n}`]:Object.assign(Object.assign({},gC()),{[`.${n} .${n}-icon`]:{display:"block"}})}])},d9=rse;function ki(n,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=Array.isArray(n)?n:[n,n],[s]=o,l=o.join("-");return u=>{const[c,d,h]=$s(),{getPrefixCls:p,iconPrefixCls:m,csp:v}=M.useContext(Er),y=p(),A={theme:c,token:d,hashId:h,nonce:()=>v==null?void 0:v.nonce,clientOnly:i.clientOnly,order:i.order||-999};return $T(Object.assign(Object.assign({},A),{clientOnly:!1,path:["Shared",y]}),()=>[{"&":Zae(d)}]),d9(m,v),[$T(Object.assign(Object.assign({},A),{path:[l,u,m]}),()=>{const{token:b,flush:g}=nse(d),w=Object.assign({},d[s]);if(i.deprecatedTokens){const{deprecatedTokens:L}=i;L.forEach(T=>{let[D,H]=T;var V;(w!=null&&w[D]||w!=null&&w[H])&&((V=w[H])!==null&&V!==void 0||(w[H]=w==null?void 0:w[D]))})}const E=typeof r=="function"?r(ei(b,w??{})):r,C=Object.assign(Object.assign({},E),w),_=`.${u}`,P=ei(b,{componentCls:_,prefixCls:u,iconCls:`.${m}`,antCls:`.${y}`},C),R=e(P,{hashId:h,prefixCls:u,rootPrefixCls:y,iconPrefixCls:m,overrideComponentToken:w});return g(s,C),[i.resetStyle===!1?null:ese(d,u),R]}),h]}}const JI=(n,e,r,i)=>{const o=ki(n,e,r,Object.assign({resetStyle:!1,order:-998},i));return l=>{let{prefixCls:u}=l;return o(u),null}};function f9(n,e){return Zx.reduce((r,i)=>{const o=n[`${i}1`],s=n[`${i}3`],l=n[`${i}6`],u=n[`${i}7`];return Object.assign(Object.assign({},r),e(i,{lightColor:o,lightBorderColor:s,darkColor:l,textColor:u}))},{})}function ise(n,e){const r=n||{},i=r.inherit===!1||!e?Jx:e;return Th(()=>{if(!n)return e;const o=Object.assign({},i.components);return Object.keys(n.components||{}).forEach(s=>{o[s]=Object.assign(Object.assign({},o[s]),n.components[s])}),Object.assign(Object.assign(Object.assign({},i),r),{token:Object.assign(Object.assign({},i.token),r.token),components:o})},[r,i],(o,s)=>o.some((l,u)=>{const c=s[u];return!Pu(l,c,!0)}))}var ose=["children"],h9=M.createContext({});function ase(n){var e=n.children,r=Br(n,ose);return M.createElement(h9.Provider,{value:r},e)}var sse=function(n){ql(r,n);var e=Yl(r);function r(){return ca(this,r),e.apply(this,arguments)}return ua(r,[{key:"render",value:function(){return this.props.children}}]),r}(M.Component),Uf="none",Fb="appear",Ub="enter",zb="leave",q4="none",Bl="prepare",pm="start",mm="active",ZI="end",p9="prepared";function Y4(n,e){var r={};return r[n.toLowerCase()]=e.toLowerCase(),r["Webkit".concat(n)]="webkit".concat(e),r["Moz".concat(n)]="moz".concat(e),r["ms".concat(n)]="MS".concat(e),r["O".concat(n)]="o".concat(e.toLowerCase()),r}function lse(n,e){var r={animationend:Y4("Animation","AnimationEnd"),transitionend:Y4("Transition","TransitionEnd")};return n&&("AnimationEvent"in e||delete r.animationend.animation,"TransitionEvent"in e||delete r.transitionend.transition),r}var cse=lse(la(),typeof window<"u"?window:{}),m9={};if(la()){var use=document.createElement("div");m9=use.style}var $b={};function g9(n){if($b[n])return $b[n];var e=cse[n];if(e)for(var r=Object.keys(e),i=r.length,o=0;o<i;o+=1){var s=r[o];if(Object.prototype.hasOwnProperty.call(e,s)&&s in m9)return $b[n]=e[s],$b[n]}return""}var v9=g9("animationend"),A9=g9("transitionend"),y9=!!(v9&&A9),J4=v9||"animationend",Z4=A9||"transitionend";function eN(n,e){if(!n)return null;if(Tr(n)==="object"){var r=e.replace(/-\w/g,function(i){return i[1].toUpperCase()});return n[r]}return"".concat(n,"-").concat(e)}const dse=function(n){var e=M.useRef(),r=M.useRef(n);r.current=n;var i=M.useCallback(function(l){r.current(l)},[]);function o(l){l&&(l.removeEventListener(Z4,i),l.removeEventListener(J4,i))}function s(l){e.current&&e.current!==l&&o(e.current),l&&l!==e.current&&(l.addEventListener(Z4,i),l.addEventListener(J4,i),e.current=l)}return M.useEffect(function(){return function(){o(e.current)}},[]),[s,o]};var b9=la()?M.useLayoutEffect:M.useEffect;const fse=function(){var n=M.useRef(null);function e(){Oi.cancel(n.current)}function r(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var s=Oi(function(){o<=1?i({isCanceled:function(){return s!==n.current}}):r(i,o-1)});n.current=s}return M.useEffect(function(){return function(){e()}},[]),[r,e]};var hse=[Bl,pm,mm,ZI],pse=[Bl,p9],x9=!1,mse=!0;function E9(n){return n===mm||n===ZI}const gse=function(n,e,r){var i=Rm(q4),o=Ot(i,2),s=o[0],l=o[1],u=fse(),c=Ot(u,2),d=c[0],h=c[1];function p(){l(Bl,!0)}var m=e?pse:hse;return b9(function(){if(s!==q4&&s!==ZI){var v=m.indexOf(s),y=m[v+1],A=r(s);A===x9?l(y,!0):y&&d(function(b){function g(){b.isCanceled()||l(y,!0)}A===!0?g():Promise.resolve(A).then(g)})}},[n,s]),M.useEffect(function(){return function(){h()}},[]),[p,s]};function vse(n,e,r,i){var o=i.motionEnter,s=o===void 0?!0:o,l=i.motionAppear,u=l===void 0?!0:l,c=i.motionLeave,d=c===void 0?!0:c,h=i.motionDeadline,p=i.motionLeaveImmediately,m=i.onAppearPrepare,v=i.onEnterPrepare,y=i.onLeavePrepare,A=i.onAppearStart,b=i.onEnterStart,g=i.onLeaveStart,w=i.onAppearActive,E=i.onEnterActive,C=i.onLeaveActive,_=i.onAppearEnd,P=i.onEnterEnd,R=i.onLeaveEnd,L=i.onVisibleChanged,T=Rm(),D=Ot(T,2),H=D[0],V=D[1],B=Rm(Uf),O=Ot(B,2),F=O[0],N=O[1],z=Rm(null),j=Ot(z,2),G=j[0],Q=j[1],X=M.useRef(!1),J=M.useRef(null);function Z(){return r()}var oe=M.useRef(!1);function ce(){N(Uf,!0),Q(null,!0)}function Be(Ct){var Tt=Z();if(!(Ct&&!Ct.deadline&&Ct.target!==Tt)){var Dt=oe.current,Yt;F===Fb&&Dt?Yt=_==null?void 0:_(Tt,Ct):F===Ub&&Dt?Yt=P==null?void 0:P(Tt,Ct):F===zb&&Dt&&(Yt=R==null?void 0:R(Tt,Ct)),F!==Uf&&Dt&&Yt!==!1&&ce()}}var ge=dse(Be),Re=Ot(ge,1),$e=Re[0],qe=function(Tt){var Dt,Yt,Ve;switch(Tt){case Fb:return Dt={},ct(Dt,Bl,m),ct(Dt,pm,A),ct(Dt,mm,w),Dt;case Ub:return Yt={},ct(Yt,Bl,v),ct(Yt,pm,b),ct(Yt,mm,E),Yt;case zb:return Ve={},ct(Ve,Bl,y),ct(Ve,pm,g),ct(Ve,mm,C),Ve;default:return{}}},Ke=M.useMemo(function(){return qe(F)},[F]),ke=gse(F,!n,function(Ct){if(Ct===Bl){var Tt=Ke[Bl];return Tt?Tt(Z()):x9}if(it in Ke){var Dt;Q(((Dt=Ke[it])===null||Dt===void 0?void 0:Dt.call(Ke,Z(),null))||null)}return it===mm&&($e(Z()),h>0&&(clearTimeout(J.current),J.current=setTimeout(function(){Be({deadline:!0})},h))),it===p9&&ce(),mse}),st=Ot(ke,2),ot=st[0],it=st[1],ft=E9(it);oe.current=ft,b9(function(){V(e);var Ct=X.current;X.current=!0;var Tt;!Ct&&e&&u&&(Tt=Fb),Ct&&e&&s&&(Tt=Ub),(Ct&&!e&&d||!Ct&&p&&!e&&d)&&(Tt=zb);var Dt=qe(Tt);Tt&&(n||Dt[Bl])?(N(Tt),ot()):N(Uf)},[e]),M.useEffect(function(){(F===Fb&&!u||F===Ub&&!s||F===zb&&!d)&&N(Uf)},[u,s,d]),M.useEffect(function(){return function(){X.current=!1,clearTimeout(J.current)}},[]);var Et=M.useRef(!1);M.useEffect(function(){H&&(Et.current=!0),H!==void 0&&F===Uf&&((Et.current||H)&&(L==null||L(H)),Et.current=!0)},[H,F]);var gt=G;return Ke[Bl]&&it===pm&&(gt=ht({transition:"none"},gt)),[F,it,gt,H??e]}function Ase(n){var e=n;Tr(n)==="object"&&(e=n.transitionSupport);function r(o,s){return!!(o.motionName&&e&&s!==!1)}var i=M.forwardRef(function(o,s){var l=o.visible,u=l===void 0?!0:l,c=o.removeOnLeave,d=c===void 0?!0:c,h=o.forceRender,p=o.children,m=o.motionName,v=o.leavedClassName,y=o.eventProps,A=M.useContext(h9),b=A.motion,g=r(o,b),w=M.useRef(),E=M.useRef();function C(){try{return w.current instanceof HTMLElement?w.current:L0(E.current)}catch{return null}}var _=vse(g,u,C,o),P=Ot(_,4),R=P[0],L=P[1],T=P[2],D=P[3],H=M.useRef(D);D&&(H.current=!0);var V=M.useCallback(function(Q){w.current=Q,hA(s,Q)},[s]),B,O=ht(ht({},y),{},{visible:u});if(!p)B=null;else if(R===Uf)D?B=p(ht({},O),V):!d&&H.current&&v?B=p(ht(ht({},O),{},{className:v}),V):h||!d&&!v?B=p(ht(ht({},O),{},{style:{display:"none"}}),V):B=null;else{var F,N;L===Bl?N="prepare":E9(L)?N="active":L===pm&&(N="start");var z=eN(m,"".concat(R,"-").concat(N));B=p(ht(ht({},O),{},{className:bt(eN(m,R),(F={},ct(F,z,z&&N),ct(F,m,typeof m=="string"),F)),style:T}),V)}if(M.isValidElement(B)&&bc(B)){var j=B,G=j.ref;G||(B=M.cloneElement(B,{ref:V}))}return M.createElement(sse,{ref:E},B)});return i.displayName="CSSMotion",i}const Sc=Ase(y9);var VT="add",WT="keep",QT="remove",L2="removed";function yse(n){var e;return n&&Tr(n)==="object"&&"key"in n?e=n:e={key:n},ht(ht({},e),{},{key:String(e.key)})}function KT(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return n.map(yse)}function bse(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=[],i=0,o=e.length,s=KT(n),l=KT(e);s.forEach(function(d){for(var h=!1,p=i;p<o;p+=1){var m=l[p];if(m.key===d.key){i<p&&(r=r.concat(l.slice(i,p).map(function(v){return ht(ht({},v),{},{status:VT})})),i=p),r.push(ht(ht({},m),{},{status:WT})),i+=1,h=!0;break}}h||r.push(ht(ht({},d),{},{status:QT}))}),i<o&&(r=r.concat(l.slice(i).map(function(d){return ht(ht({},d),{},{status:VT})})));var u={};r.forEach(function(d){var h=d.key;u[h]=(u[h]||0)+1});var c=Object.keys(u).filter(function(d){return u[d]>1});return c.forEach(function(d){r=r.filter(function(h){var p=h.key,m=h.status;return p!==d||m!==QT}),r.forEach(function(h){h.key===d&&(h.status=WT)})}),r}var xse=["component","children","onVisibleChanged","onAllRemoved"],Ese=["status"],Cse=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function wse(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sc,r=function(i){ql(s,i);var o=Yl(s);function s(){var l;ca(this,s);for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];return l=o.call.apply(o,[this].concat(c)),ct(ti(l),"state",{keyEntities:[]}),ct(ti(l),"removeKey",function(h){var p=l.state.keyEntities,m=p.map(function(v){return v.key!==h?v:ht(ht({},v),{},{status:L2})});return l.setState({keyEntities:m}),m.filter(function(v){var y=v.status;return y!==L2}).length}),l}return ua(s,[{key:"render",value:function(){var u=this,c=this.state.keyEntities,d=this.props,h=d.component,p=d.children,m=d.onVisibleChanged,v=d.onAllRemoved,y=Br(d,xse),A=h||M.Fragment,b={};return Cse.forEach(function(g){b[g]=y[g],delete y[g]}),delete y.keys,M.createElement(A,y,c.map(function(g,w){var E=g.status,C=Br(g,Ese),_=E===VT||E===WT;return M.createElement(e,rn({},b,{key:C.key,visible:_,eventProps:C,onVisibleChanged:function(R){if(m==null||m(R,{key:C.key}),!R){var L=u.removeKey(C.key);L===0&&v&&v()}}}),function(P,R){return p(ht(ht({},P),{},{index:w}),R)})}))}}],[{key:"getDerivedStateFromProps",value:function(u,c){var d=u.keys,h=c.keyEntities,p=KT(d),m=bse(h,p);return{keyEntities:m.filter(function(v){var y=h.find(function(A){var b=A.key;return v.key===b});return!(y&&y.status===L2&&v.status===QT)})}}}]),s}(M.Component);return ct(r,"defaultProps",{component:"div"}),r}const C9=wse(y9);function Sse(n){const{children:e}=n,[,r]=$s(),{motion:i}=r,o=M.useRef(!1);return o.current=o.current||i===!1,o.current?M.createElement(ase,{motion:i},e):e}const _se=()=>null;var Mse=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const Tse=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","pagination","form","select","button"],Rse="ant";let eE,w9,S9;function ix(){return eE||Rse}function Ise(){return w9||XI}function Pse(n){return Object.keys(n).some(e=>e.endsWith("Color"))}const Lse=n=>{let{prefixCls:e,iconPrefixCls:r,theme:i}=n;e!==void 0&&(eE=e),r!==void 0&&(w9=r),i&&(Pse(i)?Wae(ix(),i):S9=i)},_9=()=>({getPrefixCls:(n,e)=>e||(n?`${ix()}-${n}`:ix()),getIconPrefixCls:Ise,getRootPrefixCls:()=>eE||ix(),getTheme:()=>S9}),Bse=n=>{const{children:e,csp:r,autoInsertSpaceInButton:i,alert:o,anchor:s,form:l,locale:u,componentSize:c,direction:d,space:h,virtual:p,dropdownMatchSelectWidth:m,popupMatchSelectWidth:v,popupOverflow:y,legacyLocale:A,parentContext:b,iconPrefixCls:g,theme:w,componentDisabled:E,segmented:C,statistic:_,spin:P,calendar:R,carousel:L,cascader:T,collapse:D,typography:H,checkbox:V,descriptions:B,divider:O,drawer:F,skeleton:N,steps:z,image:j,layout:G,list:Q,mentions:X,modal:J,progress:Z,result:oe,slider:ce,breadcrumb:Be,menu:ge,pagination:Re,input:$e,empty:qe,badge:Ke,radio:ke,rate:st,switch:ot,transfer:it,avatar:ft,message:Et,tag:gt,table:Ct,card:Tt,tabs:Dt,timeline:Yt,timePicker:Ve,upload:ye,notification:fe,tree:pe,colorPicker:_e,datePicker:Ce,flex:Se,wave:we,warning:je}=n,Ae=M.useCallback((Ze,Qe)=>{const{prefixCls:nt}=n;if(Qe)return Qe;const It=nt||b.getPrefixCls("");return Ze?`${It}-${Ze}`:It},[b.getPrefixCls,n.prefixCls]),Ue=g||b.iconPrefixCls||XI,et=r||b.csp;d9(Ue,et);const ue=ise(w,b.theme),Y={csp:et,autoInsertSpaceInButton:i,alert:o,anchor:s,locale:u||A,direction:d,space:h,virtual:p,popupMatchSelectWidth:v??m,popupOverflow:y,getPrefixCls:Ae,iconPrefixCls:Ue,theme:ue,segmented:C,statistic:_,spin:P,calendar:R,carousel:L,cascader:T,collapse:D,typography:H,checkbox:V,descriptions:B,divider:O,drawer:F,skeleton:N,steps:z,image:j,input:$e,layout:G,list:Q,mentions:X,modal:J,progress:Z,result:oe,slider:ce,breadcrumb:Be,menu:ge,pagination:Re,empty:qe,badge:Ke,radio:ke,rate:st,switch:ot,transfer:it,avatar:ft,message:Et,tag:gt,table:Ct,card:Tt,tabs:Dt,timeline:Yt,timePicker:Ve,upload:ye,notification:fe,tree:pe,colorPicker:_e,datePicker:Ce,flex:Se,wave:we,warning:je},ne=Object.assign({},b);Object.keys(Y).forEach(Ze=>{Y[Ze]!==void 0&&(ne[Ze]=Y[Ze])}),Tse.forEach(Ze=>{const Qe=n[Ze];Qe&&(ne[Ze]=Qe)});const Pe=Th(()=>ne,ne,(Ze,Qe)=>{const nt=Object.keys(Ze),It=Object.keys(Qe);return nt.length!==It.length||nt.some(kt=>Ze[kt]!==Qe[kt])}),We=M.useMemo(()=>({prefixCls:Ue,csp:et}),[Ue,et]);let ve=M.createElement(M.Fragment,null,M.createElement(_se,{dropdownMatchSelectWidth:m}),e);const he=M.useMemo(()=>{var Ze,Qe,nt,It;return hm(((Ze=Lu.Form)===null||Ze===void 0?void 0:Ze.defaultValidateMessages)||{},((nt=(Qe=Pe.locale)===null||Qe===void 0?void 0:Qe.Form)===null||nt===void 0?void 0:nt.defaultValidateMessages)||{},((It=Pe.form)===null||It===void 0?void 0:It.validateMessages)||{},(l==null?void 0:l.validateMessages)||{})},[Pe,l==null?void 0:l.validateMessages]);Object.keys(he).length>0&&(ve=M.createElement(Cae.Provider,{value:he},ve)),u&&(ve=M.createElement(Bae,{locale:u,_ANT_MARK__:Pae},ve)),(Ue||et)&&(ve=M.createElement(LI.Provider,{value:We},ve)),c&&(ve=M.createElement(Kae,{size:c},ve)),ve=M.createElement(Sse,null,ve);const Ye=M.useMemo(()=>{const Ze=ue||{},{algorithm:Qe,token:nt,components:It}=Ze,kt=Mse(Ze,["algorithm","token","components"]),Bt=Qe&&(!Array.isArray(Qe)||Qe.length>0)?mA(Qe):s9,jt={};Object.entries(It||{}).forEach(Lt=>{let[mt,Nt]=Lt;const cn=Object.assign({},Nt);"algorithm"in cn&&(cn.algorithm===!0?cn.theme=Bt:(Array.isArray(cn.algorithm)||typeof cn.algorithm=="function")&&(cn.theme=mA(cn.algorithm)),delete cn.algorithm),jt[mt]=cn});const Vt=Object.assign(Object.assign({},Jm),nt);return Object.assign(Object.assign({},kt),{theme:Bt,token:Vt,components:jt,override:Object.assign({override:Vt},jt)})},[ue]);return w&&(ve=M.createElement(l9.Provider,{value:Ye},ve)),Pe.warning&&(ve=M.createElement(Eae.Provider,{value:Pe.warning},ve)),E!==void 0&&(ve=M.createElement(Qae,{disabled:E},ve)),M.createElement(Er.Provider,{value:Pe},ve)},Ih=n=>{const e=M.useContext(Er),r=M.useContext(QI);return M.createElement(Bse,Object.assign({parentContext:e,legacyLocale:r},n))};Ih.ConfigContext=Er;Ih.SizeContext=mC;Ih.config=Lse;Ih.useConfig=Xae;Object.defineProperty(Ih,"SizeContext",{get:()=>mC});var Ose=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,Dse=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,Nse="".concat(Ose," ").concat(Dse).split(/[\s\n]+/),kse="aria-",Fse="data-";function tN(n,e){return n.indexOf(e)===0}function Ql(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r;e===!1?r={aria:!0,data:!0,attr:!0}:e===!0?r={aria:!0}:r=ht({},e);var i={};return Object.keys(n).forEach(function(o){(r.aria&&(o==="role"||tN(o,kse))||r.data&&tN(o,Fse)||r.attr&&Nse.includes(o))&&(i[o]=n[o])}),i}const{isValidElement:us}=DA;function M9(n){return n&&us(n)&&n.type===M.Fragment}function Use(n,e,r){return us(n)?M.cloneElement(n,typeof r=="function"?r(n.props||{}):r):e}function ya(n,e){return Use(n,n,e)}function XT(n){return n!=null&&n===n.window}function zse(n,e){var r,i;if(typeof window>"u")return 0;const o=e?"scrollTop":"scrollLeft";let s=0;return XT(n)?s=n[e?"pageYOffset":"pageXOffset"]:n instanceof Document?s=n.documentElement[o]:(n instanceof HTMLElement||n)&&(s=n[o]),n&&!XT(n)&&typeof s!="number"&&(s=(i=((r=n.ownerDocument)!==null&&r!==void 0?r:n).documentElement)===null||i===void 0?void 0:i[o]),s}function $se(n,e,r,i){const o=r-e;return n/=i/2,n<1?o/2*n*n*n+e:o/2*((n-=2)*n*n+2)+e}function Hse(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{getContainer:r=()=>window,callback:i,duration:o=450}=e,s=r(),l=zse(s,!0),u=Date.now(),c=()=>{const h=Date.now()-u,p=$se(h>o?o:h,l,n,o);XT(s)?s.scrollTo(window.pageXOffset,p):s instanceof Document||s.constructor.name==="HTMLDocument"?s.documentElement.scrollTop=p:s.scrollTop=p,h<o?Oi(c):typeof i=="function"&&i()};Oi(c)}var An={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var r=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||r>=An.F1&&r<=An.F12)return!1;switch(r){case An.ALT:case An.CAPS_LOCK:case An.CONTEXT_MENU:case An.CTRL:case An.DOWN:case An.END:case An.ESC:case An.HOME:case An.INSERT:case An.LEFT:case An.MAC_FF_META:case An.META:case An.NUMLOCK:case An.NUM_CENTER:case An.PAGE_DOWN:case An.PAGE_UP:case An.PAUSE:case An.PRINT_SCREEN:case An.RIGHT:case An.SHIFT:case An.UP:case An.WIN_KEY:case An.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=An.ZERO&&e<=An.NINE||e>=An.NUM_ZERO&&e<=An.NUM_MULTIPLY||e>=An.A&&e<=An.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&e===0)return!0;switch(e){case An.SPACE:case An.QUESTION_MARK:case An.NUM_PLUS:case An.NUM_MINUS:case An.NUM_PERIOD:case An.NUM_DIVISION:case An.SEMICOLON:case An.DASH:case An.EQUALS:case An.COMMA:case An.PERIOD:case An.SLASH:case An.APOSTROPHE:case An.SINGLE_QUOTE:case An.OPEN_SQUARE_BRACKET:case An.BACKSLASH:case An.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},T9=M.forwardRef(function(n,e){var r=n.prefixCls,i=n.style,o=n.className,s=n.duration,l=s===void 0?4.5:s,u=n.eventKey,c=n.content,d=n.closable,h=n.closeIcon,p=h===void 0?"x":h,m=n.props,v=n.onClick,y=n.onNoticeClose,A=n.times,b=n.hovering,g=M.useState(!1),w=Ot(g,2),E=w[0],C=w[1],_=b||E,P=function(){y(u)},R=function(D){(D.key==="Enter"||D.code==="Enter"||D.keyCode===An.ENTER)&&P()};M.useEffect(function(){if(!_&&l>0){var T=setTimeout(function(){P()},l*1e3);return function(){clearTimeout(T)}}},[l,_,A]);var L="".concat(r,"-notice");return M.createElement("div",rn({},m,{ref:e,className:bt(L,o,ct({},"".concat(L,"-closable"),d)),style:i,onMouseEnter:function(D){var H;C(!0),m==null||(H=m.onMouseEnter)===null||H===void 0||H.call(m,D)},onMouseLeave:function(D){var H;C(!1),m==null||(H=m.onMouseLeave)===null||H===void 0||H.call(m,D)},onClick:v}),M.createElement("div",{className:"".concat(L,"-content")},c),d&&M.createElement("a",{tabIndex:0,className:"".concat(L,"-close"),onKeyDown:R,onClick:function(D){D.preventDefault(),D.stopPropagation(),P()}},p))}),R9=Wt.createContext({}),jse=function(e){var r=e.children,i=e.classNames;return Wt.createElement(R9.Provider,{value:{classNames:i}},r)},nN=8,rN=3,iN=16,Gse=function(e){var r={offset:nN,threshold:rN,gap:iN};if(e&&Tr(e)==="object"){var i,o,s;r.offset=(i=e.offset)!==null&&i!==void 0?i:nN,r.threshold=(o=e.threshold)!==null&&o!==void 0?o:rN,r.gap=(s=e.gap)!==null&&s!==void 0?s:iN}return[!!e,r]},Vse=["className","style","classNames","styles"],Wse=function(e){var r,i=e.configList,o=e.placement,s=e.prefixCls,l=e.className,u=e.style,c=e.motion,d=e.onAllNoticeRemoved,h=e.onNoticeClose,p=e.stack,m=M.useContext(R9),v=m.classNames,y=M.useRef({}),A=M.useState(null),b=Ot(A,2),g=b[0],w=b[1],E=M.useState([]),C=Ot(E,2),_=C[0],P=C[1],R=i.map(function(z){return{config:z,key:String(z.key)}}),L=Gse(p),T=Ot(L,2),D=T[0],H=T[1],V=H.offset,B=H.threshold,O=H.gap,F=D&&(_.length>0||R.length<=B),N=typeof c=="function"?c(o):c;return M.useEffect(function(){D&&_.length>1&&P(function(z){return z.filter(function(j){return R.some(function(G){var Q=G.key;return j===Q})})})},[_,R,D]),M.useEffect(function(){var z;if(D&&y.current[(z=R[R.length-1])===null||z===void 0?void 0:z.key]){var j;w(y.current[(j=R[R.length-1])===null||j===void 0?void 0:j.key])}},[R,D]),Wt.createElement(C9,rn({key:o,className:bt(s,"".concat(s,"-").concat(o),v==null?void 0:v.list,l,(r={},ct(r,"".concat(s,"-stack"),!!D),ct(r,"".concat(s,"-stack-expanded"),F),r)),style:u,keys:R,motionAppear:!0},N,{onAllRemoved:function(){d(o)}}),function(z,j){var G=z.config,Q=z.className,X=z.style,J=z.index,Z=G,oe=Z.key,ce=Z.times,Be=String(oe),ge=G,Re=ge.className,$e=ge.style,qe=ge.classNames,Ke=ge.styles,ke=Br(ge,Vse),st=R.findIndex(function(fe){return fe.key===Be}),ot={};if(D){var it=R.length-1-(st>-1?st:J-1),ft=o==="top"||o==="bottom"?"-50%":"0";if(it>0){var Et,gt,Ct;ot.height=F?(Et=y.current[Be])===null||Et===void 0?void 0:Et.offsetHeight:g==null?void 0:g.offsetHeight;for(var Tt=0,Dt=0;Dt<it;Dt++){var Yt;Tt+=((Yt=y.current[R[R.length-1-Dt].key])===null||Yt===void 0?void 0:Yt.offsetHeight)+O}var Ve=(F?Tt:it*V)*(o.startsWith("top")?1:-1),ye=!F&&g!==null&&g!==void 0&&g.offsetWidth&&(gt=y.current[Be])!==null&&gt!==void 0&&gt.offsetWidth?((g==null?void 0:g.offsetWidth)-V*2*(it<3?it:3))/((Ct=y.current[Be])===null||Ct===void 0?void 0:Ct.offsetWidth):1;ot.transform="translate3d(".concat(ft,", ").concat(Ve,"px, 0) scaleX(").concat(ye,")")}else ot.transform="translate3d(".concat(ft,", 0, 0)")}return Wt.createElement("div",{ref:j,className:bt("".concat(s,"-notice-wrapper"),Q,qe==null?void 0:qe.wrapper),style:ht(ht(ht({},X),ot),Ke==null?void 0:Ke.wrapper),onMouseEnter:function(){return P(function(pe){return pe.includes(Be)?pe:[].concat(mn(pe),[Be])})},onMouseLeave:function(){return P(function(pe){return pe.filter(function(_e){return _e!==Be})})}},Wt.createElement(T9,rn({},ke,{ref:function(pe){st>-1?y.current[Be]=pe:delete y.current[Be]},prefixCls:s,classNames:qe,styles:Ke,className:bt(Re,v==null?void 0:v.notice),style:$e,times:ce,key:oe,eventKey:oe,onNoticeClose:h,hovering:D&&_.length>0})))})},Qse=M.forwardRef(function(n,e){var r=n.prefixCls,i=r===void 0?"rc-notification":r,o=n.container,s=n.motion,l=n.maxCount,u=n.className,c=n.style,d=n.onAllRemoved,h=n.stack,p=n.renderNotifications,m=M.useState([]),v=Ot(m,2),y=v[0],A=v[1],b=function(T){var D,H=y.find(function(V){return V.key===T});H==null||(D=H.onClose)===null||D===void 0||D.call(H),A(function(V){return V.filter(function(B){return B.key!==T})})};M.useImperativeHandle(e,function(){return{open:function(T){A(function(D){var H=mn(D),V=H.findIndex(function(F){return F.key===T.key}),B=ht({},T);if(V>=0){var O;B.times=(((O=D[V])===null||O===void 0?void 0:O.times)||0)+1,H[V]=B}else B.times=0,H.push(B);return l>0&&H.length>l&&(H=H.slice(-l)),H})},close:function(T){b(T)},destroy:function(){A([])}}});var g=M.useState({}),w=Ot(g,2),E=w[0],C=w[1];M.useEffect(function(){var L={};y.forEach(function(T){var D=T.placement,H=D===void 0?"topRight":D;H&&(L[H]=L[H]||[],L[H].push(T))}),Object.keys(E).forEach(function(T){L[T]=L[T]||[]}),C(L)},[y]);var _=function(T){C(function(D){var H=ht({},D),V=H[T]||[];return V.length||delete H[T],H})},P=M.useRef(!1);if(M.useEffect(function(){Object.keys(E).length>0?P.current=!0:P.current&&(d==null||d(),P.current=!1)},[E]),!o)return null;var R=Object.keys(E);return Ns.createPortal(M.createElement(M.Fragment,null,R.map(function(L){var T=E[L],D=M.createElement(Wse,{key:L,configList:T,placement:L,prefixCls:i,className:u==null?void 0:u(L),style:c==null?void 0:c(L),motion:s,onNoticeClose:b,onAllNoticeRemoved:_,stack:h});return p?p(D,{prefixCls:i,key:L}):D})),o)}),Kse=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],Xse=function(){return document.body},oN=0;function qse(){for(var n={},e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return r.forEach(function(o){o&&Object.keys(o).forEach(function(s){var l=o[s];l!==void 0&&(n[s]=l)})}),n}function Yse(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.getContainer,r=e===void 0?Xse:e,i=n.motion,o=n.prefixCls,s=n.maxCount,l=n.className,u=n.style,c=n.onAllRemoved,d=n.stack,h=n.renderNotifications,p=Br(n,Kse),m=M.useState(),v=Ot(m,2),y=v[0],A=v[1],b=M.useRef(),g=M.createElement(Qse,{container:y,ref:b,prefixCls:o,motion:i,maxCount:s,className:l,style:u,onAllRemoved:c,stack:d,renderNotifications:h}),w=M.useState([]),E=Ot(w,2),C=E[0],_=E[1],P=M.useMemo(function(){return{open:function(L){var T=qse(p,L);(T.key===null||T.key===void 0)&&(T.key="rc-notification-".concat(oN),oN+=1),_(function(D){return[].concat(mn(D),[{type:"open",config:T}])})},close:function(L){_(function(T){return[].concat(mn(T),[{type:"close",key:L}])})},destroy:function(){_(function(L){return[].concat(mn(L),[{type:"destroy"}])})}}},[]);return M.useEffect(function(){A(r())}),M.useEffect(function(){b.current&&C.length&&(C.forEach(function(R){switch(R.type){case"open":b.current.open(R.config);break;case"close":b.current.close(R.key);break;case"destroy":b.current.destroy();break}}),_(function(R){return R.filter(function(L){return!C.includes(L)})}))},[C]),[P,g]}const Jse=n=>{const{componentCls:e,iconCls:r,boxShadow:i,colorText:o,colorSuccess:s,colorError:l,colorWarning:u,colorInfo:c,fontSizeLG:d,motionEaseInOutCirc:h,motionDurationSlow:p,marginXS:m,paddingXS:v,borderRadiusLG:y,zIndexPopup:A,contentPadding:b,contentBg:g}=n,w=`${e}-notice`,E=new ui("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:v,transform:"translateY(0)",opacity:1}}),C=new ui("MessageMoveOut",{"0%":{maxHeight:n.height,padding:v,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),_={padding:v,textAlign:"center",[`${e}-custom-content > ${r}`]:{verticalAlign:"text-bottom",marginInlineEnd:m,fontSize:d},[`${w}-content`]:{display:"inline-block",padding:b,background:g,borderRadius:y,boxShadow:i,pointerEvents:"all"},[`${e}-success > ${r}`]:{color:s},[`${e}-error > ${r}`]:{color:l},[`${e}-warning > ${r}`]:{color:u},[`${e}-info > ${r},
      ${e}-loading > ${r}`]:{color:c}};return[{[e]:Object.assign(Object.assign({},$i(n)),{color:o,position:"fixed",top:m,width:"100%",pointerEvents:"none",zIndex:A,[`${e}-move-up`]:{animationFillMode:"forwards"},[`
        ${e}-move-up-appear,
        ${e}-move-up-enter
      `]:{animationName:E,animationDuration:p,animationPlayState:"paused",animationTimingFunction:h},[`
        ${e}-move-up-appear${e}-move-up-appear-active,
        ${e}-move-up-enter${e}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${e}-move-up-leave`]:{animationName:C,animationDuration:p,animationPlayState:"paused",animationTimingFunction:h},[`${e}-move-up-leave${e}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[e]:{[`${w}-wrapper`]:Object.assign({},_)}},{[`${e}-notice-pure-panel`]:Object.assign(Object.assign({},_),{padding:0,textAlign:"start"})}]},I9=ki("Message",n=>{const e=ei(n,{height:150});return[Jse(e)]},n=>({zIndexPopup:n.zIndexPopupBase+10,contentBg:n.colorBgElevated,contentPadding:`${(n.controlHeightLG-n.fontSize*n.lineHeight)/2}px ${n.paddingSM}px`}));var Zse=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const ele={info:M.createElement(oie,null),success:M.createElement(Cz,null),error:M.createElement(zA,null),warning:M.createElement(vre,null),loading:M.createElement(Km,null)},P9=n=>{let{prefixCls:e,type:r,icon:i,children:o}=n;return M.createElement("div",{className:bt(`${e}-custom-content`,`${e}-${r}`)},i||ele[r],M.createElement("span",null,o))},tle=n=>{const{prefixCls:e,className:r,type:i,icon:o,content:s}=n,l=Zse(n,["prefixCls","className","type","icon","content"]),{getPrefixCls:u}=M.useContext(Er),c=e||u("message"),[,d]=I9(c);return M.createElement(T9,Object.assign({},l,{prefixCls:c,className:bt(r,d,`${c}-notice-pure-panel`),eventKey:"pure",duration:null,content:M.createElement(P9,{prefixCls:c,type:i,icon:o},s)}))},nle=tle;function rle(n,e){return{motionName:e??`${n}-move-up`}}function eP(n){let e;const r=new Promise(o=>{e=n(()=>{o(!0)})}),i=()=>{e==null||e()};return i.then=(o,s)=>r.then(o,s),i.promise=r,i}var ile=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const ole=8,ale=3,sle=n=>{let{children:e,prefixCls:r}=n;const[,i]=I9(r);return M.createElement(jse,{classNames:{list:i,notice:i}},e)},lle=(n,e)=>{let{prefixCls:r,key:i}=e;return M.createElement(sle,{prefixCls:r,key:i},n)},cle=M.forwardRef((n,e)=>{const{top:r,prefixCls:i,getContainer:o,maxCount:s,duration:l=ale,rtl:u,transitionName:c,onAllRemoved:d}=n,{getPrefixCls:h,getPopupContainer:p,message:m}=M.useContext(Er),v=i||h("message"),y=()=>({left:"50%",transform:"translateX(-50%)",top:r??ole}),A=()=>bt({[`${v}-rtl`]:u}),b=()=>rle(v,c),g=M.createElement("span",{className:`${v}-close-x`},M.createElement(Mh,{className:`${v}-close-icon`})),[w,E]=Yse({prefixCls:v,style:y,className:A,motion:b,closable:!1,closeIcon:g,duration:l,getContainer:()=>(o==null?void 0:o())||(p==null?void 0:p())||document.body,maxCount:s,onAllRemoved:d,renderNotifications:lle});return M.useImperativeHandle(e,()=>Object.assign(Object.assign({},w),{prefixCls:v,message:m})),E});let aN=0;function L9(n){const e=M.useRef(null);return vg(),[M.useMemo(()=>{const i=c=>{var d;(d=e.current)===null||d===void 0||d.close(c)},o=c=>{if(!e.current){const P=()=>{};return P.then=()=>{},P}const{open:d,prefixCls:h,message:p}=e.current,m=`${h}-notice`,{content:v,icon:y,type:A,key:b,className:g,style:w,onClose:E}=c,C=ile(c,["content","icon","type","key","className","style","onClose"]);let _=b;return _==null&&(aN+=1,_=`antd-message-${aN}`),eP(P=>(d(Object.assign(Object.assign({},C),{key:_,content:M.createElement(P9,{prefixCls:h,type:A,icon:y},v),placement:"top",className:bt(A&&`${m}-${A}`,g,p==null?void 0:p.className),style:Object.assign(Object.assign({},p==null?void 0:p.style),w),onClose:()=>{E==null||E(),P()}})),()=>{i(_)}))},l={open:o,destroy:c=>{var d;c!==void 0?i(c):(d=e.current)===null||d===void 0||d.destroy()}};return["info","success","warning","error","loading"].forEach(c=>{const d=(h,p,m)=>{let v;h&&typeof h=="object"&&"content"in h?v=h:v={content:h};let y,A;typeof p=="function"?A=p:(y=p,A=m);const b=Object.assign(Object.assign({onClose:A,duration:y},v),{type:c});return o(b)};l[c]=d}),l},[]),M.createElement(cle,Object.assign({key:"message-holder"},n,{ref:e}))]}function ule(n){return L9(n)}function ba(){ba=function(){return e};var n,e={},r=Object.prototype,i=r.hasOwnProperty,o=Object.defineProperty||function(N,z,j){N[z]=j.value},s=typeof Symbol=="function"?Symbol:{},l=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function d(N,z,j){return Object.defineProperty(N,z,{value:j,enumerable:!0,configurable:!0,writable:!0}),N[z]}try{d({},"")}catch{d=function(j,G,Q){return j[G]=Q}}function h(N,z,j,G){var Q=z&&z.prototype instanceof g?z:g,X=Object.create(Q.prototype),J=new O(G||[]);return o(X,"_invoke",{value:D(N,j,J)}),X}function p(N,z,j){try{return{type:"normal",arg:N.call(z,j)}}catch(G){return{type:"throw",arg:G}}}e.wrap=h;var m="suspendedStart",v="suspendedYield",y="executing",A="completed",b={};function g(){}function w(){}function E(){}var C={};d(C,l,function(){return this});var _=Object.getPrototypeOf,P=_&&_(_(F([])));P&&P!==r&&i.call(P,l)&&(C=P);var R=E.prototype=g.prototype=Object.create(C);function L(N){["next","throw","return"].forEach(function(z){d(N,z,function(j){return this._invoke(z,j)})})}function T(N,z){function j(Q,X,J,Z){var oe=p(N[Q],N,X);if(oe.type!=="throw"){var ce=oe.arg,Be=ce.value;return Be&&Tr(Be)=="object"&&i.call(Be,"__await")?z.resolve(Be.__await).then(function(ge){j("next",ge,J,Z)},function(ge){j("throw",ge,J,Z)}):z.resolve(Be).then(function(ge){ce.value=ge,J(ce)},function(ge){return j("throw",ge,J,Z)})}Z(oe.arg)}var G;o(this,"_invoke",{value:function(X,J){function Z(){return new z(function(oe,ce){j(X,J,oe,ce)})}return G=G?G.then(Z,Z):Z()}})}function D(N,z,j){var G=m;return function(Q,X){if(G===y)throw new Error("Generator is already running");if(G===A){if(Q==="throw")throw X;return{value:n,done:!0}}for(j.method=Q,j.arg=X;;){var J=j.delegate;if(J){var Z=H(J,j);if(Z){if(Z===b)continue;return Z}}if(j.method==="next")j.sent=j._sent=j.arg;else if(j.method==="throw"){if(G===m)throw G=A,j.arg;j.dispatchException(j.arg)}else j.method==="return"&&j.abrupt("return",j.arg);G=y;var oe=p(N,z,j);if(oe.type==="normal"){if(G=j.done?A:v,oe.arg===b)continue;return{value:oe.arg,done:j.done}}oe.type==="throw"&&(G=A,j.method="throw",j.arg=oe.arg)}}}function H(N,z){var j=z.method,G=N.iterator[j];if(G===n)return z.delegate=null,j==="throw"&&N.iterator.return&&(z.method="return",z.arg=n,H(N,z),z.method==="throw")||j!=="return"&&(z.method="throw",z.arg=new TypeError("The iterator does not provide a '"+j+"' method")),b;var Q=p(G,N.iterator,z.arg);if(Q.type==="throw")return z.method="throw",z.arg=Q.arg,z.delegate=null,b;var X=Q.arg;return X?X.done?(z[N.resultName]=X.value,z.next=N.nextLoc,z.method!=="return"&&(z.method="next",z.arg=n),z.delegate=null,b):X:(z.method="throw",z.arg=new TypeError("iterator result is not an object"),z.delegate=null,b)}function V(N){var z={tryLoc:N[0]};1 in N&&(z.catchLoc=N[1]),2 in N&&(z.finallyLoc=N[2],z.afterLoc=N[3]),this.tryEntries.push(z)}function B(N){var z=N.completion||{};z.type="normal",delete z.arg,N.completion=z}function O(N){this.tryEntries=[{tryLoc:"root"}],N.forEach(V,this),this.reset(!0)}function F(N){if(N||N===""){var z=N[l];if(z)return z.call(N);if(typeof N.next=="function")return N;if(!isNaN(N.length)){var j=-1,G=function Q(){for(;++j<N.length;)if(i.call(N,j))return Q.value=N[j],Q.done=!1,Q;return Q.value=n,Q.done=!0,Q};return G.next=G}}throw new TypeError(Tr(N)+" is not iterable")}return w.prototype=E,o(R,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:w,configurable:!0}),w.displayName=d(E,c,"GeneratorFunction"),e.isGeneratorFunction=function(N){var z=typeof N=="function"&&N.constructor;return!!z&&(z===w||(z.displayName||z.name)==="GeneratorFunction")},e.mark=function(N){return Object.setPrototypeOf?Object.setPrototypeOf(N,E):(N.__proto__=E,d(N,c,"GeneratorFunction")),N.prototype=Object.create(R),N},e.awrap=function(N){return{__await:N}},L(T.prototype),d(T.prototype,u,function(){return this}),e.AsyncIterator=T,e.async=function(N,z,j,G,Q){Q===void 0&&(Q=Promise);var X=new T(h(N,z,j,G),Q);return e.isGeneratorFunction(z)?X:X.next().then(function(J){return J.done?J.value:X.next()})},L(R),d(R,c,"Generator"),d(R,l,function(){return this}),d(R,"toString",function(){return"[object Generator]"}),e.keys=function(N){var z=Object(N),j=[];for(var G in z)j.push(G);return j.reverse(),function Q(){for(;j.length;){var X=j.pop();if(X in z)return Q.value=X,Q.done=!1,Q}return Q.done=!0,Q}},e.values=F,O.prototype={constructor:O,reset:function(z){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(B),!z)for(var j in this)j.charAt(0)==="t"&&i.call(this,j)&&!isNaN(+j.slice(1))&&(this[j]=n)},stop:function(){this.done=!0;var z=this.tryEntries[0].completion;if(z.type==="throw")throw z.arg;return this.rval},dispatchException:function(z){if(this.done)throw z;var j=this;function G(ce,Be){return J.type="throw",J.arg=z,j.next=ce,Be&&(j.method="next",j.arg=n),!!Be}for(var Q=this.tryEntries.length-1;Q>=0;--Q){var X=this.tryEntries[Q],J=X.completion;if(X.tryLoc==="root")return G("end");if(X.tryLoc<=this.prev){var Z=i.call(X,"catchLoc"),oe=i.call(X,"finallyLoc");if(Z&&oe){if(this.prev<X.catchLoc)return G(X.catchLoc,!0);if(this.prev<X.finallyLoc)return G(X.finallyLoc)}else if(Z){if(this.prev<X.catchLoc)return G(X.catchLoc,!0)}else{if(!oe)throw new Error("try statement without catch or finally");if(this.prev<X.finallyLoc)return G(X.finallyLoc)}}}},abrupt:function(z,j){for(var G=this.tryEntries.length-1;G>=0;--G){var Q=this.tryEntries[G];if(Q.tryLoc<=this.prev&&i.call(Q,"finallyLoc")&&this.prev<Q.finallyLoc){var X=Q;break}}X&&(z==="break"||z==="continue")&&X.tryLoc<=j&&j<=X.finallyLoc&&(X=null);var J=X?X.completion:{};return J.type=z,J.arg=j,X?(this.method="next",this.next=X.finallyLoc,b):this.complete(J)},complete:function(z,j){if(z.type==="throw")throw z.arg;return z.type==="break"||z.type==="continue"?this.next=z.arg:z.type==="return"?(this.rval=this.arg=z.arg,this.method="return",this.next="end"):z.type==="normal"&&j&&(this.next=j),b},finish:function(z){for(var j=this.tryEntries.length-1;j>=0;--j){var G=this.tryEntries[j];if(G.finallyLoc===z)return this.complete(G.completion,G.afterLoc),B(G),b}},catch:function(z){for(var j=this.tryEntries.length-1;j>=0;--j){var G=this.tryEntries[j];if(G.tryLoc===z){var Q=G.completion;if(Q.type==="throw"){var X=Q.arg;B(G)}return X}}throw new Error("illegal catch attempt")},delegateYield:function(z,j,G){return this.delegate={iterator:F(z),resultName:j,nextLoc:G},this.method==="next"&&(this.arg=n),b}},e}function sN(n,e,r,i,o,s,l){try{var u=n[s](l),c=u.value}catch(d){r(d);return}u.done?e(c):Promise.resolve(c).then(i,o)}function tf(n){return function(){var e=this,r=arguments;return new Promise(function(i,o){var s=n.apply(e,r);function l(c){sN(s,i,o,l,u,"next",c)}function u(c){sN(s,i,o,l,u,"throw",c)}l(void 0)})}}var jA=ht({},gte),dle=jA.version,fle=jA.render,hle=jA.unmountComponentAtNode,vC;try{var ple=Number((dle||"").split(".")[0]);ple>=18&&(vC=jA.createRoot)}catch{}function lN(n){var e=jA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&Tr(e)==="object"&&(e.usingClientEntryPoint=n)}var tE="__rc_react_root__";function mle(n,e){lN(!0);var r=e[tE]||vC(e);lN(!1),r.render(n),e[tE]=r}function gle(n,e){fle(n,e)}function B9(n,e){if(vC){mle(n,e);return}gle(n,e)}function vle(n){return qT.apply(this,arguments)}function qT(){return qT=tf(ba().mark(function n(e){return ba().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Promise.resolve().then(function(){var o;(o=e[tE])===null||o===void 0||o.unmount(),delete e[tE]}));case 1:case"end":return i.stop()}},n)})),qT.apply(this,arguments)}function Ale(n){hle(n)}function yle(n){return YT.apply(this,arguments)}function YT(){return YT=tf(ba().mark(function n(e){return ba().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(vC===void 0){i.next=2;break}return i.abrupt("return",vle(e));case 2:Ale(e);case 3:case"end":return i.stop()}},n)})),YT.apply(this,arguments)}const B2=()=>({height:0,opacity:0}),cN=n=>{const{scrollHeight:e}=n;return{height:e,opacity:1}},ble=n=>({height:n?n.offsetHeight:0}),O2=(n,e)=>(e==null?void 0:e.deadline)===!0||e.propertyName==="height",xle=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ant"}-motion-collapse`,onAppearStart:B2,onEnterStart:B2,onAppearActive:cN,onEnterActive:cN,onLeaveStart:ble,onLeaveActive:B2,onAppearEnd:O2,onEnterEnd:O2,onLeaveEnd:O2,motionDeadline:500}},tP=(n,e,r)=>r!==void 0?r:`${n}-${e}`,nP=xle,AC=function(n){if(!n)return!1;if(n instanceof Element){if(n.offsetParent)return!0;if(n.getBBox){var e=n.getBBox(),r=e.width,i=e.height;if(r||i)return!0}if(n.getBoundingClientRect){var o=n.getBoundingClientRect(),s=o.width,l=o.height;if(s||l)return!0}}return!1},Ele=n=>{const{componentCls:e,colorPrimary:r}=n;return{[e]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${r})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${n.motionEaseOutCirc}`,`opacity 2s ${n.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow 0.3s ${n.motionEaseInOut}`,`opacity 0.35s ${n.motionEaseInOut}`].join(",")}}}}},Cle=ki("Wave",n=>[Ele(n)]);function wle(n){const e=(n||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return e&&e[1]&&e[2]&&e[3]?!(e[1]===e[2]&&e[2]===e[3]):!0}function D2(n){return n&&n!=="#fff"&&n!=="#ffffff"&&n!=="rgb(255, 255, 255)"&&n!=="rgba(255, 255, 255, 1)"&&wle(n)&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&n!=="transparent"}function Sle(n){const{borderTopColor:e,borderColor:r,backgroundColor:i}=getComputedStyle(n);return D2(e)?e:D2(r)?r:D2(i)?i:null}const yC="ant-wave-target";function N2(n){return Number.isNaN(n)?0:n}const _le=n=>{const{className:e,target:r,component:i}=n,o=M.useRef(null),[s,l]=M.useState(null),[u,c]=M.useState([]),[d,h]=M.useState(0),[p,m]=M.useState(0),[v,y]=M.useState(0),[A,b]=M.useState(0),[g,w]=M.useState(!1),E={left:d,top:p,width:v,height:A,borderRadius:u.map(P=>`${P}px`).join(" ")};s&&(E["--wave-color"]=s);function C(){const P=getComputedStyle(r);l(Sle(r));const R=P.position==="static",{borderLeftWidth:L,borderTopWidth:T}=P;h(R?r.offsetLeft:N2(-parseFloat(L))),m(R?r.offsetTop:N2(-parseFloat(T))),y(r.offsetWidth),b(r.offsetHeight);const{borderTopLeftRadius:D,borderTopRightRadius:H,borderBottomLeftRadius:V,borderBottomRightRadius:B}=P;c([D,H,B,V].map(O=>N2(parseFloat(O))))}if(M.useEffect(()=>{if(r){const P=Oi(()=>{C(),w(!0)});let R;return typeof ResizeObserver<"u"&&(R=new ResizeObserver(C),R.observe(r)),()=>{Oi.cancel(P),R==null||R.disconnect()}}},[]),!g)return null;const _=(i==="Checkbox"||i==="Radio")&&(r==null?void 0:r.classList.contains(yC));return M.createElement(Sc,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(P,R)=>{var L;if(R.deadline||R.propertyName==="opacity"){const T=(L=o.current)===null||L===void 0?void 0:L.parentElement;yle(T).then(()=>{T==null||T.remove()})}return!1}},P=>{let{className:R}=P;return M.createElement("div",{ref:o,className:bt(e,{"wave-quick":_},R),style:E})})},Mle=(n,e)=>{var r;const{component:i}=e;if(i==="Checkbox"&&!(!((r=n.querySelector("input"))===null||r===void 0)&&r.checked))return;const o=document.createElement("div");o.style.position="absolute",o.style.left="0px",o.style.top="0px",n==null||n.insertBefore(o,n==null?void 0:n.firstChild),B9(M.createElement(_le,Object.assign({},e,{target:n})),o)},Tle=Mle;function Rle(n,e,r){const{wave:i}=M.useContext(Er),[,o,s]=$s(),l=Fo(d=>{const h=n.current;if(i!=null&&i.disabled||!h)return;const p=h.querySelector(`.${yC}`)||h,{showEffect:m}=i||{};(m||Tle)(p,{className:e,token:o,component:r,event:d,hashId:s})}),u=M.useRef();return d=>{Oi.cancel(u.current),u.current=Oi(()=>{l(d)})}}const Ile=n=>{const{children:e,disabled:r,component:i}=n,{getPrefixCls:o}=M.useContext(Er),s=M.useRef(null),l=o("wave"),[,u]=Cle(l),c=Rle(s,bt(l,u),i);if(Wt.useEffect(()=>{const h=s.current;if(!h||h.nodeType!==1||r)return;const p=m=>{!AC(m.target)||!h.getAttribute||h.getAttribute("disabled")||h.disabled||h.className.includes("disabled")||h.className.includes("-leave")||c(m)};return h.addEventListener("click",p,!0),()=>{h.removeEventListener("click",p,!0)}},[r]),!Wt.isValidElement(e))return e??null;const d=bc(e)?zs(e.ref,s):s;return ya(e,{ref:d})},bC=Ile,Ple=n=>{const e=Wt.useContext(mC);return Wt.useMemo(()=>n?typeof n=="string"?n??e:n instanceof Function?n(e):e:e,[n,e])},Jl=Ple,Lle=n=>{const{componentCls:e}=n;return{[e]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},Ble=Lle,Ole=n=>{const{componentCls:e}=n;return{[e]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${e}-item:empty`]:{display:"none"}}}},Dle=n=>{const{componentCls:e}=n;return{[e]:{"&-gap-row-small":{rowGap:n.spaceGapSmallSize},"&-gap-row-middle":{rowGap:n.spaceGapMiddleSize},"&-gap-row-large":{rowGap:n.spaceGapLargeSize},"&-gap-col-small":{columnGap:n.spaceGapSmallSize},"&-gap-col-middle":{columnGap:n.spaceGapMiddleSize},"&-gap-col-large":{columnGap:n.spaceGapLargeSize}}}},O9=ki("Space",n=>{const e=ei(n,{spaceGapSmallSize:n.paddingXS,spaceGapMiddleSize:n.padding,spaceGapLargeSize:n.paddingLG});return[Ole(e),Dle(e),Ble(e)]},()=>({}),{resetStyle:!1});var D9=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const xC=M.createContext(null),GA=(n,e)=>{const r=M.useContext(xC),i=M.useMemo(()=>{if(!r)return"";const{compactDirection:o,isFirstItem:s,isLastItem:l}=r,u=o==="vertical"?"-vertical-":"-";return bt(`${n}-compact${u}item`,{[`${n}-compact${u}first-item`]:s,[`${n}-compact${u}last-item`]:l,[`${n}-compact${u}item-rtl`]:e==="rtl"})},[n,e,r]);return{compactSize:r==null?void 0:r.compactSize,compactDirection:r==null?void 0:r.compactDirection,compactItemClassnames:i}},nE=n=>{let{children:e}=n;return M.createElement(xC.Provider,{value:null},e)},Nle=n=>{var{children:e}=n,r=D9(n,["children"]);return M.createElement(xC.Provider,{value:r},e)},kle=n=>{const{getPrefixCls:e,direction:r}=M.useContext(Er),{size:i,direction:o,block:s,prefixCls:l,className:u,rootClassName:c,children:d}=n,h=D9(n,["size","direction","block","prefixCls","className","rootClassName","children"]),p=Jl(E=>i??E),m=e("space-compact",l),[v,y]=O9(m),A=bt(m,y,{[`${m}-rtl`]:r==="rtl",[`${m}-block`]:s,[`${m}-vertical`]:o==="vertical"},u,c),b=M.useContext(xC),g=qa(d),w=M.useMemo(()=>g.map((E,C)=>{const _=E&&E.key||`${m}-item-${C}`;return M.createElement(Nle,{key:_,compactSize:p,compactDirection:o,isFirstItem:C===0&&(!b||(b==null?void 0:b.isFirstItem)),isLastItem:C===g.length-1&&(!b||(b==null?void 0:b.isLastItem))},E)}),[i,g,b]);return g.length===0?null:v(M.createElement("div",Object.assign({className:A},h),w))};var Fle=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const N9=M.createContext(void 0),Ule=n=>{const{getPrefixCls:e,direction:r}=M.useContext(Er),{prefixCls:i,size:o,className:s}=n,l=Fle(n,["prefixCls","size","className"]),u=e("btn-group",i),[,,c]=$s();let d="";switch(o){case"large":d="lg";break;case"small":d="sm";break}const h=bt(u,{[`${u}-${d}`]:d,[`${u}-rtl`]:r==="rtl"},s,c);return M.createElement(N9.Provider,{value:o},M.createElement("div",Object.assign({},l,{className:h})))},zle=Ule,uN=/^[\u4e00-\u9fa5]{2}$/,JT=uN.test.bind(uN);function dN(n){return typeof n=="string"}function k2(n){return n==="text"||n==="link"}function $le(n,e){if(n==null)return;const r=e?" ":"";return typeof n!="string"&&typeof n!="number"&&dN(n.type)&&JT(n.props.children)?ya(n,{children:n.props.children.split("").join(r)}):dN(n)?JT(n)?Wt.createElement("span",null,n.split("").join(r)):Wt.createElement("span",null,n):M9(n)?Wt.createElement("span",null,n):n}function Hle(n,e){let r=!1;const i=[];return Wt.Children.forEach(n,o=>{const s=typeof o,l=s==="string"||s==="number";if(r&&l){const u=i.length-1,c=i[u];i[u]=`${c}${o}`}else i.push(o);r=l}),Wt.Children.map(i,o=>$le(o,e))}const jle=M.forwardRef((n,e)=>{const{className:r,style:i,children:o,prefixCls:s}=n,l=bt(`${s}-icon`,r);return Wt.createElement("span",{ref:e,className:l,style:i},o)}),k9=jle,fN=M.forwardRef((n,e)=>{let{prefixCls:r,className:i,style:o,iconClassName:s}=n;const l=bt(`${r}-loading-icon`,i);return Wt.createElement(k9,{prefixCls:r,className:l,style:o,ref:e},Wt.createElement(Km,{className:s}))}),F2=()=>({width:0,opacity:0,transform:"scale(0)"}),U2=n=>({width:n.scrollWidth,opacity:1,transform:"scale(1)"}),Gle=n=>{const{prefixCls:e,loading:r,existIcon:i,className:o,style:s}=n,l=!!r;return i?Wt.createElement(fN,{prefixCls:e,className:o,style:s}):Wt.createElement(Sc,{visible:l,motionName:`${e}-loading-icon-motion`,motionLeave:l,removeOnLeave:!0,onAppearStart:F2,onAppearActive:U2,onEnterStart:F2,onEnterActive:U2,onLeaveStart:U2,onLeaveActive:F2},(u,c)=>{let{className:d,style:h}=u;return Wt.createElement(fN,{prefixCls:e,className:o,style:Object.assign(Object.assign({},s),h),ref:c,iconClassName:d})})},Vle=Gle,hN=(n,e)=>({[`> span, > ${n}`]:{"&:not(:last-child)":{[`&, & > ${n}`]:{"&:not(:disabled)":{borderInlineEndColor:e}}},"&:not(:first-child)":{[`&, & > ${n}`]:{"&:not(:disabled)":{borderInlineStartColor:e}}}}}),Wle=n=>{const{componentCls:e,fontSize:r,lineWidth:i,groupBorderColor:o,colorErrorHover:s}=n;return{[`${e}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:-i,[`&, & > ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[e]:{position:"relative",zIndex:1,"&:hover,\n          &:focus,\n          &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${e}-icon-only`]:{fontSize:r}},hN(`${e}-primary`,o),hN(`${e}-danger`,s)]}},Qle=Wle,Kle=n=>{const{componentCls:e,iconCls:r,fontWeight:i}=n;return{[e]:{outline:"none",position:"relative",display:"inline-block",fontWeight:i,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",backgroundColor:"transparent",border:`${n.lineWidth}px ${n.lineType} transparent`,cursor:"pointer",transition:`all ${n.motionDurationMid} ${n.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",lineHeight:n.lineHeight,color:n.colorText,"&:disabled > *":{pointerEvents:"none"},"> span":{display:"inline-block"},[`${e}-icon`]:{lineHeight:0},[`> ${r} + span, > span + ${r}`]:{marginInlineStart:n.marginXS},[`&:not(${e}-icon-only) > ${e}-icon`]:{[`&${e}-loading-icon, &:not(:last-child)`]:{marginInlineEnd:n.marginXS}},"> a":{color:"currentColor"},"&:not(:disabled)":Object.assign({},Zm(n)),[`&${e}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${e}-two-chinese-chars > *:not(${r})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&-icon-only${e}-compact-item`]:{flex:"none"},[`&-compact-item${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-n.lineWidth,insetInlineStart:-n.lineWidth,display:"inline-block",width:n.lineWidth,height:`calc(100% + ${n.lineWidth*2}px)`,backgroundColor:n.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-vertical-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-n.lineWidth,insetInlineStart:-n.lineWidth,display:"inline-block",width:`calc(100% + ${n.lineWidth*2}px)`,height:n.lineWidth,backgroundColor:n.colorPrimaryHover,content:'""'}}}}}}},Ou=(n,e,r)=>({[`&:not(:disabled):not(${n}-disabled)`]:{"&:hover":e,"&:active":r}}),Xle=n=>({minWidth:n.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),qle=n=>({borderRadius:n.controlHeight,paddingInlineStart:n.controlHeight/2,paddingInlineEnd:n.controlHeight/2}),Yle=n=>({cursor:"not-allowed",borderColor:n.borderColorDisabled,color:n.colorTextDisabled,backgroundColor:n.colorBgContainerDisabled,boxShadow:"none"}),AA=(n,e,r,i,o,s,l,u)=>({[`&${n}-background-ghost`]:Object.assign(Object.assign({color:r||void 0,backgroundColor:e,borderColor:i||void 0,boxShadow:"none"},Ou(n,Object.assign({backgroundColor:e},l),Object.assign({backgroundColor:e},u))),{"&:disabled":{cursor:"not-allowed",color:o||void 0,borderColor:s||void 0}})}),rP=n=>({[`&:disabled, &${n.componentCls}-disabled`]:Object.assign({},Yle(n))}),F9=n=>Object.assign({},rP(n)),rE=n=>({[`&:disabled, &${n.componentCls}-disabled`]:{cursor:"not-allowed",color:n.colorTextDisabled}}),U9=n=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},F9(n)),{backgroundColor:n.defaultBg,borderColor:n.defaultBorderColor,color:n.defaultColor,boxShadow:n.defaultShadow}),Ou(n.componentCls,{color:n.colorPrimaryHover,borderColor:n.colorPrimaryHover},{color:n.colorPrimaryActive,borderColor:n.colorPrimaryActive})),AA(n.componentCls,n.ghostBg,n.defaultGhostColor,n.defaultGhostBorderColor,n.colorTextDisabled,n.colorBorder)),{[`&${n.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({color:n.colorError,borderColor:n.colorError},Ou(n.componentCls,{color:n.colorErrorHover,borderColor:n.colorErrorBorderHover},{color:n.colorErrorActive,borderColor:n.colorErrorActive})),AA(n.componentCls,n.ghostBg,n.colorError,n.colorError,n.colorTextDisabled,n.colorBorder)),rP(n))}),Jle=n=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},F9(n)),{color:n.primaryColor,backgroundColor:n.colorPrimary,boxShadow:n.primaryShadow}),Ou(n.componentCls,{color:n.colorTextLightSolid,backgroundColor:n.colorPrimaryHover},{color:n.colorTextLightSolid,backgroundColor:n.colorPrimaryActive})),AA(n.componentCls,n.ghostBg,n.colorPrimary,n.colorPrimary,n.colorTextDisabled,n.colorBorder,{color:n.colorPrimaryHover,borderColor:n.colorPrimaryHover},{color:n.colorPrimaryActive,borderColor:n.colorPrimaryActive})),{[`&${n.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({backgroundColor:n.colorError,boxShadow:n.dangerShadow,color:n.dangerColor},Ou(n.componentCls,{backgroundColor:n.colorErrorHover},{backgroundColor:n.colorErrorActive})),AA(n.componentCls,n.ghostBg,n.colorError,n.colorError,n.colorTextDisabled,n.colorBorder,{color:n.colorErrorHover,borderColor:n.colorErrorHover},{color:n.colorErrorActive,borderColor:n.colorErrorActive})),rP(n))}),Zle=n=>Object.assign(Object.assign({},U9(n)),{borderStyle:"dashed"}),ece=n=>Object.assign(Object.assign(Object.assign({color:n.colorLink},Ou(n.componentCls,{color:n.colorLinkHover,backgroundColor:n.linkHoverBg},{color:n.colorLinkActive})),rE(n)),{[`&${n.componentCls}-dangerous`]:Object.assign(Object.assign({color:n.colorError},Ou(n.componentCls,{color:n.colorErrorHover},{color:n.colorErrorActive})),rE(n))}),tce=n=>Object.assign(Object.assign(Object.assign({},Ou(n.componentCls,{color:n.colorText,backgroundColor:n.textHoverBg},{color:n.colorText,backgroundColor:n.colorBgTextActive})),rE(n)),{[`&${n.componentCls}-dangerous`]:Object.assign(Object.assign({color:n.colorError},rE(n)),Ou(n.componentCls,{color:n.colorErrorHover,backgroundColor:n.colorErrorBg},{color:n.colorErrorHover,backgroundColor:n.colorErrorBg}))}),nce=n=>{const{componentCls:e}=n;return{[`${e}-default`]:U9(n),[`${e}-primary`]:Jle(n),[`${e}-dashed`]:Zle(n),[`${e}-link`]:ece(n),[`${e}-text`]:tce(n),[`${e}-ghost`]:AA(n.componentCls,n.ghostBg,n.colorBgContainer,n.colorBgContainer,n.colorTextDisabled,n.colorBorder)}},iP=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:r,controlHeight:i,fontSize:o,lineHeight:s,lineWidth:l,borderRadius:u,buttonPaddingHorizontal:c,iconCls:d}=n,h=Math.max(0,(i-o*s)/2-l),p=`${r}-icon-only`;return[{[`${r}${e}`]:{fontSize:o,height:i,padding:`${h}px ${c}px`,borderRadius:u,[`&${p}`]:{width:i,paddingInlineStart:0,paddingInlineEnd:0,[`&${r}-round`]:{width:"auto"},[d]:{fontSize:n.buttonIconOnlyFontSize}},[`&${r}-loading`]:{opacity:n.opacityLoading,cursor:"default"},[`${r}-loading-icon`]:{transition:`width ${n.motionDurationSlow} ${n.motionEaseInOut}, opacity ${n.motionDurationSlow} ${n.motionEaseInOut}`}}},{[`${r}${r}-circle${e}`]:Xle(n)},{[`${r}${r}-round${e}`]:qle(n)}]},rce=n=>iP(ei(n,{fontSize:n.contentFontSize})),ice=n=>{const e=ei(n,{controlHeight:n.controlHeightSM,fontSize:n.contentFontSizeSM,padding:n.paddingXS,buttonPaddingHorizontal:n.paddingInlineSM,borderRadius:n.borderRadiusSM,buttonIconOnlyFontSize:n.onlyIconSizeSM});return iP(e,`${n.componentCls}-sm`)},oce=n=>{const e=ei(n,{controlHeight:n.controlHeightLG,fontSize:n.contentFontSizeLG,buttonPaddingHorizontal:n.paddingInlineLG,borderRadius:n.borderRadiusLG,buttonIconOnlyFontSize:n.onlyIconSizeLG});return iP(e,`${n.componentCls}-lg`)},ace=n=>{const{componentCls:e}=n;return{[e]:{[`&${e}-block`]:{width:"100%"}}}},z9=n=>{const{paddingInline:e,onlyIconSize:r}=n;return ei(n,{buttonPaddingHorizontal:e,buttonIconOnlyFontSize:r})},$9=n=>({fontWeight:400,defaultShadow:`0 ${n.controlOutlineWidth}px 0 ${n.controlTmpOutline}`,primaryShadow:`0 ${n.controlOutlineWidth}px 0 ${n.controlOutline}`,dangerShadow:`0 ${n.controlOutlineWidth}px 0 ${n.colorErrorOutline}`,primaryColor:n.colorTextLightSolid,dangerColor:n.colorTextLightSolid,borderColorDisabled:n.colorBorder,defaultGhostColor:n.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:n.colorBgContainer,paddingInline:n.paddingContentHorizontal-n.lineWidth,paddingInlineLG:n.paddingContentHorizontal-n.lineWidth,paddingInlineSM:8-n.lineWidth,onlyIconSize:n.fontSizeLG,onlyIconSizeSM:n.fontSizeLG-2,onlyIconSizeLG:n.fontSizeLG+2,groupBorderColor:n.colorPrimaryHover,linkHoverBg:"transparent",textHoverBg:n.colorBgTextHover,defaultColor:n.colorText,defaultBg:n.colorBgContainer,defaultBorderColor:n.colorBorder,defaultBorderColorDisabled:n.colorBorder,contentFontSize:n.fontSize,contentFontSizeSM:n.fontSize,contentFontSizeLG:n.fontSizeLG}),sce=ki("Button",n=>{const e=z9(n);return[Kle(e),ice(e),rce(e),oce(e),ace(e),nce(e),Qle(e)]},$9);function lce(n,e,r){const{focusElCls:i,focus:o,borderElCls:s}=r,l=s?"> *":"",u=["hover",o?"focus":null,"active"].filter(Boolean).map(c=>`&:${c} ${l}`).join(",");return{[`&-item:not(${e}-last-item)`]:{marginInlineEnd:-n.lineWidth},"&-item":Object.assign(Object.assign({[u]:{zIndex:2}},i?{[`&${i}`]:{zIndex:2}}:{}),{[`&[disabled] ${l}`]:{zIndex:0}})}}function cce(n,e,r){const{borderElCls:i}=r,o=i?`> ${i}`:"";return{[`&-item:not(${e}-first-item):not(${e}-last-item) ${o}`]:{borderRadius:0},[`&-item:not(${e}-last-item)${e}-first-item`]:{[`& ${o}, &${n}-sm ${o}, &${n}-lg ${o}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${e}-first-item)${e}-last-item`]:{[`& ${o}, &${n}-sm ${o}, &${n}-lg ${o}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function oP(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:r}=n,i=`${r}-compact`;return{[i]:Object.assign(Object.assign({},lce(n,i,e)),cce(r,i,e))}}function uce(n,e){return{[`&-item:not(${e}-last-item)`]:{marginBottom:-n.lineWidth},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function dce(n,e){return{[`&-item:not(${e}-first-item):not(${e}-last-item)`]:{borderRadius:0},[`&-item${e}-first-item:not(${e}-last-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${e}-last-item:not(${e}-first-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function fce(n){const e=`${n.componentCls}-compact-vertical`;return{[e]:Object.assign(Object.assign({},uce(n,e)),dce(n.componentCls,e))}}const hce=JI(["Button","compact"],n=>{const e=z9(n);return[oP(e),fce(e)]},$9);var pce=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};function mce(n){if(typeof n=="object"&&n){let e=n==null?void 0:n.delay;return e=!Number.isNaN(e)&&typeof e=="number"?e:0,{loading:e<=0,delay:e}}return{loading:!!n,delay:0}}const gce=(n,e)=>{var r,i;const{loading:o=!1,prefixCls:s,type:l="default",danger:u,shape:c="default",size:d,styles:h,disabled:p,className:m,rootClassName:v,children:y,icon:A,ghost:b=!1,block:g=!1,htmlType:w="button",classNames:E,style:C={}}=n,_=pce(n,["loading","prefixCls","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","ghost","block","htmlType","classNames","style"]),{getPrefixCls:P,autoInsertSpaceInButton:R,direction:L,button:T}=M.useContext(Er),D=P("btn",s),[H,V]=sce(D),B=M.useContext(ef),O=p??B,F=M.useContext(N9),N=M.useMemo(()=>mce(o),[o]),[z,j]=M.useState(N.loading),[G,Q]=M.useState(!1),J=zs(e,M.createRef()),Z=M.Children.count(y)===1&&!A&&!k2(l);M.useEffect(()=>{let Tt=null;N.delay>0?Tt=setTimeout(()=>{Tt=null,j(!0)},N.delay):j(N.loading);function Dt(){Tt&&(clearTimeout(Tt),Tt=null)}return Dt},[N]),M.useEffect(()=>{if(!J||!J.current||R===!1)return;const Tt=J.current.textContent;Z&&JT(Tt)?G||Q(!0):G&&Q(!1)},[J]);const oe=Tt=>{const{onClick:Dt}=n;if(z||O){Tt.preventDefault();return}Dt==null||Dt(Tt)},ce=R!==!1,{compactSize:Be,compactItemClassnames:ge}=GA(D,L),Re={large:"lg",small:"sm",middle:void 0},$e=Jl(Tt=>{var Dt,Yt;return(Yt=(Dt=d??Be)!==null&&Dt!==void 0?Dt:F)!==null&&Yt!==void 0?Yt:Tt}),qe=$e&&Re[$e]||"",Ke=z?"loading":A,ke=co(_,["navigate"]),st=bt(D,V,{[`${D}-${c}`]:c!=="default"&&c,[`${D}-${l}`]:l,[`${D}-${qe}`]:qe,[`${D}-icon-only`]:!y&&y!==0&&!!Ke,[`${D}-background-ghost`]:b&&!k2(l),[`${D}-loading`]:z,[`${D}-two-chinese-chars`]:G&&ce&&!z,[`${D}-block`]:g,[`${D}-dangerous`]:!!u,[`${D}-rtl`]:L==="rtl"},ge,m,v,T==null?void 0:T.className),ot=Object.assign(Object.assign({},T==null?void 0:T.style),C),it=bt(E==null?void 0:E.icon,(r=T==null?void 0:T.classNames)===null||r===void 0?void 0:r.icon),ft=Object.assign(Object.assign({},(h==null?void 0:h.icon)||{}),((i=T==null?void 0:T.styles)===null||i===void 0?void 0:i.icon)||{}),Et=A&&!z?Wt.createElement(k9,{prefixCls:D,className:it,style:ft},A):Wt.createElement(Vle,{existIcon:!!A,prefixCls:D,loading:!!z}),gt=y||y===0?Hle(y,Z&&ce):null;if(ke.href!==void 0)return H(Wt.createElement("a",Object.assign({},ke,{className:bt(st,{[`${D}-disabled`]:O}),style:ot,onClick:oe,ref:J}),Et,gt));let Ct=Wt.createElement("button",Object.assign({},_,{type:w,className:st,style:ot,onClick:oe,disabled:O,ref:J}),Et,gt,ge&&Wt.createElement(hce,{key:"compact",prefixCls:D}));return k2(l)||(Ct=Wt.createElement(bC,{component:"Button",disabled:!!z},Ct)),H(Ct)},aP=M.forwardRef(gce);aP.Group=zle;aP.__ANT_BUTTON=!0;const Cc=aP;var H9=M.createContext(null),pN=[];function vce(n,e){var r=M.useState(function(){if(!la())return null;var y=document.createElement("div");return y}),i=Ot(r,1),o=i[0],s=M.useRef(!1),l=M.useContext(H9),u=M.useState(pN),c=Ot(u,2),d=c[0],h=c[1],p=l||(s.current?void 0:function(y){h(function(A){var b=[y].concat(mn(A));return b})});function m(){o.parentElement||document.body.appendChild(o),s.current=!0}function v(){var y;(y=o.parentElement)===null||y===void 0||y.removeChild(o),s.current=!1}return mi(function(){return n?l?l(m):m():v(),v},[n]),mi(function(){d.length&&(d.forEach(function(y){return y()}),h(pN))},[d]),[o,p]}var z2;function ZT(n){if(typeof document>"u")return 0;if(n||z2===void 0){var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var r=document.createElement("div"),i=r.style;i.position="absolute",i.top="0",i.left="0",i.pointerEvents="none",i.visibility="hidden",i.width="200px",i.height="150px",i.overflow="hidden",r.appendChild(e),document.body.appendChild(r);var o=e.offsetWidth;r.style.overflow="scroll";var s=e.offsetWidth;o===s&&(s=r.clientWidth),document.body.removeChild(r),z2=o-s}return z2}function mN(n){var e=n.match(/^(.*)px$/),r=Number(e==null?void 0:e[1]);return Number.isNaN(r)?ZT():r}function e3(n){if(typeof document>"u"||!n||!(n instanceof Element))return{width:0,height:0};var e=getComputedStyle(n,"::-webkit-scrollbar"),r=e.width,i=e.height;return{width:mN(r),height:mN(i)}}function Ace(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var yce="rc-util-locker-".concat(Date.now()),gN=0;function bce(n){var e=!!n,r=M.useState(function(){return gN+=1,"".concat(yce,"_").concat(gN)}),i=Ot(r,1),o=i[0];mi(function(){if(e){var s=e3(document.body).width,l=Ace();Qm(`
html body {
  overflow-y: hidden;
  `.concat(l?"width: calc(100% - ".concat(s,"px);"):"",`
}`),o)}else Vx(o);return function(){Vx(o)}},[e,o])}var vN=!1;function xce(n){return typeof n=="boolean"&&(vN=n),vN}var AN=function(e){return e===!1?!1:!la()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e},EC=M.forwardRef(function(n,e){var r=n.open,i=n.autoLock,o=n.getContainer;n.debug;var s=n.autoDestroy,l=s===void 0?!0:s,u=n.children,c=M.useState(r),d=Ot(c,2),h=d[0],p=d[1],m=h||r;M.useEffect(function(){(l||r)&&p(r)},[r,l]);var v=M.useState(function(){return AN(o)}),y=Ot(v,2),A=y[0],b=y[1];M.useEffect(function(){var H=AN(o);b(H??null)});var g=vce(m&&!A),w=Ot(g,2),E=w[0],C=w[1],_=A??E;bce(i&&r&&la()&&(_===E||_===document.body));var P=null;if(u&&bc(u)&&e){var R=u;P=R.ref}var L=Rh(P,e);if(!m||!la()||A===void 0)return null;var T=_===!1||xce(),D=u;return e&&(D=M.cloneElement(u,{ref:L})),M.createElement(H9.Provider,{value:C},T?D:Ns.createPortal(D,_))});function Ece(){var n=ht({},DA);return n.useId}var yN=0,bN=Ece();const j9=bN?function(e){var r=bN();return e||r}:function(e){var r=M.useState("ssr-id"),i=Ot(r,2),o=i[0],s=i[1];return M.useEffect(function(){var l=yN;yN+=1,s("rc_unique_".concat(l))},[]),e||o};function Cce(n,e,r){return typeof n=="boolean"?n:e===void 0?!!r:e!==!1&&e!==null}function G9(n,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Wt.createElement(Mh,null),o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(!Cce(n,e,o))return[!1,null];const l=typeof e=="boolean"||e===void 0||e===null?i:e;return[!0,r?r(l):l]}var V9=function(e){if(la()&&window.document.documentElement){var r=Array.isArray(e)?e:[e],i=window.document.documentElement;return r.some(function(o){return o in i.style})}return!1},wce=function(e,r){if(!V9(e))return!1;var i=document.createElement("div"),o=i.style[e];return i.style[e]=r,i.style[e]!==o};function t3(n,e){return!Array.isArray(n)&&e!==void 0?wce(n,e):V9(n)}var Jf="RC_FORM_INTERNAL_HOOKS",ji=function(){no(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},eg=M.createContext({getFieldValue:ji,getFieldsValue:ji,getFieldError:ji,getFieldWarning:ji,getFieldsError:ji,isFieldsTouched:ji,isFieldTouched:ji,isFieldValidating:ji,isFieldsValidating:ji,resetFields:ji,setFields:ji,setFieldValue:ji,setFieldsValue:ji,validateFields:ji,submit:ji,getInternalHooks:function(){return ji(),{dispatch:ji,initEntityValue:ji,registerField:ji,useSubscribe:ji,setInitialValues:ji,destroyForm:ji,setCallbacks:ji,registerWatch:ji,getFields:ji,setValidateMessages:ji,setPreserve:ji,getInitialValue:ji}}}),iE=M.createContext(null);function n3(n){return n==null?[]:Array.isArray(n)?n:[n]}function Sce(n){return n&&!!n._init}function Zf(){return Zf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},Zf.apply(this,arguments)}function _ce(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,yA(n,e)}function r3(n){return r3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},r3(n)}function yA(n,e){return yA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},yA(n,e)}function Mce(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ox(n,e,r){return Mce()?ox=Reflect.construct.bind():ox=function(o,s,l){var u=[null];u.push.apply(u,s);var c=Function.bind.apply(o,u),d=new c;return l&&yA(d,l.prototype),d},ox.apply(null,arguments)}function Tce(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function i3(n){var e=typeof Map=="function"?new Map:void 0;return i3=function(i){if(i===null||!Tce(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(i))return e.get(i);e.set(i,o)}function o(){return ox(i,arguments,r3(this).constructor)}return o.prototype=Object.create(i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),yA(o,i)},i3(n)}var Rce=/%[sdj%]/g,Ice=function(){};typeof process<"u"&&process.env;function o3(n){if(!n||!n.length)return null;var e={};return n.forEach(function(r){var i=r.field;e[i]=e[i]||[],e[i].push(r)}),e}function Bs(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];var o=0,s=r.length;if(typeof n=="function")return n.apply(null,r);if(typeof n=="string"){var l=n.replace(Rce,function(u){if(u==="%%")return"%";if(o>=s)return u;switch(u){case"%s":return String(r[o++]);case"%d":return Number(r[o++]);case"%j":try{return JSON.stringify(r[o++])}catch{return"[Circular]"}break;default:return u}});return l}return n}function Pce(n){return n==="string"||n==="url"||n==="hex"||n==="email"||n==="date"||n==="pattern"}function Qo(n,e){return!!(n==null||e==="array"&&Array.isArray(n)&&!n.length||Pce(e)&&typeof n=="string"&&!n)}function Lce(n,e,r){var i=[],o=0,s=n.length;function l(u){i.push.apply(i,u||[]),o++,o===s&&r(i)}n.forEach(function(u){e(u,l)})}function xN(n,e,r){var i=0,o=n.length;function s(l){if(l&&l.length){r(l);return}var u=i;i=i+1,u<o?e(n[u],s):r([])}s([])}function Bce(n){var e=[];return Object.keys(n).forEach(function(r){e.push.apply(e,n[r]||[])}),e}var EN=function(n){_ce(e,n);function e(r,i){var o;return o=n.call(this,"Async Validation Error")||this,o.errors=r,o.fields=i,o}return e}(i3(Error));function Oce(n,e,r,i,o){if(e.first){var s=new Promise(function(m,v){var y=function(g){return i(g),g.length?v(new EN(g,o3(g))):m(o)},A=Bce(n);xN(A,r,y)});return s.catch(function(m){return m}),s}var l=e.firstFields===!0?Object.keys(n):e.firstFields||[],u=Object.keys(n),c=u.length,d=0,h=[],p=new Promise(function(m,v){var y=function(b){if(h.push.apply(h,b),d++,d===c)return i(h),h.length?v(new EN(h,o3(h))):m(o)};u.length||(i(h),m(o)),u.forEach(function(A){var b=n[A];l.indexOf(A)!==-1?xN(b,r,y):Lce(b,r,y)})});return p.catch(function(m){return m}),p}function Dce(n){return!!(n&&n.message!==void 0)}function Nce(n,e){for(var r=n,i=0;i<e.length;i++){if(r==null)return r;r=r[e[i]]}return r}function CN(n,e){return function(r){var i;return n.fullFields?i=Nce(e,n.fullFields):i=e[r.field||n.fullField],Dce(r)?(r.field=r.field||n.fullField,r.fieldValue=i,r):{message:typeof r=="function"?r():r,fieldValue:i,field:r.field||n.fullField}}}function wN(n,e){if(e){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];typeof i=="object"&&typeof n[r]=="object"?n[r]=Zf({},n[r],i):n[r]=i}}return n}var W9=function(e,r,i,o,s,l){e.required&&(!i.hasOwnProperty(e.field)||Qo(r,l||e.type))&&o.push(Bs(s.messages.required,e.fullField))},kce=function(e,r,i,o,s){(/^\s+$/.test(r)||r==="")&&o.push(Bs(s.messages.whitespace,e.fullField))},Hb,Fce=function(){if(Hb)return Hb;var n="[a-fA-F\\d:]",e=function(C){return C&&C.includeBoundaries?"(?:(?<=\\s|^)(?="+n+")|(?<="+n+")(?=\\s|$))":""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",i="[a-fA-F\\d]{1,4}",o=(`
(?:
(?:`+i+":){7}(?:"+i+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+i+":){6}(?:"+r+"|:"+i+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+i+":){5}(?::"+r+"|(?::"+i+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+i+":){4}(?:(?::"+i+"){0,1}:"+r+"|(?::"+i+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+i+":){3}(?:(?::"+i+"){0,2}:"+r+"|(?::"+i+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+i+":){2}(?:(?::"+i+"){0,3}:"+r+"|(?::"+i+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+i+":){1}(?:(?::"+i+"){0,4}:"+r+"|(?::"+i+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+i+"){0,5}:"+r+"|(?::"+i+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),s=new RegExp("(?:^"+r+"$)|(?:^"+o+"$)"),l=new RegExp("^"+r+"$"),u=new RegExp("^"+o+"$"),c=function(C){return C&&C.exact?s:new RegExp("(?:"+e(C)+r+e(C)+")|(?:"+e(C)+o+e(C)+")","g")};c.v4=function(E){return E&&E.exact?l:new RegExp(""+e(E)+r+e(E),"g")},c.v6=function(E){return E&&E.exact?u:new RegExp(""+e(E)+o+e(E),"g")};var d="(?:(?:[a-z]+:)?//)",h="(?:\\S+(?::\\S*)?@)?",p=c.v4().source,m=c.v6().source,v="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",y="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",A="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",b="(?::\\d{2,5})?",g='(?:[/?#][^\\s"]*)?',w="(?:"+d+"|www\\.)"+h+"(?:localhost|"+p+"|"+m+"|"+v+y+A+")"+b+g;return Hb=new RegExp("(?:^"+w+"$)","i"),Hb},SN={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},d0={integer:function(e){return d0.number(e)&&parseInt(e,10)===e},float:function(e){return d0.number(e)&&!d0.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!d0.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(SN.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(Fce())},hex:function(e){return typeof e=="string"&&!!e.match(SN.hex)}},Uce=function(e,r,i,o,s){if(e.required&&r===void 0){W9(e,r,i,o,s);return}var l=["integer","float","array","regexp","object","method","email","number","date","url","hex"],u=e.type;l.indexOf(u)>-1?d0[u](r)||o.push(Bs(s.messages.types[u],e.fullField,e.type)):u&&typeof r!==e.type&&o.push(Bs(s.messages.types[u],e.fullField,e.type))},zce=function(e,r,i,o,s){var l=typeof e.len=="number",u=typeof e.min=="number",c=typeof e.max=="number",d=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,h=r,p=null,m=typeof r=="number",v=typeof r=="string",y=Array.isArray(r);if(m?p="number":v?p="string":y&&(p="array"),!p)return!1;y&&(h=r.length),v&&(h=r.replace(d,"_").length),l?h!==e.len&&o.push(Bs(s.messages[p].len,e.fullField,e.len)):u&&!c&&h<e.min?o.push(Bs(s.messages[p].min,e.fullField,e.min)):c&&!u&&h>e.max?o.push(Bs(s.messages[p].max,e.fullField,e.max)):u&&c&&(h<e.min||h>e.max)&&o.push(Bs(s.messages[p].range,e.fullField,e.min,e.max))},hp="enum",$ce=function(e,r,i,o,s){e[hp]=Array.isArray(e[hp])?e[hp]:[],e[hp].indexOf(r)===-1&&o.push(Bs(s.messages[hp],e.fullField,e[hp].join(", ")))},Hce=function(e,r,i,o,s){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(r)||o.push(Bs(s.messages.pattern.mismatch,e.fullField,r,e.pattern));else if(typeof e.pattern=="string"){var l=new RegExp(e.pattern);l.test(r)||o.push(Bs(s.messages.pattern.mismatch,e.fullField,r,e.pattern))}}},vi={required:W9,whitespace:kce,type:Uce,range:zce,enum:$ce,pattern:Hce},jce=function(e,r,i,o,s){var l=[],u=e.required||!e.required&&o.hasOwnProperty(e.field);if(u){if(Qo(r,"string")&&!e.required)return i();vi.required(e,r,o,l,s,"string"),Qo(r,"string")||(vi.type(e,r,o,l,s),vi.range(e,r,o,l,s),vi.pattern(e,r,o,l,s),e.whitespace===!0&&vi.whitespace(e,r,o,l,s))}i(l)},Gce=function(e,r,i,o,s){var l=[],u=e.required||!e.required&&o.hasOwnProperty(e.field);if(u){if(Qo(r)&&!e.required)return i();vi.required(e,r,o,l,s),r!==void 0&&vi.type(e,r,o,l,s)}i(l)},Vce=function(e,r,i,o,s){var l=[],u=e.required||!e.required&&o.hasOwnProperty(e.field);if(u){if(r===""&&(r=void 0),Qo(r)&&!e.required)return i();vi.required(e,r,o,l,s),r!==void 0&&(vi.type(e,r,o,l,s),vi.range(e,r,o,l,s))}i(l)},Wce=function(e,r,i,o,s){var l=[],u=e.required||!e.required&&o.hasOwnProperty(e.field);if(u){if(Qo(r)&&!e.required)return i();vi.required(e,r,o,l,s),r!==void 0&&vi.type(e,r,o,l,s)}i(l)},Qce=function(e,r,i,o,s){var l=[],u=e.required||!e.required&&o.hasOwnProperty(e.field);if(u){if(Qo(r)&&!e.required)return i();vi.required(e,r,o,l,s),Qo(r)||vi.type(e,r,o,l,s)}i(l)},Kce=function(e,r,i,o,s){var l=[],u=e.required||!e.required&&o.hasOwnProperty(e.field);if(u){if(Qo(r)&&!e.required)return i();vi.required(e,r,o,l,s),r!==void 0&&(vi.type(e,r,o,l,s),vi.range(e,r,o,l,s))}i(l)},Xce=function(e,r,i,o,s){var l=[],u=e.required||!e.required&&o.hasOwnProperty(e.field);if(u){if(Qo(r)&&!e.required)return i();vi.required(e,r,o,l,s),r!==void 0&&(vi.type(e,r,o,l,s),vi.range(e,r,o,l,s))}i(l)},qce=function(e,r,i,o,s){var l=[],u=e.required||!e.required&&o.hasOwnProperty(e.field);if(u){if(r==null&&!e.required)return i();vi.required(e,r,o,l,s,"array"),r!=null&&(vi.type(e,r,o,l,s),vi.range(e,r,o,l,s))}i(l)},Yce=function(e,r,i,o,s){var l=[],u=e.required||!e.required&&o.hasOwnProperty(e.field);if(u){if(Qo(r)&&!e.required)return i();vi.required(e,r,o,l,s),r!==void 0&&vi.type(e,r,o,l,s)}i(l)},Jce="enum",Zce=function(e,r,i,o,s){var l=[],u=e.required||!e.required&&o.hasOwnProperty(e.field);if(u){if(Qo(r)&&!e.required)return i();vi.required(e,r,o,l,s),r!==void 0&&vi[Jce](e,r,o,l,s)}i(l)},eue=function(e,r,i,o,s){var l=[],u=e.required||!e.required&&o.hasOwnProperty(e.field);if(u){if(Qo(r,"string")&&!e.required)return i();vi.required(e,r,o,l,s),Qo(r,"string")||vi.pattern(e,r,o,l,s)}i(l)},tue=function(e,r,i,o,s){var l=[],u=e.required||!e.required&&o.hasOwnProperty(e.field);if(u){if(Qo(r,"date")&&!e.required)return i();if(vi.required(e,r,o,l,s),!Qo(r,"date")){var c;r instanceof Date?c=r:c=new Date(r),vi.type(e,c,o,l,s),c&&vi.range(e,c.getTime(),o,l,s)}}i(l)},nue=function(e,r,i,o,s){var l=[],u=Array.isArray(r)?"array":typeof r;vi.required(e,r,o,l,s,u),i(l)},$2=function(e,r,i,o,s){var l=e.type,u=[],c=e.required||!e.required&&o.hasOwnProperty(e.field);if(c){if(Qo(r,l)&&!e.required)return i();vi.required(e,r,o,u,s,l),Qo(r,l)||vi.type(e,r,o,u,s)}i(u)},rue=function(e,r,i,o,s){var l=[],u=e.required||!e.required&&o.hasOwnProperty(e.field);if(u){if(Qo(r)&&!e.required)return i();vi.required(e,r,o,l,s)}i(l)},O0={string:jce,method:Gce,number:Vce,boolean:Wce,regexp:Qce,integer:Kce,float:Xce,array:qce,object:Yce,enum:Zce,pattern:eue,date:tue,url:$2,hex:$2,email:$2,required:nue,any:rue};function a3(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var s3=a3(),VA=function(){function n(r){this.rules=null,this._messages=s3,this.define(r)}var e=n.prototype;return e.define=function(i){var o=this;if(!i)throw new Error("Cannot configure a schema with no rules");if(typeof i!="object"||Array.isArray(i))throw new Error("Rules must be an object");this.rules={},Object.keys(i).forEach(function(s){var l=i[s];o.rules[s]=Array.isArray(l)?l:[l]})},e.messages=function(i){return i&&(this._messages=wN(a3(),i)),this._messages},e.validate=function(i,o,s){var l=this;o===void 0&&(o={}),s===void 0&&(s=function(){});var u=i,c=o,d=s;if(typeof c=="function"&&(d=c,c={}),!this.rules||Object.keys(this.rules).length===0)return d&&d(null,u),Promise.resolve(u);function h(A){var b=[],g={};function w(C){if(Array.isArray(C)){var _;b=(_=b).concat.apply(_,C)}else b.push(C)}for(var E=0;E<A.length;E++)w(A[E]);b.length?(g=o3(b),d(b,g)):d(null,u)}if(c.messages){var p=this.messages();p===s3&&(p=a3()),wN(p,c.messages),c.messages=p}else c.messages=this.messages();var m={},v=c.keys||Object.keys(this.rules);v.forEach(function(A){var b=l.rules[A],g=u[A];b.forEach(function(w){var E=w;typeof E.transform=="function"&&(u===i&&(u=Zf({},u)),g=u[A]=E.transform(g)),typeof E=="function"?E={validator:E}:E=Zf({},E),E.validator=l.getValidationMethod(E),E.validator&&(E.field=A,E.fullField=E.fullField||A,E.type=l.getType(E),m[A]=m[A]||[],m[A].push({rule:E,value:g,source:u,field:A}))})});var y={};return Oce(m,c,function(A,b){var g=A.rule,w=(g.type==="object"||g.type==="array")&&(typeof g.fields=="object"||typeof g.defaultField=="object");w=w&&(g.required||!g.required&&A.value),g.field=A.field;function E(P,R){return Zf({},R,{fullField:g.fullField+"."+P,fullFields:g.fullFields?[].concat(g.fullFields,[P]):[P]})}function C(P){P===void 0&&(P=[]);var R=Array.isArray(P)?P:[P];!c.suppressWarning&&R.length&&n.warning("async-validator:",R),R.length&&g.message!==void 0&&(R=[].concat(g.message));var L=R.map(CN(g,u));if(c.first&&L.length)return y[g.field]=1,b(L);if(!w)b(L);else{if(g.required&&!A.value)return g.message!==void 0?L=[].concat(g.message).map(CN(g,u)):c.error&&(L=[c.error(g,Bs(c.messages.required,g.field))]),b(L);var T={};g.defaultField&&Object.keys(A.value).map(function(V){T[V]=g.defaultField}),T=Zf({},T,A.rule.fields);var D={};Object.keys(T).forEach(function(V){var B=T[V],O=Array.isArray(B)?B:[B];D[V]=O.map(E.bind(null,V))});var H=new n(D);H.messages(c.messages),A.rule.options&&(A.rule.options.messages=c.messages,A.rule.options.error=c.error),H.validate(A.value,A.rule.options||c,function(V){var B=[];L&&L.length&&B.push.apply(B,L),V&&V.length&&B.push.apply(B,V),b(B.length?B:null)})}}var _;if(g.asyncValidator)_=g.asyncValidator(g,A.value,C,A.source,c);else if(g.validator){try{_=g.validator(g,A.value,C,A.source,c)}catch(P){console.error==null||console.error(P),c.suppressValidatorError||setTimeout(function(){throw P},0),C(P.message)}_===!0?C():_===!1?C(typeof g.message=="function"?g.message(g.fullField||g.field):g.message||(g.fullField||g.field)+" fails"):_ instanceof Array?C(_):_ instanceof Error&&C(_.message)}_&&_.then&&_.then(function(){return C()},function(P){return C(P)})},function(A){h(A)},u)},e.getType=function(i){if(i.type===void 0&&i.pattern instanceof RegExp&&(i.type="pattern"),typeof i.validator!="function"&&i.type&&!O0.hasOwnProperty(i.type))throw new Error(Bs("Unknown rule type %s",i.type));return i.type||"string"},e.getValidationMethod=function(i){if(typeof i.validator=="function")return i.validator;var o=Object.keys(i),s=o.indexOf("message");return s!==-1&&o.splice(s,1),o.length===1&&o[0]==="required"?O0.required:O0[this.getType(i)]||void 0},n}();VA.register=function(e,r){if(typeof r!="function")throw new Error("Cannot register a validator by type, validator is not a function");O0[e]=r};VA.warning=Ice;VA.messages=s3;VA.validators=O0;var Cs="'${name}' is not a valid ${type}",Q9={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Cs,method:Cs,array:Cs,object:Cs,number:Cs,date:Cs,boolean:Cs,integer:Cs,float:Cs,regexp:Cs,email:Cs,url:Cs,hex:Cs},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},_N=VA;function iue(n,e){return n.replace(/\$\{\w+\}/g,function(r){var i=r.slice(2,-1);return e[i]})}var MN="CODE_LOGIC_ERROR";function l3(n,e,r,i,o){return c3.apply(this,arguments)}function c3(){return c3=tf(ba().mark(function n(e,r,i,o,s){var l,u,c,d,h,p,m,v,y;return ba().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return l=ht({},i),delete l.ruleIndex,_N.warning=function(){},l.validator&&(u=l.validator,l.validator=function(){try{return u.apply(void 0,arguments)}catch(g){return console.error(g),Promise.reject(MN)}}),c=null,l&&l.type==="array"&&l.defaultField&&(c=l.defaultField,delete l.defaultField),d=new _N(ct({},e,[l])),h=hm(Q9,o.validateMessages),d.messages(h),p=[],b.prev=10,b.next=13,Promise.resolve(d.validate(ct({},e,r),ht({},o)));case 13:b.next=18;break;case 15:b.prev=15,b.t0=b.catch(10),b.t0.errors&&(p=b.t0.errors.map(function(g,w){var E=g.message,C=E===MN?h.default:E;return M.isValidElement(C)?M.cloneElement(C,{key:"error_".concat(w)}):C}));case 18:if(!(!p.length&&c)){b.next=23;break}return b.next=21,Promise.all(r.map(function(g,w){return l3("".concat(e,".").concat(w),g,c,o,s)}));case 21:return m=b.sent,b.abrupt("return",m.reduce(function(g,w){return[].concat(mn(g),mn(w))},[]));case 23:return v=ht(ht({},i),{},{name:e,enum:(i.enum||[]).join(", ")},s),y=p.map(function(g){return typeof g=="string"?iue(g,v):g}),b.abrupt("return",y);case 26:case"end":return b.stop()}},n,null,[[10,15]])})),c3.apply(this,arguments)}function oue(n,e,r,i,o,s){var l=n.join("."),u=r.map(function(h,p){var m=h.validator,v=ht(ht({},h),{},{ruleIndex:p});return m&&(v.validator=function(y,A,b){var g=!1,w=function(){for(var _=arguments.length,P=new Array(_),R=0;R<_;R++)P[R]=arguments[R];Promise.resolve().then(function(){no(!g,"Your validator function has already return a promise. `callback` will be ignored."),g||b.apply(void 0,P)})},E=m(y,A,w);g=E&&typeof E.then=="function"&&typeof E.catch=="function",no(g,"`callback` is deprecated. Please return a promise instead."),g&&E.then(function(){b()}).catch(function(C){b(C||" ")})}),v}).sort(function(h,p){var m=h.warningOnly,v=h.ruleIndex,y=p.warningOnly,A=p.ruleIndex;return!!m==!!y?v-A:m?1:-1}),c;if(o===!0)c=new Promise(function(){var h=tf(ba().mark(function p(m,v){var y,A,b;return ba().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:y=0;case 1:if(!(y<u.length)){w.next=12;break}return A=u[y],w.next=5,l3(l,e,A,i,s);case 5:if(b=w.sent,!b.length){w.next=9;break}return v([{errors:b,rule:A}]),w.abrupt("return");case 9:y+=1,w.next=1;break;case 12:m([]);case 13:case"end":return w.stop()}},p)}));return function(p,m){return h.apply(this,arguments)}}());else{var d=u.map(function(h){return l3(l,e,h,i,s).then(function(p){return{errors:p,rule:h}})});c=(o?sue(d):aue(d)).then(function(h){return Promise.reject(h)})}return c.catch(function(h){return h}),c}function aue(n){return u3.apply(this,arguments)}function u3(){return u3=tf(ba().mark(function n(e){return ba().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Promise.all(e).then(function(o){var s,l=(s=[]).concat.apply(s,mn(o));return l}));case 1:case"end":return i.stop()}},n)})),u3.apply(this,arguments)}function sue(n){return d3.apply(this,arguments)}function d3(){return d3=tf(ba().mark(function n(e){var r;return ba().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return r=0,o.abrupt("return",new Promise(function(s){e.forEach(function(l){l.then(function(u){u.errors.length&&s([u]),r+=1,r===e.length&&s([])})})}));case 2:case"end":return o.stop()}},n)})),d3.apply(this,arguments)}function To(n){return n3(n)}function TN(n,e){var r={};return e.forEach(function(i){var o=Ls(n,i);r=Ll(r,i,o)}),r}function Im(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return n&&n.some(function(i){return K9(e,i,r)})}function K9(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!n||!e||!r&&n.length!==e.length?!1:e.every(function(i,o){return n[o]===i})}function lue(n,e){if(n===e)return!0;if(!n&&e||n&&!e||!n||!e||Tr(n)!=="object"||Tr(e)!=="object")return!1;var r=Object.keys(n),i=Object.keys(e),o=new Set([].concat(r,i));return mn(o).every(function(s){var l=n[s],u=e[s];return typeof l=="function"&&typeof u=="function"?!0:l===u})}function cue(n){var e=arguments.length<=1?void 0:arguments[1];return e&&e.target&&Tr(e.target)==="object"&&n in e.target?e.target[n]:e}function RN(n,e,r){var i=n.length;if(e<0||e>=i||r<0||r>=i)return n;var o=n[e],s=e-r;return s>0?[].concat(mn(n.slice(0,r)),[o],mn(n.slice(r,e)),mn(n.slice(e+1,i))):s<0?[].concat(mn(n.slice(0,e)),mn(n.slice(e+1,r+1)),[o],mn(n.slice(r+1,i))):n}var uue=["name"],Qs=[];function IN(n,e,r,i,o,s){return typeof n=="function"?n(e,r,"source"in s?{source:s.source}:{}):i!==o}var sP=function(n){ql(r,n);var e=Yl(r);function r(i){var o;if(ca(this,r),o=e.call(this,i),ct(ti(o),"state",{resetCount:0}),ct(ti(o),"cancelRegisterFunc",null),ct(ti(o),"mounted",!1),ct(ti(o),"touched",!1),ct(ti(o),"dirty",!1),ct(ti(o),"validatePromise",void 0),ct(ti(o),"prevValidating",void 0),ct(ti(o),"errors",Qs),ct(ti(o),"warnings",Qs),ct(ti(o),"cancelRegister",function(){var c=o.props,d=c.preserve,h=c.isListField,p=c.name;o.cancelRegisterFunc&&o.cancelRegisterFunc(h,d,To(p)),o.cancelRegisterFunc=null}),ct(ti(o),"getNamePath",function(){var c=o.props,d=c.name,h=c.fieldContext,p=h.prefixName,m=p===void 0?[]:p;return d!==void 0?[].concat(mn(m),mn(d)):[]}),ct(ti(o),"getRules",function(){var c=o.props,d=c.rules,h=d===void 0?[]:d,p=c.fieldContext;return h.map(function(m){return typeof m=="function"?m(p):m})}),ct(ti(o),"refresh",function(){o.mounted&&o.setState(function(c){var d=c.resetCount;return{resetCount:d+1}})}),ct(ti(o),"metaCache",null),ct(ti(o),"triggerMetaEvent",function(c){var d=o.props.onMetaChange;if(d){var h=ht(ht({},o.getMeta()),{},{destroy:c});Pu(o.metaCache,h)||d(h),o.metaCache=h}else o.metaCache=null}),ct(ti(o),"onStoreChange",function(c,d,h){var p=o.props,m=p.shouldUpdate,v=p.dependencies,y=v===void 0?[]:v,A=p.onReset,b=h.store,g=o.getNamePath(),w=o.getValue(c),E=o.getValue(b),C=d&&Im(d,g);switch(h.type==="valueUpdate"&&h.source==="external"&&w!==E&&(o.touched=!0,o.dirty=!0,o.validatePromise=null,o.errors=Qs,o.warnings=Qs,o.triggerMetaEvent()),h.type){case"reset":if(!d||C){o.touched=!1,o.dirty=!1,o.validatePromise=void 0,o.errors=Qs,o.warnings=Qs,o.triggerMetaEvent(),A==null||A(),o.refresh();return}break;case"remove":{if(m){o.reRender();return}break}case"setField":{var _=h.data;if(C){"touched"in _&&(o.touched=_.touched),"validating"in _&&!("originRCField"in _)&&(o.validatePromise=_.validating?Promise.resolve([]):null),"errors"in _&&(o.errors=_.errors||Qs),"warnings"in _&&(o.warnings=_.warnings||Qs),o.dirty=!0,o.triggerMetaEvent(),o.reRender();return}else if("value"in _&&Im(d,g,!0)){o.reRender();return}if(m&&!g.length&&IN(m,c,b,w,E,h)){o.reRender();return}break}case"dependenciesUpdate":{var P=y.map(To);if(P.some(function(R){return Im(h.relatedFields,R)})){o.reRender();return}break}default:if(C||(!y.length||g.length||m)&&IN(m,c,b,w,E,h)){o.reRender();return}break}m===!0&&o.reRender()}),ct(ti(o),"validateRules",function(c){var d=o.getNamePath(),h=o.getValue(),p=c||{},m=p.triggerName,v=p.validateOnly,y=v===void 0?!1:v,A=Promise.resolve().then(tf(ba().mark(function b(){var g,w,E,C,_,P,R;return ba().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(o.mounted){T.next=2;break}return T.abrupt("return",[]);case 2:if(g=o.props,w=g.validateFirst,E=w===void 0?!1:w,C=g.messageVariables,_=g.validateDebounce,P=o.getRules(),m&&(P=P.filter(function(D){return D}).filter(function(D){var H=D.validateTrigger;if(!H)return!0;var V=n3(H);return V.includes(m)})),!(_&&m)){T.next=10;break}return T.next=8,new Promise(function(D){setTimeout(D,_)});case 8:if(o.validatePromise===A){T.next=10;break}return T.abrupt("return",[]);case 10:return R=oue(d,h,P,c,E,C),R.catch(function(D){return D}).then(function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Qs;if(o.validatePromise===A){var H;o.validatePromise=null;var V=[],B=[];(H=D.forEach)===null||H===void 0||H.call(D,function(O){var F=O.rule.warningOnly,N=O.errors,z=N===void 0?Qs:N;F?B.push.apply(B,mn(z)):V.push.apply(V,mn(z))}),o.errors=V,o.warnings=B,o.triggerMetaEvent(),o.reRender()}}),T.abrupt("return",R);case 13:case"end":return T.stop()}},b)})));return y||(o.validatePromise=A,o.dirty=!0,o.errors=Qs,o.warnings=Qs,o.triggerMetaEvent(),o.reRender()),A}),ct(ti(o),"isFieldValidating",function(){return!!o.validatePromise}),ct(ti(o),"isFieldTouched",function(){return o.touched}),ct(ti(o),"isFieldDirty",function(){if(o.dirty||o.props.initialValue!==void 0)return!0;var c=o.props.fieldContext,d=c.getInternalHooks(Jf),h=d.getInitialValue;return h(o.getNamePath())!==void 0}),ct(ti(o),"getErrors",function(){return o.errors}),ct(ti(o),"getWarnings",function(){return o.warnings}),ct(ti(o),"isListField",function(){return o.props.isListField}),ct(ti(o),"isList",function(){return o.props.isList}),ct(ti(o),"isPreserve",function(){return o.props.preserve}),ct(ti(o),"getMeta",function(){o.prevValidating=o.isFieldValidating();var c={touched:o.isFieldTouched(),validating:o.prevValidating,errors:o.errors,warnings:o.warnings,name:o.getNamePath(),validated:o.validatePromise===null};return c}),ct(ti(o),"getOnlyChild",function(c){if(typeof c=="function"){var d=o.getMeta();return ht(ht({},o.getOnlyChild(c(o.getControlled(),d,o.props.fieldContext))),{},{isFunction:!0})}var h=qa(c);return h.length!==1||!M.isValidElement(h[0])?{child:h,isFunction:!1}:{child:h[0],isFunction:!1}}),ct(ti(o),"getValue",function(c){var d=o.props.fieldContext.getFieldsValue,h=o.getNamePath();return Ls(c||d(!0),h)}),ct(ti(o),"getControlled",function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=o.props,h=d.trigger,p=d.validateTrigger,m=d.getValueFromEvent,v=d.normalize,y=d.valuePropName,A=d.getValueProps,b=d.fieldContext,g=p!==void 0?p:b.validateTrigger,w=o.getNamePath(),E=b.getInternalHooks,C=b.getFieldsValue,_=E(Jf),P=_.dispatch,R=o.getValue(),L=A||function(V){return ct({},y,V)},T=c[h],D=ht(ht({},c),L(R));D[h]=function(){o.touched=!0,o.dirty=!0,o.triggerMetaEvent();for(var V,B=arguments.length,O=new Array(B),F=0;F<B;F++)O[F]=arguments[F];m?V=m.apply(void 0,O):V=cue.apply(void 0,[y].concat(O)),v&&(V=v(V,R,C(!0))),P({type:"updateValue",namePath:w,value:V}),T&&T.apply(void 0,O)};var H=n3(g||[]);return H.forEach(function(V){var B=D[V];D[V]=function(){B&&B.apply(void 0,arguments);var O=o.props.rules;O&&O.length&&P({type:"validateField",namePath:w,triggerName:V})}}),D}),i.fieldContext){var s=i.fieldContext.getInternalHooks,l=s(Jf),u=l.initEntityValue;u(ti(o))}return o}return ua(r,[{key:"componentDidMount",value:function(){var o=this.props,s=o.shouldUpdate,l=o.fieldContext;if(this.mounted=!0,l){var u=l.getInternalHooks,c=u(Jf),d=c.registerField;this.cancelRegisterFunc=d(this)}s===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var o=this.state.resetCount,s=this.props.children,l=this.getOnlyChild(s),u=l.child,c=l.isFunction,d;return c?d=u:M.isValidElement(u)?d=M.cloneElement(u,this.getControlled(u.props)):(no(!u,"`children` of Field is not validate ReactElement."),d=u),M.createElement(M.Fragment,{key:o},d)}}]),r}(M.Component);ct(sP,"contextType",eg);ct(sP,"defaultProps",{trigger:"onChange",valuePropName:"value"});function X9(n){var e=n.name,r=Br(n,uue),i=M.useContext(eg),o=M.useContext(iE),s=e!==void 0?To(e):void 0,l="keep";return r.isListField||(l="_".concat((s||[]).join("_"))),M.createElement(sP,rn({key:l,name:s,isListField:!!o},r,{fieldContext:i}))}function due(n){var e=n.name,r=n.initialValue,i=n.children,o=n.rules,s=n.validateTrigger,l=n.isListField,u=M.useContext(eg),c=M.useContext(iE),d=M.useRef({keys:[],id:0}),h=d.current,p=M.useMemo(function(){var A=To(u.prefixName)||[];return[].concat(mn(A),mn(To(e)))},[u.prefixName,e]),m=M.useMemo(function(){return ht(ht({},u),{},{prefixName:p})},[u,p]),v=M.useMemo(function(){return{getKey:function(b){var g=p.length,w=b[g];return[h.keys[w],b.slice(g+1)]}}},[p]);if(typeof i!="function")return no(!1,"Form.List only accepts function as children."),null;var y=function(b,g,w){var E=w.source;return E==="internal"?!1:b!==g};return M.createElement(iE.Provider,{value:v},M.createElement(eg.Provider,{value:m},M.createElement(X9,{name:[],shouldUpdate:y,rules:o,validateTrigger:s,initialValue:r,isList:!0,isListField:l??!!c},function(A,b){var g=A.value,w=g===void 0?[]:g,E=A.onChange,C=u.getFieldValue,_=function(){var T=C(p||[]);return T||[]},P={add:function(T,D){var H=_();D>=0&&D<=H.length?(h.keys=[].concat(mn(h.keys.slice(0,D)),[h.id],mn(h.keys.slice(D))),E([].concat(mn(H.slice(0,D)),[T],mn(H.slice(D))))):(h.keys=[].concat(mn(h.keys),[h.id]),E([].concat(mn(H),[T]))),h.id+=1},remove:function(T){var D=_(),H=new Set(Array.isArray(T)?T:[T]);H.size<=0||(h.keys=h.keys.filter(function(V,B){return!H.has(B)}),E(D.filter(function(V,B){return!H.has(B)})))},move:function(T,D){if(T!==D){var H=_();T<0||T>=H.length||D<0||D>=H.length||(h.keys=RN(h.keys,T,D),E(RN(H,T,D)))}}},R=w||[];return Array.isArray(R)||(R=[]),i(R.map(function(L,T){var D=h.keys[T];return D===void 0&&(h.keys[T]=h.id,D=h.keys[T],h.id+=1),{name:T,key:D,isListField:!0}}),P,b)})))}function fue(n){var e=!1,r=n.length,i=[];return n.length?new Promise(function(o,s){n.forEach(function(l,u){l.catch(function(c){return e=!0,c}).then(function(c){r-=1,i[u]=c,!(r>0)&&(e&&s(i),o(i))})})}):Promise.resolve([])}var q9="__@field_split__";function H2(n){return n.map(function(e){return"".concat(Tr(e),":").concat(e)}).join(q9)}var pp=function(){function n(){ca(this,n),ct(this,"kvs",new Map)}return ua(n,[{key:"set",value:function(r,i){this.kvs.set(H2(r),i)}},{key:"get",value:function(r){return this.kvs.get(H2(r))}},{key:"update",value:function(r,i){var o=this.get(r),s=i(o);s?this.set(r,s):this.delete(r)}},{key:"delete",value:function(r){this.kvs.delete(H2(r))}},{key:"map",value:function(r){return mn(this.kvs.entries()).map(function(i){var o=Ot(i,2),s=o[0],l=o[1],u=s.split(q9);return r({key:u.map(function(c){var d=c.match(/^([^:]*):(.*)$/),h=Ot(d,3),p=h[1],m=h[2];return p==="number"?Number(m):m}),value:l})})}},{key:"toJSON",value:function(){var r={};return this.map(function(i){var o=i.key,s=i.value;return r[o.join(".")]=s,null}),r}}]),n}(),hue=["name"],pue=ua(function n(e){var r=this;ca(this,n),ct(this,"formHooked",!1),ct(this,"forceRootUpdate",void 0),ct(this,"subscribable",!0),ct(this,"store",{}),ct(this,"fieldEntities",[]),ct(this,"initialValues",{}),ct(this,"callbacks",{}),ct(this,"validateMessages",null),ct(this,"preserve",null),ct(this,"lastValidatePromise",null),ct(this,"getForm",function(){return{getFieldValue:r.getFieldValue,getFieldsValue:r.getFieldsValue,getFieldError:r.getFieldError,getFieldWarning:r.getFieldWarning,getFieldsError:r.getFieldsError,isFieldsTouched:r.isFieldsTouched,isFieldTouched:r.isFieldTouched,isFieldValidating:r.isFieldValidating,isFieldsValidating:r.isFieldsValidating,resetFields:r.resetFields,setFields:r.setFields,setFieldValue:r.setFieldValue,setFieldsValue:r.setFieldsValue,validateFields:r.validateFields,submit:r.submit,_init:!0,getInternalHooks:r.getInternalHooks}}),ct(this,"getInternalHooks",function(i){return i===Jf?(r.formHooked=!0,{dispatch:r.dispatch,initEntityValue:r.initEntityValue,registerField:r.registerField,useSubscribe:r.useSubscribe,setInitialValues:r.setInitialValues,destroyForm:r.destroyForm,setCallbacks:r.setCallbacks,setValidateMessages:r.setValidateMessages,getFields:r.getFields,setPreserve:r.setPreserve,getInitialValue:r.getInitialValue,registerWatch:r.registerWatch}):(no(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),ct(this,"useSubscribe",function(i){r.subscribable=i}),ct(this,"prevWithoutPreserves",null),ct(this,"setInitialValues",function(i,o){if(r.initialValues=i||{},o){var s,l=hm(i,r.store);(s=r.prevWithoutPreserves)===null||s===void 0||s.map(function(u){var c=u.key;l=Ll(l,c,Ls(i,c))}),r.prevWithoutPreserves=null,r.updateStore(l)}}),ct(this,"destroyForm",function(){var i=new pp;r.getFieldEntities(!0).forEach(function(o){r.isMergedPreserve(o.isPreserve())||i.set(o.getNamePath(),!0)}),r.prevWithoutPreserves=i}),ct(this,"getInitialValue",function(i){var o=Ls(r.initialValues,i);return i.length?hm(o):o}),ct(this,"setCallbacks",function(i){r.callbacks=i}),ct(this,"setValidateMessages",function(i){r.validateMessages=i}),ct(this,"setPreserve",function(i){r.preserve=i}),ct(this,"watchList",[]),ct(this,"registerWatch",function(i){return r.watchList.push(i),function(){r.watchList=r.watchList.filter(function(o){return o!==i})}}),ct(this,"notifyWatch",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(r.watchList.length){var o=r.getFieldsValue(),s=r.getFieldsValue(!0);r.watchList.forEach(function(l){l(o,s,i)})}}),ct(this,"timeoutId",null),ct(this,"warningUnhooked",function(){}),ct(this,"updateStore",function(i){r.store=i}),ct(this,"getFieldEntities",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return i?r.fieldEntities.filter(function(o){return o.getNamePath().length}):r.fieldEntities}),ct(this,"getFieldsMap",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,o=new pp;return r.getFieldEntities(i).forEach(function(s){var l=s.getNamePath();o.set(l,s)}),o}),ct(this,"getFieldEntitiesForNamePathList",function(i){if(!i)return r.getFieldEntities(!0);var o=r.getFieldsMap(!0);return i.map(function(s){var l=To(s);return o.get(l)||{INVALIDATE_NAME_PATH:To(s)}})}),ct(this,"getFieldsValue",function(i,o){r.warningUnhooked();var s,l,u;if(i===!0||Array.isArray(i)?(s=i,l=o):i&&Tr(i)==="object"&&(u=i.strict,l=i.filter),s===!0&&!l)return r.store;var c=r.getFieldEntitiesForNamePathList(Array.isArray(s)?s:null),d=[];return c.forEach(function(h){var p,m,v="INVALIDATE_NAME_PATH"in h?h.INVALIDATE_NAME_PATH:h.getNamePath();if(u){var y,A;if((y=(A=h).isList)!==null&&y!==void 0&&y.call(A))return}else if(!s&&(p=(m=h).isListField)!==null&&p!==void 0&&p.call(m))return;if(!l)d.push(v);else{var b="getMeta"in h?h.getMeta():null;l(b)&&d.push(v)}}),TN(r.store,d.map(To))}),ct(this,"getFieldValue",function(i){r.warningUnhooked();var o=To(i);return Ls(r.store,o)}),ct(this,"getFieldsError",function(i){r.warningUnhooked();var o=r.getFieldEntitiesForNamePathList(i);return o.map(function(s,l){return s&&!("INVALIDATE_NAME_PATH"in s)?{name:s.getNamePath(),errors:s.getErrors(),warnings:s.getWarnings()}:{name:To(i[l]),errors:[],warnings:[]}})}),ct(this,"getFieldError",function(i){r.warningUnhooked();var o=To(i),s=r.getFieldsError([o])[0];return s.errors}),ct(this,"getFieldWarning",function(i){r.warningUnhooked();var o=To(i),s=r.getFieldsError([o])[0];return s.warnings}),ct(this,"isFieldsTouched",function(){r.warningUnhooked();for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var l=o[0],u=o[1],c,d=!1;o.length===0?c=null:o.length===1?Array.isArray(l)?(c=l.map(To),d=!1):(c=null,d=l):(c=l.map(To),d=u);var h=r.getFieldEntities(!0),p=function(b){return b.isFieldTouched()};if(!c)return d?h.every(p):h.some(p);var m=new pp;c.forEach(function(A){m.set(A,[])}),h.forEach(function(A){var b=A.getNamePath();c.forEach(function(g){g.every(function(w,E){return b[E]===w})&&m.update(g,function(w){return[].concat(mn(w),[A])})})});var v=function(b){return b.some(p)},y=m.map(function(A){var b=A.value;return b});return d?y.every(v):y.some(v)}),ct(this,"isFieldTouched",function(i){return r.warningUnhooked(),r.isFieldsTouched([i])}),ct(this,"isFieldsValidating",function(i){r.warningUnhooked();var o=r.getFieldEntities();if(!i)return o.some(function(l){return l.isFieldValidating()});var s=i.map(To);return o.some(function(l){var u=l.getNamePath();return Im(s,u)&&l.isFieldValidating()})}),ct(this,"isFieldValidating",function(i){return r.warningUnhooked(),r.isFieldsValidating([i])}),ct(this,"resetWithFieldInitialValue",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=new pp,s=r.getFieldEntities(!0);s.forEach(function(c){var d=c.props.initialValue,h=c.getNamePath();if(d!==void 0){var p=o.get(h)||new Set;p.add({entity:c,value:d}),o.set(h,p)}});var l=function(d){d.forEach(function(h){var p=h.props.initialValue;if(p!==void 0){var m=h.getNamePath(),v=r.getInitialValue(m);if(v!==void 0)no(!1,"Form already set 'initialValues' with path '".concat(m.join("."),"'. Field can not overwrite it."));else{var y=o.get(m);if(y&&y.size>1)no(!1,"Multiple Field with path '".concat(m.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(y){var A=r.getFieldValue(m),b=h.isListField();!b&&(!i.skipExist||A===void 0)&&r.updateStore(Ll(r.store,m,mn(y)[0].value))}}}})},u;i.entities?u=i.entities:i.namePathList?(u=[],i.namePathList.forEach(function(c){var d=o.get(c);if(d){var h;(h=u).push.apply(h,mn(mn(d).map(function(p){return p.entity})))}})):u=s,l(u)}),ct(this,"resetFields",function(i){r.warningUnhooked();var o=r.store;if(!i){r.updateStore(hm(r.initialValues)),r.resetWithFieldInitialValue(),r.notifyObservers(o,null,{type:"reset"}),r.notifyWatch();return}var s=i.map(To);s.forEach(function(l){var u=r.getInitialValue(l);r.updateStore(Ll(r.store,l,u))}),r.resetWithFieldInitialValue({namePathList:s}),r.notifyObservers(o,s,{type:"reset"}),r.notifyWatch(s)}),ct(this,"setFields",function(i){r.warningUnhooked();var o=r.store,s=[];i.forEach(function(l){var u=l.name,c=Br(l,hue),d=To(u);s.push(d),"value"in c&&r.updateStore(Ll(r.store,d,c.value)),r.notifyObservers(o,[d],{type:"setField",data:l})}),r.notifyWatch(s)}),ct(this,"getFields",function(){var i=r.getFieldEntities(!0),o=i.map(function(s){var l=s.getNamePath(),u=s.getMeta(),c=ht(ht({},u),{},{name:l,value:r.getFieldValue(l)});return Object.defineProperty(c,"originRCField",{value:!0}),c});return o}),ct(this,"initEntityValue",function(i){var o=i.props.initialValue;if(o!==void 0){var s=i.getNamePath(),l=Ls(r.store,s);l===void 0&&r.updateStore(Ll(r.store,s,o))}}),ct(this,"isMergedPreserve",function(i){var o=i!==void 0?i:r.preserve;return o??!0}),ct(this,"registerField",function(i){r.fieldEntities.push(i);var o=i.getNamePath();if(r.notifyWatch([o]),i.props.initialValue!==void 0){var s=r.store;r.resetWithFieldInitialValue({entities:[i],skipExist:!0}),r.notifyObservers(s,[i.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(l,u){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(r.fieldEntities=r.fieldEntities.filter(function(p){return p!==i}),!r.isMergedPreserve(u)&&(!l||c.length>1)){var d=l?void 0:r.getInitialValue(o);if(o.length&&r.getFieldValue(o)!==d&&r.fieldEntities.every(function(p){return!K9(p.getNamePath(),o)})){var h=r.store;r.updateStore(Ll(h,o,d,!0)),r.notifyObservers(h,[o],{type:"remove"}),r.triggerDependenciesUpdate(h,o)}}r.notifyWatch([o])}}),ct(this,"dispatch",function(i){switch(i.type){case"updateValue":{var o=i.namePath,s=i.value;r.updateValue(o,s);break}case"validateField":{var l=i.namePath,u=i.triggerName;r.validateFields([l],{triggerName:u});break}}}),ct(this,"notifyObservers",function(i,o,s){if(r.subscribable){var l=ht(ht({},s),{},{store:r.getFieldsValue(!0)});r.getFieldEntities().forEach(function(u){var c=u.onStoreChange;c(i,o,l)})}else r.forceRootUpdate()}),ct(this,"triggerDependenciesUpdate",function(i,o){var s=r.getDependencyChildrenFields(o);return s.length&&r.validateFields(s),r.notifyObservers(i,s,{type:"dependenciesUpdate",relatedFields:[o].concat(mn(s))}),s}),ct(this,"updateValue",function(i,o){var s=To(i),l=r.store;r.updateStore(Ll(r.store,s,o)),r.notifyObservers(l,[s],{type:"valueUpdate",source:"internal"}),r.notifyWatch([s]);var u=r.triggerDependenciesUpdate(l,s),c=r.callbacks.onValuesChange;if(c){var d=TN(r.store,[s]);c(d,r.getFieldsValue())}r.triggerOnFieldsChange([s].concat(mn(u)))}),ct(this,"setFieldsValue",function(i){r.warningUnhooked();var o=r.store;if(i){var s=hm(r.store,i);r.updateStore(s)}r.notifyObservers(o,null,{type:"valueUpdate",source:"external"}),r.notifyWatch()}),ct(this,"setFieldValue",function(i,o){r.setFields([{name:i,value:o}])}),ct(this,"getDependencyChildrenFields",function(i){var o=new Set,s=[],l=new pp;r.getFieldEntities().forEach(function(c){var d=c.props.dependencies;(d||[]).forEach(function(h){var p=To(h);l.update(p,function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return m.add(c),m})})});var u=function c(d){var h=l.get(d)||new Set;h.forEach(function(p){if(!o.has(p)){o.add(p);var m=p.getNamePath();p.isFieldDirty()&&m.length&&(s.push(m),c(m))}})};return u(i),s}),ct(this,"triggerOnFieldsChange",function(i,o){var s=r.callbacks.onFieldsChange;if(s){var l=r.getFields();if(o){var u=new pp;o.forEach(function(d){var h=d.name,p=d.errors;u.set(h,p)}),l.forEach(function(d){d.errors=u.get(d.name)||d.errors})}var c=l.filter(function(d){var h=d.name;return Im(i,h)});c.length&&s(c,l)}}),ct(this,"validateFields",function(i,o){var s;r.warningUnhooked();var l,u;Array.isArray(i)||typeof i=="string"||typeof o=="string"?(l=i,u=o):u=i;var c=!!l,d=c?l.map(To):[],h=[],p=String(Date.now()),m=new Set,v=(s=u)===null||s===void 0?void 0:s.recursive;r.getFieldEntities(!0).forEach(function(g){if(c||d.push(g.getNamePath()),!(!g.props.rules||!g.props.rules.length)){var w=g.getNamePath();if(m.add(w.join(p)),!c||Im(d,w,v)){var E=g.validateRules(ht({validateMessages:ht(ht({},Q9),r.validateMessages)},u));h.push(E.then(function(){return{name:w,errors:[],warnings:[]}}).catch(function(C){var _,P=[],R=[];return(_=C.forEach)===null||_===void 0||_.call(C,function(L){var T=L.rule.warningOnly,D=L.errors;T?R.push.apply(R,mn(D)):P.push.apply(P,mn(D))}),P.length?Promise.reject({name:w,errors:P,warnings:R}):{name:w,errors:P,warnings:R}}))}}});var y=fue(h);r.lastValidatePromise=y,y.catch(function(g){return g}).then(function(g){var w=g.map(function(E){var C=E.name;return C});r.notifyObservers(r.store,w,{type:"validateFinish"}),r.triggerOnFieldsChange(w,g)});var A=y.then(function(){return r.lastValidatePromise===y?Promise.resolve(r.getFieldsValue(d)):Promise.reject([])}).catch(function(g){var w=g.filter(function(E){return E&&E.errors.length});return Promise.reject({values:r.getFieldsValue(d),errorFields:w,outOfDate:r.lastValidatePromise!==y})});A.catch(function(g){return g});var b=d.filter(function(g){return m.has(g.join(p))});return r.triggerOnFieldsChange(b),A}),ct(this,"submit",function(){r.warningUnhooked(),r.validateFields().then(function(i){var o=r.callbacks.onFinish;if(o)try{o(i)}catch(s){console.error(s)}}).catch(function(i){var o=r.callbacks.onFinishFailed;o&&o(i)})}),this.forceRootUpdate=e});function Y9(n){var e=M.useRef(),r=M.useState({}),i=Ot(r,2),o=i[1];if(!e.current)if(n)e.current=n;else{var s=function(){o({})},l=new pue(s);e.current=l.getForm()}return[e.current]}var f3=M.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),mue=function(e){var r=e.validateMessages,i=e.onFormChange,o=e.onFormFinish,s=e.children,l=M.useContext(f3),u=M.useRef({});return M.createElement(f3.Provider,{value:ht(ht({},l),{},{validateMessages:ht(ht({},l.validateMessages),r),triggerFormChange:function(d,h){i&&i(d,{changedFields:h,forms:u.current}),l.triggerFormChange(d,h)},triggerFormFinish:function(d,h){o&&o(d,{values:h,forms:u.current}),l.triggerFormFinish(d,h)},registerForm:function(d,h){d&&(u.current=ht(ht({},u.current),{},ct({},d,h))),l.registerForm(d,h)},unregisterForm:function(d){var h=ht({},u.current);delete h[d],u.current=h,l.unregisterForm(d)}})},s)},gue=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],vue=function(e,r){var i=e.name,o=e.initialValues,s=e.fields,l=e.form,u=e.preserve,c=e.children,d=e.component,h=d===void 0?"form":d,p=e.validateMessages,m=e.validateTrigger,v=m===void 0?"onChange":m,y=e.onValuesChange,A=e.onFieldsChange,b=e.onFinish,g=e.onFinishFailed,w=Br(e,gue),E=M.useContext(f3),C=Y9(l),_=Ot(C,1),P=_[0],R=P.getInternalHooks(Jf),L=R.useSubscribe,T=R.setInitialValues,D=R.setCallbacks,H=R.setValidateMessages,V=R.setPreserve,B=R.destroyForm;M.useImperativeHandle(r,function(){return P}),M.useEffect(function(){return E.registerForm(i,P),function(){E.unregisterForm(i)}},[E,P,i]),H(ht(ht({},E.validateMessages),p)),D({onValuesChange:y,onFieldsChange:function(J){if(E.triggerFormChange(i,J),A){for(var Z=arguments.length,oe=new Array(Z>1?Z-1:0),ce=1;ce<Z;ce++)oe[ce-1]=arguments[ce];A.apply(void 0,[J].concat(oe))}},onFinish:function(J){E.triggerFormFinish(i,J),b&&b(J)},onFinishFailed:g}),V(u);var O=M.useRef(null);T(o,!O.current),O.current||(O.current=!0),M.useEffect(function(){return B},[]);var F,N=typeof c=="function";if(N){var z=P.getFieldsValue(!0);F=c(z,P)}else F=c;L(!N);var j=M.useRef();M.useEffect(function(){lue(j.current||[],s||[])||P.setFields(s||[]),j.current=s},[s,P]);var G=M.useMemo(function(){return ht(ht({},P),{},{validateTrigger:v})},[P,v]),Q=M.createElement(iE.Provider,{value:null},M.createElement(eg.Provider,{value:G},F));return h===!1?Q:M.createElement(h,rn({},w,{onSubmit:function(J){J.preventDefault(),J.stopPropagation(),P.submit()},onReset:function(J){var Z;J.preventDefault(),P.resetFields(),(Z=w.onReset)===null||Z===void 0||Z.call(w,J)}}),Q)};function PN(n){try{return JSON.stringify(n)}catch{return Math.random()}}function Aue(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];var i=e[0],o=i===void 0?[]:i,s=e[1],l=s===void 0?{}:s,u=Sce(l)?{form:l}:l,c=u.form,d=M.useState(),h=Ot(d,2),p=h[0],m=h[1],v=M.useMemo(function(){return PN(p)},[p]),y=M.useRef(v);y.current=v;var A=M.useContext(eg),b=c||A,g=b&&b._init,w=To(o),E=M.useRef(w);return E.current=w,M.useEffect(function(){if(g){var C=b.getFieldsValue,_=b.getInternalHooks,P=_(Jf),R=P.registerWatch,L=R(function(D,H){var V=Ls(u.preserve?H:D,E.current),B=PN(V);y.current!==B&&(y.current=B,m(V))}),T=Ls(u.preserve?C(!0):C(),E.current);return p!==T&&m(T),L}},[g]),p}var yue=M.forwardRef(vue),WA=yue;WA.FormProvider=mue;WA.Field=X9;WA.List=due;WA.useForm=Y9;WA.useWatch=Aue;const Du=M.createContext({}),LN=n=>{let{children:e,status:r,override:i}=n;const o=M.useContext(Du),s=M.useMemo(()=>{const l=Object.assign({},o);return i&&delete l.isFormItemInput,r&&(delete l.status,delete l.hasFeedback,delete l.feedbackIcon),l},[r,i,o]);return M.createElement(Du.Provider,{value:s},e)},bue=n=>({animationDuration:n,animationFillMode:"both"}),xue=n=>({animationDuration:n,animationFillMode:"both"}),CC=function(n,e,r,i){const s=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${s}${n}-enter,
      ${s}${n}-appear
    `]:Object.assign(Object.assign({},bue(i)),{animationPlayState:"paused"}),[`${s}${n}-leave`]:Object.assign(Object.assign({},xue(i)),{animationPlayState:"paused"}),[`
      ${s}${n}-enter${n}-enter-active,
      ${s}${n}-appear${n}-appear-active
    `]:{animationName:e,animationPlayState:"running"},[`${s}${n}-leave${n}-leave-active`]:{animationName:r,animationPlayState:"running",pointerEvents:"none"}}},Eue=new ui("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),Cue=new ui("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),wue=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:r}=n,i=`${r}-fade`,o=e?"&":"";return[CC(i,Eue,Cue,n.motionDurationMid,e),{[`
        ${o}${i}-enter,
        ${o}${i}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${o}${i}-leave`]:{animationTimingFunction:"linear"}}]},Sue=new ui("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),_ue=new ui("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),Mue=new ui("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Tue=new ui("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),Rue=new ui("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Iue=new ui("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),Pue=new ui("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Lue=new ui("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),Bue={"move-up":{inKeyframes:Pue,outKeyframes:Lue},"move-down":{inKeyframes:Sue,outKeyframes:_ue},"move-left":{inKeyframes:Mue,outKeyframes:Tue},"move-right":{inKeyframes:Rue,outKeyframes:Iue}},oE=(n,e)=>{const{antCls:r}=n,i=`${r}-${e}`,{inKeyframes:o,outKeyframes:s}=Bue[e];return[CC(i,o,s,n.motionDurationMid),{[`
        ${i}-enter,
        ${i}-appear
      `]:{opacity:0,animationTimingFunction:n.motionEaseOutCirc},[`${i}-leave`]:{animationTimingFunction:n.motionEaseInOutCirc}}]},lP=new ui("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),cP=new ui("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),uP=new ui("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),dP=new ui("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),Oue=new ui("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),Due=new ui("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),Nue=new ui("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),kue=new ui("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),Fue={"slide-up":{inKeyframes:lP,outKeyframes:cP},"slide-down":{inKeyframes:uP,outKeyframes:dP},"slide-left":{inKeyframes:Oue,outKeyframes:Due},"slide-right":{inKeyframes:Nue,outKeyframes:kue}},Qd=(n,e)=>{const{antCls:r}=n,i=`${r}-${e}`,{inKeyframes:o,outKeyframes:s}=Fue[e];return[CC(i,o,s,n.motionDurationMid),{[`
      ${i}-enter,
      ${i}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:n.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${i}-leave`]:{animationTimingFunction:n.motionEaseInQuint}}]},Uue=new ui("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),zue=new ui("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),BN=new ui("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),ON=new ui("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),$ue=new ui("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),Hue=new ui("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),jue=new ui("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),Gue=new ui("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),Vue=new ui("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),Wue=new ui("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),Que=new ui("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),Kue=new ui("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),Xue={zoom:{inKeyframes:Uue,outKeyframes:zue},"zoom-big":{inKeyframes:BN,outKeyframes:ON},"zoom-big-fast":{inKeyframes:BN,outKeyframes:ON},"zoom-left":{inKeyframes:jue,outKeyframes:Gue},"zoom-right":{inKeyframes:Vue,outKeyframes:Wue},"zoom-up":{inKeyframes:$ue,outKeyframes:Hue},"zoom-down":{inKeyframes:Que,outKeyframes:Kue}},fP=(n,e)=>{const{antCls:r}=n,i=`${r}-${e}`,{inKeyframes:o,outKeyframes:s}=Xue[e];return[CC(i,o,s,e==="zoom-big-fast"?n.motionDurationFast:n.motionDurationMid),{[`
        ${i}-enter,
        ${i}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:n.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${i}-leave`]:{animationTimingFunction:n.motionEaseInOutCirc}}]},que=n=>({[n.componentCls]:{[`${n.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${n.motionDurationMid} ${n.motionEaseInOut},
        opacity ${n.motionDurationMid} ${n.motionEaseInOut} !important`}},[`${n.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${n.motionDurationMid} ${n.motionEaseInOut},
        opacity ${n.motionDurationMid} ${n.motionEaseInOut} !important`}}}),hP=que;function J9(n){return function(r){return M.createElement(Ih,{theme:{token:{motion:!1,zIndexPopupBase:0}}},M.createElement(n,Object.assign({},r)))}}function Z9(n,e,r,i){function o(s){const{prefixCls:l,style:u}=s,c=M.useRef(null),[d,h]=M.useState(0),[p,m]=M.useState(0),[v,y]=Co(!1,{value:s.open}),{getPrefixCls:A}=M.useContext(Er),b=A(e||"select",l);M.useEffect(()=>{if(y(!0),typeof ResizeObserver<"u"){const w=new ResizeObserver(C=>{const _=C[0].target;h(_.offsetHeight+8),m(_.offsetWidth)}),E=setInterval(()=>{var C;const _=r?`.${r(b)}`:`.${b}-dropdown`,P=(C=c.current)===null||C===void 0?void 0:C.querySelector(_);P&&(clearInterval(E),w.observe(P))},10);return()=>{clearInterval(E),w.disconnect()}}},[]);let g=Object.assign(Object.assign({},s),{style:Object.assign(Object.assign({},u),{margin:0}),open:v,visible:v,getPopupContainer:()=>c.current});return i&&(g=i(g)),M.createElement("div",{ref:c,style:{paddingBottom:d,position:"relative",minWidth:p}},M.createElement(n,Object.assign({},g)))}return J9(o)}const pP=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var n=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(n==null?void 0:n.substr(0,4))};var wC=function(e){var r=e.className,i=e.customizeIcon,o=e.customizeIconProps,s=e.onMouseDown,l=e.onClick,u=e.children,c;return typeof i=="function"?c=i(o):c=i,M.createElement("span",{className:r,onMouseDown:function(h){h.preventDefault(),s&&s(h)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:l,"aria-hidden":!0},c!==void 0?c:M.createElement("span",{className:bt(r.split(/\s+/).map(function(d){return"".concat(d,"-icon")}))},u))};function Yue(n,e,r,i,o){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,l=arguments.length>6?arguments[6]:void 0,u=arguments.length>7?arguments[7]:void 0,c=Wt.useMemo(function(){if(Tr(i)==="object")return i.clearIcon;if(o)return o},[i,o]),d=Wt.useMemo(function(){return!!(!s&&i&&(r.length||l)&&!(u==="combobox"&&l===""))},[i,s,r.length,l,u]);return{allowClear:d,clearIcon:Wt.createElement(wC,{className:"".concat(n,"-clear"),onMouseDown:e,customizeIcon:c},"")}}var e$=M.createContext(null);function Jue(){return M.useContext(e$)}function Zue(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,e=M.useState(!1),r=Ot(e,2),i=r[0],o=r[1],s=M.useRef(null),l=function(){window.clearTimeout(s.current)};M.useEffect(function(){return l},[]);var u=function(d,h){l(),s.current=window.setTimeout(function(){o(d),h&&h()},n)};return[i,u,l]}function t$(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=M.useRef(null),r=M.useRef(null);M.useEffect(function(){return function(){window.clearTimeout(r.current)}},[]);function i(o){(o||e.current===null)&&(e.current=o),window.clearTimeout(r.current),r.current=window.setTimeout(function(){e.current=null},n)}return[function(){return e.current},i]}function ede(n,e,r,i){var o=M.useRef(null);o.current={open:e,triggerOpen:r,customizedTrigger:i},M.useEffect(function(){function s(l){var u;if(!((u=o.current)!==null&&u!==void 0&&u.customizedTrigger)){var c=l.target;c.shadowRoot&&l.composed&&(c=l.composedPath()[0]||c),o.current.open&&n().filter(function(d){return d}).every(function(d){return!d.contains(c)&&d!==c})&&o.current.triggerOpen(!1)}}return window.addEventListener("mousedown",s),function(){return window.removeEventListener("mousedown",s)}},[])}var tde=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],mp=void 0;function nde(n,e){var r=n.prefixCls,i=n.invalidate,o=n.item,s=n.renderItem,l=n.responsive,u=n.responsiveDisabled,c=n.registerSize,d=n.itemKey,h=n.className,p=n.style,m=n.children,v=n.display,y=n.order,A=n.component,b=A===void 0?"div":A,g=Br(n,tde),w=l&&!v;function E(L){c(d,L)}M.useEffect(function(){return function(){E(null)}},[]);var C=s&&o!==mp?s(o):m,_;i||(_={opacity:w?0:1,height:w?0:mp,overflowY:w?"hidden":mp,order:l?y:mp,pointerEvents:w?"none":mp,position:w?"absolute":mp});var P={};w&&(P["aria-hidden"]=!0);var R=M.createElement(b,rn({className:bt(!i&&r,h),style:ht(ht({},_),p)},P,g,{ref:e}),C);return l&&(R=M.createElement(Qa,{onResize:function(T){var D=T.offsetWidth;E(D)},disabled:u},R)),R}var D0=M.forwardRef(nde);D0.displayName="Item";function rde(n){if(typeof MessageChannel>"u")Oi(n);else{var e=new MessageChannel;e.port1.onmessage=function(){return n()},e.port2.postMessage(void 0)}}function ide(){var n=M.useRef(null),e=function(i){n.current||(n.current=[],rde(function(){Ns.unstable_batchedUpdates(function(){n.current.forEach(function(o){o()}),n.current=null})})),n.current.push(i)};return e}function Tv(n,e){var r=M.useState(e),i=Ot(r,2),o=i[0],s=i[1],l=Fo(function(u){n(function(){s(u)})});return[o,l]}var aE=Wt.createContext(null),ode=["component"],ade=["className"],sde=["className"],lde=function(e,r){var i=M.useContext(aE);if(!i){var o=e.component,s=o===void 0?"div":o,l=Br(e,ode);return M.createElement(s,rn({},l,{ref:r}))}var u=i.className,c=Br(i,ade),d=e.className,h=Br(e,sde);return M.createElement(aE.Provider,{value:null},M.createElement(D0,rn({ref:r,className:bt(u,d)},c,h)))},n$=M.forwardRef(lde);n$.displayName="RawItem";var cde=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],r$="responsive",i$="invalidate";function ude(n){return"+ ".concat(n.length," ...")}function dde(n,e){var r=n.prefixCls,i=r===void 0?"rc-overflow":r,o=n.data,s=o===void 0?[]:o,l=n.renderItem,u=n.renderRawItem,c=n.itemKey,d=n.itemWidth,h=d===void 0?10:d,p=n.ssr,m=n.style,v=n.className,y=n.maxCount,A=n.renderRest,b=n.renderRawRest,g=n.suffix,w=n.component,E=w===void 0?"div":w,C=n.itemComponent,_=n.onVisibleChange,P=Br(n,cde),R=p==="full",L=ide(),T=Tv(L,null),D=Ot(T,2),H=D[0],V=D[1],B=H||0,O=Tv(L,new Map),F=Ot(O,2),N=F[0],z=F[1],j=Tv(L,0),G=Ot(j,2),Q=G[0],X=G[1],J=Tv(L,0),Z=Ot(J,2),oe=Z[0],ce=Z[1],Be=Tv(L,0),ge=Ot(Be,2),Re=ge[0],$e=ge[1],qe=M.useState(null),Ke=Ot(qe,2),ke=Ke[0],st=Ke[1],ot=M.useState(null),it=Ot(ot,2),ft=it[0],Et=it[1],gt=M.useMemo(function(){return ft===null&&R?Number.MAX_SAFE_INTEGER:ft||0},[ft,H]),Ct=M.useState(!1),Tt=Ot(Ct,2),Dt=Tt[0],Yt=Tt[1],Ve="".concat(i,"-item"),ye=Math.max(Q,oe),fe=y===r$,pe=s.length&&fe,_e=y===i$,Ce=pe||typeof y=="number"&&s.length>y,Se=M.useMemo(function(){var kt=s;return pe?H===null&&R?kt=s:kt=s.slice(0,Math.min(s.length,B/h)):typeof y=="number"&&(kt=s.slice(0,y)),kt},[s,h,H,y,pe]),we=M.useMemo(function(){return pe?s.slice(gt+1):s.slice(Se.length)},[s,Se,pe,gt]),je=M.useCallback(function(kt,Bt){var jt;return typeof c=="function"?c(kt):(jt=c&&(kt==null?void 0:kt[c]))!==null&&jt!==void 0?jt:Bt},[c]),Ae=M.useCallback(l||function(kt){return kt},[l]);function Ue(kt,Bt,jt){ft===kt&&(Bt===void 0||Bt===ke)||(Et(kt),jt||(Yt(kt<s.length-1),_==null||_(kt)),Bt!==void 0&&st(Bt))}function et(kt,Bt){V(Bt.clientWidth)}function ue(kt,Bt){z(function(jt){var Vt=new Map(jt);return Bt===null?Vt.delete(kt):Vt.set(kt,Bt),Vt})}function Y(kt,Bt){ce(Bt),X(oe)}function ne(kt,Bt){$e(Bt)}function Pe(kt){return N.get(je(Se[kt],kt))}mi(function(){if(B&&typeof ye=="number"&&Se){var kt=Re,Bt=Se.length,jt=Bt-1;if(!Bt){Ue(0,null);return}for(var Vt=0;Vt<Bt;Vt+=1){var Lt=Pe(Vt);if(R&&(Lt=Lt||0),Lt===void 0){Ue(Vt-1,void 0,!0);break}if(kt+=Lt,jt===0&&kt<=B||Vt===jt-1&&kt+Pe(jt)<=B){Ue(jt,null);break}else if(kt+ye>B){Ue(Vt-1,kt-Lt-Re+oe);break}}g&&Pe(0)+Re>B&&st(null)}},[B,N,oe,Re,je,Se]);var We=Dt&&!!we.length,ve={};ke!==null&&pe&&(ve={position:"absolute",left:ke,top:0});var he={prefixCls:Ve,responsive:pe,component:C,invalidate:_e},Ye=u?function(kt,Bt){var jt=je(kt,Bt);return M.createElement(aE.Provider,{key:jt,value:ht(ht({},he),{},{order:Bt,item:kt,itemKey:jt,registerSize:ue,display:Bt<=gt})},u(kt,Bt))}:function(kt,Bt){var jt=je(kt,Bt);return M.createElement(D0,rn({},he,{order:Bt,key:jt,item:kt,renderItem:Ae,itemKey:jt,registerSize:ue,display:Bt<=gt}))},Ze,Qe={order:We?gt:Number.MAX_SAFE_INTEGER,className:"".concat(Ve,"-rest"),registerSize:Y,display:We};if(b)b&&(Ze=M.createElement(aE.Provider,{value:ht(ht({},he),Qe)},b(we)));else{var nt=A||ude;Ze=M.createElement(D0,rn({},he,Qe),typeof nt=="function"?nt(we):nt)}var It=M.createElement(E,rn({className:bt(!_e&&i,v),style:m,ref:e},P),Se.map(Ye),Ce?Ze:null,g&&M.createElement(D0,rn({},he,{responsive:fe,responsiveDisabled:!pe,order:gt,className:"".concat(Ve,"-suffix"),registerSize:ne,display:!0,style:ve}),g));return fe&&(It=M.createElement(Qa,{onResize:et,disabled:!pe},It)),It}var Ac=M.forwardRef(dde);Ac.displayName="Overflow";Ac.Item=n$;Ac.RESPONSIVE=r$;Ac.INVALIDATE=i$;var fde=function(e,r){var i,o,s=e.prefixCls,l=e.id,u=e.inputElement,c=e.disabled,d=e.tabIndex,h=e.autoFocus,p=e.autoComplete,m=e.editable,v=e.activeDescendantId,y=e.value,A=e.maxLength,b=e.onKeyDown,g=e.onMouseDown,w=e.onChange,E=e.onPaste,C=e.onCompositionStart,_=e.onCompositionEnd,P=e.open,R=e.attrs,L=u||M.createElement("input",null),T=L,D=T.ref,H=T.props,V=H.onKeyDown,B=H.onChange,O=H.onMouseDown,F=H.onCompositionStart,N=H.onCompositionEnd,z=H.style;return"maxLength"in L.props,L=M.cloneElement(L,ht(ht(ht({type:"search"},H),{},{id:l,ref:zs(r,D),disabled:c,tabIndex:d,autoComplete:p||"off",autoFocus:h,className:bt("".concat(s,"-selection-search-input"),(i=L)===null||i===void 0||(o=i.props)===null||o===void 0?void 0:o.className),role:"combobox","aria-expanded":P||!1,"aria-haspopup":"listbox","aria-owns":"".concat(l,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(l,"_list"),"aria-activedescendant":P?v:void 0},R),{},{value:m?y:"",maxLength:A,readOnly:!m,unselectable:m?null:"on",style:ht(ht({},z),{},{opacity:m?null:0}),onKeyDown:function(G){b(G),V&&V(G)},onMouseDown:function(G){g(G),O&&O(G)},onChange:function(G){w(G),B&&B(G)},onCompositionStart:function(G){C(G),F&&F(G)},onCompositionEnd:function(G){_(G),N&&N(G)},onPaste:E})),L},mP=M.forwardRef(fde);mP.displayName="Input";function o$(n){return Array.isArray(n)?n:n!==void 0?[n]:[]}var hde=typeof window<"u"&&window.document&&window.document.documentElement,pde=hde;function mde(n){return n!=null}function gde(n){return!n&&n!==0}function DN(n){return["string","number"].includes(Tr(n))}function a$(n){var e=void 0;return n&&(DN(n.title)?e=n.title.toString():DN(n.label)&&(e=n.label.toString())),e}function vde(n,e){pde?M.useLayoutEffect(n,e):M.useEffect(n,e)}function Ade(n){var e;return(e=n.key)!==null&&e!==void 0?e:n.value}var NN=function(e){e.preventDefault(),e.stopPropagation()},yde=function(e){var r=e.id,i=e.prefixCls,o=e.values,s=e.open,l=e.searchValue,u=e.autoClearSearchValue,c=e.inputRef,d=e.placeholder,h=e.disabled,p=e.mode,m=e.showSearch,v=e.autoFocus,y=e.autoComplete,A=e.activeDescendantId,b=e.tabIndex,g=e.removeIcon,w=e.maxTagCount,E=e.maxTagTextLength,C=e.maxTagPlaceholder,_=C===void 0?function(st){return"+ ".concat(st.length," ...")}:C,P=e.tagRender,R=e.onToggleOpen,L=e.onRemove,T=e.onInputChange,D=e.onInputPaste,H=e.onInputKeyDown,V=e.onInputMouseDown,B=e.onInputCompositionStart,O=e.onInputCompositionEnd,F=M.useRef(null),N=M.useState(0),z=Ot(N,2),j=z[0],G=z[1],Q=M.useState(!1),X=Ot(Q,2),J=X[0],Z=X[1],oe="".concat(i,"-selection"),ce=s||p==="multiple"&&u===!1||p==="tags"?l:"",Be=p==="tags"||p==="multiple"&&u===!1||m&&(s||J);vde(function(){G(F.current.scrollWidth)},[ce]);function ge(st,ot,it,ft,Et){return M.createElement("span",{className:bt("".concat(oe,"-item"),ct({},"".concat(oe,"-item-disabled"),it)),title:a$(st)},M.createElement("span",{className:"".concat(oe,"-item-content")},ot),ft&&M.createElement(wC,{className:"".concat(oe,"-item-remove"),onMouseDown:NN,onClick:Et,customizeIcon:g},""))}function Re(st,ot,it,ft,Et){var gt=function(Tt){NN(Tt),R(!s)};return M.createElement("span",{onMouseDown:gt},P({label:ot,value:st,disabled:it,closable:ft,onClose:Et}))}function $e(st){var ot=st.disabled,it=st.label,ft=st.value,Et=!h&&!ot,gt=it;if(typeof E=="number"&&(typeof it=="string"||typeof it=="number")){var Ct=String(gt);Ct.length>E&&(gt="".concat(Ct.slice(0,E),"..."))}var Tt=function(Yt){Yt&&Yt.stopPropagation(),L(st)};return typeof P=="function"?Re(ft,gt,ot,Et,Tt):ge(st,gt,ot,Et,Tt)}function qe(st){var ot=typeof _=="function"?_(st):_;return ge({title:ot},ot,!1)}var Ke=M.createElement("div",{className:"".concat(oe,"-search"),style:{width:j},onFocus:function(){Z(!0)},onBlur:function(){Z(!1)}},M.createElement(mP,{ref:c,open:s,prefixCls:i,id:r,inputElement:null,disabled:h,autoFocus:v,autoComplete:y,editable:Be,activeDescendantId:A,value:ce,onKeyDown:H,onMouseDown:V,onChange:T,onPaste:D,onCompositionStart:B,onCompositionEnd:O,tabIndex:b,attrs:Ql(e,!0)}),M.createElement("span",{ref:F,className:"".concat(oe,"-search-mirror"),"aria-hidden":!0},ce,"")),ke=M.createElement(Ac,{prefixCls:"".concat(oe,"-overflow"),data:o,renderItem:$e,renderRest:qe,suffix:Ke,itemKey:Ade,maxCount:w});return M.createElement(M.Fragment,null,ke,!o.length&&!ce&&M.createElement("span",{className:"".concat(oe,"-placeholder")},d))},bde=function(e){var r=e.inputElement,i=e.prefixCls,o=e.id,s=e.inputRef,l=e.disabled,u=e.autoFocus,c=e.autoComplete,d=e.activeDescendantId,h=e.mode,p=e.open,m=e.values,v=e.placeholder,y=e.tabIndex,A=e.showSearch,b=e.searchValue,g=e.activeValue,w=e.maxLength,E=e.onInputKeyDown,C=e.onInputMouseDown,_=e.onInputChange,P=e.onInputPaste,R=e.onInputCompositionStart,L=e.onInputCompositionEnd,T=e.title,D=M.useState(!1),H=Ot(D,2),V=H[0],B=H[1],O=h==="combobox",F=O||A,N=m[0],z=b||"";O&&g&&!V&&(z=g),M.useEffect(function(){O&&B(!1)},[O,g]);var j=h!=="combobox"&&!p&&!A?!1:!!z,G=T===void 0?a$(N):T,Q=function(){if(N)return null;var J=j?{visibility:"hidden"}:void 0;return M.createElement("span",{className:"".concat(i,"-selection-placeholder"),style:J},v)};return M.createElement(M.Fragment,null,M.createElement("span",{className:"".concat(i,"-selection-search")},M.createElement(mP,{ref:s,prefixCls:i,id:o,open:p,inputElement:r,disabled:l,autoFocus:u,autoComplete:c,editable:F,activeDescendantId:d,value:z,onKeyDown:E,onMouseDown:C,onChange:function(J){B(!0),_(J)},onPaste:P,onCompositionStart:R,onCompositionEnd:L,tabIndex:y,attrs:Ql(e,!0),maxLength:O?w:void 0})),!O&&N?M.createElement("span",{className:"".concat(i,"-selection-item"),title:G,style:j?{visibility:"hidden"}:void 0},N.label):null,Q())};function xde(n){return![An.ESC,An.SHIFT,An.BACKSPACE,An.TAB,An.WIN_KEY,An.ALT,An.META,An.WIN_KEY_RIGHT,An.CTRL,An.SEMICOLON,An.EQUALS,An.CAPS_LOCK,An.CONTEXT_MENU,An.F1,An.F2,An.F3,An.F4,An.F5,An.F6,An.F7,An.F8,An.F9,An.F10,An.F11,An.F12].includes(n)}var Ede=function(e,r){var i=M.useRef(null),o=M.useRef(!1),s=e.prefixCls,l=e.open,u=e.mode,c=e.showSearch,d=e.tokenWithEnter,h=e.autoClearSearchValue,p=e.onSearch,m=e.onSearchSubmit,v=e.onToggleOpen,y=e.onInputKeyDown,A=e.domRef;M.useImperativeHandle(r,function(){return{focus:function(){i.current.focus()},blur:function(){i.current.blur()}}});var b=t$(0),g=Ot(b,2),w=g[0],E=g[1],C=function(z){var j=z.which;(j===An.UP||j===An.DOWN)&&z.preventDefault(),y&&y(z),j===An.ENTER&&u==="tags"&&!o.current&&!l&&(m==null||m(z.target.value)),xde(j)&&v(!0)},_=function(){E(!0)},P=M.useRef(null),R=function(z){p(z,!0,o.current)!==!1&&v(!0)},L=function(){o.current=!0},T=function(z){o.current=!1,u!=="combobox"&&R(z.target.value)},D=function(z){var j=z.target.value;if(d&&P.current&&/[\r\n]/.test(P.current)){var G=P.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");j=j.replace(G,P.current)}P.current=null,R(j)},H=function(z){var j=z.clipboardData,G=j.getData("text");P.current=G},V=function(z){var j=z.target;if(j!==i.current){var G=document.body.style.msTouchAction!==void 0;G?setTimeout(function(){i.current.focus()}):i.current.focus()}},B=function(z){var j=w();z.target!==i.current&&!j&&u!=="combobox"&&z.preventDefault(),(u!=="combobox"&&(!c||!j)||!l)&&(l&&h!==!1&&p("",!0,!1),v())},O={inputRef:i,onInputKeyDown:C,onInputMouseDown:_,onInputChange:D,onInputPaste:H,onInputCompositionStart:L,onInputCompositionEnd:T},F=u==="multiple"||u==="tags"?M.createElement(yde,rn({},e,O)):M.createElement(bde,rn({},e,O));return M.createElement("div",{ref:A,className:"".concat(s,"-selector"),onClick:V,onMouseDown:B},F)},s$=M.forwardRef(Ede);s$.displayName="Selector";function Cde(n){var e=n.prefixCls,r=n.align,i=n.arrow,o=n.arrowPos,s=i||{},l=s.className,u=s.content,c=o.x,d=c===void 0?0:c,h=o.y,p=h===void 0?0:h,m=M.useRef();if(!r||!r.points)return null;var v={position:"absolute"};if(r.autoArrow!==!1){var y=r.points[0],A=r.points[1],b=y[0],g=y[1],w=A[0],E=A[1];b===w||!["t","b"].includes(b)?v.top=p:b==="t"?v.top=0:v.bottom=0,g===E||!["l","r"].includes(g)?v.left=d:g==="l"?v.left=0:v.right=0}return M.createElement("div",{ref:m,className:bt("".concat(e,"-arrow"),l),style:v},u)}function wde(n){var e=n.prefixCls,r=n.open,i=n.zIndex,o=n.mask,s=n.motion;return o?M.createElement(Sc,rn({},s,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(l){var u=l.className;return M.createElement("div",{style:{zIndex:i},className:bt("".concat(e,"-mask"),u)})}):null}var Sde=M.memo(function(n){var e=n.children;return e},function(n,e){return e.cache}),_de=M.forwardRef(function(n,e){var r=n.popup,i=n.className,o=n.prefixCls,s=n.style,l=n.target,u=n.onVisibleChanged,c=n.open,d=n.keepDom,h=n.fresh,p=n.onClick,m=n.mask,v=n.arrow,y=n.arrowPos,A=n.align,b=n.motion,g=n.maskMotion,w=n.forceRender,E=n.getPopupContainer,C=n.autoDestroy,_=n.portal,P=n.zIndex,R=n.onMouseEnter,L=n.onMouseLeave,T=n.onPointerEnter,D=n.ready,H=n.offsetX,V=n.offsetY,B=n.offsetR,O=n.offsetB,F=n.onAlign,N=n.onPrepare,z=n.stretch,j=n.targetWidth,G=n.targetHeight,Q=typeof r=="function"?r():r,X=c||d,J=(E==null?void 0:E.length)>0,Z=M.useState(!E||!J),oe=Ot(Z,2),ce=oe[0],Be=oe[1];if(mi(function(){!ce&&J&&l&&Be(!0)},[ce,J,l]),!ce)return null;var ge="auto",Re={left:"-1000vw",top:"-1000vh",right:ge,bottom:ge};if(D||!c){var $e,qe=A.points,Ke=A.dynamicInset||(($e=A._experimental)===null||$e===void 0?void 0:$e.dynamicInset),ke=Ke&&qe[0][1]==="r",st=Ke&&qe[0][0]==="b";ke?(Re.right=B,Re.left=ge):(Re.left=H,Re.right=ge),st?(Re.bottom=O,Re.top=ge):(Re.top=V,Re.bottom=ge)}var ot={};return z&&(z.includes("height")&&G?ot.height=G:z.includes("minHeight")&&G&&(ot.minHeight=G),z.includes("width")&&j?ot.width=j:z.includes("minWidth")&&j&&(ot.minWidth=j)),c||(ot.pointerEvents="none"),M.createElement(_,{open:w||X,getContainer:E&&function(){return E(l)},autoDestroy:C},M.createElement(wde,{prefixCls:o,open:c,zIndex:P,mask:m,motion:g}),M.createElement(Qa,{onResize:F,disabled:!c},function(it){return M.createElement(Sc,rn({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:w,leavedClassName:"".concat(o,"-hidden")},b,{onAppearPrepare:N,onEnterPrepare:N,visible:c,onVisibleChanged:function(Et){var gt;b==null||(gt=b.onVisibleChanged)===null||gt===void 0||gt.call(b,Et),u(Et)}}),function(ft,Et){var gt=ft.className,Ct=ft.style,Tt=bt(o,gt,i);return M.createElement("div",{ref:zs(it,e,Et),className:Tt,style:ht(ht(ht(ht({"--arrow-x":"".concat(y.x||0,"px"),"--arrow-y":"".concat(y.y||0,"px")},Re),ot),Ct),{},{boxSizing:"border-box",zIndex:P},s),onMouseEnter:R,onMouseLeave:L,onPointerEnter:T,onClick:p},v&&M.createElement(Cde,{prefixCls:o,arrow:v,arrowPos:y,align:A}),M.createElement(Sde,{cache:!c&&!h},Q))})}))}),Mde=M.forwardRef(function(n,e){var r=n.children,i=n.getTriggerDOMNode,o=bc(r),s=M.useCallback(function(u){hA(e,i?i(u):u)},[i]),l=Rh(s,r.ref);return o?M.cloneElement(r,{ref:l}):r}),kN=M.createContext(null);function FN(n){return n?Array.isArray(n)?n:[n]:[]}function Tde(n,e,r,i){return M.useMemo(function(){var o=FN(r??e),s=FN(i??e),l=new Set(o),u=new Set(s);return n&&(l.has("hover")&&(l.delete("hover"),l.add("click")),u.has("hover")&&(u.delete("hover"),u.add("click"))),[l,u]},[n,e,r,i])}function Rde(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?n[0]===e[0]:n[0]===e[0]&&n[1]===e[1]}function Ide(n,e,r,i){for(var o=r.points,s=Object.keys(n),l=0;l<s.length;l+=1){var u,c=s[l];if(Rde((u=n[c])===null||u===void 0?void 0:u.points,o,i))return"".concat(e,"-placement-").concat(c)}return""}function UN(n,e,r,i){return e||(r?{motionName:"".concat(n,"-").concat(r)}:i?{motionName:i}:null)}function QA(n){return n.ownerDocument.defaultView}function h3(n){for(var e=[],r=n==null?void 0:n.parentElement,i=["hidden","scroll","clip","auto"];r;){var o=QA(r).getComputedStyle(r),s=o.overflowX,l=o.overflowY,u=o.overflow;[s,l,u].some(function(c){return i.includes(c)})&&e.push(r),r=r.parentElement}return e}function bA(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(n)?e:n}function Rv(n){return bA(parseFloat(n),0)}function zN(n,e){var r=ht({},n);return(e||[]).forEach(function(i){if(!(i instanceof HTMLBodyElement||i instanceof HTMLHtmlElement)){var o=QA(i).getComputedStyle(i),s=o.overflow,l=o.overflowClipMargin,u=o.borderTopWidth,c=o.borderBottomWidth,d=o.borderLeftWidth,h=o.borderRightWidth,p=i.getBoundingClientRect(),m=i.offsetHeight,v=i.clientHeight,y=i.offsetWidth,A=i.clientWidth,b=Rv(u),g=Rv(c),w=Rv(d),E=Rv(h),C=bA(Math.round(p.width/y*1e3)/1e3),_=bA(Math.round(p.height/m*1e3)/1e3),P=(y-A-w-E)*C,R=(m-v-b-g)*_,L=b*_,T=g*_,D=w*C,H=E*C,V=0,B=0;if(s==="clip"){var O=Rv(l);V=O*C,B=O*_}var F=p.x+D-V,N=p.y+L-B,z=F+p.width+2*V-D-H-P,j=N+p.height+2*B-L-T-R;r.left=Math.max(r.left,F),r.top=Math.max(r.top,N),r.right=Math.min(r.right,z),r.bottom=Math.min(r.bottom,j)}}),r}function $N(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r="".concat(e),i=r.match(/^(.*)\%$/);return i?n*(parseFloat(i[1])/100):parseFloat(r)}function HN(n,e){var r=e||[],i=Ot(r,2),o=i[0],s=i[1];return[$N(n.width,o),$N(n.height,s)]}function jN(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[n[0],n[1]]}function gp(n,e){var r=e[0],i=e[1],o,s;return r==="t"?s=n.y:r==="b"?s=n.y+n.height:s=n.y+n.height/2,i==="l"?o=n.x:i==="r"?o=n.x+n.width:o=n.x+n.width/2,{x:o,y:s}}function od(n,e){var r={t:"b",b:"t",l:"r",r:"l"};return n.map(function(i,o){return o===e?r[i]||"c":i}).join("")}function Pde(n,e,r,i,o,s,l){var u=M.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:o[i]||{}}),c=Ot(u,2),d=c[0],h=c[1],p=M.useRef(0),m=M.useMemo(function(){return e?h3(e):[]},[e]),v=M.useRef({}),y=function(){v.current={}};n||y();var A=Fo(function(){if(e&&r&&n){let Te=function(yt,Ft){var en=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ct,dn=G.x+yt,Bn=G.y+Ft,ln=dn+Re,Wn=Bn+ge,mr=Math.max(dn,en.left),Hn=Math.max(Bn,en.top),fn=Math.min(ln,en.right),xn=Math.min(Wn,en.bottom);return Math.max(0,(fn-mr)*(xn-Hn))},Le=function(){yn=G.y+Qe,Ln=yn+ge,rr=G.x+Ze,jn=rr+Re};var be=Te,Ee=Le,w,E,C=e,_=C.ownerDocument,P=QA(C),R=P.getComputedStyle(C),L=R.width,T=R.height,D=R.position,H=C.style.left,V=C.style.top,B=C.style.right,O=C.style.bottom,F=ht(ht({},o[i]),s),N=_.createElement("div");(w=C.parentElement)===null||w===void 0||w.appendChild(N),N.style.left="".concat(C.offsetLeft,"px"),N.style.top="".concat(C.offsetTop,"px"),N.style.position=D,N.style.height="".concat(C.offsetHeight,"px"),N.style.width="".concat(C.offsetWidth,"px"),C.style.left="0",C.style.top="0",C.style.right="auto",C.style.bottom="auto";var z;if(Array.isArray(r))z={x:r[0],y:r[1],width:0,height:0};else{var j=r.getBoundingClientRect();z={x:j.x,y:j.y,width:j.width,height:j.height}}var G=C.getBoundingClientRect(),Q=_.documentElement,X=Q.clientWidth,J=Q.clientHeight,Z=Q.scrollWidth,oe=Q.scrollHeight,ce=Q.scrollTop,Be=Q.scrollLeft,ge=G.height,Re=G.width,$e=z.height,qe=z.width,Ke={left:0,top:0,right:X,bottom:J},ke={left:-Be,top:-ce,right:Z-Be,bottom:oe-ce},st=F.htmlRegion,ot="visible",it="visibleFirst";st!=="scroll"&&st!==it&&(st=ot);var ft=st===it,Et=zN(ke,m),gt=zN(Ke,m),Ct=st===ot?gt:Et,Tt=ft?gt:Ct;C.style.left="auto",C.style.top="auto",C.style.right="0",C.style.bottom="0";var Dt=C.getBoundingClientRect();C.style.left=H,C.style.top=V,C.style.right=B,C.style.bottom=O,(E=C.parentElement)===null||E===void 0||E.removeChild(N);var Yt=bA(Math.round(Re/parseFloat(L)*1e3)/1e3),Ve=bA(Math.round(ge/parseFloat(T)*1e3)/1e3);if(Yt===0||Ve===0||Kx(r)&&!AC(r))return;var ye=F.offset,fe=F.targetOffset,pe=HN(G,ye),_e=Ot(pe,2),Ce=_e[0],Se=_e[1],we=HN(z,fe),je=Ot(we,2),Ae=je[0],Ue=je[1];z.x-=Ae,z.y-=Ue;var et=F.points||[],ue=Ot(et,2),Y=ue[0],ne=ue[1],Pe=jN(ne),We=jN(Y),ve=gp(z,Pe),he=gp(G,We),Ye=ht({},F),Ze=ve.x-he.x+Ce,Qe=ve.y-he.y+Se,nt=Te(Ze,Qe),It=Te(Ze,Qe,gt),kt=gp(z,["t","l"]),Bt=gp(G,["t","l"]),jt=gp(z,["b","r"]),Vt=gp(G,["b","r"]),Lt=F.overflow||{},mt=Lt.adjustX,Nt=Lt.adjustY,cn=Lt.shiftX,Jt=Lt.shiftY,Sn=function(Ft){return typeof Ft=="boolean"?Ft:Ft>=0},yn,Ln,rr,jn;Le();var Fn=Sn(Nt),Cn=We[0]===Pe[0];if(Fn&&We[0]==="t"&&(Ln>Tt.bottom||v.current.bt)){var Oe=Qe;Cn?Oe-=ge-$e:Oe=kt.y-Vt.y-Se;var lt=Te(Ze,Oe),wt=Te(Ze,Oe,gt);lt>nt||lt===nt&&(!ft||wt>=It)?(v.current.bt=!0,Qe=Oe,Se=-Se,Ye.points=[od(We,0),od(Pe,0)]):v.current.bt=!1}if(Fn&&We[0]==="b"&&(yn<Tt.top||v.current.tb)){var xe=Qe;Cn?xe+=ge-$e:xe=jt.y-Bt.y-Se;var De=Te(Ze,xe),tt=Te(Ze,xe,gt);De>nt||De===nt&&(!ft||tt>=It)?(v.current.tb=!0,Qe=xe,Se=-Se,Ye.points=[od(We,0),od(Pe,0)]):v.current.tb=!1}var St=Sn(mt),Mt=We[1]===Pe[1];if(St&&We[1]==="l"&&(jn>Tt.right||v.current.rl)){var Ut=Ze;Mt?Ut-=Re-qe:Ut=kt.x-Vt.x-Ce;var Kt=Te(Ut,Qe),gn=Te(Ut,Qe,gt);Kt>nt||Kt===nt&&(!ft||gn>=It)?(v.current.rl=!0,Ze=Ut,Ce=-Ce,Ye.points=[od(We,1),od(Pe,1)]):v.current.rl=!1}if(St&&We[1]==="r"&&(rr<Tt.left||v.current.lr)){var sn=Ze;Mt?sn+=Re-qe:sn=jt.x-Bt.x-Ce;var Xt=Te(sn,Qe),$n=Te(sn,Qe,gt);Xt>nt||Xt===nt&&(!ft||$n>=It)?(v.current.lr=!0,Ze=sn,Ce=-Ce,Ye.points=[od(We,1),od(Pe,1)]):v.current.lr=!1}Le();var Nn=cn===!0?0:cn;typeof Nn=="number"&&(rr<gt.left&&(Ze-=rr-gt.left-Ce,z.x+qe<gt.left+Nn&&(Ze+=z.x-gt.left+qe-Nn)),jn>gt.right&&(Ze-=jn-gt.right-Ce,z.x>gt.right-Nn&&(Ze+=z.x-gt.right+Nn)));var er=Jt===!0?0:Jt;typeof er=="number"&&(yn<gt.top&&(Qe-=yn-gt.top-Se,z.y+$e<gt.top+er&&(Qe+=z.y-gt.top+$e-er)),Ln>gt.bottom&&(Qe-=Ln-gt.bottom-Se,z.y>gt.bottom-er&&(Qe+=z.y-gt.bottom+er)));var br=G.x+Ze,kn=br+Re,fr=G.y+Qe,sr=fr+ge,Nr=z.x,or=Nr+qe,Zt=z.y,bn=Zt+$e,qn=Math.max(br,Nr),Gn=Math.min(kn,or),re=(qn+Gn)/2,se=re-br,Me=Math.max(fr,Zt),Fe=Math.min(sr,bn),Je=(Me+Fe)/2,at=Je-fr;l==null||l(e,Ye);var xt=Dt.right-G.x-(Ze+G.width),me=Dt.bottom-G.y-(Qe+G.height);h({ready:!0,offsetX:Ze/Yt,offsetY:Qe/Ve,offsetR:xt/Yt,offsetB:me/Ve,arrowX:se/Yt,arrowY:at/Ve,scaleX:Yt,scaleY:Ve,align:Ye})}}),b=function(){p.current+=1;var E=p.current;Promise.resolve().then(function(){p.current===E&&A()})},g=function(){h(function(E){return ht(ht({},E),{},{ready:!1})})};return mi(g,[i]),mi(function(){n||g()},[n]),[d.ready,d.offsetX,d.offsetY,d.offsetR,d.offsetB,d.arrowX,d.arrowY,d.scaleX,d.scaleY,d.align,b]}function Lde(n,e,r,i,o){mi(function(){if(n&&e&&r){let m=function(){i(),o()};var p=m,s=e,l=r,u=h3(s),c=h3(l),d=QA(l),h=new Set([d].concat(mn(u),mn(c)));return h.forEach(function(v){v.addEventListener("scroll",m,{passive:!0})}),d.addEventListener("resize",m,{passive:!0}),i(),function(){h.forEach(function(v){v.removeEventListener("scroll",m),d.removeEventListener("resize",m)})}}},[n,e,r])}function Bde(n,e,r,i,o,s,l,u){var c=M.useRef(n),d=M.useRef(!1);c.current!==n&&(d.current=!0,c.current=n),M.useEffect(function(){var h=Oi(function(){d.current=!1});return function(){Oi.cancel(h)}},[n]),M.useEffect(function(){if(e&&i&&(!o||s)){var h=function(){var P=!1,R=function(D){var H=D.target;P=l(H)},L=function(D){var H=D.target;!d.current&&c.current&&!P&&!l(H)&&u(!1)};return[R,L]},p=h(),m=Ot(p,2),v=m[0],y=m[1],A=h(),b=Ot(A,2),g=b[0],w=b[1],E=QA(i);E.addEventListener("mousedown",v,!0),E.addEventListener("click",y,!0),E.addEventListener("contextmenu",y,!0);var C=Wx(r);return C&&(C.addEventListener("mousedown",g,!0),C.addEventListener("click",w,!0),C.addEventListener("contextmenu",w,!0)),function(){E.removeEventListener("mousedown",v,!0),E.removeEventListener("click",y,!0),E.removeEventListener("contextmenu",y,!0),C&&(C.removeEventListener("mousedown",g,!0),C.removeEventListener("click",w,!0),C.removeEventListener("contextmenu",w,!0))}}},[e,r,i,o,s])}var Ode=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function Dde(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:EC,e=M.forwardRef(function(r,i){var o=r.prefixCls,s=o===void 0?"rc-trigger-popup":o,l=r.children,u=r.action,c=u===void 0?"hover":u,d=r.showAction,h=r.hideAction,p=r.popupVisible,m=r.defaultPopupVisible,v=r.onPopupVisibleChange,y=r.afterPopupVisibleChange,A=r.mouseEnterDelay,b=r.mouseLeaveDelay,g=b===void 0?.1:b,w=r.focusDelay,E=r.blurDelay,C=r.mask,_=r.maskClosable,P=_===void 0?!0:_,R=r.getPopupContainer,L=r.forceRender,T=r.autoDestroy,D=r.destroyPopupOnHide,H=r.popup,V=r.popupClassName,B=r.popupStyle,O=r.popupPlacement,F=r.builtinPlacements,N=F===void 0?{}:F,z=r.popupAlign,j=r.zIndex,G=r.stretch,Q=r.getPopupClassNameFromAlign,X=r.fresh,J=r.alignPoint,Z=r.onPopupClick,oe=r.onPopupAlign,ce=r.arrow,Be=r.popupMotion,ge=r.maskMotion,Re=r.popupTransitionName,$e=r.popupAnimation,qe=r.maskTransitionName,Ke=r.maskAnimation,ke=r.className,st=r.getTriggerDOMNode,ot=Br(r,Ode),it=T||D||!1,ft=M.useState(!1),Et=Ot(ft,2),gt=Et[0],Ct=Et[1];mi(function(){Ct(pP())},[]);var Tt=M.useRef({}),Dt=M.useContext(kN),Yt=M.useMemo(function(){return{registerSubPopup:function(xn,Yn){Tt.current[xn]=Yn,Dt==null||Dt.registerSubPopup(xn,Yn)}}},[Dt]),Ve=j9(),ye=M.useState(null),fe=Ot(ye,2),pe=fe[0],_e=fe[1],Ce=Fo(function(fn){Kx(fn)&&pe!==fn&&_e(fn),Dt==null||Dt.registerSubPopup(Ve,fn)}),Se=M.useState(null),we=Ot(Se,2),je=we[0],Ae=we[1],Ue=M.useRef(null),et=Fo(function(fn){Kx(fn)&&je!==fn&&(Ae(fn),Ue.current=fn)}),ue=M.Children.only(l),Y=(ue==null?void 0:ue.props)||{},ne={},Pe=Fo(function(fn){var xn,Yn,cr=je;return(cr==null?void 0:cr.contains(fn))||((xn=Wx(cr))===null||xn===void 0?void 0:xn.host)===fn||fn===cr||(pe==null?void 0:pe.contains(fn))||((Yn=Wx(pe))===null||Yn===void 0?void 0:Yn.host)===fn||fn===pe||Object.values(Tt.current).some(function(gr){return(gr==null?void 0:gr.contains(fn))||fn===gr})}),We=UN(s,Be,$e,Re),ve=UN(s,ge,Ke,qe),he=M.useState(m||!1),Ye=Ot(he,2),Ze=Ye[0],Qe=Ye[1],nt=p??Ze,It=Fo(function(fn){p===void 0&&Qe(fn)});mi(function(){Qe(p||!1)},[p]);var kt=M.useRef(nt);kt.current=nt;var Bt=Fo(function(fn){Ns.flushSync(function(){nt!==fn&&(It(fn),v==null||v(fn))})}),jt=M.useRef(),Vt=function(){clearTimeout(jt.current)},Lt=function(xn){var Yn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Vt(),Yn===0?Bt(xn):jt.current=setTimeout(function(){Bt(xn)},Yn*1e3)};M.useEffect(function(){return Vt},[]);var mt=M.useState(!1),Nt=Ot(mt,2),cn=Nt[0],Jt=Nt[1];mi(function(fn){(!fn||nt)&&Jt(!0)},[nt]);var Sn=M.useState(null),yn=Ot(Sn,2),Ln=yn[0],rr=yn[1],jn=M.useState([0,0]),Fn=Ot(jn,2),Cn=Fn[0],Oe=Fn[1],lt=function(xn){Oe([xn.clientX,xn.clientY])},wt=Pde(nt,pe,J?Cn:je,O,N,z,oe),xe=Ot(wt,11),De=xe[0],tt=xe[1],St=xe[2],Mt=xe[3],Ut=xe[4],Kt=xe[5],gn=xe[6],sn=xe[7],Xt=xe[8],$n=xe[9],Nn=xe[10],er=Tde(gt,c,d,h),br=Ot(er,2),kn=br[0],fr=br[1],sr=kn.has("click"),Nr=fr.has("click")||fr.has("contextMenu"),or=Fo(function(){cn||Nn()}),Zt=function(){kt.current&&J&&Nr&&Lt(!1)};Lde(nt,je,pe,or,Zt),mi(function(){or()},[Cn,O]),mi(function(){nt&&!(N!=null&&N[O])&&or()},[JSON.stringify(z)]);var bn=M.useMemo(function(){var fn=Ide(N,s,$n,J);return bt(fn,Q==null?void 0:Q($n))},[$n,Q,N,s,J]);M.useImperativeHandle(i,function(){return{nativeElement:Ue.current,forceAlign:or}});var qn=M.useState(0),Gn=Ot(qn,2),re=Gn[0],se=Gn[1],Me=M.useState(0),Fe=Ot(Me,2),Je=Fe[0],at=Fe[1],xt=function(){if(G&&je){var xn=je.getBoundingClientRect();se(xn.width),at(xn.height)}},me=function(){xt(),or()},be=function(xn){Jt(!1),Nn(),y==null||y(xn)},Ee=function(){return new Promise(function(xn){xt(),rr(function(){return xn})})};mi(function(){Ln&&(Nn(),Ln(),rr(null))},[Ln]);function Te(fn,xn,Yn,cr){ne[fn]=function(gr){var Or;cr==null||cr(gr),Lt(xn,Yn);for(var ni=arguments.length,Kr=new Array(ni>1?ni-1:0),Ii=1;Ii<ni;Ii++)Kr[Ii-1]=arguments[Ii];(Or=Y[fn])===null||Or===void 0||Or.call.apply(Or,[Y,gr].concat(Kr))}}(sr||Nr)&&(ne.onClick=function(fn){var xn;kt.current&&Nr?Lt(!1):!kt.current&&sr&&(lt(fn),Lt(!0));for(var Yn=arguments.length,cr=new Array(Yn>1?Yn-1:0),gr=1;gr<Yn;gr++)cr[gr-1]=arguments[gr];(xn=Y.onClick)===null||xn===void 0||xn.call.apply(xn,[Y,fn].concat(cr))}),Bde(nt,Nr,je,pe,C,P,Pe,Lt);var Le=kn.has("hover"),yt=fr.has("hover"),Ft,en;Le&&(Te("onMouseEnter",!0,A,function(fn){lt(fn)}),Te("onPointerEnter",!0,A,function(fn){lt(fn)}),Ft=function(){(nt||cn)&&Lt(!0,A)},J&&(ne.onMouseMove=function(fn){var xn;(xn=Y.onMouseMove)===null||xn===void 0||xn.call(Y,fn)})),yt&&(Te("onMouseLeave",!1,g),Te("onPointerLeave",!1,g),en=function(){Lt(!1,g)}),kn.has("focus")&&Te("onFocus",!0,w),fr.has("focus")&&Te("onBlur",!1,E),kn.has("contextMenu")&&(ne.onContextMenu=function(fn){var xn;kt.current&&fr.has("contextMenu")?Lt(!1):(lt(fn),Lt(!0)),fn.preventDefault();for(var Yn=arguments.length,cr=new Array(Yn>1?Yn-1:0),gr=1;gr<Yn;gr++)cr[gr-1]=arguments[gr];(xn=Y.onContextMenu)===null||xn===void 0||xn.call.apply(xn,[Y,fn].concat(cr))}),ke&&(ne.className=bt(Y.className,ke));var dn=ht(ht({},Y),ne),Bn={},ln=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];ln.forEach(function(fn){ot[fn]&&(Bn[fn]=function(){for(var xn,Yn=arguments.length,cr=new Array(Yn),gr=0;gr<Yn;gr++)cr[gr]=arguments[gr];(xn=dn[fn])===null||xn===void 0||xn.call.apply(xn,[dn].concat(cr)),ot[fn].apply(ot,cr)})});var Wn=M.cloneElement(ue,ht(ht({},dn),Bn)),mr={x:Kt,y:gn},Hn=ce?ht({},ce!==!0?ce:{}):null;return M.createElement(M.Fragment,null,M.createElement(Qa,{disabled:!nt,ref:et,onResize:me},M.createElement(Mde,{getTriggerDOMNode:st},Wn)),M.createElement(kN.Provider,{value:Yt},M.createElement(_de,{portal:n,ref:Ce,prefixCls:s,popup:H,className:bt(V,bn),style:B,target:je,onMouseEnter:Ft,onMouseLeave:en,onPointerEnter:Ft,zIndex:j,open:nt,keepDom:cn,fresh:X,onClick:Z,mask:C,motion:We,maskMotion:ve,onVisibleChanged:be,onPrepare:Ee,forceRender:L,autoDestroy:it,getPopupContainer:R,align:$n,arrow:Hn,arrowPos:mr,ready:De,offsetX:tt,offsetY:St,offsetR:Mt,offsetB:Ut,onAlign:or,stretch:G,targetWidth:re/sn,targetHeight:Je/Xt})))});return e}const KA=Dde(EC);var Nde=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],kde=function(e){var r=e===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:r,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:r,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:r,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:r,adjustY:1},htmlRegion:"scroll"}}},Fde=function(e,r){var i=e.prefixCls;e.disabled;var o=e.visible,s=e.children,l=e.popupElement,u=e.animation,c=e.transitionName,d=e.dropdownStyle,h=e.dropdownClassName,p=e.direction,m=p===void 0?"ltr":p,v=e.placement,y=e.builtinPlacements,A=e.dropdownMatchSelectWidth,b=e.dropdownRender,g=e.dropdownAlign,w=e.getPopupContainer,E=e.empty,C=e.getTriggerDOMNode,_=e.onPopupVisibleChange,P=e.onPopupMouseEnter,R=Br(e,Nde),L="".concat(i,"-dropdown"),T=l;b&&(T=b(l));var D=M.useMemo(function(){return y||kde(A)},[y,A]),H=u?"".concat(L,"-").concat(u):c,V=typeof A=="number",B=M.useMemo(function(){return V?null:A===!1?"minWidth":"width"},[A,V]),O=d;V&&(O=ht(ht({},O),{},{width:A}));var F=M.useRef(null);return M.useImperativeHandle(r,function(){return{getPopupElement:function(){return F.current}}}),M.createElement(KA,rn({},R,{showAction:_?["click"]:[],hideAction:_?["click"]:[],popupPlacement:v||(m==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:D,prefixCls:L,popupTransitionName:H,popup:M.createElement("div",{ref:F,onMouseEnter:P},T),stretch:B,popupAlign:g,popupVisible:o,getPopupContainer:w,popupClassName:bt(h,ct({},"".concat(L,"-empty"),E)),popupStyle:O,getTriggerDOMNode:C,onPopupVisibleChange:_}),s)},l$=M.forwardRef(Fde);l$.displayName="SelectTrigger";function GN(n,e){var r=n.key,i;return"value"in n&&(i=n.value),r??(i!==void 0?i:"rc-index-key-".concat(e))}function c$(n,e){var r=n||{},i=r.label,o=r.value,s=r.options,l=r.groupLabel,u=i||(e?"children":"label");return{label:u,value:o||"value",options:s||"options",groupLabel:l||u}}function Ude(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.fieldNames,i=e.childrenAsData,o=[],s=c$(r,!1),l=s.label,u=s.value,c=s.options,d=s.groupLabel;function h(p,m){p.forEach(function(v){if(m||!(c in v)){var y=v[u];o.push({key:GN(v,o.length),groupOption:m,data:v,label:v[l],value:y})}else{var A=v[d];A===void 0&&i&&(A=v.label),o.push({key:GN(v,o.length),group:!0,data:v,label:A}),h(v[c],!0)}})}return h(n,!1),o}function p3(n){var e=ht({},n);return"props"in e||Object.defineProperty(e,"props",{get:function(){return no(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),e}}),e}function zde(n,e){if(!e||!e.length)return null;var r=!1;function i(s,l){var u=e9(l),c=u[0],d=u.slice(1);if(!c)return[s];var h=s.split(c);return r=r||h.length>1,h.reduce(function(p,m){return[].concat(mn(p),mn(i(m,d)))},[]).filter(function(p){return p})}var o=i(n,e);return r?o:null}var $de=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],Hde=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function m3(n){return n==="tags"||n==="multiple"}var jde=M.forwardRef(function(n,e){var r,i,o=n.id,s=n.prefixCls,l=n.className,u=n.showSearch,c=n.tagRender,d=n.direction,h=n.omitDomProps,p=n.displayValues,m=n.onDisplayValuesChange,v=n.emptyOptions,y=n.notFoundContent,A=y===void 0?"Not Found":y,b=n.onClear,g=n.mode,w=n.disabled,E=n.loading,C=n.getInputElement,_=n.getRawInputElement,P=n.open,R=n.defaultOpen,L=n.onDropdownVisibleChange,T=n.activeValue,D=n.onActiveValueChange,H=n.activeDescendantId,V=n.searchValue,B=n.autoClearSearchValue,O=n.onSearch,F=n.onSearchSplit,N=n.tokenSeparators,z=n.allowClear,j=n.suffixIcon,G=n.clearIcon,Q=n.OptionList,X=n.animation,J=n.transitionName,Z=n.dropdownStyle,oe=n.dropdownClassName,ce=n.dropdownMatchSelectWidth,Be=n.dropdownRender,ge=n.dropdownAlign,Re=n.placement,$e=n.builtinPlacements,qe=n.getPopupContainer,Ke=n.showAction,ke=Ke===void 0?[]:Ke,st=n.onFocus,ot=n.onBlur,it=n.onKeyUp,ft=n.onKeyDown,Et=n.onMouseDown,gt=Br(n,$de),Ct=m3(g),Tt=(u!==void 0?u:Ct)||g==="combobox",Dt=ht({},gt);Hde.forEach(function(or){delete Dt[or]}),h==null||h.forEach(function(or){delete Dt[or]});var Yt=M.useState(!1),Ve=Ot(Yt,2),ye=Ve[0],fe=Ve[1];M.useEffect(function(){fe(pP())},[]);var pe=M.useRef(null),_e=M.useRef(null),Ce=M.useRef(null),Se=M.useRef(null),we=M.useRef(null),je=M.useRef(!1),Ae=Zue(),Ue=Ot(Ae,3),et=Ue[0],ue=Ue[1],Y=Ue[2];M.useImperativeHandle(e,function(){var or,Zt;return{focus:(or=Se.current)===null||or===void 0?void 0:or.focus,blur:(Zt=Se.current)===null||Zt===void 0?void 0:Zt.blur,scrollTo:function(qn){var Gn;return(Gn=we.current)===null||Gn===void 0?void 0:Gn.scrollTo(qn)}}});var ne=M.useMemo(function(){var or;if(g!=="combobox")return V;var Zt=(or=p[0])===null||or===void 0?void 0:or.value;return typeof Zt=="string"||typeof Zt=="number"?String(Zt):""},[V,g,p]),Pe=g==="combobox"&&typeof C=="function"&&C()||null,We=typeof _=="function"&&_(),ve=Rh(_e,We==null||(r=We.props)===null||r===void 0?void 0:r.ref),he=M.useState(!1),Ye=Ot(he,2),Ze=Ye[0],Qe=Ye[1];mi(function(){Qe(!0)},[]);var nt=Co(!1,{defaultValue:R,value:P}),It=Ot(nt,2),kt=It[0],Bt=It[1],jt=Ze?kt:!1,Vt=!A&&v;(w||Vt&&jt&&g==="combobox")&&(jt=!1);var Lt=Vt?!1:jt,mt=M.useCallback(function(or){var Zt=or!==void 0?or:!jt;w||(Bt(Zt),jt!==Zt&&(L==null||L(Zt)))},[w,jt,Bt,L]),Nt=M.useMemo(function(){return(N||[]).some(function(or){return[`
`,`\r
`].includes(or)})},[N]),cn=function(Zt,bn,qn){var Gn=!0,re=Zt;D==null||D(null);var se=qn?null:zde(Zt,N);return g!=="combobox"&&se&&(re="",F==null||F(se),mt(!1),Gn=!1),O&&ne!==re&&O(re,{source:bn?"typing":"effect"}),Gn},Jt=function(Zt){!Zt||!Zt.trim()||O(Zt,{source:"submit"})};M.useEffect(function(){!jt&&!Ct&&g!=="combobox"&&cn("",!1,!1)},[jt]),M.useEffect(function(){kt&&w&&Bt(!1),w&&!je.current&&ue(!1)},[w]);var Sn=t$(),yn=Ot(Sn,2),Ln=yn[0],rr=yn[1],jn=function(Zt){var bn=Ln(),qn=Zt.which;if(qn===An.ENTER&&(g!=="combobox"&&Zt.preventDefault(),jt||mt(!0)),rr(!!ne),qn===An.BACKSPACE&&!bn&&Ct&&!ne&&p.length){for(var Gn=mn(p),re=null,se=Gn.length-1;se>=0;se-=1){var Me=Gn[se];if(!Me.disabled){Gn.splice(se,1),re=Me;break}}re&&m(Gn,{type:"remove",values:[re]})}for(var Fe=arguments.length,Je=new Array(Fe>1?Fe-1:0),at=1;at<Fe;at++)Je[at-1]=arguments[at];if(jt&&we.current){var xt;(xt=we.current).onKeyDown.apply(xt,[Zt].concat(Je))}ft==null||ft.apply(void 0,[Zt].concat(Je))},Fn=function(Zt){for(var bn=arguments.length,qn=new Array(bn>1?bn-1:0),Gn=1;Gn<bn;Gn++)qn[Gn-1]=arguments[Gn];if(jt&&we.current){var re;(re=we.current).onKeyUp.apply(re,[Zt].concat(qn))}it==null||it.apply(void 0,[Zt].concat(qn))},Cn=function(Zt){var bn=p.filter(function(qn){return qn!==Zt});m(bn,{type:"remove",values:[Zt]})},Oe=M.useRef(!1),lt=function(){ue(!0),w||(st&&!Oe.current&&st.apply(void 0,arguments),ke.includes("focus")&&mt(!0)),Oe.current=!0},wt=function(){je.current=!0,ue(!1,function(){Oe.current=!1,je.current=!1,mt(!1)}),!w&&(ne&&(g==="tags"?O(ne,{source:"submit"}):g==="multiple"&&O("",{source:"blur"})),ot&&ot.apply(void 0,arguments))},xe=[];M.useEffect(function(){return function(){xe.forEach(function(or){return clearTimeout(or)}),xe.splice(0,xe.length)}},[]);var De=function(Zt){var bn,qn=Zt.target,Gn=(bn=Ce.current)===null||bn===void 0?void 0:bn.getPopupElement();if(Gn&&Gn.contains(qn)){var re=setTimeout(function(){var Je=xe.indexOf(re);if(Je!==-1&&xe.splice(Je,1),Y(),!ye&&!Gn.contains(document.activeElement)){var at;(at=Se.current)===null||at===void 0||at.focus()}});xe.push(re)}for(var se=arguments.length,Me=new Array(se>1?se-1:0),Fe=1;Fe<se;Fe++)Me[Fe-1]=arguments[Fe];Et==null||Et.apply(void 0,[Zt].concat(Me))},tt=M.useState({}),St=Ot(tt,2),Mt=St[1];function Ut(){Mt({})}var Kt;We&&(Kt=function(Zt){mt(Zt)}),ede(function(){var or;return[pe.current,(or=Ce.current)===null||or===void 0?void 0:or.getPopupElement()]},Lt,mt,!!We);var gn=M.useMemo(function(){return ht(ht({},n),{},{notFoundContent:A,open:jt,triggerOpen:Lt,id:o,showSearch:Tt,multiple:Ct,toggleOpen:mt})},[n,A,Lt,jt,o,Tt,Ct,mt]),sn=!!j||E,Xt;sn&&(Xt=M.createElement(wC,{className:bt("".concat(s,"-arrow"),ct({},"".concat(s,"-arrow-loading"),E)),customizeIcon:j,customizeIconProps:{loading:E,searchValue:ne,open:jt,focused:et,showSearch:Tt}}));var $n=function(){var Zt;b==null||b(),(Zt=Se.current)===null||Zt===void 0||Zt.focus(),m([],{type:"clear",values:p}),cn("",!1,!1)},Nn=Yue(s,$n,p,z,G,w,ne,g),er=Nn.allowClear,br=Nn.clearIcon,kn=M.createElement(Q,{ref:we}),fr=bt(s,l,(i={},ct(i,"".concat(s,"-focused"),et),ct(i,"".concat(s,"-multiple"),Ct),ct(i,"".concat(s,"-single"),!Ct),ct(i,"".concat(s,"-allow-clear"),z),ct(i,"".concat(s,"-show-arrow"),sn),ct(i,"".concat(s,"-disabled"),w),ct(i,"".concat(s,"-loading"),E),ct(i,"".concat(s,"-open"),jt),ct(i,"".concat(s,"-customize-input"),Pe),ct(i,"".concat(s,"-show-search"),Tt),i)),sr=M.createElement(l$,{ref:Ce,disabled:w,prefixCls:s,visible:Lt,popupElement:kn,animation:X,transitionName:J,dropdownStyle:Z,dropdownClassName:oe,direction:d,dropdownMatchSelectWidth:ce,dropdownRender:Be,dropdownAlign:ge,placement:Re,builtinPlacements:$e,getPopupContainer:qe,empty:v,getTriggerDOMNode:function(){return _e.current},onPopupVisibleChange:Kt,onPopupMouseEnter:Ut},We?M.cloneElement(We,{ref:ve}):M.createElement(s$,rn({},n,{domRef:_e,prefixCls:s,inputElement:Pe,ref:Se,id:o,showSearch:Tt,autoClearSearchValue:B,mode:g,activeDescendantId:H,tagRender:c,values:p,open:jt,onToggleOpen:mt,activeValue:T,searchValue:ne,onSearch:cn,onSearchSubmit:Jt,onRemove:Cn,tokenWithEnter:Nt}))),Nr;return We?Nr=sr:Nr=M.createElement("div",rn({className:fr},Dt,{ref:pe,onMouseDown:De,onKeyDown:jn,onKeyUp:Fn,onFocus:lt,onBlur:wt}),et&&!jt&&M.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(p.map(function(or){var Zt=or.label,bn=or.value;return["number","string"].includes(Tr(Zt))?Zt:bn}).join(", "))),sr,Xt,er&&br),M.createElement(e$.Provider,{value:gn},Nr)});const Gde=function(n,e){var r=M.useRef({values:new Map,options:new Map}),i=M.useMemo(function(){var s=r.current,l=s.values,u=s.options,c=n.map(function(p){if(p.label===void 0){var m;return ht(ht({},p),{},{label:(m=l.get(p.value))===null||m===void 0?void 0:m.label})}return p}),d=new Map,h=new Map;return c.forEach(function(p){d.set(p.value,p),h.set(p.value,e.get(p.value)||u.get(p.value))}),r.current.values=d,r.current.options=h,c},[n,e]),o=M.useCallback(function(s){return e.get(s)||r.current.options.get(s)},[e]);return[i,o]};function j2(n,e){return o$(n).join("").toUpperCase().includes(e)}const Vde=function(n,e,r,i,o){return M.useMemo(function(){if(!r||i===!1)return n;var s=e.options,l=e.label,u=e.value,c=[],d=typeof i=="function",h=r.toUpperCase(),p=d?i:function(v,y){return o?j2(y[o],h):y[s]?j2(y[l!=="children"?l:"label"],h):j2(y[u],h)},m=d?function(v){return p3(v)}:function(v){return v};return n.forEach(function(v){if(v[s]){var y=p(r,m(v));if(y)c.push(v);else{var A=v[s].filter(function(b){return p(r,m(b))});A.length&&c.push(ht(ht({},v),{},ct({},s,A)))}return}p(r,m(v))&&c.push(v)}),c},[n,i,o,r,e])};var VN=0,Wde=la();function Qde(){var n;return Wde?(n=VN,VN+=1):n="TEST_OR_SSR",n}function Kde(n){var e=M.useState(),r=Ot(e,2),i=r[0],o=r[1];return M.useEffect(function(){o("rc_select_".concat(Qde()))},[]),n||i}var Xde=["children","value"],qde=["children"];function Yde(n){var e=n,r=e.key,i=e.props,o=i.children,s=i.value,l=Br(i,Xde);return ht({key:r,value:s!==void 0?s:r,children:o},l)}function u$(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return qa(n).map(function(r,i){if(!M.isValidElement(r)||!r.type)return null;var o=r,s=o.type.isSelectOptGroup,l=o.key,u=o.props,c=u.children,d=Br(u,qde);return e||!s?Yde(r):ht(ht({key:"__RC_SELECT_GRP__".concat(l===null?i:l,"__"),label:l},d),{},{options:u$(c)})}).filter(function(r){return r})}function Jde(n,e,r,i,o){return M.useMemo(function(){var s=n,l=!n;l&&(s=u$(e));var u=new Map,c=new Map,d=function(m,v,y){y&&typeof y=="string"&&m.set(v[y],v)};function h(p){for(var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v=0;v<p.length;v+=1){var y=p[v];!y[r.options]||m?(u.set(y[r.value],y),d(c,y,r.label),d(c,y,i),d(c,y,o)):h(y[r.options],!0)}}return h(s),{options:s,valueOptions:u,labelOptions:c}},[n,e,r,i,o])}function WN(n){var e=M.useRef();e.current=n;var r=M.useCallback(function(){return e.current.apply(e,arguments)},[]);return r}var gP=function(){return null};gP.isSelectOptGroup=!0;var vP=function(){return null};vP.isSelectOption=!0;var d$=M.forwardRef(function(n,e){var r=n.height,i=n.offsetY,o=n.offsetX,s=n.children,l=n.prefixCls,u=n.onInnerResize,c=n.innerProps,d=n.rtl,h=n.extra,p={},m={display:"flex",flexDirection:"column"};if(i!==void 0){var v;p={height:r,position:"relative",overflow:"hidden"},m=ht(ht({},m),{},(v={transform:"translateY(".concat(i,"px)")},ct(v,d?"marginRight":"marginLeft",-o),ct(v,"position","absolute"),ct(v,"left",0),ct(v,"right",0),ct(v,"top",0),v))}return M.createElement("div",{style:p},M.createElement(Qa,{onResize:function(A){var b=A.offsetHeight;b&&u&&u()}},M.createElement("div",rn({style:m,className:bt(ct({},"".concat(l,"-holder-inner"),l)),ref:e},c),s,h)))});d$.displayName="Filler";function QN(n,e){var r="touches"in n?n.touches[0]:n;return r[e?"pageX":"pageY"]}var KN=M.forwardRef(function(n,e){var r,i=n.prefixCls,o=n.rtl,s=n.scrollOffset,l=n.scrollRange,u=n.onStartMove,c=n.onStopMove,d=n.onScroll,h=n.horizontal,p=n.spinSize,m=n.containerSize,v=n.style,y=n.thumbStyle,A=M.useState(!1),b=Ot(A,2),g=b[0],w=b[1],E=M.useState(null),C=Ot(E,2),_=C[0],P=C[1],R=M.useState(null),L=Ot(R,2),T=L[0],D=L[1],H=!o,V=M.useRef(),B=M.useRef(),O=M.useState(!1),F=Ot(O,2),N=F[0],z=F[1],j=M.useRef(),G=function(){clearTimeout(j.current),z(!0),j.current=setTimeout(function(){z(!1)},3e3)},Q=l-m||0,X=m-p||0,J=Q>0,Z=M.useMemo(function(){if(s===0||Q===0)return 0;var ke=s/Q;return ke*X},[s,Q,X]),oe=function(st){st.stopPropagation(),st.preventDefault()},ce=M.useRef({top:Z,dragging:g,pageY:_,startTop:T});ce.current={top:Z,dragging:g,pageY:_,startTop:T};var Be=function(st){w(!0),P(QN(st,h)),D(ce.current.top),u(),st.stopPropagation(),st.preventDefault()};M.useEffect(function(){var ke=function(ft){ft.preventDefault()},st=V.current,ot=B.current;return st.addEventListener("touchstart",ke),ot.addEventListener("touchstart",Be),function(){st.removeEventListener("touchstart",ke),ot.removeEventListener("touchstart",Be)}},[]);var ge=M.useRef();ge.current=Q;var Re=M.useRef();Re.current=X,M.useEffect(function(){if(g){var ke,st=function(ft){var Et=ce.current,gt=Et.dragging,Ct=Et.pageY,Tt=Et.startTop;if(Oi.cancel(ke),gt){var Dt=QN(ft,h)-Ct,Yt=Tt;!H&&h?Yt-=Dt:Yt+=Dt;var Ve=ge.current,ye=Re.current,fe=ye?Yt/ye:0,pe=Math.ceil(fe*Ve);pe=Math.max(pe,0),pe=Math.min(pe,Ve),ke=Oi(function(){d(pe,h)})}},ot=function(){w(!1),c()};return window.addEventListener("mousemove",st),window.addEventListener("touchmove",st),window.addEventListener("mouseup",ot),window.addEventListener("touchend",ot),function(){window.removeEventListener("mousemove",st),window.removeEventListener("touchmove",st),window.removeEventListener("mouseup",ot),window.removeEventListener("touchend",ot),Oi.cancel(ke)}}},[g]),M.useEffect(function(){G()},[s]),M.useImperativeHandle(e,function(){return{delayHidden:G}});var $e="".concat(i,"-scrollbar"),qe={position:"absolute",visibility:N&&J?null:"hidden"},Ke={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return h?(qe.height=8,qe.left=0,qe.right=0,qe.bottom=0,Ke.height="100%",Ke.width=p,H?Ke.left=Z:Ke.right=Z):(qe.width=8,qe.top=0,qe.bottom=0,H?qe.right=0:qe.left=0,Ke.width="100%",Ke.height=p,Ke.top=Z),M.createElement("div",{ref:V,className:bt($e,(r={},ct(r,"".concat($e,"-horizontal"),h),ct(r,"".concat($e,"-vertical"),!h),ct(r,"".concat($e,"-visible"),N),r)),style:ht(ht({},qe),v),onMouseDown:oe,onMouseMove:G},M.createElement("div",{ref:B,className:bt("".concat($e,"-thumb"),ct({},"".concat($e,"-thumb-moving"),g)),style:ht(ht({},Ke),y),onMouseDown:Be}))});function Zde(n){var e=n.children,r=n.setRef,i=M.useCallback(function(o){r(o)},[]);return M.cloneElement(e,{ref:i})}function efe(n,e,r,i,o,s,l){var u=l.getKey;return n.slice(e,r+1).map(function(c,d){var h=e+d,p=s(c,h,{style:{width:i}}),m=u(c);return M.createElement(Zde,{key:m,setRef:function(y){return o(c,y)}},p)})}var tfe=function(){function n(){ca(this,n),this.maps=void 0,this.id=0,this.maps=Object.create(null)}return ua(n,[{key:"set",value:function(r,i){this.maps[r]=i,this.id+=1}},{key:"get",value:function(r){return this.maps[r]}}]),n}();function nfe(n,e,r){var i=M.useState(0),o=Ot(i,2),s=o[0],l=o[1],u=M.useRef(new Map),c=M.useRef(new tfe),d=M.useRef();function h(){Oi.cancel(d.current)}function p(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;h();var y=function(){u.current.forEach(function(b,g){if(b&&b.offsetParent){var w=L0(b),E=w.offsetHeight;c.current.get(g)!==E&&c.current.set(g,w.offsetHeight)}}),l(function(b){return b+1})};v?y():d.current=Oi(y)}function m(v,y){var A=n(v),b=u.current.get(A);y?(u.current.set(A,y),p()):u.current.delete(A),!b!=!y&&(y?e==null||e(v):r==null||r(v))}return M.useEffect(function(){return h},[]),[m,p,c.current,s]}var rfe=10;function ife(n,e,r,i,o,s,l,u){var c=M.useRef(),d=M.useState(null),h=Ot(d,2),p=h[0],m=h[1];return mi(function(){if(p&&p.times<rfe){if(!n.current){m(function(G){return ht({},G)});return}s();var v=p.targetAlign,y=p.originAlign,A=p.index,b=p.offset,g=n.current.clientHeight,w=!1,E=v,C=null;if(g){for(var _=v||y,P=0,R=0,L=0,T=Math.min(e.length-1,A),D=0;D<=T;D+=1){var H=o(e[D]);R=P;var V=r.get(H);L=R+(V===void 0?i:V),P=L}for(var B=_==="top"?b:g-b,O=T;O>=0;O-=1){var F=o(e[O]),N=r.get(F);if(N===void 0){w=!0;break}if(B-=N,B<=0)break}switch(_){case"top":C=R-b;break;case"bottom":C=L-g+b;break;default:{var z=n.current.scrollTop,j=z+g;R<z?E="top":L>j&&(E="bottom")}}C!==null&&l(C),C!==p.lastTop&&(w=!0)}w&&m(ht(ht({},p),{},{times:p.times+1,targetAlign:E,lastTop:C}))}},[p,n.current]),function(v){if(v==null){u();return}if(Oi.cancel(c.current),typeof v=="number")l(v);else if(v&&Tr(v)==="object"){var y,A=v.align;"index"in v?y=v.index:y=e.findIndex(function(w){return o(w)===v.key});var b=v.offset,g=b===void 0?0:b;m({times:0,index:y,offset:g,originAlign:A})}}}function ofe(n,e,r){var i=n.length,o=e.length,s,l;if(i===0&&o===0)return null;i<o?(s=n,l=e):(s=e,l=n);var u={__EMPTY_ITEM__:!0};function c(y){return y!==void 0?r(y):u}for(var d=null,h=Math.abs(i-o)!==1,p=0;p<l.length;p+=1){var m=c(s[p]),v=c(l[p]);if(m!==v){d=p,h=h||m!==c(l[p+1]);break}}return d===null?null:{index:d,multiple:h}}function afe(n,e,r){var i=M.useState(n),o=Ot(i,2),s=o[0],l=o[1],u=M.useState(null),c=Ot(u,2),d=c[0],h=c[1];return M.useEffect(function(){var p=ofe(s||[],n||[],e);(p==null?void 0:p.index)!==void 0&&(r==null||r(p.index),h(n[p.index])),l(n)},[n]),[d]}var XN=(typeof navigator>"u"?"undefined":Tr(navigator))==="object"&&/Firefox/i.test(navigator.userAgent);const f$=function(n,e){var r=M.useRef(!1),i=M.useRef(null);function o(){clearTimeout(i.current),r.current=!0,i.current=setTimeout(function(){r.current=!1},50)}var s=M.useRef({top:n,bottom:e});return s.current.top=n,s.current.bottom=e,function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=l<0&&s.current.top||l>0&&s.current.bottom;return u&&c?(clearTimeout(i.current),r.current=!1):(!c||r.current)&&o(),!r.current&&c}};function sfe(n,e,r,i,o){var s=M.useRef(0),l=M.useRef(null),u=M.useRef(null),c=M.useRef(!1),d=f$(e,r);function h(b,g){Oi.cancel(l.current),s.current+=g,u.current=g,!d(g)&&(XN||b.preventDefault(),l.current=Oi(function(){var w=c.current?10:1;o(s.current*w),s.current=0}))}function p(b,g){o(g,!0),XN||b.preventDefault()}var m=M.useRef(null),v=M.useRef(null);function y(b){if(n){Oi.cancel(v.current),v.current=Oi(function(){m.current=null},2);var g=b.deltaX,w=b.deltaY,E=b.shiftKey,C=g,_=w;(m.current==="sx"||!m.current&&E&&w&&!g)&&(C=w,_=0,m.current="sx");var P=Math.abs(C),R=Math.abs(_);m.current===null&&(m.current=i&&P>R?"x":"y"),m.current==="y"?h(b,_):p(b,C)}}function A(b){n&&(c.current=b.detail===u.current)}return[y,A]}var lfe=14/15;function cfe(n,e,r){var i=M.useRef(!1),o=M.useRef(0),s=M.useRef(null),l=M.useRef(null),u,c=function(m){if(i.current){var v=Math.ceil(m.touches[0].pageY),y=o.current-v;o.current=v,r(y)&&m.preventDefault(),clearInterval(l.current),l.current=setInterval(function(){y*=lfe,(!r(y,!0)||Math.abs(y)<=.1)&&clearInterval(l.current)},16)}},d=function(){i.current=!1,u()},h=function(m){u(),m.touches.length===1&&!i.current&&(i.current=!0,o.current=Math.ceil(m.touches[0].pageY),s.current=m.target,s.current.addEventListener("touchmove",c),s.current.addEventListener("touchend",d))};u=function(){s.current&&(s.current.removeEventListener("touchmove",c),s.current.removeEventListener("touchend",d))},mi(function(){return n&&e.current.addEventListener("touchstart",h),function(){var p;(p=e.current)===null||p===void 0||p.removeEventListener("touchstart",h),u(),clearInterval(l.current)}},[n])}var ufe=20;function qN(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=n/e*100;return isNaN(r)&&(r=0),r=Math.max(r,ufe),r=Math.min(r,n/2),Math.floor(r)}function dfe(n,e,r,i){var o=M.useMemo(function(){return[new Map,[]]},[n,r.id,i]),s=Ot(o,2),l=s[0],u=s[1],c=function(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h,m=l.get(h),v=l.get(p);if(m===void 0||v===void 0)for(var y=n.length,A=u.length;A<y;A+=1){var b,g=n[A],w=e(g);l.set(w,A);var E=(b=r.get(w))!==null&&b!==void 0?b:i;if(u[A]=(u[A-1]||0)+E,w===h&&(m=A),w===p&&(v=A),m!==void 0&&v!==void 0)break}return{top:u[m-1]||0,bottom:u[v]}};return c}var ffe=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],hfe=[],pfe={overflowY:"auto",overflowAnchor:"none"};function mfe(n,e){var r=n.prefixCls,i=r===void 0?"rc-virtual-list":r,o=n.className,s=n.height,l=n.itemHeight,u=n.fullHeight,c=u===void 0?!0:u,d=n.style,h=n.data,p=n.children,m=n.itemKey,v=n.virtual,y=n.direction,A=n.scrollWidth,b=n.component,g=b===void 0?"div":b,w=n.onScroll,E=n.onVirtualScroll,C=n.onVisibleChange,_=n.innerProps,P=n.extraRender,R=n.styles,L=Br(n,ffe),T=!!(v!==!1&&s&&l),D=T&&h&&(l*h.length>s||!!A),H=y==="rtl",V=bt(i,ct({},"".concat(i,"-rtl"),H),o),B=h||hfe,O=M.useRef(),F=M.useRef(),N=M.useState(0),z=Ot(N,2),j=z[0],G=z[1],Q=M.useState(0),X=Ot(Q,2),J=X[0],Z=X[1],oe=M.useState(!1),ce=Ot(oe,2),Be=ce[0],ge=ce[1],Re=function(){ge(!0)},$e=function(){ge(!1)},qe=M.useCallback(function(Cn){return typeof m=="function"?m(Cn):Cn==null?void 0:Cn[m]},[m]),Ke={getKey:qe};function ke(Cn){G(function(Oe){var lt;typeof Cn=="function"?lt=Cn(Oe):lt=Cn;var wt=ve(lt);return O.current.scrollTop=wt,wt})}var st=M.useRef({start:0,end:B.length}),ot=M.useRef(),it=afe(B,qe),ft=Ot(it,1),Et=ft[0];ot.current=Et;var gt=nfe(qe,null,null),Ct=Ot(gt,4),Tt=Ct[0],Dt=Ct[1],Yt=Ct[2],Ve=Ct[3],ye=M.useMemo(function(){if(!T)return{scrollHeight:void 0,start:0,end:B.length-1,offset:void 0};if(!D){var Cn;return{scrollHeight:((Cn=F.current)===null||Cn===void 0?void 0:Cn.offsetHeight)||0,start:0,end:B.length-1,offset:void 0}}for(var Oe=0,lt,wt,xe,De=B.length,tt=0;tt<De;tt+=1){var St=B[tt],Mt=qe(St),Ut=Yt.get(Mt),Kt=Oe+(Ut===void 0?l:Ut);Kt>=j&&lt===void 0&&(lt=tt,wt=Oe),Kt>j+s&&xe===void 0&&(xe=tt),Oe=Kt}return lt===void 0&&(lt=0,wt=0,xe=Math.ceil(s/l)),xe===void 0&&(xe=B.length-1),xe=Math.min(xe+1,B.length-1),{scrollHeight:Oe,start:lt,end:xe,offset:wt}},[D,T,j,B,Ve,s]),fe=ye.scrollHeight,pe=ye.start,_e=ye.end,Ce=ye.offset;st.current.start=pe,st.current.end=_e;var Se=M.useState({width:0,height:s}),we=Ot(Se,2),je=we[0],Ae=we[1],Ue=function(Oe){Ae({width:Oe.width||Oe.offsetWidth,height:Oe.height||Oe.offsetHeight})},et=M.useRef(),ue=M.useRef(),Y=M.useMemo(function(){return qN(je.width,A)},[je.width,A]),ne=M.useMemo(function(){return qN(je.height,fe)},[je.height,fe]),Pe=fe-s,We=M.useRef(Pe);We.current=Pe;function ve(Cn){var Oe=Cn;return Number.isNaN(We.current)||(Oe=Math.min(Oe,We.current)),Oe=Math.max(Oe,0),Oe}var he=j<=0,Ye=j>=Pe,Ze=f$(he,Ye),Qe=function(){return{x:H?-J:J,y:j}},nt=M.useRef(Qe()),It=Fo(function(){if(E){var Cn=Qe();(nt.current.x!==Cn.x||nt.current.y!==Cn.y)&&(E(Cn),nt.current=Cn)}});function kt(Cn,Oe){var lt=Cn;Oe?(Ns.flushSync(function(){Z(lt)}),It()):ke(lt)}function Bt(Cn){var Oe=Cn.currentTarget.scrollTop;Oe!==j&&ke(Oe),w==null||w(Cn),It()}var jt=function(Oe){var lt=Oe,wt=A-je.width;return lt=Math.max(lt,0),lt=Math.min(lt,wt),lt},Vt=Fo(function(Cn,Oe){Oe?(Ns.flushSync(function(){Z(function(lt){var wt=lt+(H?-Cn:Cn);return jt(wt)})}),It()):ke(function(lt){var wt=lt+Cn;return wt})}),Lt=sfe(T,he,Ye,!!A,Vt),mt=Ot(Lt,2),Nt=mt[0],cn=mt[1];cfe(T,O,function(Cn,Oe){return Ze(Cn,Oe)?!1:(Nt({preventDefault:function(){},deltaY:Cn}),!0)}),mi(function(){function Cn(lt){T&&lt.preventDefault()}var Oe=O.current;return Oe.addEventListener("wheel",Nt),Oe.addEventListener("DOMMouseScroll",cn),Oe.addEventListener("MozMousePixelScroll",Cn),function(){Oe.removeEventListener("wheel",Nt),Oe.removeEventListener("DOMMouseScroll",cn),Oe.removeEventListener("MozMousePixelScroll",Cn)}},[T]),mi(function(){A&&Z(function(Cn){return jt(Cn)})},[je.width,A]);var Jt=function(){var Oe,lt;(Oe=et.current)===null||Oe===void 0||Oe.delayHidden(),(lt=ue.current)===null||lt===void 0||lt.delayHidden()},Sn=ife(O,B,Yt,l,qe,function(){return Dt(!0)},ke,Jt);M.useImperativeHandle(e,function(){return{getScrollInfo:Qe,scrollTo:function(Oe){function lt(wt){return wt&&Tr(wt)==="object"&&("left"in wt||"top"in wt)}lt(Oe)?(Oe.left!==void 0&&Z(jt(Oe.left)),Sn(Oe.top)):Sn(Oe)}}}),mi(function(){if(C){var Cn=B.slice(pe,_e+1);C(Cn,B)}},[pe,_e,B]);var yn=dfe(B,qe,Yt,l),Ln=P==null?void 0:P({start:pe,end:_e,virtual:D,offsetX:J,offsetY:Ce,rtl:H,getSize:yn}),rr=efe(B,pe,_e,A,Tt,p,Ke),jn=null;s&&(jn=ht(ct({},c?"height":"maxHeight",s),pfe),T&&(jn.overflowY="hidden",A&&(jn.overflowX="hidden"),Be&&(jn.pointerEvents="none")));var Fn={};return H&&(Fn.dir="rtl"),M.createElement("div",rn({style:ht(ht({},d),{},{position:"relative"}),className:V},Fn,L),M.createElement(Qa,{onResize:Ue},M.createElement(g,{className:"".concat(i,"-holder"),style:jn,ref:O,onScroll:Bt,onMouseEnter:Jt},M.createElement(d$,{prefixCls:i,height:fe,offsetX:J,offsetY:Ce,scrollWidth:A,onInnerResize:Dt,ref:F,innerProps:_,rtl:H,extra:Ln},rr))),D&&fe>s&&M.createElement(KN,{ref:et,prefixCls:i,scrollOffset:j,scrollRange:fe,rtl:H,onScroll:kt,onStartMove:Re,onStopMove:$e,spinSize:ne,containerSize:je.height,style:R==null?void 0:R.verticalScrollBar,thumbStyle:R==null?void 0:R.verticalScrollBarThumb}),D&&A&&M.createElement(KN,{ref:ue,prefixCls:i,scrollOffset:J,scrollRange:A,rtl:H,onScroll:kt,onStartMove:Re,onStopMove:$e,spinSize:Y,containerSize:je.width,horizontal:!0,style:R==null?void 0:R.horizontalScrollBar,thumbStyle:R==null?void 0:R.horizontalScrollBarThumb}))}var SC=M.forwardRef(mfe);SC.displayName="List";var h$=M.createContext(null);function gfe(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var vfe=["disabled","title","children","style","className"];function YN(n){return typeof n=="string"||typeof n=="number"}var Afe=function(e,r){var i=Jue(),o=i.prefixCls,s=i.id,l=i.open,u=i.multiple,c=i.mode,d=i.searchValue,h=i.toggleOpen,p=i.notFoundContent,m=i.onPopupScroll,v=M.useContext(h$),y=v.flattenOptions,A=v.onActiveValue,b=v.defaultActiveFirstOption,g=v.onSelect,w=v.menuItemSelectedIcon,E=v.rawValues,C=v.fieldNames,_=v.virtual,P=v.direction,R=v.listHeight,L=v.listItemHeight,T="".concat(o,"-item"),D=Th(function(){return y},[l,y],function(ge,Re){return Re[0]&&ge[1]!==Re[1]}),H=M.useRef(null),V=function(Re){Re.preventDefault()},B=function(Re){H.current&&H.current.scrollTo(typeof Re=="number"?{index:Re}:Re)},O=function(Re){for(var $e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,qe=D.length,Ke=0;Ke<qe;Ke+=1){var ke=(Re+Ke*$e+qe)%qe,st=D[ke],ot=st.group,it=st.data;if(!ot&&!it.disabled)return ke}return-1},F=M.useState(function(){return O(0)}),N=Ot(F,2),z=N[0],j=N[1],G=function(Re){var $e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;j(Re);var qe={source:$e?"keyboard":"mouse"},Ke=D[Re];if(!Ke){A(null,-1,qe);return}A(Ke.value,Re,qe)};M.useEffect(function(){G(b!==!1?O(0):-1)},[D.length,d]);var Q=M.useCallback(function(ge){return E.has(ge)&&c!=="combobox"},[c,mn(E).toString(),E.size]);M.useEffect(function(){var ge=setTimeout(function(){if(!u&&l&&E.size===1){var $e=Array.from(E)[0],qe=D.findIndex(function(Ke){var ke=Ke.data;return ke.value===$e});qe!==-1&&(G(qe),B(qe))}});if(l){var Re;(Re=H.current)===null||Re===void 0||Re.scrollTo(void 0)}return function(){return clearTimeout(ge)}},[l,d]);var X=function(Re){Re!==void 0&&g(Re,{selected:!E.has(Re)}),u||h(!1)};if(M.useImperativeHandle(r,function(){return{onKeyDown:function(Re){var $e=Re.which,qe=Re.ctrlKey;switch($e){case An.N:case An.P:case An.UP:case An.DOWN:{var Ke=0;if($e===An.UP?Ke=-1:$e===An.DOWN?Ke=1:gfe()&&qe&&($e===An.N?Ke=1:$e===An.P&&(Ke=-1)),Ke!==0){var ke=O(z+Ke,Ke);B(ke),G(ke,!0)}break}case An.ENTER:{var st=D[z];st&&!st.data.disabled?X(st.value):X(void 0),l&&Re.preventDefault();break}case An.ESC:h(!1),l&&Re.stopPropagation()}},onKeyUp:function(){},scrollTo:function(Re){B(Re)}}}),D.length===0)return M.createElement("div",{role:"listbox",id:"".concat(s,"_list"),className:"".concat(T,"-empty"),onMouseDown:V},p);var J=Object.keys(C).map(function(ge){return C[ge]}),Z=function(Re){return Re.label};function oe(ge,Re){var $e=ge.group;return{role:$e?"presentation":"option",id:"".concat(s,"_list_").concat(Re)}}var ce=function(Re){var $e=D[Re];if(!$e)return null;var qe=$e.data||{},Ke=qe.value,ke=$e.group,st=Ql(qe,!0),ot=Z($e);return $e?M.createElement("div",rn({"aria-label":typeof ot=="string"&&!ke?ot:null},st,{key:Re},oe($e,Re),{"aria-selected":Q(Ke)}),Ke):null},Be={role:"listbox",id:"".concat(s,"_list")};return M.createElement(M.Fragment,null,_&&M.createElement("div",rn({},Be,{style:{height:0,width:0,overflow:"hidden"}}),ce(z-1),ce(z),ce(z+1)),M.createElement(SC,{itemKey:"key",ref:H,data:D,height:R,itemHeight:L,fullHeight:!1,onMouseDown:V,onScroll:m,virtual:_,direction:P,innerProps:_?null:Be},function(ge,Re){var $e,qe=ge.group,Ke=ge.groupOption,ke=ge.data,st=ge.label,ot=ge.value,it=ke.key;if(qe){var ft,Et=(ft=ke.title)!==null&&ft!==void 0?ft:YN(st)?st.toString():void 0;return M.createElement("div",{className:bt(T,"".concat(T,"-group")),title:Et},st!==void 0?st:it)}var gt=ke.disabled,Ct=ke.title;ke.children;var Tt=ke.style,Dt=ke.className,Yt=Br(ke,vfe),Ve=co(Yt,J),ye=Q(ot),fe="".concat(T,"-option"),pe=bt(T,fe,Dt,($e={},ct($e,"".concat(fe,"-grouped"),Ke),ct($e,"".concat(fe,"-active"),z===Re&&!gt),ct($e,"".concat(fe,"-disabled"),gt),ct($e,"".concat(fe,"-selected"),ye),$e)),_e=Z(ge),Ce=!w||typeof w=="function"||ye,Se=typeof _e=="number"?_e:_e||ot,we=YN(Se)?Se.toString():void 0;return Ct!==void 0&&(we=Ct),M.createElement("div",rn({},Ql(Ve),_?{}:oe(ge,Re),{"aria-selected":ye,className:pe,title:we,onMouseMove:function(){z===Re||gt||G(Re)},onClick:function(){gt||X(ot)},style:Tt}),M.createElement("div",{className:"".concat(fe,"-content")},Se),M.isValidElement(w)||ye,Ce&&M.createElement(wC,{className:"".concat(T,"-option-state"),customizeIcon:w,customizeIconProps:{value:ot,disabled:gt,isSelected:ye}},ye?"":null))}))},p$=M.forwardRef(Afe);p$.displayName="OptionList";var yfe=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],bfe=["inputValue"];function xfe(n){return!n||Tr(n)!=="object"}var Efe=M.forwardRef(function(n,e){var r=n.id,i=n.mode,o=n.prefixCls,s=o===void 0?"rc-select":o,l=n.backfill,u=n.fieldNames,c=n.inputValue,d=n.searchValue,h=n.onSearch,p=n.autoClearSearchValue,m=p===void 0?!0:p,v=n.onSelect,y=n.onDeselect,A=n.dropdownMatchSelectWidth,b=A===void 0?!0:A,g=n.filterOption,w=n.filterSort,E=n.optionFilterProp,C=n.optionLabelProp,_=n.options,P=n.children,R=n.defaultActiveFirstOption,L=n.menuItemSelectedIcon,T=n.virtual,D=n.direction,H=n.listHeight,V=H===void 0?200:H,B=n.listItemHeight,O=B===void 0?20:B,F=n.value,N=n.defaultValue,z=n.labelInValue,j=n.onChange,G=Br(n,yfe),Q=Kde(r),X=m3(i),J=!!(!_&&P),Z=M.useMemo(function(){return g===void 0&&i==="combobox"?!1:g},[g,i]),oe=M.useMemo(function(){return c$(u,J)},[JSON.stringify(u),J]),ce=Co("",{value:d!==void 0?d:c,postState:function(jt){return jt||""}}),Be=Ot(ce,2),ge=Be[0],Re=Be[1],$e=Jde(_,P,oe,E,C),qe=$e.valueOptions,Ke=$e.labelOptions,ke=$e.options,st=M.useCallback(function(Bt){var jt=o$(Bt);return jt.map(function(Vt){var Lt,mt,Nt,cn,Jt;if(xfe(Vt))Lt=Vt;else{var Sn;Nt=Vt.key,mt=Vt.label,Lt=(Sn=Vt.value)!==null&&Sn!==void 0?Sn:Nt}var yn=qe.get(Lt);if(yn){var Ln;mt===void 0&&(mt=yn==null?void 0:yn[C||oe.label]),Nt===void 0&&(Nt=(Ln=yn==null?void 0:yn.key)!==null&&Ln!==void 0?Ln:Lt),cn=yn==null?void 0:yn.disabled,Jt=yn==null?void 0:yn.title}return{label:mt,value:Lt,key:Nt,disabled:cn,title:Jt}})},[oe,C,qe]),ot=Co(N,{value:F}),it=Ot(ot,2),ft=it[0],Et=it[1],gt=M.useMemo(function(){var Bt,jt=st(ft);return i==="combobox"&&gde((Bt=jt[0])===null||Bt===void 0?void 0:Bt.value)?[]:jt},[ft,st,i]),Ct=Gde(gt,qe),Tt=Ot(Ct,2),Dt=Tt[0],Yt=Tt[1],Ve=M.useMemo(function(){if(!i&&Dt.length===1){var Bt=Dt[0];if(Bt.value===null&&(Bt.label===null||Bt.label===void 0))return[]}return Dt.map(function(jt){var Vt;return ht(ht({},jt),{},{label:(Vt=jt.label)!==null&&Vt!==void 0?Vt:jt.value})})},[i,Dt]),ye=M.useMemo(function(){return new Set(Dt.map(function(Bt){return Bt.value}))},[Dt]);M.useEffect(function(){if(i==="combobox"){var Bt,jt=(Bt=Dt[0])===null||Bt===void 0?void 0:Bt.value;Re(mde(jt)?String(jt):"")}},[Dt]);var fe=WN(function(Bt,jt){var Vt,Lt=jt??Bt;return Vt={},ct(Vt,oe.value,Bt),ct(Vt,oe.label,Lt),Vt}),pe=M.useMemo(function(){if(i!=="tags")return ke;var Bt=mn(ke),jt=function(Lt){return qe.has(Lt)};return mn(Dt).sort(function(Vt,Lt){return Vt.value<Lt.value?-1:1}).forEach(function(Vt){var Lt=Vt.value;jt(Lt)||Bt.push(fe(Lt,Vt.label))}),Bt},[fe,ke,qe,Dt,i]),_e=Vde(pe,oe,ge,Z,E),Ce=M.useMemo(function(){return i!=="tags"||!ge||_e.some(function(Bt){return Bt[E||"value"]===ge})||_e.some(function(Bt){return Bt[oe.value]===ge})?_e:[fe(ge)].concat(mn(_e))},[fe,E,i,_e,ge,oe]),Se=M.useMemo(function(){return w?mn(Ce).sort(function(Bt,jt){return w(Bt,jt)}):Ce},[Ce,w]),we=M.useMemo(function(){return Ude(Se,{fieldNames:oe,childrenAsData:J})},[Se,oe,J]),je=function(jt){var Vt=st(jt);if(Et(Vt),j&&(Vt.length!==Dt.length||Vt.some(function(Nt,cn){var Jt;return((Jt=Dt[cn])===null||Jt===void 0?void 0:Jt.value)!==(Nt==null?void 0:Nt.value)}))){var Lt=z?Vt:Vt.map(function(Nt){return Nt.value}),mt=Vt.map(function(Nt){return p3(Yt(Nt.value))});j(X?Lt:Lt[0],X?mt:mt[0])}},Ae=M.useState(null),Ue=Ot(Ae,2),et=Ue[0],ue=Ue[1],Y=M.useState(0),ne=Ot(Y,2),Pe=ne[0],We=ne[1],ve=R!==void 0?R:i!=="combobox",he=M.useCallback(function(Bt,jt){var Vt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Lt=Vt.source,mt=Lt===void 0?"keyboard":Lt;We(jt),l&&i==="combobox"&&Bt!==null&&mt==="keyboard"&&ue(String(Bt))},[l,i]),Ye=function(jt,Vt,Lt){var mt=function(){var Cn,Oe=Yt(jt);return[z?{label:Oe==null?void 0:Oe[oe.label],value:jt,key:(Cn=Oe==null?void 0:Oe.key)!==null&&Cn!==void 0?Cn:jt}:jt,p3(Oe)]};if(Vt&&v){var Nt=mt(),cn=Ot(Nt,2),Jt=cn[0],Sn=cn[1];v(Jt,Sn)}else if(!Vt&&y&&Lt!=="clear"){var yn=mt(),Ln=Ot(yn,2),rr=Ln[0],jn=Ln[1];y(rr,jn)}},Ze=WN(function(Bt,jt){var Vt,Lt=X?jt.selected:!0;Lt?Vt=X?[].concat(mn(Dt),[Bt]):[Bt]:Vt=Dt.filter(function(mt){return mt.value!==Bt}),je(Vt),Ye(Bt,Lt),i==="combobox"?ue(""):(!m3||m)&&(Re(""),ue(""))}),Qe=function(jt,Vt){je(jt);var Lt=Vt.type,mt=Vt.values;(Lt==="remove"||Lt==="clear")&&mt.forEach(function(Nt){Ye(Nt.value,!1,Lt)})},nt=function(jt,Vt){if(Re(jt),ue(null),Vt.source==="submit"){var Lt=(jt||"").trim();if(Lt){var mt=Array.from(new Set([].concat(mn(ye),[Lt])));je(mt),Ye(Lt,!0),Re("")}return}Vt.source!=="blur"&&(i==="combobox"&&je(jt),h==null||h(jt))},It=function(jt){var Vt=jt;i!=="tags"&&(Vt=jt.map(function(mt){var Nt=Ke.get(mt);return Nt==null?void 0:Nt.value}).filter(function(mt){return mt!==void 0}));var Lt=Array.from(new Set([].concat(mn(ye),mn(Vt))));je(Lt),Lt.forEach(function(mt){Ye(mt,!0)})},kt=M.useMemo(function(){var Bt=T!==!1&&b!==!1;return ht(ht({},$e),{},{flattenOptions:we,onActiveValue:he,defaultActiveFirstOption:ve,onSelect:Ze,menuItemSelectedIcon:L,rawValues:ye,fieldNames:oe,virtual:Bt,direction:D,listHeight:V,listItemHeight:O,childrenAsData:J})},[$e,we,he,ve,Ze,L,ye,oe,T,b,V,O,J]);return M.createElement(h$.Provider,{value:kt},M.createElement(jde,rn({},G,{id:Q,prefixCls:s,ref:e,omitDomProps:bfe,mode:i,displayValues:Ve,onDisplayValuesChange:Qe,direction:D,searchValue:ge,onSearch:nt,autoClearSearchValue:m,onSearchSplit:It,dropdownMatchSelectWidth:b,OptionList:p$,emptyOptions:!we.length,activeValue:et,activeDescendantId:"".concat(Q,"_list_").concat(Pe)})))}),AP=Efe;AP.Option=vP;AP.OptGroup=gP;function Pm(n,e,r){return bt({[`${n}-status-success`]:e==="success",[`${n}-status-warning`]:e==="warning",[`${n}-status-error`]:e==="error",[`${n}-status-validating`]:e==="validating",[`${n}-has-feedback`]:r})}const yP=(n,e)=>e||n,Cfe=()=>{const[,n]=$s(),r=new Di(n.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return M.createElement("svg",{style:r,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},M.createElement("g",{fill:"none",fillRule:"evenodd"},M.createElement("g",{transform:"translate(24 31.67)"},M.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),M.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),M.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),M.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),M.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),M.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),M.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},M.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),M.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},wfe=Cfe,Sfe=()=>{const[,n]=$s(),{colorFill:e,colorFillTertiary:r,colorFillQuaternary:i,colorBgContainer:o}=n,{borderColor:s,shadowColor:l,contentColor:u}=M.useMemo(()=>({borderColor:new Di(e).onBackground(o).toHexShortString(),shadowColor:new Di(r).onBackground(o).toHexShortString(),contentColor:new Di(i).onBackground(o).toHexShortString()}),[e,r,i,o]);return M.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},M.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},M.createElement("ellipse",{fill:l,cx:"32",cy:"33",rx:"32",ry:"7"}),M.createElement("g",{fillRule:"nonzero",stroke:s},M.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),M.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:u}))))},_fe=Sfe,Mfe=n=>{const{componentCls:e,margin:r,marginXS:i,marginXL:o,fontSize:s,lineHeight:l}=n;return{[e]:{marginInline:i,fontSize:s,lineHeight:l,textAlign:"center",[`${e}-image`]:{height:n.emptyImgHeight,marginBottom:i,opacity:n.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${e}-description`]:{color:n.colorText},[`${e}-footer`]:{marginTop:r},"&-normal":{marginBlock:o,color:n.colorTextDisabled,[`${e}-description`]:{color:n.colorTextDisabled},[`${e}-image`]:{height:n.emptyImgHeightMD}},"&-small":{marginBlock:i,color:n.colorTextDisabled,[`${e}-image`]:{height:n.emptyImgHeightSM}}}}},Tfe=ki("Empty",n=>{const{componentCls:e,controlHeightLG:r}=n,i=ei(n,{emptyImgCls:`${e}-img`,emptyImgHeight:r*2.5,emptyImgHeightMD:r,emptyImgHeightSM:r*.875});return[Mfe(i)]});var Rfe=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const m$=M.createElement(wfe,null),g$=M.createElement(_fe,null),bP=n=>{var{className:e,rootClassName:r,prefixCls:i,image:o=m$,description:s,children:l,imageStyle:u,style:c}=n,d=Rfe(n,["className","rootClassName","prefixCls","image","description","children","imageStyle","style"]);const{getPrefixCls:h,direction:p,empty:m}=M.useContext(Er),v=h("empty",i),[y,A]=Tfe(v),[b]=$A("Empty"),g=typeof s<"u"?s:b==null?void 0:b.description,w=typeof g=="string"?g:"empty";let E=null;return typeof o=="string"?E=M.createElement("img",{alt:w,src:o}):E=o,y(M.createElement("div",Object.assign({className:bt(A,v,m==null?void 0:m.className,{[`${v}-normal`]:o===g$,[`${v}-rtl`]:p==="rtl"},e,r),style:Object.assign(Object.assign({},m==null?void 0:m.style),c)},d),M.createElement("div",{className:`${v}-image`,style:u},E),g&&M.createElement("div",{className:`${v}-description`},g),l&&M.createElement("div",{className:`${v}-footer`},l)))};bP.PRESENTED_IMAGE_DEFAULT=m$;bP.PRESENTED_IMAGE_SIMPLE=g$;const Vf=bP,Ife=n=>{const{componentName:e}=n,{getPrefixCls:r}=M.useContext(Er),i=r("empty");switch(e){case"Table":case"List":return Wt.createElement(Vf,{image:Vf.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return Wt.createElement(Vf,{image:Vf.PRESENTED_IMAGE_SIMPLE,className:`${i}-small`});default:return Wt.createElement(Vf,null)}},v$=Ife,Pfe=n=>{const{optionHeight:e,optionFontSize:r,optionLineHeight:i,optionPadding:o}=n;return{position:"relative",display:"block",minHeight:e,padding:o,color:n.colorText,fontWeight:"normal",fontSize:r,lineHeight:i,boxSizing:"border-box"}},Lfe=n=>{const{antCls:e,componentCls:r}=n,i=`${r}-item`,o=`&${e}-slide-up-enter${e}-slide-up-enter-active`,s=`&${e}-slide-up-appear${e}-slide-up-appear-active`,l=`&${e}-slide-up-leave${e}-slide-up-leave-active`,u=`${r}-dropdown-placement-`;return[{[`${r}-dropdown`]:Object.assign(Object.assign({},$i(n)),{position:"absolute",top:-9999,zIndex:n.zIndexPopup,boxSizing:"border-box",padding:n.paddingXXS,overflow:"hidden",fontSize:n.fontSize,fontVariant:"initial",backgroundColor:n.colorBgElevated,borderRadius:n.borderRadiusLG,outline:"none",boxShadow:n.boxShadowSecondary,[`
          ${o}${u}bottomLeft,
          ${s}${u}bottomLeft
        `]:{animationName:lP},[`
          ${o}${u}topLeft,
          ${s}${u}topLeft,
          ${o}${u}topRight,
          ${s}${u}topRight
        `]:{animationName:uP},[`${l}${u}bottomLeft`]:{animationName:cP},[`
          ${l}${u}topLeft,
          ${l}${u}topRight
        `]:{animationName:dP},"&-hidden":{display:"none"},[`${i}`]:Object.assign(Object.assign({},Pfe(n)),{cursor:"pointer",transition:`background ${n.motionDurationSlow} ease`,borderRadius:n.borderRadiusSM,"&-group":{color:n.colorTextDescription,fontSize:n.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},xc),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${i}-option-disabled)`]:{backgroundColor:n.optionActiveBg},[`&-selected:not(${i}-option-disabled)`]:{color:n.optionSelectedColor,fontWeight:n.optionSelectedFontWeight,backgroundColor:n.optionSelectedBg,[`${i}-option-state`]:{color:n.colorPrimary}},"&-disabled":{[`&${i}-option-selected`]:{backgroundColor:n.colorBgContainerDisabled},color:n.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:n.controlPaddingHorizontal*2}}}),"&-rtl":{direction:"rtl"}})},Qd(n,"slide-up"),Qd(n,"slide-down"),oE(n,"move-up"),oE(n,"move-down")]},Bfe=Lfe,vp=2,A$=n=>{let{multipleSelectItemHeight:e,selectHeight:r,lineWidth:i}=n;const o=(r-e)/2-i,s=Math.ceil(o/2);return[o,s]};function G2(n,e){const{componentCls:r,iconCls:i}=n,o=`${r}-selection-overflow`,s=n.multipleSelectItemHeight,[l]=A$(n),u=e?`${r}-${e}`:"";return{[`${r}-multiple${u}`]:{fontSize:n.fontSize,[o]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"}},[`${r}-selector`]:{display:"flex",flexWrap:"wrap",alignItems:"center",height:"100%",padding:`${l-vp}px ${vp*2}px`,borderRadius:n.borderRadius,[`${r}-show-search&`]:{cursor:"text"},[`${r}-disabled&`]:{background:n.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${vp}px 0`,lineHeight:`${s}px`,visibility:"hidden",content:'"\\a0"'}},[`
        &${r}-show-arrow ${r}-selector,
        &${r}-allow-clear ${r}-selector
      `]:{paddingInlineEnd:n.fontSizeIcon+n.controlPaddingHorizontal},[`${r}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",height:s,marginTop:vp,marginBottom:vp,lineHeight:`${s-n.lineWidth*2}px`,background:n.multipleItemBg,border:`${n.lineWidth}px ${n.lineType} ${n.multipleItemBorderColor}`,borderRadius:n.borderRadiusSM,cursor:"default",transition:`font-size ${n.motionDurationSlow}, line-height ${n.motionDurationSlow}, height ${n.motionDurationSlow}`,marginInlineEnd:vp*2,paddingInlineStart:n.paddingXS,paddingInlineEnd:n.paddingXS/2,[`${r}-disabled&`]:{color:n.multipleItemColorDisabled,borderColor:n.multipleItemBorderColorDisabled,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:n.paddingXS/2,overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},gC()),{display:"inline-flex",alignItems:"center",color:n.colorIcon,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${i}`]:{verticalAlign:"-0.2em"},"&:hover":{color:n.colorIconHover}})},[`${o}-item + ${o}-item`]:{[`${r}-selection-search`]:{marginInlineStart:0}},[`${o}-item-suffix`]:{height:"100%"},[`${r}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:n.inputPaddingHorizontalBase-l,"\n          &-input,\n          &-mirror\n        ":{height:s,fontFamily:n.fontFamily,lineHeight:`${s}px`,transition:`all ${n.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${r}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:n.inputPaddingHorizontalBase,insetInlineEnd:n.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${n.motionDurationSlow}`}}}}const Ofe=n=>{const{componentCls:e}=n,r=ei(n,{selectHeight:n.controlHeightSM,multipleSelectItemHeight:n.controlHeightXS,borderRadius:n.borderRadiusSM,borderRadiusSM:n.borderRadiusXS}),i=ei(n,{fontSize:n.fontSizeLG,selectHeight:n.controlHeightLG,multipleSelectItemHeight:n.multipleItemHeightLG,borderRadius:n.borderRadiusLG,borderRadiusSM:n.borderRadius}),[,o]=A$(n);return[G2(n),G2(r,"sm"),{[`${e}-multiple${e}-sm`]:{[`${e}-selection-placeholder`]:{insetInline:n.controlPaddingHorizontalSM-n.lineWidth},[`${e}-selection-search`]:{marginInlineStart:o}}},G2(i,"lg")]},Dfe=Ofe;function V2(n,e){const{componentCls:r,inputPaddingHorizontalBase:i,borderRadius:o}=n,s=n.controlHeight-n.lineWidth*2,l=Math.ceil(n.fontSize*1.25),u=e?`${r}-${e}`:"";return{[`${r}-single${u}`]:{fontSize:n.fontSize,height:n.controlHeight,[`${r}-selector`]:Object.assign(Object.assign({},$i(n,!0)),{display:"flex",borderRadius:o,[`${r}-selection-search`]:{position:"absolute",top:0,insetInlineStart:i,insetInlineEnd:i,bottom:0,"&-input":{width:"100%"}},[`
          ${r}-selection-item,
          ${r}-selection-placeholder
        `]:{padding:0,lineHeight:`${s}px`,transition:`all ${n.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${r}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${r}-selection-item:empty:after`,`${r}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${r}-show-arrow ${r}-selection-item,
        &${r}-show-arrow ${r}-selection-placeholder
      `]:{paddingInlineEnd:l},[`&${r}-open ${r}-selection-item`]:{color:n.colorTextPlaceholder},[`&:not(${r}-customize-input)`]:{[`${r}-selector`]:{width:"100%",height:"100%",padding:`0 ${i}px`,[`${r}-selection-search-input`]:{height:s},"&:after":{lineHeight:`${s}px`}}},[`&${r}-customize-input`]:{[`${r}-selector`]:{"&:after":{display:"none"},[`${r}-selection-search`]:{position:"static",width:"100%"},[`${r}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${i}px`,"&:after":{display:"none"}}}}}}}function Nfe(n){const{componentCls:e}=n,r=n.controlPaddingHorizontalSM-n.lineWidth;return[V2(n),V2(ei(n,{controlHeight:n.controlHeightSM,borderRadius:n.borderRadiusSM}),"sm"),{[`${e}-single${e}-sm`]:{[`&:not(${e}-customize-input)`]:{[`${e}-selection-search`]:{insetInlineStart:r,insetInlineEnd:r},[`${e}-selector`]:{padding:`0 ${r}px`},[`&${e}-show-arrow ${e}-selection-search`]:{insetInlineEnd:r+n.fontSize*1.5},[`
            &${e}-show-arrow ${e}-selection-item,
            &${e}-show-arrow ${e}-selection-placeholder
          `]:{paddingInlineEnd:n.fontSize*1.5}}}},V2(ei(n,{controlHeight:n.singleItemHeightLG,fontSize:n.fontSizeLG,borderRadius:n.borderRadiusLG}),"lg")]}const kfe=n=>{const{componentCls:e,selectorBg:r}=n;return{position:"relative",backgroundColor:r,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,transition:`all ${n.motionDurationMid} ${n.motionEaseInOut}`,input:{cursor:"pointer"},[`${e}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${e}-disabled&`]:{color:n.colorTextDisabled,background:n.colorBgContainerDisabled,cursor:"not-allowed",[`${e}-multiple&`]:{background:n.multipleSelectorBgDisabled},input:{cursor:"not-allowed"}}}},W2=function(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{componentCls:i,borderHoverColor:o,antCls:s,borderActiveColor:l,outlineColor:u,controlOutlineWidth:c}=e,d=r?{[`${i}-selector`]:{borderColor:l}}:{};return{[n]:{[`&:not(${i}-disabled):not(${i}-customize-input):not(${s}-pagination-size-changer)`]:Object.assign(Object.assign({},d),{[`&:hover ${i}-selector`]:{borderColor:o},[`${i}-focused& ${i}-selector`]:{borderColor:l,boxShadow:`0 0 0 ${c}px ${u}`,outline:0}})}}},Ffe=n=>{const{componentCls:e}=n;return{[`${e}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},Ufe=n=>{const{antCls:e,componentCls:r,inputPaddingHorizontalBase:i,iconCls:o}=n;return{[r]:Object.assign(Object.assign({},$i(n)),{position:"relative",display:"inline-block",cursor:"pointer",[`&:not(${r}-customize-input) ${r}-selector`]:Object.assign(Object.assign({},kfe(n)),Ffe(n)),[`${r}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},xc),{[`> ${e}-typography`]:{display:"inline"}}),[`${r}-selection-placeholder`]:Object.assign(Object.assign({},xc),{flex:1,color:n.colorTextPlaceholder,pointerEvents:"none"}),[`${r}-arrow`]:Object.assign(Object.assign({},gC()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:i,height:n.fontSizeIcon,marginTop:-n.fontSizeIcon/2,color:n.colorTextQuaternary,fontSize:n.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",[o]:{verticalAlign:"top",transition:`transform ${n.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${r}-suffix)`]:{pointerEvents:"auto"}},[`${r}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${r}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:i,zIndex:1,display:"inline-block",width:n.fontSizeIcon,height:n.fontSizeIcon,marginTop:-n.fontSizeIcon/2,color:n.colorTextQuaternary,fontSize:n.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",background:n.clearBg,cursor:"pointer",opacity:0,transition:`color ${n.motionDurationMid} ease, opacity ${n.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:n.colorTextTertiary}},"&:hover":{[`${r}-clear`]:{opacity:1}}}),[`${r}-has-feedback`]:{[`${r}-clear`]:{insetInlineEnd:i+n.fontSize+n.paddingXS}}}},zfe=n=>{const{componentCls:e}=n;return[{[e]:{[`&-borderless ${e}-selector`]:{backgroundColor:"transparent !important",borderColor:"transparent !important",boxShadow:"none !important"},[`&${e}-in-form-item`]:{width:"100%"}}},Ufe(n),Nfe(n),Dfe(n),Bfe(n),{[`${e}-rtl`]:{direction:"rtl"}},W2(e,ei(n,{borderHoverColor:n.colorPrimaryHover,borderActiveColor:n.colorPrimary,outlineColor:n.controlOutline})),W2(`${e}-status-error`,ei(n,{borderHoverColor:n.colorErrorHover,borderActiveColor:n.colorError,outlineColor:n.colorErrorOutline}),!0),W2(`${e}-status-warning`,ei(n,{borderHoverColor:n.colorWarningHover,borderActiveColor:n.colorWarning,outlineColor:n.colorWarningOutline}),!0),oP(n,{borderElCls:`${e}-selector`,focusElCls:`${e}-focused`})]},$fe=ki("Select",(n,e)=>{let{rootPrefixCls:r}=e;const i=ei(n,{rootPrefixCls:r,inputPaddingHorizontalBase:n.paddingSM-1,multipleSelectItemHeight:n.multipleItemHeight,selectHeight:n.controlHeight});return[zfe(i)]},n=>{const{fontSize:e,lineHeight:r,controlHeight:i,controlPaddingHorizontal:o,zIndexPopupBase:s,colorText:l,fontWeightStrong:u,controlItemBgActive:c,controlItemBgHover:d,colorBgContainer:h,colorFillSecondary:p,controlHeightLG:m,controlHeightSM:v,colorBgContainerDisabled:y,colorTextDisabled:A}=n;return{zIndexPopup:s+50,optionSelectedColor:l,optionSelectedFontWeight:u,optionSelectedBg:c,optionActiveBg:d,optionPadding:`${(i-e*r)/2}px ${o}px`,optionFontSize:e,optionLineHeight:r,optionHeight:i,selectorBg:h,clearBg:h,singleItemHeightLG:m,multipleItemBg:p,multipleItemBorderColor:"transparent",multipleItemHeight:v,multipleItemHeightLG:i,multipleSelectorBgDisabled:y,multipleItemColorDisabled:A,multipleItemBorderColorDisabled:"transparent"}}),Hfe=n=>{const r={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:n==="scroll"?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},r),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},r),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},r),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},r),{points:["br","tr"],offset:[0,-4]})}};function jfe(n,e){return n||Hfe(e)}function Gfe(n,e){return e!==void 0?e:n!==null}function Vfe(n){let{suffixIcon:e,clearIcon:r,menuItemSelectedIcon:i,removeIcon:o,loading:s,multiple:l,hasFeedback:u,prefixCls:c,showSuffixIcon:d,feedbackIcon:h,showArrow:p,componentName:m}=n;const v=r??M.createElement(zA,null),y=w=>e===null&&!u&&!p?null:M.createElement(M.Fragment,null,d!==!1&&w,u&&h);let A=null;if(e!==void 0)A=y(e);else if(s)A=y(M.createElement(Km,{spin:!0}));else{const w=`${c}-suffix`;A=E=>{let{open:C,showSearch:_}=E;return y(C&&_?M.createElement(kI,{className:w}):M.createElement(wz,{className:w}))}}let b=null;i!==void 0?b=i:l?b=M.createElement(DI,null):b=null;let g=null;return o!==void 0?g=o:g=M.createElement(Mh,null),{clearIcon:v,suffixIcon:A,itemIcon:b,removeIcon:g}}var Wfe=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const y$="SECRET_COMBOBOX_MODE_DO_NOT_USE",Qfe=(n,e)=>{var r,{prefixCls:i,bordered:o=!0,className:s,rootClassName:l,getPopupContainer:u,popupClassName:c,dropdownClassName:d,listHeight:h=256,placement:p,listItemHeight:m=24,size:v,disabled:y,notFoundContent:A,status:b,builtinPlacements:g,dropdownMatchSelectWidth:w,popupMatchSelectWidth:E,direction:C,style:_,allowClear:P}=n,R=Wfe(n,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear"]);const{getPopupContainer:L,getPrefixCls:T,renderEmpty:D,direction:H,virtual:V,popupMatchSelectWidth:B,popupOverflow:O,select:F}=M.useContext(Er),N=T("select",i),z=T(),j=C??H,{compactSize:G,compactItemClassnames:Q}=GA(N,j),[X,J]=$fe(N),Z=M.useMemo(()=>{const{mode:pe}=R;if(pe!=="combobox")return pe===y$?"combobox":pe},[R.mode]),oe=Z==="multiple"||Z==="tags",ce=Gfe(R.suffixIcon,R.showArrow),Be=(r=E??w)!==null&&r!==void 0?r:B,{status:ge,hasFeedback:Re,isFormItemInput:$e,feedbackIcon:qe}=M.useContext(Du),Ke=yP(ge,b);let ke;A!==void 0?ke=A:Z==="combobox"?ke=null:ke=(D==null?void 0:D("Select"))||M.createElement(v$,{componentName:"Select"});const{suffixIcon:st,itemIcon:ot,removeIcon:it,clearIcon:ft}=Vfe(Object.assign(Object.assign({},R),{multiple:oe,hasFeedback:Re,feedbackIcon:qe,showSuffixIcon:ce,prefixCls:N,showArrow:R.showArrow,componentName:"Select"})),Et=P===!0?{clearIcon:ft}:P,gt=co(R,["suffixIcon","itemIcon"]),Ct=bt(c||d,{[`${N}-dropdown-${j}`]:j==="rtl"},l,J),Tt=Jl(pe=>{var _e;return(_e=v??G)!==null&&_e!==void 0?_e:pe}),Dt=M.useContext(ef),Yt=y??Dt,Ve=bt({[`${N}-lg`]:Tt==="large",[`${N}-sm`]:Tt==="small",[`${N}-rtl`]:j==="rtl",[`${N}-borderless`]:!o,[`${N}-in-form-item`]:$e},Pm(N,Ke,Re),Q,F==null?void 0:F.className,s,l,J),ye=M.useMemo(()=>p!==void 0?p:j==="rtl"?"bottomRight":"bottomLeft",[p,j]),fe=jfe(g,O);return X(M.createElement(AP,Object.assign({ref:e,virtual:V,showSearch:F==null?void 0:F.showSearch},gt,{style:Object.assign(Object.assign({},F==null?void 0:F.style),_),dropdownMatchSelectWidth:Be,builtinPlacements:fe,transitionName:tP(z,"slide-up",R.transitionName),listHeight:h,listItemHeight:m,mode:Z,prefixCls:N,placement:ye,direction:j,suffixIcon:st,menuItemSelectedIcon:ot,removeIcon:it,allowClear:Et,notFoundContent:ke,className:Ve,getPopupContainer:u||L,dropdownClassName:Ct,disabled:Yt})))},Ag=M.forwardRef(Qfe),Kfe=Z9(Ag);Ag.SECRET_COMBOBOX_MODE_DO_NOT_USE=y$;Ag.Option=vP;Ag.OptGroup=gP;Ag._InternalPanelDoNotUseOrYouWillBeFired=Kfe;const _C=Ag,xA=["xxl","xl","lg","md","sm","xs"],Xfe=n=>({xs:`(max-width: ${n.screenXSMax}px)`,sm:`(min-width: ${n.screenSM}px)`,md:`(min-width: ${n.screenMD}px)`,lg:`(min-width: ${n.screenLG}px)`,xl:`(min-width: ${n.screenXL}px)`,xxl:`(min-width: ${n.screenXXL}px)`}),qfe=n=>{const e=n,r=[].concat(xA).reverse();return r.forEach((i,o)=>{const s=i.toUpperCase(),l=`screen${s}Min`,u=`screen${s}`;if(!(e[l]<=e[u]))throw new Error(`${l}<=${u} fails : !(${e[l]}<=${e[u]})`);if(o<r.length-1){const c=`screen${s}Max`;if(!(e[u]<=e[c]))throw new Error(`${u}<=${c} fails : !(${e[u]}<=${e[c]})`);const h=`screen${r[o+1].toUpperCase()}Min`;if(!(e[c]<=e[h]))throw new Error(`${c}<=${h} fails : !(${e[c]}<=${e[h]})`)}}),n};function b$(){const[,n]=$s(),e=Xfe(qfe(n));return Wt.useMemo(()=>{const r=new Map;let i=-1,o={};return{matchHandlers:{},dispatch(s){return o=s,r.forEach(l=>l(o)),r.size>=1},subscribe(s){return r.size||this.register(),i+=1,r.set(i,s),s(o),i},unsubscribe(s){r.delete(s),r.size||this.unregister()},unregister(){Object.keys(e).forEach(s=>{const l=e[s],u=this.matchHandlers[l];u==null||u.mql.removeListener(u==null?void 0:u.listener)}),r.clear()},register(){Object.keys(e).forEach(s=>{const l=e[s],u=d=>{let{matches:h}=d;this.dispatch(Object.assign(Object.assign({},o),{[s]:h}))},c=window.matchMedia(l);c.addListener(u),this.matchHandlers[l]={mql:c,listener:u},u(c)})},responsiveMap:e}},[n])}function MC(){const[,n]=M.useReducer(e=>e+1,0);return n}function x$(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const e=M.useRef({}),r=MC(),i=b$();return mi(()=>{const o=i.subscribe(s=>{e.current=s,n&&r()});return()=>i.unsubscribe(o)},[]),e.current}const JN=n=>n?typeof n=="function"?n():n:null;function xP(n){var e=n.children,r=n.prefixCls,i=n.id,o=n.overlayInnerStyle,s=n.className,l=n.style;return M.createElement("div",{className:bt("".concat(r,"-content"),s),style:l},M.createElement("div",{className:"".concat(r,"-inner"),id:i,role:"tooltip",style:o},typeof e=="function"?e():e))}var Ap={shiftX:64,adjustY:1},yp={adjustX:1,shiftY:!0},Ks=[0,0],Yfe={left:{points:["cr","cl"],overflow:yp,offset:[-4,0],targetOffset:Ks},right:{points:["cl","cr"],overflow:yp,offset:[4,0],targetOffset:Ks},top:{points:["bc","tc"],overflow:Ap,offset:[0,-4],targetOffset:Ks},bottom:{points:["tc","bc"],overflow:Ap,offset:[0,4],targetOffset:Ks},topLeft:{points:["bl","tl"],overflow:Ap,offset:[0,-4],targetOffset:Ks},leftTop:{points:["tr","tl"],overflow:yp,offset:[-4,0],targetOffset:Ks},topRight:{points:["br","tr"],overflow:Ap,offset:[0,-4],targetOffset:Ks},rightTop:{points:["tl","tr"],overflow:yp,offset:[4,0],targetOffset:Ks},bottomRight:{points:["tr","br"],overflow:Ap,offset:[0,4],targetOffset:Ks},rightBottom:{points:["bl","br"],overflow:yp,offset:[4,0],targetOffset:Ks},bottomLeft:{points:["tl","bl"],overflow:Ap,offset:[0,4],targetOffset:Ks},leftBottom:{points:["br","bl"],overflow:yp,offset:[-4,0],targetOffset:Ks}},Jfe=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],Zfe=function(e,r){var i=e.overlayClassName,o=e.trigger,s=o===void 0?["hover"]:o,l=e.mouseEnterDelay,u=l===void 0?0:l,c=e.mouseLeaveDelay,d=c===void 0?.1:c,h=e.overlayStyle,p=e.prefixCls,m=p===void 0?"rc-tooltip":p,v=e.children,y=e.onVisibleChange,A=e.afterVisibleChange,b=e.transitionName,g=e.animation,w=e.motion,E=e.placement,C=E===void 0?"right":E,_=e.align,P=_===void 0?{}:_,R=e.destroyTooltipOnHide,L=R===void 0?!1:R,T=e.defaultVisible,D=e.getTooltipContainer,H=e.overlayInnerStyle;e.arrowContent;var V=e.overlay,B=e.id,O=e.showArrow,F=O===void 0?!0:O,N=Br(e,Jfe),z=M.useRef(null);M.useImperativeHandle(r,function(){return z.current});var j=ht({},N);"visible"in e&&(j.popupVisible=e.visible);var G=function(){return M.createElement(xP,{key:"content",prefixCls:m,id:B,overlayInnerStyle:H},V)};return M.createElement(KA,rn({popupClassName:i,prefixCls:m,popup:G,action:s,builtinPlacements:Yfe,popupPlacement:C,ref:z,popupAlign:P,getPopupContainer:D,onPopupVisibleChange:y,afterPopupVisibleChange:A,popupTransitionName:b,popupAnimation:g,popupMotion:w,defaultPopupVisible:T,autoDestroy:L,mouseLeaveDelay:d,popupStyle:h,mouseEnterDelay:u,arrow:F},j),v)};const ehe=M.forwardRef(Zfe),EP=8;function CP(n){const e=EP,{contentRadius:r,limitVerticalRadius:i}=n,o=r>12?r+2:12;return{dropdownArrowOffset:o,dropdownArrowOffsetVertical:i?e:o}}function jb(n,e){return n?e:{}}function wP(n,e){const{componentCls:r,sizePopupArrow:i,borderRadiusXS:o,borderRadiusOuter:s,boxShadowPopoverArrow:l}=n,{colorBg:u,contentRadius:c=n.borderRadiusLG,limitVerticalRadius:d,arrowDistance:h=0,arrowPlacement:p={left:!0,right:!0,top:!0,bottom:!0}}=e,{dropdownArrowOffsetVertical:m,dropdownArrowOffset:v}=CP({contentRadius:c,limitVerticalRadius:d});return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({[`${r}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},Jae(i,o,s,u,l)),{"&:before":{background:u}})]},jb(!!p.top,{[[`&-placement-top ${r}-arrow`,`&-placement-topLeft ${r}-arrow`,`&-placement-topRight ${r}-arrow`].join(",")]:{bottom:h,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft ${r}-arrow`]:{left:{_skip_check_:!0,value:v}},[`&-placement-topRight ${r}-arrow`]:{right:{_skip_check_:!0,value:v}}})),jb(!!p.bottom,{[[`&-placement-bottom ${r}-arrow`,`&-placement-bottomLeft ${r}-arrow`,`&-placement-bottomRight ${r}-arrow`].join(",")]:{top:h,transform:"translateY(-100%)"},[`&-placement-bottom ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},[`&-placement-bottomLeft ${r}-arrow`]:{left:{_skip_check_:!0,value:v}},[`&-placement-bottomRight ${r}-arrow`]:{right:{_skip_check_:!0,value:v}}})),jb(!!p.left,{[[`&-placement-left ${r}-arrow`,`&-placement-leftTop ${r}-arrow`,`&-placement-leftBottom ${r}-arrow`].join(",")]:{right:{_skip_check_:!0,value:h},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop ${r}-arrow`]:{top:m},[`&-placement-leftBottom ${r}-arrow`]:{bottom:m}})),jb(!!p.right,{[[`&-placement-right ${r}-arrow`,`&-placement-rightTop ${r}-arrow`,`&-placement-rightBottom ${r}-arrow`].join(",")]:{left:{_skip_check_:!0,value:h},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop ${r}-arrow`]:{top:m},[`&-placement-rightBottom ${r}-arrow`]:{bottom:m}}))}}function the(n,e,r,i){if(i===!1)return{adjustX:!1,adjustY:!1};const o=i&&typeof i=="object"?i:{},s={};switch(n){case"top":case"bottom":s.shiftX=e.dropdownArrowOffset*2+r,s.shiftY=!0,s.adjustY=!0;break;case"left":case"right":s.shiftY=e.dropdownArrowOffsetVertical*2+r,s.shiftX=!0,s.adjustX=!0;break}const l=Object.assign(Object.assign({},s),o);return l.shiftX||(l.adjustX=!0),l.shiftY||(l.adjustY=!0),l}const ZN={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},nhe={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},rhe=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function SP(n){const{arrowWidth:e,autoAdjustOverflow:r,arrowPointAtCenter:i,offset:o,borderRadius:s,visibleFirst:l}=n,u=e/2,c={};return Object.keys(ZN).forEach(d=>{const h=i&&nhe[d]||ZN[d],p=Object.assign(Object.assign({},h),{offset:[0,0],dynamicInset:!0});switch(c[d]=p,rhe.has(d)&&(p.autoArrow=!1),d){case"top":case"topLeft":case"topRight":p.offset[1]=-u-o;break;case"bottom":case"bottomLeft":case"bottomRight":p.offset[1]=u+o;break;case"left":case"leftTop":case"leftBottom":p.offset[0]=-u-o;break;case"right":case"rightTop":case"rightBottom":p.offset[0]=u+o;break}const m=CP({contentRadius:s,limitVerticalRadius:!0});if(i)switch(d){case"topLeft":case"bottomLeft":p.offset[0]=-m.dropdownArrowOffset-u;break;case"topRight":case"bottomRight":p.offset[0]=m.dropdownArrowOffset+u;break;case"leftTop":case"rightTop":p.offset[1]=-m.dropdownArrowOffset-u;break;case"leftBottom":case"rightBottom":p.offset[1]=m.dropdownArrowOffset+u;break}p.overflow=the(d,m,e,r),l&&(p.htmlRegion="visibleFirst")}),c}const ihe=n=>{const{componentCls:e,tooltipMaxWidth:r,tooltipColor:i,tooltipBg:o,tooltipBorderRadius:s,zIndexPopup:l,controlHeight:u,boxShadowSecondary:c,paddingSM:d,paddingXS:h,tooltipRadiusOuter:p}=n;return[{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},$i(n)),{position:"absolute",zIndex:l,display:"block",width:"max-content",maxWidth:r,visibility:"visible",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","&-hidden":{display:"none"},"--antd-arrow-background-color":o,[`${e}-inner`]:{minWidth:u,minHeight:u,padding:`${d/2}px ${h}px`,color:i,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:o,borderRadius:s,boxShadow:c,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${e}-inner`]:{borderRadius:Math.min(s,EP)}},[`${e}-content`]:{position:"relative"}}),f9(n,(m,v)=>{let{darkColor:y}=v;return{[`&${e}-${m}`]:{[`${e}-inner`]:{backgroundColor:y},[`${e}-arrow`]:{"--antd-arrow-background-color":y}}}})),{"&-rtl":{direction:"rtl"}})},wP(ei(n,{borderRadiusOuter:p}),{colorBg:"var(--antd-arrow-background-color)",contentRadius:s,limitVerticalRadius:!0}),{[`${e}-pure`]:{position:"relative",maxWidth:"none",margin:n.sizePopupArrow}}]},E$=(n,e)=>ki("Tooltip",i=>{if(e===!1)return[];const{borderRadius:o,colorTextLightSolid:s,colorBgDefault:l,borderRadiusOuter:u}=i,c=ei(i,{tooltipMaxWidth:250,tooltipColor:s,tooltipBorderRadius:o,tooltipBg:l,tooltipRadiusOuter:u>4?4:u});return[ihe(c),fP(i,"zoom-big-fast")]},i=>{let{zIndexPopupBase:o,colorBgSpotlight:s}=i;return{zIndexPopup:o+70,colorBgDefault:s}},{resetStyle:!1})(n),ohe=Zx.map(n=>`${n}-inverse`),ahe=["success","processing","error","default","warning"];function C$(n){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat(mn(ohe),mn(Zx)).includes(n):Zx.includes(n)}function she(n){return ahe.includes(n)}function w$(n,e){const r=C$(e),i=bt({[`${n}-${e}`]:e&&r}),o={},s={};return e&&!r&&(o.background=e,s["--antd-arrow-background-color"]=e),{className:i,overlayStyle:o,arrowStyle:s}}const lhe=n=>{const{prefixCls:e,className:r,placement:i="top",title:o,color:s,overlayInnerStyle:l}=n,{getPrefixCls:u}=M.useContext(Er),c=u("tooltip",e),[d,h]=E$(c,!0),p=w$(c,s),m=p.arrowStyle,v=Object.assign(Object.assign({},l),p.overlayStyle),y=bt(h,c,`${c}-pure`,`${c}-placement-${i}`,r,p.className);return d(M.createElement("div",{className:y,style:m},M.createElement("div",{className:`${c}-arrow`}),M.createElement(xP,Object.assign({},n,{className:h,prefixCls:c,overlayInnerStyle:v}),o)))},che=lhe;var uhe=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const S$=M.forwardRef((n,e)=>{var r,i;const{prefixCls:o,openClassName:s,getTooltipContainer:l,overlayClassName:u,color:c,overlayInnerStyle:d,children:h,afterOpenChange:p,afterVisibleChange:m,destroyTooltipOnHide:v,arrow:y=!0,title:A,overlay:b,builtinPlacements:g,arrowPointAtCenter:w=!1,autoAdjustOverflow:E=!0}=n,C=!!y,[,_]=$s(),{getPopupContainer:P,getPrefixCls:R,direction:L}=M.useContext(Er),T=vg(),D=M.useRef(null),H=()=>{var Ct;(Ct=D.current)===null||Ct===void 0||Ct.forceAlign()};M.useImperativeHandle(e,()=>({forceAlign:H,forcePopupAlign:()=>{T.deprecated(!1,"forcePopupAlign","forceAlign"),H()}}));const[V,B]=Co(!1,{value:(r=n.open)!==null&&r!==void 0?r:n.visible,defaultValue:(i=n.defaultOpen)!==null&&i!==void 0?i:n.defaultVisible}),O=!A&&!b&&A!==0,F=Ct=>{var Tt,Dt;B(O?!1:Ct),O||((Tt=n.onOpenChange)===null||Tt===void 0||Tt.call(n,Ct),(Dt=n.onVisibleChange)===null||Dt===void 0||Dt.call(n,Ct))},N=M.useMemo(()=>{var Ct,Tt;let Dt=w;return typeof y=="object"&&(Dt=(Tt=(Ct=y.pointAtCenter)!==null&&Ct!==void 0?Ct:y.arrowPointAtCenter)!==null&&Tt!==void 0?Tt:w),g||SP({arrowPointAtCenter:Dt,autoAdjustOverflow:E,arrowWidth:C?_.sizePopupArrow:0,borderRadius:_.borderRadius,offset:_.marginXXS,visibleFirst:!0})},[w,y,g,_]),z=M.useMemo(()=>A===0?A:b||A||"",[b,A]),j=M.createElement(nE,null,typeof z=="function"?z():z),{getPopupContainer:G,placement:Q="top",mouseEnterDelay:X=.1,mouseLeaveDelay:J=.1,overlayStyle:Z,rootClassName:oe}=n,ce=uhe(n,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),Be=R("tooltip",o),ge=R(),Re=n["data-popover-inject"];let $e=V;!("open"in n)&&!("visible"in n)&&O&&($e=!1);const qe=us(h)&&!M9(h)?h:M.createElement("span",null,h),Ke=qe.props,ke=!Ke.className||typeof Ke.className=="string"?bt(Ke.className,s||`${Be}-open`):Ke.className,[st,ot]=E$(Be,!Re),it=w$(Be,c),ft=it.arrowStyle,Et=Object.assign(Object.assign({},d),it.overlayStyle),gt=bt(u,{[`${Be}-rtl`]:L==="rtl"},it.className,oe,ot);return st(M.createElement(ehe,Object.assign({},ce,{showArrow:C,placement:Q,mouseEnterDelay:X,mouseLeaveDelay:J,prefixCls:Be,overlayClassName:gt,overlayStyle:Object.assign(Object.assign({},ft),Z),getTooltipContainer:G||l||P,ref:D,builtinPlacements:N,overlay:j,visible:$e,onVisibleChange:F,afterVisibleChange:p??m,overlayInnerStyle:Et,arrowContent:M.createElement("span",{className:`${Be}-arrow-content`}),motion:{motionName:tP(ge,"zoom-big-fast",n.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!v}),$e?ya(qe,{className:ke}):qe))});S$._InternalPanelDoNotUseOrYouWillBeFired=che;const xh=S$;globalThis&&globalThis.__rest;const dhe=(n,e,r)=>{if(!(!e&&!r))return M.createElement(M.Fragment,null,e&&M.createElement("div",{className:`${n}-title`},JN(e)),M.createElement("div",{className:`${n}-inner-content`},JN(r)))},fhe=n=>{const{hashId:e,prefixCls:r,className:i,style:o,placement:s="top",title:l,content:u,children:c}=n;return M.createElement("div",{className:bt(e,r,`${r}-pure`,`${r}-placement-${s}`,i),style:o},M.createElement("div",{className:`${r}-arrow`}),M.createElement(xP,Object.assign({},n,{className:e,prefixCls:r}),c||dhe(r,l,u)))};var hhe=An.ESC,phe=An.TAB;function mhe(n){var e=n.visible,r=n.triggerRef,i=n.onVisibleChange,o=n.autoFocus,s=n.overlayRef,l=M.useRef(!1),u=function(){if(e){var p,m;(p=r.current)===null||p===void 0||(m=p.focus)===null||m===void 0||m.call(p),i==null||i(!1)}},c=function(){var p;return(p=s.current)!==null&&p!==void 0&&p.focus?(s.current.focus(),l.current=!0,!0):!1},d=function(p){switch(p.keyCode){case hhe:u();break;case phe:{var m=!1;l.current||(m=c()),m?p.preventDefault():u();break}}};M.useEffect(function(){return e?(window.addEventListener("keydown",d),o&&Oi(c,3),function(){window.removeEventListener("keydown",d),l.current=!1}):function(){l.current=!1}},[e])}var ghe=M.forwardRef(function(n,e){var r=n.overlay,i=n.arrow,o=n.prefixCls,s=M.useMemo(function(){var u;return typeof r=="function"?u=r():u=r,u},[r]),l=zs(e,s==null?void 0:s.ref);return Wt.createElement(Wt.Fragment,null,i&&Wt.createElement("div",{className:"".concat(o,"-arrow")}),Wt.cloneElement(s,{ref:bc(s)?l:void 0}))}),bp={adjustX:1,adjustY:1},xp=[0,0],vhe={topLeft:{points:["bl","tl"],overflow:bp,offset:[0,-4],targetOffset:xp},top:{points:["bc","tc"],overflow:bp,offset:[0,-4],targetOffset:xp},topRight:{points:["br","tr"],overflow:bp,offset:[0,-4],targetOffset:xp},bottomLeft:{points:["tl","bl"],overflow:bp,offset:[0,4],targetOffset:xp},bottom:{points:["tc","bc"],overflow:bp,offset:[0,4],targetOffset:xp},bottomRight:{points:["tr","br"],overflow:bp,offset:[0,4],targetOffset:xp}},Ahe=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function yhe(n,e){var r,i=n.arrow,o=i===void 0?!1:i,s=n.prefixCls,l=s===void 0?"rc-dropdown":s,u=n.transitionName,c=n.animation,d=n.align,h=n.placement,p=h===void 0?"bottomLeft":h,m=n.placements,v=m===void 0?vhe:m,y=n.getPopupContainer,A=n.showAction,b=n.hideAction,g=n.overlayClassName,w=n.overlayStyle,E=n.visible,C=n.trigger,_=C===void 0?["hover"]:C,P=n.autoFocus,R=n.overlay,L=n.children,T=n.onVisibleChange,D=Br(n,Ahe),H=Wt.useState(),V=Ot(H,2),B=V[0],O=V[1],F="visible"in n?E:B,N=Wt.useRef(null),z=Wt.useRef(null),j=Wt.useRef(null);Wt.useImperativeHandle(e,function(){return N.current});var G=function(Re){O(Re),T==null||T(Re)};mhe({visible:F,triggerRef:j,onVisibleChange:G,autoFocus:P,overlayRef:z});var Q=function(Re){var $e=n.onOverlayClick;O(!1),$e&&$e(Re)},X=function(){return Wt.createElement(ghe,{ref:z,overlay:R,prefixCls:l,arrow:o})},J=function(){return typeof R=="function"?X:X()},Z=function(){var Re=n.minOverlayWidthMatchTrigger,$e=n.alignPoint;return"minOverlayWidthMatchTrigger"in n?Re:!$e},oe=function(){var Re=n.openClassName;return Re!==void 0?Re:"".concat(l,"-open")},ce=Wt.cloneElement(L,{className:bt((r=L.props)===null||r===void 0?void 0:r.className,F&&oe()),ref:bc(L)?zs(j,L.ref):void 0}),Be=b;return!Be&&_.indexOf("contextMenu")!==-1&&(Be=["click"]),Wt.createElement(KA,rn({builtinPlacements:v},D,{prefixCls:l,ref:N,popupClassName:bt(g,ct({},"".concat(l,"-show-arrow"),o)),popupStyle:w,action:_,showAction:A,hideAction:Be,popupPlacement:p,popupAlign:d,popupTransitionName:u,popupAnimation:c,popupVisible:F,stretch:Z()?"minWidth":"",popup:J(),onPopupVisibleChange:G,onPopupClick:Q,getPopupContainer:y}),ce)}const _$=Wt.forwardRef(yhe);var M$=M.createContext(null);function _P(n,e){return n===void 0?null:"".concat(n,"-").concat(e)}function T$(n){var e=M.useContext(M$);return _P(e,n)}var bhe=["children","locked"],Kl=M.createContext(null);function xhe(n,e){var r=ht({},n);return Object.keys(e).forEach(function(i){var o=e[i];o!==void 0&&(r[i]=o)}),r}function EA(n){var e=n.children,r=n.locked,i=Br(n,bhe),o=M.useContext(Kl),s=Th(function(){return xhe(o,i)},[o,i],function(l,u){return!r&&(l[0]!==u[0]||!Pu(l[1],u[1],!0))});return M.createElement(Kl.Provider,{value:s},e)}var Ehe=[],R$=M.createContext(null);function TC(){return M.useContext(R$)}var I$=M.createContext(Ehe);function yg(n){var e=M.useContext(I$);return M.useMemo(function(){return n!==void 0?[].concat(mn(e),[n]):e},[e,n])}var P$=M.createContext(null),MP=M.createContext({});function ek(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(AC(n)){var r=n.nodeName.toLowerCase(),i=["input","select","textarea","button"].includes(r)||n.isContentEditable||r==="a"&&!!n.getAttribute("href"),o=n.getAttribute("tabindex"),s=Number(o),l=null;return o&&!Number.isNaN(s)?l=s:i&&l===null&&(l=0),i&&n.disabled&&(l=null),l!==null&&(l>=0||e&&l<0)}return!1}function Che(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=mn(n.querySelectorAll("*")).filter(function(i){return ek(i,e)});return ek(n,e)&&r.unshift(n),r}var g3=An.LEFT,v3=An.RIGHT,A3=An.UP,ax=An.DOWN,sx=An.ENTER,L$=An.ESC,Iv=An.HOME,Pv=An.END,tk=[A3,ax,g3,v3];function whe(n,e,r,i){var o,s,l,u,c="prev",d="next",h="children",p="parent";if(n==="inline"&&i===sx)return{inlineTrigger:!0};var m=(o={},ct(o,A3,c),ct(o,ax,d),o),v=(s={},ct(s,g3,r?d:c),ct(s,v3,r?c:d),ct(s,ax,h),ct(s,sx,h),s),y=(l={},ct(l,A3,c),ct(l,ax,d),ct(l,sx,h),ct(l,L$,p),ct(l,g3,r?h:p),ct(l,v3,r?p:h),l),A={inline:m,horizontal:v,vertical:y,inlineSub:m,horizontalSub:y,verticalSub:y},b=(u=A["".concat(n).concat(e?"":"Sub")])===null||u===void 0?void 0:u[i];switch(b){case c:return{offset:-1,sibling:!0};case d:return{offset:1,sibling:!0};case p:return{offset:-1,sibling:!1};case h:return{offset:1,sibling:!1};default:return null}}function She(n){for(var e=n;e;){if(e.getAttribute("data-menu-list"))return e;e=e.parentElement}return null}function _he(n,e){for(var r=n||document.activeElement;r;){if(e.has(r))return r;r=r.parentElement}return null}function B$(n,e){var r=Che(n,!0);return r.filter(function(i){return e.has(i)})}function nk(n,e,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!n)return null;var o=B$(n,e),s=o.length,l=o.findIndex(function(u){return r===u});return i<0?l===-1?l=s-1:l-=1:i>0&&(l+=1),l=(l+s)%s,o[l]}function Mhe(n,e,r,i,o,s,l,u,c,d){var h=M.useRef(),p=M.useRef();p.current=e;var m=function(){Oi.cancel(h.current)};return M.useEffect(function(){return function(){m()}},[]),function(v){var y=v.which;if([].concat(tk,[sx,L$,Iv,Pv]).includes(y)){var A,b,g,w=function(){A=new Set,b=new Map,g=new Map;var F=s();return F.forEach(function(N){var z=document.querySelector("[data-menu-id='".concat(_P(i,N),"']"));z&&(A.add(z),g.set(z,N),b.set(N,z))}),A};w();var E=b.get(e),C=_he(E,A),_=g.get(C),P=whe(n,l(_,!0).length===1,r,y);if(!P&&y!==Iv&&y!==Pv)return;(tk.includes(y)||[Iv,Pv].includes(y))&&v.preventDefault();var R=function(F){if(F){var N=F,z=F.querySelector("a");z!=null&&z.getAttribute("href")&&(N=z);var j=g.get(F);u(j),m(),h.current=Oi(function(){p.current===j&&N.focus()})}};if([Iv,Pv].includes(y)||P.sibling||!C){var L;!C||n==="inline"?L=o.current:L=She(C);var T,D=B$(L,A);y===Iv?T=D[0]:y===Pv?T=D[D.length-1]:T=nk(L,A,C,P.offset),R(T)}else if(P.inlineTrigger)c(_);else if(P.offset>0)c(_,!0),m(),h.current=Oi(function(){w();var O=C.getAttribute("aria-controls"),F=document.getElementById(O),N=nk(F,A);R(N)},5);else if(P.offset<0){var H=l(_,!0),V=H[H.length-2],B=b.get(V);c(V,!1),R(B)}}d==null||d(v)}}function The(n){Promise.resolve().then(n)}var TP="__RC_UTIL_PATH_SPLIT__",rk=function(e){return e.join(TP)},Rhe=function(e){return e.split(TP)},y3="rc-menu-more";function Ihe(){var n=M.useState({}),e=Ot(n,2),r=e[1],i=M.useRef(new Map),o=M.useRef(new Map),s=M.useState([]),l=Ot(s,2),u=l[0],c=l[1],d=M.useRef(0),h=M.useRef(!1),p=function(){h.current||r({})},m=M.useCallback(function(E,C){var _=rk(C);o.current.set(_,E),i.current.set(E,_),d.current+=1;var P=d.current;The(function(){P===d.current&&p()})},[]),v=M.useCallback(function(E,C){var _=rk(C);o.current.delete(_),i.current.delete(E)},[]),y=M.useCallback(function(E){c(E)},[]),A=M.useCallback(function(E,C){var _=i.current.get(E)||"",P=Rhe(_);return C&&u.includes(P[0])&&P.unshift(y3),P},[u]),b=M.useCallback(function(E,C){return E.some(function(_){var P=A(_,!0);return P.includes(C)})},[A]),g=function(){var C=mn(i.current.keys());return u.length&&C.push(y3),C},w=M.useCallback(function(E){var C="".concat(i.current.get(E)).concat(TP),_=new Set;return mn(o.current.keys()).forEach(function(P){P.startsWith(C)&&_.add(o.current.get(P))}),_},[]);return M.useEffect(function(){return function(){h.current=!0}},[]),{registerPath:m,unregisterPath:v,refreshOverflowKeys:y,isSubPathKey:b,getKeyPath:A,getKeys:g,getSubPathKeys:w}}function f0(n){var e=M.useRef(n);e.current=n;var r=M.useCallback(function(){for(var i,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return(i=e.current)===null||i===void 0?void 0:i.call.apply(i,[e].concat(s))},[]);return n?r:void 0}var Phe=Math.random().toFixed(5).toString().slice(2),ik=0;function Lhe(n){var e=Co(n,{value:n}),r=Ot(e,2),i=r[0],o=r[1];return M.useEffect(function(){ik+=1;var s="".concat(Phe,"-").concat(ik);o("rc-menu-uuid-".concat(s))},[]),i}function O$(n,e,r,i){var o=M.useContext(Kl),s=o.activeKey,l=o.onActive,u=o.onInactive,c={active:s===n};return e||(c.onMouseEnter=function(d){r==null||r({key:n,domEvent:d}),l(n)},c.onMouseLeave=function(d){i==null||i({key:n,domEvent:d}),u(n)}),c}function D$(n){var e=M.useContext(Kl),r=e.mode,i=e.rtl,o=e.inlineIndent;if(r!=="inline")return null;var s=n;return i?{paddingRight:s*o}:{paddingLeft:s*o}}function N$(n){var e=n.icon,r=n.props,i=n.children,o;return e===null||e===!1?null:(typeof e=="function"?o=M.createElement(e,ht({},r)):typeof e!="boolean"&&(o=e),o||i||null)}var Bhe=["item"];function sE(n){var e=n.item,r=Br(n,Bhe);return Object.defineProperty(r,"item",{get:function(){return no(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),e}}),r}var Ohe=["title","attribute","elementRef"],Dhe=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],Nhe=["active"],khe=function(n){ql(r,n);var e=Yl(r);function r(){return ca(this,r),e.apply(this,arguments)}return ua(r,[{key:"render",value:function(){var o=this.props,s=o.title,l=o.attribute,u=o.elementRef,c=Br(o,Ohe),d=co(c,["eventKey","popupClassName","popupOffset","onTitleClick"]);return no(!l,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),M.createElement(Ac.Item,rn({},l,{title:typeof s=="string"?s:void 0},d,{ref:u}))}}]),r}(M.Component),Fhe=M.forwardRef(function(n,e){var r,i=n.style,o=n.className,s=n.eventKey;n.warnKey;var l=n.disabled,u=n.itemIcon,c=n.children,d=n.role,h=n.onMouseEnter,p=n.onMouseLeave,m=n.onClick,v=n.onKeyDown,y=n.onFocus,A=Br(n,Dhe),b=T$(s),g=M.useContext(Kl),w=g.prefixCls,E=g.onItemClick,C=g.disabled,_=g.overflowDisabled,P=g.itemIcon,R=g.selectedKeys,L=g.onActive,T=M.useContext(MP),D=T._internalRenderMenuItem,H="".concat(w,"-item"),V=M.useRef(),B=M.useRef(),O=C||l,F=Rh(e,B),N=yg(s),z=function(qe){return{key:s,keyPath:mn(N).reverse(),item:V.current,domEvent:qe}},j=u||P,G=O$(s,O,h,p),Q=G.active,X=Br(G,Nhe),J=R.includes(s),Z=D$(N.length),oe=function(qe){if(!O){var Ke=z(qe);m==null||m(sE(Ke)),E(Ke)}},ce=function(qe){if(v==null||v(qe),qe.which===An.ENTER){var Ke=z(qe);m==null||m(sE(Ke)),E(Ke)}},Be=function(qe){L(s),y==null||y(qe)},ge={};n.role==="option"&&(ge["aria-selected"]=J);var Re=M.createElement(khe,rn({ref:V,elementRef:F,role:d===null?"none":d||"menuitem",tabIndex:l?null:-1,"data-menu-id":_&&b?null:b},A,X,ge,{component:"li","aria-disabled":l,style:ht(ht({},Z),i),className:bt(H,(r={},ct(r,"".concat(H,"-active"),Q),ct(r,"".concat(H,"-selected"),J),ct(r,"".concat(H,"-disabled"),O),r),o),onClick:oe,onKeyDown:ce,onFocus:Be}),c,M.createElement(N$,{props:ht(ht({},n),{},{isSelected:J}),icon:j}));return D&&(Re=D(Re,n,{selected:J})),Re});function Uhe(n,e){var r=n.eventKey,i=TC(),o=yg(r);return M.useEffect(function(){if(i)return i.registerPath(r,o),function(){i.unregisterPath(r,o)}},[o]),i?null:M.createElement(Fhe,rn({},n,{ref:e}))}const XA=M.forwardRef(Uhe);var zhe=["className","children"],$he=function(e,r){var i=e.className,o=e.children,s=Br(e,zhe),l=M.useContext(Kl),u=l.prefixCls,c=l.mode,d=l.rtl;return M.createElement("ul",rn({className:bt(u,d&&"".concat(u,"-rtl"),"".concat(u,"-sub"),"".concat(u,"-").concat(c==="inline"?"inline":"vertical"),i),role:"menu"},s,{"data-menu-list":!0,ref:r}),o)},RP=M.forwardRef($he);RP.displayName="SubMenuList";function IP(n,e){return qa(n).map(function(r,i){if(M.isValidElement(r)){var o,s,l=r.key,u=(o=(s=r.props)===null||s===void 0?void 0:s.eventKey)!==null&&o!==void 0?o:l,c=u==null;c&&(u="tmp_key-".concat([].concat(mn(e),[i]).join("-")));var d={key:u,eventKey:u};return M.cloneElement(r,d)}return r})}var Ia={adjustX:1,adjustY:1},Hhe={topLeft:{points:["bl","tl"],overflow:Ia},topRight:{points:["br","tr"],overflow:Ia},bottomLeft:{points:["tl","bl"],overflow:Ia},bottomRight:{points:["tr","br"],overflow:Ia},leftTop:{points:["tr","tl"],overflow:Ia},leftBottom:{points:["br","bl"],overflow:Ia},rightTop:{points:["tl","tr"],overflow:Ia},rightBottom:{points:["bl","br"],overflow:Ia}},jhe={topLeft:{points:["bl","tl"],overflow:Ia},topRight:{points:["br","tr"],overflow:Ia},bottomLeft:{points:["tl","bl"],overflow:Ia},bottomRight:{points:["tr","br"],overflow:Ia},rightTop:{points:["tr","tl"],overflow:Ia},rightBottom:{points:["br","bl"],overflow:Ia},leftTop:{points:["tl","tr"],overflow:Ia},leftBottom:{points:["bl","br"],overflow:Ia}};function k$(n,e,r){if(e)return e;if(r)return r[n]||r.other}var Ghe={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function Vhe(n){var e=n.prefixCls,r=n.visible,i=n.children,o=n.popup,s=n.popupStyle,l=n.popupClassName,u=n.popupOffset,c=n.disabled,d=n.mode,h=n.onVisibleChange,p=M.useContext(Kl),m=p.getPopupContainer,v=p.rtl,y=p.subMenuOpenDelay,A=p.subMenuCloseDelay,b=p.builtinPlacements,g=p.triggerSubMenuAction,w=p.forceSubMenuRender,E=p.rootClassName,C=p.motion,_=p.defaultMotions,P=M.useState(!1),R=Ot(P,2),L=R[0],T=R[1],D=ht(v?ht({},jhe):ht({},Hhe),b),H=Ghe[d],V=k$(d,C,_),B=M.useRef(V);d!=="inline"&&(B.current=V);var O=ht(ht({},B.current),{},{leavedClassName:"".concat(e,"-hidden"),removeOnLeave:!1,motionAppear:!0}),F=M.useRef();return M.useEffect(function(){return F.current=Oi(function(){T(r)}),function(){Oi.cancel(F.current)}},[r]),M.createElement(KA,{prefixCls:e,popupClassName:bt("".concat(e,"-popup"),ct({},"".concat(e,"-rtl"),v),l,E),stretch:d==="horizontal"?"minWidth":null,getPopupContainer:m,builtinPlacements:D,popupPlacement:H,popupVisible:L,popup:o,popupStyle:s,popupAlign:u&&{offset:u},action:c?[]:[g],mouseEnterDelay:y,mouseLeaveDelay:A,onPopupVisibleChange:h,forceRender:w,popupMotion:O,fresh:!0},i)}function Whe(n){var e=n.id,r=n.open,i=n.keyPath,o=n.children,s="inline",l=M.useContext(Kl),u=l.prefixCls,c=l.forceSubMenuRender,d=l.motion,h=l.defaultMotions,p=l.mode,m=M.useRef(!1);m.current=p===s;var v=M.useState(!m.current),y=Ot(v,2),A=y[0],b=y[1],g=m.current?r:!1;M.useEffect(function(){m.current&&b(!1)},[p]);var w=ht({},k$(s,d,h));i.length>1&&(w.motionAppear=!1);var E=w.onVisibleChanged;return w.onVisibleChanged=function(C){return!m.current&&!C&&b(!0),E==null?void 0:E(C)},A?null:M.createElement(EA,{mode:s,locked:!m.current},M.createElement(Sc,rn({visible:g},w,{forceRender:c,removeOnLeave:!1,leavedClassName:"".concat(u,"-hidden")}),function(C){var _=C.className,P=C.style;return M.createElement(RP,{id:e,className:_,style:P},o)}))}var Qhe=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],Khe=["active"],Xhe=function(e){var r,i=e.style,o=e.className,s=e.title,l=e.eventKey;e.warnKey;var u=e.disabled,c=e.internalPopupClose,d=e.children,h=e.itemIcon,p=e.expandIcon,m=e.popupClassName,v=e.popupOffset,y=e.popupStyle,A=e.onClick,b=e.onMouseEnter,g=e.onMouseLeave,w=e.onTitleClick,E=e.onTitleMouseEnter,C=e.onTitleMouseLeave,_=Br(e,Qhe),P=T$(l),R=M.useContext(Kl),L=R.prefixCls,T=R.mode,D=R.openKeys,H=R.disabled,V=R.overflowDisabled,B=R.activeKey,O=R.selectedKeys,F=R.itemIcon,N=R.expandIcon,z=R.onItemClick,j=R.onOpenChange,G=R.onActive,Q=M.useContext(MP),X=Q._internalRenderSubMenuItem,J=M.useContext(P$),Z=J.isSubPathKey,oe=yg(),ce="".concat(L,"-submenu"),Be=H||u,ge=M.useRef(),Re=M.useRef(),$e=h??F,qe=p??N,Ke=D.includes(l),ke=!V&&Ke,st=Z(O,l),ot=O$(l,Be,E,C),it=ot.active,ft=Br(ot,Khe),Et=M.useState(!1),gt=Ot(Et,2),Ct=gt[0],Tt=gt[1],Dt=function(Y){Be||Tt(Y)},Yt=function(Y){Dt(!0),b==null||b({key:l,domEvent:Y})},Ve=function(Y){Dt(!1),g==null||g({key:l,domEvent:Y})},ye=M.useMemo(function(){return it||(T!=="inline"?Ct||Z([B],l):!1)},[T,it,B,Ct,l,Z]),fe=D$(oe.length),pe=function(Y){Be||(w==null||w({key:l,domEvent:Y}),T==="inline"&&j(l,!Ke))},_e=f0(function(ue){A==null||A(sE(ue)),z(ue)}),Ce=function(Y){T!=="inline"&&j(l,Y)},Se=function(){G(l)},we=P&&"".concat(P,"-popup"),je=M.createElement("div",rn({role:"menuitem",style:fe,className:"".concat(ce,"-title"),tabIndex:Be?null:-1,ref:ge,title:typeof s=="string"?s:null,"data-menu-id":V&&P?null:P,"aria-expanded":ke,"aria-haspopup":!0,"aria-controls":we,"aria-disabled":Be,onClick:pe,onFocus:Se},ft),s,M.createElement(N$,{icon:T!=="horizontal"?qe:void 0,props:ht(ht({},e),{},{isOpen:ke,isSubMenu:!0})},M.createElement("i",{className:"".concat(ce,"-arrow")}))),Ae=M.useRef(T);if(T!=="inline"&&oe.length>1?Ae.current="vertical":Ae.current=T,!V){var Ue=Ae.current;je=M.createElement(Vhe,{mode:Ue,prefixCls:ce,visible:!c&&ke&&T!=="inline",popupClassName:m,popupOffset:v,popupStyle:y,popup:M.createElement(EA,{mode:Ue==="horizontal"?"vertical":Ue},M.createElement(RP,{id:we,ref:Re},d)),disabled:Be,onVisibleChange:Ce},je)}var et=M.createElement(Ac.Item,rn({role:"none"},_,{component:"li",style:i,className:bt(ce,"".concat(ce,"-").concat(T),o,(r={},ct(r,"".concat(ce,"-open"),ke),ct(r,"".concat(ce,"-active"),ye),ct(r,"".concat(ce,"-selected"),st),ct(r,"".concat(ce,"-disabled"),Be),r)),onMouseEnter:Yt,onMouseLeave:Ve}),je,!V&&M.createElement(Whe,{id:we,open:ke,keyPath:oe},d));return X&&(et=X(et,e,{selected:st,active:ye,open:ke,disabled:Be})),M.createElement(EA,{onItemClick:_e,mode:T==="horizontal"?"vertical":T,itemIcon:$e,expandIcon:qe},et)};function RC(n){var e=n.eventKey,r=n.children,i=yg(e),o=IP(r,i),s=TC();M.useEffect(function(){if(s)return s.registerPath(e,i),function(){s.unregisterPath(e,i)}},[i]);var l;return s?l=o:l=M.createElement(Xhe,n,o),M.createElement(I$.Provider,{value:i},l)}var qhe=["className","title","eventKey","children"],Yhe=["children"],Jhe=function(e){var r=e.className,i=e.title;e.eventKey;var o=e.children,s=Br(e,qhe),l=M.useContext(Kl),u=l.prefixCls,c="".concat(u,"-item-group");return M.createElement("li",rn({role:"presentation"},s,{onClick:function(h){return h.stopPropagation()},className:bt(c,r)}),M.createElement("div",{role:"presentation",className:"".concat(c,"-title"),title:typeof i=="string"?i:void 0},i),M.createElement("ul",{role:"group",className:"".concat(c,"-list")},o))};function IC(n){var e=n.children,r=Br(n,Yhe),i=yg(r.eventKey),o=IP(e,i),s=TC();return s?o:M.createElement(Jhe,co(r,["warnKey"]),o)}function PP(n){var e=n.className,r=n.style,i=M.useContext(Kl),o=i.prefixCls,s=TC();return s?null:M.createElement("li",{role:"separator",className:bt("".concat(o,"-item-divider"),e),style:r})}var Zhe=["label","children","key","type"];function b3(n){return(n||[]).map(function(e,r){if(e&&Tr(e)==="object"){var i=e,o=i.label,s=i.children,l=i.key,u=i.type,c=Br(i,Zhe),d=l??"tmp-".concat(r);return s||u==="group"?u==="group"?M.createElement(IC,rn({key:d},c,{title:o}),b3(s)):M.createElement(RC,rn({key:d},c,{title:o}),b3(s)):u==="divider"?M.createElement(PP,rn({key:d},c)):M.createElement(XA,rn({key:d},c),o)}return null}).filter(function(e){return e})}function epe(n,e,r){var i=n;return e&&(i=b3(e)),IP(i,r)}var tpe=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],Ep=[],npe=M.forwardRef(function(n,e){var r,i,o=n,s=o.prefixCls,l=s===void 0?"rc-menu":s,u=o.rootClassName,c=o.style,d=o.className,h=o.tabIndex,p=h===void 0?0:h,m=o.items,v=o.children,y=o.direction,A=o.id,b=o.mode,g=b===void 0?"vertical":b,w=o.inlineCollapsed,E=o.disabled,C=o.disabledOverflow,_=o.subMenuOpenDelay,P=_===void 0?.1:_,R=o.subMenuCloseDelay,L=R===void 0?.1:R,T=o.forceSubMenuRender,D=o.defaultOpenKeys,H=o.openKeys,V=o.activeKey,B=o.defaultActiveFirst,O=o.selectable,F=O===void 0?!0:O,N=o.multiple,z=N===void 0?!1:N,j=o.defaultSelectedKeys,G=o.selectedKeys,Q=o.onSelect,X=o.onDeselect,J=o.inlineIndent,Z=J===void 0?24:J,oe=o.motion,ce=o.defaultMotions,Be=o.triggerSubMenuAction,ge=Be===void 0?"hover":Be,Re=o.builtinPlacements,$e=o.itemIcon,qe=o.expandIcon,Ke=o.overflowedIndicator,ke=Ke===void 0?"...":Ke,st=o.overflowedIndicatorPopupClassName,ot=o.getPopupContainer,it=o.onClick,ft=o.onOpenChange,Et=o.onKeyDown;o.openAnimation,o.openTransitionName;var gt=o._internalRenderMenuItem,Ct=o._internalRenderSubMenuItem,Tt=Br(o,tpe),Dt=M.useMemo(function(){return epe(v,m,Ep)},[v,m]),Yt=M.useState(!1),Ve=Ot(Yt,2),ye=Ve[0],fe=Ve[1],pe=M.useRef(),_e=Lhe(A),Ce=y==="rtl",Se=Co(D,{value:H,postState:function(bn){return bn||Ep}}),we=Ot(Se,2),je=we[0],Ae=we[1],Ue=function(bn){var qn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function Gn(){Ae(bn),ft==null||ft(bn)}qn?Ns.flushSync(Gn):Gn()},et=M.useState(je),ue=Ot(et,2),Y=ue[0],ne=ue[1],Pe=M.useRef(!1),We=M.useMemo(function(){return(g==="inline"||g==="vertical")&&w?["vertical",w]:[g,!1]},[g,w]),ve=Ot(We,2),he=ve[0],Ye=ve[1],Ze=he==="inline",Qe=M.useState(he),nt=Ot(Qe,2),It=nt[0],kt=nt[1],Bt=M.useState(Ye),jt=Ot(Bt,2),Vt=jt[0],Lt=jt[1];M.useEffect(function(){kt(he),Lt(Ye),Pe.current&&(Ze?Ae(Y):Ue(Ep))},[he,Ye]);var mt=M.useState(0),Nt=Ot(mt,2),cn=Nt[0],Jt=Nt[1],Sn=cn>=Dt.length-1||It!=="horizontal"||C;M.useEffect(function(){Ze&&ne(je)},[je]),M.useEffect(function(){return Pe.current=!0,function(){Pe.current=!1}},[]);var yn=Ihe(),Ln=yn.registerPath,rr=yn.unregisterPath,jn=yn.refreshOverflowKeys,Fn=yn.isSubPathKey,Cn=yn.getKeyPath,Oe=yn.getKeys,lt=yn.getSubPathKeys,wt=M.useMemo(function(){return{registerPath:Ln,unregisterPath:rr}},[Ln,rr]),xe=M.useMemo(function(){return{isSubPathKey:Fn}},[Fn]);M.useEffect(function(){jn(Sn?Ep:Dt.slice(cn+1).map(function(Zt){return Zt.key}))},[cn,Sn]);var De=Co(V||B&&((r=Dt[0])===null||r===void 0?void 0:r.key),{value:V}),tt=Ot(De,2),St=tt[0],Mt=tt[1],Ut=f0(function(Zt){Mt(Zt)}),Kt=f0(function(){Mt(void 0)});M.useImperativeHandle(e,function(){return{list:pe.current,focus:function(bn){var qn,Gn=St??((qn=Dt.find(function(Fe){return!Fe.props.disabled}))===null||qn===void 0?void 0:qn.key);if(Gn){var re,se,Me;(re=pe.current)===null||re===void 0||(se=re.querySelector("li[data-menu-id='".concat(_P(_e,Gn),"']")))===null||se===void 0||(Me=se.focus)===null||Me===void 0||Me.call(se,bn)}}}});var gn=Co(j||[],{value:G,postState:function(bn){return Array.isArray(bn)?bn:bn==null?Ep:[bn]}}),sn=Ot(gn,2),Xt=sn[0],$n=sn[1],Nn=function(bn){if(F){var qn=bn.key,Gn=Xt.includes(qn),re;z?Gn?re=Xt.filter(function(Me){return Me!==qn}):re=[].concat(mn(Xt),[qn]):re=[qn],$n(re);var se=ht(ht({},bn),{},{selectedKeys:re});Gn?X==null||X(se):Q==null||Q(se)}!z&&je.length&&It!=="inline"&&Ue(Ep)},er=f0(function(Zt){it==null||it(sE(Zt)),Nn(Zt)}),br=f0(function(Zt,bn){var qn=je.filter(function(re){return re!==Zt});if(bn)qn.push(Zt);else if(It!=="inline"){var Gn=lt(Zt);qn=qn.filter(function(re){return!Gn.has(re)})}Pu(je,qn,!0)||Ue(qn,!0)}),kn=function(bn,qn){var Gn=qn??!je.includes(bn);br(bn,Gn)},fr=Mhe(It,St,Ce,_e,pe,Oe,Cn,Mt,kn,Et);M.useEffect(function(){fe(!0)},[]);var sr=M.useMemo(function(){return{_internalRenderMenuItem:gt,_internalRenderSubMenuItem:Ct}},[gt,Ct]),Nr=It!=="horizontal"||C?Dt:Dt.map(function(Zt,bn){return M.createElement(EA,{key:Zt.key,overflowDisabled:bn>cn},Zt)}),or=M.createElement(Ac,rn({id:A,ref:pe,prefixCls:"".concat(l,"-overflow"),component:"ul",itemComponent:XA,className:bt(l,"".concat(l,"-root"),"".concat(l,"-").concat(It),d,(i={},ct(i,"".concat(l,"-inline-collapsed"),Vt),ct(i,"".concat(l,"-rtl"),Ce),i),u),dir:y,style:c,role:"menu",tabIndex:p,data:Nr,renderRawItem:function(bn){return bn},renderRawRest:function(bn){var qn=bn.length,Gn=qn?Dt.slice(-qn):null;return M.createElement(RC,{eventKey:y3,title:ke,disabled:Sn,internalPopupClose:qn===0,popupClassName:st},Gn)},maxCount:It!=="horizontal"||C?Ac.INVALIDATE:Ac.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(bn){Jt(bn)},onKeyDown:fr},Tt));return M.createElement(MP.Provider,{value:sr},M.createElement(M$.Provider,{value:_e},M.createElement(EA,{prefixCls:l,rootClassName:u,mode:It,openKeys:je,rtl:Ce,disabled:E,motion:ye?oe:null,defaultMotions:ye?ce:null,activeKey:St,onActive:Ut,onInactive:Kt,selectedKeys:Xt,inlineIndent:Z,subMenuOpenDelay:P,subMenuCloseDelay:L,forceSubMenuRender:T,builtinPlacements:Re,triggerSubMenuAction:ge,getPopupContainer:ot,itemIcon:$e,expandIcon:qe,onItemClick:er,onOpenChange:br},M.createElement(P$.Provider,{value:xe},or),M.createElement("div",{style:{display:"none"},"aria-hidden":!0},M.createElement(R$.Provider,{value:wt},Dt)))))}),bg=npe;bg.Item=XA;bg.SubMenu=RC;bg.ItemGroup=IC;bg.Divider=PP;const rpe=n=>!isNaN(parseFloat(n))&&isFinite(n),ipe=rpe,F$=M.createContext({siderHook:{addSider:()=>null,removeSider:()=>null}});var ope=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const ok={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},LP=M.createContext({}),ape=(()=>{let n=0;return function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return n+=1,`${e}${n}`}})(),spe=M.forwardRef((n,e)=>{const{prefixCls:r,className:i,trigger:o,children:s,defaultCollapsed:l=!1,theme:u="dark",style:c={},collapsible:d=!1,reverseArrow:h=!1,width:p=200,collapsedWidth:m=80,zeroWidthTriggerStyle:v,breakpoint:y,onCollapse:A,onBreakpoint:b}=n,g=ope(n,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),{siderHook:w}=M.useContext(F$),[E,C]=M.useState("collapsed"in n?n.collapsed:l),[_,P]=M.useState(!1);M.useEffect(()=>{"collapsed"in n&&C(n.collapsed)},[n.collapsed]);const R=(B,O)=>{"collapsed"in n||C(B),A==null||A(B,O)},L=M.useRef();L.current=B=>{P(B.matches),b==null||b(B.matches),E!==B.matches&&R(B.matches,"responsive")},M.useEffect(()=>{function B(F){return L.current(F)}let O;if(typeof window<"u"){const{matchMedia:F}=window;if(F&&y&&y in ok){O=F(`(max-width: ${ok[y]})`);try{O.addEventListener("change",B)}catch{O.addListener(B)}B(O)}}return()=>{try{O==null||O.removeEventListener("change",B)}catch{O==null||O.removeListener(B)}}},[y]),M.useEffect(()=>{const B=ape("ant-sider-");return w.addSider(B),()=>w.removeSider(B)},[]);const T=()=>{R(!E,"clickTrigger")},{getPrefixCls:D}=M.useContext(Er),H=()=>{const B=D("layout-sider",r),O=co(g,["collapsed"]),F=E?m:p,N=ipe(F)?`${F}px`:String(F),z=parseFloat(String(m||0))===0?M.createElement("span",{onClick:T,className:bt(`${B}-zero-width-trigger`,`${B}-zero-width-trigger-${h?"right":"left"}`),style:v},o||M.createElement(sne,null)):null,Q={expanded:h?M.createElement(fA,null):M.createElement(Qx,null),collapsed:h?M.createElement(Qx,null):M.createElement(fA,null)}[E?"collapsed":"expanded"],X=o!==null?z||M.createElement("div",{className:`${B}-trigger`,onClick:T,style:{width:N}},o||Q):null,J=Object.assign(Object.assign({},c),{flex:`0 0 ${N}`,maxWidth:N,minWidth:N,width:N}),Z=bt(B,`${B}-${u}`,{[`${B}-collapsed`]:!!E,[`${B}-has-trigger`]:d&&o!==null&&!z,[`${B}-below`]:!!_,[`${B}-zero-width`]:parseFloat(N)===0},i);return M.createElement("aside",Object.assign({className:Z},O,{style:J,ref:e}),M.createElement("div",{className:`${B}-children`},s),d||_&&z?X:null)},V=M.useMemo(()=>({siderCollapsed:E}),[E]);return M.createElement(LP.Provider,{value:V},H())}),U$=spe;var lpe=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const cpe=n=>{const{prefixCls:e,className:r,dashed:i}=n,o=lpe(n,["prefixCls","className","dashed"]),{getPrefixCls:s}=M.useContext(Er),l=s("menu",e),u=bt({[`${l}-item-divider-dashed`]:!!i},r);return M.createElement(PP,Object.assign({className:u},o))},z$=cpe,upe=M.createContext({prefixCls:"",firstLevel:!0,inlineCollapsed:!1}),lE=upe,dpe=n=>{var e;const{className:r,children:i,icon:o,title:s,danger:l}=n,{prefixCls:u,firstLevel:c,direction:d,disableMenuItemTitleTooltip:h,inlineCollapsed:p}=M.useContext(lE),m=w=>{const E=M.createElement("span",{className:`${u}-title-content`},i);return(!o||us(i)&&i.type==="span")&&i&&w&&c&&typeof i=="string"?M.createElement("div",{className:`${u}-inline-collapsed-noicon`},i.charAt(0)):E},{siderCollapsed:v}=M.useContext(LP);let y=s;typeof s>"u"?y=c?i:"":s===!1&&(y="");const A={title:y};!v&&!p&&(A.title=null,A.open=!1);const b=qa(i).length;let g=M.createElement(XA,Object.assign({},co(n,["title","icon","danger"]),{className:bt({[`${u}-item-danger`]:l,[`${u}-item-only-child`]:(o?b+1:b)===1},r),title:typeof s=="string"?s:void 0}),ya(o,{className:bt(us(o)?(e=o.props)===null||e===void 0?void 0:e.className:"",`${u}-item-icon`)}),m(p));return h||(g=M.createElement(xh,Object.assign({},A,{placement:d==="rtl"?"left":"right",overlayClassName:`${u}-inline-collapsed-tooltip`}),g)),g},$$=dpe,fpe=n=>{var e;const{popupClassName:r,icon:i,title:o,theme:s}=n,l=M.useContext(lE),{prefixCls:u,inlineCollapsed:c,theme:d}=l,h=yg();let p;if(!i)p=c&&!h.length&&o&&typeof o=="string"?M.createElement("div",{className:`${u}-inline-collapsed-noicon`},o.charAt(0)):M.createElement("span",{className:`${u}-title-content`},o);else{const v=us(o)&&o.type==="span";p=M.createElement(M.Fragment,null,ya(i,{className:bt(us(i)?(e=i.props)===null||e===void 0?void 0:e.className:"",`${u}-item-icon`)}),v?o:M.createElement("span",{className:`${u}-title-content`},o))}const m=M.useMemo(()=>Object.assign(Object.assign({},l),{firstLevel:!1}),[l]);return M.createElement(lE.Provider,{value:m},M.createElement(RC,Object.assign({},co(n,["icon"]),{title:p,popupClassName:bt(u,r,`${u}-${s||d}`)})))},H$=fpe;var hpe=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};function x3(n){return(n||[]).map((e,r)=>{if(e&&typeof e=="object"){const i=e,{label:o,children:s,key:l,type:u}=i,c=hpe(i,["label","children","key","type"]),d=l??`tmp-${r}`;return s||u==="group"?u==="group"?M.createElement(IC,Object.assign({key:d},c,{title:o}),x3(s)):M.createElement(H$,Object.assign({key:d},c,{title:o}),x3(s)):u==="divider"?M.createElement(z$,Object.assign({key:d},c)):M.createElement($$,Object.assign({key:d},c),o)}return null}).filter(e=>e)}function ppe(n){return M.useMemo(()=>n&&x3(n),[n])}var mpe=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const E3=M.createContext(null),j$=M.forwardRef((n,e)=>{const{children:r}=n,i=mpe(n,["children"]),o=M.useContext(E3),s=M.useMemo(()=>Object.assign(Object.assign({},o),i),[o,i.prefixCls,i.mode,i.selectable]),l=Qie(r),u=Rh(e,l?r.ref:null);return M.createElement(E3.Provider,{value:s},M.createElement(nE,null,l?M.cloneElement(r,{ref:u}):r))}),ak=E3,gpe=n=>{const{componentCls:e,motionDurationSlow:r,horizontalLineHeight:i,colorSplit:o,lineWidth:s,lineType:l,itemPaddingInline:u}=n;return{[`${e}-horizontal`]:{lineHeight:i,border:0,borderBottom:`${s}px ${l} ${o}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${e}-item, ${e}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:u},[`> ${e}-item:hover,
        > ${e}-item-active,
        > ${e}-submenu ${e}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${e}-item, ${e}-submenu-title`]:{transition:[`border-color ${r}`,`background ${r}`].join(",")},[`${e}-submenu-arrow`]:{display:"none"}}}},vpe=gpe,Ape=n=>{let{componentCls:e,menuArrowOffset:r}=n;return{[`${e}-rtl`]:{direction:"rtl"},[`${e}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${e}-rtl${e}-vertical,
    ${e}-submenu-rtl ${e}-vertical`]:{[`${e}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(-${r})`},"&::after":{transform:`rotate(45deg) translateY(${r})`}}}}},ype=Ape,sk=n=>Object.assign({},Bu(n)),bpe=(n,e)=>{const{componentCls:r,itemColor:i,itemSelectedColor:o,groupTitleColor:s,itemBg:l,subMenuItemBg:u,itemSelectedBg:c,activeBarHeight:d,activeBarWidth:h,activeBarBorderWidth:p,motionDurationSlow:m,motionEaseInOut:v,motionEaseOut:y,itemPaddingInline:A,motionDurationMid:b,itemHoverColor:g,lineType:w,colorSplit:E,itemDisabledColor:C,dangerItemColor:_,dangerItemHoverColor:P,dangerItemSelectedColor:R,dangerItemActiveBg:L,dangerItemSelectedBg:T,itemHoverBg:D,itemActiveBg:H,menuSubMenuBg:V,horizontalItemSelectedColor:B,horizontalItemSelectedBg:O,horizontalItemBorderRadius:F,horizontalItemHoverBg:N,popupBg:z}=n;return{[`${r}-${e}, ${r}-${e} > ${r}`]:{color:i,background:l,[`&${r}-root:focus-visible`]:Object.assign({},sk(n)),[`${r}-item-group-title`]:{color:s},[`${r}-submenu-selected`]:{[`> ${r}-submenu-title`]:{color:o}},[`${r}-item-disabled, ${r}-submenu-disabled`]:{color:`${C} !important`},[`${r}-item:not(${r}-item-selected):not(${r}-submenu-selected)`]:{[`&:hover, > ${r}-submenu-title:hover`]:{color:g}},[`&:not(${r}-horizontal)`]:{[`${r}-item:not(${r}-item-selected)`]:{"&:hover":{backgroundColor:D},"&:active":{backgroundColor:H}},[`${r}-submenu-title`]:{"&:hover":{backgroundColor:D},"&:active":{backgroundColor:H}}},[`${r}-item-danger`]:{color:_,[`&${r}-item:hover`]:{[`&:not(${r}-item-selected):not(${r}-submenu-selected)`]:{color:P}},[`&${r}-item:active`]:{background:L}},[`${r}-item a`]:{"&, &:hover":{color:"inherit"}},[`${r}-item-selected`]:{color:o,[`&${r}-item-danger`]:{color:R},"a, a:hover":{color:"inherit"}},[`& ${r}-item-selected`]:{backgroundColor:c,[`&${r}-item-danger`]:{backgroundColor:T}},[`${r}-item, ${r}-submenu-title`]:{[`&:not(${r}-item-disabled):focus-visible`]:Object.assign({},sk(n))},[`&${r}-submenu > ${r}`]:{backgroundColor:V},[`&${r}-popup > ${r}`]:{backgroundColor:z},[`&${r}-horizontal`]:Object.assign(Object.assign({},e==="dark"?{borderBottom:0}:{}),{[`> ${r}-item, > ${r}-submenu`]:{top:p,marginTop:-p,marginBottom:0,borderRadius:F,"&::after":{position:"absolute",insetInline:A,bottom:0,borderBottom:`${d}px solid transparent`,transition:`border-color ${m} ${v}`,content:'""'},"&:hover, &-active, &-open":{background:N,"&::after":{borderBottomWidth:d,borderBottomColor:B}},"&-selected":{color:B,backgroundColor:O,"&:hover":{backgroundColor:O},"&::after":{borderBottomWidth:d,borderBottomColor:B}}}}),[`&${r}-root`]:{[`&${r}-inline, &${r}-vertical`]:{borderInlineEnd:`${p}px ${w} ${E}`}},[`&${r}-inline`]:{[`${r}-sub${r}-inline`]:{background:u},[`${r}-item, ${r}-submenu-title`]:p&&h?{width:`calc(100% + ${p}px)`}:{},[`${r}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${h}px solid ${o}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${b} ${y}`,`opacity ${b} ${y}`].join(","),content:'""'},[`&${r}-item-danger`]:{"&::after":{borderInlineEndColor:R}}},[`${r}-selected, ${r}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${b} ${v}`,`opacity ${b} ${v}`].join(",")}}}}}},lk=bpe,ck=n=>{const{componentCls:e,itemHeight:r,itemMarginInline:i,padding:o,menuArrowSize:s,marginXS:l,itemMarginBlock:u}=n,c=o+s+l;return{[`${e}-item`]:{position:"relative",overflow:"hidden"},[`${e}-item, ${e}-submenu-title`]:{height:r,lineHeight:`${r}px`,paddingInline:o,overflow:"hidden",textOverflow:"ellipsis",marginInline:i,marginBlock:u,width:`calc(100% - ${i*2}px)`},[`> ${e}-item,
            > ${e}-submenu > ${e}-submenu-title`]:{height:r,lineHeight:`${r}px`},[`${e}-item-group-list ${e}-submenu-title,
            ${e}-submenu-title`]:{paddingInlineEnd:c}}},xpe=n=>{const{componentCls:e,iconCls:r,itemHeight:i,colorTextLightSolid:o,dropdownWidth:s,controlHeightLG:l,motionDurationMid:u,motionEaseOut:c,paddingXL:d,itemMarginInline:h,fontSizeLG:p,motionDurationSlow:m,paddingXS:v,boxShadowSecondary:y,collapsedWidth:A,collapsedIconSize:b}=n,g={height:i,lineHeight:`${i}px`,listStylePosition:"inside",listStyleType:"disc"};return[{[e]:{"&-inline, &-vertical":Object.assign({[`&${e}-root`]:{boxShadow:"none"}},ck(n))},[`${e}-submenu-popup`]:{[`${e}-vertical`]:Object.assign(Object.assign({},ck(n)),{boxShadow:y})}},{[`${e}-submenu-popup ${e}-vertical${e}-sub`]:{minWidth:s,maxHeight:`calc(100vh - ${l*2.5}px)`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${e}-inline`]:{width:"100%",[`&${e}-root`]:{[`${e}-item, ${e}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${m}`,`background ${m}`,`padding ${u} ${c}`].join(","),[`> ${e}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${e}-sub${e}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${e}-submenu > ${e}-submenu-title`]:g,[`& ${e}-item-group-title`]:{paddingInlineStart:d}},[`${e}-item`]:g}},{[`${e}-inline-collapsed`]:{width:A,[`&${e}-root`]:{[`${e}-item, ${e}-submenu ${e}-submenu-title`]:{[`> ${e}-inline-collapsed-noicon`]:{fontSize:p,textAlign:"center"}}},[`> ${e}-item,
          > ${e}-item-group > ${e}-item-group-list > ${e}-item,
          > ${e}-item-group > ${e}-item-group-list > ${e}-submenu > ${e}-submenu-title,
          > ${e}-submenu > ${e}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${p/2}px - ${h}px)`,textOverflow:"clip",[`
            ${e}-submenu-arrow,
            ${e}-submenu-expand-icon
          `]:{opacity:0},[`${e}-item-icon, ${r}`]:{margin:0,fontSize:b,lineHeight:`${i}px`,"+ span":{display:"inline-block",opacity:0}}},[`${e}-item-icon, ${r}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${e}-item-icon, ${r}`]:{display:"none"},"a, a:hover":{color:o}},[`${e}-item-group-title`]:Object.assign(Object.assign({},xc),{paddingInline:v})}}]},Epe=xpe,uk=n=>{const{componentCls:e,motionDurationSlow:r,motionDurationMid:i,motionEaseInOut:o,motionEaseOut:s,iconCls:l,iconSize:u,iconMarginInlineEnd:c}=n;return{[`${e}-item, ${e}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${r}`,`background ${r}`,`padding ${r} ${o}`].join(","),[`${e}-item-icon, ${l}`]:{minWidth:u,fontSize:u,transition:[`font-size ${i} ${s}`,`margin ${r} ${o}`,`color ${r}`].join(","),"+ span":{marginInlineStart:c,opacity:1,transition:[`opacity ${r} ${o}`,`margin ${r}`,`color ${r}`].join(",")}},[`${e}-item-icon`]:Object.assign({},gC()),[`&${e}-item-only-child`]:{[`> ${l}, > ${e}-item-icon`]:{marginInlineEnd:0}}},[`${e}-item-disabled, ${e}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important"},[`> ${e}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},dk=n=>{const{componentCls:e,motionDurationSlow:r,motionEaseInOut:i,borderRadius:o,menuArrowSize:s,menuArrowOffset:l}=n;return{[`${e}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:n.margin,width:s,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${r} ${i}, opacity ${r}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:s*.6,height:s*.15,backgroundColor:"currentcolor",borderRadius:o,transition:[`background ${r} ${i}`,`transform ${r} ${i}`,`top ${r} ${i}`,`color ${r} ${i}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(-${l})`},"&::after":{transform:`rotate(-45deg) translateY(${l})`}}}}},Cpe=n=>{const{antCls:e,componentCls:r,fontSize:i,motionDurationSlow:o,motionDurationMid:s,motionEaseInOut:l,paddingXS:u,padding:c,colorSplit:d,lineWidth:h,zIndexPopup:p,borderRadiusLG:m,subMenuItemBorderRadius:v,menuArrowSize:y,menuArrowOffset:A,lineType:b,menuPanelMaskInset:g,groupTitleLineHeight:w,groupTitleFontSize:E}=n;return[{"":{[`${r}`]:Object.assign(Object.assign({},Ec()),{"&-hidden":{display:"none"}})},[`${r}-submenu-hidden`]:{display:"none"}},{[r]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},$i(n)),Ec()),{marginBottom:0,paddingInlineStart:0,fontSize:i,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${o} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${r}-item`]:{flex:"none"}},[`${r}-item, ${r}-submenu, ${r}-submenu-title`]:{borderRadius:n.itemBorderRadius},[`${r}-item-group-title`]:{padding:`${u}px ${c}px`,fontSize:E,lineHeight:w,transition:`all ${o}`},[`&-horizontal ${r}-submenu`]:{transition:[`border-color ${o} ${l}`,`background ${o} ${l}`].join(",")},[`${r}-submenu, ${r}-submenu-inline`]:{transition:[`border-color ${o} ${l}`,`background ${o} ${l}`,`padding ${s} ${l}`].join(",")},[`${r}-submenu ${r}-sub`]:{cursor:"initial",transition:[`background ${o} ${l}`,`padding ${o} ${l}`].join(",")},[`${r}-title-content`]:{transition:`color ${o}`,[`> ${e}-typography-ellipsis-single-line`]:{display:"inline",verticalAlign:"unset"}},[`${r}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${r}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:d,borderStyle:b,borderWidth:0,borderTopWidth:h,marginBlock:h,padding:0,"&-dashed":{borderStyle:"dashed"}}}),uk(n)),{[`${r}-item-group`]:{[`${r}-item-group-list`]:{margin:0,padding:0,[`${r}-item, ${r}-submenu-title`]:{paddingInline:`${i*2}px ${c}px`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:p,borderRadius:m,boxShadow:"none",transformOrigin:"0 0",[`&${r}-submenu`]:{background:"transparent"},"&::before":{position:"absolute",inset:`${g}px 0 0`,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'}},"&-placement-rightTop::before":{top:0,insetInlineStart:g},"\n          &-placement-leftTop,\n          &-placement-bottomRight,\n          ":{transformOrigin:"100% 0"},"\n          &-placement-leftBottom,\n          &-placement-topRight,\n          ":{transformOrigin:"100% 100%"},"\n          &-placement-rightBottom,\n          &-placement-topLeft,\n          ":{transformOrigin:"0 100%"},"\n          &-placement-bottomLeft,\n          &-placement-rightTop,\n          ":{transformOrigin:"0 0"},"\n          &-placement-leftTop,\n          &-placement-leftBottom\n          ":{paddingInlineEnd:n.paddingXS},"\n          &-placement-rightTop,\n          &-placement-rightBottom\n          ":{paddingInlineStart:n.paddingXS},"\n          &-placement-topRight,\n          &-placement-topLeft\n          ":{paddingBottom:n.paddingXS},"\n          &-placement-bottomRight,\n          &-placement-bottomLeft\n          ":{paddingTop:n.paddingXS},[`> ${r}`]:Object.assign(Object.assign(Object.assign({borderRadius:m},uk(n)),dk(n)),{[`${r}-item, ${r}-submenu > ${r}-submenu-title`]:{borderRadius:v},[`${r}-submenu-title::after`]:{transition:`transform ${o} ${l}`}})}}),dk(n)),{[`&-inline-collapsed ${r}-submenu-arrow,
        &-inline ${r}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${A})`},"&::after":{transform:`rotate(45deg) translateX(-${A})`}},[`${r}-submenu-open${r}-submenu-inline > ${r}-submenu-title > ${r}-submenu-arrow`]:{transform:`translateY(-${y*.2}px)`,"&::after":{transform:`rotate(-45deg) translateX(-${A})`},"&::before":{transform:`rotate(45deg) translateX(${A})`}}})},{[`${e}-layout-header`]:{[r]:{lineHeight:"inherit"}}}]},wpe=(n,e)=>ki("Menu",i=>{if(e===!1)return[];const{colorBgElevated:o,colorPrimary:s,colorTextLightSolid:l,controlHeightLG:u,fontSize:c,darkItemColor:d,darkDangerItemColor:h,darkItemBg:p,darkSubMenuItemBg:m,darkItemSelectedColor:v,darkItemSelectedBg:y,darkDangerItemSelectedBg:A,darkItemHoverBg:b,darkGroupTitleColor:g,darkItemHoverColor:w,darkItemDisabledColor:E,darkDangerItemHoverColor:C,darkDangerItemSelectedColor:_,darkDangerItemActiveBg:P}=i,R=c/7*5,L=ei(i,{menuArrowSize:R,menuHorizontalHeight:u*1.15,menuArrowOffset:`${R*.25}px`,menuPanelMaskInset:-7,menuSubMenuBg:o}),T=ei(L,{itemColor:d,itemHoverColor:w,groupTitleColor:g,itemSelectedColor:v,itemBg:p,popupBg:p,subMenuItemBg:m,itemActiveBg:"transparent",itemSelectedBg:y,activeBarHeight:0,activeBarBorderWidth:0,itemHoverBg:b,itemDisabledColor:E,dangerItemColor:h,dangerItemHoverColor:C,dangerItemSelectedColor:_,dangerItemActiveBg:P,dangerItemSelectedBg:A,menuSubMenuBg:m,horizontalItemSelectedColor:l,horizontalItemSelectedBg:s});return[Cpe(L),vpe(L),Epe(L),lk(L,"light"),lk(T,"dark"),ype(L),hP(L),Qd(L,"slide-up"),Qd(L,"slide-down"),fP(L,"zoom-big")]},i=>{const{colorPrimary:o,colorError:s,colorTextDisabled:l,colorErrorBg:u,colorText:c,colorTextDescription:d,colorBgContainer:h,colorFillAlter:p,colorFillContent:m,lineWidth:v,lineWidthBold:y,controlItemBgActive:A,colorBgTextHover:b,controlHeightLG:g,lineHeight:w,colorBgElevated:E,marginXXS:C,padding:_,fontSize:P,controlHeightSM:R,fontSizeLG:L,colorTextLightSolid:T,colorErrorHover:D}=i,H=new Di(T).setAlpha(.65).toRgbString();return{dropdownWidth:160,zIndexPopup:i.zIndexPopupBase+50,radiusItem:i.borderRadiusLG,itemBorderRadius:i.borderRadiusLG,radiusSubMenuItem:i.borderRadiusSM,subMenuItemBorderRadius:i.borderRadiusSM,colorItemText:c,itemColor:c,colorItemTextHover:c,itemHoverColor:c,colorItemTextHoverHorizontal:o,horizontalItemHoverColor:o,colorGroupTitle:d,groupTitleColor:d,colorItemTextSelected:o,itemSelectedColor:o,colorItemTextSelectedHorizontal:o,horizontalItemSelectedColor:o,colorItemBg:h,itemBg:h,colorItemBgHover:b,itemHoverBg:b,colorItemBgActive:m,itemActiveBg:A,colorSubItemBg:p,subMenuItemBg:p,colorItemBgSelected:A,itemSelectedBg:A,colorItemBgSelectedHorizontal:"transparent",horizontalItemSelectedBg:"transparent",colorActiveBarWidth:0,activeBarWidth:0,colorActiveBarHeight:y,activeBarHeight:y,colorActiveBarBorderSize:v,activeBarBorderWidth:v,colorItemTextDisabled:l,itemDisabledColor:l,colorDangerItemText:s,dangerItemColor:s,colorDangerItemTextHover:s,dangerItemHoverColor:s,colorDangerItemTextSelected:s,dangerItemSelectedColor:s,colorDangerItemBgActive:u,dangerItemActiveBg:u,colorDangerItemBgSelected:u,dangerItemSelectedBg:u,itemMarginInline:i.marginXXS,horizontalItemBorderRadius:0,horizontalItemHoverBg:"transparent",itemHeight:g,groupTitleLineHeight:w,collapsedWidth:g*2,popupBg:E,itemMarginBlock:C,itemPaddingInline:_,horizontalLineHeight:`${g*1.15}px`,iconSize:P,iconMarginInlineEnd:R-P,collapsedIconSize:L,groupTitleFontSize:P,darkItemDisabledColor:new Di(T).setAlpha(.25).toRgbString(),darkItemColor:H,darkDangerItemColor:s,darkItemBg:"#001529",darkSubMenuItemBg:"#000c17",darkItemSelectedColor:T,darkItemSelectedBg:o,darkDangerItemSelectedBg:s,darkItemHoverBg:"transparent",darkGroupTitleColor:H,darkItemHoverColor:T,darkDangerItemHoverColor:D,darkDangerItemSelectedColor:T,darkDangerItemActiveBg:s}},{deprecatedTokens:[["colorGroupTitle","groupTitleColor"],["radiusItem","itemBorderRadius"],["radiusSubMenuItem","subMenuItemBorderRadius"],["colorItemText","itemColor"],["colorItemTextHover","itemHoverColor"],["colorItemTextHoverHorizontal","horizontalItemHoverColor"],["colorItemTextSelected","itemSelectedColor"],["colorItemTextSelectedHorizontal","horizontalItemSelectedColor"],["colorItemTextDisabled","itemDisabledColor"],["colorDangerItemText","dangerItemColor"],["colorDangerItemTextHover","dangerItemHoverColor"],["colorDangerItemTextSelected","dangerItemSelectedColor"],["colorDangerItemBgActive","dangerItemActiveBg"],["colorDangerItemBgSelected","dangerItemSelectedBg"],["colorItemBg","itemBg"],["colorItemBgHover","itemHoverBg"],["colorSubItemBg","subMenuItemBg"],["colorItemBgActive","itemActiveBg"],["colorItemBgSelectedHorizontal","horizontalItemSelectedBg"],["colorActiveBarWidth","activeBarWidth"],["colorActiveBarHeight","activeBarHeight"],["colorActiveBarBorderSize","activeBarBorderWidth"],["colorItemBgSelected","itemSelectedBg"]]})(n);var Spe=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const _pe=M.forwardRef((n,e)=>{var r,i;const o=M.useContext(ak),s=o||{},{getPrefixCls:l,getPopupContainer:u,direction:c,menu:d}=M.useContext(Er),h=l(),{prefixCls:p,className:m,style:v,theme:y="light",expandIcon:A,_internalDisableMenuItemTitleTooltip:b,inlineCollapsed:g,siderCollapsed:w,items:E,children:C,rootClassName:_,mode:P,selectable:R,onClick:L,overflowedIndicatorPopupClassName:T}=n,D=Spe(n,["prefixCls","className","style","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","items","children","rootClassName","mode","selectable","onClick","overflowedIndicatorPopupClassName"]),H=co(D,["collapsedWidth"]),V=ppe(E)||C;(r=s.validator)===null||r===void 0||r.call(s,{mode:P});const B=Fo(function(){var oe;L==null||L.apply(void 0,arguments),(oe=s.onClick)===null||oe===void 0||oe.call(s)}),O=s.mode||P,F=R??s.selectable,N=M.useMemo(()=>w!==void 0?w:g,[g,w]),z={horizontal:{motionName:`${h}-slide-up`},inline:nP(h),other:{motionName:`${h}-zoom-big`}},j=l("menu",p||s.prefixCls),[G,Q]=wpe(j,!o),X=bt(`${j}-${y}`,d==null?void 0:d.className,m);let J;if(typeof A=="function")J=A;else if(A===null||A===!1)J=null;else if(s.expandIcon===null||s.expandIcon===!1)J=null;else{const oe=A??s.expandIcon;J=ya(oe,{className:bt(`${j}-submenu-expand-icon`,us(oe)?(i=oe.props)===null||i===void 0?void 0:i.className:"")})}const Z=M.useMemo(()=>({prefixCls:j,inlineCollapsed:N||!1,direction:c,firstLevel:!0,theme:y,mode:O,disableMenuItemTitleTooltip:b}),[j,N,c,b,y]);return G(M.createElement(ak.Provider,{value:null},M.createElement(lE.Provider,{value:Z},M.createElement(bg,Object.assign({getPopupContainer:u,overflowedIndicator:M.createElement(NI,null),overflowedIndicatorPopupClassName:bt(j,`${j}-${y}`,T),mode:O,selectable:F,onClick:B},H,{inlineCollapsed:N,style:Object.assign(Object.assign({},d==null?void 0:d.style),v),className:X,prefixCls:j,direction:c,defaultMotions:z,expandIcon:J,ref:e,rootClassName:bt(_,Q)}),V))))}),Mpe=_pe,qA=M.forwardRef((n,e)=>{const r=M.useRef(null),i=M.useContext(LP);return M.useImperativeHandle(e,()=>({menu:r.current,focus:o=>{var s;(s=r.current)===null||s===void 0||s.focus(o)}})),M.createElement(Mpe,Object.assign({ref:r},n,i))});qA.Item=$$;qA.SubMenu=H$;qA.Divider=z$;qA.ItemGroup=IC;const BP=qA,Tpe=n=>{const{componentCls:e,menuCls:r,colorError:i,colorTextLightSolid:o}=n,s=`${r}-item`;return{[`${e}, ${e}-menu-submenu`]:{[`${r} ${s}`]:{[`&${s}-danger:not(${s}-disabled)`]:{color:i,"&:hover":{color:o,backgroundColor:i}}}}}},Rpe=Tpe,Ipe=n=>{const{componentCls:e,menuCls:r,zIndexPopup:i,dropdownArrowDistance:o,sizePopupArrow:s,antCls:l,iconCls:u,motionDurationMid:c,dropdownPaddingVertical:d,fontSize:h,dropdownEdgeChildPadding:p,colorTextDisabled:m,fontSizeIcon:v,controlPaddingHorizontal:y,colorBgElevated:A}=n;return[{[e]:Object.assign(Object.assign({},$i(n)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:i,display:"block","&::before":{position:"absolute",insetBlock:-o+s/2,zIndex:-9999,opacity:1e-4,content:'""'},[`&-trigger${l}-btn`]:{[`& > ${u}-down, & > ${l}-btn-icon > ${u}-down`]:{fontSize:v}},[`${e}-wrap`]:{position:"relative",[`${l}-btn > ${u}-down`]:{fontSize:v},[`${u}-down::before`]:{transition:`transform ${c}`}},[`${e}-wrap-open`]:{[`${u}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`&${l}-slide-down-enter${l}-slide-down-enter-active${e}-placement-bottomLeft,
          &${l}-slide-down-appear${l}-slide-down-appear-active${e}-placement-bottomLeft,
          &${l}-slide-down-enter${l}-slide-down-enter-active${e}-placement-bottom,
          &${l}-slide-down-appear${l}-slide-down-appear-active${e}-placement-bottom,
          &${l}-slide-down-enter${l}-slide-down-enter-active${e}-placement-bottomRight,
          &${l}-slide-down-appear${l}-slide-down-appear-active${e}-placement-bottomRight`]:{animationName:lP},[`&${l}-slide-up-enter${l}-slide-up-enter-active${e}-placement-topLeft,
          &${l}-slide-up-appear${l}-slide-up-appear-active${e}-placement-topLeft,
          &${l}-slide-up-enter${l}-slide-up-enter-active${e}-placement-top,
          &${l}-slide-up-appear${l}-slide-up-appear-active${e}-placement-top,
          &${l}-slide-up-enter${l}-slide-up-enter-active${e}-placement-topRight,
          &${l}-slide-up-appear${l}-slide-up-appear-active${e}-placement-topRight`]:{animationName:uP},[`&${l}-slide-down-leave${l}-slide-down-leave-active${e}-placement-bottomLeft,
          &${l}-slide-down-leave${l}-slide-down-leave-active${e}-placement-bottom,
          &${l}-slide-down-leave${l}-slide-down-leave-active${e}-placement-bottomRight`]:{animationName:cP},[`&${l}-slide-up-leave${l}-slide-up-leave-active${e}-placement-topLeft,
          &${l}-slide-up-leave${l}-slide-up-leave-active${e}-placement-top,
          &${l}-slide-up-leave${l}-slide-up-leave-active${e}-placement-topRight`]:{animationName:dP}})},wP(n,{colorBg:A,limitVerticalRadius:!0,arrowPlacement:{top:!0,bottom:!0}}),{[`${e} ${r}`]:{position:"relative",margin:0},[`${r}-submenu-popup`]:{position:"absolute",zIndex:i,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}},[`${e}, ${e}-menu-submenu`]:{[r]:Object.assign(Object.assign({padding:p,listStyleType:"none",backgroundColor:A,backgroundClip:"padding-box",borderRadius:n.borderRadiusLG,outline:"none",boxShadow:n.boxShadowSecondary},Zm(n)),{[`${r}-item-group-title`]:{padding:`${d}px ${y}px`,color:n.colorTextDescription,transition:`all ${c}`},[`${r}-item`]:{position:"relative",display:"flex",alignItems:"center"},[`${r}-item-icon`]:{minWidth:h,marginInlineEnd:n.marginXS,fontSize:n.fontSizeSM},[`${r}-title-content`]:{flex:"auto","> a":{color:"inherit",transition:`all ${c}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}}},[`${r}-item, ${r}-submenu-title`]:Object.assign(Object.assign({clear:"both",margin:0,padding:`${d}px ${y}px`,color:n.colorText,fontWeight:"normal",fontSize:h,lineHeight:n.lineHeight,cursor:"pointer",transition:`all ${c}`,borderRadius:n.borderRadiusSM,"&:hover, &-active":{backgroundColor:n.controlItemBgHover}},Zm(n)),{"&-selected":{color:n.colorPrimary,backgroundColor:n.controlItemBgActive,"&:hover, &-active":{backgroundColor:n.controlItemBgActiveHover}},"&-disabled":{color:m,cursor:"not-allowed","&:hover":{color:m,backgroundColor:A,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${n.marginXXS}px 0`,overflow:"hidden",lineHeight:0,backgroundColor:n.colorSplit},[`${e}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:n.paddingXS,[`${e}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:n.colorTextDescription,fontSize:v,fontStyle:"normal"}}}),[`${r}-item-group-list`]:{margin:`0 ${n.marginXS}px`,padding:0,listStyle:"none"},[`${r}-submenu-title`]:{paddingInlineEnd:y+n.fontSizeSM},[`${r}-submenu-vertical`]:{position:"relative"},[`${r}-submenu${r}-submenu-disabled ${e}-menu-submenu-title`]:{[`&, ${e}-menu-submenu-arrow-icon`]:{color:m,backgroundColor:A,cursor:"not-allowed"}},[`${r}-submenu-selected ${e}-menu-submenu-title`]:{color:n.colorPrimary}})}},[Qd(n,"slide-up"),Qd(n,"slide-down"),oE(n,"move-up"),oE(n,"move-down"),fP(n,"zoom-big")]]},G$=ki("Dropdown",(n,e)=>{let{rootPrefixCls:r}=e;const{marginXXS:i,sizePopupArrow:o,controlHeight:s,fontSize:l,lineHeight:u,paddingXXS:c,componentCls:d,borderRadiusLG:h}=n,p=(s-l*u)/2,{dropdownArrowOffset:m}=CP({contentRadius:h}),v=ei(n,{menuCls:`${d}-menu`,rootPrefixCls:r,dropdownArrowDistance:o/2+i,dropdownArrowOffset:m,dropdownPaddingVertical:p,dropdownEdgeChildPadding:c});return[Ipe(v),Rpe(v)]},n=>({zIndexPopup:n.zIndexPopupBase+50})),OP=n=>{const{menu:e,arrow:r,prefixCls:i,children:o,trigger:s,disabled:l,dropdownRender:u,getPopupContainer:c,overlayClassName:d,rootClassName:h,open:p,onOpenChange:m,visible:v,onVisibleChange:y,mouseEnterDelay:A=.15,mouseLeaveDelay:b=.1,autoAdjustOverflow:g=!0,placement:w="",overlay:E,transitionName:C}=n,{getPopupContainer:_,getPrefixCls:P,direction:R}=M.useContext(Er);vg();const L=M.useMemo(()=>{const ce=P();return C!==void 0?C:w.includes("top")?`${ce}-slide-down`:`${ce}-slide-up`},[P,w,C]),T=M.useMemo(()=>w?w.includes("Center")?w.slice(0,w.indexOf("Center")):w:R==="rtl"?"bottomRight":"bottomLeft",[w,R]),D=P("dropdown",i),[H,V]=G$(D),[,B]=$s(),O=M.Children.only(o),F=ya(O,{className:bt(`${D}-trigger`,{[`${D}-rtl`]:R==="rtl"},O.props.className),disabled:l}),N=l?[]:s;let z;N&&N.includes("contextMenu")&&(z=!0);const[j,G]=Co(!1,{value:p??v}),Q=Fo(ce=>{m==null||m(ce),y==null||y(ce),G(ce)}),X=bt(d,h,V,{[`${D}-rtl`]:R==="rtl"}),J=SP({arrowPointAtCenter:typeof r=="object"&&r.pointAtCenter,autoAdjustOverflow:g,offset:B.marginXXS,arrowWidth:r?B.sizePopupArrow:0,borderRadius:B.borderRadius}),Z=M.useCallback(()=>{e!=null&&e.selectable&&(e!=null&&e.multiple)||G(!1)},[e==null?void 0:e.selectable,e==null?void 0:e.multiple]),oe=()=>{let ce;return e!=null&&e.items?ce=M.createElement(BP,Object.assign({},e)):typeof E=="function"?ce=E():ce=E,u&&(ce=u(ce)),ce=M.Children.only(typeof ce=="string"?M.createElement("span",null,ce):ce),M.createElement(j$,{prefixCls:`${D}-menu`,expandIcon:M.createElement("span",{className:`${D}-menu-submenu-arrow`},M.createElement(fA,{className:`${D}-menu-submenu-arrow-icon`})),mode:"vertical",selectable:!1,onClick:Z,validator:Be=>{}},ce)};return H(M.createElement(_$,Object.assign({alignPoint:z},co(n,["rootClassName"]),{mouseEnterDelay:A,mouseLeaveDelay:b,visible:j,builtinPlacements:J,arrow:!!r,overlayClassName:X,prefixCls:D,getPopupContainer:c||_,transitionName:L,trigger:N,overlay:oe,placement:T,onVisibleChange:Q}),F))};function Ppe(n){return Object.assign(Object.assign({},n),{align:{overflow:{adjustX:!1,adjustY:!1}}})}const Lpe=Z9(OP,"dropdown",n=>n,Ppe),Bpe=n=>M.createElement(Lpe,Object.assign({},n),M.createElement("span",null));OP._InternalPanelDoNotUseOrYouWillBeFired=Bpe;const V$=OP,W$=M.createContext(null),Ope=W$.Provider,Q$=M.createContext(null),Dpe=Q$.Provider;var Npe=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],K$=M.forwardRef(function(n,e){var r,i=n.prefixCls,o=i===void 0?"rc-checkbox":i,s=n.className,l=n.style,u=n.checked,c=n.disabled,d=n.defaultChecked,h=d===void 0?!1:d,p=n.type,m=p===void 0?"checkbox":p,v=n.title,y=n.onChange,A=Br(n,Npe),b=M.useRef(null),g=Co(h,{value:u}),w=Ot(g,2),E=w[0],C=w[1];M.useImperativeHandle(e,function(){return{focus:function(){var L;(L=b.current)===null||L===void 0||L.focus()},blur:function(){var L;(L=b.current)===null||L===void 0||L.blur()},input:b.current}});var _=bt(o,s,(r={},ct(r,"".concat(o,"-checked"),E),ct(r,"".concat(o,"-disabled"),c),r)),P=function(L){c||("checked"in n||C(L.target.checked),y==null||y({target:ht(ht({},n),{},{type:m,checked:L.target.checked}),stopPropagation:function(){L.stopPropagation()},preventDefault:function(){L.preventDefault()},nativeEvent:L.nativeEvent}))};return M.createElement("span",{className:_,title:v,style:l},M.createElement("input",rn({},A,{className:"".concat(o,"-input"),ref:b,onChange:P,disabled:c,checked:!!E,type:m})),M.createElement("span",{className:"".concat(o,"-inner")}))});const kpe=n=>{const{componentCls:e,antCls:r}=n,i=`${e}-group`;return{[i]:Object.assign(Object.assign({},$i(n)),{display:"inline-block",fontSize:0,[`&${i}-rtl`]:{direction:"rtl"},[`${r}-badge ${r}-badge-count`]:{zIndex:1},[`> ${r}-badge:not(:first-child) > ${r}-button-wrapper`]:{borderInlineStart:"none"}})}},Fpe=n=>{const{componentCls:e,wrapperMarginInlineEnd:r,colorPrimary:i,radioSize:o,motionDurationSlow:s,motionDurationMid:l,motionEaseInOutCirc:u,colorBgContainer:c,colorBorder:d,lineWidth:h,dotSize:p,colorBgContainerDisabled:m,colorTextDisabled:v,paddingXS:y,dotColorDisabled:A,lineType:b,radioDotDisabledSize:g,wireframe:w,colorWhite:E}=n,C=`${e}-inner`;return{[`${e}-wrapper`]:Object.assign(Object.assign({},$i(n)),{display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:r,cursor:"pointer",[`&${e}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:n.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},[`${e}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${h}px ${b} ${i}`,borderRadius:"50%",visibility:"hidden",content:'""'},[e]:Object.assign(Object.assign({},$i(n)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center",borderRadius:"50%"}),[`${e}-wrapper:hover &,
        &:hover ${C}`]:{borderColor:i},[`${e}-input:focus-visible + ${C}`]:Object.assign({},Bu(n)),[`${e}:hover::after, ${e}-wrapper:hover &::after`]:{visibility:"visible"},[`${e}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:o,height:o,marginBlockStart:o/-2,marginInlineStart:o/-2,backgroundColor:w?i:E,borderBlockStart:0,borderInlineStart:0,borderRadius:o,transform:"scale(0)",opacity:0,transition:`all ${s} ${u}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:o,height:o,backgroundColor:c,borderColor:d,borderStyle:"solid",borderWidth:h,borderRadius:"50%",transition:`all ${l}`},[`${e}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0},[`${e}-checked`]:{[C]:{borderColor:i,backgroundColor:w?c:i,"&::after":{transform:`scale(${p/o})`,opacity:1,transition:`all ${s} ${u}`}}},[`${e}-disabled`]:{cursor:"not-allowed",[C]:{backgroundColor:m,borderColor:d,cursor:"not-allowed","&::after":{backgroundColor:A}},[`${e}-input`]:{cursor:"not-allowed"},[`${e}-disabled + span`]:{color:v,cursor:"not-allowed"},[`&${e}-checked`]:{[C]:{"&::after":{transform:`scale(${g/o})`}}}},[`span${e} + *`]:{paddingInlineStart:y,paddingInlineEnd:y}})}},Upe=n=>{const{buttonColor:e,controlHeight:r,componentCls:i,lineWidth:o,lineType:s,colorBorder:l,motionDurationSlow:u,motionDurationMid:c,buttonPaddingInline:d,fontSize:h,buttonBg:p,fontSizeLG:m,controlHeightLG:v,controlHeightSM:y,paddingXS:A,borderRadius:b,borderRadiusSM:g,borderRadiusLG:w,buttonCheckedBg:E,buttonSolidCheckedColor:C,colorTextDisabled:_,colorBgContainerDisabled:P,buttonCheckedBgDisabled:R,buttonCheckedColorDisabled:L,colorPrimary:T,colorPrimaryHover:D,colorPrimaryActive:H,buttonSolidCheckedBg:V,buttonSolidCheckedHoverBg:B,buttonSolidCheckedActiveBg:O}=n;return{[`${i}-button-wrapper`]:{position:"relative",display:"inline-block",height:r,margin:0,paddingInline:d,paddingBlock:0,color:e,fontSize:h,lineHeight:`${r-o*2}px`,background:p,border:`${o}px ${s} ${l}`,borderBlockStartWidth:o+.02,borderInlineStartWidth:0,borderInlineEndWidth:o,cursor:"pointer",transition:[`color ${c}`,`background ${c}`,`box-shadow ${c}`].join(","),a:{color:e},[`> ${i}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:first-child)":{"&::before":{position:"absolute",insetBlockStart:-o,insetInlineStart:-o,display:"block",boxSizing:"content-box",width:1,height:"100%",paddingBlock:o,paddingInline:0,backgroundColor:l,transition:`background-color ${u}`,content:'""'}},"&:first-child":{borderInlineStart:`${o}px ${s} ${l}`,borderStartStartRadius:b,borderEndStartRadius:b},"&:last-child":{borderStartEndRadius:b,borderEndEndRadius:b},"&:first-child:last-child":{borderRadius:b},[`${i}-group-large &`]:{height:v,fontSize:m,lineHeight:`${v-o*2}px`,"&:first-child":{borderStartStartRadius:w,borderEndStartRadius:w},"&:last-child":{borderStartEndRadius:w,borderEndEndRadius:w}},[`${i}-group-small &`]:{height:y,paddingInline:A-o,paddingBlock:0,lineHeight:`${y-o*2}px`,"&:first-child":{borderStartStartRadius:g,borderEndStartRadius:g},"&:last-child":{borderStartEndRadius:g,borderEndEndRadius:g}},"&:hover":{position:"relative",color:T},"&:has(:focus-visible)":Object.assign({},Bu(n)),[`${i}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${i}-button-wrapper-disabled)`]:{zIndex:1,color:T,background:E,borderColor:T,"&::before":{backgroundColor:T},"&:first-child":{borderColor:T},"&:hover":{color:D,borderColor:D,"&::before":{backgroundColor:D}},"&:active":{color:H,borderColor:H,"&::before":{backgroundColor:H}}},[`${i}-group-solid &-checked:not(${i}-button-wrapper-disabled)`]:{color:C,background:V,borderColor:V,"&:hover":{color:C,background:B,borderColor:B},"&:active":{color:C,background:O,borderColor:O}},"&-disabled":{color:_,backgroundColor:P,borderColor:l,cursor:"not-allowed","&:first-child, &:hover":{color:_,backgroundColor:P,borderColor:l}},[`&-disabled${i}-button-wrapper-checked`]:{color:L,backgroundColor:R,borderColor:l,boxShadow:"none"}}}},fk=n=>n-4*2,X$=ki("Radio",n=>{const{controlOutline:e,controlOutlineWidth:r,radioSize:i}=n,o=`0 0 0 ${r}px ${e}`,s=o,l=fk(i),u=ei(n,{radioDotDisabledSize:l,radioFocusShadow:o,radioButtonFocusShadow:s});return[kpe(u),Fpe(u),Upe(u)]},n=>{const{wireframe:e,padding:r,marginXS:i,lineWidth:o,fontSizeLG:s,colorText:l,colorBgContainer:u,colorTextDisabled:c,controlItemBgActiveDisabled:d,colorTextLightSolid:h,colorPrimary:p,colorPrimaryHover:m,colorPrimaryActive:v}=n,y=4,A=s,b=e?fk(A):A-(y+o)*2;return{radioSize:A,dotSize:b,dotColorDisabled:c,buttonSolidCheckedColor:h,buttonSolidCheckedBg:p,buttonSolidCheckedHoverBg:m,buttonSolidCheckedActiveBg:v,buttonBg:u,buttonCheckedBg:u,buttonColor:l,buttonCheckedBgDisabled:d,buttonCheckedColorDisabled:c,buttonPaddingInline:r-o,wrapperMarginInlineEnd:i}});var zpe=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const $pe=(n,e)=>{var r,i;const o=M.useContext(W$),s=M.useContext(Q$),{getPrefixCls:l,direction:u,radio:c}=M.useContext(Er),d=M.useRef(null),h=zs(e,d),{isFormItemInput:p}=M.useContext(Du),m=H=>{var V,B;(V=n.onChange)===null||V===void 0||V.call(n,H),(B=o==null?void 0:o.onChange)===null||B===void 0||B.call(o,H)},{prefixCls:v,className:y,rootClassName:A,children:b,style:g}=n,w=zpe(n,["prefixCls","className","rootClassName","children","style"]),E=l("radio",v),C=((o==null?void 0:o.optionType)||s)==="button",_=C?`${E}-button`:E,[P,R]=X$(E),L=Object.assign({},w),T=M.useContext(ef);o&&(L.name=o.name,L.onChange=m,L.checked=n.value===o.value,L.disabled=(r=L.disabled)!==null&&r!==void 0?r:o.disabled),L.disabled=(i=L.disabled)!==null&&i!==void 0?i:T;const D=bt(`${_}-wrapper`,{[`${_}-wrapper-checked`]:L.checked,[`${_}-wrapper-disabled`]:L.disabled,[`${_}-wrapper-rtl`]:u==="rtl",[`${_}-wrapper-in-form-item`]:p},c==null?void 0:c.className,y,A,R);return P(M.createElement(bC,{component:"Radio",disabled:L.disabled},M.createElement("label",{className:D,style:Object.assign(Object.assign({},c==null?void 0:c.style),g),onMouseEnter:n.onMouseEnter,onMouseLeave:n.onMouseLeave},M.createElement(K$,Object.assign({},L,{className:bt(L.className,!C&&yC),type:"radio",prefixCls:_,ref:h})),b!==void 0?M.createElement("span",null,b):null)))},Hpe=M.forwardRef($pe),cE=Hpe,jpe=M.forwardRef((n,e)=>{const{getPrefixCls:r,direction:i}=M.useContext(Er),[o,s]=Co(n.defaultValue,{value:n.value}),l=V=>{const B=o,O=V.target.value;"value"in n||s(O);const{onChange:F}=n;F&&O!==B&&F(V)},{prefixCls:u,className:c,rootClassName:d,options:h,buttonStyle:p="outline",disabled:m,children:v,size:y,style:A,id:b,onMouseEnter:g,onMouseLeave:w,onFocus:E,onBlur:C}=n,_=r("radio",u),P=`${_}-group`,[R,L]=X$(_);let T=v;h&&h.length>0&&(T=h.map(V=>typeof V=="string"||typeof V=="number"?M.createElement(cE,{key:V.toString(),prefixCls:_,disabled:m,value:V,checked:o===V},V):M.createElement(cE,{key:`radio-group-value-options-${V.value}`,prefixCls:_,disabled:V.disabled||m,value:V.value,checked:o===V.value,title:V.title,style:V.style,id:V.id},V.label)));const D=Jl(y),H=bt(P,`${P}-${p}`,{[`${P}-${D}`]:D,[`${P}-rtl`]:i==="rtl"},c,d,L);return R(M.createElement("div",Object.assign({},Ql(n,{aria:!0,data:!0}),{className:H,style:A,onMouseEnter:g,onMouseLeave:w,onFocus:E,onBlur:C,id:b,ref:e}),M.createElement(Ope,{value:{onChange:l,value:o,disabled:n.disabled,name:n.name,optionType:n.optionType}},T)))}),Gpe=M.memo(jpe);var Vpe=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const Wpe=(n,e)=>{const{getPrefixCls:r}=M.useContext(Er),{prefixCls:i}=n,o=Vpe(n,["prefixCls"]),s=r("radio",i);return M.createElement(Dpe,{value:"button"},M.createElement(cE,Object.assign({prefixCls:s},o,{type:"radio",ref:e})))},Qpe=M.forwardRef(Wpe),PC=cE;PC.Button=Qpe;PC.Group=Gpe;PC.__ANT_RADIO=!0;const q$=PC,Kpe=n=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:n,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),Y$=n=>({borderColor:n.hoverBorderColor,backgroundColor:n.hoverBg}),C3=n=>({borderColor:n.activeBorderColor,boxShadow:n.activeShadow,outline:0,backgroundColor:n.activeBg}),J$=n=>({color:n.colorTextDisabled,backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"&:hover":Object.assign({},Y$(ei(n,{hoverBorderColor:n.colorBorder,hoverBg:n.colorBgContainerDisabled})))}),Z$=n=>{const{paddingBlockLG:e,fontSizeLG:r,lineHeightLG:i,borderRadiusLG:o,paddingInlineLG:s}=n;return{padding:`${e}px ${s}px`,fontSize:r,lineHeight:i,borderRadius:o}},DP=n=>({padding:`${n.paddingBlockSM}px ${n.paddingInlineSM}px`,borderRadius:n.borderRadiusSM}),eH=(n,e)=>{const{componentCls:r,colorError:i,colorWarning:o,errorActiveShadow:s,warningActiveShadow:l,colorErrorBorderHover:u,colorWarningBorderHover:c}=n;return{[`&-status-error:not(${e}-disabled):not(${e}-borderless)${e}`]:{borderColor:i,"&:hover":{borderColor:u},"&:focus, &:focus-within":Object.assign({},C3(ei(n,{activeBorderColor:i,activeShadow:s}))),[`${r}-prefix, ${r}-suffix`]:{color:i}},[`&-status-warning:not(${e}-disabled):not(${e}-borderless)${e}`]:{borderColor:o,"&:hover":{borderColor:c},"&:focus, &:focus-within":Object.assign({},C3(ei(n,{activeBorderColor:o,activeShadow:l}))),[`${r}-prefix, ${r}-suffix`]:{color:o}}}},NP=n=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${n.paddingBlock}px ${n.paddingInline}px`,color:n.colorText,fontSize:n.fontSize,lineHeight:n.lineHeight,backgroundColor:n.colorBgContainer,backgroundImage:"none",borderWidth:n.lineWidth,borderStyle:n.lineType,borderColor:n.colorBorder,borderRadius:n.borderRadius,transition:`all ${n.motionDurationMid}`},Kpe(n.colorTextPlaceholder)),{"&:hover":Object.assign({},Y$(n)),"&:focus, &:focus-within":Object.assign({},C3(n)),"&-disabled, &[disabled]":Object.assign({},J$(n)),"&-borderless":{"&, &:hover, &:focus, &-focused, &-disabled, &[disabled]":{backgroundColor:"transparent",border:"none",boxShadow:"none"}},"textarea&":{maxWidth:"100%",height:"auto",minHeight:n.controlHeight,lineHeight:n.lineHeight,verticalAlign:"bottom",transition:`all ${n.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":Object.assign({},Z$(n)),"&-sm":Object.assign({},DP(n)),"&-rtl":{direction:"rtl"},"&-textarea-rtl":{direction:"rtl"}}),Xpe=n=>{const{componentCls:e,antCls:r}=n;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:n.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${e}, &-lg > ${e}-group-addon`]:Object.assign({},Z$(n)),[`&-sm ${e}, &-sm > ${e}-group-addon`]:Object.assign({},DP(n)),[`&-lg ${r}-select-single ${r}-select-selector`]:{height:n.controlHeightLG},[`&-sm ${r}-select-single ${r}-select-selector`]:{height:n.controlHeightSM},[`> ${e}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${e}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${n.paddingInline}px`,color:n.colorText,fontWeight:"normal",fontSize:n.fontSize,textAlign:"center",backgroundColor:n.addonBg,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadius,transition:`all ${n.motionDurationSlow}`,lineHeight:1,[`${r}-select`]:{margin:`-${n.paddingBlock+1}px -${n.paddingInline}px`,[`&${r}-select-single:not(${r}-select-customize-input):not(${r}-pagination-size-changer)`]:{[`${r}-select-selector`]:{backgroundColor:"inherit",border:`${n.lineWidth}px ${n.lineType} transparent`,boxShadow:"none"}},"&-open, &-focused":{[`${r}-select-selector`]:{color:n.colorPrimary}}},[`${r}-cascader-picker`]:{margin:`-9px -${n.paddingInline}px`,backgroundColor:"transparent",[`${r}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}},[`${e}`]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${e}-search-with-button &`]:{zIndex:0}}},[`> ${e}:first-child, ${e}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${r}-select ${r}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}-affix-wrapper`]:{[`&:not(:first-child) ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}:last-child, ${e}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${r}-select ${r}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${e}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${e}-search &`]:{borderStartStartRadius:n.borderRadius,borderEndStartRadius:n.borderRadius}},[`&:not(:first-child), ${e}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${e}-group-compact`]:Object.assign(Object.assign({display:"block"},Ec()),{[`${e}-group-addon, ${e}-group-wrap, > ${e}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:n.lineWidth,"&:hover":{zIndex:1},"&:focus":{zIndex:1}}},"& > *":{display:"inline-block",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${e}-affix-wrapper,
        & > ${e}-number-affix-wrapper,
        & > ${r}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:-n.lineWidth,borderInlineEndWidth:n.lineWidth},[`${e}`]:{float:"none"},[`& > ${r}-select > ${r}-select-selector,
      & > ${r}-select-auto-complete ${e},
      & > ${r}-cascader-picker ${e},
      & > ${e}-group-wrapper ${e}`]:{borderInlineEndWidth:n.lineWidth,borderRadius:0,"&:hover":{zIndex:1},"&:focus":{zIndex:1}},[`& > ${r}-select-focused`]:{zIndex:1},[`& > ${r}-select > ${r}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${r}-select:first-child > ${r}-select-selector,
      & > ${r}-select-auto-complete:first-child ${e},
      & > ${r}-cascader-picker:first-child ${e}`]:{borderStartStartRadius:n.borderRadius,borderEndStartRadius:n.borderRadius},[`& > *:last-child,
      & > ${r}-select:last-child > ${r}-select-selector,
      & > ${r}-cascader-picker:last-child ${e},
      & > ${r}-cascader-picker-focused:last-child ${e}`]:{borderInlineEndWidth:n.lineWidth,borderStartEndRadius:n.borderRadius,borderEndEndRadius:n.borderRadius},[`& > ${r}-select-auto-complete ${e}`]:{verticalAlign:"top"},[`${e}-group-wrapper + ${e}-group-wrapper`]:{marginInlineStart:-n.lineWidth,[`${e}-affix-wrapper`]:{borderRadius:0}},[`${e}-group-wrapper:not(:last-child)`]:{[`&${e}-search > ${e}-group`]:{[`& > ${e}-group-addon > ${e}-search-button`]:{borderRadius:0},[`& > ${e}`]:{borderStartStartRadius:n.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:n.borderRadius}}}})}},qpe=n=>{const{componentCls:e,controlHeightSM:r,lineWidth:i}=n,o=16,s=(r-i*2-o)/2;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},$i(n)),NP(n)),eH(n,e)),{'&[type="color"]':{height:n.controlHeight,[`&${e}-lg`]:{height:n.controlHeightLG},[`&${e}-sm`]:{height:r,paddingTop:s,paddingBottom:s}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},Ype=n=>{const{componentCls:e}=n;return{[`${e}-clear-icon`]:{margin:0,color:n.colorTextQuaternary,fontSize:n.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${n.motionDurationSlow}`,"&:hover":{color:n.colorTextTertiary},"&:active":{color:n.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${n.inputAffixPadding}px`}}}},Jpe=n=>{const{componentCls:e,inputAffixPadding:r,colorTextDescription:i,motionDurationSlow:o,colorIcon:s,colorIconHover:l,iconCls:u}=n;return{[`${e}-affix-wrapper`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},NP(n)),{display:"inline-flex",[`&:not(${e}-affix-wrapper-disabled):hover`]:{zIndex:1,[`${e}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},"&-disabled":{[`${e}[disabled]`]:{background:"transparent"}},[`> input${e}`]:{padding:0,fontSize:"inherit",border:"none",borderRadius:0,outline:"none","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${e}`]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:n.paddingXS}},"&-show-count-suffix":{color:i},"&-show-count-has-suffix":{marginInlineEnd:n.paddingXXS},"&-prefix":{marginInlineEnd:r},"&-suffix":{marginInlineStart:r}}}),Ype(n)),{[`${u}${e}-password-icon`]:{color:s,cursor:"pointer",transition:`all ${o}`,"&:hover":{color:l}}}),eH(n,`${e}-affix-wrapper`))}},Zpe=n=>{const{componentCls:e,colorError:r,colorWarning:i,borderRadiusLG:o,borderRadiusSM:s}=n;return{[`${e}-group`]:Object.assign(Object.assign(Object.assign({},$i(n)),Xpe(n)),{"&-rtl":{direction:"rtl"},"&-wrapper":{display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${e}-group-addon`]:{borderRadius:o,fontSize:n.fontSizeLG}},"&-sm":{[`${e}-group-addon`]:{borderRadius:s}},"&-status-error":{[`${e}-group-addon`]:{color:r,borderColor:r}},"&-status-warning":{[`${e}-group-addon`]:{color:i,borderColor:i}},"&-disabled":{[`${e}-group-addon`]:Object.assign({},J$(n))},[`&:not(${e}-compact-first-item):not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}, ${e}-group-addon`]:{borderRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-first-item`]:{[`${e}, ${e}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${e}-compact-first-item)${e}-compact-last-item`]:{[`${e}, ${e}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}})}},eme=n=>{const{componentCls:e,antCls:r}=n,i=`${e}-search`;return{[i]:{[`${e}`]:{"&:hover, &:focus":{borderColor:n.colorPrimaryHover,[`+ ${e}-group-addon ${i}-button:not(${r}-btn-primary)`]:{borderInlineStartColor:n.colorPrimaryHover}}},[`${e}-affix-wrapper`]:{borderRadius:0},[`${e}-lg`]:{lineHeight:n.lineHeightLG-2e-4},[`> ${e}-group`]:{[`> ${e}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${i}-button`]:{paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderStartEndRadius:n.borderRadius,borderEndEndRadius:n.borderRadius,borderEndStartRadius:0,boxShadow:"none"},[`${i}-button:not(${r}-btn-primary)`]:{color:n.colorTextDescription,"&:hover":{color:n.colorPrimaryHover},"&:active":{color:n.colorPrimaryActive},[`&${r}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${i}-button`]:{height:n.controlHeight,"&:hover, &:focus":{zIndex:1}},[`&-large ${i}-button`]:{height:n.controlHeightLG},[`&-small ${i}-button`]:{height:n.controlHeightSM},"&-rtl":{direction:"rtl"},[`&${e}-compact-item`]:{[`&:not(${e}-compact-last-item)`]:{[`${e}-group-addon`]:{[`${e}-search-button`]:{marginInlineEnd:-n.lineWidth,borderRadius:0}}},[`&:not(${e}-compact-first-item)`]:{[`${e},${e}-affix-wrapper`]:{borderRadius:0}},[`> ${e}-group-addon ${e}-search-button,
        > ${e},
        ${e}-affix-wrapper`]:{"&:hover,&:focus,&:active":{zIndex:2}},[`> ${e}-affix-wrapper-focused`]:{zIndex:2}}}}},tme=n=>{const{componentCls:e,paddingLG:r}=n,i=`${e}-textarea`;return{[i]:{position:"relative","&-show-count":{[`> ${e}`]:{height:"100%"},[`${e}-data-count`]:{position:"absolute",bottom:-n.fontSize*n.lineHeight,insetInlineEnd:0,color:n.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},"&-allow-clear":{[`> ${e}`]:{paddingInlineEnd:r}},[`&-affix-wrapper${i}-has-feedback`]:{[`${e}`]:{paddingInlineEnd:r}},[`&-affix-wrapper${e}-affix-wrapper`]:{padding:0,[`> textarea${e}`]:{fontSize:"inherit",border:"none",outline:"none","&:focus":{boxShadow:"none !important"}},[`${e}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${e}-clear-icon`]:{position:"absolute",insetInlineEnd:n.paddingXS,insetBlockStart:n.paddingXS},[`${i}-suffix`]:{position:"absolute",top:0,insetInlineEnd:n.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}}}}};function tH(n){return ei(n,{inputAffixPadding:n.paddingXXS})}const nH=n=>{const{controlHeight:e,fontSize:r,lineHeight:i,lineWidth:o,controlHeightSM:s,controlHeightLG:l,fontSizeLG:u,lineHeightLG:c,paddingSM:d,controlPaddingHorizontalSM:h,controlPaddingHorizontal:p,colorFillAlter:m,colorPrimaryHover:v,colorPrimary:y,controlOutlineWidth:A,controlOutline:b,colorErrorOutline:g,colorWarningOutline:w}=n;return{paddingBlock:Math.max(Math.round((e-r*i)/2*10)/10-o,0),paddingBlockSM:Math.max(Math.round((s-r*i)/2*10)/10-o,0),paddingBlockLG:Math.ceil((l-u*c)/2*10)/10-o,paddingInline:d-o,paddingInlineSM:h-o,paddingInlineLG:p-o,addonBg:m,activeBorderColor:y,hoverBorderColor:v,activeShadow:`0 0 0 ${A}px ${b}`,errorActiveShadow:`0 0 0 ${A}px ${g}`,warningActiveShadow:`0 0 0 ${A}px ${w}`,hoverBg:"",activeBg:""}},kP=ki("Input",n=>{const e=ei(n,tH(n));return[qpe(e),tme(e),Jpe(e),Zpe(e),eme(e),oP(e)]},nH),nme=n=>{const{prefixCls:e,className:r,style:i,size:o,shape:s}=n,l=bt({[`${e}-lg`]:o==="large",[`${e}-sm`]:o==="small"}),u=bt({[`${e}-circle`]:s==="circle",[`${e}-square`]:s==="square",[`${e}-round`]:s==="round"}),c=M.useMemo(()=>typeof o=="number"?{width:o,height:o,lineHeight:`${o}px`}:{},[o]);return M.createElement("span",{className:bt(e,l,u,r),style:Object.assign(Object.assign({},c),i)})},LC=nme,rme=new ui("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),BC=n=>({height:n,lineHeight:`${n}px`}),Lm=n=>Object.assign({width:n},BC(n)),ime=n=>({background:n.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:rme,animationDuration:n.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),Q2=n=>Object.assign({width:n*5,minWidth:n*5},BC(n)),ome=n=>{const{skeletonAvatarCls:e,gradientFromColor:r,controlHeight:i,controlHeightLG:o,controlHeightSM:s}=n;return{[`${e}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:r},Lm(i)),[`${e}${e}-circle`]:{borderRadius:"50%"},[`${e}${e}-lg`]:Object.assign({},Lm(o)),[`${e}${e}-sm`]:Object.assign({},Lm(s))}},ame=n=>{const{controlHeight:e,borderRadiusSM:r,skeletonInputCls:i,controlHeightLG:o,controlHeightSM:s,gradientFromColor:l}=n;return{[`${i}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:l,borderRadius:r},Q2(e)),[`${i}-lg`]:Object.assign({},Q2(o)),[`${i}-sm`]:Object.assign({},Q2(s))}},hk=n=>Object.assign({width:n},BC(n)),sme=n=>{const{skeletonImageCls:e,imageSizeBase:r,gradientFromColor:i,borderRadiusSM:o}=n;return{[`${e}`]:Object.assign(Object.assign({display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",background:i,borderRadius:o},hk(r*2)),{[`${e}-path`]:{fill:"#bfbfbf"},[`${e}-svg`]:Object.assign(Object.assign({},hk(r)),{maxWidth:r*4,maxHeight:r*4}),[`${e}-svg${e}-svg-circle`]:{borderRadius:"50%"}}),[`${e}${e}-circle`]:{borderRadius:"50%"}}},K2=(n,e,r)=>{const{skeletonButtonCls:i}=n;return{[`${r}${i}-circle`]:{width:e,minWidth:e,borderRadius:"50%"},[`${r}${i}-round`]:{borderRadius:e}}},X2=n=>Object.assign({width:n*2,minWidth:n*2},BC(n)),lme=n=>{const{borderRadiusSM:e,skeletonButtonCls:r,controlHeight:i,controlHeightLG:o,controlHeightSM:s,gradientFromColor:l}=n;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[`${r}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:l,borderRadius:e,width:i*2,minWidth:i*2},X2(i))},K2(n,i,r)),{[`${r}-lg`]:Object.assign({},X2(o))}),K2(n,o,`${r}-lg`)),{[`${r}-sm`]:Object.assign({},X2(s))}),K2(n,s,`${r}-sm`))},cme=n=>{const{componentCls:e,skeletonAvatarCls:r,skeletonTitleCls:i,skeletonParagraphCls:o,skeletonButtonCls:s,skeletonInputCls:l,skeletonImageCls:u,controlHeight:c,controlHeightLG:d,controlHeightSM:h,gradientFromColor:p,padding:m,marginSM:v,borderRadius:y,titleHeight:A,blockRadius:b,paragraphLiHeight:g,controlHeightXS:w,paragraphMarginTop:E}=n;return{[`${e}`]:{display:"table",width:"100%",[`${e}-header`]:{display:"table-cell",paddingInlineEnd:m,verticalAlign:"top",[`${r}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:p},Lm(c)),[`${r}-circle`]:{borderRadius:"50%"},[`${r}-lg`]:Object.assign({},Lm(d)),[`${r}-sm`]:Object.assign({},Lm(h))},[`${e}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[`${i}`]:{width:"100%",height:A,background:p,borderRadius:b,[`+ ${o}`]:{marginBlockStart:h}},[`${o}`]:{padding:0,"> li":{width:"100%",height:g,listStyle:"none",background:p,borderRadius:b,"+ li":{marginBlockStart:w}}},[`${o}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${e}-content`]:{[`${i}, ${o} > li`]:{borderRadius:y}}},[`${e}-with-avatar ${e}-content`]:{[`${i}`]:{marginBlockStart:v,[`+ ${o}`]:{marginBlockStart:E}}},[`${e}${e}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},lme(n)),ome(n)),ame(n)),sme(n)),[`${e}${e}-block`]:{width:"100%",[`${s}`]:{width:"100%"},[`${l}`]:{width:"100%"}},[`${e}${e}-active`]:{[`
        ${i},
        ${o} > li,
        ${r},
        ${s},
        ${l},
        ${u}
      `]:Object.assign({},ime(n))}}},xg=ki("Skeleton",n=>{const{componentCls:e}=n,r=ei(n,{skeletonAvatarCls:`${e}-avatar`,skeletonTitleCls:`${e}-title`,skeletonParagraphCls:`${e}-paragraph`,skeletonButtonCls:`${e}-button`,skeletonInputCls:`${e}-input`,skeletonImageCls:`${e}-image`,imageSizeBase:n.controlHeight*1.5,borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${n.gradientFromColor} 25%, ${n.gradientToColor} 37%, ${n.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[cme(r)]},n=>{const{colorFillContent:e,colorFill:r}=n,i=e,o=r;return{color:i,colorGradientEnd:o,gradientFromColor:i,gradientToColor:o,titleHeight:n.controlHeight/2,blockRadius:n.borderRadiusSM,paragraphMarginTop:n.marginLG+n.marginXXS,paragraphLiHeight:n.controlHeight/2}},{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),ume=n=>{const{prefixCls:e,className:r,rootClassName:i,active:o,shape:s="circle",size:l="default"}=n,{getPrefixCls:u}=M.useContext(Er),c=u("skeleton",e),[d,h]=xg(c),p=co(n,["prefixCls","className"]),m=bt(c,`${c}-element`,{[`${c}-active`]:o},r,i,h);return d(M.createElement("div",{className:m},M.createElement(LC,Object.assign({prefixCls:`${c}-avatar`,shape:s,size:l},p))))},dme=ume,fme=n=>{const{prefixCls:e,className:r,rootClassName:i,active:o,block:s=!1,size:l="default"}=n,{getPrefixCls:u}=M.useContext(Er),c=u("skeleton",e),[d,h]=xg(c),p=co(n,["prefixCls"]),m=bt(c,`${c}-element`,{[`${c}-active`]:o,[`${c}-block`]:s},r,i,h);return d(M.createElement("div",{className:m},M.createElement(LC,Object.assign({prefixCls:`${c}-button`,size:l},p))))},hme=fme,pme="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",mme=n=>{const{prefixCls:e,className:r,rootClassName:i,style:o,active:s}=n,{getPrefixCls:l}=M.useContext(Er),u=l("skeleton",e),[c,d]=xg(u),h=bt(u,`${u}-element`,{[`${u}-active`]:s},r,i,d);return c(M.createElement("div",{className:h},M.createElement("div",{className:bt(`${u}-image`,r),style:o},M.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${u}-image-svg`},M.createElement("path",{d:pme,className:`${u}-image-path`})))))},gme=mme,vme=n=>{const{prefixCls:e,className:r,rootClassName:i,active:o,block:s,size:l="default"}=n,{getPrefixCls:u}=M.useContext(Er),c=u("skeleton",e),[d,h]=xg(c),p=co(n,["prefixCls"]),m=bt(c,`${c}-element`,{[`${c}-active`]:o,[`${c}-block`]:s},r,i,h);return d(M.createElement("div",{className:m},M.createElement(LC,Object.assign({prefixCls:`${c}-input`,size:l},p))))},Ame=vme,yme=n=>{const{prefixCls:e,className:r,rootClassName:i,style:o,active:s,children:l}=n,{getPrefixCls:u}=M.useContext(Er),c=u("skeleton",e),[d,h]=xg(c),p=bt(c,`${c}-element`,{[`${c}-active`]:s},h,r,i),m=l??M.createElement(jne,null);return d(M.createElement("div",{className:p},M.createElement("div",{className:bt(`${c}-image`,r),style:o},m)))},bme=yme,xme=n=>{const e=u=>{const{width:c,rows:d=2}=n;if(Array.isArray(c))return c[u];if(d-1===u)return c},{prefixCls:r,className:i,style:o,rows:s}=n,l=mn(Array(s)).map((u,c)=>M.createElement("li",{key:c,style:{width:e(c)}}));return M.createElement("ul",{className:bt(r,i),style:o},l)},Eme=xme,Cme=n=>{let{prefixCls:e,className:r,width:i,style:o}=n;return M.createElement("h3",{className:bt(e,r),style:Object.assign({width:i},o)})},wme=Cme;function q2(n){return n&&typeof n=="object"?n:{}}function Sme(n,e){return n&&!e?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function _me(n,e){return!n&&e?{width:"38%"}:n&&e?{width:"50%"}:{}}function Mme(n,e){const r={};return(!n||!e)&&(r.width="61%"),!n&&e?r.rows=3:r.rows=2,r}const Eg=n=>{const{prefixCls:e,loading:r,className:i,rootClassName:o,style:s,children:l,avatar:u=!1,title:c=!0,paragraph:d=!0,active:h,round:p}=n,{getPrefixCls:m,direction:v,skeleton:y}=M.useContext(Er),A=m("skeleton",e),[b,g]=xg(A);if(r||!("loading"in n)){const w=!!u,E=!!c,C=!!d;let _;if(w){const L=Object.assign(Object.assign({prefixCls:`${A}-avatar`},Sme(E,C)),q2(u));_=M.createElement("div",{className:`${A}-header`},M.createElement(LC,Object.assign({},L)))}let P;if(E||C){let L;if(E){const D=Object.assign(Object.assign({prefixCls:`${A}-title`},_me(w,C)),q2(c));L=M.createElement(wme,Object.assign({},D))}let T;if(C){const D=Object.assign(Object.assign({prefixCls:`${A}-paragraph`},Mme(w,E)),q2(d));T=M.createElement(Eme,Object.assign({},D))}P=M.createElement("div",{className:`${A}-content`},L,T)}const R=bt(A,{[`${A}-with-avatar`]:w,[`${A}-active`]:h,[`${A}-rtl`]:v==="rtl",[`${A}-round`]:p},y==null?void 0:y.className,i,o,g);return b(M.createElement("div",{className:R,style:Object.assign(Object.assign({},y==null?void 0:y.style),s)},_,P))}return typeof l<"u"?l:null};Eg.Button=hme;Eg.Avatar=dme;Eg.Input=Ame;Eg.Image=gme;Eg.Node=bme;const rH=Eg,OC=M.createContext(null);var iH=M.forwardRef(function(n,e){var r=n.prefixCls,i=n.className,o=n.style,s=n.id,l=n.active,u=n.tabKey,c=n.children;return M.createElement("div",{id:s&&"".concat(s,"-panel-").concat(u),role:"tabpanel",tabIndex:l?0:-1,"aria-labelledby":s&&"".concat(s,"-tab-").concat(u),"aria-hidden":!l,style:o,className:bt(r,l&&"".concat(r,"-active"),i),ref:e},c)}),Tme=["key","forceRender","style","className"];function Rme(n){var e=n.id,r=n.activeKey,i=n.animated,o=n.tabPosition,s=n.destroyInactiveTabPane,l=M.useContext(OC),u=l.prefixCls,c=l.tabs,d=i.tabPane,h="".concat(u,"-tabpane");return M.createElement("div",{className:bt("".concat(u,"-content-holder"))},M.createElement("div",{className:bt("".concat(u,"-content"),"".concat(u,"-content-").concat(o),ct({},"".concat(u,"-content-animated"),d))},c.map(function(p){var m=p.key,v=p.forceRender,y=p.style,A=p.className,b=Br(p,Tme),g=m===r;return M.createElement(Sc,rn({key:m,visible:g,forceRender:v,removeOnLeave:!!s,leavedClassName:"".concat(h,"-hidden")},i.tabPaneMotion),function(w,E){var C=w.style,_=w.className;return M.createElement(iH,rn({},b,{prefixCls:h,id:e,tabKey:m,animated:d,active:g,style:ht(ht({},y),C),className:bt(A,_),ref:E}))})})))}var pk={width:0,height:0,left:0,top:0};function Ime(n,e,r){return M.useMemo(function(){for(var i,o=new Map,s=e.get((i=n[0])===null||i===void 0?void 0:i.key)||pk,l=s.left+s.width,u=0;u<n.length;u+=1){var c=n[u].key,d=e.get(c);if(!d){var h;d=e.get((h=n[u-1])===null||h===void 0?void 0:h.key)||pk}var p=o.get(c)||ht({},d);p.right=l-p.left-p.width,o.set(c,p)}return o},[n.map(function(i){return i.key}).join("_"),e,r])}function mk(n,e){var r=M.useRef(n),i=M.useState({}),o=Ot(i,2),s=o[1];function l(u){var c=typeof u=="function"?u(r.current):u;c!==r.current&&e(c,r.current),r.current=c,s({})}return[r.current,l]}var Pme=.1,gk=.01,lx=20,vk=Math.pow(.995,lx);function Lme(n,e){var r=M.useState(),i=Ot(r,2),o=i[0],s=i[1],l=M.useState(0),u=Ot(l,2),c=u[0],d=u[1],h=M.useState(0),p=Ot(h,2),m=p[0],v=p[1],y=M.useState(),A=Ot(y,2),b=A[0],g=A[1],w=M.useRef();function E(T){var D=T.touches[0],H=D.screenX,V=D.screenY;s({x:H,y:V}),window.clearInterval(w.current)}function C(T){if(o){T.preventDefault();var D=T.touches[0],H=D.screenX,V=D.screenY;s({x:H,y:V});var B=H-o.x,O=V-o.y;e(B,O);var F=Date.now();d(F),v(F-c),g({x:B,y:O})}}function _(){if(o&&(s(null),g(null),b)){var T=b.x/m,D=b.y/m,H=Math.abs(T),V=Math.abs(D);if(Math.max(H,V)<Pme)return;var B=T,O=D;w.current=window.setInterval(function(){if(Math.abs(B)<gk&&Math.abs(O)<gk){window.clearInterval(w.current);return}B*=vk,O*=vk,e(B*lx,O*lx)},lx)}}var P=M.useRef();function R(T){var D=T.deltaX,H=T.deltaY,V=0,B=Math.abs(D),O=Math.abs(H);B===O?V=P.current==="x"?D:H:B>O?(V=D,P.current="x"):(V=H,P.current="y"),e(-V,-V)&&T.preventDefault()}var L=M.useRef(null);L.current={onTouchStart:E,onTouchMove:C,onTouchEnd:_,onWheel:R},M.useEffect(function(){function T(B){L.current.onTouchStart(B)}function D(B){L.current.onTouchMove(B)}function H(B){L.current.onTouchEnd(B)}function V(B){L.current.onWheel(B)}return document.addEventListener("touchmove",D,{passive:!1}),document.addEventListener("touchend",H,{passive:!1}),n.current.addEventListener("touchstart",T,{passive:!1}),n.current.addEventListener("wheel",V),function(){document.removeEventListener("touchmove",D),document.removeEventListener("touchend",H)}},[])}function oH(n){var e=M.useState(0),r=Ot(e,2),i=r[0],o=r[1],s=M.useRef(0),l=M.useRef();return l.current=n,kT(function(){var u;(u=l.current)===null||u===void 0||u.call(l)},[i]),function(){s.current===i&&(s.current+=1,o(s.current))}}function Bme(n){var e=M.useRef([]),r=M.useState({}),i=Ot(r,2),o=i[1],s=M.useRef(typeof n=="function"?n():n),l=oH(function(){var c=s.current;e.current.forEach(function(d){c=d(c)}),e.current=[],s.current=c,o({})});function u(c){e.current.push(c),l()}return[s.current,u]}var Ak={width:0,height:0,left:0,top:0,right:0};function Ome(n,e,r,i,o,s,l){var u=l.tabs,c=l.tabPosition,d=l.rtl,h,p,m;return["top","bottom"].includes(c)?(h="width",p=d?"right":"left",m=Math.abs(r)):(h="height",p="top",m=-r),M.useMemo(function(){if(!u.length)return[0,0];for(var v=u.length,y=v,A=0;A<v;A+=1){var b=n.get(u[A].key)||Ak;if(b[p]+b[h]>m+e){y=A-1;break}}for(var g=0,w=v-1;w>=0;w-=1){var E=n.get(u[w].key)||Ak;if(E[p]<m){g=w+1;break}}return g>=y?[0,0]:[g,y]},[n,e,i,o,s,m,c,u.map(function(v){return v.key}).join("_"),d])}function yk(n){var e;return n instanceof Map?(e={},n.forEach(function(r,i){e[i]=r})):e=n,JSON.stringify(e)}var Dme="TABS_DQ";function aH(n){return String(n).replace(/"/g,Dme)}function sH(n,e,r,i){return!(!r||i||n===!1||n===void 0&&(e===!1||e===null))}function Nme(n,e){var r=n.prefixCls,i=n.editable,o=n.locale,s=n.style;return!i||i.showAdd===!1?null:M.createElement("button",{ref:e,type:"button",className:"".concat(r,"-nav-add"),style:s,"aria-label":(o==null?void 0:o.addAriaLabel)||"Add tab",onClick:function(u){i.onEdit("add",{event:u})}},i.addIcon||"+")}const lH=M.forwardRef(Nme);var bk=M.forwardRef(function(n,e){var r=n.position,i=n.prefixCls,o=n.extra;if(!o)return null;var s,l={};return Tr(o)==="object"&&!M.isValidElement(o)?l=o:l.right=o,r==="right"&&(s=l.right),r==="left"&&(s=l.left),s?M.createElement("div",{className:"".concat(i,"-extra-content"),ref:e},s):null});function kme(n,e){var r=n.prefixCls,i=n.id,o=n.tabs,s=n.locale,l=n.mobile,u=n.moreIcon,c=u===void 0?"More":u,d=n.moreTransitionName,h=n.style,p=n.className,m=n.editable,v=n.tabBarGutter,y=n.rtl,A=n.removeAriaLabel,b=n.onTabClick,g=n.getPopupContainer,w=n.popupClassName,E=M.useState(!1),C=Ot(E,2),_=C[0],P=C[1],R=M.useState(null),L=Ot(R,2),T=L[0],D=L[1],H="".concat(i,"-more-popup"),V="".concat(r,"-dropdown"),B=T!==null?"".concat(H,"-").concat(T):null,O=s==null?void 0:s.dropdownAriaLabel;function F(J,Z){J.preventDefault(),J.stopPropagation(),m.onEdit("remove",{key:Z,event:J})}var N=M.createElement(bg,{onClick:function(Z){var oe=Z.key,ce=Z.domEvent;b(oe,ce),P(!1)},prefixCls:"".concat(V,"-menu"),id:H,tabIndex:-1,role:"listbox","aria-activedescendant":B,selectedKeys:[T],"aria-label":O!==void 0?O:"expanded dropdown"},o.map(function(J){var Z=J.closable,oe=J.disabled,ce=J.closeIcon,Be=J.key,ge=J.label,Re=sH(Z,ce,m,oe);return M.createElement(XA,{key:Be,id:"".concat(H,"-").concat(Be),role:"option","aria-controls":i&&"".concat(i,"-panel-").concat(Be),disabled:oe},M.createElement("span",null,ge),Re&&M.createElement("button",{type:"button","aria-label":A||"remove",tabIndex:0,className:"".concat(V,"-menu-item-remove"),onClick:function(qe){qe.stopPropagation(),F(qe,Be)}},ce||m.removeIcon||""))}));function z(J){for(var Z=o.filter(function(Re){return!Re.disabled}),oe=Z.findIndex(function(Re){return Re.key===T})||0,ce=Z.length,Be=0;Be<ce;Be+=1){oe=(oe+J+ce)%ce;var ge=Z[oe];if(!ge.disabled){D(ge.key);return}}}function j(J){var Z=J.which;if(!_){[An.DOWN,An.SPACE,An.ENTER].includes(Z)&&(P(!0),J.preventDefault());return}switch(Z){case An.UP:z(-1),J.preventDefault();break;case An.DOWN:z(1),J.preventDefault();break;case An.ESC:P(!1);break;case An.SPACE:case An.ENTER:T!==null&&b(T,J);break}}M.useEffect(function(){var J=document.getElementById(B);J&&J.scrollIntoView&&J.scrollIntoView(!1)},[T]),M.useEffect(function(){_||D(null)},[_]);var G=ct({},y?"marginRight":"marginLeft",v);o.length||(G.visibility="hidden",G.order=1);var Q=bt(ct({},"".concat(V,"-rtl"),y)),X=l?null:M.createElement(_$,{prefixCls:V,overlay:N,trigger:["hover"],visible:o.length?_:!1,transitionName:d,onVisibleChange:P,overlayClassName:bt(Q,w),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:g},M.createElement("button",{type:"button",className:"".concat(r,"-nav-more"),style:G,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":H,id:"".concat(i,"-more"),"aria-expanded":_,onKeyDown:j},c));return M.createElement("div",{className:bt("".concat(r,"-nav-operations"),p),style:h,ref:e},X,M.createElement(lH,{prefixCls:r,locale:s,editable:m}))}const Fme=M.memo(M.forwardRef(kme),function(n,e){return e.tabMoving});function Ume(n){var e,r=n.prefixCls,i=n.id,o=n.active,s=n.tab,l=s.key,u=s.label,c=s.disabled,d=s.closeIcon,h=n.closable,p=n.renderWrapper,m=n.removeAriaLabel,v=n.editable,y=n.onClick,A=n.onFocus,b=n.style,g="".concat(r,"-tab"),w=sH(h,d,v,c);function E(P){c||y(P)}function C(P){P.preventDefault(),P.stopPropagation(),v.onEdit("remove",{key:l,event:P})}var _=M.createElement("div",{key:l,"data-node-key":aH(l),className:bt(g,(e={},ct(e,"".concat(g,"-with-remove"),w),ct(e,"".concat(g,"-active"),o),ct(e,"".concat(g,"-disabled"),c),e)),style:b,onClick:E},M.createElement("div",{role:"tab","aria-selected":o,id:i&&"".concat(i,"-tab-").concat(l),className:"".concat(g,"-btn"),"aria-controls":i&&"".concat(i,"-panel-").concat(l),"aria-disabled":c,tabIndex:c?null:0,onClick:function(R){R.stopPropagation(),E(R)},onKeyDown:function(R){[An.SPACE,An.ENTER].includes(R.which)&&(R.preventDefault(),E(R))},onFocus:A},u),w&&M.createElement("button",{type:"button","aria-label":m||"remove",tabIndex:0,className:"".concat(g,"-remove"),onClick:function(R){R.stopPropagation(),C(R)}},d||v.removeIcon||""));return p?p(_):_}var zme=function(e){var r=e.activeTabOffset,i=e.horizontal,o=e.rtl,s=e.indicatorSize,l=M.useState(),u=Ot(l,2),c=u[0],d=u[1],h=M.useRef(),p=function(y){return typeof s=="function"?s(y):typeof s=="number"?s:y};function m(){Oi.cancel(h.current)}return M.useEffect(function(){var v={};return r&&(i?(o?(v.right=r.right+r.width/2,v.transform="translateX(50%)"):(v.left=r.left+r.width/2,v.transform="translateX(-50%)"),v.width=p(r.width)):(v.top=r.top+r.height/2,v.transform="translateY(-50%)",v.height=p(r.height))),m(),h.current=Oi(function(){d(v)}),m},[r,i,o,s]),{style:c}},Cp=function(e){var r=e.current||{},i=r.offsetWidth,o=i===void 0?0:i,s=r.offsetHeight,l=s===void 0?0:s;return[o,l]},Gb=function(e,r){return e[r?0:1]};function $me(n,e){var r,i=M.useContext(OC),o=i.prefixCls,s=i.tabs,l=n.className,u=n.style,c=n.id,d=n.animated,h=n.activeKey,p=n.rtl,m=n.extra,v=n.editable,y=n.locale,A=n.tabPosition,b=n.tabBarGutter,g=n.children,w=n.onTabClick,E=n.onTabScroll,C=n.indicatorSize,_=M.useRef(),P=M.useRef(),R=M.useRef(),L=M.useRef(),T=M.useRef(),D=M.useRef(),H=M.useRef(),V=A==="top"||A==="bottom",B=mk(0,function(jn,Fn){V&&E&&E({direction:jn>Fn?"left":"right"})}),O=Ot(B,2),F=O[0],N=O[1],z=mk(0,function(jn,Fn){!V&&E&&E({direction:jn>Fn?"top":"bottom"})}),j=Ot(z,2),G=j[0],Q=j[1],X=M.useState([0,0]),J=Ot(X,2),Z=J[0],oe=J[1],ce=M.useState([0,0]),Be=Ot(ce,2),ge=Be[0],Re=Be[1],$e=M.useState([0,0]),qe=Ot($e,2),Ke=qe[0],ke=qe[1],st=M.useState([0,0]),ot=Ot(st,2),it=ot[0],ft=ot[1],Et=Bme(new Map),gt=Ot(Et,2),Ct=gt[0],Tt=gt[1],Dt=Ime(s,Ct,ge[0]),Yt=Gb(Z,V),Ve=Gb(ge,V),ye=Gb(Ke,V),fe=Gb(it,V),pe=Yt<Ve+ye,_e=pe?Yt-fe:Yt-ye,Ce="".concat(o,"-nav-operations-hidden"),Se=0,we=0;V&&p?(Se=0,we=Math.max(0,Ve-_e)):(Se=Math.min(0,_e-Ve),we=0);function je(jn){return jn<Se?Se:jn>we?we:jn}var Ae=M.useRef(),Ue=M.useState(),et=Ot(Ue,2),ue=et[0],Y=et[1];function ne(){Y(Date.now())}function Pe(){window.clearTimeout(Ae.current)}Lme(L,function(jn,Fn){function Cn(Oe,lt){Oe(function(wt){var xe=je(wt+lt);return xe})}return pe?(V?Cn(N,jn):Cn(Q,Fn),Pe(),ne(),!0):!1}),M.useEffect(function(){return Pe(),ue&&(Ae.current=window.setTimeout(function(){Y(0)},100)),Pe},[ue]);var We=Ome(Dt,_e,V?F:G,Ve,ye,fe,ht(ht({},n),{},{tabs:s})),ve=Ot(We,2),he=ve[0],Ye=ve[1],Ze=Fo(function(){var jn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h,Fn=Dt.get(jn)||{width:0,height:0,left:0,right:0,top:0};if(V){var Cn=F;p?Fn.right<F?Cn=Fn.right:Fn.right+Fn.width>F+_e&&(Cn=Fn.right+Fn.width-_e):Fn.left<-F?Cn=-Fn.left:Fn.left+Fn.width>-F+_e&&(Cn=-(Fn.left+Fn.width-_e)),Q(0),N(je(Cn))}else{var Oe=G;Fn.top<-G?Oe=-Fn.top:Fn.top+Fn.height>-G+_e&&(Oe=-(Fn.top+Fn.height-_e)),N(0),Q(je(Oe))}}),Qe={};A==="top"||A==="bottom"?Qe[p?"marginRight":"marginLeft"]=b:Qe.marginTop=b;var nt=s.map(function(jn,Fn){var Cn=jn.key;return M.createElement(Ume,{id:c,prefixCls:o,key:Cn,tab:jn,style:Fn===0?void 0:Qe,closable:jn.closable,editable:v,active:Cn===h,renderWrapper:g,removeAriaLabel:y==null?void 0:y.removeAriaLabel,onClick:function(lt){w(Cn,lt)},onFocus:function(){Ze(Cn),ne(),L.current&&(p||(L.current.scrollLeft=0),L.current.scrollTop=0)}})}),It=function(){return Tt(function(){var Fn=new Map;return s.forEach(function(Cn){var Oe,lt=Cn.key,wt=(Oe=T.current)===null||Oe===void 0?void 0:Oe.querySelector('[data-node-key="'.concat(aH(lt),'"]'));wt&&Fn.set(lt,{width:wt.offsetWidth,height:wt.offsetHeight,left:wt.offsetLeft,top:wt.offsetTop})}),Fn})};M.useEffect(function(){It()},[s.map(function(jn){return jn.key}).join("_")]);var kt=oH(function(){var jn=Cp(_),Fn=Cp(P),Cn=Cp(R);oe([jn[0]-Fn[0]-Cn[0],jn[1]-Fn[1]-Cn[1]]);var Oe=Cp(H);ke(Oe);var lt=Cp(D);ft(lt);var wt=Cp(T);Re([wt[0]-Oe[0],wt[1]-Oe[1]]),It()}),Bt=s.slice(0,he),jt=s.slice(Ye+1),Vt=[].concat(mn(Bt),mn(jt)),Lt=Dt.get(h),mt=zme({activeTabOffset:Lt,horizontal:V,rtl:p,indicatorSize:C}),Nt=mt.style;M.useEffect(function(){Ze()},[h,Se,we,yk(Lt),yk(Dt),V]),M.useEffect(function(){kt()},[p]);var cn=!!Vt.length,Jt="".concat(o,"-nav-wrap"),Sn,yn,Ln,rr;return V?p?(yn=F>0,Sn=F!==we):(Sn=F<0,yn=F!==Se):(Ln=G<0,rr=G!==Se),M.createElement(Qa,{onResize:kt},M.createElement("div",{ref:Rh(e,_),role:"tablist",className:bt("".concat(o,"-nav"),l),style:u,onKeyDown:function(){ne()}},M.createElement(bk,{ref:P,position:"left",extra:m,prefixCls:o}),M.createElement(Qa,{onResize:kt},M.createElement("div",{className:bt(Jt,(r={},ct(r,"".concat(Jt,"-ping-left"),Sn),ct(r,"".concat(Jt,"-ping-right"),yn),ct(r,"".concat(Jt,"-ping-top"),Ln),ct(r,"".concat(Jt,"-ping-bottom"),rr),r)),ref:L},M.createElement(Qa,{onResize:kt},M.createElement("div",{ref:T,className:"".concat(o,"-nav-list"),style:{transform:"translate(".concat(F,"px, ").concat(G,"px)"),transition:ue?"none":void 0}},nt,M.createElement(lH,{ref:H,prefixCls:o,locale:y,editable:v,style:ht(ht({},nt.length===0?void 0:Qe),{},{visibility:cn?"hidden":null})}),M.createElement("div",{className:bt("".concat(o,"-ink-bar"),ct({},"".concat(o,"-ink-bar-animated"),d.inkBar)),style:Nt}))))),M.createElement(Fme,rn({},n,{removeAriaLabel:y==null?void 0:y.removeAriaLabel,ref:D,prefixCls:o,tabs:Vt,className:!cn&&Ce,tabMoving:!!ue})),M.createElement(bk,{ref:R,position:"right",extra:m,prefixCls:o})))}const xk=M.forwardRef($me);var Hme=["renderTabBar"],jme=["label","key"];function Gme(n){var e=n.renderTabBar,r=Br(n,Hme),i=M.useContext(OC),o=i.tabs;if(e){var s=ht(ht({},r),{},{panes:o.map(function(l){var u=l.label,c=l.key,d=Br(l,jme);return M.createElement(iH,rn({tab:u,key:c,tabKey:c},d))})});return e(s,xk)}return M.createElement(xk,r)}function Vme(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{inkBar:!0,tabPane:!1},e;return n===!1?e={inkBar:!1,tabPane:!1}:n===!0?e={inkBar:!0,tabPane:!1}:e=ht({inkBar:!0},Tr(n)==="object"?n:{}),e.tabPaneMotion&&e.tabPane===void 0&&(e.tabPane=!0),!e.tabPaneMotion&&e.tabPane&&(e.tabPane=!1),e}var Wme=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName","indicatorSize"],Ek=0;function Qme(n,e){var r,i=n.id,o=n.prefixCls,s=o===void 0?"rc-tabs":o,l=n.className,u=n.items,c=n.direction,d=n.activeKey,h=n.defaultActiveKey,p=n.editable,m=n.animated,v=n.tabPosition,y=v===void 0?"top":v,A=n.tabBarGutter,b=n.tabBarStyle,g=n.tabBarExtraContent,w=n.locale,E=n.moreIcon,C=n.moreTransitionName,_=n.destroyInactiveTabPane,P=n.renderTabBar,R=n.onChange,L=n.onTabClick,T=n.onTabScroll,D=n.getPopupContainer,H=n.popupClassName,V=n.indicatorSize,B=Br(n,Wme),O=M.useMemo(function(){return(u||[]).filter(function(ft){return ft&&Tr(ft)==="object"&&"key"in ft})},[u]),F=c==="rtl",N=Vme(m),z=M.useState(!1),j=Ot(z,2),G=j[0],Q=j[1];M.useEffect(function(){Q(pP())},[]);var X=Co(function(){var ft;return(ft=O[0])===null||ft===void 0?void 0:ft.key},{value:d,defaultValue:h}),J=Ot(X,2),Z=J[0],oe=J[1],ce=M.useState(function(){return O.findIndex(function(ft){return ft.key===Z})}),Be=Ot(ce,2),ge=Be[0],Re=Be[1];M.useEffect(function(){var ft=O.findIndex(function(gt){return gt.key===Z});if(ft===-1){var Et;ft=Math.max(0,Math.min(ge,O.length-1)),oe((Et=O[ft])===null||Et===void 0?void 0:Et.key)}Re(ft)},[O.map(function(ft){return ft.key}).join("_"),Z,ge]);var $e=Co(null,{value:i}),qe=Ot($e,2),Ke=qe[0],ke=qe[1];M.useEffect(function(){i||(ke("rc-tabs-".concat(Ek)),Ek+=1)},[]);function st(ft,Et){L==null||L(ft,Et);var gt=ft!==Z;oe(ft),gt&&(R==null||R(ft))}var ot={id:Ke,activeKey:Z,animated:N,tabPosition:y,rtl:F,mobile:G},it=ht(ht({},ot),{},{editable:p,locale:w,moreIcon:E,moreTransitionName:C,tabBarGutter:A,onTabClick:st,onTabScroll:T,extra:g,style:b,panes:null,getPopupContainer:D,popupClassName:H,indicatorSize:V});return M.createElement(OC.Provider,{value:{tabs:O,prefixCls:s}},M.createElement("div",rn({ref:e,id:i,className:bt(s,"".concat(s,"-").concat(y),(r={},ct(r,"".concat(s,"-mobile"),G),ct(r,"".concat(s,"-editable"),p),ct(r,"".concat(s,"-rtl"),F),r),l)},B),M.createElement(Gme,rn({},it,{renderTabBar:P})),M.createElement(Rme,rn({destroyInactiveTabPane:_},ot,{animated:N}))))}var Kme=M.forwardRef(Qme);const Xme={motionAppear:!1,motionEnter:!0,motionLeave:!0};function qme(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inkBar:!0,tabPane:!1},r;return e===!1?r={inkBar:!1,tabPane:!1}:e===!0?r={inkBar:!0,tabPane:!0}:r=Object.assign({inkBar:!0},typeof e=="object"?e:{}),r.tabPane&&(r.tabPaneMotion=Object.assign(Object.assign({},Xme),{motionName:tP(n,"switch")})),r}var Yme=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};function Jme(n){return n.filter(e=>e)}function Zme(n,e){if(n)return n;const r=qa(e).map(i=>{if(M.isValidElement(i)){const{key:o,props:s}=i,l=s||{},{tab:u}=l,c=Yme(l,["tab"]);return Object.assign(Object.assign({key:String(o)},c),{label:u})}return null});return Jme(r)}const ege=n=>{const{componentCls:e,motionDurationSlow:r}=n;return[{[e]:{[`${e}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${r}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${r}`}}}}},[Qd(n,"slide-up"),Qd(n,"slide-down")]]},tge=ege,nge=n=>{const{componentCls:e,tabsCardPadding:r,cardBg:i,cardGutter:o,colorBorderSecondary:s,itemSelectedColor:l}=n;return{[`${e}-card`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{margin:0,padding:r,background:i,border:`${n.lineWidth}px ${n.lineType} ${s}`,transition:`all ${n.motionDurationSlow} ${n.motionEaseInOut}`},[`${e}-tab-active`]:{color:l,background:n.colorBgContainer},[`${e}-ink-bar`]:{visibility:"hidden"}},[`&${e}-top, &${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab + ${e}-tab`]:{marginLeft:{_skip_check_:!0,value:`${o}px`}}}},[`&${e}-top`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:`${n.borderRadiusLG}px ${n.borderRadiusLG}px 0 0`},[`${e}-tab-active`]:{borderBottomColor:n.colorBgContainer}}},[`&${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:`0 0 ${n.borderRadiusLG}px ${n.borderRadiusLG}px`},[`${e}-tab-active`]:{borderTopColor:n.colorBgContainer}}},[`&${e}-left, &${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab + ${e}-tab`]:{marginTop:`${o}px`}}},[`&${e}-left`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`${n.borderRadiusLG}px 0 0 ${n.borderRadiusLG}px`}},[`${e}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:n.colorBgContainer}}}},[`&${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${n.borderRadiusLG}px ${n.borderRadiusLG}px 0`}},[`${e}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:n.colorBgContainer}}}}}}},rge=n=>{const{componentCls:e,itemHoverColor:r,dropdownEdgeChildVerticalPadding:i}=n;return{[`${e}-dropdown`]:Object.assign(Object.assign({},$i(n)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:n.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${e}-dropdown-menu`]:{maxHeight:n.tabsDropdownHeight,margin:0,padding:`${i}px 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:n.colorBgContainer,backgroundClip:"padding-box",borderRadius:n.borderRadiusLG,outline:"none",boxShadow:n.boxShadowSecondary,"&-item":Object.assign(Object.assign({},xc),{display:"flex",alignItems:"center",minWidth:n.tabsDropdownWidth,margin:0,padding:`${n.paddingXXS}px ${n.paddingSM}px`,color:n.colorText,fontWeight:"normal",fontSize:n.fontSize,lineHeight:n.lineHeight,cursor:"pointer",transition:`all ${n.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:n.marginSM},color:n.colorTextDescription,fontSize:n.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:r}},"&:hover":{background:n.controlItemBgHover},"&-disabled":{"&, &:hover":{color:n.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},ige=n=>{const{componentCls:e,margin:r,colorBorderSecondary:i,horizontalMargin:o,verticalItemPadding:s,verticalItemMargin:l}=n;return{[`${e}-top, ${e}-bottom`]:{flexDirection:"column",[`> ${e}-nav, > div > ${e}-nav`]:{margin:o,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${n.lineWidth}px ${n.lineType} ${i}`,content:"''"},[`${e}-ink-bar`]:{height:n.lineWidthBold,"&-animated":{transition:`width ${n.motionDurationSlow}, left ${n.motionDurationSlow},
            right ${n.motionDurationSlow}`}},[`${e}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:n.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:n.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:n.boxShadowTabsOverflowRight},[`&${e}-nav-wrap-ping-left::before`]:{opacity:1},[`&${e}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${e}-top`]:{[`> ${e}-nav,
        > div > ${e}-nav`]:{"&::before":{bottom:0},[`${e}-ink-bar`]:{bottom:0}}},[`${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{order:1,marginTop:`${r}px`,marginBottom:0,"&::before":{top:0},[`${e}-ink-bar`]:{top:0}},[`> ${e}-content-holder, > div > ${e}-content-holder`]:{order:0}},[`${e}-left, ${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{flexDirection:"column",minWidth:n.controlHeight*1.25,[`${e}-tab`]:{padding:s,textAlign:"center"},[`${e}-tab + ${e}-tab`]:{margin:l},[`${e}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:n.controlHeight},"&::before":{top:0,boxShadow:n.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:n.boxShadowTabsOverflowBottom},[`&${e}-nav-wrap-ping-top::before`]:{opacity:1},[`&${e}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${e}-ink-bar`]:{width:n.lineWidthBold,"&-animated":{transition:`height ${n.motionDurationSlow}, top ${n.motionDurationSlow}`}},[`${e}-nav-list, ${e}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${e}-left`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${e}-content-holder, > div > ${e}-content-holder`]:{marginLeft:{_skip_check_:!0,value:`-${n.lineWidth}px`},borderLeft:{_skip_check_:!0,value:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`},[`> ${e}-content > ${e}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:n.paddingLG}}}},[`${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{order:1,[`${e}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${e}-content-holder, > div > ${e}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:-n.lineWidth},borderRight:{_skip_check_:!0,value:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`},[`> ${e}-content > ${e}-tabpane`]:{paddingRight:{_skip_check_:!0,value:n.paddingLG}}}}}},oge=n=>{const{componentCls:e,cardPaddingSM:r,cardPaddingLG:i,horizontalItemPaddingSM:o,horizontalItemPaddingLG:s}=n;return{[e]:{"&-small":{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:o,fontSize:n.titleFontSizeSM}}},"&-large":{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:s,fontSize:n.titleFontSizeLG}}}},[`${e}-card`]:{[`&${e}-small`]:{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:r}},[`&${e}-bottom`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:`0 0 ${n.borderRadius}px ${n.borderRadius}px`}},[`&${e}-top`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:`${n.borderRadius}px ${n.borderRadius}px 0 0`}},[`&${e}-right`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${n.borderRadius}px ${n.borderRadius}px 0`}}},[`&${e}-left`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`${n.borderRadius}px 0 0 ${n.borderRadius}px`}}}},[`&${e}-large`]:{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:i}}}}}},age=n=>{const{componentCls:e,itemActiveColor:r,itemHoverColor:i,iconCls:o,tabsHorizontalItemMargin:s,horizontalItemPadding:l,itemSelectedColor:u,itemColor:c}=n,d=`${e}-tab`;return{[d]:{position:"relative",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",display:"inline-flex",alignItems:"center",padding:l,fontSize:n.titleFontSize,background:"transparent",border:0,outline:"none",cursor:"pointer",color:c,"&-btn, &-remove":Object.assign({"&:focus:not(:focus-visible), &:active":{color:r}},Zm(n)),"&-btn":{outline:"none",transition:"all 0.3s"},"&-remove":{flex:"none",marginRight:{_skip_check_:!0,value:-n.marginXXS},marginLeft:{_skip_check_:!0,value:n.marginXS},color:n.colorTextDescription,fontSize:n.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${n.motionDurationSlow}`,"&:hover":{color:n.colorTextHeading}},"&:hover":{color:i},[`&${d}-active ${d}-btn`]:{color:u,textShadow:n.tabsActiveTextShadow},[`&${d}-disabled`]:{color:n.colorTextDisabled,cursor:"not-allowed"},[`&${d}-disabled ${d}-btn, &${d}-disabled ${e}-remove`]:{"&:focus, &:active":{color:n.colorTextDisabled}},[`& ${d}-remove ${o}`]:{margin:0},[o]:{marginRight:{_skip_check_:!0,value:n.marginSM}}},[`${d} + ${d}`]:{margin:{_skip_check_:!0,value:s}}}},sge=n=>{const{componentCls:e,tabsHorizontalItemMarginRTL:r,iconCls:i,cardGutter:o}=n;return{[`${e}-rtl`]:{direction:"rtl",[`${e}-nav`]:{[`${e}-tab`]:{margin:{_skip_check_:!0,value:r},[`${e}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[i]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:`${n.marginSM}px`}},[`${e}-tab-remove`]:{marginRight:{_skip_check_:!0,value:`${n.marginXS}px`},marginLeft:{_skip_check_:!0,value:`-${n.marginXXS}px`},[i]:{margin:0}}}},[`&${e}-left`]:{[`> ${e}-nav`]:{order:1},[`> ${e}-content-holder`]:{order:0}},[`&${e}-right`]:{[`> ${e}-nav`]:{order:0},[`> ${e}-content-holder`]:{order:1}},[`&${e}-card${e}-top, &${e}-card${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab + ${e}-tab`]:{marginRight:{_skip_check_:!0,value:o},marginLeft:{_skip_check_:!0,value:0}}}}},[`${e}-dropdown-rtl`]:{direction:"rtl"},[`${e}-menu-item`]:{[`${e}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},lge=n=>{const{componentCls:e,tabsCardPadding:r,cardHeight:i,cardGutter:o,itemHoverColor:s,itemActiveColor:l,colorBorderSecondary:u}=n;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},$i(n)),{display:"flex",[`> ${e}-nav, > div > ${e}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${e}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${n.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${e}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${n.motionDurationSlow}`},[`${e}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${e}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${e}-nav-more`]:{position:"relative",padding:r,background:"transparent",border:0,color:n.colorText,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:n.controlHeightLG/8,transform:"translateY(100%)",content:"''"}},[`${e}-nav-add`]:Object.assign({minWidth:i,marginLeft:{_skip_check_:!0,value:o},padding:`0 ${n.paddingXS}px`,background:"transparent",border:`${n.lineWidth}px ${n.lineType} ${u}`,borderRadius:`${n.borderRadiusLG}px ${n.borderRadiusLG}px 0 0`,outline:"none",cursor:"pointer",color:n.colorText,transition:`all ${n.motionDurationSlow} ${n.motionEaseInOut}`,"&:hover":{color:s},"&:active, &:focus:not(:focus-visible)":{color:l}},Zm(n))},[`${e}-extra-content`]:{flex:"none"},[`${e}-ink-bar`]:{position:"absolute",background:n.inkBarColor,pointerEvents:"none"}}),age(n)),{[`${e}-content`]:{position:"relative",width:"100%"},[`${e}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${e}-tabpane`]:{outline:"none","&-hidden":{display:"none"}}}),[`${e}-centered`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-nav-wrap`]:{[`&:not([class*='${e}-nav-wrap-ping'])`]:{justifyContent:"center"}}}}}},cge=ki("Tabs",n=>{const e=ei(n,{tabsCardPadding:n.cardPadding||`${(n.cardHeight-Math.round(n.fontSize*n.lineHeight))/2-n.lineWidth}px ${n.padding}px`,dropdownEdgeChildVerticalPadding:n.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120,tabsHorizontalItemMargin:`0 0 0 ${n.horizontalItemGutter}px`,tabsHorizontalItemMarginRTL:`0 0 0 ${n.horizontalItemGutter}px`});return[oge(e),sge(e),ige(e),rge(e),nge(e),lge(e),tge(e)]},n=>{const e=n.controlHeightLG;return{zIndexPopup:n.zIndexPopupBase+50,cardBg:n.colorFillAlter,cardHeight:e,cardPadding:"",cardPaddingSM:`${n.paddingXXS*1.5}px ${n.padding}px`,cardPaddingLG:`${n.paddingXS}px ${n.padding}px ${n.paddingXXS*1.5}px`,titleFontSize:n.fontSize,titleFontSizeLG:n.fontSizeLG,titleFontSizeSM:n.fontSize,inkBarColor:n.colorPrimary,horizontalMargin:`0 0 ${n.margin}px 0`,horizontalItemGutter:32,horizontalItemMargin:"",horizontalItemMarginRTL:"",horizontalItemPadding:`${n.paddingSM}px 0`,horizontalItemPaddingSM:`${n.paddingXS}px 0`,horizontalItemPaddingLG:`${n.padding}px 0`,verticalItemPadding:`${n.paddingXS}px ${n.paddingLG}px`,verticalItemMargin:`${n.margin}px 0 0 0`,itemColor:n.colorText,itemSelectedColor:n.colorPrimary,itemHoverColor:n.colorPrimaryHover,itemActiveColor:n.colorPrimaryActive,cardGutter:n.marginXXS/2}}),uge=()=>null,dge=uge;var fge=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const cH=n=>{const{type:e,className:r,rootClassName:i,size:o,onEdit:s,hideAdd:l,centered:u,addIcon:c,popupClassName:d,children:h,items:p,animated:m,style:v,indicatorSize:y}=n,A=fge(n,["type","className","rootClassName","size","onEdit","hideAdd","centered","addIcon","popupClassName","children","items","animated","style","indicatorSize"]),{prefixCls:b,moreIcon:g=M.createElement(NI,null)}=A,{direction:w,tabs:E,getPrefixCls:C,getPopupContainer:_}=M.useContext(Er),P=C("tabs",b),[R,L]=cge(P);let T;e==="editable-card"&&(T={onEdit:(F,N)=>{let{key:z,event:j}=N;s==null||s(F==="add"?j:z,F)},removeIcon:M.createElement(Mh,null),addIcon:c||M.createElement(Mie,null),showAdd:l!==!0});const D=C(),H=Zme(p,h),V=qme(P,m),B=Jl(o),O=Object.assign(Object.assign({},E==null?void 0:E.style),v);return R(M.createElement(Kme,Object.assign({direction:w,getPopupContainer:_,moreTransitionName:`${D}-slide-up`},A,{items:H,className:bt({[`${P}-${B}`]:B,[`${P}-card`]:["card","editable-card"].includes(e),[`${P}-editable-card`]:e==="editable-card",[`${P}-centered`]:u},E==null?void 0:E.className,r,i,L),popupClassName:bt(d,L),style:O,editable:T,moreIcon:g,prefixCls:P,animated:V,indicatorSize:y??(E==null?void 0:E.indicatorSize)})))};cH.TabPane=dge;const hge=cH;var pge=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const mge=n=>{var{prefixCls:e,className:r,hoverable:i=!0}=n,o=pge(n,["prefixCls","className","hoverable"]);const{getPrefixCls:s}=M.useContext(Er),l=s("card",e),u=bt(`${l}-grid`,r,{[`${l}-grid-hoverable`]:i});return M.createElement("div",Object.assign({},o,{className:u}))},uH=mge,gge=n=>{const{antCls:e,componentCls:r,headerHeight:i,cardPaddingBase:o,tabsMarginBottom:s}=n;return Object.assign(Object.assign({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:i,marginBottom:-1,padding:`0 ${o}px`,color:n.colorTextHeading,fontWeight:n.fontWeightStrong,fontSize:n.headerFontSize,background:n.headerBg,borderBottom:`${n.lineWidth}px ${n.lineType} ${n.colorBorderSecondary}`,borderRadius:`${n.borderRadiusLG}px ${n.borderRadiusLG}px 0 0`},Ec()),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":Object.assign(Object.assign({display:"inline-block",flex:1},xc),{[`
          > ${r}-typography,
          > ${r}-typography-edit-content
        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${e}-tabs-top`]:{clear:"both",marginBottom:s,color:n.colorText,fontWeight:"normal",fontSize:n.fontSize,"&-bar":{borderBottom:`${n.lineWidth}px ${n.lineType} ${n.colorBorderSecondary}`}}})},vge=n=>{const{cardPaddingBase:e,colorBorderSecondary:r,cardShadow:i,lineWidth:o}=n;return{width:"33.33%",padding:e,border:0,borderRadius:0,boxShadow:`
      ${o}px 0 0 0 ${r},
      0 ${o}px 0 0 ${r},
      ${o}px ${o}px 0 0 ${r},
      ${o}px 0 0 0 ${r} inset,
      0 ${o}px 0 0 ${r} inset;
    `,transition:`all ${n.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:i}}},Age=n=>{const{componentCls:e,iconCls:r,actionsLiMargin:i,cardActionsIconSize:o,colorBorderSecondary:s,actionsBg:l}=n;return Object.assign(Object.assign({margin:0,padding:0,listStyle:"none",background:l,borderTop:`${n.lineWidth}px ${n.lineType} ${s}`,display:"flex",borderRadius:`0 0 ${n.borderRadiusLG}px ${n.borderRadiusLG}px `},Ec()),{"& > li":{margin:i,color:n.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:n.cardActionsIconSize*2,fontSize:n.fontSize,lineHeight:n.lineHeight,cursor:"pointer","&:hover":{color:n.colorPrimary,transition:`color ${n.motionDurationMid}`},[`a:not(${e}-btn), > ${r}`]:{display:"inline-block",width:"100%",color:n.colorTextDescription,lineHeight:`${n.fontSize*n.lineHeight}px`,transition:`color ${n.motionDurationMid}`,"&:hover":{color:n.colorPrimary}},[`> ${r}`]:{fontSize:o,lineHeight:`${o*n.lineHeight}px`}},"&:not(:last-child)":{borderInlineEnd:`${n.lineWidth}px ${n.lineType} ${s}`}}})},yge=n=>Object.assign(Object.assign({margin:`-${n.marginXXS}px 0`,display:"flex"},Ec()),{"&-avatar":{paddingInlineEnd:n.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:n.marginXS}},"&-title":Object.assign({color:n.colorTextHeading,fontWeight:n.fontWeightStrong,fontSize:n.fontSizeLG},xc),"&-description":{color:n.colorTextDescription}}),bge=n=>{const{componentCls:e,cardPaddingBase:r,colorFillAlter:i}=n;return{[`${e}-head`]:{padding:`0 ${r}px`,background:i,"&-title":{fontSize:n.fontSize}},[`${e}-body`]:{padding:`${n.padding}px ${r}px`}}},xge=n=>{const{componentCls:e}=n;return{overflow:"hidden",[`${e}-body`]:{userSelect:"none"}}},Ege=n=>{const{antCls:e,componentCls:r,cardShadow:i,cardHeadPadding:o,colorBorderSecondary:s,boxShadowTertiary:l,cardPaddingBase:u,extraColor:c}=n;return{[r]:Object.assign(Object.assign({},$i(n)),{position:"relative",background:n.colorBgContainer,borderRadius:n.borderRadiusLG,[`&:not(${r}-bordered)`]:{boxShadow:l},[`${r}-head`]:gge(n),[`${r}-extra`]:{marginInlineStart:"auto",color:c,fontWeight:"normal",fontSize:n.fontSize},[`${r}-body`]:Object.assign({padding:u,borderRadius:` 0 0 ${n.borderRadiusLG}px ${n.borderRadiusLG}px`},Ec()),[`${r}-grid`]:vge(n),[`${r}-cover`]:{"> *":{display:"block",width:"100%"},[`img, img + ${e}-image-mask`]:{borderRadius:`${n.borderRadiusLG}px ${n.borderRadiusLG}px 0 0`}},[`${r}-actions`]:Age(n),[`${r}-meta`]:yge(n)}),[`${r}-bordered`]:{border:`${n.lineWidth}px ${n.lineType} ${s}`,[`${r}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${r}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${n.motionDurationMid}, border-color ${n.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:i}},[`${r}-contain-grid`]:{borderRadius:`${n.borderRadiusLG}px ${n.borderRadiusLG}px 0 0 `,[`${r}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${r}-loading) ${r}-body`]:{marginBlockStart:-n.lineWidth,marginInlineStart:-n.lineWidth,padding:0}},[`${r}-contain-tabs`]:{[`> ${r}-head`]:{minHeight:0,[`${r}-head-title, ${r}-extra`]:{paddingTop:o}}},[`${r}-type-inner`]:bge(n),[`${r}-loading`]:xge(n),[`${r}-rtl`]:{direction:"rtl"}}},Cge=n=>{const{componentCls:e,cardPaddingSM:r,headerHeightSM:i,headerFontSizeSM:o}=n;return{[`${e}-small`]:{[`> ${e}-head`]:{minHeight:i,padding:`0 ${r}px`,fontSize:o,[`> ${e}-head-wrapper`]:{[`> ${e}-extra`]:{fontSize:n.fontSize}}},[`> ${e}-body`]:{padding:r}},[`${e}-small${e}-contain-tabs`]:{[`> ${e}-head`]:{[`${e}-head-title, ${e}-extra`]:{paddingTop:0,display:"flex",alignItems:"center"}}}}},wge=ki("Card",n=>{const e=ei(n,{cardShadow:n.boxShadowCard,cardHeadPadding:n.padding,cardPaddingBase:n.paddingLG,cardActionsIconSize:n.fontSize,cardPaddingSM:12});return[Ege(e),Cge(e)]},n=>({headerBg:"transparent",headerFontSize:n.fontSizeLG,headerFontSizeSM:n.fontSize,headerHeight:n.fontSizeLG*n.lineHeightLG+n.padding*2,headerHeightSM:n.fontSize*n.lineHeight+n.paddingXS*2,actionsBg:n.colorBgContainer,actionsLiMargin:`${n.paddingSM}px 0`,tabsMarginBottom:-n.padding-n.lineWidth,extraColor:n.colorText}));var Ck=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};function Sge(n){return n.map((e,r)=>M.createElement("li",{style:{width:`${100/n.length}%`},key:`action-${r}`},M.createElement("span",null,e)))}const _ge=M.forwardRef((n,e)=>{const{prefixCls:r,className:i,rootClassName:o,style:s,extra:l,headStyle:u={},bodyStyle:c={},title:d,loading:h,bordered:p=!0,size:m,type:v,cover:y,actions:A,tabList:b,children:g,activeTabKey:w,defaultActiveTabKey:E,tabBarExtraContent:C,hoverable:_,tabProps:P={}}=n,R=Ck(n,["prefixCls","className","rootClassName","style","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),{getPrefixCls:L,direction:T,card:D}=M.useContext(Er),H=$e=>{var qe;(qe=n.onTabChange)===null||qe===void 0||qe.call(n,$e)},V=M.useMemo(()=>{let $e=!1;return M.Children.forEach(g,qe=>{qe&&qe.type&&qe.type===uH&&($e=!0)}),$e},[g]),B=L("card",r),[O,F]=wge(B),N=M.createElement(rH,{loading:!0,active:!0,paragraph:{rows:4},title:!1},g),z=w!==void 0,j=Object.assign(Object.assign({},P),{[z?"activeKey":"defaultActiveKey"]:z?w:E,tabBarExtraContent:C});let G;const Q=Jl(m),X=!Q||Q==="default"?"large":Q,J=b?M.createElement(hge,Object.assign({size:X},j,{className:`${B}-head-tabs`,onChange:H,items:b.map($e=>{var{tab:qe}=$e,Ke=Ck($e,["tab"]);return Object.assign({label:qe},Ke)})})):null;(d||l||J)&&(G=M.createElement("div",{className:`${B}-head`,style:u},M.createElement("div",{className:`${B}-head-wrapper`},d&&M.createElement("div",{className:`${B}-head-title`},d),l&&M.createElement("div",{className:`${B}-extra`},l)),J));const Z=y?M.createElement("div",{className:`${B}-cover`},y):null,oe=M.createElement("div",{className:`${B}-body`,style:c},h?N:g),ce=A&&A.length?M.createElement("ul",{className:`${B}-actions`},Sge(A)):null,Be=co(R,["onTabChange"]),ge=bt(B,D==null?void 0:D.className,{[`${B}-loading`]:h,[`${B}-bordered`]:p,[`${B}-hoverable`]:_,[`${B}-contain-grid`]:V,[`${B}-contain-tabs`]:b&&b.length,[`${B}-${Q}`]:Q,[`${B}-type-${v}`]:!!v,[`${B}-rtl`]:T==="rtl"},i,o,F),Re=Object.assign(Object.assign({},D==null?void 0:D.style),s);return O(M.createElement("div",Object.assign({ref:e},Be,{className:ge,style:Re}),G,Z,oe,ce))}),Mge=_ge;var Tge=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const Rge=n=>{const{prefixCls:e,className:r,avatar:i,title:o,description:s}=n,l=Tge(n,["prefixCls","className","avatar","title","description"]),{getPrefixCls:u}=M.useContext(Er),c=u("card",e),d=bt(`${c}-meta`,r),h=i?M.createElement("div",{className:`${c}-meta-avatar`},i):null,p=o?M.createElement("div",{className:`${c}-meta-title`},o):null,m=s?M.createElement("div",{className:`${c}-meta-description`},s):null,v=p||m?M.createElement("div",{className:`${c}-meta-detail`},p,m):null;return M.createElement("div",Object.assign({},l,{className:d}),h,v)},Ige=Rge,FP=Mge;FP.Grid=uH;FP.Meta=Ige;const tg=FP;function Pge(n,e,r){var i=r||{},o=i.noTrailing,s=o===void 0?!1:o,l=i.noLeading,u=l===void 0?!1:l,c=i.debounceMode,d=c===void 0?void 0:c,h,p=!1,m=0;function v(){h&&clearTimeout(h)}function y(b){var g=b||{},w=g.upcomingOnly,E=w===void 0?!1:w;v(),p=!E}function A(){for(var b=arguments.length,g=new Array(b),w=0;w<b;w++)g[w]=arguments[w];var E=this,C=Date.now()-m;if(p)return;function _(){m=Date.now(),e.apply(E,g)}function P(){h=void 0}!u&&d&&!h&&_(),v(),d===void 0&&C>n?u?(m=Date.now(),s||(h=setTimeout(d?P:_,n))):_():s!==!0&&(h=setTimeout(d?P:_,d===void 0?n-C:n))}return A.cancel=y,A}function Lge(n,e,r){var i=r||{},o=i.atBegin,s=o===void 0?!1:o;return Pge(n,e,{debounceMode:s!==!1})}function Is(n,e){return n[e]}var Bge=["children"];function dH(n,e){return"".concat(n,"-").concat(e)}function Oge(n){return n&&n.type&&n.type.isTreeNode}function YA(n,e){return n??e}function ng(n){var e=n||{},r=e.title,i=e._title,o=e.key,s=e.children,l=r||"title";return{title:l,_title:i||[l],key:o||"key",children:s||"children"}}function fH(n){function e(r){var i=qa(r);return i.map(function(o){if(!Oge(o))return no(!o,"Tree/TreeNode can only accept TreeNode as children."),null;var s=o.key,l=o.props,u=l.children,c=Br(l,Bge),d=ht({key:s},c),h=e(u);return h.length&&(d.children=h),d}).filter(function(o){return o})}return e(n)}function Y2(n,e,r){var i=ng(r),o=i._title,s=i.key,l=i.children,u=new Set(e===!0?[]:e),c=[];function d(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return h.map(function(m,v){for(var y=dH(p?p.pos:"0",v),A=YA(m[s],y),b,g=0;g<o.length;g+=1){var w=o[g];if(m[w]!==void 0){b=m[w];break}}var E=ht(ht({},co(m,[].concat(mn(o),[s,l]))),{},{title:b,key:A,parent:p,pos:y,children:null,data:m,isStart:[].concat(mn(p?p.isStart:[]),[v===0]),isEnd:[].concat(mn(p?p.isEnd:[]),[v===h.length-1])});return c.push(E),e===!0||u.has(A)?E.children=d(m[l]||[],E):E.children=[],E})}return d(n),c}function Dge(n,e,r){var i={};Tr(r)==="object"?i=r:i={externalGetKey:r},i=i||{};var o=i,s=o.childrenPropName,l=o.externalGetKey,u=o.fieldNames,c=ng(u),d=c.key,h=c.children,p=s||h,m;l?typeof l=="string"?m=function(A){return A[l]}:typeof l=="function"&&(m=function(A){return l(A)}):m=function(A,b){return YA(A[d],b)};function v(y,A,b,g){var w=y?y[p]:n,E=y?dH(b.pos,A):"0",C=y?[].concat(mn(g),[y]):[];if(y){var _=m(y,E),P={node:y,index:A,pos:E,key:_,parentPos:b.node?b.pos:null,level:b.level+1,nodes:C};e(P)}w&&w.forEach(function(R,L){v(R,L,{node:y,pos:E,level:b?b.level+1:-1},C)})}v(null)}function UP(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.initWrapper,i=e.processEntity,o=e.onProcessFinished,s=e.externalGetKey,l=e.childrenPropName,u=e.fieldNames,c=arguments.length>2?arguments[2]:void 0,d=s||c,h={},p={},m={posEntities:h,keyEntities:p};return r&&(m=r(m)||m),Dge(n,function(v){var y=v.node,A=v.index,b=v.pos,g=v.key,w=v.parentPos,E=v.level,C=v.nodes,_={node:y,nodes:C,index:A,key:g,pos:b,level:E},P=YA(g,b);h[b]=_,p[P]=_,_.parent=h[w],_.parent&&(_.parent.children=_.parent.children||[],_.parent.children.push(_)),i&&i(_,m)},{externalGetKey:d,childrenPropName:l,fieldNames:u}),o&&o(m),m}function N0(n,e){var r=e.expandedKeys,i=e.selectedKeys,o=e.loadedKeys,s=e.loadingKeys,l=e.checkedKeys,u=e.halfCheckedKeys,c=e.dragOverNodeKey,d=e.dropPosition,h=e.keyEntities,p=Is(h,n),m={eventKey:n,expanded:r.indexOf(n)!==-1,selected:i.indexOf(n)!==-1,loaded:o.indexOf(n)!==-1,loading:s.indexOf(n)!==-1,checked:l.indexOf(n)!==-1,halfChecked:u.indexOf(n)!==-1,pos:String(p?p.pos:""),dragOver:c===n&&d===0,dragOverGapTop:c===n&&d===-1,dragOverGapBottom:c===n&&d===1};return m}function No(n){var e=n.data,r=n.expanded,i=n.selected,o=n.checked,s=n.loaded,l=n.loading,u=n.halfChecked,c=n.dragOver,d=n.dragOverGapTop,h=n.dragOverGapBottom,p=n.pos,m=n.active,v=n.eventKey,y=ht(ht({},e),{},{expanded:r,selected:i,checked:o,loaded:s,loading:l,halfChecked:u,dragOver:c,dragOverGapTop:d,dragOverGapBottom:h,pos:p,active:m,key:v});return"props"in y||Object.defineProperty(y,"props",{get:function(){return no(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),n}}),y}function hH(n,e){var r=new Set;return n.forEach(function(i){e.has(i)||r.add(i)}),r}function Nge(n){var e=n||{},r=e.disabled,i=e.disableCheckbox,o=e.checkable;return!!(r||i)||o===!1}function kge(n,e,r,i){for(var o=new Set(n),s=new Set,l=0;l<=r;l+=1){var u=e.get(l)||new Set;u.forEach(function(p){var m=p.key,v=p.node,y=p.children,A=y===void 0?[]:y;o.has(m)&&!i(v)&&A.filter(function(b){return!i(b.node)}).forEach(function(b){o.add(b.key)})})}for(var c=new Set,d=r;d>=0;d-=1){var h=e.get(d)||new Set;h.forEach(function(p){var m=p.parent,v=p.node;if(!(i(v)||!p.parent||c.has(p.parent.key))){if(i(p.parent.node)){c.add(m.key);return}var y=!0,A=!1;(m.children||[]).filter(function(b){return!i(b.node)}).forEach(function(b){var g=b.key,w=o.has(g);y&&!w&&(y=!1),!A&&(w||s.has(g))&&(A=!0)}),y&&o.add(m.key),A&&s.add(m.key),c.add(m.key)}})}return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(hH(s,o))}}function Fge(n,e,r,i,o){for(var s=new Set(n),l=new Set(e),u=0;u<=i;u+=1){var c=r.get(u)||new Set;c.forEach(function(m){var v=m.key,y=m.node,A=m.children,b=A===void 0?[]:A;!s.has(v)&&!l.has(v)&&!o(y)&&b.filter(function(g){return!o(g.node)}).forEach(function(g){s.delete(g.key)})})}l=new Set;for(var d=new Set,h=i;h>=0;h-=1){var p=r.get(h)||new Set;p.forEach(function(m){var v=m.parent,y=m.node;if(!(o(y)||!m.parent||d.has(m.parent.key))){if(o(m.parent.node)){d.add(v.key);return}var A=!0,b=!1;(v.children||[]).filter(function(g){return!o(g.node)}).forEach(function(g){var w=g.key,E=s.has(w);A&&!E&&(A=!1),!b&&(E||l.has(w))&&(b=!0)}),A||s.delete(v.key),b&&l.add(v.key),d.add(v.key)}})}return{checkedKeys:Array.from(s),halfCheckedKeys:Array.from(hH(l,s))}}function Bm(n,e,r,i){var o=[],s;i?s=i:s=Nge;var l=new Set(n.filter(function(h){var p=!!Is(r,h);return p||o.push(h),p})),u=new Map,c=0;Object.keys(r).forEach(function(h){var p=r[h],m=p.level,v=u.get(m);v||(v=new Set,u.set(m,v)),v.add(p),c=Math.max(c,m)}),no(!o.length,"Tree missing follow keys: ".concat(o.slice(0,100).map(function(h){return"'".concat(h,"'")}).join(", ")));var d;return e===!0?d=kge(l,u,c,s):d=Fge(l,e.halfCheckedKeys,u,c,s),d}const Uge=n=>{const{checkboxCls:e}=n,r=`${e}-wrapper`;return[{[`${e}-group`]:Object.assign(Object.assign({},$i(n)),{display:"inline-flex",flexWrap:"wrap",columnGap:n.marginXS,[`> ${n.antCls}-row`]:{flex:1}}),[r]:Object.assign(Object.assign({},$i(n)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${r}`]:{marginInlineStart:0},[`&${r}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[e]:Object.assign(Object.assign({},$i(n)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:n.borderRadiusSM,alignSelf:"center",[`${e}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${e}-inner`]:Object.assign({},Bu(n))},[`${e}-inner`]:{boxSizing:"border-box",position:"relative",top:0,insetInlineStart:0,display:"block",width:n.checkboxSize,height:n.checkboxSize,direction:"ltr",backgroundColor:n.colorBgContainer,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadiusSM,borderCollapse:"separate",transition:`all ${n.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:n.checkboxSize/14*5,height:n.checkboxSize/14*8,border:`${n.lineWidthBold}px solid ${n.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${n.motionDurationFast} ${n.motionEaseInBack}, opacity ${n.motionDurationFast}`}},"& + span":{paddingInlineStart:n.paddingXS,paddingInlineEnd:n.paddingXS}})},{[`
        ${r}:not(${r}-disabled),
        ${e}:not(${e}-disabled)
      `]:{[`&:hover ${e}-inner`]:{borderColor:n.colorPrimary}},[`${r}:not(${r}-disabled)`]:{[`&:hover ${e}-checked:not(${e}-disabled) ${e}-inner`]:{backgroundColor:n.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${e}-checked:not(${e}-disabled):after`]:{borderColor:n.colorPrimaryHover}}},{[`${e}-checked`]:{[`${e}-inner`]:{backgroundColor:n.colorPrimary,borderColor:n.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${n.motionDurationMid} ${n.motionEaseOutBack} ${n.motionDurationFast}`}}},[`
        ${r}-checked:not(${r}-disabled),
        ${e}-checked:not(${e}-disabled)
      `]:{[`&:hover ${e}-inner`]:{backgroundColor:n.colorPrimaryHover,borderColor:"transparent"}}},{[e]:{"&-indeterminate":{[`${e}-inner`]:{backgroundColor:n.colorBgContainer,borderColor:n.colorBorder,"&:after":{top:"50%",insetInlineStart:"50%",width:n.fontSizeLG/2,height:n.fontSizeLG/2,backgroundColor:n.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}}}}},{[`${r}-disabled`]:{cursor:"not-allowed"},[`${e}-disabled`]:{[`&, ${e}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${e}-inner`]:{background:n.colorBgContainerDisabled,borderColor:n.colorBorder,"&:after":{borderColor:n.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:n.colorTextDisabled},[`&${e}-indeterminate ${e}-inner::after`]:{background:n.colorTextDisabled}}}]};function pH(n,e){const r=ei(e,{checkboxCls:`.${n}`,checkboxSize:e.controlInteractiveSize});return[Uge(r)]}const mH=ki("Checkbox",(n,e)=>{let{prefixCls:r}=e;return[pH(r,n)]}),zge=Wt.createContext(null),gH=zge;var $ge=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const Hge=(n,e)=>{var r;const{prefixCls:i,className:o,rootClassName:s,children:l,indeterminate:u=!1,style:c,onMouseEnter:d,onMouseLeave:h,skipGroup:p=!1,disabled:m}=n,v=$ge(n,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:y,direction:A,checkbox:b}=M.useContext(Er),g=M.useContext(gH),{isFormItemInput:w}=M.useContext(Du),E=M.useContext(ef),C=(r=(g==null?void 0:g.disabled)||m)!==null&&r!==void 0?r:E,_=M.useRef(v.value);M.useEffect(()=>{g==null||g.registerValue(v.value)},[]),M.useEffect(()=>{if(!p)return v.value!==_.current&&(g==null||g.cancelValue(_.current),g==null||g.registerValue(v.value),_.current=v.value),()=>g==null?void 0:g.cancelValue(v.value)},[v.value]);const P=y("checkbox",i),[R,L]=mH(P),T=Object.assign({},v);g&&!p&&(T.onChange=function(){v.onChange&&v.onChange.apply(v,arguments),g.toggleOption&&g.toggleOption({label:l,value:v.value})},T.name=g.name,T.checked=g.value.includes(v.value));const D=bt(`${P}-wrapper`,{[`${P}-rtl`]:A==="rtl",[`${P}-wrapper-checked`]:T.checked,[`${P}-wrapper-disabled`]:C,[`${P}-wrapper-in-form-item`]:w},b==null?void 0:b.className,o,s,L),H=bt({[`${P}-indeterminate`]:u},yC,L),V=u?"mixed":void 0;return R(M.createElement(bC,{component:"Checkbox",disabled:C},M.createElement("label",{className:D,style:Object.assign(Object.assign({},b==null?void 0:b.style),c),onMouseEnter:d,onMouseLeave:h},M.createElement(K$,Object.assign({"aria-checked":V},T,{prefixCls:P,className:H,disabled:C,ref:e})),l!==void 0&&M.createElement("span",null,l))))},jge=M.forwardRef(Hge),vH=jge;var Gge=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const Vge=(n,e)=>{const{defaultValue:r,children:i,options:o=[],prefixCls:s,className:l,rootClassName:u,style:c,onChange:d}=n,h=Gge(n,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:p,direction:m}=M.useContext(Er),[v,y]=M.useState(h.value||r||[]),[A,b]=M.useState([]);M.useEffect(()=>{"value"in h&&y(h.value||[])},[h.value]);const g=M.useMemo(()=>o.map(B=>typeof B=="string"||typeof B=="number"?{label:B,value:B}:B),[o]),w=B=>{b(O=>O.filter(F=>F!==B))},E=B=>{b(O=>[].concat(mn(O),[B]))},C=B=>{const O=v.indexOf(B.value),F=mn(v);O===-1?F.push(B.value):F.splice(O,1),"value"in h||y(F),d==null||d(F.filter(N=>A.includes(N)).sort((N,z)=>{const j=g.findIndex(Q=>Q.value===N),G=g.findIndex(Q=>Q.value===z);return j-G}))},_=p("checkbox",s),P=`${_}-group`,[R,L]=mH(_),T=co(h,["value","disabled"]),D=o.length?g.map(B=>M.createElement(vH,{prefixCls:_,key:B.value.toString(),disabled:"disabled"in B?B.disabled:h.disabled,value:B.value,checked:v.includes(B.value),onChange:B.onChange,className:`${P}-item`,style:B.style,title:B.title,id:B.id},B.label)):i,H={toggleOption:C,value:v,disabled:h.disabled,name:h.name,registerValue:E,cancelValue:w},V=bt(P,{[`${P}-rtl`]:m==="rtl"},l,u,L);return R(M.createElement("div",Object.assign({className:V,style:c},T,{ref:e}),M.createElement(gH.Provider,{value:H},D)))},Wge=M.forwardRef(Vge),Qge=M.memo(Wge),zP=vH;zP.Group=Qge;zP.__ANT_CHECKBOX=!0;const uE=zP,Kge=M.createContext({}),AH=Kge,Xge=n=>{const{componentCls:e}=n;return{[e]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},qge=n=>{const{componentCls:e}=n;return{[e]:{position:"relative",maxWidth:"100%",minHeight:1}}},Yge=(n,e)=>{const{componentCls:r,gridColumns:i}=n,o={};for(let s=i;s>=0;s--)s===0?(o[`${r}${e}-${s}`]={display:"none"},o[`${r}-push-${s}`]={insetInlineStart:"auto"},o[`${r}-pull-${s}`]={insetInlineEnd:"auto"},o[`${r}${e}-push-${s}`]={insetInlineStart:"auto"},o[`${r}${e}-pull-${s}`]={insetInlineEnd:"auto"},o[`${r}${e}-offset-${s}`]={marginInlineStart:0},o[`${r}${e}-order-${s}`]={order:0}):(o[`${r}${e}-${s}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${s/i*100}%`,maxWidth:`${s/i*100}%`}],o[`${r}${e}-push-${s}`]={insetInlineStart:`${s/i*100}%`},o[`${r}${e}-pull-${s}`]={insetInlineEnd:`${s/i*100}%`},o[`${r}${e}-offset-${s}`]={marginInlineStart:`${s/i*100}%`},o[`${r}${e}-order-${s}`]={order:s});return o},w3=(n,e)=>Yge(n,e),Jge=(n,e,r)=>({[`@media (min-width: ${e}px)`]:Object.assign({},w3(n,r))}),Zge=ki("Grid",n=>[Xge(n)]),eve=ki("Grid",n=>{const e=ei(n,{gridColumns:24}),r={"-sm":e.screenSMMin,"-md":e.screenMDMin,"-lg":e.screenLGMin,"-xl":e.screenXLMin,"-xxl":e.screenXXLMin};return[qge(e),w3(e,""),w3(e,"-xs"),Object.keys(r).map(i=>Jge(e,r[i],i)).reduce((i,o)=>Object.assign(Object.assign({},i),o),{})]});var tve=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};function nve(n){return typeof n=="number"?`${n} ${n} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(n)?`0 0 ${n}`:n}const rve=["xs","sm","md","lg","xl","xxl"],ive=M.forwardRef((n,e)=>{const{getPrefixCls:r,direction:i}=M.useContext(Er),{gutter:o,wrap:s}=M.useContext(AH),{prefixCls:l,span:u,order:c,offset:d,push:h,pull:p,className:m,children:v,flex:y,style:A}=n,b=tve(n,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),g=r("col",l),[w,E]=eve(g);let C={};rve.forEach(R=>{let L={};const T=n[R];typeof T=="number"?L.span=T:typeof T=="object"&&(L=T||{}),delete b[R],C=Object.assign(Object.assign({},C),{[`${g}-${R}-${L.span}`]:L.span!==void 0,[`${g}-${R}-order-${L.order}`]:L.order||L.order===0,[`${g}-${R}-offset-${L.offset}`]:L.offset||L.offset===0,[`${g}-${R}-push-${L.push}`]:L.push||L.push===0,[`${g}-${R}-pull-${L.pull}`]:L.pull||L.pull===0,[`${g}-${R}-flex-${L.flex}`]:L.flex||L.flex==="auto",[`${g}-rtl`]:i==="rtl"})});const _=bt(g,{[`${g}-${u}`]:u!==void 0,[`${g}-order-${c}`]:c,[`${g}-offset-${d}`]:d,[`${g}-push-${h}`]:h,[`${g}-pull-${p}`]:p},m,C,E),P={};if(o&&o[0]>0){const R=o[0]/2;P.paddingLeft=R,P.paddingRight=R}return y&&(P.flex=nve(y),s===!1&&!P.minWidth&&(P.minWidth=0)),w(M.createElement("div",Object.assign({},b,{style:Object.assign(Object.assign({},P),A),className:_,ref:e}),v))}),eh=ive;var ove=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};function wk(n,e){const[r,i]=M.useState(typeof n=="string"?n:""),o=()=>{if(typeof n=="string"&&i(n),typeof n=="object")for(let s=0;s<xA.length;s++){const l=xA[s];if(!e[l])continue;const u=n[l];if(u!==void 0){i(u);return}}};return M.useEffect(()=>{o()},[JSON.stringify(n),e]),r}const ave=M.forwardRef((n,e)=>{const{prefixCls:r,justify:i,align:o,className:s,style:l,children:u,gutter:c=0,wrap:d}=n,h=ove(n,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:p,direction:m}=M.useContext(Er),[v,y]=M.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[A,b]=M.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),g=wk(o,A),w=wk(i,A),E=M.useRef(c),C=b$();M.useEffect(()=>{const N=C.subscribe(z=>{b(z);const j=E.current||0;(!Array.isArray(j)&&typeof j=="object"||Array.isArray(j)&&(typeof j[0]=="object"||typeof j[1]=="object"))&&y(z)});return()=>C.unsubscribe(N)},[]);const _=()=>{const N=[void 0,void 0];return(Array.isArray(c)?c:[c,void 0]).forEach((j,G)=>{if(typeof j=="object")for(let Q=0;Q<xA.length;Q++){const X=xA[Q];if(v[X]&&j[X]!==void 0){N[G]=j[X];break}}else N[G]=j}),N},P=p("row",r),[R,L]=Zge(P),T=_(),D=bt(P,{[`${P}-no-wrap`]:d===!1,[`${P}-${w}`]:w,[`${P}-${g}`]:g,[`${P}-rtl`]:m==="rtl"},s,L),H={},V=T[0]!=null&&T[0]>0?T[0]/-2:void 0;V&&(H.marginLeft=V,H.marginRight=V),[,H.rowGap]=T;const[B,O]=T,F=M.useMemo(()=>({gutter:[B,O],wrap:d}),[B,O,d]);return R(M.createElement(AH.Provider,{value:F},M.createElement("div",Object.assign({},h,{className:D,style:Object.assign(Object.assign({},H),l),ref:e}),u)))}),yH=ave,sve=n=>{const{componentCls:e,sizePaddingEdgeHorizontal:r,colorSplit:i,lineWidth:o,textPaddingInline:s,orientationMargin:l,verticalMarginInline:u}=n;return{[e]:Object.assign(Object.assign({},$i(n)),{borderBlockStart:`${o}px solid ${i}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:u,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${o}px solid ${i}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${n.dividerHorizontalGutterMargin}px 0`},[`&-horizontal${e}-with-text`]:{display:"flex",alignItems:"center",margin:`${n.dividerHorizontalWithTextGutterMargin}px 0`,color:n.colorTextHeading,fontWeight:500,fontSize:n.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${i}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${o}px solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${e}-with-text-left`]:{"&::before":{width:`${l*100}%`},"&::after":{width:`${100-l*100}%`}},[`&-horizontal${e}-with-text-right`]:{"&::before":{width:`${100-l*100}%`},"&::after":{width:`${l*100}%`}},[`${e}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:s},"&-dashed":{background:"none",borderColor:i,borderStyle:"dashed",borderWidth:`${o}px 0 0`},[`&-horizontal${e}-with-text${e}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${e}-dashed`]:{borderInlineStartWidth:o,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${e}-with-text`]:{color:n.colorText,fontWeight:"normal",fontSize:n.fontSize},[`&-horizontal${e}-with-text-left${e}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${e}-inner-text`]:{paddingInlineStart:r}},[`&-horizontal${e}-with-text-right${e}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${e}-inner-text`]:{paddingInlineEnd:r}}})}},lve=ki("Divider",n=>{const e=ei(n,{dividerHorizontalWithTextGutterMargin:n.margin,dividerHorizontalGutterMargin:n.marginLG,sizePaddingEdgeHorizontal:0});return[sve(e)]},n=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:n.marginXS}));var cve=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const uve=n=>{const{getPrefixCls:e,direction:r,divider:i}=M.useContext(Er),{prefixCls:o,type:s="horizontal",orientation:l="center",orientationMargin:u,className:c,rootClassName:d,children:h,dashed:p,plain:m,style:v}=n,y=cve(n,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","plain","style"]),A=e("divider",o),[b,g]=lve(A),w=l.length>0?`-${l}`:l,E=!!h,C=l==="left"&&u!=null,_=l==="right"&&u!=null,P=bt(A,i==null?void 0:i.className,g,`${A}-${s}`,{[`${A}-with-text`]:E,[`${A}-with-text${w}`]:E,[`${A}-dashed`]:!!p,[`${A}-plain`]:!!m,[`${A}-rtl`]:r==="rtl",[`${A}-no-default-orientation-margin-left`]:C,[`${A}-no-default-orientation-margin-right`]:_},c,d),R=M.useMemo(()=>typeof u=="number"?u:/^\d+$/.test(u)?Number(u):u,[u]),L=Object.assign(Object.assign({},C&&{marginLeft:R}),_&&{marginRight:R});return b(M.createElement("div",Object.assign({className:P,style:Object.assign(Object.assign({},i==null?void 0:i.style),v)},y,{role:"separator"}),h&&s!=="vertical"&&M.createElement("span",{className:`${A}-inner-text`,style:L},h)))},Sk=uve;function wp(n){return!!(n.addonBefore||n.addonAfter)}function J2(n){return!!(n.prefix||n.suffix||n.allowClear)}function k0(n,e,r,i){if(r){var o=e;if(e.type==="click"){var s=n.cloneNode(!0);o=Object.create(e,{target:{value:s},currentTarget:{value:s}}),s.value="",r(o);return}if(i!==void 0){o=Object.create(e,{target:{value:n},currentTarget:{value:n}}),n.value=i,r(o);return}r(o)}}function dve(n,e){if(n){n.focus(e);var r=e||{},i=r.cursor;if(i){var o=n.value.length;switch(i){case"start":n.setSelectionRange(0,0);break;case"end":n.setSelectionRange(o,o);break;default:n.setSelectionRange(0,o)}}}}function S3(n){return typeof n>"u"||n===null?"":String(n)}var bH=function(e){var r,i,o=e.inputElement,s=e.prefixCls,l=e.prefix,u=e.suffix,c=e.addonBefore,d=e.addonAfter,h=e.className,p=e.style,m=e.disabled,v=e.readOnly,y=e.focused,A=e.triggerFocus,b=e.allowClear,g=e.value,w=e.handleReset,E=e.hidden,C=e.classes,_=e.classNames,P=e.dataAttrs,R=e.styles,L=e.components,T=(L==null?void 0:L.affixWrapper)||"span",D=(L==null?void 0:L.groupWrapper)||"span",H=(L==null?void 0:L.wrapper)||"span",V=(L==null?void 0:L.groupAddon)||"span",B=M.useRef(null),O=function(Be){var ge;(ge=B.current)!==null&&ge!==void 0&&ge.contains(Be.target)&&(A==null||A())},F=function(){var Be;if(!b)return null;var ge=!m&&!v&&g,Re="".concat(s,"-clear-icon"),$e=Tr(b)==="object"&&b!==null&&b!==void 0&&b.clearIcon?b.clearIcon:"";return Wt.createElement("span",{onClick:w,onMouseDown:function(Ke){return Ke.preventDefault()},className:bt(Re,(Be={},ct(Be,"".concat(Re,"-hidden"),!ge),ct(Be,"".concat(Re,"-has-suffix"),!!u),Be)),role:"button",tabIndex:-1},$e)},N=M.cloneElement(o,{value:g,hidden:E,className:bt((r=o.props)===null||r===void 0?void 0:r.className,!J2(e)&&!wp(e)&&h)||null,style:ht(ht({},(i=o.props)===null||i===void 0?void 0:i.style),!J2(e)&&!wp(e)?p:{})});if(J2(e)){var z,j="".concat(s,"-affix-wrapper"),G=bt(j,(z={},ct(z,"".concat(j,"-disabled"),m),ct(z,"".concat(j,"-focused"),y),ct(z,"".concat(j,"-readonly"),v),ct(z,"".concat(j,"-input-with-clear-btn"),u&&b&&g),z),!wp(e)&&h,C==null?void 0:C.affixWrapper,_==null?void 0:_.affixWrapper),Q=(u||b)&&Wt.createElement("span",{className:bt("".concat(s,"-suffix"),_==null?void 0:_.suffix),style:R==null?void 0:R.suffix},F(),u);N=Wt.createElement(T,rn({className:G,style:ht(ht({},wp(e)?void 0:p),R==null?void 0:R.affixWrapper),hidden:!wp(e)&&E,onClick:O},P==null?void 0:P.affixWrapper,{ref:B}),l&&Wt.createElement("span",{className:bt("".concat(s,"-prefix"),_==null?void 0:_.prefix),style:R==null?void 0:R.prefix},l),M.cloneElement(o,{value:g,hidden:null}),Q)}if(wp(e)){var X="".concat(s,"-group"),J="".concat(X,"-addon"),Z=bt("".concat(s,"-wrapper"),X,C==null?void 0:C.wrapper),oe=bt("".concat(s,"-group-wrapper"),h,C==null?void 0:C.group);return Wt.createElement(D,{className:oe,style:p,hidden:E},Wt.createElement(H,{className:Z},c&&Wt.createElement(V,{className:J},c),M.cloneElement(N,{hidden:null}),d&&Wt.createElement(V,{className:J},d)))}return N},fve=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","type","classes","classNames","styles"],hve=M.forwardRef(function(n,e){var r=n.autoComplete,i=n.onChange,o=n.onFocus,s=n.onBlur,l=n.onPressEnter,u=n.onKeyDown,c=n.prefixCls,d=c===void 0?"rc-input":c,h=n.disabled,p=n.htmlSize,m=n.className,v=n.maxLength,y=n.suffix,A=n.showCount,b=n.type,g=b===void 0?"text":b,w=n.classes,E=n.classNames,C=n.styles,_=Br(n,fve),P=Co(n.defaultValue,{value:n.value}),R=Ot(P,2),L=R[0],T=R[1],D=M.useState(!1),H=Ot(D,2),V=H[0],B=H[1],O=M.useRef(null),F=function(oe){O.current&&dve(O.current,oe)};M.useImperativeHandle(e,function(){return{focus:F,blur:function(){var oe;(oe=O.current)===null||oe===void 0||oe.blur()},setSelectionRange:function(oe,ce,Be){var ge;(ge=O.current)===null||ge===void 0||ge.setSelectionRange(oe,ce,Be)},select:function(){var oe;(oe=O.current)===null||oe===void 0||oe.select()},input:O.current}}),M.useEffect(function(){B(function(Z){return Z&&h?!1:Z})},[h]);var N=function(oe){n.value===void 0&&T(oe.target.value),O.current&&k0(O.current,oe,i)},z=function(oe){l&&oe.key==="Enter"&&l(oe),u==null||u(oe)},j=function(oe){B(!0),o==null||o(oe)},G=function(oe){B(!1),s==null||s(oe)},Q=function(oe){T(""),F(),O.current&&k0(O.current,oe,i)},X=function(){var oe=co(n,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","classes","htmlSize","styles","classNames"]);return Wt.createElement("input",rn({autoComplete:r},oe,{onChange:N,onFocus:j,onBlur:G,onKeyDown:z,className:bt(d,ct({},"".concat(d,"-disabled"),h),E==null?void 0:E.input),style:C==null?void 0:C.input,ref:O,size:p,type:g}))},J=function(){var oe=Number(v)>0;if(y||A){var ce=S3(L),Be=mn(ce).length,ge=Tr(A)==="object"?A.formatter({value:ce,count:Be,maxLength:v}):"".concat(Be).concat(oe?" / ".concat(v):"");return Wt.createElement(Wt.Fragment,null,!!A&&Wt.createElement("span",{className:bt("".concat(d,"-show-count-suffix"),ct({},"".concat(d,"-show-count-has-suffix"),!!y),E==null?void 0:E.count),style:ht({},C==null?void 0:C.count)},ge),y)}return null};return Wt.createElement(bH,rn({},_,{prefixCls:d,className:m,inputElement:X(),handleReset:Q,value:S3(L),focused:V,triggerFocus:F,suffix:J(),disabled:h,classes:w,classNames:E,styles:C}))});const pve=n=>{const{getPrefixCls:e,direction:r}=M.useContext(Er),{prefixCls:i,className:o}=n,s=e("input-group",i),l=e("input"),[u,c]=kP(l),d=bt(s,{[`${s}-lg`]:n.size==="large",[`${s}-sm`]:n.size==="small",[`${s}-compact`]:n.compact,[`${s}-rtl`]:r==="rtl"},c,o),h=M.useContext(Du),p=M.useMemo(()=>Object.assign(Object.assign({},h),{isFormItemInput:!1}),[h]);return u(M.createElement("span",{className:d,style:n.style,onMouseEnter:n.onMouseEnter,onMouseLeave:n.onMouseLeave,onFocus:n.onFocus,onBlur:n.onBlur},M.createElement(Du.Provider,{value:p},n.children)))},mve=pve;function xH(n,e){const r=M.useRef([]),i=()=>{r.current.push(setTimeout(()=>{var o,s,l,u;!((o=n.current)===null||o===void 0)&&o.input&&((s=n.current)===null||s===void 0?void 0:s.input.getAttribute("type"))==="password"&&(!((l=n.current)===null||l===void 0)&&l.input.hasAttribute("value"))&&((u=n.current)===null||u===void 0||u.input.removeAttribute("value"))}))};return M.useEffect(()=>(e&&i(),()=>r.current.forEach(o=>{o&&clearTimeout(o)})),[]),i}function gve(n){return!!(n.prefix||n.suffix||n.allowClear)}var vve=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};function Ave(n,e){if(!n)return;n.focus(e);const{cursor:r}=e||{};if(r){const i=n.value.length;switch(r){case"start":n.setSelectionRange(0,0);break;case"end":n.setSelectionRange(i,i);break;default:n.setSelectionRange(0,i);break}}}const $P=M.forwardRef((n,e)=>{var r;const{prefixCls:i,bordered:o=!0,status:s,size:l,disabled:u,onBlur:c,onFocus:d,suffix:h,allowClear:p,addonAfter:m,addonBefore:v,className:y,style:A,styles:b,rootClassName:g,onChange:w,classNames:E}=n,C=vve(n,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames"]),{getPrefixCls:_,direction:P,input:R}=Wt.useContext(Er),L=_("input",i),T=M.useRef(null),[D,H]=kP(L),{compactSize:V,compactItemClassnames:B}=GA(L,P),O=Jl(Re=>{var $e;return($e=l??V)!==null&&$e!==void 0?$e:Re}),F=Wt.useContext(ef),N=u??F,{status:z,hasFeedback:j,feedbackIcon:G}=M.useContext(Du),Q=yP(z,s),X=gve(n)||!!j;M.useRef(X);const J=xH(T,!0),Z=Re=>{J(),c==null||c(Re)},oe=Re=>{J(),d==null||d(Re)},ce=Re=>{J(),w==null||w(Re)},Be=(j||h)&&Wt.createElement(Wt.Fragment,null,h,j&&G);let ge;return typeof p=="object"&&(p!=null&&p.clearIcon)?ge=p:p&&(ge={clearIcon:Wt.createElement(zA,null)}),D(Wt.createElement(hve,Object.assign({ref:zs(e,T),prefixCls:L,autoComplete:R==null?void 0:R.autoComplete},C,{disabled:N,onBlur:Z,onFocus:oe,style:Object.assign(Object.assign({},R==null?void 0:R.style),A),styles:Object.assign(Object.assign({},R==null?void 0:R.styles),b),suffix:Be,allowClear:ge,className:bt(y,g,B,R==null?void 0:R.className),onChange:ce,addonAfter:m&&Wt.createElement(nE,null,Wt.createElement(LN,{override:!0,status:!0},m)),addonBefore:v&&Wt.createElement(nE,null,Wt.createElement(LN,{override:!0,status:!0},v)),classNames:Object.assign(Object.assign(Object.assign({},E),R==null?void 0:R.classNames),{input:bt({[`${L}-sm`]:O==="small",[`${L}-lg`]:O==="large",[`${L}-rtl`]:P==="rtl",[`${L}-borderless`]:!o},!X&&Pm(L,Q),E==null?void 0:E.input,(r=R==null?void 0:R.classNames)===null||r===void 0?void 0:r.input,H)}),classes:{affixWrapper:bt({[`${L}-affix-wrapper-sm`]:O==="small",[`${L}-affix-wrapper-lg`]:O==="large",[`${L}-affix-wrapper-rtl`]:P==="rtl",[`${L}-affix-wrapper-borderless`]:!o},Pm(`${L}-affix-wrapper`,Q,j),H),wrapper:bt({[`${L}-group-rtl`]:P==="rtl"},H),group:bt({[`${L}-group-wrapper-sm`]:O==="small",[`${L}-group-wrapper-lg`]:O==="large",[`${L}-group-wrapper-rtl`]:P==="rtl",[`${L}-group-wrapper-disabled`]:N},Pm(`${L}-group-wrapper`,Q,j),H)}})))});var yve=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const bve=n=>n?M.createElement(Sz,null):M.createElement(xre,null),xve={click:"onClick",hover:"onMouseOver"},Eve=M.forwardRef((n,e)=>{const{visibilityToggle:r=!0}=n,i=typeof r=="object"&&r.visible!==void 0,[o,s]=M.useState(()=>i?r.visible:!1),l=M.useRef(null);M.useEffect(()=>{i&&s(r.visible)},[i,r]);const u=xH(l),c=()=>{const{disabled:_}=n;_||(o&&u(),s(P=>{var R;const L=!P;return typeof r=="object"&&((R=r.onVisibleChange)===null||R===void 0||R.call(r,L)),L}))},d=_=>{const{action:P="click",iconRender:R=bve}=n,L=xve[P]||"",T=R(o),D={[L]:c,className:`${_}-icon`,key:"passwordIcon",onMouseDown:H=>{H.preventDefault()},onMouseUp:H=>{H.preventDefault()}};return M.cloneElement(M.isValidElement(T)?T:M.createElement("span",null,T),D)},{className:h,prefixCls:p,inputPrefixCls:m,size:v}=n,y=yve(n,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:A}=M.useContext(Er),b=A("input",m),g=A("input-password",p),w=r&&d(g),E=bt(g,h,{[`${g}-${v}`]:!!v}),C=Object.assign(Object.assign({},co(y,["suffix","iconRender","visibilityToggle"])),{type:o?"text":"password",className:E,prefixCls:b,suffix:w});return v&&(C.size=v),M.createElement($P,Object.assign({ref:zs(e,l)},C))}),Cve=Eve;var wve=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const Sve=M.forwardRef((n,e)=>{const{prefixCls:r,inputPrefixCls:i,className:o,size:s,suffix:l,enterButton:u=!1,addonAfter:c,loading:d,disabled:h,onSearch:p,onChange:m,onCompositionStart:v,onCompositionEnd:y}=n,A=wve(n,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:b,direction:g}=M.useContext(Er),w=M.useRef(!1),E=b("input-search",r),C=b("input",i),{compactSize:_}=GA(E,g),P=Jl(Q=>{var X;return(X=s??_)!==null&&X!==void 0?X:Q}),R=M.useRef(null),L=Q=>{Q&&Q.target&&Q.type==="click"&&p&&p(Q.target.value,Q,{source:"clear"}),m&&m(Q)},T=Q=>{var X;document.activeElement===((X=R.current)===null||X===void 0?void 0:X.input)&&Q.preventDefault()},D=Q=>{var X,J;p&&p((J=(X=R.current)===null||X===void 0?void 0:X.input)===null||J===void 0?void 0:J.value,Q,{source:"input"})},H=Q=>{w.current||d||D(Q)},V=typeof u=="boolean"?M.createElement(kI,null):null,B=`${E}-button`;let O;const F=u||{},N=F.type&&F.type.__ANT_BUTTON===!0;N||F.type==="button"?O=ya(F,Object.assign({onMouseDown:T,onClick:Q=>{var X,J;(J=(X=F==null?void 0:F.props)===null||X===void 0?void 0:X.onClick)===null||J===void 0||J.call(X,Q),D(Q)},key:"enterButton"},N?{className:B,size:P}:{})):O=M.createElement(Cc,{className:B,type:u?"primary":void 0,size:P,disabled:h,key:"enterButton",onMouseDown:T,onClick:D,loading:d,icon:V},u),c&&(O=[O,ya(c,{key:"addonAfter"})]);const z=bt(E,{[`${E}-rtl`]:g==="rtl",[`${E}-${P}`]:!!P,[`${E}-with-button`]:!!u},o),j=Q=>{w.current=!0,v==null||v(Q)},G=Q=>{w.current=!1,y==null||y(Q)};return M.createElement($P,Object.assign({ref:zs(R,e),onPressEnter:H},A,{size:P,onCompositionStart:j,onCompositionEnd:G,prefixCls:C,addonAfter:O,suffix:l,onChange:L,className:z,disabled:h}))}),_ve=Sve;var Mve=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,Tve=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],Z2={},Xs;function Rve(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=n.getAttribute("id")||n.getAttribute("data-reactid")||n.getAttribute("name");if(e&&Z2[r])return Z2[r];var i=window.getComputedStyle(n),o=i.getPropertyValue("box-sizing")||i.getPropertyValue("-moz-box-sizing")||i.getPropertyValue("-webkit-box-sizing"),s=parseFloat(i.getPropertyValue("padding-bottom"))+parseFloat(i.getPropertyValue("padding-top")),l=parseFloat(i.getPropertyValue("border-bottom-width"))+parseFloat(i.getPropertyValue("border-top-width")),u=Tve.map(function(d){return"".concat(d,":").concat(i.getPropertyValue(d))}).join(";"),c={sizingStyle:u,paddingSize:s,borderSize:l,boxSizing:o};return e&&r&&(Z2[r]=c),c}function Ive(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;Xs||(Xs=document.createElement("textarea"),Xs.setAttribute("tab-index","-1"),Xs.setAttribute("aria-hidden","true"),document.body.appendChild(Xs)),n.getAttribute("wrap")?Xs.setAttribute("wrap",n.getAttribute("wrap")):Xs.removeAttribute("wrap");var o=Rve(n,e),s=o.paddingSize,l=o.borderSize,u=o.boxSizing,c=o.sizingStyle;Xs.setAttribute("style","".concat(c,";").concat(Mve)),Xs.value=n.value||n.placeholder||"";var d=void 0,h=void 0,p,m=Xs.scrollHeight;if(u==="border-box"?m+=l:u==="content-box"&&(m-=s),r!==null||i!==null){Xs.value=" ";var v=Xs.scrollHeight-s;r!==null&&(d=v*r,u==="border-box"&&(d=d+s+l),m=Math.max(d,m)),i!==null&&(h=v*i,u==="border-box"&&(h=h+s+l),p=m>h?"":"hidden",m=Math.min(h,m))}var y={height:m,overflowY:p,resize:"none"};return d&&(y.minHeight=d),h&&(y.maxHeight=h),y}var Pve=["prefixCls","onPressEnter","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],e_=0,t_=1,n_=2,Lve=M.forwardRef(function(n,e){var r=n,i=r.prefixCls;r.onPressEnter;var o=r.defaultValue,s=r.value,l=r.autoSize,u=r.onResize,c=r.className,d=r.style,h=r.disabled,p=r.onChange;r.onInternalAutoSize;var m=Br(r,Pve),v=Co(o,{value:s,postState:function(oe){return oe??""}}),y=Ot(v,2),A=y[0],b=y[1],g=function(oe){b(oe.target.value),p==null||p(oe)},w=M.useRef();M.useImperativeHandle(e,function(){return{textArea:w.current}});var E=M.useMemo(function(){return l&&Tr(l)==="object"?[l.minRows,l.maxRows]:[]},[l]),C=Ot(E,2),_=C[0],P=C[1],R=!!l,L=function(){try{if(document.activeElement===w.current){var oe=w.current,ce=oe.selectionStart,Be=oe.selectionEnd,ge=oe.scrollTop;w.current.setSelectionRange(ce,Be),w.current.scrollTop=ge}}catch{}},T=M.useState(n_),D=Ot(T,2),H=D[0],V=D[1],B=M.useState(),O=Ot(B,2),F=O[0],N=O[1],z=function(){V(e_)};mi(function(){R&&z()},[s,_,P,R]),mi(function(){if(H===e_)V(t_);else if(H===t_){var Z=Ive(w.current,!1,_,P);V(n_),N(Z)}else L()},[H]);var j=M.useRef(),G=function(){Oi.cancel(j.current)},Q=function(oe){H===n_&&(u==null||u(oe),l&&(G(),j.current=Oi(function(){z()})))};M.useEffect(function(){return G},[]);var X=R?F:null,J=ht(ht({},d),X);return(H===e_||H===t_)&&(J.overflowY="hidden",J.overflowX="hidden"),M.createElement(Qa,{onResize:Q,disabled:!(l||u)},M.createElement("textarea",rn({},m,{ref:w,style:J,className:bt(i,c,ct({},"".concat(i,"-disabled"),h)),disabled:h,value:A,onChange:g})))}),Bve=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","classes","showCount","className","style","disabled","hidden","classNames","styles","onResize"];function EH(n,e){return mn(n||"").slice(0,e).join("")}function _k(n,e,r,i){var o=r;return n?o=EH(r,i):mn(e||"").length<r.length&&mn(r||"").length>i&&(o=e),o}var Ove=Wt.forwardRef(function(n,e){var r,i=n.defaultValue,o=n.value,s=n.onFocus,l=n.onBlur,u=n.onChange,c=n.allowClear,d=n.maxLength,h=n.onCompositionStart,p=n.onCompositionEnd,m=n.suffix,v=n.prefixCls,y=v===void 0?"rc-textarea":v,A=n.classes,b=n.showCount,g=n.className,w=n.style,E=n.disabled,C=n.hidden,_=n.classNames,P=n.styles,R=n.onResize,L=Br(n,Bve),T=Co(i,{value:o,defaultValue:i}),D=Ot(T,2),H=D[0],V=D[1],B=M.useRef(null),O=Wt.useState(!1),F=Ot(O,2),N=F[0],z=F[1],j=Wt.useState(!1),G=Ot(j,2),Q=G[0],X=G[1],J=Wt.useRef(),Z=Wt.useRef(0),oe=Wt.useState(null),ce=Ot(oe,2),Be=ce[0],ge=ce[1],Re=function(){var fe;(fe=B.current)===null||fe===void 0||fe.textArea.focus()};M.useImperativeHandle(e,function(){return{resizableTextArea:B.current,focus:Re,blur:function(){var fe;(fe=B.current)===null||fe===void 0||fe.textArea.blur()}}}),M.useEffect(function(){z(function(ye){return!E&&ye})},[E]);var $e=Number(d)>0,qe=function(fe){X(!0),J.current=H,Z.current=fe.currentTarget.selectionStart,h==null||h(fe)},Ke=function(fe){X(!1);var pe=fe.currentTarget.value;if($e){var _e,Ce=Z.current>=d+1||Z.current===((_e=J.current)===null||_e===void 0?void 0:_e.length);pe=_k(Ce,J.current,pe,d)}pe!==H&&(V(pe),k0(fe.currentTarget,fe,u,pe)),p==null||p(fe)},ke=function(fe){var pe=fe.target.value;if(!Q&&$e){var _e=fe.target.selectionStart>=d+1||fe.target.selectionStart===pe.length||!fe.target.selectionStart;pe=_k(_e,H,pe,d)}V(pe),k0(fe.currentTarget,fe,u,pe)},st=function(fe){var pe=L.onPressEnter,_e=L.onKeyDown;fe.key==="Enter"&&pe&&pe(fe),_e==null||_e(fe)},ot=function(fe){z(!0),s==null||s(fe)},it=function(fe){z(!1),l==null||l(fe)},ft=function(fe){var pe;V(""),Re(),k0((pe=B.current)===null||pe===void 0?void 0:pe.textArea,fe,u)},Et=S3(H);!Q&&$e&&o==null&&(Et=EH(Et,d));var gt=m,Ct;if(b){var Tt=mn(Et).length;Tr(b)==="object"?Ct=b.formatter({value:Et,count:Tt,maxLength:d}):Ct="".concat(Tt).concat($e?" / ".concat(d):""),gt=Wt.createElement(Wt.Fragment,null,gt,Wt.createElement("span",{className:bt("".concat(y,"-data-count"),_==null?void 0:_.count),style:P==null?void 0:P.count},Ct))}var Dt=function(fe){var pe;R==null||R(fe),(pe=B.current)!==null&&pe!==void 0&&pe.textArea.style.height&&ge(!0)},Yt=!L.autoSize&&!b&&!c,Ve=Wt.createElement(bH,{value:Et,allowClear:c,handleReset:ft,suffix:gt,prefixCls:y,classes:{affixWrapper:bt(A==null?void 0:A.affixWrapper,(r={},ct(r,"".concat(y,"-show-count"),b),ct(r,"".concat(y,"-textarea-allow-clear"),c),r))},disabled:E,focused:N,className:g,style:ht(ht({},w),Be&&!Yt?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof Ct=="string"?Ct:void 0}},hidden:C,inputElement:Wt.createElement(Lve,rn({},L,{onKeyDown:st,onChange:ke,onFocus:ot,onBlur:it,onCompositionStart:qe,onCompositionEnd:Ke,className:_==null?void 0:_.textarea,style:ht(ht({},P==null?void 0:P.textarea),{},{resize:w==null?void 0:w.resize}),disabled:E,prefixCls:y,onResize:Dt,ref:B}))});return Ve}),Dve=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const Nve=M.forwardRef((n,e)=>{const{prefixCls:r,bordered:i=!0,size:o,disabled:s,status:l,allowClear:u,showCount:c,classNames:d,rootClassName:h,className:p}=n,m=Dve(n,["prefixCls","bordered","size","disabled","status","allowClear","showCount","classNames","rootClassName","className"]),{getPrefixCls:v,direction:y}=M.useContext(Er),A=Jl(o),b=M.useContext(ef),g=s??b,{status:w,hasFeedback:E,feedbackIcon:C}=M.useContext(Du),_=yP(w,l),P=M.useRef(null);M.useImperativeHandle(e,()=>{var H;return{resizableTextArea:(H=P.current)===null||H===void 0?void 0:H.resizableTextArea,focus:V=>{var B,O;Ave((O=(B=P.current)===null||B===void 0?void 0:B.resizableTextArea)===null||O===void 0?void 0:O.textArea,V)},blur:()=>{var V;return(V=P.current)===null||V===void 0?void 0:V.blur()}}});const R=v("input",r);let L;typeof u=="object"&&(u!=null&&u.clearIcon)?L=u:u&&(L={clearIcon:M.createElement(zA,null)});const[T,D]=kP(R);return T(M.createElement(Ove,Object.assign({},m,{disabled:g,allowClear:L,className:bt(p,h),classes:{affixWrapper:bt(`${R}-textarea-affix-wrapper`,{[`${R}-affix-wrapper-rtl`]:y==="rtl",[`${R}-affix-wrapper-borderless`]:!i,[`${R}-affix-wrapper-sm`]:A==="small",[`${R}-affix-wrapper-lg`]:A==="large",[`${R}-textarea-show-count`]:c},Pm(`${R}-affix-wrapper`,_),D)},classNames:Object.assign(Object.assign({},d),{textarea:bt({[`${R}-borderless`]:!i,[`${R}-sm`]:A==="small",[`${R}-lg`]:A==="large"},Pm(R,_),D,d==null?void 0:d.textarea)}),prefixCls:R,suffix:E&&M.createElement("span",{className:`${R}-textarea-suffix`},C),showCount:c,ref:P})))}),CH=Nve,JA=$P;JA.Group=mve;JA.Search=_ve;JA.TextArea=CH;JA.Password=Cve;const kve=JA;function Mk(n){return["small","middle","large"].includes(n)}function Tk(n){return n?typeof n=="number"&&!Number.isNaN(n):!1}const wH=Wt.createContext({latestIndex:0}),Fve=wH.Provider,Uve=n=>{let{className:e,index:r,children:i,split:o,style:s}=n;const{latestIndex:l}=M.useContext(wH);return i==null?null:M.createElement(M.Fragment,null,M.createElement("div",{className:e,style:s},i),r<l&&o&&M.createElement("span",{className:`${e}-split`},o))},zve=Uve;var $ve=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const Hve=M.forwardRef((n,e)=>{var r,i;const{getPrefixCls:o,space:s,direction:l}=M.useContext(Er),{size:u=(s==null?void 0:s.size)||"small",align:c,className:d,rootClassName:h,children:p,direction:m="horizontal",prefixCls:v,split:y,style:A,wrap:b=!1,classNames:g,styles:w}=n,E=$ve(n,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[C,_]=Array.isArray(u)?u:[u,u],P=Mk(_),R=Mk(C),L=Tk(_),T=Tk(C),D=qa(p,{keepEmpty:!0}),H=c===void 0&&m==="horizontal"?"center":c,V=o("space",v),[B,O]=O9(V),F=bt(V,s==null?void 0:s.className,O,`${V}-${m}`,{[`${V}-rtl`]:l==="rtl",[`${V}-align-${H}`]:H,[`${V}-gap-row-${_}`]:P,[`${V}-gap-col-${C}`]:R},d,h),N=bt(`${V}-item`,(r=g==null?void 0:g.item)!==null&&r!==void 0?r:(i=s==null?void 0:s.classNames)===null||i===void 0?void 0:i.item);let z=0;const j=D.map((X,J)=>{var Z,oe;X!=null&&(z=J);const ce=X&&X.key||`${N}-${J}`;return M.createElement(zve,{className:N,key:ce,index:J,split:y,style:(Z=w==null?void 0:w.item)!==null&&Z!==void 0?Z:(oe=s==null?void 0:s.styles)===null||oe===void 0?void 0:oe.item},X)}),G=M.useMemo(()=>({latestIndex:z}),[z]);if(D.length===0)return null;const Q={};return b&&(Q.flexWrap="wrap"),!R&&T&&(Q.columnGap=C),!P&&L&&(Q.rowGap=_),B(M.createElement("div",Object.assign({ref:e,className:F,style:Object.assign(Object.assign(Object.assign({},Q),s==null?void 0:s.style),A)},E),M.createElement(Fve,{value:G},j)))}),SH=Hve;SH.Compact=kle;const jve=SH;var Gve=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const _H=n=>{const{getPopupContainer:e,getPrefixCls:r,direction:i}=M.useContext(Er),{prefixCls:o,type:s="default",danger:l,disabled:u,loading:c,onClick:d,htmlType:h,children:p,className:m,menu:v,arrow:y,autoFocus:A,overlay:b,trigger:g,align:w,open:E,onOpenChange:C,placement:_,getPopupContainer:P,href:R,icon:L=M.createElement(NI,null),title:T,buttonsRender:D=qe=>qe,mouseEnterDelay:H,mouseLeaveDelay:V,overlayClassName:B,overlayStyle:O,destroyPopupOnHide:F,dropdownRender:N}=n,z=Gve(n,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","dropdownRender"]),j=r("dropdown",o),G=`${j}-button`,[Q,X]=G$(j),J={menu:v,arrow:y,autoFocus:A,align:w,disabled:u,trigger:u?[]:g,onOpenChange:C,getPopupContainer:P||e,mouseEnterDelay:H,mouseLeaveDelay:V,overlayClassName:B,overlayStyle:O,destroyPopupOnHide:F,dropdownRender:N},{compactSize:Z,compactItemClassnames:oe}=GA(j,i),ce=bt(G,oe,m,X);"overlay"in n&&(J.overlay=b),"open"in n&&(J.open=E),"placement"in n?J.placement=_:J.placement=i==="rtl"?"bottomLeft":"bottomRight";const Be=M.createElement(Cc,{type:s,danger:l,disabled:u,loading:c,onClick:d,htmlType:h,href:R,title:T},p),ge=M.createElement(Cc,{type:s,danger:l,icon:L}),[Re,$e]=D([Be,ge]);return Q(M.createElement(jve.Compact,Object.assign({className:ce,size:Z,block:!0},z),Re,M.createElement(V$,Object.assign({},J),$e)))};_H.__ANT_BUTTON=!0;const Vve=_H,MH=V$;MH.Button=Vve;const TH=MH;function Rk(n){var e=n.getBoundingClientRect(),r=document.documentElement;return{left:e.left+(window.pageXOffset||r.scrollLeft)-(r.clientLeft||document.body.clientLeft||0),top:e.top+(window.pageYOffset||r.scrollTop)-(r.clientTop||document.body.clientTop||0)}}function Vb(n,e,r,i){var o=Gx.unstable_batchedUpdates?function(l){Gx.unstable_batchedUpdates(r,l)}:r;return n!=null&&n.addEventListener&&n.addEventListener(e,o,i),{remove:function(){n!=null&&n.removeEventListener&&n.removeEventListener(e,o,i)}}}function Wve(n,e,r){return typeof r=="boolean"?r:n.length?!0:qa(e).some(o=>o.type===U$)}const Qve=n=>{const{componentCls:e,bodyBg:r,lightSiderBg:i,lightTriggerBg:o,lightTriggerColor:s}=n;return{[`${e}-sider-light`]:{background:i,[`${e}-sider-trigger`]:{color:s,background:o},[`${e}-sider-zero-width-trigger`]:{color:s,background:o,border:`1px solid ${r}`,borderInlineStart:0}}}},Kve=Qve,Xve=n=>{const{antCls:e,componentCls:r,colorText:i,triggerColor:o,footerBg:s,triggerBg:l,headerHeight:u,headerPadding:c,headerColor:d,footerPadding:h,triggerHeight:p,zeroTriggerHeight:m,zeroTriggerWidth:v,motionDurationMid:y,motionDurationSlow:A,fontSize:b,borderRadius:g,bodyBg:w,headerBg:E,siderBg:C}=n;return{[r]:Object.assign(Object.assign({display:"flex",flex:"auto",flexDirection:"column",minHeight:0,background:w,"&, *":{boxSizing:"border-box"},[`&${r}-has-sider`]:{flexDirection:"row",[`> ${r}, > ${r}-content`]:{width:0}},[`${r}-header, &${r}-footer`]:{flex:"0 0 auto"},[`${r}-sider`]:{position:"relative",minWidth:0,background:C,transition:`all ${y}, background 0s`,"&-children":{height:"100%",marginTop:-.1,paddingTop:.1,[`${e}-menu${e}-menu-inline-collapsed`]:{width:"auto"}},"&-has-trigger":{paddingBottom:p},"&-right":{order:1},"&-trigger":{position:"fixed",bottom:0,zIndex:1,height:p,color:o,lineHeight:`${p}px`,textAlign:"center",background:l,cursor:"pointer",transition:`all ${y}`},"&-zero-width":{"> *":{overflow:"hidden"},"&-trigger":{position:"absolute",top:u,insetInlineEnd:-v,zIndex:1,width:v,height:m,color:o,fontSize:n.fontSizeXL,display:"flex",alignItems:"center",justifyContent:"center",background:C,borderStartStartRadius:0,borderStartEndRadius:g,borderEndEndRadius:g,borderEndStartRadius:0,cursor:"pointer",transition:`background ${A} ease`,"&::after":{position:"absolute",inset:0,background:"transparent",transition:`all ${A}`,content:'""'},"&:hover::after":{background:"rgba(255, 255, 255, 0.2)"},"&-right":{insetInlineStart:-v,borderStartStartRadius:g,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:g}}}}},Kve(n)),{"&-rtl":{direction:"rtl"}}),[`${r}-header`]:{height:u,padding:c,color:d,lineHeight:`${u}px`,background:E,[`${e}-menu`]:{lineHeight:"inherit"}},[`${r}-footer`]:{padding:h,color:i,fontSize:b,background:s},[`${r}-content`]:{flex:"auto",minHeight:0}}},RH=ki("Layout",n=>[Xve(n)],n=>{const{colorBgLayout:e,controlHeight:r,controlHeightLG:i,colorText:o,controlHeightSM:s,marginXXS:l,colorTextLightSolid:u,colorBgContainer:c}=n,d=i*1.25;return{colorBgHeader:"#001529",colorBgBody:e,colorBgTrigger:"#002140",bodyBg:e,headerBg:"#001529",headerHeight:r*2,headerPadding:`0 ${d}px`,headerColor:o,footerPadding:`${s}px ${d}px`,footerBg:e,siderBg:"#001529",triggerHeight:i+l*2,triggerBg:"#002140",triggerColor:u,zeroTriggerWidth:i,zeroTriggerHeight:i,lightSiderBg:c,lightTriggerBg:c,lightTriggerColor:o}},{deprecatedTokens:[["colorBgBody","bodyBg"],["colorBgHeader","headerBg"],["colorBgTrigger","triggerBg"]]});var IH=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};function DC(n){let{suffixCls:e,tagName:r,displayName:i}=n;return o=>M.forwardRef((l,u)=>M.createElement(o,Object.assign({ref:u,suffixCls:e,tagName:r},l)))}const HP=M.forwardRef((n,e)=>{const{prefixCls:r,suffixCls:i,className:o,tagName:s}=n,l=IH(n,["prefixCls","suffixCls","className","tagName"]),{getPrefixCls:u}=M.useContext(Er),c=u("layout",r),[d,h]=RH(c),p=i?`${c}-${i}`:c;return d(M.createElement(s,Object.assign({className:bt(r||p,o,h),ref:e},l)))}),qve=M.forwardRef((n,e)=>{const{direction:r}=M.useContext(Er),[i,o]=M.useState([]),{prefixCls:s,className:l,rootClassName:u,children:c,hasSider:d,tagName:h,style:p}=n,m=IH(n,["prefixCls","className","rootClassName","children","hasSider","tagName","style"]),v=co(m,["suffixCls"]),{getPrefixCls:y,layout:A}=M.useContext(Er),b=y("layout",s),g=Wve(i,c,d),[w,E]=RH(b),C=bt(b,{[`${b}-has-sider`]:g,[`${b}-rtl`]:r==="rtl"},A==null?void 0:A.className,l,u,E),_=M.useMemo(()=>({siderHook:{addSider:P=>{o(R=>[].concat(mn(R),[P]))},removeSider:P=>{o(R=>R.filter(L=>L!==P))}}}),[]);return w(M.createElement(F$.Provider,{value:_},M.createElement(h,Object.assign({ref:e,className:C,style:Object.assign(Object.assign({},A==null?void 0:A.style),p)},v),c)))}),Yve=DC({tagName:"div",displayName:"Layout"})(qve),Jve=DC({suffixCls:"header",tagName:"header",displayName:"Header"})(HP),Zve=DC({suffixCls:"footer",tagName:"footer",displayName:"Footer"})(HP),e0e=DC({suffixCls:"content",tagName:"main",displayName:"Content"})(HP),t0e=Yve,ZA=t0e;ZA.Header=Jve;ZA.Footer=Zve;ZA.Content=e0e;ZA.Sider=U$;const _3=ZA;function n0e(){const n=Object.assign({},arguments.length<=0?void 0:arguments[0]);for(let e=1;e<arguments.length;e++){const r=e<0||arguments.length<=e?void 0:arguments[e];r&&Object.keys(r).forEach(i=>{const o=r[i];o!==void 0&&(n[i]=o)})}return n}var zf={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40};const r0e={items_per_page:"/",jump_to:"",jump_to_confirm:"",page:"",prev_page:"",next_page:"",prev_5:" 5 ",next_5:" 5 ",prev_3:" 3 ",next_3:" 3 ",page_size:""};var PH=function(n){ql(r,n);var e=Yl(r);function r(){var i;ca(this,r);for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return i=e.call.apply(e,[this].concat(s)),i.state={goInputText:""},i.getValidValue=function(){var u=i.state.goInputText;return!u||Number.isNaN(u)?void 0:Number(u)},i.buildOptionText=function(u){return"".concat(u," ").concat(i.props.locale.items_per_page)},i.changeSize=function(u){i.props.changeSize(Number(u))},i.handleChange=function(u){i.setState({goInputText:u.target.value})},i.handleBlur=function(u){var c=i.props,d=c.goButton,h=c.quickGo,p=c.rootPrefixCls,m=i.state.goInputText;d||m===""||(i.setState({goInputText:""}),!(u.relatedTarget&&(u.relatedTarget.className.indexOf("".concat(p,"-item-link"))>=0||u.relatedTarget.className.indexOf("".concat(p,"-item"))>=0))&&h(i.getValidValue()))},i.go=function(u){var c=i.state.goInputText;c!==""&&(u.keyCode===zf.ENTER||u.type==="click")&&(i.setState({goInputText:""}),i.props.quickGo(i.getValidValue()))},i}return ua(r,[{key:"getPageSizeOptions",value:function(){var o=this.props,s=o.pageSize,l=o.pageSizeOptions;return l.some(function(u){return u.toString()===s.toString()})?l:l.concat([s.toString()]).sort(function(u,c){var d=Number.isNaN(Number(u))?0:Number(u),h=Number.isNaN(Number(c))?0:Number(c);return d-h})}},{key:"render",value:function(){var o=this,s=this.props,l=s.pageSize,u=s.locale,c=s.rootPrefixCls,d=s.changeSize,h=s.quickGo,p=s.goButton,m=s.selectComponentClass,v=s.buildOptionText,y=s.selectPrefixCls,A=s.disabled,b=this.state.goInputText,g="".concat(c,"-options"),w=m,E=null,C=null,_=null;if(!d&&!h)return null;var P=this.getPageSizeOptions();if(d&&w){var R=P.map(function(L,T){return Wt.createElement(w.Option,{key:T,value:L.toString()},(v||o.buildOptionText)(L))});E=Wt.createElement(w,{disabled:A,prefixCls:y,showSearch:!1,className:"".concat(g,"-size-changer"),optionLabelProp:"children",popupMatchSelectWidth:!1,value:(l||P[0]).toString(),onChange:this.changeSize,getPopupContainer:function(T){return T.parentNode},"aria-label":u.page_size,defaultOpen:!1},R)}return h&&(p&&(_=typeof p=="boolean"?Wt.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:A,className:"".concat(g,"-quick-jumper-button")},u.jump_to_confirm):Wt.createElement("span",{onClick:this.go,onKeyUp:this.go},p)),C=Wt.createElement("div",{className:"".concat(g,"-quick-jumper")},u.jump_to,Wt.createElement("input",{disabled:A,type:"text",value:b,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur,"aria-label":u.page}),u.page,_)),Wt.createElement("li",{className:"".concat(g)},E,C)}}]),r}(Wt.Component);PH.defaultProps={pageSizeOptions:["10","20","50","100"]};var Lv=function(e){var r,i=e.rootPrefixCls,o=e.page,s=e.active,l=e.className,u=e.showTitle,c=e.onClick,d=e.onKeyPress,h=e.itemRender,p="".concat(i,"-item"),m=bt(p,"".concat(p,"-").concat(o),(r={},ct(r,"".concat(p,"-active"),s),ct(r,"".concat(p,"-disabled"),!o),ct(r,e.className,l),r)),v=function(){c(o)},y=function(g){d(g,c,o)},A=h(o,"page",Wt.createElement("a",{rel:"nofollow"},o));return A?Wt.createElement("li",{title:u?o.toString():null,className:m,onClick:v,onKeyPress:y,tabIndex:0},A):null};function M3(){}function Ik(n){var e=Number(n);return typeof e=="number"&&!Number.isNaN(e)&&isFinite(e)&&Math.floor(e)===e}var i0e=function(e,r,i){return i};function ad(n,e,r){var i=typeof n>"u"?e.pageSize:n;return Math.floor((r.total-1)/i)+1}var LH=function(n){ql(r,n);var e=Yl(r);function r(i){var o;ca(this,r),o=e.call(this,i),o.paginationNode=Wt.createRef(),o.getJumpPrevPage=function(){return Math.max(1,o.state.current-(o.props.showLessItems?3:5))},o.getJumpNextPage=function(){return Math.min(ad(void 0,o.state,o.props),o.state.current+(o.props.showLessItems?3:5))},o.getItemIcon=function(d,h){var p=o.props.prefixCls,m=d||Wt.createElement("button",{type:"button","aria-label":h,className:"".concat(p,"-item-link")});return typeof d=="function"&&(m=Wt.createElement(d,ht({},o.props))),m},o.isValid=function(d){var h=o.props.total;return Ik(d)&&d!==o.state.current&&Ik(h)&&h>0},o.shouldDisplayQuickJumper=function(){var d=o.props,h=d.showQuickJumper,p=d.total,m=o.state.pageSize;return p<=m?!1:h},o.handleKeyDown=function(d){(d.keyCode===zf.ARROW_UP||d.keyCode===zf.ARROW_DOWN)&&d.preventDefault()},o.handleKeyUp=function(d){var h=o.getValidValue(d),p=o.state.currentInputValue;h!==p&&o.setState({currentInputValue:h}),d.keyCode===zf.ENTER?o.handleChange(h):d.keyCode===zf.ARROW_UP?o.handleChange(h-1):d.keyCode===zf.ARROW_DOWN&&o.handleChange(h+1)},o.handleBlur=function(d){var h=o.getValidValue(d);o.handleChange(h)},o.changePageSize=function(d){var h=o.state.current,p=ad(d,o.state,o.props);h=h>p?p:h,p===0&&(h=o.state.current),typeof d=="number"&&("pageSize"in o.props||o.setState({pageSize:d}),"current"in o.props||o.setState({current:h,currentInputValue:h})),o.props.onShowSizeChange(h,d),"onChange"in o.props&&o.props.onChange&&o.props.onChange(h,d)},o.handleChange=function(d){var h=o.props,p=h.disabled,m=h.onChange,v=o.state,y=v.pageSize,A=v.current,b=v.currentInputValue;if(o.isValid(d)&&!p){var g=ad(void 0,o.state,o.props),w=d;return d>g?w=g:d<1&&(w=1),"current"in o.props||o.setState({current:w}),w!==b&&o.setState({currentInputValue:w}),m(w,y),w}return A},o.prev=function(){o.hasPrev()&&o.handleChange(o.state.current-1)},o.next=function(){o.hasNext()&&o.handleChange(o.state.current+1)},o.jumpPrev=function(){o.handleChange(o.getJumpPrevPage())},o.jumpNext=function(){o.handleChange(o.getJumpNextPage())},o.hasPrev=function(){return o.state.current>1},o.hasNext=function(){return o.state.current<ad(void 0,o.state,o.props)},o.runIfEnter=function(d,h){if(d.key==="Enter"||d.charCode===13){for(var p=arguments.length,m=new Array(p>2?p-2:0),v=2;v<p;v++)m[v-2]=arguments[v];h.apply(void 0,m)}},o.runIfEnterPrev=function(d){o.runIfEnter(d,o.prev)},o.runIfEnterNext=function(d){o.runIfEnter(d,o.next)},o.runIfEnterJumpPrev=function(d){o.runIfEnter(d,o.jumpPrev)},o.runIfEnterJumpNext=function(d){o.runIfEnter(d,o.jumpNext)},o.handleGoTO=function(d){(d.keyCode===zf.ENTER||d.type==="click")&&o.handleChange(o.state.currentInputValue)},o.renderPrev=function(d){var h=o.props,p=h.prevIcon,m=h.itemRender,v=m(d,"prev",o.getItemIcon(p,"prev page")),y=!o.hasPrev();return M.isValidElement(v)?M.cloneElement(v,{disabled:y}):v},o.renderNext=function(d){var h=o.props,p=h.nextIcon,m=h.itemRender,v=m(d,"next",o.getItemIcon(p,"next page")),y=!o.hasNext();return M.isValidElement(v)?M.cloneElement(v,{disabled:y}):v};var s=i.onChange!==M3,l="current"in i;l&&!s&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var u=i.defaultCurrent;"current"in i&&(u=i.current);var c=i.defaultPageSize;return"pageSize"in i&&(c=i.pageSize),u=Math.min(u,ad(c,void 0,i)),o.state={current:u,currentInputValue:u,pageSize:c},o}return ua(r,[{key:"componentDidUpdate",value:function(o,s){var l=this.props.prefixCls;if(s.current!==this.state.current&&this.paginationNode.current){var u=this.paginationNode.current.querySelector(".".concat(l,"-item-").concat(s.current));if(u&&document.activeElement===u){var c;u==null||(c=u.blur)===null||c===void 0||c.call(u)}}}},{key:"getValidValue",value:function(o){var s=o.target.value,l=ad(void 0,this.state,this.props),u=this.state.currentInputValue,c;return s===""?c=s:Number.isNaN(Number(s))?c=u:s>=l?c=l:c=Number(s),c}},{key:"getShowSizeChanger",value:function(){var o=this.props,s=o.showSizeChanger,l=o.total,u=o.totalBoundaryShowSizeChanger;return typeof s<"u"?s:l>u}},{key:"render",value:function(){var o=this.props,s=o.prefixCls,l=o.className,u=o.style,c=o.disabled,d=o.hideOnSinglePage,h=o.total,p=o.locale,m=o.showQuickJumper,v=o.showLessItems,y=o.showTitle,A=o.showTotal,b=o.simple,g=o.itemRender,w=o.showPrevNextJumpers,E=o.jumpPrevIcon,C=o.jumpNextIcon,_=o.selectComponentClass,P=o.selectPrefixCls,R=o.pageSizeOptions,L=this.state,T=L.current,D=L.pageSize,H=L.currentInputValue;if(d===!0&&h<=D)return null;var V=ad(void 0,this.state,this.props),B=[],O=null,F=null,N=null,z=null,j=null,G=m&&m.goButton,Q=v?1:2,X=T-1>0?T-1:0,J=T+1<V?T+1:V,Z=Ql(this.props,{aria:!0,data:!0}),oe=A&&Wt.createElement("li",{className:"".concat(s,"-total-text")},A(h,[h===0?0:(T-1)*D+1,T*D>h?h:T*D]));if(b){G&&(typeof G=="boolean"?j=Wt.createElement("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},p.jump_to_confirm):j=Wt.createElement("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO},G),j=Wt.createElement("li",{title:y?"".concat(p.jump_to).concat(T,"/").concat(V):null,className:"".concat(s,"-simple-pager")},j));var ce=this.renderPrev(X);return Wt.createElement("ul",rn({className:bt(s,"".concat(s,"-simple"),ct({},"".concat(s,"-disabled"),c),l),style:u,ref:this.paginationNode},Z),oe,ce?Wt.createElement("li",{title:y?p.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:bt("".concat(s,"-prev"),ct({},"".concat(s,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev()},ce):null,Wt.createElement("li",{title:y?"".concat(T,"/").concat(V):null,className:"".concat(s,"-simple-pager")},Wt.createElement("input",{type:"text",value:H,disabled:c,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,onBlur:this.handleBlur,size:3}),Wt.createElement("span",{className:"".concat(s,"-slash")},"/"),V),Wt.createElement("li",{title:y?p.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:bt("".concat(s,"-next"),ct({},"".concat(s,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext()},this.renderNext(J)),j)}if(V<=3+Q*2){var Be={locale:p,rootPrefixCls:s,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:y,itemRender:g};V||B.push(Wt.createElement(Lv,rn({},Be,{key:"noPager",page:1,className:"".concat(s,"-item-disabled")})));for(var ge=1;ge<=V;ge+=1){var Re=T===ge;B.push(Wt.createElement(Lv,rn({},Be,{key:ge,page:ge,active:Re})))}}else{var $e=v?p.prev_3:p.prev_5,qe=v?p.next_3:p.next_5,Ke=g(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(E,"prev page")),ke=g(this.getJumpNextPage(),"jump-next",this.getItemIcon(C,"next page"));w&&(O=Ke?Wt.createElement("li",{title:y?$e:null,key:"prev",onClick:this.jumpPrev,tabIndex:0,onKeyPress:this.runIfEnterJumpPrev,className:bt("".concat(s,"-jump-prev"),ct({},"".concat(s,"-jump-prev-custom-icon"),!!E))},Ke):null,F=ke?Wt.createElement("li",{title:y?qe:null,key:"next",tabIndex:0,onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:bt("".concat(s,"-jump-next"),ct({},"".concat(s,"-jump-next-custom-icon"),!!C))},ke):null),z=Wt.createElement(Lv,{locale:p,last:!0,rootPrefixCls:s,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:V,page:V,active:!1,showTitle:y,itemRender:g}),N=Wt.createElement(Lv,{locale:p,rootPrefixCls:s,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:y,itemRender:g});var st=Math.max(1,T-Q),ot=Math.min(T+Q,V);T-1<=Q&&(ot=1+Q*2),V-T<=Q&&(st=V-Q*2);for(var it=st;it<=ot;it+=1){var ft=T===it;B.push(Wt.createElement(Lv,{locale:p,rootPrefixCls:s,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:it,page:it,active:ft,showTitle:y,itemRender:g}))}T-1>=Q*2&&T!==1+2&&(B[0]=M.cloneElement(B[0],{className:"".concat(s,"-item-after-jump-prev")}),B.unshift(O)),V-T>=Q*2&&T!==V-2&&(B[B.length-1]=M.cloneElement(B[B.length-1],{className:"".concat(s,"-item-before-jump-next")}),B.push(F)),st!==1&&B.unshift(N),ot!==V&&B.push(z)}var Et=!this.hasPrev()||!V,gt=!this.hasNext()||!V,Ct=this.renderPrev(X),Tt=this.renderNext(J);return Wt.createElement("ul",rn({className:bt(s,l,ct({},"".concat(s,"-disabled"),c)),style:u,ref:this.paginationNode},Z),oe,Ct?Wt.createElement("li",{title:y?p.prev_page:null,onClick:this.prev,tabIndex:Et?null:0,onKeyPress:this.runIfEnterPrev,className:bt("".concat(s,"-prev"),ct({},"".concat(s,"-disabled"),Et)),"aria-disabled":Et},Ct):null,B,Tt?Wt.createElement("li",{title:y?p.next_page:null,onClick:this.next,tabIndex:gt?null:0,onKeyPress:this.runIfEnterNext,className:bt("".concat(s,"-next"),ct({},"".concat(s,"-disabled"),gt)),"aria-disabled":gt},Tt):null,Wt.createElement(PH,{disabled:c,locale:p,rootPrefixCls:s,selectComponentClass:_,selectPrefixCls:P,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:T,pageSize:D,pageSizeOptions:R,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:G}))}}],[{key:"getDerivedStateFromProps",value:function(o,s){var l={};if("current"in o&&(l.current=o.current,o.current!==s.current&&(l.currentInputValue=l.current)),"pageSize"in o&&o.pageSize!==s.pageSize){var u=s.current,c=ad(o.pageSize,s,o);u=u>c?c:u,"current"in o||(l.current=u,l.currentInputValue=u),l.pageSize=o.pageSize}return l}}]),r}(Wt.Component);LH.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:M3,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:M3,locale:r0e,style:{},itemRender:i0e,totalBoundaryShowSizeChanger:50};const BH=n=>M.createElement(_C,Object.assign({},n,{showSearch:!0,size:"small"})),OH=n=>M.createElement(_C,Object.assign({},n,{showSearch:!0,size:"middle"}));BH.Option=_C.Option;OH.Option=_C.Option;const o0e=n=>{const{componentCls:e}=n;return{[`${e}-disabled`]:{"&, &:hover":{cursor:"not-allowed",[`${e}-item-link`]:{color:n.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",[`${e}-item-link`]:{color:n.colorTextDisabled,cursor:"not-allowed"}}},[`&${e}-disabled`]:{cursor:"not-allowed",[`${e}-item`]:{cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},a:{color:n.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:n.colorBorder,backgroundColor:n.itemActiveBgDisabled,"&:hover, &:active":{backgroundColor:n.itemActiveBgDisabled},a:{color:n.itemActiveColorDisabled}}},[`${e}-item-link`]:{color:n.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},[`${e}-simple&`]:{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}}},[`${e}-simple-pager`]:{color:n.colorTextDisabled},[`${e}-jump-prev, ${e}-jump-next`]:{[`${e}-item-link-icon`]:{opacity:0},[`${e}-item-ellipsis`]:{opacity:1}}},[`&${e}-simple`]:{[`${e}-prev, ${e}-next`]:{[`&${e}-disabled ${e}-item-link`]:{"&:hover, &:active":{backgroundColor:"transparent"}}}}}},a0e=n=>{const{componentCls:e}=n;return{[`&${e}-mini ${e}-total-text, &${e}-mini ${e}-simple-pager`]:{height:n.itemSizeSM,lineHeight:`${n.itemSizeSM}px`},[`&${e}-mini ${e}-item`]:{minWidth:n.itemSizeSM,height:n.itemSizeSM,margin:0,lineHeight:`${n.itemSizeSM-2}px`},[`&${e}-mini:not(${e}-disabled) ${e}-item:not(${e}-item-active)`]:{backgroundColor:"transparent",borderColor:"transparent","&:hover":{backgroundColor:n.colorBgTextHover},"&:active":{backgroundColor:n.colorBgTextActive}},[`&${e}-mini ${e}-prev, &${e}-mini ${e}-next`]:{minWidth:n.itemSizeSM,height:n.itemSizeSM,margin:0,lineHeight:`${n.itemSizeSM}px`},[`&${e}-mini:not(${e}-disabled)`]:{[`${e}-prev, ${e}-next`]:{[`&:hover ${e}-item-link`]:{backgroundColor:n.colorBgTextHover},[`&:active ${e}-item-link`]:{backgroundColor:n.colorBgTextActive},[`&${e}-disabled:hover ${e}-item-link`]:{backgroundColor:"transparent"}}},[`
    &${e}-mini ${e}-prev ${e}-item-link,
    &${e}-mini ${e}-next ${e}-item-link
    `]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:n.itemSizeSM,lineHeight:`${n.itemSizeSM}px`}},[`&${e}-mini ${e}-jump-prev, &${e}-mini ${e}-jump-next`]:{height:n.itemSizeSM,marginInlineEnd:0,lineHeight:`${n.itemSizeSM}px`},[`&${e}-mini ${e}-options`]:{marginInlineStart:n.paginationMiniOptionsMarginInlineStart,"&-size-changer":{top:n.miniOptionsSizeChangerTop},"&-quick-jumper":{height:n.itemSizeSM,lineHeight:`${n.itemSizeSM}px`,input:Object.assign(Object.assign({},DP(n)),{width:n.paginationMiniQuickJumperInputWidth,height:n.controlHeightSM})}}}},s0e=n=>{const{componentCls:e}=n;return{[`
    &${e}-simple ${e}-prev,
    &${e}-simple ${e}-next
    `]:{height:n.itemSizeSM,lineHeight:`${n.itemSizeSM}px`,verticalAlign:"top",[`${e}-item-link`]:{height:n.itemSizeSM,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:n.colorBgTextHover},"&:active":{backgroundColor:n.colorBgTextActive},"&::after":{height:n.itemSizeSM,lineHeight:`${n.itemSizeSM}px`}}},[`&${e}-simple ${e}-simple-pager`]:{display:"inline-block",height:n.itemSizeSM,marginInlineEnd:n.marginXS,input:{boxSizing:"border-box",height:"100%",marginInlineEnd:n.marginXS,padding:`0 ${n.paginationItemPaddingInline}px`,textAlign:"center",backgroundColor:n.itemInputBg,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadius,outline:"none",transition:`border-color ${n.motionDurationMid}`,color:"inherit","&:hover":{borderColor:n.colorPrimary},"&:focus":{borderColor:n.colorPrimaryHover,boxShadow:`${n.inputOutlineOffset}px 0 ${n.controlOutlineWidth}px ${n.controlOutline}`},"&[disabled]":{color:n.colorTextDisabled,backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,cursor:"not-allowed"}}}}},l0e=n=>{const{componentCls:e}=n;return{[`${e}-jump-prev, ${e}-jump-next`]:{outline:0,[`${e}-item-container`]:{position:"relative",[`${e}-item-link-icon`]:{color:n.colorPrimary,fontSize:n.fontSizeSM,opacity:0,transition:`all ${n.motionDurationMid}`,"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},[`${e}-item-ellipsis`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:n.colorTextDisabled,fontFamily:"Arial, Helvetica, sans-serif",letterSpacing:n.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:n.paginationEllipsisTextIndent,opacity:1,transition:`all ${n.motionDurationMid}`}},"&:hover":{[`${e}-item-link-icon`]:{opacity:1},[`${e}-item-ellipsis`]:{opacity:0}}},[`
    ${e}-prev,
    ${e}-jump-prev,
    ${e}-jump-next
    `]:{marginInlineEnd:n.marginXS},[`
    ${e}-prev,
    ${e}-next,
    ${e}-jump-prev,
    ${e}-jump-next
    `]:{display:"inline-block",minWidth:n.itemSize,height:n.itemSize,color:n.colorText,fontFamily:n.fontFamily,lineHeight:`${n.itemSize}px`,textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:n.borderRadius,cursor:"pointer",transition:`all ${n.motionDurationMid}`},[`${e}-prev, ${e}-next`]:{fontFamily:"Arial, Helvetica, sans-serif",outline:0,button:{color:n.colorText,cursor:"pointer",userSelect:"none"},[`${e}-item-link`]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:n.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:`${n.lineWidth}px ${n.lineType} transparent`,borderRadius:n.borderRadius,outline:"none",transition:`all ${n.motionDurationMid}`},[`&:hover ${e}-item-link`]:{backgroundColor:n.colorBgTextHover},[`&:active ${e}-item-link`]:{backgroundColor:n.colorBgTextActive},[`&${e}-disabled:hover`]:{[`${e}-item-link`]:{backgroundColor:"transparent"}}},[`${e}-slash`]:{marginInlineEnd:n.paginationSlashMarginInlineEnd,marginInlineStart:n.paginationSlashMarginInlineStart},[`${e}-options`]:{display:"inline-block",marginInlineStart:n.margin,verticalAlign:"middle","&-size-changer.-select":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:n.controlHeight,marginInlineStart:n.marginXS,lineHeight:`${n.controlHeight}px`,verticalAlign:"top",input:Object.assign(Object.assign({},NP(n)),{width:n.controlHeightLG*1.25,height:n.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:n.marginXS,marginInlineEnd:n.marginXS})}}}},c0e=n=>{const{componentCls:e}=n;return{[`${e}-item`]:{display:"inline-block",minWidth:n.itemSize,height:n.itemSize,marginInlineEnd:n.marginXS,fontFamily:n.fontFamily,lineHeight:`${n.itemSize-2}px`,textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:"transparent",border:`${n.lineWidth}px ${n.lineType} transparent`,borderRadius:n.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:`0 ${n.paginationItemPaddingInline}px`,color:n.colorText,"&:hover":{textDecoration:"none"}},[`&:not(${e}-item-active)`]:{"&:hover":{transition:`all ${n.motionDurationMid}`,backgroundColor:n.colorBgTextHover},"&:active":{backgroundColor:n.colorBgTextActive}},"&-active":{fontWeight:n.fontWeightStrong,backgroundColor:n.itemActiveBg,borderColor:n.colorPrimary,a:{color:n.colorPrimary},"&:hover":{borderColor:n.colorPrimaryHover},"&:hover a":{color:n.colorPrimaryHover}}}}},u0e=n=>{const{componentCls:e}=n;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},$i(n)),{"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},[`${e}-total-text`]:{display:"inline-block",height:n.itemSize,marginInlineEnd:n.marginXS,lineHeight:`${n.itemSize-2}px`,verticalAlign:"middle"}}),c0e(n)),l0e(n)),s0e(n)),a0e(n)),o0e(n)),{[`@media only screen and (max-width: ${n.screenLG}px)`]:{[`${e}-item`]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},[`@media only screen and (max-width: ${n.screenSM}px)`]:{[`${e}-options`]:{display:"none"}}}),[`&${n.componentCls}-rtl`]:{direction:"rtl"}}},d0e=n=>{const{componentCls:e}=n;return{[`${e}${e}-disabled:not(${e}-mini)`]:{"&, &:hover":{[`${e}-item-link`]:{borderColor:n.colorBorder}},"&:focus-visible":{[`${e}-item-link`]:{borderColor:n.colorBorder}},[`${e}-item, ${e}-item-link`]:{backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,[`&:hover:not(${e}-item-active)`]:{backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,a:{color:n.colorTextDisabled}},[`&${e}-item-active`]:{backgroundColor:n.itemActiveBgDisabled}},[`${e}-prev, ${e}-next`]:{"&:hover button":{backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,color:n.colorTextDisabled},[`${e}-item-link`]:{backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder}}},[`${e}:not(${e}-mini)`]:{[`${e}-prev, ${e}-next`]:{"&:hover button":{borderColor:n.colorPrimaryHover,backgroundColor:n.itemBg},[`${e}-item-link`]:{backgroundColor:n.itemLinkBg,borderColor:n.colorBorder},[`&:hover ${e}-item-link`]:{borderColor:n.colorPrimary,backgroundColor:n.itemBg,color:n.colorPrimary},[`&${e}-disabled`]:{[`${e}-item-link`]:{borderColor:n.colorBorder,color:n.colorTextDisabled}}},[`${e}-item`]:{backgroundColor:n.itemBg,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,[`&:hover:not(${e}-item-active)`]:{borderColor:n.colorPrimary,backgroundColor:n.itemBg,a:{color:n.colorPrimary}},"&-active":{borderColor:n.colorPrimary}}}}},f0e=n=>{const{componentCls:e}=n;return{[`${e}:not(${e}-disabled)`]:{[`${e}-item`]:Object.assign({},Zm(n)),[`${e}-jump-prev, ${e}-jump-next`]:{"&:focus-visible":Object.assign({[`${e}-item-link-icon`]:{opacity:1},[`${e}-item-ellipsis`]:{opacity:0}},Bu(n))},[`${e}-prev, ${e}-next`]:{[`&:focus-visible ${e}-item-link`]:Object.assign({},Bu(n))}}}},h0e=ki("Pagination",n=>{const e=ei(n,{inputOutlineOffset:0,paginationMiniOptionsMarginInlineStart:n.marginXXS/2,paginationMiniQuickJumperInputWidth:n.controlHeightLG*1.1,paginationItemPaddingInline:n.marginXXS*1.5,paginationEllipsisLetterSpacing:n.marginXXS/2,paginationSlashMarginInlineStart:n.marginXXS,paginationSlashMarginInlineEnd:n.marginSM,paginationEllipsisTextIndent:"0.13em"},tH(n),nH(n));return[u0e(e),f0e(e),n.wireframe&&d0e(e)]},n=>({itemBg:n.colorBgContainer,itemSize:n.controlHeight,itemSizeSM:n.controlHeightSM,itemActiveBg:n.colorBgContainer,itemLinkBg:n.colorBgContainer,itemActiveColorDisabled:n.colorTextDisabled,itemActiveBgDisabled:n.controlItemBgActiveDisabled,itemInputBg:n.colorBgContainer,miniOptionsSizeChangerTop:0}));var p0e=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const m0e=n=>{const{prefixCls:e,selectPrefixCls:r,className:i,rootClassName:o,style:s,size:l,locale:u,selectComponentClass:c,responsive:d,showSizeChanger:h}=n,p=p0e(n,["prefixCls","selectPrefixCls","className","rootClassName","style","size","locale","selectComponentClass","responsive","showSizeChanger"]),{xs:m}=x$(d),{getPrefixCls:v,direction:y,pagination:A={}}=M.useContext(Er),b=v("pagination",e),[g,w]=h0e(b),E=h??A.showSizeChanger,C=M.useMemo(()=>{const V=M.createElement("span",{className:`${b}-item-ellipsis`},""),B=M.createElement("button",{className:`${b}-item-link`,type:"button",tabIndex:-1},y==="rtl"?M.createElement(fA,null):M.createElement(Qx,null)),O=M.createElement("button",{className:`${b}-item-link`,type:"button",tabIndex:-1},y==="rtl"?M.createElement(Qx,null):M.createElement(fA,null)),F=M.createElement("a",{className:`${b}-item-link`},M.createElement("div",{className:`${b}-item-container`},y==="rtl"?M.createElement(P4,{className:`${b}-item-link-icon`}):M.createElement(I4,{className:`${b}-item-link-icon`}),V)),N=M.createElement("a",{className:`${b}-item-link`},M.createElement("div",{className:`${b}-item-container`},y==="rtl"?M.createElement(I4,{className:`${b}-item-link-icon`}):M.createElement(P4,{className:`${b}-item-link-icon`}),V));return{prevIcon:B,nextIcon:O,jumpPrevIcon:F,jumpNextIcon:N}},[y,b]),[_]=$A("Pagination",n9),P=Object.assign(Object.assign({},_),u),R=Jl(l),L=R==="small"||!!(m&&!R&&d),T=v("select",r),D=bt({[`${b}-mini`]:L,[`${b}-rtl`]:y==="rtl"},A==null?void 0:A.className,i,o,w),H=Object.assign(Object.assign({},A==null?void 0:A.style),s);return g(M.createElement(LH,Object.assign({},C,p,{style:H,prefixCls:b,selectPrefixCls:T,className:D,selectComponentClass:c||(L?BH:OH),locale:P,showSizeChanger:E})))},g0e=m0e,v0e=new ui("antSpinMove",{to:{opacity:1}}),A0e=new ui("antRotate",{to:{transform:"rotate(405deg)"}}),y0e=n=>({[`${n.componentCls}`]:Object.assign(Object.assign({},$i(n)),{position:"absolute",display:"none",color:n.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${n.motionDurationSlow} ${n.motionEaseInOutCirc}`,"&-spinning":{position:"static",display:"inline-block",opacity:1},"&-nested-loading":{position:"relative",[`> div > ${n.componentCls}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:n.contentHeight,[`${n.componentCls}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:-n.dotSize/2},[`${n.componentCls}-text`]:{position:"absolute",top:"50%",width:"100%",paddingTop:(n.dotSize-n.fontSize)/2+2,textShadow:`0 1px 2px ${n.colorBgContainer}`,fontSize:n.fontSize},[`&${n.componentCls}-show-text ${n.componentCls}-dot`]:{marginTop:-(n.dotSize/2)-10},"&-sm":{[`${n.componentCls}-dot`]:{margin:-n.dotSizeSM/2},[`${n.componentCls}-text`]:{paddingTop:(n.dotSizeSM-n.fontSize)/2+2},[`&${n.componentCls}-show-text ${n.componentCls}-dot`]:{marginTop:-(n.dotSizeSM/2)-10}},"&-lg":{[`${n.componentCls}-dot`]:{margin:-(n.dotSizeLG/2)},[`${n.componentCls}-text`]:{paddingTop:(n.dotSizeLG-n.fontSize)/2+2},[`&${n.componentCls}-show-text ${n.componentCls}-dot`]:{marginTop:-(n.dotSizeLG/2)-10}}},[`${n.componentCls}-container`]:{position:"relative",transition:`opacity ${n.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:n.colorBgContainer,opacity:0,transition:`all ${n.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${n.componentCls}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:n.spinDotDefault},[`${n.componentCls}-dot`]:{position:"relative",display:"inline-block",fontSize:n.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:(n.dotSize-n.marginXXS/2)/2,height:(n.dotSize-n.marginXXS/2)/2,backgroundColor:n.colorPrimary,borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:v0e,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:A0e,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&-sm ${n.componentCls}-dot`]:{fontSize:n.dotSizeSM,i:{width:(n.dotSizeSM-n.marginXXS/2)/2,height:(n.dotSizeSM-n.marginXXS/2)/2}},[`&-lg ${n.componentCls}-dot`]:{fontSize:n.dotSizeLG,i:{width:(n.dotSizeLG-n.marginXXS)/2,height:(n.dotSizeLG-n.marginXXS)/2}},[`&${n.componentCls}-show-text ${n.componentCls}-text`]:{display:"block"}})}),b0e=ki("Spin",n=>{const e=ei(n,{spinDotDefault:n.colorTextDescription});return[y0e(e)]},n=>({contentHeight:400,dotSize:n.controlHeightLG/2,dotSizeSM:n.controlHeightLG*.35,dotSizeLG:n.controlHeight}));var x0e=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};let cx=null;function E0e(n,e){const{indicator:r}=e,i=`${n}-dot`;return r===null?null:us(r)?ya(r,{className:bt(r.props.className,i)}):us(cx)?ya(cx,{className:bt(cx.props.className,i)}):M.createElement("span",{className:bt(i,`${n}-dot-spin`)},M.createElement("i",{className:`${n}-dot-item`,key:1}),M.createElement("i",{className:`${n}-dot-item`,key:2}),M.createElement("i",{className:`${n}-dot-item`,key:3}),M.createElement("i",{className:`${n}-dot-item`,key:4}))}function C0e(n,e){return!!n&&!!e&&!isNaN(Number(e))}const w0e=n=>{const{spinPrefixCls:e,spinning:r=!0,delay:i=0,className:o,rootClassName:s,size:l="default",tip:u,wrapperClassName:c,style:d,children:h,hashId:p}=n,m=x0e(n,["spinPrefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","hashId"]),[v,y]=M.useState(()=>r&&!C0e(r,i));M.useEffect(()=>{if(r){const R=Lge(i,()=>{y(!0)});return R(),()=>{var L;(L=R==null?void 0:R.cancel)===null||L===void 0||L.call(R)}}y(!1)},[i,r]);const A=M.useMemo(()=>typeof h<"u",[h]),{direction:b,spin:g}=M.useContext(Er),w=bt(e,g==null?void 0:g.className,{[`${e}-sm`]:l==="small",[`${e}-lg`]:l==="large",[`${e}-spinning`]:v,[`${e}-show-text`]:!!u,[`${e}-rtl`]:b==="rtl"},o,s,p),E=bt(`${e}-container`,{[`${e}-blur`]:v}),C=co(m,["indicator","prefixCls"]),_=Object.assign(Object.assign({},g==null?void 0:g.style),d),P=M.createElement("div",Object.assign({},C,{style:_,className:w,"aria-live":"polite","aria-busy":v}),E0e(e,n),u&&A?M.createElement("div",{className:`${e}-text`},u):null);return A?M.createElement("div",Object.assign({},C,{className:bt(`${e}-nested-loading`,c,p)}),v&&M.createElement("div",{key:"loading"},P),M.createElement("div",{className:E,key:"container"},h)):P},DH=n=>{const{prefixCls:e}=n,{getPrefixCls:r}=M.useContext(Er),i=r("spin",e),[o,s]=b0e(i),l=Object.assign(Object.assign({},n),{spinPrefixCls:i,hashId:s});return o(M.createElement(w0e,Object.assign({},l)))};DH.setDefaultIndicator=n=>{cx=n};const S0e=DH;let Js=null,th=n=>n(),CA=[],dE={};function Pk(){const{prefixCls:n,getContainer:e,duration:r,rtl:i,maxCount:o,top:s}=dE,l=n??_9().getPrefixCls("message"),u=(e==null?void 0:e())||document.body;return{prefixCls:l,getContainer:()=>u,duration:r,rtl:i,maxCount:o,top:s}}const _0e=M.forwardRef((n,e)=>{const[r,i]=M.useState(Pk),[o,s]=L9(r),l=_9(),u=l.getRootPrefixCls(),c=l.getIconPrefixCls(),d=l.getTheme(),h=()=>{i(Pk)};return M.useEffect(h,[]),M.useImperativeHandle(e,()=>{const p=Object.assign({},o);return Object.keys(p).forEach(m=>{p[m]=function(){return h(),o[m].apply(o,arguments)}}),{instance:p,sync:h}}),M.createElement(Ih,{prefixCls:u,iconPrefixCls:c,theme:d},s)});function NC(){if(!Js){const n=document.createDocumentFragment(),e={fragment:n};Js=e,th(()=>{B9(M.createElement(_0e,{ref:r=>{const{instance:i,sync:o}=r||{};Promise.resolve().then(()=>{!e.instance&&i&&(e.instance=i,e.sync=o,NC())})}}),n)});return}Js.instance&&(CA.forEach(n=>{const{type:e,skipped:r}=n;if(!r)switch(e){case"open":{th(()=>{const i=Js.instance.open(Object.assign(Object.assign({},dE),n.config));i==null||i.then(n.resolve),n.setCloseFn(i)});break}case"destroy":th(()=>{Js==null||Js.instance.destroy(n.key)});break;default:th(()=>{var i;const o=(i=Js.instance)[e].apply(i,mn(n.args));o==null||o.then(n.resolve),n.setCloseFn(o)})}}),CA=[])}function M0e(n){dE=Object.assign(Object.assign({},dE),n),th(()=>{var e;(e=Js==null?void 0:Js.sync)===null||e===void 0||e.call(Js)})}function T0e(n){const e=eP(r=>{let i;const o={type:"open",config:n,resolve:r,setCloseFn:s=>{i=s}};return CA.push(o),()=>{i?th(()=>{i()}):o.skipped=!0}});return NC(),e}function R0e(n,e){const r=eP(i=>{let o;const s={type:n,args:e,resolve:i,setCloseFn:l=>{o=l}};return CA.push(s),()=>{o?th(()=>{o()}):s.skipped=!0}});return NC(),r}function I0e(n){CA.push({type:"destroy",key:n}),NC()}const P0e=["success","info","warning","error","loading"],L0e={open:T0e,destroy:I0e,config:M0e,useMessage:ule,_InternalPanelDoNotUseOrYouWillBeFired:nle},NH=L0e;P0e.forEach(n=>{NH[n]=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return R0e(n,r)}});const Lk=NH;var B0e={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},O0e=function(){var e=M.useRef([]),r=M.useRef(null);return M.useEffect(function(){var i=Date.now(),o=!1;e.current.forEach(function(s){if(s){o=!0;var l=s.style;l.transitionDuration=".3s, .3s, .3s, .06s",r.current&&i-r.current<100&&(l.transitionDuration="0s, 0s")}}),o&&(r.current=Date.now())}),e.current},Bk=0,D0e=la();function N0e(){var n;return D0e?(n=Bk,Bk+=1):n="TEST_OR_SSR",n}const k0e=function(n){var e=M.useState(),r=Ot(e,2),i=r[0],o=r[1];return M.useEffect(function(){o("rc_progress_".concat(N0e()))},[]),n||i};var Ok=function(e){var r=e.bg,i=e.children;return M.createElement("div",{style:{width:"100%",height:"100%",background:r}},i)};function Dk(n,e){return Object.keys(n).map(function(r){var i=parseFloat(r),o="".concat(Math.floor(i*e),"%");return"".concat(n[r]," ").concat(o)})}var F0e=M.forwardRef(function(n,e){var r=n.prefixCls,i=n.color,o=n.gradientId,s=n.radius,l=n.style,u=n.ptg,c=n.strokeLinecap,d=n.strokeWidth,h=n.size,p=n.gapDegree,m=i&&Tr(i)==="object",v=m?"#FFF":void 0,y=h/2,A=M.createElement("circle",{className:"".concat(r,"-circle-path"),r:s,cx:y,cy:y,stroke:v,strokeLinecap:c,strokeWidth:d,opacity:u===0?0:1,style:l,ref:e});if(!m)return A;var b="".concat(o,"-conic"),g=p?"".concat(180+p/2,"deg"):"0deg",w=Dk(i,(360-p)/360),E=Dk(i,1),C="conic-gradient(from ".concat(g,", ").concat(w.join(", "),")"),_="linear-gradient(to ".concat(p?"bottom":"top",", ").concat(E.join(", "),")");return M.createElement(M.Fragment,null,M.createElement("mask",{id:b},A),M.createElement("foreignObject",{x:0,y:0,width:h,height:h,mask:"url(#".concat(b,")")},M.createElement(Ok,{bg:_},M.createElement(Ok,{bg:C}))))}),h0=100,r_=function(e,r,i,o,s,l,u,c,d,h){var p=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,m=i/100*360*((360-l)/360),v=l===0?0:{bottom:0,top:180,left:90,right:-90}[u],y=(100-o)/100*r;d==="round"&&o!==100&&(y+=h/2,y>=r&&(y=r-.01));var A=h0/2;return{stroke:typeof c=="string"?c:void 0,strokeDasharray:"".concat(r,"px ").concat(e),strokeDashoffset:y+p,transform:"rotate(".concat(s+m+v,"deg)"),transformOrigin:"".concat(A,"px ").concat(A,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},U0e=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function Nk(n){var e=n??[];return Array.isArray(e)?e:[e]}var z0e=function(e){var r=ht(ht({},B0e),e),i=r.id,o=r.prefixCls,s=r.steps,l=r.strokeWidth,u=r.trailWidth,c=r.gapDegree,d=c===void 0?0:c,h=r.gapPosition,p=r.trailColor,m=r.strokeLinecap,v=r.style,y=r.className,A=r.strokeColor,b=r.percent,g=Br(r,U0e),w=h0/2,E=k0e(i),C="".concat(E,"-gradient"),_=w-l/2,P=Math.PI*2*_,R=d>0?90+d/2:-90,L=P*((360-d)/360),T=Tr(s)==="object"?s:{count:s,space:2},D=T.count,H=T.space,V=Nk(b),B=Nk(A),O=B.find(function(X){return X&&Tr(X)==="object"}),F=O&&Tr(O)==="object",N=F?"butt":m,z=r_(P,L,0,100,R,d,h,p,N,l),j=O0e(),G=function(){var J=0;return V.map(function(Z,oe){var ce=B[oe]||B[B.length-1],Be=r_(P,L,J,Z,R,d,h,ce,N,l);return J+=Z,M.createElement(F0e,{key:oe,color:ce,ptg:Z,radius:_,prefixCls:o,gradientId:C,style:Be,strokeLinecap:N,strokeWidth:l,gapDegree:d,ref:function(Re){j[oe]=Re},size:h0})}).reverse()},Q=function(){var J=Math.round(D*(V[0]/100)),Z=100/D,oe=0;return new Array(D).fill(null).map(function(ce,Be){var ge=Be<=J-1?B[0]:p,Re=ge&&Tr(ge)==="object"?"url(#".concat(C,")"):void 0,$e=r_(P,L,oe,Z,R,d,h,ge,"butt",l,H);return oe+=(L-$e.strokeDashoffset+H)*100/L,M.createElement("circle",{key:Be,className:"".concat(o,"-circle-path"),r:_,cx:w,cy:w,stroke:Re,strokeWidth:l,opacity:1,style:$e,ref:function(Ke){j[Be]=Ke}})})};return M.createElement("svg",rn({className:bt("".concat(o,"-circle"),y),viewBox:"0 0 ".concat(h0," ").concat(h0),style:v,id:i,role:"presentation"},g),!D&&M.createElement("circle",{className:"".concat(o,"-circle-trail"),r:_,cx:w,cy:w,stroke:p,strokeLinecap:N,strokeWidth:u||l,style:z}),D?Q():G())};function uh(n){return!n||n<0?0:n>100?100:n}function fE(n){let{success:e,successPercent:r}=n,i=r;return e&&"progress"in e&&(i=e.progress),e&&"percent"in e&&(i=e.percent),i}const $0e=n=>{let{percent:e,success:r,successPercent:i}=n;const o=uh(fE({success:r,successPercent:i}));return[o,uh(uh(e)-o)]},H0e=n=>{let{success:e={},strokeColor:r}=n;const{strokeColor:i}=e;return[i||Tm.green,r||null]},kC=(n,e,r)=>{var i,o,s,l;let u=-1,c=-1;if(e==="step"){const d=r.steps,h=r.strokeWidth;typeof n=="string"||typeof n>"u"?(u=n==="small"?2:14,c=h??8):typeof n=="number"?[u,c]=[n,n]:[u=14,c=8]=n,u*=d}else if(e==="line"){const d=r==null?void 0:r.strokeWidth;typeof n=="string"||typeof n>"u"?c=d||(n==="small"?6:8):typeof n=="number"?[u,c]=[n,n]:[u=-1,c=8]=n}else(e==="circle"||e==="dashboard")&&(typeof n=="string"||typeof n>"u"?[u,c]=n==="small"?[60,60]:[120,120]:typeof n=="number"?[u,c]=[n,n]:(u=(o=(i=n[0])!==null&&i!==void 0?i:n[1])!==null&&o!==void 0?o:120,c=(l=(s=n[0])!==null&&s!==void 0?s:n[1])!==null&&l!==void 0?l:120));return[u,c]},j0e=3,G0e=n=>j0e/n*100,V0e=n=>{const{prefixCls:e,trailColor:r=null,strokeLinecap:i="round",gapPosition:o,gapDegree:s,width:l=120,type:u,children:c,success:d,size:h=l}=n,[p,m]=kC(h,"circle");let{strokeWidth:v}=n;v===void 0&&(v=Math.max(G0e(p),6));const y={width:p,height:m,fontSize:p*.15+6},A=M.useMemo(()=>{if(s||s===0)return s;if(u==="dashboard")return 75},[s,u]),b=o||u==="dashboard"&&"bottom"||void 0,g=Object.prototype.toString.call(n.strokeColor)==="[object Object]",w=H0e({success:d,strokeColor:n.strokeColor}),E=bt(`${e}-inner`,{[`${e}-circle-gradient`]:g}),C=M.createElement(z0e,{percent:$0e(n),strokeWidth:v,trailWidth:v,strokeColor:w,strokeLinecap:i,trailColor:r,prefixCls:e,gapDegree:A,gapPosition:b});return M.createElement("div",{className:E,style:y},p<=20?M.createElement(xh,{title:c},M.createElement("span",null,C)):M.createElement(M.Fragment,null,C,c))},W0e=V0e;var Q0e=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const K0e=n=>{let e=[];return Object.keys(n).forEach(r=>{const i=parseFloat(r.replace(/%/g,""));isNaN(i)||e.push({key:i,value:n[r]})}),e=e.sort((r,i)=>r.key-i.key),e.map(r=>{let{key:i,value:o}=r;return`${o} ${i}%`}).join(", ")},X0e=(n,e)=>{const{from:r=Tm.blue,to:i=Tm.blue,direction:o=e==="rtl"?"to left":"to right"}=n,s=Q0e(n,["from","to","direction"]);if(Object.keys(s).length!==0){const l=K0e(s);return{backgroundImage:`linear-gradient(${o}, ${l})`}}return{backgroundImage:`linear-gradient(${o}, ${r}, ${i})`}},q0e=n=>{const{prefixCls:e,direction:r,percent:i,size:o,strokeWidth:s,strokeColor:l,strokeLinecap:u="round",children:c,trailColor:d=null,success:h}=n,p=l&&typeof l!="string"?X0e(l,r):{backgroundColor:l},m=u==="square"||u==="butt"?0:void 0,v={backgroundColor:d||void 0,borderRadius:m},y=o??[-1,s||(o==="small"?6:8)],[A,b]=kC(y,"line",{strokeWidth:s}),g=Object.assign({width:`${uh(i)}%`,height:b,borderRadius:m},p),w=fE(n),E={width:`${uh(w)}%`,height:b,borderRadius:m,backgroundColor:h==null?void 0:h.strokeColor},C={width:A<0?"100%":A,height:b};return M.createElement(M.Fragment,null,M.createElement("div",{className:`${e}-outer`,style:C},M.createElement("div",{className:`${e}-inner`,style:v},M.createElement("div",{className:`${e}-bg`,style:g}),w!==void 0?M.createElement("div",{className:`${e}-success-bg`,style:E}):null)),c)},Y0e=q0e,J0e=n=>{const{size:e,steps:r,percent:i=0,strokeWidth:o=8,strokeColor:s,trailColor:l=null,prefixCls:u,children:c}=n,d=Math.round(r*(i/100)),p=e??[e==="small"?2:14,o],[m,v]=kC(p,"step",{steps:r,strokeWidth:o}),y=m/r,A=new Array(r);for(let b=0;b<r;b++){const g=Array.isArray(s)?s[b]:s;A[b]=M.createElement("div",{key:b,className:bt(`${u}-steps-item`,{[`${u}-steps-item-active`]:b<=d-1}),style:{backgroundColor:b<=d-1?g:l,width:y,height:v}})}return M.createElement("div",{className:`${u}-steps-outer`},A,c)},Z0e=J0e,kk=n=>{const e=n?"100%":"-100%";return new ui(`antProgress${n?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${e}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${e}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},eAe=n=>{const{componentCls:e,iconCls:r}=n;return{[e]:Object.assign(Object.assign({},$i(n)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:n.fontSize,marginInlineEnd:n.marginXS,marginBottom:n.marginXS},[`${e}-outer`]:{display:"inline-block",width:"100%"},[`&${e}-show-info`]:{[`${e}-outer`]:{marginInlineEnd:`calc(-2em - ${n.marginXS}px)`,paddingInlineEnd:`calc(2em + ${n.paddingXS}px)`}},[`${e}-inner`]:{position:"relative",display:"inline-block",width:"100%",overflow:"hidden",verticalAlign:"middle",backgroundColor:n.remainingColor,borderRadius:n.lineBorderRadius},[`${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:n.defaultColor}},[`${e}-success-bg, ${e}-bg`]:{position:"relative",backgroundColor:n.defaultColor,borderRadius:n.lineBorderRadius,transition:`all ${n.motionDurationSlow} ${n.motionEaseInOutCirc}`},[`${e}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:n.colorSuccess},[`${e}-text`]:{display:"inline-block",width:"2em",marginInlineStart:n.marginXS,color:n.colorText,lineHeight:1,whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[r]:{fontSize:n.fontSize}},[`&${e}-status-active`]:{[`${e}-bg::before`]:{position:"absolute",inset:0,backgroundColor:n.colorBgContainer,borderRadius:n.lineBorderRadius,opacity:0,animationName:kk(),animationDuration:n.progressActiveMotionDuration,animationTimingFunction:n.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${e}-rtl${e}-status-active`]:{[`${e}-bg::before`]:{animationName:kk(!0)}},[`&${e}-status-exception`]:{[`${e}-bg`]:{backgroundColor:n.colorError},[`${e}-text`]:{color:n.colorError}},[`&${e}-status-exception ${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:n.colorError}},[`&${e}-status-success`]:{[`${e}-bg`]:{backgroundColor:n.colorSuccess},[`${e}-text`]:{color:n.colorSuccess}},[`&${e}-status-success ${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:n.colorSuccess}}})}},tAe=n=>{const{componentCls:e,iconCls:r}=n;return{[e]:{[`${e}-circle-trail`]:{stroke:n.remainingColor},[`&${e}-circle ${e}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${e}-circle ${e}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:n.circleTextColor,fontSize:n.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[r]:{fontSize:`${n.fontSize/n.fontSizeSM}em`}},[`${e}-circle&-status-exception`]:{[`${e}-text`]:{color:n.colorError}},[`${e}-circle&-status-success`]:{[`${e}-text`]:{color:n.colorSuccess}}},[`${e}-inline-circle`]:{lineHeight:1,[`${e}-inner`]:{verticalAlign:"bottom"}}}},nAe=n=>{const{componentCls:e}=n;return{[e]:{[`${e}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:n.progressStepMinWidth,marginInlineEnd:n.progressStepMarginInlineEnd,backgroundColor:n.remainingColor,transition:`all ${n.motionDurationSlow}`,"&-active":{backgroundColor:n.defaultColor}}}}}},rAe=n=>{const{componentCls:e,iconCls:r}=n;return{[e]:{[`${e}-small&-line, ${e}-small&-line ${e}-text ${r}`]:{fontSize:n.fontSizeSM}}}},iAe=ki("Progress",n=>{const e=n.marginXXS/2,r=ei(n,{progressStepMarginInlineEnd:e,progressStepMinWidth:e,progressActiveMotionDuration:"2.4s"});return[eAe(r),tAe(r),nAe(r),rAe(r)]},n=>({circleTextColor:n.colorText,defaultColor:n.colorInfo,remainingColor:n.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em"}));var oAe=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const aAe=["normal","exception","active","success"],sAe=M.forwardRef((n,e)=>{const{prefixCls:r,className:i,rootClassName:o,steps:s,strokeColor:l,percent:u=0,size:c="default",showInfo:d=!0,type:h="line",status:p,format:m,style:v}=n,y=oAe(n,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style"]),A=M.useMemo(()=>{var V,B;const O=fE(n);return parseInt(O!==void 0?(V=O??0)===null||V===void 0?void 0:V.toString():(B=u??0)===null||B===void 0?void 0:B.toString(),10)},[u,n.success,n.successPercent]),b=M.useMemo(()=>!aAe.includes(p)&&A>=100?"success":p||"normal",[p,A]),{getPrefixCls:g,direction:w,progress:E}=M.useContext(Er),C=g("progress",r),[_,P]=iAe(C),R=M.useMemo(()=>{if(!d)return null;const V=fE(n);let B;const O=m||(N=>`${N}%`),F=h==="line";return m||b!=="exception"&&b!=="success"?B=O(uh(u),uh(V)):b==="exception"?B=F?M.createElement(zA,null):M.createElement(Mh,null):b==="success"&&(B=F?M.createElement(Cz,null):M.createElement(DI,null)),M.createElement("span",{className:`${C}-text`,title:typeof B=="string"?B:void 0},B)},[d,u,A,b,h,C,m]),L=Array.isArray(l)?l[0]:l,T=typeof l=="string"||Array.isArray(l)?l:void 0;let D;h==="line"?D=s?M.createElement(Z0e,Object.assign({},n,{strokeColor:T,prefixCls:C,steps:s}),R):M.createElement(Y0e,Object.assign({},n,{strokeColor:L,prefixCls:C,direction:w}),R):(h==="circle"||h==="dashboard")&&(D=M.createElement(W0e,Object.assign({},n,{strokeColor:L,prefixCls:C,progressStatus:b}),R));const H=bt(C,`${C}-status-${b}`,`${C}-${h==="dashboard"&&"circle"||s&&"steps"||h}`,{[`${C}-inline-circle`]:h==="circle"&&kC(c,"circle")[0]<=20,[`${C}-show-info`]:d,[`${C}-${c}`]:typeof c=="string",[`${C}-rtl`]:w==="rtl"},E==null?void 0:E.className,i,o,P);return _(M.createElement("div",Object.assign({ref:e,style:Object.assign(Object.assign({},E==null?void 0:E.style),v),className:H,role:"progressbar","aria-valuenow":A},co(y,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),D))}),lAe=sAe,cAe=n=>{const{value:e,formatter:r,precision:i,decimalSeparator:o,groupSeparator:s="",prefixCls:l}=n;let u;if(typeof r=="function")u=r(e);else{const c=String(e),d=c.match(/^(-?)(\d*)(\.(\d+))?$/);if(!d||c==="-")u=c;else{const h=d[1];let p=d[2]||"0",m=d[4]||"";p=p.replace(/\B(?=(\d{3})+(?!\d))/g,s),typeof i=="number"&&(m=m.padEnd(i,"0").slice(0,i>0?i:0)),m&&(m=`${o}${m}`),u=[M.createElement("span",{key:"int",className:`${l}-content-value-int`},h,p),m&&M.createElement("span",{key:"decimal",className:`${l}-content-value-decimal`},m)]}}return M.createElement("span",{className:`${l}-content-value`},u)},uAe=cAe,dAe=n=>{const{componentCls:e,marginXXS:r,padding:i,colorTextDescription:o,titleFontSize:s,colorTextHeading:l,contentFontSize:u,fontFamily:c}=n;return{[`${e}`]:Object.assign(Object.assign({},$i(n)),{[`${e}-title`]:{marginBottom:r,color:o,fontSize:s},[`${e}-skeleton`]:{paddingTop:i},[`${e}-content`]:{color:l,fontSize:u,fontFamily:c,[`${e}-content-value`]:{display:"inline-block",direction:"ltr"},[`${e}-content-prefix, ${e}-content-suffix`]:{display:"inline-block"},[`${e}-content-prefix`]:{marginInlineEnd:r},[`${e}-content-suffix`]:{marginInlineStart:r}}})}},fAe=ki("Statistic",n=>{const e=ei(n,{});return[dAe(e)]},n=>{const{fontSizeHeading3:e,fontSize:r}=n;return{titleFontSize:r,contentFontSize:e}}),hAe=n=>{const{prefixCls:e,className:r,rootClassName:i,style:o,valueStyle:s,value:l=0,title:u,valueRender:c,prefix:d,suffix:h,loading:p=!1,onMouseEnter:m,onMouseLeave:v,decimalSeparator:y=".",groupSeparator:A=","}=n,{getPrefixCls:b,direction:g,statistic:w}=M.useContext(Er),E=b("statistic",e),[C,_]=fAe(E),P=M.createElement(uAe,Object.assign({decimalSeparator:y,groupSeparator:A,prefixCls:E},n,{value:l})),R=bt(E,{[`${E}-rtl`]:g==="rtl"},w==null?void 0:w.className,r,i,_);return C(M.createElement("div",{className:R,style:Object.assign(Object.assign({},w==null?void 0:w.style),o),onMouseEnter:m,onMouseLeave:v},u&&M.createElement("div",{className:`${E}-title`},u),M.createElement(rH,{paragraph:!1,loading:p,className:`${E}-skeleton`},M.createElement("div",{style:s,className:`${E}-content`},d&&M.createElement("span",{className:`${E}-content-prefix`},d),c?c(P):P,h&&M.createElement("span",{className:`${E}-content-suffix`},h)))))},gm=hAe,pAe=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function mAe(n,e){let r=n;const i=/\[[^\]]*]/g,o=(e.match(i)||[]).map(c=>c.slice(1,-1)),s=e.replace(i,"[]"),l=pAe.reduce((c,d)=>{let[h,p]=d;if(c.includes(h)){const m=Math.floor(r/p);return r-=m*p,c.replace(new RegExp(`${h}+`,"g"),v=>{const y=v.length;return m.toString().padStart(y,"0")})}return c},s);let u=0;return l.replace(i,()=>{const c=o[u];return u+=1,c})}function gAe(n,e){const{format:r=""}=e,i=new Date(n).getTime(),o=Date.now(),s=Math.max(i-o,0);return mAe(s,r)}const vAe=1e3/30;function AAe(n){return new Date(n).getTime()}const yAe=n=>{const{value:e,format:r="HH:mm:ss",onChange:i,onFinish:o}=n,s=MC(),l=M.useRef(null),u=()=>{o==null||o(),l.current&&(clearInterval(l.current),l.current=null)},c=()=>{const p=AAe(e);p>=Date.now()&&(l.current=setInterval(()=>{s(),i==null||i(p-Date.now()),p<Date.now()&&u()},vAe))};M.useEffect(()=>(c(),()=>{l.current&&(clearInterval(l.current),l.current=null)}),[e]);const d=(p,m)=>gAe(p,Object.assign(Object.assign({},m),{format:r})),h=p=>ya(p,{title:void 0});return M.createElement(gm,Object.assign({},n,{valueRender:h,formatter:d}))},bAe=M.memo(yAe);gm.Countdown=bAe;var Sd={},ey="rc-table-internal-hook";function jP(n){var e=M.createContext(void 0),r=function(o){var s=o.value,l=o.children,u=M.useRef(s);u.current=s;var c=M.useState(function(){return{getValue:function(){return u.current},listeners:new Set}}),d=Ot(c,1),h=d[0];return mi(function(){Ns.unstable_batchedUpdates(function(){h.listeners.forEach(function(p){p(s)})})},[s]),M.createElement(e.Provider,{value:h},l)};return{Context:e,Provider:r,defaultValue:n}}function Ya(n,e){var r=Fo(typeof e=="function"?e:function(p){if(e===void 0)return p;if(!Array.isArray(e))return p[e];var m={};return e.forEach(function(v){m[v]=p[v]}),m}),i=M.useContext(n==null?void 0:n.Context),o=i||{},s=o.listeners,l=o.getValue,u=M.useRef();u.current=r(i?l():n==null?void 0:n.defaultValue);var c=M.useState({}),d=Ot(c,2),h=d[1];return mi(function(){if(!i)return;function p(m){var v=r(m);Pu(u.current,v,!0)||h({})}return s.add(p),function(){s.delete(p)}},[i]),u.current}function xAe(){var n=M.createContext(null);function e(){return M.useContext(n)}function r(o,s){var l=bc(o),u=function(d,h){var p=l?{ref:h}:{},m=M.useRef(0),v=M.useRef(d),y=e();return y!==null?M.createElement(o,rn({},d,p)):((!s||s(v.current,d))&&(m.current+=1),v.current=d,M.createElement(n.Provider,{value:m.current},M.createElement(o,rn({},d,p))))};return l?M.forwardRef(u):u}function i(o,s){var l=bc(o),u=function(d,h){var p=l?{ref:h}:{};return e(),M.createElement(o,rn({},d,p))};return l?M.memo(M.forwardRef(u),s):M.memo(u,s)}return{makeImmutable:r,responseImmutable:i,useImmutableMark:e}}var GP=xAe(),kH=GP.makeImmutable,Cg=GP.responseImmutable,EAe=GP.useImmutableMark,ds=jP();function CAe(n,e){var r=M.useRef(0);r.current+=1;var i=M.useRef(n),o=[];Object.keys(n||{}).map(function(l){var u;(n==null?void 0:n[l])!==((u=i.current)===null||u===void 0?void 0:u[l])&&o.push(l)}),i.current=n;var s=M.useRef([]);return o.length&&(s.current=o),M.useDebugValue(r.current),M.useDebugValue(s.current.join(", ")),e&&console.log("".concat(e,":"),r.current,s.current),r.current}var wAe=M.memo(function(){var n=CAe();return M.createElement("h1",null,"Render Times: ",n)});wAe.displayName="RenderBlock";var FH=M.createContext({renderWithProps:!1}),SAe="RC_TABLE_KEY";function _Ae(n){return n==null?[]:Array.isArray(n)?n:[n]}function FC(n){var e=[],r={};return n.forEach(function(i){for(var o=i||{},s=o.key,l=o.dataIndex,u=s||_Ae(l).join("-")||SAe;r[u];)u="".concat(u,"_next");r[u]=!0,e.push(u)}),e}function T3(n){return n!=null}function MAe(n){return n&&Tr(n)==="object"&&!Array.isArray(n)&&!M.isValidElement(n)}function TAe(n,e,r,i,o,s){var l=M.useContext(FH),u=EAe(),c=Th(function(){if(T3(i))return[i];var d=e==null||e===""?[]:Array.isArray(e)?e:[e],h=Ls(n,d),p=h,m=void 0;if(o){var v=o(h,n,r);MAe(v)?(p=v.children,m=v.props,l.renderWithProps=!0):p=v}return[p,m]},[u,n,i,e,o,r],function(d,h){if(s){var p=Ot(d,2),m=p[1],v=Ot(h,2),y=v[1];return s(y,m)}return l.renderWithProps?!0:!Pu(d,h,!0)});return c}function RAe(n,e,r,i){var o=n+e-1;return n<=i&&o>=r}function IAe(n,e){return Ya(ds,function(r){var i=RAe(n,e||1,r.hoverStartRow,r.hoverEndRow);return[i,r.onHover]})}var PAe=function(e){var r=e.ellipsis,i=e.rowType,o=e.children,s,l=r===!0?{showTitle:!0}:r;return l&&(l.showTitle||i==="header")&&(typeof o=="string"||typeof o=="number"?s=o.toString():M.isValidElement(o)&&typeof o.props.children=="string"&&(s=o.props.children)),s};function LAe(n){var e,r,i,o,s,l,u,c,d=n.component,h=n.children,p=n.ellipsis,m=n.scope,v=n.prefixCls,y=n.className,A=n.align,b=n.record,g=n.render,w=n.dataIndex,E=n.renderIndex,C=n.shouldCellUpdate,_=n.index,P=n.rowType,R=n.colSpan,L=n.rowSpan,T=n.fixLeft,D=n.fixRight,H=n.firstFixLeft,V=n.lastFixLeft,B=n.firstFixRight,O=n.lastFixRight,F=n.appendNode,N=n.additionalProps,z=N===void 0?{}:N,j=n.isSticky,G="".concat(v,"-cell"),Q=Ya(ds,["supportSticky","allColumnsFixedLeft"]),X=Q.supportSticky,J=Q.allColumnsFixedLeft,Z=TAe(b,w,E,h,g,C),oe=Ot(Z,2),ce=oe[0],Be=oe[1],ge={},Re=typeof T=="number"&&X,$e=typeof D=="number"&&X;Re&&(ge.position="sticky",ge.left=T),$e&&(ge.position="sticky",ge.right=D);var qe=(e=(r=(i=Be==null?void 0:Be.colSpan)!==null&&i!==void 0?i:z.colSpan)!==null&&r!==void 0?r:R)!==null&&e!==void 0?e:1,Ke=(o=(s=(l=Be==null?void 0:Be.rowSpan)!==null&&l!==void 0?l:z.rowSpan)!==null&&s!==void 0?s:L)!==null&&o!==void 0?o:1,ke=IAe(_,Ke),st=Ot(ke,2),ot=st[0],it=st[1],ft=function(ye){var fe;b&&it(_,_+Ke-1),z==null||(fe=z.onMouseEnter)===null||fe===void 0||fe.call(z,ye)},Et=function(ye){var fe;b&&it(-1,-1),z==null||(fe=z.onMouseLeave)===null||fe===void 0||fe.call(z,ye)};if(qe===0||Ke===0)return null;var gt=(u=z.title)!==null&&u!==void 0?u:PAe({rowType:P,ellipsis:p,children:ce}),Ct=bt(G,y,(c={},ct(c,"".concat(G,"-fix-left"),Re&&X),ct(c,"".concat(G,"-fix-left-first"),H&&X),ct(c,"".concat(G,"-fix-left-last"),V&&X),ct(c,"".concat(G,"-fix-left-all"),V&&J&&X),ct(c,"".concat(G,"-fix-right"),$e&&X),ct(c,"".concat(G,"-fix-right-first"),B&&X),ct(c,"".concat(G,"-fix-right-last"),O&&X),ct(c,"".concat(G,"-ellipsis"),p),ct(c,"".concat(G,"-with-append"),F),ct(c,"".concat(G,"-fix-sticky"),(Re||$e)&&j&&X),ct(c,"".concat(G,"-row-hover"),!Be&&ot),c),z.className,Be==null?void 0:Be.className),Tt={};A&&(Tt.textAlign=A);var Dt=ht(ht(ht(ht({},ge),z.style),Tt),Be==null?void 0:Be.style),Yt=ce;return Tr(Yt)==="object"&&!Array.isArray(Yt)&&!M.isValidElement(Yt)&&(Yt=null),p&&(V||B)&&(Yt=M.createElement("span",{className:"".concat(G,"-content")},Yt)),M.createElement(d,rn({},Be,z,{className:Ct,style:Dt,title:gt,scope:m,onMouseEnter:ft,onMouseLeave:Et,colSpan:qe!==1?qe:null,rowSpan:Ke!==1?Ke:null}),F,Yt)}const Ph=M.memo(LAe);function VP(n,e,r,i,o,s){var l=r[n]||{},u=r[e]||{},c,d;l.fixed==="left"?c=i.left[o==="rtl"?e:n]:u.fixed==="right"&&(d=i.right[o==="rtl"?n:e]);var h=!1,p=!1,m=!1,v=!1,y=r[e+1],A=r[n-1],b=!(s!=null&&s.children);if(o==="rtl"){if(c!==void 0){var g=A&&A.fixed==="left";v=!g&&b}else if(d!==void 0){var w=y&&y.fixed==="right";m=!w&&b}}else if(c!==void 0){var E=y&&y.fixed==="left";h=!E&&b}else if(d!==void 0){var C=A&&A.fixed==="right";p=!C&&b}return{fixLeft:c,fixRight:d,lastFixLeft:h,firstFixRight:p,lastFixRight:m,firstFixLeft:v,isSticky:i.isSticky}}var UH=M.createContext({});function BAe(n){var e=n.className,r=n.index,i=n.children,o=n.colSpan,s=o===void 0?1:o,l=n.rowSpan,u=n.align,c=Ya(ds,["prefixCls","direction"]),d=c.prefixCls,h=c.direction,p=M.useContext(UH),m=p.scrollColumnIndex,v=p.stickyOffsets,y=p.flattenColumns,A=p.columns,b=r+s-1,g=b+1===m?s+1:s,w=VP(r,r+g-1,y,v,h,A==null?void 0:A[r]);return M.createElement(Ph,rn({className:e,index:r,component:"td",prefixCls:d,record:null,dataIndex:null,align:u,colSpan:g,rowSpan:l,render:function(){return i}},w))}var OAe=["children"];function DAe(n){var e=n.children,r=Br(n,OAe);return M.createElement("tr",r,e)}function UC(n){var e=n.children;return e}UC.Row=DAe;UC.Cell=BAe;function NAe(n){var e=n.children,r=n.stickyOffsets,i=n.flattenColumns,o=n.columns,s=Ya(ds,"prefixCls"),l=i.length-1,u=i[l],c=M.useMemo(function(){return{stickyOffsets:r,flattenColumns:i,scrollColumnIndex:u!=null&&u.scrollbar?l:null,columns:o}},[u,i,l,r,o]);return M.createElement(UH.Provider,{value:c},M.createElement("tfoot",{className:"".concat(s,"-summary")},e))}const Wb=Cg(NAe);var zH=UC;function $H(n,e,r,i,o,s,l){n.push({record:e,indent:r,index:l});var u=s(e),c=o==null?void 0:o.has(u);if(e&&Array.isArray(e[i])&&c)for(var d=0;d<e[i].length;d+=1)$H(n,e[i][d],r+1,i,o,s,d)}function HH(n,e,r,i){var o=M.useMemo(function(){if(r!=null&&r.size){for(var s=[],l=0;l<(n==null?void 0:n.length);l+=1){var u=n[l];$H(s,u,0,e,r,i,l)}return s}return n==null?void 0:n.map(function(c,d){return{record:c,indent:0,index:d}})},[n,e,r,i]);return o}function jH(n,e,r,i){var o=Ya(ds,["prefixCls","fixedInfoList","flattenColumns","expandableType","expandRowByClick","onTriggerExpand","rowClassName","expandedRowClassName","indentSize","expandIcon","expandedRowRender","expandIconColumnIndex","expandedKeys","childrenColumnName","rowExpandable","onRow"]),s=o.flattenColumns,l=o.expandableType,u=o.expandedKeys,c=o.childrenColumnName,d=o.onTriggerExpand,h=o.rowExpandable,p=o.onRow,m=o.expandRowByClick,v=o.rowClassName,y=l==="nest",A=l==="row"&&(!h||h(n)),b=A||y,g=u&&u.has(e),w=c&&n&&n[c],E=Fo(d),C=p==null?void 0:p(n,r),_=C==null?void 0:C.onClick,P=function(D){m&&b&&d(n,D);for(var H=arguments.length,V=new Array(H>1?H-1:0),B=1;B<H;B++)V[B-1]=arguments[B];_==null||_.apply(void 0,[D].concat(V))},R;typeof v=="string"?R=v:typeof v=="function"&&(R=v(n,r,i));var L=FC(s);return ht(ht({},o),{},{columnsKey:L,nestExpandable:y,expanded:g,hasNestChildren:w,record:n,onTriggerExpand:E,rowSupportExpand:A,expandable:b,rowProps:ht(ht({},C),{},{className:bt(R,C==null?void 0:C.className),onClick:P})})}function GH(n){var e=n.prefixCls,r=n.children,i=n.component,o=n.cellComponent,s=n.className,l=n.expanded,u=n.colSpan,c=n.isEmpty,d=Ya(ds,["scrollbarSize","fixHeader","fixColumn","componentWidth","horizonScroll"]),h=d.scrollbarSize,p=d.fixHeader,m=d.fixColumn,v=d.componentWidth,y=d.horizonScroll,A=r;return(c?y&&v:m)&&(A=M.createElement("div",{style:{width:v-(p?h:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(e,"-expanded-row-fixed")},A)),M.createElement(i,{className:s,style:{display:l?null:"none"}},M.createElement(Ph,{component:o,prefixCls:e,colSpan:u},A))}function VH(n,e,r,i,o){var s=n.record,l=n.prefixCls,u=n.columnsKey,c=n.fixedInfoList,d=n.expandIconColumnIndex,h=n.nestExpandable,p=n.indentSize,m=n.expandIcon,v=n.expanded,y=n.hasNestChildren,A=n.onTriggerExpand,b=u[r],g=c[r],w;r===(d||0)&&h&&(w=M.createElement(M.Fragment,null,M.createElement("span",{style:{paddingLeft:"".concat(p*i,"px")},className:"".concat(l,"-row-indent indent-level-").concat(i)}),m({prefixCls:l,expanded:v,expandable:y,record:s,onExpand:A})));var E;return e.onCell&&(E=e.onCell(s,o)),{key:b,fixedInfo:g,appendCellNode:w,additionalCellProps:E||{}}}function WH(n){var e=n.className,r=n.style,i=n.record,o=n.index,s=n.renderIndex,l=n.rowKey,u=n.indent,c=u===void 0?0:u,d=n.rowComponent,h=n.cellComponent,p=n.scopeCellComponent,m=jH(i,l,o,c),v=m.prefixCls,y=m.flattenColumns,A=m.expandedRowClassName,b=m.expandedRowRender,g=m.rowProps,w=m.expanded,E=m.rowSupportExpand,C=M.useRef(!1);C.current||(C.current=w);var _=M.createElement(d,rn({},g,{"data-row-key":l,className:bt(e,"".concat(v,"-row"),"".concat(v,"-row-level-").concat(c),g==null?void 0:g.className),style:ht(ht({},r),g==null?void 0:g.style)}),y.map(function(T,D){var H=T.render,V=T.dataIndex,B=T.className,O=VH(m,T,D,c,o),F=O.key,N=O.fixedInfo,z=O.appendCellNode,j=O.additionalCellProps;return M.createElement(Ph,rn({className:B,ellipsis:T.ellipsis,align:T.align,scope:T.rowScope,component:T.rowScope?p:h,prefixCls:v,key:F,record:i,index:o,renderIndex:s,dataIndex:V,render:H,shouldCellUpdate:T.shouldCellUpdate},N,{appendNode:z,additionalProps:j}))})),P;if(E&&(C.current||w)){var R=b(i,o,c+1,w),L=A&&A(i,o,c);P=M.createElement(GH,{expanded:w,className:bt("".concat(v,"-expanded-row"),"".concat(v,"-expanded-row-level-").concat(c+1),L),prefixCls:v,component:d,cellComponent:h,colSpan:y.length,isEmpty:!1},R)}return M.createElement(M.Fragment,null,_,P)}WH.displayName="BodyRow";const kAe=Cg(WH);function FAe(n){var e=n.columnKey,r=n.onColumnResize,i=M.useRef();return M.useEffect(function(){i.current&&r(e,i.current.offsetWidth)},[]),M.createElement(Qa,{data:e},M.createElement("td",{ref:i,style:{padding:0,border:0,height:0}},M.createElement("div",{style:{height:0,overflow:"hidden"}},"")))}function UAe(n){var e=n.prefixCls,r=n.columnsKey,i=n.onColumnResize;return M.createElement("tr",{"aria-hidden":"true",className:"".concat(e,"-measure-row"),style:{height:0,fontSize:0}},M.createElement(Qa.Collection,{onBatchResize:function(s){s.forEach(function(l){var u=l.data,c=l.size;i(u,c.offsetWidth)})}},r.map(function(o){return M.createElement(FAe,{key:o,columnKey:o,onColumnResize:i})})))}function QH(n){var e=n.data,r=n.measureColumnWidth,i=Ya(ds,["prefixCls","getComponent","onColumnResize","flattenColumns","getRowKey","expandedKeys","childrenColumnName","emptyNode"]),o=i.prefixCls,s=i.getComponent,l=i.onColumnResize,u=i.flattenColumns,c=i.getRowKey,d=i.expandedKeys,h=i.childrenColumnName,p=i.emptyNode,m=HH(e,h,d,c),v=M.useRef({renderWithProps:!1}),y=s(["body","wrapper"],"tbody"),A=s(["body","row"],"tr"),b=s(["body","cell"],"td"),g=s(["body","cell"],"th"),w;e.length?w=m.map(function(C,_){var P=C.record,R=C.indent,L=C.index,T=c(P,_);return M.createElement(kAe,{key:T,rowKey:T,record:P,index:_,renderIndex:L,rowComponent:A,cellComponent:b,scopeCellComponent:g,getRowKey:c,indent:R})}):w=M.createElement(GH,{expanded:!0,className:"".concat(o,"-placeholder"),prefixCls:o,component:A,cellComponent:b,colSpan:u.length,isEmpty:!0},p);var E=FC(u);return M.createElement(FH.Provider,{value:v.current},M.createElement(y,{className:"".concat(o,"-tbody")},r&&M.createElement(UAe,{prefixCls:o,columnsKey:E,onColumnResize:l}),w))}QH.displayName="Body";const zAe=Cg(QH);var $Ae=["expandable"],F0="RC_TABLE_INTERNAL_COL_DEFINE";function HAe(n){var e=n.expandable,r=Br(n,$Ae),i;return"expandable"in n?i=ht(ht({},r),e):i=r,i.showExpandColumn===!1&&(i.expandIconColumnIndex=-1),i}var jAe=["columnType"];function KH(n){for(var e=n.colWidths,r=n.columns,i=n.columCount,o=[],s=i||r.length,l=!1,u=s-1;u>=0;u-=1){var c=e[u],d=r&&r[u],h=d&&d[F0];if(c||h||l){var p=h||{};p.columnType;var m=Br(p,jAe);o.unshift(M.createElement("col",rn({key:u,style:{width:c}},m))),l=!0}}return M.createElement("colgroup",null,o)}var GAe=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];function VAe(n,e){return M.useMemo(function(){for(var r=[],i=0;i<e;i+=1){var o=n[i];if(o!==void 0)r[i]=o;else return null}return r},[n.join("_"),e])}var XH=M.forwardRef(function(n,e){var r=n.className,i=n.noData,o=n.columns,s=n.flattenColumns,l=n.colWidths,u=n.columCount,c=n.stickyOffsets,d=n.direction,h=n.fixHeader,p=n.stickyTopOffset,m=n.stickyBottomOffset,v=n.stickyClassName,y=n.onScroll,A=n.maxContentScroll,b=n.children,g=Br(n,GAe),w=Ya(ds,["prefixCls","scrollbarSize","isSticky"]),E=w.prefixCls,C=w.scrollbarSize,_=w.isSticky,P=_&&!h?0:C,R=M.useRef(null),L=M.useCallback(function(N){hA(e,N),hA(R,N)},[]);M.useEffect(function(){var N;function z(j){var G=j,Q=G.currentTarget,X=G.deltaX;X&&(y({currentTarget:Q,scrollLeft:Q.scrollLeft+X}),j.preventDefault())}return(N=R.current)===null||N===void 0||N.addEventListener("wheel",z),function(){var j;(j=R.current)===null||j===void 0||j.removeEventListener("wheel",z)}},[]);var T=M.useMemo(function(){return s.every(function(N){return N.width})},[s]),D=s[s.length-1],H={fixed:D?D.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(E,"-cell-scrollbar")}}},V=M.useMemo(function(){return P?[].concat(mn(o),[H]):o},[P,o]),B=M.useMemo(function(){return P?[].concat(mn(s),[H]):s},[P,s]),O=M.useMemo(function(){var N=c.right,z=c.left;return ht(ht({},c),{},{left:d==="rtl"?[].concat(mn(z.map(function(j){return j+P})),[0]):z,right:d==="rtl"?N:[].concat(mn(N.map(function(j){return j+P})),[0]),isSticky:_})},[P,c,_]),F=VAe(l,u);return M.createElement("div",{style:ht({overflow:"hidden"},_?{top:p,bottom:m}:{}),ref:L,className:bt(r,ct({},v,!!v))},M.createElement("table",{style:{tableLayout:"fixed",visibility:i||F?null:"hidden"}},(!i||!A||T)&&M.createElement(KH,{colWidths:F?[].concat(mn(F),[P]):[],columCount:u+1,columns:B}),b(ht(ht({},g),{},{stickyOffsets:O,columns:V,flattenColumns:B}))))});XH.displayName="FixedHolder";const Fk=M.memo(XH);function qH(n){var e=n.cells,r=n.stickyOffsets,i=n.flattenColumns,o=n.rowComponent,s=n.cellComponent,l=n.tdCellComponent,u=n.onHeaderRow,c=n.index,d=Ya(ds,["prefixCls","direction"]),h=d.prefixCls,p=d.direction,m;u&&(m=u(e.map(function(y){return y.column}),c));var v=FC(e.map(function(y){return y.column}));return M.createElement(o,m,e.map(function(y,A){var b=y.column,g=VP(y.colStart,y.colEnd,i,r,p,b),w;return b&&b.onHeaderCell&&(w=y.column.onHeaderCell(b)),M.createElement(Ph,rn({},y,{scope:b.title?y.colSpan>1?"colgroup":"col":null,ellipsis:b.ellipsis,align:b.align,component:b.title?s:l,prefixCls:h,key:v[A]},g,{additionalProps:w,rowType:"header"}))}))}qH.displayName="HeaderRow";function WAe(n){var e=[];function r(l,u){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;e[c]=e[c]||[];var d=u,h=l.filter(Boolean).map(function(p){var m={key:p.key,className:p.className||"",children:p.title,column:p,colStart:d},v=1,y=p.children;return y&&y.length>0&&(v=r(y,d,c+1).reduce(function(A,b){return A+b},0),m.hasSubColumns=!0),"colSpan"in p&&(v=p.colSpan),"rowSpan"in p&&(m.rowSpan=p.rowSpan),m.colSpan=v,m.colEnd=m.colStart+v-1,e[c].push(m),d+=v,v});return h}r(n,0);for(var i=e.length,o=function(u){e[u].forEach(function(c){!("rowSpan"in c)&&!c.hasSubColumns&&(c.rowSpan=i-u)})},s=0;s<i;s+=1)o(s);return e}function QAe(n){var e=n.stickyOffsets,r=n.columns,i=n.flattenColumns,o=n.onHeaderRow,s=Ya(ds,["prefixCls","getComponent"]),l=s.prefixCls,u=s.getComponent,c=M.useMemo(function(){return WAe(r)},[r]),d=u(["header","wrapper"],"thead"),h=u(["header","row"],"tr"),p=u(["header","cell"],"th"),m=u(["header","cell"],"td");return M.createElement(d,{className:"".concat(l,"-thead")},c.map(function(v,y){var A=M.createElement(qH,{key:y,flattenColumns:i,cells:v,stickyOffsets:e,rowComponent:h,cellComponent:p,tdCellComponent:m,onHeaderRow:o,index:y});return A}))}const Uk=Cg(QAe);function zk(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return typeof e=="number"?e:e.endsWith("%")?n*parseFloat(e)/100:null}function KAe(n,e,r){return M.useMemo(function(){if(e&&e>0){var i=0,o=0;n.forEach(function(m){var v=zk(e,m.width);v?i+=v:o+=1});var s=Math.max(e-i,o),l=o,u=s/o,c=0,d=n.map(function(m){var v=ht({},m),y=zk(e,v.width);if(y)v.width=y;else{var A=Math.floor(u);v.width=l===1?s:A,s-=A,l-=1}return c+=v.width,v}),h=Math.max(e,r);if(c<h){var p=h/c;s=h,d.forEach(function(m,v){var y=Math.floor(m.width*p);m.width=v===d.length-1?s:y,s-=y})}return[d,Math.max(c,h)]}return[n,e]},[n,e,r])}var XAe=["children"],qAe=["fixed"];function WP(n){return qa(n).filter(function(e){return M.isValidElement(e)}).map(function(e){var r=e.key,i=e.props,o=i.children,s=Br(i,XAe),l=ht({key:r},s);return o&&(l.children=WP(o)),l})}function R3(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"key";return n.filter(function(r){return r&&Tr(r)==="object"}).reduce(function(r,i,o){var s=i.fixed,l=s===!0?"left":s,u="".concat(e,"-").concat(o),c=i.children;return c&&c.length>0?[].concat(mn(r),mn(R3(c,u).map(function(d){return ht({fixed:l},d)}))):[].concat(mn(r),[ht(ht({key:u},i),{},{fixed:l})])},[])}function YAe(n){return n.map(function(e){var r=e.fixed,i=Br(e,qAe),o=r;return r==="left"?o="right":r==="right"&&(o="left"),ht({fixed:o},i)})}function JAe(n,e){var r=n.prefixCls,i=n.columns,o=n.children,s=n.expandable,l=n.expandedKeys,u=n.columnTitle,c=n.getRowKey,d=n.onTriggerExpand,h=n.expandIcon,p=n.rowExpandable,m=n.expandIconColumnIndex,v=n.direction,y=n.expandRowByClick,A=n.columnWidth,b=n.fixed,g=n.scrollWidth,w=n.clientWidth,E=M.useMemo(function(){return i||WP(o)},[i,o]),C=M.useMemo(function(){if(s){var H,V=E.slice();if(!V.includes(Sd)){var B=m||0;B>=0&&V.splice(B,0,Sd)}var O=V.indexOf(Sd);V=V.filter(function(j,G){return j!==Sd||G===O});var F=E[O],N;(b==="left"||b)&&!m?N="left":(b==="right"||b)&&m===E.length?N="right":N=F?F.fixed:null;var z=(H={},ct(H,F0,{className:"".concat(r,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),ct(H,"title",u),ct(H,"fixed",N),ct(H,"className","".concat(r,"-row-expand-icon-cell")),ct(H,"width",A),ct(H,"render",function(G,Q,X){var J=c(Q,X),Z=l.has(J),oe=p?p(Q):!0,ce=h({prefixCls:r,expanded:Z,expandable:oe,record:Q,onExpand:d});return y?M.createElement("span",{onClick:function(ge){return ge.stopPropagation()}},ce):ce}),H);return V.map(function(j){return j===Sd?z:j})}return E.filter(function(j){return j!==Sd})},[s,E,c,l,h,v]),_=M.useMemo(function(){var H=C;return e&&(H=e(H)),H.length||(H=[{render:function(){return null}}]),H},[e,C,v]),P=M.useMemo(function(){return v==="rtl"?YAe(R3(_)):R3(_)},[_,v,g]),R=KAe(P,g,w),L=Ot(R,2),T=L[0],D=L[1];return[_,T,D]}function ZAe(n){var e,r=n.prefixCls,i=n.record,o=n.onExpand,s=n.expanded,l=n.expandable,u="".concat(r,"-row-expand-icon");if(!l)return M.createElement("span",{className:bt(u,"".concat(r,"-row-spaced"))});var c=function(h){o(i,h),h.stopPropagation()};return M.createElement("span",{className:bt(u,(e={},ct(e,"".concat(r,"-row-expanded"),s),ct(e,"".concat(r,"-row-collapsed"),!s),e)),onClick:c})}function eye(n,e,r){var i=[];function o(s){(s||[]).forEach(function(l,u){i.push(e(l,u)),o(l[r])})}return o(n),i}function tye(n,e,r){var i=HAe(n),o=i.expandIcon,s=i.expandedRowKeys,l=i.defaultExpandedRowKeys,u=i.defaultExpandAllRows,c=i.expandedRowRender,d=i.onExpand,h=i.onExpandedRowsChange,p=i.childrenColumnName,m=o||ZAe,v=p||"children",y=M.useMemo(function(){return c?"row":n.expandable&&n.internalHooks===ey&&n.expandable.__PARENT_RENDER_ICON__||e.some(function(_){return _&&Tr(_)==="object"&&_[v]})?"nest":!1},[!!c,e]),A=M.useState(function(){return l||(u?eye(e,r,v):[])}),b=Ot(A,2),g=b[0],w=b[1],E=M.useMemo(function(){return new Set(s||g||[])},[s,g]),C=M.useCallback(function(_){var P=r(_,e.indexOf(_)),R,L=E.has(P);L?(E.delete(P),R=mn(E)):R=[].concat(mn(E),[P]),w(R),d&&d(!L,_),h&&h(R)},[r,E,e,d,h]);return[i,y,E,m,v,C]}function nye(n,e,r,i){var o=n.map(function(s,l){return VP(l,l,n,e,r,i==null?void 0:i[l])});return Th(function(){return o},[o],function(s,l){return!Pu(s,l)})}function YH(n){var e=M.useRef(n),r=M.useState({}),i=Ot(r,2),o=i[1],s=M.useRef(null),l=M.useRef([]);function u(c){l.current.push(c);var d=Promise.resolve();s.current=d,d.then(function(){if(s.current===d){var h=l.current,p=e.current;l.current=[],h.forEach(function(m){e.current=m(e.current)}),s.current=null,p!==e.current&&o({})}})}return M.useEffect(function(){return function(){s.current=null}},[]),[e.current,u]}function rye(n){var e=M.useRef(n||null),r=M.useRef();function i(){window.clearTimeout(r.current)}function o(l){e.current=l,i(),r.current=window.setTimeout(function(){e.current=null,r.current=void 0},100)}function s(){return e.current}return M.useEffect(function(){return i},[]),[o,s]}function iye(){var n=M.useState(-1),e=Ot(n,2),r=e[0],i=e[1],o=M.useState(-1),s=Ot(o,2),l=s[0],u=s[1],c=M.useCallback(function(d,h){i(d),u(h)},[]);return[r,l,c]}var $k=la()?window:null;function oye(n,e){var r=Tr(n)==="object"?n:{},i=r.offsetHeader,o=i===void 0?0:i,s=r.offsetSummary,l=s===void 0?0:s,u=r.offsetScroll,c=u===void 0?0:u,d=r.getContainer,h=d===void 0?function(){return $k}:d,p=h()||$k;return M.useMemo(function(){var m=!!n;return{isSticky:m,stickyClassName:m?"".concat(e,"-sticky-holder"):"",offsetHeader:o,offsetSummary:l,offsetScroll:c,container:p}},[c,o,l,e,p])}function aye(n,e,r){var i=M.useMemo(function(){for(var o=[],s=[],l=0,u=0,c=0;c<e;c+=1)if(r==="rtl"){s[c]=u,u+=n[c]||0;var d=e-c-1;o[d]=l,l+=n[d]||0}else{o[c]=l,l+=n[c]||0;var h=e-c-1;s[h]=u,u+=n[h]||0}return{left:o,right:s}},[n,e,r]);return i}function Hk(n){var e=n.className,r=n.children;return M.createElement("div",{className:e},r)}var sye=function(e,r){var i,o,s=e.scrollBodyRef,l=e.onScroll,u=e.offsetScroll,c=e.container,d=Ya(ds,"prefixCls"),h=((i=s.current)===null||i===void 0?void 0:i.scrollWidth)||0,p=((o=s.current)===null||o===void 0?void 0:o.clientWidth)||0,m=h&&p*(p/h),v=M.useRef(),y=YH({scrollLeft:0,isHiddenScrollBar:!1}),A=Ot(y,2),b=A[0],g=A[1],w=M.useRef({delta:0,x:0}),E=M.useState(!1),C=Ot(E,2),_=C[0],P=C[1],R=function(){P(!1)},L=function(B){B.persist(),w.current.delta=B.pageX-b.scrollLeft,w.current.x=0,P(!0),B.preventDefault()},T=function(B){var O,F=B||((O=window)===null||O===void 0?void 0:O.event),N=F.buttons;if(!_||N===0){_&&P(!1);return}var z=w.current.x+B.pageX-w.current.x-w.current.delta;z<=0&&(z=0),z+m>=p&&(z=p-m),l({scrollLeft:z/p*(h+2)}),w.current.x=B.pageX},D=function(){if(s.current){var B=Rk(s.current).top,O=B+s.current.offsetHeight,F=c===window?document.documentElement.scrollTop+window.innerHeight:Rk(c).top+c.clientHeight;O-ZT()<=F||B>=F-u?g(function(N){return ht(ht({},N),{},{isHiddenScrollBar:!0})}):g(function(N){return ht(ht({},N),{},{isHiddenScrollBar:!1})})}},H=function(B){g(function(O){return ht(ht({},O),{},{scrollLeft:B/h*p||0})})};return M.useImperativeHandle(r,function(){return{setScrollLeft:H}}),M.useEffect(function(){var V=Vb(document.body,"mouseup",R,!1),B=Vb(document.body,"mousemove",T,!1);return D(),function(){V.remove(),B.remove()}},[m,_]),M.useEffect(function(){var V=Vb(c,"scroll",D,!1),B=Vb(window,"resize",D,!1);return function(){V.remove(),B.remove()}},[c]),M.useEffect(function(){b.isHiddenScrollBar||g(function(V){var B=s.current;return B?ht(ht({},V),{},{scrollLeft:B.scrollLeft/B.scrollWidth*B.clientWidth}):V})},[b.isHiddenScrollBar]),h<=p||!m||b.isHiddenScrollBar?null:M.createElement("div",{style:{height:ZT(),width:p,bottom:u},className:"".concat(d,"-sticky-scroll")},M.createElement("div",{onMouseDown:L,ref:v,className:bt("".concat(d,"-sticky-scroll-bar"),ct({},"".concat(d,"-sticky-scroll-bar-active"),_)),style:{width:"".concat(m,"px"),transform:"translate3d(".concat(b.scrollLeft,"px, 0, 0)")}}))};const lye=M.forwardRef(sye);function cye(n){return null}function uye(n){return null}var JH="rc-table",dye=[],fye={};function hye(){return"No Data"}function pye(n){var e,r=ht({rowKey:"key",prefixCls:JH,emptyText:hye},n),i=r.prefixCls,o=r.className,s=r.rowClassName,l=r.style,u=r.data,c=r.rowKey,d=r.scroll,h=r.tableLayout,p=r.direction,m=r.title,v=r.footer,y=r.summary,A=r.caption,b=r.id,g=r.showHeader,w=r.components,E=r.emptyText,C=r.onRow,_=r.onHeaderRow,P=r.internalHooks,R=r.transformColumns,L=r.internalRefs,T=r.tailor,D=r.getContainerWidth,H=r.sticky,V=u||dye,B=!!V.length,O=P===ey,F=M.useCallback(function(xt,me){return Ls(w,xt)||me},[w]),N=M.useMemo(function(){return typeof c=="function"?c:function(xt){var me=xt&&xt[c];return me}},[c]),z=F(["body"]),j=iye(),G=Ot(j,3),Q=G[0],X=G[1],J=G[2],Z=tye(r,V,N),oe=Ot(Z,6),ce=oe[0],Be=oe[1],ge=oe[2],Re=oe[3],$e=oe[4],qe=oe[5],Ke=d==null?void 0:d.x,ke=M.useState(0),st=Ot(ke,2),ot=st[0],it=st[1],ft=JAe(ht(ht(ht({},r),ce),{},{expandable:!!ce.expandedRowRender,columnTitle:ce.columnTitle,expandedKeys:ge,getRowKey:N,onTriggerExpand:qe,expandIcon:Re,expandIconColumnIndex:ce.expandIconColumnIndex,direction:p,scrollWidth:O&&T&&typeof Ke=="number"?Ke:null,clientWidth:ot}),O?R:null),Et=Ot(ft,3),gt=Et[0],Ct=Et[1],Tt=Et[2],Dt=Tt??Ke,Yt=M.useMemo(function(){return{columns:gt,flattenColumns:Ct}},[gt,Ct]),Ve=M.useRef(),ye=M.useRef(),fe=M.useRef(),pe=M.useRef(),_e=M.useRef(),Ce=M.useState(!1),Se=Ot(Ce,2),we=Se[0],je=Se[1],Ae=M.useState(!1),Ue=Ot(Ae,2),et=Ue[0],ue=Ue[1],Y=YH(new Map),ne=Ot(Y,2),Pe=ne[0],We=ne[1],ve=FC(Ct),he=ve.map(function(xt){return Pe.get(xt)}),Ye=M.useMemo(function(){return he},[he.join("_")]),Ze=aye(Ye,Ct.length,p),Qe=d&&T3(d.y),nt=d&&T3(Dt)||!!ce.fixed,It=nt&&Ct.some(function(xt){var me=xt.fixed;return me}),kt=M.useRef(),Bt=oye(H,i),jt=Bt.isSticky,Vt=Bt.offsetHeader,Lt=Bt.offsetSummary,mt=Bt.offsetScroll,Nt=Bt.stickyClassName,cn=Bt.container,Jt=M.useMemo(function(){return y==null?void 0:y(V)},[y,V]),Sn=(Qe||jt)&&M.isValidElement(Jt)&&Jt.type===UC&&Jt.props.fixed,yn,Ln,rr;Qe&&(Ln={overflowY:"scroll",maxHeight:d.y}),nt&&(yn={overflowX:"auto"},Qe||(Ln={overflowY:"hidden"}),rr={width:Dt===!0?"auto":Dt,minWidth:"100%"});var jn=M.useCallback(function(xt,me){AC(Ve.current)&&We(function(be){if(be.get(xt)!==me){var Ee=new Map(be);return Ee.set(xt,me),Ee}return be})},[]),Fn=rye(null),Cn=Ot(Fn,2),Oe=Cn[0],lt=Cn[1];function wt(xt,me){me&&(typeof me=="function"?me(xt):me.scrollLeft!==xt&&(me.scrollLeft=xt,me.scrollLeft!==xt&&setTimeout(function(){me.scrollLeft=xt},0)))}var xe=Fo(function(xt){var me=xt.currentTarget,be=xt.scrollLeft,Ee=p==="rtl",Te=typeof be=="number"?be:me.scrollLeft,Le=me||fye;if(!lt()||lt()===Le){var yt;Oe(Le),wt(Te,ye.current),wt(Te,fe.current),wt(Te,_e.current),wt(Te,(yt=kt.current)===null||yt===void 0?void 0:yt.setScrollLeft)}var Ft=me||ye.current;if(Ft){var en=Ft.scrollWidth,dn=Ft.clientWidth;if(en===dn){je(!1),ue(!1);return}Ee?(je(-Te<en-dn),ue(-Te>0)):(je(Te>0),ue(Te<en-dn))}}),De=function(){nt&&fe.current?xe({currentTarget:fe.current}):(je(!1),ue(!1))},tt=function(me){var be=me.width,Ee=Ve.current?Ve.current.offsetWidth:be;O&&D&&Ve.current&&(Ee=D(Ve.current,Ee)||Ee),Ee!==ot&&(De(),it(Ee))},St=M.useRef(!1);M.useEffect(function(){St.current&&De()},[nt,u,gt.length]),M.useEffect(function(){St.current=!0},[]);var Mt=M.useState(0),Ut=Ot(Mt,2),Kt=Ut[0],gn=Ut[1],sn=M.useState(!0),Xt=Ot(sn,2),$n=Xt[0],Nn=Xt[1];M.useEffect(function(){(!T||!O)&&(fe.current instanceof Element?gn(e3(fe.current).width):gn(e3(pe.current).width)),Nn(t3("position","sticky"))},[]),M.useEffect(function(){O&&L&&(L.body.current=fe.current)});var er=M.useCallback(function(xt){return M.createElement(M.Fragment,null,M.createElement(Uk,xt),Sn==="top"&&M.createElement(Wb,xt,Jt))},[Sn,Jt]),br=M.useCallback(function(xt){return M.createElement(Wb,xt,Jt)},[Jt]),kn=F(["table"],"table"),fr=M.useMemo(function(){return h||(It?Dt==="max-content"?"auto":"fixed":Qe||jt||Ct.some(function(xt){var me=xt.ellipsis;return me})?"fixed":"auto")},[Qe,It,Ct,h,jt]),sr,Nr={colWidths:Ye,columCount:Ct.length,stickyOffsets:Ze,onHeaderRow:_,fixHeader:Qe,scroll:d},or=M.useMemo(function(){return B?null:typeof E=="function"?E():E},[B,E]),Zt=M.createElement(zAe,{data:V,measureColumnWidth:Qe||nt||jt}),bn=M.createElement(KH,{colWidths:Ct.map(function(xt){var me=xt.width;return me}),columns:Ct}),qn=A!=null?M.createElement("caption",{className:"".concat(i,"-caption")},A):void 0,Gn=Ql(r,{data:!0}),re=Ql(r,{aria:!0});if(Qe||jt){var se;typeof z=="function"?(se=z(V,{scrollbarSize:Kt,ref:fe,onScroll:xe}),Nr.colWidths=Ct.map(function(xt,me){var be=xt.width,Ee=me===Ct.length-1?be-Kt:be;return typeof Ee=="number"&&!Number.isNaN(Ee)?Ee:0})):se=M.createElement("div",{style:ht(ht({},yn),Ln),onScroll:xe,ref:fe,className:bt("".concat(i,"-body"))},M.createElement(kn,rn({style:ht(ht({},rr),{},{tableLayout:fr})},re),qn,bn,Zt,!Sn&&Jt&&M.createElement(Wb,{stickyOffsets:Ze,flattenColumns:Ct,columns:gt},Jt)));var Me=ht(ht(ht({noData:!V.length,maxContentScroll:nt&&Dt==="max-content"},Nr),Yt),{},{direction:p,stickyClassName:Nt,onScroll:xe});sr=M.createElement(M.Fragment,null,g!==!1&&M.createElement(Fk,rn({},Me,{stickyTopOffset:Vt,className:"".concat(i,"-header"),ref:ye}),er),se,Sn&&Sn!=="top"&&M.createElement(Fk,rn({},Me,{stickyBottomOffset:Lt,className:"".concat(i,"-summary"),ref:_e}),br),jt&&fe.current&&fe.current instanceof Element&&M.createElement(lye,{ref:kt,offsetScroll:mt,scrollBodyRef:fe,onScroll:xe,container:cn}))}else sr=M.createElement("div",{style:ht(ht({},yn),Ln),className:bt("".concat(i,"-content")),onScroll:xe,ref:fe},M.createElement(kn,rn({style:ht(ht({},rr),{},{tableLayout:fr})},re),qn,bn,g!==!1&&M.createElement(Uk,rn({},Nr,Yt)),Zt,Jt&&M.createElement(Wb,{stickyOffsets:Ze,flattenColumns:Ct,columns:gt},Jt)));var Fe=M.createElement("div",rn({className:bt(i,o,(e={},ct(e,"".concat(i,"-rtl"),p==="rtl"),ct(e,"".concat(i,"-ping-left"),we),ct(e,"".concat(i,"-ping-right"),et),ct(e,"".concat(i,"-layout-fixed"),h==="fixed"),ct(e,"".concat(i,"-fixed-header"),Qe),ct(e,"".concat(i,"-fixed-column"),It),ct(e,"".concat(i,"-scroll-horizontal"),nt),ct(e,"".concat(i,"-has-fix-left"),Ct[0]&&Ct[0].fixed),ct(e,"".concat(i,"-has-fix-right"),Ct[Ct.length-1]&&Ct[Ct.length-1].fixed==="right"),e)),style:l,id:b,ref:Ve},Gn),m&&M.createElement(Hk,{className:"".concat(i,"-title")},m(V)),M.createElement("div",{ref:pe,className:"".concat(i,"-container")},sr),v&&M.createElement(Hk,{className:"".concat(i,"-footer")},v(V)));nt&&(Fe=M.createElement(Qa,{onResize:tt},Fe));var Je=nye(Ct,Ze,p,gt),at=M.useMemo(function(){return{scrollX:Dt,prefixCls:i,getComponent:F,scrollbarSize:Kt,direction:p,fixedInfoList:Je,isSticky:jt,supportSticky:$n,componentWidth:ot,fixHeader:Qe,fixColumn:It,horizonScroll:nt,tableLayout:fr,rowClassName:s,expandedRowClassName:ce.expandedRowClassName,expandIcon:Re,expandableType:Be,expandRowByClick:ce.expandRowByClick,expandedRowRender:ce.expandedRowRender,onTriggerExpand:qe,expandIconColumnIndex:ce.expandIconColumnIndex,indentSize:ce.indentSize,allColumnsFixedLeft:Ct.every(function(xt){return xt.fixed==="left"}),emptyNode:or,columns:gt,flattenColumns:Ct,onColumnResize:jn,hoverStartRow:Q,hoverEndRow:X,onHover:J,rowExpandable:ce.rowExpandable,onRow:C,getRowKey:N,expandedKeys:ge,childrenColumnName:$e}},[Dt,i,F,Kt,p,Je,jt,$n,ot,Qe,It,nt,fr,s,ce.expandedRowClassName,Re,Be,ce.expandRowByClick,ce.expandedRowRender,qe,ce.expandIconColumnIndex,ce.indentSize,or,gt,Ct,jn,Q,X,J,ce.rowExpandable,C,N,ge,$e]);return M.createElement(ds.Provider,{value:at},Fe)}function ZH(n){return kH(pye,n)}var wg=ZH();wg.EXPAND_COLUMN=Sd;wg.INTERNAL_HOOKS=ey;wg.Column=cye;wg.ColumnGroup=uye;wg.Summary=zH;var ej=jP(null),tj=jP(null);function mye(n,e,r){var i=e||1;return r[n+i]-(r[n]||0)}function gye(n){var e=n.rowInfo,r=n.column,i=n.colIndex,o=n.indent,s=n.index,l=n.renderIndex,u=n.record,c=n.style,d=n.className,h=n.inverse,p=n.getHeight,m=r.render,v=r.dataIndex,y=r.className,A=r.width,b=Ya(tj,["columnsOffset"]),g=b.columnsOffset,w=VH(e,r,i,o,s),E=w.key,C=w.fixedInfo,_=w.appendCellNode,P=w.additionalCellProps,R=P.style,L=P.colSpan,T=L===void 0?1:L,D=P.rowSpan,H=D===void 0?1:D,V=i-1,B=mye(V,T,g),O=T>1?A-B:0,F=ht(ht(ht({},R),c),{},{flex:"0 0 ".concat(B,"px"),width:"".concat(B,"px"),marginRight:O,pointerEvents:"auto"}),N=M.useMemo(function(){return h?H<=1:T===0||H===0||H>1},[H,T,h]);N?F.visibility="hidden":h&&(F.height=p==null?void 0:p(H));var z=N?function(){return null}:m,j={};return(H===0||T===0)&&(j.rowSpan=1,j.colSpan=1),M.createElement(Ph,rn({className:bt(y,d),ellipsis:r.ellipsis,align:r.align,scope:r.rowScope,component:"div",prefixCls:e.prefixCls,key:E,record:u,index:s,renderIndex:l,dataIndex:v,render:z,shouldCellUpdate:r.shouldCellUpdate},C,{appendNode:_,additionalProps:ht(ht({},P),{},{style:F},j)}))}var vye=["data","index","className","rowKey","style","extra","getHeight"],Aye=M.forwardRef(function(n,e){var r=n.data,i=n.index,o=n.className,s=n.rowKey,l=n.style,u=n.extra,c=n.getHeight,d=Br(n,vye),h=r.record,p=r.indent,m=r.index,v=Ya(ds,["prefixCls","flattenColumns","fixColumn","componentWidth","scrollX"]),y=v.scrollX,A=v.flattenColumns,b=v.prefixCls,g=v.fixColumn,w=v.componentWidth,E=jH(h,s,i,p),C=E.rowSupportExpand,_=E.expanded,P=E.rowProps,R=E.expandedRowRender,L=E.expandedRowClassName,T;if(C&&_){var D=R(h,i,p+1,_),H=L==null?void 0:L(h,i,p),V={};g&&(V={style:ct({},"--virtual-width","".concat(w,"px"))});var B="".concat(b,"-expanded-row-cell");T=M.createElement("div",{className:bt("".concat(b,"-expanded-row"),"".concat(b,"-expanded-row-level-").concat(p+1),H)},M.createElement(Ph,{component:"div",prefixCls:b,className:bt(B,ct({},"".concat(B,"-fixed"),g)),additionalProps:V},D))}var O=ht(ht({},l),{},{width:y});u&&(O.position="absolute",O.pointerEvents="none");var F=M.createElement("div",rn({},P,d,{ref:C?null:e,className:bt(o,"".concat(b,"-row"),P==null?void 0:P.className,ct({},"".concat(b,"-row-extra"),u)),style:ht(ht({},O),P==null?void 0:P.style)}),A.map(function(N,z){return M.createElement(gye,{key:z,rowInfo:E,column:N,colIndex:z,indent:p,index:i,renderIndex:m,record:h,inverse:u,getHeight:c})}));return C?M.createElement("div",{ref:e},F,T):F}),jk=Cg(Aye),yye=M.forwardRef(function(n,e){var r=n.data,i=n.onScroll,o=Ya(ds,["flattenColumns","onColumnResize","getRowKey","prefixCls","expandedKeys","childrenColumnName","emptyNode","scrollX"]),s=o.flattenColumns,l=o.onColumnResize,u=o.getRowKey,c=o.expandedKeys,d=o.prefixCls,h=o.childrenColumnName,p=o.emptyNode,m=o.scrollX,v=Ya(ej),y=v.sticky,A=v.scrollY,b=v.listItemHeight,g=M.useRef(),w=HH(r,h,c,u),E=M.useMemo(function(){var H=0;return s.map(function(V){var B=V.width,O=V.key;return H+=B,[O,B,H]})},[s]),C=M.useMemo(function(){return E.map(function(H){return H[2]})},[E]);M.useEffect(function(){E.forEach(function(H){var V=Ot(H,2),B=V[0],O=V[1];l(B,O)})},[E]),M.useImperativeHandle(e,function(){var H={};return Object.defineProperty(H,"scrollLeft",{get:function(){var B;return((B=g.current)===null||B===void 0?void 0:B.getScrollInfo().x)||0},set:function(B){var O;(O=g.current)===null||O===void 0||O.scrollTo({left:B})}}),H});var _=function(V,B){var O,F=(O=w[B])===null||O===void 0?void 0:O.record,N=V.onCell;if(N){var z,j=N(F,B);return(z=j==null?void 0:j.rowSpan)!==null&&z!==void 0?z:1}return 1},P=function(V){var B=V.start,O=V.end,F=V.getSize,N=V.offsetY;if(O<0)return null;for(var z=s.filter(function(ke){return _(ke,B)===0}),j=B,G=function(st){if(z=z.filter(function(ot){return _(ot,st)===0}),!z.length)return j=st,"break"},Q=B;Q>=0;Q-=1){var X=G(Q);if(X==="break")break}for(var J=s.filter(function(ke){return _(ke,O)!==1}),Z=O,oe=function(st){if(J=J.filter(function(ot){return _(ot,st)!==1}),!J.length)return Z=Math.max(st-1,O),"break"},ce=O;ce<w.length;ce+=1){var Be=oe(ce);if(Be==="break")break}for(var ge=[],Re=function(st){var ot=w[st];if(!ot)return"continue";s.some(function(it){return _(it,st)>1})&&ge.push(st)},$e=j;$e<=Z;$e+=1)var qe=Re($e);var Ke=ge.map(function(ke){var st=w[ke],ot=u(st.record,ke),it=function(gt){var Ct=ke+gt-1,Tt=u(w[Ct].record,Ct),Dt=F(ot,Tt);return Dt.bottom-Dt.top},ft=F(ot);return M.createElement(jk,{key:ke,data:st,rowKey:ot,index:ke,style:{top:-N+ft.top},extra:!0,getHeight:it})});return Ke},R=M.useMemo(function(){return{columnsOffset:C}},[C]),L="".concat(d,"-tbody"),T;if(w.length){var D={};y&&(D.position="sticky",D.bottom=0,Tr(y)==="object"&&y.offsetScroll&&(D.bottom=y.offsetScroll)),T=M.createElement(SC,{fullHeight:!1,ref:g,styles:{horizontalScrollBar:D},className:bt(L,"".concat(L,"-virtual")),height:A,itemHeight:b||24,data:w,itemKey:function(V){return u(V.record)},scrollWidth:m,onVirtualScroll:function(V){var B=V.x;i({scrollLeft:B})},extraRender:P},function(H,V,B){var O=u(H.record,V);return M.createElement(jk,rn({data:H,rowKey:O,index:V},B))})}else T=M.createElement("div",{className:bt("".concat(d,"-placeholder"))},M.createElement(Ph,{component:"div",prefixCls:d},p));return M.createElement(tj.Provider,{value:R},T)}),bye=Cg(yye),xye=function(e,r){var i=r.ref,o=r.onScroll;return M.createElement(bye,{ref:i,data:e,onScroll:o})};function Eye(n){var e=n.columns,r=n.scroll,i=n.sticky,o=n.prefixCls,s=o===void 0?JH:o,l=n.className,u=n.listItemHeight,c=r||{},d=c.x,h=c.y;typeof d!="number"&&(d=1),typeof h!="number"&&(h=500);var p=M.useMemo(function(){return{sticky:i,scrollY:h,listItemHeight:u}},[i,h,u]);return M.createElement(ej.Provider,{value:p},M.createElement(wg,rn({},n,{className:bt(l,"".concat(s,"-virtual")),scroll:ht(ht({},r),{},{x:d}),components:{body:xye},columns:e,internalHooks:ey,tailor:!0})))}function nj(n){return kH(Eye,n)}nj();function Cye(n){return null}function wye(n){return null}function Sye(n){return function(r){let{prefixCls:i,onExpand:o,record:s,expanded:l,expandable:u}=r;const c=`${i}-row-expand-icon`;return M.createElement("button",{type:"button",onClick:d=>{o(s,d),d.stopPropagation()},className:bt(c,{[`${c}-spaced`]:!u,[`${c}-expanded`]:u&&l,[`${c}-collapsed`]:u&&!l}),"aria-label":l?n.collapse:n.expand,"aria-expanded":l})}}function _ye(n){return(r,i)=>{const o=r.querySelector(`.${n}-container`);let s=i;if(o){const l=getComputedStyle(o),u=parseInt(l.borderLeftWidth,10),c=parseInt(l.borderRightWidth,10);s=i-u-c}return s}}function Eh(n,e){return"key"in n&&n.key!==void 0&&n.key!==null?n.key:n.dataIndex?Array.isArray(n.dataIndex)?n.dataIndex.join("."):n.dataIndex:e}function ty(n,e){return e?`${e}-${n}`:`${n}`}function zC(n,e){return typeof n=="function"?n(e):n}function Mye(n,e){const r=zC(n,e);return Object.prototype.toString.call(r)==="[object Object]"?"":r}function Tye(n){const e=M.useRef(n),r=MC();return[()=>e.current,i=>{e.current=i,r()}]}var QP=M.createContext(null);function Rye(n){var e=n.dropPosition,r=n.dropLevelOffset,i=n.indent,o={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(e){case-1:o.top=0,o.left=-r*i;break;case 1:o.bottom=0,o.left=-r*i;break;case 0:o.bottom=0,o.left=i;break}return M.createElement("div",{style:o})}function rj(n){if(n==null)throw new TypeError("Cannot destructure "+n)}var Iye=function(e){for(var r=e.prefixCls,i=e.level,o=e.isStart,s=e.isEnd,l="".concat(r,"-indent-unit"),u=[],c=0;c<i;c+=1){var d;u.push(M.createElement("span",{key:c,className:bt(l,(d={},ct(d,"".concat(l,"-start"),o[c]),ct(d,"".concat(l,"-end"),s[c]),d))}))}return M.createElement("span",{"aria-hidden":"true",className:"".concat(r,"-indent")},u)};const Pye=M.memo(Iye);var Lye=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],Gk="open",Vk="close",Bye="---",Oye=function(n){ql(r,n);var e=Yl(r);function r(){var i;ca(this,r);for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return i=e.call.apply(e,[this].concat(s)),i.state={dragNodeHighlight:!1},i.selectHandle=void 0,i.cacheIndent=void 0,i.onSelectorClick=function(u){var c=i.props.context.onNodeClick;c(u,No(i.props)),i.isSelectable()?i.onSelect(u):i.onCheck(u)},i.onSelectorDoubleClick=function(u){var c=i.props.context.onNodeDoubleClick;c(u,No(i.props))},i.onSelect=function(u){if(!i.isDisabled()){var c=i.props.context.onNodeSelect;c(u,No(i.props))}},i.onCheck=function(u){if(!i.isDisabled()){var c=i.props,d=c.disableCheckbox,h=c.checked,p=i.props.context.onNodeCheck;if(!(!i.isCheckable()||d)){var m=!h;p(u,No(i.props),m)}}},i.onMouseEnter=function(u){var c=i.props.context.onNodeMouseEnter;c(u,No(i.props))},i.onMouseLeave=function(u){var c=i.props.context.onNodeMouseLeave;c(u,No(i.props))},i.onContextMenu=function(u){var c=i.props.context.onNodeContextMenu;c(u,No(i.props))},i.onDragStart=function(u){var c=i.props.context.onNodeDragStart;u.stopPropagation(),i.setState({dragNodeHighlight:!0}),c(u,ti(i));try{u.dataTransfer.setData("text/plain","")}catch{}},i.onDragEnter=function(u){var c=i.props.context.onNodeDragEnter;u.preventDefault(),u.stopPropagation(),c(u,ti(i))},i.onDragOver=function(u){var c=i.props.context.onNodeDragOver;u.preventDefault(),u.stopPropagation(),c(u,ti(i))},i.onDragLeave=function(u){var c=i.props.context.onNodeDragLeave;u.stopPropagation(),c(u,ti(i))},i.onDragEnd=function(u){var c=i.props.context.onNodeDragEnd;u.stopPropagation(),i.setState({dragNodeHighlight:!1}),c(u,ti(i))},i.onDrop=function(u){var c=i.props.context.onNodeDrop;u.preventDefault(),u.stopPropagation(),i.setState({dragNodeHighlight:!1}),c(u,ti(i))},i.onExpand=function(u){var c=i.props,d=c.loading,h=c.context.onNodeExpand;d||h(u,No(i.props))},i.setSelectHandle=function(u){i.selectHandle=u},i.getNodeState=function(){var u=i.props.expanded;return i.isLeaf()?null:u?Gk:Vk},i.hasChildren=function(){var u=i.props.eventKey,c=i.props.context.keyEntities,d=Is(c,u)||{},h=d.children;return!!(h||[]).length},i.isLeaf=function(){var u=i.props,c=u.isLeaf,d=u.loaded,h=i.props.context.loadData,p=i.hasChildren();return c===!1?!1:c||!h&&!p||h&&d&&!p},i.isDisabled=function(){var u=i.props.disabled,c=i.props.context.disabled;return!!(c||u)},i.isCheckable=function(){var u=i.props.checkable,c=i.props.context.checkable;return!c||u===!1?!1:c},i.syncLoadData=function(u){var c=u.expanded,d=u.loading,h=u.loaded,p=i.props.context,m=p.loadData,v=p.onNodeLoad;d||m&&c&&!i.isLeaf()&&!i.hasChildren()&&!h&&v(No(i.props))},i.isDraggable=function(){var u=i.props,c=u.data,d=u.context.draggable;return!!(d&&(!d.nodeDraggable||d.nodeDraggable(c)))},i.renderDragHandler=function(){var u=i.props.context,c=u.draggable,d=u.prefixCls;return c!=null&&c.icon?M.createElement("span",{className:"".concat(d,"-draggable-icon")},c.icon):null},i.renderSwitcherIconDom=function(u){var c=i.props.switcherIcon,d=i.props.context.switcherIcon,h=c||d;return typeof h=="function"?h(ht(ht({},i.props),{},{isLeaf:u})):h},i.renderSwitcher=function(){var u=i.props.expanded,c=i.props.context.prefixCls;if(i.isLeaf()){var d=i.renderSwitcherIconDom(!0);return d!==!1?M.createElement("span",{className:bt("".concat(c,"-switcher"),"".concat(c,"-switcher-noop"))},d):null}var h=bt("".concat(c,"-switcher"),"".concat(c,"-switcher_").concat(u?Gk:Vk)),p=i.renderSwitcherIconDom(!1);return p!==!1?M.createElement("span",{onClick:i.onExpand,className:h},p):null},i.renderCheckbox=function(){var u=i.props,c=u.checked,d=u.halfChecked,h=u.disableCheckbox,p=i.props.context.prefixCls,m=i.isDisabled(),v=i.isCheckable();if(!v)return null;var y=typeof v!="boolean"?v:null;return M.createElement("span",{className:bt("".concat(p,"-checkbox"),c&&"".concat(p,"-checkbox-checked"),!c&&d&&"".concat(p,"-checkbox-indeterminate"),(m||h)&&"".concat(p,"-checkbox-disabled")),onClick:i.onCheck},y)},i.renderIcon=function(){var u=i.props.loading,c=i.props.context.prefixCls;return M.createElement("span",{className:bt("".concat(c,"-iconEle"),"".concat(c,"-icon__").concat(i.getNodeState()||"docu"),u&&"".concat(c,"-icon_loading"))})},i.renderSelector=function(){var u=i.state.dragNodeHighlight,c=i.props,d=c.title,h=d===void 0?Bye:d,p=c.selected,m=c.icon,v=c.loading,y=c.data,A=i.props.context,b=A.prefixCls,g=A.showIcon,w=A.icon,E=A.loadData,C=A.titleRender,_=i.isDisabled(),P="".concat(b,"-node-content-wrapper"),R;if(g){var L=m||w;R=L?M.createElement("span",{className:bt("".concat(b,"-iconEle"),"".concat(b,"-icon__customize"))},typeof L=="function"?L(i.props):L):i.renderIcon()}else E&&v&&(R=i.renderIcon());var T;typeof h=="function"?T=h(y):C?T=C(y):T=h;var D=M.createElement("span",{className:"".concat(b,"-title")},T);return M.createElement("span",{ref:i.setSelectHandle,title:typeof h=="string"?h:"",className:bt("".concat(P),"".concat(P,"-").concat(i.getNodeState()||"normal"),!_&&(p||u)&&"".concat(b,"-node-selected")),onMouseEnter:i.onMouseEnter,onMouseLeave:i.onMouseLeave,onContextMenu:i.onContextMenu,onClick:i.onSelectorClick,onDoubleClick:i.onSelectorDoubleClick},R,D,i.renderDropIndicator())},i.renderDropIndicator=function(){var u=i.props,c=u.disabled,d=u.eventKey,h=i.props.context,p=h.draggable,m=h.dropLevelOffset,v=h.dropPosition,y=h.prefixCls,A=h.indent,b=h.dropIndicatorRender,g=h.dragOverNodeKey,w=h.direction,E=!!p,C=!c&&E&&g===d,_=A??i.cacheIndent;return i.cacheIndent=A,C?b({dropPosition:v,dropLevelOffset:m,indent:_,prefixCls:y,direction:w}):null},i}return ua(r,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var o=this.props.selectable,s=this.props.context.selectable;return typeof o=="boolean"?o:s}},{key:"render",value:function(){var o,s=this.props,l=s.eventKey,u=s.className,c=s.style,d=s.dragOver,h=s.dragOverGapTop,p=s.dragOverGapBottom,m=s.isLeaf,v=s.isStart,y=s.isEnd,A=s.expanded,b=s.selected,g=s.checked,w=s.halfChecked,E=s.loading,C=s.domRef,_=s.active;s.data;var P=s.onMouseMove,R=s.selectable,L=Br(s,Lye),T=this.props.context,D=T.prefixCls,H=T.filterTreeNode,V=T.keyEntities,B=T.dropContainerKey,O=T.dropTargetKey,F=T.draggingNodeKey,N=this.isDisabled(),z=Ql(L,{aria:!0,data:!0}),j=Is(V,l)||{},G=j.level,Q=y[y.length-1],X=this.isDraggable(),J=!N&&X,Z=F===l,oe=R!==void 0?{"aria-selected":!!R}:void 0;return M.createElement("div",rn({ref:C,className:bt(u,"".concat(D,"-treenode"),(o={},ct(o,"".concat(D,"-treenode-disabled"),N),ct(o,"".concat(D,"-treenode-switcher-").concat(A?"open":"close"),!m),ct(o,"".concat(D,"-treenode-checkbox-checked"),g),ct(o,"".concat(D,"-treenode-checkbox-indeterminate"),w),ct(o,"".concat(D,"-treenode-selected"),b),ct(o,"".concat(D,"-treenode-loading"),E),ct(o,"".concat(D,"-treenode-active"),_),ct(o,"".concat(D,"-treenode-leaf-last"),Q),ct(o,"".concat(D,"-treenode-draggable"),X),ct(o,"dragging",Z),ct(o,"drop-target",O===l),ct(o,"drop-container",B===l),ct(o,"drag-over",!N&&d),ct(o,"drag-over-gap-top",!N&&h),ct(o,"drag-over-gap-bottom",!N&&p),ct(o,"filter-node",H&&H(No(this.props))),o)),style:c,draggable:J,"aria-grabbed":Z,onDragStart:J?this.onDragStart:void 0,onDragEnter:X?this.onDragEnter:void 0,onDragOver:X?this.onDragOver:void 0,onDragLeave:X?this.onDragLeave:void 0,onDrop:X?this.onDrop:void 0,onDragEnd:X?this.onDragEnd:void 0,onMouseMove:P},oe,z),M.createElement(Pye,{prefixCls:D,level:G,isStart:v,isEnd:y}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),r}(M.Component),rg=function(e){return M.createElement(QP.Consumer,null,function(r){return M.createElement(Oye,rn({},e,{context:r}))})};rg.displayName="TreeNode";rg.isTreeNode=1;function Dye(n,e){var r=M.useState(!1),i=Ot(r,2),o=i[0],s=i[1];M.useLayoutEffect(function(){if(o)return n(),function(){e()}},[o]),M.useLayoutEffect(function(){return s(!0),function(){s(!1)}},[])}var Nye=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],ij=function(e,r){var i=e.className,o=e.style,s=e.motion,l=e.motionNodes,u=e.motionType,c=e.onMotionStart,d=e.onMotionEnd,h=e.active,p=e.treeNodeRequiredProps,m=Br(e,Nye),v=M.useState(!0),y=Ot(v,2),A=y[0],b=y[1],g=M.useContext(QP),w=g.prefixCls,E=l&&u!=="hide";mi(function(){l&&E!==A&&b(E)},[l]);var C=function(){l&&c()},_=M.useRef(!1),P=function(){l&&!_.current&&(_.current=!0,d())};Dye(C,P);var R=function(T){E===T&&P()};return l?M.createElement(Sc,rn({ref:r,visible:A},s,{motionAppear:u==="show",onVisibleChanged:R}),function(L,T){var D=L.className,H=L.style;return M.createElement("div",{ref:T,className:bt("".concat(w,"-treenode-motion"),D),style:H},l.map(function(V){var B=rn({},(rj(V.data),V.data)),O=V.title,F=V.key,N=V.isStart,z=V.isEnd;delete B.children;var j=N0(F,p);return M.createElement(rg,rn({},B,j,{title:O,active:h,data:V.data,key:F,isStart:N,isEnd:z}))}))}):M.createElement(rg,rn({domRef:r,className:i,style:o},m,{active:h}))};ij.displayName="MotionTreeNode";var kye=M.forwardRef(ij);function Fye(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=n.length,i=e.length;if(Math.abs(r-i)!==1)return{add:!1,key:null};function o(s,l){var u=new Map;s.forEach(function(d){u.set(d,!0)});var c=l.filter(function(d){return!u.has(d)});return c.length===1?c[0]:null}return r<i?{add:!0,key:o(n,e)}:{add:!1,key:o(e,n)}}function Wk(n,e,r){var i=n.findIndex(function(u){return u.key===r}),o=n[i+1],s=e.findIndex(function(u){return u.key===r});if(o){var l=e.findIndex(function(u){return u.key===o.key});return e.slice(s+1,l)}return e.slice(s+1)}var Uye=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],Qk={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},zye=function(){},Ch="RC_TREE_MOTION_".concat(Math.random()),I3={key:Ch},oj={key:Ch,level:0,index:0,pos:"0",node:I3,nodes:[I3]},Kk={parent:null,children:[],pos:oj.pos,data:I3,title:null,key:Ch,isStart:[],isEnd:[]};function Xk(n,e,r,i){return e===!1||!r?n:n.slice(0,Math.ceil(r/i)+1)}function qk(n){var e=n.key,r=n.pos;return YA(e,r)}function $ye(n){for(var e=String(n.data.key),r=n;r.parent;)r=r.parent,e="".concat(r.data.key," > ").concat(e);return e}var aj=M.forwardRef(function(n,e){var r=n.prefixCls,i=n.data;n.selectable,n.checkable;var o=n.expandedKeys,s=n.selectedKeys,l=n.checkedKeys,u=n.loadedKeys,c=n.loadingKeys,d=n.halfCheckedKeys,h=n.keyEntities,p=n.disabled,m=n.dragging,v=n.dragOverNodeKey,y=n.dropPosition,A=n.motion,b=n.height,g=n.itemHeight,w=n.virtual,E=n.focusable,C=n.activeItem,_=n.focused,P=n.tabIndex,R=n.onKeyDown,L=n.onFocus,T=n.onBlur,D=n.onActiveChange,H=n.onListChangeStart,V=n.onListChangeEnd,B=Br(n,Uye),O=M.useRef(null),F=M.useRef(null);M.useImperativeHandle(e,function(){return{scrollTo:function(Dt){O.current.scrollTo(Dt)},getIndentWidth:function(){return F.current.offsetWidth}}});var N=M.useState(o),z=Ot(N,2),j=z[0],G=z[1],Q=M.useState(i),X=Ot(Q,2),J=X[0],Z=X[1],oe=M.useState(i),ce=Ot(oe,2),Be=ce[0],ge=ce[1],Re=M.useState([]),$e=Ot(Re,2),qe=$e[0],Ke=$e[1],ke=M.useState(null),st=Ot(ke,2),ot=st[0],it=st[1],ft=M.useRef(i);ft.current=i;function Et(){var Tt=ft.current;Z(Tt),ge(Tt),Ke([]),it(null),V()}mi(function(){G(o);var Tt=Fye(j,o);if(Tt.key!==null)if(Tt.add){var Dt=J.findIndex(function(_e){var Ce=_e.key;return Ce===Tt.key}),Yt=Xk(Wk(J,i,Tt.key),w,b,g),Ve=J.slice();Ve.splice(Dt+1,0,Kk),ge(Ve),Ke(Yt),it("show")}else{var ye=i.findIndex(function(_e){var Ce=_e.key;return Ce===Tt.key}),fe=Xk(Wk(i,J,Tt.key),w,b,g),pe=i.slice();pe.splice(ye+1,0,Kk),ge(pe),Ke(fe),it("hide")}else J!==i&&(Z(i),ge(i))},[o,i]),M.useEffect(function(){m||Et()},[m]);var gt=A?Be:i,Ct={expandedKeys:o,selectedKeys:s,loadedKeys:u,loadingKeys:c,checkedKeys:l,halfCheckedKeys:d,dragOverNodeKey:v,dropPosition:y,keyEntities:h};return M.createElement(M.Fragment,null,_&&C&&M.createElement("span",{style:Qk,"aria-live":"assertive"},$ye(C)),M.createElement("div",null,M.createElement("input",{style:Qk,disabled:E===!1||p,tabIndex:E!==!1?P:null,onKeyDown:R,onFocus:L,onBlur:T,value:"",onChange:zye,"aria-label":"for screen reader"})),M.createElement("div",{className:"".concat(r,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},M.createElement("div",{className:"".concat(r,"-indent")},M.createElement("div",{ref:F,className:"".concat(r,"-indent-unit")}))),M.createElement(SC,rn({},B,{data:gt,itemKey:qk,height:b,fullHeight:!1,virtual:w,itemHeight:g,prefixCls:"".concat(r,"-list"),ref:O,onVisibleChange:function(Dt,Yt){var Ve=new Set(Dt),ye=Yt.filter(function(fe){return!Ve.has(fe)});ye.some(function(fe){return qk(fe)===Ch})&&Et()}}),function(Tt){var Dt=Tt.pos,Yt=rn({},(rj(Tt.data),Tt.data)),Ve=Tt.title,ye=Tt.key,fe=Tt.isStart,pe=Tt.isEnd,_e=YA(ye,Dt);delete Yt.key,delete Yt.children;var Ce=N0(_e,Ct);return M.createElement(kye,rn({},Yt,Ce,{title:Ve,active:!!C&&ye===C.key,pos:Dt,data:Tt.data,isStart:fe,isEnd:pe,motion:A,motionNodes:ye===Ch?qe:null,motionType:ot,onMotionStart:H,onMotionEnd:Et,treeNodeRequiredProps:Ct,onMouseMove:function(){D(null)}}))}))});aj.displayName="NodeList";function cc(n,e){if(!n)return[];var r=n.slice(),i=r.indexOf(e);return i>=0&&r.splice(i,1),r}function su(n,e){var r=(n||[]).slice();return r.indexOf(e)===-1&&r.push(e),r}function KP(n){return n.split("-")}function Hye(n,e){var r=[],i=Is(e,n);function o(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];s.forEach(function(l){var u=l.key,c=l.children;r.push(u),o(c)})}return o(i.children),r}function jye(n){if(n.parent){var e=KP(n.pos);return Number(e[e.length-1])===n.parent.children.length-1}return!1}function Gye(n){var e=KP(n.pos);return Number(e[e.length-1])===0}function Yk(n,e,r,i,o,s,l,u,c,d){var h,p=n.clientX,m=n.clientY,v=n.target.getBoundingClientRect(),y=v.top,A=v.height,b=(d==="rtl"?-1:1)*(((o==null?void 0:o.x)||0)-p),g=(b-12)/i,w=Is(u,r.props.eventKey);if(m<y+A/2){var E=l.findIndex(function(F){return F.key===w.key}),C=E<=0?0:E-1,_=l[C].key;w=Is(u,_)}var P=w.key,R=w,L=w.key,T=0,D=0;if(!c.includes(P))for(var H=0;H<g&&jye(w);H+=1)w=w.parent,D+=1;var V=e.props.data,B=w.node,O=!0;return Gye(w)&&w.level===0&&m<y+A/2&&s({dragNode:V,dropNode:B,dropPosition:-1})&&w.key===r.props.eventKey?T=-1:(R.children||[]).length&&c.includes(L)?s({dragNode:V,dropNode:B,dropPosition:0})?T=0:O=!1:D===0?g>-1.5?s({dragNode:V,dropNode:B,dropPosition:1})?T=1:O=!1:s({dragNode:V,dropNode:B,dropPosition:0})?T=0:s({dragNode:V,dropNode:B,dropPosition:1})?T=1:O=!1:s({dragNode:V,dropNode:B,dropPosition:1})?T=1:O=!1,{dropPosition:T,dropLevelOffset:D,dropTargetKey:w.key,dropTargetPos:w.pos,dragOverNodeKey:L,dropContainerKey:T===0?null:((h=w.parent)===null||h===void 0?void 0:h.key)||null,dropAllowed:O}}function Jk(n,e){if(n){var r=e.multiple;return r?n.slice():n.length?[n[0]]:n}}function i_(n){if(!n)return null;var e;if(Array.isArray(n))e={checkedKeys:n,halfCheckedKeys:void 0};else if(Tr(n)==="object")e={checkedKeys:n.checked||void 0,halfCheckedKeys:n.halfChecked||void 0};else return no(!1,"`checkedKeys` is not an array or an object"),null;return e}function P3(n,e){var r=new Set;function i(o){if(!r.has(o)){var s=Is(e,o);if(s){r.add(o);var l=s.parent,u=s.node;u.disabled||l&&i(l.key)}}}return(n||[]).forEach(function(o){i(o)}),mn(r)}var Vye=10,XP=function(n){ql(r,n);var e=Yl(r);function r(){var i;ca(this,r);for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return i=e.call.apply(e,[this].concat(s)),i.destroyed=!1,i.delayedDragEnterLogic=void 0,i.loadingRetryTimes={},i.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:ng()},i.dragStartMousePosition=null,i.dragNode=void 0,i.currentMouseOverDroppableNodeKey=null,i.listRef=M.createRef(),i.onNodeDragStart=function(u,c){var d=i.state,h=d.expandedKeys,p=d.keyEntities,m=i.props.onDragStart,v=c.props.eventKey;i.dragNode=c,i.dragStartMousePosition={x:u.clientX,y:u.clientY};var y=cc(h,v);i.setState({draggingNodeKey:v,dragChildrenKeys:Hye(v,p),indent:i.listRef.current.getIndentWidth()}),i.setExpandedKeys(y),window.addEventListener("dragend",i.onWindowDragEnd),m==null||m({event:u,node:No(c.props)})},i.onNodeDragEnter=function(u,c){var d=i.state,h=d.expandedKeys,p=d.keyEntities,m=d.dragChildrenKeys,v=d.flattenNodes,y=d.indent,A=i.props,b=A.onDragEnter,g=A.onExpand,w=A.allowDrop,E=A.direction,C=c.props,_=C.pos,P=C.eventKey,R=ti(i),L=R.dragNode;if(i.currentMouseOverDroppableNodeKey!==P&&(i.currentMouseOverDroppableNodeKey=P),!L){i.resetDragState();return}var T=Yk(u,L,c,y,i.dragStartMousePosition,w,v,p,h,E),D=T.dropPosition,H=T.dropLevelOffset,V=T.dropTargetKey,B=T.dropContainerKey,O=T.dropTargetPos,F=T.dropAllowed,N=T.dragOverNodeKey;if(m.indexOf(V)!==-1||!F){i.resetDragState();return}if(i.delayedDragEnterLogic||(i.delayedDragEnterLogic={}),Object.keys(i.delayedDragEnterLogic).forEach(function(z){clearTimeout(i.delayedDragEnterLogic[z])}),L.props.eventKey!==c.props.eventKey&&(u.persist(),i.delayedDragEnterLogic[_]=window.setTimeout(function(){if(i.state.draggingNodeKey!==null){var z=mn(h),j=Is(p,c.props.eventKey);j&&(j.children||[]).length&&(z=su(h,c.props.eventKey)),"expandedKeys"in i.props||i.setExpandedKeys(z),g==null||g(z,{node:No(c.props),expanded:!0,nativeEvent:u.nativeEvent})}},800)),L.props.eventKey===V&&H===0){i.resetDragState();return}i.setState({dragOverNodeKey:N,dropPosition:D,dropLevelOffset:H,dropTargetKey:V,dropContainerKey:B,dropTargetPos:O,dropAllowed:F}),b==null||b({event:u,node:No(c.props),expandedKeys:h})},i.onNodeDragOver=function(u,c){var d=i.state,h=d.dragChildrenKeys,p=d.flattenNodes,m=d.keyEntities,v=d.expandedKeys,y=d.indent,A=i.props,b=A.onDragOver,g=A.allowDrop,w=A.direction,E=ti(i),C=E.dragNode;if(C){var _=Yk(u,C,c,y,i.dragStartMousePosition,g,p,m,v,w),P=_.dropPosition,R=_.dropLevelOffset,L=_.dropTargetKey,T=_.dropContainerKey,D=_.dropAllowed,H=_.dropTargetPos,V=_.dragOverNodeKey;h.indexOf(L)!==-1||!D||(C.props.eventKey===L&&R===0?i.state.dropPosition===null&&i.state.dropLevelOffset===null&&i.state.dropTargetKey===null&&i.state.dropContainerKey===null&&i.state.dropTargetPos===null&&i.state.dropAllowed===!1&&i.state.dragOverNodeKey===null||i.resetDragState():P===i.state.dropPosition&&R===i.state.dropLevelOffset&&L===i.state.dropTargetKey&&T===i.state.dropContainerKey&&H===i.state.dropTargetPos&&D===i.state.dropAllowed&&V===i.state.dragOverNodeKey||i.setState({dropPosition:P,dropLevelOffset:R,dropTargetKey:L,dropContainerKey:T,dropTargetPos:H,dropAllowed:D,dragOverNodeKey:V}),b==null||b({event:u,node:No(c.props)}))}},i.onNodeDragLeave=function(u,c){i.currentMouseOverDroppableNodeKey===c.props.eventKey&&!u.currentTarget.contains(u.relatedTarget)&&(i.resetDragState(),i.currentMouseOverDroppableNodeKey=null);var d=i.props.onDragLeave;d==null||d({event:u,node:No(c.props)})},i.onWindowDragEnd=function(u){i.onNodeDragEnd(u,null,!0),window.removeEventListener("dragend",i.onWindowDragEnd)},i.onNodeDragEnd=function(u,c){var d=i.props.onDragEnd;i.setState({dragOverNodeKey:null}),i.cleanDragState(),d==null||d({event:u,node:No(c.props)}),i.dragNode=null,window.removeEventListener("dragend",i.onWindowDragEnd)},i.onNodeDrop=function(u,c){var d,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,p=i.state,m=p.dragChildrenKeys,v=p.dropPosition,y=p.dropTargetKey,A=p.dropTargetPos,b=p.dropAllowed;if(b){var g=i.props.onDrop;if(i.setState({dragOverNodeKey:null}),i.cleanDragState(),y!==null){var w=ht(ht({},N0(y,i.getTreeNodeRequiredProps())),{},{active:((d=i.getActiveItem())===null||d===void 0?void 0:d.key)===y,data:Is(i.state.keyEntities,y).node}),E=m.indexOf(y)!==-1;no(!E,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var C=KP(A),_={event:u,node:No(w),dragNode:i.dragNode?No(i.dragNode.props):null,dragNodesKeys:[i.dragNode.props.eventKey].concat(m),dropToGap:v!==0,dropPosition:v+Number(C[C.length-1])};h||g==null||g(_),i.dragNode=null}}},i.cleanDragState=function(){var u=i.state.draggingNodeKey;u!==null&&i.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),i.dragStartMousePosition=null,i.currentMouseOverDroppableNodeKey=null},i.triggerExpandActionExpand=function(u,c){var d=i.state,h=d.expandedKeys,p=d.flattenNodes,m=c.expanded,v=c.key,y=c.isLeaf;if(!(y||u.shiftKey||u.metaKey||u.ctrlKey)){var A=p.filter(function(g){return g.key===v})[0],b=No(ht(ht({},N0(v,i.getTreeNodeRequiredProps())),{},{data:A.data}));i.setExpandedKeys(m?cc(h,v):su(h,v)),i.onNodeExpand(u,b)}},i.onNodeClick=function(u,c){var d=i.props,h=d.onClick,p=d.expandAction;p==="click"&&i.triggerExpandActionExpand(u,c),h==null||h(u,c)},i.onNodeDoubleClick=function(u,c){var d=i.props,h=d.onDoubleClick,p=d.expandAction;p==="doubleClick"&&i.triggerExpandActionExpand(u,c),h==null||h(u,c)},i.onNodeSelect=function(u,c){var d=i.state.selectedKeys,h=i.state,p=h.keyEntities,m=h.fieldNames,v=i.props,y=v.onSelect,A=v.multiple,b=c.selected,g=c[m.key],w=!b;w?A?d=su(d,g):d=[g]:d=cc(d,g);var E=d.map(function(C){var _=Is(p,C);return _?_.node:null}).filter(function(C){return C});i.setUncontrolledState({selectedKeys:d}),y==null||y(d,{event:"select",selected:w,node:c,selectedNodes:E,nativeEvent:u.nativeEvent})},i.onNodeCheck=function(u,c,d){var h=i.state,p=h.keyEntities,m=h.checkedKeys,v=h.halfCheckedKeys,y=i.props,A=y.checkStrictly,b=y.onCheck,g=c.key,w,E={event:"check",node:c,checked:d,nativeEvent:u.nativeEvent};if(A){var C=d?su(m,g):cc(m,g),_=cc(v,g);w={checked:C,halfChecked:_},E.checkedNodes=C.map(function(H){return Is(p,H)}).filter(function(H){return H}).map(function(H){return H.node}),i.setUncontrolledState({checkedKeys:C})}else{var P=Bm([].concat(mn(m),[g]),!0,p),R=P.checkedKeys,L=P.halfCheckedKeys;if(!d){var T=new Set(R);T.delete(g);var D=Bm(Array.from(T),{checked:!1,halfCheckedKeys:L},p);R=D.checkedKeys,L=D.halfCheckedKeys}w=R,E.checkedNodes=[],E.checkedNodesPositions=[],E.halfCheckedKeys=L,R.forEach(function(H){var V=Is(p,H);if(V){var B=V.node,O=V.pos;E.checkedNodes.push(B),E.checkedNodesPositions.push({node:B,pos:O})}}),i.setUncontrolledState({checkedKeys:R},!1,{halfCheckedKeys:L})}b==null||b(w,E)},i.onNodeLoad=function(u){var c=u.key,d=new Promise(function(h,p){i.setState(function(m){var v=m.loadedKeys,y=v===void 0?[]:v,A=m.loadingKeys,b=A===void 0?[]:A,g=i.props,w=g.loadData,E=g.onLoad;if(!w||y.indexOf(c)!==-1||b.indexOf(c)!==-1)return null;var C=w(u);return C.then(function(){var _=i.state.loadedKeys,P=su(_,c);E==null||E(P,{event:"load",node:u}),i.setUncontrolledState({loadedKeys:P}),i.setState(function(R){return{loadingKeys:cc(R.loadingKeys,c)}}),h()}).catch(function(_){if(i.setState(function(R){return{loadingKeys:cc(R.loadingKeys,c)}}),i.loadingRetryTimes[c]=(i.loadingRetryTimes[c]||0)+1,i.loadingRetryTimes[c]>=Vye){var P=i.state.loadedKeys;no(!1,"Retry for `loadData` many times but still failed. No more retry."),i.setUncontrolledState({loadedKeys:su(P,c)}),h()}p(_)}),{loadingKeys:su(b,c)}})});return d.catch(function(){}),d},i.onNodeMouseEnter=function(u,c){var d=i.props.onMouseEnter;d==null||d({event:u,node:c})},i.onNodeMouseLeave=function(u,c){var d=i.props.onMouseLeave;d==null||d({event:u,node:c})},i.onNodeContextMenu=function(u,c){var d=i.props.onRightClick;d&&(u.preventDefault(),d({event:u,node:c}))},i.onFocus=function(){var u=i.props.onFocus;i.setState({focused:!0});for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];u==null||u.apply(void 0,d)},i.onBlur=function(){var u=i.props.onBlur;i.setState({focused:!1}),i.onActiveChange(null);for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];u==null||u.apply(void 0,d)},i.getTreeNodeRequiredProps=function(){var u=i.state,c=u.expandedKeys,d=u.selectedKeys,h=u.loadedKeys,p=u.loadingKeys,m=u.checkedKeys,v=u.halfCheckedKeys,y=u.dragOverNodeKey,A=u.dropPosition,b=u.keyEntities;return{expandedKeys:c||[],selectedKeys:d||[],loadedKeys:h||[],loadingKeys:p||[],checkedKeys:m||[],halfCheckedKeys:v||[],dragOverNodeKey:y,dropPosition:A,keyEntities:b}},i.setExpandedKeys=function(u){var c=i.state,d=c.treeData,h=c.fieldNames,p=Y2(d,u,h);i.setUncontrolledState({expandedKeys:u,flattenNodes:p},!0)},i.onNodeExpand=function(u,c){var d=i.state.expandedKeys,h=i.state,p=h.listChanging,m=h.fieldNames,v=i.props,y=v.onExpand,A=v.loadData,b=c.expanded,g=c[m.key];if(!p){var w=d.indexOf(g),E=!b;if(no(b&&w!==-1||!b&&w===-1,"Expand state not sync with index check"),E?d=su(d,g):d=cc(d,g),i.setExpandedKeys(d),y==null||y(d,{node:c,expanded:E,nativeEvent:u.nativeEvent}),E&&A){var C=i.onNodeLoad(c);C&&C.then(function(){var _=Y2(i.state.treeData,d,m);i.setUncontrolledState({flattenNodes:_})}).catch(function(){var _=i.state.expandedKeys,P=cc(_,g);i.setExpandedKeys(P)})}}},i.onListChangeStart=function(){i.setUncontrolledState({listChanging:!0})},i.onListChangeEnd=function(){setTimeout(function(){i.setUncontrolledState({listChanging:!1})})},i.onActiveChange=function(u){var c=i.state.activeKey,d=i.props.onActiveChange;c!==u&&(i.setState({activeKey:u}),u!==null&&i.scrollTo({key:u}),d==null||d(u))},i.getActiveItem=function(){var u=i.state,c=u.activeKey,d=u.flattenNodes;return c===null?null:d.find(function(h){var p=h.key;return p===c})||null},i.offsetActiveKey=function(u){var c=i.state,d=c.flattenNodes,h=c.activeKey,p=d.findIndex(function(y){var A=y.key;return A===h});p===-1&&u<0&&(p=d.length),p=(p+u+d.length)%d.length;var m=d[p];if(m){var v=m.key;i.onActiveChange(v)}else i.onActiveChange(null)},i.onKeyDown=function(u){var c=i.state,d=c.activeKey,h=c.expandedKeys,p=c.checkedKeys,m=c.fieldNames,v=i.props,y=v.onKeyDown,A=v.checkable,b=v.selectable;switch(u.which){case An.UP:{i.offsetActiveKey(-1),u.preventDefault();break}case An.DOWN:{i.offsetActiveKey(1),u.preventDefault();break}}var g=i.getActiveItem();if(g&&g.data){var w=i.getTreeNodeRequiredProps(),E=g.data.isLeaf===!1||!!(g.data[m.children]||[]).length,C=No(ht(ht({},N0(d,w)),{},{data:g.data,active:!0}));switch(u.which){case An.LEFT:{E&&h.includes(d)?i.onNodeExpand({},C):g.parent&&i.onActiveChange(g.parent.key),u.preventDefault();break}case An.RIGHT:{E&&!h.includes(d)?i.onNodeExpand({},C):g.children&&g.children.length&&i.onActiveChange(g.children[0].key),u.preventDefault();break}case An.ENTER:case An.SPACE:{A&&!C.disabled&&C.checkable!==!1&&!C.disableCheckbox?i.onNodeCheck({},C,!p.includes(d)):!A&&b&&!C.disabled&&C.selectable!==!1&&i.onNodeSelect({},C);break}}}y==null||y(u)},i.setUncontrolledState=function(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!i.destroyed){var h=!1,p=!0,m={};Object.keys(u).forEach(function(v){if(v in i.props){p=!1;return}h=!0,m[v]=u[v]}),h&&(!c||p)&&i.setState(ht(ht({},m),d))}},i.scrollTo=function(u){i.listRef.current.scrollTo(u)},i}return ua(r,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var o=this.props.activeKey;o!==void 0&&o!==this.state.activeKey&&(this.setState({activeKey:o}),o!==null&&this.scrollTo({key:o}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var o,s=this.state,l=s.focused,u=s.flattenNodes,c=s.keyEntities,d=s.draggingNodeKey,h=s.activeKey,p=s.dropLevelOffset,m=s.dropContainerKey,v=s.dropTargetKey,y=s.dropPosition,A=s.dragOverNodeKey,b=s.indent,g=this.props,w=g.prefixCls,E=g.className,C=g.style,_=g.showLine,P=g.focusable,R=g.tabIndex,L=R===void 0?0:R,T=g.selectable,D=g.showIcon,H=g.icon,V=g.switcherIcon,B=g.draggable,O=g.checkable,F=g.checkStrictly,N=g.disabled,z=g.motion,j=g.loadData,G=g.filterTreeNode,Q=g.height,X=g.itemHeight,J=g.virtual,Z=g.titleRender,oe=g.dropIndicatorRender,ce=g.onContextMenu,Be=g.onScroll,ge=g.direction,Re=g.rootClassName,$e=g.rootStyle,qe=Ql(this.props,{aria:!0,data:!0}),Ke;return B&&(Tr(B)==="object"?Ke=B:typeof B=="function"?Ke={nodeDraggable:B}:Ke={}),M.createElement(QP.Provider,{value:{prefixCls:w,selectable:T,showIcon:D,icon:H,switcherIcon:V,draggable:Ke,draggingNodeKey:d,checkable:O,checkStrictly:F,disabled:N,keyEntities:c,dropLevelOffset:p,dropContainerKey:m,dropTargetKey:v,dropPosition:y,dragOverNodeKey:A,indent:b,direction:ge,dropIndicatorRender:oe,loadData:j,filterTreeNode:G,titleRender:Z,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},M.createElement("div",{role:"tree",className:bt(w,E,Re,(o={},ct(o,"".concat(w,"-show-line"),_),ct(o,"".concat(w,"-focused"),l),ct(o,"".concat(w,"-active-focused"),h!==null),o)),style:$e},M.createElement(aj,rn({ref:this.listRef,prefixCls:w,style:C,data:u,disabled:N,selectable:T,checkable:!!O,motion:z,dragging:d!==null,height:Q,itemHeight:X,virtual:J,focusable:P,focused:l,tabIndex:L,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:ce,onScroll:Be},this.getTreeNodeRequiredProps(),qe))))}}],[{key:"getDerivedStateFromProps",value:function(o,s){var l=s.prevProps,u={prevProps:o};function c(P){return!l&&P in o||l&&l[P]!==o[P]}var d,h=s.fieldNames;if(c("fieldNames")&&(h=ng(o.fieldNames),u.fieldNames=h),c("treeData")?d=o.treeData:c("children")&&(no(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),d=fH(o.children)),d){u.treeData=d;var p=UP(d,{fieldNames:h});u.keyEntities=ht(ct({},Ch,oj),p.keyEntities)}var m=u.keyEntities||s.keyEntities;if(c("expandedKeys")||l&&c("autoExpandParent"))u.expandedKeys=o.autoExpandParent||!l&&o.defaultExpandParent?P3(o.expandedKeys,m):o.expandedKeys;else if(!l&&o.defaultExpandAll){var v=ht({},m);delete v[Ch],u.expandedKeys=Object.keys(v).map(function(P){return v[P].key})}else!l&&o.defaultExpandedKeys&&(u.expandedKeys=o.autoExpandParent||o.defaultExpandParent?P3(o.defaultExpandedKeys,m):o.defaultExpandedKeys);if(u.expandedKeys||delete u.expandedKeys,d||u.expandedKeys){var y=Y2(d||s.treeData,u.expandedKeys||s.expandedKeys,h);u.flattenNodes=y}if(o.selectable&&(c("selectedKeys")?u.selectedKeys=Jk(o.selectedKeys,o):!l&&o.defaultSelectedKeys&&(u.selectedKeys=Jk(o.defaultSelectedKeys,o))),o.checkable){var A;if(c("checkedKeys")?A=i_(o.checkedKeys)||{}:!l&&o.defaultCheckedKeys?A=i_(o.defaultCheckedKeys)||{}:d&&(A=i_(o.checkedKeys)||{checkedKeys:s.checkedKeys,halfCheckedKeys:s.halfCheckedKeys}),A){var b=A,g=b.checkedKeys,w=g===void 0?[]:g,E=b.halfCheckedKeys,C=E===void 0?[]:E;if(!o.checkStrictly){var _=Bm(w,!0,m);w=_.checkedKeys,C=_.halfCheckedKeys}u.checkedKeys=w,u.halfCheckedKeys=C}}return c("loadedKeys")&&(u.loadedKeys=o.loadedKeys),u}}]),r}(M.Component);XP.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:Rye,allowDrop:function(){return!0},expandAction:!1};XP.TreeNode=rg;const Wye=new ui("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),Qye=(n,e)=>({[`.${n}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${e.motionDurationSlow}`}}}),Kye=(n,e)=>({[`.${n}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:e.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${e.lineWidthBold}px solid ${e.colorPrimary}`,borderRadius:"50%",content:'""'}}}),Xye=(n,e)=>{const{treeCls:r,treeNodeCls:i,treeNodePadding:o,titleHeight:s,nodeSelectedBg:l,nodeHoverBg:u}=e,c=e.paddingXS;return{[r]:Object.assign(Object.assign({},$i(e)),{background:e.colorBgContainer,borderRadius:e.borderRadius,transition:`background-color ${e.motionDurationSlow}`,[`&${r}-rtl`]:{[`${r}-switcher`]:{"&_close":{[`${r}-switcher-icon`]:{svg:{transform:"rotate(90deg)"}}}}},[`&-focused:not(:hover):not(${r}-active-focused)`]:Object.assign({},Bu(e)),[`${r}-list-holder-inner`]:{alignItems:"flex-start"},[`&${r}-block-node`]:{[`${r}-list-holder-inner`]:{alignItems:"stretch",[`${r}-node-content-wrapper`]:{flex:"auto"},[`${i}.dragging`]:{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:o,insetInlineStart:0,border:`1px solid ${e.colorPrimary}`,opacity:0,animationName:Wye,animationDuration:e.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}}},[`${i}`]:{display:"flex",alignItems:"flex-start",padding:`0 0 ${o}px 0`,outline:"none","&-rtl":{direction:"rtl"},"&-disabled":{[`${r}-node-content-wrapper`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}}},[`&-active ${r}-node-content-wrapper`]:Object.assign({},Bu(e)),[`&:not(${i}-disabled).filter-node ${r}-title`]:{color:"inherit",fontWeight:500},"&-draggable":{[`${r}-draggable-icon`]:{flexShrink:0,width:s,lineHeight:`${s}px`,textAlign:"center",visibility:"visible",opacity:.2,transition:`opacity ${e.motionDurationSlow}`,[`${i}:hover &`]:{opacity:.45}},[`&${i}-disabled`]:{[`${r}-draggable-icon`]:{visibility:"hidden"}}}},[`${r}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:s}},[`${r}-draggable-icon`]:{visibility:"hidden"},[`${r}-switcher`]:Object.assign(Object.assign({},Qye(n,e)),{position:"relative",flex:"none",alignSelf:"stretch",width:s,margin:0,lineHeight:`${s}px`,textAlign:"center",cursor:"pointer",userSelect:"none","&-noop":{cursor:"default"},"&_close":{[`${r}-switcher-icon`]:{svg:{transform:"rotate(-90deg)"}}},"&-loading-icon":{color:e.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:s/2,bottom:-o,marginInlineStart:-1,borderInlineEnd:`1px solid ${e.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:s/2*.8,height:s/2,borderBottom:`1px solid ${e.colorBorder}`,content:'""'}}}),[`${r}-checkbox`]:{top:"initial",marginInlineEnd:c,alignSelf:"flex-start",marginTop:e.marginXXS},[`${r}-node-content-wrapper, ${r}-checkbox + span`]:{position:"relative",zIndex:"auto",minHeight:s,margin:0,padding:`0 ${e.paddingXS/2}px`,color:"inherit",lineHeight:`${s}px`,background:"transparent",borderRadius:e.borderRadius,cursor:"pointer",transition:`all ${e.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`,"&:hover":{backgroundColor:u},[`&${r}-node-selected`]:{backgroundColor:l},[`${r}-iconEle`]:{display:"inline-block",width:s,height:s,lineHeight:`${s}px`,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}},[`${r}-unselectable ${r}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${r}-node-content-wrapper`]:Object.assign({lineHeight:`${s}px`,userSelect:"none"},Kye(n,e)),[`${i}.drop-container`]:{"> [draggable]":{boxShadow:`0 0 0 2px ${e.colorPrimary}`}},"&-show-line":{[`${r}-indent`]:{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:s/2,bottom:-o,borderInlineEnd:`1px solid ${e.colorBorder}`,content:'""'},"&-end":{"&:before":{display:"none"}}}},[`${r}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${i}-leaf-last`]:{[`${r}-switcher`]:{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:`${s/2}px !important`}}}}})}},qye=n=>{const{treeCls:e,treeNodeCls:r,treeNodePadding:i,directoryNodeSelectedBg:o,directoryNodeSelectedColor:s}=n;return{[`${e}${e}-directory`]:{[r]:{position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:i,insetInlineStart:0,transition:`background-color ${n.motionDurationMid}`,content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:n.controlItemBgHover}},"> *":{zIndex:1},[`${e}-switcher`]:{transition:`color ${n.motionDurationMid}`},[`${e}-node-content-wrapper`]:{borderRadius:0,userSelect:"none","&:hover":{background:"transparent"},[`&${e}-node-selected`]:{color:s,background:"transparent"}},"&-selected":{"\n            &:hover::before,\n            &::before\n          ":{background:o},[`${e}-switcher`]:{color:s},[`${e}-node-content-wrapper`]:{color:s,background:"transparent"}}}}}},Yye=(n,e)=>{const r=`.${n}`,i=`${r}-treenode`,o=e.paddingXS/2,s=ei(e,{treeCls:r,treeNodeCls:i,treeNodePadding:o});return[Xye(n,s),qye(s)]},Jye=n=>{const{controlHeightSM:e}=n;return{titleHeight:e,nodeHoverBg:n.controlItemBgHover,nodeSelectedBg:n.controlItemBgActive}},Zye=ki("Tree",(n,e)=>{let{prefixCls:r}=e;return[{[n.componentCls]:pH(`${r}-checkbox`,n)},Yye(r,n),hP(n)]},n=>{const{colorTextLightSolid:e,colorPrimary:r}=n;return Object.assign(Object.assign({},Jye(n)),{directoryNodeSelectedColor:e,directoryNodeSelectedBg:r})}),Zk=4;function ebe(n){const{dropPosition:e,dropLevelOffset:r,prefixCls:i,indent:o,direction:s="ltr"}=n,l=s==="ltr"?"left":"right",u=s==="ltr"?"right":"left",c={[l]:-r*o+Zk,[u]:0};switch(e){case-1:c.top=-3;break;case 1:c.bottom=-3;break;default:c.bottom=-3,c[l]=o+Zk;break}return Wt.createElement("div",{style:c,className:`${i}-drop-indicator`})}const tbe=n=>{const{prefixCls:e,switcherIcon:r,treeNodeProps:i,showLine:o}=n,{isLeaf:s,expanded:l,loading:u}=i;if(u)return M.createElement(Km,{className:`${e}-switcher-loading-icon`});let c;if(o&&typeof o=="object"&&(c=o.showLeafIcon),s){if(!o)return null;if(typeof c!="boolean"&&c){const p=typeof c=="function"?c(i):c,m=`${e}-switcher-line-custom-icon`;return us(p)?ya(p,{className:bt(p.props.className||"",m)}):p}return c?M.createElement(_z,{className:`${e}-switcher-line-icon`}):M.createElement("span",{className:`${e}-switcher-leaf-line`})}const d=`${e}-switcher-icon`,h=typeof r=="function"?r(i):r;return us(h)?ya(h,{className:bt(h.props.className||"",d)}):h!==void 0?h:o?l?M.createElement(mie,{className:`${e}-switcher-line-icon`}):M.createElement(Pie,{className:`${e}-switcher-line-icon`}):M.createElement(dne,{className:d})},nbe=tbe,rbe=Wt.forwardRef((n,e)=>{const{getPrefixCls:r,direction:i,virtual:o,tree:s}=Wt.useContext(Er),{prefixCls:l,className:u,showIcon:c=!1,showLine:d,switcherIcon:h,blockNode:p=!1,children:m,checkable:v=!1,selectable:y=!0,draggable:A,motion:b,style:g}=n,w=r("tree",l),E=r(),C=b??Object.assign(Object.assign({},nP(E)),{motionAppear:!1}),_=Object.assign(Object.assign({},n),{checkable:v,selectable:y,showIcon:c,motion:C,blockNode:p,showLine:!!d,dropIndicatorRender:ebe}),[P,R]=Zye(w),L=Wt.useMemo(()=>{if(!A)return!1;let D={};switch(typeof A){case"function":D.nodeDraggable=A;break;case"object":D=Object.assign({},A);break}return D.icon!==!1&&(D.icon=D.icon||Wt.createElement(Yre,null)),D},[A]),T=D=>Wt.createElement(nbe,{prefixCls:w,switcherIcon:h,treeNodeProps:D,showLine:d});return P(Wt.createElement(XP,Object.assign({itemHeight:20,ref:e,virtual:o},_,{style:Object.assign(Object.assign({},s==null?void 0:s.style),g),prefixCls:w,className:bt({[`${w}-icon-hide`]:!c,[`${w}-block-node`]:p,[`${w}-unselectable`]:!y,[`${w}-rtl`]:i==="rtl"},s==null?void 0:s.className,u,R),direction:i,checkable:v&&Wt.createElement("span",{className:`${w}-checkbox-inner`}),selectable:y,switcherIcon:T,draggable:L}),m))}),sj=rbe;var uu;(function(n){n[n.None=0]="None",n[n.Start=1]="Start",n[n.End=2]="End"})(uu||(uu={}));function qP(n,e,r){const{key:i,children:o}=r;function s(l){const u=l[i],c=l[o];e(u,l)!==!1&&qP(c||[],e,r)}n.forEach(s)}function ibe(n){let{treeData:e,expandedKeys:r,startKey:i,endKey:o,fieldNames:s}=n;const l=[];let u=uu.None;if(i&&i===o)return[i];if(!i||!o)return[];function c(d){return d===i||d===o}return qP(e,d=>{if(u===uu.End)return!1;if(c(d)){if(l.push(d),u===uu.None)u=uu.Start;else if(u===uu.Start)return u=uu.End,!1}else u===uu.Start&&l.push(d);return r.includes(d)},ng(s)),l}function o_(n,e,r){const i=mn(e),o=[];return qP(n,(s,l)=>{const u=i.indexOf(s);return u!==-1&&(o.push(l),i.splice(u,1)),!!i.length},ng(r)),o}var eF=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};function obe(n){const{isLeaf:e,expanded:r}=n;return e?M.createElement(_z,null):r?M.createElement(jre,null):M.createElement(Qre,null)}function tF(n){let{treeData:e,children:r}=n;return e||fH(r)}const abe=(n,e)=>{var{defaultExpandAll:r,defaultExpandParent:i,defaultExpandedKeys:o}=n,s=eF(n,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const l=M.useRef(),u=M.useRef(),c=()=>{const{keyEntities:L}=UP(tF(s));let T;return r?T=Object.keys(L):i?T=P3(s.expandedKeys||o||[],L):T=s.expandedKeys||o,T},[d,h]=M.useState(s.selectedKeys||s.defaultSelectedKeys||[]),[p,m]=M.useState(()=>c());M.useEffect(()=>{"selectedKeys"in s&&h(s.selectedKeys)},[s.selectedKeys]),M.useEffect(()=>{"expandedKeys"in s&&m(s.expandedKeys)},[s.expandedKeys]);const v=(L,T)=>{var D;return"expandedKeys"in s||m(L),(D=s.onExpand)===null||D===void 0?void 0:D.call(s,L,T)},y=(L,T)=>{var D;const{multiple:H,fieldNames:V}=s,{node:B,nativeEvent:O}=T,{key:F=""}=B,N=tF(s),z=Object.assign(Object.assign({},T),{selected:!0}),j=(O==null?void 0:O.ctrlKey)||(O==null?void 0:O.metaKey),G=O==null?void 0:O.shiftKey;let Q;H&&j?(Q=L,l.current=F,u.current=Q,z.selectedNodes=o_(N,Q,V)):H&&G?(Q=Array.from(new Set([].concat(mn(u.current||[]),mn(ibe({treeData:N,expandedKeys:p,startKey:F,endKey:l.current,fieldNames:V}))))),z.selectedNodes=o_(N,Q,V)):(Q=[F],l.current=F,u.current=Q,z.selectedNodes=o_(N,Q,V)),(D=s.onSelect)===null||D===void 0||D.call(s,Q,z),"selectedKeys"in s||h(Q)},{getPrefixCls:A,direction:b}=M.useContext(Er),{prefixCls:g,className:w,showIcon:E=!0,expandAction:C="click"}=s,_=eF(s,["prefixCls","className","showIcon","expandAction"]),P=A("tree",g),R=bt(`${P}-directory`,{[`${P}-directory-rtl`]:b==="rtl"},w);return M.createElement(sj,Object.assign({icon:obe,ref:e,blockNode:!0},_,{showIcon:E,expandAction:C,prefixCls:P,className:R,expandedKeys:p,selectedKeys:d,onSelect:y,onExpand:v}))},sbe=M.forwardRef(abe),lbe=sbe,YP=sj;YP.DirectoryTree=lbe;YP.TreeNode=rg;const cbe=YP;function nF(n){let{value:e,onChange:r,filterSearch:i,tablePrefixCls:o,locale:s}=n;return i?M.createElement("div",{className:`${o}-filter-dropdown-search`},M.createElement(kve,{prefix:M.createElement(kI,null),placeholder:s.filterSearchPlaceholder,onChange:r,value:e,htmlSize:1,className:`${o}-filter-dropdown-search-input`})):null}const ube=n=>{const{keyCode:e}=n;e===An.ENTER&&n.stopPropagation()},dbe=M.forwardRef((n,e)=>M.createElement("div",{className:n.className,onClick:r=>r.stopPropagation(),onKeyDown:ube,ref:e},n.children)),fbe=dbe;function Om(n){let e=[];return(n||[]).forEach(r=>{let{value:i,children:o}=r;e.push(i),o&&(e=[].concat(mn(e),mn(Om(o))))}),e}function hbe(n){return n.some(e=>{let{children:r}=e;return r})}function lj(n,e){return typeof e=="string"||typeof e=="number"?e==null?void 0:e.toString().toLowerCase().includes(n.trim().toLowerCase()):!1}function cj(n){let{filters:e,prefixCls:r,filteredKeys:i,filterMultiple:o,searchValue:s,filterSearch:l}=n;return e.map((u,c)=>{const d=String(u.value);if(u.children)return{key:d||c,label:u.text,popupClassName:`${r}-dropdown-submenu`,children:cj({filters:u.children,prefixCls:r,filteredKeys:i,filterMultiple:o,searchValue:s,filterSearch:l})};const h=o?uE:q$,p={key:u.value!==void 0?d:c,label:M.createElement(M.Fragment,null,M.createElement(h,{checked:i.includes(d)}),M.createElement("span",null,u.text))};return s.trim()?typeof l=="function"?l(s,u)?p:null:lj(s,u.text)?p:null:p})}function a_(n){return n||[]}function pbe(n){var e,r;const{tablePrefixCls:i,prefixCls:o,column:s,dropdownPrefixCls:l,columnKey:u,filterMultiple:c,filterMode:d="menu",filterSearch:h=!1,filterState:p,triggerFilter:m,locale:v,children:y,getPopupContainer:A}=n,{filterDropdownOpen:b,onFilterDropdownOpenChange:g,filterResetToDefaultFilteredValue:w,defaultFilteredValue:E,filterDropdownVisible:C,onFilterDropdownVisibleChange:_}=s,[P,R]=M.useState(!1),L=!!(p&&(!((e=p.filteredKeys)===null||e===void 0)&&e.length||p.forceFiltered)),T=it=>{R(it),g==null||g(it),_==null||_(it)},D=(r=b??C)!==null&&r!==void 0?r:P,H=p==null?void 0:p.filteredKeys,[V,B]=Tye(a_(H)),O=it=>{let{selectedKeys:ft}=it;B(ft)},F=(it,ft)=>{let{node:Et,checked:gt}=ft;O(c?{selectedKeys:it}:{selectedKeys:gt&&Et.key?[Et.key]:[]})};M.useEffect(()=>{P&&O({selectedKeys:a_(H)})},[H]);const[N,z]=M.useState([]),j=it=>{z(it)},[G,Q]=M.useState(""),X=it=>{const{value:ft}=it.target;Q(ft)};M.useEffect(()=>{P||Q("")},[P]);const J=it=>{const ft=it&&it.length?it:null;if(ft===null&&(!p||!p.filteredKeys)||Pu(ft,p==null?void 0:p.filteredKeys,!0))return null;m({column:s,key:u,filteredKeys:ft})},Z=()=>{T(!1),J(V())},oe=function(){let{confirm:it,closeDropdown:ft}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{confirm:!1,closeDropdown:!1};it&&J([]),ft&&T(!1),Q(""),B(w?(E||[]).map(Et=>String(Et)):[])},ce=function(){let{closeDropdown:it}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{closeDropdown:!0};it&&T(!1),J(V())},Be=it=>{it&&H!==void 0&&B(a_(H)),T(it),!it&&!s.filterDropdown&&Z()},ge=bt({[`${l}-menu-without-submenu`]:!hbe(s.filters||[])}),Re=it=>{if(it.target.checked){const ft=Om(s==null?void 0:s.filters).map(Et=>String(Et));B(ft)}else B([])},$e=it=>{let{filters:ft}=it;return(ft||[]).map((Et,gt)=>{const Ct=String(Et.value),Tt={title:Et.text,key:Et.value!==void 0?Ct:String(gt)};return Et.children&&(Tt.children=$e({filters:Et.children})),Tt})},qe=it=>{var ft;return Object.assign(Object.assign({},it),{text:it.title,value:it.key,children:((ft=it.children)===null||ft===void 0?void 0:ft.map(Et=>qe(Et)))||[]})};let Ke;if(typeof s.filterDropdown=="function")Ke=s.filterDropdown({prefixCls:`${l}-custom`,setSelectedKeys:it=>O({selectedKeys:it}),selectedKeys:V(),confirm:ce,clearFilters:oe,filters:s.filters,visible:D,close:()=>{T(!1)}});else if(s.filterDropdown)Ke=s.filterDropdown;else{const it=V()||[],ft=()=>(s.filters||[]).length===0?M.createElement(Vf,{image:Vf.PRESENTED_IMAGE_SIMPLE,description:v.filterEmptyText,imageStyle:{height:24},style:{margin:0,padding:"16px 0"}}):d==="tree"?M.createElement(M.Fragment,null,M.createElement(nF,{filterSearch:h,value:G,onChange:X,tablePrefixCls:i,locale:v}),M.createElement("div",{className:`${i}-filter-dropdown-tree`},c?M.createElement(uE,{checked:it.length===Om(s.filters).length,indeterminate:it.length>0&&it.length<Om(s.filters).length,className:`${i}-filter-dropdown-checkall`,onChange:Re},v.filterCheckall):null,M.createElement(cbe,{checkable:!0,selectable:!1,blockNode:!0,multiple:c,checkStrictly:!c,className:`${l}-menu`,onCheck:F,checkedKeys:it,selectedKeys:it,showIcon:!1,treeData:$e({filters:s.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:G.trim()?gt=>typeof h=="function"?h(G,qe(gt)):lj(G,gt.title):void 0}))):M.createElement(M.Fragment,null,M.createElement(nF,{filterSearch:h,value:G,onChange:X,tablePrefixCls:i,locale:v}),M.createElement(BP,{selectable:!0,multiple:c,prefixCls:`${l}-menu`,className:ge,onSelect:O,onDeselect:O,selectedKeys:it,getPopupContainer:A,openKeys:N,onOpenChange:j,items:cj({filters:s.filters||[],filterSearch:h,prefixCls:o,filteredKeys:V(),filterMultiple:c,searchValue:G})})),Et=()=>w?Pu((E||[]).map(gt=>String(gt)),it,!0):it.length===0;Ke=M.createElement(M.Fragment,null,ft(),M.createElement("div",{className:`${o}-dropdown-btns`},M.createElement(Cc,{type:"link",size:"small",disabled:Et(),onClick:()=>oe()},v.filterReset),M.createElement(Cc,{type:"primary",size:"small",onClick:Z},v.filterConfirm)))}s.filterDropdown&&(Ke=M.createElement(j$,{selectable:void 0},Ke));const ke=()=>M.createElement(fbe,{className:`${o}-dropdown`},Ke);let st;typeof s.filterIcon=="function"?st=s.filterIcon(L):s.filterIcon?st=s.filterIcon:st=M.createElement(Ure,null);const{direction:ot}=M.useContext(Er);return M.createElement("div",{className:`${o}-column`},M.createElement("span",{className:`${i}-column-title`},y),M.createElement(TH,{dropdownRender:ke,trigger:["click"],open:D,onOpenChange:Be,getPopupContainer:A,placement:ot==="rtl"?"bottomLeft":"bottomRight"},M.createElement("span",{role:"button",tabIndex:-1,className:bt(`${o}-trigger`,{active:L}),onClick:it=>{it.stopPropagation()}},st)))}function L3(n,e,r){let i=[];return(n||[]).forEach((o,s)=>{var l;const u=ty(s,r);if(o.filters||"filterDropdown"in o||"onFilter"in o)if("filteredValue"in o){let c=o.filteredValue;"filterDropdown"in o||(c=(l=c==null?void 0:c.map(String))!==null&&l!==void 0?l:c),i.push({column:o,key:Eh(o,u),filteredKeys:c,forceFiltered:o.filtered})}else i.push({column:o,key:Eh(o,u),filteredKeys:e&&o.defaultFilteredValue?o.defaultFilteredValue:void 0,forceFiltered:o.filtered});"children"in o&&(i=[].concat(mn(i),mn(L3(o.children,e,u))))}),i}function uj(n,e,r,i,o,s,l,u){return r.map((c,d)=>{const h=ty(d,u),{filterMultiple:p=!0,filterMode:m,filterSearch:v}=c;let y=c;if(y.filters||y.filterDropdown){const A=Eh(y,h),b=i.find(g=>{let{key:w}=g;return A===w});y=Object.assign(Object.assign({},y),{title:g=>M.createElement(pbe,{tablePrefixCls:n,prefixCls:`${n}-filter`,dropdownPrefixCls:e,column:y,columnKey:A,filterState:b,filterMultiple:p,filterMode:m,filterSearch:v,triggerFilter:s,locale:o,getPopupContainer:l},zC(c.title,g))})}return"children"in y&&(y=Object.assign(Object.assign({},y),{children:uj(n,e,y.children,i,o,s,l,h)})),y})}function rF(n){const e={};return n.forEach(r=>{let{key:i,filteredKeys:o,column:s}=r;const l=i,{filters:u,filterDropdown:c}=s;if(c)e[l]=o||null;else if(Array.isArray(o)){const d=Om(u);e[l]=d.filter(h=>o.includes(String(h)))}else e[l]=null}),e}function iF(n,e){return e.reduce((r,i)=>{const{column:{onFilter:o,filters:s},filteredKeys:l}=i;return o&&l&&l.length?r.filter(u=>l.some(c=>{const d=Om(s),h=d.findIndex(m=>String(m)===String(c)),p=h!==-1?d[h]:c;return o(p,u)})):r},n)}const dj=n=>n.flatMap(e=>"children"in e?[e].concat(mn(dj(e.children||[]))):[e]);function mbe(n){let{prefixCls:e,dropdownPrefixCls:r,mergedColumns:i,onFilterChange:o,getPopupContainer:s,locale:l}=n;vg();const u=M.useMemo(()=>dj(i||[]),[i]),[c,d]=M.useState(()=>L3(u,!0)),h=M.useMemo(()=>{const y=L3(u,!1);if(y.length===0)return y;let A=!0;if(y.forEach(b=>{let{filteredKeys:g}=b;g!==void 0&&(A=!1)}),A){const b=(u||[]).map((g,w)=>Eh(g,ty(w)));return c.filter(g=>{let{key:w}=g;return b.includes(w)}).map(g=>{const w=u[b.findIndex(E=>E===g.key)];return Object.assign(Object.assign({},g),{column:Object.assign(Object.assign({},g.column),w),forceFiltered:w.filtered})})}return y},[u,c]),p=M.useMemo(()=>rF(h),[h]),m=y=>{const A=h.filter(b=>{let{key:g}=b;return g!==y.key});A.push(y),d(A),o(rF(A),A)};return[y=>uj(e,r,y,h,l,m,s),h,p]}function gbe(n,e,r){const i=M.useRef({});function o(s){if(!i.current||i.current.data!==n||i.current.childrenColumnName!==e||i.current.getRowKey!==r){let c=function(d){d.forEach((h,p)=>{const m=r(h,p);u.set(m,h),h&&typeof h=="object"&&e in h&&c(h[e]||[])})};var l=c;const u=new Map;c(n),i.current={data:n,childrenColumnName:e,kvMap:u,getRowKey:r}}return i.current.kvMap.get(s)}return[o]}var vbe=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const fj=10;function Abe(n,e){const r={current:n.current,pageSize:n.pageSize};return Object.keys(e&&typeof e=="object"?e:{}).forEach(o=>{const s=n[o];typeof s!="function"&&(r[o]=s)}),r}function ybe(n,e,r){const i=r&&typeof r=="object"?r:{},{total:o=0}=i,s=vbe(i,["total"]),[l,u]=M.useState(()=>({current:"defaultCurrent"in s?s.defaultCurrent:1,pageSize:"defaultPageSize"in s?s.defaultPageSize:fj})),c=n0e(l,s,{total:o>0?o:n}),d=Math.ceil((o||n)/c.pageSize);c.current>d&&(c.current=d||1);const h=(m,v)=>{u({current:m??1,pageSize:v||c.pageSize})},p=(m,v)=>{var y;r&&((y=r.onChange)===null||y===void 0||y.call(r,m,v)),h(m,v),e(m,v||(c==null?void 0:c.pageSize))};return r===!1?[{},()=>{}]:[Object.assign(Object.assign({},c),{onChange:p}),h]}const Ad={},B3="SELECT_ALL",O3="SELECT_INVERT",D3="SELECT_NONE",oF=[],hj=(n,e)=>{let r=[];return(e||[]).forEach(i=>{r.push(i),i&&typeof i=="object"&&n in i&&(r=[].concat(mn(r),mn(hj(n,i[n]))))}),r},bbe=(n,e)=>{const{preserveSelectedRowKeys:r,selectedRowKeys:i,defaultSelectedRowKeys:o,getCheckboxProps:s,onChange:l,onSelect:u,onSelectAll:c,onSelectInvert:d,onSelectNone:h,onSelectMultiple:p,columnWidth:m,type:v,selections:y,fixed:A,renderCell:b,hideSelectAll:g,checkStrictly:w=!0}=e||{},{prefixCls:E,data:C,pageData:_,getRecordByKey:P,getRowKey:R,expandType:L,childrenColumnName:T,locale:D,getPopupContainer:H}=n,V=vg(),[B,O]=Co(i||o||oF,{value:i}),F=M.useRef(new Map),N=M.useCallback(Ke=>{if(r){const ke=new Map;Ke.forEach(st=>{let ot=P(st);!ot&&F.current.has(st)&&(ot=F.current.get(st)),ke.set(st,ot)}),F.current=ke}},[P,r]);M.useEffect(()=>{N(B)},[B]);const{keyEntities:z}=M.useMemo(()=>{if(w)return{keyEntities:null};let Ke=C;if(r){const ke=new Set(C.map((ot,it)=>R(ot,it))),st=Array.from(F.current).reduce((ot,it)=>{let[ft,Et]=it;return ke.has(ft)?ot:ot.concat(Et)},[]);Ke=[].concat(mn(Ke),mn(st))}return UP(Ke,{externalGetKey:R,childrenPropName:T})},[C,R,w,T,r]),j=M.useMemo(()=>hj(T,_),[T,_]),G=M.useMemo(()=>{const Ke=new Map;return j.forEach((ke,st)=>{const ot=R(ke,st),it=(s?s(ke):null)||{};Ke.set(ot,it)}),Ke},[j,R,s]),Q=M.useCallback(Ke=>{var ke;return!!(!((ke=G.get(R(Ke)))===null||ke===void 0)&&ke.disabled)},[G,R]),[X,J]=M.useMemo(()=>{if(w)return[B||[],[]];const{checkedKeys:Ke,halfCheckedKeys:ke}=Bm(B,!0,z,Q);return[Ke||[],ke]},[B,w,z,Q]),Z=M.useMemo(()=>{const Ke=v==="radio"?X.slice(0,1):X;return new Set(Ke)},[X,v]),oe=M.useMemo(()=>v==="radio"?new Set:new Set(J),[J,v]),[ce,Be]=M.useState(null);M.useEffect(()=>{e||O(oF)},[!!e]);const ge=M.useCallback((Ke,ke)=>{let st,ot;N(Ke),r?(st=Ke,ot=Ke.map(it=>F.current.get(it))):(st=[],ot=[],Ke.forEach(it=>{const ft=P(it);ft!==void 0&&(st.push(it),ot.push(ft))})),O(st),l==null||l(st,ot,{type:ke})},[O,P,l,r]),Re=M.useCallback((Ke,ke,st,ot)=>{if(u){const it=st.map(ft=>P(ft));u(P(Ke),ke,it,ot)}ge(st,"single")},[u,P,ge]),$e=M.useMemo(()=>!y||g?null:(y===!0?[B3,O3,D3]:y).map(ke=>ke===B3?{key:"all",text:D.selectionAll,onSelect(){ge(C.map((st,ot)=>R(st,ot)).filter(st=>{const ot=G.get(st);return!(ot!=null&&ot.disabled)||Z.has(st)}),"all")}}:ke===O3?{key:"invert",text:D.selectInvert,onSelect(){const st=new Set(Z);_.forEach((it,ft)=>{const Et=R(it,ft),gt=G.get(Et);gt!=null&&gt.disabled||(st.has(Et)?st.delete(Et):st.add(Et))});const ot=Array.from(st);d&&(V.deprecated(!1,"onSelectInvert","onChange"),d(ot)),ge(ot,"invert")}}:ke===D3?{key:"none",text:D.selectNone,onSelect(){h==null||h(),ge(Array.from(Z).filter(st=>{const ot=G.get(st);return ot==null?void 0:ot.disabled}),"none")}}:ke).map(ke=>Object.assign(Object.assign({},ke),{onSelect:function(){for(var st,ot,it=arguments.length,ft=new Array(it),Et=0;Et<it;Et++)ft[Et]=arguments[Et];(ot=ke.onSelect)===null||ot===void 0||(st=ot).call.apply(st,[ke].concat(ft)),Be(null)}})),[y,Z,_,R,d,ge]);return[M.useCallback(Ke=>{var ke;if(!e)return Ke.filter(Ce=>Ce!==Ad);let st=mn(Ke);const ot=new Set(Z),it=j.map(R).filter(Ce=>!G.get(Ce).disabled),ft=it.every(Ce=>ot.has(Ce)),Et=it.some(Ce=>ot.has(Ce)),gt=()=>{const Ce=[];ft?it.forEach(we=>{ot.delete(we),Ce.push(we)}):it.forEach(we=>{ot.has(we)||(ot.add(we),Ce.push(we))});const Se=Array.from(ot);c==null||c(!ft,Se.map(we=>P(we)),Ce.map(we=>P(we))),ge(Se,"all"),Be(null)};let Ct;if(v!=="radio"){let Ce;if($e){const Ue={getPopupContainer:H,items:$e.map((et,ue)=>{const{key:Y,text:ne,onSelect:Pe}=et;return{key:Y??ue,onClick:()=>{Pe==null||Pe(it)},label:ne}})};Ce=M.createElement("div",{className:`${E}-selection-extra`},M.createElement(TH,{menu:Ue,getPopupContainer:H},M.createElement("span",null,M.createElement(wz,null))))}const Se=j.map((Ue,et)=>{const ue=R(Ue,et),Y=G.get(ue)||{};return Object.assign({checked:ot.has(ue)},Y)}).filter(Ue=>{let{disabled:et}=Ue;return et}),we=!!Se.length&&Se.length===j.length,je=we&&Se.every(Ue=>{let{checked:et}=Ue;return et}),Ae=we&&Se.some(Ue=>{let{checked:et}=Ue;return et});Ct=!g&&M.createElement("div",{className:`${E}-selection`},M.createElement(uE,{checked:we?je:!!j.length&&ft,indeterminate:we?!je&&Ae:!ft&&Et,onChange:gt,disabled:j.length===0||we,"aria-label":Ce?"Custom selection":"Select all",skipGroup:!0}),Ce)}let Tt;v==="radio"?Tt=(Ce,Se,we)=>{const je=R(Se,we),Ae=ot.has(je);return{node:M.createElement(q$,Object.assign({},G.get(je),{checked:Ae,onClick:Ue=>Ue.stopPropagation(),onChange:Ue=>{ot.has(je)||Re(je,!0,[je],Ue.nativeEvent)}})),checked:Ae}}:Tt=(Ce,Se,we)=>{var je;const Ae=R(Se,we),Ue=ot.has(Ae),et=oe.has(Ae),ue=G.get(Ae);let Y;return L==="nest"?Y=et:Y=(je=ue==null?void 0:ue.indeterminate)!==null&&je!==void 0?je:et,{node:M.createElement(uE,Object.assign({},ue,{indeterminate:Y,checked:Ue,skipGroup:!0,onClick:ne=>ne.stopPropagation(),onChange:ne=>{let{nativeEvent:Pe}=ne;const{shiftKey:We}=Pe;let ve=-1,he=-1;if(We&&w){const Ye=new Set([ce,Ae]);it.some((Ze,Qe)=>{if(Ye.has(Ze))if(ve===-1)ve=Qe;else return he=Qe,!0;return!1})}if(he!==-1&&ve!==he&&w){const Ye=it.slice(ve,he+1),Ze=[];Ue?Ye.forEach(nt=>{ot.has(nt)&&(Ze.push(nt),ot.delete(nt))}):Ye.forEach(nt=>{ot.has(nt)||(Ze.push(nt),ot.add(nt))});const Qe=Array.from(ot);p==null||p(!Ue,Qe.map(nt=>P(nt)),Ze.map(nt=>P(nt))),ge(Qe,"multiple")}else{const Ye=X;if(w){const Ze=Ue?cc(Ye,Ae):su(Ye,Ae);Re(Ae,!Ue,Ze,Pe)}else{const Ze=Bm([].concat(mn(Ye),[Ae]),!0,z,Q),{checkedKeys:Qe,halfCheckedKeys:nt}=Ze;let It=Qe;if(Ue){const kt=new Set(Qe);kt.delete(Ae),It=Bm(Array.from(kt),{checked:!1,halfCheckedKeys:nt},z,Q).checkedKeys}Re(Ae,!Ue,It,Pe)}}Be(Ue?null:Ae)}})),checked:Ue}};const Dt=(Ce,Se,we)=>{const{node:je,checked:Ae}=Tt(Ce,Se,we);return b?b(Ae,Se,we,je):je};if(!st.includes(Ad))if(st.findIndex(Ce=>{var Se;return((Se=Ce[F0])===null||Se===void 0?void 0:Se.columnType)==="EXPAND_COLUMN"})===0){const[Ce,...Se]=st;st=[Ce,Ad].concat(mn(Se))}else st=[Ad].concat(mn(st));const Yt=st.indexOf(Ad);st=st.filter((Ce,Se)=>Ce!==Ad||Se===Yt);const Ve=st[Yt-1],ye=st[Yt+1];let fe=A;fe===void 0&&((ye==null?void 0:ye.fixed)!==void 0?fe=ye.fixed:(Ve==null?void 0:Ve.fixed)!==void 0&&(fe=Ve.fixed)),fe&&Ve&&((ke=Ve[F0])===null||ke===void 0?void 0:ke.columnType)==="EXPAND_COLUMN"&&Ve.fixed===void 0&&(Ve.fixed=fe);const pe=bt(`${E}-selection-col`,{[`${E}-selection-col-with-dropdown`]:y&&v==="checkbox"}),_e={fixed:fe,width:m,className:`${E}-selection-column`,title:e.columnTitle||Ct,render:Dt,onCell:e.onCell,[F0]:{className:pe}};return st.map(Ce=>Ce===Ad?_e:Ce)},[R,j,e,X,Z,oe,m,$e,L,ce,G,p,Re,Q]),Z]},ux="ascend",s_="descend";function hE(n){return typeof n.sorter=="object"&&typeof n.sorter.multiple=="number"?n.sorter.multiple:!1}function aF(n){return typeof n=="function"?n:n&&typeof n=="object"&&n.compare?n.compare:!1}function xbe(n,e){return e?n[n.indexOf(e)+1]:n[0]}function N3(n,e,r){let i=[];function o(s,l){i.push({column:s,key:Eh(s,l),multiplePriority:hE(s),sortOrder:s.sortOrder})}return(n||[]).forEach((s,l)=>{const u=ty(l,r);s.children?("sortOrder"in s&&o(s,u),i=[].concat(mn(i),mn(N3(s.children,e,u)))):s.sorter&&("sortOrder"in s?o(s,u):e&&s.defaultSortOrder&&i.push({column:s,key:Eh(s,u),multiplePriority:hE(s),sortOrder:s.defaultSortOrder}))}),i}function pj(n,e,r,i,o,s,l,u){return(e||[]).map((c,d)=>{const h=ty(d,u);let p=c;if(p.sorter){const m=p.sortDirections||o,v=p.showSorterTooltip===void 0?l:p.showSorterTooltip,y=Eh(p,h),A=r.find(L=>{let{key:T}=L;return T===y}),b=A?A.sortOrder:null,g=xbe(m,b);let w;if(c.sortIcon)w=c.sortIcon({sortOrder:b});else{const L=m.includes(ux)&&M.createElement(yne,{className:bt(`${n}-column-sorter-up`,{active:b===ux})}),T=m.includes(s_)&&M.createElement(mne,{className:bt(`${n}-column-sorter-down`,{active:b===s_})});w=M.createElement("span",{className:bt(`${n}-column-sorter`,{[`${n}-column-sorter-full`]:!!(L&&T)})},M.createElement("span",{className:`${n}-column-sorter-inner`,"aria-hidden":"true"},L,T))}const{cancelSort:E,triggerAsc:C,triggerDesc:_}=s||{};let P=E;g===s_?P=_:g===ux&&(P=C);const R=typeof v=="object"?Object.assign({title:P},v):{title:P};p=Object.assign(Object.assign({},p),{className:bt(p.className,{[`${n}-column-sort`]:b}),title:L=>{const T=M.createElement("div",{className:`${n}-column-sorters`},M.createElement("span",{className:`${n}-column-title`},zC(c.title,L)),w);return v?M.createElement(xh,Object.assign({},R),T):T},onHeaderCell:L=>{const T=c.onHeaderCell&&c.onHeaderCell(L)||{},D=T.onClick,H=T.onKeyDown;T.onClick=O=>{i({column:c,key:y,sortOrder:g,multiplePriority:hE(c)}),D==null||D(O)},T.onKeyDown=O=>{O.keyCode===An.ENTER&&(i({column:c,key:y,sortOrder:g,multiplePriority:hE(c)}),H==null||H(O))};const V=Mye(c.title,{}),B=V==null?void 0:V.toString();return b?T["aria-sort"]=b==="ascend"?"ascending":"descending":T["aria-label"]=B||"",T.className=bt(T.className,`${n}-column-has-sorters`),T.tabIndex=0,c.ellipsis&&(T.title=(V??"").toString()),T}})}return"children"in p&&(p=Object.assign(Object.assign({},p),{children:pj(n,p.children,r,i,o,s,l,h)})),p})}function sF(n){const{column:e,sortOrder:r}=n;return{column:e,order:r,field:e.dataIndex,columnKey:e.key}}function lF(n){const e=n.filter(r=>{let{sortOrder:i}=r;return i}).map(sF);return e.length===0&&n.length?Object.assign(Object.assign({},sF(n[n.length-1])),{column:void 0}):e.length<=1?e[0]||{}:e}function k3(n,e,r){const i=e.slice().sort((l,u)=>u.multiplePriority-l.multiplePriority),o=n.slice(),s=i.filter(l=>{let{column:{sorter:u},sortOrder:c}=l;return aF(u)&&c});return s.length?o.sort((l,u)=>{for(let c=0;c<s.length;c+=1){const d=s[c],{column:{sorter:h},sortOrder:p}=d,m=aF(h);if(m&&p){const v=m(l,u,p);if(v!==0)return p===ux?v:-v}}return 0}).map(l=>{const u=l[r];return u?Object.assign(Object.assign({},l),{[r]:k3(u,e,r)}):l}):o}function Ebe(n){let{prefixCls:e,mergedColumns:r,onSorterChange:i,sortDirections:o,tableLocale:s,showSorterTooltip:l}=n;const[u,c]=M.useState(N3(r,!0)),d=M.useMemo(()=>{let y=!0;const A=N3(r,!1);if(!A.length)return u;const b=[];function g(E){y?b.push(E):b.push(Object.assign(Object.assign({},E),{sortOrder:null}))}let w=null;return A.forEach(E=>{w===null?(g(E),E.sortOrder&&(E.multiplePriority===!1?y=!1:w=!0)):(w&&E.multiplePriority!==!1||(y=!1),g(E))}),b},[r,u]),h=M.useMemo(()=>{const y=d.map(A=>{let{column:b,sortOrder:g}=A;return{column:b,order:g}});return{sortColumns:y,sortColumn:y[0]&&y[0].column,sortOrder:y[0]&&y[0].order}},[d]);function p(y){let A;y.multiplePriority===!1||!d.length||d[0].multiplePriority===!1?A=[y]:A=[].concat(mn(d.filter(b=>{let{key:g}=b;return g!==y.key})),[y]),c(A),i(lF(A),A)}return[y=>pj(e,y,d,p,o,s,l),d,h,()=>lF(d)]}function mj(n,e){return n.map(r=>{const i=Object.assign({},r);return i.title=zC(r.title,e),"children"in i&&(i.children=mj(i.children,e)),i})}function Cbe(n){return[M.useCallback(r=>mj(r,n),[n])]}const wbe=ZH((n,e)=>{const{_renderTimes:r}=n,{_renderTimes:i}=e;return r!==i}),Sbe=nj((n,e)=>{const{_renderTimes:r}=n,{_renderTimes:i}=e;return r!==i}),_be=n=>{const{componentCls:e}=n,r=`${n.lineWidth}px ${n.lineType} ${n.tableBorderColor}`,i=(o,s,l)=>({[`&${e}-${o}`]:{[`> ${e}-container`]:{[`> ${e}-content, > ${e}-body`]:{"\n            > table > tbody > tr > th,\n            > table > tbody > tr > td\n          ":{[`> ${e}-expanded-row-fixed`]:{margin:`-${s}px -${l+n.lineWidth}px`}}}}}});return{[`${e}-wrapper`]:{[`${e}${e}-bordered`]:Object.assign(Object.assign(Object.assign({[`> ${e}-title`]:{border:r,borderBottom:0},[`> ${e}-container`]:{borderInlineStart:r,borderTop:r,[`
            > ${e}-content,
            > ${e}-header,
            > ${e}-body,
            > ${e}-summary
          `]:{"> table":{"\n                > thead > tr > th,\n                > thead > tr > td,\n                > tbody > tr > th,\n                > tbody > tr > td,\n                > tfoot > tr > th,\n                > tfoot > tr > td\n              ":{borderInlineEnd:r},"> thead":{"> tr:not(:last-child) > th":{borderBottom:r},"> tr > th::before":{backgroundColor:"transparent !important"}},"\n                > thead > tr,\n                > tbody > tr,\n                > tfoot > tr\n              ":{[`> ${e}-cell-fix-right-first::after`]:{borderInlineEnd:r}},"\n                > tbody > tr > th,\n                > tbody > tr > td\n              ":{[`> ${e}-expanded-row-fixed`]:{margin:`-${n.tablePaddingVertical}px -${n.tablePaddingHorizontal+n.lineWidth}px`,"&::after":{position:"absolute",top:0,insetInlineEnd:n.lineWidth,bottom:0,borderInlineEnd:r,content:'""'}}}}}},[`&${e}-scroll-horizontal`]:{[`> ${e}-container > ${e}-body`]:{"> table > tbody":{[`
                > tr${e}-expanded-row,
                > tr${e}-placeholder
              `]:{"> th, > td":{borderInlineEnd:0}}}}}},i("middle",n.tablePaddingVerticalMiddle,n.tablePaddingHorizontalMiddle)),i("small",n.tablePaddingVerticalSmall,n.tablePaddingHorizontalSmall)),{[`> ${e}-footer`]:{border:r,borderTop:0}}),[`${e}-cell`]:{[`${e}-container:first-child`]:{borderTop:0},"&-scrollbar:not([rowspan])":{boxShadow:`0 ${n.lineWidth}px 0 ${n.lineWidth}px ${n.tableHeaderBg}`}},[`${e}-bordered ${e}-cell-scrollbar`]:{borderInlineEnd:r}}}},Mbe=_be,Tbe=n=>{const{componentCls:e}=n;return{[`${e}-wrapper`]:{[`${e}-cell-ellipsis`]:Object.assign(Object.assign({},xc),{wordBreak:"keep-all",[`
          &${e}-cell-fix-left-last,
          &${e}-cell-fix-right-first
        `]:{overflow:"visible",[`${e}-cell-content`]:{display:"block",overflow:"hidden",textOverflow:"ellipsis"}},[`${e}-column-title`]:{overflow:"hidden",textOverflow:"ellipsis",wordBreak:"keep-all"}})}}},Rbe=Tbe,Ibe=n=>{const{componentCls:e}=n;return{[`${e}-wrapper`]:{[`${e}-tbody > tr${e}-placeholder`]:{textAlign:"center",color:n.colorTextDisabled,"\n          &:hover > th,\n          &:hover > td,\n        ":{background:n.colorBgContainer}}}}},Pbe=Ibe,Lbe=n=>{const{componentCls:e,antCls:r,controlInteractiveSize:i,motionDurationSlow:o,lineWidth:s,paddingXS:l,lineType:u,tableBorderColor:c,tableExpandIconBg:d,tableExpandColumnWidth:h,borderRadius:p,fontSize:m,fontSizeSM:v,lineHeight:y,tablePaddingVertical:A,tablePaddingHorizontal:b,tableExpandedRowBg:g,paddingXXS:w}=n,E=i/2-s,C=E*2+s*3,_=`${s}px ${u} ${c}`,P=w-s;return{[`${e}-wrapper`]:{[`${e}-expand-icon-col`]:{width:h},[`${e}-row-expand-icon-cell`]:{textAlign:"center",[`${e}-row-expand-icon`]:{display:"inline-flex",float:"none",verticalAlign:"sub"}},[`${e}-row-indent`]:{height:1,float:"left"},[`${e}-row-expand-icon`]:Object.assign(Object.assign({},YI(n)),{position:"relative",float:"left",boxSizing:"border-box",width:C,height:C,padding:0,color:"inherit",lineHeight:`${C}px`,background:d,border:_,borderRadius:p,transform:`scale(${i/C})`,transition:`all ${o}`,userSelect:"none","&:focus, &:hover, &:active":{borderColor:"currentcolor"},"&::before, &::after":{position:"absolute",background:"currentcolor",transition:`transform ${o} ease-out`,content:'""'},"&::before":{top:E,insetInlineEnd:P,insetInlineStart:P,height:s},"&::after":{top:P,bottom:P,insetInlineStart:E,width:s,transform:"rotate(90deg)"},"&-collapsed::before":{transform:"rotate(-180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"},"&-spaced":{"&::before, &::after":{display:"none",content:"none"},background:"transparent",border:0,visibility:"hidden"}}),[`${e}-row-indent + ${e}-row-expand-icon`]:{marginTop:(m*y-s*3)/2-Math.ceil((v*1.4-s*3)/2),marginInlineEnd:l},[`tr${e}-expanded-row`]:{"&, &:hover":{"> th, > td":{background:g}},[`${r}-descriptions-view`]:{display:"flex",table:{flex:"auto",width:"auto"}}},[`${e}-expanded-row-fixed`]:{position:"relative",margin:`-${A}px -${b}px`,padding:`${A}px ${b}px`}}}},Bbe=Lbe,Obe=n=>{const{componentCls:e,antCls:r,iconCls:i,tableFilterDropdownWidth:o,tableFilterDropdownSearchWidth:s,paddingXXS:l,paddingXS:u,colorText:c,lineWidth:d,lineType:h,tableBorderColor:p,tableHeaderIconColor:m,fontSizeSM:v,tablePaddingHorizontal:y,borderRadius:A,motionDurationSlow:b,colorTextDescription:g,colorPrimary:w,tableHeaderFilterActiveBg:E,colorTextDisabled:C,tableFilterDropdownBg:_,tableFilterDropdownHeight:P,controlItemBgHover:R,controlItemBgActive:L,boxShadowSecondary:T,filterDropdownMenuBg:D}=n,H=`${r}-dropdown`,V=`${e}-filter-dropdown`,B=`${r}-tree`,O=`${d}px ${h} ${p}`;return[{[`${e}-wrapper`]:{[`${e}-filter-column`]:{display:"flex",justifyContent:"space-between"},[`${e}-filter-trigger`]:{position:"relative",display:"flex",alignItems:"center",marginBlock:-l,marginInline:`${l}px ${-y/2}px`,padding:`0 ${l}px`,color:m,fontSize:v,borderRadius:A,cursor:"pointer",transition:`all ${b}`,"&:hover":{color:g,background:E},"&.active":{color:w}}}},{[`${r}-dropdown`]:{[V]:Object.assign(Object.assign({},$i(n)),{minWidth:o,backgroundColor:_,borderRadius:A,boxShadow:T,overflow:"hidden",[`${H}-menu`]:{maxHeight:P,overflowX:"hidden",border:0,boxShadow:"none",borderRadius:"unset",backgroundColor:D,"&:empty::after":{display:"block",padding:`${u}px 0`,color:C,fontSize:v,textAlign:"center",content:'"Not Found"'}},[`${V}-tree`]:{paddingBlock:`${u}px 0`,paddingInline:u,[B]:{padding:0},[`${B}-treenode ${B}-node-content-wrapper:hover`]:{backgroundColor:R},[`${B}-treenode-checkbox-checked ${B}-node-content-wrapper`]:{"&, &:hover":{backgroundColor:L}}},[`${V}-search`]:{padding:u,borderBottom:O,"&-input":{input:{minWidth:s},[i]:{color:C}}},[`${V}-checkall`]:{width:"100%",marginBottom:l,marginInlineStart:l},[`${V}-btns`]:{display:"flex",justifyContent:"space-between",padding:`${u-d}px ${u}px`,overflow:"hidden",borderTop:O}})}},{[`${r}-dropdown ${V}, ${V}-submenu`]:{[`${r}-checkbox-wrapper + span`]:{paddingInlineStart:u,color:c},"> ul":{maxHeight:"calc(100vh - 130px)",overflowX:"hidden",overflowY:"auto"}}}]},Dbe=Obe,Nbe=n=>{const{componentCls:e,lineWidth:r,colorSplit:i,motionDurationSlow:o,zIndexTableFixed:s,tableBg:l,zIndexTableSticky:u}=n,c=i;return{[`${e}-wrapper`]:{[`
        ${e}-cell-fix-left,
        ${e}-cell-fix-right
      `]:{position:"sticky !important",zIndex:s,background:l},[`
        ${e}-cell-fix-left-first::after,
        ${e}-cell-fix-left-last::after
      `]:{position:"absolute",top:0,right:{_skip_check_:!0,value:0},bottom:-r,width:30,transform:"translateX(100%)",transition:`box-shadow ${o}`,content:'""',pointerEvents:"none"},[`${e}-cell-fix-left-all::after`]:{display:"none"},[`
        ${e}-cell-fix-right-first::after,
        ${e}-cell-fix-right-last::after
      `]:{position:"absolute",top:0,bottom:-r,left:{_skip_check_:!0,value:0},width:30,transform:"translateX(-100%)",transition:`box-shadow ${o}`,content:'""',pointerEvents:"none"},[`${e}-container`]:{"&::before, &::after":{position:"absolute",top:0,bottom:0,zIndex:u+1,width:30,transition:`box-shadow ${o}`,content:'""',pointerEvents:"none"},"&::before":{insetInlineStart:0},"&::after":{insetInlineEnd:0}},[`${e}-ping-left`]:{[`&:not(${e}-has-fix-left) ${e}-container`]:{position:"relative","&::before":{boxShadow:`inset 10px 0 8px -8px ${c}`}},[`
          ${e}-cell-fix-left-first::after,
          ${e}-cell-fix-left-last::after
        `]:{boxShadow:`inset 10px 0 8px -8px ${c}`},[`${e}-cell-fix-left-last::before`]:{backgroundColor:"transparent !important"}},[`${e}-ping-right`]:{[`&:not(${e}-has-fix-right) ${e}-container`]:{position:"relative","&::after":{boxShadow:`inset -10px 0 8px -8px ${c}`}},[`
          ${e}-cell-fix-right-first::after,
          ${e}-cell-fix-right-last::after
        `]:{boxShadow:`inset -10px 0 8px -8px ${c}`}}}}},kbe=Nbe,Fbe=n=>{const{componentCls:e,antCls:r}=n;return{[`${e}-wrapper`]:{[`${e}-pagination${r}-pagination`]:{margin:`${n.margin}px 0`},[`${e}-pagination`]:{display:"flex",flexWrap:"wrap",rowGap:n.paddingXS,"> *":{flex:"none"},"&-left":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-right":{justifyContent:"flex-end"}}}}},Ube=Fbe,zbe=n=>{const{componentCls:e,tableRadius:r}=n;return{[`${e}-wrapper`]:{[e]:{[`${e}-title, ${e}-header`]:{borderRadius:`${r}px ${r}px 0 0`},[`${e}-title + ${e}-container`]:{borderStartStartRadius:0,borderStartEndRadius:0,[`${e}-header, table`]:{borderRadius:0},"table > thead > tr:first-child":{"th:first-child, th:last-child, td:first-child, td:last-child":{borderRadius:0}}},"&-container":{borderStartStartRadius:r,borderStartEndRadius:r,"table > thead > tr:first-child":{"> *:first-child":{borderStartStartRadius:r},"> *:last-child":{borderStartEndRadius:r}}},"&-footer":{borderRadius:`0 0 ${r}px ${r}px`}}}}},$be=zbe,Hbe=n=>{const{componentCls:e}=n;return{[`${e}-wrapper-rtl`]:{direction:"rtl",table:{direction:"rtl"},[`${e}-pagination-left`]:{justifyContent:"flex-end"},[`${e}-pagination-right`]:{justifyContent:"flex-start"},[`${e}-row-expand-icon`]:{float:"right","&::after":{transform:"rotate(-90deg)"},"&-collapsed::before":{transform:"rotate(180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"}},[`${e}-container`]:{"&::before":{insetInlineStart:"unset",insetInlineEnd:0},"&::after":{insetInlineStart:0,insetInlineEnd:"unset"},[`${e}-row-indent`]:{float:"right"}}}}},jbe=Hbe,Gbe=n=>{const{componentCls:e,antCls:r,iconCls:i,fontSizeIcon:o,padding:s,paddingXS:l,tableHeaderIconColor:u,tableHeaderIconColorHover:c,tableSelectionColumnWidth:d,tableSelectedRowBg:h,tableSelectedRowHoverBg:p,tableRowHoverBg:m}=n;return{[`${e}-wrapper`]:{[`${e}-selection-col`]:{width:d,[`&${e}-selection-col-with-dropdown`]:{width:d+o+s/4}},[`${e}-bordered ${e}-selection-col`]:{width:d+l*2,[`&${e}-selection-col-with-dropdown`]:{width:d+o+s/4+l*2}},[`
        table tr th${e}-selection-column,
        table tr td${e}-selection-column,
        ${e}-selection-column
      `]:{paddingInlineEnd:n.paddingXS,paddingInlineStart:n.paddingXS,textAlign:"center",[`${r}-radio-wrapper`]:{marginInlineEnd:0}},[`table tr th${e}-selection-column${e}-cell-fix-left`]:{zIndex:n.zIndexTableFixed+1},[`table tr th${e}-selection-column::after`]:{backgroundColor:"transparent !important"},[`${e}-selection`]:{position:"relative",display:"inline-flex",flexDirection:"column"},[`${e}-selection-extra`]:{position:"absolute",top:0,zIndex:1,cursor:"pointer",transition:`all ${n.motionDurationSlow}`,marginInlineStart:"100%",paddingInlineStart:`${n.tablePaddingHorizontal/4}px`,[i]:{color:u,fontSize:o,verticalAlign:"baseline","&:hover":{color:c}}},[`${e}-tbody`]:{[`${e}-row`]:{[`&${e}-row-selected`]:{[`> ${e}-cell`]:{background:h,"&-row-hover":{background:p}}},[`> ${e}-cell-row-hover`]:{background:m}}}}}},Vbe=Gbe,Wbe=n=>{const{componentCls:e}=n,r=(i,o,s,l)=>({[`${e}${e}-${i}`]:{fontSize:l,[`
        ${e}-title,
        ${e}-footer,
        ${e}-cell,
        ${e}-thead > tr > th,
        ${e}-tbody > tr > th,
        ${e}-tbody > tr > td,
        tfoot > tr > th,
        tfoot > tr > td
      `]:{padding:`${o}px ${s}px`},[`${e}-filter-trigger`]:{marginInlineEnd:`-${s/2}px`},[`${e}-expanded-row-fixed`]:{margin:`-${o}px -${s}px`},[`${e}-tbody`]:{[`${e}-wrapper:only-child ${e}`]:{marginBlock:`-${o}px`,marginInline:`${n.tableExpandColumnWidth-s}px -${s}px`}},[`${e}-selection-extra`]:{paddingInlineStart:`${s/4}px`}}});return{[`${e}-wrapper`]:Object.assign(Object.assign({},r("middle",n.tablePaddingVerticalMiddle,n.tablePaddingHorizontalMiddle,n.tableFontSizeMiddle)),r("small",n.tablePaddingVerticalSmall,n.tablePaddingHorizontalSmall,n.tableFontSizeSmall))}},Qbe=Wbe,Kbe=n=>{const{componentCls:e,marginXXS:r,fontSizeIcon:i,tableHeaderIconColor:o,tableHeaderIconColorHover:s}=n;return{[`${e}-wrapper`]:{[`${e}-thead th${e}-column-has-sorters`]:{outline:"none",cursor:"pointer",transition:`all ${n.motionDurationSlow}`,"&:hover":{background:n.tableHeaderSortHoverBg,"&::before":{backgroundColor:"transparent !important"}},"&:focus-visible":{color:n.colorPrimary},[`
          &${e}-cell-fix-left:hover,
          &${e}-cell-fix-right:hover
        `]:{background:n.tableFixedHeaderSortActiveBg}},[`${e}-thead th${e}-column-sort`]:{background:n.tableHeaderSortBg,"&::before":{backgroundColor:"transparent !important"}},[`td${e}-column-sort`]:{background:n.tableBodySortBg},[`${e}-column-title`]:{position:"relative",zIndex:1,flex:1},[`${e}-column-sorters`]:{display:"flex",flex:"auto",alignItems:"center",justifyContent:"space-between","&::after":{position:"absolute",inset:0,width:"100%",height:"100%",content:'""'}},[`${e}-column-sorter`]:{marginInlineStart:r,color:o,fontSize:0,transition:`color ${n.motionDurationSlow}`,"&-inner":{display:"inline-flex",flexDirection:"column",alignItems:"center"},"&-up, &-down":{fontSize:i,"&.active":{color:n.colorPrimary}},[`${e}-column-sorter-up + ${e}-column-sorter-down`]:{marginTop:"-0.3em"}},[`${e}-column-sorters:hover ${e}-column-sorter`]:{color:s}}}},Xbe=Kbe,qbe=n=>{const{componentCls:e,opacityLoading:r,tableScrollThumbBg:i,tableScrollThumbBgHover:o,tableScrollThumbSize:s,tableScrollBg:l,zIndexTableSticky:u,stickyScrollBarBorderRadius:c}=n,d=`${n.lineWidth}px ${n.lineType} ${n.tableBorderColor}`;return{[`${e}-wrapper`]:{[`${e}-sticky`]:{"&-holder":{position:"sticky",zIndex:u,background:n.colorBgContainer},"&-scroll":{position:"sticky",bottom:0,height:`${s}px !important`,zIndex:u,display:"flex",alignItems:"center",background:l,borderTop:d,opacity:r,"&:hover":{transformOrigin:"center bottom"},"&-bar":{height:s,backgroundColor:i,borderRadius:c,transition:`all ${n.motionDurationSlow}, transform none`,position:"absolute",bottom:0,"&:hover, &-active":{backgroundColor:o}}}}}}},Ybe=qbe,Jbe=n=>{const{componentCls:e,lineWidth:r,tableBorderColor:i}=n,o=`${r}px ${n.lineType} ${i}`;return{[`${e}-wrapper`]:{[`${e}-summary`]:{position:"relative",zIndex:n.zIndexTableFixed,background:n.tableBg,"> tr":{"> th, > td":{borderBottom:o}}},[`div${e}-summary`]:{boxShadow:`0 -${r}px 0 ${i}`}}}},cF=Jbe,Zbe=n=>{const{componentCls:e,motionDurationMid:r}=n,i=`${n.lineWidth}px ${n.lineType} ${n.tableBorderColor}`,o=`${e}-expanded-row-cell`;return{[`${e}-wrapper`]:{[`${e}-tbody-virtual`]:{[`${e}-row`]:{display:"flex",boxSizing:"border-box",width:"100%"},[`${e}-cell`]:{borderBottom:i,transition:`background ${r}`},[`${e}-expanded-row`]:{[`${o}${o}-fixed`]:{position:"sticky",insetInlineStart:0,overflow:"hidden",width:`calc(var(--virtual-width) - ${n.lineWidth}px)`,borderInlineEnd:"none"}}},[`${e}-bordered`]:{[`${e}-tbody-virtual`]:{"&:after":{content:'""',insetInline:0,bottom:0,borderBottom:i,position:"absolute"},[`${e}-cell`]:{borderInlineEnd:i,[`&${e}-cell-fix-right-first:before`]:{content:'""',position:"absolute",insetBlock:0,insetInlineStart:-n.lineWidth,borderInlineStart:i}}},[`&${e}-virtual`]:{[`${e}-placeholder ${e}-cell`]:{borderInlineEnd:i,borderBottom:i}}}}}},e1e=Zbe,t1e=n=>{const{componentCls:e,fontWeightStrong:r,tablePaddingVertical:i,tablePaddingHorizontal:o,lineWidth:s,lineType:l,tableBorderColor:u,tableFontSize:c,tableBg:d,tableRadius:h,tableHeaderTextColor:p,motionDurationMid:m,tableHeaderBg:v,tableHeaderCellSplitColor:y,tableFooterTextColor:A,tableFooterBg:b}=n,g=`${s}px ${l} ${u}`;return{[`${e}-wrapper`]:Object.assign(Object.assign({clear:"both",maxWidth:"100%"},Ec()),{[e]:Object.assign(Object.assign({},$i(n)),{fontSize:c,background:d,borderRadius:`${h}px ${h}px 0 0`}),table:{width:"100%",textAlign:"start",borderRadius:`${h}px ${h}px 0 0`,borderCollapse:"separate",borderSpacing:0},[`
          ${e}-cell,
          ${e}-thead > tr > th,
          ${e}-tbody > tr > th,
          ${e}-tbody > tr > td,
          tfoot > tr > th,
          tfoot > tr > td
        `]:{position:"relative",padding:`${i}px ${o}px`,overflowWrap:"break-word"},[`${e}-title`]:{padding:`${i}px ${o}px`},[`${e}-thead`]:{"\n          > tr > th,\n          > tr > td\n        ":{position:"relative",color:p,fontWeight:r,textAlign:"start",background:v,borderBottom:g,transition:`background ${m} ease`,"&[colspan]:not([colspan='1'])":{textAlign:"center"},[`&:not(:last-child):not(${e}-selection-column):not(${e}-row-expand-icon-cell):not([colspan])::before`]:{position:"absolute",top:"50%",insetInlineEnd:0,width:1,height:"1.6em",backgroundColor:y,transform:"translateY(-50%)",transition:`background-color ${m}`,content:'""'}},"> tr:not(:last-child) > th[colspan]":{borderBottom:0}},[`${e}-tbody`]:{"> tr":{"> th, > td":{transition:`background ${m}, border-color ${m}`,borderBottom:g,[`
              > ${e}-wrapper:only-child,
              > ${e}-expanded-row-fixed > ${e}-wrapper:only-child
            `]:{[e]:{marginBlock:`-${i}px`,marginInline:`${n.tableExpandColumnWidth-o}px -${o}px`,[`${e}-tbody > tr:last-child > td`]:{borderBottom:0,"&:first-child, &:last-child":{borderRadius:0}}}}},"> th":{position:"relative",color:p,fontWeight:r,textAlign:"start",background:v,borderBottom:g,transition:`background ${m} ease`}}},[`${e}-footer`]:{padding:`${i}px ${o}px`,color:A,background:b}})}},n1e=ki("Table",n=>{const{colorTextHeading:e,colorSplit:r,colorIcon:i,colorIconHover:o,opacityLoading:s,colorBgContainer:l,controlInteractiveSize:u,headerBg:c,headerColor:d,headerSortActiveBg:h,headerSortHoverBg:p,bodySortBg:m,rowHoverBg:v,rowSelectedBg:y,rowSelectedHoverBg:A,rowExpandedBg:b,cellPaddingBlock:g,cellPaddingInline:w,cellPaddingBlockMD:E,cellPaddingInlineMD:C,cellPaddingBlockSM:_,cellPaddingInlineSM:P,borderColor:R,footerBg:L,footerColor:T,headerBorderRadius:D,cellFontSize:H,cellFontSizeMD:V,cellFontSizeSM:B,headerSplitColor:O,fixedHeaderSortActiveBg:F,headerFilterHoverBg:N,filterDropdownBg:z,expandIconBg:j,selectionColumnWidth:G,stickyScrollBarBg:Q}=n,X=new Di(i),J=new Di(o),Z=2,oe=ei(n,{tableFontSize:H,tableBg:l,tableRadius:D,tablePaddingVertical:g,tablePaddingHorizontal:w,tablePaddingVerticalMiddle:E,tablePaddingHorizontalMiddle:C,tablePaddingVerticalSmall:_,tablePaddingHorizontalSmall:P,tableBorderColor:R,tableHeaderTextColor:d,tableHeaderBg:c,tableFooterTextColor:T,tableFooterBg:L,tableHeaderCellSplitColor:O,tableHeaderSortBg:h,tableHeaderSortHoverBg:p,tableHeaderIconColor:X.clone().setAlpha(X.getAlpha()*s).toRgbString(),tableHeaderIconColorHover:J.clone().setAlpha(J.getAlpha()*s).toRgbString(),tableBodySortBg:m,tableFixedHeaderSortActiveBg:F,tableHeaderFilterActiveBg:N,tableFilterDropdownBg:z,tableRowHoverBg:v,tableSelectedRowBg:y,tableSelectedRowHoverBg:A,zIndexTableFixed:Z,zIndexTableSticky:Z+1,tableFontSizeMiddle:V,tableFontSizeSmall:B,tableSelectionColumnWidth:G,tableExpandIconBg:j,tableExpandColumnWidth:u+2*n.padding,tableExpandedRowBg:b,tableFilterDropdownWidth:120,tableFilterDropdownHeight:264,tableFilterDropdownSearchWidth:140,tableScrollThumbSize:8,tableScrollThumbBg:Q,tableScrollThumbBgHover:e,tableScrollBg:r});return[t1e(oe),Ube(oe),cF(oe),Xbe(oe),Dbe(oe),Mbe(oe),$be(oe),Bbe(oe),cF(oe),Pbe(oe),Vbe(oe),kbe(oe),Ybe(oe),Rbe(oe),Qbe(oe),jbe(oe),e1e(oe)]},n=>{const{colorFillAlter:e,colorBgContainer:r,colorTextHeading:i,colorFillSecondary:o,colorFillContent:s,controlItemBgActive:l,controlItemBgActiveHover:u,padding:c,paddingSM:d,paddingXS:h,colorBorderSecondary:p,borderRadiusLG:m,fontSize:v,controlHeight:y,colorTextPlaceholder:A}=n,b=new Di(o).onBackground(r).toHexShortString(),g=new Di(s).onBackground(r).toHexShortString(),w=new Di(e).onBackground(r).toHexShortString();return{headerBg:w,headerColor:i,headerSortActiveBg:b,headerSortHoverBg:g,bodySortBg:w,rowHoverBg:w,rowSelectedBg:l,rowSelectedHoverBg:u,rowExpandedBg:e,cellPaddingBlock:c,cellPaddingInline:c,cellPaddingBlockMD:d,cellPaddingInlineMD:h,cellPaddingBlockSM:h,cellPaddingInlineSM:h,borderColor:p,headerBorderRadius:m,footerBg:w,footerColor:i,cellFontSize:v,cellFontSizeMD:v,cellFontSizeSM:v,headerSplitColor:p,fixedHeaderSortActiveBg:b,headerFilterHoverBg:s,filterDropdownMenuBg:r,filterDropdownBg:r,expandIconBg:r,selectionColumnWidth:y,stickyScrollBarBg:A,stickyScrollBarBorderRadius:100}}),r1e=[],i1e=(n,e)=>{const{prefixCls:r,className:i,rootClassName:o,style:s,size:l,bordered:u,dropdownPrefixCls:c,dataSource:d,pagination:h,rowSelection:p,rowKey:m="key",rowClassName:v,columns:y,children:A,childrenColumnName:b,onChange:g,getPopupContainer:w,loading:E,expandIcon:C,expandable:_,expandedRowRender:P,expandIconColumnIndex:R,indentSize:L,scroll:T,sortDirections:D,locale:H,showSorterTooltip:V=!0,virtual:B}=n;vg();const O=M.useMemo(()=>y||WP(A),[y,A]),F=M.useMemo(()=>O.some(mt=>mt.responsive),[O]),N=x$(F),z=M.useMemo(()=>{const mt=new Set(Object.keys(N).filter(Nt=>N[Nt]));return O.filter(Nt=>!Nt.responsive||Nt.responsive.some(cn=>mt.has(cn)))},[O,N]),j=co(n,["className","style","columns"]),{locale:G=Lu,direction:Q,table:X,renderEmpty:J,getPrefixCls:Z,getPopupContainer:oe}=M.useContext(Er),ce=Jl(l),Be=Object.assign(Object.assign({},G.Table),H),ge=d||r1e,Re=Z("table",r),$e=Z("dropdown",c),qe=Object.assign({childrenColumnName:b,expandIconColumnIndex:R},_),{childrenColumnName:Ke="children"}=qe,ke=M.useMemo(()=>ge.some(mt=>mt==null?void 0:mt[Ke])?"nest":P||_&&_.expandedRowRender?"row":null,[ge]),st={body:M.useRef()},ot=_ye(Re),it=M.useMemo(()=>typeof m=="function"?m:mt=>mt==null?void 0:mt[m],[m]),[ft]=gbe(ge,Ke,it),Et={},gt=function(mt,Nt){let cn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var Jt,Sn,yn;const Ln=Object.assign(Object.assign({},Et),mt);cn&&((Jt=Et.resetPagination)===null||Jt===void 0||Jt.call(Et),!((Sn=Ln.pagination)===null||Sn===void 0)&&Sn.current&&(Ln.pagination.current=1),h&&h.onChange&&h.onChange(1,(yn=Ln.pagination)===null||yn===void 0?void 0:yn.pageSize)),T&&T.scrollToFirstRowOnChange!==!1&&st.body.current&&Hse(0,{getContainer:()=>st.body.current}),g==null||g(Ln.pagination,Ln.filters,Ln.sorter,{currentDataSource:iF(k3(ge,Ln.sorterStates,Ke),Ln.filterStates),action:Nt})},Ct=(mt,Nt)=>{gt({sorter:mt,sorterStates:Nt},"sort",!1)},[Tt,Dt,Yt,Ve]=Ebe({prefixCls:Re,mergedColumns:z,onSorterChange:Ct,sortDirections:D||["ascend","descend"],tableLocale:Be,showSorterTooltip:V}),ye=M.useMemo(()=>k3(ge,Dt,Ke),[ge,Dt]);Et.sorter=Ve(),Et.sorterStates=Dt;const fe=(mt,Nt)=>{gt({filters:mt,filterStates:Nt},"filter",!0)},[pe,_e,Ce]=mbe({prefixCls:Re,locale:Be,dropdownPrefixCls:$e,mergedColumns:z,onFilterChange:fe,getPopupContainer:w||oe}),Se=iF(ye,_e);Et.filters=Ce,Et.filterStates=_e;const we=M.useMemo(()=>{const mt={};return Object.keys(Ce).forEach(Nt=>{Ce[Nt]!==null&&(mt[Nt]=Ce[Nt])}),Object.assign(Object.assign({},Yt),{filters:mt})},[Yt,Ce]),[je]=Cbe(we),Ae=(mt,Nt)=>{gt({pagination:Object.assign(Object.assign({},Et.pagination),{current:mt,pageSize:Nt})},"paginate")},[Ue,et]=ybe(Se.length,Ae,h);Et.pagination=h===!1?{}:Abe(Ue,h),Et.resetPagination=et;const ue=M.useMemo(()=>{if(h===!1||!Ue.pageSize)return Se;const{current:mt=1,total:Nt,pageSize:cn=fj}=Ue;return Se.length<Nt?Se.length>cn?Se.slice((mt-1)*cn,mt*cn):Se:Se.slice((mt-1)*cn,mt*cn)},[!!h,Se,Ue&&Ue.current,Ue&&Ue.pageSize,Ue&&Ue.total]),[Y,ne]=bbe({prefixCls:Re,data:Se,pageData:ue,getRowKey:it,getRecordByKey:ft,expandType:ke,childrenColumnName:Ke,locale:Be,getPopupContainer:w||oe},p),Pe=(mt,Nt,cn)=>{let Jt;return typeof v=="function"?Jt=bt(v(mt,Nt,cn)):Jt=bt(v),bt({[`${Re}-row-selected`]:ne.has(it(mt,Nt))},Jt)};qe.__PARENT_RENDER_ICON__=qe.expandIcon,qe.expandIcon=qe.expandIcon||C||Sye(Be),ke==="nest"&&qe.expandIconColumnIndex===void 0?qe.expandIconColumnIndex=p?1:0:qe.expandIconColumnIndex>0&&p&&(qe.expandIconColumnIndex-=1),typeof qe.indentSize!="number"&&(qe.indentSize=typeof L=="number"?L:15);const We=M.useCallback(mt=>je(Y(pe(Tt(mt)))),[Tt,pe,Y]);let ve,he;if(h!==!1&&(Ue!=null&&Ue.total)){let mt;Ue.size?mt=Ue.size:mt=ce==="small"||ce==="middle"?"small":void 0;const Nt=Sn=>M.createElement(g0e,Object.assign({},Ue,{className:bt(`${Re}-pagination ${Re}-pagination-${Sn}`,Ue.className),size:mt})),cn=Q==="rtl"?"left":"right",{position:Jt}=Ue;if(Jt!==null&&Array.isArray(Jt)){const Sn=Jt.find(rr=>rr.includes("top")),yn=Jt.find(rr=>rr.includes("bottom")),Ln=Jt.every(rr=>`${rr}`=="none");!Sn&&!yn&&!Ln&&(he=Nt(cn)),Sn&&(ve=Nt(Sn.toLowerCase().replace("top",""))),yn&&(he=Nt(yn.toLowerCase().replace("bottom","")))}else he=Nt(cn)}let Ye;typeof E=="boolean"?Ye={spinning:E}:typeof E=="object"&&(Ye=Object.assign({spinning:!0},E));const[Ze,Qe]=n1e(Re),[,nt]=$s(),It=bt(`${Re}-wrapper`,X==null?void 0:X.className,{[`${Re}-wrapper-rtl`]:Q==="rtl"},i,o,Qe),kt=Object.assign(Object.assign({},X==null?void 0:X.style),s),Bt=H&&H.emptyText||(J==null?void 0:J("Table"))||M.createElement(v$,{componentName:"Table"}),jt=B?Sbe:wbe,Vt={},Lt=M.useMemo(()=>{const{fontSize:mt,lineHeight:Nt,padding:cn,paddingXS:Jt,paddingSM:Sn}=nt,yn=Math.floor(mt*Nt);switch(ce){case"large":return cn*2+yn;case"small":return Jt*2+yn;default:return Sn*2+yn}},[nt,ce]);return B&&(Vt.listItemHeight=Lt),Ze(M.createElement("div",{ref:e,className:It,style:kt},M.createElement(S0e,Object.assign({spinning:!1},Ye),ve,M.createElement(jt,Object.assign({},Vt,j,{columns:z,direction:Q,expandable:qe,prefixCls:Re,className:bt({[`${Re}-middle`]:ce==="middle",[`${Re}-small`]:ce==="small",[`${Re}-bordered`]:u,[`${Re}-empty`]:ge.length===0}),data:ue,rowKey:it,rowClassName:Pe,emptyText:Bt,internalHooks:ey,internalRefs:st,transformColumns:We,getContainerWidth:ot})),he)))},o1e=M.forwardRef(i1e),a1e=(n,e)=>{const r=M.useRef(0);return r.current+=1,M.createElement(o1e,Object.assign({},n,{ref:e,_renderTimes:r.current}))},$u=M.forwardRef(a1e);$u.SELECTION_COLUMN=Ad;$u.EXPAND_COLUMN=Sd;$u.SELECTION_ALL=B3;$u.SELECTION_INVERT=O3;$u.SELECTION_NONE=D3;$u.Column=Cye;$u.ColumnGroup=wye;$u.Summary=zH;const s1e=$u,l1e=n=>{const{paddingXXS:e,lineWidth:r,tagPaddingHorizontal:i,componentCls:o}=n,s=i-r,l=e-r;return{[o]:Object.assign(Object.assign({},$i(n)),{display:"inline-block",height:"auto",marginInlineEnd:n.marginXS,paddingInline:s,fontSize:n.tagFontSize,lineHeight:n.tagLineHeight,whiteSpace:"nowrap",background:n.defaultBg,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadiusSM,opacity:1,transition:`all ${n.motionDurationMid}`,textAlign:"start",position:"relative",[`&${o}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:n.defaultColor},[`${o}-close-icon`]:{marginInlineStart:l,color:n.colorTextDescription,fontSize:n.tagIconSize,cursor:"pointer",transition:`all ${n.motionDurationMid}`,"&:hover":{color:n.colorTextHeading}},[`&${o}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${n.iconCls}-close, ${n.iconCls}-close:hover`]:{color:n.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${o}-checkable-checked):hover`]:{color:n.colorPrimary,backgroundColor:n.colorFillSecondary},"&:active, &-checked":{color:n.colorTextLightSolid},"&-checked":{backgroundColor:n.colorPrimary,"&:hover":{backgroundColor:n.colorPrimaryHover}},"&:active":{backgroundColor:n.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${n.iconCls} + span, > span + ${n.iconCls}`]:{marginInlineStart:s}}),[`${o}-borderless`]:{borderColor:"transparent",background:n.tagBorderlessBg}}},JP=n=>{const{lineWidth:e,fontSizeIcon:r}=n,i=n.fontSizeSM,o=`${n.lineHeightSM*i}px`;return ei(n,{tagFontSize:i,tagLineHeight:o,tagIconSize:r-2*e,tagPaddingHorizontal:8,tagBorderlessBg:n.colorFillTertiary})},ZP=n=>({defaultBg:n.colorFillQuaternary,defaultColor:n.colorText}),gj=ki("Tag",n=>{const e=JP(n);return l1e(e)},ZP);var c1e=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const u1e=M.forwardRef((n,e)=>{const{prefixCls:r,style:i,className:o,checked:s,onChange:l,onClick:u}=n,c=c1e(n,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:d,tag:h}=M.useContext(Er),p=b=>{l==null||l(!s),u==null||u(b)},m=d("tag",r),[v,y]=gj(m),A=bt(m,`${m}-checkable`,{[`${m}-checkable-checked`]:s},h==null?void 0:h.className,o,y);return v(M.createElement("span",Object.assign({},c,{ref:e,style:Object.assign(Object.assign({},i),h==null?void 0:h.style),className:A,onClick:p})))}),d1e=u1e,f1e=n=>f9(n,(e,r)=>{let{textColor:i,lightBorderColor:o,lightColor:s,darkColor:l}=r;return{[`${n.componentCls}-${e}`]:{color:i,background:s,borderColor:o,"&-inverse":{color:n.colorTextLightSolid,background:l,borderColor:l},[`&${n.componentCls}-borderless`]:{borderColor:"transparent"}}}}),h1e=JI(["Tag","preset"],n=>{const e=JP(n);return f1e(e)},ZP);function p1e(n){return typeof n!="string"?n:n.charAt(0).toUpperCase()+n.slice(1)}const Qb=(n,e,r)=>{const i=p1e(r);return{[`${n.componentCls}-${e}`]:{color:n[`color${r}`],background:n[`color${i}Bg`],borderColor:n[`color${i}Border`],[`&${n.componentCls}-borderless`]:{borderColor:"transparent"}}}},m1e=JI(["Tag","status"],n=>{const e=JP(n);return[Qb(e,"success","Success"),Qb(e,"processing","Info"),Qb(e,"error","Error"),Qb(e,"warning","Warning")]},ZP);var g1e=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const v1e=(n,e)=>{const{prefixCls:r,className:i,rootClassName:o,style:s,children:l,icon:u,color:c,onClose:d,closeIcon:h,closable:p,bordered:m=!0}=n,v=g1e(n,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable","bordered"]),{getPrefixCls:y,direction:A,tag:b}=M.useContext(Er),[g,w]=M.useState(!0);M.useEffect(()=>{"visible"in v&&w(v.visible)},[v.visible]);const E=C$(c),C=she(c),_=E||C,P=Object.assign(Object.assign({backgroundColor:c&&!_?c:void 0},b==null?void 0:b.style),s),R=y("tag",r),[L,T]=gj(R),D=bt(R,b==null?void 0:b.className,{[`${R}-${c}`]:_,[`${R}-has-color`]:c&&!_,[`${R}-hidden`]:!g,[`${R}-rtl`]:A==="rtl",[`${R}-borderless`]:!m},i,o,T),H=z=>{z.stopPropagation(),d==null||d(z),!z.defaultPrevented&&w(!1)},[,V]=G9(p,h,z=>z===null?M.createElement(Mh,{className:`${R}-close-icon`,onClick:H}):M.createElement("span",{className:`${R}-close-icon`,onClick:H},z),null,!1),B=typeof v.onClick=="function"||l&&l.type==="a",O=u||null,F=O?M.createElement(M.Fragment,null,O,l&&M.createElement("span",null,l)):l,N=M.createElement("span",Object.assign({},v,{ref:e,className:D,style:P}),F,V,E&&M.createElement(h1e,{key:"preset",prefixCls:R}),C&&M.createElement(m1e,{key:"status",prefixCls:R}));return L(B?M.createElement(bC,{component:"Tag"},N):N)},vj=M.forwardRef(v1e);vj.CheckableTag=d1e;const A1e=vj,y1e=n=>{const e=n!=null&&n.algorithm?mA(n.algorithm):mA(HA),r=Object.assign(Object.assign({},Jm),n==null?void 0:n.token);return Gz(r,{override:n==null?void 0:n.token},e,qI)},b1e=y1e;function x1e(n){const{sizeUnit:e,sizeStep:r}=n,i=r-2;return{sizeXXL:e*(i+10),sizeXL:e*(i+6),sizeLG:e*(i+2),sizeMD:e*(i+2),sizeMS:e*(i+1),size:e*i,sizeSM:e*i,sizeXS:e*(i-1),sizeXXS:e*(i-1)}}const E1e=(n,e)=>{const r=e??HA(n),i=r.fontSizeSM,o=r.controlHeight-4;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},r),x1e(e??n)),a9(i)),{controlHeight:o}),i9(Object.assign(Object.assign({},r),{controlHeight:o})))},C1e=E1e,Xc=(n,e)=>new Di(n).setAlpha(e).toRgbString(),Sp=(n,e)=>new Di(n).lighten(e).toHexString(),w1e=n=>{const e=Iu(n,{theme:"dark"});return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[6],6:e[5],7:e[4],8:e[6],9:e[5],10:e[4]}},S1e=(n,e)=>{const r=n||"#000",i=e||"#fff";return{colorBgBase:r,colorTextBase:i,colorText:Xc(i,.85),colorTextSecondary:Xc(i,.65),colorTextTertiary:Xc(i,.45),colorTextQuaternary:Xc(i,.25),colorFill:Xc(i,.18),colorFillSecondary:Xc(i,.12),colorFillTertiary:Xc(i,.08),colorFillQuaternary:Xc(i,.04),colorBgElevated:Sp(r,12),colorBgContainer:Sp(r,8),colorBgLayout:Sp(r,0),colorBgSpotlight:Sp(r,26),colorBgBlur:Xc(i,.04),colorBorder:Sp(r,26),colorBorderSecondary:Sp(r,19)}},_1e=(n,e)=>{const r=Object.keys(KI).map(o=>{const s=Iu(n[o],{theme:"dark"});return new Array(10).fill(1).reduce((l,u,c)=>(l[`${o}-${c+1}`]=s[c],l[`${o}${c+1}`]=s[c],l),{})}).reduce((o,s)=>(o=Object.assign(Object.assign({},o),s),o),{}),i=e??HA(n);return Object.assign(Object.assign(Object.assign({},i),r),o9(n,{generateColorPalettes:w1e,generateNeutralColorPalettes:S1e}))},M1e=_1e;function T1e(){const[n,e,r]=$s();return{theme:n,token:e,hashId:r}}const R1e={defaultConfig:Jx,defaultSeed:Jx.token,useToken:T1e,defaultAlgorithm:HA,darkAlgorithm:M1e,compactAlgorithm:C1e,getDesignToken:b1e};function I1e(n){var e=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight,i=n.getBoundingClientRect(),o=i.top,s=i.right,l=i.bottom,u=i.left;return o>=0&&u>=0&&s<=e&&l<=r}function P1e(n,e,r){var i;return(i=r??e)!==null&&i!==void 0?i:n===null?"center":"bottom"}function L1e(n,e,r,i){var o=M.useState(void 0),s=Ot(o,2),l=s[0],u=s[1];mi(function(){var A=typeof n=="function"?n():n;u(A||null)});var c=M.useState(null),d=Ot(c,2),h=d[0],p=d[1],m=Fo(function(){if(l){!I1e(l)&&e&&l.scrollIntoView(i);var A=l.getBoundingClientRect(),b=A.left,g=A.top,w=A.width,E=A.height,C={left:b,top:g,width:w,height:E,radius:0};p(function(_){return JSON.stringify(_)!==JSON.stringify(C)?C:_})}else p(null)}),v=function(b){var g;return(g=Array.isArray(r==null?void 0:r.offset)?r==null?void 0:r.offset[b]:r==null?void 0:r.offset)!==null&&g!==void 0?g:6};mi(function(){return m(),window.addEventListener("resize",m),function(){window.removeEventListener("resize",m)}},[l,e,m]);var y=M.useMemo(function(){if(!h)return h;var A=v(0),b=v(1),g=(r==null?void 0:r.radius)||2;return{left:h.left-A,top:h.top-b,width:h.width+A*2,height:h.height+b*2,radius:g}},[h,r]);return[y,l]}var Kb={fill:"transparent",pointerEvents:"auto"},B1e=function(e){var r=e.prefixCls,i=e.rootClassName,o=e.pos,s=e.showMask,l=e.style,u=l===void 0?{}:l,c=e.fill,d=c===void 0?"rgba(0,0,0,0.5)":c,h=e.open,p=e.animated,m=e.zIndex,v=j9(),y="".concat(r,"-mask-").concat(v),A=Tr(p)==="object"?p==null?void 0:p.placeholder:p;return Wt.createElement(EC,{open:h,autoLock:!0},Wt.createElement("div",{className:bt("".concat(r,"-mask"),i),style:ht({position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:m,pointerEvents:"none"},u)},s?Wt.createElement("svg",{style:{width:"100%",height:"100%"}},Wt.createElement("defs",null,Wt.createElement("mask",{id:y},Wt.createElement("rect",{x:"0",y:"0",width:"100vw",height:"100vh",fill:"white"}),o&&Wt.createElement("rect",{x:o.left,y:o.top,rx:o.radius,width:o.width,height:o.height,fill:"black",className:A?"".concat(r,"-placeholder-animated"):""}))),Wt.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:d,mask:"url(#".concat(y,")")}),o&&Wt.createElement(Wt.Fragment,null,Wt.createElement("rect",rn({},Kb,{x:"0",y:"0",width:"100%",height:o.top})),Wt.createElement("rect",rn({},Kb,{x:"0",y:"0",width:o.left,height:"100%"})),Wt.createElement("rect",rn({},Kb,{x:"0",y:o.top+o.height,width:"100%",height:"calc(100vh - ".concat(o.top+o.height,"px)")})),Wt.createElement("rect",rn({},Kb,{x:o.left+o.width,y:"0",width:"calc(100vw - ".concat(o.left+o.width,"px)"),height:"100%"})))):null))},O1e=[0,0],uF={left:{points:["cr","cl"],offset:[-8,0]},right:{points:["cl","cr"],offset:[8,0]},top:{points:["bc","tc"],offset:[0,-8]},bottom:{points:["tc","bc"],offset:[0,8]},topLeft:{points:["bl","tl"],offset:[0,-8]},leftTop:{points:["tr","tl"],offset:[-8,0]},topRight:{points:["br","tr"],offset:[0,-8]},rightTop:{points:["tl","tr"],offset:[8,0]},bottomRight:{points:["tr","br"],offset:[0,8]},rightBottom:{points:["bl","br"],offset:[8,0]},bottomLeft:{points:["tl","bl"],offset:[0,8]},leftBottom:{points:["br","bl"],offset:[-8,0]}};function Aj(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e={};return Object.keys(uF).forEach(function(r){e[r]=ht(ht({},uF[r]),{},{autoArrow:n,targetOffset:O1e})}),e}Aj();function D1e(n){var e=n.prefixCls,r=n.current,i=n.total,o=n.title,s=n.description,l=n.onClose,u=n.onPrev,c=n.onNext,d=n.onFinish,h=n.className,p=n.closeIcon,m=p!==!1&&p!==null,v=p!==void 0&&p!==!0?p:M.createElement("span",{className:"".concat(e,"-close-x")},"");return M.createElement("div",{className:bt("".concat(e,"-content"),h)},M.createElement("div",{className:"".concat(e,"-inner")},m&&M.createElement("button",{type:"button",onClick:l,"aria-label":"Close",className:"".concat(e,"-close")},v),M.createElement("div",{className:"".concat(e,"-header")},M.createElement("div",{className:"".concat(e,"-title")},o)),M.createElement("div",{className:"".concat(e,"-description")},s),M.createElement("div",{className:"".concat(e,"-footer")},M.createElement("div",{className:"".concat(e,"-sliders")},i>1?mn(Array.from({length:i}).keys()).map(function(y,A){return M.createElement("span",{key:y,className:A===r?"active":""})}):null),M.createElement("div",{className:"".concat(e,"-buttons")},r!==0?M.createElement("button",{className:"".concat(e,"-prev-btn"),onClick:u},"Prev"):null,r===i-1?M.createElement("button",{className:"".concat(e,"-finish-btn"),onClick:d},"Finish"):M.createElement("button",{className:"".concat(e,"-next-btn"),onClick:c},"Next")))))}var N1e=function(e){var r=e.current,i=e.renderPanel;return M.createElement(M.Fragment,null,typeof i=="function"?i(e,r):M.createElement(D1e,e))},k1e=["prefixCls","steps","defaultCurrent","current","onChange","onClose","onFinish","open","mask","arrow","rootClassName","placement","renderPanel","gap","animated","scrollIntoViewOptions","zIndex","closeIcon"],F1e={left:"50%",top:"50%",width:1,height:1},U1e=function(e){var r=e.prefixCls,i=r===void 0?"rc-tour":r,o=e.steps,s=o===void 0?[]:o,l=e.defaultCurrent,u=e.current,c=e.onChange,d=e.onClose,h=e.onFinish,p=e.open,m=e.mask,v=m===void 0?!0:m,y=e.arrow,A=y===void 0?!0:y,b=e.rootClassName,g=e.placement,w=e.renderPanel,E=e.gap,C=e.animated,_=e.scrollIntoViewOptions,P=_===void 0?!0:_,R=e.zIndex,L=R===void 0?1001:R,T=e.closeIcon,D=Br(e,k1e),H=M.useRef(),V=Co(0,{value:u,defaultValue:l}),B=Ot(V,2),O=B[0],F=B[1],N=Co(void 0,{value:p,postState:function(_e){return O<0||O>=s.length?!1:_e??!0}}),z=Ot(N,2),j=z[0],G=z[1],Q=M.useRef(j);mi(function(){j&&!Q.current&&F(0),Q.current=j},[j]);var X=s[O]||{},J=X.target,Z=X.placement,oe=X.style,ce=X.arrow,Be=X.className,ge=X.mask,Re=X.scrollIntoViewOptions,$e=X.closeIcon,qe=j&&(ge??v),Ke=$e??T,ke=Re??P,st=L1e(J,p,E,ke),ot=Ot(st,2),it=ot[0],ft=ot[1],Et=P1e(ft,g,Z),gt=ft?typeof ce>"u"?A:ce:!1,Ct=Tr(gt)==="object"?gt.pointAtCenter:!1;mi(function(){var pe;(pe=H.current)===null||pe===void 0||pe.forceAlign()},[Ct,O]);var Tt=function(_e){F(_e),c==null||c(_e)};if(ft===void 0)return null;var Dt=function(){G(!1),d==null||d(O)},Yt=function(){return M.createElement(N1e,rn({arrow:gt,key:"content",prefixCls:i,total:s.length,renderPanel:w,onPrev:function(){Tt(O-1)},onNext:function(){Tt(O+1)},onClose:Dt,current:O,onFinish:function(){Dt(),h==null||h()},closeIcon:Ke},s[O]))},Ve=typeof qe=="boolean"?qe:!!qe,ye=typeof qe=="boolean"?void 0:qe,fe=function(_e){return _e||ft||document.body};return M.createElement(M.Fragment,null,M.createElement(B1e,{zIndex:L,prefixCls:i,pos:it,showMask:Ve,style:ye==null?void 0:ye.style,fill:ye==null?void 0:ye.color,open:j,animated:C,rootClassName:b}),M.createElement(KA,rn({builtinPlacements:Aj(Ct)},D,{ref:H,popupStyle:oe,popupPlacement:Et,popupVisible:j,popupClassName:bt(b,Be),prefixCls:i,popup:Yt,forceRender:!1,destroyPopupOnHide:!0,zIndex:L,getTriggerDOMNode:fe,arrow:!!gt}),M.createElement(EC,{open:j,autoLock:!0},M.createElement("div",{className:bt(b,"".concat(i,"-target-placeholder")),style:ht(ht({},it||F1e),{},{position:"fixed",pointerEvents:"none"})}))))};function l_(n){return n!=null}const z1e=n=>{let{stepProps:e,current:r,type:i,indicatorsRender:o,closeIcon:s}=n;var l,u;const{prefixCls:c,total:d=1,title:h,onClose:p,onPrev:m,onNext:v,onFinish:y,cover:A,description:b,nextButtonProps:g,prevButtonProps:w,type:E,closeIcon:C}=e,_=E??i,P=C??s,R=P!==!1&&P!==null,[L,T]=G9(R,P,Q=>Wt.createElement("span",{onClick:p,"aria-label":"Close",className:`${c}-close`},Q),Wt.createElement(Mh,{className:`${c}-close-icon`}),!0),D=r===d-1,H=()=>{var Q;m==null||m(),(Q=w==null?void 0:w.onClick)===null||Q===void 0||Q.call(w)},V=()=>{var Q;D?y==null||y():v==null||v(),(Q=g==null?void 0:g.onClick)===null||Q===void 0||Q.call(g)},B=l_(h)?Wt.createElement("div",{className:`${c}-header`},Wt.createElement("div",{className:`${c}-title`},h)):null,O=l_(b)?Wt.createElement("div",{className:`${c}-description`},b):null,F=l_(A)?Wt.createElement("div",{className:`${c}-cover`},A):null;let N;o?N=o(r,d):N=mn(Array.from({length:d}).keys()).map((Q,X)=>Wt.createElement("span",{key:Q,className:bt(X===r&&`${c}-indicator-active`,`${c}-indicator`)}));const z=_==="primary"?"default":"primary",j={type:"default",ghost:_==="primary"},[G]=$A("Tour",Lu.Tour);return Wt.createElement("div",{className:`${c}-content`},Wt.createElement("div",{className:`${c}-inner`},L&&T,F,B,O,Wt.createElement("div",{className:`${c}-footer`},d>1&&Wt.createElement("div",{className:`${c}-indicators`},N),Wt.createElement("div",{className:`${c}-buttons`},r!==0?Wt.createElement(Cc,Object.assign({},j,w,{onClick:H,size:"small",className:bt(`${c}-prev-btn`,w==null?void 0:w.className)}),(l=w==null?void 0:w.children)!==null&&l!==void 0?l:G==null?void 0:G.Previous):null,Wt.createElement(Cc,Object.assign({type:z},g,{onClick:V,size:"small",className:bt(`${c}-next-btn`,g==null?void 0:g.className)}),(u=g==null?void 0:g.children)!==null&&u!==void 0?u:D?G==null?void 0:G.Finish:G==null?void 0:G.Next)))))},yj=z1e,$1e=n=>{const{componentCls:e,lineHeight:r,padding:i,paddingXS:o,borderRadius:s,borderRadiusXS:l,colorPrimary:u,colorText:c,colorFill:d,indicatorHeight:h,indicatorWidth:p,boxShadowTertiary:m,tourZIndexPopup:v,fontSize:y,colorBgElevated:A,fontWeightStrong:b,marginXS:g,colorTextLightSolid:w,tourBorderRadius:E,colorWhite:C,colorBgTextHover:_,tourCloseSize:P,motionDurationSlow:R,antCls:L}=n;return[{[e]:Object.assign(Object.assign({},$i(n)),{color:c,position:"absolute",zIndex:v,display:"block",visibility:"visible",fontSize:y,lineHeight:r,width:520,"--antd-arrow-background-color":A,"&-pure":{maxWidth:"100%",position:"relative"},[`&${e}-hidden`]:{display:"none"},[`${e}-content`]:{position:"relative"},[`${e}-inner`]:{textAlign:"start",textDecoration:"none",borderRadius:E,boxShadow:m,position:"relative",backgroundColor:A,border:"none",backgroundClip:"padding-box",[`${e}-close`]:{position:"absolute",top:i,insetInlineEnd:i,color:n.colorIcon,outline:"none",width:P,height:P,borderRadius:n.borderRadiusSM,transition:`background-color ${n.motionDurationMid}, color ${n.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{color:n.colorIconHover,backgroundColor:n.wireframe?"transparent":n.colorFillContent}},[`${e}-cover`]:{textAlign:"center",padding:`${i+P+o}px ${i}px 0`,img:{width:"100%"}},[`${e}-header`]:{padding:`${i}px ${i}px ${o}px`,[`${e}-title`]:{lineHeight:r,fontSize:y,fontWeight:b}},[`${e}-description`]:{padding:`0 ${i}px`,lineHeight:r,wordWrap:"break-word"},[`${e}-footer`]:{padding:`${o}px ${i}px ${i}px`,textAlign:"end",borderRadius:`0 0 ${l}px ${l}px`,display:"flex",[`${e}-indicators`]:{display:"inline-block",[`${e}-indicator`]:{width:p,height:h,display:"inline-block",borderRadius:"50%",background:d,"&:not(:last-child)":{marginInlineEnd:h},"&-active":{background:u}}},[`${e}-buttons`]:{marginInlineStart:"auto",[`${L}-btn`]:{marginInlineStart:g}}}},[`${e}-primary, &${e}-primary`]:{"--antd-arrow-background-color":u,[`${e}-inner`]:{color:w,textAlign:"start",textDecoration:"none",backgroundColor:u,borderRadius:s,boxShadow:m,[`${e}-close`]:{color:w},[`${e}-indicators`]:{[`${e}-indicator`]:{background:new Di(w).setAlpha(.15).toRgbString(),"&-active":{background:w}}},[`${e}-prev-btn`]:{color:w,borderColor:new Di(w).setAlpha(.15).toRgbString(),backgroundColor:u,"&:hover":{backgroundColor:new Di(w).setAlpha(.15).toRgbString(),borderColor:"transparent"}},[`${e}-next-btn`]:{color:u,borderColor:"transparent",background:C,"&:hover":{background:new Di(_).onBackground(C).toRgbString()}}}}}),[`${e}-mask`]:{[`${e}-placeholder-animated`]:{transition:`all ${R}`}},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${e}-inner`]:{borderRadius:Math.min(E,EP)}}},wP(n,{colorBg:"var(--antd-arrow-background-color)",contentRadius:E,limitVerticalRadius:!0})]},bj=ki("Tour",n=>{const{borderRadiusLG:e,fontSize:r,lineHeight:i}=n,o=ei(n,{tourZIndexPopup:n.zIndexPopupBase+70,indicatorWidth:6,indicatorHeight:6,tourBorderRadius:e,tourCloseSize:r*i});return[$1e(o)]});var H1e=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const j1e=n=>{const{prefixCls:e,current:r=0,total:i=6,className:o,style:s,type:l}=n,u=H1e(n,["prefixCls","current","total","className","style","type"]),{getPrefixCls:c}=M.useContext(Er),d=c("tour",e),[h,p]=bj(d);return h(M.createElement(fhe,{prefixCls:d,hashId:p,className:bt(o,`${d}-pure`,l&&`${d}-${l}`),style:s},M.createElement(yj,{stepProps:Object.assign(Object.assign({},u),{prefixCls:d,total:i}),current:r,type:l})))},G1e=J9(j1e);var V1e=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const xj=n=>{const{prefixCls:e,type:r,rootClassName:i,indicatorsRender:o,steps:s}=n,l=V1e(n,["prefixCls","type","rootClassName","indicatorsRender","steps"]),{getPrefixCls:u,direction:c}=M.useContext(Er),d=u("tour",e),[h,p]=bj(d),[,m]=$s(),v=M.useMemo(()=>s==null?void 0:s.map(g=>{var w;return Object.assign(Object.assign({},g),{className:bt(g.className,{[`${d}-primary`]:((w=g.type)!==null&&w!==void 0?w:r)==="primary"})})}),[s,r]),y=SP({arrowPointAtCenter:!0,autoAdjustOverflow:!0,offset:m.marginXXS,arrowWidth:m.sizePopupArrow,borderRadius:m.borderRadius}),A=bt({[`${d}-rtl`]:c==="rtl"},p,i),b=(g,w)=>Wt.createElement(yj,{type:r,stepProps:g,current:w,indicatorsRender:o});return h(Wt.createElement(U1e,Object.assign({},l,{rootClassName:A,prefixCls:d,animated:!0,renderPanel:b,builtinPlacements:y,steps:v})))};xj._InternalPanelDoNotUseOrYouWillBeFired=G1e;const W1e=xj;var Q1e=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const K1e={border:0,background:"transparent",padding:0,lineHeight:"inherit",display:"inline-block"},X1e=M.forwardRef((n,e)=>{const r=d=>{const{keyCode:h}=d;h===An.ENTER&&d.preventDefault()},i=d=>{const{keyCode:h}=d,{onClick:p}=n;h===An.ENTER&&p&&p()},{style:o,noStyle:s,disabled:l}=n,u=Q1e(n,["style","noStyle","disabled"]);let c={};return s||(c=Object.assign({},K1e)),l&&(c.pointerEvents="none"),c=Object.assign(Object.assign({},c),o),M.createElement("div",Object.assign({role:"button",tabIndex:0,ref:e},u,{onKeyDown:r,onKeyUp:i,style:c}))}),dF=X1e;var q1e=function(){var n=document.getSelection();if(!n.rangeCount)return function(){};for(var e=document.activeElement,r=[],i=0;i<n.rangeCount;i++)r.push(n.getRangeAt(i));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return n.removeAllRanges(),function(){n.type==="Caret"&&n.removeAllRanges(),n.rangeCount||r.forEach(function(o){n.addRange(o)}),e&&e.focus()}},Y1e=q1e,fF={"text/plain":"Text","text/html":"Url",default:"Text"},J1e="Copy to clipboard: #{key}, Enter";function Z1e(n){var e=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return n.replace(/#{\s*key\s*}/g,e)}function exe(n,e){var r,i,o,s,l,u,c=!1;e||(e={}),r=e.debug||!1;try{o=Y1e(),s=document.createRange(),l=document.getSelection(),u=document.createElement("span"),u.textContent=n,u.ariaHidden="true",u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",function(h){if(h.stopPropagation(),e.format)if(h.preventDefault(),typeof h.clipboardData>"u"){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var p=fF[e.format]||fF.default;window.clipboardData.setData(p,n)}else h.clipboardData.clearData(),h.clipboardData.setData(e.format,n);e.onCopy&&(h.preventDefault(),e.onCopy(h.clipboardData))}),document.body.appendChild(u),s.selectNodeContents(u),l.addRange(s);var d=document.execCommand("copy");if(!d)throw new Error("copy command was unsuccessful");c=!0}catch(h){r&&console.error("unable to copy using execCommand: ",h),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",n),e.onCopy&&e.onCopy(window.clipboardData),c=!0}catch(p){r&&console.error("unable to copy using clipboardData: ",p),r&&console.error("falling back to prompt"),i=Z1e("message"in e?e.message:J1e),window.prompt(i,n)}}finally{l&&(typeof l.removeRange=="function"?l.removeRange(s):l.removeAllRanges()),u&&document.body.removeChild(u),o()}return c}var txe=exe;const nxe=Uu(txe),rxe=(n,e,r,i)=>{const{titleMarginBottom:o,fontWeightStrong:s}=i;return{marginBottom:o,color:r,fontWeight:s,fontSize:n,lineHeight:e}},ixe=n=>{const e=[1,2,3,4,5],r={};return e.forEach(i=>{r[`
      h${i}&,
      div&-h${i},
      div&-h${i} > textarea,
      h${i}
    `]=rxe(n[`fontSizeHeading${i}`],n[`lineHeightHeading${i}`],n.colorTextHeading,n)}),r},oxe=n=>{const{componentCls:e}=n;return{"a&, a":Object.assign(Object.assign({},YI(n)),{textDecoration:n.linkDecoration,"&:active, &:hover":{textDecoration:n.linkHoverDecoration},[`&[disabled], &${e}-disabled`]:{color:n.colorTextDisabled,cursor:"not-allowed","&:active, &:hover":{color:n.colorTextDisabled},"&:active":{pointerEvents:"none"}}})}},axe=n=>({code:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.2em 0.1em",fontSize:"85%",fontFamily:n.fontFamilyCode,background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3},kbd:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.15em 0.1em",fontSize:"90%",fontFamily:n.fontFamilyCode,background:"rgba(150, 150, 150, 0.06)",border:"1px solid rgba(100, 100, 100, 0.2)",borderBottomWidth:2,borderRadius:3},mark:{padding:0,backgroundColor:Fte[2]},"u, ins":{textDecoration:"underline",textDecorationSkipInk:"auto"},"s, del":{textDecoration:"line-through"},strong:{fontWeight:600},"ul, ol":{marginInline:0,marginBlock:"0 1em",padding:0,li:{marginInline:"20px 0",marginBlock:0,paddingInline:"4px 0",paddingBlock:0}},ul:{listStyleType:"circle",ul:{listStyleType:"disc"}},ol:{listStyleType:"decimal"},"pre, blockquote":{margin:"1em 0"},pre:{padding:"0.4em 0.6em",whiteSpace:"pre-wrap",wordWrap:"break-word",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3,fontFamily:n.fontFamilyCode,code:{display:"inline",margin:0,padding:0,fontSize:"inherit",fontFamily:"inherit",background:"transparent",border:0}},blockquote:{paddingInline:"0.6em 0",paddingBlock:0,borderInlineStart:"4px solid rgba(100, 100, 100, 0.2)",opacity:.85}}),sxe=n=>{const{componentCls:e,paddingSM:r}=n,i=r;return{"&-edit-content":{position:"relative","div&":{insetInlineStart:-n.paddingSM,marginTop:-i,marginBottom:`calc(1em - ${i}px)`},[`${e}-edit-content-confirm`]:{position:"absolute",insetInlineEnd:n.marginXS+2,insetBlockEnd:n.marginXS,color:n.colorTextDescription,fontWeight:"normal",fontSize:n.fontSize,fontStyle:"normal",pointerEvents:"none"},textarea:{margin:"0!important",MozTransition:"none",height:"1em"}}}},lxe=n=>({"&-copy-success":{"\n    &,\n    &:hover,\n    &:focus":{color:n.colorSuccess}}}),cxe=()=>({"\n  a&-ellipsis,\n  span&-ellipsis\n  ":{display:"inline-block",maxWidth:"100%"},"&-single-line":{whiteSpace:"nowrap"},"&-ellipsis-single-line":{overflow:"hidden",textOverflow:"ellipsis","a&, span&":{verticalAlign:"bottom"},"> code":{paddingBlock:0,maxWidth:"calc(100% - 1.2em)",display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",verticalAlign:"bottom"}},"&-ellipsis-multiple-line":{display:"-webkit-box",overflow:"hidden",WebkitLineClamp:3,WebkitBoxOrient:"vertical"}}),uxe=n=>{const{componentCls:e,titleMarginTop:r}=n;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:n.colorText,wordBreak:"break-word",lineHeight:n.lineHeight,[`&${e}-secondary`]:{color:n.colorTextDescription},[`&${e}-success`]:{color:n.colorSuccess},[`&${e}-warning`]:{color:n.colorWarning},[`&${e}-danger`]:{color:n.colorError,"a&:active, a&:focus":{color:n.colorErrorActive},"a&:hover":{color:n.colorErrorHover}},[`&${e}-disabled`]:{color:n.colorTextDisabled,cursor:"not-allowed",userSelect:"none"},"\n        div&,\n        p\n      ":{marginBottom:"1em"}},ixe(n)),{[`
      & + h1${e},
      & + h2${e},
      & + h3${e},
      & + h4${e},
      & + h5${e}
      `]:{marginTop:r},"\n      div,\n      ul,\n      li,\n      p,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5":{"\n        + h1,\n        + h2,\n        + h3,\n        + h4,\n        + h5\n        ":{marginTop:r}}}),axe(n)),oxe(n)),{[`
        ${e}-expand,
        ${e}-edit,
        ${e}-copy
      `]:Object.assign(Object.assign({},YI(n)),{marginInlineStart:n.marginXXS})}),sxe(n)),lxe(n)),cxe()),{"&-rtl":{direction:"rtl"}})}},Ej=ki("Typography",n=>[uxe(n)],()=>({titleMarginTop:"1.2em",titleMarginBottom:"0.5em"})),dxe=n=>{const{prefixCls:e,"aria-label":r,className:i,style:o,direction:s,maxLength:l,autoSize:u=!0,value:c,onSave:d,onCancel:h,onEnd:p,component:m,enterIcon:v=M.createElement(hre,null)}=n,y=M.useRef(null),A=M.useRef(!1),b=M.useRef(),[g,w]=M.useState(c);M.useEffect(()=>{w(c)},[c]),M.useEffect(()=>{if(y.current&&y.current.resizableTextArea){const{textArea:O}=y.current.resizableTextArea;O.focus();const{length:F}=O.value;O.setSelectionRange(F,F)}},[]);const E=O=>{let{target:F}=O;w(F.value.replace(/[\n\r]/g,""))},C=()=>{A.current=!0},_=()=>{A.current=!1},P=O=>{let{keyCode:F}=O;A.current||(b.current=F)},R=()=>{d(g.trim())},L=O=>{let{keyCode:F,ctrlKey:N,altKey:z,metaKey:j,shiftKey:G}=O;b.current===F&&!A.current&&!N&&!z&&!j&&!G&&(F===An.ENTER?(R(),p==null||p()):F===An.ESC&&h())},T=()=>{R()},D=m?`${e}-${m}`:"",[H,V]=Ej(e),B=bt(e,`${e}-edit-content`,{[`${e}-rtl`]:s==="rtl"},i,D,V);return H(M.createElement("div",{className:B,style:o},M.createElement(CH,{ref:y,maxLength:l,value:g,onChange:E,onKeyDown:P,onKeyUp:L,onCompositionStart:C,onCompositionEnd:_,onBlur:T,"aria-label":r,rows:1,autoSize:u}),v!==null?ya(v,{className:`${e}-edit-content-confirm`}):null))},fxe=dxe;var hxe=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const pxe=M.forwardRef((n,e)=>{const{prefixCls:r,component:i="article",className:o,rootClassName:s,setContentRef:l,children:u,direction:c,style:d}=n,h=hxe(n,["prefixCls","component","className","rootClassName","setContentRef","children","direction","style"]),{getPrefixCls:p,direction:m,typography:v}=M.useContext(Er),y=c??m;let A=e;l&&(A=zs(e,l));const b=p("typography",r),[g,w]=Ej(b),E=bt(b,v==null?void 0:v.className,{[`${b}-rtl`]:y==="rtl"},o,s,w),C=Object.assign(Object.assign({},v==null?void 0:v.style),d);return g(M.createElement(i,Object.assign({className:E,style:C,ref:A},h),u))}),Cj=pxe;function c_(n,e){return M.useMemo(()=>{const r=!!n;return[r,Object.assign(Object.assign({},e),r&&typeof n=="object"?n:null)]},[n])}const mxe=(n,e)=>{const r=M.useRef(!1);M.useEffect(()=>{r.current?n():r.current=!0},e)},gxe=mxe;function wj(n){const e=typeof n;return e==="string"||e==="number"}function vxe(n){let e=0;return n.forEach(r=>{wj(r)?e+=String(r).length:e+=1}),e}function u_(n,e){let r=0;const i=[];for(let o=0;o<n.length;o+=1){if(r===e)return i;const s=n[o],u=wj(s)?String(s).length:1,c=r+u;if(c>e){const d=e-r;return i.push(String(s).slice(0,d)),i}i.push(s),r=c}return n}const Axe=0,Xb=1,hF=2,d_=3,f_=4,yxe=n=>{let{enabledMeasure:e,children:r,text:i,width:o,fontSize:s,rows:l,onEllipsis:u}=n;const[[c,d,h],p]=M.useState([0,0,0]),[m,v]=M.useState(0),[y,A]=M.useState(Axe),[b,g]=M.useState(0),w=M.useRef(null),E=M.useRef(null),C=M.useMemo(()=>qa(i),[i]),_=M.useMemo(()=>vxe(C),[C]),P=M.useMemo(()=>!e||y!==d_?m&&y!==f_&&e?r(u_(C,m),m<_):r(C,!1):r(u_(C,d),d<_),[e,y,r,C,d,_]);mi(()=>{e&&o&&s&&_&&(A(Xb),p([0,Math.ceil(_/2),_]))},[e,o,s,i,_,l]),mi(()=>{var D;y===Xb&&g(((D=w.current)===null||D===void 0?void 0:D.offsetHeight)||0)},[y]),mi(()=>{var D,H;if(b){if(y===Xb){const V=((D=E.current)===null||D===void 0?void 0:D.offsetHeight)||0,B=l*b;V<=B?(A(f_),u(!1)):A(hF)}else if(y===hF)if(c!==h){const V=((H=E.current)===null||H===void 0?void 0:H.offsetHeight)||0,B=l*b;let O=c,F=h;c===h-1?F=c:V<=B?O=d:F=d;const N=Math.ceil((O+F)/2);p([O,N,F])}else A(d_),v(d),u(!0)}},[y,c,h,l,b]);const R={width:o,whiteSpace:"normal",margin:0,padding:0},L=(D,H,V)=>M.createElement("span",{"aria-hidden":!0,ref:H,style:Object.assign({position:"fixed",display:"block",left:0,top:0,zIndex:-9999,visibility:"hidden",pointerEvents:"none",fontSize:Math.ceil(s/2)*2},V)},D),T=(D,H)=>{const V=u_(C,D);return L(r(V,!0),H,R)};return M.createElement(M.Fragment,null,P,e&&y!==d_&&y!==f_&&M.createElement(M.Fragment,null,L("lg",w,{wordBreak:"keep-all",whiteSpace:"nowrap"}),y===Xb?L(r(C,!1),E,R):T(d,E)))},bxe=yxe,xxe=n=>{let{enabledEllipsis:e,isEllipsis:r,children:i,tooltipProps:o}=n;return!(o!=null&&o.title)||!e?i:M.createElement(xh,Object.assign({open:r?void 0:!1},o),i)},Exe=xxe;var Cxe=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};function wxe(n,e){let{mark:r,code:i,underline:o,delete:s,strong:l,keyboard:u,italic:c}=n,d=e;function h(p,m){m&&(d=M.createElement(p,{},d))}return h("strong",l),h("u",o),h("del",s),h("code",i),h("mark",r),h("kbd",u),h("i",c),d}function qb(n,e,r){return n===!0||n===void 0?e:n||r&&e}function pF(n){return n===!1?[!1,!1]:Array.isArray(n)?n:[n]}const Sxe="...",_xe=M.forwardRef((n,e)=>{var r,i,o;const{prefixCls:s,className:l,style:u,type:c,disabled:d,children:h,ellipsis:p,editable:m,copyable:v,component:y,title:A}=n,b=Cxe(n,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),{getPrefixCls:g,direction:w}=M.useContext(Er),[E]=$A("Text"),C=M.useRef(null),_=M.useRef(null),P=g("typography",s),R=co(b,["mark","code","delete","underline","strong","keyboard","italic"]),[L,T]=c_(m),[D,H]=Co(!1,{value:T.editing}),{triggerType:V=["icon"]}=T,B=ve=>{var he;ve&&((he=T.onStart)===null||he===void 0||he.call(T)),H(ve)};gxe(()=>{var ve;D||(ve=_.current)===null||ve===void 0||ve.focus()},[D]);const O=ve=>{ve==null||ve.preventDefault(),B(!0)},F=ve=>{var he;(he=T.onChange)===null||he===void 0||he.call(T,ve),B(!1)},N=()=>{var ve;(ve=T.onCancel)===null||ve===void 0||ve.call(T),B(!1)},[z,j]=c_(v),[G,Q]=M.useState(!1),X=M.useRef(null),J={};j.format&&(J.format=j.format);const Z=()=>{X.current&&clearTimeout(X.current)},oe=ve=>{var he;ve==null||ve.preventDefault(),ve==null||ve.stopPropagation(),nxe(j.text||String(h)||"",J),Q(!0),Z(),X.current=setTimeout(()=>{Q(!1)},3e3),(he=j.onCopy)===null||he===void 0||he.call(j,ve)};M.useEffect(()=>Z,[]);const[ce,Be]=M.useState(!1),[ge,Re]=M.useState(!1),[$e,qe]=M.useState(!1),[Ke,ke]=M.useState(!1),[st,ot]=M.useState(!1),[it,ft]=M.useState(!0),[Et,gt]=c_(p,{expandable:!1}),Ct=Et&&!$e,{rows:Tt=1}=gt,Dt=M.useMemo(()=>!Ct||gt.suffix!==void 0||gt.onEllipsis||gt.expandable||L||z,[Ct,gt,L,z]);mi(()=>{Et&&!Dt&&(Be(t3("webkitLineClamp")),Re(t3("textOverflow")))},[Dt,Et]);const Yt=M.useMemo(()=>Dt?!1:Tt===1?ge:ce,[Dt,ge,ce]),Ve=Ct&&(Yt?st:Ke),ye=Ct&&Tt===1&&Yt,fe=Ct&&Tt>1&&Yt,pe=ve=>{var he;qe(!0),(he=gt.onExpand)===null||he===void 0||he.call(gt,ve)},[_e,Ce]=M.useState(0),[Se,we]=M.useState(0),je=(ve,he)=>{let{offsetWidth:Ye}=ve;var Ze;Ce(Ye),we(parseInt((Ze=window.getComputedStyle)===null||Ze===void 0?void 0:Ze.call(window,he).fontSize,10)||0)},Ae=ve=>{var he;ke(ve),Ke!==ve&&((he=gt.onEllipsis)===null||he===void 0||he.call(gt,ve))};M.useEffect(()=>{const ve=C.current;if(Et&&Yt&&ve){const he=fe?ve.offsetHeight<ve.scrollHeight:ve.offsetWidth<ve.scrollWidth;st!==he&&ot(he)}},[Et,Yt,h,fe,it]),M.useEffect(()=>{const ve=C.current;if(typeof IntersectionObserver>"u"||!ve||!Yt||!Ct)return;const he=new IntersectionObserver(()=>{ft(!!ve.offsetParent)});return he.observe(ve),()=>{he.disconnect()}},[Yt,Ct]);let Ue={};gt.tooltip===!0?Ue={title:(r=T.text)!==null&&r!==void 0?r:h}:M.isValidElement(gt.tooltip)?Ue={title:gt.tooltip}:typeof gt.tooltip=="object"?Ue=Object.assign({title:(i=T.text)!==null&&i!==void 0?i:h},gt.tooltip):Ue={title:gt.tooltip};const et=M.useMemo(()=>{const ve=he=>["string","number"].includes(typeof he);if(!(!Et||Yt)){if(ve(T.text))return T.text;if(ve(h))return h;if(ve(A))return A;if(ve(Ue.title))return Ue.title}},[Et,Yt,A,Ue.title,Ve]);if(D)return M.createElement(fxe,{value:(o=T.text)!==null&&o!==void 0?o:typeof h=="string"?h:"",onSave:F,onCancel:N,onEnd:T.onEnd,prefixCls:P,className:l,style:u,direction:w,component:y,maxLength:T.maxLength,autoSize:T.autoSize,enterIcon:T.enterIcon});const ue=()=>{const{expandable:ve,symbol:he}=gt;if(!ve)return null;let Ye;return he?Ye=he:Ye=E==null?void 0:E.expand,M.createElement("a",{key:"expand",className:`${P}-expand`,onClick:pe,"aria-label":E==null?void 0:E.expand},Ye)},Y=()=>{if(!L)return;const{icon:ve,tooltip:he}=T,Ye=qa(he)[0]||(E==null?void 0:E.edit),Ze=typeof Ye=="string"?Ye:"";return V.includes("icon")?M.createElement(xh,{key:"edit",title:he===!1?"":Ye},M.createElement(dF,{ref:_,className:`${P}-edit`,onClick:O,"aria-label":Ze},ve||M.createElement(are,{role:"button"}))):null},ne=()=>{if(!z)return;const{tooltips:ve,icon:he}=j,Ye=pF(ve),Ze=pF(he),Qe=G?qb(Ye[1],E==null?void 0:E.copied):qb(Ye[0],E==null?void 0:E.copy),nt=G?E==null?void 0:E.copied:E==null?void 0:E.copy,It=typeof Qe=="string"?Qe:nt;return M.createElement(xh,{key:"copy",title:Qe},M.createElement(dF,{className:bt(`${P}-copy`,G&&`${P}-copy-success`),onClick:oe,"aria-label":It},G?qb(Ze[1],M.createElement(DI,null),!0):qb(Ze[0],M.createElement(Dne,null),!0)))},Pe=ve=>[ve&&ue(),Y(),ne()],We=ve=>[ve&&M.createElement("span",{"aria-hidden":!0,key:"ellipsis"},Sxe),gt.suffix,Pe(ve)];return M.createElement(Qa,{onResize:je,disabled:!Ct||Yt},ve=>M.createElement(Exe,{tooltipProps:Ue,enabledEllipsis:Ct,isEllipsis:Ve},M.createElement(Cj,Object.assign({className:bt({[`${P}-${c}`]:c,[`${P}-disabled`]:d,[`${P}-ellipsis`]:Et,[`${P}-single-line`]:Ct&&Tt===1,[`${P}-ellipsis-single-line`]:ye,[`${P}-ellipsis-multiple-line`]:fe},l),prefixCls:s,style:Object.assign(Object.assign({},u),{WebkitLineClamp:fe?Tt:void 0}),component:y,ref:zs(ve,C,e),direction:w,onClick:V.includes("text")?O:void 0,"aria-label":et==null?void 0:et.toString(),title:A},R),M.createElement(bxe,{enabledMeasure:Ct&&!Yt,text:h,rows:Tt,width:_e,fontSize:Se,onEllipsis:Ae},(he,Ye)=>{let Ze=he;return he.length&&Ye&&et&&(Ze=M.createElement("span",{key:"show-content","aria-hidden":!0},Ze)),wxe(n,M.createElement(M.Fragment,null,Ze,We(Ye)))}))))}),$C=_xe;var Mxe=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const Txe=M.forwardRef((n,e)=>{var{ellipsis:r,rel:i}=n,o=Mxe(n,["ellipsis","rel"]);const s=Object.assign(Object.assign({},o),{rel:i===void 0&&o.target==="_blank"?"noopener noreferrer":i});return delete s.navigate,M.createElement($C,Object.assign({},s,{ref:e,ellipsis:!!r,component:"a"}))}),Sj=Txe,Rxe=M.forwardRef((n,e)=>M.createElement($C,Object.assign({ref:e},n,{component:"div"}))),Ixe=Rxe;var Pxe=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const Lxe=(n,e)=>{var{ellipsis:r}=n,i=Pxe(n,["ellipsis"]);const o=M.useMemo(()=>r&&typeof r=="object"?co(r,["expandable","rows"]):r,[r]);return M.createElement($C,Object.assign({ref:e},i,{ellipsis:o,component:"span"}))},Bxe=M.forwardRef(Lxe);var Oxe=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const Dxe=[1,2,3,4,5],Nxe=M.forwardRef((n,e)=>{const{level:r=1}=n,i=Oxe(n,["level"]);let o;return Dxe.includes(r)?o=`h${r}`:o="h1",M.createElement($C,Object.assign({ref:e},i,{component:o}))}),_j=Nxe,ny=Cj;ny.Text=Bxe;ny.Link=Sj;ny.Title=_j;ny.Paragraph=Ixe;const Mj=ny;function kxe(n,e){var r="cannot ".concat(n.method," ").concat(n.action," ").concat(e.status,"'"),i=new Error(r);return i.status=e.status,i.method=n.method,i.url=n.action,i}function mF(n){var e=n.responseText||n.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}function Fxe(n){var e=new XMLHttpRequest;n.onProgress&&e.upload&&(e.upload.onprogress=function(s){s.total>0&&(s.percent=s.loaded/s.total*100),n.onProgress(s)});var r=new FormData;n.data&&Object.keys(n.data).forEach(function(o){var s=n.data[o];if(Array.isArray(s)){s.forEach(function(l){r.append("".concat(o,"[]"),l)});return}r.append(o,s)}),n.file instanceof Blob?r.append(n.filename,n.file,n.file.name):r.append(n.filename,n.file),e.onerror=function(s){n.onError(s)},e.onload=function(){return e.status<200||e.status>=300?n.onError(kxe(n,e),mF(e)):n.onSuccess(mF(e),e)},e.open(n.method,n.action,!0),n.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);var i=n.headers||{};return i["X-Requested-With"]!==null&&e.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(i).forEach(function(o){i[o]!==null&&e.setRequestHeader(o,i[o])}),e.send(r),{abort:function(){e.abort()}}}var Uxe=+new Date,zxe=0;function h_(){return"rc-upload-".concat(Uxe,"-").concat(++zxe)}const p_=function(n,e){if(n&&e){var r=Array.isArray(e)?e:e.split(","),i=n.name||"",o=n.type||"",s=o.replace(/\/.*$/,"");return r.some(function(l){var u=l.trim();if(/^\*(\/\*)?$/.test(l))return!0;if(u.charAt(0)==="."){var c=i.toLowerCase(),d=u.toLowerCase(),h=[d];return(d===".jpg"||d===".jpeg")&&(h=[".jpg",".jpeg"]),h.some(function(p){return c.endsWith(p)})}return/\/\*$/.test(u)?s===u.replace(/\/.*$/,""):o===u?!0:/^\w+$/.test(u)?(no(!1,"Upload takes an invalidate 'accept' type '".concat(u,"'.Skip for check.")),!0):!1})}return!0};function $xe(n,e){var r=n.createReader(),i=[];function o(){r.readEntries(function(s){var l=Array.prototype.slice.apply(s);i=i.concat(l);var u=!l.length;u?e(i):o()})}o()}var Hxe=function(e,r,i){var o=function s(l,u){l&&(l.path=u||"",l.isFile?l.file(function(c){i(c)&&(l.fullPath&&!c.webkitRelativePath&&(Object.defineProperties(c,{webkitRelativePath:{writable:!0}}),c.webkitRelativePath=l.fullPath.replace(/^\//,""),Object.defineProperties(c,{webkitRelativePath:{writable:!1}})),r([c]))}):l.isDirectory&&$xe(l,function(c){c.forEach(function(d){s(d,"".concat(u).concat(l.name,"/"))})}))};e.forEach(function(s){o(s.webkitGetAsEntry())})},jxe=["component","prefixCls","className","disabled","id","style","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave"],Gxe=function(n){ql(r,n);var e=Yl(r);function r(){var i;ca(this,r);for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return i=e.call.apply(e,[this].concat(s)),i.state={uid:h_()},i.reqs={},i.fileInput=void 0,i._isMounted=void 0,i.onChange=function(u){var c=i.props,d=c.accept,h=c.directory,p=u.target.files,m=mn(p).filter(function(v){return!h||p_(v,d)});i.uploadFiles(m),i.reset()},i.onClick=function(u){var c=i.fileInput;if(c){var d=i.props,h=d.children,p=d.onClick;if(h&&h.type==="button"){var m=c.parentNode;m.focus(),m.querySelector("button").blur()}c.click(),p&&p(u)}},i.onKeyDown=function(u){u.key==="Enter"&&i.onClick(u)},i.onFileDrop=function(u){var c=i.props.multiple;if(u.preventDefault(),u.type!=="dragover")if(i.props.directory)Hxe(Array.prototype.slice.call(u.dataTransfer.items),i.uploadFiles,function(h){return p_(h,i.props.accept)});else{var d=mn(u.dataTransfer.files).filter(function(h){return p_(h,i.props.accept)});c===!1&&(d=d.slice(0,1)),i.uploadFiles(d)}},i.uploadFiles=function(u){var c=mn(u),d=c.map(function(h){return h.uid=h_(),i.processFile(h,c)});Promise.all(d).then(function(h){var p=i.props.onBatchStart;p==null||p(h.map(function(m){var v=m.origin,y=m.parsedFile;return{file:v,parsedFile:y}})),h.filter(function(m){return m.parsedFile!==null}).forEach(function(m){i.post(m)})})},i.processFile=function(){var u=tf(ba().mark(function c(d,h){var p,m,v,y,A,b,g,w,E;return ba().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(p=i.props.beforeUpload,m=d,!p){_.next=14;break}return _.prev=3,_.next=6,p(d,h);case 6:m=_.sent,_.next=12;break;case 9:_.prev=9,_.t0=_.catch(3),m=!1;case 12:if(m!==!1){_.next=14;break}return _.abrupt("return",{origin:d,parsedFile:null,action:null,data:null});case 14:if(v=i.props.action,typeof v!="function"){_.next=21;break}return _.next=18,v(d);case 18:y=_.sent,_.next=22;break;case 21:y=v;case 22:if(A=i.props.data,typeof A!="function"){_.next=29;break}return _.next=26,A(d);case 26:b=_.sent,_.next=30;break;case 29:b=A;case 30:return g=(Tr(m)==="object"||typeof m=="string")&&m?m:d,g instanceof File?w=g:w=new File([g],d.name,{type:d.type}),E=w,E.uid=d.uid,_.abrupt("return",{origin:d,data:b,parsedFile:E,action:y});case 35:case"end":return _.stop()}},c,null,[[3,9]])}));return function(c,d){return u.apply(this,arguments)}}(),i.saveFileInput=function(u){i.fileInput=u},i}return ua(r,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(o){var s=this,l=o.data,u=o.origin,c=o.action,d=o.parsedFile;if(this._isMounted){var h=this.props,p=h.onStart,m=h.customRequest,v=h.name,y=h.headers,A=h.withCredentials,b=h.method,g=u.uid,w=m||Fxe,E={action:c,filename:v,data:l,file:d,headers:y,withCredentials:A,method:b||"post",onProgress:function(_){var P=s.props.onProgress;P==null||P(_,d)},onSuccess:function(_,P){var R=s.props.onSuccess;R==null||R(_,d,P),delete s.reqs[g]},onError:function(_,P){var R=s.props.onError;R==null||R(_,P,d),delete s.reqs[g]}};p(u),this.reqs[g]=w(E)}}},{key:"reset",value:function(){this.setState({uid:h_()})}},{key:"abort",value:function(o){var s=this.reqs;if(o){var l=o.uid?o.uid:o;s[l]&&s[l].abort&&s[l].abort(),delete s[l]}else Object.keys(s).forEach(function(u){s[u]&&s[u].abort&&s[u].abort(),delete s[u]})}},{key:"render",value:function(){var o,s=this.props,l=s.component,u=s.prefixCls,c=s.className,d=s.disabled,h=s.id,p=s.style,m=s.multiple,v=s.accept,y=s.capture,A=s.children,b=s.directory,g=s.openFileDialogOnClick,w=s.onMouseEnter,E=s.onMouseLeave,C=Br(s,jxe),_=bt((o={},ct(o,u,!0),ct(o,"".concat(u,"-disabled"),d),ct(o,c,c),o)),P=b?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},R=d?{}:{onClick:g?this.onClick:function(){},onKeyDown:g?this.onKeyDown:function(){},onMouseEnter:w,onMouseLeave:E,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:"0"};return Wt.createElement(l,rn({},R,{className:_,role:"button",style:p}),Wt.createElement("input",rn({},Ql(C,{aria:!0,data:!0}),{id:h,disabled:d,type:"file",ref:this.saveFileInput,onClick:function(T){return T.stopPropagation()},key:this.state.uid,style:{display:"none"},accept:v},P,{multiple:m,onChange:this.onChange},y!=null?{capture:y}:{})),A)}}]),r}(M.Component);function m_(){}var F3=function(n){ql(r,n);var e=Yl(r);function r(){var i;ca(this,r);for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return i=e.call.apply(e,[this].concat(s)),i.uploader=void 0,i.saveUploader=function(u){i.uploader=u},i}return ua(r,[{key:"abort",value:function(o){this.uploader.abort(o)}},{key:"render",value:function(){return Wt.createElement(Gxe,rn({},this.props,{ref:this.saveUploader}))}}]),r}(M.Component);F3.defaultProps={component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:m_,onError:m_,onSuccess:m_,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0};const Vxe=n=>{const{componentCls:e,iconCls:r}=n;return{[`${e}-wrapper`]:{[`${e}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:n.colorFillAlter,border:`${n.lineWidth}px dashed ${n.colorBorder}`,borderRadius:n.borderRadiusLG,cursor:"pointer",transition:`border-color ${n.motionDurationSlow}`,[e]:{padding:`${n.padding}px 0`},[`${e}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none"},[`${e}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`&:not(${e}-disabled):hover`]:{borderColor:n.colorPrimaryHover},[`p${e}-drag-icon`]:{marginBottom:n.margin,[r]:{color:n.colorPrimary,fontSize:n.uploadThumbnailSize}},[`p${e}-text`]:{margin:`0 0 ${n.marginXXS}px`,color:n.colorTextHeading,fontSize:n.fontSizeLG},[`p${e}-hint`]:{color:n.colorTextDescription,fontSize:n.fontSize},[`&${e}-disabled`]:{[`p${e}-drag-icon ${r},
            p${e}-text,
            p${e}-hint
          `]:{color:n.colorTextDisabled}}}}}},Wxe=Vxe,Qxe=n=>{const{componentCls:e,antCls:r,iconCls:i,fontSize:o,lineHeight:s}=n,l=`${e}-list-item`,u=`${l}-actions`,c=`${l}-action`,d=Math.round(o*s);return{[`${e}-wrapper`]:{[`${e}-list`]:Object.assign(Object.assign({},Ec()),{lineHeight:n.lineHeight,[l]:{position:"relative",height:n.lineHeight*o,marginTop:n.marginXS,fontSize:o,display:"flex",alignItems:"center",transition:`background-color ${n.motionDurationSlow}`,"&:hover":{backgroundColor:n.controlItemBgHover},[`${l}-name`]:Object.assign(Object.assign({},xc),{padding:`0 ${n.paddingXS}px`,lineHeight:s,flex:"auto",transition:`all ${n.motionDurationSlow}`}),[u]:{[c]:{opacity:0},[`${c}${r}-btn-sm`]:{height:d,border:0,lineHeight:1,"> span":{transform:"scale(1)"}},[`
              ${c}:focus-visible,
              &.picture ${c}
            `]:{opacity:1},[i]:{color:n.actionsColor,transition:`all ${n.motionDurationSlow}`},[`&:hover ${i}`]:{color:n.colorText}},[`${e}-icon ${i}`]:{color:n.colorTextDescription,fontSize:o},[`${l}-progress`]:{position:"absolute",bottom:-n.uploadProgressOffset,width:"100%",paddingInlineStart:o+n.paddingXS,fontSize:o,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${l}:hover ${c}`]:{opacity:1,color:n.colorText},[`${l}-error`]:{color:n.colorError,[`${l}-name, ${e}-icon ${i}`]:{color:n.colorError},[u]:{[`${i}, ${i}:hover`]:{color:n.colorError},[c]:{opacity:1}}},[`${e}-list-item-container`]:{transition:`opacity ${n.motionDurationSlow}, height ${n.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},Kxe=Qxe,gF=new ui("uploadAnimateInlineIn",{from:{width:0,height:0,margin:0,padding:0,opacity:0}}),vF=new ui("uploadAnimateInlineOut",{to:{width:0,height:0,margin:0,padding:0,opacity:0}}),Xxe=n=>{const{componentCls:e}=n,r=`${e}-animate-inline`;return[{[`${e}-wrapper`]:{[`${r}-appear, ${r}-enter, ${r}-leave`]:{animationDuration:n.motionDurationSlow,animationTimingFunction:n.motionEaseInOutCirc,animationFillMode:"forwards"},[`${r}-appear, ${r}-enter`]:{animationName:gF},[`${r}-leave`]:{animationName:vF}}},{[`${e}-wrapper`]:wue(n)},gF,vF]},qxe=Xxe,Yxe=n=>{const{componentCls:e,iconCls:r,uploadThumbnailSize:i,uploadProgressOffset:o}=n,s=`${e}-list`,l=`${s}-item`;return{[`${e}-wrapper`]:{[`
        ${s}${s}-picture,
        ${s}${s}-picture-card,
        ${s}${s}-picture-circle
      `]:{[l]:{position:"relative",height:i+n.lineWidth*2+n.paddingXS*2,padding:n.paddingXS,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadiusLG,"&:hover":{background:"transparent"},[`${l}-thumbnail`]:Object.assign(Object.assign({},xc),{width:i,height:i,lineHeight:`${i+n.paddingSM}px`,textAlign:"center",flex:"none",[r]:{fontSize:n.fontSizeHeading2,color:n.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${l}-progress`]:{bottom:o,width:`calc(100% - ${n.paddingSM*2}px)`,marginTop:0,paddingInlineStart:i+n.paddingXS}},[`${l}-error`]:{borderColor:n.colorError,[`${l}-thumbnail ${r}`]:{[`svg path[fill='${IT[0]}']`]:{fill:n.colorErrorBg},[`svg path[fill='${IT.primary}']`]:{fill:n.colorError}}},[`${l}-uploading`]:{borderStyle:"dashed",[`${l}-name`]:{marginBottom:o}}},[`${s}${s}-picture-circle ${l}`]:{[`&, &::before, ${l}-thumbnail`]:{borderRadius:"50%"}}}}},Jxe=n=>{const{componentCls:e,iconCls:r,fontSizeLG:i,colorTextLightSolid:o}=n,s=`${e}-list`,l=`${s}-item`,u=n.uploadPicCardSize;return{[`
      ${e}-wrapper${e}-picture-card-wrapper,
      ${e}-wrapper${e}-picture-circle-wrapper
    `]:Object.assign(Object.assign({},Ec()),{display:"inline-block",width:"100%",[`${e}${e}-select`]:{width:u,height:u,marginInlineEnd:n.marginXS,marginBottom:n.marginXS,textAlign:"center",verticalAlign:"top",backgroundColor:n.colorFillAlter,border:`${n.lineWidth}px dashed ${n.colorBorder}`,borderRadius:n.borderRadiusLG,cursor:"pointer",transition:`border-color ${n.motionDurationSlow}`,[`> ${e}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${e}-disabled):hover`]:{borderColor:n.colorPrimary}},[`${s}${s}-picture-card, ${s}${s}-picture-circle`]:{[`${s}-item-container`]:{display:"inline-block",width:u,height:u,marginBlock:`0 ${n.marginXS}px`,marginInline:`0 ${n.marginXS}px`,verticalAlign:"top"},"&::after":{display:"none"},[l]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${n.paddingXS*2}px)`,height:`calc(100% - ${n.paddingXS*2}px)`,backgroundColor:n.colorBgMask,opacity:0,transition:`all ${n.motionDurationSlow}`,content:'" "'}},[`${l}:hover`]:{[`&::before, ${l}-actions`]:{opacity:1}},[`${l}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${n.motionDurationSlow}`,[`${r}-eye, ${r}-download, ${r}-delete`]:{zIndex:10,width:i,margin:`0 ${n.marginXXS}px`,fontSize:i,cursor:"pointer",transition:`all ${n.motionDurationSlow}`,svg:{verticalAlign:"baseline"}}},[`${l}-actions, ${l}-actions:hover`]:{[`${r}-eye, ${r}-download, ${r}-delete`]:{color:new Di(o).setAlpha(.65).toRgbString(),"&:hover":{color:o}}},[`${l}-thumbnail, ${l}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${l}-name`]:{display:"none",textAlign:"center"},[`${l}-file + ${l}-name`]:{position:"absolute",bottom:n.margin,display:"block",width:`calc(100% - ${n.paddingXS*2}px)`},[`${l}-uploading`]:{[`&${l}`]:{backgroundColor:n.colorFillAlter},[`&::before, ${r}-eye, ${r}-download, ${r}-delete`]:{display:"none"}},[`${l}-progress`]:{bottom:n.marginXL,width:`calc(100% - ${n.paddingXS*2}px)`,paddingInlineStart:0}}}),[`${e}-wrapper${e}-picture-circle-wrapper`]:{[`${e}${e}-select`]:{borderRadius:"50%"}}}},Zxe=n=>{const{componentCls:e}=n;return{[`${e}-rtl`]:{direction:"rtl"}}},eEe=Zxe,tEe=n=>{const{componentCls:e,colorTextDisabled:r}=n;return{[`${e}-wrapper`]:Object.assign(Object.assign({},$i(n)),{[e]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${e}-select`]:{display:"inline-block"},[`${e}-disabled`]:{color:r,cursor:"not-allowed"}})}},nEe=ki("Upload",n=>{const{fontSizeHeading3:e,fontSize:r,lineHeight:i,lineWidth:o,controlHeightLG:s}=n,l=Math.round(r*i),u=ei(n,{uploadThumbnailSize:e*2,uploadProgressOffset:l/2+o,uploadPicCardSize:s*2.55});return[tEe(u),Wxe(u),Yxe(u),Jxe(u),Kxe(u),qxe(u),eEe(u),hP(u)]},n=>({actionsColor:n.colorTextDescription}));function Yb(n){return Object.assign(Object.assign({},n),{lastModified:n.lastModified,lastModifiedDate:n.lastModifiedDate,name:n.name,size:n.size,type:n.type,uid:n.uid,percent:0,originFileObj:n})}function Jb(n,e){const r=mn(e),i=r.findIndex(o=>{let{uid:s}=o;return s===n.uid});return i===-1?r.push(n):r[i]=n,r}function g_(n,e){const r=n.uid!==void 0?"uid":"name";return e.filter(i=>i[r]===n[r])[0]}function rEe(n,e){const r=n.uid!==void 0?"uid":"name",i=e.filter(o=>o[r]!==n[r]);return i.length===e.length?null:i}const iEe=function(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split("/"),i=e[e.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(i)||[""])[0]},Tj=n=>n.indexOf("image/")===0,oEe=n=>{if(n.type&&!n.thumbUrl)return Tj(n.type);const e=n.thumbUrl||n.url||"",r=iEe(e);return/^data:image\//.test(e)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(r)?!0:!(/^data:/.test(e)||r)},sd=200;function aEe(n){return new Promise(e=>{if(!n.type||!Tj(n.type)){e("");return}const r=document.createElement("canvas");r.width=sd,r.height=sd,r.style.cssText=`position: fixed; left: 0; top: 0; width: ${sd}px; height: ${sd}px; z-index: 9999; display: none;`,document.body.appendChild(r);const i=r.getContext("2d"),o=new Image;if(o.onload=()=>{const{width:s,height:l}=o;let u=sd,c=sd,d=0,h=0;s>l?(c=l*(sd/s),h=-(c-u)/2):(u=s*(sd/l),d=-(u-c)/2),i.drawImage(o,d,h,u,c);const p=r.toDataURL();document.body.removeChild(r),window.URL.revokeObjectURL(o.src),e(p)},o.crossOrigin="anonymous",n.type.startsWith("image/svg+xml")){const s=new FileReader;s.onload=()=>{s.result&&(o.src=s.result)},s.readAsDataURL(n)}else if(n.type.startsWith("image/gif")){const s=new FileReader;s.onload=()=>{s.result&&e(s.result)},s.readAsDataURL(n)}else o.src=window.URL.createObjectURL(n)})}const sEe=M.forwardRef((n,e)=>{let{prefixCls:r,className:i,style:o,locale:s,listType:l,file:u,items:c,progress:d,iconRender:h,actionIconRender:p,itemRender:m,isImgUrl:v,showPreviewIcon:y,showRemoveIcon:A,showDownloadIcon:b,previewIcon:g,removeIcon:w,downloadIcon:E,onPreview:C,onDownload:_,onClose:P}=n;var R,L;const{status:T}=u,[D,H]=M.useState(T);M.useEffect(()=>{T!=="removed"&&H(T)},[T]);const[V,B]=M.useState(!1);M.useEffect(()=>{const Ke=setTimeout(()=>{B(!0)},300);return()=>{clearTimeout(Ke)}},[]);const O=h(u);let F=M.createElement("div",{className:`${r}-icon`},O);if(l==="picture"||l==="picture-card"||l==="picture-circle")if(D==="uploading"||!u.thumbUrl&&!u.url){const Ke=bt(`${r}-list-item-thumbnail`,{[`${r}-list-item-file`]:D!=="uploading"});F=M.createElement("div",{className:Ke},O)}else{const Ke=v!=null&&v(u)?M.createElement("img",{src:u.thumbUrl||u.url,alt:u.name,className:`${r}-list-item-image`,crossOrigin:u.crossOrigin}):O,ke=bt(`${r}-list-item-thumbnail`,{[`${r}-list-item-file`]:v&&!v(u)});F=M.createElement("a",{className:ke,onClick:st=>C(u,st),href:u.url||u.thumbUrl,target:"_blank",rel:"noopener noreferrer"},Ke)}const N=bt(`${r}-list-item`,`${r}-list-item-${D}`),z=typeof u.linkProps=="string"?JSON.parse(u.linkProps):u.linkProps,j=A?p((typeof w=="function"?w(u):w)||M.createElement(Une,null),()=>P(u),r,s.removeFile):null,G=b&&D==="done"?p((typeof E=="function"?E(u):E)||M.createElement(nre,null),()=>_(u),r,s.downloadFile):null,Q=l!=="picture-card"&&l!=="picture-circle"&&M.createElement("span",{key:"download-delete",className:bt(`${r}-list-item-actions`,{picture:l==="picture"})},G,j),X=bt(`${r}-list-item-name`),J=u.url?[M.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:X,title:u.name},z,{href:u.url,onClick:Ke=>C(u,Ke)}),u.name),Q]:[M.createElement("span",{key:"view",className:X,onClick:Ke=>C(u,Ke),title:u.name},u.name),Q],Z={pointerEvents:"none",opacity:.5},oe=y?M.createElement("a",{href:u.url||u.thumbUrl,target:"_blank",rel:"noopener noreferrer",style:u.url||u.thumbUrl?void 0:Z,onClick:Ke=>C(u,Ke),title:s.previewFile},typeof g=="function"?g(u):g||M.createElement(Sz,null)):null,ce=(l==="picture-card"||l==="picture-circle")&&D!=="uploading"&&M.createElement("span",{className:`${r}-list-item-actions`},oe,D==="done"&&G,j),{getPrefixCls:Be}=M.useContext(Er),ge=Be(),Re=M.createElement("div",{className:N},F,J,ce,V&&M.createElement(Sc,{motionName:`${ge}-fade`,visible:D==="uploading",motionDeadline:2e3},Ke=>{let{className:ke}=Ke;const st="percent"in u?M.createElement(lAe,Object.assign({},d,{type:"line",percent:u.percent,"aria-label":u["aria-label"],"aria-labelledby":u["aria-labelledby"]})):null;return M.createElement("div",{className:bt(`${r}-list-item-progress`,ke)},st)})),$e=u.response&&typeof u.response=="string"?u.response:((R=u.error)===null||R===void 0?void 0:R.statusText)||((L=u.error)===null||L===void 0?void 0:L.message)||s.uploadError,qe=D==="error"?M.createElement(xh,{title:$e,getPopupContainer:Ke=>Ke.parentNode},Re):Re;return M.createElement("div",{className:bt(`${r}-list-item-container`,i),style:o,ref:e},m?m(qe,u,c,{download:_.bind(null,u),preview:C.bind(null,u),remove:P.bind(null,u)}):qe)}),lEe=sEe,cEe=(n,e)=>{const{listType:r="text",previewFile:i=aEe,onPreview:o,onDownload:s,onRemove:l,locale:u,iconRender:c,isImageUrl:d=oEe,prefixCls:h,items:p=[],showPreviewIcon:m=!0,showRemoveIcon:v=!0,showDownloadIcon:y=!1,removeIcon:A,previewIcon:b,downloadIcon:g,progress:w={size:[-1,2],showInfo:!1},appendAction:E,appendActionVisible:C=!0,itemRender:_,disabled:P}=n,R=MC(),[L,T]=M.useState(!1);M.useEffect(()=>{r!=="picture"&&r!=="picture-card"&&r!=="picture-circle"||(p||[]).forEach(Z=>{typeof document>"u"||typeof window>"u"||!window.FileReader||!window.File||!(Z.originFileObj instanceof File||Z.originFileObj instanceof Blob)||Z.thumbUrl!==void 0||(Z.thumbUrl="",i&&i(Z.originFileObj).then(oe=>{Z.thumbUrl=oe||"",R()}))})},[r,p,i]),M.useEffect(()=>{T(!0)},[]);const D=(Z,oe)=>{if(o)return oe==null||oe.preventDefault(),o(Z)},H=Z=>{typeof s=="function"?s(Z):Z.url&&window.open(Z.url)},V=Z=>{l==null||l(Z)},B=Z=>{if(c)return c(Z,r);const oe=Z.status==="uploading",ce=d&&d(Z)?M.createElement(Cie,null):M.createElement(Dre,null);let Be=oe?M.createElement(Km,null):M.createElement(yie,null);return r==="picture"?Be=oe?M.createElement(Km,null):ce:(r==="picture-card"||r==="picture-circle")&&(Be=oe?u.uploading:ce),Be},O=(Z,oe,ce,Be)=>{const ge={type:"text",size:"small",title:Be,onClick:Re=>{oe(),us(Z)&&Z.props.onClick&&Z.props.onClick(Re)},className:`${ce}-list-item-action`,disabled:P};if(us(Z)){const Re=ya(Z,Object.assign(Object.assign({},Z.props),{onClick:()=>{}}));return M.createElement(Cc,Object.assign({},ge,{icon:Re}))}return M.createElement(Cc,Object.assign({},ge),M.createElement("span",null,Z))};M.useImperativeHandle(e,()=>({handlePreview:D,handleDownload:H}));const{getPrefixCls:F}=M.useContext(Er),N=F("upload",h),z=F(),j=bt(`${N}-list`,`${N}-list-${r}`),G=mn(p.map(Z=>({key:Z.uid,file:Z})));let X={motionDeadline:2e3,motionName:`${N}-${r==="picture-card"||r==="picture-circle"?"animate-inline":"animate"}`,keys:G,motionAppear:L};const J=M.useMemo(()=>{const Z=Object.assign({},nP(z));return delete Z.onAppearEnd,delete Z.onEnterEnd,delete Z.onLeaveEnd,Z},[z]);return r!=="picture-card"&&r!=="picture-circle"&&(X=Object.assign(Object.assign({},J),X)),M.createElement("div",{className:j},M.createElement(C9,Object.assign({},X,{component:!1}),Z=>{let{key:oe,file:ce,className:Be,style:ge}=Z;return M.createElement(lEe,{key:oe,locale:u,prefixCls:N,className:Be,style:ge,file:ce,items:p,progress:w,listType:r,isImgUrl:d,showPreviewIcon:m,showRemoveIcon:v,showDownloadIcon:y,removeIcon:A,previewIcon:b,downloadIcon:g,iconRender:B,actionIconRender:O,itemRender:_,onPreview:D,onDownload:H,onClose:V})}),E&&M.createElement(Sc,Object.assign({},X,{visible:C,forceRender:!0}),Z=>{let{className:oe,style:ce}=Z;return ya(E,Be=>({className:bt(Be.className,oe),style:Object.assign(Object.assign(Object.assign({},ce),{pointerEvents:oe?"none":void 0}),Be.style)}))}))},uEe=M.forwardRef(cEe),dEe=uEe;var fEe=globalThis&&globalThis.__awaiter||function(n,e,r,i){function o(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(h){try{d(i.next(h))}catch(p){l(p)}}function c(h){try{d(i.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):o(h.value).then(u,c)}d((i=i.apply(n,e||[])).next())})};const p0=`__LIST_IGNORE_${Date.now()}__`,hEe=(n,e)=>{const{fileList:r,defaultFileList:i,onRemove:o,showUploadList:s=!0,listType:l="text",onPreview:u,onDownload:c,onChange:d,onDrop:h,previewFile:p,disabled:m,locale:v,iconRender:y,isImageUrl:A,progress:b,prefixCls:g,className:w,type:E="select",children:C,style:_,itemRender:P,maxCount:R,data:L={},multiple:T=!1,action:D="",accept:H="",supportServerRender:V=!0,rootClassName:B}=n,O=M.useContext(ef),F=m??O,[N,z]=Co(i||[],{value:r,postState:Se=>Se??[]}),[j,G]=M.useState("drop"),Q=M.useRef(null);M.useMemo(()=>{const Se=Date.now();(r||[]).forEach((we,je)=>{!we.uid&&!Object.isFrozen(we)&&(we.uid=`__AUTO__${Se}_${je}__`)})},[r]);const X=(Se,we,je)=>{let Ae=mn(we),Ue=!1;R===1?Ae=Ae.slice(-1):R&&(Ue=Ae.length>R,Ae=Ae.slice(0,R)),Ns.flushSync(()=>{z(Ae)});const et={file:Se,fileList:Ae};je&&(et.event=je),(!Ue||Ae.some(ue=>ue.uid===Se.uid))&&Ns.flushSync(()=>{d==null||d(et)})},J=(Se,we)=>fEe(void 0,void 0,void 0,function*(){const{beforeUpload:je,transformFile:Ae}=n;let Ue=Se;if(je){const et=yield je(Se,we);if(et===!1)return!1;if(delete Se[p0],et===p0)return Object.defineProperty(Se,p0,{value:!0,configurable:!0}),!1;typeof et=="object"&&et&&(Ue=et)}return Ae&&(Ue=yield Ae(Ue)),Ue}),Z=Se=>{const we=Se.filter(Ue=>!Ue.file[p0]);if(!we.length)return;const je=we.map(Ue=>Yb(Ue.file));let Ae=mn(N);je.forEach(Ue=>{Ae=Jb(Ue,Ae)}),je.forEach((Ue,et)=>{let ue=Ue;if(we[et].parsedFile)Ue.status="uploading";else{const{originFileObj:Y}=Ue;let ne;try{ne=new File([Y],Y.name,{type:Y.type})}catch{ne=new Blob([Y],{type:Y.type}),ne.name=Y.name,ne.lastModifiedDate=new Date,ne.lastModified=new Date().getTime()}ne.uid=Ue.uid,ue=ne}X(ue,Ae)})},oe=(Se,we,je)=>{try{typeof Se=="string"&&(Se=JSON.parse(Se))}catch{}if(!g_(we,N))return;const Ae=Yb(we);Ae.status="done",Ae.percent=100,Ae.response=Se,Ae.xhr=je;const Ue=Jb(Ae,N);X(Ae,Ue)},ce=(Se,we)=>{if(!g_(we,N))return;const je=Yb(we);je.status="uploading",je.percent=Se.percent;const Ae=Jb(je,N);X(je,Ae,Se)},Be=(Se,we,je)=>{if(!g_(je,N))return;const Ae=Yb(je);Ae.error=Se,Ae.response=we,Ae.status="error";const Ue=Jb(Ae,N);X(Ae,Ue)},ge=Se=>{let we;Promise.resolve(typeof o=="function"?o(Se):o).then(je=>{var Ae;if(je===!1)return;const Ue=rEe(Se,N);Ue&&(we=Object.assign(Object.assign({},Se),{status:"removed"}),N==null||N.forEach(et=>{const ue=we.uid!==void 0?"uid":"name";et[ue]===we[ue]&&!Object.isFrozen(et)&&(et.status="removed")}),(Ae=Q.current)===null||Ae===void 0||Ae.abort(we),X(we,Ue))})},Re=Se=>{G(Se.type),Se.type==="drop"&&(h==null||h(Se))};M.useImperativeHandle(e,()=>({onBatchStart:Z,onSuccess:oe,onProgress:ce,onError:Be,fileList:N,upload:Q.current}));const{getPrefixCls:$e,direction:qe,upload:Ke}=M.useContext(Er),ke=$e("upload",g),st=Object.assign(Object.assign({onBatchStart:Z,onError:Be,onProgress:ce,onSuccess:oe},n),{data:L,multiple:T,action:D,accept:H,supportServerRender:V,prefixCls:ke,disabled:F,beforeUpload:J,onChange:void 0});delete st.className,delete st.style,(!C||F)&&delete st.id;const[ot,it]=nEe(ke),[ft]=$A("Upload",Lu.Upload),{showRemoveIcon:Et,showPreviewIcon:gt,showDownloadIcon:Ct,removeIcon:Tt,previewIcon:Dt,downloadIcon:Yt}=typeof s=="boolean"?{}:s,Ve=(Se,we)=>s?M.createElement(dEe,{prefixCls:ke,listType:l,items:N,previewFile:p,onPreview:u,onDownload:c,onRemove:ge,showRemoveIcon:!F&&Et,showPreviewIcon:gt,showDownloadIcon:Ct,removeIcon:Tt,previewIcon:Dt,downloadIcon:Yt,iconRender:y,locale:Object.assign(Object.assign({},ft),v),isImageUrl:A,progress:b,appendAction:Se,appendActionVisible:we,itemRender:P,disabled:F}):Se,ye=bt(`${ke}-wrapper`,w,B,it,Ke==null?void 0:Ke.className,{[`${ke}-rtl`]:qe==="rtl",[`${ke}-picture-card-wrapper`]:l==="picture-card",[`${ke}-picture-circle-wrapper`]:l==="picture-circle"}),fe=Object.assign(Object.assign({},Ke==null?void 0:Ke.style),_);if(E==="drag"){const Se=bt(it,ke,`${ke}-drag`,{[`${ke}-drag-uploading`]:N.some(we=>we.status==="uploading"),[`${ke}-drag-hover`]:j==="dragover",[`${ke}-disabled`]:F,[`${ke}-rtl`]:qe==="rtl"});return ot(M.createElement("span",{className:ye},M.createElement("div",{className:Se,style:fe,onDrop:Re,onDragOver:Re,onDragLeave:Re},M.createElement(F3,Object.assign({},st,{ref:Q,className:`${ke}-btn`}),M.createElement("div",{className:`${ke}-drag-container`},C))),Ve()))}const pe=bt(ke,`${ke}-select`,{[`${ke}-disabled`]:F}),Ce=(Se=>M.createElement("div",{className:pe,style:Se},M.createElement(F3,Object.assign({},st,{ref:Q}))))(C?void 0:{display:"none"});return ot(l==="picture-card"||l==="picture-circle"?M.createElement("span",{className:ye},Ve(Ce,!!C)):M.createElement("span",{className:ye},Ce,Ve()))},pEe=M.forwardRef(hEe),Rj=pEe;var mEe=globalThis&&globalThis.__rest||function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r};const gEe=M.forwardRef((n,e)=>{var{style:r,height:i}=n,o=mEe(n,["style","height"]);return M.createElement(Rj,Object.assign({ref:e},o,{type:"drag",style:Object.assign(Object.assign({},r),{height:i})}))}),vEe=gEe,eL=Rj;eL.Dragger=vEe;eL.LIST_IGNORE=p0;const AEe=eL;/**
 * @remix-run/router v1.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eo(){return Eo=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},Eo.apply(this,arguments)}var Ro;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ro||(Ro={}));const AF="popstate";function yEe(n){n===void 0&&(n={});function e(o,s){let{pathname:l="/",search:u="",hash:c=""}=_c(o.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),wA("",{pathname:l,search:u,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(o,s){let l=o.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let c=o.location.href,d=c.indexOf("#");u=d===-1?c:c.slice(0,d)}return u+"#"+(typeof s=="string"?s:ry(s))}function i(o,s){Kd(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return xEe(e,r,i,n)}function wi(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Kd(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bEe(){return Math.random().toString(36).substr(2,8)}function yF(n,e){return{usr:n.state,key:n.key,idx:e}}function wA(n,e,r,i){return r===void 0&&(r=null),Eo({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?_c(e):e,{state:r,key:e&&e.key||i||bEe()})}function ry(n){let{pathname:e="/",search:r="",hash:i=""}=n;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function _c(n){let e={};if(n){let r=n.indexOf("#");r>=0&&(e.hash=n.substr(r),n=n.substr(0,r));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function xEe(n,e,r,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:s=!1}=i,l=o.history,u=Ro.Pop,c=null,d=h();d==null&&(d=0,l.replaceState(Eo({},l.state,{idx:d}),""));function h(){return(l.state||{idx:null}).idx}function p(){u=Ro.Pop;let b=h(),g=b==null?null:b-d;d=b,c&&c({action:u,location:A.location,delta:g})}function m(b,g){u=Ro.Push;let w=wA(A.location,b,g);r&&r(w,b),d=h()+1;let E=yF(w,d),C=A.createHref(w);try{l.pushState(E,"",C)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;o.location.assign(C)}s&&c&&c({action:u,location:A.location,delta:1})}function v(b,g){u=Ro.Replace;let w=wA(A.location,b,g);r&&r(w,b),d=h();let E=yF(w,d),C=A.createHref(w);l.replaceState(E,"",C),s&&c&&c({action:u,location:A.location,delta:0})}function y(b){let g=o.location.origin!=="null"?o.location.origin:o.location.href,w=typeof b=="string"?b:ry(b);return wi(g,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,g)}let A={get action(){return u},get location(){return n(o,l)},listen(b){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(AF,p),c=b,()=>{o.removeEventListener(AF,p),c=null}},createHref(b){return e(o,b)},createURL:y,encodeLocation(b){let g=y(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:v,go(b){return l.go(b)}};return A}var Io;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Io||(Io={}));const EEe=new Set(["lazy","caseSensitive","path","id","index","children"]);function CEe(n){return n.index===!0}function U3(n,e,r,i){return r===void 0&&(r=[]),i===void 0&&(i={}),n.map((o,s)=>{let l=[...r,s],u=typeof o.id=="string"?o.id:l.join("-");if(wi(o.index!==!0||!o.children,"Cannot specify children on an index route"),wi(!i[u],'Found a route id collision on id "'+u+`".  Route id's must be globally unique within Data Router usages`),CEe(o)){let c=Eo({},o,e(o),{id:u});return i[u]=c,c}else{let c=Eo({},o,e(o),{id:u,children:void 0});return i[u]=c,o.children&&(c.children=U3(o.children,e,l,i)),c}})}function vm(n,e,r){r===void 0&&(r="/");let i=typeof e=="string"?_c(e):e,o=iy(i.pathname||"/",r);if(o==null)return null;let s=Ij(n);SEe(s);let l=null;for(let u=0;l==null&&u<s.length;++u)l=OEe(s[u],kEe(o));return l}function wEe(n,e){let{route:r,pathname:i,params:o}=n;return{id:r.id,pathname:i,params:o,data:e[r.id],handle:r.handle}}function Ij(n,e,r,i){e===void 0&&(e=[]),r===void 0&&(r=[]),i===void 0&&(i="");let o=(s,l,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};c.relativePath.startsWith("/")&&(wi(c.relativePath.startsWith(i),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(i.length));let d=dh([i,c.relativePath]),h=r.concat(c);s.children&&s.children.length>0&&(wi(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Ij(s.children,e,h,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:LEe(d,s.index),routesMeta:h})};return n.forEach((s,l)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))o(s,l);else for(let c of Pj(s.path))o(s,l,c)}),e}function Pj(n){let e=n.split("/");if(e.length===0)return[];let[r,...i]=e,o=r.endsWith("?"),s=r.replace(/\?$/,"");if(i.length===0)return o?[s,""]:[s];let l=Pj(i.join("/")),u=[];return u.push(...l.map(c=>c===""?s:[s,c].join("/"))),o&&u.push(...l),u.map(c=>n.startsWith("/")&&c===""?"/":c)}function SEe(n){n.sort((e,r)=>e.score!==r.score?r.score-e.score:BEe(e.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}const _Ee=/^:\w+$/,MEe=3,TEe=2,REe=1,IEe=10,PEe=-2,bF=n=>n==="*";function LEe(n,e){let r=n.split("/"),i=r.length;return r.some(bF)&&(i+=PEe),e&&(i+=TEe),r.filter(o=>!bF(o)).reduce((o,s)=>o+(_Ee.test(s)?MEe:s===""?REe:IEe),i)}function BEe(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function OEe(n,e){let{routesMeta:r}=n,i={},o="/",s=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",h=DEe({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d);if(!h)return null;Object.assign(i,h.params);let p=u.route;s.push({params:i,pathname:dh([o,h.pathname]),pathnameBase:HEe(dh([o,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(o=dh([o,h.pathnameBase]))}return s}function DEe(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[r,i]=NEe(n.path,n.caseSensitive,n.end),o=e.match(r);if(!o)return null;let s=o[0],l=s.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:i.reduce((d,h,p)=>{let{paramName:m,isOptional:v}=h;if(m==="*"){let A=u[p]||"";l=s.slice(0,s.length-A.length).replace(/(.)\/+$/,"$1")}const y=u[p];return v&&!y?d[m]=void 0:d[m]=FEe(y||"",m),d},{}),pathname:s,pathnameBase:l,pattern:n}}function NEe(n,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Kd(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(l,u,c)=>(i.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function kEe(n){try{return decodeURI(n)}catch(e){return Kd(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function FEe(n,e){try{return decodeURIComponent(n)}catch(r){return Kd(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+n+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),n}}function iy(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,i=n.charAt(r);return i&&i!=="/"?null:n.slice(r)||"/"}function UEe(n,e){e===void 0&&(e="/");let{pathname:r,search:i="",hash:o=""}=typeof n=="string"?_c(n):n;return{pathname:r?r.startsWith("/")?r:zEe(r,e):e,search:jEe(i),hash:GEe(o)}}function zEe(n,e){let r=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function v_(n,e,r,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Lj(n){return n.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function $Ee(n,e,r,i){i===void 0&&(i=!1);let o;typeof n=="string"?o=_c(n):(o=Eo({},n),wi(!o.pathname||!o.pathname.includes("?"),v_("?","pathname","search",o)),wi(!o.pathname||!o.pathname.includes("#"),v_("#","pathname","hash",o)),wi(!o.search||!o.search.includes("#"),v_("#","search","hash",o)));let s=n===""||o.pathname==="",l=s?"/":o.pathname,u;if(i||l==null)u=r;else{let p=e.length-1;if(l.startsWith("..")){let m=l.split("/");for(;m[0]==="..";)m.shift(),p-=1;o.pathname=m.join("/")}u=p>=0?e[p]:"/"}let c=UEe(o,u),d=l&&l!=="/"&&l.endsWith("/"),h=(s||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const dh=n=>n.join("/").replace(/\/\/+/g,"/"),HEe=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),jEe=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,GEe=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class tL{constructor(e,r,i,o){o===void 0&&(o=!1),this.status=e,this.statusText=r||"",this.internal=o,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function Bj(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Oj=["post","put","patch","delete"],VEe=new Set(Oj),WEe=["get",...Oj],QEe=new Set(WEe),KEe=new Set([301,302,303,307,308]),XEe=new Set([307,308]),A_={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},qEe={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Bv={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Dj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YEe=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),Nj="remix-router-transitions";function JEe(n){const e=n.window?n.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!r;wi(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let o;if(n.mapRouteProperties)o=n.mapRouteProperties;else if(n.detectErrorBoundary){let ve=n.detectErrorBoundary;o=he=>({hasErrorBoundary:ve(he)})}else o=YEe;let s={},l=U3(n.routes,o,void 0,s),u,c=n.basename||"/",d=Eo({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},n.future),h=null,p=new Set,m=null,v=null,y=null,A=n.hydrationData!=null,b=vm(l,n.history.location,c),g=null;if(b==null){let ve=Zs(404,{pathname:n.history.location.pathname}),{matches:he,route:Ye}=TF(l);b=he,g={[Ye.id]:ve}}let w=!b.some(ve=>ve.route.lazy)&&(!b.some(ve=>ve.route.loader)||n.hydrationData!=null),E,C={historyAction:n.history.action,location:n.history.location,matches:b,initialized:w,navigation:A_,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||g,fetchers:new Map,blockers:new Map},_=Ro.Pop,P=!1,R,L=!1,T=new Map,D=null,H=!1,V=!1,B=[],O=[],F=new Map,N=0,z=-1,j=new Map,G=new Set,Q=new Map,X=new Map,J=new Set,Z=new Map,oe=new Map,ce=!1;function Be(){if(h=n.history.listen(ve=>{let{action:he,location:Ye,delta:Ze}=ve;if(ce){ce=!1;return}Kd(oe.size===0||Ze!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Qe=Ue({currentLocation:C.location,nextLocation:Ye,historyAction:he});if(Qe&&Ze!=null){ce=!0,n.history.go(Ze*-1),Ae(Qe,{state:"blocked",location:Ye,proceed(){Ae(Qe,{state:"proceeding",proceed:void 0,reset:void 0,location:Ye}),n.history.go(Ze)},reset(){let nt=new Map(C.blockers);nt.set(Qe,Bv),$e({blockers:nt})}});return}return st(he,Ye)}),r){cCe(e,T);let ve=()=>uCe(e,T);e.addEventListener("pagehide",ve),D=()=>e.removeEventListener("pagehide",ve)}return C.initialized||st(Ro.Pop,C.location),E}function ge(){h&&h(),D&&D(),p.clear(),R&&R.abort(),C.fetchers.forEach((ve,he)=>ye(he)),C.blockers.forEach((ve,he)=>je(he))}function Re(ve){return p.add(ve),()=>p.delete(ve)}function $e(ve,he){C=Eo({},C,ve);let Ye=[],Ze=[];d.v7_fetcherPersist&&C.fetchers.forEach((Qe,nt)=>{Qe.state==="idle"&&(J.has(nt)?Ze.push(nt):Ye.push(nt))}),p.forEach(Qe=>Qe(C,{deletedFetchers:Ze,unstable_viewTransitionOpts:he})),d.v7_fetcherPersist&&(Ye.forEach(Qe=>C.fetchers.delete(Qe)),Ze.forEach(Qe=>ye(Qe)))}function qe(ve,he){var Ye,Ze;let Qe=C.actionData!=null&&C.navigation.formMethod!=null&&Ol(C.navigation.formMethod)&&C.navigation.state==="loading"&&((Ye=ve.state)==null?void 0:Ye._isRedirect)!==!0,nt;he.actionData?Object.keys(he.actionData).length>0?nt=he.actionData:nt=null:Qe?nt=C.actionData:nt=null;let It=he.loaderData?MF(C.loaderData,he.loaderData,he.matches||[],he.errors):C.loaderData,kt=C.blockers;kt.size>0&&(kt=new Map(kt),kt.forEach((Vt,Lt)=>kt.set(Lt,Bv)));let Bt=P===!0||C.navigation.formMethod!=null&&Ol(C.navigation.formMethod)&&((Ze=ve.state)==null?void 0:Ze._isRedirect)!==!0;u&&(l=u,u=void 0),H||_===Ro.Pop||(_===Ro.Push?n.history.push(ve,ve.state):_===Ro.Replace&&n.history.replace(ve,ve.state));let jt;if(_===Ro.Pop){let Vt=T.get(C.location.pathname);Vt&&Vt.has(ve.pathname)?jt={currentLocation:C.location,nextLocation:ve}:T.has(ve.pathname)&&(jt={currentLocation:ve,nextLocation:C.location})}else if(L){let Vt=T.get(C.location.pathname);Vt?Vt.add(ve.pathname):(Vt=new Set([ve.pathname]),T.set(C.location.pathname,Vt)),jt={currentLocation:C.location,nextLocation:ve}}$e(Eo({},he,{actionData:nt,loaderData:It,historyAction:_,location:ve,initialized:!0,navigation:A_,revalidation:"idle",restoreScrollPosition:Pe(ve,he.matches||C.matches),preventScrollReset:Bt,blockers:kt}),jt),_=Ro.Pop,P=!1,L=!1,H=!1,V=!1,B=[],O=[]}async function Ke(ve,he){if(typeof ve=="number"){n.history.go(ve);return}let Ye=z3(C.location,C.matches,c,d.v7_prependBasename,ve,he==null?void 0:he.fromRouteId,he==null?void 0:he.relative),{path:Ze,submission:Qe,error:nt}=xF(d.v7_normalizeFormMethod,!1,Ye,he),It=C.location,kt=wA(C.location,Ze,he&&he.state);kt=Eo({},kt,n.history.encodeLocation(kt));let Bt=he&&he.replace!=null?he.replace:void 0,jt=Ro.Push;Bt===!0?jt=Ro.Replace:Bt===!1||Qe!=null&&Ol(Qe.formMethod)&&Qe.formAction===C.location.pathname+C.location.search&&(jt=Ro.Replace);let Vt=he&&"preventScrollReset"in he?he.preventScrollReset===!0:void 0,Lt=Ue({currentLocation:It,nextLocation:kt,historyAction:jt});if(Lt){Ae(Lt,{state:"blocked",location:kt,proceed(){Ae(Lt,{state:"proceeding",proceed:void 0,reset:void 0,location:kt}),Ke(ve,he)},reset(){let mt=new Map(C.blockers);mt.set(Lt,Bv),$e({blockers:mt})}});return}return await st(jt,kt,{submission:Qe,pendingError:nt,preventScrollReset:Vt,replace:he&&he.replace,enableViewTransition:he&&he.unstable_viewTransition})}function ke(){if(Yt(),$e({revalidation:"loading"}),C.navigation.state!=="submitting"){if(C.navigation.state==="idle"){st(C.historyAction,C.location,{startUninterruptedRevalidation:!0});return}st(_||C.historyAction,C.navigation.location,{overrideNavigation:C.navigation})}}async function st(ve,he,Ye){R&&R.abort(),R=null,_=ve,H=(Ye&&Ye.startUninterruptedRevalidation)===!0,ne(C.location,C.matches),P=(Ye&&Ye.preventScrollReset)===!0,L=(Ye&&Ye.enableViewTransition)===!0;let Ze=u||l,Qe=Ye&&Ye.overrideNavigation,nt=vm(Ze,he,c);if(!nt){let mt=Zs(404,{pathname:he.pathname}),{matches:Nt,route:cn}=TF(Ze);et(),qe(he,{matches:Nt,loaderData:{},errors:{[cn.id]:mt}});return}if(C.initialized&&!V&&rCe(C.location,he)&&!(Ye&&Ye.submission&&Ol(Ye.submission.formMethod))){qe(he,{matches:nt});return}R=new AbortController;let It=Dv(n.history,he,R.signal,Ye&&Ye.submission),kt,Bt;if(Ye&&Ye.pendingError)Bt={[U0(nt).route.id]:Ye.pendingError};else if(Ye&&Ye.submission&&Ol(Ye.submission.formMethod)){let mt=await ot(It,he,Ye.submission,nt,{replace:Ye.replace});if(mt.shortCircuited)return;kt=mt.pendingActionData,Bt=mt.pendingActionError,Qe=y_(he,Ye.submission),It=new Request(It.url,{signal:It.signal})}let{shortCircuited:jt,loaderData:Vt,errors:Lt}=await it(It,he,nt,Qe,Ye&&Ye.submission,Ye&&Ye.fetcherSubmission,Ye&&Ye.replace,kt,Bt);jt||(R=null,qe(he,Eo({matches:nt},kt?{actionData:kt}:{},{loaderData:Vt,errors:Lt})))}async function ot(ve,he,Ye,Ze,Qe){Qe===void 0&&(Qe={}),Yt();let nt=sCe(he,Ye);$e({navigation:nt});let It,kt=H3(Ze,he);if(!kt.route.action&&!kt.route.lazy)It={type:Io.error,error:Zs(405,{method:ve.method,pathname:he.pathname,routeId:kt.route.id})};else if(It=await Ov("action",ve,kt,Ze,s,o,c),ve.signal.aborted)return{shortCircuited:!0};if(Dm(It)){let Bt;return Qe&&Qe.replace!=null?Bt=Qe.replace:Bt=It.location===C.location.pathname+C.location.search,await Tt(C,It,{submission:Ye,replace:Bt}),{shortCircuited:!0}}if(z0(It)){let Bt=U0(Ze,kt.route.id);return(Qe&&Qe.replace)!==!0&&(_=Ro.Push),{pendingActionData:{},pendingActionError:{[Bt.route.id]:It.error}}}if(nh(It))throw Zs(400,{type:"defer-action"});return{pendingActionData:{[kt.route.id]:It.data}}}async function it(ve,he,Ye,Ze,Qe,nt,It,kt,Bt){let jt=Ze||y_(he,Qe),Vt=Qe||nt||PF(jt),Lt=u||l,[mt,Nt]=EF(n.history,C,Ye,Vt,he,V,B,O,Q,G,Lt,c,kt,Bt);if(et(lt=>!(Ye&&Ye.some(wt=>wt.route.id===lt))||mt&&mt.some(wt=>wt.route.id===lt)),z=++N,mt.length===0&&Nt.length===0){let lt=Ce();return qe(he,Eo({matches:Ye,loaderData:{},errors:Bt||null},kt?{actionData:kt}:{},lt?{fetchers:new Map(C.fetchers)}:{})),{shortCircuited:!0}}if(!H){Nt.forEach(wt=>{let xe=C.fetchers.get(wt.key),De=Nv(void 0,xe?xe.data:void 0);C.fetchers.set(wt.key,De)});let lt=kt||C.actionData;$e(Eo({navigation:jt},lt?Object.keys(lt).length===0?{actionData:null}:{actionData:lt}:{},Nt.length>0?{fetchers:new Map(C.fetchers)}:{}))}Nt.forEach(lt=>{F.has(lt.key)&&pe(lt.key),lt.controller&&F.set(lt.key,lt.controller)});let cn=()=>Nt.forEach(lt=>pe(lt.key));R&&R.signal.addEventListener("abort",cn);let{results:Jt,loaderResults:Sn,fetcherResults:yn}=await Dt(C.matches,Ye,mt,Nt,ve);if(ve.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",cn),Nt.forEach(lt=>F.delete(lt.key));let Ln=RF(Jt);if(Ln){if(Ln.idx>=mt.length){let lt=Nt[Ln.idx-mt.length].key;G.add(lt)}return await Tt(C,Ln.result,{replace:It}),{shortCircuited:!0}}let{loaderData:rr,errors:jn}=_F(C,Ye,mt,Sn,Bt,Nt,yn,Z);Z.forEach((lt,wt)=>{lt.subscribe(xe=>{(xe||lt.done)&&Z.delete(wt)})});let Fn=Ce(),Cn=Se(z),Oe=Fn||Cn||Nt.length>0;return Eo({loaderData:rr,errors:jn},Oe?{fetchers:new Map(C.fetchers)}:{})}function ft(ve){return d.v7_fetcherPersist&&(X.set(ve,(X.get(ve)||0)+1),J.has(ve)&&J.delete(ve)),C.fetchers.get(ve)||qEe}function Et(ve,he,Ye,Ze){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");F.has(ve)&&pe(ve);let Qe=u||l,nt=z3(C.location,C.matches,c,d.v7_prependBasename,Ye,he,Ze==null?void 0:Ze.relative),It=vm(Qe,nt,c);if(!It){Ve(ve,he,Zs(404,{pathname:nt}));return}let{path:kt,submission:Bt,error:jt}=xF(d.v7_normalizeFormMethod,!0,nt,Ze);if(jt){Ve(ve,he,jt);return}let Vt=H3(It,kt);if(P=(Ze&&Ze.preventScrollReset)===!0,Bt&&Ol(Bt.formMethod)){gt(ve,he,kt,Vt,It,Bt);return}Q.set(ve,{routeId:he,path:kt}),Ct(ve,he,kt,Vt,It,Bt)}async function gt(ve,he,Ye,Ze,Qe,nt){if(Yt(),Q.delete(ve),!Ze.route.action&&!Ze.route.lazy){let De=Zs(405,{method:nt.formMethod,pathname:Ye,routeId:he});Ve(ve,he,De);return}let It=C.fetchers.get(ve),kt=lCe(nt,It);C.fetchers.set(ve,kt),$e({fetchers:new Map(C.fetchers)});let Bt=new AbortController,jt=Dv(n.history,Ye,Bt.signal,nt);F.set(ve,Bt);let Vt=N,Lt=await Ov("action",jt,Ze,Qe,s,o,c);if(jt.signal.aborted){F.get(ve)===Bt&&F.delete(ve);return}if(J.has(ve)){C.fetchers.set(ve,yd(void 0)),$e({fetchers:new Map(C.fetchers)});return}if(Dm(Lt))if(F.delete(ve),z>Vt){let De=yd(void 0);C.fetchers.set(ve,De),$e({fetchers:new Map(C.fetchers)});return}else{G.add(ve);let De=Nv(nt);return C.fetchers.set(ve,De),$e({fetchers:new Map(C.fetchers)}),Tt(C,Lt,{fetcherSubmission:nt})}if(z0(Lt)){Ve(ve,he,Lt.error);return}if(nh(Lt))throw Zs(400,{type:"defer-action"});let mt=C.navigation.location||C.location,Nt=Dv(n.history,mt,Bt.signal),cn=u||l,Jt=C.navigation.state!=="idle"?vm(cn,C.navigation.location,c):C.matches;wi(Jt,"Didn't find any matches after fetcher action");let Sn=++N;j.set(ve,Sn);let yn=Nv(nt,Lt.data);C.fetchers.set(ve,yn);let[Ln,rr]=EF(n.history,C,Jt,nt,mt,V,B,O,Q,G,cn,c,{[Ze.route.id]:Lt.data},void 0);rr.filter(De=>De.key!==ve).forEach(De=>{let tt=De.key,St=C.fetchers.get(tt),Mt=Nv(void 0,St?St.data:void 0);C.fetchers.set(tt,Mt),F.has(tt)&&pe(tt),De.controller&&F.set(tt,De.controller)}),$e({fetchers:new Map(C.fetchers)});let jn=()=>rr.forEach(De=>pe(De.key));Bt.signal.addEventListener("abort",jn);let{results:Fn,loaderResults:Cn,fetcherResults:Oe}=await Dt(C.matches,Jt,Ln,rr,Nt);if(Bt.signal.aborted)return;Bt.signal.removeEventListener("abort",jn),j.delete(ve),F.delete(ve),rr.forEach(De=>F.delete(De.key));let lt=RF(Fn);if(lt){if(lt.idx>=Ln.length){let De=rr[lt.idx-Ln.length].key;G.add(De)}return Tt(C,lt.result)}let{loaderData:wt,errors:xe}=_F(C,C.matches,Ln,Cn,void 0,rr,Oe,Z);if(C.fetchers.has(ve)){let De=yd(Lt.data);C.fetchers.set(ve,De)}Se(Sn),C.navigation.state==="loading"&&Sn>z?(wi(_,"Expected pending action"),R&&R.abort(),qe(C.navigation.location,{matches:Jt,loaderData:wt,errors:xe,fetchers:new Map(C.fetchers)})):($e({errors:xe,loaderData:MF(C.loaderData,wt,Jt,xe),fetchers:new Map(C.fetchers)}),V=!1)}async function Ct(ve,he,Ye,Ze,Qe,nt){let It=C.fetchers.get(ve),kt=Nv(nt,It?It.data:void 0);C.fetchers.set(ve,kt),$e({fetchers:new Map(C.fetchers)});let Bt=new AbortController,jt=Dv(n.history,Ye,Bt.signal);F.set(ve,Bt);let Vt=N,Lt=await Ov("loader",jt,Ze,Qe,s,o,c);if(nh(Lt)&&(Lt=await Uj(Lt,jt.signal,!0)||Lt),F.get(ve)===Bt&&F.delete(ve),jt.signal.aborted)return;if(J.has(ve)){C.fetchers.set(ve,yd(void 0)),$e({fetchers:new Map(C.fetchers)});return}if(Dm(Lt))if(z>Vt){let Nt=yd(void 0);C.fetchers.set(ve,Nt),$e({fetchers:new Map(C.fetchers)});return}else{G.add(ve),await Tt(C,Lt);return}if(z0(Lt)){Ve(ve,he,Lt.error);return}wi(!nh(Lt),"Unhandled fetcher deferred data");let mt=yd(Lt.data);C.fetchers.set(ve,mt),$e({fetchers:new Map(C.fetchers)})}async function Tt(ve,he,Ye){let{submission:Ze,fetcherSubmission:Qe,replace:nt}=Ye===void 0?{}:Ye;he.revalidate&&(V=!0);let It=wA(ve.location,he.location,{_isRedirect:!0});if(wi(It,"Expected a location on the redirect navigation"),r){let mt=!1;if(he.reloadDocument)mt=!0;else if(Dj.test(he.location)){const Nt=n.history.createURL(he.location);mt=Nt.origin!==e.location.origin||iy(Nt.pathname,c)==null}if(mt){nt?e.location.replace(he.location):e.location.assign(he.location);return}}R=null;let kt=nt===!0?Ro.Replace:Ro.Push,{formMethod:Bt,formAction:jt,formEncType:Vt}=ve.navigation;!Ze&&!Qe&&Bt&&jt&&Vt&&(Ze=PF(ve.navigation));let Lt=Ze||Qe;if(XEe.has(he.status)&&Lt&&Ol(Lt.formMethod))await st(kt,It,{submission:Eo({},Lt,{formAction:he.location}),preventScrollReset:P});else{let mt=y_(It,Ze);await st(kt,It,{overrideNavigation:mt,fetcherSubmission:Qe,preventScrollReset:P})}}async function Dt(ve,he,Ye,Ze,Qe){let nt=await Promise.all([...Ye.map(Bt=>Ov("loader",Qe,Bt,he,s,o,c)),...Ze.map(Bt=>Bt.matches&&Bt.match&&Bt.controller?Ov("loader",Dv(n.history,Bt.path,Bt.controller.signal),Bt.match,Bt.matches,s,o,c):{type:Io.error,error:Zs(404,{pathname:Bt.path})})]),It=nt.slice(0,Ye.length),kt=nt.slice(Ye.length);return await Promise.all([IF(ve,Ye,It,It.map(()=>Qe.signal),!1,C.loaderData),IF(ve,Ze.map(Bt=>Bt.match),kt,Ze.map(Bt=>Bt.controller?Bt.controller.signal:null),!0)]),{results:nt,loaderResults:It,fetcherResults:kt}}function Yt(){V=!0,B.push(...et()),Q.forEach((ve,he)=>{F.has(he)&&(O.push(he),pe(he))})}function Ve(ve,he,Ye){let Ze=U0(C.matches,he);ye(ve),$e({errors:{[Ze.route.id]:Ye},fetchers:new Map(C.fetchers)})}function ye(ve){let he=C.fetchers.get(ve);F.has(ve)&&!(he&&he.state==="loading"&&j.has(ve))&&pe(ve),Q.delete(ve),j.delete(ve),G.delete(ve),J.delete(ve),C.fetchers.delete(ve)}function fe(ve){if(d.v7_fetcherPersist){let he=(X.get(ve)||0)-1;he<=0?(X.delete(ve),J.add(ve)):X.set(ve,he)}else ye(ve);$e({fetchers:new Map(C.fetchers)})}function pe(ve){let he=F.get(ve);wi(he,"Expected fetch controller: "+ve),he.abort(),F.delete(ve)}function _e(ve){for(let he of ve){let Ye=ft(he),Ze=yd(Ye.data);C.fetchers.set(he,Ze)}}function Ce(){let ve=[],he=!1;for(let Ye of G){let Ze=C.fetchers.get(Ye);wi(Ze,"Expected fetcher: "+Ye),Ze.state==="loading"&&(G.delete(Ye),ve.push(Ye),he=!0)}return _e(ve),he}function Se(ve){let he=[];for(let[Ye,Ze]of j)if(Ze<ve){let Qe=C.fetchers.get(Ye);wi(Qe,"Expected fetcher: "+Ye),Qe.state==="loading"&&(pe(Ye),j.delete(Ye),he.push(Ye))}return _e(he),he.length>0}function we(ve,he){let Ye=C.blockers.get(ve)||Bv;return oe.get(ve)!==he&&oe.set(ve,he),Ye}function je(ve){C.blockers.delete(ve),oe.delete(ve)}function Ae(ve,he){let Ye=C.blockers.get(ve)||Bv;wi(Ye.state==="unblocked"&&he.state==="blocked"||Ye.state==="blocked"&&he.state==="blocked"||Ye.state==="blocked"&&he.state==="proceeding"||Ye.state==="blocked"&&he.state==="unblocked"||Ye.state==="proceeding"&&he.state==="unblocked","Invalid blocker state transition: "+Ye.state+" -> "+he.state);let Ze=new Map(C.blockers);Ze.set(ve,he),$e({blockers:Ze})}function Ue(ve){let{currentLocation:he,nextLocation:Ye,historyAction:Ze}=ve;if(oe.size===0)return;oe.size>1&&Kd(!1,"A router only supports one blocker at a time");let Qe=Array.from(oe.entries()),[nt,It]=Qe[Qe.length-1],kt=C.blockers.get(nt);if(!(kt&&kt.state==="proceeding")&&It({currentLocation:he,nextLocation:Ye,historyAction:Ze}))return nt}function et(ve){let he=[];return Z.forEach((Ye,Ze)=>{(!ve||ve(Ze))&&(Ye.cancel(),he.push(Ze),Z.delete(Ze))}),he}function ue(ve,he,Ye){if(m=ve,y=he,v=Ye||null,!A&&C.navigation===A_){A=!0;let Ze=Pe(C.location,C.matches);Ze!=null&&$e({restoreScrollPosition:Ze})}return()=>{m=null,y=null,v=null}}function Y(ve,he){return v&&v(ve,he.map(Ze=>wEe(Ze,C.loaderData)))||ve.key}function ne(ve,he){if(m&&y){let Ye=Y(ve,he);m[Ye]=y()}}function Pe(ve,he){if(m){let Ye=Y(ve,he),Ze=m[Ye];if(typeof Ze=="number")return Ze}return null}function We(ve){s={},u=U3(ve,o,void 0,s)}return E={get basename(){return c},get state(){return C},get routes(){return l},get window(){return e},initialize:Be,subscribe:Re,enableScrollRestoration:ue,navigate:Ke,fetch:Et,revalidate:ke,createHref:ve=>n.history.createHref(ve),encodeLocation:ve=>n.history.encodeLocation(ve),getFetcher:ft,deleteFetcher:fe,dispose:ge,getBlocker:we,deleteBlocker:je,_internalFetchControllers:F,_internalActiveDeferreds:Z,_internalSetRoutes:We},E}function ZEe(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function z3(n,e,r,i,o,s,l){let u,c;if(s!=null&&l!=="path"){u=[];for(let h of e)if(u.push(h),h.route.id===s){c=h;break}}else u=e,c=e[e.length-1];let d=$Ee(o||".",Lj(u).map(h=>h.pathnameBase),iy(n.pathname,r)||n.pathname,l==="path");return o==null&&(d.search=n.search,d.hash=n.hash),(o==null||o===""||o===".")&&c&&c.route.index&&!nL(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),i&&r!=="/"&&(d.pathname=d.pathname==="/"?r:dh([r,d.pathname])),ry(d)}function xF(n,e,r,i){if(!i||!ZEe(i))return{path:r};if(i.formMethod&&!aCe(i.formMethod))return{path:r,error:Zs(405,{method:i.formMethod})};let o=()=>({path:r,error:Zs(400,{type:"invalid-body"})}),s=i.formMethod||"get",l=n?s.toUpperCase():s.toLowerCase(),u=Fj(r);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!Ol(l))return o();let m=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((v,y)=>{let[A,b]=y;return""+v+A+"="+b+`
`},""):String(i.body);return{path:r,submission:{formMethod:l,formAction:u,formEncType:i.formEncType,formData:void 0,json:void 0,text:m}}}else if(i.formEncType==="application/json"){if(!Ol(l))return o();try{let m=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:r,submission:{formMethod:l,formAction:u,formEncType:i.formEncType,formData:void 0,json:m,text:void 0}}}catch{return o()}}}wi(typeof FormData=="function","FormData is not available in this environment");let c,d;if(i.formData)c=$3(i.formData),d=i.formData;else if(i.body instanceof FormData)c=$3(i.body),d=i.body;else if(i.body instanceof URLSearchParams)c=i.body,d=SF(c);else if(i.body==null)c=new URLSearchParams,d=new FormData;else try{c=new URLSearchParams(i.body),d=SF(c)}catch{return o()}let h={formMethod:l,formAction:u,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(Ol(h.formMethod))return{path:r,submission:h};let p=_c(r);return e&&p.search&&nL(p.search)&&c.append("index",""),p.search="?"+c,{path:ry(p),submission:h}}function eCe(n,e){let r=n;if(e){let i=n.findIndex(o=>o.route.id===e);i>=0&&(r=n.slice(0,i))}return r}function EF(n,e,r,i,o,s,l,u,c,d,h,p,m,v){let y=v?Object.values(v)[0]:m?Object.values(m)[0]:void 0,A=n.createURL(e.location),b=n.createURL(o),g=v?Object.keys(v)[0]:void 0,E=eCe(r,g).filter((_,P)=>{if(_.route.lazy)return!0;if(_.route.loader==null)return!1;if(tCe(e.loaderData,e.matches[P],_)||l.some(T=>T===_.route.id))return!0;let R=e.matches[P],L=_;return CF(_,Eo({currentUrl:A,currentParams:R.params,nextUrl:b,nextParams:L.params},i,{actionResult:y,defaultShouldRevalidate:s||A.pathname+A.search===b.pathname+b.search||A.search!==b.search||kj(R,L)}))}),C=[];return c.forEach((_,P)=>{if(!r.some(H=>H.route.id===_.routeId))return;let R=vm(h,_.path,p);if(!R){C.push({key:P,routeId:_.routeId,path:_.path,matches:null,match:null,controller:null});return}let L=e.fetchers.get(P),T=H3(R,_.path),D=!1;d.has(P)?D=!1:u.includes(P)?D=!0:L&&L.state!=="idle"&&L.data===void 0?D=s:D=CF(T,Eo({currentUrl:A,currentParams:e.matches[e.matches.length-1].params,nextUrl:b,nextParams:r[r.length-1].params},i,{actionResult:y,defaultShouldRevalidate:s})),D&&C.push({key:P,routeId:_.routeId,path:_.path,matches:R,match:T,controller:new AbortController})}),[E,C]}function tCe(n,e,r){let i=!e||r.route.id!==e.route.id,o=n[r.route.id]===void 0;return i||o}function kj(n,e){let r=n.route.path;return n.pathname!==e.pathname||r!=null&&r.endsWith("*")&&n.params["*"]!==e.params["*"]}function CF(n,e){if(n.route.shouldRevalidate){let r=n.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}async function wF(n,e,r){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let o=r[n.id];wi(o,"No route found in manifest");let s={};for(let l in i){let c=o[l]!==void 0&&l!=="hasErrorBoundary";Kd(!c,'Route "'+o.id+'" has a static property "'+l+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+l+'" will be ignored.')),!c&&!EEe.has(l)&&(s[l]=i[l])}Object.assign(o,s),Object.assign(o,Eo({},e(o),{lazy:void 0}))}async function Ov(n,e,r,i,o,s,l,u){u===void 0&&(u={});let c,d,h,p=y=>{let A,b=new Promise((g,w)=>A=w);return h=()=>A(),e.signal.addEventListener("abort",h),Promise.race([y({request:e,params:r.params,context:u.requestContext}),b])};try{let y=r.route[n];if(r.route.lazy)if(y){let A,b=await Promise.all([p(y).catch(g=>{A=g}),wF(r.route,s,o)]);if(A)throw A;d=b[0]}else if(await wF(r.route,s,o),y=r.route[n],y)d=await p(y);else if(n==="action"){let A=new URL(e.url),b=A.pathname+A.search;throw Zs(405,{method:e.method,pathname:b,routeId:r.route.id})}else return{type:Io.data,data:void 0};else if(y)d=await p(y);else{let A=new URL(e.url),b=A.pathname+A.search;throw Zs(404,{pathname:b})}wi(d!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(y){c=Io.error,d=y}finally{h&&e.signal.removeEventListener("abort",h)}if(oCe(d)){let y=d.status;if(KEe.has(y)){let g=d.headers.get("Location");if(wi(g,"Redirects returned/thrown from loaders/actions must have a Location header"),!Dj.test(g))g=z3(new URL(e.url),i.slice(0,i.indexOf(r)+1),l,!0,g);else if(!u.isStaticRequest){let w=new URL(e.url),E=g.startsWith("//")?new URL(w.protocol+g):new URL(g),C=iy(E.pathname,l)!=null;E.origin===w.origin&&C&&(g=E.pathname+E.search+E.hash)}if(u.isStaticRequest)throw d.headers.set("Location",g),d;return{type:Io.redirect,status:y,location:g,revalidate:d.headers.get("X-Remix-Revalidate")!==null,reloadDocument:d.headers.get("X-Remix-Reload-Document")!==null}}if(u.isRouteRequest)throw{type:c===Io.error?Io.error:Io.data,response:d};let A,b=d.headers.get("Content-Type");return b&&/\bapplication\/json\b/.test(b)?A=await d.json():A=await d.text(),c===Io.error?{type:c,error:new tL(y,d.statusText,A),headers:d.headers}:{type:Io.data,data:A,statusCode:d.status,headers:d.headers}}if(c===Io.error)return{type:c,error:d};if(iCe(d)){var m,v;return{type:Io.deferred,deferredData:d,statusCode:(m=d.init)==null?void 0:m.status,headers:((v=d.init)==null?void 0:v.headers)&&new Headers(d.init.headers)}}return{type:Io.data,data:d}}function Dv(n,e,r,i){let o=n.createURL(Fj(e)).toString(),s={signal:r};if(i&&Ol(i.formMethod)){let{formMethod:l,formEncType:u}=i;s.method=l.toUpperCase(),u==="application/json"?(s.headers=new Headers({"Content-Type":u}),s.body=JSON.stringify(i.json)):u==="text/plain"?s.body=i.text:u==="application/x-www-form-urlencoded"&&i.formData?s.body=$3(i.formData):s.body=i.formData}return new Request(o,s)}function $3(n){let e=new URLSearchParams;for(let[r,i]of n.entries())e.append(r,typeof i=="string"?i:i.name);return e}function SF(n){let e=new FormData;for(let[r,i]of n.entries())e.append(r,i);return e}function nCe(n,e,r,i,o){let s={},l=null,u,c=!1,d={};return r.forEach((h,p)=>{let m=e[p].route.id;if(wi(!Dm(h),"Cannot handle redirect results in processLoaderData"),z0(h)){let v=U0(n,m),y=h.error;i&&(y=Object.values(i)[0],i=void 0),l=l||{},l[v.route.id]==null&&(l[v.route.id]=y),s[m]=void 0,c||(c=!0,u=Bj(h.error)?h.error.status:500),h.headers&&(d[m]=h.headers)}else nh(h)?(o.set(m,h.deferredData),s[m]=h.deferredData.data):s[m]=h.data,h.statusCode!=null&&h.statusCode!==200&&!c&&(u=h.statusCode),h.headers&&(d[m]=h.headers)}),i&&(l=i,s[Object.keys(i)[0]]=void 0),{loaderData:s,errors:l,statusCode:u||200,loaderHeaders:d}}function _F(n,e,r,i,o,s,l,u){let{loaderData:c,errors:d}=nCe(e,r,i,o,u);for(let h=0;h<s.length;h++){let{key:p,match:m,controller:v}=s[h];wi(l!==void 0&&l[h]!==void 0,"Did not find corresponding fetcher result");let y=l[h];if(!(v&&v.signal.aborted))if(z0(y)){let A=U0(n.matches,m==null?void 0:m.route.id);d&&d[A.route.id]||(d=Eo({},d,{[A.route.id]:y.error})),n.fetchers.delete(p)}else if(Dm(y))wi(!1,"Unhandled fetcher revalidation redirect");else if(nh(y))wi(!1,"Unhandled fetcher deferred data");else{let A=yd(y.data);n.fetchers.set(p,A)}}return{loaderData:c,errors:d}}function MF(n,e,r,i){let o=Eo({},e);for(let s of r){let l=s.route.id;if(e.hasOwnProperty(l)?e[l]!==void 0&&(o[l]=e[l]):n[l]!==void 0&&s.route.loader&&(o[l]=n[l]),i&&i.hasOwnProperty(l))break}return o}function U0(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function TF(n){let e=n.length===1?n[0]:n.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Zs(n,e){let{pathname:r,routeId:i,method:o,type:s}=e===void 0?{}:e,l="Unknown Server Error",u="Unknown @remix-run/router error";return n===400?(l="Bad Request",o&&r&&i?u="You made a "+o+' request to "'+r+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":s==="defer-action"?u="defer() is not supported in actions":s==="invalid-body"&&(u="Unable to encode submission body")):n===403?(l="Forbidden",u='Route "'+i+'" does not match URL "'+r+'"'):n===404?(l="Not Found",u='No route matches URL "'+r+'"'):n===405&&(l="Method Not Allowed",o&&r&&i?u="You made a "+o.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":o&&(u='Invalid request method "'+o.toUpperCase()+'"')),new tL(n||500,l,new Error(u),!0)}function RF(n){for(let e=n.length-1;e>=0;e--){let r=n[e];if(Dm(r))return{result:r,idx:e}}}function Fj(n){let e=typeof n=="string"?_c(n):n;return ry(Eo({},e,{hash:""}))}function rCe(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function nh(n){return n.type===Io.deferred}function z0(n){return n.type===Io.error}function Dm(n){return(n&&n.type)===Io.redirect}function iCe(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function oCe(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function aCe(n){return QEe.has(n.toLowerCase())}function Ol(n){return VEe.has(n.toLowerCase())}async function IF(n,e,r,i,o,s){for(let l=0;l<r.length;l++){let u=r[l],c=e[l];if(!c)continue;let d=n.find(p=>p.route.id===c.route.id),h=d!=null&&!kj(d,c)&&(s&&s[c.route.id])!==void 0;if(nh(u)&&(o||h)){let p=i[l];wi(p,"Expected an AbortSignal for revalidating fetcher deferred result"),await Uj(u,p,o).then(m=>{m&&(r[l]=m||r[l])})}}}async function Uj(n,e,r){if(r===void 0&&(r=!1),!await n.deferredData.resolveData(e)){if(r)try{return{type:Io.data,data:n.deferredData.unwrappedData}}catch(o){return{type:Io.error,error:o}}return{type:Io.data,data:n.deferredData.data}}}function nL(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function H3(n,e){let r=typeof e=="string"?_c(e).search:e.search;if(n[n.length-1].route.index&&nL(r||""))return n[n.length-1];let i=Lj(n);return i[i.length-1]}function PF(n){let{formMethod:e,formAction:r,formEncType:i,text:o,formData:s,json:l}=n;if(!(!e||!r||!i)){if(o!=null)return{formMethod:e,formAction:r,formEncType:i,formData:void 0,json:void 0,text:o};if(s!=null)return{formMethod:e,formAction:r,formEncType:i,formData:s,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:r,formEncType:i,formData:void 0,json:l,text:void 0}}}function y_(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function sCe(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Nv(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function lCe(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function yd(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function cCe(n,e){try{let r=n.sessionStorage.getItem(Nj);if(r){let i=JSON.parse(r);for(let[o,s]of Object.entries(i||{}))s&&Array.isArray(s)&&e.set(o,new Set(s||[]))}}catch{}}function uCe(n,e){if(e.size>0){let r={};for(let[i,o]of e)r[i]=[...o];try{n.sessionStorage.setItem(Nj,JSON.stringify(r))}catch(i){Kd(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function j3(){return j3=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},j3.apply(this,arguments)}const zj=M.createContext(null),$j=M.createContext(null),Hj=M.createContext(null),HC=M.createContext(null),jC=M.createContext({outlet:null,matches:[],isDataRoute:!1}),jj=M.createContext(null);function rL(){return M.useContext(HC)!=null}function dCe(){return rL()||wi(!1),M.useContext(HC).location}function fCe(n,e,r){rL()||wi(!1);let{navigator:i}=M.useContext(Hj),{matches:o}=M.useContext(jC),s=o[o.length-1],l=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let c=dCe(),d;if(e){var h;let A=typeof e=="string"?_c(e):e;u==="/"||(h=A.pathname)!=null&&h.startsWith(u)||wi(!1),d=A}else d=c;let p=d.pathname||"/",m=u==="/"?p:p.slice(u.length)||"/",v=vm(n,{pathname:m}),y=vCe(v&&v.map(A=>Object.assign({},A,{params:Object.assign({},l,A.params),pathname:dh([u,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?u:dh([u,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,r);return e&&y?M.createElement(HC.Provider,{value:{location:j3({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ro.Pop}},y):y}function hCe(){let n=xCe(),e=Bj(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),r=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),r?M.createElement("pre",{style:o},r):null,s)}const pCe=M.createElement(hCe,null);class mCe extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error?M.createElement(jC.Provider,{value:this.props.routeContext},M.createElement(jj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gCe(n){let{routeContext:e,match:r,children:i}=n,o=M.useContext(zj);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),M.createElement(jC.Provider,{value:e},i)}function vCe(n,e,r){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n==null){var o;if((o=r)!=null&&o.errors)n=r.matches;else return null}let s=n,l=(i=r)==null?void 0:i.errors;if(l!=null){let u=s.findIndex(c=>c.route.id&&(l==null?void 0:l[c.route.id]));u>=0||wi(!1),s=s.slice(0,Math.min(s.length,u+1))}return s.reduceRight((u,c,d)=>{let h=c.route.id?l==null?void 0:l[c.route.id]:null,p=null;r&&(p=c.route.errorElement||pCe);let m=e.concat(s.slice(0,d+1)),v=()=>{let y;return h?y=p:c.route.Component?y=M.createElement(c.route.Component,null):c.route.element?y=c.route.element:y=u,M.createElement(gCe,{match:c,routeContext:{outlet:u,matches:m,isDataRoute:r!=null},children:y})};return r&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?M.createElement(mCe,{location:r.location,revalidation:r.revalidation,component:p,error:h,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()},null)}var G3=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(G3||{});function ACe(n){let e=M.useContext($j);return e||wi(!1),e}function yCe(n){let e=M.useContext(jC);return e||wi(!1),e}function bCe(n){let e=yCe(),r=e.matches[e.matches.length-1];return r.route.id||wi(!1),r.route.id}function xCe(){var n;let e=M.useContext(jj),r=ACe(G3.UseRouteError),i=bCe(G3.UseRouteError);return e||((n=r.errors)==null?void 0:n[i])}function ECe(n){let{basename:e="/",children:r=null,location:i,navigationType:o=Ro.Pop,navigator:s,static:l=!1}=n;rL()&&wi(!1);let u=e.replace(/^\/*/,"/"),c=M.useMemo(()=>({basename:u,navigator:s,static:l}),[u,s,l]);typeof i=="string"&&(i=_c(i));let{pathname:d="/",search:h="",hash:p="",state:m=null,key:v="default"}=i,y=M.useMemo(()=>{let A=iy(d,u);return A==null?null:{location:{pathname:A,search:h,hash:p,state:m,key:v},navigationType:o}},[u,d,h,p,m,v,o]);return y==null?null:M.createElement(Hj.Provider,{value:c},M.createElement(HC.Provider,{children:r,value:y}))}new Promise(()=>{});function CCe(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:M.createElement(n.Component),Component:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:M.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pE(){return pE=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},pE.apply(this,arguments)}function wCe(n,e){return JEe({basename:e==null?void 0:e.basename,future:pE({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:yEe({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||SCe(),routes:n,mapRouteProperties:CCe,window:e==null?void 0:e.window}).initialize()}function SCe(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=pE({},e,{errors:_Ce(e.errors)})),e}function _Ce(n){if(!n)return null;let e=Object.entries(n),r={};for(let[i,o]of e)if(o&&o.__type==="RouteErrorResponse")r[i]=new tL(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let s=window[o.__subType];if(typeof s=="function")try{let l=new s(o.message);l.stack="",r[i]=l}catch{}}if(r[i]==null){let s=new Error(o.message);s.stack="",r[i]=s}}else r[i]=o;return r}const MCe=M.createContext({isTransitioning:!1}),TCe=M.createContext(new Map),RCe="startTransition",LF=DA[RCe];function ICe(n){LF?LF(n):n()}class PCe{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",r(i))}})}}function LCe(n){let{fallbackElement:e,router:r,future:i}=n,[o,s]=M.useState(r.state),[l,u]=M.useState(),[c,d]=M.useState({isTransitioning:!1}),[h,p]=M.useState(),[m,v]=M.useState(),[y,A]=M.useState(),b=M.useRef(new Map),{v7_startTransition:g}=i||{},w=M.useCallback(R=>{g?ICe(R):R()},[g]),E=M.useCallback((R,L)=>{let{deletedFetchers:T,unstable_viewTransitionOpts:D}=L;T.forEach(H=>b.current.delete(H)),R.fetchers.forEach((H,V)=>{H.data!==void 0&&b.current.set(V,H.data)}),!D||r.window==null||typeof r.window.document.startViewTransition!="function"?w(()=>s(R)):m&&h?(h.resolve(),m.skipTransition(),A({state:R,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(u(R),d({isTransitioning:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[r.window,m,h,b,w]);M.useLayoutEffect(()=>r.subscribe(E),[r,E]),M.useEffect(()=>{c.isTransitioning&&p(new PCe)},[c.isTransitioning]),M.useEffect(()=>{if(h&&l&&r.window){let R=l,L=h.promise,T=r.window.document.startViewTransition(async()=>{w(()=>s(R)),await L});T.finished.finally(()=>{p(void 0),v(void 0),u(void 0),d({isTransitioning:!1})}),v(T)}},[w,l,h,r.window]),M.useEffect(()=>{h&&l&&o.location.key===l.location.key&&h.resolve()},[h,m,o.location,l]),M.useEffect(()=>{!c.isTransitioning&&y&&(u(y.state),d({isTransitioning:!0,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),A(void 0))},[c.isTransitioning,y]);let C=M.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:R=>r.navigate(R),push:(R,L,T)=>r.navigate(R,{state:L,preventScrollReset:T==null?void 0:T.preventScrollReset}),replace:(R,L,T)=>r.navigate(R,{replace:!0,state:L,preventScrollReset:T==null?void 0:T.preventScrollReset})}),[r]),_=r.basename||"/",P=M.useMemo(()=>({router:r,navigator:C,static:!1,basename:_}),[r,C,_]);return M.createElement(M.Fragment,null,M.createElement(zj.Provider,{value:P},M.createElement($j.Provider,{value:o},M.createElement(TCe.Provider,{value:b.current},M.createElement(MCe.Provider,{value:c},M.createElement(ECe,{basename:_,location:o.location,navigationType:o.historyAction,navigator:C},o.initialized?M.createElement(BCe,{routes:r.routes,state:o}):e))))),null)}function BCe(n){let{routes:e,state:r}=n;return fCe(e,void 0,r)}var BF;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(BF||(BF={}));var OF;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(OF||(OF={}));const DF=n=>{let e;const r=new Set,i=(c,d)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const p=e;e=d??typeof h!="object"?h:Object.assign({},e,h),r.forEach(m=>m(e,p))}},o=()=>e,u={setState:i,getState:o,subscribe:c=>(r.add(c),()=>r.delete(c)),destroy:()=>{r.clear()}};return e=n(i,o,u),u},OCe=n=>n?DF(n):DF;var Gj={exports:{}},Vj={},Wj={exports:{}},Qj={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ig=M;function DCe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var NCe=typeof Object.is=="function"?Object.is:DCe,kCe=ig.useState,FCe=ig.useEffect,UCe=ig.useLayoutEffect,zCe=ig.useDebugValue;function $Ce(n,e){var r=e(),i=kCe({inst:{value:r,getSnapshot:e}}),o=i[0].inst,s=i[1];return UCe(function(){o.value=r,o.getSnapshot=e,b_(o)&&s({inst:o})},[n,r,e]),FCe(function(){return b_(o)&&s({inst:o}),n(function(){b_(o)&&s({inst:o})})},[n]),zCe(r),r}function b_(n){var e=n.getSnapshot;n=n.value;try{var r=e();return!NCe(n,r)}catch{return!0}}function HCe(n,e){return e()}var jCe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?HCe:$Ce;Qj.useSyncExternalStore=ig.useSyncExternalStore!==void 0?ig.useSyncExternalStore:jCe;Wj.exports=Qj;var GCe=Wj.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GC=M,VCe=GCe;function WCe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var QCe=typeof Object.is=="function"?Object.is:WCe,KCe=VCe.useSyncExternalStore,XCe=GC.useRef,qCe=GC.useEffect,YCe=GC.useMemo,JCe=GC.useDebugValue;Vj.useSyncExternalStoreWithSelector=function(n,e,r,i,o){var s=XCe(null);if(s.current===null){var l={hasValue:!1,value:null};s.current=l}else l=s.current;s=YCe(function(){function c(v){if(!d){if(d=!0,h=v,v=i(v),o!==void 0&&l.hasValue){var y=l.value;if(o(y,v))return p=y}return p=v}if(y=p,QCe(h,v))return y;var A=i(v);return o!==void 0&&o(y,A)?y:(h=v,p=A)}var d=!1,h,p,m=r===void 0?null:r;return[function(){return c(e())},m===null?void 0:function(){return c(m())}]},[e,r,i,o]);var u=KCe(n,s[0],s[1]);return qCe(function(){l.hasValue=!0,l.value=u},[u]),JCe(u),u};Gj.exports=Vj;var ZCe=Gj.exports;const ewe=Uu(ZCe),{useDebugValue:twe}=Wt,{useSyncExternalStoreWithSelector:nwe}=ewe;function rwe(n,e=n.getState,r){const i=nwe(n.subscribe,n.getState,n.getServerState||n.getState,e,r);return twe(i),i}const NF=n=>{const e=typeof n=="function"?OCe(n):n,r=(i,o)=>rwe(e,i,o);return Object.assign(r,e),r},iwe=n=>n?NF(n):NF,owe=n=>{var l,u;const e=((l=n==null?void 0:n.model)==null?void 0:l.tables)||[],r=[],i=[],o=[];e.forEach(c=>{const d=c.name,h={name:d,entity_type:"TABLE",uuid:`[T]${d}`},m=((c==null?void 0:c.columns)||[]).map(A=>{const b=A;return b.parent_table=h,b.entity_type="COLUMN",b.uuid=`${h.uuid}[C]${A.name}`,b});i.push(...m);const y=((c==null?void 0:c.measures)||[]).map(A=>{const b=A;return b.parent_table=h,b.entity_type="MEASURE",b.uuid=`${h.uuid}[M]${A.name}`,b});o.push(...y),h.columns=m,h.measures=y,r.push(h)});const s=((u=n==null?void 0:n.model)==null?void 0:u.relationships)||[];return{tables:r,columns:i,measures:o,relationships:s}},og=iwe(n=>({modelObj:{},model_content:{},highlightNodes:[],setModelObj:e=>{const r=owe(e);n({model_content:r}),n({modelObj:e})},setHighlightNodes:e=>n({highlightNodes:e})})),{Dragger:awe}=AEe;function swe({tourRef:n}){const e=og(i=>i.setModelObj),r={name:"file",accept:".bim",maxCount:1,customRequest(i){},onChange(i){if(i.fileList.length<=0){e(null);return}var o=new FileReader;o.onload=s=>{var l=JSON.parse(s.target.result);i.file.status="done",e(l),Lk.success("Model file loaded.")},o.onerror=()=>{i.file.status="error",Lk.error("could not load model file")},o.readAsText(i.fileList[0].originFileObj)},onDrop(i){}};return lr.jsx(tg,{bordered:!1,size:"small",ref:n,children:lr.jsxs(awe,{...r,children:[lr.jsx("p",{className:"ant-upload-drag-icon",children:lr.jsx(tie,{})}),lr.jsx("p",{className:"ant-upload-text",children:"Click or drag file to this area to load"}),lr.jsx("p",{className:"ant-upload-hint",children:"Only model.bim files are supported."})]})})}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const iL="158",fc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},_p={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},lwe=0,kF=1,cwe=2,Kj=1,uwe=2,lu=3,Xd=0,Ka=1,mu=2,Eu=0,Nm=1,FF=2,UF=3,zF=4,dwe=5,Wf=100,fwe=101,hwe=102,$F=103,HF=104,pwe=200,mwe=201,gwe=202,vwe=203,V3=204,W3=205,Awe=206,ywe=207,bwe=208,xwe=209,Ewe=210,Cwe=211,wwe=212,Swe=213,_we=214,Mwe=0,Twe=1,Rwe=2,mE=3,Iwe=4,Pwe=5,Lwe=6,Bwe=7,oL=0,Owe=1,Dwe=2,jd=0,Nwe=1,kwe=2,Fwe=3,Uwe=4,zwe=5,Xj=300,ag=301,sg=302,Q3=303,K3=304,VC=306,X3=1e3,kl=1001,q3=1002,Ga=1003,jF=1004,x_=1005,Rs=1006,$we=1007,SA=1008,Gd=1009,Hwe=1010,jwe=1011,aL=1012,qj=1013,Bd=1014,Od=1015,lg=1016,Yj=1017,Jj=1018,fh=1020,Gwe=1021,Fl=1023,Vwe=1024,Wwe=1025,hh=1026,cg=1027,Qwe=1028,Zj=1029,Kwe=1030,eG=1031,tG=1033,E_=33776,C_=33777,w_=33778,S_=33779,GF=35840,VF=35841,WF=35842,QF=35843,Xwe=36196,KF=37492,XF=37496,qF=37808,YF=37809,JF=37810,ZF=37811,e5=37812,t5=37813,n5=37814,r5=37815,i5=37816,o5=37817,a5=37818,s5=37819,l5=37820,c5=37821,__=36492,u5=36494,d5=36495,qwe=36283,f5=36284,h5=36285,p5=36286,nG=3e3,ph=3001,Ywe=3200,Jwe=3201,rG=0,Zwe=1,il="",Go="srgb",Nu="srgb-linear",sL="display-p3",WC="display-p3-linear",gE="linear",eo="srgb",vE="rec709",AE="p3",Mp=7680,m5=519,eSe=512,tSe=513,nSe=514,rSe=515,iSe=516,oSe=517,aSe=518,sSe=519,Y3=35044,g5="300 es",J3=1035,Au=2e3,yE=2001;class Zl{addEventListener(e,r){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(r)===-1&&i[e].push(r)}hasEventListener(e,r){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(r)!==-1}removeEventListener(e,r){if(this._listeners===void 0)return;const o=this._listeners[e];if(o!==void 0){const s=o.indexOf(r);s!==-1&&o.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const o=i.slice(0);for(let s=0,l=o.length;s<l;s++)o[s].call(this,e);e.target=null}}}const Ma=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let v5=1234567;const $0=Math.PI/180,_A=180/Math.PI;function Cu(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,r=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Ma[n&255]+Ma[n>>8&255]+Ma[n>>16&255]+Ma[n>>24&255]+"-"+Ma[e&255]+Ma[e>>8&255]+"-"+Ma[e>>16&15|64]+Ma[e>>24&255]+"-"+Ma[r&63|128]+Ma[r>>8&255]+"-"+Ma[r>>16&255]+Ma[r>>24&255]+Ma[i&255]+Ma[i>>8&255]+Ma[i>>16&255]+Ma[i>>24&255]).toLowerCase()}function ia(n,e,r){return Math.max(e,Math.min(r,n))}function lL(n,e){return(n%e+e)%e}function lSe(n,e,r,i,o){return i+(n-e)*(o-i)/(r-e)}function cSe(n,e,r){return n!==e?(r-n)/(e-n):0}function H0(n,e,r){return(1-r)*n+r*e}function uSe(n,e,r,i){return H0(n,e,1-Math.exp(-r*i))}function dSe(n,e=1){return e-Math.abs(lL(n,e*2)-e)}function fSe(n,e,r){return n<=e?0:n>=r?1:(n=(n-e)/(r-e),n*n*(3-2*n))}function hSe(n,e,r){return n<=e?0:n>=r?1:(n=(n-e)/(r-e),n*n*n*(n*(n*6-15)+10))}function pSe(n,e){return n+Math.floor(Math.random()*(e-n+1))}function mSe(n,e){return n+Math.random()*(e-n)}function gSe(n){return n*(.5-Math.random())}function vSe(n){n!==void 0&&(v5=n);let e=v5+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function ASe(n){return n*$0}function ySe(n){return n*_A}function Z3(n){return(n&n-1)===0&&n!==0}function bSe(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function bE(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function xSe(n,e,r,i,o){const s=Math.cos,l=Math.sin,u=s(r/2),c=l(r/2),d=s((e+i)/2),h=l((e+i)/2),p=s((e-i)/2),m=l((e-i)/2),v=s((i-e)/2),y=l((i-e)/2);switch(o){case"XYX":n.set(u*h,c*p,c*m,u*d);break;case"YZY":n.set(c*m,u*h,c*p,u*d);break;case"ZXZ":n.set(c*p,c*m,u*h,u*d);break;case"XZX":n.set(u*h,c*y,c*v,u*d);break;case"YXY":n.set(c*v,u*h,c*y,u*d);break;case"ZYZ":n.set(c*y,c*v,u*h,u*d);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+o)}}function mc(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Gi(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const eR={DEG2RAD:$0,RAD2DEG:_A,generateUUID:Cu,clamp:ia,euclideanModulo:lL,mapLinear:lSe,inverseLerp:cSe,lerp:H0,damp:uSe,pingpong:dSe,smoothstep:fSe,smootherstep:hSe,randInt:pSe,randFloat:mSe,randFloatSpread:gSe,seededRandom:vSe,degToRad:ASe,radToDeg:ySe,isPowerOfTwo:Z3,ceilPowerOfTwo:bSe,floorPowerOfTwo:bE,setQuaternionFromProperEuler:xSe,normalize:Gi,denormalize:mc};class tr{constructor(e=0,r=0){tr.prototype.isVector2=!0,this.x=e,this.y=r}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,r){return this.x=e,this.y=r,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this}addScaledVector(e,r){return this.x+=e.x*r,this.y+=e.y*r,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const r=this.x,i=this.y,o=e.elements;return this.x=o[0]*r+o[3]*i+o[6],this.y=o[1]*r+o[4]*i+o[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,r){return this.x=Math.max(e.x,Math.min(r.x,this.x)),this.y=Math.max(e.y,Math.min(r.y,this.y)),this}clampScalar(e,r){return this.x=Math.max(e,Math.min(r,this.x)),this.y=Math.max(e,Math.min(r,this.y)),this}clampLength(e,r){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(r,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const r=Math.sqrt(this.lengthSq()*e.lengthSq());if(r===0)return Math.PI/2;const i=this.dot(e)/r;return Math.acos(ia(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const r=this.x-e.x,i=this.y-e.y;return r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this}lerpVectors(e,r,i){return this.x=e.x+(r.x-e.x)*i,this.y=e.y+(r.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,r=0){return this.x=e[r],this.y=e[r+1],this}toArray(e=[],r=0){return e[r]=this.x,e[r+1]=this.y,e}fromBufferAttribute(e,r){return this.x=e.getX(r),this.y=e.getY(r),this}rotateAround(e,r){const i=Math.cos(r),o=Math.sin(r),s=this.x-e.x,l=this.y-e.y;return this.x=s*i-l*o+e.x,this.y=s*o+l*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class fi{constructor(e,r,i,o,s,l,u,c,d){fi.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,r,i,o,s,l,u,c,d)}set(e,r,i,o,s,l,u,c,d){const h=this.elements;return h[0]=e,h[1]=o,h[2]=u,h[3]=r,h[4]=s,h[5]=c,h[6]=i,h[7]=l,h[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const r=this.elements,i=e.elements;return r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],r[4]=i[4],r[5]=i[5],r[6]=i[6],r[7]=i[7],r[8]=i[8],this}extractBasis(e,r,i){return e.setFromMatrix3Column(this,0),r.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const r=e.elements;return this.set(r[0],r[4],r[8],r[1],r[5],r[9],r[2],r[6],r[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,r){const i=e.elements,o=r.elements,s=this.elements,l=i[0],u=i[3],c=i[6],d=i[1],h=i[4],p=i[7],m=i[2],v=i[5],y=i[8],A=o[0],b=o[3],g=o[6],w=o[1],E=o[4],C=o[7],_=o[2],P=o[5],R=o[8];return s[0]=l*A+u*w+c*_,s[3]=l*b+u*E+c*P,s[6]=l*g+u*C+c*R,s[1]=d*A+h*w+p*_,s[4]=d*b+h*E+p*P,s[7]=d*g+h*C+p*R,s[2]=m*A+v*w+y*_,s[5]=m*b+v*E+y*P,s[8]=m*g+v*C+y*R,this}multiplyScalar(e){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=e,r[4]*=e,r[7]*=e,r[2]*=e,r[5]*=e,r[8]*=e,this}determinant(){const e=this.elements,r=e[0],i=e[1],o=e[2],s=e[3],l=e[4],u=e[5],c=e[6],d=e[7],h=e[8];return r*l*h-r*u*d-i*s*h+i*u*c+o*s*d-o*l*c}invert(){const e=this.elements,r=e[0],i=e[1],o=e[2],s=e[3],l=e[4],u=e[5],c=e[6],d=e[7],h=e[8],p=h*l-u*d,m=u*c-h*s,v=d*s-l*c,y=r*p+i*m+o*v;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const A=1/y;return e[0]=p*A,e[1]=(o*d-h*i)*A,e[2]=(u*i-o*l)*A,e[3]=m*A,e[4]=(h*r-o*c)*A,e[5]=(o*s-u*r)*A,e[6]=v*A,e[7]=(i*c-d*r)*A,e[8]=(l*r-i*s)*A,this}transpose(){let e;const r=this.elements;return e=r[1],r[1]=r[3],r[3]=e,e=r[2],r[2]=r[6],r[6]=e,e=r[5],r[5]=r[7],r[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const r=this.elements;return e[0]=r[0],e[1]=r[3],e[2]=r[6],e[3]=r[1],e[4]=r[4],e[5]=r[7],e[6]=r[2],e[7]=r[5],e[8]=r[8],this}setUvTransform(e,r,i,o,s,l,u){const c=Math.cos(s),d=Math.sin(s);return this.set(i*c,i*d,-i*(c*l+d*u)+l+e,-o*d,o*c,-o*(-d*l+c*u)+u+r,0,0,1),this}scale(e,r){return this.premultiply(M_.makeScale(e,r)),this}rotate(e){return this.premultiply(M_.makeRotation(-e)),this}translate(e,r){return this.premultiply(M_.makeTranslation(e,r)),this}makeTranslation(e,r){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,r,0,0,1),this}makeRotation(e){const r=Math.cos(e),i=Math.sin(e);return this.set(r,-i,0,i,r,0,0,0,1),this}makeScale(e,r){return this.set(e,0,0,0,r,0,0,0,1),this}equals(e){const r=this.elements,i=e.elements;for(let o=0;o<9;o++)if(r[o]!==i[o])return!1;return!0}fromArray(e,r=0){for(let i=0;i<9;i++)this.elements[i]=e[i+r];return this}toArray(e=[],r=0){const i=this.elements;return e[r]=i[0],e[r+1]=i[1],e[r+2]=i[2],e[r+3]=i[3],e[r+4]=i[4],e[r+5]=i[5],e[r+6]=i[6],e[r+7]=i[7],e[r+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const M_=new fi;function iG(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function MA(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function ESe(){const n=MA("canvas");return n.style.display="block",n}const A5={};function j0(n){n in A5||(A5[n]=!0,console.warn(n))}const y5=new fi().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),b5=new fi().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Zb={[Nu]:{transfer:gE,primaries:vE,toReference:n=>n,fromReference:n=>n},[Go]:{transfer:eo,primaries:vE,toReference:n=>n.convertSRGBToLinear(),fromReference:n=>n.convertLinearToSRGB()},[WC]:{transfer:gE,primaries:AE,toReference:n=>n.applyMatrix3(b5),fromReference:n=>n.applyMatrix3(y5)},[sL]:{transfer:eo,primaries:AE,toReference:n=>n.convertSRGBToLinear().applyMatrix3(b5),fromReference:n=>n.applyMatrix3(y5).convertLinearToSRGB()}},CSe=new Set([Nu,WC]),Vi={enabled:!0,_workingColorSpace:Nu,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(n){if(!CSe.has(n))throw new Error(`Unsupported working color space, "${n}".`);this._workingColorSpace=n},convert:function(n,e,r){if(this.enabled===!1||e===r||!e||!r)return n;const i=Zb[e].toReference,o=Zb[r].fromReference;return o(i(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this._workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this._workingColorSpace)},getPrimaries:function(n){return Zb[n].primaries},getTransfer:function(n){return n===il?gE:Zb[n].transfer}};function km(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function T_(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Tp;class oG{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{Tp===void 0&&(Tp=MA("canvas")),Tp.width=e.width,Tp.height=e.height;const i=Tp.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=Tp}return r.width>2048||r.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),r.toDataURL("image/jpeg",.6)):r.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const r=MA("canvas");r.width=e.width,r.height=e.height;const i=r.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const o=i.getImageData(0,0,e.width,e.height),s=o.data;for(let l=0;l<s.length;l++)s[l]=km(s[l]/255)*255;return i.putImageData(o,0,0),r}else if(e.data){const r=e.data.slice(0);for(let i=0;i<r.length;i++)r instanceof Uint8Array||r instanceof Uint8ClampedArray?r[i]=Math.floor(km(r[i]/255)*255):r[i]=km(r[i]);return{data:r,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let wSe=0;class aG{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:wSe++}),this.uuid=Cu(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const r=e===void 0||typeof e=="string";if(!r&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},o=this.data;if(o!==null){let s;if(Array.isArray(o)){s=[];for(let l=0,u=o.length;l<u;l++)o[l].isDataTexture?s.push(R_(o[l].image)):s.push(R_(o[l]))}else s=R_(o);i.url=s}return r||(e.images[this.uuid]=i),i}}function R_(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?oG.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let SSe=0;class Xa extends Zl{constructor(e=Xa.DEFAULT_IMAGE,r=Xa.DEFAULT_MAPPING,i=kl,o=kl,s=Rs,l=SA,u=Fl,c=Gd,d=Xa.DEFAULT_ANISOTROPY,h=il){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:SSe++}),this.uuid=Cu(),this.name="",this.source=new aG(e),this.mipmaps=[],this.mapping=r,this.channel=0,this.wrapS=i,this.wrapT=o,this.magFilter=s,this.minFilter=l,this.anisotropy=d,this.format=u,this.internalFormat=null,this.type=c,this.offset=new tr(0,0),this.repeat=new tr(1,1),this.center=new tr(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new fi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof h=="string"?this.colorSpace=h:(j0("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=h===ph?Go:il),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const r=e===void 0||typeof e=="string";if(!r&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),r||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Xj)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case X3:e.x=e.x-Math.floor(e.x);break;case kl:e.x=e.x<0?0:1;break;case q3:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case X3:e.y=e.y-Math.floor(e.y);break;case kl:e.y=e.y<0?0:1;break;case q3:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return j0("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Go?ph:nG}set encoding(e){j0("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===ph?Go:il}}Xa.DEFAULT_IMAGE=null;Xa.DEFAULT_MAPPING=Xj;Xa.DEFAULT_ANISOTROPY=1;class oa{constructor(e=0,r=0,i=0,o=1){oa.prototype.isVector4=!0,this.x=e,this.y=r,this.z=i,this.w=o}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,r,i,o){return this.x=e,this.y=r,this.z=i,this.w=o,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;case 3:this.w=r;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this.z=e.z+r.z,this.w=e.w+r.w,this}addScaledVector(e,r){return this.x+=e.x*r,this.y+=e.y*r,this.z+=e.z*r,this.w+=e.w*r,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this.z=e.z-r.z,this.w=e.w-r.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const r=this.x,i=this.y,o=this.z,s=this.w,l=e.elements;return this.x=l[0]*r+l[4]*i+l[8]*o+l[12]*s,this.y=l[1]*r+l[5]*i+l[9]*o+l[13]*s,this.z=l[2]*r+l[6]*i+l[10]*o+l[14]*s,this.w=l[3]*r+l[7]*i+l[11]*o+l[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const r=Math.sqrt(1-e.w*e.w);return r<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/r,this.y=e.y/r,this.z=e.z/r),this}setAxisAngleFromRotationMatrix(e){let r,i,o,s;const c=e.elements,d=c[0],h=c[4],p=c[8],m=c[1],v=c[5],y=c[9],A=c[2],b=c[6],g=c[10];if(Math.abs(h-m)<.01&&Math.abs(p-A)<.01&&Math.abs(y-b)<.01){if(Math.abs(h+m)<.1&&Math.abs(p+A)<.1&&Math.abs(y+b)<.1&&Math.abs(d+v+g-3)<.1)return this.set(1,0,0,0),this;r=Math.PI;const E=(d+1)/2,C=(v+1)/2,_=(g+1)/2,P=(h+m)/4,R=(p+A)/4,L=(y+b)/4;return E>C&&E>_?E<.01?(i=0,o=.707106781,s=.707106781):(i=Math.sqrt(E),o=P/i,s=R/i):C>_?C<.01?(i=.707106781,o=0,s=.707106781):(o=Math.sqrt(C),i=P/o,s=L/o):_<.01?(i=.707106781,o=.707106781,s=0):(s=Math.sqrt(_),i=R/s,o=L/s),this.set(i,o,s,r),this}let w=Math.sqrt((b-y)*(b-y)+(p-A)*(p-A)+(m-h)*(m-h));return Math.abs(w)<.001&&(w=1),this.x=(b-y)/w,this.y=(p-A)/w,this.z=(m-h)/w,this.w=Math.acos((d+v+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,r){return this.x=Math.max(e.x,Math.min(r.x,this.x)),this.y=Math.max(e.y,Math.min(r.y,this.y)),this.z=Math.max(e.z,Math.min(r.z,this.z)),this.w=Math.max(e.w,Math.min(r.w,this.w)),this}clampScalar(e,r){return this.x=Math.max(e,Math.min(r,this.x)),this.y=Math.max(e,Math.min(r,this.y)),this.z=Math.max(e,Math.min(r,this.z)),this.w=Math.max(e,Math.min(r,this.w)),this}clampLength(e,r){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(r,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this.z+=(e.z-this.z)*r,this.w+=(e.w-this.w)*r,this}lerpVectors(e,r,i){return this.x=e.x+(r.x-e.x)*i,this.y=e.y+(r.y-e.y)*i,this.z=e.z+(r.z-e.z)*i,this.w=e.w+(r.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,r=0){return this.x=e[r],this.y=e[r+1],this.z=e[r+2],this.w=e[r+3],this}toArray(e=[],r=0){return e[r]=this.x,e[r+1]=this.y,e[r+2]=this.z,e[r+3]=this.w,e}fromBufferAttribute(e,r){return this.x=e.getX(r),this.y=e.getY(r),this.z=e.getZ(r),this.w=e.getW(r),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class _Se extends Zl{constructor(e=1,r=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=r,this.depth=1,this.scissor=new oa(0,0,e,r),this.scissorTest=!1,this.viewport=new oa(0,0,e,r);const o={width:e,height:r,depth:1};i.encoding!==void 0&&(j0("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===ph?Go:il),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Rs,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},i),this.texture=new Xa(o,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps,this.texture.internalFormat=i.internalFormat,this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}setSize(e,r,i=1){(this.width!==e||this.height!==r||this.depth!==i)&&(this.width=e,this.height=r,this.depth=i,this.texture.image.width=e,this.texture.image.height=r,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,r),this.scissor.set(0,0,e,r)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const r=Object.assign({},e.texture.image);return this.texture.source=new aG(r),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class qd extends _Se{constructor(e=1,r=1,i={}){super(e,r,i),this.isWebGLRenderTarget=!0}}class sG extends Xa{constructor(e=null,r=1,i=1,o=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:r,height:i,depth:o},this.magFilter=Ga,this.minFilter=Ga,this.wrapR=kl,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class MSe extends Xa{constructor(e=null,r=1,i=1,o=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:r,height:i,depth:o},this.magFilter=Ga,this.minFilter=Ga,this.wrapR=kl,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Xl{constructor(e=0,r=0,i=0,o=1){this.isQuaternion=!0,this._x=e,this._y=r,this._z=i,this._w=o}static slerpFlat(e,r,i,o,s,l,u){let c=i[o+0],d=i[o+1],h=i[o+2],p=i[o+3];const m=s[l+0],v=s[l+1],y=s[l+2],A=s[l+3];if(u===0){e[r+0]=c,e[r+1]=d,e[r+2]=h,e[r+3]=p;return}if(u===1){e[r+0]=m,e[r+1]=v,e[r+2]=y,e[r+3]=A;return}if(p!==A||c!==m||d!==v||h!==y){let b=1-u;const g=c*m+d*v+h*y+p*A,w=g>=0?1:-1,E=1-g*g;if(E>Number.EPSILON){const _=Math.sqrt(E),P=Math.atan2(_,g*w);b=Math.sin(b*P)/_,u=Math.sin(u*P)/_}const C=u*w;if(c=c*b+m*C,d=d*b+v*C,h=h*b+y*C,p=p*b+A*C,b===1-u){const _=1/Math.sqrt(c*c+d*d+h*h+p*p);c*=_,d*=_,h*=_,p*=_}}e[r]=c,e[r+1]=d,e[r+2]=h,e[r+3]=p}static multiplyQuaternionsFlat(e,r,i,o,s,l){const u=i[o],c=i[o+1],d=i[o+2],h=i[o+3],p=s[l],m=s[l+1],v=s[l+2],y=s[l+3];return e[r]=u*y+h*p+c*v-d*m,e[r+1]=c*y+h*m+d*p-u*v,e[r+2]=d*y+h*v+u*m-c*p,e[r+3]=h*y-u*p-c*m-d*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,r,i,o){return this._x=e,this._y=r,this._z=i,this._w=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,r){const i=e._x,o=e._y,s=e._z,l=e._order,u=Math.cos,c=Math.sin,d=u(i/2),h=u(o/2),p=u(s/2),m=c(i/2),v=c(o/2),y=c(s/2);switch(l){case"XYZ":this._x=m*h*p+d*v*y,this._y=d*v*p-m*h*y,this._z=d*h*y+m*v*p,this._w=d*h*p-m*v*y;break;case"YXZ":this._x=m*h*p+d*v*y,this._y=d*v*p-m*h*y,this._z=d*h*y-m*v*p,this._w=d*h*p+m*v*y;break;case"ZXY":this._x=m*h*p-d*v*y,this._y=d*v*p+m*h*y,this._z=d*h*y+m*v*p,this._w=d*h*p-m*v*y;break;case"ZYX":this._x=m*h*p-d*v*y,this._y=d*v*p+m*h*y,this._z=d*h*y-m*v*p,this._w=d*h*p+m*v*y;break;case"YZX":this._x=m*h*p+d*v*y,this._y=d*v*p+m*h*y,this._z=d*h*y-m*v*p,this._w=d*h*p-m*v*y;break;case"XZY":this._x=m*h*p-d*v*y,this._y=d*v*p-m*h*y,this._z=d*h*y+m*v*p,this._w=d*h*p+m*v*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return r!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,r){const i=r/2,o=Math.sin(i);return this._x=e.x*o,this._y=e.y*o,this._z=e.z*o,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const r=e.elements,i=r[0],o=r[4],s=r[8],l=r[1],u=r[5],c=r[9],d=r[2],h=r[6],p=r[10],m=i+u+p;if(m>0){const v=.5/Math.sqrt(m+1);this._w=.25/v,this._x=(h-c)*v,this._y=(s-d)*v,this._z=(l-o)*v}else if(i>u&&i>p){const v=2*Math.sqrt(1+i-u-p);this._w=(h-c)/v,this._x=.25*v,this._y=(o+l)/v,this._z=(s+d)/v}else if(u>p){const v=2*Math.sqrt(1+u-i-p);this._w=(s-d)/v,this._x=(o+l)/v,this._y=.25*v,this._z=(c+h)/v}else{const v=2*Math.sqrt(1+p-i-u);this._w=(l-o)/v,this._x=(s+d)/v,this._y=(c+h)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,r){let i=e.dot(r)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*r.z-e.z*r.y,this._y=e.z*r.x-e.x*r.z,this._z=e.x*r.y-e.y*r.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(ia(this.dot(e),-1,1)))}rotateTowards(e,r){const i=this.angleTo(e);if(i===0)return this;const o=Math.min(1,r/i);return this.slerp(e,o),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,r){const i=e._x,o=e._y,s=e._z,l=e._w,u=r._x,c=r._y,d=r._z,h=r._w;return this._x=i*h+l*u+o*d-s*c,this._y=o*h+l*c+s*u-i*d,this._z=s*h+l*d+i*c-o*u,this._w=l*h-i*u-o*c-s*d,this._onChangeCallback(),this}slerp(e,r){if(r===0)return this;if(r===1)return this.copy(e);const i=this._x,o=this._y,s=this._z,l=this._w;let u=l*e._w+i*e._x+o*e._y+s*e._z;if(u<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,u=-u):this.copy(e),u>=1)return this._w=l,this._x=i,this._y=o,this._z=s,this;const c=1-u*u;if(c<=Number.EPSILON){const v=1-r;return this._w=v*l+r*this._w,this._x=v*i+r*this._x,this._y=v*o+r*this._y,this._z=v*s+r*this._z,this.normalize(),this._onChangeCallback(),this}const d=Math.sqrt(c),h=Math.atan2(d,u),p=Math.sin((1-r)*h)/d,m=Math.sin(r*h)/d;return this._w=l*p+this._w*m,this._x=i*p+this._x*m,this._y=o*p+this._y*m,this._z=s*p+this._z*m,this._onChangeCallback(),this}slerpQuaternions(e,r,i){return this.copy(e).slerp(r,i)}random(){const e=Math.random(),r=Math.sqrt(1-e),i=Math.sqrt(e),o=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(r*Math.cos(o),i*Math.sin(s),i*Math.cos(s),r*Math.sin(o))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,r=0){return this._x=e[r],this._y=e[r+1],this._z=e[r+2],this._w=e[r+3],this._onChangeCallback(),this}toArray(e=[],r=0){return e[r]=this._x,e[r+1]=this._y,e[r+2]=this._z,e[r+3]=this._w,e}fromBufferAttribute(e,r){return this._x=e.getX(r),this._y=e.getY(r),this._z=e.getZ(r),this._w=e.getW(r),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Rt{constructor(e=0,r=0,i=0){Rt.prototype.isVector3=!0,this.x=e,this.y=r,this.z=i}set(e,r,i){return i===void 0&&(i=this.z),this.x=e,this.y=r,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this.z=e.z+r.z,this}addScaledVector(e,r){return this.x+=e.x*r,this.y+=e.y*r,this.z+=e.z*r,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this.z=e.z-r.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,r){return this.x=e.x*r.x,this.y=e.y*r.y,this.z=e.z*r.z,this}applyEuler(e){return this.applyQuaternion(x5.setFromEuler(e))}applyAxisAngle(e,r){return this.applyQuaternion(x5.setFromAxisAngle(e,r))}applyMatrix3(e){const r=this.x,i=this.y,o=this.z,s=e.elements;return this.x=s[0]*r+s[3]*i+s[6]*o,this.y=s[1]*r+s[4]*i+s[7]*o,this.z=s[2]*r+s[5]*i+s[8]*o,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const r=this.x,i=this.y,o=this.z,s=e.elements,l=1/(s[3]*r+s[7]*i+s[11]*o+s[15]);return this.x=(s[0]*r+s[4]*i+s[8]*o+s[12])*l,this.y=(s[1]*r+s[5]*i+s[9]*o+s[13])*l,this.z=(s[2]*r+s[6]*i+s[10]*o+s[14])*l,this}applyQuaternion(e){const r=this.x,i=this.y,o=this.z,s=e.x,l=e.y,u=e.z,c=e.w,d=2*(l*o-u*i),h=2*(u*r-s*o),p=2*(s*i-l*r);return this.x=r+c*d+l*p-u*h,this.y=i+c*h+u*d-s*p,this.z=o+c*p+s*h-l*d,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const r=this.x,i=this.y,o=this.z,s=e.elements;return this.x=s[0]*r+s[4]*i+s[8]*o,this.y=s[1]*r+s[5]*i+s[9]*o,this.z=s[2]*r+s[6]*i+s[10]*o,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,r){return this.x=Math.max(e.x,Math.min(r.x,this.x)),this.y=Math.max(e.y,Math.min(r.y,this.y)),this.z=Math.max(e.z,Math.min(r.z,this.z)),this}clampScalar(e,r){return this.x=Math.max(e,Math.min(r,this.x)),this.y=Math.max(e,Math.min(r,this.y)),this.z=Math.max(e,Math.min(r,this.z)),this}clampLength(e,r){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(r,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this.z+=(e.z-this.z)*r,this}lerpVectors(e,r,i){return this.x=e.x+(r.x-e.x)*i,this.y=e.y+(r.y-e.y)*i,this.z=e.z+(r.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,r){const i=e.x,o=e.y,s=e.z,l=r.x,u=r.y,c=r.z;return this.x=o*c-s*u,this.y=s*l-i*c,this.z=i*u-o*l,this}projectOnVector(e){const r=e.lengthSq();if(r===0)return this.set(0,0,0);const i=e.dot(this)/r;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return I_.copy(this).projectOnVector(e),this.sub(I_)}reflect(e){return this.sub(I_.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const r=Math.sqrt(this.lengthSq()*e.lengthSq());if(r===0)return Math.PI/2;const i=this.dot(e)/r;return Math.acos(ia(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const r=this.x-e.x,i=this.y-e.y,o=this.z-e.z;return r*r+i*i+o*o}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,r,i){const o=Math.sin(r)*e;return this.x=o*Math.sin(i),this.y=Math.cos(r)*e,this.z=o*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,r,i){return this.x=e*Math.sin(r),this.y=i,this.z=e*Math.cos(r),this}setFromMatrixPosition(e){const r=e.elements;return this.x=r[12],this.y=r[13],this.z=r[14],this}setFromMatrixScale(e){const r=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),o=this.setFromMatrixColumn(e,2).length();return this.x=r,this.y=i,this.z=o,this}setFromMatrixColumn(e,r){return this.fromArray(e.elements,r*4)}setFromMatrix3Column(e,r){return this.fromArray(e.elements,r*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,r=0){return this.x=e[r],this.y=e[r+1],this.z=e[r+2],this}toArray(e=[],r=0){return e[r]=this.x,e[r+1]=this.y,e[r+2]=this.z,e}fromBufferAttribute(e,r){return this.x=e.getX(r),this.y=e.getY(r),this.z=e.getZ(r),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,r=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(r),this.y=i*Math.sin(r),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const I_=new Rt,x5=new Xl;class Lh{constructor(e=new Rt(1/0,1/0,1/0),r=new Rt(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=r}set(e,r){return this.min.copy(e),this.max.copy(r),this}setFromArray(e){this.makeEmpty();for(let r=0,i=e.length;r<i;r+=3)this.expandByPoint(wl.fromArray(e,r));return this}setFromBufferAttribute(e){this.makeEmpty();for(let r=0,i=e.count;r<i;r++)this.expandByPoint(wl.fromBufferAttribute(e,r));return this}setFromPoints(e){this.makeEmpty();for(let r=0,i=e.length;r<i;r++)this.expandByPoint(e[r]);return this}setFromCenterAndSize(e,r){const i=wl.copy(r).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,r=!1){return this.makeEmpty(),this.expandByObject(e,r)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,r=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(r===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let l=0,u=s.count;l<u;l++)e.isMesh===!0?e.getVertexPosition(l,wl):wl.fromBufferAttribute(s,l),wl.applyMatrix4(e.matrixWorld),this.expandByPoint(wl);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),e1.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),e1.copy(i.boundingBox)),e1.applyMatrix4(e.matrixWorld),this.union(e1)}const o=e.children;for(let s=0,l=o.length;s<l;s++)this.expandByObject(o[s],r);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,r){return r.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,wl),wl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let r,i;return e.normal.x>0?(r=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(r=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(r+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(r+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(r+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(r+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),r<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(kv),t1.subVectors(this.max,kv),Rp.subVectors(e.a,kv),Ip.subVectors(e.b,kv),Pp.subVectors(e.c,kv),ld.subVectors(Ip,Rp),cd.subVectors(Pp,Ip),Lf.subVectors(Rp,Pp);let r=[0,-ld.z,ld.y,0,-cd.z,cd.y,0,-Lf.z,Lf.y,ld.z,0,-ld.x,cd.z,0,-cd.x,Lf.z,0,-Lf.x,-ld.y,ld.x,0,-cd.y,cd.x,0,-Lf.y,Lf.x,0];return!P_(r,Rp,Ip,Pp,t1)||(r=[1,0,0,0,1,0,0,0,1],!P_(r,Rp,Ip,Pp,t1))?!1:(n1.crossVectors(ld,cd),r=[n1.x,n1.y,n1.z],P_(r,Rp,Ip,Pp,t1))}clampPoint(e,r){return r.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,wl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(wl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(qc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),qc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),qc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),qc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),qc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),qc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),qc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),qc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(qc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const qc=[new Rt,new Rt,new Rt,new Rt,new Rt,new Rt,new Rt,new Rt],wl=new Rt,e1=new Lh,Rp=new Rt,Ip=new Rt,Pp=new Rt,ld=new Rt,cd=new Rt,Lf=new Rt,kv=new Rt,t1=new Rt,n1=new Rt,Bf=new Rt;function P_(n,e,r,i,o){for(let s=0,l=n.length-3;s<=l;s+=3){Bf.fromArray(n,s);const u=o.x*Math.abs(Bf.x)+o.y*Math.abs(Bf.y)+o.z*Math.abs(Bf.z),c=e.dot(Bf),d=r.dot(Bf),h=i.dot(Bf);if(Math.max(-Math.max(c,d,h),Math.min(c,d,h))>u)return!1}return!0}const TSe=new Lh,Fv=new Rt,L_=new Rt;class QC{constructor(e=new Rt,r=-1){this.center=e,this.radius=r}set(e,r){return this.center.copy(e),this.radius=r,this}setFromPoints(e,r){const i=this.center;r!==void 0?i.copy(r):TSe.setFromPoints(e).getCenter(i);let o=0;for(let s=0,l=e.length;s<l;s++)o=Math.max(o,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(o),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const r=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=r*r}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,r){const i=this.center.distanceToSquared(e);return r.copy(e),i>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Fv.subVectors(e,this.center);const r=Fv.lengthSq();if(r>this.radius*this.radius){const i=Math.sqrt(r),o=(i-this.radius)*.5;this.center.addScaledVector(Fv,o/i),this.radius+=o}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(L_.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Fv.copy(e.center).add(L_)),this.expandByPoint(Fv.copy(e.center).sub(L_))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Yc=new Rt,B_=new Rt,r1=new Rt,ud=new Rt,O_=new Rt,i1=new Rt,D_=new Rt;class KC{constructor(e=new Rt,r=new Rt(0,0,-1)){this.origin=e,this.direction=r}set(e,r){return this.origin.copy(e),this.direction.copy(r),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,r){return r.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Yc)),this}closestPointToPoint(e,r){r.subVectors(e,this.origin);const i=r.dot(this.direction);return i<0?r.copy(this.origin):r.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const r=Yc.subVectors(e,this.origin).dot(this.direction);return r<0?this.origin.distanceToSquared(e):(Yc.copy(this.origin).addScaledVector(this.direction,r),Yc.distanceToSquared(e))}distanceSqToSegment(e,r,i,o){B_.copy(e).add(r).multiplyScalar(.5),r1.copy(r).sub(e).normalize(),ud.copy(this.origin).sub(B_);const s=e.distanceTo(r)*.5,l=-this.direction.dot(r1),u=ud.dot(this.direction),c=-ud.dot(r1),d=ud.lengthSq(),h=Math.abs(1-l*l);let p,m,v,y;if(h>0)if(p=l*c-u,m=l*u-c,y=s*h,p>=0)if(m>=-y)if(m<=y){const A=1/h;p*=A,m*=A,v=p*(p+l*m+2*u)+m*(l*p+m+2*c)+d}else m=s,p=Math.max(0,-(l*m+u)),v=-p*p+m*(m+2*c)+d;else m=-s,p=Math.max(0,-(l*m+u)),v=-p*p+m*(m+2*c)+d;else m<=-y?(p=Math.max(0,-(-l*s+u)),m=p>0?-s:Math.min(Math.max(-s,-c),s),v=-p*p+m*(m+2*c)+d):m<=y?(p=0,m=Math.min(Math.max(-s,-c),s),v=m*(m+2*c)+d):(p=Math.max(0,-(l*s+u)),m=p>0?s:Math.min(Math.max(-s,-c),s),v=-p*p+m*(m+2*c)+d);else m=l>0?-s:s,p=Math.max(0,-(l*m+u)),v=-p*p+m*(m+2*c)+d;return i&&i.copy(this.origin).addScaledVector(this.direction,p),o&&o.copy(B_).addScaledVector(r1,m),v}intersectSphere(e,r){Yc.subVectors(e.center,this.origin);const i=Yc.dot(this.direction),o=Yc.dot(Yc)-i*i,s=e.radius*e.radius;if(o>s)return null;const l=Math.sqrt(s-o),u=i-l,c=i+l;return c<0?null:u<0?this.at(c,r):this.at(u,r)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const r=e.normal.dot(this.direction);if(r===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/r;return i>=0?i:null}intersectPlane(e,r){const i=this.distanceToPlane(e);return i===null?null:this.at(i,r)}intersectsPlane(e){const r=e.distanceToPoint(this.origin);return r===0||e.normal.dot(this.direction)*r<0}intersectBox(e,r){let i,o,s,l,u,c;const d=1/this.direction.x,h=1/this.direction.y,p=1/this.direction.z,m=this.origin;return d>=0?(i=(e.min.x-m.x)*d,o=(e.max.x-m.x)*d):(i=(e.max.x-m.x)*d,o=(e.min.x-m.x)*d),h>=0?(s=(e.min.y-m.y)*h,l=(e.max.y-m.y)*h):(s=(e.max.y-m.y)*h,l=(e.min.y-m.y)*h),i>l||s>o||((s>i||isNaN(i))&&(i=s),(l<o||isNaN(o))&&(o=l),p>=0?(u=(e.min.z-m.z)*p,c=(e.max.z-m.z)*p):(u=(e.max.z-m.z)*p,c=(e.min.z-m.z)*p),i>c||u>o)||((u>i||i!==i)&&(i=u),(c<o||o!==o)&&(o=c),o<0)?null:this.at(i>=0?i:o,r)}intersectsBox(e){return this.intersectBox(e,Yc)!==null}intersectTriangle(e,r,i,o,s){O_.subVectors(r,e),i1.subVectors(i,e),D_.crossVectors(O_,i1);let l=this.direction.dot(D_),u;if(l>0){if(o)return null;u=1}else if(l<0)u=-1,l=-l;else return null;ud.subVectors(this.origin,e);const c=u*this.direction.dot(i1.crossVectors(ud,i1));if(c<0)return null;const d=u*this.direction.dot(O_.cross(ud));if(d<0||c+d>l)return null;const h=-u*ud.dot(D_);return h<0?null:this.at(h/l,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class lo{constructor(e,r,i,o,s,l,u,c,d,h,p,m,v,y,A,b){lo.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,r,i,o,s,l,u,c,d,h,p,m,v,y,A,b)}set(e,r,i,o,s,l,u,c,d,h,p,m,v,y,A,b){const g=this.elements;return g[0]=e,g[4]=r,g[8]=i,g[12]=o,g[1]=s,g[5]=l,g[9]=u,g[13]=c,g[2]=d,g[6]=h,g[10]=p,g[14]=m,g[3]=v,g[7]=y,g[11]=A,g[15]=b,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new lo().fromArray(this.elements)}copy(e){const r=this.elements,i=e.elements;return r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],r[4]=i[4],r[5]=i[5],r[6]=i[6],r[7]=i[7],r[8]=i[8],r[9]=i[9],r[10]=i[10],r[11]=i[11],r[12]=i[12],r[13]=i[13],r[14]=i[14],r[15]=i[15],this}copyPosition(e){const r=this.elements,i=e.elements;return r[12]=i[12],r[13]=i[13],r[14]=i[14],this}setFromMatrix3(e){const r=e.elements;return this.set(r[0],r[3],r[6],0,r[1],r[4],r[7],0,r[2],r[5],r[8],0,0,0,0,1),this}extractBasis(e,r,i){return e.setFromMatrixColumn(this,0),r.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,r,i){return this.set(e.x,r.x,i.x,0,e.y,r.y,i.y,0,e.z,r.z,i.z,0,0,0,0,1),this}extractRotation(e){const r=this.elements,i=e.elements,o=1/Lp.setFromMatrixColumn(e,0).length(),s=1/Lp.setFromMatrixColumn(e,1).length(),l=1/Lp.setFromMatrixColumn(e,2).length();return r[0]=i[0]*o,r[1]=i[1]*o,r[2]=i[2]*o,r[3]=0,r[4]=i[4]*s,r[5]=i[5]*s,r[6]=i[6]*s,r[7]=0,r[8]=i[8]*l,r[9]=i[9]*l,r[10]=i[10]*l,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}makeRotationFromEuler(e){const r=this.elements,i=e.x,o=e.y,s=e.z,l=Math.cos(i),u=Math.sin(i),c=Math.cos(o),d=Math.sin(o),h=Math.cos(s),p=Math.sin(s);if(e.order==="XYZ"){const m=l*h,v=l*p,y=u*h,A=u*p;r[0]=c*h,r[4]=-c*p,r[8]=d,r[1]=v+y*d,r[5]=m-A*d,r[9]=-u*c,r[2]=A-m*d,r[6]=y+v*d,r[10]=l*c}else if(e.order==="YXZ"){const m=c*h,v=c*p,y=d*h,A=d*p;r[0]=m+A*u,r[4]=y*u-v,r[8]=l*d,r[1]=l*p,r[5]=l*h,r[9]=-u,r[2]=v*u-y,r[6]=A+m*u,r[10]=l*c}else if(e.order==="ZXY"){const m=c*h,v=c*p,y=d*h,A=d*p;r[0]=m-A*u,r[4]=-l*p,r[8]=y+v*u,r[1]=v+y*u,r[5]=l*h,r[9]=A-m*u,r[2]=-l*d,r[6]=u,r[10]=l*c}else if(e.order==="ZYX"){const m=l*h,v=l*p,y=u*h,A=u*p;r[0]=c*h,r[4]=y*d-v,r[8]=m*d+A,r[1]=c*p,r[5]=A*d+m,r[9]=v*d-y,r[2]=-d,r[6]=u*c,r[10]=l*c}else if(e.order==="YZX"){const m=l*c,v=l*d,y=u*c,A=u*d;r[0]=c*h,r[4]=A-m*p,r[8]=y*p+v,r[1]=p,r[5]=l*h,r[9]=-u*h,r[2]=-d*h,r[6]=v*p+y,r[10]=m-A*p}else if(e.order==="XZY"){const m=l*c,v=l*d,y=u*c,A=u*d;r[0]=c*h,r[4]=-p,r[8]=d*h,r[1]=m*p+A,r[5]=l*h,r[9]=v*p-y,r[2]=y*p-v,r[6]=u*h,r[10]=A*p+m}return r[3]=0,r[7]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}makeRotationFromQuaternion(e){return this.compose(RSe,e,ISe)}lookAt(e,r,i){const o=this.elements;return ws.subVectors(e,r),ws.lengthSq()===0&&(ws.z=1),ws.normalize(),dd.crossVectors(i,ws),dd.lengthSq()===0&&(Math.abs(i.z)===1?ws.x+=1e-4:ws.z+=1e-4,ws.normalize(),dd.crossVectors(i,ws)),dd.normalize(),o1.crossVectors(ws,dd),o[0]=dd.x,o[4]=o1.x,o[8]=ws.x,o[1]=dd.y,o[5]=o1.y,o[9]=ws.y,o[2]=dd.z,o[6]=o1.z,o[10]=ws.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,r){const i=e.elements,o=r.elements,s=this.elements,l=i[0],u=i[4],c=i[8],d=i[12],h=i[1],p=i[5],m=i[9],v=i[13],y=i[2],A=i[6],b=i[10],g=i[14],w=i[3],E=i[7],C=i[11],_=i[15],P=o[0],R=o[4],L=o[8],T=o[12],D=o[1],H=o[5],V=o[9],B=o[13],O=o[2],F=o[6],N=o[10],z=o[14],j=o[3],G=o[7],Q=o[11],X=o[15];return s[0]=l*P+u*D+c*O+d*j,s[4]=l*R+u*H+c*F+d*G,s[8]=l*L+u*V+c*N+d*Q,s[12]=l*T+u*B+c*z+d*X,s[1]=h*P+p*D+m*O+v*j,s[5]=h*R+p*H+m*F+v*G,s[9]=h*L+p*V+m*N+v*Q,s[13]=h*T+p*B+m*z+v*X,s[2]=y*P+A*D+b*O+g*j,s[6]=y*R+A*H+b*F+g*G,s[10]=y*L+A*V+b*N+g*Q,s[14]=y*T+A*B+b*z+g*X,s[3]=w*P+E*D+C*O+_*j,s[7]=w*R+E*H+C*F+_*G,s[11]=w*L+E*V+C*N+_*Q,s[15]=w*T+E*B+C*z+_*X,this}multiplyScalar(e){const r=this.elements;return r[0]*=e,r[4]*=e,r[8]*=e,r[12]*=e,r[1]*=e,r[5]*=e,r[9]*=e,r[13]*=e,r[2]*=e,r[6]*=e,r[10]*=e,r[14]*=e,r[3]*=e,r[7]*=e,r[11]*=e,r[15]*=e,this}determinant(){const e=this.elements,r=e[0],i=e[4],o=e[8],s=e[12],l=e[1],u=e[5],c=e[9],d=e[13],h=e[2],p=e[6],m=e[10],v=e[14],y=e[3],A=e[7],b=e[11],g=e[15];return y*(+s*c*p-o*d*p-s*u*m+i*d*m+o*u*v-i*c*v)+A*(+r*c*v-r*d*m+s*l*m-o*l*v+o*d*h-s*c*h)+b*(+r*d*p-r*u*v-s*l*p+i*l*v+s*u*h-i*d*h)+g*(-o*u*h-r*c*p+r*u*m+o*l*p-i*l*m+i*c*h)}transpose(){const e=this.elements;let r;return r=e[1],e[1]=e[4],e[4]=r,r=e[2],e[2]=e[8],e[8]=r,r=e[6],e[6]=e[9],e[9]=r,r=e[3],e[3]=e[12],e[12]=r,r=e[7],e[7]=e[13],e[13]=r,r=e[11],e[11]=e[14],e[14]=r,this}setPosition(e,r,i){const o=this.elements;return e.isVector3?(o[12]=e.x,o[13]=e.y,o[14]=e.z):(o[12]=e,o[13]=r,o[14]=i),this}invert(){const e=this.elements,r=e[0],i=e[1],o=e[2],s=e[3],l=e[4],u=e[5],c=e[6],d=e[7],h=e[8],p=e[9],m=e[10],v=e[11],y=e[12],A=e[13],b=e[14],g=e[15],w=p*b*d-A*m*d+A*c*v-u*b*v-p*c*g+u*m*g,E=y*m*d-h*b*d-y*c*v+l*b*v+h*c*g-l*m*g,C=h*A*d-y*p*d+y*u*v-l*A*v-h*u*g+l*p*g,_=y*p*c-h*A*c-y*u*m+l*A*m+h*u*b-l*p*b,P=r*w+i*E+o*C+s*_;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/P;return e[0]=w*R,e[1]=(A*m*s-p*b*s-A*o*v+i*b*v+p*o*g-i*m*g)*R,e[2]=(u*b*s-A*c*s+A*o*d-i*b*d-u*o*g+i*c*g)*R,e[3]=(p*c*s-u*m*s-p*o*d+i*m*d+u*o*v-i*c*v)*R,e[4]=E*R,e[5]=(h*b*s-y*m*s+y*o*v-r*b*v-h*o*g+r*m*g)*R,e[6]=(y*c*s-l*b*s-y*o*d+r*b*d+l*o*g-r*c*g)*R,e[7]=(l*m*s-h*c*s+h*o*d-r*m*d-l*o*v+r*c*v)*R,e[8]=C*R,e[9]=(y*p*s-h*A*s-y*i*v+r*A*v+h*i*g-r*p*g)*R,e[10]=(l*A*s-y*u*s+y*i*d-r*A*d-l*i*g+r*u*g)*R,e[11]=(h*u*s-l*p*s-h*i*d+r*p*d+l*i*v-r*u*v)*R,e[12]=_*R,e[13]=(h*A*o-y*p*o+y*i*m-r*A*m-h*i*b+r*p*b)*R,e[14]=(y*u*o-l*A*o-y*i*c+r*A*c+l*i*b-r*u*b)*R,e[15]=(l*p*o-h*u*o+h*i*c-r*p*c-l*i*m+r*u*m)*R,this}scale(e){const r=this.elements,i=e.x,o=e.y,s=e.z;return r[0]*=i,r[4]*=o,r[8]*=s,r[1]*=i,r[5]*=o,r[9]*=s,r[2]*=i,r[6]*=o,r[10]*=s,r[3]*=i,r[7]*=o,r[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,r=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],o=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(r,i,o))}makeTranslation(e,r,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,r,0,0,1,i,0,0,0,1),this}makeRotationX(e){const r=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,r,-i,0,0,i,r,0,0,0,0,1),this}makeRotationY(e){const r=Math.cos(e),i=Math.sin(e);return this.set(r,0,i,0,0,1,0,0,-i,0,r,0,0,0,0,1),this}makeRotationZ(e){const r=Math.cos(e),i=Math.sin(e);return this.set(r,-i,0,0,i,r,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,r){const i=Math.cos(r),o=Math.sin(r),s=1-i,l=e.x,u=e.y,c=e.z,d=s*l,h=s*u;return this.set(d*l+i,d*u-o*c,d*c+o*u,0,d*u+o*c,h*u+i,h*c-o*l,0,d*c-o*u,h*c+o*l,s*c*c+i,0,0,0,0,1),this}makeScale(e,r,i){return this.set(e,0,0,0,0,r,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,r,i,o,s,l){return this.set(1,i,s,0,e,1,l,0,r,o,1,0,0,0,0,1),this}compose(e,r,i){const o=this.elements,s=r._x,l=r._y,u=r._z,c=r._w,d=s+s,h=l+l,p=u+u,m=s*d,v=s*h,y=s*p,A=l*h,b=l*p,g=u*p,w=c*d,E=c*h,C=c*p,_=i.x,P=i.y,R=i.z;return o[0]=(1-(A+g))*_,o[1]=(v+C)*_,o[2]=(y-E)*_,o[3]=0,o[4]=(v-C)*P,o[5]=(1-(m+g))*P,o[6]=(b+w)*P,o[7]=0,o[8]=(y+E)*R,o[9]=(b-w)*R,o[10]=(1-(m+A))*R,o[11]=0,o[12]=e.x,o[13]=e.y,o[14]=e.z,o[15]=1,this}decompose(e,r,i){const o=this.elements;let s=Lp.set(o[0],o[1],o[2]).length();const l=Lp.set(o[4],o[5],o[6]).length(),u=Lp.set(o[8],o[9],o[10]).length();this.determinant()<0&&(s=-s),e.x=o[12],e.y=o[13],e.z=o[14],Sl.copy(this);const d=1/s,h=1/l,p=1/u;return Sl.elements[0]*=d,Sl.elements[1]*=d,Sl.elements[2]*=d,Sl.elements[4]*=h,Sl.elements[5]*=h,Sl.elements[6]*=h,Sl.elements[8]*=p,Sl.elements[9]*=p,Sl.elements[10]*=p,r.setFromRotationMatrix(Sl),i.x=s,i.y=l,i.z=u,this}makePerspective(e,r,i,o,s,l,u=Au){const c=this.elements,d=2*s/(r-e),h=2*s/(i-o),p=(r+e)/(r-e),m=(i+o)/(i-o);let v,y;if(u===Au)v=-(l+s)/(l-s),y=-2*l*s/(l-s);else if(u===yE)v=-l/(l-s),y=-l*s/(l-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+u);return c[0]=d,c[4]=0,c[8]=p,c[12]=0,c[1]=0,c[5]=h,c[9]=m,c[13]=0,c[2]=0,c[6]=0,c[10]=v,c[14]=y,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,r,i,o,s,l,u=Au){const c=this.elements,d=1/(r-e),h=1/(i-o),p=1/(l-s),m=(r+e)*d,v=(i+o)*h;let y,A;if(u===Au)y=(l+s)*p,A=-2*p;else if(u===yE)y=s*p,A=-1*p;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+u);return c[0]=2*d,c[4]=0,c[8]=0,c[12]=-m,c[1]=0,c[5]=2*h,c[9]=0,c[13]=-v,c[2]=0,c[6]=0,c[10]=A,c[14]=-y,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const r=this.elements,i=e.elements;for(let o=0;o<16;o++)if(r[o]!==i[o])return!1;return!0}fromArray(e,r=0){for(let i=0;i<16;i++)this.elements[i]=e[i+r];return this}toArray(e=[],r=0){const i=this.elements;return e[r]=i[0],e[r+1]=i[1],e[r+2]=i[2],e[r+3]=i[3],e[r+4]=i[4],e[r+5]=i[5],e[r+6]=i[6],e[r+7]=i[7],e[r+8]=i[8],e[r+9]=i[9],e[r+10]=i[10],e[r+11]=i[11],e[r+12]=i[12],e[r+13]=i[13],e[r+14]=i[14],e[r+15]=i[15],e}}const Lp=new Rt,Sl=new lo,RSe=new Rt(0,0,0),ISe=new Rt(1,1,1),dd=new Rt,o1=new Rt,ws=new Rt,E5=new lo,C5=new Xl;class XC{constructor(e=0,r=0,i=0,o=XC.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=r,this._z=i,this._order=o}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,r,i,o=this._order){return this._x=e,this._y=r,this._z=i,this._order=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,r=this._order,i=!0){const o=e.elements,s=o[0],l=o[4],u=o[8],c=o[1],d=o[5],h=o[9],p=o[2],m=o[6],v=o[10];switch(r){case"XYZ":this._y=Math.asin(ia(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-h,v),this._z=Math.atan2(-l,s)):(this._x=Math.atan2(m,d),this._z=0);break;case"YXZ":this._x=Math.asin(-ia(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(u,v),this._z=Math.atan2(c,d)):(this._y=Math.atan2(-p,s),this._z=0);break;case"ZXY":this._x=Math.asin(ia(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(-p,v),this._z=Math.atan2(-l,d)):(this._y=0,this._z=Math.atan2(c,s));break;case"ZYX":this._y=Math.asin(-ia(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(m,v),this._z=Math.atan2(c,s)):(this._x=0,this._z=Math.atan2(-l,d));break;case"YZX":this._z=Math.asin(ia(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-h,d),this._y=Math.atan2(-p,s)):(this._x=0,this._y=Math.atan2(u,v));break;case"XZY":this._z=Math.asin(-ia(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(m,d),this._y=Math.atan2(u,s)):(this._x=Math.atan2(-h,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+r)}return this._order=r,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,r,i){return E5.makeRotationFromQuaternion(e),this.setFromRotationMatrix(E5,r,i)}setFromVector3(e,r=this._order){return this.set(e.x,e.y,e.z,r)}reorder(e){return C5.setFromEuler(this),this.setFromQuaternion(C5,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],r=0){return e[r]=this._x,e[r+1]=this._y,e[r+2]=this._z,e[r+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}XC.DEFAULT_ORDER="XYZ";class cL{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let PSe=0;const w5=new Rt,Bp=new Xl,Jc=new lo,a1=new Rt,Uv=new Rt,LSe=new Rt,BSe=new Xl,S5=new Rt(1,0,0),_5=new Rt(0,1,0),M5=new Rt(0,0,1),OSe={type:"added"},DSe={type:"removed"};class sa extends Zl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:PSe++}),this.uuid=Cu(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=sa.DEFAULT_UP.clone();const e=new Rt,r=new XC,i=new Xl,o=new Rt(1,1,1);function s(){i.setFromEuler(r,!1)}function l(){r.setFromQuaternion(i,void 0,!1)}r._onChange(s),i._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new lo},normalMatrix:{value:new fi}}),this.matrix=new lo,this.matrixWorld=new lo,this.matrixAutoUpdate=sa.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=sa.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new cL,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,r){this.quaternion.setFromAxisAngle(e,r)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,r){return Bp.setFromAxisAngle(e,r),this.quaternion.multiply(Bp),this}rotateOnWorldAxis(e,r){return Bp.setFromAxisAngle(e,r),this.quaternion.premultiply(Bp),this}rotateX(e){return this.rotateOnAxis(S5,e)}rotateY(e){return this.rotateOnAxis(_5,e)}rotateZ(e){return this.rotateOnAxis(M5,e)}translateOnAxis(e,r){return w5.copy(e).applyQuaternion(this.quaternion),this.position.add(w5.multiplyScalar(r)),this}translateX(e){return this.translateOnAxis(S5,e)}translateY(e){return this.translateOnAxis(_5,e)}translateZ(e){return this.translateOnAxis(M5,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Jc.copy(this.matrixWorld).invert())}lookAt(e,r,i){e.isVector3?a1.copy(e):a1.set(e,r,i);const o=this.parent;this.updateWorldMatrix(!0,!1),Uv.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Jc.lookAt(Uv,a1,this.up):Jc.lookAt(a1,Uv,this.up),this.quaternion.setFromRotationMatrix(Jc),o&&(Jc.extractRotation(o.matrixWorld),Bp.setFromRotationMatrix(Jc),this.quaternion.premultiply(Bp.invert()))}add(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.add(arguments[r]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(OSe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const r=this.children.indexOf(e);return r!==-1&&(e.parent=null,this.children.splice(r,1),e.dispatchEvent(DSe)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Jc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Jc.multiply(e.parent.matrixWorld)),e.applyMatrix4(Jc),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,r){if(this[e]===r)return this;for(let i=0,o=this.children.length;i<o;i++){const l=this.children[i].getObjectByProperty(e,r);if(l!==void 0)return l}}getObjectsByProperty(e,r){let i=[];this[e]===r&&i.push(this);for(let o=0,s=this.children.length;o<s;o++){const l=this.children[o].getObjectsByProperty(e,r);l.length>0&&(i=i.concat(l))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Uv,e,LSe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Uv,BSe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const r=this.matrixWorld.elements;return e.set(r[8],r[9],r[10]).normalize()}raycast(){}traverse(e){e(this);const r=this.children;for(let i=0,o=r.length;i<o;i++)r[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const r=this.children;for(let i=0,o=r.length;i<o;i++)r[i].traverseVisible(e)}traverseAncestors(e){const r=this.parent;r!==null&&(e(r),r.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const r=this.children;for(let i=0,o=r.length;i<o;i++){const s=r[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,r){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),r===!0){const o=this.children;for(let s=0,l=o.length;s<l;s++){const u=o[s];u.matrixWorldAutoUpdate===!0&&u.updateWorldMatrix(!1,!0)}}}toJSON(e){const r=e===void 0||typeof e=="string",i={};r&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const o={};o.uuid=this.uuid,o.type=this.type,this.name!==""&&(o.name=this.name),this.castShadow===!0&&(o.castShadow=!0),this.receiveShadow===!0&&(o.receiveShadow=!0),this.visible===!1&&(o.visible=!1),this.frustumCulled===!1&&(o.frustumCulled=!1),this.renderOrder!==0&&(o.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(o.userData=this.userData),o.layers=this.layers.mask,o.matrix=this.matrix.toArray(),o.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(o.matrixAutoUpdate=!1),this.isInstancedMesh&&(o.type="InstancedMesh",o.count=this.count,o.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(o.instanceColor=this.instanceColor.toJSON()));function s(u,c){return u[c.uuid]===void 0&&(u[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?o.background=this.background.toJSON():this.background.isTexture&&(o.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(o.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){o.geometry=s(e.geometries,this.geometry);const u=this.geometry.parameters;if(u!==void 0&&u.shapes!==void 0){const c=u.shapes;if(Array.isArray(c))for(let d=0,h=c.length;d<h;d++){const p=c[d];s(e.shapes,p)}else s(e.shapes,c)}}if(this.isSkinnedMesh&&(o.bindMode=this.bindMode,o.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),o.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const u=[];for(let c=0,d=this.material.length;c<d;c++)u.push(s(e.materials,this.material[c]));o.material=u}else o.material=s(e.materials,this.material);if(this.children.length>0){o.children=[];for(let u=0;u<this.children.length;u++)o.children.push(this.children[u].toJSON(e).object)}if(this.animations.length>0){o.animations=[];for(let u=0;u<this.animations.length;u++){const c=this.animations[u];o.animations.push(s(e.animations,c))}}if(r){const u=l(e.geometries),c=l(e.materials),d=l(e.textures),h=l(e.images),p=l(e.shapes),m=l(e.skeletons),v=l(e.animations),y=l(e.nodes);u.length>0&&(i.geometries=u),c.length>0&&(i.materials=c),d.length>0&&(i.textures=d),h.length>0&&(i.images=h),p.length>0&&(i.shapes=p),m.length>0&&(i.skeletons=m),v.length>0&&(i.animations=v),y.length>0&&(i.nodes=y)}return i.object=o,i;function l(u){const c=[];for(const d in u){const h=u[d];delete h.metadata,c.push(h)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,r=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),r===!0)for(let i=0;i<e.children.length;i++){const o=e.children[i];this.add(o.clone())}return this}}sa.DEFAULT_UP=new Rt(0,1,0);sa.DEFAULT_MATRIX_AUTO_UPDATE=!0;sa.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _l=new Rt,Zc=new Rt,N_=new Rt,eu=new Rt,Op=new Rt,Dp=new Rt,T5=new Rt,k_=new Rt,F_=new Rt,U_=new Rt;let s1=!1;class nl{constructor(e=new Rt,r=new Rt,i=new Rt){this.a=e,this.b=r,this.c=i}static getNormal(e,r,i,o){o.subVectors(i,r),_l.subVectors(e,r),o.cross(_l);const s=o.lengthSq();return s>0?o.multiplyScalar(1/Math.sqrt(s)):o.set(0,0,0)}static getBarycoord(e,r,i,o,s){_l.subVectors(o,r),Zc.subVectors(i,r),N_.subVectors(e,r);const l=_l.dot(_l),u=_l.dot(Zc),c=_l.dot(N_),d=Zc.dot(Zc),h=Zc.dot(N_),p=l*d-u*u;if(p===0)return s.set(-2,-1,-1);const m=1/p,v=(d*c-u*h)*m,y=(l*h-u*c)*m;return s.set(1-v-y,y,v)}static containsPoint(e,r,i,o){return this.getBarycoord(e,r,i,o,eu),eu.x>=0&&eu.y>=0&&eu.x+eu.y<=1}static getUV(e,r,i,o,s,l,u,c){return s1===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),s1=!0),this.getInterpolation(e,r,i,o,s,l,u,c)}static getInterpolation(e,r,i,o,s,l,u,c){return this.getBarycoord(e,r,i,o,eu),c.setScalar(0),c.addScaledVector(s,eu.x),c.addScaledVector(l,eu.y),c.addScaledVector(u,eu.z),c}static isFrontFacing(e,r,i,o){return _l.subVectors(i,r),Zc.subVectors(e,r),_l.cross(Zc).dot(o)<0}set(e,r,i){return this.a.copy(e),this.b.copy(r),this.c.copy(i),this}setFromPointsAndIndices(e,r,i,o){return this.a.copy(e[r]),this.b.copy(e[i]),this.c.copy(e[o]),this}setFromAttributeAndIndices(e,r,i,o){return this.a.fromBufferAttribute(e,r),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,o),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return _l.subVectors(this.c,this.b),Zc.subVectors(this.a,this.b),_l.cross(Zc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return nl.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,r){return nl.getBarycoord(e,this.a,this.b,this.c,r)}getUV(e,r,i,o,s){return s1===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),s1=!0),nl.getInterpolation(e,this.a,this.b,this.c,r,i,o,s)}getInterpolation(e,r,i,o,s){return nl.getInterpolation(e,this.a,this.b,this.c,r,i,o,s)}containsPoint(e){return nl.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return nl.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,r){const i=this.a,o=this.b,s=this.c;let l,u;Op.subVectors(o,i),Dp.subVectors(s,i),k_.subVectors(e,i);const c=Op.dot(k_),d=Dp.dot(k_);if(c<=0&&d<=0)return r.copy(i);F_.subVectors(e,o);const h=Op.dot(F_),p=Dp.dot(F_);if(h>=0&&p<=h)return r.copy(o);const m=c*p-h*d;if(m<=0&&c>=0&&h<=0)return l=c/(c-h),r.copy(i).addScaledVector(Op,l);U_.subVectors(e,s);const v=Op.dot(U_),y=Dp.dot(U_);if(y>=0&&v<=y)return r.copy(s);const A=v*d-c*y;if(A<=0&&d>=0&&y<=0)return u=d/(d-y),r.copy(i).addScaledVector(Dp,u);const b=h*y-v*p;if(b<=0&&p-h>=0&&v-y>=0)return T5.subVectors(s,o),u=(p-h)/(p-h+(v-y)),r.copy(o).addScaledVector(T5,u);const g=1/(b+A+m);return l=A*g,u=m*g,r.copy(i).addScaledVector(Op,l).addScaledVector(Dp,u)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const lG={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},fd={h:0,s:0,l:0},l1={h:0,s:0,l:0};function z_(n,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?n+(e-n)*6*r:r<1/2?e:r<2/3?n+(e-n)*6*(2/3-r):n}let gi=class{constructor(e,r,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,r,i)}set(e,r,i){if(r===void 0&&i===void 0){const o=e;o&&o.isColor?this.copy(o):typeof o=="number"?this.setHex(o):typeof o=="string"&&this.setStyle(o)}else this.setRGB(e,r,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,r=Go){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Vi.toWorkingColorSpace(this,r),this}setRGB(e,r,i,o=Vi.workingColorSpace){return this.r=e,this.g=r,this.b=i,Vi.toWorkingColorSpace(this,o),this}setHSL(e,r,i,o=Vi.workingColorSpace){if(e=lL(e,1),r=ia(r,0,1),i=ia(i,0,1),r===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+r):i+r-i*r,l=2*i-s;this.r=z_(l,s,e+1/3),this.g=z_(l,s,e),this.b=z_(l,s,e-1/3)}return Vi.toWorkingColorSpace(this,o),this}setStyle(e,r=Go){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let o;if(o=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const l=o[1],u=o[2];switch(l){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,r);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,r);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,r);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(o=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=o[1],l=s.length;if(l===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,r);if(l===6)return this.setHex(parseInt(s,16),r);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,r);return this}setColorName(e,r=Go){const i=lG[e.toLowerCase()];return i!==void 0?this.setHex(i,r):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=km(e.r),this.g=km(e.g),this.b=km(e.b),this}copyLinearToSRGB(e){return this.r=T_(e.r),this.g=T_(e.g),this.b=T_(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Go){return Vi.fromWorkingColorSpace(Ta.copy(this),e),Math.round(ia(Ta.r*255,0,255))*65536+Math.round(ia(Ta.g*255,0,255))*256+Math.round(ia(Ta.b*255,0,255))}getHexString(e=Go){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,r=Vi.workingColorSpace){Vi.fromWorkingColorSpace(Ta.copy(this),r);const i=Ta.r,o=Ta.g,s=Ta.b,l=Math.max(i,o,s),u=Math.min(i,o,s);let c,d;const h=(u+l)/2;if(u===l)c=0,d=0;else{const p=l-u;switch(d=h<=.5?p/(l+u):p/(2-l-u),l){case i:c=(o-s)/p+(o<s?6:0);break;case o:c=(s-i)/p+2;break;case s:c=(i-o)/p+4;break}c/=6}return e.h=c,e.s=d,e.l=h,e}getRGB(e,r=Vi.workingColorSpace){return Vi.fromWorkingColorSpace(Ta.copy(this),r),e.r=Ta.r,e.g=Ta.g,e.b=Ta.b,e}getStyle(e=Go){Vi.fromWorkingColorSpace(Ta.copy(this),e);const r=Ta.r,i=Ta.g,o=Ta.b;return e!==Go?`color(${e} ${r.toFixed(3)} ${i.toFixed(3)} ${o.toFixed(3)})`:`rgb(${Math.round(r*255)},${Math.round(i*255)},${Math.round(o*255)})`}offsetHSL(e,r,i){return this.getHSL(fd),this.setHSL(fd.h+e,fd.s+r,fd.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,r){return this.r=e.r+r.r,this.g=e.g+r.g,this.b=e.b+r.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,r){return this.r+=(e.r-this.r)*r,this.g+=(e.g-this.g)*r,this.b+=(e.b-this.b)*r,this}lerpColors(e,r,i){return this.r=e.r+(r.r-e.r)*i,this.g=e.g+(r.g-e.g)*i,this.b=e.b+(r.b-e.b)*i,this}lerpHSL(e,r){this.getHSL(fd),e.getHSL(l1);const i=H0(fd.h,l1.h,r),o=H0(fd.s,l1.s,r),s=H0(fd.l,l1.l,r);return this.setHSL(i,o,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const r=this.r,i=this.g,o=this.b,s=e.elements;return this.r=s[0]*r+s[3]*i+s[6]*o,this.g=s[1]*r+s[4]*i+s[7]*o,this.b=s[2]*r+s[5]*i+s[8]*o,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,r=0){return this.r=e[r],this.g=e[r+1],this.b=e[r+2],this}toArray(e=[],r=0){return e[r]=this.r,e[r+1]=this.g,e[r+2]=this.b,e}fromBufferAttribute(e,r){return this.r=e.getX(r),this.g=e.getY(r),this.b=e.getZ(r),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const Ta=new gi;gi.NAMES=lG;let NSe=0;class Bh extends Zl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:NSe++}),this.uuid=Cu(),this.name="",this.type="Material",this.blending=Nm,this.side=Xd,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=V3,this.blendDst=W3,this.blendEquation=Wf,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new gi(0,0,0),this.blendAlpha=0,this.depthFunc=mE,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=m5,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Mp,this.stencilZFail=Mp,this.stencilZPass=Mp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const r in e){const i=e[r];if(i===void 0){console.warn(`THREE.Material: parameter '${r}' has value of undefined.`);continue}const o=this[r];if(o===void 0){console.warn(`THREE.Material: '${r}' is not a property of THREE.${this.type}.`);continue}o&&o.isColor?o.set(i):o&&o.isVector3&&i&&i.isVector3?o.copy(i):this[r]=i}}toJSON(e){const r=e===void 0||typeof e=="string";r&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Nm&&(i.blending=this.blending),this.side!==Xd&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==V3&&(i.blendSrc=this.blendSrc),this.blendDst!==W3&&(i.blendDst=this.blendDst),this.blendEquation!==Wf&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==mE&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==m5&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Mp&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Mp&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Mp&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function o(s){const l=[];for(const u in s){const c=s[u];delete c.metadata,l.push(c)}return l}if(r){const s=o(e.textures),l=o(e.images);s.length>0&&(i.textures=s),l.length>0&&(i.images=l)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const r=e.clippingPlanes;let i=null;if(r!==null){const o=r.length;i=new Array(o);for(let s=0;s!==o;++s)i[s]=r[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class uL extends Bh{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new gi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=oL,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Do=new Rt,c1=new tr;class ll{constructor(e,r,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=r,this.count=e!==void 0?e.length/r:0,this.normalized=i,this.usage=Y3,this.updateRange={offset:0,count:-1},this.gpuType=Od,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,r,i){e*=this.itemSize,i*=r.itemSize;for(let o=0,s=this.itemSize;o<s;o++)this.array[e+o]=r.array[i+o];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let r=0,i=this.count;r<i;r++)c1.fromBufferAttribute(this,r),c1.applyMatrix3(e),this.setXY(r,c1.x,c1.y);else if(this.itemSize===3)for(let r=0,i=this.count;r<i;r++)Do.fromBufferAttribute(this,r),Do.applyMatrix3(e),this.setXYZ(r,Do.x,Do.y,Do.z);return this}applyMatrix4(e){for(let r=0,i=this.count;r<i;r++)Do.fromBufferAttribute(this,r),Do.applyMatrix4(e),this.setXYZ(r,Do.x,Do.y,Do.z);return this}applyNormalMatrix(e){for(let r=0,i=this.count;r<i;r++)Do.fromBufferAttribute(this,r),Do.applyNormalMatrix(e),this.setXYZ(r,Do.x,Do.y,Do.z);return this}transformDirection(e){for(let r=0,i=this.count;r<i;r++)Do.fromBufferAttribute(this,r),Do.transformDirection(e),this.setXYZ(r,Do.x,Do.y,Do.z);return this}set(e,r=0){return this.array.set(e,r),this}getComponent(e,r){let i=this.array[e*this.itemSize+r];return this.normalized&&(i=mc(i,this.array)),i}setComponent(e,r,i){return this.normalized&&(i=Gi(i,this.array)),this.array[e*this.itemSize+r]=i,this}getX(e){let r=this.array[e*this.itemSize];return this.normalized&&(r=mc(r,this.array)),r}setX(e,r){return this.normalized&&(r=Gi(r,this.array)),this.array[e*this.itemSize]=r,this}getY(e){let r=this.array[e*this.itemSize+1];return this.normalized&&(r=mc(r,this.array)),r}setY(e,r){return this.normalized&&(r=Gi(r,this.array)),this.array[e*this.itemSize+1]=r,this}getZ(e){let r=this.array[e*this.itemSize+2];return this.normalized&&(r=mc(r,this.array)),r}setZ(e,r){return this.normalized&&(r=Gi(r,this.array)),this.array[e*this.itemSize+2]=r,this}getW(e){let r=this.array[e*this.itemSize+3];return this.normalized&&(r=mc(r,this.array)),r}setW(e,r){return this.normalized&&(r=Gi(r,this.array)),this.array[e*this.itemSize+3]=r,this}setXY(e,r,i){return e*=this.itemSize,this.normalized&&(r=Gi(r,this.array),i=Gi(i,this.array)),this.array[e+0]=r,this.array[e+1]=i,this}setXYZ(e,r,i,o){return e*=this.itemSize,this.normalized&&(r=Gi(r,this.array),i=Gi(i,this.array),o=Gi(o,this.array)),this.array[e+0]=r,this.array[e+1]=i,this.array[e+2]=o,this}setXYZW(e,r,i,o,s){return e*=this.itemSize,this.normalized&&(r=Gi(r,this.array),i=Gi(i,this.array),o=Gi(o,this.array),s=Gi(s,this.array)),this.array[e+0]=r,this.array[e+1]=i,this.array[e+2]=o,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Y3&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class cG extends ll{constructor(e,r,i){super(new Uint16Array(e),r,i)}}class uG extends ll{constructor(e,r,i){super(new Uint32Array(e),r,i)}}class Wo extends ll{constructor(e,r,i){super(new Float32Array(e),r,i)}}let kSe=0;const qs=new lo,$_=new sa,Np=new Rt,Ss=new Lh,zv=new Lh,na=new Rt;class fs extends Zl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:kSe++}),this.uuid=Cu(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(iG(e)?uG:cG)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,r){return this.attributes[e]=r,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,r,i=0){this.groups.push({start:e,count:r,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,r){this.drawRange.start=e,this.drawRange.count=r}applyMatrix4(e){const r=this.attributes.position;r!==void 0&&(r.applyMatrix4(e),r.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new fi().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const o=this.attributes.tangent;return o!==void 0&&(o.transformDirection(e),o.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return qs.makeRotationFromQuaternion(e),this.applyMatrix4(qs),this}rotateX(e){return qs.makeRotationX(e),this.applyMatrix4(qs),this}rotateY(e){return qs.makeRotationY(e),this.applyMatrix4(qs),this}rotateZ(e){return qs.makeRotationZ(e),this.applyMatrix4(qs),this}translate(e,r,i){return qs.makeTranslation(e,r,i),this.applyMatrix4(qs),this}scale(e,r,i){return qs.makeScale(e,r,i),this.applyMatrix4(qs),this}lookAt(e){return $_.lookAt(e),$_.updateMatrix(),this.applyMatrix4($_.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Np).negate(),this.translate(Np.x,Np.y,Np.z),this}setFromPoints(e){const r=[];for(let i=0,o=e.length;i<o;i++){const s=e[i];r.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Wo(r,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Lh);const e=this.attributes.position,r=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Rt(-1/0,-1/0,-1/0),new Rt(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),r)for(let i=0,o=r.length;i<o;i++){const s=r[i];Ss.setFromBufferAttribute(s),this.morphTargetsRelative?(na.addVectors(this.boundingBox.min,Ss.min),this.boundingBox.expandByPoint(na),na.addVectors(this.boundingBox.max,Ss.max),this.boundingBox.expandByPoint(na)):(this.boundingBox.expandByPoint(Ss.min),this.boundingBox.expandByPoint(Ss.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new QC);const e=this.attributes.position,r=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Rt,1/0);return}if(e){const i=this.boundingSphere.center;if(Ss.setFromBufferAttribute(e),r)for(let s=0,l=r.length;s<l;s++){const u=r[s];zv.setFromBufferAttribute(u),this.morphTargetsRelative?(na.addVectors(Ss.min,zv.min),Ss.expandByPoint(na),na.addVectors(Ss.max,zv.max),Ss.expandByPoint(na)):(Ss.expandByPoint(zv.min),Ss.expandByPoint(zv.max))}Ss.getCenter(i);let o=0;for(let s=0,l=e.count;s<l;s++)na.fromBufferAttribute(e,s),o=Math.max(o,i.distanceToSquared(na));if(r)for(let s=0,l=r.length;s<l;s++){const u=r[s],c=this.morphTargetsRelative;for(let d=0,h=u.count;d<h;d++)na.fromBufferAttribute(u,d),c&&(Np.fromBufferAttribute(e,d),na.add(Np)),o=Math.max(o,i.distanceToSquared(na))}this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,r=this.attributes;if(e===null||r.position===void 0||r.normal===void 0||r.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,o=r.position.array,s=r.normal.array,l=r.uv.array,u=o.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ll(new Float32Array(4*u),4));const c=this.getAttribute("tangent").array,d=[],h=[];for(let D=0;D<u;D++)d[D]=new Rt,h[D]=new Rt;const p=new Rt,m=new Rt,v=new Rt,y=new tr,A=new tr,b=new tr,g=new Rt,w=new Rt;function E(D,H,V){p.fromArray(o,D*3),m.fromArray(o,H*3),v.fromArray(o,V*3),y.fromArray(l,D*2),A.fromArray(l,H*2),b.fromArray(l,V*2),m.sub(p),v.sub(p),A.sub(y),b.sub(y);const B=1/(A.x*b.y-b.x*A.y);isFinite(B)&&(g.copy(m).multiplyScalar(b.y).addScaledVector(v,-A.y).multiplyScalar(B),w.copy(v).multiplyScalar(A.x).addScaledVector(m,-b.x).multiplyScalar(B),d[D].add(g),d[H].add(g),d[V].add(g),h[D].add(w),h[H].add(w),h[V].add(w))}let C=this.groups;C.length===0&&(C=[{start:0,count:i.length}]);for(let D=0,H=C.length;D<H;++D){const V=C[D],B=V.start,O=V.count;for(let F=B,N=B+O;F<N;F+=3)E(i[F+0],i[F+1],i[F+2])}const _=new Rt,P=new Rt,R=new Rt,L=new Rt;function T(D){R.fromArray(s,D*3),L.copy(R);const H=d[D];_.copy(H),_.sub(R.multiplyScalar(R.dot(H))).normalize(),P.crossVectors(L,H);const B=P.dot(h[D])<0?-1:1;c[D*4]=_.x,c[D*4+1]=_.y,c[D*4+2]=_.z,c[D*4+3]=B}for(let D=0,H=C.length;D<H;++D){const V=C[D],B=V.start,O=V.count;for(let F=B,N=B+O;F<N;F+=3)T(i[F+0]),T(i[F+1]),T(i[F+2])}}computeVertexNormals(){const e=this.index,r=this.getAttribute("position");if(r!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new ll(new Float32Array(r.count*3),3),this.setAttribute("normal",i);else for(let m=0,v=i.count;m<v;m++)i.setXYZ(m,0,0,0);const o=new Rt,s=new Rt,l=new Rt,u=new Rt,c=new Rt,d=new Rt,h=new Rt,p=new Rt;if(e)for(let m=0,v=e.count;m<v;m+=3){const y=e.getX(m+0),A=e.getX(m+1),b=e.getX(m+2);o.fromBufferAttribute(r,y),s.fromBufferAttribute(r,A),l.fromBufferAttribute(r,b),h.subVectors(l,s),p.subVectors(o,s),h.cross(p),u.fromBufferAttribute(i,y),c.fromBufferAttribute(i,A),d.fromBufferAttribute(i,b),u.add(h),c.add(h),d.add(h),i.setXYZ(y,u.x,u.y,u.z),i.setXYZ(A,c.x,c.y,c.z),i.setXYZ(b,d.x,d.y,d.z)}else for(let m=0,v=r.count;m<v;m+=3)o.fromBufferAttribute(r,m+0),s.fromBufferAttribute(r,m+1),l.fromBufferAttribute(r,m+2),h.subVectors(l,s),p.subVectors(o,s),h.cross(p),i.setXYZ(m+0,h.x,h.y,h.z),i.setXYZ(m+1,h.x,h.y,h.z),i.setXYZ(m+2,h.x,h.y,h.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let r=0,i=e.count;r<i;r++)na.fromBufferAttribute(e,r),na.normalize(),e.setXYZ(r,na.x,na.y,na.z)}toNonIndexed(){function e(u,c){const d=u.array,h=u.itemSize,p=u.normalized,m=new d.constructor(c.length*h);let v=0,y=0;for(let A=0,b=c.length;A<b;A++){u.isInterleavedBufferAttribute?v=c[A]*u.data.stride+u.offset:v=c[A]*h;for(let g=0;g<h;g++)m[y++]=d[v++]}return new ll(m,h,p)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const r=new fs,i=this.index.array,o=this.attributes;for(const u in o){const c=o[u],d=e(c,i);r.setAttribute(u,d)}const s=this.morphAttributes;for(const u in s){const c=[],d=s[u];for(let h=0,p=d.length;h<p;h++){const m=d[h],v=e(m,i);c.push(v)}r.morphAttributes[u]=c}r.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let u=0,c=l.length;u<c;u++){const d=l[u];r.addGroup(d.start,d.count,d.materialIndex)}return r}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const d in c)c[d]!==void 0&&(e[d]=c[d]);return e}e.data={attributes:{}};const r=this.index;r!==null&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});const i=this.attributes;for(const c in i){const d=i[c];e.data.attributes[c]=d.toJSON(e.data)}const o={};let s=!1;for(const c in this.morphAttributes){const d=this.morphAttributes[c],h=[];for(let p=0,m=d.length;p<m;p++){const v=d[p];h.push(v.toJSON(e.data))}h.length>0&&(o[c]=h,s=!0)}s&&(e.data.morphAttributes=o,e.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(e.data.groups=JSON.parse(JSON.stringify(l)));const u=this.boundingSphere;return u!==null&&(e.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const r={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(r));const o=e.attributes;for(const d in o){const h=o[d];this.setAttribute(d,h.clone(r))}const s=e.morphAttributes;for(const d in s){const h=[],p=s[d];for(let m=0,v=p.length;m<v;m++)h.push(p[m].clone(r));this.morphAttributes[d]=h}this.morphTargetsRelative=e.morphTargetsRelative;const l=e.groups;for(let d=0,h=l.length;d<h;d++){const p=l[d];this.addGroup(p.start,p.count,p.materialIndex)}const u=e.boundingBox;u!==null&&(this.boundingBox=u.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const R5=new lo,Of=new KC,u1=new QC,I5=new Rt,kp=new Rt,Fp=new Rt,Up=new Rt,H_=new Rt,d1=new Rt,f1=new tr,h1=new tr,p1=new tr,P5=new Rt,L5=new Rt,B5=new Rt,m1=new Rt,g1=new Rt;class $l extends sa{constructor(e=new fs,r=new uL){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=r,this.updateMorphTargets()}copy(e,r){return super.copy(e,r),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const r=this.geometry.morphAttributes,i=Object.keys(r);if(i.length>0){const o=r[i[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,l=o.length;s<l;s++){const u=o[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=s}}}}getVertexPosition(e,r){const i=this.geometry,o=i.attributes.position,s=i.morphAttributes.position,l=i.morphTargetsRelative;r.fromBufferAttribute(o,e);const u=this.morphTargetInfluences;if(s&&u){d1.set(0,0,0);for(let c=0,d=s.length;c<d;c++){const h=u[c],p=s[c];h!==0&&(H_.fromBufferAttribute(p,e),l?d1.addScaledVector(H_,h):d1.addScaledVector(H_.sub(r),h))}r.add(d1)}return r}raycast(e,r){const i=this.geometry,o=this.material,s=this.matrixWorld;o!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),u1.copy(i.boundingSphere),u1.applyMatrix4(s),Of.copy(e.ray).recast(e.near),!(u1.containsPoint(Of.origin)===!1&&(Of.intersectSphere(u1,I5)===null||Of.origin.distanceToSquared(I5)>(e.far-e.near)**2))&&(R5.copy(s).invert(),Of.copy(e.ray).applyMatrix4(R5),!(i.boundingBox!==null&&Of.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,r,Of)))}_computeIntersections(e,r,i){let o;const s=this.geometry,l=this.material,u=s.index,c=s.attributes.position,d=s.attributes.uv,h=s.attributes.uv1,p=s.attributes.normal,m=s.groups,v=s.drawRange;if(u!==null)if(Array.isArray(l))for(let y=0,A=m.length;y<A;y++){const b=m[y],g=l[b.materialIndex],w=Math.max(b.start,v.start),E=Math.min(u.count,Math.min(b.start+b.count,v.start+v.count));for(let C=w,_=E;C<_;C+=3){const P=u.getX(C),R=u.getX(C+1),L=u.getX(C+2);o=v1(this,g,e,i,d,h,p,P,R,L),o&&(o.faceIndex=Math.floor(C/3),o.face.materialIndex=b.materialIndex,r.push(o))}}else{const y=Math.max(0,v.start),A=Math.min(u.count,v.start+v.count);for(let b=y,g=A;b<g;b+=3){const w=u.getX(b),E=u.getX(b+1),C=u.getX(b+2);o=v1(this,l,e,i,d,h,p,w,E,C),o&&(o.faceIndex=Math.floor(b/3),r.push(o))}}else if(c!==void 0)if(Array.isArray(l))for(let y=0,A=m.length;y<A;y++){const b=m[y],g=l[b.materialIndex],w=Math.max(b.start,v.start),E=Math.min(c.count,Math.min(b.start+b.count,v.start+v.count));for(let C=w,_=E;C<_;C+=3){const P=C,R=C+1,L=C+2;o=v1(this,g,e,i,d,h,p,P,R,L),o&&(o.faceIndex=Math.floor(C/3),o.face.materialIndex=b.materialIndex,r.push(o))}}else{const y=Math.max(0,v.start),A=Math.min(c.count,v.start+v.count);for(let b=y,g=A;b<g;b+=3){const w=b,E=b+1,C=b+2;o=v1(this,l,e,i,d,h,p,w,E,C),o&&(o.faceIndex=Math.floor(b/3),r.push(o))}}}}function FSe(n,e,r,i,o,s,l,u){let c;if(e.side===Ka?c=i.intersectTriangle(l,s,o,!0,u):c=i.intersectTriangle(o,s,l,e.side===Xd,u),c===null)return null;g1.copy(u),g1.applyMatrix4(n.matrixWorld);const d=r.ray.origin.distanceTo(g1);return d<r.near||d>r.far?null:{distance:d,point:g1.clone(),object:n}}function v1(n,e,r,i,o,s,l,u,c,d){n.getVertexPosition(u,kp),n.getVertexPosition(c,Fp),n.getVertexPosition(d,Up);const h=FSe(n,e,r,i,kp,Fp,Up,m1);if(h){o&&(f1.fromBufferAttribute(o,u),h1.fromBufferAttribute(o,c),p1.fromBufferAttribute(o,d),h.uv=nl.getInterpolation(m1,kp,Fp,Up,f1,h1,p1,new tr)),s&&(f1.fromBufferAttribute(s,u),h1.fromBufferAttribute(s,c),p1.fromBufferAttribute(s,d),h.uv1=nl.getInterpolation(m1,kp,Fp,Up,f1,h1,p1,new tr),h.uv2=h.uv1),l&&(P5.fromBufferAttribute(l,u),L5.fromBufferAttribute(l,c),B5.fromBufferAttribute(l,d),h.normal=nl.getInterpolation(m1,kp,Fp,Up,P5,L5,B5,new Rt),h.normal.dot(i.direction)>0&&h.normal.multiplyScalar(-1));const p={a:u,b:c,c:d,normal:new Rt,materialIndex:0};nl.getNormal(kp,Fp,Up,p.normal),h.face=p}return h}class oy extends fs{constructor(e=1,r=1,i=1,o=1,s=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:r,depth:i,widthSegments:o,heightSegments:s,depthSegments:l};const u=this;o=Math.floor(o),s=Math.floor(s),l=Math.floor(l);const c=[],d=[],h=[],p=[];let m=0,v=0;y("z","y","x",-1,-1,i,r,e,l,s,0),y("z","y","x",1,-1,i,r,-e,l,s,1),y("x","z","y",1,1,e,i,r,o,l,2),y("x","z","y",1,-1,e,i,-r,o,l,3),y("x","y","z",1,-1,e,r,i,o,s,4),y("x","y","z",-1,-1,e,r,-i,o,s,5),this.setIndex(c),this.setAttribute("position",new Wo(d,3)),this.setAttribute("normal",new Wo(h,3)),this.setAttribute("uv",new Wo(p,2));function y(A,b,g,w,E,C,_,P,R,L,T){const D=C/R,H=_/L,V=C/2,B=_/2,O=P/2,F=R+1,N=L+1;let z=0,j=0;const G=new Rt;for(let Q=0;Q<N;Q++){const X=Q*H-B;for(let J=0;J<F;J++){const Z=J*D-V;G[A]=Z*w,G[b]=X*E,G[g]=O,d.push(G.x,G.y,G.z),G[A]=0,G[b]=0,G[g]=P>0?1:-1,h.push(G.x,G.y,G.z),p.push(J/R),p.push(1-Q/L),z+=1}}for(let Q=0;Q<L;Q++)for(let X=0;X<R;X++){const J=m+X+F*Q,Z=m+X+F*(Q+1),oe=m+(X+1)+F*(Q+1),ce=m+(X+1)+F*Q;c.push(J,Z,ce),c.push(Z,oe,ce),j+=6}u.addGroup(v,j,T),v+=j,m+=z}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new oy(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function ug(n){const e={};for(const r in n){e[r]={};for(const i in n[r]){const o=n[r][i];o&&(o.isColor||o.isMatrix3||o.isMatrix4||o.isVector2||o.isVector3||o.isVector4||o.isTexture||o.isQuaternion)?o.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[r][i]=null):e[r][i]=o.clone():Array.isArray(o)?e[r][i]=o.slice():e[r][i]=o}}return e}function Ha(n){const e={};for(let r=0;r<n.length;r++){const i=ug(n[r]);for(const o in i)e[o]=i[o]}return e}function USe(n){const e=[];for(let r=0;r<n.length;r++)e.push(n[r].clone());return e}function dG(n){return n.getRenderTarget()===null?n.outputColorSpace:Vi.workingColorSpace}const fG={clone:ug,merge:Ha};var zSe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,$Se=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ku extends Bh{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=zSe,this.fragmentShader=$Se,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ug(e.uniforms),this.uniformsGroups=USe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const r=super.toJSON(e);r.glslVersion=this.glslVersion,r.uniforms={};for(const o in this.uniforms){const l=this.uniforms[o].value;l&&l.isTexture?r.uniforms[o]={type:"t",value:l.toJSON(e).uuid}:l&&l.isColor?r.uniforms[o]={type:"c",value:l.getHex()}:l&&l.isVector2?r.uniforms[o]={type:"v2",value:l.toArray()}:l&&l.isVector3?r.uniforms[o]={type:"v3",value:l.toArray()}:l&&l.isVector4?r.uniforms[o]={type:"v4",value:l.toArray()}:l&&l.isMatrix3?r.uniforms[o]={type:"m3",value:l.toArray()}:l&&l.isMatrix4?r.uniforms[o]={type:"m4",value:l.toArray()}:r.uniforms[o]={value:l}}Object.keys(this.defines).length>0&&(r.defines=this.defines),r.vertexShader=this.vertexShader,r.fragmentShader=this.fragmentShader,r.lights=this.lights,r.clipping=this.clipping;const i={};for(const o in this.extensions)this.extensions[o]===!0&&(i[o]=!0);return Object.keys(i).length>0&&(r.extensions=i),r}}class hG extends sa{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new lo,this.projectionMatrix=new lo,this.projectionMatrixInverse=new lo,this.coordinateSystem=Au}copy(e,r){return super.copy(e,r),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,r){super.updateWorldMatrix(e,r),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class rl extends hG{constructor(e=50,r=1,i=.1,o=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=o,this.focus=10,this.aspect=r,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,r){return super.copy(e,r),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const r=.5*this.getFilmHeight()/e;this.fov=_A*2*Math.atan(r),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan($0*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return _A*2*Math.atan(Math.tan($0*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,r,i,o,s,l){this.aspect=e/r,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=r,this.view.offsetX=i,this.view.offsetY=o,this.view.width=s,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let r=e*Math.tan($0*.5*this.fov)/this.zoom,i=2*r,o=this.aspect*i,s=-.5*o;const l=this.view;if(this.view!==null&&this.view.enabled){const c=l.fullWidth,d=l.fullHeight;s+=l.offsetX*o/c,r-=l.offsetY*i/d,o*=l.width/c,i*=l.height/d}const u=this.filmOffset;u!==0&&(s+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+o,r,r-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const r=super.toJSON(e);return r.object.fov=this.fov,r.object.zoom=this.zoom,r.object.near=this.near,r.object.far=this.far,r.object.focus=this.focus,r.object.aspect=this.aspect,this.view!==null&&(r.object.view=Object.assign({},this.view)),r.object.filmGauge=this.filmGauge,r.object.filmOffset=this.filmOffset,r}}const zp=-90,$p=1;class HSe extends sa{constructor(e,r,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const o=new rl(zp,$p,e,r);o.layers=this.layers,this.add(o);const s=new rl(zp,$p,e,r);s.layers=this.layers,this.add(s);const l=new rl(zp,$p,e,r);l.layers=this.layers,this.add(l);const u=new rl(zp,$p,e,r);u.layers=this.layers,this.add(u);const c=new rl(zp,$p,e,r);c.layers=this.layers,this.add(c);const d=new rl(zp,$p,e,r);d.layers=this.layers,this.add(d)}updateCoordinateSystem(){const e=this.coordinateSystem,r=this.children.concat(),[i,o,s,l,u,c]=r;for(const d of r)this.remove(d);if(e===Au)i.up.set(0,1,0),i.lookAt(1,0,0),o.up.set(0,1,0),o.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),l.up.set(0,0,1),l.lookAt(0,-1,0),u.up.set(0,1,0),u.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(e===yE)i.up.set(0,-1,0),i.lookAt(-1,0,0),o.up.set(0,-1,0),o.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),l.up.set(0,0,-1),l.lookAt(0,-1,0),u.up.set(0,-1,0),u.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const d of r)this.add(d),d.updateMatrixWorld()}update(e,r){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:o}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,l,u,c,d,h]=this.children,p=e.getRenderTarget(),m=e.getActiveCubeFace(),v=e.getActiveMipmapLevel(),y=e.xr.enabled;e.xr.enabled=!1;const A=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,o),e.render(r,s),e.setRenderTarget(i,1,o),e.render(r,l),e.setRenderTarget(i,2,o),e.render(r,u),e.setRenderTarget(i,3,o),e.render(r,c),e.setRenderTarget(i,4,o),e.render(r,d),i.texture.generateMipmaps=A,e.setRenderTarget(i,5,o),e.render(r,h),e.setRenderTarget(p,m,v),e.xr.enabled=y,i.texture.needsPMREMUpdate=!0}}class pG extends Xa{constructor(e,r,i,o,s,l,u,c,d,h){e=e!==void 0?e:[],r=r!==void 0?r:ag,super(e,r,i,o,s,l,u,c,d,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class jSe extends qd{constructor(e=1,r={}){super(e,e,r),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},o=[i,i,i,i,i,i];r.encoding!==void 0&&(j0("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===ph?Go:il),this.texture=new pG(o,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:Rs}fromEquirectangularTexture(e,r){this.texture.type=r.type,this.texture.colorSpace=r.colorSpace,this.texture.generateMipmaps=r.generateMipmaps,this.texture.minFilter=r.minFilter,this.texture.magFilter=r.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},o=new oy(5,5,5),s=new ku({name:"CubemapFromEquirect",uniforms:ug(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Ka,blending:Eu});s.uniforms.tEquirect.value=r;const l=new $l(o,s),u=r.minFilter;return r.minFilter===SA&&(r.minFilter=Rs),new HSe(1,10,this).update(e,l),r.minFilter=u,l.geometry.dispose(),l.material.dispose(),this}clear(e,r,i,o){const s=e.getRenderTarget();for(let l=0;l<6;l++)e.setRenderTarget(this,l),e.clear(r,i,o);e.setRenderTarget(s)}}const j_=new Rt,GSe=new Rt,VSe=new fi;class hu{constructor(e=new Rt(1,0,0),r=0){this.isPlane=!0,this.normal=e,this.constant=r}set(e,r){return this.normal.copy(e),this.constant=r,this}setComponents(e,r,i,o){return this.normal.set(e,r,i),this.constant=o,this}setFromNormalAndCoplanarPoint(e,r){return this.normal.copy(e),this.constant=-r.dot(this.normal),this}setFromCoplanarPoints(e,r,i){const o=j_.subVectors(i,r).cross(GSe.subVectors(e,r)).normalize();return this.setFromNormalAndCoplanarPoint(o,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,r){return r.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,r){const i=e.delta(j_),o=this.normal.dot(i);if(o===0)return this.distanceToPoint(e.start)===0?r.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/o;return s<0||s>1?null:r.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const r=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return r<0&&i>0||i<0&&r>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,r){const i=r||VSe.getNormalMatrix(e),o=this.coplanarPoint(j_).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-o.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Df=new QC,A1=new Rt;class dL{constructor(e=new hu,r=new hu,i=new hu,o=new hu,s=new hu,l=new hu){this.planes=[e,r,i,o,s,l]}set(e,r,i,o,s,l){const u=this.planes;return u[0].copy(e),u[1].copy(r),u[2].copy(i),u[3].copy(o),u[4].copy(s),u[5].copy(l),this}copy(e){const r=this.planes;for(let i=0;i<6;i++)r[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,r=Au){const i=this.planes,o=e.elements,s=o[0],l=o[1],u=o[2],c=o[3],d=o[4],h=o[5],p=o[6],m=o[7],v=o[8],y=o[9],A=o[10],b=o[11],g=o[12],w=o[13],E=o[14],C=o[15];if(i[0].setComponents(c-s,m-d,b-v,C-g).normalize(),i[1].setComponents(c+s,m+d,b+v,C+g).normalize(),i[2].setComponents(c+l,m+h,b+y,C+w).normalize(),i[3].setComponents(c-l,m-h,b-y,C-w).normalize(),i[4].setComponents(c-u,m-p,b-A,C-E).normalize(),r===Au)i[5].setComponents(c+u,m+p,b+A,C+E).normalize();else if(r===yE)i[5].setComponents(u,p,A,E).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+r);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Df.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const r=e.geometry;r.boundingSphere===null&&r.computeBoundingSphere(),Df.copy(r.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Df)}intersectsSprite(e){return Df.center.set(0,0,0),Df.radius=.7071067811865476,Df.applyMatrix4(e.matrixWorld),this.intersectsSphere(Df)}intersectsSphere(e){const r=this.planes,i=e.center,o=-e.radius;for(let s=0;s<6;s++)if(r[s].distanceToPoint(i)<o)return!1;return!0}intersectsBox(e){const r=this.planes;for(let i=0;i<6;i++){const o=r[i];if(A1.x=o.normal.x>0?e.max.x:e.min.x,A1.y=o.normal.y>0?e.max.y:e.min.y,A1.z=o.normal.z>0?e.max.z:e.min.z,o.distanceToPoint(A1)<0)return!1}return!0}containsPoint(e){const r=this.planes;for(let i=0;i<6;i++)if(r[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function mG(){let n=null,e=!1,r=null,i=null;function o(s,l){r(s,l),i=n.requestAnimationFrame(o)}return{start:function(){e!==!0&&r!==null&&(i=n.requestAnimationFrame(o),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){r=s},setContext:function(s){n=s}}}function WSe(n,e){const r=e.isWebGL2,i=new WeakMap;function o(d,h){const p=d.array,m=d.usage,v=n.createBuffer();n.bindBuffer(h,v),n.bufferData(h,p,m),d.onUploadCallback();let y;if(p instanceof Float32Array)y=n.FLOAT;else if(p instanceof Uint16Array)if(d.isFloat16BufferAttribute)if(r)y=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=n.UNSIGNED_SHORT;else if(p instanceof Int16Array)y=n.SHORT;else if(p instanceof Uint32Array)y=n.UNSIGNED_INT;else if(p instanceof Int32Array)y=n.INT;else if(p instanceof Int8Array)y=n.BYTE;else if(p instanceof Uint8Array)y=n.UNSIGNED_BYTE;else if(p instanceof Uint8ClampedArray)y=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:v,type:y,bytesPerElement:p.BYTES_PER_ELEMENT,version:d.version}}function s(d,h,p){const m=h.array,v=h.updateRange;n.bindBuffer(p,d),v.count===-1?n.bufferSubData(p,0,m):(r?n.bufferSubData(p,v.offset*m.BYTES_PER_ELEMENT,m,v.offset,v.count):n.bufferSubData(p,v.offset*m.BYTES_PER_ELEMENT,m.subarray(v.offset,v.offset+v.count)),v.count=-1),h.onUploadCallback()}function l(d){return d.isInterleavedBufferAttribute&&(d=d.data),i.get(d)}function u(d){d.isInterleavedBufferAttribute&&(d=d.data);const h=i.get(d);h&&(n.deleteBuffer(h.buffer),i.delete(d))}function c(d,h){if(d.isGLBufferAttribute){const m=i.get(d);(!m||m.version<d.version)&&i.set(d,{buffer:d.buffer,type:d.type,bytesPerElement:d.elementSize,version:d.version});return}d.isInterleavedBufferAttribute&&(d=d.data);const p=i.get(d);p===void 0?i.set(d,o(d,h)):p.version<d.version&&(s(p.buffer,d,h),p.version=d.version)}return{get:l,remove:u,update:c}}class fL extends fs{constructor(e=1,r=1,i=1,o=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:r,widthSegments:i,heightSegments:o};const s=e/2,l=r/2,u=Math.floor(i),c=Math.floor(o),d=u+1,h=c+1,p=e/u,m=r/c,v=[],y=[],A=[],b=[];for(let g=0;g<h;g++){const w=g*m-l;for(let E=0;E<d;E++){const C=E*p-s;y.push(C,-w,0),A.push(0,0,1),b.push(E/u),b.push(1-g/c)}}for(let g=0;g<c;g++)for(let w=0;w<u;w++){const E=w+d*g,C=w+d*(g+1),_=w+1+d*(g+1),P=w+1+d*g;v.push(E,C,P),v.push(C,_,P)}this.setIndex(v),this.setAttribute("position",new Wo(y,3)),this.setAttribute("normal",new Wo(A,3)),this.setAttribute("uv",new Wo(b,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fL(e.width,e.height,e.widthSegments,e.heightSegments)}}var QSe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,KSe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,XSe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,qSe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,YSe=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,JSe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,ZSe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,e2e=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,t2e=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,n2e=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,r2e=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,i2e=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,o2e=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,a2e=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,s2e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,l2e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,c2e=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,u2e=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,d2e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,f2e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,h2e=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,p2e=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,m2e=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,g2e=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,v2e=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,A2e=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,y2e=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,b2e=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,x2e="gl_FragColor = linearToOutputTexel( gl_FragColor );",E2e=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,C2e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,w2e=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,S2e=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,_2e=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,M2e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,T2e=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,R2e=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,I2e=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,P2e=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,L2e=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,B2e=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,O2e=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,D2e=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,N2e=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,k2e=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,F2e=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,U2e=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,z2e=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,$2e=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,H2e=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,j2e=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,G2e=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,V2e=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,W2e=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Q2e=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,K2e=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,X2e=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,q2e=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Y2e=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,J2e=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Z2e=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,e_e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,t_e=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,n_e=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,r_e=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,i_e=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,o_e=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,a_e=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,s_e=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,l_e=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,c_e=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,u_e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,d_e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,f_e=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,h_e=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,p_e=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,m_e=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,g_e=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,v_e=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,A_e=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,y_e=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,b_e=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,x_e=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,E_e=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,C_e=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,w_e=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,S_e=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,__e=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,M_e=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,T_e=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,R_e=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,I_e=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,P_e=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,L_e=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,B_e=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,O_e=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,D_e=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,N_e=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,k_e=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,F_e=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,U_e=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,z_e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,$_e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,H_e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,j_e=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const G_e=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,V_e=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,W_e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Q_e=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,K_e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,X_e=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,q_e=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Y_e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,J_e=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Z_e=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,eMe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,tMe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,nMe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,rMe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,iMe=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,oMe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,aMe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sMe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lMe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,cMe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,uMe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,dMe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,fMe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,hMe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pMe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,mMe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gMe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,vMe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,AMe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,yMe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,bMe=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,xMe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,EMe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,CMe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ai={alphahash_fragment:QSe,alphahash_pars_fragment:KSe,alphamap_fragment:XSe,alphamap_pars_fragment:qSe,alphatest_fragment:YSe,alphatest_pars_fragment:JSe,aomap_fragment:ZSe,aomap_pars_fragment:e2e,begin_vertex:t2e,beginnormal_vertex:n2e,bsdfs:r2e,iridescence_fragment:i2e,bumpmap_pars_fragment:o2e,clipping_planes_fragment:a2e,clipping_planes_pars_fragment:s2e,clipping_planes_pars_vertex:l2e,clipping_planes_vertex:c2e,color_fragment:u2e,color_pars_fragment:d2e,color_pars_vertex:f2e,color_vertex:h2e,common:p2e,cube_uv_reflection_fragment:m2e,defaultnormal_vertex:g2e,displacementmap_pars_vertex:v2e,displacementmap_vertex:A2e,emissivemap_fragment:y2e,emissivemap_pars_fragment:b2e,colorspace_fragment:x2e,colorspace_pars_fragment:E2e,envmap_fragment:C2e,envmap_common_pars_fragment:w2e,envmap_pars_fragment:S2e,envmap_pars_vertex:_2e,envmap_physical_pars_fragment:F2e,envmap_vertex:M2e,fog_vertex:T2e,fog_pars_vertex:R2e,fog_fragment:I2e,fog_pars_fragment:P2e,gradientmap_pars_fragment:L2e,lightmap_fragment:B2e,lightmap_pars_fragment:O2e,lights_lambert_fragment:D2e,lights_lambert_pars_fragment:N2e,lights_pars_begin:k2e,lights_toon_fragment:U2e,lights_toon_pars_fragment:z2e,lights_phong_fragment:$2e,lights_phong_pars_fragment:H2e,lights_physical_fragment:j2e,lights_physical_pars_fragment:G2e,lights_fragment_begin:V2e,lights_fragment_maps:W2e,lights_fragment_end:Q2e,logdepthbuf_fragment:K2e,logdepthbuf_pars_fragment:X2e,logdepthbuf_pars_vertex:q2e,logdepthbuf_vertex:Y2e,map_fragment:J2e,map_pars_fragment:Z2e,map_particle_fragment:e_e,map_particle_pars_fragment:t_e,metalnessmap_fragment:n_e,metalnessmap_pars_fragment:r_e,morphcolor_vertex:i_e,morphnormal_vertex:o_e,morphtarget_pars_vertex:a_e,morphtarget_vertex:s_e,normal_fragment_begin:l_e,normal_fragment_maps:c_e,normal_pars_fragment:u_e,normal_pars_vertex:d_e,normal_vertex:f_e,normalmap_pars_fragment:h_e,clearcoat_normal_fragment_begin:p_e,clearcoat_normal_fragment_maps:m_e,clearcoat_pars_fragment:g_e,iridescence_pars_fragment:v_e,opaque_fragment:A_e,packing:y_e,premultiplied_alpha_fragment:b_e,project_vertex:x_e,dithering_fragment:E_e,dithering_pars_fragment:C_e,roughnessmap_fragment:w_e,roughnessmap_pars_fragment:S_e,shadowmap_pars_fragment:__e,shadowmap_pars_vertex:M_e,shadowmap_vertex:T_e,shadowmask_pars_fragment:R_e,skinbase_vertex:I_e,skinning_pars_vertex:P_e,skinning_vertex:L_e,skinnormal_vertex:B_e,specularmap_fragment:O_e,specularmap_pars_fragment:D_e,tonemapping_fragment:N_e,tonemapping_pars_fragment:k_e,transmission_fragment:F_e,transmission_pars_fragment:U_e,uv_pars_fragment:z_e,uv_pars_vertex:$_e,uv_vertex:H_e,worldpos_vertex:j_e,background_vert:G_e,background_frag:V_e,backgroundCube_vert:W_e,backgroundCube_frag:Q_e,cube_vert:K_e,cube_frag:X_e,depth_vert:q_e,depth_frag:Y_e,distanceRGBA_vert:J_e,distanceRGBA_frag:Z_e,equirect_vert:eMe,equirect_frag:tMe,linedashed_vert:nMe,linedashed_frag:rMe,meshbasic_vert:iMe,meshbasic_frag:oMe,meshlambert_vert:aMe,meshlambert_frag:sMe,meshmatcap_vert:lMe,meshmatcap_frag:cMe,meshnormal_vert:uMe,meshnormal_frag:dMe,meshphong_vert:fMe,meshphong_frag:hMe,meshphysical_vert:pMe,meshphysical_frag:mMe,meshtoon_vert:gMe,meshtoon_frag:vMe,points_vert:AMe,points_frag:yMe,shadow_vert:bMe,shadow_frag:xMe,sprite_vert:EMe,sprite_frag:CMe},ar={common:{diffuse:{value:new gi(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new fi},alphaMap:{value:null},alphaMapTransform:{value:new fi},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new fi}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new fi}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new fi}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new fi},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new fi},normalScale:{value:new tr(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new fi},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new fi}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new fi}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new fi}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new gi(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new gi(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new fi},alphaTest:{value:0},uvTransform:{value:new fi}},sprite:{diffuse:{value:new gi(16777215)},opacity:{value:1},center:{value:new tr(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new fi},alphaMap:{value:null},alphaMapTransform:{value:new fi},alphaTest:{value:0}}},hc={basic:{uniforms:Ha([ar.common,ar.specularmap,ar.envmap,ar.aomap,ar.lightmap,ar.fog]),vertexShader:ai.meshbasic_vert,fragmentShader:ai.meshbasic_frag},lambert:{uniforms:Ha([ar.common,ar.specularmap,ar.envmap,ar.aomap,ar.lightmap,ar.emissivemap,ar.bumpmap,ar.normalmap,ar.displacementmap,ar.fog,ar.lights,{emissive:{value:new gi(0)}}]),vertexShader:ai.meshlambert_vert,fragmentShader:ai.meshlambert_frag},phong:{uniforms:Ha([ar.common,ar.specularmap,ar.envmap,ar.aomap,ar.lightmap,ar.emissivemap,ar.bumpmap,ar.normalmap,ar.displacementmap,ar.fog,ar.lights,{emissive:{value:new gi(0)},specular:{value:new gi(1118481)},shininess:{value:30}}]),vertexShader:ai.meshphong_vert,fragmentShader:ai.meshphong_frag},standard:{uniforms:Ha([ar.common,ar.envmap,ar.aomap,ar.lightmap,ar.emissivemap,ar.bumpmap,ar.normalmap,ar.displacementmap,ar.roughnessmap,ar.metalnessmap,ar.fog,ar.lights,{emissive:{value:new gi(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ai.meshphysical_vert,fragmentShader:ai.meshphysical_frag},toon:{uniforms:Ha([ar.common,ar.aomap,ar.lightmap,ar.emissivemap,ar.bumpmap,ar.normalmap,ar.displacementmap,ar.gradientmap,ar.fog,ar.lights,{emissive:{value:new gi(0)}}]),vertexShader:ai.meshtoon_vert,fragmentShader:ai.meshtoon_frag},matcap:{uniforms:Ha([ar.common,ar.bumpmap,ar.normalmap,ar.displacementmap,ar.fog,{matcap:{value:null}}]),vertexShader:ai.meshmatcap_vert,fragmentShader:ai.meshmatcap_frag},points:{uniforms:Ha([ar.points,ar.fog]),vertexShader:ai.points_vert,fragmentShader:ai.points_frag},dashed:{uniforms:Ha([ar.common,ar.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ai.linedashed_vert,fragmentShader:ai.linedashed_frag},depth:{uniforms:Ha([ar.common,ar.displacementmap]),vertexShader:ai.depth_vert,fragmentShader:ai.depth_frag},normal:{uniforms:Ha([ar.common,ar.bumpmap,ar.normalmap,ar.displacementmap,{opacity:{value:1}}]),vertexShader:ai.meshnormal_vert,fragmentShader:ai.meshnormal_frag},sprite:{uniforms:Ha([ar.sprite,ar.fog]),vertexShader:ai.sprite_vert,fragmentShader:ai.sprite_frag},background:{uniforms:{uvTransform:{value:new fi},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ai.background_vert,fragmentShader:ai.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:ai.backgroundCube_vert,fragmentShader:ai.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ai.cube_vert,fragmentShader:ai.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ai.equirect_vert,fragmentShader:ai.equirect_frag},distanceRGBA:{uniforms:Ha([ar.common,ar.displacementmap,{referencePosition:{value:new Rt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ai.distanceRGBA_vert,fragmentShader:ai.distanceRGBA_frag},shadow:{uniforms:Ha([ar.lights,ar.fog,{color:{value:new gi(0)},opacity:{value:1}}]),vertexShader:ai.shadow_vert,fragmentShader:ai.shadow_frag}};hc.physical={uniforms:Ha([hc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new fi},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new fi},clearcoatNormalScale:{value:new tr(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new fi},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new fi},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new fi},sheen:{value:0},sheenColor:{value:new gi(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new fi},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new fi},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new fi},transmissionSamplerSize:{value:new tr},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new fi},attenuationDistance:{value:0},attenuationColor:{value:new gi(0)},specularColor:{value:new gi(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new fi},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new fi},anisotropyVector:{value:new tr},anisotropyMap:{value:null},anisotropyMapTransform:{value:new fi}}]),vertexShader:ai.meshphysical_vert,fragmentShader:ai.meshphysical_frag};const y1={r:0,b:0,g:0};function wMe(n,e,r,i,o,s,l){const u=new gi(0);let c=s===!0?0:1,d,h,p=null,m=0,v=null;function y(b,g){let w=!1,E=g.isScene===!0?g.background:null;E&&E.isTexture&&(E=(g.backgroundBlurriness>0?r:e).get(E)),E===null?A(u,c):E&&E.isColor&&(A(E,1),w=!0);const C=n.xr.getEnvironmentBlendMode();C==="additive"?i.buffers.color.setClear(0,0,0,1,l):C==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,l),(n.autoClear||w)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),E&&(E.isCubeTexture||E.mapping===VC)?(h===void 0&&(h=new $l(new oy(1,1,1),new ku({name:"BackgroundCubeMaterial",uniforms:ug(hc.backgroundCube.uniforms),vertexShader:hc.backgroundCube.vertexShader,fragmentShader:hc.backgroundCube.fragmentShader,side:Ka,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(_,P,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),o.update(h)),h.material.uniforms.envMap.value=E,h.material.uniforms.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,h.material.toneMapped=Vi.getTransfer(E.colorSpace)!==eo,(p!==E||m!==E.version||v!==n.toneMapping)&&(h.material.needsUpdate=!0,p=E,m=E.version,v=n.toneMapping),h.layers.enableAll(),b.unshift(h,h.geometry,h.material,0,0,null)):E&&E.isTexture&&(d===void 0&&(d=new $l(new fL(2,2),new ku({name:"BackgroundMaterial",uniforms:ug(hc.background.uniforms),vertexShader:hc.background.vertexShader,fragmentShader:hc.background.fragmentShader,side:Xd,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),o.update(d)),d.material.uniforms.t2D.value=E,d.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,d.material.toneMapped=Vi.getTransfer(E.colorSpace)!==eo,E.matrixAutoUpdate===!0&&E.updateMatrix(),d.material.uniforms.uvTransform.value.copy(E.matrix),(p!==E||m!==E.version||v!==n.toneMapping)&&(d.material.needsUpdate=!0,p=E,m=E.version,v=n.toneMapping),d.layers.enableAll(),b.unshift(d,d.geometry,d.material,0,0,null))}function A(b,g){b.getRGB(y1,dG(n)),i.buffers.color.setClear(y1.r,y1.g,y1.b,g,l)}return{getClearColor:function(){return u},setClearColor:function(b,g=1){u.set(b),c=g,A(u,c)},getClearAlpha:function(){return c},setClearAlpha:function(b){c=b,A(u,c)},render:y}}function SMe(n,e,r,i){const o=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),l=i.isWebGL2||s!==null,u={},c=b(null);let d=c,h=!1;function p(O,F,N,z,j){let G=!1;if(l){const Q=A(z,N,F);d!==Q&&(d=Q,v(d.object)),G=g(O,z,N,j),G&&w(O,z,N,j)}else{const Q=F.wireframe===!0;(d.geometry!==z.id||d.program!==N.id||d.wireframe!==Q)&&(d.geometry=z.id,d.program=N.id,d.wireframe=Q,G=!0)}j!==null&&r.update(j,n.ELEMENT_ARRAY_BUFFER),(G||h)&&(h=!1,L(O,F,N,z),j!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,r.get(j).buffer))}function m(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function v(O){return i.isWebGL2?n.bindVertexArray(O):s.bindVertexArrayOES(O)}function y(O){return i.isWebGL2?n.deleteVertexArray(O):s.deleteVertexArrayOES(O)}function A(O,F,N){const z=N.wireframe===!0;let j=u[O.id];j===void 0&&(j={},u[O.id]=j);let G=j[F.id];G===void 0&&(G={},j[F.id]=G);let Q=G[z];return Q===void 0&&(Q=b(m()),G[z]=Q),Q}function b(O){const F=[],N=[],z=[];for(let j=0;j<o;j++)F[j]=0,N[j]=0,z[j]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:F,enabledAttributes:N,attributeDivisors:z,object:O,attributes:{},index:null}}function g(O,F,N,z){const j=d.attributes,G=F.attributes;let Q=0;const X=N.getAttributes();for(const J in X)if(X[J].location>=0){const oe=j[J];let ce=G[J];if(ce===void 0&&(J==="instanceMatrix"&&O.instanceMatrix&&(ce=O.instanceMatrix),J==="instanceColor"&&O.instanceColor&&(ce=O.instanceColor)),oe===void 0||oe.attribute!==ce||ce&&oe.data!==ce.data)return!0;Q++}return d.attributesNum!==Q||d.index!==z}function w(O,F,N,z){const j={},G=F.attributes;let Q=0;const X=N.getAttributes();for(const J in X)if(X[J].location>=0){let oe=G[J];oe===void 0&&(J==="instanceMatrix"&&O.instanceMatrix&&(oe=O.instanceMatrix),J==="instanceColor"&&O.instanceColor&&(oe=O.instanceColor));const ce={};ce.attribute=oe,oe&&oe.data&&(ce.data=oe.data),j[J]=ce,Q++}d.attributes=j,d.attributesNum=Q,d.index=z}function E(){const O=d.newAttributes;for(let F=0,N=O.length;F<N;F++)O[F]=0}function C(O){_(O,0)}function _(O,F){const N=d.newAttributes,z=d.enabledAttributes,j=d.attributeDivisors;N[O]=1,z[O]===0&&(n.enableVertexAttribArray(O),z[O]=1),j[O]!==F&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](O,F),j[O]=F)}function P(){const O=d.newAttributes,F=d.enabledAttributes;for(let N=0,z=F.length;N<z;N++)F[N]!==O[N]&&(n.disableVertexAttribArray(N),F[N]=0)}function R(O,F,N,z,j,G,Q){Q===!0?n.vertexAttribIPointer(O,F,N,j,G):n.vertexAttribPointer(O,F,N,z,j,G)}function L(O,F,N,z){if(i.isWebGL2===!1&&(O.isInstancedMesh||z.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;E();const j=z.attributes,G=N.getAttributes(),Q=F.defaultAttributeValues;for(const X in G){const J=G[X];if(J.location>=0){let Z=j[X];if(Z===void 0&&(X==="instanceMatrix"&&O.instanceMatrix&&(Z=O.instanceMatrix),X==="instanceColor"&&O.instanceColor&&(Z=O.instanceColor)),Z!==void 0){const oe=Z.normalized,ce=Z.itemSize,Be=r.get(Z);if(Be===void 0)continue;const ge=Be.buffer,Re=Be.type,$e=Be.bytesPerElement,qe=i.isWebGL2===!0&&(Re===n.INT||Re===n.UNSIGNED_INT||Z.gpuType===qj);if(Z.isInterleavedBufferAttribute){const Ke=Z.data,ke=Ke.stride,st=Z.offset;if(Ke.isInstancedInterleavedBuffer){for(let ot=0;ot<J.locationSize;ot++)_(J.location+ot,Ke.meshPerAttribute);O.isInstancedMesh!==!0&&z._maxInstanceCount===void 0&&(z._maxInstanceCount=Ke.meshPerAttribute*Ke.count)}else for(let ot=0;ot<J.locationSize;ot++)C(J.location+ot);n.bindBuffer(n.ARRAY_BUFFER,ge);for(let ot=0;ot<J.locationSize;ot++)R(J.location+ot,ce/J.locationSize,Re,oe,ke*$e,(st+ce/J.locationSize*ot)*$e,qe)}else{if(Z.isInstancedBufferAttribute){for(let Ke=0;Ke<J.locationSize;Ke++)_(J.location+Ke,Z.meshPerAttribute);O.isInstancedMesh!==!0&&z._maxInstanceCount===void 0&&(z._maxInstanceCount=Z.meshPerAttribute*Z.count)}else for(let Ke=0;Ke<J.locationSize;Ke++)C(J.location+Ke);n.bindBuffer(n.ARRAY_BUFFER,ge);for(let Ke=0;Ke<J.locationSize;Ke++)R(J.location+Ke,ce/J.locationSize,Re,oe,ce*$e,ce/J.locationSize*Ke*$e,qe)}}else if(Q!==void 0){const oe=Q[X];if(oe!==void 0)switch(oe.length){case 2:n.vertexAttrib2fv(J.location,oe);break;case 3:n.vertexAttrib3fv(J.location,oe);break;case 4:n.vertexAttrib4fv(J.location,oe);break;default:n.vertexAttrib1fv(J.location,oe)}}}}P()}function T(){V();for(const O in u){const F=u[O];for(const N in F){const z=F[N];for(const j in z)y(z[j].object),delete z[j];delete F[N]}delete u[O]}}function D(O){if(u[O.id]===void 0)return;const F=u[O.id];for(const N in F){const z=F[N];for(const j in z)y(z[j].object),delete z[j];delete F[N]}delete u[O.id]}function H(O){for(const F in u){const N=u[F];if(N[O.id]===void 0)continue;const z=N[O.id];for(const j in z)y(z[j].object),delete z[j];delete N[O.id]}}function V(){B(),h=!0,d!==c&&(d=c,v(d.object))}function B(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:p,reset:V,resetDefaultState:B,dispose:T,releaseStatesOfGeometry:D,releaseStatesOfProgram:H,initAttributes:E,enableAttribute:C,disableUnusedAttributes:P}}function _Me(n,e,r,i){const o=i.isWebGL2;let s;function l(d){s=d}function u(d,h){n.drawArrays(s,d,h),r.update(h,s,1)}function c(d,h,p){if(p===0)return;let m,v;if(o)m=n,v="drawArraysInstanced";else if(m=e.get("ANGLE_instanced_arrays"),v="drawArraysInstancedANGLE",m===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}m[v](s,d,h,p),r.update(h,s,p)}this.setMode=l,this.render=u,this.renderInstances=c}function MMe(n,e,r){let i;function o(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(R){if(R==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";R="mediump"}return R==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const l=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let u=r.precision!==void 0?r.precision:"highp";const c=s(u);c!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",c,"instead."),u=c);const d=l||e.has("WEBGL_draw_buffers"),h=r.logarithmicDepthBuffer===!0,p=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),v=n.getParameter(n.MAX_TEXTURE_SIZE),y=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),A=n.getParameter(n.MAX_VERTEX_ATTRIBS),b=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),g=n.getParameter(n.MAX_VARYING_VECTORS),w=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),E=m>0,C=l||e.has("OES_texture_float"),_=E&&C,P=l?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:l,drawBuffers:d,getMaxAnisotropy:o,getMaxPrecision:s,precision:u,logarithmicDepthBuffer:h,maxTextures:p,maxVertexTextures:m,maxTextureSize:v,maxCubemapSize:y,maxAttributes:A,maxVertexUniforms:b,maxVaryings:g,maxFragmentUniforms:w,vertexTextures:E,floatFragmentTextures:C,floatVertexTextures:_,maxSamples:P}}function TMe(n){const e=this;let r=null,i=0,o=!1,s=!1;const l=new hu,u=new fi,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(p,m){const v=p.length!==0||m||i!==0||o;return o=m,i=p.length,v},this.beginShadows=function(){s=!0,h(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(p,m){r=h(p,m,0)},this.setState=function(p,m,v){const y=p.clippingPlanes,A=p.clipIntersection,b=p.clipShadows,g=n.get(p);if(!o||y===null||y.length===0||s&&!b)s?h(null):d();else{const w=s?0:i,E=w*4;let C=g.clippingState||null;c.value=C,C=h(y,m,E,v);for(let _=0;_!==E;++_)C[_]=r[_];g.clippingState=C,this.numIntersection=A?this.numPlanes:0,this.numPlanes+=w}};function d(){c.value!==r&&(c.value=r,c.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function h(p,m,v,y){const A=p!==null?p.length:0;let b=null;if(A!==0){if(b=c.value,y!==!0||b===null){const g=v+A*4,w=m.matrixWorldInverse;u.getNormalMatrix(w),(b===null||b.length<g)&&(b=new Float32Array(g));for(let E=0,C=v;E!==A;++E,C+=4)l.copy(p[E]).applyMatrix4(w,u),l.normal.toArray(b,C),b[C+3]=l.constant}c.value=b,c.needsUpdate=!0}return e.numPlanes=A,e.numIntersection=0,b}}function RMe(n){let e=new WeakMap;function r(l,u){return u===Q3?l.mapping=ag:u===K3&&(l.mapping=sg),l}function i(l){if(l&&l.isTexture&&l.isRenderTargetTexture===!1){const u=l.mapping;if(u===Q3||u===K3)if(e.has(l)){const c=e.get(l).texture;return r(c,l.mapping)}else{const c=l.image;if(c&&c.height>0){const d=new jSe(c.height/2);return d.fromEquirectangularTexture(n,l),e.set(l,d),l.addEventListener("dispose",o),r(d.texture,l.mapping)}else return null}}return l}function o(l){const u=l.target;u.removeEventListener("dispose",o);const c=e.get(u);c!==void 0&&(e.delete(u),c.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class hL extends hG{constructor(e=-1,r=1,i=1,o=-1,s=.1,l=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=r,this.top=i,this.bottom=o,this.near=s,this.far=l,this.updateProjectionMatrix()}copy(e,r){return super.copy(e,r),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,r,i,o,s,l){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=r,this.view.offsetX=i,this.view.offsetY=o,this.view.width=s,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),r=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,o=(this.top+this.bottom)/2;let s=i-e,l=i+e,u=o+r,c=o-r;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=d*this.view.offsetX,l=s+d*this.view.width,u-=h*this.view.offsetY,c=u-h*this.view.height}this.projectionMatrix.makeOrthographic(s,l,u,c,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const r=super.toJSON(e);return r.object.zoom=this.zoom,r.object.left=this.left,r.object.right=this.right,r.object.top=this.top,r.object.bottom=this.bottom,r.object.near=this.near,r.object.far=this.far,this.view!==null&&(r.object.view=Object.assign({},this.view)),r}}const Am=4,O5=[.125,.215,.35,.446,.526,.582],Qf=20,G_=new hL,D5=new gi;let V_=null,W_=0,Q_=0;const $f=(1+Math.sqrt(5))/2,Hp=1/$f,N5=[new Rt(1,1,1),new Rt(-1,1,1),new Rt(1,1,-1),new Rt(-1,1,-1),new Rt(0,$f,Hp),new Rt(0,$f,-Hp),new Rt(Hp,0,$f),new Rt(-Hp,0,$f),new Rt($f,Hp,0),new Rt(-$f,Hp,0)];class k5{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,r=0,i=.1,o=100){V_=this._renderer.getRenderTarget(),W_=this._renderer.getActiveCubeFace(),Q_=this._renderer.getActiveMipmapLevel(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,o,s),r>0&&this._blur(s,0,0,r),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,r=null){return this._fromTexture(e,r)}fromCubemap(e,r=null){return this._fromTexture(e,r)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=z5(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=U5(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(V_,W_,Q_),e.scissorTest=!1,b1(e,0,0,e.width,e.height)}_fromTexture(e,r){e.mapping===ag||e.mapping===sg?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),V_=this._renderer.getRenderTarget(),W_=this._renderer.getActiveCubeFace(),Q_=this._renderer.getActiveMipmapLevel();const i=r||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),r=4*this._cubeSize,i={magFilter:Rs,minFilter:Rs,generateMipmaps:!1,type:lg,format:Fl,colorSpace:Nu,depthBuffer:!1},o=F5(e,r,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==r){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=F5(e,r,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=IMe(s)),this._blurMaterial=PMe(s,e,r)}return o}_compileMaterial(e){const r=new $l(this._lodPlanes[0],e);this._renderer.compile(r,G_)}_sceneToCubeUV(e,r,i,o){const u=new rl(90,1,r,i),c=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],h=this._renderer,p=h.autoClear,m=h.toneMapping;h.getClearColor(D5),h.toneMapping=jd,h.autoClear=!1;const v=new uL({name:"PMREM.Background",side:Ka,depthWrite:!1,depthTest:!1}),y=new $l(new oy,v);let A=!1;const b=e.background;b?b.isColor&&(v.color.copy(b),e.background=null,A=!0):(v.color.copy(D5),A=!0);for(let g=0;g<6;g++){const w=g%3;w===0?(u.up.set(0,c[g],0),u.lookAt(d[g],0,0)):w===1?(u.up.set(0,0,c[g]),u.lookAt(0,d[g],0)):(u.up.set(0,c[g],0),u.lookAt(0,0,d[g]));const E=this._cubeSize;b1(o,w*E,g>2?E:0,E,E),h.setRenderTarget(o),A&&h.render(y,u),h.render(e,u)}y.geometry.dispose(),y.material.dispose(),h.toneMapping=m,h.autoClear=p,e.background=b}_textureToCubeUV(e,r){const i=this._renderer,o=e.mapping===ag||e.mapping===sg;o?(this._cubemapMaterial===null&&(this._cubemapMaterial=z5()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=U5());const s=o?this._cubemapMaterial:this._equirectMaterial,l=new $l(this._lodPlanes[0],s),u=s.uniforms;u.envMap.value=e;const c=this._cubeSize;b1(r,0,0,3*c,2*c),i.setRenderTarget(r),i.render(l,G_)}_applyPMREM(e){const r=this._renderer,i=r.autoClear;r.autoClear=!1;for(let o=1;o<this._lodPlanes.length;o++){const s=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),l=N5[(o-1)%N5.length];this._blur(e,o-1,o,s,l)}r.autoClear=i}_blur(e,r,i,o,s){const l=this._pingPongRenderTarget;this._halfBlur(e,l,r,i,o,"latitudinal",s),this._halfBlur(l,e,i,i,o,"longitudinal",s)}_halfBlur(e,r,i,o,s,l,u){const c=this._renderer,d=this._blurMaterial;l!=="latitudinal"&&l!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,p=new $l(this._lodPlanes[o],d),m=d.uniforms,v=this._sizeLods[i]-1,y=isFinite(s)?Math.PI/(2*v):2*Math.PI/(2*Qf-1),A=s/y,b=isFinite(s)?1+Math.floor(h*A):Qf;b>Qf&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${b} samples when the maximum is set to ${Qf}`);const g=[];let w=0;for(let R=0;R<Qf;++R){const L=R/A,T=Math.exp(-L*L/2);g.push(T),R===0?w+=T:R<b&&(w+=2*T)}for(let R=0;R<g.length;R++)g[R]=g[R]/w;m.envMap.value=e.texture,m.samples.value=b,m.weights.value=g,m.latitudinal.value=l==="latitudinal",u&&(m.poleAxis.value=u);const{_lodMax:E}=this;m.dTheta.value=y,m.mipInt.value=E-i;const C=this._sizeLods[o],_=3*C*(o>E-Am?o-E+Am:0),P=4*(this._cubeSize-C);b1(r,_,P,3*C,2*C),c.setRenderTarget(r),c.render(p,G_)}}function IMe(n){const e=[],r=[],i=[];let o=n;const s=n-Am+1+O5.length;for(let l=0;l<s;l++){const u=Math.pow(2,o);r.push(u);let c=1/u;l>n-Am?c=O5[l-n+Am-1]:l===0&&(c=0),i.push(c);const d=1/(u-2),h=-d,p=1+d,m=[h,h,p,h,p,p,h,h,p,p,h,p],v=6,y=6,A=3,b=2,g=1,w=new Float32Array(A*y*v),E=new Float32Array(b*y*v),C=new Float32Array(g*y*v);for(let P=0;P<v;P++){const R=P%3*2/3-1,L=P>2?0:-1,T=[R,L,0,R+2/3,L,0,R+2/3,L+1,0,R,L,0,R+2/3,L+1,0,R,L+1,0];w.set(T,A*y*P),E.set(m,b*y*P);const D=[P,P,P,P,P,P];C.set(D,g*y*P)}const _=new fs;_.setAttribute("position",new ll(w,A)),_.setAttribute("uv",new ll(E,b)),_.setAttribute("faceIndex",new ll(C,g)),e.push(_),o>Am&&o--}return{lodPlanes:e,sizeLods:r,sigmas:i}}function F5(n,e,r){const i=new qd(n,e,r);return i.texture.mapping=VC,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function b1(n,e,r,i,o){n.viewport.set(e,r,i,o),n.scissor.set(e,r,i,o)}function PMe(n,e,r){const i=new Float32Array(Qf),o=new Rt(0,1,0);return new ku({name:"SphericalGaussianBlur",defines:{n:Qf,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/r,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:o}},vertexShader:pL(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Eu,depthTest:!1,depthWrite:!1})}function U5(){return new ku({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:pL(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Eu,depthTest:!1,depthWrite:!1})}function z5(){return new ku({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:pL(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Eu,depthTest:!1,depthWrite:!1})}function pL(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function LMe(n){let e=new WeakMap,r=null;function i(u){if(u&&u.isTexture){const c=u.mapping,d=c===Q3||c===K3,h=c===ag||c===sg;if(d||h)if(u.isRenderTargetTexture&&u.needsPMREMUpdate===!0){u.needsPMREMUpdate=!1;let p=e.get(u);return r===null&&(r=new k5(n)),p=d?r.fromEquirectangular(u,p):r.fromCubemap(u,p),e.set(u,p),p.texture}else{if(e.has(u))return e.get(u).texture;{const p=u.image;if(d&&p&&p.height>0||h&&p&&o(p)){r===null&&(r=new k5(n));const m=d?r.fromEquirectangular(u):r.fromCubemap(u);return e.set(u,m),u.addEventListener("dispose",s),m.texture}else return null}}}return u}function o(u){let c=0;const d=6;for(let h=0;h<d;h++)u[h]!==void 0&&c++;return c===d}function s(u){const c=u.target;c.removeEventListener("dispose",s);const d=e.get(c);d!==void 0&&(e.delete(c),d.dispose())}function l(){e=new WeakMap,r!==null&&(r.dispose(),r=null)}return{get:i,dispose:l}}function BMe(n){const e={};function r(i){if(e[i]!==void 0)return e[i];let o;switch(i){case"WEBGL_depth_texture":o=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":o=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":o=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":o=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:o=n.getExtension(i)}return e[i]=o,o}return{has:function(i){return r(i)!==null},init:function(i){i.isWebGL2?r("EXT_color_buffer_float"):(r("WEBGL_depth_texture"),r("OES_texture_float"),r("OES_texture_half_float"),r("OES_texture_half_float_linear"),r("OES_standard_derivatives"),r("OES_element_index_uint"),r("OES_vertex_array_object"),r("ANGLE_instanced_arrays")),r("OES_texture_float_linear"),r("EXT_color_buffer_half_float"),r("WEBGL_multisampled_render_to_texture")},get:function(i){const o=r(i);return o===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),o}}}function OMe(n,e,r,i){const o={},s=new WeakMap;function l(p){const m=p.target;m.index!==null&&e.remove(m.index);for(const y in m.attributes)e.remove(m.attributes[y]);for(const y in m.morphAttributes){const A=m.morphAttributes[y];for(let b=0,g=A.length;b<g;b++)e.remove(A[b])}m.removeEventListener("dispose",l),delete o[m.id];const v=s.get(m);v&&(e.remove(v),s.delete(m)),i.releaseStatesOfGeometry(m),m.isInstancedBufferGeometry===!0&&delete m._maxInstanceCount,r.memory.geometries--}function u(p,m){return o[m.id]===!0||(m.addEventListener("dispose",l),o[m.id]=!0,r.memory.geometries++),m}function c(p){const m=p.attributes;for(const y in m)e.update(m[y],n.ARRAY_BUFFER);const v=p.morphAttributes;for(const y in v){const A=v[y];for(let b=0,g=A.length;b<g;b++)e.update(A[b],n.ARRAY_BUFFER)}}function d(p){const m=[],v=p.index,y=p.attributes.position;let A=0;if(v!==null){const w=v.array;A=v.version;for(let E=0,C=w.length;E<C;E+=3){const _=w[E+0],P=w[E+1],R=w[E+2];m.push(_,P,P,R,R,_)}}else if(y!==void 0){const w=y.array;A=y.version;for(let E=0,C=w.length/3-1;E<C;E+=3){const _=E+0,P=E+1,R=E+2;m.push(_,P,P,R,R,_)}}else return;const b=new(iG(m)?uG:cG)(m,1);b.version=A;const g=s.get(p);g&&e.remove(g),s.set(p,b)}function h(p){const m=s.get(p);if(m){const v=p.index;v!==null&&m.version<v.version&&d(p)}else d(p);return s.get(p)}return{get:u,update:c,getWireframeAttribute:h}}function DMe(n,e,r,i){const o=i.isWebGL2;let s;function l(m){s=m}let u,c;function d(m){u=m.type,c=m.bytesPerElement}function h(m,v){n.drawElements(s,v,u,m*c),r.update(v,s,1)}function p(m,v,y){if(y===0)return;let A,b;if(o)A=n,b="drawElementsInstanced";else if(A=e.get("ANGLE_instanced_arrays"),b="drawElementsInstancedANGLE",A===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}A[b](s,v,u,m*c,y),r.update(v,s,y)}this.setMode=l,this.setIndex=d,this.render=h,this.renderInstances=p}function NMe(n){const e={geometries:0,textures:0},r={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,l,u){switch(r.calls++,l){case n.TRIANGLES:r.triangles+=u*(s/3);break;case n.LINES:r.lines+=u*(s/2);break;case n.LINE_STRIP:r.lines+=u*(s-1);break;case n.LINE_LOOP:r.lines+=u*s;break;case n.POINTS:r.points+=u*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",l);break}}function o(){r.calls=0,r.triangles=0,r.points=0,r.lines=0}return{memory:e,render:r,programs:null,autoReset:!0,reset:o,update:i}}function kMe(n,e){return n[0]-e[0]}function FMe(n,e){return Math.abs(e[1])-Math.abs(n[1])}function UMe(n,e,r){const i={},o=new Float32Array(8),s=new WeakMap,l=new oa,u=[];for(let d=0;d<8;d++)u[d]=[d,0];function c(d,h,p){const m=d.morphTargetInfluences;if(e.isWebGL2===!0){const y=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,A=y!==void 0?y.length:0;let b=s.get(h);if(b===void 0||b.count!==A){let F=function(){B.dispose(),s.delete(h),h.removeEventListener("dispose",F)};var v=F;b!==void 0&&b.texture.dispose();const E=h.morphAttributes.position!==void 0,C=h.morphAttributes.normal!==void 0,_=h.morphAttributes.color!==void 0,P=h.morphAttributes.position||[],R=h.morphAttributes.normal||[],L=h.morphAttributes.color||[];let T=0;E===!0&&(T=1),C===!0&&(T=2),_===!0&&(T=3);let D=h.attributes.position.count*T,H=1;D>e.maxTextureSize&&(H=Math.ceil(D/e.maxTextureSize),D=e.maxTextureSize);const V=new Float32Array(D*H*4*A),B=new sG(V,D,H,A);B.type=Od,B.needsUpdate=!0;const O=T*4;for(let N=0;N<A;N++){const z=P[N],j=R[N],G=L[N],Q=D*H*4*N;for(let X=0;X<z.count;X++){const J=X*O;E===!0&&(l.fromBufferAttribute(z,X),V[Q+J+0]=l.x,V[Q+J+1]=l.y,V[Q+J+2]=l.z,V[Q+J+3]=0),C===!0&&(l.fromBufferAttribute(j,X),V[Q+J+4]=l.x,V[Q+J+5]=l.y,V[Q+J+6]=l.z,V[Q+J+7]=0),_===!0&&(l.fromBufferAttribute(G,X),V[Q+J+8]=l.x,V[Q+J+9]=l.y,V[Q+J+10]=l.z,V[Q+J+11]=G.itemSize===4?l.w:1)}}b={count:A,texture:B,size:new tr(D,H)},s.set(h,b),h.addEventListener("dispose",F)}let g=0;for(let E=0;E<m.length;E++)g+=m[E];const w=h.morphTargetsRelative?1:1-g;p.getUniforms().setValue(n,"morphTargetBaseInfluence",w),p.getUniforms().setValue(n,"morphTargetInfluences",m),p.getUniforms().setValue(n,"morphTargetsTexture",b.texture,r),p.getUniforms().setValue(n,"morphTargetsTextureSize",b.size)}else{const y=m===void 0?0:m.length;let A=i[h.id];if(A===void 0||A.length!==y){A=[];for(let C=0;C<y;C++)A[C]=[C,0];i[h.id]=A}for(let C=0;C<y;C++){const _=A[C];_[0]=C,_[1]=m[C]}A.sort(FMe);for(let C=0;C<8;C++)C<y&&A[C][1]?(u[C][0]=A[C][0],u[C][1]=A[C][1]):(u[C][0]=Number.MAX_SAFE_INTEGER,u[C][1]=0);u.sort(kMe);const b=h.morphAttributes.position,g=h.morphAttributes.normal;let w=0;for(let C=0;C<8;C++){const _=u[C],P=_[0],R=_[1];P!==Number.MAX_SAFE_INTEGER&&R?(b&&h.getAttribute("morphTarget"+C)!==b[P]&&h.setAttribute("morphTarget"+C,b[P]),g&&h.getAttribute("morphNormal"+C)!==g[P]&&h.setAttribute("morphNormal"+C,g[P]),o[C]=R,w+=R):(b&&h.hasAttribute("morphTarget"+C)===!0&&h.deleteAttribute("morphTarget"+C),g&&h.hasAttribute("morphNormal"+C)===!0&&h.deleteAttribute("morphNormal"+C),o[C]=0)}const E=h.morphTargetsRelative?1:1-w;p.getUniforms().setValue(n,"morphTargetBaseInfluence",E),p.getUniforms().setValue(n,"morphTargetInfluences",o)}}return{update:c}}function zMe(n,e,r,i){let o=new WeakMap;function s(c){const d=i.render.frame,h=c.geometry,p=e.get(c,h);if(o.get(p)!==d&&(e.update(p),o.set(p,d)),c.isInstancedMesh&&(c.hasEventListener("dispose",u)===!1&&c.addEventListener("dispose",u),o.get(c)!==d&&(r.update(c.instanceMatrix,n.ARRAY_BUFFER),c.instanceColor!==null&&r.update(c.instanceColor,n.ARRAY_BUFFER),o.set(c,d))),c.isSkinnedMesh){const m=c.skeleton;o.get(m)!==d&&(m.update(),o.set(m,d))}return p}function l(){o=new WeakMap}function u(c){const d=c.target;d.removeEventListener("dispose",u),r.remove(d.instanceMatrix),d.instanceColor!==null&&r.remove(d.instanceColor)}return{update:s,dispose:l}}const gG=new Xa,vG=new sG,AG=new MSe,yG=new pG,$5=[],H5=[],j5=new Float32Array(16),G5=new Float32Array(9),V5=new Float32Array(4);function Sg(n,e,r){const i=n[0];if(i<=0||i>0)return n;const o=e*r;let s=$5[o];if(s===void 0&&(s=new Float32Array(o),$5[o]=s),e!==0){i.toArray(s,0);for(let l=1,u=0;l!==e;++l)u+=r,n[l].toArray(s,u)}return s}function Ko(n,e){if(n.length!==e.length)return!1;for(let r=0,i=n.length;r<i;r++)if(n[r]!==e[r])return!1;return!0}function Xo(n,e){for(let r=0,i=e.length;r<i;r++)n[r]=e[r]}function qC(n,e){let r=H5[e];r===void 0&&(r=new Int32Array(e),H5[e]=r);for(let i=0;i!==e;++i)r[i]=n.allocateTextureUnit();return r}function $Me(n,e){const r=this.cache;r[0]!==e&&(n.uniform1f(this.addr,e),r[0]=e)}function HMe(n,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),r[0]=e.x,r[1]=e.y);else{if(Ko(r,e))return;n.uniform2fv(this.addr,e),Xo(r,e)}}function jMe(n,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),r[0]=e.x,r[1]=e.y,r[2]=e.z);else if(e.r!==void 0)(r[0]!==e.r||r[1]!==e.g||r[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),r[0]=e.r,r[1]=e.g,r[2]=e.b);else{if(Ko(r,e))return;n.uniform3fv(this.addr,e),Xo(r,e)}}function GMe(n,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z||r[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=e.w);else{if(Ko(r,e))return;n.uniform4fv(this.addr,e),Xo(r,e)}}function VMe(n,e){const r=this.cache,i=e.elements;if(i===void 0){if(Ko(r,e))return;n.uniformMatrix2fv(this.addr,!1,e),Xo(r,e)}else{if(Ko(r,i))return;V5.set(i),n.uniformMatrix2fv(this.addr,!1,V5),Xo(r,i)}}function WMe(n,e){const r=this.cache,i=e.elements;if(i===void 0){if(Ko(r,e))return;n.uniformMatrix3fv(this.addr,!1,e),Xo(r,e)}else{if(Ko(r,i))return;G5.set(i),n.uniformMatrix3fv(this.addr,!1,G5),Xo(r,i)}}function QMe(n,e){const r=this.cache,i=e.elements;if(i===void 0){if(Ko(r,e))return;n.uniformMatrix4fv(this.addr,!1,e),Xo(r,e)}else{if(Ko(r,i))return;j5.set(i),n.uniformMatrix4fv(this.addr,!1,j5),Xo(r,i)}}function KMe(n,e){const r=this.cache;r[0]!==e&&(n.uniform1i(this.addr,e),r[0]=e)}function XMe(n,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),r[0]=e.x,r[1]=e.y);else{if(Ko(r,e))return;n.uniform2iv(this.addr,e),Xo(r,e)}}function qMe(n,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),r[0]=e.x,r[1]=e.y,r[2]=e.z);else{if(Ko(r,e))return;n.uniform3iv(this.addr,e),Xo(r,e)}}function YMe(n,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z||r[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=e.w);else{if(Ko(r,e))return;n.uniform4iv(this.addr,e),Xo(r,e)}}function JMe(n,e){const r=this.cache;r[0]!==e&&(n.uniform1ui(this.addr,e),r[0]=e)}function ZMe(n,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),r[0]=e.x,r[1]=e.y);else{if(Ko(r,e))return;n.uniform2uiv(this.addr,e),Xo(r,e)}}function eTe(n,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),r[0]=e.x,r[1]=e.y,r[2]=e.z);else{if(Ko(r,e))return;n.uniform3uiv(this.addr,e),Xo(r,e)}}function tTe(n,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z||r[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=e.w);else{if(Ko(r,e))return;n.uniform4uiv(this.addr,e),Xo(r,e)}}function nTe(n,e,r){const i=this.cache,o=r.allocateTextureUnit();i[0]!==o&&(n.uniform1i(this.addr,o),i[0]=o),r.setTexture2D(e||gG,o)}function rTe(n,e,r){const i=this.cache,o=r.allocateTextureUnit();i[0]!==o&&(n.uniform1i(this.addr,o),i[0]=o),r.setTexture3D(e||AG,o)}function iTe(n,e,r){const i=this.cache,o=r.allocateTextureUnit();i[0]!==o&&(n.uniform1i(this.addr,o),i[0]=o),r.setTextureCube(e||yG,o)}function oTe(n,e,r){const i=this.cache,o=r.allocateTextureUnit();i[0]!==o&&(n.uniform1i(this.addr,o),i[0]=o),r.setTexture2DArray(e||vG,o)}function aTe(n){switch(n){case 5126:return $Me;case 35664:return HMe;case 35665:return jMe;case 35666:return GMe;case 35674:return VMe;case 35675:return WMe;case 35676:return QMe;case 5124:case 35670:return KMe;case 35667:case 35671:return XMe;case 35668:case 35672:return qMe;case 35669:case 35673:return YMe;case 5125:return JMe;case 36294:return ZMe;case 36295:return eTe;case 36296:return tTe;case 35678:case 36198:case 36298:case 36306:case 35682:return nTe;case 35679:case 36299:case 36307:return rTe;case 35680:case 36300:case 36308:case 36293:return iTe;case 36289:case 36303:case 36311:case 36292:return oTe}}function sTe(n,e){n.uniform1fv(this.addr,e)}function lTe(n,e){const r=Sg(e,this.size,2);n.uniform2fv(this.addr,r)}function cTe(n,e){const r=Sg(e,this.size,3);n.uniform3fv(this.addr,r)}function uTe(n,e){const r=Sg(e,this.size,4);n.uniform4fv(this.addr,r)}function dTe(n,e){const r=Sg(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,r)}function fTe(n,e){const r=Sg(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,r)}function hTe(n,e){const r=Sg(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,r)}function pTe(n,e){n.uniform1iv(this.addr,e)}function mTe(n,e){n.uniform2iv(this.addr,e)}function gTe(n,e){n.uniform3iv(this.addr,e)}function vTe(n,e){n.uniform4iv(this.addr,e)}function ATe(n,e){n.uniform1uiv(this.addr,e)}function yTe(n,e){n.uniform2uiv(this.addr,e)}function bTe(n,e){n.uniform3uiv(this.addr,e)}function xTe(n,e){n.uniform4uiv(this.addr,e)}function ETe(n,e,r){const i=this.cache,o=e.length,s=qC(r,o);Ko(i,s)||(n.uniform1iv(this.addr,s),Xo(i,s));for(let l=0;l!==o;++l)r.setTexture2D(e[l]||gG,s[l])}function CTe(n,e,r){const i=this.cache,o=e.length,s=qC(r,o);Ko(i,s)||(n.uniform1iv(this.addr,s),Xo(i,s));for(let l=0;l!==o;++l)r.setTexture3D(e[l]||AG,s[l])}function wTe(n,e,r){const i=this.cache,o=e.length,s=qC(r,o);Ko(i,s)||(n.uniform1iv(this.addr,s),Xo(i,s));for(let l=0;l!==o;++l)r.setTextureCube(e[l]||yG,s[l])}function STe(n,e,r){const i=this.cache,o=e.length,s=qC(r,o);Ko(i,s)||(n.uniform1iv(this.addr,s),Xo(i,s));for(let l=0;l!==o;++l)r.setTexture2DArray(e[l]||vG,s[l])}function _Te(n){switch(n){case 5126:return sTe;case 35664:return lTe;case 35665:return cTe;case 35666:return uTe;case 35674:return dTe;case 35675:return fTe;case 35676:return hTe;case 5124:case 35670:return pTe;case 35667:case 35671:return mTe;case 35668:case 35672:return gTe;case 35669:case 35673:return vTe;case 5125:return ATe;case 36294:return yTe;case 36295:return bTe;case 36296:return xTe;case 35678:case 36198:case 36298:case 36306:case 35682:return ETe;case 35679:case 36299:case 36307:return CTe;case 35680:case 36300:case 36308:case 36293:return wTe;case 36289:case 36303:case 36311:case 36292:return STe}}class MTe{constructor(e,r,i){this.id=e,this.addr=i,this.cache=[],this.setValue=aTe(r.type)}}class TTe{constructor(e,r,i){this.id=e,this.addr=i,this.cache=[],this.size=r.size,this.setValue=_Te(r.type)}}class RTe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,r,i){const o=this.seq;for(let s=0,l=o.length;s!==l;++s){const u=o[s];u.setValue(e,r[u.id],i)}}}const K_=/(\w+)(\])?(\[|\.)?/g;function W5(n,e){n.seq.push(e),n.map[e.id]=e}function ITe(n,e,r){const i=n.name,o=i.length;for(K_.lastIndex=0;;){const s=K_.exec(i),l=K_.lastIndex;let u=s[1];const c=s[2]==="]",d=s[3];if(c&&(u=u|0),d===void 0||d==="["&&l+2===o){W5(r,d===void 0?new MTe(u,n,e):new TTe(u,n,e));break}else{let p=r.map[u];p===void 0&&(p=new RTe(u),W5(r,p)),r=p}}}class dx{constructor(e,r){this.seq=[],this.map={};const i=e.getProgramParameter(r,e.ACTIVE_UNIFORMS);for(let o=0;o<i;++o){const s=e.getActiveUniform(r,o),l=e.getUniformLocation(r,s.name);ITe(s,l,this)}}setValue(e,r,i,o){const s=this.map[r];s!==void 0&&s.setValue(e,i,o)}setOptional(e,r,i){const o=r[i];o!==void 0&&this.setValue(e,i,o)}static upload(e,r,i,o){for(let s=0,l=r.length;s!==l;++s){const u=r[s],c=i[u.id];c.needsUpdate!==!1&&u.setValue(e,c.value,o)}}static seqWithValue(e,r){const i=[];for(let o=0,s=e.length;o!==s;++o){const l=e[o];l.id in r&&i.push(l)}return i}}function Q5(n,e,r){const i=n.createShader(e);return n.shaderSource(i,r),n.compileShader(i),i}const PTe=37297;let LTe=0;function BTe(n,e){const r=n.split(`
`),i=[],o=Math.max(e-6,0),s=Math.min(e+6,r.length);for(let l=o;l<s;l++){const u=l+1;i.push(`${u===e?">":" "} ${u}: ${r[l]}`)}return i.join(`
`)}function OTe(n){const e=Vi.getPrimaries(Vi.workingColorSpace),r=Vi.getPrimaries(n);let i;switch(e===r?i="":e===AE&&r===vE?i="LinearDisplayP3ToLinearSRGB":e===vE&&r===AE&&(i="LinearSRGBToLinearDisplayP3"),n){case Nu:case WC:return[i,"LinearTransferOETF"];case Go:case sL:return[i,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),[i,"LinearTransferOETF"]}}function K5(n,e,r){const i=n.getShaderParameter(e,n.COMPILE_STATUS),o=n.getShaderInfoLog(e).trim();if(i&&o==="")return"";const s=/ERROR: 0:(\d+)/.exec(o);if(s){const l=parseInt(s[1]);return r.toUpperCase()+`

`+o+`

`+BTe(n.getShaderSource(e),l)}else return o}function DTe(n,e){const r=OTe(e);return`vec4 ${n}( vec4 value ) { return ${r[0]}( ${r[1]}( value ) ); }`}function NTe(n,e){let r;switch(e){case Nwe:r="Linear";break;case kwe:r="Reinhard";break;case Fwe:r="OptimizedCineon";break;case Uwe:r="ACESFilmic";break;case zwe:r="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),r="Linear"}return"vec3 "+n+"( vec3 color ) { return "+r+"ToneMapping( color ); }"}function kTe(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(m0).join(`
`)}function FTe(n){const e=[];for(const r in n){const i=n[r];i!==!1&&e.push("#define "+r+" "+i)}return e.join(`
`)}function UTe(n,e){const r={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let o=0;o<i;o++){const s=n.getActiveAttrib(e,o),l=s.name;let u=1;s.type===n.FLOAT_MAT2&&(u=2),s.type===n.FLOAT_MAT3&&(u=3),s.type===n.FLOAT_MAT4&&(u=4),r[l]={type:s.type,location:n.getAttribLocation(e,l),locationSize:u}}return r}function m0(n){return n!==""}function X5(n,e){const r=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,r).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function q5(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const zTe=/^[ \t]*#include +<([\w\d./]+)>/gm;function tR(n){return n.replace(zTe,HTe)}const $Te=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function HTe(n,e){let r=ai[e];if(r===void 0){const i=$Te.get(e);if(i!==void 0)r=ai[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return tR(r)}const jTe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Y5(n){return n.replace(jTe,GTe)}function GTe(n,e,r,i){let o="";for(let s=parseInt(e);s<parseInt(r);s++)o+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return o}function J5(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function VTe(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===Kj?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===uwe?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===lu&&(e="SHADOWMAP_TYPE_VSM"),e}function WTe(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case ag:case sg:e="ENVMAP_TYPE_CUBE";break;case VC:e="ENVMAP_TYPE_CUBE_UV";break}return e}function QTe(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case sg:e="ENVMAP_MODE_REFRACTION";break}return e}function KTe(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case oL:e="ENVMAP_BLENDING_MULTIPLY";break;case Owe:e="ENVMAP_BLENDING_MIX";break;case Dwe:e="ENVMAP_BLENDING_ADD";break}return e}function XTe(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const r=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,r),7*16)),texelHeight:i,maxMip:r}}function qTe(n,e,r,i){const o=n.getContext(),s=r.defines;let l=r.vertexShader,u=r.fragmentShader;const c=VTe(r),d=WTe(r),h=QTe(r),p=KTe(r),m=XTe(r),v=r.isWebGL2?"":kTe(r),y=FTe(s),A=o.createProgram();let b,g,w=r.glslVersion?"#version "+r.glslVersion+`
`:"";r.isRawShaderMaterial?(b=["#define SHADER_TYPE "+r.shaderType,"#define SHADER_NAME "+r.shaderName,y].filter(m0).join(`
`),b.length>0&&(b+=`
`),g=[v,"#define SHADER_TYPE "+r.shaderType,"#define SHADER_NAME "+r.shaderName,y].filter(m0).join(`
`),g.length>0&&(g+=`
`)):(b=[J5(r),"#define SHADER_TYPE "+r.shaderType,"#define SHADER_NAME "+r.shaderName,y,r.instancing?"#define USE_INSTANCING":"",r.instancingColor?"#define USE_INSTANCING_COLOR":"",r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+h:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",r.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",r.displacementMap?"#define USE_DISPLACEMENTMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.anisotropy?"#define USE_ANISOTROPY":"",r.anisotropyMap?"#define USE_ANISOTROPYMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",r.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.alphaHash?"#define USE_ALPHAHASH":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",r.mapUv?"#define MAP_UV "+r.mapUv:"",r.alphaMapUv?"#define ALPHAMAP_UV "+r.alphaMapUv:"",r.lightMapUv?"#define LIGHTMAP_UV "+r.lightMapUv:"",r.aoMapUv?"#define AOMAP_UV "+r.aoMapUv:"",r.emissiveMapUv?"#define EMISSIVEMAP_UV "+r.emissiveMapUv:"",r.bumpMapUv?"#define BUMPMAP_UV "+r.bumpMapUv:"",r.normalMapUv?"#define NORMALMAP_UV "+r.normalMapUv:"",r.displacementMapUv?"#define DISPLACEMENTMAP_UV "+r.displacementMapUv:"",r.metalnessMapUv?"#define METALNESSMAP_UV "+r.metalnessMapUv:"",r.roughnessMapUv?"#define ROUGHNESSMAP_UV "+r.roughnessMapUv:"",r.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+r.anisotropyMapUv:"",r.clearcoatMapUv?"#define CLEARCOATMAP_UV "+r.clearcoatMapUv:"",r.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+r.clearcoatNormalMapUv:"",r.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+r.clearcoatRoughnessMapUv:"",r.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+r.iridescenceMapUv:"",r.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+r.iridescenceThicknessMapUv:"",r.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+r.sheenColorMapUv:"",r.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+r.sheenRoughnessMapUv:"",r.specularMapUv?"#define SPECULARMAP_UV "+r.specularMapUv:"",r.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+r.specularColorMapUv:"",r.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+r.specularIntensityMapUv:"",r.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+r.transmissionMapUv:"",r.thicknessMapUv?"#define THICKNESSMAP_UV "+r.thicknessMapUv:"",r.vertexTangents&&r.flatShading===!1?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUv1s?"#define USE_UV1":"",r.vertexUv2s?"#define USE_UV2":"",r.vertexUv3s?"#define USE_UV3":"",r.pointsUvs?"#define USE_POINTS_UV":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&r.flatShading===!1?"#define USE_MORPHNORMALS":"",r.morphColors&&r.isWebGL2?"#define USE_MORPHCOLORS":"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+r.morphTextureStride:"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_COUNT "+r.morphTargetsCount:"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+c:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.numLightProbes>0?"#define USE_LIGHT_PROBES":"",r.useLegacyLights?"#define LEGACY_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(m0).join(`
`),g=[v,J5(r),"#define SHADER_TYPE "+r.shaderType,"#define SHADER_NAME "+r.shaderName,y,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.matcap?"#define USE_MATCAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+d:"",r.envMap?"#define "+h:"",r.envMap?"#define "+p:"",m?"#define CUBEUV_TEXEL_WIDTH "+m.texelWidth:"",m?"#define CUBEUV_TEXEL_HEIGHT "+m.texelHeight:"",m?"#define CUBEUV_MAX_MIP "+m.maxMip+".0":"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",r.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.anisotropy?"#define USE_ANISOTROPY":"",r.anisotropyMap?"#define USE_ANISOTROPYMAP":"",r.clearcoat?"#define USE_CLEARCOAT":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.iridescence?"#define USE_IRIDESCENCE":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",r.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.alphaTest?"#define USE_ALPHATEST":"",r.alphaHash?"#define USE_ALPHAHASH":"",r.sheen?"#define USE_SHEEN":"",r.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.vertexTangents&&r.flatShading===!1?"#define USE_TANGENT":"",r.vertexColors||r.instancingColor?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUv1s?"#define USE_UV1":"",r.vertexUv2s?"#define USE_UV2":"",r.vertexUv3s?"#define USE_UV3":"",r.pointsUvs?"#define USE_POINTS_UV":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+c:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.numLightProbes>0?"#define USE_LIGHT_PROBES":"",r.useLegacyLights?"#define LEGACY_LIGHTS":"",r.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",r.toneMapping!==jd?"#define TONE_MAPPING":"",r.toneMapping!==jd?ai.tonemapping_pars_fragment:"",r.toneMapping!==jd?NTe("toneMapping",r.toneMapping):"",r.dithering?"#define DITHERING":"",r.opaque?"#define OPAQUE":"",ai.colorspace_pars_fragment,DTe("linearToOutputTexel",r.outputColorSpace),r.useDepthPacking?"#define DEPTH_PACKING "+r.depthPacking:"",`
`].filter(m0).join(`
`)),l=tR(l),l=X5(l,r),l=q5(l,r),u=tR(u),u=X5(u,r),u=q5(u,r),l=Y5(l),u=Y5(u),r.isWebGL2&&r.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,b=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+b,g=["precision mediump sampler2DArray;","#define varying in",r.glslVersion===g5?"":"layout(location = 0) out highp vec4 pc_fragColor;",r.glslVersion===g5?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const E=w+b+l,C=w+g+u,_=Q5(o,o.VERTEX_SHADER,E),P=Q5(o,o.FRAGMENT_SHADER,C);o.attachShader(A,_),o.attachShader(A,P),r.index0AttributeName!==void 0?o.bindAttribLocation(A,0,r.index0AttributeName):r.morphTargets===!0&&o.bindAttribLocation(A,0,"position"),o.linkProgram(A);function R(H){if(n.debug.checkShaderErrors){const V=o.getProgramInfoLog(A).trim(),B=o.getShaderInfoLog(_).trim(),O=o.getShaderInfoLog(P).trim();let F=!0,N=!0;if(o.getProgramParameter(A,o.LINK_STATUS)===!1)if(F=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(o,A,_,P);else{const z=K5(o,_,"vertex"),j=K5(o,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(A,o.VALIDATE_STATUS)+`

Program Info Log: `+V+`
`+z+`
`+j)}else V!==""?console.warn("THREE.WebGLProgram: Program Info Log:",V):(B===""||O==="")&&(N=!1);N&&(H.diagnostics={runnable:F,programLog:V,vertexShader:{log:B,prefix:b},fragmentShader:{log:O,prefix:g}})}o.deleteShader(_),o.deleteShader(P),L=new dx(o,A),T=UTe(o,A)}let L;this.getUniforms=function(){return L===void 0&&R(this),L};let T;this.getAttributes=function(){return T===void 0&&R(this),T};let D=r.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return D===!1&&(D=o.getProgramParameter(A,PTe)),D},this.destroy=function(){i.releaseStatesOfProgram(this),o.deleteProgram(A),this.program=void 0},this.type=r.shaderType,this.name=r.shaderName,this.id=LTe++,this.cacheKey=e,this.usedTimes=1,this.program=A,this.vertexShader=_,this.fragmentShader=P,this}let YTe=0;class JTe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const r=e.vertexShader,i=e.fragmentShader,o=this._getShaderStage(r),s=this._getShaderStage(i),l=this._getShaderCacheForMaterial(e);return l.has(o)===!1&&(l.add(o),o.usedTimes++),l.has(s)===!1&&(l.add(s),s.usedTimes++),this}remove(e){const r=this.materialCache.get(e);for(const i of r)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const r=this.materialCache;let i=r.get(e);return i===void 0&&(i=new Set,r.set(e,i)),i}_getShaderStage(e){const r=this.shaderCache;let i=r.get(e);return i===void 0&&(i=new ZTe(e),r.set(e,i)),i}}class ZTe{constructor(e){this.id=YTe++,this.code=e,this.usedTimes=0}}function e3e(n,e,r,i,o,s,l){const u=new cL,c=new JTe,d=[],h=o.isWebGL2,p=o.logarithmicDepthBuffer,m=o.vertexTextures;let v=o.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function A(T){return T===0?"uv":`uv${T}`}function b(T,D,H,V,B){const O=V.fog,F=B.geometry,N=T.isMeshStandardMaterial?V.environment:null,z=(T.isMeshStandardMaterial?r:e).get(T.envMap||N),j=z&&z.mapping===VC?z.image.height:null,G=y[T.type];T.precision!==null&&(v=o.getMaxPrecision(T.precision),v!==T.precision&&console.warn("THREE.WebGLProgram.getParameters:",T.precision,"not supported, using",v,"instead."));const Q=F.morphAttributes.position||F.morphAttributes.normal||F.morphAttributes.color,X=Q!==void 0?Q.length:0;let J=0;F.morphAttributes.position!==void 0&&(J=1),F.morphAttributes.normal!==void 0&&(J=2),F.morphAttributes.color!==void 0&&(J=3);let Z,oe,ce,Be;if(G){const Bt=hc[G];Z=Bt.vertexShader,oe=Bt.fragmentShader}else Z=T.vertexShader,oe=T.fragmentShader,c.update(T),ce=c.getVertexShaderID(T),Be=c.getFragmentShaderID(T);const ge=n.getRenderTarget(),Re=B.isInstancedMesh===!0,$e=!!T.map,qe=!!T.matcap,Ke=!!z,ke=!!T.aoMap,st=!!T.lightMap,ot=!!T.bumpMap,it=!!T.normalMap,ft=!!T.displacementMap,Et=!!T.emissiveMap,gt=!!T.metalnessMap,Ct=!!T.roughnessMap,Tt=T.anisotropy>0,Dt=T.clearcoat>0,Yt=T.iridescence>0,Ve=T.sheen>0,ye=T.transmission>0,fe=Tt&&!!T.anisotropyMap,pe=Dt&&!!T.clearcoatMap,_e=Dt&&!!T.clearcoatNormalMap,Ce=Dt&&!!T.clearcoatRoughnessMap,Se=Yt&&!!T.iridescenceMap,we=Yt&&!!T.iridescenceThicknessMap,je=Ve&&!!T.sheenColorMap,Ae=Ve&&!!T.sheenRoughnessMap,Ue=!!T.specularMap,et=!!T.specularColorMap,ue=!!T.specularIntensityMap,Y=ye&&!!T.transmissionMap,ne=ye&&!!T.thicknessMap,Pe=!!T.gradientMap,We=!!T.alphaMap,ve=T.alphaTest>0,he=!!T.alphaHash,Ye=!!T.extensions,Ze=!!F.attributes.uv1,Qe=!!F.attributes.uv2,nt=!!F.attributes.uv3;let It=jd;return T.toneMapped&&(ge===null||ge.isXRRenderTarget===!0)&&(It=n.toneMapping),{isWebGL2:h,shaderID:G,shaderType:T.type,shaderName:T.name,vertexShader:Z,fragmentShader:oe,defines:T.defines,customVertexShaderID:ce,customFragmentShaderID:Be,isRawShaderMaterial:T.isRawShaderMaterial===!0,glslVersion:T.glslVersion,precision:v,instancing:Re,instancingColor:Re&&B.instanceColor!==null,supportsVertexTextures:m,outputColorSpace:ge===null?n.outputColorSpace:ge.isXRRenderTarget===!0?ge.texture.colorSpace:Nu,map:$e,matcap:qe,envMap:Ke,envMapMode:Ke&&z.mapping,envMapCubeUVHeight:j,aoMap:ke,lightMap:st,bumpMap:ot,normalMap:it,displacementMap:m&&ft,emissiveMap:Et,normalMapObjectSpace:it&&T.normalMapType===Zwe,normalMapTangentSpace:it&&T.normalMapType===rG,metalnessMap:gt,roughnessMap:Ct,anisotropy:Tt,anisotropyMap:fe,clearcoat:Dt,clearcoatMap:pe,clearcoatNormalMap:_e,clearcoatRoughnessMap:Ce,iridescence:Yt,iridescenceMap:Se,iridescenceThicknessMap:we,sheen:Ve,sheenColorMap:je,sheenRoughnessMap:Ae,specularMap:Ue,specularColorMap:et,specularIntensityMap:ue,transmission:ye,transmissionMap:Y,thicknessMap:ne,gradientMap:Pe,opaque:T.transparent===!1&&T.blending===Nm,alphaMap:We,alphaTest:ve,alphaHash:he,combine:T.combine,mapUv:$e&&A(T.map.channel),aoMapUv:ke&&A(T.aoMap.channel),lightMapUv:st&&A(T.lightMap.channel),bumpMapUv:ot&&A(T.bumpMap.channel),normalMapUv:it&&A(T.normalMap.channel),displacementMapUv:ft&&A(T.displacementMap.channel),emissiveMapUv:Et&&A(T.emissiveMap.channel),metalnessMapUv:gt&&A(T.metalnessMap.channel),roughnessMapUv:Ct&&A(T.roughnessMap.channel),anisotropyMapUv:fe&&A(T.anisotropyMap.channel),clearcoatMapUv:pe&&A(T.clearcoatMap.channel),clearcoatNormalMapUv:_e&&A(T.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ce&&A(T.clearcoatRoughnessMap.channel),iridescenceMapUv:Se&&A(T.iridescenceMap.channel),iridescenceThicknessMapUv:we&&A(T.iridescenceThicknessMap.channel),sheenColorMapUv:je&&A(T.sheenColorMap.channel),sheenRoughnessMapUv:Ae&&A(T.sheenRoughnessMap.channel),specularMapUv:Ue&&A(T.specularMap.channel),specularColorMapUv:et&&A(T.specularColorMap.channel),specularIntensityMapUv:ue&&A(T.specularIntensityMap.channel),transmissionMapUv:Y&&A(T.transmissionMap.channel),thicknessMapUv:ne&&A(T.thicknessMap.channel),alphaMapUv:We&&A(T.alphaMap.channel),vertexTangents:!!F.attributes.tangent&&(it||Tt),vertexColors:T.vertexColors,vertexAlphas:T.vertexColors===!0&&!!F.attributes.color&&F.attributes.color.itemSize===4,vertexUv1s:Ze,vertexUv2s:Qe,vertexUv3s:nt,pointsUvs:B.isPoints===!0&&!!F.attributes.uv&&($e||We),fog:!!O,useFog:T.fog===!0,fogExp2:O&&O.isFogExp2,flatShading:T.flatShading===!0,sizeAttenuation:T.sizeAttenuation===!0,logarithmicDepthBuffer:p,skinning:B.isSkinnedMesh===!0,morphTargets:F.morphAttributes.position!==void 0,morphNormals:F.morphAttributes.normal!==void 0,morphColors:F.morphAttributes.color!==void 0,morphTargetsCount:X,morphTextureStride:J,numDirLights:D.directional.length,numPointLights:D.point.length,numSpotLights:D.spot.length,numSpotLightMaps:D.spotLightMap.length,numRectAreaLights:D.rectArea.length,numHemiLights:D.hemi.length,numDirLightShadows:D.directionalShadowMap.length,numPointLightShadows:D.pointShadowMap.length,numSpotLightShadows:D.spotShadowMap.length,numSpotLightShadowsWithMaps:D.numSpotLightShadowsWithMaps,numLightProbes:D.numLightProbes,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:T.dithering,shadowMapEnabled:n.shadowMap.enabled&&H.length>0,shadowMapType:n.shadowMap.type,toneMapping:It,useLegacyLights:n._useLegacyLights,decodeVideoTexture:$e&&T.map.isVideoTexture===!0&&Vi.getTransfer(T.map.colorSpace)===eo,premultipliedAlpha:T.premultipliedAlpha,doubleSided:T.side===mu,flipSided:T.side===Ka,useDepthPacking:T.depthPacking>=0,depthPacking:T.depthPacking||0,index0AttributeName:T.index0AttributeName,extensionDerivatives:Ye&&T.extensions.derivatives===!0,extensionFragDepth:Ye&&T.extensions.fragDepth===!0,extensionDrawBuffers:Ye&&T.extensions.drawBuffers===!0,extensionShaderTextureLOD:Ye&&T.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:h||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||i.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:T.customProgramCacheKey()}}function g(T){const D=[];if(T.shaderID?D.push(T.shaderID):(D.push(T.customVertexShaderID),D.push(T.customFragmentShaderID)),T.defines!==void 0)for(const H in T.defines)D.push(H),D.push(T.defines[H]);return T.isRawShaderMaterial===!1&&(w(D,T),E(D,T),D.push(n.outputColorSpace)),D.push(T.customProgramCacheKey),D.join()}function w(T,D){T.push(D.precision),T.push(D.outputColorSpace),T.push(D.envMapMode),T.push(D.envMapCubeUVHeight),T.push(D.mapUv),T.push(D.alphaMapUv),T.push(D.lightMapUv),T.push(D.aoMapUv),T.push(D.bumpMapUv),T.push(D.normalMapUv),T.push(D.displacementMapUv),T.push(D.emissiveMapUv),T.push(D.metalnessMapUv),T.push(D.roughnessMapUv),T.push(D.anisotropyMapUv),T.push(D.clearcoatMapUv),T.push(D.clearcoatNormalMapUv),T.push(D.clearcoatRoughnessMapUv),T.push(D.iridescenceMapUv),T.push(D.iridescenceThicknessMapUv),T.push(D.sheenColorMapUv),T.push(D.sheenRoughnessMapUv),T.push(D.specularMapUv),T.push(D.specularColorMapUv),T.push(D.specularIntensityMapUv),T.push(D.transmissionMapUv),T.push(D.thicknessMapUv),T.push(D.combine),T.push(D.fogExp2),T.push(D.sizeAttenuation),T.push(D.morphTargetsCount),T.push(D.morphAttributeCount),T.push(D.numDirLights),T.push(D.numPointLights),T.push(D.numSpotLights),T.push(D.numSpotLightMaps),T.push(D.numHemiLights),T.push(D.numRectAreaLights),T.push(D.numDirLightShadows),T.push(D.numPointLightShadows),T.push(D.numSpotLightShadows),T.push(D.numSpotLightShadowsWithMaps),T.push(D.numLightProbes),T.push(D.shadowMapType),T.push(D.toneMapping),T.push(D.numClippingPlanes),T.push(D.numClipIntersection),T.push(D.depthPacking)}function E(T,D){u.disableAll(),D.isWebGL2&&u.enable(0),D.supportsVertexTextures&&u.enable(1),D.instancing&&u.enable(2),D.instancingColor&&u.enable(3),D.matcap&&u.enable(4),D.envMap&&u.enable(5),D.normalMapObjectSpace&&u.enable(6),D.normalMapTangentSpace&&u.enable(7),D.clearcoat&&u.enable(8),D.iridescence&&u.enable(9),D.alphaTest&&u.enable(10),D.vertexColors&&u.enable(11),D.vertexAlphas&&u.enable(12),D.vertexUv1s&&u.enable(13),D.vertexUv2s&&u.enable(14),D.vertexUv3s&&u.enable(15),D.vertexTangents&&u.enable(16),D.anisotropy&&u.enable(17),D.alphaHash&&u.enable(18),T.push(u.mask),u.disableAll(),D.fog&&u.enable(0),D.useFog&&u.enable(1),D.flatShading&&u.enable(2),D.logarithmicDepthBuffer&&u.enable(3),D.skinning&&u.enable(4),D.morphTargets&&u.enable(5),D.morphNormals&&u.enable(6),D.morphColors&&u.enable(7),D.premultipliedAlpha&&u.enable(8),D.shadowMapEnabled&&u.enable(9),D.useLegacyLights&&u.enable(10),D.doubleSided&&u.enable(11),D.flipSided&&u.enable(12),D.useDepthPacking&&u.enable(13),D.dithering&&u.enable(14),D.transmission&&u.enable(15),D.sheen&&u.enable(16),D.opaque&&u.enable(17),D.pointsUvs&&u.enable(18),D.decodeVideoTexture&&u.enable(19),T.push(u.mask)}function C(T){const D=y[T.type];let H;if(D){const V=hc[D];H=fG.clone(V.uniforms)}else H=T.uniforms;return H}function _(T,D){let H;for(let V=0,B=d.length;V<B;V++){const O=d[V];if(O.cacheKey===D){H=O,++H.usedTimes;break}}return H===void 0&&(H=new qTe(n,D,T,s),d.push(H)),H}function P(T){if(--T.usedTimes===0){const D=d.indexOf(T);d[D]=d[d.length-1],d.pop(),T.destroy()}}function R(T){c.remove(T)}function L(){c.dispose()}return{getParameters:b,getProgramCacheKey:g,getUniforms:C,acquireProgram:_,releaseProgram:P,releaseShaderCache:R,programs:d,dispose:L}}function t3e(){let n=new WeakMap;function e(s){let l=n.get(s);return l===void 0&&(l={},n.set(s,l)),l}function r(s){n.delete(s)}function i(s,l,u){n.get(s)[l]=u}function o(){n=new WeakMap}return{get:e,remove:r,update:i,dispose:o}}function n3e(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function Z5(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function e8(){const n=[];let e=0;const r=[],i=[],o=[];function s(){e=0,r.length=0,i.length=0,o.length=0}function l(p,m,v,y,A,b){let g=n[e];return g===void 0?(g={id:p.id,object:p,geometry:m,material:v,groupOrder:y,renderOrder:p.renderOrder,z:A,group:b},n[e]=g):(g.id=p.id,g.object=p,g.geometry=m,g.material=v,g.groupOrder=y,g.renderOrder=p.renderOrder,g.z=A,g.group=b),e++,g}function u(p,m,v,y,A,b){const g=l(p,m,v,y,A,b);v.transmission>0?i.push(g):v.transparent===!0?o.push(g):r.push(g)}function c(p,m,v,y,A,b){const g=l(p,m,v,y,A,b);v.transmission>0?i.unshift(g):v.transparent===!0?o.unshift(g):r.unshift(g)}function d(p,m){r.length>1&&r.sort(p||n3e),i.length>1&&i.sort(m||Z5),o.length>1&&o.sort(m||Z5)}function h(){for(let p=e,m=n.length;p<m;p++){const v=n[p];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:r,transmissive:i,transparent:o,init:s,push:u,unshift:c,finish:h,sort:d}}function r3e(){let n=new WeakMap;function e(i,o){const s=n.get(i);let l;return s===void 0?(l=new e8,n.set(i,[l])):o>=s.length?(l=new e8,s.push(l)):l=s[o],l}function r(){n=new WeakMap}return{get:e,dispose:r}}function i3e(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let r;switch(e.type){case"DirectionalLight":r={direction:new Rt,color:new gi};break;case"SpotLight":r={position:new Rt,direction:new Rt,color:new gi,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":r={position:new Rt,color:new gi,distance:0,decay:0};break;case"HemisphereLight":r={direction:new Rt,skyColor:new gi,groundColor:new gi};break;case"RectAreaLight":r={color:new gi,position:new Rt,halfWidth:new Rt,halfHeight:new Rt};break}return n[e.id]=r,r}}}function o3e(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let r;switch(e.type){case"DirectionalLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new tr};break;case"SpotLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new tr};break;case"PointLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new tr,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=r,r}}}let a3e=0;function s3e(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function l3e(n,e){const r=new i3e,i=o3e(),o={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let h=0;h<9;h++)o.probe.push(new Rt);const s=new Rt,l=new lo,u=new lo;function c(h,p){let m=0,v=0,y=0;for(let V=0;V<9;V++)o.probe[V].set(0,0,0);let A=0,b=0,g=0,w=0,E=0,C=0,_=0,P=0,R=0,L=0,T=0;h.sort(s3e);const D=p===!0?Math.PI:1;for(let V=0,B=h.length;V<B;V++){const O=h[V],F=O.color,N=O.intensity,z=O.distance,j=O.shadow&&O.shadow.map?O.shadow.map.texture:null;if(O.isAmbientLight)m+=F.r*N*D,v+=F.g*N*D,y+=F.b*N*D;else if(O.isLightProbe){for(let G=0;G<9;G++)o.probe[G].addScaledVector(O.sh.coefficients[G],N);T++}else if(O.isDirectionalLight){const G=r.get(O);if(G.color.copy(O.color).multiplyScalar(O.intensity*D),O.castShadow){const Q=O.shadow,X=i.get(O);X.shadowBias=Q.bias,X.shadowNormalBias=Q.normalBias,X.shadowRadius=Q.radius,X.shadowMapSize=Q.mapSize,o.directionalShadow[A]=X,o.directionalShadowMap[A]=j,o.directionalShadowMatrix[A]=O.shadow.matrix,C++}o.directional[A]=G,A++}else if(O.isSpotLight){const G=r.get(O);G.position.setFromMatrixPosition(O.matrixWorld),G.color.copy(F).multiplyScalar(N*D),G.distance=z,G.coneCos=Math.cos(O.angle),G.penumbraCos=Math.cos(O.angle*(1-O.penumbra)),G.decay=O.decay,o.spot[g]=G;const Q=O.shadow;if(O.map&&(o.spotLightMap[R]=O.map,R++,Q.updateMatrices(O),O.castShadow&&L++),o.spotLightMatrix[g]=Q.matrix,O.castShadow){const X=i.get(O);X.shadowBias=Q.bias,X.shadowNormalBias=Q.normalBias,X.shadowRadius=Q.radius,X.shadowMapSize=Q.mapSize,o.spotShadow[g]=X,o.spotShadowMap[g]=j,P++}g++}else if(O.isRectAreaLight){const G=r.get(O);G.color.copy(F).multiplyScalar(N),G.halfWidth.set(O.width*.5,0,0),G.halfHeight.set(0,O.height*.5,0),o.rectArea[w]=G,w++}else if(O.isPointLight){const G=r.get(O);if(G.color.copy(O.color).multiplyScalar(O.intensity*D),G.distance=O.distance,G.decay=O.decay,O.castShadow){const Q=O.shadow,X=i.get(O);X.shadowBias=Q.bias,X.shadowNormalBias=Q.normalBias,X.shadowRadius=Q.radius,X.shadowMapSize=Q.mapSize,X.shadowCameraNear=Q.camera.near,X.shadowCameraFar=Q.camera.far,o.pointShadow[b]=X,o.pointShadowMap[b]=j,o.pointShadowMatrix[b]=O.shadow.matrix,_++}o.point[b]=G,b++}else if(O.isHemisphereLight){const G=r.get(O);G.skyColor.copy(O.color).multiplyScalar(N*D),G.groundColor.copy(O.groundColor).multiplyScalar(N*D),o.hemi[E]=G,E++}}w>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(o.rectAreaLTC1=ar.LTC_FLOAT_1,o.rectAreaLTC2=ar.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(o.rectAreaLTC1=ar.LTC_HALF_1,o.rectAreaLTC2=ar.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),o.ambient[0]=m,o.ambient[1]=v,o.ambient[2]=y;const H=o.hash;(H.directionalLength!==A||H.pointLength!==b||H.spotLength!==g||H.rectAreaLength!==w||H.hemiLength!==E||H.numDirectionalShadows!==C||H.numPointShadows!==_||H.numSpotShadows!==P||H.numSpotMaps!==R||H.numLightProbes!==T)&&(o.directional.length=A,o.spot.length=g,o.rectArea.length=w,o.point.length=b,o.hemi.length=E,o.directionalShadow.length=C,o.directionalShadowMap.length=C,o.pointShadow.length=_,o.pointShadowMap.length=_,o.spotShadow.length=P,o.spotShadowMap.length=P,o.directionalShadowMatrix.length=C,o.pointShadowMatrix.length=_,o.spotLightMatrix.length=P+R-L,o.spotLightMap.length=R,o.numSpotLightShadowsWithMaps=L,o.numLightProbes=T,H.directionalLength=A,H.pointLength=b,H.spotLength=g,H.rectAreaLength=w,H.hemiLength=E,H.numDirectionalShadows=C,H.numPointShadows=_,H.numSpotShadows=P,H.numSpotMaps=R,H.numLightProbes=T,o.version=a3e++)}function d(h,p){let m=0,v=0,y=0,A=0,b=0;const g=p.matrixWorldInverse;for(let w=0,E=h.length;w<E;w++){const C=h[w];if(C.isDirectionalLight){const _=o.directional[m];_.direction.setFromMatrixPosition(C.matrixWorld),s.setFromMatrixPosition(C.target.matrixWorld),_.direction.sub(s),_.direction.transformDirection(g),m++}else if(C.isSpotLight){const _=o.spot[y];_.position.setFromMatrixPosition(C.matrixWorld),_.position.applyMatrix4(g),_.direction.setFromMatrixPosition(C.matrixWorld),s.setFromMatrixPosition(C.target.matrixWorld),_.direction.sub(s),_.direction.transformDirection(g),y++}else if(C.isRectAreaLight){const _=o.rectArea[A];_.position.setFromMatrixPosition(C.matrixWorld),_.position.applyMatrix4(g),u.identity(),l.copy(C.matrixWorld),l.premultiply(g),u.extractRotation(l),_.halfWidth.set(C.width*.5,0,0),_.halfHeight.set(0,C.height*.5,0),_.halfWidth.applyMatrix4(u),_.halfHeight.applyMatrix4(u),A++}else if(C.isPointLight){const _=o.point[v];_.position.setFromMatrixPosition(C.matrixWorld),_.position.applyMatrix4(g),v++}else if(C.isHemisphereLight){const _=o.hemi[b];_.direction.setFromMatrixPosition(C.matrixWorld),_.direction.transformDirection(g),b++}}}return{setup:c,setupView:d,state:o}}function t8(n,e){const r=new l3e(n,e),i=[],o=[];function s(){i.length=0,o.length=0}function l(p){i.push(p)}function u(p){o.push(p)}function c(p){r.setup(i,p)}function d(p){r.setupView(i,p)}return{init:s,state:{lightsArray:i,shadowsArray:o,lights:r},setupLights:c,setupLightsView:d,pushLight:l,pushShadow:u}}function c3e(n,e){let r=new WeakMap;function i(s,l=0){const u=r.get(s);let c;return u===void 0?(c=new t8(n,e),r.set(s,[c])):l>=u.length?(c=new t8(n,e),u.push(c)):c=u[l],c}function o(){r=new WeakMap}return{get:i,dispose:o}}class u3e extends Bh{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Ywe,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class d3e extends Bh{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const f3e=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,h3e=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function p3e(n,e,r){let i=new dL;const o=new tr,s=new tr,l=new oa,u=new u3e({depthPacking:Jwe}),c=new d3e,d={},h=r.maxTextureSize,p={[Xd]:Ka,[Ka]:Xd,[mu]:mu},m=new ku({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new tr},radius:{value:4}},vertexShader:f3e,fragmentShader:h3e}),v=m.clone();v.defines.HORIZONTAL_PASS=1;const y=new fs;y.setAttribute("position",new ll(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const A=new $l(y,m),b=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Kj;let g=this.type;this.render=function(_,P,R){if(b.enabled===!1||b.autoUpdate===!1&&b.needsUpdate===!1||_.length===0)return;const L=n.getRenderTarget(),T=n.getActiveCubeFace(),D=n.getActiveMipmapLevel(),H=n.state;H.setBlending(Eu),H.buffers.color.setClear(1,1,1,1),H.buffers.depth.setTest(!0),H.setScissorTest(!1);const V=g!==lu&&this.type===lu,B=g===lu&&this.type!==lu;for(let O=0,F=_.length;O<F;O++){const N=_[O],z=N.shadow;if(z===void 0){console.warn("THREE.WebGLShadowMap:",N,"has no shadow.");continue}if(z.autoUpdate===!1&&z.needsUpdate===!1)continue;o.copy(z.mapSize);const j=z.getFrameExtents();if(o.multiply(j),s.copy(z.mapSize),(o.x>h||o.y>h)&&(o.x>h&&(s.x=Math.floor(h/j.x),o.x=s.x*j.x,z.mapSize.x=s.x),o.y>h&&(s.y=Math.floor(h/j.y),o.y=s.y*j.y,z.mapSize.y=s.y)),z.map===null||V===!0||B===!0){const Q=this.type!==lu?{minFilter:Ga,magFilter:Ga}:{};z.map!==null&&z.map.dispose(),z.map=new qd(o.x,o.y,Q),z.map.texture.name=N.name+".shadowMap",z.camera.updateProjectionMatrix()}n.setRenderTarget(z.map),n.clear();const G=z.getViewportCount();for(let Q=0;Q<G;Q++){const X=z.getViewport(Q);l.set(s.x*X.x,s.y*X.y,s.x*X.z,s.y*X.w),H.viewport(l),z.updateMatrices(N,Q),i=z.getFrustum(),C(P,R,z.camera,N,this.type)}z.isPointLightShadow!==!0&&this.type===lu&&w(z,R),z.needsUpdate=!1}g=this.type,b.needsUpdate=!1,n.setRenderTarget(L,T,D)};function w(_,P){const R=e.update(A);m.defines.VSM_SAMPLES!==_.blurSamples&&(m.defines.VSM_SAMPLES=_.blurSamples,v.defines.VSM_SAMPLES=_.blurSamples,m.needsUpdate=!0,v.needsUpdate=!0),_.mapPass===null&&(_.mapPass=new qd(o.x,o.y)),m.uniforms.shadow_pass.value=_.map.texture,m.uniforms.resolution.value=_.mapSize,m.uniforms.radius.value=_.radius,n.setRenderTarget(_.mapPass),n.clear(),n.renderBufferDirect(P,null,R,m,A,null),v.uniforms.shadow_pass.value=_.mapPass.texture,v.uniforms.resolution.value=_.mapSize,v.uniforms.radius.value=_.radius,n.setRenderTarget(_.map),n.clear(),n.renderBufferDirect(P,null,R,v,A,null)}function E(_,P,R,L){let T=null;const D=R.isPointLight===!0?_.customDistanceMaterial:_.customDepthMaterial;if(D!==void 0)T=D;else if(T=R.isPointLight===!0?c:u,n.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0){const H=T.uuid,V=P.uuid;let B=d[H];B===void 0&&(B={},d[H]=B);let O=B[V];O===void 0&&(O=T.clone(),B[V]=O),T=O}if(T.visible=P.visible,T.wireframe=P.wireframe,L===lu?T.side=P.shadowSide!==null?P.shadowSide:P.side:T.side=P.shadowSide!==null?P.shadowSide:p[P.side],T.alphaMap=P.alphaMap,T.alphaTest=P.alphaTest,T.map=P.map,T.clipShadows=P.clipShadows,T.clippingPlanes=P.clippingPlanes,T.clipIntersection=P.clipIntersection,T.displacementMap=P.displacementMap,T.displacementScale=P.displacementScale,T.displacementBias=P.displacementBias,T.wireframeLinewidth=P.wireframeLinewidth,T.linewidth=P.linewidth,R.isPointLight===!0&&T.isMeshDistanceMaterial===!0){const H=n.properties.get(T);H.light=R}return T}function C(_,P,R,L,T){if(_.visible===!1)return;if(_.layers.test(P.layers)&&(_.isMesh||_.isLine||_.isPoints)&&(_.castShadow||_.receiveShadow&&T===lu)&&(!_.frustumCulled||i.intersectsObject(_))){_.modelViewMatrix.multiplyMatrices(R.matrixWorldInverse,_.matrixWorld);const V=e.update(_),B=_.material;if(Array.isArray(B)){const O=V.groups;for(let F=0,N=O.length;F<N;F++){const z=O[F],j=B[z.materialIndex];if(j&&j.visible){const G=E(_,j,L,T);n.renderBufferDirect(R,null,V,G,_,z)}}}else if(B.visible){const O=E(_,B,L,T);n.renderBufferDirect(R,null,V,O,_,null)}}const H=_.children;for(let V=0,B=H.length;V<B;V++)C(H[V],P,R,L,T)}}function m3e(n,e,r){const i=r.isWebGL2;function o(){let he=!1;const Ye=new oa;let Ze=null;const Qe=new oa(0,0,0,0);return{setMask:function(nt){Ze!==nt&&!he&&(n.colorMask(nt,nt,nt,nt),Ze=nt)},setLocked:function(nt){he=nt},setClear:function(nt,It,kt,Bt,jt){jt===!0&&(nt*=Bt,It*=Bt,kt*=Bt),Ye.set(nt,It,kt,Bt),Qe.equals(Ye)===!1&&(n.clearColor(nt,It,kt,Bt),Qe.copy(Ye))},reset:function(){he=!1,Ze=null,Qe.set(-1,0,0,0)}}}function s(){let he=!1,Ye=null,Ze=null,Qe=null;return{setTest:function(nt){nt?$e(n.DEPTH_TEST):qe(n.DEPTH_TEST)},setMask:function(nt){Ye!==nt&&!he&&(n.depthMask(nt),Ye=nt)},setFunc:function(nt){if(Ze!==nt){switch(nt){case Mwe:n.depthFunc(n.NEVER);break;case Twe:n.depthFunc(n.ALWAYS);break;case Rwe:n.depthFunc(n.LESS);break;case mE:n.depthFunc(n.LEQUAL);break;case Iwe:n.depthFunc(n.EQUAL);break;case Pwe:n.depthFunc(n.GEQUAL);break;case Lwe:n.depthFunc(n.GREATER);break;case Bwe:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Ze=nt}},setLocked:function(nt){he=nt},setClear:function(nt){Qe!==nt&&(n.clearDepth(nt),Qe=nt)},reset:function(){he=!1,Ye=null,Ze=null,Qe=null}}}function l(){let he=!1,Ye=null,Ze=null,Qe=null,nt=null,It=null,kt=null,Bt=null,jt=null;return{setTest:function(Vt){he||(Vt?$e(n.STENCIL_TEST):qe(n.STENCIL_TEST))},setMask:function(Vt){Ye!==Vt&&!he&&(n.stencilMask(Vt),Ye=Vt)},setFunc:function(Vt,Lt,mt){(Ze!==Vt||Qe!==Lt||nt!==mt)&&(n.stencilFunc(Vt,Lt,mt),Ze=Vt,Qe=Lt,nt=mt)},setOp:function(Vt,Lt,mt){(It!==Vt||kt!==Lt||Bt!==mt)&&(n.stencilOp(Vt,Lt,mt),It=Vt,kt=Lt,Bt=mt)},setLocked:function(Vt){he=Vt},setClear:function(Vt){jt!==Vt&&(n.clearStencil(Vt),jt=Vt)},reset:function(){he=!1,Ye=null,Ze=null,Qe=null,nt=null,It=null,kt=null,Bt=null,jt=null}}}const u=new o,c=new s,d=new l,h=new WeakMap,p=new WeakMap;let m={},v={},y=new WeakMap,A=[],b=null,g=!1,w=null,E=null,C=null,_=null,P=null,R=null,L=null,T=new gi(0,0,0),D=0,H=!1,V=null,B=null,O=null,F=null,N=null;const z=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let j=!1,G=0;const Q=n.getParameter(n.VERSION);Q.indexOf("WebGL")!==-1?(G=parseFloat(/^WebGL (\d)/.exec(Q)[1]),j=G>=1):Q.indexOf("OpenGL ES")!==-1&&(G=parseFloat(/^OpenGL ES (\d)/.exec(Q)[1]),j=G>=2);let X=null,J={};const Z=n.getParameter(n.SCISSOR_BOX),oe=n.getParameter(n.VIEWPORT),ce=new oa().fromArray(Z),Be=new oa().fromArray(oe);function ge(he,Ye,Ze,Qe){const nt=new Uint8Array(4),It=n.createTexture();n.bindTexture(he,It),n.texParameteri(he,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(he,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let kt=0;kt<Ze;kt++)i&&(he===n.TEXTURE_3D||he===n.TEXTURE_2D_ARRAY)?n.texImage3D(Ye,0,n.RGBA,1,1,Qe,0,n.RGBA,n.UNSIGNED_BYTE,nt):n.texImage2D(Ye+kt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,nt);return It}const Re={};Re[n.TEXTURE_2D]=ge(n.TEXTURE_2D,n.TEXTURE_2D,1),Re[n.TEXTURE_CUBE_MAP]=ge(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(Re[n.TEXTURE_2D_ARRAY]=ge(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Re[n.TEXTURE_3D]=ge(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),u.setClear(0,0,0,1),c.setClear(1),d.setClear(0),$e(n.DEPTH_TEST),c.setFunc(mE),gt(!1),Ct(kF),$e(n.CULL_FACE),ft(Eu);function $e(he){m[he]!==!0&&(n.enable(he),m[he]=!0)}function qe(he){m[he]!==!1&&(n.disable(he),m[he]=!1)}function Ke(he,Ye){return v[he]!==Ye?(n.bindFramebuffer(he,Ye),v[he]=Ye,i&&(he===n.DRAW_FRAMEBUFFER&&(v[n.FRAMEBUFFER]=Ye),he===n.FRAMEBUFFER&&(v[n.DRAW_FRAMEBUFFER]=Ye)),!0):!1}function ke(he,Ye){let Ze=A,Qe=!1;if(he)if(Ze=y.get(Ye),Ze===void 0&&(Ze=[],y.set(Ye,Ze)),he.isWebGLMultipleRenderTargets){const nt=he.texture;if(Ze.length!==nt.length||Ze[0]!==n.COLOR_ATTACHMENT0){for(let It=0,kt=nt.length;It<kt;It++)Ze[It]=n.COLOR_ATTACHMENT0+It;Ze.length=nt.length,Qe=!0}}else Ze[0]!==n.COLOR_ATTACHMENT0&&(Ze[0]=n.COLOR_ATTACHMENT0,Qe=!0);else Ze[0]!==n.BACK&&(Ze[0]=n.BACK,Qe=!0);Qe&&(r.isWebGL2?n.drawBuffers(Ze):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ze))}function st(he){return b!==he?(n.useProgram(he),b=he,!0):!1}const ot={[Wf]:n.FUNC_ADD,[fwe]:n.FUNC_SUBTRACT,[hwe]:n.FUNC_REVERSE_SUBTRACT};if(i)ot[$F]=n.MIN,ot[HF]=n.MAX;else{const he=e.get("EXT_blend_minmax");he!==null&&(ot[$F]=he.MIN_EXT,ot[HF]=he.MAX_EXT)}const it={[pwe]:n.ZERO,[mwe]:n.ONE,[gwe]:n.SRC_COLOR,[V3]:n.SRC_ALPHA,[Ewe]:n.SRC_ALPHA_SATURATE,[bwe]:n.DST_COLOR,[Awe]:n.DST_ALPHA,[vwe]:n.ONE_MINUS_SRC_COLOR,[W3]:n.ONE_MINUS_SRC_ALPHA,[xwe]:n.ONE_MINUS_DST_COLOR,[ywe]:n.ONE_MINUS_DST_ALPHA,[Cwe]:n.CONSTANT_COLOR,[wwe]:n.ONE_MINUS_CONSTANT_COLOR,[Swe]:n.CONSTANT_ALPHA,[_we]:n.ONE_MINUS_CONSTANT_ALPHA};function ft(he,Ye,Ze,Qe,nt,It,kt,Bt,jt,Vt){if(he===Eu){g===!0&&(qe(n.BLEND),g=!1);return}if(g===!1&&($e(n.BLEND),g=!0),he!==dwe){if(he!==w||Vt!==H){if((E!==Wf||P!==Wf)&&(n.blendEquation(n.FUNC_ADD),E=Wf,P=Wf),Vt)switch(he){case Nm:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case FF:n.blendFunc(n.ONE,n.ONE);break;case UF:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case zF:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",he);break}else switch(he){case Nm:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case FF:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case UF:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case zF:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",he);break}C=null,_=null,R=null,L=null,T.set(0,0,0),D=0,w=he,H=Vt}return}nt=nt||Ye,It=It||Ze,kt=kt||Qe,(Ye!==E||nt!==P)&&(n.blendEquationSeparate(ot[Ye],ot[nt]),E=Ye,P=nt),(Ze!==C||Qe!==_||It!==R||kt!==L)&&(n.blendFuncSeparate(it[Ze],it[Qe],it[It],it[kt]),C=Ze,_=Qe,R=It,L=kt),(Bt.equals(T)===!1||jt!==D)&&(n.blendColor(Bt.r,Bt.g,Bt.b,jt),T.copy(Bt),D=jt),w=he,H=!1}function Et(he,Ye){he.side===mu?qe(n.CULL_FACE):$e(n.CULL_FACE);let Ze=he.side===Ka;Ye&&(Ze=!Ze),gt(Ze),he.blending===Nm&&he.transparent===!1?ft(Eu):ft(he.blending,he.blendEquation,he.blendSrc,he.blendDst,he.blendEquationAlpha,he.blendSrcAlpha,he.blendDstAlpha,he.blendColor,he.blendAlpha,he.premultipliedAlpha),c.setFunc(he.depthFunc),c.setTest(he.depthTest),c.setMask(he.depthWrite),u.setMask(he.colorWrite);const Qe=he.stencilWrite;d.setTest(Qe),Qe&&(d.setMask(he.stencilWriteMask),d.setFunc(he.stencilFunc,he.stencilRef,he.stencilFuncMask),d.setOp(he.stencilFail,he.stencilZFail,he.stencilZPass)),Dt(he.polygonOffset,he.polygonOffsetFactor,he.polygonOffsetUnits),he.alphaToCoverage===!0?$e(n.SAMPLE_ALPHA_TO_COVERAGE):qe(n.SAMPLE_ALPHA_TO_COVERAGE)}function gt(he){V!==he&&(he?n.frontFace(n.CW):n.frontFace(n.CCW),V=he)}function Ct(he){he!==lwe?($e(n.CULL_FACE),he!==B&&(he===kF?n.cullFace(n.BACK):he===cwe?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):qe(n.CULL_FACE),B=he}function Tt(he){he!==O&&(j&&n.lineWidth(he),O=he)}function Dt(he,Ye,Ze){he?($e(n.POLYGON_OFFSET_FILL),(F!==Ye||N!==Ze)&&(n.polygonOffset(Ye,Ze),F=Ye,N=Ze)):qe(n.POLYGON_OFFSET_FILL)}function Yt(he){he?$e(n.SCISSOR_TEST):qe(n.SCISSOR_TEST)}function Ve(he){he===void 0&&(he=n.TEXTURE0+z-1),X!==he&&(n.activeTexture(he),X=he)}function ye(he,Ye,Ze){Ze===void 0&&(X===null?Ze=n.TEXTURE0+z-1:Ze=X);let Qe=J[Ze];Qe===void 0&&(Qe={type:void 0,texture:void 0},J[Ze]=Qe),(Qe.type!==he||Qe.texture!==Ye)&&(X!==Ze&&(n.activeTexture(Ze),X=Ze),n.bindTexture(he,Ye||Re[he]),Qe.type=he,Qe.texture=Ye)}function fe(){const he=J[X];he!==void 0&&he.type!==void 0&&(n.bindTexture(he.type,null),he.type=void 0,he.texture=void 0)}function pe(){try{n.compressedTexImage2D.apply(n,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function _e(){try{n.compressedTexImage3D.apply(n,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Ce(){try{n.texSubImage2D.apply(n,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Se(){try{n.texSubImage3D.apply(n,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function we(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function je(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Ae(){try{n.texStorage2D.apply(n,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Ue(){try{n.texStorage3D.apply(n,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function et(){try{n.texImage2D.apply(n,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function ue(){try{n.texImage3D.apply(n,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Y(he){ce.equals(he)===!1&&(n.scissor(he.x,he.y,he.z,he.w),ce.copy(he))}function ne(he){Be.equals(he)===!1&&(n.viewport(he.x,he.y,he.z,he.w),Be.copy(he))}function Pe(he,Ye){let Ze=p.get(Ye);Ze===void 0&&(Ze=new WeakMap,p.set(Ye,Ze));let Qe=Ze.get(he);Qe===void 0&&(Qe=n.getUniformBlockIndex(Ye,he.name),Ze.set(he,Qe))}function We(he,Ye){const Qe=p.get(Ye).get(he);h.get(Ye)!==Qe&&(n.uniformBlockBinding(Ye,Qe,he.__bindingPointIndex),h.set(Ye,Qe))}function ve(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),i===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),m={},X=null,J={},v={},y=new WeakMap,A=[],b=null,g=!1,w=null,E=null,C=null,_=null,P=null,R=null,L=null,T=new gi(0,0,0),D=0,H=!1,V=null,B=null,O=null,F=null,N=null,ce.set(0,0,n.canvas.width,n.canvas.height),Be.set(0,0,n.canvas.width,n.canvas.height),u.reset(),c.reset(),d.reset()}return{buffers:{color:u,depth:c,stencil:d},enable:$e,disable:qe,bindFramebuffer:Ke,drawBuffers:ke,useProgram:st,setBlending:ft,setMaterial:Et,setFlipSided:gt,setCullFace:Ct,setLineWidth:Tt,setPolygonOffset:Dt,setScissorTest:Yt,activeTexture:Ve,bindTexture:ye,unbindTexture:fe,compressedTexImage2D:pe,compressedTexImage3D:_e,texImage2D:et,texImage3D:ue,updateUBOMapping:Pe,uniformBlockBinding:We,texStorage2D:Ae,texStorage3D:Ue,texSubImage2D:Ce,texSubImage3D:Se,compressedTexSubImage2D:we,compressedTexSubImage3D:je,scissor:Y,viewport:ne,reset:ve}}function g3e(n,e,r,i,o,s,l){const u=o.isWebGL2,c=o.maxTextures,d=o.maxCubemapSize,h=o.maxTextureSize,p=o.maxSamples,m=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,v=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap;let A;const b=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function w(Ve,ye){return g?new OffscreenCanvas(Ve,ye):MA("canvas")}function E(Ve,ye,fe,pe){let _e=1;if((Ve.width>pe||Ve.height>pe)&&(_e=pe/Math.max(Ve.width,Ve.height)),_e<1||ye===!0)if(typeof HTMLImageElement<"u"&&Ve instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Ve instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Ve instanceof ImageBitmap){const Ce=ye?bE:Math.floor,Se=Ce(_e*Ve.width),we=Ce(_e*Ve.height);A===void 0&&(A=w(Se,we));const je=fe?w(Se,we):A;return je.width=Se,je.height=we,je.getContext("2d").drawImage(Ve,0,0,Se,we),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ve.width+"x"+Ve.height+") to ("+Se+"x"+we+")."),je}else return"data"in Ve&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ve.width+"x"+Ve.height+")."),Ve;return Ve}function C(Ve){return Z3(Ve.width)&&Z3(Ve.height)}function _(Ve){return u?!1:Ve.wrapS!==kl||Ve.wrapT!==kl||Ve.minFilter!==Ga&&Ve.minFilter!==Rs}function P(Ve,ye){return Ve.generateMipmaps&&ye&&Ve.minFilter!==Ga&&Ve.minFilter!==Rs}function R(Ve){n.generateMipmap(Ve)}function L(Ve,ye,fe,pe,_e=!1){if(u===!1)return ye;if(Ve!==null){if(n[Ve]!==void 0)return n[Ve];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Ve+"'")}let Ce=ye;if(ye===n.RED&&(fe===n.FLOAT&&(Ce=n.R32F),fe===n.HALF_FLOAT&&(Ce=n.R16F),fe===n.UNSIGNED_BYTE&&(Ce=n.R8)),ye===n.RED_INTEGER&&(fe===n.UNSIGNED_BYTE&&(Ce=n.R8UI),fe===n.UNSIGNED_SHORT&&(Ce=n.R16UI),fe===n.UNSIGNED_INT&&(Ce=n.R32UI),fe===n.BYTE&&(Ce=n.R8I),fe===n.SHORT&&(Ce=n.R16I),fe===n.INT&&(Ce=n.R32I)),ye===n.RG&&(fe===n.FLOAT&&(Ce=n.RG32F),fe===n.HALF_FLOAT&&(Ce=n.RG16F),fe===n.UNSIGNED_BYTE&&(Ce=n.RG8)),ye===n.RGBA){const Se=_e?gE:Vi.getTransfer(pe);fe===n.FLOAT&&(Ce=n.RGBA32F),fe===n.HALF_FLOAT&&(Ce=n.RGBA16F),fe===n.UNSIGNED_BYTE&&(Ce=Se===eo?n.SRGB8_ALPHA8:n.RGBA8),fe===n.UNSIGNED_SHORT_4_4_4_4&&(Ce=n.RGBA4),fe===n.UNSIGNED_SHORT_5_5_5_1&&(Ce=n.RGB5_A1)}return(Ce===n.R16F||Ce===n.R32F||Ce===n.RG16F||Ce===n.RG32F||Ce===n.RGBA16F||Ce===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Ce}function T(Ve,ye,fe){return P(Ve,fe)===!0||Ve.isFramebufferTexture&&Ve.minFilter!==Ga&&Ve.minFilter!==Rs?Math.log2(Math.max(ye.width,ye.height))+1:Ve.mipmaps!==void 0&&Ve.mipmaps.length>0?Ve.mipmaps.length:Ve.isCompressedTexture&&Array.isArray(Ve.image)?ye.mipmaps.length:1}function D(Ve){return Ve===Ga||Ve===jF||Ve===x_?n.NEAREST:n.LINEAR}function H(Ve){const ye=Ve.target;ye.removeEventListener("dispose",H),B(ye),ye.isVideoTexture&&y.delete(ye)}function V(Ve){const ye=Ve.target;ye.removeEventListener("dispose",V),F(ye)}function B(Ve){const ye=i.get(Ve);if(ye.__webglInit===void 0)return;const fe=Ve.source,pe=b.get(fe);if(pe){const _e=pe[ye.__cacheKey];_e.usedTimes--,_e.usedTimes===0&&O(Ve),Object.keys(pe).length===0&&b.delete(fe)}i.remove(Ve)}function O(Ve){const ye=i.get(Ve);n.deleteTexture(ye.__webglTexture);const fe=Ve.source,pe=b.get(fe);delete pe[ye.__cacheKey],l.memory.textures--}function F(Ve){const ye=Ve.texture,fe=i.get(Ve),pe=i.get(ye);if(pe.__webglTexture!==void 0&&(n.deleteTexture(pe.__webglTexture),l.memory.textures--),Ve.depthTexture&&Ve.depthTexture.dispose(),Ve.isWebGLCubeRenderTarget)for(let _e=0;_e<6;_e++){if(Array.isArray(fe.__webglFramebuffer[_e]))for(let Ce=0;Ce<fe.__webglFramebuffer[_e].length;Ce++)n.deleteFramebuffer(fe.__webglFramebuffer[_e][Ce]);else n.deleteFramebuffer(fe.__webglFramebuffer[_e]);fe.__webglDepthbuffer&&n.deleteRenderbuffer(fe.__webglDepthbuffer[_e])}else{if(Array.isArray(fe.__webglFramebuffer))for(let _e=0;_e<fe.__webglFramebuffer.length;_e++)n.deleteFramebuffer(fe.__webglFramebuffer[_e]);else n.deleteFramebuffer(fe.__webglFramebuffer);if(fe.__webglDepthbuffer&&n.deleteRenderbuffer(fe.__webglDepthbuffer),fe.__webglMultisampledFramebuffer&&n.deleteFramebuffer(fe.__webglMultisampledFramebuffer),fe.__webglColorRenderbuffer)for(let _e=0;_e<fe.__webglColorRenderbuffer.length;_e++)fe.__webglColorRenderbuffer[_e]&&n.deleteRenderbuffer(fe.__webglColorRenderbuffer[_e]);fe.__webglDepthRenderbuffer&&n.deleteRenderbuffer(fe.__webglDepthRenderbuffer)}if(Ve.isWebGLMultipleRenderTargets)for(let _e=0,Ce=ye.length;_e<Ce;_e++){const Se=i.get(ye[_e]);Se.__webglTexture&&(n.deleteTexture(Se.__webglTexture),l.memory.textures--),i.remove(ye[_e])}i.remove(ye),i.remove(Ve)}let N=0;function z(){N=0}function j(){const Ve=N;return Ve>=c&&console.warn("THREE.WebGLTextures: Trying to use "+Ve+" texture units while this GPU supports only "+c),N+=1,Ve}function G(Ve){const ye=[];return ye.push(Ve.wrapS),ye.push(Ve.wrapT),ye.push(Ve.wrapR||0),ye.push(Ve.magFilter),ye.push(Ve.minFilter),ye.push(Ve.anisotropy),ye.push(Ve.internalFormat),ye.push(Ve.format),ye.push(Ve.type),ye.push(Ve.generateMipmaps),ye.push(Ve.premultiplyAlpha),ye.push(Ve.flipY),ye.push(Ve.unpackAlignment),ye.push(Ve.colorSpace),ye.join()}function Q(Ve,ye){const fe=i.get(Ve);if(Ve.isVideoTexture&&Dt(Ve),Ve.isRenderTargetTexture===!1&&Ve.version>0&&fe.__version!==Ve.version){const pe=Ve.image;if(pe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(pe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{$e(fe,Ve,ye);return}}r.bindTexture(n.TEXTURE_2D,fe.__webglTexture,n.TEXTURE0+ye)}function X(Ve,ye){const fe=i.get(Ve);if(Ve.version>0&&fe.__version!==Ve.version){$e(fe,Ve,ye);return}r.bindTexture(n.TEXTURE_2D_ARRAY,fe.__webglTexture,n.TEXTURE0+ye)}function J(Ve,ye){const fe=i.get(Ve);if(Ve.version>0&&fe.__version!==Ve.version){$e(fe,Ve,ye);return}r.bindTexture(n.TEXTURE_3D,fe.__webglTexture,n.TEXTURE0+ye)}function Z(Ve,ye){const fe=i.get(Ve);if(Ve.version>0&&fe.__version!==Ve.version){qe(fe,Ve,ye);return}r.bindTexture(n.TEXTURE_CUBE_MAP,fe.__webglTexture,n.TEXTURE0+ye)}const oe={[X3]:n.REPEAT,[kl]:n.CLAMP_TO_EDGE,[q3]:n.MIRRORED_REPEAT},ce={[Ga]:n.NEAREST,[jF]:n.NEAREST_MIPMAP_NEAREST,[x_]:n.NEAREST_MIPMAP_LINEAR,[Rs]:n.LINEAR,[$we]:n.LINEAR_MIPMAP_NEAREST,[SA]:n.LINEAR_MIPMAP_LINEAR},Be={[eSe]:n.NEVER,[sSe]:n.ALWAYS,[tSe]:n.LESS,[rSe]:n.LEQUAL,[nSe]:n.EQUAL,[aSe]:n.GEQUAL,[iSe]:n.GREATER,[oSe]:n.NOTEQUAL};function ge(Ve,ye,fe){if(fe?(n.texParameteri(Ve,n.TEXTURE_WRAP_S,oe[ye.wrapS]),n.texParameteri(Ve,n.TEXTURE_WRAP_T,oe[ye.wrapT]),(Ve===n.TEXTURE_3D||Ve===n.TEXTURE_2D_ARRAY)&&n.texParameteri(Ve,n.TEXTURE_WRAP_R,oe[ye.wrapR]),n.texParameteri(Ve,n.TEXTURE_MAG_FILTER,ce[ye.magFilter]),n.texParameteri(Ve,n.TEXTURE_MIN_FILTER,ce[ye.minFilter])):(n.texParameteri(Ve,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(Ve,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(Ve===n.TEXTURE_3D||Ve===n.TEXTURE_2D_ARRAY)&&n.texParameteri(Ve,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(ye.wrapS!==kl||ye.wrapT!==kl)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(Ve,n.TEXTURE_MAG_FILTER,D(ye.magFilter)),n.texParameteri(Ve,n.TEXTURE_MIN_FILTER,D(ye.minFilter)),ye.minFilter!==Ga&&ye.minFilter!==Rs&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),ye.compareFunction&&(n.texParameteri(Ve,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(Ve,n.TEXTURE_COMPARE_FUNC,Be[ye.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const pe=e.get("EXT_texture_filter_anisotropic");if(ye.magFilter===Ga||ye.minFilter!==x_&&ye.minFilter!==SA||ye.type===Od&&e.has("OES_texture_float_linear")===!1||u===!1&&ye.type===lg&&e.has("OES_texture_half_float_linear")===!1)return;(ye.anisotropy>1||i.get(ye).__currentAnisotropy)&&(n.texParameterf(Ve,pe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ye.anisotropy,o.getMaxAnisotropy())),i.get(ye).__currentAnisotropy=ye.anisotropy)}}function Re(Ve,ye){let fe=!1;Ve.__webglInit===void 0&&(Ve.__webglInit=!0,ye.addEventListener("dispose",H));const pe=ye.source;let _e=b.get(pe);_e===void 0&&(_e={},b.set(pe,_e));const Ce=G(ye);if(Ce!==Ve.__cacheKey){_e[Ce]===void 0&&(_e[Ce]={texture:n.createTexture(),usedTimes:0},l.memory.textures++,fe=!0),_e[Ce].usedTimes++;const Se=_e[Ve.__cacheKey];Se!==void 0&&(_e[Ve.__cacheKey].usedTimes--,Se.usedTimes===0&&O(ye)),Ve.__cacheKey=Ce,Ve.__webglTexture=_e[Ce].texture}return fe}function $e(Ve,ye,fe){let pe=n.TEXTURE_2D;(ye.isDataArrayTexture||ye.isCompressedArrayTexture)&&(pe=n.TEXTURE_2D_ARRAY),ye.isData3DTexture&&(pe=n.TEXTURE_3D);const _e=Re(Ve,ye),Ce=ye.source;r.bindTexture(pe,Ve.__webglTexture,n.TEXTURE0+fe);const Se=i.get(Ce);if(Ce.version!==Se.__version||_e===!0){r.activeTexture(n.TEXTURE0+fe);const we=Vi.getPrimaries(Vi.workingColorSpace),je=ye.colorSpace===il?null:Vi.getPrimaries(ye.colorSpace),Ae=ye.colorSpace===il||we===je?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,ye.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ye.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,ye.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ae);const Ue=_(ye)&&C(ye.image)===!1;let et=E(ye.image,Ue,!1,h);et=Yt(ye,et);const ue=C(et)||u,Y=s.convert(ye.format,ye.colorSpace);let ne=s.convert(ye.type),Pe=L(ye.internalFormat,Y,ne,ye.colorSpace,ye.isVideoTexture);ge(pe,ye,ue);let We;const ve=ye.mipmaps,he=u&&ye.isVideoTexture!==!0,Ye=Se.__version===void 0||_e===!0,Ze=T(ye,et,ue);if(ye.isDepthTexture)Pe=n.DEPTH_COMPONENT,u?ye.type===Od?Pe=n.DEPTH_COMPONENT32F:ye.type===Bd?Pe=n.DEPTH_COMPONENT24:ye.type===fh?Pe=n.DEPTH24_STENCIL8:Pe=n.DEPTH_COMPONENT16:ye.type===Od&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),ye.format===hh&&Pe===n.DEPTH_COMPONENT&&ye.type!==aL&&ye.type!==Bd&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),ye.type=Bd,ne=s.convert(ye.type)),ye.format===cg&&Pe===n.DEPTH_COMPONENT&&(Pe=n.DEPTH_STENCIL,ye.type!==fh&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),ye.type=fh,ne=s.convert(ye.type))),Ye&&(he?r.texStorage2D(n.TEXTURE_2D,1,Pe,et.width,et.height):r.texImage2D(n.TEXTURE_2D,0,Pe,et.width,et.height,0,Y,ne,null));else if(ye.isDataTexture)if(ve.length>0&&ue){he&&Ye&&r.texStorage2D(n.TEXTURE_2D,Ze,Pe,ve[0].width,ve[0].height);for(let Qe=0,nt=ve.length;Qe<nt;Qe++)We=ve[Qe],he?r.texSubImage2D(n.TEXTURE_2D,Qe,0,0,We.width,We.height,Y,ne,We.data):r.texImage2D(n.TEXTURE_2D,Qe,Pe,We.width,We.height,0,Y,ne,We.data);ye.generateMipmaps=!1}else he?(Ye&&r.texStorage2D(n.TEXTURE_2D,Ze,Pe,et.width,et.height),r.texSubImage2D(n.TEXTURE_2D,0,0,0,et.width,et.height,Y,ne,et.data)):r.texImage2D(n.TEXTURE_2D,0,Pe,et.width,et.height,0,Y,ne,et.data);else if(ye.isCompressedTexture)if(ye.isCompressedArrayTexture){he&&Ye&&r.texStorage3D(n.TEXTURE_2D_ARRAY,Ze,Pe,ve[0].width,ve[0].height,et.depth);for(let Qe=0,nt=ve.length;Qe<nt;Qe++)We=ve[Qe],ye.format!==Fl?Y!==null?he?r.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Qe,0,0,0,We.width,We.height,et.depth,Y,We.data,0,0):r.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Qe,Pe,We.width,We.height,et.depth,0,We.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):he?r.texSubImage3D(n.TEXTURE_2D_ARRAY,Qe,0,0,0,We.width,We.height,et.depth,Y,ne,We.data):r.texImage3D(n.TEXTURE_2D_ARRAY,Qe,Pe,We.width,We.height,et.depth,0,Y,ne,We.data)}else{he&&Ye&&r.texStorage2D(n.TEXTURE_2D,Ze,Pe,ve[0].width,ve[0].height);for(let Qe=0,nt=ve.length;Qe<nt;Qe++)We=ve[Qe],ye.format!==Fl?Y!==null?he?r.compressedTexSubImage2D(n.TEXTURE_2D,Qe,0,0,We.width,We.height,Y,We.data):r.compressedTexImage2D(n.TEXTURE_2D,Qe,Pe,We.width,We.height,0,We.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):he?r.texSubImage2D(n.TEXTURE_2D,Qe,0,0,We.width,We.height,Y,ne,We.data):r.texImage2D(n.TEXTURE_2D,Qe,Pe,We.width,We.height,0,Y,ne,We.data)}else if(ye.isDataArrayTexture)he?(Ye&&r.texStorage3D(n.TEXTURE_2D_ARRAY,Ze,Pe,et.width,et.height,et.depth),r.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,et.width,et.height,et.depth,Y,ne,et.data)):r.texImage3D(n.TEXTURE_2D_ARRAY,0,Pe,et.width,et.height,et.depth,0,Y,ne,et.data);else if(ye.isData3DTexture)he?(Ye&&r.texStorage3D(n.TEXTURE_3D,Ze,Pe,et.width,et.height,et.depth),r.texSubImage3D(n.TEXTURE_3D,0,0,0,0,et.width,et.height,et.depth,Y,ne,et.data)):r.texImage3D(n.TEXTURE_3D,0,Pe,et.width,et.height,et.depth,0,Y,ne,et.data);else if(ye.isFramebufferTexture){if(Ye)if(he)r.texStorage2D(n.TEXTURE_2D,Ze,Pe,et.width,et.height);else{let Qe=et.width,nt=et.height;for(let It=0;It<Ze;It++)r.texImage2D(n.TEXTURE_2D,It,Pe,Qe,nt,0,Y,ne,null),Qe>>=1,nt>>=1}}else if(ve.length>0&&ue){he&&Ye&&r.texStorage2D(n.TEXTURE_2D,Ze,Pe,ve[0].width,ve[0].height);for(let Qe=0,nt=ve.length;Qe<nt;Qe++)We=ve[Qe],he?r.texSubImage2D(n.TEXTURE_2D,Qe,0,0,Y,ne,We):r.texImage2D(n.TEXTURE_2D,Qe,Pe,Y,ne,We);ye.generateMipmaps=!1}else he?(Ye&&r.texStorage2D(n.TEXTURE_2D,Ze,Pe,et.width,et.height),r.texSubImage2D(n.TEXTURE_2D,0,0,0,Y,ne,et)):r.texImage2D(n.TEXTURE_2D,0,Pe,Y,ne,et);P(ye,ue)&&R(pe),Se.__version=Ce.version,ye.onUpdate&&ye.onUpdate(ye)}Ve.__version=ye.version}function qe(Ve,ye,fe){if(ye.image.length!==6)return;const pe=Re(Ve,ye),_e=ye.source;r.bindTexture(n.TEXTURE_CUBE_MAP,Ve.__webglTexture,n.TEXTURE0+fe);const Ce=i.get(_e);if(_e.version!==Ce.__version||pe===!0){r.activeTexture(n.TEXTURE0+fe);const Se=Vi.getPrimaries(Vi.workingColorSpace),we=ye.colorSpace===il?null:Vi.getPrimaries(ye.colorSpace),je=ye.colorSpace===il||Se===we?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,ye.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ye.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,ye.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,je);const Ae=ye.isCompressedTexture||ye.image[0].isCompressedTexture,Ue=ye.image[0]&&ye.image[0].isDataTexture,et=[];for(let Qe=0;Qe<6;Qe++)!Ae&&!Ue?et[Qe]=E(ye.image[Qe],!1,!0,d):et[Qe]=Ue?ye.image[Qe].image:ye.image[Qe],et[Qe]=Yt(ye,et[Qe]);const ue=et[0],Y=C(ue)||u,ne=s.convert(ye.format,ye.colorSpace),Pe=s.convert(ye.type),We=L(ye.internalFormat,ne,Pe,ye.colorSpace),ve=u&&ye.isVideoTexture!==!0,he=Ce.__version===void 0||pe===!0;let Ye=T(ye,ue,Y);ge(n.TEXTURE_CUBE_MAP,ye,Y);let Ze;if(Ae){ve&&he&&r.texStorage2D(n.TEXTURE_CUBE_MAP,Ye,We,ue.width,ue.height);for(let Qe=0;Qe<6;Qe++){Ze=et[Qe].mipmaps;for(let nt=0;nt<Ze.length;nt++){const It=Ze[nt];ye.format!==Fl?ne!==null?ve?r.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,nt,0,0,It.width,It.height,ne,It.data):r.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,nt,We,It.width,It.height,0,It.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ve?r.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,nt,0,0,It.width,It.height,ne,Pe,It.data):r.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,nt,We,It.width,It.height,0,ne,Pe,It.data)}}}else{Ze=ye.mipmaps,ve&&he&&(Ze.length>0&&Ye++,r.texStorage2D(n.TEXTURE_CUBE_MAP,Ye,We,et[0].width,et[0].height));for(let Qe=0;Qe<6;Qe++)if(Ue){ve?r.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0,0,0,et[Qe].width,et[Qe].height,ne,Pe,et[Qe].data):r.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0,We,et[Qe].width,et[Qe].height,0,ne,Pe,et[Qe].data);for(let nt=0;nt<Ze.length;nt++){const kt=Ze[nt].image[Qe].image;ve?r.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,nt+1,0,0,kt.width,kt.height,ne,Pe,kt.data):r.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,nt+1,We,kt.width,kt.height,0,ne,Pe,kt.data)}}else{ve?r.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0,0,0,ne,Pe,et[Qe]):r.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0,We,ne,Pe,et[Qe]);for(let nt=0;nt<Ze.length;nt++){const It=Ze[nt];ve?r.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,nt+1,0,0,ne,Pe,It.image[Qe]):r.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,nt+1,We,ne,Pe,It.image[Qe])}}}P(ye,Y)&&R(n.TEXTURE_CUBE_MAP),Ce.__version=_e.version,ye.onUpdate&&ye.onUpdate(ye)}Ve.__version=ye.version}function Ke(Ve,ye,fe,pe,_e,Ce){const Se=s.convert(fe.format,fe.colorSpace),we=s.convert(fe.type),je=L(fe.internalFormat,Se,we,fe.colorSpace);if(!i.get(ye).__hasExternalTextures){const Ue=Math.max(1,ye.width>>Ce),et=Math.max(1,ye.height>>Ce);_e===n.TEXTURE_3D||_e===n.TEXTURE_2D_ARRAY?r.texImage3D(_e,Ce,je,Ue,et,ye.depth,0,Se,we,null):r.texImage2D(_e,Ce,je,Ue,et,0,Se,we,null)}r.bindFramebuffer(n.FRAMEBUFFER,Ve),Tt(ye)?m.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,pe,_e,i.get(fe).__webglTexture,0,Ct(ye)):(_e===n.TEXTURE_2D||_e>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&_e<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,pe,_e,i.get(fe).__webglTexture,Ce),r.bindFramebuffer(n.FRAMEBUFFER,null)}function ke(Ve,ye,fe){if(n.bindRenderbuffer(n.RENDERBUFFER,Ve),ye.depthBuffer&&!ye.stencilBuffer){let pe=u===!0?n.DEPTH_COMPONENT24:n.DEPTH_COMPONENT16;if(fe||Tt(ye)){const _e=ye.depthTexture;_e&&_e.isDepthTexture&&(_e.type===Od?pe=n.DEPTH_COMPONENT32F:_e.type===Bd&&(pe=n.DEPTH_COMPONENT24));const Ce=Ct(ye);Tt(ye)?m.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ce,pe,ye.width,ye.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,Ce,pe,ye.width,ye.height)}else n.renderbufferStorage(n.RENDERBUFFER,pe,ye.width,ye.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,Ve)}else if(ye.depthBuffer&&ye.stencilBuffer){const pe=Ct(ye);fe&&Tt(ye)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,pe,n.DEPTH24_STENCIL8,ye.width,ye.height):Tt(ye)?m.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,pe,n.DEPTH24_STENCIL8,ye.width,ye.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,ye.width,ye.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,Ve)}else{const pe=ye.isWebGLMultipleRenderTargets===!0?ye.texture:[ye.texture];for(let _e=0;_e<pe.length;_e++){const Ce=pe[_e],Se=s.convert(Ce.format,Ce.colorSpace),we=s.convert(Ce.type),je=L(Ce.internalFormat,Se,we,Ce.colorSpace),Ae=Ct(ye);fe&&Tt(ye)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ae,je,ye.width,ye.height):Tt(ye)?m.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ae,je,ye.width,ye.height):n.renderbufferStorage(n.RENDERBUFFER,je,ye.width,ye.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function st(Ve,ye){if(ye&&ye.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(r.bindFramebuffer(n.FRAMEBUFFER,Ve),!(ye.depthTexture&&ye.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(ye.depthTexture).__webglTexture||ye.depthTexture.image.width!==ye.width||ye.depthTexture.image.height!==ye.height)&&(ye.depthTexture.image.width=ye.width,ye.depthTexture.image.height=ye.height,ye.depthTexture.needsUpdate=!0),Q(ye.depthTexture,0);const pe=i.get(ye.depthTexture).__webglTexture,_e=Ct(ye);if(ye.depthTexture.format===hh)Tt(ye)?m.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,pe,0,_e):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,pe,0);else if(ye.depthTexture.format===cg)Tt(ye)?m.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,pe,0,_e):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,pe,0);else throw new Error("Unknown depthTexture format")}function ot(Ve){const ye=i.get(Ve),fe=Ve.isWebGLCubeRenderTarget===!0;if(Ve.depthTexture&&!ye.__autoAllocateDepthBuffer){if(fe)throw new Error("target.depthTexture not supported in Cube render targets");st(ye.__webglFramebuffer,Ve)}else if(fe){ye.__webglDepthbuffer=[];for(let pe=0;pe<6;pe++)r.bindFramebuffer(n.FRAMEBUFFER,ye.__webglFramebuffer[pe]),ye.__webglDepthbuffer[pe]=n.createRenderbuffer(),ke(ye.__webglDepthbuffer[pe],Ve,!1)}else r.bindFramebuffer(n.FRAMEBUFFER,ye.__webglFramebuffer),ye.__webglDepthbuffer=n.createRenderbuffer(),ke(ye.__webglDepthbuffer,Ve,!1);r.bindFramebuffer(n.FRAMEBUFFER,null)}function it(Ve,ye,fe){const pe=i.get(Ve);ye!==void 0&&Ke(pe.__webglFramebuffer,Ve,Ve.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),fe!==void 0&&ot(Ve)}function ft(Ve){const ye=Ve.texture,fe=i.get(Ve),pe=i.get(ye);Ve.addEventListener("dispose",V),Ve.isWebGLMultipleRenderTargets!==!0&&(pe.__webglTexture===void 0&&(pe.__webglTexture=n.createTexture()),pe.__version=ye.version,l.memory.textures++);const _e=Ve.isWebGLCubeRenderTarget===!0,Ce=Ve.isWebGLMultipleRenderTargets===!0,Se=C(Ve)||u;if(_e){fe.__webglFramebuffer=[];for(let we=0;we<6;we++)if(u&&ye.mipmaps&&ye.mipmaps.length>0){fe.__webglFramebuffer[we]=[];for(let je=0;je<ye.mipmaps.length;je++)fe.__webglFramebuffer[we][je]=n.createFramebuffer()}else fe.__webglFramebuffer[we]=n.createFramebuffer()}else{if(u&&ye.mipmaps&&ye.mipmaps.length>0){fe.__webglFramebuffer=[];for(let we=0;we<ye.mipmaps.length;we++)fe.__webglFramebuffer[we]=n.createFramebuffer()}else fe.__webglFramebuffer=n.createFramebuffer();if(Ce)if(o.drawBuffers){const we=Ve.texture;for(let je=0,Ae=we.length;je<Ae;je++){const Ue=i.get(we[je]);Ue.__webglTexture===void 0&&(Ue.__webglTexture=n.createTexture(),l.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(u&&Ve.samples>0&&Tt(Ve)===!1){const we=Ce?ye:[ye];fe.__webglMultisampledFramebuffer=n.createFramebuffer(),fe.__webglColorRenderbuffer=[],r.bindFramebuffer(n.FRAMEBUFFER,fe.__webglMultisampledFramebuffer);for(let je=0;je<we.length;je++){const Ae=we[je];fe.__webglColorRenderbuffer[je]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,fe.__webglColorRenderbuffer[je]);const Ue=s.convert(Ae.format,Ae.colorSpace),et=s.convert(Ae.type),ue=L(Ae.internalFormat,Ue,et,Ae.colorSpace,Ve.isXRRenderTarget===!0),Y=Ct(Ve);n.renderbufferStorageMultisample(n.RENDERBUFFER,Y,ue,Ve.width,Ve.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+je,n.RENDERBUFFER,fe.__webglColorRenderbuffer[je])}n.bindRenderbuffer(n.RENDERBUFFER,null),Ve.depthBuffer&&(fe.__webglDepthRenderbuffer=n.createRenderbuffer(),ke(fe.__webglDepthRenderbuffer,Ve,!0)),r.bindFramebuffer(n.FRAMEBUFFER,null)}}if(_e){r.bindTexture(n.TEXTURE_CUBE_MAP,pe.__webglTexture),ge(n.TEXTURE_CUBE_MAP,ye,Se);for(let we=0;we<6;we++)if(u&&ye.mipmaps&&ye.mipmaps.length>0)for(let je=0;je<ye.mipmaps.length;je++)Ke(fe.__webglFramebuffer[we][je],Ve,ye,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+we,je);else Ke(fe.__webglFramebuffer[we],Ve,ye,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+we,0);P(ye,Se)&&R(n.TEXTURE_CUBE_MAP),r.unbindTexture()}else if(Ce){const we=Ve.texture;for(let je=0,Ae=we.length;je<Ae;je++){const Ue=we[je],et=i.get(Ue);r.bindTexture(n.TEXTURE_2D,et.__webglTexture),ge(n.TEXTURE_2D,Ue,Se),Ke(fe.__webglFramebuffer,Ve,Ue,n.COLOR_ATTACHMENT0+je,n.TEXTURE_2D,0),P(Ue,Se)&&R(n.TEXTURE_2D)}r.unbindTexture()}else{let we=n.TEXTURE_2D;if((Ve.isWebGL3DRenderTarget||Ve.isWebGLArrayRenderTarget)&&(u?we=Ve.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),r.bindTexture(we,pe.__webglTexture),ge(we,ye,Se),u&&ye.mipmaps&&ye.mipmaps.length>0)for(let je=0;je<ye.mipmaps.length;je++)Ke(fe.__webglFramebuffer[je],Ve,ye,n.COLOR_ATTACHMENT0,we,je);else Ke(fe.__webglFramebuffer,Ve,ye,n.COLOR_ATTACHMENT0,we,0);P(ye,Se)&&R(we),r.unbindTexture()}Ve.depthBuffer&&ot(Ve)}function Et(Ve){const ye=C(Ve)||u,fe=Ve.isWebGLMultipleRenderTargets===!0?Ve.texture:[Ve.texture];for(let pe=0,_e=fe.length;pe<_e;pe++){const Ce=fe[pe];if(P(Ce,ye)){const Se=Ve.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,we=i.get(Ce).__webglTexture;r.bindTexture(Se,we),R(Se),r.unbindTexture()}}}function gt(Ve){if(u&&Ve.samples>0&&Tt(Ve)===!1){const ye=Ve.isWebGLMultipleRenderTargets?Ve.texture:[Ve.texture],fe=Ve.width,pe=Ve.height;let _e=n.COLOR_BUFFER_BIT;const Ce=[],Se=Ve.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,we=i.get(Ve),je=Ve.isWebGLMultipleRenderTargets===!0;if(je)for(let Ae=0;Ae<ye.length;Ae++)r.bindFramebuffer(n.FRAMEBUFFER,we.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ae,n.RENDERBUFFER,null),r.bindFramebuffer(n.FRAMEBUFFER,we.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ae,n.TEXTURE_2D,null,0);r.bindFramebuffer(n.READ_FRAMEBUFFER,we.__webglMultisampledFramebuffer),r.bindFramebuffer(n.DRAW_FRAMEBUFFER,we.__webglFramebuffer);for(let Ae=0;Ae<ye.length;Ae++){Ce.push(n.COLOR_ATTACHMENT0+Ae),Ve.depthBuffer&&Ce.push(Se);const Ue=we.__ignoreDepthValues!==void 0?we.__ignoreDepthValues:!1;if(Ue===!1&&(Ve.depthBuffer&&(_e|=n.DEPTH_BUFFER_BIT),Ve.stencilBuffer&&(_e|=n.STENCIL_BUFFER_BIT)),je&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,we.__webglColorRenderbuffer[Ae]),Ue===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[Se]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Se])),je){const et=i.get(ye[Ae]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,et,0)}n.blitFramebuffer(0,0,fe,pe,0,0,fe,pe,_e,n.NEAREST),v&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Ce)}if(r.bindFramebuffer(n.READ_FRAMEBUFFER,null),r.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),je)for(let Ae=0;Ae<ye.length;Ae++){r.bindFramebuffer(n.FRAMEBUFFER,we.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ae,n.RENDERBUFFER,we.__webglColorRenderbuffer[Ae]);const Ue=i.get(ye[Ae]).__webglTexture;r.bindFramebuffer(n.FRAMEBUFFER,we.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ae,n.TEXTURE_2D,Ue,0)}r.bindFramebuffer(n.DRAW_FRAMEBUFFER,we.__webglMultisampledFramebuffer)}}function Ct(Ve){return Math.min(p,Ve.samples)}function Tt(Ve){const ye=i.get(Ve);return u&&Ve.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&ye.__useRenderToTexture!==!1}function Dt(Ve){const ye=l.render.frame;y.get(Ve)!==ye&&(y.set(Ve,ye),Ve.update())}function Yt(Ve,ye){const fe=Ve.colorSpace,pe=Ve.format,_e=Ve.type;return Ve.isCompressedTexture===!0||Ve.isVideoTexture===!0||Ve.format===J3||fe!==Nu&&fe!==il&&(Vi.getTransfer(fe)===eo?u===!1?e.has("EXT_sRGB")===!0&&pe===Fl?(Ve.format=J3,Ve.minFilter=Rs,Ve.generateMipmaps=!1):ye=oG.sRGBToLinear(ye):(pe!==Fl||_e!==Gd)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",fe)),ye}this.allocateTextureUnit=j,this.resetTextureUnits=z,this.setTexture2D=Q,this.setTexture2DArray=X,this.setTexture3D=J,this.setTextureCube=Z,this.rebindTextures=it,this.setupRenderTarget=ft,this.updateRenderTargetMipmap=Et,this.updateMultisampleRenderTarget=gt,this.setupDepthRenderbuffer=ot,this.setupFrameBufferTexture=Ke,this.useMultisampledRTT=Tt}function v3e(n,e,r){const i=r.isWebGL2;function o(s,l=il){let u;const c=Vi.getTransfer(l);if(s===Gd)return n.UNSIGNED_BYTE;if(s===Yj)return n.UNSIGNED_SHORT_4_4_4_4;if(s===Jj)return n.UNSIGNED_SHORT_5_5_5_1;if(s===Hwe)return n.BYTE;if(s===jwe)return n.SHORT;if(s===aL)return n.UNSIGNED_SHORT;if(s===qj)return n.INT;if(s===Bd)return n.UNSIGNED_INT;if(s===Od)return n.FLOAT;if(s===lg)return i?n.HALF_FLOAT:(u=e.get("OES_texture_half_float"),u!==null?u.HALF_FLOAT_OES:null);if(s===Gwe)return n.ALPHA;if(s===Fl)return n.RGBA;if(s===Vwe)return n.LUMINANCE;if(s===Wwe)return n.LUMINANCE_ALPHA;if(s===hh)return n.DEPTH_COMPONENT;if(s===cg)return n.DEPTH_STENCIL;if(s===J3)return u=e.get("EXT_sRGB"),u!==null?u.SRGB_ALPHA_EXT:null;if(s===Qwe)return n.RED;if(s===Zj)return n.RED_INTEGER;if(s===Kwe)return n.RG;if(s===eG)return n.RG_INTEGER;if(s===tG)return n.RGBA_INTEGER;if(s===E_||s===C_||s===w_||s===S_)if(c===eo)if(u=e.get("WEBGL_compressed_texture_s3tc_srgb"),u!==null){if(s===E_)return u.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===C_)return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===w_)return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===S_)return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(u=e.get("WEBGL_compressed_texture_s3tc"),u!==null){if(s===E_)return u.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===C_)return u.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===w_)return u.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===S_)return u.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===GF||s===VF||s===WF||s===QF)if(u=e.get("WEBGL_compressed_texture_pvrtc"),u!==null){if(s===GF)return u.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===VF)return u.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===WF)return u.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===QF)return u.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===Xwe)return u=e.get("WEBGL_compressed_texture_etc1"),u!==null?u.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===KF||s===XF)if(u=e.get("WEBGL_compressed_texture_etc"),u!==null){if(s===KF)return c===eo?u.COMPRESSED_SRGB8_ETC2:u.COMPRESSED_RGB8_ETC2;if(s===XF)return c===eo?u.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:u.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===qF||s===YF||s===JF||s===ZF||s===e5||s===t5||s===n5||s===r5||s===i5||s===o5||s===a5||s===s5||s===l5||s===c5)if(u=e.get("WEBGL_compressed_texture_astc"),u!==null){if(s===qF)return c===eo?u.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:u.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===YF)return c===eo?u.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:u.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===JF)return c===eo?u.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:u.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===ZF)return c===eo?u.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:u.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===e5)return c===eo?u.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:u.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===t5)return c===eo?u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:u.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===n5)return c===eo?u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:u.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===r5)return c===eo?u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:u.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===i5)return c===eo?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:u.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===o5)return c===eo?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:u.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===a5)return c===eo?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:u.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===s5)return c===eo?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:u.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===l5)return c===eo?u.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:u.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===c5)return c===eo?u.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:u.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===__||s===u5||s===d5)if(u=e.get("EXT_texture_compression_bptc"),u!==null){if(s===__)return c===eo?u.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:u.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===u5)return u.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===d5)return u.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===qwe||s===f5||s===h5||s===p5)if(u=e.get("EXT_texture_compression_rgtc"),u!==null){if(s===__)return u.COMPRESSED_RED_RGTC1_EXT;if(s===f5)return u.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===h5)return u.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===p5)return u.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===fh?i?n.UNSIGNED_INT_24_8:(u=e.get("WEBGL_depth_texture"),u!==null?u.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:o}}class A3e extends rl{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}let ym=class extends sa{constructor(){super(),this.isGroup=!0,this.type="Group"}};const y3e={type:"move"};class X_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ym,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ym,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Rt,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Rt),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ym,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Rt,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Rt),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const r=this._hand;if(r)for(const i of e.hand.values())this._getHandJoint(r,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,r,i){let o=null,s=null,l=null;const u=this._targetRay,c=this._grip,d=this._hand;if(e&&r.session.visibilityState!=="visible-blurred"){if(d&&e.hand){l=!0;for(const A of e.hand.values()){const b=r.getJointPose(A,i),g=this._getHandJoint(d,A);b!==null&&(g.matrix.fromArray(b.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=b.radius),g.visible=b!==null}const h=d.joints["index-finger-tip"],p=d.joints["thumb-tip"],m=h.position.distanceTo(p.position),v=.02,y=.005;d.inputState.pinching&&m>v+y?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!d.inputState.pinching&&m<=v-y&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(s=r.getPose(e.gripSpace,i),s!==null&&(c.matrix.fromArray(s.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,s.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(s.linearVelocity)):c.hasLinearVelocity=!1,s.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(s.angularVelocity)):c.hasAngularVelocity=!1));u!==null&&(o=r.getPose(e.targetRaySpace,i),o===null&&s!==null&&(o=s),o!==null&&(u.matrix.fromArray(o.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,o.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(o.linearVelocity)):u.hasLinearVelocity=!1,o.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(o.angularVelocity)):u.hasAngularVelocity=!1,this.dispatchEvent(y3e)))}return u!==null&&(u.visible=o!==null),c!==null&&(c.visible=s!==null),d!==null&&(d.visible=l!==null),this}_getHandJoint(e,r){if(e.joints[r.jointName]===void 0){const i=new ym;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[r.jointName]=i,e.add(i)}return e.joints[r.jointName]}}class b3e extends Xa{constructor(e,r,i,o,s,l,u,c,d,h){if(h=h!==void 0?h:hh,h!==hh&&h!==cg)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&h===hh&&(i=Bd),i===void 0&&h===cg&&(i=fh),super(null,o,s,l,u,c,h,i,d),this.isDepthTexture=!0,this.image={width:e,height:r},this.magFilter=u!==void 0?u:Ga,this.minFilter=c!==void 0?c:Ga,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const r=super.toJSON(e);return this.compareFunction!==null&&(r.compareFunction=this.compareFunction),r}}class x3e extends Zl{constructor(e,r){super();const i=this;let o=null,s=1,l=null,u="local-floor",c=1,d=null,h=null,p=null,m=null,v=null,y=null;const A=r.getContextAttributes();let b=null,g=null;const w=[],E=[],C=new rl;C.layers.enable(1),C.viewport=new oa;const _=new rl;_.layers.enable(2),_.viewport=new oa;const P=[C,_],R=new A3e;R.layers.enable(1),R.layers.enable(2);let L=null,T=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(X){let J=w[X];return J===void 0&&(J=new X_,w[X]=J),J.getTargetRaySpace()},this.getControllerGrip=function(X){let J=w[X];return J===void 0&&(J=new X_,w[X]=J),J.getGripSpace()},this.getHand=function(X){let J=w[X];return J===void 0&&(J=new X_,w[X]=J),J.getHandSpace()};function D(X){const J=E.indexOf(X.inputSource);if(J===-1)return;const Z=w[J];Z!==void 0&&(Z.update(X.inputSource,X.frame,d||l),Z.dispatchEvent({type:X.type,data:X.inputSource}))}function H(){o.removeEventListener("select",D),o.removeEventListener("selectstart",D),o.removeEventListener("selectend",D),o.removeEventListener("squeeze",D),o.removeEventListener("squeezestart",D),o.removeEventListener("squeezeend",D),o.removeEventListener("end",H),o.removeEventListener("inputsourceschange",V);for(let X=0;X<w.length;X++){const J=E[X];J!==null&&(E[X]=null,w[X].disconnect(J))}L=null,T=null,e.setRenderTarget(b),v=null,m=null,p=null,o=null,g=null,Q.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(X){s=X,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(X){u=X,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return d||l},this.setReferenceSpace=function(X){d=X},this.getBaseLayer=function(){return m!==null?m:v},this.getBinding=function(){return p},this.getFrame=function(){return y},this.getSession=function(){return o},this.setSession=async function(X){if(o=X,o!==null){if(b=e.getRenderTarget(),o.addEventListener("select",D),o.addEventListener("selectstart",D),o.addEventListener("selectend",D),o.addEventListener("squeeze",D),o.addEventListener("squeezestart",D),o.addEventListener("squeezeend",D),o.addEventListener("end",H),o.addEventListener("inputsourceschange",V),A.xrCompatible!==!0&&await r.makeXRCompatible(),o.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const J={antialias:o.renderState.layers===void 0?A.antialias:!0,alpha:!0,depth:A.depth,stencil:A.stencil,framebufferScaleFactor:s};v=new XRWebGLLayer(o,r,J),o.updateRenderState({baseLayer:v}),g=new qd(v.framebufferWidth,v.framebufferHeight,{format:Fl,type:Gd,colorSpace:e.outputColorSpace,stencilBuffer:A.stencil})}else{let J=null,Z=null,oe=null;A.depth&&(oe=A.stencil?r.DEPTH24_STENCIL8:r.DEPTH_COMPONENT24,J=A.stencil?cg:hh,Z=A.stencil?fh:Bd);const ce={colorFormat:r.RGBA8,depthFormat:oe,scaleFactor:s};p=new XRWebGLBinding(o,r),m=p.createProjectionLayer(ce),o.updateRenderState({layers:[m]}),g=new qd(m.textureWidth,m.textureHeight,{format:Fl,type:Gd,depthTexture:new b3e(m.textureWidth,m.textureHeight,Z,void 0,void 0,void 0,void 0,void 0,void 0,J),stencilBuffer:A.stencil,colorSpace:e.outputColorSpace,samples:A.antialias?4:0});const Be=e.properties.get(g);Be.__ignoreDepthValues=m.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(c),d=null,l=await o.requestReferenceSpace(u),Q.setContext(o),Q.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(o!==null)return o.environmentBlendMode};function V(X){for(let J=0;J<X.removed.length;J++){const Z=X.removed[J],oe=E.indexOf(Z);oe>=0&&(E[oe]=null,w[oe].disconnect(Z))}for(let J=0;J<X.added.length;J++){const Z=X.added[J];let oe=E.indexOf(Z);if(oe===-1){for(let Be=0;Be<w.length;Be++)if(Be>=E.length){E.push(Z),oe=Be;break}else if(E[Be]===null){E[Be]=Z,oe=Be;break}if(oe===-1)break}const ce=w[oe];ce&&ce.connect(Z)}}const B=new Rt,O=new Rt;function F(X,J,Z){B.setFromMatrixPosition(J.matrixWorld),O.setFromMatrixPosition(Z.matrixWorld);const oe=B.distanceTo(O),ce=J.projectionMatrix.elements,Be=Z.projectionMatrix.elements,ge=ce[14]/(ce[10]-1),Re=ce[14]/(ce[10]+1),$e=(ce[9]+1)/ce[5],qe=(ce[9]-1)/ce[5],Ke=(ce[8]-1)/ce[0],ke=(Be[8]+1)/Be[0],st=ge*Ke,ot=ge*ke,it=oe/(-Ke+ke),ft=it*-Ke;J.matrixWorld.decompose(X.position,X.quaternion,X.scale),X.translateX(ft),X.translateZ(it),X.matrixWorld.compose(X.position,X.quaternion,X.scale),X.matrixWorldInverse.copy(X.matrixWorld).invert();const Et=ge+it,gt=Re+it,Ct=st-ft,Tt=ot+(oe-ft),Dt=$e*Re/gt*Et,Yt=qe*Re/gt*Et;X.projectionMatrix.makePerspective(Ct,Tt,Dt,Yt,Et,gt),X.projectionMatrixInverse.copy(X.projectionMatrix).invert()}function N(X,J){J===null?X.matrixWorld.copy(X.matrix):X.matrixWorld.multiplyMatrices(J.matrixWorld,X.matrix),X.matrixWorldInverse.copy(X.matrixWorld).invert()}this.updateCamera=function(X){if(o===null)return;R.near=_.near=C.near=X.near,R.far=_.far=C.far=X.far,(L!==R.near||T!==R.far)&&(o.updateRenderState({depthNear:R.near,depthFar:R.far}),L=R.near,T=R.far);const J=X.parent,Z=R.cameras;N(R,J);for(let oe=0;oe<Z.length;oe++)N(Z[oe],J);Z.length===2?F(R,C,_):R.projectionMatrix.copy(C.projectionMatrix),z(X,R,J)};function z(X,J,Z){Z===null?X.matrix.copy(J.matrixWorld):(X.matrix.copy(Z.matrixWorld),X.matrix.invert(),X.matrix.multiply(J.matrixWorld)),X.matrix.decompose(X.position,X.quaternion,X.scale),X.updateMatrixWorld(!0),X.projectionMatrix.copy(J.projectionMatrix),X.projectionMatrixInverse.copy(J.projectionMatrixInverse),X.isPerspectiveCamera&&(X.fov=_A*2*Math.atan(1/X.projectionMatrix.elements[5]),X.zoom=1)}this.getCamera=function(){return R},this.getFoveation=function(){if(!(m===null&&v===null))return c},this.setFoveation=function(X){c=X,m!==null&&(m.fixedFoveation=X),v!==null&&v.fixedFoveation!==void 0&&(v.fixedFoveation=X)};let j=null;function G(X,J){if(h=J.getViewerPose(d||l),y=J,h!==null){const Z=h.views;v!==null&&(e.setRenderTargetFramebuffer(g,v.framebuffer),e.setRenderTarget(g));let oe=!1;Z.length!==R.cameras.length&&(R.cameras.length=0,oe=!0);for(let ce=0;ce<Z.length;ce++){const Be=Z[ce];let ge=null;if(v!==null)ge=v.getViewport(Be);else{const $e=p.getViewSubImage(m,Be);ge=$e.viewport,ce===0&&(e.setRenderTargetTextures(g,$e.colorTexture,m.ignoreDepthValues?void 0:$e.depthStencilTexture),e.setRenderTarget(g))}let Re=P[ce];Re===void 0&&(Re=new rl,Re.layers.enable(ce),Re.viewport=new oa,P[ce]=Re),Re.matrix.fromArray(Be.transform.matrix),Re.matrix.decompose(Re.position,Re.quaternion,Re.scale),Re.projectionMatrix.fromArray(Be.projectionMatrix),Re.projectionMatrixInverse.copy(Re.projectionMatrix).invert(),Re.viewport.set(ge.x,ge.y,ge.width,ge.height),ce===0&&(R.matrix.copy(Re.matrix),R.matrix.decompose(R.position,R.quaternion,R.scale)),oe===!0&&R.cameras.push(Re)}}for(let Z=0;Z<w.length;Z++){const oe=E[Z],ce=w[Z];oe!==null&&ce!==void 0&&ce.update(oe,J,d||l)}j&&j(X,J),J.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:J}),y=null}const Q=new mG;Q.setAnimationLoop(G),this.setAnimationLoop=function(X){j=X},this.dispose=function(){}}}function E3e(n,e){function r(b,g){b.matrixAutoUpdate===!0&&b.updateMatrix(),g.value.copy(b.matrix)}function i(b,g){g.color.getRGB(b.fogColor.value,dG(n)),g.isFog?(b.fogNear.value=g.near,b.fogFar.value=g.far):g.isFogExp2&&(b.fogDensity.value=g.density)}function o(b,g,w,E,C){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(b,g):g.isMeshToonMaterial?(s(b,g),p(b,g)):g.isMeshPhongMaterial?(s(b,g),h(b,g)):g.isMeshStandardMaterial?(s(b,g),m(b,g),g.isMeshPhysicalMaterial&&v(b,g,C)):g.isMeshMatcapMaterial?(s(b,g),y(b,g)):g.isMeshDepthMaterial?s(b,g):g.isMeshDistanceMaterial?(s(b,g),A(b,g)):g.isMeshNormalMaterial?s(b,g):g.isLineBasicMaterial?(l(b,g),g.isLineDashedMaterial&&u(b,g)):g.isPointsMaterial?c(b,g,w,E):g.isSpriteMaterial?d(b,g):g.isShadowMaterial?(b.color.value.copy(g.color),b.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(b,g){b.opacity.value=g.opacity,g.color&&b.diffuse.value.copy(g.color),g.emissive&&b.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(b.map.value=g.map,r(g.map,b.mapTransform)),g.alphaMap&&(b.alphaMap.value=g.alphaMap,r(g.alphaMap,b.alphaMapTransform)),g.bumpMap&&(b.bumpMap.value=g.bumpMap,r(g.bumpMap,b.bumpMapTransform),b.bumpScale.value=g.bumpScale,g.side===Ka&&(b.bumpScale.value*=-1)),g.normalMap&&(b.normalMap.value=g.normalMap,r(g.normalMap,b.normalMapTransform),b.normalScale.value.copy(g.normalScale),g.side===Ka&&b.normalScale.value.negate()),g.displacementMap&&(b.displacementMap.value=g.displacementMap,r(g.displacementMap,b.displacementMapTransform),b.displacementScale.value=g.displacementScale,b.displacementBias.value=g.displacementBias),g.emissiveMap&&(b.emissiveMap.value=g.emissiveMap,r(g.emissiveMap,b.emissiveMapTransform)),g.specularMap&&(b.specularMap.value=g.specularMap,r(g.specularMap,b.specularMapTransform)),g.alphaTest>0&&(b.alphaTest.value=g.alphaTest);const w=e.get(g).envMap;if(w&&(b.envMap.value=w,b.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,b.reflectivity.value=g.reflectivity,b.ior.value=g.ior,b.refractionRatio.value=g.refractionRatio),g.lightMap){b.lightMap.value=g.lightMap;const E=n._useLegacyLights===!0?Math.PI:1;b.lightMapIntensity.value=g.lightMapIntensity*E,r(g.lightMap,b.lightMapTransform)}g.aoMap&&(b.aoMap.value=g.aoMap,b.aoMapIntensity.value=g.aoMapIntensity,r(g.aoMap,b.aoMapTransform))}function l(b,g){b.diffuse.value.copy(g.color),b.opacity.value=g.opacity,g.map&&(b.map.value=g.map,r(g.map,b.mapTransform))}function u(b,g){b.dashSize.value=g.dashSize,b.totalSize.value=g.dashSize+g.gapSize,b.scale.value=g.scale}function c(b,g,w,E){b.diffuse.value.copy(g.color),b.opacity.value=g.opacity,b.size.value=g.size*w,b.scale.value=E*.5,g.map&&(b.map.value=g.map,r(g.map,b.uvTransform)),g.alphaMap&&(b.alphaMap.value=g.alphaMap,r(g.alphaMap,b.alphaMapTransform)),g.alphaTest>0&&(b.alphaTest.value=g.alphaTest)}function d(b,g){b.diffuse.value.copy(g.color),b.opacity.value=g.opacity,b.rotation.value=g.rotation,g.map&&(b.map.value=g.map,r(g.map,b.mapTransform)),g.alphaMap&&(b.alphaMap.value=g.alphaMap,r(g.alphaMap,b.alphaMapTransform)),g.alphaTest>0&&(b.alphaTest.value=g.alphaTest)}function h(b,g){b.specular.value.copy(g.specular),b.shininess.value=Math.max(g.shininess,1e-4)}function p(b,g){g.gradientMap&&(b.gradientMap.value=g.gradientMap)}function m(b,g){b.metalness.value=g.metalness,g.metalnessMap&&(b.metalnessMap.value=g.metalnessMap,r(g.metalnessMap,b.metalnessMapTransform)),b.roughness.value=g.roughness,g.roughnessMap&&(b.roughnessMap.value=g.roughnessMap,r(g.roughnessMap,b.roughnessMapTransform)),e.get(g).envMap&&(b.envMapIntensity.value=g.envMapIntensity)}function v(b,g,w){b.ior.value=g.ior,g.sheen>0&&(b.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),b.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(b.sheenColorMap.value=g.sheenColorMap,r(g.sheenColorMap,b.sheenColorMapTransform)),g.sheenRoughnessMap&&(b.sheenRoughnessMap.value=g.sheenRoughnessMap,r(g.sheenRoughnessMap,b.sheenRoughnessMapTransform))),g.clearcoat>0&&(b.clearcoat.value=g.clearcoat,b.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(b.clearcoatMap.value=g.clearcoatMap,r(g.clearcoatMap,b.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(b.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,r(g.clearcoatRoughnessMap,b.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(b.clearcoatNormalMap.value=g.clearcoatNormalMap,r(g.clearcoatNormalMap,b.clearcoatNormalMapTransform),b.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===Ka&&b.clearcoatNormalScale.value.negate())),g.iridescence>0&&(b.iridescence.value=g.iridescence,b.iridescenceIOR.value=g.iridescenceIOR,b.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],b.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(b.iridescenceMap.value=g.iridescenceMap,r(g.iridescenceMap,b.iridescenceMapTransform)),g.iridescenceThicknessMap&&(b.iridescenceThicknessMap.value=g.iridescenceThicknessMap,r(g.iridescenceThicknessMap,b.iridescenceThicknessMapTransform))),g.transmission>0&&(b.transmission.value=g.transmission,b.transmissionSamplerMap.value=w.texture,b.transmissionSamplerSize.value.set(w.width,w.height),g.transmissionMap&&(b.transmissionMap.value=g.transmissionMap,r(g.transmissionMap,b.transmissionMapTransform)),b.thickness.value=g.thickness,g.thicknessMap&&(b.thicknessMap.value=g.thicknessMap,r(g.thicknessMap,b.thicknessMapTransform)),b.attenuationDistance.value=g.attenuationDistance,b.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(b.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(b.anisotropyMap.value=g.anisotropyMap,r(g.anisotropyMap,b.anisotropyMapTransform))),b.specularIntensity.value=g.specularIntensity,b.specularColor.value.copy(g.specularColor),g.specularColorMap&&(b.specularColorMap.value=g.specularColorMap,r(g.specularColorMap,b.specularColorMapTransform)),g.specularIntensityMap&&(b.specularIntensityMap.value=g.specularIntensityMap,r(g.specularIntensityMap,b.specularIntensityMapTransform))}function y(b,g){g.matcap&&(b.matcap.value=g.matcap)}function A(b,g){const w=e.get(g).light;b.referencePosition.value.setFromMatrixPosition(w.matrixWorld),b.nearDistance.value=w.shadow.camera.near,b.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:o}}function C3e(n,e,r,i){let o={},s={},l=[];const u=r.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function c(w,E){const C=E.program;i.uniformBlockBinding(w,C)}function d(w,E){let C=o[w.id];C===void 0&&(y(w),C=h(w),o[w.id]=C,w.addEventListener("dispose",b));const _=E.program;i.updateUBOMapping(w,_);const P=e.render.frame;s[w.id]!==P&&(m(w),s[w.id]=P)}function h(w){const E=p();w.__bindingPointIndex=E;const C=n.createBuffer(),_=w.__size,P=w.usage;return n.bindBuffer(n.UNIFORM_BUFFER,C),n.bufferData(n.UNIFORM_BUFFER,_,P),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,E,C),C}function p(){for(let w=0;w<u;w++)if(l.indexOf(w)===-1)return l.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function m(w){const E=o[w.id],C=w.uniforms,_=w.__cache;n.bindBuffer(n.UNIFORM_BUFFER,E);for(let P=0,R=C.length;P<R;P++){const L=C[P];if(v(L,P,_)===!0){const T=L.__offset,D=Array.isArray(L.value)?L.value:[L.value];let H=0;for(let V=0;V<D.length;V++){const B=D[V],O=A(B);typeof B=="number"?(L.__data[0]=B,n.bufferSubData(n.UNIFORM_BUFFER,T+H,L.__data)):B.isMatrix3?(L.__data[0]=B.elements[0],L.__data[1]=B.elements[1],L.__data[2]=B.elements[2],L.__data[3]=B.elements[0],L.__data[4]=B.elements[3],L.__data[5]=B.elements[4],L.__data[6]=B.elements[5],L.__data[7]=B.elements[0],L.__data[8]=B.elements[6],L.__data[9]=B.elements[7],L.__data[10]=B.elements[8],L.__data[11]=B.elements[0]):(B.toArray(L.__data,H),H+=O.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,T,L.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function v(w,E,C){const _=w.value;if(C[E]===void 0){if(typeof _=="number")C[E]=_;else{const P=Array.isArray(_)?_:[_],R=[];for(let L=0;L<P.length;L++)R.push(P[L].clone());C[E]=R}return!0}else if(typeof _=="number"){if(C[E]!==_)return C[E]=_,!0}else{const P=Array.isArray(C[E])?C[E]:[C[E]],R=Array.isArray(_)?_:[_];for(let L=0;L<P.length;L++){const T=P[L];if(T.equals(R[L])===!1)return T.copy(R[L]),!0}}return!1}function y(w){const E=w.uniforms;let C=0;const _=16;let P=0;for(let R=0,L=E.length;R<L;R++){const T=E[R],D={boundary:0,storage:0},H=Array.isArray(T.value)?T.value:[T.value];for(let V=0,B=H.length;V<B;V++){const O=H[V],F=A(O);D.boundary+=F.boundary,D.storage+=F.storage}if(T.__data=new Float32Array(D.storage/Float32Array.BYTES_PER_ELEMENT),T.__offset=C,R>0){P=C%_;const V=_-P;P!==0&&V-D.boundary<0&&(C+=_-P,T.__offset=C)}C+=D.storage}return P=C%_,P>0&&(C+=_-P),w.__size=C,w.__cache={},this}function A(w){const E={boundary:0,storage:0};return typeof w=="number"?(E.boundary=4,E.storage=4):w.isVector2?(E.boundary=8,E.storage=8):w.isVector3||w.isColor?(E.boundary=16,E.storage=12):w.isVector4?(E.boundary=16,E.storage=16):w.isMatrix3?(E.boundary=48,E.storage=48):w.isMatrix4?(E.boundary=64,E.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),E}function b(w){const E=w.target;E.removeEventListener("dispose",b);const C=l.indexOf(E.__bindingPointIndex);l.splice(C,1),n.deleteBuffer(o[E.id]),delete o[E.id],delete s[E.id]}function g(){for(const w in o)n.deleteBuffer(o[w]);l=[],o={},s={}}return{bind:c,update:d,dispose:g}}class bG{constructor(e={}){const{canvas:r=ESe(),context:i=null,depth:o=!0,stencil:s=!0,alpha:l=!1,antialias:u=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:d=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:p=!1}=e;this.isWebGLRenderer=!0;let m;i!==null?m=i.getContextAttributes().alpha:m=l;const v=new Uint32Array(4),y=new Int32Array(4);let A=null,b=null;const g=[],w=[];this.domElement=r,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Go,this._useLegacyLights=!1,this.toneMapping=jd,this.toneMappingExposure=1;const E=this;let C=!1,_=0,P=0,R=null,L=-1,T=null;const D=new oa,H=new oa;let V=null;const B=new gi(0);let O=0,F=r.width,N=r.height,z=1,j=null,G=null;const Q=new oa(0,0,F,N),X=new oa(0,0,F,N);let J=!1;const Z=new dL;let oe=!1,ce=!1,Be=null;const ge=new lo,Re=new tr,$e=new Rt,qe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ke(){return R===null?z:1}let ke=i;function st(Oe,lt){for(let wt=0;wt<Oe.length;wt++){const xe=Oe[wt],De=r.getContext(xe,lt);if(De!==null)return De}return null}try{const Oe={alpha:!0,depth:o,stencil:s,antialias:u,premultipliedAlpha:c,preserveDrawingBuffer:d,powerPreference:h,failIfMajorPerformanceCaveat:p};if("setAttribute"in r&&r.setAttribute("data-engine",`three.js r${iL}`),r.addEventListener("webglcontextlost",ve,!1),r.addEventListener("webglcontextrestored",he,!1),r.addEventListener("webglcontextcreationerror",Ye,!1),ke===null){const lt=["webgl2","webgl","experimental-webgl"];if(E.isWebGL1Renderer===!0&&lt.shift(),ke=st(lt,Oe),ke===null)throw st(lt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&ke instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),ke.getShaderPrecisionFormat===void 0&&(ke.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Oe){throw console.error("THREE.WebGLRenderer: "+Oe.message),Oe}let ot,it,ft,Et,gt,Ct,Tt,Dt,Yt,Ve,ye,fe,pe,_e,Ce,Se,we,je,Ae,Ue,et,ue,Y,ne;function Pe(){ot=new BMe(ke),it=new MMe(ke,ot,e),ot.init(it),ue=new v3e(ke,ot,it),ft=new m3e(ke,ot,it),Et=new NMe(ke),gt=new t3e,Ct=new g3e(ke,ot,ft,gt,it,ue,Et),Tt=new RMe(E),Dt=new LMe(E),Yt=new WSe(ke,it),Y=new SMe(ke,ot,Yt,it),Ve=new OMe(ke,Yt,Et,Y),ye=new zMe(ke,Ve,Yt,Et),Ae=new UMe(ke,it,Ct),Se=new TMe(gt),fe=new e3e(E,Tt,Dt,ot,it,Y,Se),pe=new E3e(E,gt),_e=new r3e,Ce=new c3e(ot,it),je=new wMe(E,Tt,Dt,ft,ye,m,c),we=new p3e(E,ye,it),ne=new C3e(ke,Et,it,ft),Ue=new _Me(ke,ot,Et,it),et=new DMe(ke,ot,Et,it),Et.programs=fe.programs,E.capabilities=it,E.extensions=ot,E.properties=gt,E.renderLists=_e,E.shadowMap=we,E.state=ft,E.info=Et}Pe();const We=new x3e(E,ke);this.xr=We,this.getContext=function(){return ke},this.getContextAttributes=function(){return ke.getContextAttributes()},this.forceContextLoss=function(){const Oe=ot.get("WEBGL_lose_context");Oe&&Oe.loseContext()},this.forceContextRestore=function(){const Oe=ot.get("WEBGL_lose_context");Oe&&Oe.restoreContext()},this.getPixelRatio=function(){return z},this.setPixelRatio=function(Oe){Oe!==void 0&&(z=Oe,this.setSize(F,N,!1))},this.getSize=function(Oe){return Oe.set(F,N)},this.setSize=function(Oe,lt,wt=!0){if(We.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}F=Oe,N=lt,r.width=Math.floor(Oe*z),r.height=Math.floor(lt*z),wt===!0&&(r.style.width=Oe+"px",r.style.height=lt+"px"),this.setViewport(0,0,Oe,lt)},this.getDrawingBufferSize=function(Oe){return Oe.set(F*z,N*z).floor()},this.setDrawingBufferSize=function(Oe,lt,wt){F=Oe,N=lt,z=wt,r.width=Math.floor(Oe*wt),r.height=Math.floor(lt*wt),this.setViewport(0,0,Oe,lt)},this.getCurrentViewport=function(Oe){return Oe.copy(D)},this.getViewport=function(Oe){return Oe.copy(Q)},this.setViewport=function(Oe,lt,wt,xe){Oe.isVector4?Q.set(Oe.x,Oe.y,Oe.z,Oe.w):Q.set(Oe,lt,wt,xe),ft.viewport(D.copy(Q).multiplyScalar(z).floor())},this.getScissor=function(Oe){return Oe.copy(X)},this.setScissor=function(Oe,lt,wt,xe){Oe.isVector4?X.set(Oe.x,Oe.y,Oe.z,Oe.w):X.set(Oe,lt,wt,xe),ft.scissor(H.copy(X).multiplyScalar(z).floor())},this.getScissorTest=function(){return J},this.setScissorTest=function(Oe){ft.setScissorTest(J=Oe)},this.setOpaqueSort=function(Oe){j=Oe},this.setTransparentSort=function(Oe){G=Oe},this.getClearColor=function(Oe){return Oe.copy(je.getClearColor())},this.setClearColor=function(){je.setClearColor.apply(je,arguments)},this.getClearAlpha=function(){return je.getClearAlpha()},this.setClearAlpha=function(){je.setClearAlpha.apply(je,arguments)},this.clear=function(Oe=!0,lt=!0,wt=!0){let xe=0;if(Oe){let De=!1;if(R!==null){const tt=R.texture.format;De=tt===tG||tt===eG||tt===Zj}if(De){const tt=R.texture.type,St=tt===Gd||tt===Bd||tt===aL||tt===fh||tt===Yj||tt===Jj,Mt=je.getClearColor(),Ut=je.getClearAlpha(),Kt=Mt.r,gn=Mt.g,sn=Mt.b;St?(v[0]=Kt,v[1]=gn,v[2]=sn,v[3]=Ut,ke.clearBufferuiv(ke.COLOR,0,v)):(y[0]=Kt,y[1]=gn,y[2]=sn,y[3]=Ut,ke.clearBufferiv(ke.COLOR,0,y))}else xe|=ke.COLOR_BUFFER_BIT}lt&&(xe|=ke.DEPTH_BUFFER_BIT),wt&&(xe|=ke.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ke.clear(xe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){r.removeEventListener("webglcontextlost",ve,!1),r.removeEventListener("webglcontextrestored",he,!1),r.removeEventListener("webglcontextcreationerror",Ye,!1),_e.dispose(),Ce.dispose(),gt.dispose(),Tt.dispose(),Dt.dispose(),ye.dispose(),Y.dispose(),ne.dispose(),fe.dispose(),We.dispose(),We.removeEventListener("sessionstart",jt),We.removeEventListener("sessionend",Vt),Be&&(Be.dispose(),Be=null),Lt.stop()};function ve(Oe){Oe.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function he(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1;const Oe=Et.autoReset,lt=we.enabled,wt=we.autoUpdate,xe=we.needsUpdate,De=we.type;Pe(),Et.autoReset=Oe,we.enabled=lt,we.autoUpdate=wt,we.needsUpdate=xe,we.type=De}function Ye(Oe){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Oe.statusMessage)}function Ze(Oe){const lt=Oe.target;lt.removeEventListener("dispose",Ze),Qe(lt)}function Qe(Oe){nt(Oe),gt.remove(Oe)}function nt(Oe){const lt=gt.get(Oe).programs;lt!==void 0&&(lt.forEach(function(wt){fe.releaseProgram(wt)}),Oe.isShaderMaterial&&fe.releaseShaderCache(Oe))}this.renderBufferDirect=function(Oe,lt,wt,xe,De,tt){lt===null&&(lt=qe);const St=De.isMesh&&De.matrixWorld.determinant()<0,Mt=jn(Oe,lt,wt,xe,De);ft.setMaterial(xe,St);let Ut=wt.index,Kt=1;if(xe.wireframe===!0){if(Ut=Ve.getWireframeAttribute(wt),Ut===void 0)return;Kt=2}const gn=wt.drawRange,sn=wt.attributes.position;let Xt=gn.start*Kt,$n=(gn.start+gn.count)*Kt;tt!==null&&(Xt=Math.max(Xt,tt.start*Kt),$n=Math.min($n,(tt.start+tt.count)*Kt)),Ut!==null?(Xt=Math.max(Xt,0),$n=Math.min($n,Ut.count)):sn!=null&&(Xt=Math.max(Xt,0),$n=Math.min($n,sn.count));const Nn=$n-Xt;if(Nn<0||Nn===1/0)return;Y.setup(De,xe,Mt,wt,Ut);let er,br=Ue;if(Ut!==null&&(er=Yt.get(Ut),br=et,br.setIndex(er)),De.isMesh)xe.wireframe===!0?(ft.setLineWidth(xe.wireframeLinewidth*Ke()),br.setMode(ke.LINES)):br.setMode(ke.TRIANGLES);else if(De.isLine){let kn=xe.linewidth;kn===void 0&&(kn=1),ft.setLineWidth(kn*Ke()),De.isLineSegments?br.setMode(ke.LINES):De.isLineLoop?br.setMode(ke.LINE_LOOP):br.setMode(ke.LINE_STRIP)}else De.isPoints?br.setMode(ke.POINTS):De.isSprite&&br.setMode(ke.TRIANGLES);if(De.isInstancedMesh)br.renderInstances(Xt,Nn,De.count);else if(wt.isInstancedBufferGeometry){const kn=wt._maxInstanceCount!==void 0?wt._maxInstanceCount:1/0,fr=Math.min(wt.instanceCount,kn);br.renderInstances(Xt,Nn,fr)}else br.render(Xt,Nn)};function It(Oe,lt,wt){Oe.transparent===!0&&Oe.side===mu&&Oe.forceSinglePass===!1?(Oe.side=Ka,Oe.needsUpdate=!0,yn(Oe,lt,wt),Oe.side=Xd,Oe.needsUpdate=!0,yn(Oe,lt,wt),Oe.side=mu):yn(Oe,lt,wt)}this.compile=function(Oe,lt,wt=null){wt===null&&(wt=Oe),b=Ce.get(wt),b.init(),w.push(b),wt.traverseVisible(function(De){De.isLight&&De.layers.test(lt.layers)&&(b.pushLight(De),De.castShadow&&b.pushShadow(De))}),Oe!==wt&&Oe.traverseVisible(function(De){De.isLight&&De.layers.test(lt.layers)&&(b.pushLight(De),De.castShadow&&b.pushShadow(De))}),b.setupLights(E._useLegacyLights);const xe=new Set;return Oe.traverse(function(De){const tt=De.material;if(tt)if(Array.isArray(tt))for(let St=0;St<tt.length;St++){const Mt=tt[St];It(Mt,wt,De),xe.add(Mt)}else It(tt,wt,De),xe.add(tt)}),w.pop(),b=null,xe},this.compileAsync=function(Oe,lt,wt=null){const xe=this.compile(Oe,lt,wt);return new Promise(De=>{function tt(){if(xe.forEach(function(St){gt.get(St).currentProgram.isReady()&&xe.delete(St)}),xe.size===0){De(Oe);return}setTimeout(tt,10)}ot.get("KHR_parallel_shader_compile")!==null?tt():setTimeout(tt,10)})};let kt=null;function Bt(Oe){kt&&kt(Oe)}function jt(){Lt.stop()}function Vt(){Lt.start()}const Lt=new mG;Lt.setAnimationLoop(Bt),typeof self<"u"&&Lt.setContext(self),this.setAnimationLoop=function(Oe){kt=Oe,We.setAnimationLoop(Oe),Oe===null?Lt.stop():Lt.start()},We.addEventListener("sessionstart",jt),We.addEventListener("sessionend",Vt),this.render=function(Oe,lt){if(lt!==void 0&&lt.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(C===!0)return;Oe.matrixWorldAutoUpdate===!0&&Oe.updateMatrixWorld(),lt.parent===null&&lt.matrixWorldAutoUpdate===!0&&lt.updateMatrixWorld(),We.enabled===!0&&We.isPresenting===!0&&(We.cameraAutoUpdate===!0&&We.updateCamera(lt),lt=We.getCamera()),Oe.isScene===!0&&Oe.onBeforeRender(E,Oe,lt,R),b=Ce.get(Oe,w.length),b.init(),w.push(b),ge.multiplyMatrices(lt.projectionMatrix,lt.matrixWorldInverse),Z.setFromProjectionMatrix(ge),ce=this.localClippingEnabled,oe=Se.init(this.clippingPlanes,ce),A=_e.get(Oe,g.length),A.init(),g.push(A),mt(Oe,lt,0,E.sortObjects),A.finish(),E.sortObjects===!0&&A.sort(j,G),this.info.render.frame++,oe===!0&&Se.beginShadows();const wt=b.state.shadowsArray;if(we.render(wt,Oe,lt),oe===!0&&Se.endShadows(),this.info.autoReset===!0&&this.info.reset(),je.render(A,Oe),b.setupLights(E._useLegacyLights),lt.isArrayCamera){const xe=lt.cameras;for(let De=0,tt=xe.length;De<tt;De++){const St=xe[De];Nt(A,Oe,St,St.viewport)}}else Nt(A,Oe,lt);R!==null&&(Ct.updateMultisampleRenderTarget(R),Ct.updateRenderTargetMipmap(R)),Oe.isScene===!0&&Oe.onAfterRender(E,Oe,lt),Y.resetDefaultState(),L=-1,T=null,w.pop(),w.length>0?b=w[w.length-1]:b=null,g.pop(),g.length>0?A=g[g.length-1]:A=null};function mt(Oe,lt,wt,xe){if(Oe.visible===!1)return;if(Oe.layers.test(lt.layers)){if(Oe.isGroup)wt=Oe.renderOrder;else if(Oe.isLOD)Oe.autoUpdate===!0&&Oe.update(lt);else if(Oe.isLight)b.pushLight(Oe),Oe.castShadow&&b.pushShadow(Oe);else if(Oe.isSprite){if(!Oe.frustumCulled||Z.intersectsSprite(Oe)){xe&&$e.setFromMatrixPosition(Oe.matrixWorld).applyMatrix4(ge);const St=ye.update(Oe),Mt=Oe.material;Mt.visible&&A.push(Oe,St,Mt,wt,$e.z,null)}}else if((Oe.isMesh||Oe.isLine||Oe.isPoints)&&(!Oe.frustumCulled||Z.intersectsObject(Oe))){const St=ye.update(Oe),Mt=Oe.material;if(xe&&(Oe.boundingSphere!==void 0?(Oe.boundingSphere===null&&Oe.computeBoundingSphere(),$e.copy(Oe.boundingSphere.center)):(St.boundingSphere===null&&St.computeBoundingSphere(),$e.copy(St.boundingSphere.center)),$e.applyMatrix4(Oe.matrixWorld).applyMatrix4(ge)),Array.isArray(Mt)){const Ut=St.groups;for(let Kt=0,gn=Ut.length;Kt<gn;Kt++){const sn=Ut[Kt],Xt=Mt[sn.materialIndex];Xt&&Xt.visible&&A.push(Oe,St,Xt,wt,$e.z,sn)}}else Mt.visible&&A.push(Oe,St,Mt,wt,$e.z,null)}}const tt=Oe.children;for(let St=0,Mt=tt.length;St<Mt;St++)mt(tt[St],lt,wt,xe)}function Nt(Oe,lt,wt,xe){const De=Oe.opaque,tt=Oe.transmissive,St=Oe.transparent;b.setupLightsView(wt),oe===!0&&Se.setGlobalState(E.clippingPlanes,wt),tt.length>0&&cn(De,tt,lt,wt),xe&&ft.viewport(D.copy(xe)),De.length>0&&Jt(De,lt,wt),tt.length>0&&Jt(tt,lt,wt),St.length>0&&Jt(St,lt,wt),ft.buffers.depth.setTest(!0),ft.buffers.depth.setMask(!0),ft.buffers.color.setMask(!0),ft.setPolygonOffset(!1)}function cn(Oe,lt,wt,xe){if((wt.isScene===!0?wt.overrideMaterial:null)!==null)return;const tt=it.isWebGL2;Be===null&&(Be=new qd(1,1,{generateMipmaps:!0,type:ot.has("EXT_color_buffer_half_float")?lg:Gd,minFilter:SA,samples:tt?4:0})),E.getDrawingBufferSize(Re),tt?Be.setSize(Re.x,Re.y):Be.setSize(bE(Re.x),bE(Re.y));const St=E.getRenderTarget();E.setRenderTarget(Be),E.getClearColor(B),O=E.getClearAlpha(),O<1&&E.setClearColor(16777215,.5),E.clear();const Mt=E.toneMapping;E.toneMapping=jd,Jt(Oe,wt,xe),Ct.updateMultisampleRenderTarget(Be),Ct.updateRenderTargetMipmap(Be);let Ut=!1;for(let Kt=0,gn=lt.length;Kt<gn;Kt++){const sn=lt[Kt],Xt=sn.object,$n=sn.geometry,Nn=sn.material,er=sn.group;if(Nn.side===mu&&Xt.layers.test(xe.layers)){const br=Nn.side;Nn.side=Ka,Nn.needsUpdate=!0,Sn(Xt,wt,xe,$n,Nn,er),Nn.side=br,Nn.needsUpdate=!0,Ut=!0}}Ut===!0&&(Ct.updateMultisampleRenderTarget(Be),Ct.updateRenderTargetMipmap(Be)),E.setRenderTarget(St),E.setClearColor(B,O),E.toneMapping=Mt}function Jt(Oe,lt,wt){const xe=lt.isScene===!0?lt.overrideMaterial:null;for(let De=0,tt=Oe.length;De<tt;De++){const St=Oe[De],Mt=St.object,Ut=St.geometry,Kt=xe===null?St.material:xe,gn=St.group;Mt.layers.test(wt.layers)&&Sn(Mt,lt,wt,Ut,Kt,gn)}}function Sn(Oe,lt,wt,xe,De,tt){Oe.onBeforeRender(E,lt,wt,xe,De,tt),Oe.modelViewMatrix.multiplyMatrices(wt.matrixWorldInverse,Oe.matrixWorld),Oe.normalMatrix.getNormalMatrix(Oe.modelViewMatrix),De.onBeforeRender(E,lt,wt,xe,Oe,tt),De.transparent===!0&&De.side===mu&&De.forceSinglePass===!1?(De.side=Ka,De.needsUpdate=!0,E.renderBufferDirect(wt,lt,xe,De,Oe,tt),De.side=Xd,De.needsUpdate=!0,E.renderBufferDirect(wt,lt,xe,De,Oe,tt),De.side=mu):E.renderBufferDirect(wt,lt,xe,De,Oe,tt),Oe.onAfterRender(E,lt,wt,xe,De,tt)}function yn(Oe,lt,wt){lt.isScene!==!0&&(lt=qe);const xe=gt.get(Oe),De=b.state.lights,tt=b.state.shadowsArray,St=De.state.version,Mt=fe.getParameters(Oe,De.state,tt,lt,wt),Ut=fe.getProgramCacheKey(Mt);let Kt=xe.programs;xe.environment=Oe.isMeshStandardMaterial?lt.environment:null,xe.fog=lt.fog,xe.envMap=(Oe.isMeshStandardMaterial?Dt:Tt).get(Oe.envMap||xe.environment),Kt===void 0&&(Oe.addEventListener("dispose",Ze),Kt=new Map,xe.programs=Kt);let gn=Kt.get(Ut);if(gn!==void 0){if(xe.currentProgram===gn&&xe.lightsStateVersion===St)return rr(Oe,Mt),gn}else Mt.uniforms=fe.getUniforms(Oe),Oe.onBuild(wt,Mt,E),Oe.onBeforeCompile(Mt,E),gn=fe.acquireProgram(Mt,Ut),Kt.set(Ut,gn),xe.uniforms=Mt.uniforms;const sn=xe.uniforms;return(!Oe.isShaderMaterial&&!Oe.isRawShaderMaterial||Oe.clipping===!0)&&(sn.clippingPlanes=Se.uniform),rr(Oe,Mt),xe.needsLights=Cn(Oe),xe.lightsStateVersion=St,xe.needsLights&&(sn.ambientLightColor.value=De.state.ambient,sn.lightProbe.value=De.state.probe,sn.directionalLights.value=De.state.directional,sn.directionalLightShadows.value=De.state.directionalShadow,sn.spotLights.value=De.state.spot,sn.spotLightShadows.value=De.state.spotShadow,sn.rectAreaLights.value=De.state.rectArea,sn.ltc_1.value=De.state.rectAreaLTC1,sn.ltc_2.value=De.state.rectAreaLTC2,sn.pointLights.value=De.state.point,sn.pointLightShadows.value=De.state.pointShadow,sn.hemisphereLights.value=De.state.hemi,sn.directionalShadowMap.value=De.state.directionalShadowMap,sn.directionalShadowMatrix.value=De.state.directionalShadowMatrix,sn.spotShadowMap.value=De.state.spotShadowMap,sn.spotLightMatrix.value=De.state.spotLightMatrix,sn.spotLightMap.value=De.state.spotLightMap,sn.pointShadowMap.value=De.state.pointShadowMap,sn.pointShadowMatrix.value=De.state.pointShadowMatrix),xe.currentProgram=gn,xe.uniformsList=null,gn}function Ln(Oe){if(Oe.uniformsList===null){const lt=Oe.currentProgram.getUniforms();Oe.uniformsList=dx.seqWithValue(lt.seq,Oe.uniforms)}return Oe.uniformsList}function rr(Oe,lt){const wt=gt.get(Oe);wt.outputColorSpace=lt.outputColorSpace,wt.instancing=lt.instancing,wt.instancingColor=lt.instancingColor,wt.skinning=lt.skinning,wt.morphTargets=lt.morphTargets,wt.morphNormals=lt.morphNormals,wt.morphColors=lt.morphColors,wt.morphTargetsCount=lt.morphTargetsCount,wt.numClippingPlanes=lt.numClippingPlanes,wt.numIntersection=lt.numClipIntersection,wt.vertexAlphas=lt.vertexAlphas,wt.vertexTangents=lt.vertexTangents,wt.toneMapping=lt.toneMapping}function jn(Oe,lt,wt,xe,De){lt.isScene!==!0&&(lt=qe),Ct.resetTextureUnits();const tt=lt.fog,St=xe.isMeshStandardMaterial?lt.environment:null,Mt=R===null?E.outputColorSpace:R.isXRRenderTarget===!0?R.texture.colorSpace:Nu,Ut=(xe.isMeshStandardMaterial?Dt:Tt).get(xe.envMap||St),Kt=xe.vertexColors===!0&&!!wt.attributes.color&&wt.attributes.color.itemSize===4,gn=!!wt.attributes.tangent&&(!!xe.normalMap||xe.anisotropy>0),sn=!!wt.morphAttributes.position,Xt=!!wt.morphAttributes.normal,$n=!!wt.morphAttributes.color;let Nn=jd;xe.toneMapped&&(R===null||R.isXRRenderTarget===!0)&&(Nn=E.toneMapping);const er=wt.morphAttributes.position||wt.morphAttributes.normal||wt.morphAttributes.color,br=er!==void 0?er.length:0,kn=gt.get(xe),fr=b.state.lights;if(oe===!0&&(ce===!0||Oe!==T)){const se=Oe===T&&xe.id===L;Se.setState(xe,Oe,se)}let sr=!1;xe.version===kn.__version?(kn.needsLights&&kn.lightsStateVersion!==fr.state.version||kn.outputColorSpace!==Mt||De.isInstancedMesh&&kn.instancing===!1||!De.isInstancedMesh&&kn.instancing===!0||De.isSkinnedMesh&&kn.skinning===!1||!De.isSkinnedMesh&&kn.skinning===!0||De.isInstancedMesh&&kn.instancingColor===!0&&De.instanceColor===null||De.isInstancedMesh&&kn.instancingColor===!1&&De.instanceColor!==null||kn.envMap!==Ut||xe.fog===!0&&kn.fog!==tt||kn.numClippingPlanes!==void 0&&(kn.numClippingPlanes!==Se.numPlanes||kn.numIntersection!==Se.numIntersection)||kn.vertexAlphas!==Kt||kn.vertexTangents!==gn||kn.morphTargets!==sn||kn.morphNormals!==Xt||kn.morphColors!==$n||kn.toneMapping!==Nn||it.isWebGL2===!0&&kn.morphTargetsCount!==br)&&(sr=!0):(sr=!0,kn.__version=xe.version);let Nr=kn.currentProgram;sr===!0&&(Nr=yn(xe,lt,De));let or=!1,Zt=!1,bn=!1;const qn=Nr.getUniforms(),Gn=kn.uniforms;if(ft.useProgram(Nr.program)&&(or=!0,Zt=!0,bn=!0),xe.id!==L&&(L=xe.id,Zt=!0),or||T!==Oe){qn.setValue(ke,"projectionMatrix",Oe.projectionMatrix),qn.setValue(ke,"viewMatrix",Oe.matrixWorldInverse);const se=qn.map.cameraPosition;se!==void 0&&se.setValue(ke,$e.setFromMatrixPosition(Oe.matrixWorld)),it.logarithmicDepthBuffer&&qn.setValue(ke,"logDepthBufFC",2/(Math.log(Oe.far+1)/Math.LN2)),(xe.isMeshPhongMaterial||xe.isMeshToonMaterial||xe.isMeshLambertMaterial||xe.isMeshBasicMaterial||xe.isMeshStandardMaterial||xe.isShaderMaterial)&&qn.setValue(ke,"isOrthographic",Oe.isOrthographicCamera===!0),T!==Oe&&(T=Oe,Zt=!0,bn=!0)}if(De.isSkinnedMesh){qn.setOptional(ke,De,"bindMatrix"),qn.setOptional(ke,De,"bindMatrixInverse");const se=De.skeleton;se&&(it.floatVertexTextures?(se.boneTexture===null&&se.computeBoneTexture(),qn.setValue(ke,"boneTexture",se.boneTexture,Ct),qn.setValue(ke,"boneTextureSize",se.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const re=wt.morphAttributes;if((re.position!==void 0||re.normal!==void 0||re.color!==void 0&&it.isWebGL2===!0)&&Ae.update(De,wt,Nr),(Zt||kn.receiveShadow!==De.receiveShadow)&&(kn.receiveShadow=De.receiveShadow,qn.setValue(ke,"receiveShadow",De.receiveShadow)),xe.isMeshGouraudMaterial&&xe.envMap!==null&&(Gn.envMap.value=Ut,Gn.flipEnvMap.value=Ut.isCubeTexture&&Ut.isRenderTargetTexture===!1?-1:1),Zt&&(qn.setValue(ke,"toneMappingExposure",E.toneMappingExposure),kn.needsLights&&Fn(Gn,bn),tt&&xe.fog===!0&&pe.refreshFogUniforms(Gn,tt),pe.refreshMaterialUniforms(Gn,xe,z,N,Be),dx.upload(ke,Ln(kn),Gn,Ct)),xe.isShaderMaterial&&xe.uniformsNeedUpdate===!0&&(dx.upload(ke,Ln(kn),Gn,Ct),xe.uniformsNeedUpdate=!1),xe.isSpriteMaterial&&qn.setValue(ke,"center",De.center),qn.setValue(ke,"modelViewMatrix",De.modelViewMatrix),qn.setValue(ke,"normalMatrix",De.normalMatrix),qn.setValue(ke,"modelMatrix",De.matrixWorld),xe.isShaderMaterial||xe.isRawShaderMaterial){const se=xe.uniformsGroups;for(let Me=0,Fe=se.length;Me<Fe;Me++)if(it.isWebGL2){const Je=se[Me];ne.update(Je,Nr),ne.bind(Je,Nr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Nr}function Fn(Oe,lt){Oe.ambientLightColor.needsUpdate=lt,Oe.lightProbe.needsUpdate=lt,Oe.directionalLights.needsUpdate=lt,Oe.directionalLightShadows.needsUpdate=lt,Oe.pointLights.needsUpdate=lt,Oe.pointLightShadows.needsUpdate=lt,Oe.spotLights.needsUpdate=lt,Oe.spotLightShadows.needsUpdate=lt,Oe.rectAreaLights.needsUpdate=lt,Oe.hemisphereLights.needsUpdate=lt}function Cn(Oe){return Oe.isMeshLambertMaterial||Oe.isMeshToonMaterial||Oe.isMeshPhongMaterial||Oe.isMeshStandardMaterial||Oe.isShadowMaterial||Oe.isShaderMaterial&&Oe.lights===!0}this.getActiveCubeFace=function(){return _},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return R},this.setRenderTargetTextures=function(Oe,lt,wt){gt.get(Oe.texture).__webglTexture=lt,gt.get(Oe.depthTexture).__webglTexture=wt;const xe=gt.get(Oe);xe.__hasExternalTextures=!0,xe.__hasExternalTextures&&(xe.__autoAllocateDepthBuffer=wt===void 0,xe.__autoAllocateDepthBuffer||ot.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),xe.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Oe,lt){const wt=gt.get(Oe);wt.__webglFramebuffer=lt,wt.__useDefaultFramebuffer=lt===void 0},this.setRenderTarget=function(Oe,lt=0,wt=0){R=Oe,_=lt,P=wt;let xe=!0,De=null,tt=!1,St=!1;if(Oe){const Ut=gt.get(Oe);Ut.__useDefaultFramebuffer!==void 0?(ft.bindFramebuffer(ke.FRAMEBUFFER,null),xe=!1):Ut.__webglFramebuffer===void 0?Ct.setupRenderTarget(Oe):Ut.__hasExternalTextures&&Ct.rebindTextures(Oe,gt.get(Oe.texture).__webglTexture,gt.get(Oe.depthTexture).__webglTexture);const Kt=Oe.texture;(Kt.isData3DTexture||Kt.isDataArrayTexture||Kt.isCompressedArrayTexture)&&(St=!0);const gn=gt.get(Oe).__webglFramebuffer;Oe.isWebGLCubeRenderTarget?(Array.isArray(gn[lt])?De=gn[lt][wt]:De=gn[lt],tt=!0):it.isWebGL2&&Oe.samples>0&&Ct.useMultisampledRTT(Oe)===!1?De=gt.get(Oe).__webglMultisampledFramebuffer:Array.isArray(gn)?De=gn[wt]:De=gn,D.copy(Oe.viewport),H.copy(Oe.scissor),V=Oe.scissorTest}else D.copy(Q).multiplyScalar(z).floor(),H.copy(X).multiplyScalar(z).floor(),V=J;if(ft.bindFramebuffer(ke.FRAMEBUFFER,De)&&it.drawBuffers&&xe&&ft.drawBuffers(Oe,De),ft.viewport(D),ft.scissor(H),ft.setScissorTest(V),tt){const Ut=gt.get(Oe.texture);ke.framebufferTexture2D(ke.FRAMEBUFFER,ke.COLOR_ATTACHMENT0,ke.TEXTURE_CUBE_MAP_POSITIVE_X+lt,Ut.__webglTexture,wt)}else if(St){const Ut=gt.get(Oe.texture),Kt=lt||0;ke.framebufferTextureLayer(ke.FRAMEBUFFER,ke.COLOR_ATTACHMENT0,Ut.__webglTexture,wt||0,Kt)}L=-1},this.readRenderTargetPixels=function(Oe,lt,wt,xe,De,tt,St){if(!(Oe&&Oe.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Mt=gt.get(Oe).__webglFramebuffer;if(Oe.isWebGLCubeRenderTarget&&St!==void 0&&(Mt=Mt[St]),Mt){ft.bindFramebuffer(ke.FRAMEBUFFER,Mt);try{const Ut=Oe.texture,Kt=Ut.format,gn=Ut.type;if(Kt!==Fl&&ue.convert(Kt)!==ke.getParameter(ke.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const sn=gn===lg&&(ot.has("EXT_color_buffer_half_float")||it.isWebGL2&&ot.has("EXT_color_buffer_float"));if(gn!==Gd&&ue.convert(gn)!==ke.getParameter(ke.IMPLEMENTATION_COLOR_READ_TYPE)&&!(gn===Od&&(it.isWebGL2||ot.has("OES_texture_float")||ot.has("WEBGL_color_buffer_float")))&&!sn){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}lt>=0&&lt<=Oe.width-xe&&wt>=0&&wt<=Oe.height-De&&ke.readPixels(lt,wt,xe,De,ue.convert(Kt),ue.convert(gn),tt)}finally{const Ut=R!==null?gt.get(R).__webglFramebuffer:null;ft.bindFramebuffer(ke.FRAMEBUFFER,Ut)}}},this.copyFramebufferToTexture=function(Oe,lt,wt=0){const xe=Math.pow(2,-wt),De=Math.floor(lt.image.width*xe),tt=Math.floor(lt.image.height*xe);Ct.setTexture2D(lt,0),ke.copyTexSubImage2D(ke.TEXTURE_2D,wt,0,0,Oe.x,Oe.y,De,tt),ft.unbindTexture()},this.copyTextureToTexture=function(Oe,lt,wt,xe=0){const De=lt.image.width,tt=lt.image.height,St=ue.convert(wt.format),Mt=ue.convert(wt.type);Ct.setTexture2D(wt,0),ke.pixelStorei(ke.UNPACK_FLIP_Y_WEBGL,wt.flipY),ke.pixelStorei(ke.UNPACK_PREMULTIPLY_ALPHA_WEBGL,wt.premultiplyAlpha),ke.pixelStorei(ke.UNPACK_ALIGNMENT,wt.unpackAlignment),lt.isDataTexture?ke.texSubImage2D(ke.TEXTURE_2D,xe,Oe.x,Oe.y,De,tt,St,Mt,lt.image.data):lt.isCompressedTexture?ke.compressedTexSubImage2D(ke.TEXTURE_2D,xe,Oe.x,Oe.y,lt.mipmaps[0].width,lt.mipmaps[0].height,St,lt.mipmaps[0].data):ke.texSubImage2D(ke.TEXTURE_2D,xe,Oe.x,Oe.y,St,Mt,lt.image),xe===0&&wt.generateMipmaps&&ke.generateMipmap(ke.TEXTURE_2D),ft.unbindTexture()},this.copyTextureToTexture3D=function(Oe,lt,wt,xe,De=0){if(E.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const tt=Oe.max.x-Oe.min.x+1,St=Oe.max.y-Oe.min.y+1,Mt=Oe.max.z-Oe.min.z+1,Ut=ue.convert(xe.format),Kt=ue.convert(xe.type);let gn;if(xe.isData3DTexture)Ct.setTexture3D(xe,0),gn=ke.TEXTURE_3D;else if(xe.isDataArrayTexture)Ct.setTexture2DArray(xe,0),gn=ke.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ke.pixelStorei(ke.UNPACK_FLIP_Y_WEBGL,xe.flipY),ke.pixelStorei(ke.UNPACK_PREMULTIPLY_ALPHA_WEBGL,xe.premultiplyAlpha),ke.pixelStorei(ke.UNPACK_ALIGNMENT,xe.unpackAlignment);const sn=ke.getParameter(ke.UNPACK_ROW_LENGTH),Xt=ke.getParameter(ke.UNPACK_IMAGE_HEIGHT),$n=ke.getParameter(ke.UNPACK_SKIP_PIXELS),Nn=ke.getParameter(ke.UNPACK_SKIP_ROWS),er=ke.getParameter(ke.UNPACK_SKIP_IMAGES),br=wt.isCompressedTexture?wt.mipmaps[0]:wt.image;ke.pixelStorei(ke.UNPACK_ROW_LENGTH,br.width),ke.pixelStorei(ke.UNPACK_IMAGE_HEIGHT,br.height),ke.pixelStorei(ke.UNPACK_SKIP_PIXELS,Oe.min.x),ke.pixelStorei(ke.UNPACK_SKIP_ROWS,Oe.min.y),ke.pixelStorei(ke.UNPACK_SKIP_IMAGES,Oe.min.z),wt.isDataTexture||wt.isData3DTexture?ke.texSubImage3D(gn,De,lt.x,lt.y,lt.z,tt,St,Mt,Ut,Kt,br.data):wt.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ke.compressedTexSubImage3D(gn,De,lt.x,lt.y,lt.z,tt,St,Mt,Ut,br.data)):ke.texSubImage3D(gn,De,lt.x,lt.y,lt.z,tt,St,Mt,Ut,Kt,br),ke.pixelStorei(ke.UNPACK_ROW_LENGTH,sn),ke.pixelStorei(ke.UNPACK_IMAGE_HEIGHT,Xt),ke.pixelStorei(ke.UNPACK_SKIP_PIXELS,$n),ke.pixelStorei(ke.UNPACK_SKIP_ROWS,Nn),ke.pixelStorei(ke.UNPACK_SKIP_IMAGES,er),De===0&&xe.generateMipmaps&&ke.generateMipmap(gn),ft.unbindTexture()},this.initTexture=function(Oe){Oe.isCubeTexture?Ct.setTextureCube(Oe,0):Oe.isData3DTexture?Ct.setTexture3D(Oe,0):Oe.isDataArrayTexture||Oe.isCompressedArrayTexture?Ct.setTexture2DArray(Oe,0):Ct.setTexture2D(Oe,0),ft.unbindTexture()},this.resetState=function(){_=0,P=0,R=null,ft.reset(),Y.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Au}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const r=this.getContext();r.drawingBufferColorSpace=e===sL?"display-p3":"srgb",r.unpackColorSpace=Vi.workingColorSpace===WC?"display-p3":"srgb"}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Go?ph:nG}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===ph?Go:Nu}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class w3e extends bG{}w3e.prototype.isWebGL1Renderer=!0;class S3e extends sa{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,r){return super.copy(e,r),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const r=super.toJSON(e);return this.fog!==null&&(r.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(r.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(r.object.backgroundIntensity=this.backgroundIntensity),r}}class _3e{constructor(e,r){this.isInterleavedBuffer=!0,this.array=e,this.stride=r,this.count=e!==void 0?e.length/r:0,this.usage=Y3,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Cu()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,r,i){e*=this.stride,i*=r.stride;for(let o=0,s=this.stride;o<s;o++)this.array[e+o]=r.array[i+o];return this}set(e,r=0){return this.array.set(e,r),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Cu()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const r=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(r,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Cu()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const $a=new Rt;class xE{constructor(e,r,i,o=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=r,this.offset=i,this.normalized=o}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let r=0,i=this.data.count;r<i;r++)$a.fromBufferAttribute(this,r),$a.applyMatrix4(e),this.setXYZ(r,$a.x,$a.y,$a.z);return this}applyNormalMatrix(e){for(let r=0,i=this.count;r<i;r++)$a.fromBufferAttribute(this,r),$a.applyNormalMatrix(e),this.setXYZ(r,$a.x,$a.y,$a.z);return this}transformDirection(e){for(let r=0,i=this.count;r<i;r++)$a.fromBufferAttribute(this,r),$a.transformDirection(e),this.setXYZ(r,$a.x,$a.y,$a.z);return this}setX(e,r){return this.normalized&&(r=Gi(r,this.array)),this.data.array[e*this.data.stride+this.offset]=r,this}setY(e,r){return this.normalized&&(r=Gi(r,this.array)),this.data.array[e*this.data.stride+this.offset+1]=r,this}setZ(e,r){return this.normalized&&(r=Gi(r,this.array)),this.data.array[e*this.data.stride+this.offset+2]=r,this}setW(e,r){return this.normalized&&(r=Gi(r,this.array)),this.data.array[e*this.data.stride+this.offset+3]=r,this}getX(e){let r=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(r=mc(r,this.array)),r}getY(e){let r=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(r=mc(r,this.array)),r}getZ(e){let r=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(r=mc(r,this.array)),r}getW(e){let r=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(r=mc(r,this.array)),r}setXY(e,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(r=Gi(r,this.array),i=Gi(i,this.array)),this.data.array[e+0]=r,this.data.array[e+1]=i,this}setXYZ(e,r,i,o){return e=e*this.data.stride+this.offset,this.normalized&&(r=Gi(r,this.array),i=Gi(i,this.array),o=Gi(o,this.array)),this.data.array[e+0]=r,this.data.array[e+1]=i,this.data.array[e+2]=o,this}setXYZW(e,r,i,o,s){return e=e*this.data.stride+this.offset,this.normalized&&(r=Gi(r,this.array),i=Gi(i,this.array),o=Gi(o,this.array),s=Gi(s,this.array)),this.data.array[e+0]=r,this.data.array[e+1]=i,this.data.array[e+2]=o,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const r=[];for(let i=0;i<this.count;i++){const o=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)r.push(this.data.array[o+s])}return new ll(new this.array.constructor(r),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new xE(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const r=[];for(let i=0;i<this.count;i++){const o=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)r.push(this.data.array[o+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:r,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class xG extends Bh{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new gi(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let jp;const $v=new Rt,Gp=new Rt,Vp=new Rt,Wp=new tr,Hv=new tr,EG=new lo,x1=new Rt,jv=new Rt,E1=new Rt,n8=new tr,q_=new tr,r8=new tr;class M3e extends sa{constructor(e=new xG){if(super(),this.isSprite=!0,this.type="Sprite",jp===void 0){jp=new fs;const r=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new _3e(r,5);jp.setIndex([0,1,2,0,2,3]),jp.setAttribute("position",new xE(i,3,0,!1)),jp.setAttribute("uv",new xE(i,2,3,!1))}this.geometry=jp,this.material=e,this.center=new tr(.5,.5)}raycast(e,r){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Gp.setFromMatrixScale(this.matrixWorld),EG.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Vp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Gp.multiplyScalar(-Vp.z);const i=this.material.rotation;let o,s;i!==0&&(s=Math.cos(i),o=Math.sin(i));const l=this.center;C1(x1.set(-.5,-.5,0),Vp,l,Gp,o,s),C1(jv.set(.5,-.5,0),Vp,l,Gp,o,s),C1(E1.set(.5,.5,0),Vp,l,Gp,o,s),n8.set(0,0),q_.set(1,0),r8.set(1,1);let u=e.ray.intersectTriangle(x1,jv,E1,!1,$v);if(u===null&&(C1(jv.set(-.5,.5,0),Vp,l,Gp,o,s),q_.set(0,1),u=e.ray.intersectTriangle(x1,E1,jv,!1,$v),u===null))return;const c=e.ray.origin.distanceTo($v);c<e.near||c>e.far||r.push({distance:c,point:$v.clone(),uv:nl.getInterpolation($v,x1,jv,E1,n8,q_,r8,new tr),face:null,object:this})}copy(e,r){return super.copy(e,r),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function C1(n,e,r,i,o,s){Wp.subVectors(n,r).addScalar(.5).multiply(i),o!==void 0?(Hv.x=s*Wp.x-o*Wp.y,Hv.y=o*Wp.x+s*Wp.y):Hv.copy(Wp),n.copy(e),n.x+=Hv.x,n.y+=Hv.y,n.applyMatrix4(EG)}class CG extends Bh{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new gi(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const i8=new Rt,o8=new Rt,a8=new lo,Y_=new KC,w1=new QC;class T3e extends sa{constructor(e=new fs,r=new CG){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=r,this.updateMorphTargets()}copy(e,r){return super.copy(e,r),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const r=e.attributes.position,i=[0];for(let o=1,s=r.count;o<s;o++)i8.fromBufferAttribute(r,o-1),o8.fromBufferAttribute(r,o),i[o]=i[o-1],i[o]+=i8.distanceTo(o8);e.setAttribute("lineDistance",new Wo(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,r){const i=this.geometry,o=this.matrixWorld,s=e.params.Line.threshold,l=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),w1.copy(i.boundingSphere),w1.applyMatrix4(o),w1.radius+=s,e.ray.intersectsSphere(w1)===!1)return;a8.copy(o).invert(),Y_.copy(e.ray).applyMatrix4(a8);const u=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=u*u,d=new Rt,h=new Rt,p=new Rt,m=new Rt,v=this.isLineSegments?2:1,y=i.index,b=i.attributes.position;if(y!==null){const g=Math.max(0,l.start),w=Math.min(y.count,l.start+l.count);for(let E=g,C=w-1;E<C;E+=v){const _=y.getX(E),P=y.getX(E+1);if(d.fromBufferAttribute(b,_),h.fromBufferAttribute(b,P),Y_.distanceSqToSegment(d,h,m,p)>c)continue;m.applyMatrix4(this.matrixWorld);const L=e.ray.origin.distanceTo(m);L<e.near||L>e.far||r.push({distance:L,point:p.clone().applyMatrix4(this.matrixWorld),index:E,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,l.start),w=Math.min(b.count,l.start+l.count);for(let E=g,C=w-1;E<C;E+=v){if(d.fromBufferAttribute(b,E),h.fromBufferAttribute(b,E+1),Y_.distanceSqToSegment(d,h,m,p)>c)continue;m.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(m);P<e.near||P>e.far||r.push({distance:P,point:p.clone().applyMatrix4(this.matrixWorld),index:E,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const r=this.geometry.morphAttributes,i=Object.keys(r);if(i.length>0){const o=r[i[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,l=o.length;s<l;s++){const u=o[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=s}}}}}class Hu{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,r){const i=this.getUtoTmapping(e);return this.getPoint(i,r)}getPoints(e=5){const r=[];for(let i=0;i<=e;i++)r.push(this.getPoint(i/e));return r}getSpacedPoints(e=5){const r=[];for(let i=0;i<=e;i++)r.push(this.getPointAt(i/e));return r}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const r=[];let i,o=this.getPoint(0),s=0;r.push(0);for(let l=1;l<=e;l++)i=this.getPoint(l/e),s+=i.distanceTo(o),r.push(s),o=i;return this.cacheArcLengths=r,r}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,r){const i=this.getLengths();let o=0;const s=i.length;let l;r?l=r:l=e*i[s-1];let u=0,c=s-1,d;for(;u<=c;)if(o=Math.floor(u+(c-u)/2),d=i[o]-l,d<0)u=o+1;else if(d>0)c=o-1;else{c=o;break}if(o=c,i[o]===l)return o/(s-1);const h=i[o],m=i[o+1]-h,v=(l-h)/m;return(o+v)/(s-1)}getTangent(e,r){let o=e-1e-4,s=e+1e-4;o<0&&(o=0),s>1&&(s=1);const l=this.getPoint(o),u=this.getPoint(s),c=r||(l.isVector2?new tr:new Rt);return c.copy(u).sub(l).normalize(),c}getTangentAt(e,r){const i=this.getUtoTmapping(e);return this.getTangent(i,r)}computeFrenetFrames(e,r){const i=new Rt,o=[],s=[],l=[],u=new Rt,c=new lo;for(let v=0;v<=e;v++){const y=v/e;o[v]=this.getTangentAt(y,new Rt)}s[0]=new Rt,l[0]=new Rt;let d=Number.MAX_VALUE;const h=Math.abs(o[0].x),p=Math.abs(o[0].y),m=Math.abs(o[0].z);h<=d&&(d=h,i.set(1,0,0)),p<=d&&(d=p,i.set(0,1,0)),m<=d&&i.set(0,0,1),u.crossVectors(o[0],i).normalize(),s[0].crossVectors(o[0],u),l[0].crossVectors(o[0],s[0]);for(let v=1;v<=e;v++){if(s[v]=s[v-1].clone(),l[v]=l[v-1].clone(),u.crossVectors(o[v-1],o[v]),u.length()>Number.EPSILON){u.normalize();const y=Math.acos(ia(o[v-1].dot(o[v]),-1,1));s[v].applyMatrix4(c.makeRotationAxis(u,y))}l[v].crossVectors(o[v],s[v])}if(r===!0){let v=Math.acos(ia(s[0].dot(s[e]),-1,1));v/=e,o[0].dot(u.crossVectors(s[0],s[e]))>0&&(v=-v);for(let y=1;y<=e;y++)s[y].applyMatrix4(c.makeRotationAxis(o[y],v*y)),l[y].crossVectors(o[y],s[y])}return{tangents:o,normals:s,binormals:l}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class wG extends Hu{constructor(e=0,r=0,i=1,o=1,s=0,l=Math.PI*2,u=!1,c=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=r,this.xRadius=i,this.yRadius=o,this.aStartAngle=s,this.aEndAngle=l,this.aClockwise=u,this.aRotation=c}getPoint(e,r){const i=r||new tr,o=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const l=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=o;for(;s>o;)s-=o;s<Number.EPSILON&&(l?s=0:s=o),this.aClockwise===!0&&!l&&(s===o?s=-o:s=s-o);const u=this.aStartAngle+e*s;let c=this.aX+this.xRadius*Math.cos(u),d=this.aY+this.yRadius*Math.sin(u);if(this.aRotation!==0){const h=Math.cos(this.aRotation),p=Math.sin(this.aRotation),m=c-this.aX,v=d-this.aY;c=m*h-v*p+this.aX,d=m*p+v*h+this.aY}return i.set(c,d)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class R3e extends wG{constructor(e,r,i,o,s,l){super(e,r,i,i,o,s,l),this.isArcCurve=!0,this.type="ArcCurve"}}function mL(){let n=0,e=0,r=0,i=0;function o(s,l,u,c){n=s,e=u,r=-3*s+3*l-2*u-c,i=2*s-2*l+u+c}return{initCatmullRom:function(s,l,u,c,d){o(l,u,d*(u-s),d*(c-l))},initNonuniformCatmullRom:function(s,l,u,c,d,h,p){let m=(l-s)/d-(u-s)/(d+h)+(u-l)/h,v=(u-l)/h-(c-l)/(h+p)+(c-u)/p;m*=h,v*=h,o(l,u,m,v)},calc:function(s){const l=s*s,u=l*s;return n+e*s+r*l+i*u}}}const S1=new Rt,J_=new mL,Z_=new mL,eM=new mL;class I3e extends Hu{constructor(e=[],r=!1,i="centripetal",o=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=r,this.curveType=i,this.tension=o}getPoint(e,r=new Rt){const i=r,o=this.points,s=o.length,l=(s-(this.closed?0:1))*e;let u=Math.floor(l),c=l-u;this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/s)+1)*s:c===0&&u===s-1&&(u=s-2,c=1);let d,h;this.closed||u>0?d=o[(u-1)%s]:(S1.subVectors(o[0],o[1]).add(o[0]),d=S1);const p=o[u%s],m=o[(u+1)%s];if(this.closed||u+2<s?h=o[(u+2)%s]:(S1.subVectors(o[s-1],o[s-2]).add(o[s-1]),h=S1),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let y=Math.pow(d.distanceToSquared(p),v),A=Math.pow(p.distanceToSquared(m),v),b=Math.pow(m.distanceToSquared(h),v);A<1e-4&&(A=1),y<1e-4&&(y=A),b<1e-4&&(b=A),J_.initNonuniformCatmullRom(d.x,p.x,m.x,h.x,y,A,b),Z_.initNonuniformCatmullRom(d.y,p.y,m.y,h.y,y,A,b),eM.initNonuniformCatmullRom(d.z,p.z,m.z,h.z,y,A,b)}else this.curveType==="catmullrom"&&(J_.initCatmullRom(d.x,p.x,m.x,h.x,this.tension),Z_.initCatmullRom(d.y,p.y,m.y,h.y,this.tension),eM.initCatmullRom(d.z,p.z,m.z,h.z,this.tension));return i.set(J_.calc(c),Z_.calc(c),eM.calc(c)),i}copy(e){super.copy(e),this.points=[];for(let r=0,i=e.points.length;r<i;r++){const o=e.points[r];this.points.push(o.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let r=0,i=this.points.length;r<i;r++){const o=this.points[r];e.points.push(o.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let r=0,i=e.points.length;r<i;r++){const o=e.points[r];this.points.push(new Rt().fromArray(o))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function s8(n,e,r,i,o){const s=(i-e)*.5,l=(o-r)*.5,u=n*n,c=n*u;return(2*r-2*i+s+l)*c+(-3*r+3*i-2*s-l)*u+s*n+r}function P3e(n,e){const r=1-n;return r*r*e}function L3e(n,e){return 2*(1-n)*n*e}function B3e(n,e){return n*n*e}function G0(n,e,r,i){return P3e(n,e)+L3e(n,r)+B3e(n,i)}function O3e(n,e){const r=1-n;return r*r*r*e}function D3e(n,e){const r=1-n;return 3*r*r*n*e}function N3e(n,e){return 3*(1-n)*n*n*e}function k3e(n,e){return n*n*n*e}function V0(n,e,r,i,o){return O3e(n,e)+D3e(n,r)+N3e(n,i)+k3e(n,o)}class F3e extends Hu{constructor(e=new tr,r=new tr,i=new tr,o=new tr){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=r,this.v2=i,this.v3=o}getPoint(e,r=new tr){const i=r,o=this.v0,s=this.v1,l=this.v2,u=this.v3;return i.set(V0(e,o.x,s.x,l.x,u.x),V0(e,o.y,s.y,l.y,u.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class SG extends Hu{constructor(e=new Rt,r=new Rt,i=new Rt,o=new Rt){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=r,this.v2=i,this.v3=o}getPoint(e,r=new Rt){const i=r,o=this.v0,s=this.v1,l=this.v2,u=this.v3;return i.set(V0(e,o.x,s.x,l.x,u.x),V0(e,o.y,s.y,l.y,u.y),V0(e,o.z,s.z,l.z,u.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class U3e extends Hu{constructor(e=new tr,r=new tr){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=r}getPoint(e,r=new tr){const i=r;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,r){return this.getPoint(e,r)}getTangent(e,r=new tr){return r.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,r){return this.getTangent(e,r)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class z3e extends Hu{constructor(e=new Rt,r=new Rt){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=r}getPoint(e,r=new Rt){const i=r;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,r){return this.getPoint(e,r)}getTangent(e,r=new Rt){return r.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,r){return this.getTangent(e,r)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class $3e extends Hu{constructor(e=new tr,r=new tr,i=new tr){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=r,this.v2=i}getPoint(e,r=new tr){const i=r,o=this.v0,s=this.v1,l=this.v2;return i.set(G0(e,o.x,s.x,l.x),G0(e,o.y,s.y,l.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class gL extends Hu{constructor(e=new Rt,r=new Rt,i=new Rt){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=r,this.v2=i}getPoint(e,r=new Rt){const i=r,o=this.v0,s=this.v1,l=this.v2;return i.set(G0(e,o.x,s.x,l.x),G0(e,o.y,s.y,l.y),G0(e,o.z,s.z,l.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class H3e extends Hu{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,r=new tr){const i=r,o=this.points,s=(o.length-1)*e,l=Math.floor(s),u=s-l,c=o[l===0?l:l-1],d=o[l],h=o[l>o.length-2?o.length-1:l+1],p=o[l>o.length-3?o.length-1:l+2];return i.set(s8(u,c.x,d.x,h.x,p.x),s8(u,c.y,d.y,h.y,p.y)),i}copy(e){super.copy(e),this.points=[];for(let r=0,i=e.points.length;r<i;r++){const o=e.points[r];this.points.push(o.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let r=0,i=this.points.length;r<i;r++){const o=this.points[r];e.points.push(o.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let r=0,i=e.points.length;r<i;r++){const o=e.points[r];this.points.push(new tr().fromArray(o))}return this}}var j3e=Object.freeze({__proto__:null,ArcCurve:R3e,CatmullRomCurve3:I3e,CubicBezierCurve:F3e,CubicBezierCurve3:SG,EllipseCurve:wG,LineCurve:U3e,LineCurve3:z3e,QuadraticBezierCurve:$3e,QuadraticBezierCurve3:gL,SplineCurve:H3e});class YC extends fs{constructor(e=1,r=1,i=1,o=32,s=1,l=!1,u=0,c=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:r,height:i,radialSegments:o,heightSegments:s,openEnded:l,thetaStart:u,thetaLength:c};const d=this;o=Math.floor(o),s=Math.floor(s);const h=[],p=[],m=[],v=[];let y=0;const A=[],b=i/2;let g=0;w(),l===!1&&(e>0&&E(!0),r>0&&E(!1)),this.setIndex(h),this.setAttribute("position",new Wo(p,3)),this.setAttribute("normal",new Wo(m,3)),this.setAttribute("uv",new Wo(v,2));function w(){const C=new Rt,_=new Rt;let P=0;const R=(r-e)/i;for(let L=0;L<=s;L++){const T=[],D=L/s,H=D*(r-e)+e;for(let V=0;V<=o;V++){const B=V/o,O=B*c+u,F=Math.sin(O),N=Math.cos(O);_.x=H*F,_.y=-D*i+b,_.z=H*N,p.push(_.x,_.y,_.z),C.set(F,R,N).normalize(),m.push(C.x,C.y,C.z),v.push(B,1-D),T.push(y++)}A.push(T)}for(let L=0;L<o;L++)for(let T=0;T<s;T++){const D=A[T][L],H=A[T+1][L],V=A[T+1][L+1],B=A[T][L+1];h.push(D,H,B),h.push(H,V,B),P+=6}d.addGroup(g,P,0),g+=P}function E(C){const _=y,P=new tr,R=new Rt;let L=0;const T=C===!0?e:r,D=C===!0?1:-1;for(let V=1;V<=o;V++)p.push(0,b*D,0),m.push(0,D,0),v.push(.5,.5),y++;const H=y;for(let V=0;V<=o;V++){const O=V/o*c+u,F=Math.cos(O),N=Math.sin(O);R.x=T*N,R.y=b*D,R.z=T*F,p.push(R.x,R.y,R.z),m.push(0,D,0),P.x=F*.5+.5,P.y=N*.5*D+.5,v.push(P.x,P.y),y++}for(let V=0;V<o;V++){const B=_+V,O=H+V;C===!0?h.push(O,O+1,B):h.push(O+1,O,B),L+=3}d.addGroup(g,L,C===!0?1:2),g+=L}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new YC(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class vL extends YC{constructor(e=1,r=1,i=32,o=1,s=!1,l=0,u=Math.PI*2){super(0,e,r,i,o,s,l,u),this.type="ConeGeometry",this.parameters={radius:e,height:r,radialSegments:i,heightSegments:o,openEnded:s,thetaStart:l,thetaLength:u}}static fromJSON(e){return new vL(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class JC extends fs{constructor(e=1,r=32,i=16,o=0,s=Math.PI*2,l=0,u=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:r,heightSegments:i,phiStart:o,phiLength:s,thetaStart:l,thetaLength:u},r=Math.max(3,Math.floor(r)),i=Math.max(2,Math.floor(i));const c=Math.min(l+u,Math.PI);let d=0;const h=[],p=new Rt,m=new Rt,v=[],y=[],A=[],b=[];for(let g=0;g<=i;g++){const w=[],E=g/i;let C=0;g===0&&l===0?C=.5/r:g===i&&c===Math.PI&&(C=-.5/r);for(let _=0;_<=r;_++){const P=_/r;p.x=-e*Math.cos(o+P*s)*Math.sin(l+E*u),p.y=e*Math.cos(l+E*u),p.z=e*Math.sin(o+P*s)*Math.sin(l+E*u),y.push(p.x,p.y,p.z),m.copy(p).normalize(),A.push(m.x,m.y,m.z),b.push(P+C,1-E),w.push(d++)}h.push(w)}for(let g=0;g<i;g++)for(let w=0;w<r;w++){const E=h[g][w+1],C=h[g][w],_=h[g+1][w],P=h[g+1][w+1];(g!==0||l>0)&&v.push(E,C,P),(g!==i-1||c<Math.PI)&&v.push(C,_,P)}this.setIndex(v),this.setAttribute("position",new Wo(y,3)),this.setAttribute("normal",new Wo(A,3)),this.setAttribute("uv",new Wo(b,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new JC(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class AL extends fs{constructor(e=new gL(new Rt(-1,-1,0),new Rt(-1,1,0),new Rt(1,1,0)),r=64,i=1,o=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:r,radius:i,radialSegments:o,closed:s};const l=e.computeFrenetFrames(r,s);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;const u=new Rt,c=new Rt,d=new tr;let h=new Rt;const p=[],m=[],v=[],y=[];A(),this.setIndex(y),this.setAttribute("position",new Wo(p,3)),this.setAttribute("normal",new Wo(m,3)),this.setAttribute("uv",new Wo(v,2));function A(){for(let E=0;E<r;E++)b(E);b(s===!1?r:0),w(),g()}function b(E){h=e.getPointAt(E/r,h);const C=l.normals[E],_=l.binormals[E];for(let P=0;P<=o;P++){const R=P/o*Math.PI*2,L=Math.sin(R),T=-Math.cos(R);c.x=T*C.x+L*_.x,c.y=T*C.y+L*_.y,c.z=T*C.z+L*_.z,c.normalize(),m.push(c.x,c.y,c.z),u.x=h.x+i*c.x,u.y=h.y+i*c.y,u.z=h.z+i*c.z,p.push(u.x,u.y,u.z)}}function g(){for(let E=1;E<=r;E++)for(let C=1;C<=o;C++){const _=(o+1)*(E-1)+(C-1),P=(o+1)*E+(C-1),R=(o+1)*E+C,L=(o+1)*(E-1)+C;y.push(_,P,L),y.push(P,R,L)}}function w(){for(let E=0;E<=r;E++)for(let C=0;C<=o;C++)d.x=E/r,d.y=C/o,v.push(d.x,d.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new AL(new j3e[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class G3e extends Bh{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new gi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=rG,this.normalScale=new tr(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=oL,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}const l8={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class V3e{constructor(e,r,i){const o=this;let s=!1,l=0,u=0,c;const d=[];this.onStart=void 0,this.onLoad=e,this.onProgress=r,this.onError=i,this.itemStart=function(h){u++,s===!1&&o.onStart!==void 0&&o.onStart(h,l,u),s=!0},this.itemEnd=function(h){l++,o.onProgress!==void 0&&o.onProgress(h,l,u),l===u&&(s=!1,o.onLoad!==void 0&&o.onLoad())},this.itemError=function(h){o.onError!==void 0&&o.onError(h)},this.resolveURL=function(h){return c?c(h):h},this.setURLModifier=function(h){return c=h,this},this.addHandler=function(h,p){return d.push(h,p),this},this.removeHandler=function(h){const p=d.indexOf(h);return p!==-1&&d.splice(p,2),this},this.getHandler=function(h){for(let p=0,m=d.length;p<m;p+=2){const v=d[p],y=d[p+1];if(v.global&&(v.lastIndex=0),v.test(h))return y}return null}}}const W3e=new V3e;class yL{constructor(e){this.manager=e!==void 0?e:W3e,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,r){const i=this;return new Promise(function(o,s){i.load(e,o,r,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}yL.DEFAULT_MATERIAL_NAME="__DEFAULT";class Q3e extends yL{constructor(e){super(e)}load(e,r,i,o){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,l=l8.get(e);if(l!==void 0)return s.manager.itemStart(e),setTimeout(function(){r&&r(l),s.manager.itemEnd(e)},0),l;const u=MA("img");function c(){h(),l8.add(e,this),r&&r(this),s.manager.itemEnd(e)}function d(p){h(),o&&o(p),s.manager.itemError(e),s.manager.itemEnd(e)}function h(){u.removeEventListener("load",c,!1),u.removeEventListener("error",d,!1)}return u.addEventListener("load",c,!1),u.addEventListener("error",d,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(u.crossOrigin=this.crossOrigin),s.manager.itemStart(e),u.src=e,u}}class K3e extends yL{constructor(e){super(e)}load(e,r,i,o){const s=new Xa,l=new Q3e(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(e,function(u){s.image=u,s.needsUpdate=!0,r!==void 0&&r(s)},i,o),s}}class _G extends sa{constructor(e,r=1){super(),this.isLight=!0,this.type="Light",this.color=new gi(e),this.intensity=r}dispose(){}copy(e,r){return super.copy(e,r),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const r=super.toJSON(e);return r.object.color=this.color.getHex(),r.object.intensity=this.intensity,this.groundColor!==void 0&&(r.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(r.object.distance=this.distance),this.angle!==void 0&&(r.object.angle=this.angle),this.decay!==void 0&&(r.object.decay=this.decay),this.penumbra!==void 0&&(r.object.penumbra=this.penumbra),this.shadow!==void 0&&(r.object.shadow=this.shadow.toJSON()),r}}const tM=new lo,c8=new Rt,u8=new Rt;class X3e{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new tr(512,512),this.map=null,this.mapPass=null,this.matrix=new lo,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new dL,this._frameExtents=new tr(1,1),this._viewportCount=1,this._viewports=[new oa(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const r=this.camera,i=this.matrix;c8.setFromMatrixPosition(e.matrixWorld),r.position.copy(c8),u8.setFromMatrixPosition(e.target.matrixWorld),r.lookAt(u8),r.updateMatrixWorld(),tM.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(tM),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(tM)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class q3e extends X3e{constructor(){super(new hL(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Y3e extends _G{constructor(e,r){super(e,r),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(sa.DEFAULT_UP),this.updateMatrix(),this.target=new sa,this.shadow=new q3e}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class J3e extends _G{constructor(e,r){super(e,r),this.isAmbientLight=!0,this.type="AmbientLight"}}class MG{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=d8(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const r=d8();e=(r-this.oldTime)/1e3,this.oldTime=r,this.elapsedTime+=e}return e}}function d8(){return(typeof performance>"u"?Date:performance).now()}class TG{constructor(e,r,i=0,o=1/0){this.ray=new KC(e,r),this.near=i,this.far=o,this.camera=null,this.layers=new cL,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,r){this.ray.set(e,r)}setFromCamera(e,r){r.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(r.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(r).sub(this.ray.origin).normalize(),this.camera=r):r.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(r.near+r.far)/(r.near-r.far)).unproject(r),this.ray.direction.set(0,0,-1).transformDirection(r.matrixWorld),this.camera=r):console.error("THREE.Raycaster: Unsupported camera type: "+r.type)}intersectObject(e,r=!0,i=[]){return nR(e,this,i,r),i.sort(f8),i}intersectObjects(e,r=!0,i=[]){for(let o=0,s=e.length;o<s;o++)nR(e[o],this,i,r);return i.sort(f8),i}}function f8(n,e){return n.distance-e.distance}function nR(n,e,r,i){if(n.layers.test(e.layers)&&n.raycast(e,r),i===!0){const o=n.children;for(let s=0,l=o.length;s<l;s++)nR(o[s],e,r,!0)}}class rR{constructor(e=1,r=0,i=0){return this.radius=e,this.phi=r,this.theta=i,this}set(e,r,i){return this.radius=e,this.phi=r,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,r,i){return this.radius=Math.sqrt(e*e+r*r+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(ia(r/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:iL}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=iL);function Z3e(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,s,l,u=[],c=!0,d=!1;try{if(s=(r=r.call(n)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(i=s.call(r)).done)&&(u.push(i.value),u.length!==e);c=!0);}catch(h){d=!0,o=h}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw o}}return u}}function eRe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function h8(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,hRe(i.key),i)}}function tRe(n,e,r){return e&&h8(n.prototype,e),r&&h8(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}function nRe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&iR(n,e)}function EE(n){return EE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},EE(n)}function iR(n,e){return iR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},iR(n,e)}function rRe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function iRe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function oRe(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iRe(n)}function aRe(n){var e=rRe();return function(){var i=EE(n),o;if(e){var s=EE(this).constructor;o=Reflect.construct(i,arguments,s)}else o=i.apply(this,arguments);return oRe(this,o)}}function p8(n,e){return lRe(n)||Z3e(n,e)||RG(n,e)||dRe()}function _1(n){return sRe(n)||cRe(n)||RG(n)||uRe()}function sRe(n){if(Array.isArray(n))return oR(n)}function lRe(n){if(Array.isArray(n))return n}function cRe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function RG(n,e){if(n){if(typeof n=="string")return oR(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oR(n,e)}}function oR(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function uRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fRe(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function hRe(n){var e=fRe(n,"string");return typeof e=="symbol"?e:String(e)}var Qp=typeof window<"u"&&window.THREE?window.THREE:{LinearFilter:Rs,Sprite:M3e,SpriteMaterial:xG,SRGBColorSpace:Go,Texture:Xa},pRe=function(n){nRe(r,n);var e=aRe(r);function r(){var i,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"rgba(255, 255, 255, 1)";return eRe(this,r),i=e.call(this,new Qp.SpriteMaterial),i._text="".concat(o),i._textHeight=s,i._color=l,i._backgroundColor=!1,i._padding=0,i._borderWidth=0,i._borderRadius=0,i._borderColor="white",i._strokeWidth=0,i._strokeColor="white",i._fontFace="system-ui",i._fontSize=90,i._fontWeight="normal",i._canvas=document.createElement("canvas"),i._genCanvas(),i}return tRe(r,[{key:"text",get:function(){return this._text},set:function(o){this._text=o,this._genCanvas()}},{key:"textHeight",get:function(){return this._textHeight},set:function(o){this._textHeight=o,this._genCanvas()}},{key:"color",get:function(){return this._color},set:function(o){this._color=o,this._genCanvas()}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(o){this._backgroundColor=o,this._genCanvas()}},{key:"padding",get:function(){return this._padding},set:function(o){this._padding=o,this._genCanvas()}},{key:"borderWidth",get:function(){return this._borderWidth},set:function(o){this._borderWidth=o,this._genCanvas()}},{key:"borderRadius",get:function(){return this._borderRadius},set:function(o){this._borderRadius=o,this._genCanvas()}},{key:"borderColor",get:function(){return this._borderColor},set:function(o){this._borderColor=o,this._genCanvas()}},{key:"fontFace",get:function(){return this._fontFace},set:function(o){this._fontFace=o,this._genCanvas()}},{key:"fontSize",get:function(){return this._fontSize},set:function(o){this._fontSize=o,this._genCanvas()}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(o){this._fontWeight=o,this._genCanvas()}},{key:"strokeWidth",get:function(){return this._strokeWidth},set:function(o){this._strokeWidth=o,this._genCanvas()}},{key:"strokeColor",get:function(){return this._strokeColor},set:function(o){this._strokeColor=o,this._genCanvas()}},{key:"_genCanvas",value:function(){var o=this,s=this._canvas,l=s.getContext("2d"),u=Array.isArray(this.borderWidth)?this.borderWidth:[this.borderWidth,this.borderWidth],c=u.map(function(L){return L*o.fontSize*.1}),d=Array.isArray(this.borderRadius)?this.borderRadius:[this.borderRadius,this.borderRadius,this.borderRadius,this.borderRadius],h=d.map(function(L){return L*o.fontSize*.1}),p=Array.isArray(this.padding)?this.padding:[this.padding,this.padding],m=p.map(function(L){return L*o.fontSize*.1}),v=this.text.split(`
`),y="".concat(this.fontWeight," ").concat(this.fontSize,"px ").concat(this.fontFace);l.font=y;var A=Math.max.apply(Math,_1(v.map(function(L){return l.measureText(L).width}))),b=this.fontSize*v.length;if(s.width=A+c[0]*2+m[0]*2,s.height=b+c[1]*2+m[1]*2,this.borderWidth){if(l.strokeStyle=this.borderColor,c[0]){var g=c[0]/2;l.lineWidth=c[0],l.beginPath(),l.moveTo(g,h[0]),l.lineTo(g,s.height-h[3]),l.moveTo(s.width-g,h[1]),l.lineTo(s.width-g,s.height-h[2]),l.stroke()}if(c[1]){var w=c[1]/2;l.lineWidth=c[1],l.beginPath(),l.moveTo(Math.max(c[0],h[0]),w),l.lineTo(s.width-Math.max(c[0],h[1]),w),l.moveTo(Math.max(c[0],h[3]),s.height-w),l.lineTo(s.width-Math.max(c[0],h[2]),s.height-w),l.stroke()}if(this.borderRadius){var E=Math.max.apply(Math,_1(c)),C=E/2;l.lineWidth=E,l.beginPath(),[!!h[0]&&[h[0],C,C,h[0]],!!h[1]&&[s.width-h[1],s.width-C,C,h[1]],!!h[2]&&[s.width-h[2],s.width-C,s.height-C,s.height-h[2]],!!h[3]&&[h[3],C,s.height-C,s.height-h[3]]].filter(function(L){return L}).forEach(function(L){var T=p8(L,4),D=T[0],H=T[1],V=T[2],B=T[3];l.moveTo(D,V),l.quadraticCurveTo(H,V,H,B)}),l.stroke()}}this.backgroundColor&&(l.fillStyle=this.backgroundColor,this.borderRadius?(l.beginPath(),l.moveTo(c[0],h[0]),[[c[0],h[0],s.width-h[1],c[1],c[1],c[1]],[s.width-c[0],s.width-c[0],s.width-c[0],c[1],h[1],s.height-h[2]],[s.width-c[0],s.width-h[2],h[3],s.height-c[1],s.height-c[1],s.height-c[1]],[c[0],c[0],c[0],s.height-c[1],s.height-h[3],h[0]]].forEach(function(L){var T=p8(L,6),D=T[0],H=T[1],V=T[2],B=T[3],O=T[4],F=T[5];l.quadraticCurveTo(D,B,H,O),l.lineTo(V,F)}),l.closePath(),l.fill()):l.fillRect(c[0],c[1],s.width-c[0]*2,s.height-c[1]*2)),l.translate.apply(l,_1(c)),l.translate.apply(l,_1(m)),l.font=y,l.fillStyle=this.color,l.textBaseline="bottom";var _=this.strokeWidth>0;_&&(l.lineWidth=this.strokeWidth*this.fontSize/10,l.strokeStyle=this.strokeColor),v.forEach(function(L,T){var D=(A-l.measureText(L).width)/2,H=(T+1)*o.fontSize;_&&l.strokeText(L,D,H),l.fillText(L,D,H)}),this.material.map&&this.material.map.dispose();var P=this.material.map=new Qp.Texture(s);P.minFilter=Qp.LinearFilter,P.colorSpace=Qp.SRGBColorSpace,P.needsUpdate=!0;var R=this.textHeight*v.length+u[1]*2+p[1]*2;this.scale.set(R*s.width/s.height,R,0)}},{key:"clone",value:function(){return new this.constructor(this.text,this.textHeight,this.color).copy(this)}},{key:"copy",value:function(o){return Qp.Sprite.prototype.copy.call(this,o),this.color=o.color,this.backgroundColor=o.backgroundColor,this.padding=o.padding,this.borderWidth=o.borderWidth,this.borderColor=o.borderColor,this.fontFace=o.fontFace,this.fontSize=o.fontSize,this.fontWeight=o.fontWeight,this.strokeWidth=o.strokeWidth,this.strokeColor=o.strokeColor,this}}]),r}(Qp.Sprite);function mRe(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,s,l,u=[],c=!0,d=!1;try{if(s=(r=r.call(n)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(i=s.call(r)).done)&&(u.push(i.value),u.length!==e);c=!0);}catch(h){d=!0,o=h}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw o}}return u}}function gRe(n,e,r){return e=wRe(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function m8(n,e){return yRe(n)||mRe(n,e)||IG(n,e)||ERe()}function vRe(n){return ARe(n)||bRe(n)||IG(n)||xRe()}function ARe(n){if(Array.isArray(n))return aR(n)}function yRe(n){if(Array.isArray(n))return n}function bRe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function IG(n,e){if(n){if(typeof n=="string")return aR(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aR(n,e)}}function aR(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function xRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ERe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CRe(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function wRe(n){var e=CRe(n,"string");return typeof e=="symbol"?e:String(e)}var SRe=function(e,r){var i=new Set(r);return Object.assign.apply(Object,[{}].concat(vRe(Object.entries(e).filter(function(o){var s=m8(o,1),l=s[0];return!i.has(l)}).map(function(o){var s=m8(o,2),l=s[0],u=s[1];return gRe({},l,u)}))))};/*! fromentries. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var _Re=function(e){return[...e].reduce((r,[i,o])=>(r[i]=o,r),{})};const g8=Uu(_Re);function MRe(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,s,l,u=[],c=!0,d=!1;try{if(s=(r=r.call(n)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(i=s.call(r)).done)&&(u.push(i.value),u.length!==e);c=!0);}catch(h){d=!0,o=h}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw o}}return u}}function sR(n){"@babel/helpers - typeof";return sR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sR(n)}function PG(n,e){return RRe(n)||MRe(n,e)||LG(n,e)||LRe()}function v8(n){return TRe(n)||IRe(n)||LG(n)||PRe()}function TRe(n){if(Array.isArray(n))return lR(n)}function RRe(n){if(Array.isArray(n))return n}function IRe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function LG(n,e){if(n){if(typeof n=="string")return lR(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lR(n,e)}}function lR(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function PRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZC(n,e){var r=sR(e)==="object"?e:{wrapperElementType:e,methodNames:(arguments.length<=2?void 0:arguments[2])||void 0,initPropNames:(arguments.length<=3?void 0:arguments[3])||void 0},i=r.wrapperElementType,o=i===void 0?"div":i,s=r.nodeMapper,l=s===void 0?function(p){return p}:s,u=r.methodNames,c=u===void 0?[]:u,d=r.initPropNames,h=d===void 0?[]:d;return M.forwardRef(function(p,m){var v=M.useRef(),y=M.useState({}),A=PG(y,2),b=A[0],g=A[1];M.useEffect(function(){return g(p)});var w=M.useMemo(function(){var _=g8(h.filter(function(P){return p.hasOwnProperty(P)}).map(function(P){return[P,p[P]]}));return n(_)},[]);A8(function(){w(l(v.current))},M.useLayoutEffect),A8(function(){return w._destructor instanceof Function?w._destructor:void 0});var E=M.useCallback(function(_){for(var P=arguments.length,R=new Array(P>1?P-1:0),L=1;L<P;L++)R[L-1]=arguments[L];return w[_]instanceof Function?w[_].apply(w,R):void 0},[w]),C=SRe(p,[].concat(v8(c),v8(h)));return Object.keys(C).filter(function(_){return b[_]!==p[_]}).forEach(function(_){return E(_,p[_])}),M.useImperativeHandle(m,function(){return g8(c.map(function(_){return[_,function(){for(var P=arguments.length,R=new Array(P),L=0;L<P;L++)R[L]=arguments[L];return E.apply(void 0,[_].concat(R))}]}))}),Wt.createElement(o,{ref:v})})}function A8(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M.useEffect,r=M.useRef(),i=M.useRef(!1),o=M.useRef(!1),s=M.useState(0),l=PG(s,2);l[0];var u=l[1];i.current&&(o.current=!0),e(function(){return i.current||(r.current=n(),i.current=!0),u(function(c){return c+1}),function(){o.current&&r.current&&r.current()}},[])}var BRe={exports:{}};(function(n,e){(function(i,o){n.exports=o()})(self,()=>(()=>{var r={"./node_modules/@ungap/custom-elements/index.js":()=>{/*! (c) Andrea Giammarchi @webreflection ISC */(function(){var l=function(Lt,mt){var Nt=function(Sn){for(var yn=0,Ln=Sn.length;yn<Ln;yn++)cn(Sn[yn])},cn=function(Sn){var yn=Sn.target,Ln=Sn.attributeName,rr=Sn.oldValue;yn.attributeChangedCallback(Ln,rr,yn.getAttribute(Ln))};return function(Jt,Sn){var yn=Jt.constructor.observedAttributes;return yn&&Lt(Sn).then(function(){new mt(Nt).observe(Jt,{attributes:!0,attributeOldValue:!0,attributeFilter:yn});for(var Ln=0,rr=yn.length;Ln<rr;Ln++)Jt.hasAttribute(yn[Ln])&&cn({target:Jt,attributeName:yn[Ln],oldValue:null})}),Jt}};function u(Lt,mt){if(Lt){if(typeof Lt=="string")return c(Lt,mt);var Nt=Object.prototype.toString.call(Lt).slice(8,-1);if(Nt==="Object"&&Lt.constructor&&(Nt=Lt.constructor.name),Nt==="Map"||Nt==="Set")return Array.from(Lt);if(Nt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Nt))return c(Lt,mt)}}function c(Lt,mt){(mt==null||mt>Lt.length)&&(mt=Lt.length);for(var Nt=0,cn=new Array(mt);Nt<mt;Nt++)cn[Nt]=Lt[Nt];return cn}function d(Lt,mt){var Nt=typeof Symbol<"u"&&Lt[Symbol.iterator]||Lt["@@iterator"];if(!Nt){if(Array.isArray(Lt)||(Nt=u(Lt))||mt&&Lt&&typeof Lt.length=="number"){Nt&&(Lt=Nt);var cn=0,Jt=function(){};return{s:Jt,n:function(){return cn>=Lt.length?{done:!0}:{done:!1,value:Lt[cn++]}},e:function(rr){throw rr},f:Jt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Sn=!0,yn=!1,Ln;return{s:function(){Nt=Nt.call(Lt)},n:function(){var rr=Nt.next();return Sn=rr.done,rr},e:function(rr){yn=!0,Ln=rr},f:function(){try{!Sn&&Nt.return!=null&&Nt.return()}finally{if(yn)throw Ln}}}}/*! (c) Andrea Giammarchi - ISC */var h=!0,p=!1,m="querySelectorAll",v=function(mt){var Nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document,cn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:MutationObserver,Jt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:["*"],Sn=function rr(jn,Fn,Cn,Oe,lt,wt){var xe=d(jn),De;try{for(xe.s();!(De=xe.n()).done;){var tt=De.value;(wt||m in tt)&&(lt?Cn.has(tt)||(Cn.add(tt),Oe.delete(tt),mt(tt,lt)):Oe.has(tt)||(Oe.add(tt),Cn.delete(tt),mt(tt,lt)),wt||rr(tt[m](Fn),Fn,Cn,Oe,lt,h))}}catch(St){xe.e(St)}finally{xe.f()}},yn=new cn(function(rr){if(Jt.length){var jn=Jt.join(","),Fn=new Set,Cn=new Set,Oe=d(rr),lt;try{for(Oe.s();!(lt=Oe.n()).done;){var wt=lt.value,xe=wt.addedNodes,De=wt.removedNodes;Sn(De,jn,Fn,Cn,p,p),Sn(xe,jn,Fn,Cn,h,p)}}catch(tt){Oe.e(tt)}finally{Oe.f()}}}),Ln=yn.observe;return(yn.observe=function(rr){return Ln.call(yn,rr,{subtree:h,childList:h})})(Nt),yn},y="querySelectorAll",A=self,b=A.document,g=A.Element,w=A.MutationObserver,E=A.Set,C=A.WeakMap,_=function(mt){return y in mt},P=[].filter,R=function(Lt){var mt=new C,Nt=function(Oe){for(var lt=0,wt=Oe.length;lt<wt;lt++)mt.delete(Oe[lt])},cn=function(){for(var Oe=jn.takeRecords(),lt=0,wt=Oe.length;lt<wt;lt++)yn(P.call(Oe[lt].removedNodes,_),!1),yn(P.call(Oe[lt].addedNodes,_),!0)},Jt=function(Oe){return Oe.matches||Oe.webkitMatchesSelector||Oe.msMatchesSelector},Sn=function(Oe,lt){var wt;if(lt)for(var xe,De=Jt(Oe),tt=0,St=Ln.length;tt<St;tt++)De.call(Oe,xe=Ln[tt])&&(mt.has(Oe)||mt.set(Oe,new E),wt=mt.get(Oe),wt.has(xe)||(wt.add(xe),Lt.handle(Oe,lt,xe)));else mt.has(Oe)&&(wt=mt.get(Oe),mt.delete(Oe),wt.forEach(function(Mt){Lt.handle(Oe,lt,Mt)}))},yn=function(Oe){for(var lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,wt=0,xe=Oe.length;wt<xe;wt++)Sn(Oe[wt],lt)},Ln=Lt.query,rr=Lt.root||b,jn=v(Sn,rr,w,Ln),Fn=g.prototype.attachShadow;return Fn&&(g.prototype.attachShadow=function(Cn){var Oe=Fn.call(this,Cn);return jn.observe(Oe),Oe}),Ln.length&&yn(rr[y](Ln)),{drop:Nt,flush:cn,observer:jn,parse:yn}},L=self,T=L.document,D=L.Map,H=L.MutationObserver,V=L.Object,B=L.Set,O=L.WeakMap,F=L.Element,N=L.HTMLElement,z=L.Node,j=L.Error,G=L.TypeError,Q=L.Reflect,X=V.defineProperty,J=V.keys,Z=V.getOwnPropertyNames,oe=V.setPrototypeOf,ce=!self.customElements,Be=function(mt){for(var Nt=J(mt),cn=[],Jt=Nt.length,Sn=0;Sn<Jt;Sn++)cn[Sn]=mt[Nt[Sn]],delete mt[Nt[Sn]];return function(){for(var yn=0;yn<Jt;yn++)mt[Nt[yn]]=cn[yn]}};if(ce){var ge=function(){var mt=this.constructor;if(!$e.has(mt))throw new G("Illegal constructor");var Nt=$e.get(mt);if(Et)return Ct(Et,Nt);var cn=Re.call(T,Nt);return Ct(oe(cn,mt.prototype),Nt)},Re=T.createElement,$e=new D,qe=new D,Ke=new D,ke=new D,st=[],ot=function(mt,Nt,cn){var Jt=Ke.get(cn);if(Nt&&!Jt.isPrototypeOf(mt)){var Sn=Be(mt);Et=oe(mt,Jt);try{new Jt.constructor}finally{Et=null,Sn()}}var yn="".concat(Nt?"":"dis","connectedCallback");yn in Jt&&mt[yn]()},it=R({query:st,handle:ot}),ft=it.parse,Et=null,gt=function(mt){if(!qe.has(mt)){var Nt,cn=new Promise(function(Jt){Nt=Jt});qe.set(mt,{$:cn,_:Nt})}return qe.get(mt).$},Ct=l(gt,H);X(self,"customElements",{configurable:!0,value:{define:function(mt,Nt){if(ke.has(mt))throw new j('the name "'.concat(mt,'" has already been used with this registry'));$e.set(Nt,mt),Ke.set(mt,Nt.prototype),ke.set(mt,Nt),st.push(mt),gt(mt).then(function(){ft(T.querySelectorAll(mt))}),qe.get(mt)._(Nt)},get:function(mt){return ke.get(mt)},whenDefined:gt}}),X(ge.prototype=N.prototype,"constructor",{value:ge}),X(self,"HTMLElement",{configurable:!0,value:ge}),X(T,"createElement",{configurable:!0,value:function(mt,Nt){var cn=Nt&&Nt.is,Jt=cn?ke.get(cn):ke.get(mt);return Jt?new Jt:Re.call(T,mt)}}),"isConnected"in z.prototype||X(z.prototype,"isConnected",{configurable:!0,get:function(){return!(this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}})}else if(ce=!self.customElements.get("extends-li"),ce)try{var Tt=function Lt(){return self.Reflect.construct(HTMLLIElement,[],Lt)};Tt.prototype=HTMLLIElement.prototype;var Dt="extends-li";self.customElements.define("extends-li",Tt,{extends:"li"}),ce=T.createElement("li",{is:Dt}).outerHTML.indexOf(Dt)<0;var Yt=self.customElements,Ve=Yt.get,ye=Yt.whenDefined;X(self.customElements,"whenDefined",{configurable:!0,value:function(mt){var Nt=this;return ye.call(this,mt).then(function(cn){return cn||Ve.call(Nt,mt)})}})}catch{}if(ce){var fe=function(mt){var Nt=Ue.get(mt);Qe(Nt.querySelectorAll(this),mt.isConnected)},pe=self.customElements,_e=T.createElement,Ce=pe.define,Se=pe.get,we=pe.upgrade,je=Q||{construct:function(mt){return mt.call(this)}},Ae=je.construct,Ue=new O,et=new B,ue=new D,Y=new D,ne=new D,Pe=new D,We=[],ve=[],he=function(mt){return Pe.get(mt)||Se.call(pe,mt)},Ye=function(mt,Nt,cn){var Jt=ne.get(cn);if(Nt&&!Jt.isPrototypeOf(mt)){var Sn=Be(mt);Vt=oe(mt,Jt);try{new Jt.constructor}finally{Vt=null,Sn()}}var yn="".concat(Nt?"":"dis","connectedCallback");yn in Jt&&mt[yn]()},Ze=R({query:ve,handle:Ye}),Qe=Ze.parse,nt=R({query:We,handle:function(mt,Nt){Ue.has(mt)&&(Nt?et.add(mt):et.delete(mt),ve.length&&fe.call(ve,mt))}}),It=nt.parse,kt=F.prototype.attachShadow;kt&&(F.prototype.attachShadow=function(Lt){var mt=kt.call(this,Lt);return Ue.set(this,mt),mt});var Bt=function(mt){if(!Y.has(mt)){var Nt,cn=new Promise(function(Jt){Nt=Jt});Y.set(mt,{$:cn,_:Nt})}return Y.get(mt).$},jt=l(Bt,H),Vt=null;Z(self).filter(function(Lt){return/^HTML.*Element$/.test(Lt)}).forEach(function(Lt){var mt=self[Lt];function Nt(){var cn=this.constructor;if(!ue.has(cn))throw new G("Illegal constructor");var Jt=ue.get(cn),Sn=Jt.is,yn=Jt.tag;if(Sn){if(Vt)return jt(Vt,Sn);var Ln=_e.call(T,yn);return Ln.setAttribute("is",Sn),jt(oe(Ln,cn.prototype),Sn)}else return Ae.call(this,mt,[],cn)}X(Nt.prototype=mt.prototype,"constructor",{value:Nt}),X(self,Lt,{value:Nt})}),X(T,"createElement",{configurable:!0,value:function(mt,Nt){var cn=Nt&&Nt.is;if(cn){var Jt=Pe.get(cn);if(Jt&&ue.get(Jt).tag===mt)return new Jt}var Sn=_e.call(T,mt);return cn&&Sn.setAttribute("is",cn),Sn}}),X(pe,"get",{configurable:!0,value:he}),X(pe,"whenDefined",{configurable:!0,value:Bt}),X(pe,"upgrade",{configurable:!0,value:function(mt){var Nt=mt.getAttribute("is");if(Nt){var cn=Pe.get(Nt);if(cn){jt(oe(mt,cn.prototype),Nt);return}}we.call(pe,mt)}}),X(pe,"define",{configurable:!0,value:function(mt,Nt,cn){if(he(mt))throw new j("'".concat(mt,"' has already been defined as a custom element"));var Jt,Sn=cn&&cn.extends;ue.set(Nt,Sn?{is:mt,tag:Sn}:{is:"",tag:mt}),Sn?(Jt="".concat(Sn,'[is="').concat(mt,'"]'),ne.set(Jt,Nt.prototype),Pe.set(mt,Nt),ve.push(Jt)):(Ce.apply(pe,arguments),We.push(Jt=mt)),Bt(mt).then(function(){Sn?(Qe(T.querySelectorAll(Jt)),et.forEach(fe,[Jt])):It(T.querySelectorAll(Jt))}),Y.get(mt)._(Nt)}})}})()},"./node_modules/an-array/index.js":l=>{var u=Object.prototype.toString;l.exports=c;function c(d){return d.BYTES_PER_ELEMENT&&u.call(d.buffer)==="[object ArrayBuffer]"||Array.isArray(d)}},"./node_modules/as-number/index.js":l=>{l.exports=function(c,d){return typeof c=="number"?c:typeof d=="number"?d:0}},"./node_modules/base64-js/index.js":(l,u)=>{u.byteLength=A,u.toByteArray=g,u.fromByteArray=C;for(var c=[],d=[],h=typeof Uint8Array<"u"?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=0,v=p.length;m<v;++m)c[m]=p[m],d[p.charCodeAt(m)]=m;d["-".charCodeAt(0)]=62,d["_".charCodeAt(0)]=63;function y(_){var P=_.length;if(P%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var R=_.indexOf("=");R===-1&&(R=P);var L=R===P?0:4-R%4;return[R,L]}function A(_){var P=y(_),R=P[0],L=P[1];return(R+L)*3/4-L}function b(_,P,R){return(P+R)*3/4-R}function g(_){var P,R=y(_),L=R[0],T=R[1],D=new h(b(_,L,T)),H=0,V=T>0?L-4:L,B;for(B=0;B<V;B+=4)P=d[_.charCodeAt(B)]<<18|d[_.charCodeAt(B+1)]<<12|d[_.charCodeAt(B+2)]<<6|d[_.charCodeAt(B+3)],D[H++]=P>>16&255,D[H++]=P>>8&255,D[H++]=P&255;return T===2&&(P=d[_.charCodeAt(B)]<<2|d[_.charCodeAt(B+1)]>>4,D[H++]=P&255),T===1&&(P=d[_.charCodeAt(B)]<<10|d[_.charCodeAt(B+1)]<<4|d[_.charCodeAt(B+2)]>>2,D[H++]=P>>8&255,D[H++]=P&255),D}function w(_){return c[_>>18&63]+c[_>>12&63]+c[_>>6&63]+c[_&63]}function E(_,P,R){for(var L,T=[],D=P;D<R;D+=3)L=(_[D]<<16&16711680)+(_[D+1]<<8&65280)+(_[D+2]&255),T.push(w(L));return T.join("")}function C(_){for(var P,R=_.length,L=R%3,T=[],D=16383,H=0,V=R-L;H<V;H+=D)T.push(E(_,H,H+D>V?V:H+D));return L===1?(P=_[R-1],T.push(c[P>>2]+c[P<<4&63]+"==")):L===2&&(P=(_[R-2]<<8)+_[R-1],T.push(c[P>>10]+c[P>>4&63]+c[P<<2&63]+"=")),T.join("")}},"./node_modules/buffer-equal/index.js":(l,u,c)=>{var d=c("./node_modules/buffer/index.js").Buffer;l.exports=function(h,p){if(d.isBuffer(h)&&d.isBuffer(p)){if(typeof h.equals=="function")return h.equals(p);if(h.length!==p.length)return!1;for(var m=0;m<h.length;m++)if(h[m]!==p[m])return!1;return!0}}},"./node_modules/buffer/index.js":(l,u,c)=>{/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const d=c("./node_modules/base64-js/index.js"),h=c("./node_modules/ieee754/index.js"),p=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;u.Buffer=A,u.SlowBuffer=D,u.INSPECT_MAX_BYTES=50;const m=2147483647;u.kMaxLength=m,A.TYPED_ARRAY_SUPPORT=v(),!A.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function v(){try{const ue=new Uint8Array(1),Y={foo:function(){return 42}};return Object.setPrototypeOf(Y,Uint8Array.prototype),Object.setPrototypeOf(ue,Y),ue.foo()===42}catch{return!1}}Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}});function y(ue){if(ue>m)throw new RangeError('The value "'+ue+'" is invalid for option "size"');const Y=new Uint8Array(ue);return Object.setPrototypeOf(Y,A.prototype),Y}function A(ue,Y,ne){if(typeof ue=="number"){if(typeof Y=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E(ue)}return b(ue,Y,ne)}A.poolSize=8192;function b(ue,Y,ne){if(typeof ue=="string")return C(ue,Y);if(ArrayBuffer.isView(ue))return P(ue);if(ue==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ue);if(we(ue,ArrayBuffer)||ue&&we(ue.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(we(ue,SharedArrayBuffer)||ue&&we(ue.buffer,SharedArrayBuffer)))return R(ue,Y,ne);if(typeof ue=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Pe=ue.valueOf&&ue.valueOf();if(Pe!=null&&Pe!==ue)return A.from(Pe,Y,ne);const We=L(ue);if(We)return We;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ue[Symbol.toPrimitive]=="function")return A.from(ue[Symbol.toPrimitive]("string"),Y,ne);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ue)}A.from=function(ue,Y,ne){return b(ue,Y,ne)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array);function g(ue){if(typeof ue!="number")throw new TypeError('"size" argument must be of type number');if(ue<0)throw new RangeError('The value "'+ue+'" is invalid for option "size"')}function w(ue,Y,ne){return g(ue),ue<=0?y(ue):Y!==void 0?typeof ne=="string"?y(ue).fill(Y,ne):y(ue).fill(Y):y(ue)}A.alloc=function(ue,Y,ne){return w(ue,Y,ne)};function E(ue){return g(ue),y(ue<0?0:T(ue)|0)}A.allocUnsafe=function(ue){return E(ue)},A.allocUnsafeSlow=function(ue){return E(ue)};function C(ue,Y){if((typeof Y!="string"||Y==="")&&(Y="utf8"),!A.isEncoding(Y))throw new TypeError("Unknown encoding: "+Y);const ne=H(ue,Y)|0;let Pe=y(ne);const We=Pe.write(ue,Y);return We!==ne&&(Pe=Pe.slice(0,We)),Pe}function _(ue){const Y=ue.length<0?0:T(ue.length)|0,ne=y(Y);for(let Pe=0;Pe<Y;Pe+=1)ne[Pe]=ue[Pe]&255;return ne}function P(ue){if(we(ue,Uint8Array)){const Y=new Uint8Array(ue);return R(Y.buffer,Y.byteOffset,Y.byteLength)}return _(ue)}function R(ue,Y,ne){if(Y<0||ue.byteLength<Y)throw new RangeError('"offset" is outside of buffer bounds');if(ue.byteLength<Y+(ne||0))throw new RangeError('"length" is outside of buffer bounds');let Pe;return Y===void 0&&ne===void 0?Pe=new Uint8Array(ue):ne===void 0?Pe=new Uint8Array(ue,Y):Pe=new Uint8Array(ue,Y,ne),Object.setPrototypeOf(Pe,A.prototype),Pe}function L(ue){if(A.isBuffer(ue)){const Y=T(ue.length)|0,ne=y(Y);return ne.length===0||ue.copy(ne,0,0,Y),ne}if(ue.length!==void 0)return typeof ue.length!="number"||je(ue.length)?y(0):_(ue);if(ue.type==="Buffer"&&Array.isArray(ue.data))return _(ue.data)}function T(ue){if(ue>=m)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+m.toString(16)+" bytes");return ue|0}function D(ue){return+ue!=ue&&(ue=0),A.alloc(+ue)}A.isBuffer=function(Y){return Y!=null&&Y._isBuffer===!0&&Y!==A.prototype},A.compare=function(Y,ne){if(we(Y,Uint8Array)&&(Y=A.from(Y,Y.offset,Y.byteLength)),we(ne,Uint8Array)&&(ne=A.from(ne,ne.offset,ne.byteLength)),!A.isBuffer(Y)||!A.isBuffer(ne))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Y===ne)return 0;let Pe=Y.length,We=ne.length;for(let ve=0,he=Math.min(Pe,We);ve<he;++ve)if(Y[ve]!==ne[ve]){Pe=Y[ve],We=ne[ve];break}return Pe<We?-1:We<Pe?1:0},A.isEncoding=function(Y){switch(String(Y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(Y,ne){if(!Array.isArray(Y))throw new TypeError('"list" argument must be an Array of Buffers');if(Y.length===0)return A.alloc(0);let Pe;if(ne===void 0)for(ne=0,Pe=0;Pe<Y.length;++Pe)ne+=Y[Pe].length;const We=A.allocUnsafe(ne);let ve=0;for(Pe=0;Pe<Y.length;++Pe){let he=Y[Pe];if(we(he,Uint8Array))ve+he.length>We.length?(A.isBuffer(he)||(he=A.from(he)),he.copy(We,ve)):Uint8Array.prototype.set.call(We,he,ve);else if(A.isBuffer(he))he.copy(We,ve);else throw new TypeError('"list" argument must be an Array of Buffers');ve+=he.length}return We};function H(ue,Y){if(A.isBuffer(ue))return ue.length;if(ArrayBuffer.isView(ue)||we(ue,ArrayBuffer))return ue.byteLength;if(typeof ue!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ue);const ne=ue.length,Pe=arguments.length>2&&arguments[2]===!0;if(!Pe&&ne===0)return 0;let We=!1;for(;;)switch(Y){case"ascii":case"latin1":case"binary":return ne;case"utf8":case"utf-8":return fe(ue).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne*2;case"hex":return ne>>>1;case"base64":return Ce(ue).length;default:if(We)return Pe?-1:fe(ue).length;Y=(""+Y).toLowerCase(),We=!0}}A.byteLength=H;function V(ue,Y,ne){let Pe=!1;if((Y===void 0||Y<0)&&(Y=0),Y>this.length||((ne===void 0||ne>this.length)&&(ne=this.length),ne<=0)||(ne>>>=0,Y>>>=0,ne<=Y))return"";for(ue||(ue="utf8");;)switch(ue){case"hex":return ge(this,Y,ne);case"utf8":case"utf-8":return J(this,Y,ne);case"ascii":return ce(this,Y,ne);case"latin1":case"binary":return Be(this,Y,ne);case"base64":return X(this,Y,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Re(this,Y,ne);default:if(Pe)throw new TypeError("Unknown encoding: "+ue);ue=(ue+"").toLowerCase(),Pe=!0}}A.prototype._isBuffer=!0;function B(ue,Y,ne){const Pe=ue[Y];ue[Y]=ue[ne],ue[ne]=Pe}A.prototype.swap16=function(){const Y=this.length;if(Y%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let ne=0;ne<Y;ne+=2)B(this,ne,ne+1);return this},A.prototype.swap32=function(){const Y=this.length;if(Y%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let ne=0;ne<Y;ne+=4)B(this,ne,ne+3),B(this,ne+1,ne+2);return this},A.prototype.swap64=function(){const Y=this.length;if(Y%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let ne=0;ne<Y;ne+=8)B(this,ne,ne+7),B(this,ne+1,ne+6),B(this,ne+2,ne+5),B(this,ne+3,ne+4);return this},A.prototype.toString=function(){const Y=this.length;return Y===0?"":arguments.length===0?J(this,0,Y):V.apply(this,arguments)},A.prototype.toLocaleString=A.prototype.toString,A.prototype.equals=function(Y){if(!A.isBuffer(Y))throw new TypeError("Argument must be a Buffer");return this===Y?!0:A.compare(this,Y)===0},A.prototype.inspect=function(){let Y="";const ne=u.INSPECT_MAX_BYTES;return Y=this.toString("hex",0,ne).replace(/(.{2})/g,"$1 ").trim(),this.length>ne&&(Y+=" ... "),"<Buffer "+Y+">"},p&&(A.prototype[p]=A.prototype.inspect),A.prototype.compare=function(Y,ne,Pe,We,ve){if(we(Y,Uint8Array)&&(Y=A.from(Y,Y.offset,Y.byteLength)),!A.isBuffer(Y))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Y);if(ne===void 0&&(ne=0),Pe===void 0&&(Pe=Y?Y.length:0),We===void 0&&(We=0),ve===void 0&&(ve=this.length),ne<0||Pe>Y.length||We<0||ve>this.length)throw new RangeError("out of range index");if(We>=ve&&ne>=Pe)return 0;if(We>=ve)return-1;if(ne>=Pe)return 1;if(ne>>>=0,Pe>>>=0,We>>>=0,ve>>>=0,this===Y)return 0;let he=ve-We,Ye=Pe-ne;const Ze=Math.min(he,Ye),Qe=this.slice(We,ve),nt=Y.slice(ne,Pe);for(let It=0;It<Ze;++It)if(Qe[It]!==nt[It]){he=Qe[It],Ye=nt[It];break}return he<Ye?-1:Ye<he?1:0};function O(ue,Y,ne,Pe,We){if(ue.length===0)return-1;if(typeof ne=="string"?(Pe=ne,ne=0):ne>2147483647?ne=2147483647:ne<-2147483648&&(ne=-2147483648),ne=+ne,je(ne)&&(ne=We?0:ue.length-1),ne<0&&(ne=ue.length+ne),ne>=ue.length){if(We)return-1;ne=ue.length-1}else if(ne<0)if(We)ne=0;else return-1;if(typeof Y=="string"&&(Y=A.from(Y,Pe)),A.isBuffer(Y))return Y.length===0?-1:F(ue,Y,ne,Pe,We);if(typeof Y=="number")return Y=Y&255,typeof Uint8Array.prototype.indexOf=="function"?We?Uint8Array.prototype.indexOf.call(ue,Y,ne):Uint8Array.prototype.lastIndexOf.call(ue,Y,ne):F(ue,[Y],ne,Pe,We);throw new TypeError("val must be string, number or Buffer")}function F(ue,Y,ne,Pe,We){let ve=1,he=ue.length,Ye=Y.length;if(Pe!==void 0&&(Pe=String(Pe).toLowerCase(),Pe==="ucs2"||Pe==="ucs-2"||Pe==="utf16le"||Pe==="utf-16le")){if(ue.length<2||Y.length<2)return-1;ve=2,he/=2,Ye/=2,ne/=2}function Ze(nt,It){return ve===1?nt[It]:nt.readUInt16BE(It*ve)}let Qe;if(We){let nt=-1;for(Qe=ne;Qe<he;Qe++)if(Ze(ue,Qe)===Ze(Y,nt===-1?0:Qe-nt)){if(nt===-1&&(nt=Qe),Qe-nt+1===Ye)return nt*ve}else nt!==-1&&(Qe-=Qe-nt),nt=-1}else for(ne+Ye>he&&(ne=he-Ye),Qe=ne;Qe>=0;Qe--){let nt=!0;for(let It=0;It<Ye;It++)if(Ze(ue,Qe+It)!==Ze(Y,It)){nt=!1;break}if(nt)return Qe}return-1}A.prototype.includes=function(Y,ne,Pe){return this.indexOf(Y,ne,Pe)!==-1},A.prototype.indexOf=function(Y,ne,Pe){return O(this,Y,ne,Pe,!0)},A.prototype.lastIndexOf=function(Y,ne,Pe){return O(this,Y,ne,Pe,!1)};function N(ue,Y,ne,Pe){ne=Number(ne)||0;const We=ue.length-ne;Pe?(Pe=Number(Pe),Pe>We&&(Pe=We)):Pe=We;const ve=Y.length;Pe>ve/2&&(Pe=ve/2);let he;for(he=0;he<Pe;++he){const Ye=parseInt(Y.substr(he*2,2),16);if(je(Ye))return he;ue[ne+he]=Ye}return he}function z(ue,Y,ne,Pe){return Se(fe(Y,ue.length-ne),ue,ne,Pe)}function j(ue,Y,ne,Pe){return Se(pe(Y),ue,ne,Pe)}function G(ue,Y,ne,Pe){return Se(Ce(Y),ue,ne,Pe)}function Q(ue,Y,ne,Pe){return Se(_e(Y,ue.length-ne),ue,ne,Pe)}A.prototype.write=function(Y,ne,Pe,We){if(ne===void 0)We="utf8",Pe=this.length,ne=0;else if(Pe===void 0&&typeof ne=="string")We=ne,Pe=this.length,ne=0;else if(isFinite(ne))ne=ne>>>0,isFinite(Pe)?(Pe=Pe>>>0,We===void 0&&(We="utf8")):(We=Pe,Pe=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ve=this.length-ne;if((Pe===void 0||Pe>ve)&&(Pe=ve),Y.length>0&&(Pe<0||ne<0)||ne>this.length)throw new RangeError("Attempt to write outside buffer bounds");We||(We="utf8");let he=!1;for(;;)switch(We){case"hex":return N(this,Y,ne,Pe);case"utf8":case"utf-8":return z(this,Y,ne,Pe);case"ascii":case"latin1":case"binary":return j(this,Y,ne,Pe);case"base64":return G(this,Y,ne,Pe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,Y,ne,Pe);default:if(he)throw new TypeError("Unknown encoding: "+We);We=(""+We).toLowerCase(),he=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function X(ue,Y,ne){return Y===0&&ne===ue.length?d.fromByteArray(ue):d.fromByteArray(ue.slice(Y,ne))}function J(ue,Y,ne){ne=Math.min(ue.length,ne);const Pe=[];let We=Y;for(;We<ne;){const ve=ue[We];let he=null,Ye=ve>239?4:ve>223?3:ve>191?2:1;if(We+Ye<=ne){let Ze,Qe,nt,It;switch(Ye){case 1:ve<128&&(he=ve);break;case 2:Ze=ue[We+1],(Ze&192)===128&&(It=(ve&31)<<6|Ze&63,It>127&&(he=It));break;case 3:Ze=ue[We+1],Qe=ue[We+2],(Ze&192)===128&&(Qe&192)===128&&(It=(ve&15)<<12|(Ze&63)<<6|Qe&63,It>2047&&(It<55296||It>57343)&&(he=It));break;case 4:Ze=ue[We+1],Qe=ue[We+2],nt=ue[We+3],(Ze&192)===128&&(Qe&192)===128&&(nt&192)===128&&(It=(ve&15)<<18|(Ze&63)<<12|(Qe&63)<<6|nt&63,It>65535&&It<1114112&&(he=It))}}he===null?(he=65533,Ye=1):he>65535&&(he-=65536,Pe.push(he>>>10&1023|55296),he=56320|he&1023),Pe.push(he),We+=Ye}return oe(Pe)}const Z=4096;function oe(ue){const Y=ue.length;if(Y<=Z)return String.fromCharCode.apply(String,ue);let ne="",Pe=0;for(;Pe<Y;)ne+=String.fromCharCode.apply(String,ue.slice(Pe,Pe+=Z));return ne}function ce(ue,Y,ne){let Pe="";ne=Math.min(ue.length,ne);for(let We=Y;We<ne;++We)Pe+=String.fromCharCode(ue[We]&127);return Pe}function Be(ue,Y,ne){let Pe="";ne=Math.min(ue.length,ne);for(let We=Y;We<ne;++We)Pe+=String.fromCharCode(ue[We]);return Pe}function ge(ue,Y,ne){const Pe=ue.length;(!Y||Y<0)&&(Y=0),(!ne||ne<0||ne>Pe)&&(ne=Pe);let We="";for(let ve=Y;ve<ne;++ve)We+=Ae[ue[ve]];return We}function Re(ue,Y,ne){const Pe=ue.slice(Y,ne);let We="";for(let ve=0;ve<Pe.length-1;ve+=2)We+=String.fromCharCode(Pe[ve]+Pe[ve+1]*256);return We}A.prototype.slice=function(Y,ne){const Pe=this.length;Y=~~Y,ne=ne===void 0?Pe:~~ne,Y<0?(Y+=Pe,Y<0&&(Y=0)):Y>Pe&&(Y=Pe),ne<0?(ne+=Pe,ne<0&&(ne=0)):ne>Pe&&(ne=Pe),ne<Y&&(ne=Y);const We=this.subarray(Y,ne);return Object.setPrototypeOf(We,A.prototype),We};function $e(ue,Y,ne){if(ue%1!==0||ue<0)throw new RangeError("offset is not uint");if(ue+Y>ne)throw new RangeError("Trying to access beyond buffer length")}A.prototype.readUintLE=A.prototype.readUIntLE=function(Y,ne,Pe){Y=Y>>>0,ne=ne>>>0,Pe||$e(Y,ne,this.length);let We=this[Y],ve=1,he=0;for(;++he<ne&&(ve*=256);)We+=this[Y+he]*ve;return We},A.prototype.readUintBE=A.prototype.readUIntBE=function(Y,ne,Pe){Y=Y>>>0,ne=ne>>>0,Pe||$e(Y,ne,this.length);let We=this[Y+--ne],ve=1;for(;ne>0&&(ve*=256);)We+=this[Y+--ne]*ve;return We},A.prototype.readUint8=A.prototype.readUInt8=function(Y,ne){return Y=Y>>>0,ne||$e(Y,1,this.length),this[Y]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(Y,ne){return Y=Y>>>0,ne||$e(Y,2,this.length),this[Y]|this[Y+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(Y,ne){return Y=Y>>>0,ne||$e(Y,2,this.length),this[Y]<<8|this[Y+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(Y,ne){return Y=Y>>>0,ne||$e(Y,4,this.length),(this[Y]|this[Y+1]<<8|this[Y+2]<<16)+this[Y+3]*16777216},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(Y,ne){return Y=Y>>>0,ne||$e(Y,4,this.length),this[Y]*16777216+(this[Y+1]<<16|this[Y+2]<<8|this[Y+3])},A.prototype.readBigUInt64LE=Ue(function(Y){Y=Y>>>0,Dt(Y,"offset");const ne=this[Y],Pe=this[Y+7];(ne===void 0||Pe===void 0)&&Yt(Y,this.length-8);const We=ne+this[++Y]*2**8+this[++Y]*2**16+this[++Y]*2**24,ve=this[++Y]+this[++Y]*2**8+this[++Y]*2**16+Pe*2**24;return BigInt(We)+(BigInt(ve)<<BigInt(32))}),A.prototype.readBigUInt64BE=Ue(function(Y){Y=Y>>>0,Dt(Y,"offset");const ne=this[Y],Pe=this[Y+7];(ne===void 0||Pe===void 0)&&Yt(Y,this.length-8);const We=ne*2**24+this[++Y]*2**16+this[++Y]*2**8+this[++Y],ve=this[++Y]*2**24+this[++Y]*2**16+this[++Y]*2**8+Pe;return(BigInt(We)<<BigInt(32))+BigInt(ve)}),A.prototype.readIntLE=function(Y,ne,Pe){Y=Y>>>0,ne=ne>>>0,Pe||$e(Y,ne,this.length);let We=this[Y],ve=1,he=0;for(;++he<ne&&(ve*=256);)We+=this[Y+he]*ve;return ve*=128,We>=ve&&(We-=Math.pow(2,8*ne)),We},A.prototype.readIntBE=function(Y,ne,Pe){Y=Y>>>0,ne=ne>>>0,Pe||$e(Y,ne,this.length);let We=ne,ve=1,he=this[Y+--We];for(;We>0&&(ve*=256);)he+=this[Y+--We]*ve;return ve*=128,he>=ve&&(he-=Math.pow(2,8*ne)),he},A.prototype.readInt8=function(Y,ne){return Y=Y>>>0,ne||$e(Y,1,this.length),this[Y]&128?(255-this[Y]+1)*-1:this[Y]},A.prototype.readInt16LE=function(Y,ne){Y=Y>>>0,ne||$e(Y,2,this.length);const Pe=this[Y]|this[Y+1]<<8;return Pe&32768?Pe|4294901760:Pe},A.prototype.readInt16BE=function(Y,ne){Y=Y>>>0,ne||$e(Y,2,this.length);const Pe=this[Y+1]|this[Y]<<8;return Pe&32768?Pe|4294901760:Pe},A.prototype.readInt32LE=function(Y,ne){return Y=Y>>>0,ne||$e(Y,4,this.length),this[Y]|this[Y+1]<<8|this[Y+2]<<16|this[Y+3]<<24},A.prototype.readInt32BE=function(Y,ne){return Y=Y>>>0,ne||$e(Y,4,this.length),this[Y]<<24|this[Y+1]<<16|this[Y+2]<<8|this[Y+3]},A.prototype.readBigInt64LE=Ue(function(Y){Y=Y>>>0,Dt(Y,"offset");const ne=this[Y],Pe=this[Y+7];(ne===void 0||Pe===void 0)&&Yt(Y,this.length-8);const We=this[Y+4]+this[Y+5]*2**8+this[Y+6]*2**16+(Pe<<24);return(BigInt(We)<<BigInt(32))+BigInt(ne+this[++Y]*256+this[++Y]*65536+this[++Y]*16777216)}),A.prototype.readBigInt64BE=Ue(function(Y){Y=Y>>>0,Dt(Y,"offset");const ne=this[Y],Pe=this[Y+7];(ne===void 0||Pe===void 0)&&Yt(Y,this.length-8);const We=(ne<<24)+this[++Y]*2**16+this[++Y]*2**8+this[++Y];return(BigInt(We)<<BigInt(32))+BigInt(this[++Y]*16777216+this[++Y]*65536+this[++Y]*256+Pe)}),A.prototype.readFloatLE=function(Y,ne){return Y=Y>>>0,ne||$e(Y,4,this.length),h.read(this,Y,!0,23,4)},A.prototype.readFloatBE=function(Y,ne){return Y=Y>>>0,ne||$e(Y,4,this.length),h.read(this,Y,!1,23,4)},A.prototype.readDoubleLE=function(Y,ne){return Y=Y>>>0,ne||$e(Y,8,this.length),h.read(this,Y,!0,52,8)},A.prototype.readDoubleBE=function(Y,ne){return Y=Y>>>0,ne||$e(Y,8,this.length),h.read(this,Y,!1,52,8)};function qe(ue,Y,ne,Pe,We,ve){if(!A.isBuffer(ue))throw new TypeError('"buffer" argument must be a Buffer instance');if(Y>We||Y<ve)throw new RangeError('"value" argument is out of bounds');if(ne+Pe>ue.length)throw new RangeError("Index out of range")}A.prototype.writeUintLE=A.prototype.writeUIntLE=function(Y,ne,Pe,We){if(Y=+Y,ne=ne>>>0,Pe=Pe>>>0,!We){const Ye=Math.pow(2,8*Pe)-1;qe(this,Y,ne,Pe,Ye,0)}let ve=1,he=0;for(this[ne]=Y&255;++he<Pe&&(ve*=256);)this[ne+he]=Y/ve&255;return ne+Pe},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(Y,ne,Pe,We){if(Y=+Y,ne=ne>>>0,Pe=Pe>>>0,!We){const Ye=Math.pow(2,8*Pe)-1;qe(this,Y,ne,Pe,Ye,0)}let ve=Pe-1,he=1;for(this[ne+ve]=Y&255;--ve>=0&&(he*=256);)this[ne+ve]=Y/he&255;return ne+Pe},A.prototype.writeUint8=A.prototype.writeUInt8=function(Y,ne,Pe){return Y=+Y,ne=ne>>>0,Pe||qe(this,Y,ne,1,255,0),this[ne]=Y&255,ne+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(Y,ne,Pe){return Y=+Y,ne=ne>>>0,Pe||qe(this,Y,ne,2,65535,0),this[ne]=Y&255,this[ne+1]=Y>>>8,ne+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(Y,ne,Pe){return Y=+Y,ne=ne>>>0,Pe||qe(this,Y,ne,2,65535,0),this[ne]=Y>>>8,this[ne+1]=Y&255,ne+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(Y,ne,Pe){return Y=+Y,ne=ne>>>0,Pe||qe(this,Y,ne,4,4294967295,0),this[ne+3]=Y>>>24,this[ne+2]=Y>>>16,this[ne+1]=Y>>>8,this[ne]=Y&255,ne+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(Y,ne,Pe){return Y=+Y,ne=ne>>>0,Pe||qe(this,Y,ne,4,4294967295,0),this[ne]=Y>>>24,this[ne+1]=Y>>>16,this[ne+2]=Y>>>8,this[ne+3]=Y&255,ne+4};function Ke(ue,Y,ne,Pe,We){Tt(Y,Pe,We,ue,ne,7);let ve=Number(Y&BigInt(4294967295));ue[ne++]=ve,ve=ve>>8,ue[ne++]=ve,ve=ve>>8,ue[ne++]=ve,ve=ve>>8,ue[ne++]=ve;let he=Number(Y>>BigInt(32)&BigInt(4294967295));return ue[ne++]=he,he=he>>8,ue[ne++]=he,he=he>>8,ue[ne++]=he,he=he>>8,ue[ne++]=he,ne}function ke(ue,Y,ne,Pe,We){Tt(Y,Pe,We,ue,ne,7);let ve=Number(Y&BigInt(4294967295));ue[ne+7]=ve,ve=ve>>8,ue[ne+6]=ve,ve=ve>>8,ue[ne+5]=ve,ve=ve>>8,ue[ne+4]=ve;let he=Number(Y>>BigInt(32)&BigInt(4294967295));return ue[ne+3]=he,he=he>>8,ue[ne+2]=he,he=he>>8,ue[ne+1]=he,he=he>>8,ue[ne]=he,ne+8}A.prototype.writeBigUInt64LE=Ue(function(Y,ne=0){return Ke(this,Y,ne,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeBigUInt64BE=Ue(function(Y,ne=0){return ke(this,Y,ne,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeIntLE=function(Y,ne,Pe,We){if(Y=+Y,ne=ne>>>0,!We){const Ze=Math.pow(2,8*Pe-1);qe(this,Y,ne,Pe,Ze-1,-Ze)}let ve=0,he=1,Ye=0;for(this[ne]=Y&255;++ve<Pe&&(he*=256);)Y<0&&Ye===0&&this[ne+ve-1]!==0&&(Ye=1),this[ne+ve]=(Y/he>>0)-Ye&255;return ne+Pe},A.prototype.writeIntBE=function(Y,ne,Pe,We){if(Y=+Y,ne=ne>>>0,!We){const Ze=Math.pow(2,8*Pe-1);qe(this,Y,ne,Pe,Ze-1,-Ze)}let ve=Pe-1,he=1,Ye=0;for(this[ne+ve]=Y&255;--ve>=0&&(he*=256);)Y<0&&Ye===0&&this[ne+ve+1]!==0&&(Ye=1),this[ne+ve]=(Y/he>>0)-Ye&255;return ne+Pe},A.prototype.writeInt8=function(Y,ne,Pe){return Y=+Y,ne=ne>>>0,Pe||qe(this,Y,ne,1,127,-128),Y<0&&(Y=255+Y+1),this[ne]=Y&255,ne+1},A.prototype.writeInt16LE=function(Y,ne,Pe){return Y=+Y,ne=ne>>>0,Pe||qe(this,Y,ne,2,32767,-32768),this[ne]=Y&255,this[ne+1]=Y>>>8,ne+2},A.prototype.writeInt16BE=function(Y,ne,Pe){return Y=+Y,ne=ne>>>0,Pe||qe(this,Y,ne,2,32767,-32768),this[ne]=Y>>>8,this[ne+1]=Y&255,ne+2},A.prototype.writeInt32LE=function(Y,ne,Pe){return Y=+Y,ne=ne>>>0,Pe||qe(this,Y,ne,4,2147483647,-2147483648),this[ne]=Y&255,this[ne+1]=Y>>>8,this[ne+2]=Y>>>16,this[ne+3]=Y>>>24,ne+4},A.prototype.writeInt32BE=function(Y,ne,Pe){return Y=+Y,ne=ne>>>0,Pe||qe(this,Y,ne,4,2147483647,-2147483648),Y<0&&(Y=4294967295+Y+1),this[ne]=Y>>>24,this[ne+1]=Y>>>16,this[ne+2]=Y>>>8,this[ne+3]=Y&255,ne+4},A.prototype.writeBigInt64LE=Ue(function(Y,ne=0){return Ke(this,Y,ne,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeBigInt64BE=Ue(function(Y,ne=0){return ke(this,Y,ne,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function st(ue,Y,ne,Pe,We,ve){if(ne+Pe>ue.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("Index out of range")}function ot(ue,Y,ne,Pe,We){return Y=+Y,ne=ne>>>0,We||st(ue,Y,ne,4),h.write(ue,Y,ne,Pe,23,4),ne+4}A.prototype.writeFloatLE=function(Y,ne,Pe){return ot(this,Y,ne,!0,Pe)},A.prototype.writeFloatBE=function(Y,ne,Pe){return ot(this,Y,ne,!1,Pe)};function it(ue,Y,ne,Pe,We){return Y=+Y,ne=ne>>>0,We||st(ue,Y,ne,8),h.write(ue,Y,ne,Pe,52,8),ne+8}A.prototype.writeDoubleLE=function(Y,ne,Pe){return it(this,Y,ne,!0,Pe)},A.prototype.writeDoubleBE=function(Y,ne,Pe){return it(this,Y,ne,!1,Pe)},A.prototype.copy=function(Y,ne,Pe,We){if(!A.isBuffer(Y))throw new TypeError("argument should be a Buffer");if(Pe||(Pe=0),!We&&We!==0&&(We=this.length),ne>=Y.length&&(ne=Y.length),ne||(ne=0),We>0&&We<Pe&&(We=Pe),We===Pe||Y.length===0||this.length===0)return 0;if(ne<0)throw new RangeError("targetStart out of bounds");if(Pe<0||Pe>=this.length)throw new RangeError("Index out of range");if(We<0)throw new RangeError("sourceEnd out of bounds");We>this.length&&(We=this.length),Y.length-ne<We-Pe&&(We=Y.length-ne+Pe);const ve=We-Pe;return this===Y&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(ne,Pe,We):Uint8Array.prototype.set.call(Y,this.subarray(Pe,We),ne),ve},A.prototype.fill=function(Y,ne,Pe,We){if(typeof Y=="string"){if(typeof ne=="string"?(We=ne,ne=0,Pe=this.length):typeof Pe=="string"&&(We=Pe,Pe=this.length),We!==void 0&&typeof We!="string")throw new TypeError("encoding must be a string");if(typeof We=="string"&&!A.isEncoding(We))throw new TypeError("Unknown encoding: "+We);if(Y.length===1){const he=Y.charCodeAt(0);(We==="utf8"&&he<128||We==="latin1")&&(Y=he)}}else typeof Y=="number"?Y=Y&255:typeof Y=="boolean"&&(Y=Number(Y));if(ne<0||this.length<ne||this.length<Pe)throw new RangeError("Out of range index");if(Pe<=ne)return this;ne=ne>>>0,Pe=Pe===void 0?this.length:Pe>>>0,Y||(Y=0);let ve;if(typeof Y=="number")for(ve=ne;ve<Pe;++ve)this[ve]=Y;else{const he=A.isBuffer(Y)?Y:A.from(Y,We),Ye=he.length;if(Ye===0)throw new TypeError('The value "'+Y+'" is invalid for argument "value"');for(ve=0;ve<Pe-ne;++ve)this[ve+ne]=he[ve%Ye]}return this};const ft={};function Et(ue,Y,ne){ft[ue]=class extends ne{constructor(){super(),Object.defineProperty(this,"message",{value:Y.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ue}]`,this.stack,delete this.name}get code(){return ue}set code(We){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:We,writable:!0})}toString(){return`${this.name} [${ue}]: ${this.message}`}}}Et("ERR_BUFFER_OUT_OF_BOUNDS",function(ue){return ue?`${ue} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Et("ERR_INVALID_ARG_TYPE",function(ue,Y){return`The "${ue}" argument must be of type number. Received type ${typeof Y}`},TypeError),Et("ERR_OUT_OF_RANGE",function(ue,Y,ne){let Pe=`The value of "${ue}" is out of range.`,We=ne;return Number.isInteger(ne)&&Math.abs(ne)>4294967296?We=gt(String(ne)):typeof ne=="bigint"&&(We=String(ne),(ne>BigInt(2)**BigInt(32)||ne<-(BigInt(2)**BigInt(32)))&&(We=gt(We)),We+="n"),Pe+=` It must be ${Y}. Received ${We}`,Pe},RangeError);function gt(ue){let Y="",ne=ue.length;const Pe=ue[0]==="-"?1:0;for(;ne>=Pe+4;ne-=3)Y=`_${ue.slice(ne-3,ne)}${Y}`;return`${ue.slice(0,ne)}${Y}`}function Ct(ue,Y,ne){Dt(Y,"offset"),(ue[Y]===void 0||ue[Y+ne]===void 0)&&Yt(Y,ue.length-(ne+1))}function Tt(ue,Y,ne,Pe,We,ve){if(ue>ne||ue<Y){const he=typeof Y=="bigint"?"n":"";let Ye;throw ve>3?Y===0||Y===BigInt(0)?Ye=`>= 0${he} and < 2${he} ** ${(ve+1)*8}${he}`:Ye=`>= -(2${he} ** ${(ve+1)*8-1}${he}) and < 2 ** ${(ve+1)*8-1}${he}`:Ye=`>= ${Y}${he} and <= ${ne}${he}`,new ft.ERR_OUT_OF_RANGE("value",Ye,ue)}Ct(Pe,We,ve)}function Dt(ue,Y){if(typeof ue!="number")throw new ft.ERR_INVALID_ARG_TYPE(Y,"number",ue)}function Yt(ue,Y,ne){throw Math.floor(ue)!==ue?(Dt(ue,ne),new ft.ERR_OUT_OF_RANGE(ne||"offset","an integer",ue)):Y<0?new ft.ERR_BUFFER_OUT_OF_BOUNDS:new ft.ERR_OUT_OF_RANGE(ne||"offset",`>= ${ne?1:0} and <= ${Y}`,ue)}const Ve=/[^+/0-9A-Za-z-_]/g;function ye(ue){if(ue=ue.split("=")[0],ue=ue.trim().replace(Ve,""),ue.length<2)return"";for(;ue.length%4!==0;)ue=ue+"=";return ue}function fe(ue,Y){Y=Y||1/0;let ne;const Pe=ue.length;let We=null;const ve=[];for(let he=0;he<Pe;++he){if(ne=ue.charCodeAt(he),ne>55295&&ne<57344){if(!We){if(ne>56319){(Y-=3)>-1&&ve.push(239,191,189);continue}else if(he+1===Pe){(Y-=3)>-1&&ve.push(239,191,189);continue}We=ne;continue}if(ne<56320){(Y-=3)>-1&&ve.push(239,191,189),We=ne;continue}ne=(We-55296<<10|ne-56320)+65536}else We&&(Y-=3)>-1&&ve.push(239,191,189);if(We=null,ne<128){if((Y-=1)<0)break;ve.push(ne)}else if(ne<2048){if((Y-=2)<0)break;ve.push(ne>>6|192,ne&63|128)}else if(ne<65536){if((Y-=3)<0)break;ve.push(ne>>12|224,ne>>6&63|128,ne&63|128)}else if(ne<1114112){if((Y-=4)<0)break;ve.push(ne>>18|240,ne>>12&63|128,ne>>6&63|128,ne&63|128)}else throw new Error("Invalid code point")}return ve}function pe(ue){const Y=[];for(let ne=0;ne<ue.length;++ne)Y.push(ue.charCodeAt(ne)&255);return Y}function _e(ue,Y){let ne,Pe,We;const ve=[];for(let he=0;he<ue.length&&!((Y-=2)<0);++he)ne=ue.charCodeAt(he),Pe=ne>>8,We=ne%256,ve.push(We),ve.push(Pe);return ve}function Ce(ue){return d.toByteArray(ye(ue))}function Se(ue,Y,ne,Pe){let We;for(We=0;We<Pe&&!(We+ne>=Y.length||We>=ue.length);++We)Y[We+ne]=ue[We];return We}function we(ue,Y){return ue instanceof Y||ue!=null&&ue.constructor!=null&&ue.constructor.name!=null&&ue.constructor.name===Y.name}function je(ue){return ue!==ue}const Ae=function(){const ue="0123456789abcdef",Y=new Array(256);for(let ne=0;ne<16;++ne){const Pe=ne*16;for(let We=0;We<16;++We)Y[Pe+We]=ue[ne]+ue[We]}return Y}();function Ue(ue){return typeof BigInt>"u"?et:ue}function et(){throw new Error("BigInt not supported")}},"./node_modules/css-loader/dist/runtime/api.js":l=>{l.exports=function(u){var c=[];return c.toString=function(){return this.map(function(h){var p="",m=typeof h[5]<"u";return h[4]&&(p+="@supports (".concat(h[4],") {")),h[2]&&(p+="@media ".concat(h[2]," {")),m&&(p+="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {")),p+=u(h),m&&(p+="}"),h[2]&&(p+="}"),h[4]&&(p+="}"),p}).join("")},c.i=function(h,p,m,v,y){typeof h=="string"&&(h=[[null,h,void 0]]);var A={};if(m)for(var b=0;b<this.length;b++){var g=this[b][0];g!=null&&(A[g]=!0)}for(var w=0;w<h.length;w++){var E=[].concat(h[w]);m&&A[E[0]]||(typeof y<"u"&&(typeof E[5]>"u"||(E[1]="@layer".concat(E[5].length>0?" ".concat(E[5]):""," {").concat(E[1],"}")),E[5]=y),p&&(E[2]&&(E[1]="@media ".concat(E[2]," {").concat(E[1],"}")),E[2]=p),v&&(E[4]?(E[1]="@supports (".concat(E[4],") {").concat(E[1],"}"),E[4]=v):E[4]="".concat(v)),c.push(E))}},c}},"./node_modules/css-loader/dist/runtime/getUrl.js":l=>{l.exports=function(u,c){return c||(c={}),u&&(u=String(u.__esModule?u.default:u),/^['"].*['"]$/.test(u)&&(u=u.slice(1,-1)),c.hash&&(u+=c.hash),/["'() \t\n]|(%20)/.test(u)||c.needQuotes?'"'.concat(u.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):u)}},"./node_modules/css-loader/dist/runtime/sourceMaps.js":l=>{l.exports=function(u){var c=u[1],d=u[3];if(!d)return c;if(typeof btoa=="function"){var h=btoa(unescape(encodeURIComponent(JSON.stringify(d)))),p="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(h),m="/*# ".concat(p," */");return[c].concat([m]).join(`
`)}return[c].join(`
`)}},"./node_modules/custom-event-polyfill/polyfill.js":()=>{(function(){if(!(typeof window>"u"))try{var l=new window.CustomEvent("test",{cancelable:!0});if(l.preventDefault(),l.defaultPrevented!==!0)throw new Error("Could not prevent default")}catch{var u=function(d,h){var p,m;return h=h||{},h.bubbles=!!h.bubbles,h.cancelable=!!h.cancelable,p=document.createEvent("CustomEvent"),p.initCustomEvent(d,h.bubbles,h.cancelable,h.detail),m=p.preventDefault,p.preventDefault=function(){m.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch{this.defaultPrevented=!0}},p};u.prototype=window.Event.prototype,window.CustomEvent=u}})()},"./node_modules/debug/browser.js":(l,u,c)=>{u=l.exports=c("./node_modules/debug/debug.js"),u.log=p,u.formatArgs=h,u.save=m,u.load=v,u.useColors=d,u.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:y(),u.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function d(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}u.formatters.j=function(A){return JSON.stringify(A)};function h(){var A=arguments,b=this.useColors;if(A[0]=(b?"%c":"")+this.namespace+(b?" %c":" ")+A[0]+(b?"%c ":" "),!b)return A;var g="color: "+this.color;A=[A[0],g,"color: inherit"].concat(Array.prototype.slice.call(A,1));var w=0,E=0;return A[0].replace(/%[a-z%]/g,function(C){C!=="%%"&&(w++,C==="%c"&&(E=w))}),A.splice(E,0,g),A}function p(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function m(A){try{A==null?u.storage.removeItem("debug"):u.storage.debug=A}catch{}}function v(){var A;try{A=u.storage.debug}catch{}return A}u.enable(v());function y(){try{return window.localStorage}catch{}}},"./node_modules/debug/debug.js":(l,u)=>{u=l.exports=h,u.coerce=y,u.disable=m,u.enable=p,u.enabled=v,u.names=[],u.skips=[],u.formatters={};var c=0;function d(){return u.colors[c++%u.colors.length]}function h(A){function b(){}b.enabled=!1;function g(){var E=g;E.useColors==null&&(E.useColors=u.useColors()),E.color==null&&E.useColors&&(E.color=d());var C=Array.prototype.slice.call(arguments);C[0]=u.coerce(C[0]),typeof C[0]!="string"&&(C=["%o"].concat(C));var _=0;C[0]=C[0].replace(/%([a-z%])/g,function(R,L){if(R==="%%")return R;_++;var T=u.formatters[L];if(typeof T=="function"){var D=C[_];R=T.call(E,D),C.splice(_,1),_--}return R}),typeof u.formatArgs=="function"&&(C=u.formatArgs.apply(E,C));var P=g.log||u.log||console.log.bind(console);P.apply(E,C)}g.enabled=!0;var w=u.enabled(A)?g:b;return w.namespace=A,w}function p(A){u.save(A);for(var b=(A||"").split(/[\s,]+/),g=b.length,w=0;w<g;w++)b[w]&&(A=b[w].replace(/\*/g,".*?"),A[0]==="-"?u.skips.push(new RegExp("^"+A.substr(1)+"$")):u.names.push(new RegExp("^"+A+"$")))}function m(){u.enable("")}function v(A){var b,g;for(b=0,g=u.skips.length;b<g;b++)if(u.skips[b].test(A))return!1;for(b=0,g=u.names.length;b<g;b++)if(u.names[b].test(A))return!0;return!1}function y(A){return A instanceof Error?A.stack||A.message:A}},"./node_modules/deep-assign/index.js":(l,u,c)=>{var d=c("./node_modules/is-obj/index.js"),h=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;function m(A){if(A==null)throw new TypeError("Sources cannot be null or undefined");return Object(A)}function v(A,b,g){var w=b[g];if(w!=null){if(h.call(A,g)&&(A[g]===void 0||A[g]===null))throw new TypeError("Cannot convert undefined or null to object ("+g+")");!h.call(A,g)||!d(w)?A[g]=w:A[g]=y(Object(A[g]),b[g])}}function y(A,b){if(A===b)return A;b=Object(b);for(var g in b)h.call(b,g)&&v(A,b,g);if(Object.getOwnPropertySymbols)for(var w=Object.getOwnPropertySymbols(b),E=0;E<w.length;E++)p.call(b,w[E])&&v(A,b,w[E]);return A}l.exports=function(b){b=m(b);for(var g=1;g<arguments.length;g++)y(b,arguments[g]);return b}},"./node_modules/dtype/index.js":l=>{l.exports=function(u){switch(u){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},"./node_modules/flatten-vertex-data/index.js":(l,u,c)=>{var d=c("./node_modules/dtype/index.js");l.exports=h;function h(p,m,v){if(!p)throw new TypeError("must specify data as first parameter");if(v=+(v||0)|0,Array.isArray(p)&&p[0]&&typeof p[0][0]=="number"){var y=p[0].length,A=p.length*y,b,g,w,E;(!m||typeof m=="string")&&(m=new(d(m||"float32"))(A+v));var C=m.length-v;if(A!==C)throw new Error("source length "+A+" ("+y+"x"+p.length+") does not match destination length "+C);for(b=0,w=v;b<p.length;b++)for(g=0;g<y;g++)m[w++]=p[b][g]===null?NaN:p[b][g]}else if(!m||typeof m=="string"){var _=d(m||"float32");if(Array.isArray(p)||m==="array")for(m=new _(p.length+v),b=0,w=v,E=m.length;w<E;w++,b++)m[w]=p[b]===null?NaN:p[b];else v===0?m=new _(p):(m=new _(p.length+v),m.set(p,v))}else m.set(p,v);return m}},"./node_modules/global/window.js":(l,u,c)=>{var d;typeof window<"u"?d=window:typeof c.g<"u"?d=c.g:typeof self<"u"?d=self:d={},l.exports=d},"./node_modules/ieee754/index.js":(l,u)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */u.read=function(c,d,h,p,m){var v,y,A=m*8-p-1,b=(1<<A)-1,g=b>>1,w=-7,E=h?m-1:0,C=h?-1:1,_=c[d+E];for(E+=C,v=_&(1<<-w)-1,_>>=-w,w+=A;w>0;v=v*256+c[d+E],E+=C,w-=8);for(y=v&(1<<-w)-1,v>>=-w,w+=p;w>0;y=y*256+c[d+E],E+=C,w-=8);if(v===0)v=1-g;else{if(v===b)return y?NaN:(_?-1:1)*(1/0);y=y+Math.pow(2,p),v=v-g}return(_?-1:1)*y*Math.pow(2,v-p)},u.write=function(c,d,h,p,m,v){var y,A,b,g=v*8-m-1,w=(1<<g)-1,E=w>>1,C=m===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=p?0:v-1,P=p?1:-1,R=d<0||d===0&&1/d<0?1:0;for(d=Math.abs(d),isNaN(d)||d===1/0?(A=isNaN(d)?1:0,y=w):(y=Math.floor(Math.log(d)/Math.LN2),d*(b=Math.pow(2,-y))<1&&(y--,b*=2),y+E>=1?d+=C/b:d+=C*Math.pow(2,1-E),d*b>=2&&(y++,b/=2),y+E>=w?(A=0,y=w):y+E>=1?(A=(d*b-1)*Math.pow(2,m),y=y+E):(A=d*Math.pow(2,E-1)*Math.pow(2,m),y=0));m>=8;c[h+_]=A&255,_+=P,A/=256,m-=8);for(y=y<<m|A,g+=m;g>0;c[h+_]=y&255,_+=P,y/=256,g-=8);c[h+_-P]|=R*128}},"./node_modules/inherits/inherits_browser.js":l=>{typeof Object.create=="function"?l.exports=function(c,d){d&&(c.super_=d,c.prototype=Object.create(d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}))}:l.exports=function(c,d){if(d){c.super_=d;var h=function(){};h.prototype=d.prototype,c.prototype=new h,c.prototype.constructor=c}}},"./node_modules/is-buffer/index.js":l=>{/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */l.exports=function(d){return d!=null&&(u(d)||c(d)||!!d._isBuffer)};function u(d){return!!d.constructor&&typeof d.constructor.isBuffer=="function"&&d.constructor.isBuffer(d)}function c(d){return typeof d.readFloatLE=="function"&&typeof d.slice=="function"&&u(d.slice(0,0))}},"./node_modules/is-function/index.js":l=>{l.exports=c;var u=Object.prototype.toString;function c(d){if(!d)return!1;var h=u.call(d);return h==="[object Function]"||typeof d=="function"&&h!=="[object RegExp]"||typeof window<"u"&&(d===window.setTimeout||d===window.alert||d===window.confirm||d===window.prompt)}},"./node_modules/is-obj/index.js":l=>{l.exports=function(u){var c=typeof u;return u!==null&&(c==="object"||c==="function")}},"./node_modules/layout-bmfont-text/index.js":(l,u,c)=>{var d=c("./node_modules/word-wrapper/index.js"),h=c("./node_modules/xtend/immutable.js"),p=c("./node_modules/as-number/index.js"),m=["x","e","a","o","n","s","r","c","u","m","v","w","z"],v=["m","w"],y=["H","I","N","E","F","K","L","T","U","V","W","X","Y","Z"],A="	".charCodeAt(0),b=" ".charCodeAt(0),g=0,w=1,E=2;l.exports=function(F){return new C(F)};function C(O){this.glyphs=[],this._measure=this.computeMetrics.bind(this),this.update(O)}C.prototype.update=function(O){if(O=h({measure:this._measure},O),this._opt=O,this._opt.tabSize=p(this._opt.tabSize,4),!O.font)throw new Error("must provide a valid bitmap font");var F=this.glyphs,N=O.text||"",z=O.font;this._setupSpaceGlyphs(z);var j=d.lines(N,O),G=O.width||0;F.length=0;var Q=j.reduce(function(qe,Ke){return Math.max(qe,Ke.width,G)},0),X=0,J=0,Z=p(O.lineHeight,z.common.lineHeight),oe=z.common.base,ce=Z-oe,Be=O.letterSpacing||0,ge=Z*j.length-ce,Re=V(this._opt.align);J-=ge,this._width=Q,this._height=ge,this._descender=Z-oe,this._baseline=oe,this._xHeight=L(z),this._capHeight=D(z),this._lineHeight=Z,this._ascender=Z-ce-this._xHeight;var $e=this;j.forEach(function(qe,Ke){for(var ke=qe.start,st=qe.end,ot=qe.width,it,ft=ke;ft<st;ft++){var Et=N.charCodeAt(ft),gt=$e.getGlyph(z,Et);if(gt){it&&(X+=H(z,it.id,gt.id));var Ct=X;Re===w?Ct+=(Q-ot)/2:Re===E&&(Ct+=Q-ot),F.push({position:[Ct,J],data:gt,index:ft,line:Ke}),X+=gt.xadvance+Be,it=gt}}J+=Z,X=0}),this._linesTotal=j.length},C.prototype._setupSpaceGlyphs=function(O){if(this._fallbackSpaceGlyph=null,this._fallbackTabGlyph=null,!(!O.chars||O.chars.length===0)){var F=R(O,b)||T(O)||O.chars[0],N=this._opt.tabSize*F.xadvance;this._fallbackSpaceGlyph=F,this._fallbackTabGlyph=h(F,{x:0,y:0,xadvance:N,id:A,xoffset:0,yoffset:0,width:0,height:0})}},C.prototype.getGlyph=function(O,F){var N=R(O,F);return N||(F===A?this._fallbackTabGlyph:F===b?this._fallbackSpaceGlyph:null)},C.prototype.computeMetrics=function(O,F,N,z){var j=this._opt.letterSpacing||0,G=this._opt.font,Q=0,X=0,J=0,Z,oe;if(!G.chars||G.chars.length===0)return{start:F,end:F,width:0};N=Math.min(O.length,N);for(var ce=F;ce<N;ce++){var Be=O.charCodeAt(ce),Z=this.getGlyph(G,Be);if(Z){Z.xoffset;var ge=oe?H(G,oe.id,Z.id):0;Q+=ge;var Re=Q+Z.xadvance+j,$e=Q+Z.width;if($e>=z||Re>=z)break;Q=Re,X=$e,oe=Z}J++}return oe&&(X+=oe.xoffset),{start:F,end:F+J,width:X}},["width","height","descender","ascender","xHeight","baseline","capHeight","lineHeight"].forEach(_);function _(O){Object.defineProperty(C.prototype,O,{get:P(O),configurable:!0})}function P(O){return new Function(["return function "+O+"() {","  return this._"+O,"}"].join(`
`))()}function R(O,F){if(!O.chars||O.chars.length===0)return null;var N=B(O.chars,F);return N>=0?O.chars[N]:null}function L(O){for(var F=0;F<m.length;F++){var N=m[F].charCodeAt(0),z=B(O.chars,N);if(z>=0)return O.chars[z].height}return 0}function T(O){for(var F=0;F<v.length;F++){var N=v[F].charCodeAt(0),z=B(O.chars,N);if(z>=0)return O.chars[z]}return 0}function D(O){for(var F=0;F<y.length;F++){var N=y[F].charCodeAt(0),z=B(O.chars,N);if(z>=0)return O.chars[z].height}return 0}function H(O,F,N){if(!O.kernings||O.kernings.length===0)return 0;for(var z=O.kernings,j=0;j<z.length;j++){var G=z[j];if(G.first===F&&G.second===N)return G.amount}return 0}function V(O){return O==="center"?w:O==="right"?E:g}function B(O,F,N){N=N||0;for(var z=N;z<O.length;z++)if(O[z].id===F)return z;return-1}},"./node_modules/load-bmfont/browser.js":(l,u,c)=>{var d=c("./node_modules/buffer/index.js").Buffer,h=c("./node_modules/xhr/index.js"),p=function(){},m=c("./node_modules/parse-bmfont-ascii/index.js"),v=c("./node_modules/parse-bmfont-xml/lib/browser.js"),y=c("./node_modules/parse-bmfont-binary/index.js"),A=c("./node_modules/load-bmfont/lib/is-binary.js"),b=c("./node_modules/xtend/immutable.js"),g=function(){return self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}();l.exports=function(C,_){_=typeof _=="function"?_:p,typeof C=="string"?C={uri:C}:C||(C={});var P=C.binary;P&&(C=E(C)),h(C,function(R,L,T){if(R)return _(R);if(!/^2/.test(L.statusCode))return _(new Error("http status code: "+L.statusCode));if(!T)return _(new Error("no body result"));var D=!1;if(w(T)){var H=new Uint8Array(T);T=d.from(H,"binary")}A(T)&&(D=!0,typeof T=="string"&&(T=d.from(T,"binary"))),D||(d.isBuffer(T)&&(T=T.toString(C.encoding)),T=T.trim());var V;try{var B=L.headers["content-type"];D?V=y(T):/json/.test(B)||T.charAt(0)==="{"?V=JSON.parse(T):/xml/.test(B)||T.charAt(0)==="<"?V=v(T):V=m(T)}catch(O){_(new Error("error parsing font "+O.message)),_=p}_(null,V)})};function w(C){var _=Object.prototype.toString;return _.call(C)==="[object ArrayBuffer]"}function E(C){if(g)return b(C,{responseType:"arraybuffer"});if(typeof self.XMLHttpRequest>"u")throw new Error("your browser does not support XHR loading");var _=new self.XMLHttpRequest;return _.overrideMimeType("text/plain; charset=x-user-defined"),b({xhr:_},C)}},"./node_modules/load-bmfont/lib/is-binary.js":(l,u,c)=>{var d=c("./node_modules/buffer/index.js").Buffer,h=c("./node_modules/buffer-equal/index.js"),p=d.from([66,77,70,3]);l.exports=function(m){return typeof m=="string"?m.substring(0,3)==="BMF":m.length>4&&h(m.slice(0,4),p)}},"./node_modules/object-assign/index.js":l=>{/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var u=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable;function h(m){if(m==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(m)}function p(){try{if(!Object.assign)return!1;var m=new String("abc");if(m[5]="de",Object.getOwnPropertyNames(m)[0]==="5")return!1;for(var v={},y=0;y<10;y++)v["_"+String.fromCharCode(y)]=y;var A=Object.getOwnPropertyNames(v).map(function(g){return v[g]});if(A.join("")!=="0123456789")return!1;var b={};return"abcdefghijklmnopqrst".split("").forEach(function(g){b[g]=g}),Object.keys(Object.assign({},b)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}l.exports=p()?Object.assign:function(m,v){for(var y,A=h(m),b,g=1;g<arguments.length;g++){y=Object(arguments[g]);for(var w in y)c.call(y,w)&&(A[w]=y[w]);if(u){b=u(y);for(var E=0;E<b.length;E++)d.call(y,b[E])&&(A[b[E]]=y[b[E]])}}return A}},"./node_modules/parse-bmfont-ascii/index.js":l=>{l.exports=function(p){if(!p)throw new Error("no data provided");p=p.toString().trim();var m={pages:[],chars:[],kernings:[]},v=p.split(/\r\n?|\n/g);if(v.length===0)throw new Error("no data in BMFont file");for(var y=0;y<v.length;y++){var A=u(v[y],y);if(A)if(A.key==="page"){if(typeof A.data.id!="number")throw new Error("malformed file at line "+y+" -- needs page id=N");if(typeof A.data.file!="string")throw new Error("malformed file at line "+y+' -- needs page file="path"');m.pages[A.data.id]=A.data.file}else A.key==="chars"||A.key==="kernings"||(A.key==="char"?m.chars.push(A.data):A.key==="kerning"?m.kernings.push(A.data):m[A.key]=A.data)}return m};function u(h,p){if(h=h.replace(/\t+/g," ").trim(),!h)return null;var m=h.indexOf(" ");if(m===-1)throw new Error("no named row at line "+p);var v=h.substring(0,m);h=h.substring(m+1),h=h.replace(/letter=[\'\"]\S+[\'\"]/gi,""),h=h.split("="),h=h.map(function(w){return w.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var y=[],A=0;A<h.length;A++){var b=h[A];A===0?y.push({key:b[0],data:""}):A===h.length-1?y[y.length-1].data=c(b[0]):(y[y.length-1].data=c(b[0]),y.push({key:b[1],data:""}))}var g={key:v,data:{}};return y.forEach(function(w){g.data[w.key]=w.data}),g}function c(h){return!h||h.length===0?"":h.indexOf('"')===0||h.indexOf("'")===0?h.substring(1,h.length-1):h.indexOf(",")!==-1?d(h):parseInt(h,10)}function d(h){return h.split(",").map(function(p){return parseInt(p,10)})}},"./node_modules/parse-bmfont-binary/index.js":l=>{var u=[66,77,70];l.exports=function(g){if(g.length<6)throw new Error("invalid buffer length for BMFont");var w=u.every(function(R,L){return g.readUInt8(L)===R});if(!w)throw new Error("BMFont missing BMF byte header");var E=3,C=g.readUInt8(E++);if(C>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var _={kernings:[],chars:[]},P=0;P<5;P++)E+=c(_,g,E);return _};function c(b,g,w){if(w>g.length-1)return 0;var E=g.readUInt8(w++),C=g.readInt32LE(w);switch(w+=4,E){case 1:b.info=d(g,w);break;case 2:b.common=h(g,w);break;case 3:b.pages=p(g,w,C);break;case 4:b.chars=m(g,w,C);break;case 5:b.kernings=v(g,w,C);break}return 5+C}function d(b,g){var w={};w.size=b.readInt16LE(g);var E=b.readUInt8(g+2);return w.smooth=E>>7&1,w.unicode=E>>6&1,w.italic=E>>5&1,w.bold=E>>4&1,E>>3&1&&(w.fixedHeight=1),w.charset=b.readUInt8(g+3)||"",w.stretchH=b.readUInt16LE(g+4),w.aa=b.readUInt8(g+6),w.padding=[b.readInt8(g+7),b.readInt8(g+8),b.readInt8(g+9),b.readInt8(g+10)],w.spacing=[b.readInt8(g+11),b.readInt8(g+12)],w.outline=b.readUInt8(g+13),w.face=A(b,g+14),w}function h(b,g){var w={};return w.lineHeight=b.readUInt16LE(g),w.base=b.readUInt16LE(g+2),w.scaleW=b.readUInt16LE(g+4),w.scaleH=b.readUInt16LE(g+6),w.pages=b.readUInt16LE(g+8),b.readUInt8(g+10),w.packed=0,w.alphaChnl=b.readUInt8(g+11),w.redChnl=b.readUInt8(g+12),w.greenChnl=b.readUInt8(g+13),w.blueChnl=b.readUInt8(g+14),w}function p(b,g,w){for(var E=[],C=y(b,g),_=C.length+1,P=w/_,R=0;R<P;R++)E[R]=b.slice(g,g+C.length).toString("utf8"),g+=_;return E}function m(b,g,w){for(var E=[],C=w/20,_=0;_<C;_++){var P={},R=_*20;P.id=b.readUInt32LE(g+0+R),P.x=b.readUInt16LE(g+4+R),P.y=b.readUInt16LE(g+6+R),P.width=b.readUInt16LE(g+8+R),P.height=b.readUInt16LE(g+10+R),P.xoffset=b.readInt16LE(g+12+R),P.yoffset=b.readInt16LE(g+14+R),P.xadvance=b.readInt16LE(g+16+R),P.page=b.readUInt8(g+18+R),P.chnl=b.readUInt8(g+19+R),E[_]=P}return E}function v(b,g,w){for(var E=[],C=w/10,_=0;_<C;_++){var P={},R=_*10;P.first=b.readUInt32LE(g+0+R),P.second=b.readUInt32LE(g+4+R),P.amount=b.readInt16LE(g+8+R),E[_]=P}return E}function y(b,g){for(var w=g;w<b.length&&b[w]!==0;w++);return b.slice(g,w)}function A(b,g){return y(b,g).toString("utf8")}},"./node_modules/parse-bmfont-xml/lib/browser.js":(l,u,c)=>{var d=c("./node_modules/parse-bmfont-xml/lib/parse-attribs.js"),h=c("./node_modules/xml-parse-from-string/index.js"),p={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};l.exports=function(b){b=b.toString();var g=h(b),w={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(T){var D=g.getElementsByTagName(T)[0];D&&(w[T]=d(m(D)))});var E=g.getElementsByTagName("pages")[0];if(!E)throw new Error("malformed file -- no <pages> element");for(var C=E.getElementsByTagName("page"),_=0;_<C.length;_++){var P=C[_],R=parseInt(P.getAttribute("id"),10),L=P.getAttribute("file");if(isNaN(R))throw new Error('malformed file -- page "id" attribute is NaN');if(!L)throw new Error('malformed file -- needs page "file" attribute');w.pages[parseInt(R,10)]=L}return["chars","kernings"].forEach(function(T){var D=g.getElementsByTagName(T)[0];if(D)for(var H=T.substring(0,T.length-1),V=D.getElementsByTagName(H),B=0;B<V.length;B++){var O=V[B];w[T].push(d(m(O)))}}),w};function m(A){var b=v(A);return b.reduce(function(g,w){var E=y(w.nodeName);return g[E]=w.nodeValue,g},{})}function v(A){for(var b=[],g=0;g<A.attributes.length;g++)b.push(A.attributes[g]);return b}function y(A){return p[A.toLowerCase()]||A}},"./node_modules/parse-bmfont-xml/lib/parse-attribs.js":l=>{var u="chasrset";l.exports=function(h){u in h&&(h.charset=h[u],delete h[u]);for(var p in h)p==="face"||p==="charset"||(p==="padding"||p==="spacing"?h[p]=c(h[p]):h[p]=parseInt(h[p],10));return h};function c(d){return d.split(",").map(function(h){return parseInt(h,10)})}},"./node_modules/parse-headers/parse-headers.js":l=>{var u=function(d){return d.replace(/^\s+|\s+$/g,"")},c=function(d){return Object.prototype.toString.call(d)==="[object Array]"};l.exports=function(d){if(!d)return{};for(var h={},p=u(d).split(`
`),m=0;m<p.length;m++){var v=p[m],y=v.indexOf(":"),A=u(v.slice(0,y)).toLowerCase(),b=u(v.slice(y+1));typeof h[A]>"u"?h[A]=b:c(h[A])?h[A].push(b):h[A]=[h[A],b]}return h}},"./node_modules/present/lib/present-browser.js":(l,u,c)=>{var d=c.g.performance||{},h=function(){for(var p=["now","webkitNow","msNow","mozNow","oNow"];p.length;){var m=p.shift();if(m in d)return d[m].bind(d)}var v=Date.now||function(){return new Date().getTime()},y=(d.timing||{}).navigationStart||v();return function(){return v()-y}}();h.performanceNow=d.now,h.noConflict=function(){d.now=h.performanceNow},h.conflict=function(){d.now=h},h.conflict(),l.exports=h},"./node_modules/process/browser.js":l=>{var u=l.exports={},c,d;function h(){throw new Error("setTimeout has not been defined")}function p(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?c=setTimeout:c=h}catch{c=h}try{typeof clearTimeout=="function"?d=clearTimeout:d=p}catch{d=p}})();function m(P){if(c===setTimeout)return setTimeout(P,0);if((c===h||!c)&&setTimeout)return c=setTimeout,setTimeout(P,0);try{return c(P,0)}catch{try{return c.call(null,P,0)}catch{return c.call(this,P,0)}}}function v(P){if(d===clearTimeout)return clearTimeout(P);if((d===p||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(P);try{return d(P)}catch{try{return d.call(null,P)}catch{return d.call(this,P)}}}var y=[],A=!1,b,g=-1;function w(){!A||!b||(A=!1,b.length?y=b.concat(y):g=-1,y.length&&E())}function E(){if(!A){var P=m(w);A=!0;for(var R=y.length;R;){for(b=y,y=[];++g<R;)b&&b[g].run();g=-1,R=y.length}b=null,A=!1,v(P)}}u.nextTick=function(P){var R=new Array(arguments.length-1);if(arguments.length>1)for(var L=1;L<arguments.length;L++)R[L-1]=arguments[L];y.push(new C(P,R)),y.length===1&&!A&&m(E)};function C(P,R){this.fun=P,this.array=R}C.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={};function _(){}u.on=_,u.addListener=_,u.once=_,u.off=_,u.removeListener=_,u.removeAllListeners=_,u.emit=_,u.prependListener=_,u.prependOnceListener=_,u.listeners=function(P){return[]},u.binding=function(P){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(P){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},"./node_modules/promise-polyfill/Promise.js":function(l){(function(u){var c=setTimeout,d=typeof setImmediate=="function"&&setImmediate||function(E){c(E,1)};function h(E,C){return function(){E.apply(C,arguments)}}var p=Array.isArray||function(E){return Object.prototype.toString.call(E)==="[object Array]"};function m(E){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof E!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],w(E,h(y,this),h(A,this))}function v(E){var C=this;if(this._state===null){this._deferreds.push(E);return}d(function(){var _=C._state?E.onFulfilled:E.onRejected;if(_===null){(C._state?E.resolve:E.reject)(C._value);return}var P;try{P=_(C._value)}catch(R){E.reject(R);return}E.resolve(P)})}function y(E){try{if(E===this)throw new TypeError("A promise cannot be resolved with itself.");if(E&&(typeof E=="object"||typeof E=="function")){var C=E.then;if(typeof C=="function"){w(h(C,E),h(y,this),h(A,this));return}}this._state=!0,this._value=E,b.call(this)}catch(_){A.call(this,_)}}function A(E){this._state=!1,this._value=E,b.call(this)}function b(){for(var E=0,C=this._deferreds.length;E<C;E++)v.call(this,this._deferreds[E]);this._deferreds=null}function g(E,C,_,P){this.onFulfilled=typeof E=="function"?E:null,this.onRejected=typeof C=="function"?C:null,this.resolve=_,this.reject=P}function w(E,C,_){var P=!1;try{E(function(R){P||(P=!0,C(R))},function(R){P||(P=!0,_(R))})}catch(R){if(P)return;P=!0,_(R)}}m.prototype.catch=function(E){return this.then(null,E)},m.prototype.then=function(E,C){var _=this;return new m(function(P,R){v.call(_,new g(E,C,P,R))})},m.all=function(){var E=Array.prototype.slice.call(arguments.length===1&&p(arguments[0])?arguments[0]:arguments);return new m(function(C,_){if(E.length===0)return C([]);var P=E.length;function R(T,D){try{if(D&&(typeof D=="object"||typeof D=="function")){var H=D.then;if(typeof H=="function"){H.call(D,function(V){R(T,V)},_);return}}E[T]=D,--P===0&&C(E)}catch(V){_(V)}}for(var L=0;L<E.length;L++)R(L,E[L])})},m.resolve=function(E){return E&&typeof E=="object"&&E.constructor===m?E:new m(function(C){C(E)})},m.reject=function(E){return new m(function(C,_){_(E)})},m.race=function(E){return new m(function(C,_){for(var P=0,R=E.length;P<R;P++)E[P].then(C,_)})},m._setImmediateFn=function(C){d=C},l.exports?l.exports=m:u.Promise||(u.Promise=m)})(this)},"./node_modules/quad-indices/index.js":(l,u,c)=>{var d=c("./node_modules/dtype/index.js"),h=c("./node_modules/an-array/index.js"),p=c("./node_modules/is-buffer/index.js"),m=[0,2,3],v=[2,1,3];l.exports=function(A,b){(!A||!(h(A)||p(A)))&&(b=A||{},A=null),typeof b=="number"?b={count:b}:b=b||{};for(var g=typeof b.type=="string"?b.type:"uint16",w=typeof b.count=="number"?b.count:1,E=b.start||0,C=b.clockwise!==!1?m:v,_=C[0],P=C[1],R=C[2],L=w*6,T=A||new(d(g))(L),D=0,H=0;D<L;D+=6,H+=4){var V=D+E;T[V+0]=H+0,T[V+1]=H+1,T[V+2]=H+2,T[V+3]=H+_,T[V+4]=H+P,T[V+5]=H+R}return T}},"./node_modules/super-animejs/lib/anime.es.js":(l,u,c)=>{c.r(u),c.d(u,{default:()=>wt});var d={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},h={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},p=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective"],m={CSS:{},springs:{}};function v(xe,De,tt){return Math.min(Math.max(xe,De),tt)}function y(xe,De){return xe.indexOf(De)>-1}function A(xe,De){return xe.apply(null,De)}var b=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,g=/^rgb/,w=/^hsl/,E={arr:function(xe){return Array.isArray(xe)},obj:function(xe){return y(Object.prototype.toString.call(xe),"Object")},pth:function(xe){return E.obj(xe)&&xe.hasOwnProperty("totalLength")},svg:function(xe){return xe instanceof SVGElement},inp:function(xe){return xe instanceof HTMLInputElement},dom:function(xe){return xe.nodeType||E.svg(xe)},str:function(xe){return typeof xe=="string"},fnc:function(xe){return typeof xe=="function"},und:function(xe){return typeof xe>"u"},hex:function(xe){return b.test(xe)},rgb:function(xe){return g.test(xe)},hsl:function(xe){return w.test(xe)},col:function(xe){return E.hex(xe)||E.rgb(xe)||E.hsl(xe)},key:function(xe){return!d.hasOwnProperty(xe)&&!h.hasOwnProperty(xe)&&xe!=="targets"&&xe!=="keyframes"}},C=/\(([^)]+)\)/;function _(xe){var De=C.exec(xe);return De?De[1].split(",").map(function(tt){return parseFloat(tt)}):[]}function P(xe,De){var tt=_(xe),St=v(E.und(tt[0])?1:tt[0],.1,100),Mt=v(E.und(tt[1])?100:tt[1],.1,100),Ut=v(E.und(tt[2])?10:tt[2],.1,100),Kt=v(E.und(tt[3])?0:tt[3],.1,100),gn=Math.sqrt(Mt/St),sn=Ut/(2*Math.sqrt(Mt*St)),Xt=sn<1?gn*Math.sqrt(1-sn*sn):0,$n=1,Nn=sn<1?(sn*gn+-Kt)/Xt:-Kt+gn;function er(kn){var fr=De?De*kn/1e3:kn;return sn<1?fr=Math.exp(-fr*sn*gn)*($n*Math.cos(Xt*fr)+Nn*Math.sin(Xt*fr)):fr=($n+Nn*fr)*Math.exp(-fr*gn),kn===0||kn===1?kn:1-fr}function br(){var kn=m.springs[xe];if(kn)return kn;for(var fr=1/6,sr=0,Nr=0;;)if(sr+=fr,er(sr)===1){if(Nr++,Nr>=16)break}else Nr=0;var or=sr*fr*1e3;return m.springs[xe]=or,or}return De?er:br}function R(xe,De){xe===void 0&&(xe=1),De===void 0&&(De=.5);var tt=v(xe,1,10),St=v(De,.1,2);return function(Mt){return Mt===0||Mt===1?Mt:-tt*Math.pow(2,10*(Mt-1))*Math.sin((Mt-1-St/(Math.PI*2)*Math.asin(1/tt))*(Math.PI*2)/St)}}function L(xe){return xe===void 0&&(xe=10),function(De){return Math.round(De*xe)*(1/xe)}}var T=function(){var xe=11,De=1/(xe-1);function tt($n,Nn){return 1-3*Nn+3*$n}function St($n,Nn){return 3*Nn-6*$n}function Mt($n){return 3*$n}function Ut($n,Nn,er){return((tt(Nn,er)*$n+St(Nn,er))*$n+Mt(Nn))*$n}function Kt($n,Nn,er){return 3*tt(Nn,er)*$n*$n+2*St(Nn,er)*$n+Mt(Nn)}function gn($n,Nn,er,br,kn){var fr,sr,Nr=0;do sr=Nn+(er-Nn)/2,fr=Ut(sr,br,kn)-$n,fr>0?er=sr:Nn=sr;while(Math.abs(fr)>1e-7&&++Nr<10);return sr}function sn($n,Nn,er,br){for(var kn=0;kn<4;++kn){var fr=Kt(Nn,er,br);if(fr===0)return Nn;var sr=Ut(Nn,er,br)-$n;Nn-=sr/fr}return Nn}function Xt($n,Nn,er,br){if(!(0<=$n&&$n<=1&&0<=er&&er<=1))return;var kn=new Float32Array(xe);if($n!==Nn||er!==br)for(var fr=0;fr<xe;++fr)kn[fr]=Ut(fr*De,$n,er);function sr(Nr){for(var or=0,Zt=1,bn=xe-1;Zt!==bn&&kn[Zt]<=Nr;++Zt)or+=De;--Zt;var qn=(Nr-kn[Zt])/(kn[Zt+1]-kn[Zt]),Gn=or+qn*De,re=Kt(Gn,$n,er);return re>=.001?sn(Nr,Gn,$n,er):re===0?Gn:gn(Nr,or,or+De,$n,er)}return function(Nr){return $n===Nn&&er===br||Nr===0||Nr===1?Nr:Ut(sr(Nr),Nn,br)}}return Xt}(),D=function(){var xe=["Quad","Cubic","Quart","Quint","Sine","Expo","Circ","Back","Elastic"],De={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],R],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(Kt,gn){return function(sn){return 1-R(Kt,gn)(1-sn)}}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(Kt,gn){return function(sn){return sn<.5?R(Kt,gn)(sn*2)/2:1-R(Kt,gn)(sn*-2+2)/2}}]},tt={linear:[.25,.25,.75,.75]};for(var St in De)for(var Mt=0,Ut=De[St].length;Mt<Ut;Mt++)tt["ease"+St+xe[Mt]]=De[St][Mt];return tt}();function H(xe,De){if(E.fnc(xe))return xe;var tt=xe.split("(")[0],St=D[tt],Mt=_(xe);switch(tt){case"spring":return P(xe,De);case"cubicBezier":return A(T,Mt);case"steps":return A(L,Mt);default:return E.fnc(St)?A(St,Mt):A(T,St)}}function V(xe){try{var De=document.querySelectorAll(xe);return De}catch{return}}var B=[];function O(xe,De){for(var tt=B,St=xe.length,Mt=arguments.length>=2?arguments[1]:void 0,Ut=0;Ut<St;Ut++)if(Ut in xe){var Kt=xe[Ut];De.call(Mt,Kt,Ut,xe)&&tt.push(Kt)}return B=xe,B.length=0,tt}function F(xe,De){De||(De=[]);for(var tt=0,St=xe.length;tt<St;tt++){var Mt=xe[tt];Array.isArray(Mt)?F(Mt,De):De.push(Mt)}return De}function N(xe){return E.arr(xe)?xe:(E.str(xe)&&(xe=V(xe)||xe),xe instanceof NodeList||xe instanceof HTMLCollection?[].slice.call(xe):[xe])}function z(xe,De){return xe.some(function(tt){return tt===De})}function j(xe){var De={};for(var tt in xe)De[tt]=xe[tt];return De}function G(xe,De){var tt=j(xe);for(var St in xe)tt[St]=De.hasOwnProperty(St)?De[St]:xe[St];return tt}function Q(xe,De){var tt=j(xe);for(var St in De)tt[St]=E.und(xe[St])?De[St]:xe[St];return tt}var X=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g;function J(xe){var De=X.exec(xe);return De?"rgba("+De[1]+",1)":xe}var Z=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,oe=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;function ce(xe){var De=xe.replace(Z,function(Kt,gn,sn,Xt){return gn+gn+sn+sn+Xt+Xt}),tt=oe.exec(De),St=parseInt(tt[1],16),Mt=parseInt(tt[2],16),Ut=parseInt(tt[3],16);return"rgba("+St+","+Mt+","+Ut+",1)"}var Be=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g,ge=/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g;function Re(xe){var De=Be.exec(xe)||ge.exec(xe),tt=parseInt(De[1],10)/360,St=parseInt(De[2],10)/100,Mt=parseInt(De[3],10)/100,Ut=De[4]||1;function Kt(er,br,kn){return kn<0&&(kn+=1),kn>1&&(kn-=1),kn<.16666666666666666?er+(br-er)*6*kn:kn<.5?br:kn<.6666666666666666?er+(br-er)*(.6666666666666666-kn)*6:er}var gn,sn,Xt;if(St==0)gn=sn=Xt=Mt;else{var $n=Mt<.5?Mt*(1+St):Mt+St-Mt*St,Nn=2*Mt-$n;gn=Kt(Nn,$n,tt+.3333333333333333),sn=Kt(Nn,$n,tt),Xt=Kt(Nn,$n,tt-.3333333333333333)}return"rgba("+gn*255+","+sn*255+","+Xt*255+","+Ut+")"}function $e(xe){if(E.rgb(xe))return J(xe);if(E.hex(xe))return ce(xe);if(E.hsl(xe))return Re(xe)}var qe=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/;function Ke(xe){var De=qe.exec(xe);if(De)return De[2]}function ke(xe){if(y(xe,"translate")||xe==="perspective")return"px";if(y(xe,"rotate")||y(xe,"skew"))return"deg"}function st(xe,De){return E.fnc(xe)?xe(De.target,De.id,De.total):xe}function ot(xe,De){return xe.getAttribute(De)}function it(xe,De,tt){var St=Ke(De);if(z([tt,"deg","rad","turn"],St))return De;var Mt=m.CSS[De+tt];if(!E.und(Mt))return Mt;var Ut=100,Kt=document.createElement(xe.tagName),gn=xe.parentNode&&xe.parentNode!==document?xe.parentNode:document.body;gn.appendChild(Kt),Kt.style.position="absolute",Kt.style.width=Ut+tt;var sn=Ut/Kt.offsetWidth;gn.removeChild(Kt);var Xt=sn*parseFloat(De);return m.CSS[De+tt]=Xt,Xt}function ft(xe,De,tt){if(De in xe.style){var St=De.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Mt=xe.style[De]||getComputedStyle(xe).getPropertyValue(St)||"0";return tt?it(xe,Mt,tt):Mt}}function Et(xe,De){if(E.dom(xe)&&!E.inp(xe)&&(ot(xe,De)||E.svg(xe)&&xe[De]))return"attribute";if(E.dom(xe)&&z(p,De))return"transform";if(E.dom(xe)&&De!=="transform"&&ft(xe,De))return"css";if(xe[De]!=null)return"object"}var gt=/(\w+)\(([^)]*)\)/g;function Ct(xe){if(E.dom(xe)){for(var De=xe.style.transform||"",tt=new Map,St;St=gt.exec(De);)tt.set(St[1],St[2]);return tt}}function Tt(xe,De,tt,St){var Mt=y(De,"scale")?1:0+ke(De),Ut=Ct(xe).get(De)||Mt;return tt&&(tt.transforms.list.set(De,Ut),tt.transforms.last=De),St?it(xe,Ut,St):Ut}function Dt(xe,De,tt,St){switch(Et(xe,De)){case"transform":return Tt(xe,De,St,tt);case"css":return ft(xe,De,tt);case"attribute":return ot(xe,De);default:return xe[De]||0}}var Yt=/^(\*=|\+=|-=)/;function Ve(xe,De){var tt=Yt.exec(xe);if(!tt)return xe;var St=Ke(xe)||0,Mt=parseFloat(De),Ut=parseFloat(xe.replace(tt[0],""));switch(tt[0][0]){case"+":return Mt+Ut+St;case"-":return Mt-Ut+St;case"*":return Mt*Ut+St}}var ye=/\s/g;function fe(xe,De){if(E.col(xe))return $e(xe);var tt=Ke(xe),St=tt?xe.substr(0,xe.length-tt.length):xe;return De&&!ye.test(xe)?St+De:St}function pe(xe,De){return Math.sqrt(Math.pow(De.x-xe.x,2)+Math.pow(De.y-xe.y,2))}function _e(xe){return Math.PI*2*ot(xe,"r")}function Ce(xe){return ot(xe,"width")*2+ot(xe,"height")*2}function Se(xe){return pe({x:ot(xe,"x1"),y:ot(xe,"y1")},{x:ot(xe,"x2"),y:ot(xe,"y2")})}function we(xe){for(var De=xe.points,tt=0,St,Mt=0;Mt<De.numberOfItems;Mt++){var Ut=De.getItem(Mt);Mt>0&&(tt+=pe(St,Ut)),St=Ut}return tt}function je(xe){var De=xe.points;return we(xe)+pe(De.getItem(De.numberOfItems-1),De.getItem(0))}function Ae(xe){if(xe.getTotalLength)return xe.getTotalLength();switch(xe.tagName.toLowerCase()){case"circle":return _e(xe);case"rect":return Ce(xe);case"line":return Se(xe);case"polyline":return we(xe);case"polygon":return je(xe)}}function Ue(xe){var De=Ae(xe);return xe.setAttribute("stroke-dasharray",De),De}function et(xe){for(var De=xe.parentNode;E.svg(De)&&(De=De.parentNode,!!E.svg(De.parentNode)););return De}function ue(xe,De){var tt=De||{},St=tt.el||et(xe),Mt=St.getBoundingClientRect(),Ut=ot(St,"viewBox"),Kt=Mt.width,gn=Mt.height,sn=tt.viewBox||(Ut?Ut.split(" "):[0,0,Kt,gn]);return{el:St,viewBox:sn,x:sn[0]/1,y:sn[1]/1,w:Kt/sn[2],h:gn/sn[3]}}function Y(xe,De){var tt=E.str(xe)?V(xe)[0]:xe,St=De||100;return function(Mt){return{property:Mt,el:tt,svg:ue(tt),totalLength:Ae(tt)*(St/100)}}}function ne(xe,De){function tt(gn){gn===void 0&&(gn=0);var sn=De+gn>=1?De+gn:0;return xe.el.getPointAtLength(sn)}var St=ue(xe.el,xe.svg),Mt=tt(),Ut=tt(-1),Kt=tt(1);switch(xe.property){case"x":return(Mt.x-St.x)*St.w;case"y":return(Mt.y-St.y)*St.h;case"angle":return Math.atan2(Kt.y-Ut.y,Kt.x-Ut.x)*180/Math.PI}}var Pe=/-?\d*\.?\d+/g;function We(xe,De){var tt=fe(E.pth(xe)?xe.totalLength:xe,De)+"";return{original:tt,numbers:tt.match(Pe)?tt.match(Pe).map(Number):[0],strings:E.str(xe)||De?tt.split(Pe):[]}}function ve(xe){var De=xe?F(E.arr(xe)?xe.map(N):N(xe)):[];return O(De,function(tt,St,Mt){return Mt.indexOf(tt)===St})}function he(xe){var De=ve(xe);return De.map(function(tt,St){return{target:tt,id:St,total:De.length,transforms:{list:Ct(tt)}}})}var Ye=/^spring/;function Ze(xe,De){var tt=j(De);if(Ye.test(tt.easing)&&(tt.duration=P(tt.easing)),E.arr(xe)){var St=xe.length,Mt=St===2&&!E.obj(xe[0]);Mt?xe={value:xe}:E.fnc(De.duration)||(tt.duration=De.duration/St)}var Ut=E.arr(xe)?xe:[xe];return Ut.map(function(Kt,gn){var sn=E.obj(Kt)&&!E.pth(Kt)?Kt:{value:Kt};return E.und(sn.delay)&&(sn.delay=gn?0:De.delay),E.und(sn.endDelay)&&(sn.endDelay=gn===Ut.length-1?De.endDelay:0),sn}).map(function(Kt){return Q(Kt,tt)})}function Qe(xe){for(var De=O(F(xe.map(function(Ut){return Object.keys(Ut)})),function(Ut){return E.key(Ut)}).reduce(function(Ut,Kt){return Ut.indexOf(Kt)<0&&Ut.push(Kt),Ut},[]),tt={},St=function(Ut){var Kt=De[Ut];tt[Kt]=xe.map(function(gn){var sn={};for(var Xt in gn)E.key(Xt)?Xt==Kt&&(sn.value=gn[Xt]):sn[Xt]=gn[Xt];return sn})},Mt=0;Mt<De.length;Mt++)St(Mt);return tt}function nt(xe,De){var tt=[],St=De.keyframes;St&&(De=Q(Qe(St),De));for(var Mt in De)E.key(Mt)&&tt.push({name:Mt,tweens:Ze(De[Mt],xe)});return tt}function It(xe,De){var tt={};for(var St in xe){var Mt=st(xe[St],De);E.arr(Mt)&&(Mt=Mt.map(function(Ut){return st(Ut,De)}),Mt.length===1&&(Mt=Mt[0])),tt[St]=Mt}return tt.duration=parseFloat(tt.duration),tt.delay=parseFloat(tt.delay),tt}function kt(xe,De){var tt;return xe.tweens.map(function(St){var Mt=It(St,De),Ut=Mt.value,Kt=E.arr(Ut)?Ut[1]:Ut,gn=Ke(Kt),sn=Dt(De.target,xe.name,gn,De),Xt=tt?tt.to.original:sn,$n=E.arr(Ut)?Ut[0]:Xt,Nn=Ke($n)||Ke(sn),er=gn||Nn;return E.und(Kt)&&(Kt=Xt),Mt.from=We($n,er),Mt.to=We(Ve(Kt,$n),er),Mt.start=tt?tt.end:0,Mt.end=Mt.start+Mt.delay+Mt.duration+Mt.endDelay,Mt.easing=H(Mt.easing,Mt.duration),Mt.isPath=E.pth(Ut),Mt.isColor=E.col(Mt.from.original),Mt.isColor&&(Mt.round=1),tt=Mt,Mt})}var Bt={css:function(xe,De,tt){return xe.style[De]=tt},attribute:function(xe,De,tt){return xe.setAttribute(De,tt)},object:function(xe,De,tt){return xe[De]=tt},transform:function(xe,De,tt,St,Mt){if(St.list.set(De,tt),De===St.last||Mt){var Ut="";St.list.forEach(function(Kt,gn){Ut+=gn+"("+Kt+") "}),xe.style.transform=Ut}}};function jt(xe,De){for(var tt=he(xe),St=0,Mt=tt.length;St<Mt;St++){var Ut=tt[St];for(var Kt in De){var gn=st(De[Kt],Ut),sn=Ut.target,Xt=Ke(gn),$n=Dt(sn,Kt,Xt,Ut),Nn=Xt||Ke($n),er=Ve(fe(gn,Nn),$n),br=Et(sn,Kt);Bt[br](sn,Kt,er,Ut.transforms,!0)}}}function Vt(xe,De){var tt=Et(xe.target,De.name);if(tt){var St=kt(De,xe),Mt=St[St.length-1];return{type:tt,property:De.name,animatable:xe,tweens:St,duration:Mt.end,delay:St[0].delay,endDelay:Mt.endDelay}}}function Lt(xe,De){return O(F(xe.map(function(tt){return De.map(function(St){return Vt(tt,St)})})),function(tt){return!E.und(tt)})}function mt(xe,De){var tt=xe.length,St=function(Ut){return Ut.timelineOffset?Ut.timelineOffset:0},Mt={};return Mt.duration=tt?Math.max.apply(Math,xe.map(function(Ut){return St(Ut)+Ut.duration})):De.duration,Mt.delay=tt?Math.min.apply(Math,xe.map(function(Ut){return St(Ut)+Ut.delay})):De.delay,Mt.endDelay=tt?Mt.duration-Math.max.apply(Math,xe.map(function(Ut){return St(Ut)+Ut.duration-Ut.endDelay})):De.endDelay,Mt}var Nt=0;function cn(xe){var De=G(d,xe),tt=G(h,xe),St=nt(tt,xe),Mt=he(xe.targets),Ut=Lt(Mt,St),Kt=mt(Ut,tt),gn=Nt;return Nt++,Q(De,{id:gn,children:[],animatables:Mt,animations:Ut,duration:Kt.duration,delay:Kt.delay,endDelay:Kt.endDelay})}var Jt=[],Sn=[],yn,Ln=function(){function xe(){yn=requestAnimationFrame(De)}function De(tt){var St=Jt.length;if(St){for(var Mt=0;Mt<St;){var Ut=Jt[Mt];if(!Ut.paused)Ut.tick(tt);else{var Kt=Jt.indexOf(Ut);Kt>-1&&(Jt.splice(Kt,1),St=Jt.length)}Mt++}xe()}else yn=cancelAnimationFrame(yn)}return xe}();function rr(){if(document.hidden){for(var xe=0,De=Jt.length;xe<De;xe++)activeInstance[xe].pause();Sn=Jt.slice(0),Jt=[]}else for(var tt=0,St=Sn.length;tt<St;tt++)Sn[tt].play()}document.addEventListener("visibilitychange",rr);function jn(xe){xe===void 0&&(xe={});var De=0,tt=0,St=0,Mt,Ut=0,Kt=null;function gn(){return window.Promise&&new Promise(function(Zt){return Kt=Zt})}var sn=gn(),Xt=cn(xe);function $n(){Xt.reversed=!Xt.reversed;for(var Zt=0,bn=Mt.length;Zt<bn;Zt++)Mt[Zt].reversed=Xt.reversed}function Nn(Zt){return Xt.reversed?Xt.duration-Zt:Zt}function er(){De=0,tt=Nn(Xt.currentTime)*(1/jn.speed)}function br(Zt,bn){bn&&bn.seek(Zt-bn.timelineOffset)}function kn(Zt){if(Xt.reversePlayback)for(var qn=Ut;qn--;)br(Zt,Mt[qn]);else for(var bn=0;bn<Ut;bn++)br(Zt,Mt[bn])}function fr(Zt){for(var bn=0,qn=Xt.animations,Gn=qn.length;bn<Gn;){var re=qn[bn],se=re.animatable,Me=re.tweens,Fe=Me.length-1,Je=Me[Fe];Fe&&(Je=O(Me,function(Hn){return Zt<Hn.end})[0]||Je);for(var at=v(Zt-Je.start-Je.delay,0,Je.duration)/Je.duration,xt=isNaN(at)?1:Je.easing(at),me=Je.to.strings,be=Je.round,Ee=[],Te=Je.to.numbers.length,Le=void 0,yt=0;yt<Te;yt++){var Ft=void 0,en=Je.to.numbers[yt],dn=Je.from.numbers[yt]||0;Je.isPath?Ft=ne(Je.value,xt*en):Ft=dn+xt*(en-dn),be&&(Je.isColor&&yt>2||(Ft=Math.round(Ft*be)/be)),Ee.push(Ft)}var Bn=me.length;if(!Bn)Le=Ee[0];else{Le=me[0];for(var ln=0;ln<Bn;ln++){me[ln];var Wn=me[ln+1],mr=Ee[ln];isNaN(mr)||(Wn?Le+=mr+Wn:Le+=mr+" ")}}Bt[re.type](se.target,re.property,Le,se.transforms),re.currentValue=Le,bn++}}function sr(Zt){Xt[Zt]&&!Xt.passThrough&&Xt[Zt](Xt)}function Nr(){Xt.remaining&&Xt.remaining!==!0&&Xt.remaining--}function or(Zt){var bn=Xt.duration,qn=Xt.delay,Gn=bn-Xt.endDelay,re=Nn(Zt);Xt.progress=v(re/bn*100,0,100),Xt.reversePlayback=re<Xt.currentTime,Mt&&kn(re),!Xt.began&&Xt.currentTime>0&&(Xt.began=!0,sr("begin"),sr("loopBegin")),re<=qn&&Xt.currentTime!==0&&fr(0),(re>=Gn&&Xt.currentTime!==bn||!bn)&&fr(bn),re>qn&&re<Gn?(Xt.changeBegan||(Xt.changeBegan=!0,Xt.changeCompleted=!1,sr("changeBegin")),sr("change"),fr(re)):Xt.changeBegan&&(Xt.changeCompleted=!0,Xt.changeBegan=!1,sr("changeComplete")),Xt.currentTime=v(re,0,bn),Xt.began&&sr("update"),Zt>=bn&&(tt=0,Nr(),Xt.remaining?(De=St,sr("loopComplete"),sr("loopBegin"),Xt.direction==="alternate"&&$n()):(Xt.paused=!0,Xt.completed||(Xt.completed=!0,sr("loopComplete"),sr("complete"),"Promise"in window&&(Kt(),sn=gn()))))}return Xt.reset=function(){var Zt=Xt.direction;Xt.passThrough=!1,Xt.currentTime=0,Xt.progress=0,Xt.paused=!0,Xt.began=!1,Xt.changeBegan=!1,Xt.completed=!1,Xt.changeCompleted=!1,Xt.reversePlayback=!1,Xt.reversed=Zt==="reverse",Xt.remaining=Xt.loop,Mt=Xt.children,Ut=Mt.length;for(var bn=Ut;bn--;)Xt.children[bn].reset();(Xt.reversed&&Xt.loop!==!0||Zt==="alternate"&&Xt.loop===1)&&Xt.remaining++,fr(0)},Xt.set=function(Zt,bn){return jt(Zt,bn),Xt},Xt.tick=function(Zt){St=Zt,De||(De=St),or((St+(tt-De))*jn.speed)},Xt.seek=function(Zt){or(Nn(Zt))},Xt.pause=function(){Xt.paused=!0,er()},Xt.play=function(){Xt.paused&&(Xt.paused=!1,Jt.push(Xt),er(),yn||Ln())},Xt.reverse=function(){$n(),er()},Xt.restart=function(){Xt.reset(),Xt.play()},Xt.finished=sn,Xt.reset(),Xt.autoplay&&Xt.play(),Xt}function Fn(xe,De){for(var tt=De.length;tt--;)z(xe,De[tt].animatable.target)&&De.splice(tt,1)}function Cn(xe){for(var De=ve(xe),tt=Jt.length;tt--;){var St=Jt[tt],Mt=St.animations,Ut=St.children;Fn(De,Mt);for(var Kt=Ut.length;Kt--;){var gn=Ut[Kt],sn=gn.animations;Fn(De,sn),!sn.length&&!gn.children.length&&Ut.splice(Kt,1)}!Mt.length&&!Ut.length&&St.pause()}}function Oe(xe,De){De===void 0&&(De={});var tt=De.direction||"normal",St=De.easing?H(De.easing):null,Mt=De.grid,Ut=De.axis,Kt=De.from||0,gn=Kt==="first",sn=Kt==="center",Xt=Kt==="last",$n=E.arr(xe),Nn=parseFloat($n?xe[0]:xe),er=$n?parseFloat(xe[1]):0,br=Ke($n?xe[1]:xe)||0,kn=De.start||0+($n?Nn:0),fr=[],sr=0;return function(Nr,or,Zt){if(gn&&(Kt=0),sn&&(Kt=(Zt-1)/2),Xt&&(Kt=Zt-1),!fr.length){for(var bn=0;bn<Zt;bn++){if(!Mt)fr.push(Math.abs(Kt-bn));else{var qn=sn?(Mt[0]-1)/2:Kt%Mt[0],Gn=sn?(Mt[1]-1)/2:Math.floor(Kt/Mt[0]),re=bn%Mt[0],se=Math.floor(bn/Mt[0]),Me=qn-re,Fe=Gn-se,Je=Math.sqrt(Me*Me+Fe*Fe);Ut==="x"&&(Je=-Me),Ut==="y"&&(Je=-Fe),fr.push(Je)}sr=Math.max.apply(Math,fr)}St&&(fr=fr.map(function(xt){return St(xt/sr)*sr})),tt==="reverse"&&(fr=fr.map(function(xt){return Ut?xt<0?xt*-1:-xt:Math.abs(sr-xt)}))}var at=$n?(er-Nn)/sr:Nn;return kn+at*(Math.round(fr[or]*100)/100)+br}}function lt(xe){xe===void 0&&(xe={});var De=jn(xe);return De.duration=0,De.add=function(tt,St){var Mt=Jt.indexOf(De),Ut=De.children;Mt>-1&&Jt.splice(Mt,1);function Kt(er){er.passThrough=!0}for(var gn=0;gn<Ut.length;gn++)Kt(Ut[gn]);var sn=Q(tt,G(h,xe));sn.targets=sn.targets||xe.targets;var Xt=De.duration;sn.autoplay=!1,sn.direction=De.direction,sn.timelineOffset=E.und(St)?Xt:Ve(St,Xt),Kt(De),De.seek(sn.timelineOffset);var $n=jn(sn);Kt($n),Ut.push($n);var Nn=mt(Ut,xe);return De.delay=Nn.delay,De.endDelay=Nn.endDelay,De.duration=Nn.duration,De.seek(0),De.reset(),De.autoplay&&De.play(),De},De}jn.version="3.0.0",jn.speed=1,jn.running=Jt,jn.remove=Cn,jn.get=Dt,jn.set=jt,jn.convertPx=it,jn.path=Y,jn.setDashoffset=Ue,jn.stagger=Oe,jn.timeline=lt,jn.easing=H,jn.penner=D,jn.random=function(xe,De){return Math.floor(Math.random()*(De-xe+1))+xe};const wt=jn},"./node_modules/three-bmfont-text/index.js":(l,u,c)=>{var d=c("./node_modules/layout-bmfont-text/index.js");c("./node_modules/inherits/inherits_browser.js");var h=c("./node_modules/quad-indices/index.js"),p=c("./node_modules/three-buffer-vertex-data/index.js"),m=c("./node_modules/object-assign/index.js"),v=c("./node_modules/three-bmfont-text/lib/vertices.js"),y=c("./node_modules/three-bmfont-text/lib/utils.js");l.exports=function(g){return new A(g)};class A extends THREE.BufferGeometry{constructor(g){super(),typeof g=="string"&&(g={text:g}),this._opt=m({},g),g&&this.update(g)}update(g){if(typeof g=="string"&&(g={text:g}),g=m({},this._opt,g),!g.font)throw new TypeError("must specify a { font } in options");this.layout=d(g);var w=g.flipY!==!1,E=g.font,C=E.common.scaleW,_=E.common.scaleH,P=this.layout.glyphs.filter(function(H){var V=H.data;return V.width*V.height>0});this.visibleGlyphs=P;var R=v.positions(P),L=v.uvs(P,C,_,w),T=h({clockwise:!0,type:"uint16",count:P.length});if(p.index(this,T,1,"uint16"),p.attr(this,"position",R,2),p.attr(this,"uv",L,2),!g.multipage&&"page"in this.attributes)this.removeAttribute("page");else if(g.multipage){var D=v.pages(P);p.attr(this,"page",D,1)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new THREE.Sphere);var g=this.attributes.position.array,w=this.attributes.position.itemSize;if(!g||!w||g.length<2){this.boundingSphere.radius=0,this.boundingSphere.center.set(0,0,0);return}y.computeSphere(g,this.boundingSphere),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new THREE.Box3);var g=this.boundingBox,w=this.attributes.position.array,E=this.attributes.position.itemSize;if(!w||!E||w.length<2){g.makeEmpty();return}y.computeBox(w,g)}}},"./node_modules/three-bmfont-text/lib/utils.js":l=>{var u=2,c={min:[0,0],max:[0,0]};function d(h){var p=h.length/u;c.min[0]=h[0],c.min[1]=h[1],c.max[0]=h[0],c.max[1]=h[1];for(var m=0;m<p;m++){var v=h[m*u+0],y=h[m*u+1];c.min[0]=Math.min(v,c.min[0]),c.min[1]=Math.min(y,c.min[1]),c.max[0]=Math.max(v,c.max[0]),c.max[1]=Math.max(y,c.max[1])}}l.exports.computeBox=function(h,p){d(h),p.min.set(c.min[0],c.min[1],0),p.max.set(c.max[0],c.max[1],0)},l.exports.computeSphere=function(h,p){d(h);var m=c.min[0],v=c.min[1],y=c.max[0],A=c.max[1],b=y-m,g=A-v,w=Math.sqrt(b*b+g*g);p.center.set(m+b/2,v+g/2,0),p.radius=w/2}},"./node_modules/three-bmfont-text/lib/vertices.js":l=>{l.exports.pages=function(c){var d=new Float32Array(c.length*4*1),h=0;return c.forEach(function(p){var m=p.data.page||0;d[h++]=m,d[h++]=m,d[h++]=m,d[h++]=m}),d},l.exports.uvs=function(c,d,h,p){var m=new Float32Array(c.length*4*2),v=0;return c.forEach(function(y){var A=y.data,b=A.x+A.width,g=A.y+A.height,w=A.x/d,E=A.y/h,C=b/d,_=g/h;p&&(E=(h-A.y)/h,_=(h-g)/h),m[v++]=w,m[v++]=E,m[v++]=w,m[v++]=_,m[v++]=C,m[v++]=_,m[v++]=C,m[v++]=E}),m},l.exports.positions=function(c){var d=new Float32Array(c.length*4*2),h=0;return c.forEach(function(p){var m=p.data,v=p.position[0]+m.xoffset,y=p.position[1]+m.yoffset,A=m.width,b=m.height;d[h++]=v,d[h++]=y,d[h++]=v,d[h++]=y+b,d[h++]=v+A,d[h++]=y+b,d[h++]=v+A,d[h++]=y}),d}},"./node_modules/three-buffer-vertex-data/index.js":(l,u,c)=>{var d=c("./node_modules/flatten-vertex-data/index.js");l.exports.attr=p,l.exports.index=h;function h(v,y,A,b){typeof A!="number"&&(A=1),typeof b!="string"&&(b="uint16");var g=!v.index&&typeof v.setIndex!="function",w=g?v.getAttribute("index"):v.index,E=m(w,y,A,b);E&&(g?v.addAttribute("index",E):v.index=E)}function p(v,y,A,b,g){if(typeof b!="number"&&(b=3),typeof g!="string"&&(g="float32"),Array.isArray(A)&&Array.isArray(A[0])&&A[0].length!==b)throw new Error("Nested vertex array has unexpected size; expected "+b+" but found "+A[0].length);var w=v.getAttribute(y),E=m(w,A,b,g);v.setAttribute(y,E)}function m(v,y,A,b){return y=y||[],y=d(y,b),v=new THREE.BufferAttribute(y,A),v.itemSize=A,v.needsUpdate=!0,v}},"./node_modules/webvr-polyfill/build/webvr-polyfill.js":function(l,u,c){/**
 * @license
 * webvr-polyfill
 * Copyright (c) 2015-2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * cardboard-vr-display
 * Copyright (c) 2015-2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * webvr-polyfill-dpdb 
 * Copyright (c) 2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * wglu-preserve-state
 * Copyright (c) 2016, Brandon Jones.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *//**
 * @license
 * nosleep.js
 * Copyright (c) 2017, Rich Tibbett
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(d,h){l.exports=h()})(this,function(){var d=typeof window<"u"?window:typeof c.g<"u"?c.g:typeof self<"u"?self:{};function h(R){return R&&R.__esModule&&Object.prototype.hasOwnProperty.call(R,"default")?R.default:R}function p(R,L){return L={exports:{}},R(L,L.exports),L.exports}var m=function(){return/Android/i.test(navigator.userAgent)||/iPhone|iPad|iPod/i.test(navigator.userAgent)},v=function(L,T){for(var D=0,H=L.length;D<H;D++)T[D]=L[D]},y=function(L,T){for(var D in T)T.hasOwnProperty(D)&&(L[D]=T[D]);return L},A=p(function(R,L){/**
 * @license
 * cardboard-vr-display
 * Copyright (c) 2015-2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * gl-preserve-state
 * Copyright (c) 2016, Brandon Jones.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *//**
 * @license
 * webvr-polyfill-dpdb
 * Copyright (c) 2015-2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * nosleep.js
 * Copyright (c) 2017, Rich Tibbett
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(T,D){R.exports=D()})(d,function(){var T=function(re,se){if(!(re instanceof se))throw new TypeError("Cannot call a class as a function")},D=function(){function re(se,Me){for(var Fe=0;Fe<Me.length;Fe++){var Je=Me[Fe];Je.enumerable=Je.enumerable||!1,Je.configurable=!0,"value"in Je&&(Je.writable=!0),Object.defineProperty(se,Je.key,Je)}}return function(se,Me,Fe){return Me&&re(se.prototype,Me),Fe&&re(se,Fe),se}}(),H=function(){function re(se,Me){var Fe=[],Je=!0,at=!1,xt=void 0;try{for(var me=se[Symbol.iterator](),be;!(Je=(be=me.next()).done)&&(Fe.push(be.value),!(Me&&Fe.length===Me));Je=!0);}catch(Ee){at=!0,xt=Ee}finally{try{!Je&&me.return&&me.return()}finally{if(at)throw xt}}return Fe}return function(se,Me){if(Array.isArray(se))return se;if(Symbol.iterator in Object(se))return re(se,Me);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),V=.001,B=1,O=function(se,Me){return"data:"+se+","+encodeURIComponent(Me)},F=function(se,Me,Fe){return se+(Me-se)*Fe},N=function(){var re=/iPad|iPhone|iPod/.test(navigator.platform);return function(){return re}}(),z=function(){var re=navigator.userAgent.indexOf("Version")!==-1&&navigator.userAgent.indexOf("Android")!==-1&&navigator.userAgent.indexOf("Chrome")!==-1;return function(){return re}}(),j=function(){var re=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);return function(){return re}}(),G=function(){var re=navigator.userAgent.indexOf("Firefox")!==-1&&navigator.userAgent.indexOf("Android")!==-1;return function(){return re}}(),Q=function(){var re=navigator.userAgent.match(/.*Chrome\/([0-9]+)/),se=re?parseInt(re[1],10):null;return function(){return se}}(),X=function(){var re=!1;return re=N()&&j()&&navigator.userAgent.indexOf("13_4")!==-1,function(){return re}}(),J=function(){var re=!1;if(Q()===65){var se=navigator.userAgent.match(/.*Chrome\/([0-9\.]*)/);if(se){var Me=se[1].split("."),Fe=H(Me,4);Fe[0],Fe[1];var Je=Fe[2],at=Fe[3];re=parseInt(Je,10)===3325&&parseInt(at,10)<148}}return function(){return re}}(),Z=function(){var re=navigator.userAgent.indexOf("R7 Build")!==-1;return function(){return re}}(),oe=function(){var se=window.orientation==90||window.orientation==-90;return Z()?!se:se},ce=function(se){return!(isNaN(se)||se<=V||se>B)},Be=function(){return Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio},ge=function(){return Math.min(window.screen.width,window.screen.height)*window.devicePixelRatio},Re=function(se){if(z())return!1;if(se.requestFullscreen)se.requestFullscreen();else if(se.webkitRequestFullscreen)se.webkitRequestFullscreen();else if(se.mozRequestFullScreen)se.mozRequestFullScreen();else if(se.msRequestFullscreen)se.msRequestFullscreen();else return!1;return!0},$e=function(){if(document.exitFullscreen)document.exitFullscreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.msExitFullscreen)document.msExitFullscreen();else return!1;return!0},qe=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},Ke=function(se,Me,Fe,Je){var at=se.createShader(se.VERTEX_SHADER);se.shaderSource(at,Me),se.compileShader(at);var xt=se.createShader(se.FRAGMENT_SHADER);se.shaderSource(xt,Fe),se.compileShader(xt);var me=se.createProgram();se.attachShader(me,at),se.attachShader(me,xt);for(var be in Je)se.bindAttribLocation(me,Je[be],be);return se.linkProgram(me),se.deleteShader(at),se.deleteShader(xt),me},ke=function(se,Me){for(var Fe={},Je=se.getProgramParameter(Me,se.ACTIVE_UNIFORMS),at="",xt=0;xt<Je;xt++){var me=se.getActiveUniform(Me,xt);at=me.name.replace("[0]",""),Fe[at]=se.getUniformLocation(Me,at)}return Fe},st=function(se,Me,Fe,Je,at,xt,me){var be=1/(Me-Fe),Ee=1/(Je-at),Te=1/(xt-me);return se[0]=-2*be,se[1]=0,se[2]=0,se[3]=0,se[4]=0,se[5]=-2*Ee,se[6]=0,se[7]=0,se[8]=0,se[9]=0,se[10]=2*Te,se[11]=0,se[12]=(Me+Fe)*be,se[13]=(at+Je)*Ee,se[14]=(me+xt)*Te,se[15]=1,se},ot=function(){var se=!1;return function(Me){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(Me)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(Me.substr(0,4)))&&(se=!0)}(navigator.userAgent||navigator.vendor||window.opera),se},it=function(se,Me){for(var Fe in Me)Me.hasOwnProperty(Fe)&&(se[Fe]=Me[Fe]);return se},ft=function(se){if(N()){var Me=se.style.width,Fe=se.style.height;se.style.width=parseInt(Me)+1+"px",se.style.height=parseInt(Fe)+"px",setTimeout(function(){se.style.width=Me,se.style.height=Fe},100)}window.canvas=se},Et=function(){var re=Math.PI/180,se=Math.PI*.25;function Me(Ee,Te,Le,yt){var Ft=Math.tan(Te?Te.upDegrees*re:se),en=Math.tan(Te?Te.downDegrees*re:se),dn=Math.tan(Te?Te.leftDegrees*re:se),Bn=Math.tan(Te?Te.rightDegrees*re:se),ln=2/(dn+Bn),Wn=2/(Ft+en);return Ee[0]=ln,Ee[1]=0,Ee[2]=0,Ee[3]=0,Ee[4]=0,Ee[5]=Wn,Ee[6]=0,Ee[7]=0,Ee[8]=-((dn-Bn)*ln*.5),Ee[9]=(Ft-en)*Wn*.5,Ee[10]=yt/(Le-yt),Ee[11]=-1,Ee[12]=0,Ee[13]=0,Ee[14]=yt*Le/(Le-yt),Ee[15]=0,Ee}function Fe(Ee,Te,Le){var yt=Te[0],Ft=Te[1],en=Te[2],dn=Te[3],Bn=yt+yt,ln=Ft+Ft,Wn=en+en,mr=yt*Bn,Hn=yt*ln,fn=yt*Wn,xn=Ft*ln,Yn=Ft*Wn,cr=en*Wn,gr=dn*Bn,Or=dn*ln,ni=dn*Wn;return Ee[0]=1-(xn+cr),Ee[1]=Hn+ni,Ee[2]=fn-Or,Ee[3]=0,Ee[4]=Hn-ni,Ee[5]=1-(mr+cr),Ee[6]=Yn+gr,Ee[7]=0,Ee[8]=fn+Or,Ee[9]=Yn-gr,Ee[10]=1-(mr+xn),Ee[11]=0,Ee[12]=Le[0],Ee[13]=Le[1],Ee[14]=Le[2],Ee[15]=1,Ee}function Je(Ee,Te,Le){var yt=Le[0],Ft=Le[1],en=Le[2],dn,Bn,ln,Wn,mr,Hn,fn,xn,Yn,cr,gr,Or;return Te===Ee?(Ee[12]=Te[0]*yt+Te[4]*Ft+Te[8]*en+Te[12],Ee[13]=Te[1]*yt+Te[5]*Ft+Te[9]*en+Te[13],Ee[14]=Te[2]*yt+Te[6]*Ft+Te[10]*en+Te[14],Ee[15]=Te[3]*yt+Te[7]*Ft+Te[11]*en+Te[15]):(dn=Te[0],Bn=Te[1],ln=Te[2],Wn=Te[3],mr=Te[4],Hn=Te[5],fn=Te[6],xn=Te[7],Yn=Te[8],cr=Te[9],gr=Te[10],Or=Te[11],Ee[0]=dn,Ee[1]=Bn,Ee[2]=ln,Ee[3]=Wn,Ee[4]=mr,Ee[5]=Hn,Ee[6]=fn,Ee[7]=xn,Ee[8]=Yn,Ee[9]=cr,Ee[10]=gr,Ee[11]=Or,Ee[12]=dn*yt+mr*Ft+Yn*en+Te[12],Ee[13]=Bn*yt+Hn*Ft+cr*en+Te[13],Ee[14]=ln*yt+fn*Ft+gr*en+Te[14],Ee[15]=Wn*yt+xn*Ft+Or*en+Te[15]),Ee}function at(Ee,Te){var Le=Te[0],yt=Te[1],Ft=Te[2],en=Te[3],dn=Te[4],Bn=Te[5],ln=Te[6],Wn=Te[7],mr=Te[8],Hn=Te[9],fn=Te[10],xn=Te[11],Yn=Te[12],cr=Te[13],gr=Te[14],Or=Te[15],ni=Le*Bn-yt*dn,Kr=Le*ln-Ft*dn,Ii=Le*Wn-en*dn,jr=yt*ln-Ft*Bn,ps=yt*Wn-en*Bn,ts=Ft*Wn-en*ln,hl=mr*cr-Hn*Yn,Tc=mr*gr-fn*Yn,Rc=mr*Or-xn*Yn,Ic=Hn*gr-fn*cr,Pc=Hn*Or-xn*cr,Lc=fn*Or-xn*gr,uo=ni*Lc-Kr*Pc+Ii*Ic+jr*Rc-ps*Tc+ts*hl;return uo?(uo=1/uo,Ee[0]=(Bn*Lc-ln*Pc+Wn*Ic)*uo,Ee[1]=(Ft*Pc-yt*Lc-en*Ic)*uo,Ee[2]=(cr*ts-gr*ps+Or*jr)*uo,Ee[3]=(fn*ps-Hn*ts-xn*jr)*uo,Ee[4]=(ln*Rc-dn*Lc-Wn*Tc)*uo,Ee[5]=(Le*Lc-Ft*Rc+en*Tc)*uo,Ee[6]=(gr*Ii-Yn*ts-Or*Kr)*uo,Ee[7]=(mr*ts-fn*Ii+xn*Kr)*uo,Ee[8]=(dn*Pc-Bn*Rc+Wn*hl)*uo,Ee[9]=(yt*Rc-Le*Pc-en*hl)*uo,Ee[10]=(Yn*ps-cr*Ii+Or*ni)*uo,Ee[11]=(Hn*Ii-mr*ps-xn*ni)*uo,Ee[12]=(Bn*Tc-dn*Ic-ln*hl)*uo,Ee[13]=(Le*Ic-yt*Tc+Ft*hl)*uo,Ee[14]=(cr*Kr-Yn*jr-gr*ni)*uo,Ee[15]=(mr*jr-Hn*Kr+fn*ni)*uo,Ee):null}var xt=new Float32Array([0,0,0,1]),me=new Float32Array([0,0,0]);function be(Ee,Te,Le,yt,Ft,en){Me(Ee,yt||null,en.depthNear,en.depthFar);var dn=Le.orientation||xt,Bn=Le.position||me;Fe(Te,dn,Bn),Ft&&Je(Te,Te,Ft),at(Te,Te)}return function(Ee,Te,Le){return!Ee||!Te?!1:(Ee.pose=Te,Ee.timestamp=Te.timestamp,be(Ee.leftProjectionMatrix,Ee.leftViewMatrix,Te,Le._getFieldOfView("left"),Le._getEyeOffset("left"),Le),be(Ee.rightProjectionMatrix,Ee.rightViewMatrix,Te,Le._getFieldOfView("right"),Le._getEyeOffset("right"),Le),!0)}}(),gt=function(){var se=window.self!==window.top,Me=Ct(document.referrer),Fe=Ct(window.location.href);return se&&Me!==Fe},Ct=function(se){var Me,Fe=se.indexOf("://");Fe!==-1?Me=Fe+3:Me=0;var Je=se.indexOf("/",Me);return Je===-1&&(Je=se.length),se.substring(0,Je)},Tt=function(se){if(se.w>1)return console.warn("getQuaternionAngle: w > 1"),0;var Me=2*Math.acos(se.w);return Me},Dt=function(){var re={};return function(se,Me){re[se]===void 0&&(console.warn("webvr-polyfill: "+Me),re[se]=!0)}}(),Yt=function(se,Me){var Fe=Me?"Please use "+Me+" instead.":"";Dt(se,se+" has been deprecated. This may not work on native WebVR displays. "+Fe)};function Ve(re,se,Me){if(!se){Me(re);return}for(var Fe=[],Je=null,at=0;at<se.length;++at){var xt=se[at];switch(xt){case re.TEXTURE_BINDING_2D:case re.TEXTURE_BINDING_CUBE_MAP:var me=se[++at];if(me<re.TEXTURE0||me>re.TEXTURE31){console.error("TEXTURE_BINDING_2D or TEXTURE_BINDING_CUBE_MAP must be followed by a valid texture unit"),Fe.push(null,null);break}Je||(Je=re.getParameter(re.ACTIVE_TEXTURE)),re.activeTexture(me),Fe.push(re.getParameter(xt),null);break;case re.ACTIVE_TEXTURE:Je=re.getParameter(re.ACTIVE_TEXTURE),Fe.push(null);break;default:Fe.push(re.getParameter(xt));break}}Me(re);for(var at=0;at<se.length;++at){var xt=se[at],be=Fe[at];switch(xt){case re.ACTIVE_TEXTURE:break;case re.ARRAY_BUFFER_BINDING:re.bindBuffer(re.ARRAY_BUFFER,be);break;case re.COLOR_CLEAR_VALUE:re.clearColor(be[0],be[1],be[2],be[3]);break;case re.COLOR_WRITEMASK:re.colorMask(be[0],be[1],be[2],be[3]);break;case re.CURRENT_PROGRAM:re.useProgram(be);break;case re.ELEMENT_ARRAY_BUFFER_BINDING:re.bindBuffer(re.ELEMENT_ARRAY_BUFFER,be);break;case re.FRAMEBUFFER_BINDING:re.bindFramebuffer(re.FRAMEBUFFER,be);break;case re.RENDERBUFFER_BINDING:re.bindRenderbuffer(re.RENDERBUFFER,be);break;case re.TEXTURE_BINDING_2D:var me=se[++at];if(me<re.TEXTURE0||me>re.TEXTURE31)break;re.activeTexture(me),re.bindTexture(re.TEXTURE_2D,be);break;case re.TEXTURE_BINDING_CUBE_MAP:var me=se[++at];if(me<re.TEXTURE0||me>re.TEXTURE31)break;re.activeTexture(me),re.bindTexture(re.TEXTURE_CUBE_MAP,be);break;case re.VIEWPORT:re.viewport(be[0],be[1],be[2],be[3]);break;case re.BLEND:case re.CULL_FACE:case re.DEPTH_TEST:case re.SCISSOR_TEST:case re.STENCIL_TEST:be?re.enable(xt):re.disable(xt);break;default:console.log("No GL restore behavior for 0x"+xt.toString(16));break}Je&&re.activeTexture(Je)}}var ye=Ve,fe=["attribute vec2 position;","attribute vec3 texCoord;","varying vec2 vTexCoord;","uniform vec4 viewportOffsetScale[2];","void main() {","  vec4 viewport = viewportOffsetScale[int(texCoord.z)];","  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;","  gl_Position = vec4( position, 1.0, 1.0 );","}"].join(`
`),pe=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join(`
`);function _e(re,se,Me,Fe){this.gl=re,this.cardboardUI=se,this.bufferScale=Me,this.dirtySubmitFrameBindings=Fe,this.ctxAttribs=re.getContextAttributes(),this.instanceExt=re.getExtension("ANGLE_instanced_arrays"),this.meshWidth=20,this.meshHeight=20,this.bufferWidth=re.drawingBufferWidth,this.bufferHeight=re.drawingBufferHeight,this.realBindFramebuffer=re.bindFramebuffer,this.realEnable=re.enable,this.realDisable=re.disable,this.realColorMask=re.colorMask,this.realClearColor=re.clearColor,this.realViewport=re.viewport,N()||(this.realCanvasWidth=Object.getOwnPropertyDescriptor(re.canvas.__proto__,"width"),this.realCanvasHeight=Object.getOwnPropertyDescriptor(re.canvas.__proto__,"height")),this.isPatched=!1,this.lastBoundFramebuffer=null,this.cullFace=!1,this.depthTest=!1,this.blend=!1,this.scissorTest=!1,this.stencilTest=!1,this.viewport=[0,0,0,0],this.colorMask=[!0,!0,!0,!0],this.clearColor=[0,0,0,0],this.attribs={position:0,texCoord:1},this.program=Ke(re,fe,pe,this.attribs),this.uniforms=ke(re,this.program),this.viewportOffsetScale=new Float32Array(8),this.setTextureBounds(),this.vertexBuffer=re.createBuffer(),this.indexBuffer=re.createBuffer(),this.indexCount=0,this.renderTarget=re.createTexture(),this.framebuffer=re.createFramebuffer(),this.depthStencilBuffer=null,this.depthBuffer=null,this.stencilBuffer=null,this.ctxAttribs.depth&&this.ctxAttribs.stencil?this.depthStencilBuffer=re.createRenderbuffer():this.ctxAttribs.depth?this.depthBuffer=re.createRenderbuffer():this.ctxAttribs.stencil&&(this.stencilBuffer=re.createRenderbuffer()),this.patch(),this.onResize()}_e.prototype.destroy=function(){var re=this.gl;this.unpatch(),re.deleteProgram(this.program),re.deleteBuffer(this.vertexBuffer),re.deleteBuffer(this.indexBuffer),re.deleteTexture(this.renderTarget),re.deleteFramebuffer(this.framebuffer),this.depthStencilBuffer&&re.deleteRenderbuffer(this.depthStencilBuffer),this.depthBuffer&&re.deleteRenderbuffer(this.depthBuffer),this.stencilBuffer&&re.deleteRenderbuffer(this.stencilBuffer),this.cardboardUI&&this.cardboardUI.destroy()},_e.prototype.onResize=function(){var re=this.gl,se=this,Me=[re.RENDERBUFFER_BINDING,re.TEXTURE_BINDING_2D,re.TEXTURE0];ye(re,Me,function(Fe){se.realBindFramebuffer.call(Fe,Fe.FRAMEBUFFER,null),se.scissorTest&&se.realDisable.call(Fe,Fe.SCISSOR_TEST),se.realColorMask.call(Fe,!0,!0,!0,!0),se.realViewport.call(Fe,0,0,Fe.drawingBufferWidth,Fe.drawingBufferHeight),se.realClearColor.call(Fe,0,0,0,1),Fe.clear(Fe.COLOR_BUFFER_BIT),se.realBindFramebuffer.call(Fe,Fe.FRAMEBUFFER,se.framebuffer),Fe.bindTexture(Fe.TEXTURE_2D,se.renderTarget),Fe.texImage2D(Fe.TEXTURE_2D,0,se.ctxAttribs.alpha?Fe.RGBA:Fe.RGB,se.bufferWidth,se.bufferHeight,0,se.ctxAttribs.alpha?Fe.RGBA:Fe.RGB,Fe.UNSIGNED_BYTE,null),Fe.texParameteri(Fe.TEXTURE_2D,Fe.TEXTURE_MAG_FILTER,Fe.LINEAR),Fe.texParameteri(Fe.TEXTURE_2D,Fe.TEXTURE_MIN_FILTER,Fe.LINEAR),Fe.texParameteri(Fe.TEXTURE_2D,Fe.TEXTURE_WRAP_S,Fe.CLAMP_TO_EDGE),Fe.texParameteri(Fe.TEXTURE_2D,Fe.TEXTURE_WRAP_T,Fe.CLAMP_TO_EDGE),Fe.framebufferTexture2D(Fe.FRAMEBUFFER,Fe.COLOR_ATTACHMENT0,Fe.TEXTURE_2D,se.renderTarget,0),se.ctxAttribs.depth&&se.ctxAttribs.stencil?(Fe.bindRenderbuffer(Fe.RENDERBUFFER,se.depthStencilBuffer),Fe.renderbufferStorage(Fe.RENDERBUFFER,Fe.DEPTH_STENCIL,se.bufferWidth,se.bufferHeight),Fe.framebufferRenderbuffer(Fe.FRAMEBUFFER,Fe.DEPTH_STENCIL_ATTACHMENT,Fe.RENDERBUFFER,se.depthStencilBuffer)):se.ctxAttribs.depth?(Fe.bindRenderbuffer(Fe.RENDERBUFFER,se.depthBuffer),Fe.renderbufferStorage(Fe.RENDERBUFFER,Fe.DEPTH_COMPONENT16,se.bufferWidth,se.bufferHeight),Fe.framebufferRenderbuffer(Fe.FRAMEBUFFER,Fe.DEPTH_ATTACHMENT,Fe.RENDERBUFFER,se.depthBuffer)):se.ctxAttribs.stencil&&(Fe.bindRenderbuffer(Fe.RENDERBUFFER,se.stencilBuffer),Fe.renderbufferStorage(Fe.RENDERBUFFER,Fe.STENCIL_INDEX8,se.bufferWidth,se.bufferHeight),Fe.framebufferRenderbuffer(Fe.FRAMEBUFFER,Fe.STENCIL_ATTACHMENT,Fe.RENDERBUFFER,se.stencilBuffer)),!Fe.checkFramebufferStatus(Fe.FRAMEBUFFER)===Fe.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer incomplete!"),se.realBindFramebuffer.call(Fe,Fe.FRAMEBUFFER,se.lastBoundFramebuffer),se.scissorTest&&se.realEnable.call(Fe,Fe.SCISSOR_TEST),se.realColorMask.apply(Fe,se.colorMask),se.realViewport.apply(Fe,se.viewport),se.realClearColor.apply(Fe,se.clearColor)}),this.cardboardUI&&this.cardboardUI.onResize()},_e.prototype.patch=function(){if(!this.isPatched){var re=this,se=this.gl.canvas,Me=this.gl;N()||(se.width=Be()*this.bufferScale,se.height=ge()*this.bufferScale,Object.defineProperty(se,"width",{configurable:!0,enumerable:!0,get:function(){return re.bufferWidth},set:function(Je){re.bufferWidth=Je,re.realCanvasWidth.set.call(se,Je),re.onResize()}}),Object.defineProperty(se,"height",{configurable:!0,enumerable:!0,get:function(){return re.bufferHeight},set:function(Je){re.bufferHeight=Je,re.realCanvasHeight.set.call(se,Je),re.onResize()}})),this.lastBoundFramebuffer=Me.getParameter(Me.FRAMEBUFFER_BINDING),this.lastBoundFramebuffer==null&&(this.lastBoundFramebuffer=this.framebuffer,this.gl.bindFramebuffer(Me.FRAMEBUFFER,this.framebuffer)),this.gl.bindFramebuffer=function(Fe,Je){re.lastBoundFramebuffer=Je||re.framebuffer,re.realBindFramebuffer.call(Me,Fe,re.lastBoundFramebuffer)},this.cullFace=Me.getParameter(Me.CULL_FACE),this.depthTest=Me.getParameter(Me.DEPTH_TEST),this.blend=Me.getParameter(Me.BLEND),this.scissorTest=Me.getParameter(Me.SCISSOR_TEST),this.stencilTest=Me.getParameter(Me.STENCIL_TEST),Me.enable=function(Fe){switch(Fe){case Me.CULL_FACE:re.cullFace=!0;break;case Me.DEPTH_TEST:re.depthTest=!0;break;case Me.BLEND:re.blend=!0;break;case Me.SCISSOR_TEST:re.scissorTest=!0;break;case Me.STENCIL_TEST:re.stencilTest=!0;break}re.realEnable.call(Me,Fe)},Me.disable=function(Fe){switch(Fe){case Me.CULL_FACE:re.cullFace=!1;break;case Me.DEPTH_TEST:re.depthTest=!1;break;case Me.BLEND:re.blend=!1;break;case Me.SCISSOR_TEST:re.scissorTest=!1;break;case Me.STENCIL_TEST:re.stencilTest=!1;break}re.realDisable.call(Me,Fe)},this.colorMask=Me.getParameter(Me.COLOR_WRITEMASK),Me.colorMask=function(Fe,Je,at,xt){re.colorMask[0]=Fe,re.colorMask[1]=Je,re.colorMask[2]=at,re.colorMask[3]=xt,re.realColorMask.call(Me,Fe,Je,at,xt)},this.clearColor=Me.getParameter(Me.COLOR_CLEAR_VALUE),Me.clearColor=function(Fe,Je,at,xt){re.clearColor[0]=Fe,re.clearColor[1]=Je,re.clearColor[2]=at,re.clearColor[3]=xt,re.realClearColor.call(Me,Fe,Je,at,xt)},this.viewport=Me.getParameter(Me.VIEWPORT),Me.viewport=function(Fe,Je,at,xt){re.viewport[0]=Fe,re.viewport[1]=Je,re.viewport[2]=at,re.viewport[3]=xt,re.realViewport.call(Me,Fe,Je,at,xt)},this.isPatched=!0,ft(se)}},_e.prototype.unpatch=function(){if(this.isPatched){var re=this.gl,se=this.gl.canvas;N()||(Object.defineProperty(se,"width",this.realCanvasWidth),Object.defineProperty(se,"height",this.realCanvasHeight)),se.width=this.bufferWidth,se.height=this.bufferHeight,re.bindFramebuffer=this.realBindFramebuffer,re.enable=this.realEnable,re.disable=this.realDisable,re.colorMask=this.realColorMask,re.clearColor=this.realClearColor,re.viewport=this.realViewport,this.lastBoundFramebuffer==this.framebuffer&&re.bindFramebuffer(re.FRAMEBUFFER,null),this.isPatched=!1,setTimeout(function(){ft(se)},1)}},_e.prototype.setTextureBounds=function(re,se){re||(re=[0,0,.5,1]),se||(se=[.5,0,.5,1]),this.viewportOffsetScale[0]=re[0],this.viewportOffsetScale[1]=re[1],this.viewportOffsetScale[2]=re[2],this.viewportOffsetScale[3]=re[3],this.viewportOffsetScale[4]=se[0],this.viewportOffsetScale[5]=se[1],this.viewportOffsetScale[6]=se[2],this.viewportOffsetScale[7]=se[3]},_e.prototype.submitFrame=function(){var re=this.gl,se=this,Me=[];if(this.dirtySubmitFrameBindings||Me.push(re.CURRENT_PROGRAM,re.ARRAY_BUFFER_BINDING,re.ELEMENT_ARRAY_BUFFER_BINDING,re.TEXTURE_BINDING_2D,re.TEXTURE0),ye(re,Me,function(Je){se.realBindFramebuffer.call(Je,Je.FRAMEBUFFER,null);var at=0,xt=0;se.instanceExt&&(at=Je.getVertexAttrib(se.attribs.position,se.instanceExt.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE),xt=Je.getVertexAttrib(se.attribs.texCoord,se.instanceExt.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE)),se.cullFace&&se.realDisable.call(Je,Je.CULL_FACE),se.depthTest&&se.realDisable.call(Je,Je.DEPTH_TEST),se.blend&&se.realDisable.call(Je,Je.BLEND),se.scissorTest&&se.realDisable.call(Je,Je.SCISSOR_TEST),se.stencilTest&&se.realDisable.call(Je,Je.STENCIL_TEST),se.realColorMask.call(Je,!0,!0,!0,!0),se.realViewport.call(Je,0,0,Je.drawingBufferWidth,Je.drawingBufferHeight),(se.ctxAttribs.alpha||N())&&(se.realClearColor.call(Je,0,0,0,1),Je.clear(Je.COLOR_BUFFER_BIT)),Je.useProgram(se.program),Je.bindBuffer(Je.ELEMENT_ARRAY_BUFFER,se.indexBuffer),Je.bindBuffer(Je.ARRAY_BUFFER,se.vertexBuffer),Je.enableVertexAttribArray(se.attribs.position),Je.enableVertexAttribArray(se.attribs.texCoord),Je.vertexAttribPointer(se.attribs.position,2,Je.FLOAT,!1,20,0),Je.vertexAttribPointer(se.attribs.texCoord,3,Je.FLOAT,!1,20,8),se.instanceExt&&(at!=0&&se.instanceExt.vertexAttribDivisorANGLE(se.attribs.position,0),xt!=0&&se.instanceExt.vertexAttribDivisorANGLE(se.attribs.texCoord,0)),Je.activeTexture(Je.TEXTURE0),Je.uniform1i(se.uniforms.diffuse,0),Je.bindTexture(Je.TEXTURE_2D,se.renderTarget),Je.uniform4fv(se.uniforms.viewportOffsetScale,se.viewportOffsetScale),Je.drawElements(Je.TRIANGLES,se.indexCount,Je.UNSIGNED_SHORT,0),se.cardboardUI&&se.cardboardUI.renderNoState(),se.realBindFramebuffer.call(se.gl,Je.FRAMEBUFFER,se.framebuffer),se.ctxAttribs.preserveDrawingBuffer||(se.realClearColor.call(Je,0,0,0,0),Je.clear(Je.COLOR_BUFFER_BIT)),se.dirtySubmitFrameBindings||se.realBindFramebuffer.call(Je,Je.FRAMEBUFFER,se.lastBoundFramebuffer),se.cullFace&&se.realEnable.call(Je,Je.CULL_FACE),se.depthTest&&se.realEnable.call(Je,Je.DEPTH_TEST),se.blend&&se.realEnable.call(Je,Je.BLEND),se.scissorTest&&se.realEnable.call(Je,Je.SCISSOR_TEST),se.stencilTest&&se.realEnable.call(Je,Je.STENCIL_TEST),se.realColorMask.apply(Je,se.colorMask),se.realViewport.apply(Je,se.viewport),(se.ctxAttribs.alpha||!se.ctxAttribs.preserveDrawingBuffer)&&se.realClearColor.apply(Je,se.clearColor),se.instanceExt&&(at!=0&&se.instanceExt.vertexAttribDivisorANGLE(se.attribs.position,at),xt!=0&&se.instanceExt.vertexAttribDivisorANGLE(se.attribs.texCoord,xt))}),N()){var Fe=re.canvas;(Fe.width!=se.bufferWidth||Fe.height!=se.bufferHeight)&&(se.bufferWidth=Fe.width,se.bufferHeight=Fe.height,se.onResize())}},_e.prototype.updateDeviceInfo=function(re){var se=this.gl,Me=this,Fe=[se.ARRAY_BUFFER_BINDING,se.ELEMENT_ARRAY_BUFFER_BINDING];ye(se,Fe,function(Je){var at=Me.computeMeshVertices_(Me.meshWidth,Me.meshHeight,re);if(Je.bindBuffer(Je.ARRAY_BUFFER,Me.vertexBuffer),Je.bufferData(Je.ARRAY_BUFFER,at,Je.STATIC_DRAW),!Me.indexCount){var xt=Me.computeMeshIndices_(Me.meshWidth,Me.meshHeight);Je.bindBuffer(Je.ELEMENT_ARRAY_BUFFER,Me.indexBuffer),Je.bufferData(Je.ELEMENT_ARRAY_BUFFER,xt,Je.STATIC_DRAW),Me.indexCount=xt.length}})},_e.prototype.computeMeshVertices_=function(re,se,Me){for(var Fe=new Float32Array(2*re*se*5),Je=Me.getLeftEyeVisibleTanAngles(),at=Me.getLeftEyeNoLensTanAngles(),xt=Me.getLeftEyeVisibleScreenRect(at),me=0,be=0;be<2;be++){for(var Ee=0;Ee<se;Ee++)for(var Te=0;Te<re;Te++,me++){var Le=Te/(re-1),yt=Ee/(se-1),Ft=Le,en=yt,dn=F(Je[0],Je[2],Le),Bn=F(Je[3],Je[1],yt),ln=Math.sqrt(dn*dn+Bn*Bn),Wn=Me.distortion.distortInverse(ln),mr=dn*Wn/ln,Hn=Bn*Wn/ln;Le=(mr-at[0])/(at[2]-at[0]),yt=(Hn-at[3])/(at[1]-at[3]),Le=(xt.x+Le*xt.width-.5)*2,yt=(xt.y+yt*xt.height-.5)*2,Fe[me*5+0]=Le,Fe[me*5+1]=yt,Fe[me*5+2]=Ft,Fe[me*5+3]=en,Fe[me*5+4]=be}var fn=Je[2]-Je[0];Je[0]=-(fn+Je[0]),Je[2]=fn-Je[2],fn=at[2]-at[0],at[0]=-(fn+at[0]),at[2]=fn-at[2],xt.x=1-(xt.x+xt.width)}return Fe},_e.prototype.computeMeshIndices_=function(re,se){for(var Me=new Uint16Array(2*(re-1)*(se-1)*6),Fe=re/2,Je=se/2,at=0,xt=0,me=0;me<2;me++)for(var be=0;be<se;be++)for(var Ee=0;Ee<re;Ee++,at++)Ee==0||be==0||(Ee<=Fe==be<=Je?(Me[xt++]=at,Me[xt++]=at-re-1,Me[xt++]=at-re,Me[xt++]=at-re-1,Me[xt++]=at,Me[xt++]=at-1):(Me[xt++]=at-1,Me[xt++]=at-re,Me[xt++]=at,Me[xt++]=at-re,Me[xt++]=at-1,Me[xt++]=at-re-1));return Me},_e.prototype.getOwnPropertyDescriptor_=function(re,se){var Me=Object.getOwnPropertyDescriptor(re,se);return(Me.get===void 0||Me.set===void 0)&&(Me.configurable=!0,Me.enumerable=!0,Me.get=function(){return this.getAttribute(se)},Me.set=function(Fe){this.setAttribute(se,Fe)}),Me};var Ce=["attribute vec2 position;","uniform mat4 projectionMat;","void main() {","  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );","}"].join(`
`),Se=["precision mediump float;","uniform vec4 color;","void main() {","  gl_FragColor = color;","}"].join(`
`),we=Math.PI/180,je=60,Ae=12,Ue=20,et=1,ue=.75,Y=.3125,ne=4,Pe=28,We=1.5;function ve(re){this.gl=re,this.attribs={position:0},this.program=Ke(re,Ce,Se,this.attribs),this.uniforms=ke(re,this.program),this.vertexBuffer=re.createBuffer(),this.gearOffset=0,this.gearVertexCount=0,this.arrowOffset=0,this.arrowVertexCount=0,this.projMat=new Float32Array(16),this.listener=null,this.onResize()}ve.prototype.destroy=function(){var re=this.gl;this.listener&&re.canvas.removeEventListener("click",this.listener,!1),re.deleteProgram(this.program),re.deleteBuffer(this.vertexBuffer)},ve.prototype.listen=function(re,se){var Me=this.gl.canvas;this.listener=function(Fe){var Je=Me.clientWidth/2,at=Pe*We;Fe.clientX>Je-at&&Fe.clientX<Je+at&&Fe.clientY>Me.clientHeight-at?re(Fe):Fe.clientX<at&&Fe.clientY<at&&se(Fe)},Me.addEventListener("click",this.listener,!1)},ve.prototype.onResize=function(){var re=this.gl,se=this,Me=[re.ARRAY_BUFFER_BINDING];ye(re,Me,function(Fe){var Je=[],at=Fe.drawingBufferWidth/2,xt=Math.max(screen.width,screen.height)*window.devicePixelRatio,me=Fe.drawingBufferWidth/xt,be=me*window.devicePixelRatio,Ee=ne*be/2,Te=Pe*We*be,Le=Pe*be/2,yt=(Pe*We-Pe)*be;Je.push(at-Ee,Te),Je.push(at-Ee,Fe.drawingBufferHeight),Je.push(at+Ee,Te),Je.push(at+Ee,Fe.drawingBufferHeight),se.gearOffset=Je.length/2;function Ft(Wn,mr){var Hn=(90-Wn)*we,fn=Math.cos(Hn),xn=Math.sin(Hn);Je.push(Y*fn*Le+at,Y*xn*Le+Le),Je.push(mr*fn*Le+at,mr*xn*Le+Le)}for(var en=0;en<=6;en++){var dn=en*je;Ft(dn,et),Ft(dn+Ae,et),Ft(dn+Ue,ue),Ft(dn+(je-Ue),ue),Ft(dn+(je-Ae),et)}se.gearVertexCount=Je.length/2-se.gearOffset,se.arrowOffset=Je.length/2;function Bn(Wn,mr){Je.push(yt+Wn,Fe.drawingBufferHeight-yt-mr)}var ln=Ee/Math.sin(45*we);Bn(0,Le),Bn(Le,0),Bn(Le+ln,ln),Bn(ln,Le+ln),Bn(ln,Le-ln),Bn(0,Le),Bn(Le,Le*2),Bn(Le+ln,Le*2-ln),Bn(ln,Le-ln),Bn(0,Le),Bn(ln,Le-Ee),Bn(Pe*be,Le-Ee),Bn(ln,Le+Ee),Bn(Pe*be,Le+Ee),se.arrowVertexCount=Je.length/2-se.arrowOffset,Fe.bindBuffer(Fe.ARRAY_BUFFER,se.vertexBuffer),Fe.bufferData(Fe.ARRAY_BUFFER,new Float32Array(Je),Fe.STATIC_DRAW)})},ve.prototype.render=function(){var re=this.gl,se=this,Me=[re.CULL_FACE,re.DEPTH_TEST,re.BLEND,re.SCISSOR_TEST,re.STENCIL_TEST,re.COLOR_WRITEMASK,re.VIEWPORT,re.CURRENT_PROGRAM,re.ARRAY_BUFFER_BINDING];ye(re,Me,function(Fe){Fe.disable(Fe.CULL_FACE),Fe.disable(Fe.DEPTH_TEST),Fe.disable(Fe.BLEND),Fe.disable(Fe.SCISSOR_TEST),Fe.disable(Fe.STENCIL_TEST),Fe.colorMask(!0,!0,!0,!0),Fe.viewport(0,0,Fe.drawingBufferWidth,Fe.drawingBufferHeight),se.renderNoState()})},ve.prototype.renderNoState=function(){var re=this.gl;re.useProgram(this.program),re.bindBuffer(re.ARRAY_BUFFER,this.vertexBuffer),re.enableVertexAttribArray(this.attribs.position),re.vertexAttribPointer(this.attribs.position,2,re.FLOAT,!1,8,0),re.uniform4f(this.uniforms.color,1,1,1,1),st(this.projMat,0,re.drawingBufferWidth,0,re.drawingBufferHeight,.1,1024),re.uniformMatrix4fv(this.uniforms.projectionMat,!1,this.projMat),re.drawArrays(re.TRIANGLE_STRIP,0,4),re.drawArrays(re.TRIANGLE_STRIP,this.gearOffset,this.gearVertexCount),re.drawArrays(re.TRIANGLE_STRIP,this.arrowOffset,this.arrowVertexCount)};function he(re){this.coefficients=re}he.prototype.distortInverse=function(re){for(var se=0,Me=1,Fe=re-this.distort(se);Math.abs(Me-se)>1e-4;){var Je=re-this.distort(Me),at=Me-Je*((Me-se)/(Je-Fe));se=Me,Me=at,Fe=Je}return Me},he.prototype.distort=function(re){for(var se=re*re,Me=0,Fe=0;Fe<this.coefficients.length;Fe++)Me=se*(Me+this.coefficients[Fe]);return(Me+1)*re};var Ye=Math.PI/180,Ze=180/Math.PI,Qe=function(se,Me,Fe){this.x=se||0,this.y=Me||0,this.z=Fe||0};Qe.prototype={constructor:Qe,set:function(se,Me,Fe){return this.x=se,this.y=Me,this.z=Fe,this},copy:function(se){return this.x=se.x,this.y=se.y,this.z=se.z,this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var se=this.length();if(se!==0){var Me=1/se;this.multiplyScalar(Me)}else this.x=0,this.y=0,this.z=0;return this},multiplyScalar:function(se){this.x*=se,this.y*=se,this.z*=se},applyQuaternion:function(se){var Me=this.x,Fe=this.y,Je=this.z,at=se.x,xt=se.y,me=se.z,be=se.w,Ee=be*Me+xt*Je-me*Fe,Te=be*Fe+me*Me-at*Je,Le=be*Je+at*Fe-xt*Me,yt=-at*Me-xt*Fe-me*Je;return this.x=Ee*be+yt*-at+Te*-me-Le*-xt,this.y=Te*be+yt*-xt+Le*-at-Ee*-me,this.z=Le*be+yt*-me+Ee*-xt-Te*-at,this},dot:function(se){return this.x*se.x+this.y*se.y+this.z*se.z},crossVectors:function(se,Me){var Fe=se.x,Je=se.y,at=se.z,xt=Me.x,me=Me.y,be=Me.z;return this.x=Je*be-at*me,this.y=at*xt-Fe*be,this.z=Fe*me-Je*xt,this}};var nt=function(se,Me,Fe,Je){this.x=se||0,this.y=Me||0,this.z=Fe||0,this.w=Je!==void 0?Je:1};nt.prototype={constructor:nt,set:function(se,Me,Fe,Je){return this.x=se,this.y=Me,this.z=Fe,this.w=Je,this},copy:function(se){return this.x=se.x,this.y=se.y,this.z=se.z,this.w=se.w,this},setFromEulerXYZ:function(se,Me,Fe){var Je=Math.cos(se/2),at=Math.cos(Me/2),xt=Math.cos(Fe/2),me=Math.sin(se/2),be=Math.sin(Me/2),Ee=Math.sin(Fe/2);return this.x=me*at*xt+Je*be*Ee,this.y=Je*be*xt-me*at*Ee,this.z=Je*at*Ee+me*be*xt,this.w=Je*at*xt-me*be*Ee,this},setFromEulerYXZ:function(se,Me,Fe){var Je=Math.cos(se/2),at=Math.cos(Me/2),xt=Math.cos(Fe/2),me=Math.sin(se/2),be=Math.sin(Me/2),Ee=Math.sin(Fe/2);return this.x=me*at*xt+Je*be*Ee,this.y=Je*be*xt-me*at*Ee,this.z=Je*at*Ee-me*be*xt,this.w=Je*at*xt+me*be*Ee,this},setFromAxisAngle:function(se,Me){var Fe=Me/2,Je=Math.sin(Fe);return this.x=se.x*Je,this.y=se.y*Je,this.z=se.z*Je,this.w=Math.cos(Fe),this},multiply:function(se){return this.multiplyQuaternions(this,se)},multiplyQuaternions:function(se,Me){var Fe=se.x,Je=se.y,at=se.z,xt=se.w,me=Me.x,be=Me.y,Ee=Me.z,Te=Me.w;return this.x=Fe*Te+xt*me+Je*Ee-at*be,this.y=Je*Te+xt*be+at*me-Fe*Ee,this.z=at*Te+xt*Ee+Fe*be-Je*me,this.w=xt*Te-Fe*me-Je*be-at*Ee,this},inverse:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.normalize(),this},normalize:function(){var se=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return se===0?(this.x=0,this.y=0,this.z=0,this.w=1):(se=1/se,this.x=this.x*se,this.y=this.y*se,this.z=this.z*se,this.w=this.w*se),this},slerp:function(se,Me){if(Me===0)return this;if(Me===1)return this.copy(se);var Fe=this.x,Je=this.y,at=this.z,xt=this.w,me=xt*se.w+Fe*se.x+Je*se.y+at*se.z;if(me<0?(this.w=-se.w,this.x=-se.x,this.y=-se.y,this.z=-se.z,me=-me):this.copy(se),me>=1)return this.w=xt,this.x=Fe,this.y=Je,this.z=at,this;var be=Math.acos(me),Ee=Math.sqrt(1-me*me);if(Math.abs(Ee)<.001)return this.w=.5*(xt+this.w),this.x=.5*(Fe+this.x),this.y=.5*(Je+this.y),this.z=.5*(at+this.z),this;var Te=Math.sin((1-Me)*be)/Ee,Le=Math.sin(Me*be)/Ee;return this.w=xt*Te+this.w*Le,this.x=Fe*Te+this.x*Le,this.y=Je*Te+this.y*Le,this.z=at*Te+this.z*Le,this},setFromUnitVectors:function(){var re,se,Me=1e-6;return function(Fe,Je){return re===void 0&&(re=new Qe),se=Fe.dot(Je)+1,se<Me?(se=0,Math.abs(Fe.x)>Math.abs(Fe.z)?re.set(-Fe.y,Fe.x,0):re.set(0,-Fe.z,Fe.y)):re.crossVectors(Fe,Je),this.x=re.x,this.y=re.y,this.z=re.z,this.w=se,this.normalize(),this}}()};function It(re){this.width=re.width||Be(),this.height=re.height||ge(),this.widthMeters=re.widthMeters,this.heightMeters=re.heightMeters,this.bevelMeters=re.bevelMeters}var kt=new It({widthMeters:.11,heightMeters:.062,bevelMeters:.004}),Bt=new It({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004}),jt={CardboardV1:new Lt({id:"CardboardV1",label:"Cardboard I/O 2014",fov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]}),CardboardV2:new Lt({id:"CardboardV2",label:"Cardboard I/O 2015",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]})};function Vt(re,se){this.viewer=jt.CardboardV2,this.updateDeviceParams(re),this.distortion=new he(this.viewer.distortionCoefficients);for(var Me=0;Me<se.length;Me++){var Fe=se[Me];jt[Fe.id]=new Lt(Fe)}}Vt.prototype.updateDeviceParams=function(re){this.device=this.determineDevice_(re)||this.device},Vt.prototype.getDevice=function(){return this.device},Vt.prototype.setViewer=function(re){this.viewer=re,this.distortion=new he(this.viewer.distortionCoefficients)},Vt.prototype.determineDevice_=function(re){if(!re)return N()?(console.warn("Using fallback iOS device measurements."),Bt):(console.warn("Using fallback Android device measurements."),kt);var se=.0254,Me=se/re.xdpi,Fe=se/re.ydpi,Je=Be(),at=ge();return new It({widthMeters:Me*Je,heightMeters:Fe*at,bevelMeters:re.bevelMm*.001})},Vt.prototype.getDistortedFieldOfViewLeftEye=function(){var re=this.viewer,se=this.device,Me=this.distortion,Fe=re.screenLensDistance,Je=(se.widthMeters-re.interLensDistance)/2,at=re.interLensDistance/2,xt=re.baselineLensDistance-se.bevelMeters,me=se.heightMeters-xt,be=Ze*Math.atan(Me.distort(Je/Fe)),Ee=Ze*Math.atan(Me.distort(at/Fe)),Te=Ze*Math.atan(Me.distort(xt/Fe)),Le=Ze*Math.atan(Me.distort(me/Fe));return{leftDegrees:Math.min(be,re.fov),rightDegrees:Math.min(Ee,re.fov),downDegrees:Math.min(Te,re.fov),upDegrees:Math.min(Le,re.fov)}},Vt.prototype.getLeftEyeVisibleTanAngles=function(){var re=this.viewer,se=this.device,Me=this.distortion,Fe=Math.tan(-Ye*re.fov),Je=Math.tan(Ye*re.fov),at=Math.tan(Ye*re.fov),xt=Math.tan(-Ye*re.fov),me=se.widthMeters/4,be=se.heightMeters/2,Ee=re.baselineLensDistance-se.bevelMeters-be,Te=re.interLensDistance/2-me,Le=-Ee,yt=re.screenLensDistance,Ft=Me.distort((Te-me)/yt),en=Me.distort((Le+be)/yt),dn=Me.distort((Te+me)/yt),Bn=Me.distort((Le-be)/yt),ln=new Float32Array(4);return ln[0]=Math.max(Fe,Ft),ln[1]=Math.min(Je,en),ln[2]=Math.min(at,dn),ln[3]=Math.max(xt,Bn),ln},Vt.prototype.getLeftEyeNoLensTanAngles=function(){var re=this.viewer,se=this.device,Me=this.distortion,Fe=new Float32Array(4),Je=Me.distortInverse(Math.tan(-Ye*re.fov)),at=Me.distortInverse(Math.tan(Ye*re.fov)),xt=Me.distortInverse(Math.tan(Ye*re.fov)),me=Me.distortInverse(Math.tan(-Ye*re.fov)),be=se.widthMeters/4,Ee=se.heightMeters/2,Te=re.baselineLensDistance-se.bevelMeters-Ee,Le=re.interLensDistance/2-be,yt=-Te,Ft=re.screenLensDistance,en=(Le-be)/Ft,dn=(yt+Ee)/Ft,Bn=(Le+be)/Ft,ln=(yt-Ee)/Ft;return Fe[0]=Math.max(Je,en),Fe[1]=Math.min(at,dn),Fe[2]=Math.min(xt,Bn),Fe[3]=Math.max(me,ln),Fe},Vt.prototype.getLeftEyeVisibleScreenRect=function(re){var se=this.viewer,Me=this.device,Fe=se.screenLensDistance,Je=(Me.widthMeters-se.interLensDistance)/2,at=se.baselineLensDistance-Me.bevelMeters,xt=(re[0]*Fe+Je)/Me.widthMeters,me=(re[1]*Fe+at)/Me.heightMeters,be=(re[2]*Fe+Je)/Me.widthMeters,Ee=(re[3]*Fe+at)/Me.heightMeters;return{x:xt,y:Ee,width:be-xt,height:me-Ee}},Vt.prototype.getFieldOfViewLeftEye=function(re){return re?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()},Vt.prototype.getFieldOfViewRightEye=function(re){var se=this.getFieldOfViewLeftEye(re);return{leftDegrees:se.rightDegrees,rightDegrees:se.leftDegrees,upDegrees:se.upDegrees,downDegrees:se.downDegrees}},Vt.prototype.getUndistortedFieldOfViewLeftEye=function(){var re=this.getUndistortedParams_();return{leftDegrees:Ze*Math.atan(re.outerDist),rightDegrees:Ze*Math.atan(re.innerDist),downDegrees:Ze*Math.atan(re.bottomDist),upDegrees:Ze*Math.atan(re.topDist)}},Vt.prototype.getUndistortedViewportLeftEye=function(){var re=this.getUndistortedParams_(),se=this.viewer,Me=this.device,Fe=se.screenLensDistance,Je=Me.widthMeters/Fe,at=Me.heightMeters/Fe,xt=Me.width/Je,me=Me.height/at,be=Math.round((re.eyePosX-re.outerDist)*xt),Ee=Math.round((re.eyePosY-re.bottomDist)*me);return{x:be,y:Ee,width:Math.round((re.eyePosX+re.innerDist)*xt)-be,height:Math.round((re.eyePosY+re.topDist)*me)-Ee}},Vt.prototype.getUndistortedParams_=function(){var re=this.viewer,se=this.device,Me=this.distortion,Fe=re.screenLensDistance,Je=re.interLensDistance/2/Fe,at=se.widthMeters/Fe,xt=se.heightMeters/Fe,me=at/2-Je,be=(re.baselineLensDistance-se.bevelMeters)/Fe,Ee=re.fov,Te=Me.distortInverse(Math.tan(Ye*Ee)),Le=Math.min(me,Te),yt=Math.min(Je,Te),Ft=Math.min(be,Te),en=Math.min(xt-be,Te);return{outerDist:Le,innerDist:yt,topDist:en,bottomDist:Ft,eyePosX:me,eyePosY:be}};function Lt(re){this.id=re.id,this.label=re.label,this.fov=re.fov,this.interLensDistance=re.interLensDistance,this.baselineLensDistance=re.baselineLensDistance,this.screenLensDistance=re.screenLensDistance,this.distortionCoefficients=re.distortionCoefficients,this.inverseCoefficients=re.inverseCoefficients}Vt.Viewers=jt;var mt=1,Nt="2019-11-09T17:36:14Z",cn=[{type:"android",rules:[{mdmh:"asus/*/Nexus 7/*"},{ua:"Nexus 7"}],dpi:[320.8,323],bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_X00PD/*"},{ua:"ASUS_X00PD"}],dpi:245,bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_X008D/*"},{ua:"ASUS_X008D"}],dpi:282,bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_Z00AD/*"},{ua:"ASUS_Z00AD"}],dpi:[403,404.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 2 XL/*"},{ua:"Pixel 2 XL"}],dpi:537.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 3 XL/*"},{ua:"Pixel 3 XL"}],dpi:[558.5,553.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel XL/*"},{ua:"Pixel XL"}],dpi:[537.9,533],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 3/*"},{ua:"Pixel 3"}],dpi:442.4,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 2/*"},{ua:"Pixel 2"}],dpi:441,bw:3,ac:500},{type:"android",rules:[{mdmh:"Google/*/Pixel/*"},{ua:"Pixel"}],dpi:[432.6,436.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC6435LVW/*"},{ua:"HTC6435LVW"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC One XL/*"},{ua:"HTC One XL"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"htc/*/Nexus 9/*"},{ua:"Nexus 9"}],dpi:289,bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One M9/*"},{ua:"HTC One M9"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One_M8/*"},{ua:"HTC One_M8"}],dpi:[449.7,447.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One/*"},{ua:"HTC One"}],dpi:472.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/Nexus 6P/*"},{ua:"Nexus 6P"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/BLN-L24/*"},{ua:"HONORBLN-L24"}],dpi:480,bw:4,ac:500},{type:"android",rules:[{mdmh:"Huawei/*/BKL-L09/*"},{ua:"BKL-L09"}],dpi:403,bw:3.47,ac:500},{type:"android",rules:[{mdmh:"LENOVO/*/Lenovo PB2-690Y/*"},{ua:"Lenovo PB2-690Y"}],dpi:[457.2,454.713],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5X/*"},{ua:"Nexus 5X"}],dpi:[422,419.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS345/*"},{ua:"LGMS345"}],dpi:[221.7,219.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D800/*"},{ua:"LG-D800"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D850/*"},{ua:"LG-D850"}],dpi:[537.9,541.9],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/VS985 4G/*"},{ua:"VS985 4G"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5/*"},{ua:"Nexus 5 B"}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 4/*"},{ua:"Nexus 4"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LG-P769/*"},{ua:"LG-P769"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS323/*"},{ua:"LGMS323"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGLS996/*"},{ua:"LGLS996"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/4560MMX/*"},{ua:"4560MMX"}],dpi:[240,219.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/A250/*"},{ua:"Micromax A250"}],dpi:[480,446.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/Micromax AQ4501/*"},{ua:"Micromax AQ4501"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/G5/*"},{ua:"Moto G (5) Plus"}],dpi:[403.4,403],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/DROID RAZR/*"},{ua:"DROID RAZR"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT830C/*"},{ua:"XT830C"}],dpi:[254,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1021/*"},{ua:"XT1021"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1023/*"},{ua:"XT1023"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1028/*"},{ua:"XT1028"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1034/*"},{ua:"XT1034"}],dpi:[326.6,328.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1053/*"},{ua:"XT1053"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1562/*"},{ua:"XT1562"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/Nexus 6/*"},{ua:"Nexus 6 B"}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1063/*"},{ua:"XT1063"}],dpi:[295,296.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1064/*"},{ua:"XT1064"}],dpi:[295,295.6],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1092/*"},{ua:"XT1092"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1095/*"},{ua:"XT1095"}],dpi:[422,423.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/G4/*"},{ua:"Moto G (4)"}],dpi:401,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/A0001/*"},{ua:"A0001"}],dpi:[403.4,401],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1001/*"},{ua:"ONE E1001"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1003/*"},{ua:"ONE E1003"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1005/*"},{ua:"ONE E1005"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2001/*"},{ua:"ONE A2001"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2003/*"},{ua:"ONE A2003"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2005/*"},{ua:"ONE A2005"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A3000/*"},{ua:"ONEPLUS A3000"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A3003/*"},{ua:"ONEPLUS A3003"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A3010/*"},{ua:"ONEPLUS A3010"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A5000/*"},{ua:"ONEPLUS A5000 "}],dpi:[403.411,399.737],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A5010/*"},{ua:"ONEPLUS A5010"}],dpi:[403,400],bw:2,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6000/*"},{ua:"ONEPLUS A6000"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6003/*"},{ua:"ONEPLUS A6003"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6010/*"},{ua:"ONEPLUS A6010"}],dpi:401,bw:2,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6013/*"},{ua:"ONEPLUS A6013"}],dpi:401,bw:2,ac:500},{type:"android",rules:[{mdmh:"OPPO/*/X909/*"},{ua:"X909"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9082/*"},{ua:"GT-I9082"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G360P/*"},{ua:"SM-G360P"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Nexus S/*"},{ua:"Nexus S"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[304.8,303.9],bw:5,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-T230NU/*"},{ua:"SM-T230NU"}],dpi:216,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SGH-T399/*"},{ua:"SGH-T399"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SGH-M919/*"},{ua:"SGH-M919"}],dpi:[440.8,437.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N9005/*"},{ua:"SM-N9005"}],dpi:[386.4,387],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SM-N900A/*"},{ua:"SAMSUNG-SM-N900A"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9500/*"},{ua:"GT-I9500"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/GT-I9505/*"},{ua:"GT-I9505"}],dpi:439.4,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900F/*"},{ua:"SM-G900F"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900M/*"},{ua:"SM-G900M"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G800F/*"},{ua:"SM-G800F"}],dpi:326.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G906S/*"},{ua:"SM-G906S"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-T535/*"},{ua:"SM-T535"}],dpi:[142.6,136.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-N920C/*"},{ua:"SM-N920C"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920P/*"},{ua:"SM-N920P"}],dpi:[386.3655,390.144],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920W8/*"},{ua:"SM-N920W8"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300I/*"},{ua:"GT-I9300I"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9195/*"},{ua:"GT-I9195"}],dpi:[249.4,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SPH-L520/*"},{ua:"SPH-L520"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SGH-I717/*"},{ua:"SAMSUNG-SGH-I717"}],dpi:285.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SPH-D710/*"},{ua:"SPH-D710"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-N7100/*"},{ua:"GT-N7100"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SCH-I605/*"},{ua:"SCH-I605"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Galaxy Nexus/*"},{ua:"Galaxy Nexus"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910H/*"},{ua:"SM-N910H"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910C/*"},{ua:"SM-N910C"}],dpi:[515.2,520.2],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G130M/*"},{ua:"SM-G130M"}],dpi:[165.9,164.8],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G928I/*"},{ua:"SM-G928I"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G920F/*"},{ua:"SM-G920F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G920P/*"},{ua:"SM-G920P"}],dpi:[522.5,577],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G925F/*"},{ua:"SM-G925F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G925V/*"},{ua:"SM-G925V"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G930F/*"},{ua:"SM-G930F"}],dpi:576.6,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G935F/*"},{ua:"SM-G935F"}],dpi:533,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G950F/*"},{ua:"SM-G950F"}],dpi:[562.707,565.293],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955U/*"},{ua:"SM-G955U"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955F/*"},{ua:"SM-G955F"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G960F/*"},{ua:"SM-G960F"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G9600/*"},{ua:"SM-G9600"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960T/*"},{ua:"SM-G960T"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960N/*"},{ua:"SM-G960N"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960U/*"},{ua:"SM-G960U"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G9608/*"},{ua:"SM-G9608"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960FD/*"},{ua:"SM-G960FD"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960W/*"},{ua:"SM-G960W"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G965F/*"},{ua:"SM-G965F"}],dpi:529,bw:2,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/C6903/*"},{ua:"C6903"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/D6653/*"},{ua:"D6653"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6653/*"},{ua:"E6653"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6853/*"},{ua:"E6853"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/SGP321/*"},{ua:"SGP321"}],dpi:[224.7,224.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"TCT/*/ALCATEL ONE TOUCH Fierce/*"},{ua:"ALCATEL ONE TOUCH Fierce"}],dpi:[240,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"THL/*/thl 5000/*"},{ua:"thl 5000"}],dpi:[480,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Fly/*/IQ4412/*"},{ua:"IQ4412"}],dpi:307.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"ZTE/*/ZTE Blade L2/*"},{ua:"ZTE Blade L2"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"BENEVE/*/VR518/*"},{ua:"VR518"}],dpi:480,bw:3,ac:500},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2001]}],dpi:[410.9,415.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2436]}],dpi:458,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/EML-L29/*"},{ua:"EML-L29"}],dpi:428,bw:3.45,ac:500},{type:"android",rules:[{mdmh:"Nokia/*/Nokia 7.1/*"},{ua:"Nokia 7.1"}],dpi:[432,431.9],bw:3,ac:500},{type:"ios",rules:[{res:[1242,2688]}],dpi:458,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G570M/*"},{ua:"SM-G570M"}],dpi:320,bw:3.684,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G970F/*"},{ua:"SM-G970F"}],dpi:438,bw:2.281,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G973F/*"},{ua:"SM-G973F"}],dpi:550,bw:2.002,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G975F/*"},{ua:"SM-G975F"}],dpi:522,bw:2.054,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G977F/*"},{ua:"SM-G977F"}],dpi:505,bw:2.334,ac:500},{type:"ios",rules:[{res:[828,1792]}],dpi:326,bw:5,ac:500}],Jt={format:mt,last_updated:Nt,devices:cn};function Sn(re,se){if(this.dpdb=Jt,this.recalculateDeviceParams_(),re){this.onDeviceParamsUpdated=se;var Me=new XMLHttpRequest,Fe=this;Me.open("GET",re,!0),Me.addEventListener("load",function(){Fe.loading=!1,Me.status>=200&&Me.status<=299?(Fe.dpdb=JSON.parse(Me.response),Fe.recalculateDeviceParams_()):console.error("Error loading online DPDB!")}),Me.send()}}Sn.prototype.getDeviceParams=function(){return this.deviceParams},Sn.prototype.recalculateDeviceParams_=function(){var re=this.calcDeviceParams_();re?(this.deviceParams=re,this.onDeviceParamsUpdated&&this.onDeviceParamsUpdated(this.deviceParams)):console.error("Failed to recalculate device parameters.")},Sn.prototype.calcDeviceParams_=function(){var re=this.dpdb;if(!re)return console.error("DPDB not available."),null;if(re.format!=1)return console.error("DPDB has unexpected format version."),null;if(!re.devices||!re.devices.length)return console.error("DPDB does not have a devices section."),null;var se=navigator.userAgent||navigator.vendor||window.opera,Me=Be(),Fe=ge();if(!re.devices)return console.error("DPDB has no devices section."),null;for(var Je=0;Je<re.devices.length;Je++){var at=re.devices[Je];if(!at.rules){console.warn("Device["+Je+"] has no rules section.");continue}if(at.type!="ios"&&at.type!="android"){console.warn("Device["+Je+"] has invalid type.");continue}if(N()==(at.type=="ios")){for(var xt=!1,me=0;me<at.rules.length;me++){var be=at.rules[me];if(this.ruleMatches_(be,se,Me,Fe)){xt=!0;break}}if(xt){var Ee=at.dpi[0]||at.dpi,Te=at.dpi[1]||at.dpi;return new yn({xdpi:Ee,ydpi:Te,bevelMm:at.bw})}}}return console.warn("No DPDB device match."),null},Sn.prototype.ruleMatches_=function(re,se,Me,Fe){if(!re.ua&&!re.res||(re.ua&&re.ua.substring(0,2)==="SM"&&(re.ua=re.ua.substring(0,7)),re.ua&&se.indexOf(re.ua)<0))return!1;if(re.res){if(!re.res[0]||!re.res[1])return!1;var Je=re.res[0],at=re.res[1];if(Math.min(Me,Fe)!=Math.min(Je,at)||Math.max(Me,Fe)!=Math.max(Je,at))return!1}return!0};function yn(re){this.xdpi=re.xdpi,this.ydpi=re.ydpi,this.bevelMm=re.bevelMm}function Ln(re,se){this.set(re,se)}Ln.prototype.set=function(re,se){this.sample=re,this.timestampS=se},Ln.prototype.copy=function(re){this.set(re.sample,re.timestampS)};function rr(re,se){this.kFilter=re,this.isDebug=se,this.currentAccelMeasurement=new Ln,this.currentGyroMeasurement=new Ln,this.previousGyroMeasurement=new Ln,N()?this.filterQ=new nt(-1,0,0,1):this.filterQ=new nt(1,0,0,1),this.previousFilterQ=new nt,this.previousFilterQ.copy(this.filterQ),this.accelQ=new nt,this.isOrientationInitialized=!1,this.estimatedGravity=new Qe,this.measuredGravity=new Qe,this.gyroIntegralQ=new nt}rr.prototype.addAccelMeasurement=function(re,se){this.currentAccelMeasurement.set(re,se)},rr.prototype.addGyroMeasurement=function(re,se){this.currentGyroMeasurement.set(re,se);var Me=se-this.previousGyroMeasurement.timestampS;ce(Me)&&this.run_(),this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},rr.prototype.run_=function(){if(!this.isOrientationInitialized){this.accelQ=this.accelToQuaternion_(this.currentAccelMeasurement.sample),this.previousFilterQ.copy(this.accelQ),this.isOrientationInitialized=!0;return}var re=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS,se=this.gyroToQuaternionDelta_(this.currentGyroMeasurement.sample,re);this.gyroIntegralQ.multiply(se),this.filterQ.copy(this.previousFilterQ),this.filterQ.multiply(se);var Me=new nt;Me.copy(this.filterQ),Me.inverse(),this.estimatedGravity.set(0,0,-1),this.estimatedGravity.applyQuaternion(Me),this.estimatedGravity.normalize(),this.measuredGravity.copy(this.currentAccelMeasurement.sample),this.measuredGravity.normalize();var Fe=new nt;Fe.setFromUnitVectors(this.estimatedGravity,this.measuredGravity),Fe.inverse(),this.isDebug&&console.log("Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)",Ze*Tt(Fe),this.estimatedGravity.x.toFixed(1),this.estimatedGravity.y.toFixed(1),this.estimatedGravity.z.toFixed(1),this.measuredGravity.x.toFixed(1),this.measuredGravity.y.toFixed(1),this.measuredGravity.z.toFixed(1));var Je=new nt;Je.copy(this.filterQ),Je.multiply(Fe),this.filterQ.slerp(Je,1-this.kFilter),this.previousFilterQ.copy(this.filterQ)},rr.prototype.getOrientation=function(){return this.filterQ},rr.prototype.accelToQuaternion_=function(re){var se=new Qe;se.copy(re),se.normalize();var Me=new nt;return Me.setFromUnitVectors(new Qe(0,0,-1),se),Me.inverse(),Me},rr.prototype.gyroToQuaternionDelta_=function(re,se){var Me=new nt,Fe=new Qe;return Fe.copy(re),Fe.normalize(),Me.setFromAxisAngle(Fe,re.length()*se),Me};function jn(re,se){this.predictionTimeS=re,this.isDebug=se,this.previousQ=new nt,this.previousTimestampS=null,this.deltaQ=new nt,this.outQ=new nt}jn.prototype.getPrediction=function(re,se,Me){if(!this.previousTimestampS)return this.previousQ.copy(re),this.previousTimestampS=Me,re;var Fe=new Qe;Fe.copy(se),Fe.normalize();var Je=se.length();if(Je<Ye*20)return this.isDebug&&console.log("Moving slowly, at %s deg/s: no prediction",(Ze*Je).toFixed(1)),this.outQ.copy(re),this.previousQ.copy(re),this.outQ;var at=Je*this.predictionTimeS;return this.deltaQ.setFromAxisAngle(Fe,at),this.outQ.copy(this.previousQ),this.outQ.multiply(this.deltaQ),this.previousQ.copy(re),this.previousTimestampS=Me,this.outQ};function Fn(re,se,Me,Fe){this.yawOnly=Me,this.accelerometer=new Qe,this.gyroscope=new Qe,this.filter=new rr(re,Fe),this.posePredictor=new jn(se,Fe),this.isFirefoxAndroid=G(),this.isIOS=N();var Je=Q();this.isDeviceMotionInRadians=!this.isIOS&&Je&&Je<66,this.isWithoutDeviceMotion=J()||X(),this.filterToWorldQ=new nt,N()?this.filterToWorldQ.setFromAxisAngle(new Qe(1,0,0),Math.PI/2):this.filterToWorldQ.setFromAxisAngle(new Qe(1,0,0),-Math.PI/2),this.inverseWorldToScreenQ=new nt,this.worldToScreenQ=new nt,this.originalPoseAdjustQ=new nt,this.originalPoseAdjustQ.setFromAxisAngle(new Qe(0,0,1),-window.orientation*Math.PI/180),this.setScreenTransform_(),oe()&&this.filterToWorldQ.multiply(this.inverseWorldToScreenQ),this.resetQ=new nt,this.orientationOut_=new Float32Array(4),this.start()}Fn.prototype.getPosition=function(){return null},Fn.prototype.getOrientation=function(){var re=void 0;if(this.isWithoutDeviceMotion&&this._deviceOrientationQ){this.deviceOrientationFixQ=this.deviceOrientationFixQ||function(){var Je=new nt().setFromAxisAngle(new Qe(0,0,-1),0),at=new nt;return window.orientation===-90?at.setFromAxisAngle(new Qe(0,1,0),Math.PI/-2):at.setFromAxisAngle(new Qe(0,1,0),Math.PI/2),Je.multiply(at)}(),this.deviceOrientationFilterToWorldQ=this.deviceOrientationFilterToWorldQ||function(){var Je=new nt;return Je.setFromAxisAngle(new Qe(1,0,0),-Math.PI/2),Je}(),re=this._deviceOrientationQ;var Me=new nt;return Me.copy(re),Me.multiply(this.deviceOrientationFilterToWorldQ),Me.multiply(this.resetQ),Me.multiply(this.worldToScreenQ),Me.multiplyQuaternions(this.deviceOrientationFixQ,Me),this.yawOnly&&(Me.x=0,Me.z=0,Me.normalize()),this.orientationOut_[0]=Me.x,this.orientationOut_[1]=Me.y,this.orientationOut_[2]=Me.z,this.orientationOut_[3]=Me.w,this.orientationOut_}else{var se=this.filter.getOrientation();re=this.posePredictor.getPrediction(se,this.gyroscope,this.previousTimestampS)}var Me=new nt;return Me.copy(this.filterToWorldQ),Me.multiply(this.resetQ),Me.multiply(re),Me.multiply(this.worldToScreenQ),this.yawOnly&&(Me.x=0,Me.z=0,Me.normalize()),this.orientationOut_[0]=Me.x,this.orientationOut_[1]=Me.y,this.orientationOut_[2]=Me.z,this.orientationOut_[3]=Me.w,this.orientationOut_},Fn.prototype.resetPose=function(){this.resetQ.copy(this.filter.getOrientation()),this.resetQ.x=0,this.resetQ.y=0,this.resetQ.z*=-1,this.resetQ.normalize(),oe()&&this.resetQ.multiply(this.inverseWorldToScreenQ),this.resetQ.multiply(this.originalPoseAdjustQ)},Fn.prototype.onDeviceOrientation_=function(re){this._deviceOrientationQ=this._deviceOrientationQ||new nt;var se=re.alpha,Me=re.beta,Fe=re.gamma;se=(se||0)*Math.PI/180,Me=(Me||0)*Math.PI/180,Fe=(Fe||0)*Math.PI/180,this._deviceOrientationQ.setFromEulerYXZ(Me,se,-Fe)},Fn.prototype.onDeviceMotion_=function(re){this.updateDeviceMotion_(re)},Fn.prototype.updateDeviceMotion_=function(re){var se=re.accelerationIncludingGravity,Me=re.rotationRate,Fe=re.timeStamp/1e3,Je=Fe-this.previousTimestampS;if(Je<0){Dt("fusion-pose-sensor:invalid:non-monotonic","Invalid timestamps detected: non-monotonic timestamp from devicemotion"),this.previousTimestampS=Fe;return}else if(Je<=V||Je>B){Dt("fusion-pose-sensor:invalid:outside-threshold","Invalid timestamps detected: Timestamp from devicemotion outside expected range."),this.previousTimestampS=Fe;return}this.accelerometer.set(-se.x,-se.y,-se.z),Me&&(Z()?this.gyroscope.set(-Me.beta,Me.alpha,Me.gamma):this.gyroscope.set(Me.alpha,Me.beta,Me.gamma),this.isDeviceMotionInRadians||this.gyroscope.multiplyScalar(Math.PI/180),this.filter.addGyroMeasurement(this.gyroscope,Fe)),this.filter.addAccelMeasurement(this.accelerometer,Fe),this.previousTimestampS=Fe},Fn.prototype.onOrientationChange_=function(re){this.setScreenTransform_()},Fn.prototype.onMessage_=function(re){var se=re.data;if(!(!se||!se.type)){var Me=se.type.toLowerCase();Me==="devicemotion"&&this.updateDeviceMotion_(se.deviceMotionEvent)}},Fn.prototype.setScreenTransform_=function(){switch(this.worldToScreenQ.set(0,0,0,1),window.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new Qe(0,0,1),-Math.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new Qe(0,0,1),Math.PI/2);break}this.inverseWorldToScreenQ.copy(this.worldToScreenQ),this.inverseWorldToScreenQ.inverse()},Fn.prototype.start=function(){this.onDeviceMotionCallback_=this.onDeviceMotion_.bind(this),this.onOrientationChangeCallback_=this.onOrientationChange_.bind(this),this.onMessageCallback_=this.onMessage_.bind(this),this.onDeviceOrientationCallback_=this.onDeviceOrientation_.bind(this),N()&&gt()&&window.addEventListener("message",this.onMessageCallback_),window.addEventListener("orientationchange",this.onOrientationChangeCallback_),this.isWithoutDeviceMotion?window.addEventListener("deviceorientation",this.onDeviceOrientationCallback_):window.addEventListener("devicemotion",this.onDeviceMotionCallback_)},Fn.prototype.stop=function(){window.removeEventListener("devicemotion",this.onDeviceMotionCallback_),window.removeEventListener("deviceorientation",this.onDeviceOrientationCallback_),window.removeEventListener("orientationchange",this.onOrientationChangeCallback_),window.removeEventListener("message",this.onMessageCallback_)};var Cn=60,Oe=new Qe(1,0,0),lt=new Qe(0,0,1),wt=new nt;wt.setFromAxisAngle(Oe,-Math.PI/2),wt.multiply(new nt().setFromAxisAngle(lt,Math.PI/2));var xe=function(){function re(se){T(this,re),this.config=se,this.sensor=null,this.fusionSensor=null,this._out=new Float32Array(4),this.api=null,this.errors=[],this._sensorQ=new nt,this._outQ=new nt,this._onSensorRead=this._onSensorRead.bind(this),this._onSensorError=this._onSensorError.bind(this),this.init()}return D(re,[{key:"init",value:function(){var Me=null;try{Me=new RelativeOrientationSensor({frequency:Cn,referenceFrame:"screen"}),Me.addEventListener("error",this._onSensorError)}catch(Fe){this.errors.push(Fe),Fe.name==="SecurityError"?(console.error("Cannot construct sensors due to the Feature Policy"),console.warn('Attempting to fall back using "devicemotion"; however this will fail in the future without correct permissions.'),this.useDeviceMotion()):Fe.name==="ReferenceError"?this.useDeviceMotion():console.error(Fe)}Me&&(this.api="sensor",this.sensor=Me,this.sensor.addEventListener("reading",this._onSensorRead),this.sensor.start())}},{key:"useDeviceMotion",value:function(){this.api="devicemotion",this.fusionSensor=new Fn(this.config.K_FILTER,this.config.PREDICTION_TIME_S,this.config.YAW_ONLY,this.config.DEBUG),this.sensor&&(this.sensor.removeEventListener("reading",this._onSensorRead),this.sensor.removeEventListener("error",this._onSensorError),this.sensor=null)}},{key:"getOrientation",value:function(){if(this.fusionSensor)return this.fusionSensor.getOrientation();if(!this.sensor||!this.sensor.quaternion)return this._out[0]=this._out[1]=this._out[2]=0,this._out[3]=1,this._out;var Me=this.sensor.quaternion;this._sensorQ.set(Me[0],Me[1],Me[2],Me[3]);var Fe=this._outQ;return Fe.copy(wt),Fe.multiply(this._sensorQ),this.config.YAW_ONLY&&(Fe.x=Fe.z=0,Fe.normalize()),this._out[0]=Fe.x,this._out[1]=Fe.y,this._out[2]=Fe.z,this._out[3]=Fe.w,this._out}},{key:"_onSensorError",value:function(Me){this.errors.push(Me.error),Me.error.name==="NotAllowedError"?console.error("Permission to access sensor was denied"):Me.error.name==="NotReadableError"?console.error("Sensor could not be read"):console.error(Me.error),this.useDeviceMotion()}},{key:"_onSensorRead",value:function(){}}]),re}(),De="<svg width='198' height='240' viewBox='0 0 198 240' xmlns='http://www.w3.org/2000/svg'><g fill='none' fill-rule='evenodd'><path d='M149.625 109.527l6.737 3.891v.886c0 .177.013.36.038.549.01.081.02.162.027.242.14 1.415.974 2.998 2.105 3.999l5.72 5.062.081-.09s4.382-2.53 5.235-3.024l25.97 14.993v54.001c0 .771-.386 1.217-.948 1.217-.233 0-.495-.076-.772-.236l-23.967-13.838-.014.024-27.322 15.775-.85-1.323c-4.731-1.529-9.748-2.74-14.951-3.61a.27.27 0 0 0-.007.024l-5.067 16.961-7.891 4.556-.037-.063v27.59c0 .772-.386 1.217-.948 1.217-.232 0-.495-.076-.772-.236l-42.473-24.522c-.95-.549-1.72-1.877-1.72-2.967v-1.035l-.021.047a5.111 5.111 0 0 0-1.816-.399 5.682 5.682 0 0 0-.546.001 13.724 13.724 0 0 1-1.918-.041c-1.655-.153-3.2-.6-4.404-1.296l-46.576-26.89.005.012-10.278-18.75c-1.001-1.827-.241-4.216 1.698-5.336l56.011-32.345a4.194 4.194 0 0 1 2.099-.572c1.326 0 2.572.659 3.227 1.853l.005-.003.227.413-.006.004a9.63 9.63 0 0 0 1.477 2.018l.277.27c1.914 1.85 4.468 2.801 7.113 2.801 1.949 0 3.948-.517 5.775-1.572.013 0 7.319-4.219 7.319-4.219a4.194 4.194 0 0 1 2.099-.572c1.326 0 2.572.658 3.226 1.853l3.25 5.928.022-.018 6.785 3.917-.105-.182 46.881-26.965m0-1.635c-.282 0-.563.073-.815.218l-46.169 26.556-5.41-3.124-3.005-5.481c-.913-1.667-2.699-2.702-4.66-2.703-1.011 0-2.02.274-2.917.792a3825 3825 0 0 1-7.275 4.195l-.044.024a9.937 9.937 0 0 1-4.957 1.353c-2.292 0-4.414-.832-5.976-2.342l-.252-.245a7.992 7.992 0 0 1-1.139-1.534 1.379 1.379 0 0 0-.06-.122l-.227-.414a1.718 1.718 0 0 0-.095-.154c-.938-1.574-2.673-2.545-4.571-2.545-1.011 0-2.02.274-2.917.792L3.125 155.502c-2.699 1.559-3.738 4.94-2.314 7.538l10.278 18.75c.177.323.448.563.761.704l46.426 26.804c1.403.81 3.157 1.332 5.072 1.508a15.661 15.661 0 0 0 2.146.046 4.766 4.766 0 0 1 .396 0c.096.004.19.011.283.022.109 1.593 1.159 3.323 2.529 4.114l42.472 24.522c.524.302 1.058.455 1.59.455 1.497 0 2.583-1.2 2.583-2.852v-26.562l7.111-4.105a1.64 1.64 0 0 0 .749-.948l4.658-15.593c4.414.797 8.692 1.848 12.742 3.128l.533.829a1.634 1.634 0 0 0 2.193.531l26.532-15.317L193 192.433c.523.302 1.058.455 1.59.455 1.497 0 2.583-1.199 2.583-2.852v-54.001c0-.584-.312-1.124-.818-1.416l-25.97-14.993a1.633 1.633 0 0 0-1.636.001c-.606.351-2.993 1.73-4.325 2.498l-4.809-4.255c-.819-.725-1.461-1.933-1.561-2.936a7.776 7.776 0 0 0-.033-.294 2.487 2.487 0 0 1-.023-.336v-.886c0-.584-.312-1.123-.817-1.416l-6.739-3.891a1.633 1.633 0 0 0-.817-.219' fill='#455A64'/><path d='M96.027 132.636l46.576 26.891c1.204.695 1.979 1.587 2.242 2.541l-.01.007-81.374 46.982h-.001c-1.654-.152-3.199-.6-4.403-1.295l-46.576-26.891 83.546-48.235' fill='#FAFAFA'/><path d='M63.461 209.174c-.008 0-.015 0-.022-.002-1.693-.156-3.228-.609-4.441-1.309l-46.576-26.89a.118.118 0 0 1 0-.203l83.546-48.235a.117.117 0 0 1 .117 0l46.576 26.891c1.227.708 2.021 1.612 2.296 2.611a.116.116 0 0 1-.042.124l-.021.016-81.375 46.981a.11.11 0 0 1-.058.016zm-50.747-28.303l46.401 26.79c1.178.68 2.671 1.121 4.32 1.276l81.272-46.922c-.279-.907-1.025-1.73-2.163-2.387l-46.517-26.857-83.313 48.1z' fill='#607D8B'/><path d='M148.327 165.471a5.85 5.85 0 0 1-.546.001c-1.894-.083-3.302-1.038-3.145-2.132a2.693 2.693 0 0 0-.072-1.105l-81.103 46.822c.628.058 1.272.073 1.918.042.182-.009.364-.009.546-.001 1.894.083 3.302 1.038 3.145 2.132l79.257-45.759' fill='#FFF'/><path d='M69.07 211.347a.118.118 0 0 1-.115-.134c.045-.317-.057-.637-.297-.925-.505-.61-1.555-1.022-2.738-1.074a5.966 5.966 0 0 0-.535.001 14.03 14.03 0 0 1-1.935-.041.117.117 0 0 1-.103-.092.116.116 0 0 1 .055-.126l81.104-46.822a.117.117 0 0 1 .171.07c.104.381.129.768.074 1.153-.045.316.057.637.296.925.506.61 1.555 1.021 2.739 1.073.178.008.357.008.535-.001a.117.117 0 0 1 .064.218l-79.256 45.759a.114.114 0 0 1-.059.016zm-3.405-2.372c.089 0 .177.002.265.006 1.266.056 2.353.488 2.908 1.158.227.274.35.575.36.882l78.685-45.429c-.036 0-.072-.001-.107-.003-1.267-.056-2.354-.489-2.909-1.158-.282-.34-.402-.724-.347-1.107a2.604 2.604 0 0 0-.032-.91L63.846 208.97a13.91 13.91 0 0 0 1.528.012c.097-.005.194-.007.291-.007z' fill='#607D8B'/><path d='M2.208 162.134c-1.001-1.827-.241-4.217 1.698-5.337l56.011-32.344c1.939-1.12 4.324-.546 5.326 1.281l.232.41a9.344 9.344 0 0 0 1.47 2.021l.278.27c3.325 3.214 8.583 3.716 12.888 1.23l7.319-4.22c1.94-1.119 4.324-.546 5.325 1.282l3.25 5.928-83.519 48.229-10.278-18.75z' fill='#FAFAFA'/><path d='M12.486 181.001a.112.112 0 0 1-.031-.005.114.114 0 0 1-.071-.056L2.106 162.19c-1.031-1.88-.249-4.345 1.742-5.494l56.01-32.344a4.328 4.328 0 0 1 2.158-.588c1.415 0 2.65.702 3.311 1.882.01.008.018.017.024.028l.227.414a.122.122 0 0 1 .013.038 9.508 9.508 0 0 0 1.439 1.959l.275.266c1.846 1.786 4.344 2.769 7.031 2.769 1.977 0 3.954-.538 5.717-1.557a.148.148 0 0 1 .035-.013l7.284-4.206a4.321 4.321 0 0 1 2.157-.588c1.427 0 2.672.716 3.329 1.914l3.249 5.929a.116.116 0 0 1-.044.157l-83.518 48.229a.116.116 0 0 1-.059.016zm49.53-57.004c-.704 0-1.41.193-2.041.557l-56.01 32.345c-1.882 1.086-2.624 3.409-1.655 5.179l10.221 18.645 83.317-48.112-3.195-5.829c-.615-1.122-1.783-1.792-3.124-1.792a4.08 4.08 0 0 0-2.04.557l-7.317 4.225a.148.148 0 0 1-.035.013 11.7 11.7 0 0 1-5.801 1.569c-2.748 0-5.303-1.007-7.194-2.835l-.278-.27a9.716 9.716 0 0 1-1.497-2.046.096.096 0 0 1-.013-.037l-.191-.347a.11.11 0 0 1-.023-.029c-.615-1.123-1.783-1.793-3.124-1.793z' fill='#607D8B'/><path d='M42.434 155.808c-2.51-.001-4.697-1.258-5.852-3.365-1.811-3.304-.438-7.634 3.059-9.654l12.291-7.098a7.599 7.599 0 0 1 3.789-1.033c2.51 0 4.697 1.258 5.852 3.365 1.811 3.304.439 7.634-3.059 9.654l-12.291 7.098a7.606 7.606 0 0 1-3.789 1.033zm13.287-20.683a7.128 7.128 0 0 0-3.555.971l-12.291 7.098c-3.279 1.893-4.573 5.942-2.883 9.024 1.071 1.955 3.106 3.122 5.442 3.122a7.13 7.13 0 0 0 3.556-.97l12.291-7.098c3.279-1.893 4.572-5.942 2.883-9.024-1.072-1.955-3.106-3.123-5.443-3.123z' fill='#607D8B'/><path d='M149.588 109.407l6.737 3.89v.887c0 .176.013.36.037.549.011.081.02.161.028.242.14 1.415.973 2.998 2.105 3.999l7.396 6.545c.177.156.358.295.541.415 1.579 1.04 2.95.466 3.062-1.282.049-.784.057-1.595.023-2.429l-.003-.16v-1.151l25.987 15.003v54c0 1.09-.77 1.53-1.72.982l-42.473-24.523c-.95-.548-1.72-1.877-1.72-2.966v-34.033' fill='#FAFAFA'/><path d='M194.553 191.25c-.257 0-.54-.085-.831-.253l-42.472-24.521c-.981-.567-1.779-1.943-1.779-3.068v-34.033h.234v34.033c0 1.051.745 2.336 1.661 2.866l42.473 24.521c.424.245.816.288 1.103.122.285-.164.442-.52.442-1.002v-53.933l-25.753-14.868.003 1.106c.034.832.026 1.654-.024 2.439-.054.844-.396 1.464-.963 1.746-.619.309-1.45.173-2.28-.373a5.023 5.023 0 0 1-.553-.426l-7.397-6.544c-1.158-1.026-1.999-2.625-2.143-4.076a9.624 9.624 0 0 0-.027-.238 4.241 4.241 0 0 1-.038-.564v-.82l-6.68-3.856.117-.202 6.738 3.89.058.034v.954c0 .171.012.351.036.533.011.083.021.165.029.246.138 1.395.948 2.935 2.065 3.923l7.397 6.545c.173.153.35.289.527.406.758.499 1.504.63 2.047.359.49-.243.786-.795.834-1.551.05-.778.057-1.591.024-2.417l-.004-.163v-1.355l.175.1 25.987 15.004.059.033v54.068c0 .569-.198.996-.559 1.204a1.002 1.002 0 0 1-.506.131' fill='#607D8B'/><path d='M145.685 163.161l24.115 13.922-25.978 14.998-1.462-.307c-6.534-2.17-13.628-3.728-21.019-4.616-4.365-.524-8.663 1.096-9.598 3.62a2.746 2.746 0 0 0-.011 1.928c1.538 4.267 4.236 8.363 7.995 12.135l.532.845-25.977 14.997-24.115-13.922 75.518-43.6' fill='#FFF'/><path d='M94.282 220.818l-.059-.033-24.29-14.024.175-.101 75.577-43.634.058.033 24.29 14.024-26.191 15.122-.045-.01-1.461-.307c-6.549-2.174-13.613-3.725-21.009-4.614a13.744 13.744 0 0 0-1.638-.097c-3.758 0-7.054 1.531-7.837 3.642a2.62 2.62 0 0 0-.01 1.848c1.535 4.258 4.216 8.326 7.968 12.091l.016.021.526.835.006.01.064.102-.105.061-25.977 14.998-.058.033zm-23.881-14.057l23.881 13.788 24.802-14.32c.546-.315.846-.489 1.017-.575l-.466-.74c-3.771-3.787-6.467-7.881-8.013-12.168a2.851 2.851 0 0 1 .011-2.008c.815-2.199 4.203-3.795 8.056-3.795.557 0 1.117.033 1.666.099 7.412.891 14.491 2.445 21.041 4.621.836.175 1.215.254 1.39.304l25.78-14.884-23.881-13.788-75.284 43.466z' fill='#607D8B'/><path d='M167.23 125.979v50.871l-27.321 15.773-6.461-14.167c-.91-1.996-3.428-1.738-5.624.574a10.238 10.238 0 0 0-2.33 4.018l-6.46 21.628-27.322 15.774v-50.871l75.518-43.6' fill='#FFF'/><path d='M91.712 220.567a.127.127 0 0 1-.059-.016.118.118 0 0 1-.058-.101v-50.871c0-.042.023-.08.058-.101l75.519-43.6a.117.117 0 0 1 .175.101v50.871c0 .041-.023.08-.059.1l-27.321 15.775a.118.118 0 0 1-.094.01.12.12 0 0 1-.071-.063l-6.46-14.168c-.375-.822-1.062-1.275-1.934-1.275-1.089 0-2.364.686-3.5 1.881a10.206 10.206 0 0 0-2.302 3.972l-6.46 21.627a.118.118 0 0 1-.054.068L91.77 220.551a.12.12 0 0 1-.058.016zm.117-50.92v50.601l27.106-15.65 6.447-21.583a10.286 10.286 0 0 1 2.357-4.065c1.18-1.242 2.517-1.954 3.669-1.954.969 0 1.731.501 2.146 1.411l6.407 14.051 27.152-15.676v-50.601l-75.284 43.466z' fill='#607D8B'/><path d='M168.543 126.213v50.87l-27.322 15.774-6.46-14.168c-.91-1.995-3.428-1.738-5.624.574a10.248 10.248 0 0 0-2.33 4.019l-6.461 21.627-27.321 15.774v-50.87l75.518-43.6' fill='#FFF'/><path d='M93.025 220.8a.123.123 0 0 1-.059-.015.12.12 0 0 1-.058-.101v-50.871c0-.042.023-.08.058-.101l75.518-43.6a.112.112 0 0 1 .117 0c.036.02.059.059.059.1v50.871a.116.116 0 0 1-.059.101l-27.321 15.774a.111.111 0 0 1-.094.01.115.115 0 0 1-.071-.062l-6.46-14.168c-.375-.823-1.062-1.275-1.935-1.275-1.088 0-2.363.685-3.499 1.881a10.19 10.19 0 0 0-2.302 3.971l-6.461 21.628a.108.108 0 0 1-.053.067l-27.322 15.775a.12.12 0 0 1-.058.015zm.117-50.919v50.6l27.106-15.649 6.447-21.584a10.293 10.293 0 0 1 2.357-4.065c1.179-1.241 2.516-1.954 3.668-1.954.969 0 1.732.502 2.147 1.412l6.407 14.051 27.152-15.676v-50.601l-75.284 43.466z' fill='#607D8B'/><path d='M169.8 177.083l-27.322 15.774-6.46-14.168c-.91-1.995-3.428-1.738-5.625.574a10.246 10.246 0 0 0-2.329 4.019l-6.461 21.627-27.321 15.774v-50.87l75.518-43.6v50.87z' fill='#FAFAFA'/><path d='M94.282 220.917a.234.234 0 0 1-.234-.233v-50.871c0-.083.045-.161.117-.202l75.518-43.601a.234.234 0 1 1 .35.202v50.871a.233.233 0 0 1-.116.202l-27.322 15.775a.232.232 0 0 1-.329-.106l-6.461-14.168c-.36-.789-.992-1.206-1.828-1.206-1.056 0-2.301.672-3.415 1.844a10.099 10.099 0 0 0-2.275 3.924l-6.46 21.628a.235.235 0 0 1-.107.136l-27.322 15.774a.23.23 0 0 1-.116.031zm.233-50.969v50.331l26.891-15.525 6.434-21.539a10.41 10.41 0 0 1 2.384-4.112c1.201-1.265 2.569-1.991 3.753-1.991 1.018 0 1.818.526 2.253 1.48l6.354 13.934 26.982-15.578v-50.331l-75.051 43.331z' fill='#607D8B'/><path d='M109.894 199.943c-1.774 0-3.241-.725-4.244-2.12a.224.224 0 0 1 .023-.294.233.233 0 0 1 .301-.023c.78.547 1.705.827 2.75.827 1.323 0 2.754-.439 4.256-1.306 5.311-3.067 9.631-10.518 9.631-16.611 0-1.927-.442-3.56-1.278-4.724a.232.232 0 0 1 .323-.327c1.671 1.172 2.591 3.381 2.591 6.219 0 6.242-4.426 13.863-9.865 17.003-1.574.908-3.084 1.356-4.488 1.356zm-2.969-1.542c.813.651 1.82.877 2.968.877h.001c1.321 0 2.753-.327 4.254-1.194 5.311-3.067 9.632-10.463 9.632-16.556 0-1.979-.463-3.599-1.326-4.761.411 1.035.625 2.275.625 3.635 0 6.243-4.426 13.883-9.865 17.023-1.574.909-3.084 1.317-4.49 1.317-.641 0-1.243-.149-1.799-.341z' fill='#607D8B'/><path d='M113.097 197.23c5.384-3.108 9.748-10.636 9.748-16.814 0-2.051-.483-3.692-1.323-4.86-1.784-1.252-4.374-1.194-7.257.47-5.384 3.108-9.748 10.636-9.748 16.814 0 2.051.483 3.692 1.323 4.86 1.784 1.252 4.374 1.194 7.257-.47' fill='#FAFAFA'/><path d='M108.724 198.614c-1.142 0-2.158-.213-3.019-.817-.021-.014-.04.014-.055-.007-.894-1.244-1.367-2.948-1.367-4.973 0-6.242 4.426-13.864 9.865-17.005 1.574-.908 3.084-1.363 4.49-1.363 1.142 0 2.158.309 3.018.913a.23.23 0 0 1 .056.056c.894 1.244 1.367 2.972 1.367 4.997 0 6.243-4.426 13.783-9.865 16.923-1.574.909-3.084 1.276-4.49 1.276zm-2.718-1.109c.774.532 1.688.776 2.718.776 1.323 0 2.754-.413 4.256-1.28 5.311-3.066 9.631-10.505 9.631-16.598 0-1.909-.434-3.523-1.255-4.685-.774-.533-1.688-.799-2.718-.799-1.323 0-2.755.441-4.256 1.308-5.311 3.066-9.631 10.506-9.631 16.599 0 1.909.434 3.517 1.255 4.679z' fill='#607D8B'/><path d='M149.318 114.262l-9.984 8.878 15.893 11.031 5.589-6.112-11.498-13.797' fill='#FAFAFA'/><path d='M169.676 120.84l-9.748 5.627c-3.642 2.103-9.528 2.113-13.147.024-3.62-2.089-3.601-5.488.041-7.591l9.495-5.608-6.729-3.885-81.836 47.071 45.923 26.514 3.081-1.779c.631-.365.869-.898.618-1.39-2.357-4.632-2.593-9.546-.683-14.262 5.638-13.92 24.509-24.815 48.618-28.07 8.169-1.103 16.68-.967 24.704.394.852.145 1.776.008 2.407-.357l3.081-1.778-25.825-14.91' fill='#FAFAFA'/><path d='M113.675 183.459a.47.47 0 0 1-.233-.062l-45.924-26.515a.468.468 0 0 1 .001-.809l81.836-47.071a.467.467 0 0 1 .466 0l6.729 3.885a.467.467 0 0 1-.467.809l-6.496-3.75-80.9 46.533 44.988 25.973 2.848-1.644c.192-.111.62-.409.435-.773-2.416-4.748-2.658-9.814-.7-14.65 2.806-6.927 8.885-13.242 17.582-18.263 8.657-4.998 19.518-8.489 31.407-10.094 8.198-1.107 16.79-.97 24.844.397.739.125 1.561.007 2.095-.301l2.381-1.374-25.125-14.506a.467.467 0 0 1 .467-.809l25.825 14.91a.467.467 0 0 1 0 .809l-3.081 1.779c-.721.417-1.763.575-2.718.413-7.963-1.351-16.457-1.486-24.563-.392-11.77 1.589-22.512 5.039-31.065 9.977-8.514 4.916-14.456 11.073-17.183 17.805-1.854 4.578-1.623 9.376.666 13.875.37.725.055 1.513-.8 2.006l-3.081 1.78a.476.476 0 0 1-.234.062' fill='#455A64'/><path d='M153.316 128.279c-2.413 0-4.821-.528-6.652-1.586-1.818-1.049-2.82-2.461-2.82-3.975 0-1.527 1.016-2.955 2.861-4.02l9.493-5.607a.233.233 0 1 1 .238.402l-9.496 5.609c-1.696.979-2.628 2.263-2.628 3.616 0 1.34.918 2.608 2.585 3.571 3.549 2.049 9.343 2.038 12.914-.024l9.748-5.628a.234.234 0 0 1 .234.405l-9.748 5.628c-1.858 1.072-4.296 1.609-6.729 1.609' fill='#607D8B'/><path d='M113.675 182.992l-45.913-26.508M113.675 183.342a.346.346 0 0 1-.175-.047l-45.913-26.508a.35.35 0 1 1 .35-.607l45.913 26.508a.35.35 0 0 1-.175.654' fill='#455A64'/><path d='M67.762 156.484v54.001c0 1.09.77 2.418 1.72 2.967l42.473 24.521c.95.549 1.72.11 1.72-.98v-54.001' fill='#FAFAFA'/><path d='M112.727 238.561c-.297 0-.62-.095-.947-.285l-42.473-24.521c-1.063-.613-1.895-2.05-1.895-3.27v-54.001a.35.35 0 1 1 .701 0v54.001c0 .96.707 2.18 1.544 2.663l42.473 24.522c.344.198.661.243.87.122.206-.119.325-.411.325-.799v-54.001a.35.35 0 1 1 .7 0v54.001c0 .655-.239 1.154-.675 1.406a1.235 1.235 0 0 1-.623.162' fill='#455A64'/><path d='M112.86 147.512h-.001c-2.318 0-4.499-.522-6.142-1.471-1.705-.984-2.643-2.315-2.643-3.749 0-1.445.952-2.791 2.68-3.788l12.041-6.953c1.668-.962 3.874-1.493 6.212-1.493 2.318 0 4.499.523 6.143 1.472 1.704.984 2.643 2.315 2.643 3.748 0 1.446-.952 2.791-2.68 3.789l-12.042 6.952c-1.668.963-3.874 1.493-6.211 1.493zm12.147-16.753c-2.217 0-4.298.497-5.861 1.399l-12.042 6.952c-1.502.868-2.33 1.998-2.33 3.182 0 1.173.815 2.289 2.293 3.142 1.538.889 3.596 1.378 5.792 1.378h.001c2.216 0 4.298-.497 5.861-1.399l12.041-6.953c1.502-.867 2.33-1.997 2.33-3.182 0-1.172-.814-2.288-2.292-3.142-1.539-.888-3.596-1.377-5.793-1.377z' fill='#607D8B'/><path d='M165.63 123.219l-5.734 3.311c-3.167 1.828-8.286 1.837-11.433.02-3.147-1.817-3.131-4.772.036-6.601l5.734-3.31 11.397 6.58' fill='#FAFAFA'/><path d='M154.233 117.448l9.995 5.771-4.682 2.704c-1.434.827-3.352 1.283-5.399 1.283-2.029 0-3.923-.449-5.333-1.263-1.29-.744-2-1.694-2-2.674 0-.991.723-1.955 2.036-2.713l5.383-3.108m0-.809l-5.734 3.31c-3.167 1.829-3.183 4.784-.036 6.601 1.568.905 3.623 1.357 5.684 1.357 2.077 0 4.159-.46 5.749-1.377l5.734-3.311-11.397-6.58M145.445 179.667c-1.773 0-3.241-.85-4.243-2.245-.067-.092-.057-.275.023-.356.08-.081.207-.12.3-.055.781.548 1.706.812 2.751.811 1.322 0 2.754-.446 4.256-1.313 5.31-3.066 9.631-10.522 9.631-16.615 0-1.927-.442-3.562-1.279-4.726a.235.235 0 0 1 .024-.301.232.232 0 0 1 .3-.027c1.67 1.172 2.59 3.38 2.59 6.219 0 6.242-4.425 13.987-9.865 17.127-1.573.908-3.083 1.481-4.488 1.481zM142.476 178c.814.651 1.82 1.002 2.969 1.002 1.322 0 2.753-.452 4.255-1.32 5.31-3.065 9.631-10.523 9.631-16.617 0-1.98-.463-3.63-1.325-4.793.411 1.035.624 2.26.624 3.62 0 6.242-4.425 13.875-9.865 17.015-1.573.909-3.084 1.376-4.489 1.376a5.49 5.49 0 0 1-1.8-.283z' fill='#607D8B'/><path d='M148.648 176.704c5.384-3.108 9.748-10.636 9.748-16.813 0-2.052-.483-3.693-1.322-4.861-1.785-1.252-4.375-1.194-7.258.471-5.383 3.108-9.748 10.636-9.748 16.813 0 2.051.484 3.692 1.323 4.86 1.785 1.253 4.374 1.195 7.257-.47' fill='#FAFAFA'/><path d='M144.276 178.276c-1.143 0-2.158-.307-3.019-.911a.217.217 0 0 1-.055-.054c-.895-1.244-1.367-2.972-1.367-4.997 0-6.241 4.425-13.875 9.865-17.016 1.573-.908 3.084-1.369 4.489-1.369 1.143 0 2.158.307 3.019.91a.24.24 0 0 1 .055.055c.894 1.244 1.367 2.971 1.367 4.997 0 6.241-4.425 13.875-9.865 17.016-1.573.908-3.084 1.369-4.489 1.369zm-2.718-1.172c.773.533 1.687.901 2.718.901 1.322 0 2.754-.538 4.256-1.405 5.31-3.066 9.631-10.567 9.631-16.661 0-1.908-.434-3.554-1.256-4.716-.774-.532-1.688-.814-2.718-.814-1.322 0-2.754.433-4.256 1.3-5.31 3.066-9.631 10.564-9.631 16.657 0 1.91.434 3.576 1.256 4.738z' fill='#607D8B'/><path d='M150.72 172.361l-.363-.295a24.105 24.105 0 0 0 2.148-3.128 24.05 24.05 0 0 0 1.977-4.375l.443.149a24.54 24.54 0 0 1-2.015 4.46 24.61 24.61 0 0 1-2.19 3.189M115.917 191.514l-.363-.294a24.174 24.174 0 0 0 2.148-3.128 24.038 24.038 0 0 0 1.976-4.375l.443.148a24.48 24.48 0 0 1-2.015 4.461 24.662 24.662 0 0 1-2.189 3.188M114 237.476V182.584 237.476' fill='#607D8B'/><g><path d='M81.822 37.474c.017-.135-.075-.28-.267-.392-.327-.188-.826-.21-1.109-.045l-6.012 3.471c-.131.076-.194.178-.191.285.002.132.002.461.002.578v.043l-.007.128-6.591 3.779c-.001 0-2.077 1.046-2.787 5.192 0 0-.912 6.961-.898 19.745.015 12.57.606 17.07 1.167 21.351.22 1.684 3.001 2.125 3.001 2.125.331.04.698-.027 1.08-.248l75.273-43.551c1.808-1.069 2.667-3.719 3.056-6.284 1.213-7.99 1.675-32.978-.275-39.878-.196-.693-.51-1.083-.868-1.282l-2.086-.79c-.727.028-1.416.467-1.534.535L82.032 37.072l-.21.402' fill='#FFF'/><path d='M144.311 1.701l2.085.79c.358.199.672.589.868 1.282 1.949 6.9 1.487 31.887.275 39.878-.39 2.565-1.249 5.215-3.056 6.284L69.21 93.486a1.78 1.78 0 0 1-.896.258l-.183-.011c0 .001-2.782-.44-3.003-2.124-.56-4.282-1.151-8.781-1.165-21.351-.015-12.784.897-19.745.897-19.745.71-4.146 2.787-5.192 2.787-5.192l6.591-3.779.007-.128v-.043c0-.117 0-.446-.002-.578-.003-.107.059-.21.191-.285l6.012-3.472a.98.98 0 0 1 .481-.11c.218 0 .449.053.627.156.193.112.285.258.268.392l.211-.402 60.744-34.836c.117-.068.806-.507 1.534-.535m0-.997l-.039.001c-.618.023-1.283.244-1.974.656l-.021.012-60.519 34.706a2.358 2.358 0 0 0-.831-.15c-.365 0-.704.084-.98.244l-6.012 3.471c-.442.255-.699.69-.689 1.166l.001.15-6.08 3.487c-.373.199-2.542 1.531-3.29 5.898l-.006.039c-.009.07-.92 7.173-.906 19.875.014 12.62.603 17.116 1.172 21.465l.002.015c.308 2.355 3.475 2.923 3.836 2.98l.034.004c.101.013.204.019.305.019a2.77 2.77 0 0 0 1.396-.392l75.273-43.552c1.811-1.071 2.999-3.423 3.542-6.997 1.186-7.814 1.734-33.096-.301-40.299-.253-.893-.704-1.527-1.343-1.882l-.132-.062-2.085-.789a.973.973 0 0 0-.353-.065' fill='#455A64'/><path d='M128.267 11.565l1.495.434-56.339 32.326' fill='#FFF'/><path d='M74.202 90.545a.5.5 0 0 1-.25-.931l18.437-10.645a.499.499 0 1 1 .499.864L74.451 90.478l-.249.067M75.764 42.654l-.108-.062.046-.171 5.135-2.964.17.045-.045.171-5.135 2.964-.063.017M70.52 90.375V46.421l.063-.036L137.84 7.554v43.954l-.062.036L70.52 90.375zm.25-43.811v43.38l66.821-38.579V7.985L70.77 46.564z' fill='#607D8B'/><path d='M86.986 83.182c-.23.149-.612.384-.849.523l-11.505 6.701c-.237.139-.206.252.068.252h.565c.275 0 .693-.113.93-.252L87.7 83.705c.237-.139.428-.253.425-.256a11.29 11.29 0 0 1-.006-.503c0-.274-.188-.377-.418-.227l-.715.463' fill='#607D8B'/><path d='M75.266 90.782H74.7c-.2 0-.316-.056-.346-.166-.03-.11.043-.217.215-.317l11.505-6.702c.236-.138.615-.371.844-.519l.715-.464a.488.488 0 0 1 .266-.089c.172 0 .345.13.345.421 0 .214.001.363.003.437l.006.004-.004.069c-.003.075-.003.075-.486.356l-11.505 6.702a2.282 2.282 0 0 1-.992.268zm-.6-.25l.034.001h.566c.252 0 .649-.108.866-.234l11.505-6.702c.168-.098.294-.173.361-.214-.004-.084-.004-.218-.004-.437l-.095-.171-.131.049-.714.463c-.232.15-.616.386-.854.525l-11.505 6.702-.029.018z' fill='#607D8B'/><path d='M75.266 89.871H74.7c-.2 0-.316-.056-.346-.166-.03-.11.043-.217.215-.317l11.505-6.702c.258-.151.694-.268.993-.268h.565c.2 0 .316.056.346.166.03.11-.043.217-.215.317l-11.505 6.702a2.282 2.282 0 0 1-.992.268zm-.6-.25l.034.001h.566c.252 0 .649-.107.866-.234l11.505-6.702.03-.018-.035-.001h-.565c-.252 0-.649.108-.867.234l-11.505 6.702-.029.018zM74.37 90.801v-1.247 1.247' fill='#607D8B'/><path d='M68.13 93.901c-.751-.093-1.314-.737-1.439-1.376-.831-4.238-1.151-8.782-1.165-21.352-.015-12.784.897-19.745.897-19.745.711-4.146 2.787-5.192 2.787-5.192l74.859-43.219c.223-.129 2.487-1.584 3.195.923 1.95 6.9 1.488 31.887.275 39.878-.389 2.565-1.248 5.215-3.056 6.283L69.21 93.653c-.382.221-.749.288-1.08.248 0 0-2.781-.441-3.001-2.125-.561-4.281-1.152-8.781-1.167-21.351-.014-12.784.898-19.745.898-19.745.71-4.146 2.787-5.191 2.787-5.191l6.598-3.81.871-.119 6.599-3.83.046-.461L68.13 93.901' fill='#FAFAFA'/><path d='M68.317 94.161l-.215-.013h-.001l-.244-.047c-.719-.156-2.772-.736-2.976-2.292-.568-4.34-1.154-8.813-1.168-21.384-.014-12.654.891-19.707.9-19.777.725-4.231 2.832-5.338 2.922-5.382l6.628-3.827.87-.119 6.446-3.742.034-.334a.248.248 0 0 1 .273-.223.248.248 0 0 1 .223.272l-.059.589-6.752 3.919-.87.118-6.556 3.785c-.031.016-1.99 1.068-2.666 5.018-.007.06-.908 7.086-.894 19.702.014 12.539.597 16.996 1.161 21.305.091.691.689 1.154 1.309 1.452a1.95 1.95 0 0 1-.236-.609c-.781-3.984-1.155-8.202-1.17-21.399-.014-12.653.891-19.707.9-19.777.725-4.231 2.832-5.337 2.922-5.382-.004.001 74.444-42.98 74.846-43.212l.028-.017c.904-.538 1.72-.688 2.36-.433.555.221.949.733 1.172 1.52 2.014 7.128 1.46 32.219.281 39.983-.507 3.341-1.575 5.515-3.175 6.462L69.335 93.869a2.023 2.023 0 0 1-1.018.292zm-.147-.507c.293.036.604-.037.915-.217l75.273-43.551c1.823-1.078 2.602-3.915 2.934-6.106 1.174-7.731 1.731-32.695-.268-39.772-.178-.631-.473-1.032-.876-1.192-.484-.193-1.166-.052-1.921.397l-.034.021-74.858 43.218c-.031.017-1.989 1.069-2.666 5.019-.007.059-.908 7.085-.894 19.702.015 13.155.386 17.351 1.161 21.303.09.461.476.983 1.037 1.139.114.025.185.037.196.039h.001z' fill='#455A64'/><path d='M69.317 68.982c.489-.281.885-.056.885.505 0 .56-.396 1.243-.885 1.525-.488.282-.884.057-.884-.504 0-.56.396-1.243.884-1.526' fill='#FFF'/><path d='M68.92 71.133c-.289 0-.487-.228-.487-.625 0-.56.396-1.243.884-1.526a.812.812 0 0 1 .397-.121c.289 0 .488.229.488.626 0 .56-.396 1.243-.885 1.525a.812.812 0 0 1-.397.121m.794-2.459a.976.976 0 0 0-.49.147c-.548.317-.978 1.058-.978 1.687 0 .486.271.812.674.812a.985.985 0 0 0 .491-.146c.548-.317.978-1.057.978-1.687 0-.486-.272-.813-.675-.813' fill='#8097A2'/><path d='M68.92 70.947c-.271 0-.299-.307-.299-.439 0-.491.361-1.116.79-1.363a.632.632 0 0 1 .303-.096c.272 0 .301.306.301.438 0 .491-.363 1.116-.791 1.364a.629.629 0 0 1-.304.096m.794-2.086a.812.812 0 0 0-.397.121c-.488.283-.884.966-.884 1.526 0 .397.198.625.487.625a.812.812 0 0 0 .397-.121c.489-.282.885-.965.885-1.525 0-.397-.199-.626-.488-.626' fill='#8097A2'/><path d='M69.444 85.35c.264-.152.477-.031.477.272 0 .303-.213.67-.477.822-.263.153-.477.031-.477-.271 0-.302.214-.671.477-.823' fill='#FFF'/><path d='M69.23 86.51c-.156 0-.263-.123-.263-.337 0-.302.214-.671.477-.823a.431.431 0 0 1 .214-.066c.156 0 .263.124.263.338 0 .303-.213.67-.477.822a.431.431 0 0 1-.214.066m.428-1.412c-.1 0-.203.029-.307.09-.32.185-.57.618-.57.985 0 .309.185.524.449.524a.63.63 0 0 0 .308-.09c.32-.185.57-.618.57-.985 0-.309-.185-.524-.45-.524' fill='#8097A2'/><path d='M69.23 86.322l-.076-.149c0-.235.179-.544.384-.661l.12-.041.076.151c0 .234-.179.542-.383.66l-.121.04m.428-1.038a.431.431 0 0 0-.214.066c-.263.152-.477.521-.477.823 0 .214.107.337.263.337a.431.431 0 0 0 .214-.066c.264-.152.477-.519.477-.822 0-.214-.107-.338-.263-.338' fill='#8097A2'/><path d='M139.278 7.769v43.667L72.208 90.16V46.493l67.07-38.724' fill='#455A64'/><path d='M72.083 90.375V46.421l.063-.036 67.257-38.831v43.954l-.062.036-67.258 38.831zm.25-43.811v43.38l66.821-38.579V7.985L72.333 46.564z' fill='#607D8B'/></g><path d='M125.737 88.647l-7.639 3.334V84l-11.459 4.713v8.269L99 100.315l13.369 3.646 13.368-15.314' fill='#455A64'/></g></svg>";function tt(){this.loadIcon_();var re=document.createElement("div"),xt=re.style;xt.position="fixed",xt.top=0,xt.right=0,xt.bottom=0,xt.left=0,xt.backgroundColor="gray",xt.fontFamily="sans-serif",xt.zIndex=1e6;var se=document.createElement("img");se.src=this.icon;var xt=se.style;xt.marginLeft="25%",xt.marginTop="25%",xt.width="50%",re.appendChild(se);var Me=document.createElement("div"),xt=Me.style;xt.textAlign="center",xt.fontSize="16px",xt.lineHeight="24px",xt.margin="24px 25%",xt.width="50%",Me.innerHTML="Place your phone into your Cardboard viewer.",re.appendChild(Me);var Fe=document.createElement("div"),xt=Fe.style;xt.backgroundColor="#CFD8DC",xt.position="fixed",xt.bottom=0,xt.width="100%",xt.height="48px",xt.padding="14px 24px",xt.boxSizing="border-box",xt.color="#656A6B",re.appendChild(Fe);var Je=document.createElement("div");Je.style.float="left",Je.innerHTML="No Cardboard viewer?";var at=document.createElement("a");at.href="https://www.google.com/get/cardboard/get-cardboard/",at.innerHTML="get one",at.target="_blank";var xt=at.style;xt.float="right",xt.fontWeight=600,xt.textTransform="uppercase",xt.borderLeft="1px solid gray",xt.paddingLeft="24px",xt.textDecoration="none",xt.color="#656A6B",Fe.appendChild(Je),Fe.appendChild(at),this.overlay=re,this.text=Me,this.hide()}tt.prototype.show=function(re){!re&&!this.overlay.parentElement?document.body.appendChild(this.overlay):re&&(this.overlay.parentElement&&this.overlay.parentElement!=re&&this.overlay.parentElement.removeChild(this.overlay),re.appendChild(this.overlay)),this.overlay.style.display="block";var se=this.overlay.querySelector("img"),Me=se.style;oe()?(Me.width="20%",Me.marginLeft="40%",Me.marginTop="3%"):(Me.width="50%",Me.marginLeft="25%",Me.marginTop="25%")},tt.prototype.hide=function(){this.overlay.style.display="none"},tt.prototype.showTemporarily=function(re,se){this.show(se),this.timer=setTimeout(this.hide.bind(this),re)},tt.prototype.disableShowTemporarily=function(){clearTimeout(this.timer)},tt.prototype.update=function(){this.disableShowTemporarily(),!oe()&&ot()?this.show():this.hide()},tt.prototype.loadIcon_=function(){this.icon=O("image/svg+xml",De)};var St="CardboardV1",Mt="WEBVR_CARDBOARD_VIEWER",Ut="webvr-polyfill-viewer-selector";function Kt(re){try{this.selectedKey=localStorage.getItem(Mt)}catch(se){console.error("Failed to load viewer profile: %s",se)}this.selectedKey||(this.selectedKey=re||St),this.dialog=this.createDialog_(Vt.Viewers),this.root=null,this.onChangeCallbacks_=[]}Kt.prototype.show=function(re){this.root=re,re.appendChild(this.dialog);var se=this.dialog.querySelector("#"+this.selectedKey);se.checked=!0,this.dialog.style.display="block"},Kt.prototype.hide=function(){this.root&&this.root.contains(this.dialog)&&this.root.removeChild(this.dialog),this.dialog.style.display="none"},Kt.prototype.getCurrentViewer=function(){return Vt.Viewers[this.selectedKey]},Kt.prototype.getSelectedKey_=function(){var re=this.dialog.querySelector("input[name=field]:checked");return re?re.id:null},Kt.prototype.onChange=function(re){this.onChangeCallbacks_.push(re)},Kt.prototype.fireOnChange_=function(re){for(var se=0;se<this.onChangeCallbacks_.length;se++)this.onChangeCallbacks_[se](re)},Kt.prototype.onSave_=function(){if(this.selectedKey=this.getSelectedKey_(),!this.selectedKey||!Vt.Viewers[this.selectedKey]){console.error("ViewerSelector.onSave_: this should never happen!");return}this.fireOnChange_(Vt.Viewers[this.selectedKey]);try{localStorage.setItem(Mt,this.selectedKey)}catch(re){console.error("Failed to save viewer profile: %s",re)}this.hide()},Kt.prototype.createDialog_=function(re){var se=document.createElement("div");se.classList.add(Ut),se.style.display="none";var Me=document.createElement("div"),at=Me.style;at.position="fixed",at.left=0,at.top=0,at.width="100%",at.height="100%",at.background="rgba(0, 0, 0, 0.3)",Me.addEventListener("click",this.hide.bind(this));var Fe=280,Je=document.createElement("div"),at=Je.style;at.boxSizing="border-box",at.position="fixed",at.top="24px",at.left="50%",at.marginLeft=-Fe/2+"px",at.width=Fe+"px",at.padding="24px",at.overflow="hidden",at.background="#fafafa",at.fontFamily="'Roboto', sans-serif",at.boxShadow="0px 5px 20px #666",Je.appendChild(this.createH1_("Select your viewer"));for(var xt in re)Je.appendChild(this.createChoice_(xt,re[xt].label));return Je.appendChild(this.createButton_("Save",this.onSave_.bind(this))),se.appendChild(Me),se.appendChild(Je),se},Kt.prototype.createH1_=function(re){var se=document.createElement("h1"),Me=se.style;return Me.color="black",Me.fontSize="20px",Me.fontWeight="bold",Me.marginTop=0,Me.marginBottom="24px",se.innerHTML=re,se},Kt.prototype.createChoice_=function(re,se){var Me=document.createElement("div");Me.style.marginTop="8px",Me.style.color="black";var Fe=document.createElement("input");Fe.style.fontSize="30px",Fe.setAttribute("id",re),Fe.setAttribute("type","radio"),Fe.setAttribute("value",re),Fe.setAttribute("name","field");var Je=document.createElement("label");return Je.style.marginLeft="4px",Je.setAttribute("for",re),Je.innerHTML=se,Me.appendChild(Fe),Me.appendChild(Je),Me},Kt.prototype.createButton_=function(re,se){var Me=document.createElement("button");Me.innerHTML=re;var Fe=Me.style;return Fe.float="right",Fe.textTransform="uppercase",Fe.color="#1094f7",Fe.fontSize="14px",Fe.letterSpacing=0,Fe.border=0,Fe.background="none",Fe.marginTop="16px",Me.addEventListener("click",se),Me};var gn=typeof window<"u"?window:typeof d<"u"?d:typeof self<"u"?self:{};function sn(re){return re&&re.__esModule&&Object.prototype.hasOwnProperty.call(re,"default")?re.default:re}function Xt(re,se){return se={exports:{}},re(se,se.exports),se.exports}var $n=Xt(function(re,se){(function(Fe,Je){re.exports=Je()})(gn,function(){return function(Me){var Fe={};function Je(at){if(Fe[at])return Fe[at].exports;var xt=Fe[at]={i:at,l:!1,exports:{}};return Me[at].call(xt.exports,xt,xt.exports,Je),xt.l=!0,xt.exports}return Je.m=Me,Je.c=Fe,Je.d=function(at,xt,me){Je.o(at,xt)||Object.defineProperty(at,xt,{configurable:!1,enumerable:!0,get:me})},Je.n=function(at){var xt=at&&at.__esModule?function(){return at.default}:function(){return at};return Je.d(xt,"a",xt),xt},Je.o=function(at,xt){return Object.prototype.hasOwnProperty.call(at,xt)},Je.p="",Je(Je.s=0)}([function(Me,Fe,Je){var at=function(){function Te(Le,yt){for(var Ft=0;Ft<yt.length;Ft++){var en=yt[Ft];en.enumerable=en.enumerable||!1,en.configurable=!0,"value"in en&&(en.writable=!0),Object.defineProperty(Le,en.key,en)}}return function(Le,yt,Ft){return yt&&Te(Le.prototype,yt),Ft&&Te(Le,Ft),Le}}();function xt(Te,Le){if(!(Te instanceof Le))throw new TypeError("Cannot call a class as a function")}var me=Je(1),be=typeof navigator<"u"&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,Ee=function(){function Te(){xt(this,Te),be?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("playsinline",""),this.noSleepVideo.setAttribute("src",me),this.noSleepVideo.addEventListener("timeupdate",(function(Le){this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())}).bind(this)))}return at(Te,[{key:"enable",value:function(){be?(this.disable(),this.noSleepTimer=window.setInterval(function(){window.location.href="/",window.setTimeout(window.stop,0)},15e3)):this.noSleepVideo.play()}},{key:"disable",value:function(){be?this.noSleepTimer&&(window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause()}}]),Te}();Me.exports=Ee},function(Me,Fe,Je){Me.exports="data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQADQGgcIQADQGgcAAAACQGeYUQn/wALKCEAA0BoHAAAAAkBnmNEJ/8ACykhAANAaBwhAANAaBwAAAANQZpoNExDP/6plgAMuSEAA0BoHAAAAAtBnoZFESwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBnqVEJ/8ACykhAANAaBwAAAAJAZ6nRCf/AAsoIQADQGgcIQADQGgcAAAADUGarDRMQz/+qZYADLghAANAaBwAAAALQZ7KRRUsK/8ACPkhAANAaBwAAAAJAZ7pRCf/AAsoIQADQGgcIQADQGgcAAAACQGe60Qn/wALKCEAA0BoHAAAAA1BmvA0TEM//qmWAAy5IQADQGgcIQADQGgcAAAAC0GfDkUVLCv/AAj5IQADQGgcAAAACQGfLUQn/wALKSEAA0BoHCEAA0BoHAAAAAkBny9EJ/8ACyghAANAaBwAAAANQZs0NExDP/6plgAMuCEAA0BoHAAAAAtBn1JFFSwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBn3FEJ/8ACyghAANAaBwAAAAJAZ9zRCf/AAsoIQADQGgcIQADQGgcAAAADUGbeDRMQz/+qZYADLkhAANAaBwAAAALQZ+WRRUsK/8ACPghAANAaBwhAANAaBwAAAAJAZ+1RCf/AAspIQADQGgcAAAACQGft0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bm7w0TEM//qmWAAy4IQADQGgcAAAAC0Gf2kUVLCv/AAj5IQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHAAAAAkBn/tEJ/8ACykhAANAaBwAAAANQZvgNExDP/6plgAMuSEAA0BoHCEAA0BoHAAAAAtBnh5FFSwr/wAI+CEAA0BoHAAAAAkBnj1EJ/8ACyghAANAaBwhAANAaBwAAAAJAZ4/RCf/AAspIQADQGgcAAAADUGaJDRMQz/+qZYADLghAANAaBwAAAALQZ5CRRUsK/8ACPkhAANAaBwhAANAaBwAAAAJAZ5hRCf/AAsoIQADQGgcAAAACQGeY0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bmmg0TEM//qmWAAy5IQADQGgcAAAAC0GehkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGepUQn/wALKSEAA0BoHAAAAAkBnqdEJ/8ACyghAANAaBwAAAANQZqsNExDP/6plgAMuCEAA0BoHCEAA0BoHAAAAAtBnspFFSwr/wAI+SEAA0BoHAAAAAkBnulEJ/8ACyghAANAaBwhAANAaBwAAAAJAZ7rRCf/AAsoIQADQGgcAAAADUGa8DRMQz/+qZYADLkhAANAaBwhAANAaBwAAAALQZ8ORRUsK/8ACPkhAANAaBwAAAAJAZ8tRCf/AAspIQADQGgcIQADQGgcAAAACQGfL0Qn/wALKCEAA0BoHAAAAA1BmzQ0TEM//qmWAAy4IQADQGgcAAAAC0GfUkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGfcUQn/wALKCEAA0BoHAAAAAkBn3NEJ/8ACyghAANAaBwhAANAaBwAAAANQZt4NExC//6plgAMuSEAA0BoHAAAAAtBn5ZFFSwr/wAI+CEAA0BoHCEAA0BoHAAAAAkBn7VEJ/8ACykhAANAaBwAAAAJAZ+3RCf/AAspIQADQGgcAAAADUGbuzRMQn/+nhAAYsAhAANAaBwhAANAaBwAAAAJQZ/aQhP/AAspIQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHAAACiFtb292AAAAbG12aGQAAAAA1YCCX9WAgl8AAAPoAAAH/AABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAGGlvZHMAAAAAEICAgAcAT////v7/AAAF+XRyYWsAAABcdGtoZAAAAAPVgIJf1YCCXwAAAAEAAAAAAAAH0AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAygAAAMoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAB9AAABdwAAEAAAAABXFtZGlhAAAAIG1kaGQAAAAA1YCCX9WAgl8AAV+QAAK/IFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAUcbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAE3HN0YmwAAACYc3RzZAAAAAAAAAABAAAAiGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAygDKAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAyYXZjQwFNQCj/4QAbZ01AKOyho3ySTUBAQFAAAAMAEAAr8gDxgxlgAQAEaO+G8gAAABhzdHRzAAAAAAAAAAEAAAA8AAALuAAAABRzdHNzAAAAAAAAAAEAAAABAAAB8GN0dHMAAAAAAAAAPAAAAAEAABdwAAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAAC7gAAAAAQAAF3AAAAABAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAEEc3RzegAAAAAAAAAAAAAAPAAAAzQAAAAQAAAADQAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAANAAAADQAAAQBzdGNvAAAAAAAAADwAAAAwAAADZAAAA3QAAAONAAADoAAAA7kAAAPQAAAD6wAAA/4AAAQXAAAELgAABEMAAARcAAAEbwAABIwAAAShAAAEugAABM0AAATkAAAE/wAABRIAAAUrAAAFQgAABV0AAAVwAAAFiQAABaAAAAW1AAAFzgAABeEAAAX+AAAGEwAABiwAAAY/AAAGVgAABnEAAAaEAAAGnQAABrQAAAbPAAAG4gAABvUAAAcSAAAHJwAAB0AAAAdTAAAHcAAAB4UAAAeeAAAHsQAAB8gAAAfjAAAH9gAACA8AAAgmAAAIQQAACFQAAAhnAAAIhAAACJcAAAMsdHJhawAAAFx0a2hkAAAAA9WAgl/VgIJfAAAAAgAAAAAAAAf8AAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAACsm1kaWEAAAAgbWRoZAAAAADVgIJf1YCCXwAArEQAAWAAVcQAAAAAACdoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU3RlcmVvAAAAAmNtaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAidzdGJsAAAAZ3N0c2QAAAAAAAAAAQAAAFdtcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAADNlc2RzAAAAAAOAgIAiAAIABICAgBRAFQAAAAADDUAAAAAABYCAgAISEAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAABYAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAGAAAAWAAAAXBzdGNvAAAAAAAAAFgAAAOBAAADhwAAA5oAAAOtAAADswAAA8oAAAPfAAAD5QAAA/gAAAQLAAAEEQAABCgAAAQ9AAAEUAAABFYAAARpAAAEgAAABIYAAASbAAAErgAABLQAAATHAAAE3gAABPMAAAT5AAAFDAAABR8AAAUlAAAFPAAABVEAAAVXAAAFagAABX0AAAWDAAAFmgAABa8AAAXCAAAFyAAABdsAAAXyAAAF+AAABg0AAAYgAAAGJgAABjkAAAZQAAAGZQAABmsAAAZ+AAAGkQAABpcAAAauAAAGwwAABskAAAbcAAAG7wAABwYAAAcMAAAHIQAABzQAAAc6AAAHTQAAB2QAAAdqAAAHfwAAB5IAAAeYAAAHqwAAB8IAAAfXAAAH3QAAB/AAAAgDAAAICQAACCAAAAg1AAAIOwAACE4AAAhhAAAIeAAACH4AAAiRAAAIpAAACKoAAAiwAAAItgAACLwAAAjCAAAAFnVkdGEAAAAObmFtZVN0ZXJlbwAAAHB1ZHRhAAAAaG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAO2lsc3QAAAAzqXRvbwAAACtkYXRhAAAAAQAAAABIYW5kQnJha2UgMC4xMC4yIDIwMTUwNjExMDA="}])})}),Nn=sn($n),er=1e3,br=[0,0,.5,1],kn=[.5,0,.5,1],fr=window.requestAnimationFrame,sr=window.cancelAnimationFrame;function Nr(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null}function or(re){Object.defineProperties(this,{hasPosition:{writable:!1,enumerable:!0,value:re.hasPosition},hasExternalDisplay:{writable:!1,enumerable:!0,value:re.hasExternalDisplay},canPresent:{writable:!1,enumerable:!0,value:re.canPresent},maxLayers:{writable:!1,enumerable:!0,value:re.maxLayers},hasOrientation:{enumerable:!0,get:function(){return Yt("VRDisplayCapabilities.prototype.hasOrientation","VRDisplay.prototype.getFrameData"),re.hasOrientation}}})}function Zt(re){re=re||{};var se="wakelock"in re?re.wakelock:!0;this.isPolyfilled=!0,this.displayId=er++,this.displayName="",this.depthNear=.01,this.depthFar=1e4,this.isPresenting=!1,Object.defineProperty(this,"isConnected",{get:function(){return Yt("VRDisplay.prototype.isConnected","VRDisplayCapabilities.prototype.hasExternalDisplay"),!1}}),this.capabilities=new or({hasPosition:!1,hasOrientation:!1,hasExternalDisplay:!1,canPresent:!1,maxLayers:1}),this.stageParameters=null,this.waitingForPresent_=!1,this.layer_=null,this.originalParent_=null,this.fullscreenElement_=null,this.fullscreenWrapper_=null,this.fullscreenElementCachedStyle_=null,this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null,se&&ot()&&(this.wakelock_=new Nn)}Zt.prototype.getFrameData=function(re){return Et(re,this._getPose(),this)},Zt.prototype.getPose=function(){return Yt("VRDisplay.prototype.getPose","VRDisplay.prototype.getFrameData"),this._getPose()},Zt.prototype.resetPose=function(){return Yt("VRDisplay.prototype.resetPose"),this._resetPose()},Zt.prototype.getImmediatePose=function(){return Yt("VRDisplay.prototype.getImmediatePose","VRDisplay.prototype.getFrameData"),this._getPose()},Zt.prototype.requestAnimationFrame=function(re){return fr(re)},Zt.prototype.cancelAnimationFrame=function(re){return sr(re)},Zt.prototype.wrapForFullscreen=function(re){if(N())return re;if(!this.fullscreenWrapper_){this.fullscreenWrapper_=document.createElement("div");var se=["height: "+Math.min(screen.height,screen.width)+"px !important","top: 0 !important","left: 0 !important","right: 0 !important","border: 0","margin: 0","padding: 0","z-index: 999999 !important","position: fixed"];this.fullscreenWrapper_.setAttribute("style",se.join("; ")+";"),this.fullscreenWrapper_.classList.add("webvr-polyfill-fullscreen-wrapper")}if(this.fullscreenElement_==re)return this.fullscreenWrapper_;if(this.fullscreenElement_&&(this.originalParent_?this.originalParent_.appendChild(this.fullscreenElement_):this.fullscreenElement_.parentElement.removeChild(this.fullscreenElement_)),this.fullscreenElement_=re,this.originalParent_=re.parentElement,this.originalParent_||document.body.appendChild(re),!this.fullscreenWrapper_.parentElement){var Me=this.fullscreenElement_.parentElement;Me.insertBefore(this.fullscreenWrapper_,this.fullscreenElement_),Me.removeChild(this.fullscreenElement_)}this.fullscreenWrapper_.insertBefore(this.fullscreenElement_,this.fullscreenWrapper_.firstChild),this.fullscreenElementCachedStyle_=this.fullscreenElement_.getAttribute("style");var Fe=this;function Je(){if(Fe.fullscreenElement_){var at=["position: absolute","top: 0","left: 0","width: "+Math.max(screen.width,screen.height)+"px","height: "+Math.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0"];Fe.fullscreenElement_.setAttribute("style",at.join("; ")+";")}}return Je(),this.fullscreenWrapper_},Zt.prototype.removeFullscreenWrapper=function(){if(this.fullscreenElement_){var re=this.fullscreenElement_;this.fullscreenElementCachedStyle_?re.setAttribute("style",this.fullscreenElementCachedStyle_):re.removeAttribute("style"),this.fullscreenElement_=null,this.fullscreenElementCachedStyle_=null;var se=this.fullscreenWrapper_.parentElement;return this.fullscreenWrapper_.removeChild(re),this.originalParent_===se?se.insertBefore(re,this.fullscreenWrapper_):this.originalParent_&&this.originalParent_.appendChild(re),se.removeChild(this.fullscreenWrapper_),re}},Zt.prototype.requestPresent=function(re){var se=this.isPresenting,Me=this;return re instanceof Array||(Yt("VRDisplay.prototype.requestPresent with non-array argument","an array of VRLayers as the first argument"),re=[re]),new Promise(function(Fe,Je){if(!Me.capabilities.canPresent){Je(new Error("VRDisplay is not capable of presenting."));return}if(re.length==0||re.length>Me.capabilities.maxLayers){Je(new Error("Invalid number of layers."));return}var at=re[0];if(!at.source){Fe();return}var xt=at.leftBounds||br,me=at.rightBounds||kn;if(se){var be=Me.layer_;be.source!==at.source&&(be.source=at.source);for(var Ee=0;Ee<4;Ee++)be.leftBounds[Ee]=xt[Ee],be.rightBounds[Ee]=me[Ee];Me.wrapForFullscreen(Me.layer_.source),Me.updatePresent_(),Fe();return}if(Me.layer_={predistorted:at.predistorted,source:at.source,leftBounds:xt.slice(0),rightBounds:me.slice(0)},Me.waitingForPresent_=!1,Me.layer_&&Me.layer_.source){var Te=Me.wrapForFullscreen(Me.layer_.source),Le=function(){var en=qe();Me.isPresenting=Te===en,Me.isPresenting?(screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape-primary").catch(function(dn){console.error("screen.orientation.lock() failed due to",dn.message)}),Me.waitingForPresent_=!1,Me.beginPresent_(),Fe()):(screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),Me.removeFullscreenWrapper(),Me.disableWakeLock(),Me.endPresent_(),Me.removeFullscreenListeners_()),Me.fireVRDisplayPresentChange_()},yt=function(){Me.waitingForPresent_&&(Me.removeFullscreenWrapper(),Me.removeFullscreenListeners_(),Me.disableWakeLock(),Me.waitingForPresent_=!1,Me.isPresenting=!1,Je(new Error("Unable to present.")))};Me.addFullscreenListeners_(Te,Le,yt),Re(Te)?(Me.enableWakeLock(),Me.waitingForPresent_=!0):(N()||z())&&(Me.enableWakeLock(),Me.isPresenting=!0,Me.beginPresent_(),Me.fireVRDisplayPresentChange_(),Fe())}!Me.waitingForPresent_&&!N()&&($e(),Je(new Error("Unable to present.")))})},Zt.prototype.exitPresent=function(){var re=this.isPresenting,se=this;return this.isPresenting=!1,this.layer_=null,this.disableWakeLock(),new Promise(function(Me,Fe){re?(!$e()&&N()&&(se.endPresent_(),se.fireVRDisplayPresentChange_()),z()&&(se.removeFullscreenWrapper(),se.removeFullscreenListeners_(),se.endPresent_(),se.fireVRDisplayPresentChange_()),Me()):Fe(new Error("Was not presenting to VRDisplay."))})},Zt.prototype.getLayers=function(){return this.layer_?[this.layer_]:[]},Zt.prototype.fireVRDisplayPresentChange_=function(){var re=new CustomEvent("vrdisplaypresentchange",{detail:{display:this}});window.dispatchEvent(re)},Zt.prototype.fireVRDisplayConnect_=function(){var re=new CustomEvent("vrdisplayconnect",{detail:{display:this}});window.dispatchEvent(re)},Zt.prototype.addFullscreenListeners_=function(re,se,Me){this.removeFullscreenListeners_(),this.fullscreenEventTarget_=re,this.fullscreenChangeHandler_=se,this.fullscreenErrorHandler_=Me,se&&(document.fullscreenEnabled?re.addEventListener("fullscreenchange",se,!1):document.webkitFullscreenEnabled?re.addEventListener("webkitfullscreenchange",se,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenchange",se,!1):document.msFullscreenEnabled&&re.addEventListener("msfullscreenchange",se,!1)),Me&&(document.fullscreenEnabled?re.addEventListener("fullscreenerror",Me,!1):document.webkitFullscreenEnabled?re.addEventListener("webkitfullscreenerror",Me,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenerror",Me,!1):document.msFullscreenEnabled&&re.addEventListener("msfullscreenerror",Me,!1))},Zt.prototype.removeFullscreenListeners_=function(){if(this.fullscreenEventTarget_){var re=this.fullscreenEventTarget_;if(this.fullscreenChangeHandler_){var se=this.fullscreenChangeHandler_;re.removeEventListener("fullscreenchange",se,!1),re.removeEventListener("webkitfullscreenchange",se,!1),document.removeEventListener("mozfullscreenchange",se,!1),re.removeEventListener("msfullscreenchange",se,!1)}if(this.fullscreenErrorHandler_){var Me=this.fullscreenErrorHandler_;re.removeEventListener("fullscreenerror",Me,!1),re.removeEventListener("webkitfullscreenerror",Me,!1),document.removeEventListener("mozfullscreenerror",Me,!1),re.removeEventListener("msfullscreenerror",Me,!1)}this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null}},Zt.prototype.enableWakeLock=function(){this.wakelock_&&this.wakelock_.enable()},Zt.prototype.disableWakeLock=function(){this.wakelock_&&this.wakelock_.disable()},Zt.prototype.beginPresent_=function(){},Zt.prototype.endPresent_=function(){},Zt.prototype.submitFrame=function(re){},Zt.prototype.getEyeParameters=function(re){return null};var bn={ADDITIONAL_VIEWERS:[],DEFAULT_VIEWER:"",MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1},qn={LEFT:"left",RIGHT:"right"};function Gn(re){var se=it({},bn);re=it(se,re||{}),Zt.call(this,{wakelock:re.MOBILE_WAKE_LOCK}),this.config=re,this.displayName="Cardboard VRDisplay",this.capabilities=new or({hasPosition:!1,hasOrientation:!0,hasExternalDisplay:!1,canPresent:!0,maxLayers:1}),this.stageParameters=null,this.bufferScale_=this.config.BUFFER_SCALE,this.poseSensor_=new xe(this.config),this.distorter_=null,this.cardboardUI_=null,this.dpdb_=new Sn(this.config.DPDB_URL,this.onDeviceParamsUpdated_.bind(this)),this.deviceInfo_=new Vt(this.dpdb_.getDeviceParams(),re.ADDITIONAL_VIEWERS),this.viewerSelector_=new Kt(re.DEFAULT_VIEWER),this.viewerSelector_.onChange(this.onViewerChanged_.bind(this)),this.deviceInfo_.setViewer(this.viewerSelector_.getCurrentViewer()),this.config.ROTATE_INSTRUCTIONS_DISABLED||(this.rotateInstructions_=new tt),N()&&window.addEventListener("resize",this.onResize_.bind(this))}return Gn.prototype=Object.create(Zt.prototype),Gn.prototype._getPose=function(){return{position:null,orientation:this.poseSensor_.getOrientation(),linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},Gn.prototype._resetPose=function(){this.poseSensor_.resetPose&&this.poseSensor_.resetPose()},Gn.prototype._getFieldOfView=function(re){var se;if(re==qn.LEFT)se=this.deviceInfo_.getFieldOfViewLeftEye();else if(re==qn.RIGHT)se=this.deviceInfo_.getFieldOfViewRightEye();else return console.error("Invalid eye provided: %s",re),null;return se},Gn.prototype._getEyeOffset=function(re){var se;if(re==qn.LEFT)se=[-this.deviceInfo_.viewer.interLensDistance*.5,0,0];else if(re==qn.RIGHT)se=[this.deviceInfo_.viewer.interLensDistance*.5,0,0];else return console.error("Invalid eye provided: %s",re),null;return se},Gn.prototype.getEyeParameters=function(re){var se=this._getEyeOffset(re),Me=this._getFieldOfView(re),Fe={offset:se,renderWidth:this.deviceInfo_.device.width*.5*this.bufferScale_,renderHeight:this.deviceInfo_.device.height*this.bufferScale_};return Object.defineProperty(Fe,"fieldOfView",{enumerable:!0,get:function(){return Yt("VRFieldOfView","VRFrameData's projection matrices"),Me}}),Fe},Gn.prototype.onDeviceParamsUpdated_=function(re){this.config.DEBUG&&console.log("DPDB reported that device params were updated."),this.deviceInfo_.updateDeviceParams(re),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_)},Gn.prototype.updateBounds_=function(){this.layer_&&this.distorter_&&(this.layer_.leftBounds||this.layer_.rightBounds)&&this.distorter_.setTextureBounds(this.layer_.leftBounds,this.layer_.rightBounds)},Gn.prototype.beginPresent_=function(){var re=this.layer_.source.getContext("webgl");re||(re=this.layer_.source.getContext("experimental-webgl")),re||(re=this.layer_.source.getContext("webgl2")),re&&(this.layer_.predistorted?this.config.CARDBOARD_UI_DISABLED||(re.canvas.width=Be()*this.bufferScale_,re.canvas.height=ge()*this.bufferScale_,this.cardboardUI_=new ve(re)):(this.config.CARDBOARD_UI_DISABLED||(this.cardboardUI_=new ve(re)),this.distorter_=new _e(re,this.cardboardUI_,this.config.BUFFER_SCALE,this.config.DIRTY_SUBMIT_FRAME_BINDINGS),this.distorter_.updateDeviceInfo(this.deviceInfo_)),this.cardboardUI_&&this.cardboardUI_.listen((function(se){this.viewerSelector_.show(this.layer_.source.parentElement),se.stopPropagation(),se.preventDefault()}).bind(this),(function(se){this.exitPresent(),se.stopPropagation(),se.preventDefault()}).bind(this)),this.rotateInstructions_&&(oe()&&ot()?this.rotateInstructions_.showTemporarily(3e3,this.layer_.source.parentElement):this.rotateInstructions_.update()),this.orientationHandler=this.onOrientationChange_.bind(this),window.addEventListener("orientationchange",this.orientationHandler),this.vrdisplaypresentchangeHandler=this.updateBounds_.bind(this),window.addEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler),this.fireVRDisplayDeviceParamsChange_())},Gn.prototype.endPresent_=function(){this.distorter_&&(this.distorter_.destroy(),this.distorter_=null),this.cardboardUI_&&(this.cardboardUI_.destroy(),this.cardboardUI_=null),this.rotateInstructions_&&this.rotateInstructions_.hide(),this.viewerSelector_.hide(),window.removeEventListener("orientationchange",this.orientationHandler),window.removeEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler)},Gn.prototype.updatePresent_=function(){this.endPresent_(),this.beginPresent_()},Gn.prototype.submitFrame=function(re){if(this.distorter_)this.updateBounds_(),this.distorter_.submitFrame();else if(this.cardboardUI_&&this.layer_){var se=this.layer_.source.getContext("webgl");se||(se=this.layer_.source.getContext("experimental-webgl")),se||(se=this.layer_.source.getContext("webgl2"));var Me=se.canvas;(Me.width!=this.lastWidth||Me.height!=this.lastHeight)&&this.cardboardUI_.onResize(),this.lastWidth=Me.width,this.lastHeight=Me.height,this.cardboardUI_.render()}},Gn.prototype.onOrientationChange_=function(re){this.viewerSelector_.hide(),this.rotateInstructions_&&this.rotateInstructions_.update(),this.onResize_()},Gn.prototype.onResize_=function(re){if(this.layer_){var se=this.layer_.source.getContext("webgl");se||(se=this.layer_.source.getContext("experimental-webgl")),se||(se=this.layer_.source.getContext("webgl2"));var Me=["position: absolute","top: 0","left: 0","width: 100vw","height: 100vh","border: 0","margin: 0","padding: 0px","box-sizing: content-box"];se.canvas.setAttribute("style",Me.join("; ")+";"),ft(se.canvas)}},Gn.prototype.onViewerChanged_=function(re){this.deviceInfo_.setViewer(re),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_),this.fireVRDisplayDeviceParamsChange_()},Gn.prototype.fireVRDisplayDeviceParamsChange_=function(){var re=new CustomEvent("vrdisplaydeviceparamschange",{detail:{vrdisplay:this,deviceInfo:this.deviceInfo_}});window.dispatchEvent(re)},Gn.VRFrameData=Nr,Gn.VRDisplay=Zt,Gn})}),b=h(A),g="0.10.12",w={ADDITIONAL_VIEWERS:[],DEFAULT_VIEWER:"",PROVIDE_MOBILE_VRDISPLAY:!0,MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1};function E(R){this.config=y(y({},w),R),this.polyfillDisplays=[],this.enabled=!1,this.hasNative="getVRDisplays"in navigator,this.native={},this.native.getVRDisplays=navigator.getVRDisplays,this.native.VRFrameData=window.VRFrameData,this.native.VRDisplay=window.VRDisplay,(!this.hasNative||this.config.PROVIDE_MOBILE_VRDISPLAY&&m())&&(this.enable(),this.getVRDisplays().then(function(L){L&&L[0]&&L[0].fireVRDisplayConnect_&&L[0].fireVRDisplayConnect_()}))}E.prototype.getPolyfillDisplays=function(){if(this._polyfillDisplaysPopulated)return this.polyfillDisplays;if(m()){var R=new b({ADDITIONAL_VIEWERS:this.config.ADDITIONAL_VIEWERS,DEFAULT_VIEWER:this.config.DEFAULT_VIEWER,MOBILE_WAKE_LOCK:this.config.MOBILE_WAKE_LOCK,DEBUG:this.config.DEBUG,DPDB_URL:this.config.DPDB_URL,CARDBOARD_UI_DISABLED:this.config.CARDBOARD_UI_DISABLED,K_FILTER:this.config.K_FILTER,PREDICTION_TIME_S:this.config.PREDICTION_TIME_S,ROTATE_INSTRUCTIONS_DISABLED:this.config.ROTATE_INSTRUCTIONS_DISABLED,YAW_ONLY:this.config.YAW_ONLY,BUFFER_SCALE:this.config.BUFFER_SCALE,DIRTY_SUBMIT_FRAME_BINDINGS:this.config.DIRTY_SUBMIT_FRAME_BINDINGS});this.polyfillDisplays.push(R)}return this._polyfillDisplaysPopulated=!0,this.polyfillDisplays},E.prototype.enable=function(){if(this.enabled=!0,this.hasNative&&this.native.VRFrameData){var R=this.native.VRFrameData,L=new this.native.VRFrameData,T=this.native.VRDisplay.prototype.getFrameData;window.VRDisplay.prototype.getFrameData=function(D){if(D instanceof R){T.call(this,D);return}T.call(this,L),D.pose=L.pose,v(L.leftProjectionMatrix,D.leftProjectionMatrix),v(L.rightProjectionMatrix,D.rightProjectionMatrix),v(L.leftViewMatrix,D.leftViewMatrix),v(L.rightViewMatrix,D.rightViewMatrix)}}navigator.getVRDisplays=this.getVRDisplays.bind(this),window.VRDisplay=b.VRDisplay,window.VRFrameData=b.VRFrameData},E.prototype.getVRDisplays=function(){var R=this;return this.config,this.hasNative?this.native.getVRDisplays.call(navigator).then(function(L){return L.length>0?L:R.getPolyfillDisplays()}):Promise.resolve(this.getPolyfillDisplays())},E.version=g,E.VRFrameData=b.VRFrameData,E.VRDisplay=b.VRDisplay;var C=Object.freeze({default:E}),_=C&&E||C;typeof d<"u"&&d.window&&(d.document||(d.document=d.window.document),d.navigator||(d.navigator=d.window.navigator));var P=_;return P})},"./node_modules/word-wrapper/index.js":l=>{var u=/\n/,c=`
`,d=/\s/;l.exports=function(A,b){var g=l.exports.lines(A,b);return g.map(function(w){return A.substring(w.start,w.end)}).join(`
`)},l.exports.lines=function(b,g){if(g=g||{},g.width===0&&g.mode!=="nowrap")return[];b=b||"";var w=typeof g.width=="number"?g.width:Number.MAX_VALUE,E=Math.max(0,g.start||0),C=typeof g.end=="number"?g.end:b.length,_=g.mode,P=g.measure||y;return _==="pre"?m(P,b,E,C,w):v(P,b,E,C,w,_)};function h(A,b,g,w){var E=A.indexOf(b,g);return E===-1||E>w?w:E}function p(A){return d.test(A)}function m(A,b,g,w,E){for(var C=[],_=g,P=g;P<w&&P<b.length;P++){var R=b.charAt(P),L=u.test(R);if(L||P===w-1){var T=L?P:P+1,D=A(b,_,T,E);C.push(D),_=P+1}}return C}function v(A,b,g,w,E,C){var _=[],P=E;for(C==="nowrap"&&(P=Number.MAX_VALUE);g<w&&g<b.length;){for(var R=h(b,c,g,w);g<R&&p(b.charAt(g));)g++;var L=A(b,g,R,P),T=g+(L.end-L.start),D=T+c.length;if(T<R){for(;T>g&&!p(b.charAt(T));)T--;if(T===g)D>g+c.length&&D--,T=D;else for(D=T;T>g&&p(b.charAt(T-c.length));)T--}if(T>=g){var H=A(b,g,T,P);_.push(H)}g=D}return _}function y(A,b,g,w){var E=Math.min(w,g-b);return{start:b,end:b+E}}},"./node_modules/xhr/index.js":(l,u,c)=>{var d=c("./node_modules/global/window.js"),h=c("./node_modules/is-function/index.js"),p=c("./node_modules/parse-headers/parse-headers.js"),m=c("./node_modules/xtend/immutable.js");l.exports=b,l.exports.default=b,b.XMLHttpRequest=d.XMLHttpRequest||E,b.XDomainRequest="withCredentials"in new b.XMLHttpRequest?b.XMLHttpRequest:d.XDomainRequest,v(["get","put","post","patch","head","delete"],function(C){b[C==="delete"?"del":C]=function(_,P,R){return P=A(_,P,R),P.method=C.toUpperCase(),g(P)}});function v(C,_){for(var P=0;P<C.length;P++)_(C[P])}function y(C){for(var _ in C)if(C.hasOwnProperty(_))return!1;return!0}function A(C,_,P){var R=C;return h(_)?(P=_,typeof C=="string"&&(R={uri:C})):R=m(_,{uri:C}),R.callback=P,R}function b(C,_,P){return _=A(C,_,P),g(_)}function g(C){if(typeof C.callback>"u")throw new Error("callback argument missing");var _=!1,P=function(Z,oe,ce){_||(_=!0,C.callback(Z,oe,ce))};function R(){H.readyState===4&&setTimeout(D,0)}function L(){var J=void 0;if(H.response?J=H.response:J=H.responseText||w(H),G)try{J=JSON.parse(J)}catch{}return J}function T(J){return clearTimeout(Q),J instanceof Error||(J=new Error(""+(J||"Unknown XMLHttpRequest Error"))),J.statusCode=0,P(J,X)}function D(){if(!B){var J;clearTimeout(Q),C.useXDR&&H.status===void 0?J=200:J=H.status===1223?204:H.status;var Z=X,oe=null;return J!==0?(Z={body:L(),statusCode:J,method:F,headers:{},url:O,rawRequest:H},H.getAllResponseHeaders&&(Z.headers=p(H.getAllResponseHeaders()))):oe=new Error("Internal XMLHttpRequest Error"),P(oe,Z,Z.body)}}var H=C.xhr||null;H||(C.cors||C.useXDR?H=new b.XDomainRequest:H=new b.XMLHttpRequest);var V,B,O=H.url=C.uri||C.url,F=H.method=C.method||"GET",N=C.body||C.data,z=H.headers=C.headers||{},j=!!C.sync,G=!1,Q,X={body:void 0,headers:{},statusCode:0,method:F,url:O,rawRequest:H};if("json"in C&&C.json!==!1&&(G=!0,z.accept||z.Accept||(z.Accept="application/json"),F!=="GET"&&F!=="HEAD"&&(z["content-type"]||z["Content-Type"]||(z["Content-Type"]="application/json"),N=JSON.stringify(C.json===!0?N:C.json))),H.onreadystatechange=R,H.onload=D,H.onerror=T,H.onprogress=function(){},H.onabort=function(){B=!0},H.ontimeout=T,H.open(F,O,!j,C.username,C.password),j||(H.withCredentials=!!C.withCredentials),!j&&C.timeout>0&&(Q=setTimeout(function(){if(!B){B=!0,H.abort("timeout");var J=new Error("XMLHttpRequest timeout");J.code="ETIMEDOUT",T(J)}},C.timeout)),H.setRequestHeader)for(V in z)z.hasOwnProperty(V)&&H.setRequestHeader(V,z[V]);else if(C.headers&&!y(C.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in C&&(H.responseType=C.responseType),"beforeSend"in C&&typeof C.beforeSend=="function"&&C.beforeSend(H),H.send(N||null),H}function w(C){try{if(C.responseType==="document")return C.responseXML;var _=C.responseXML&&C.responseXML.documentElement.nodeName==="parsererror";if(C.responseType===""&&!_)return C.responseXML}catch{}return null}function E(){}},"./node_modules/xml-parse-from-string/index.js":l=>{l.exports=function(){return typeof self.DOMParser<"u"?function(c){var d=new self.DOMParser;return d.parseFromString(c,"application/xml")}:typeof self.ActiveXObject<"u"&&new self.ActiveXObject("Microsoft.XMLDOM")?function(c){var d=new self.ActiveXObject("Microsoft.XMLDOM");return d.async="false",d.loadXML(c),d}:function(c){var d=document.createElement("div");return d.innerHTML=c,d}}()},"./node_modules/xtend/immutable.js":l=>{l.exports=c;var u=Object.prototype.hasOwnProperty;function c(){for(var d={},h=0;h<arguments.length;h++){var p=arguments[h];for(var m in p)u.call(p,m)&&(d[m]=p[m])}return d}},"./src/components/animation.js":(l,u,c)=>{var d=c("./node_modules/super-animejs/lib/anime.es.js").default,h=c("./src/core/component.js").components,p=c("./src/core/component.js").registerComponent,m=c("./src/lib/three.js"),v=c("./src/utils/index.js"),y=new m.Color,A=new m.Color,b=v.entity.getComponentProperty,g=v.entity.setComponentProperty,w={},E="color",C="position",_="rotation",P="scale",R="components",L="object3D";l.exports.Component=p("animation",{schema:{autoplay:{default:!0},delay:{default:0},dir:{default:""},dur:{default:1e3},easing:{default:"easeInQuad"},elasticity:{default:400},enabled:{default:!0},from:{default:""},loop:{default:0,parse:function(z){return z===!0||z==="true"?!0:z===!1||z==="false"?!1:parseInt(z,10)}},property:{default:""},startEvents:{type:"array"},pauseEvents:{type:"array"},resumeEvents:{type:"array"},round:{default:!1},to:{default:""},type:{default:""},isRawProperty:{default:!1}},multiple:!0,init:function(){var z=this;this.eventDetail={name:this.attrName},this.time=0,this.animation=null,this.animationIsPlaying=!1,this.onStartEvent=this.onStartEvent.bind(this),this.beginAnimation=this.beginAnimation.bind(this),this.pauseAnimation=this.pauseAnimation.bind(this),this.resumeAnimation=this.resumeAnimation.bind(this),this.fromColor={},this.toColor={},this.targets={},this.targetsArray=[],this.updateConfigForDefault=this.updateConfigForDefault.bind(this),this.updateConfigForRawColor=this.updateConfigForRawColor.bind(this),this.config={complete:function(){z.animationIsPlaying=!1,z.el.emit("animationcomplete",z.eventDetail,!1),z.id&&z.el.emit("animationcomplete__"+z.id,z.eventDetail,!1)}}},update:function(z){var j=this.config,G=this.data;this.animationIsPlaying=!1,this.data.enabled&&G.property&&(j.autoplay=!1,j.direction=G.dir,j.duration=G.dur,j.easing=G.easing,j.elasticity=G.elasticity,j.loop=G.loop,j.round=G.round,this.createAndStartAnimation())},tick:function(z,j){this.animationIsPlaying&&(this.time+=j,this.animation.tick(this.time))},remove:function(){this.pauseAnimation(),this.removeEventListeners()},pause:function(){this.paused=!0,this.pausedWasPlaying=this.animationIsPlaying,this.pauseAnimation(),this.removeEventListeners()},play:function(){this.paused&&(this.paused=!1,this.addEventListeners(),this.pausedWasPlaying&&(this.resumeAnimation(),this.pausedWasPlaying=!1))},createAndStartAnimation:function(){var z=this.data;if(this.updateConfig(),this.animationIsPlaying=!1,this.animation=d(this.config),this.animation.began=!0,this.removeEventListeners(),this.addEventListeners(),!(!z.autoplay||z.startEvents&&z.startEvents.length)){if(z.delay){setTimeout(this.beginAnimation,z.delay);return}this.beginAnimation()}},beginAnimation:function(){this.updateConfig(),this.animation.began=!0,this.time=0,this.animationIsPlaying=!0,this.stopRelatedAnimations(),this.el.emit("animationbegin",this.eventDetail,!1)},pauseAnimation:function(){this.animationIsPlaying=!1},resumeAnimation:function(){this.animationIsPlaying=!0},onStartEvent:function(){if(this.data.enabled){if(this.updateConfig(),this.animation&&this.animation.pause(),this.animation=d(this.config),this.data.delay){setTimeout(this.beginAnimation,this.data.delay);return}this.beginAnimation()}},updateConfigForRawColor:function(){var z=this.config,j=this.data,G=this.el,Q,X,J;if(!this.waitComponentInitRawProperty(this.updateConfigForRawColor)){Q=j.from===""?B(G,j.property):j.from,J=j.to,this.setColorConfig(Q,J),Q=this.fromColor,J=this.toColor,this.targetsArray.length=0,this.targetsArray.push(Q),z.targets=this.targetsArray;for(X in J)z[X]=J[X];z.update=function(){var Z={};return function(oe){var ce;ce=oe.animatables[0].target,!(ce.r===Z.r&&ce.g===Z.g&&ce.b===Z.b)&&O(G,j.property,ce,j.type)}}()}},updateConfigForDefault:function(){var z=this.config,j=this.data,G=this.el,Q,X,J,Z;this.waitComponentInitRawProperty(this.updateConfigForDefault)||(j.from===""?Q=N(j)?B(G,j.property):b(G,j.property):Q=j.from,Z=j.to,J=!isNaN(Q||Z),J?(Q=parseFloat(Q),Z=parseFloat(Z)):(Q=Q&&Q.toString(),Z=Z&&Z.toString()),X=j.to==="true"||j.to==="false"||j.to===!0||j.to===!1,X&&(Q=j.from==="true"||j.from===!0?1:0,Z=j.to==="true"||j.to===!0?1:0),this.targets.aframeProperty=Q,z.targets=this.targets,z.aframeProperty=Z,z.update=function(){var oe;return function(ce){var Be;Be=ce.animatables[0].target.aframeProperty,Be!==oe&&(oe=Be,X&&(Be=Be>=1),N(j)?O(G,j.property,Be,j.type):g(G,j.property,Be))}}())},updateConfigForVector:function(){var z=this.config,j=this.data,G=this.el,Q,X,J;X=j.from!==""?v.coordinates.parse(j.from):b(G,j.property),J=v.coordinates.parse(j.to),j.property===_&&(D(X),D(J)),this.targetsArray.length=0,this.targetsArray.push(X),z.targets=this.targetsArray;for(Q in J)z[Q]=J[Q];if(j.property===C||j.property===_||j.property===P){z.update=function(){var Z={};return function(oe){var ce=oe.animatables[0].target;j.property===P&&(ce.x=Math.max(1e-4,ce.x),ce.y=Math.max(1e-4,ce.y),ce.z=Math.max(1e-4,ce.z)),!(ce.x===Z.x&&ce.y===Z.y&&ce.z===Z.z)&&(Z.x=ce.x,Z.y=ce.y,Z.z=ce.z,G.object3D[j.property].set(ce.x,ce.y,ce.z))}}();return}z.update=function(){var Z={};return function(oe){var ce=oe.animatables[0].target;ce.x===Z.x&&ce.y===Z.y&&ce.z===Z.z||(Z.x=ce.x,Z.y=ce.y,Z.z=ce.z,g(G,j.property,ce))}}()},updateConfig:function(){var z;z=T(this.el,this.data.property),N(this.data)&&this.data.type===E?this.updateConfigForRawColor():z==="vec2"||z==="vec3"||z==="vec4"?this.updateConfigForVector():this.updateConfigForDefault()},waitComponentInitRawProperty:function(z){var j,G=this.data,Q=this.el,X=this;return G.from!==""||!G.property.startsWith(R)||(j=F(G.property)[1],Q.components[j])?!1:(Q.addEventListener("componentinitialized",function J(Z){Z.detail.name===j&&(z(),X.animation=d(X.config),Q.removeEventListener("componentinitialized",J))}),!0)},stopRelatedAnimations:function(){var z,j;for(j in this.el.components)z=this.el.components[j],j!==this.attrName&&z.name==="animation"&&z.animationIsPlaying&&z.data.property===this.data.property&&(z.animationIsPlaying=!1)},addEventListeners:function(){var z=this.data,j=this.el;H(j,z.startEvents,this.onStartEvent),H(j,z.pauseEvents,this.pauseAnimation),H(j,z.resumeEvents,this.resumeAnimation)},removeEventListeners:function(){var z=this.data,j=this.el;V(j,z.startEvents,this.onStartEvent),V(j,z.pauseEvents,this.pauseAnimation),V(j,z.resumeEvents,this.resumeAnimation)},setColorConfig:function(z,j){y.set(z),A.set(j),z=this.fromColor,j=this.toColor,z.r=y.r,z.g=y.g,z.b=y.b,j.r=A.r,j.g=A.g,j.b=A.b}});function T(z,j){var G,Q,X,J;return X=j.split("."),Q=X[0],J=X[1],G=z.components[Q]||h[Q],!G||J&&!G.schema[J]?null:J?G.schema[J].type:G.schema.type}function D(z){z.x=m.MathUtils.degToRad(z.x),z.y=m.MathUtils.degToRad(z.y),z.z=m.MathUtils.degToRad(z.z)}function H(z,j,G){var Q;for(Q=0;Q<j.length;Q++)z.addEventListener(j[Q],G)}function V(z,j,G){var Q;for(Q=0;Q<j.length;Q++)z.removeEventListener(j[Q],G)}function B(z,j){var G,Q,X;for(Q=F(j),X=z,G=0;G<Q.length;G++)X=X[Q[G]];if(X===void 0)throw console.log(z),new Error("[animation] property ("+j+") could not be found");return X}function O(z,j,G,Q){var X,J,Z,oe;for(j.startsWith("object3D.rotation")&&(G=m.MathUtils.degToRad(G)),J=F(j),oe=z,X=0;X<J.length-1;X++)oe=oe[J[X]];if(Z=J[J.length-1],Q===E){"r"in oe[Z]?(oe[Z].r=G.r,oe[Z].g=G.g,oe[Z].b=G.b):(oe[Z].x=G.r,oe[Z].y=G.g,oe[Z].z=G.b);return}oe[Z]=G}function F(z){return z in w||(w[z]=z.split(".")),w[z]}function N(z){return z.isRawProperty||z.property.startsWith(R)||z.property.startsWith(L)}},"./src/components/camera.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/lib/three.js");l.exports.Component=d("camera",{schema:{active:{default:!0},far:{default:1e4},fov:{default:80,min:0},near:{default:.005,min:0},spectator:{default:!1},zoom:{default:1,min:0}},init:function(){var p,m=this.el;p=this.camera=new h.PerspectiveCamera,m.setObject3D("camera",p)},update:function(p){var m=this.data,v=this.camera;v.aspect=m.aspect||window.innerWidth/window.innerHeight,v.far=m.far,v.fov=m.fov,v.near=m.near,v.zoom=m.zoom,v.updateProjectionMatrix(),this.updateActiveCamera(p),this.updateSpectatorCamera(p)},updateActiveCamera:function(p){var m=this.data,v=this.el,y=this.system;p&&p.active===m.active||m.spectator||(m.active&&y.activeCameraEl!==v?y.setActiveCamera(v):!m.active&&y.activeCameraEl===v&&y.disableActiveCamera())},updateSpectatorCamera:function(p){var m=this.data,v=this.el,y=this.system;p&&p.spectator===m.spectator||(m.spectator&&y.spectatorCameraEl!==v?y.setSpectatorCamera(v):!m.spectator&&y.spectatorCameraEl===v&&y.disableSpectatorCamera())},remove:function(){this.el.removeObject3D("camera")}})},"./src/components/cursor.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/utils/index.js"),p=h.bind,m={CLICK:"click",FUSING:"fusing",MOUSEENTER:"mouseenter",MOUSEDOWN:"mousedown",MOUSELEAVE:"mouseleave",MOUSEUP:"mouseup"},v={FUSING:"cursor-fusing",HOVERING:"cursor-hovering",HOVERED:"cursor-hovered"},y={DOWN:["mousedown","touchstart"],UP:["mouseup","touchend"]},A={DOWN:["selectstart"],UP:["selectend"]},b="a-mouse-cursor-hover";l.exports.Component=d("cursor",{dependencies:["raycaster"],schema:{downEvents:{default:[]},fuse:{default:h.device.isMobile()},fuseTimeout:{default:1500,min:0},mouseCursorStylesEnabled:{default:!0},upEvents:{default:[]},rayOrigin:{default:"entity",oneOf:["mouse","entity","xrselect"]}},multiple:!0,init:function(){var g=this;this.fuseTimeout=void 0,this.cursorDownEl=null,this.intersectedEl=null,this.canvasBounds=document.body.getBoundingClientRect(),this.isCursorDown=!1,this.activeXRInput=null,this.updateCanvasBounds=h.debounce(function(){g.canvasBounds=g.el.sceneEl.canvas.getBoundingClientRect()},500),this.eventDetail={},this.intersectedEventDetail={cursorEl:this.el},this.onCursorDown=p(this.onCursorDown,this),this.onCursorUp=p(this.onCursorUp,this),this.onIntersection=p(this.onIntersection,this),this.onIntersectionCleared=p(this.onIntersectionCleared,this),this.onMouseMove=p(this.onMouseMove,this),this.onEnterVR=p(this.onEnterVR,this)},update:function(g){this.data.rayOrigin!==g.rayOrigin&&this.updateMouseEventListeners()},tick:function(){var g=this.el.sceneEl.frame,w=this.activeXRInput;this.data.rayOrigin==="xrselect"&&g&&w&&this.onMouseMove({frame:g,inputSource:w,type:"fakeselectevent"})},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){var g=this.el;g.removeState(v.HOVERING),g.removeState(v.FUSING),clearTimeout(this.fuseTimeout),this.intersectedEl&&this.intersectedEl.removeState(v.HOVERED),this.removeEventListeners()},addEventListeners:function(){var g,w=this.data,E=this.el,C=this;function _(){g=E.sceneEl.canvas,!(w.downEvents.length||w.upEvents.length)&&(y.DOWN.forEach(function(P){g.addEventListener(P,C.onCursorDown)}),y.UP.forEach(function(P){g.addEventListener(P,C.onCursorUp)}))}g=E.sceneEl.canvas,g?_():E.sceneEl.addEventListener("render-target-loaded",_),w.downEvents.forEach(function(P){E.addEventListener(P,C.onCursorDown)}),w.upEvents.forEach(function(P){E.addEventListener(P,C.onCursorUp)}),E.addEventListener("raycaster-intersection",this.onIntersection),E.addEventListener("raycaster-closest-entity-changed",this.onIntersection),E.addEventListener("raycaster-intersection-cleared",this.onIntersectionCleared),E.sceneEl.addEventListener("rendererresize",this.updateCanvasBounds),E.sceneEl.addEventListener("enter-vr",this.onEnterVR),window.addEventListener("resize",this.updateCanvasBounds),window.addEventListener("scroll",this.updateCanvasBounds),this.updateMouseEventListeners()},removeEventListeners:function(){var g,w=this.data,E=this.el,C=this;g=E.sceneEl.canvas,g&&!w.downEvents.length&&!w.upEvents.length&&(y.DOWN.forEach(function(_){g.removeEventListener(_,C.onCursorDown)}),y.UP.forEach(function(_){g.removeEventListener(_,C.onCursorUp)})),w.downEvents.forEach(function(_){E.removeEventListener(_,C.onCursorDown)}),w.upEvents.forEach(function(_){E.removeEventListener(_,C.onCursorUp)}),E.removeEventListener("raycaster-intersection",this.onIntersection),E.removeEventListener("raycaster-intersection-cleared",this.onIntersectionCleared),g.removeEventListener("mousemove",this.onMouseMove),g.removeEventListener("touchstart",this.onMouseMove),g.removeEventListener("touchmove",this.onMouseMove),E.sceneEl.removeEventListener("rendererresize",this.updateCanvasBounds),E.sceneEl.removeEventListener("enter-vr",this.onEnterVR),window.removeEventListener("resize",this.updateCanvasBounds),window.removeEventListener("scroll",this.updateCanvasBounds)},updateMouseEventListeners:function(){var g,w=this.el;g=w.sceneEl.canvas,g.removeEventListener("mousemove",this.onMouseMove),g.removeEventListener("touchmove",this.onMouseMove),w.setAttribute("raycaster","useWorldCoordinates",!1),this.data.rayOrigin==="mouse"&&(g.addEventListener("mousemove",this.onMouseMove,!1),g.addEventListener("touchmove",this.onMouseMove,!1),w.setAttribute("raycaster","useWorldCoordinates",!0),this.updateCanvasBounds())},onMouseMove:function(){var g=new THREE.Vector3,w=new THREE.Vector2,E=new THREE.Vector3,C={origin:E,direction:g};return function(_){var P=this.canvasBounds,R=this.el.sceneEl.camera,L,T,D,H,V,B,O,F;R.parent.updateMatrixWorld(),_.type==="touchmove"||_.type==="touchstart"?T=_.touches.item(0):T=_,L=T.clientX-P.left,D=T.clientY-P.top,w.x=L/P.width*2-1,w.y=-(D/P.height)*2+1,this.data.rayOrigin==="xrselect"&&(_.type==="selectstart"||_.type==="fakeselectevent")?(H=_.frame,V=_.inputSource,B=this.el.renderer.xr.getReferenceSpace(),O=H.getPose(V.targetRaySpace,B),F=O.transform,g.set(0,0,-1),g.applyQuaternion(F.orientation),E.copy(F.position)):_.type==="fakeselectout"?(g.set(0,1,0),E.set(0,9999,0)):R&&R.isPerspectiveCamera?(E.setFromMatrixPosition(R.matrixWorld),g.set(w.x,w.y,.5).unproject(R).sub(E).normalize()):R&&R.isOrthographicCamera?(E.set(w.x,w.y,(R.near+R.far)/(R.near-R.far)).unproject(R),g.set(0,0,-1).transformDirection(R.matrixWorld)):console.error("AFRAME.Raycaster: Unsupported camera type: "+R.type),this.el.setAttribute("raycaster",C),_.type==="touchmove"&&_.preventDefault()}}(),onCursorDown:function(g){this.isCursorDown=!0,this.data.rayOrigin==="mouse"&&g.type==="touchstart"&&(this.onMouseMove(g),this.el.components.raycaster.checkIntersections(),g.preventDefault()),this.data.rayOrigin==="xrselect"&&g.type==="selectstart"&&(this.activeXRInput=g.inputSource,this.onMouseMove(g),this.el.components.raycaster.checkIntersections(),this.el.components.raycaster.intersectedEls.length&&this.el.sceneEl.components["ar-hit-test"]!==void 0&&this.el.sceneEl.getAttribute("ar-hit-test").enabled&&(this.el.sceneEl.setAttribute("ar-hit-test","enabled",!1),this.reenableARHitTest=!0)),this.twoWayEmit(m.MOUSEDOWN,g),this.cursorDownEl=this.intersectedEl},onCursorUp:function(g){if(this.isCursorDown){this.isCursorDown=!1;var w=this.data;this.twoWayEmit(m.MOUSEUP,g),this.reenableARHitTest===!0&&(this.el.sceneEl.setAttribute("ar-hit-test","enabled",!0),this.reenableARHitTest=void 0),this.cursorDownEl&&this.cursorDownEl!==this.intersectedEl&&(this.intersectedEventDetail.intersection=null,this.cursorDownEl.emit(m.MOUSEUP,this.intersectedEventDetail)),(!w.fuse||w.rayOrigin==="mouse"||w.rayOrigin==="xrselect")&&this.intersectedEl&&this.cursorDownEl===this.intersectedEl&&this.twoWayEmit(m.CLICK,g),w.rayOrigin==="xrselect"&&this.activeXRInput===g.inputSource&&this.onMouseMove({type:"fakeselectout"}),this.activeXRInput=null,this.cursorDownEl=null,g.type==="touchend"&&g.preventDefault()}},onIntersection:function(g){var w,E=this.el,C,_,P;C=g.detail.els[0]===E?1:0,P=g.detail.intersections[C],_=g.detail.els[C],_&&this.intersectedEl!==_&&(this.intersectedEl&&(w=this.el.components.raycaster.getIntersection(this.intersectedEl),w&&w.distance<=P.distance)||(this.clearCurrentIntersection(!0),this.setIntersection(_,P)))},onIntersectionCleared:function(g){var w=g.detail.clearedEls;w.indexOf(this.intersectedEl)!==-1&&this.clearCurrentIntersection()},onEnterVR:function(){this.clearCurrentIntersection(!0);var g=this.el.sceneEl.xrSession,w=this;g&&this.data.rayOrigin!=="mouse"&&(A.DOWN.forEach(function(E){g.addEventListener(E,w.onCursorDown)}),A.UP.forEach(function(E){g.addEventListener(E,w.onCursorUp)}))},setIntersection:function(g,w){var E=this.el,C=this.data,_=this;this.intersectedEl!==g&&(this.intersectedEl=g,E.addState(v.HOVERING),g.addState(v.HOVERED),this.twoWayEmit(m.MOUSEENTER),this.data.mouseCursorStylesEnabled&&this.data.rayOrigin==="mouse"&&this.el.sceneEl.canvas.classList.add(b),!(C.fuseTimeout===0||!C.fuse||C.rayOrigin==="xrselect"||C.rayOrigin==="mouse")&&(E.addState(v.FUSING),this.twoWayEmit(m.FUSING),this.fuseTimeout=setTimeout(function(){E.removeState(v.FUSING),_.twoWayEmit(m.CLICK)},C.fuseTimeout)))},clearCurrentIntersection:function(g){var w,E,C,_=this.el;this.intersectedEl&&(this.intersectedEl.removeState(v.HOVERED),_.removeState(v.HOVERING),_.removeState(v.FUSING),this.twoWayEmit(m.MOUSELEAVE),this.data.mouseCursorStylesEnabled&&this.data.rayOrigin==="mouse"&&this.el.sceneEl.canvas.classList.remove(b),this.intersectedEl=null,clearTimeout(this.fuseTimeout),g!==!0&&(C=this.el.components.raycaster.intersections,C.length!==0&&(w=C[0].object.el===_?1:0,E=C[w],E&&this.setIntersection(E.object.el,E))))},twoWayEmit:function(g,w){var E=this.el,C=this.intersectedEl,_;function P(R,L){w instanceof MouseEvent?R.mouseEvent=w:typeof TouchEvent<"u"&&w instanceof TouchEvent&&(R.touchEvent=w)}_=this.el.components.raycaster.getIntersection(C),this.eventDetail.intersectedEl=C,this.eventDetail.intersection=_,P(this.eventDetail),E.emit(g,this.eventDetail),C&&(this.intersectedEventDetail.intersection=_,P(this.intersectedEventDetail),C.emit(g,this.intersectedEventDetail))}})},"./src/components/daydream-controls.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/utils/bind.js"),p=c("./src/utils/tracked-controls.js"),m=p.checkControllerPresentAndSetup,v=p.emitIfAxesChanged,y=p.onButtonEvent,A="https://cdn.aframe.io/controllers/google/",b=A+"vr_controller_daydream.obj",g=A+"vr_controller_daydream.mtl",w=c("./src/utils/index.js").device.isWebXRAvailable,E="google-daydream",C="Daydream Controller",_=w?E:C,P={axes:{trackpad:[0,1]},buttons:["trackpad","menu","system"]},R={axes:{touchpad:[0,1]},buttons:["none","none","touchpad","menu","system"]},L=w?R:P;l.exports.Component=d("daydream-controls",{schema:{hand:{default:""},buttonColor:{type:"color",default:"#000000"},buttonTouchedColor:{type:"color",default:"#777777"},buttonHighlightColor:{type:"color",default:"#FFFFFF"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:L,bindMethods:function(){this.onModelLoaded=h(this.onModelLoaded,this),this.onControllersUpdate=h(this.onControllersUpdate,this),this.checkIfControllerPresent=h(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=h(this.removeControllersUpdateListener,this),this.onAxisMoved=h(this.onAxisMoved,this)},init:function(){var T=this;this.onButtonChanged=h(this.onButtonChanged,this),this.onButtonDown=function(D){y(D.detail.id,"down",T)},this.onButtonUp=function(D){y(D.detail.id,"up",T)},this.onButtonTouchStart=function(D){y(D.detail.id,"touchstart",T)},this.onButtonTouchEnd=function(D){y(D.detail.id,"touchend",T)},this.controllerPresent=!1,this.lastControllerCheck=0,this.bindMethods()},addEventListeners:function(){var T=this.el;T.addEventListener("buttonchanged",this.onButtonChanged),T.addEventListener("buttondown",this.onButtonDown),T.addEventListener("buttonup",this.onButtonUp),T.addEventListener("touchstart",this.onButtonTouchStart),T.addEventListener("touchend",this.onButtonTouchEnd),T.addEventListener("model-loaded",this.onModelLoaded),T.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var T=this.el;T.removeEventListener("buttonchanged",this.onButtonChanged),T.removeEventListener("buttondown",this.onButtonDown),T.removeEventListener("buttonup",this.onButtonUp),T.removeEventListener("touchstart",this.onButtonTouchStart),T.removeEventListener("touchend",this.onButtonTouchEnd),T.removeEventListener("model-loaded",this.onModelLoaded),T.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){m(this,_,this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var T=this.el,D=this.data;T.setAttribute("tracked-controls",{armModel:D.armModel,hand:D.hand,idPrefix:_,id:_,orientationOffset:D.orientationOffset}),this.data.model&&this.el.setAttribute("obj-model",{obj:b,mtl:g})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(T){var D=T.detail.model,H;this.data.model&&(H=this.buttonMeshes={},H.menu=D.getObjectByName("AppButton_AppButton_Cylinder.004"),H.system=D.getObjectByName("HomeButton_HomeButton_Cylinder.005"),H.trackpad=D.getObjectByName("TouchPad_TouchPad_Cylinder.003"),H.touchpad=D.getObjectByName("TouchPad_TouchPad_Cylinder.003"),D.position.set(0,0,-.04))},onAxisMoved:function(T){v(this,this.mapping.axes,T)},onButtonChanged:function(T){var D=this.mapping.buttons[T.detail.id];D&&this.el.emit(D+"changed",T.detail.state)},updateModel:function(T,D){this.data.model&&this.updateButtonModel(T,D)},updateButtonModel:function(T,D){var H=this.buttonMeshes;if(!(!H||!H[T])){var V;switch(D){case"down":V=this.data.buttonHighlightColor;break;case"touchstart":V=this.data.buttonTouchedColor;break;default:V=this.data.buttonColor}H[T].material.color.set(V)}}})},"./src/components/gearvr-controls.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/utils/bind.js"),p=c("./src/utils/tracked-controls.js"),m=p.checkControllerPresentAndSetup,v=p.emitIfAxesChanged,y=p.onButtonEvent,A=c("./src/utils/index.js").device.isWebXRAvailable,b="https://cdn.aframe.io/controllers/samsung/",g=b+"gear_vr_controller.obj",w=b+"gear_vr_controller.mtl",E="samsung-gearvr",C="Gear VR",_=A?E:C,P={axes:{trackpad:[0,1]},buttons:["trackpad","trigger"]},R={axes:{touchpad:[0,1]},buttons:["trigger","none","touchpad","none","menu"]},L=A?R:P;l.exports.Component=d("gearvr-controls",{schema:{hand:{default:""},buttonColor:{type:"color",default:"#000000"},buttonTouchedColor:{type:"color",default:"#777777"},buttonHighlightColor:{type:"color",default:"#FFFFFF"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:L,bindMethods:function(){this.onModelLoaded=h(this.onModelLoaded,this),this.onControllersUpdate=h(this.onControllersUpdate,this),this.checkIfControllerPresent=h(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=h(this.removeControllersUpdateListener,this),this.onAxisMoved=h(this.onAxisMoved,this)},init:function(){var T=this;this.onButtonChanged=h(this.onButtonChanged,this),this.onButtonDown=function(D){y(D.detail.id,"down",T)},this.onButtonUp=function(D){y(D.detail.id,"up",T)},this.onButtonTouchStart=function(D){y(D.detail.id,"touchstart",T)},this.onButtonTouchEnd=function(D){y(D.detail.id,"touchend",T)},this.controllerPresent=!1,this.lastControllerCheck=0,this.bindMethods()},addEventListeners:function(){var T=this.el;T.addEventListener("buttonchanged",this.onButtonChanged),T.addEventListener("buttondown",this.onButtonDown),T.addEventListener("buttonup",this.onButtonUp),T.addEventListener("touchstart",this.onButtonTouchStart),T.addEventListener("touchend",this.onButtonTouchEnd),T.addEventListener("model-loaded",this.onModelLoaded),T.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var T=this.el;T.removeEventListener("buttonchanged",this.onButtonChanged),T.removeEventListener("buttondown",this.onButtonDown),T.removeEventListener("buttonup",this.onButtonUp),T.removeEventListener("touchstart",this.onButtonTouchStart),T.removeEventListener("touchend",this.onButtonTouchEnd),T.removeEventListener("model-loaded",this.onModelLoaded),T.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){m(this,_,this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var T=this.el,D=this.data;T.setAttribute("tracked-controls",{armModel:D.armModel,hand:D.hand,idPrefix:_,id:_,orientationOffset:D.orientationOffset}),this.data.model&&this.el.setAttribute("obj-model",{obj:g,mtl:w})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(T){var D=T.detail.model,H;this.data.model&&(H=this.buttonMeshes={},H.trigger=D.children[2],H.trackpad=D.children[1],H.touchpad=D.children[1])},onButtonChanged:function(T){var D=this.mapping.buttons[T.detail.id];D&&this.el.emit(D+"changed",T.detail.state)},onAxisMoved:function(T){v(this,this.mapping.axes,T)},updateModel:function(T,D){this.data.model&&this.updateButtonModel(T,D)},updateButtonModel:function(T,D){var H=this.buttonMeshes;if(!(!H||!H[T])){var V;switch(D){case"down":V=this.data.buttonHighlightColor;break;case"touchstart":V=this.data.buttonTouchedColor;break;default:V=this.data.buttonColor}H[T].material.color.set(V)}}})},"./src/components/generic-tracked-controller-controls.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/utils/bind.js"),p=c("./src/utils/tracked-controls.js"),m=p.checkControllerPresentAndSetup,v=p.emitIfAxesChanged,y=p.onButtonEvent,A="generic",b={axes:{touchpad:[0,1],thumbstick:[2,3]},buttons:["trigger","squeeze","touchpad","thumbstick"]};l.exports.Component=d("generic-tracked-controller-controls",{schema:{hand:{default:""},defaultModel:{default:!0},defaultModelColor:{default:"gray"},orientationOffset:{type:"vec3"},disabled:{default:!1}},mapping:b,bindMethods:function(){this.onControllersUpdate=h(this.onControllersUpdate,this),this.checkIfControllerPresent=h(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=h(this.removeControllersUpdateListener,this),this.onAxisMoved=h(this.onAxisMoved,this)},init:function(){var g=this;this.onButtonChanged=h(this.onButtonChanged,this),this.onButtonDown=function(w){y(w.detail.id,"down",g)},this.onButtonUp=function(w){y(w.detail.id,"up",g)},this.onButtonTouchStart=function(w){y(w.detail.id,"touchstart",g)},this.onButtonTouchEnd=function(w){y(w.detail.id,"touchend",g)},this.controllerPresent=!1,this.wasControllerConnected=!1,this.lastControllerCheck=0,this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods(),this.el.addEventListener("controllerconnected",function(w){w.detail.name!==g.name&&(g.wasControllerConnected=!0,g.removeEventListeners(),g.removeControllersUpdateListener())})},addEventListeners:function(){var g=this.el;g.addEventListener("buttonchanged",this.onButtonChanged),g.addEventListener("buttondown",this.onButtonDown),g.addEventListener("buttonup",this.onButtonUp),g.addEventListener("touchstart",this.onButtonTouchStart),g.addEventListener("touchend",this.onButtonTouchEnd),g.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var g=this.el;g.removeEventListener("buttonchanged",this.onButtonChanged),g.removeEventListener("buttondown",this.onButtonDown),g.removeEventListener("buttonup",this.onButtonUp),g.removeEventListener("touchstart",this.onButtonTouchStart),g.removeEventListener("touchend",this.onButtonTouchEnd),g.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var g=this.data,w=g.hand?g.hand:void 0;m(this,A,{hand:w,iterateControllerProfiles:!0})},play:function(){this.wasControllerConnected||(this.checkIfControllerPresent(),this.addControllersUpdateListener())},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var g=this.el,w=this.data;if(this.el.components["tracked-controls"]){this.removeEventListeners();return}g.setAttribute("tracked-controls",{hand:w.hand,idPrefix:A,orientationOffset:w.orientationOffset,iterateControllerProfiles:!0}),this.data.defaultModel&&this.initDefaultModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(g){var w=this.mapping.buttons[g.detail.id];w&&this.el.emit(w+"changed",g.detail.state)},onAxisMoved:function(g){v(this,this.mapping.axes,g)},initDefaultModel:function(){var g=this.modelEl=document.createElement("a-entity");g.setAttribute("geometry",{primitive:"sphere",radius:.03}),g.setAttribute("material",{color:this.data.color}),this.el.appendChild(g)}})},"./src/components/geometry.js":(l,u,c)=>{var d=c("./src/core/geometry.js").geometries,h=c("./src/core/geometry.js").geometryNames,p=c("./src/core/component.js").registerComponent,m=c("./src/lib/three.js"),v=new m.BufferGeometry;l.exports.Component=p("geometry",{schema:{buffer:{default:!0},primitive:{default:"box",oneOf:h,schemaChange:!0},skipCache:{default:!1}},init:function(){this.geometry=null},update:function(y){var A=this.data,b=this.el,g,w=this.system;this.geometry&&(w.unuseGeometry(y),this.geometry=null),this.geometry=w.getOrCreateGeometry(A),g=b.getObject3D("mesh"),g?g.geometry=this.geometry:(g=new m.Mesh,g.geometry=this.geometry,this.el.getAttribute("material")||(g.material=new m.MeshStandardMaterial({color:Math.random()*16777215,metalness:0,roughness:.5})),b.setObject3D("mesh",g))},remove:function(){this.system.unuseGeometry(this.data),this.el.getObject3D("mesh").geometry=v,this.geometry=null},updateSchema:function(y){var A=this.oldData&&this.oldData.primitive,b=y.primitive,g=d[b]&&d[b].schema;if(!g)throw new Error("Unknown geometry schema `"+b+"`");A&&A===b||this.extendSchema(g)}})},"./src/components/gltf-model.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/lib/three.js"),p=c("./src/utils/index.js"),m=p.debug("components:gltf-model:warn");l.exports.Component=d("gltf-model",{schema:{type:"model"},init:function(){var v=this,y=this.system.getDRACOLoader(),A=this.system.getMeshoptDecoder(),b=this.system.getKTX2Loader();this.model=null,this.loader=new h.GLTFLoader,y&&this.loader.setDRACOLoader(y),A?this.ready=A.then(function(g){v.loader.setMeshoptDecoder(g)}):this.ready=Promise.resolve(),b&&this.loader.setKTX2Loader(b)},update:function(){var v=this,y=this.el,A=this.data;A&&(this.remove(),this.ready.then(function(){v.loader.load(A,function(g){v.model=g.scene||g.scenes[0],v.model.animations=g.animations,y.setObject3D("mesh",v.model),y.emit("model-loaded",{format:"gltf",model:v.model})},void 0,function(g){var w=g&&g.message?g.message:"Failed to load glTF model";m(w),y.emit("model-error",{format:"gltf",src:A})})}))},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},"./src/components/hand-controls.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h={toonLeft:"https://cdn.aframe.io/controllers/hands/leftHand.glb",toonRight:"https://cdn.aframe.io/controllers/hands/rightHand.glb",lowPolyLeft:"https://cdn.aframe.io/controllers/hands/leftHandLow.glb",lowPolyRight:"https://cdn.aframe.io/controllers/hands/rightHandLow.glb",highPolyLeft:"https://cdn.aframe.io/controllers/hands/leftHandHigh.glb",highPolyRight:"https://cdn.aframe.io/controllers/hands/rightHandHigh.glb"},p={open:"Open",point:"Point",pointThumb:"Point + Thumb",fist:"Fist",hold:"Hold",thumbUp:"Thumb Up"},m={};m[p.fist]="grip",m[p.thumbUp]="pistol",m[p.point]="pointing",l.exports.Component=d("hand-controls",{schema:{color:{default:"white",type:"color"},hand:{default:"left"},handModelStyle:{default:"lowPoly",oneOf:["lowPoly","highPoly","toon"]}},init:function(){var A=this,b=this.el;this.gesture=p.open,this.pressedButtons={},this.touchedButtons={},this.loader=new THREE.GLTFLoader,this.loader.setCrossOrigin("anonymous"),this.onGripDown=function(){A.handleButton("grip","down")},this.onGripUp=function(){A.handleButton("grip","up")},this.onTrackpadDown=function(){A.handleButton("trackpad","down")},this.onTrackpadUp=function(){A.handleButton("trackpad","up")},this.onTrackpadTouchStart=function(){A.handleButton("trackpad","touchstart")},this.onTrackpadTouchEnd=function(){A.handleButton("trackpad","touchend")},this.onTriggerDown=function(){A.handleButton("trigger","down")},this.onTriggerUp=function(){A.handleButton("trigger","up")},this.onTriggerTouchStart=function(){A.handleButton("trigger","touchstart")},this.onTriggerTouchEnd=function(){A.handleButton("trigger","touchend")},this.onGripTouchStart=function(){A.handleButton("grip","touchstart")},this.onGripTouchEnd=function(){A.handleButton("grip","touchend")},this.onThumbstickDown=function(){A.handleButton("thumbstick","down")},this.onThumbstickUp=function(){A.handleButton("thumbstick","up")},this.onAorXTouchStart=function(){A.handleButton("AorX","touchstart")},this.onAorXTouchEnd=function(){A.handleButton("AorX","touchend")},this.onBorYTouchStart=function(){A.handleButton("BorY","touchstart")},this.onBorYTouchEnd=function(){A.handleButton("BorY","touchend")},this.onSurfaceTouchStart=function(){A.handleButton("surface","touchstart")},this.onSurfaceTouchEnd=function(){A.handleButton("surface","touchend")},this.onControllerConnected=this.onControllerConnected.bind(this),this.onControllerDisconnected=this.onControllerDisconnected.bind(this),b.addEventListener("controllerconnected",this.onControllerConnected),b.addEventListener("controllerdisconnected",this.onControllerDisconnected),b.object3D.visible=!1},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},tick:function(A,b){var g=this.el.getObject3D("mesh");!g||!g.mixer||g.mixer.update(b/1e3)},onControllerConnected:function(){this.el.object3D.visible=!0},onControllerDisconnected:function(){this.el.object3D.visible=!1},addEventListeners:function(){var A=this.el;A.addEventListener("gripdown",this.onGripDown),A.addEventListener("gripup",this.onGripUp),A.addEventListener("trackpaddown",this.onTrackpadDown),A.addEventListener("trackpadup",this.onTrackpadUp),A.addEventListener("trackpadtouchstart",this.onTrackpadTouchStart),A.addEventListener("trackpadtouchend",this.onTrackpadTouchEnd),A.addEventListener("triggerdown",this.onTriggerDown),A.addEventListener("triggerup",this.onTriggerUp),A.addEventListener("triggertouchstart",this.onTriggerTouchStart),A.addEventListener("triggertouchend",this.onTriggerTouchEnd),A.addEventListener("griptouchstart",this.onGripTouchStart),A.addEventListener("griptouchend",this.onGripTouchEnd),A.addEventListener("thumbstickdown",this.onThumbstickDown),A.addEventListener("thumbstickup",this.onThumbstickUp),A.addEventListener("abuttontouchstart",this.onAorXTouchStart),A.addEventListener("abuttontouchend",this.onAorXTouchEnd),A.addEventListener("bbuttontouchstart",this.onBorYTouchStart),A.addEventListener("bbuttontouchend",this.onBorYTouchEnd),A.addEventListener("xbuttontouchstart",this.onAorXTouchStart),A.addEventListener("xbuttontouchend",this.onAorXTouchEnd),A.addEventListener("ybuttontouchstart",this.onBorYTouchStart),A.addEventListener("ybuttontouchend",this.onBorYTouchEnd),A.addEventListener("surfacetouchstart",this.onSurfaceTouchStart),A.addEventListener("surfacetouchend",this.onSurfaceTouchEnd)},removeEventListeners:function(){var A=this.el;A.removeEventListener("gripdown",this.onGripDown),A.removeEventListener("gripup",this.onGripUp),A.removeEventListener("trackpaddown",this.onTrackpadDown),A.removeEventListener("trackpadup",this.onTrackpadUp),A.removeEventListener("trackpadtouchstart",this.onTrackpadTouchStart),A.removeEventListener("trackpadtouchend",this.onTrackpadTouchEnd),A.removeEventListener("triggerdown",this.onTriggerDown),A.removeEventListener("triggerup",this.onTriggerUp),A.removeEventListener("triggertouchstart",this.onTriggerTouchStart),A.removeEventListener("triggertouchend",this.onTriggerTouchEnd),A.removeEventListener("griptouchstart",this.onGripTouchStart),A.removeEventListener("griptouchend",this.onGripTouchEnd),A.removeEventListener("thumbstickdown",this.onThumbstickDown),A.removeEventListener("thumbstickup",this.onThumbstickUp),A.removeEventListener("abuttontouchstart",this.onAorXTouchStart),A.removeEventListener("abuttontouchend",this.onAorXTouchEnd),A.removeEventListener("bbuttontouchstart",this.onBorYTouchStart),A.removeEventListener("bbuttontouchend",this.onBorYTouchEnd),A.removeEventListener("xbuttontouchstart",this.onAorXTouchStart),A.removeEventListener("xbuttontouchend",this.onAorXTouchEnd),A.removeEventListener("ybuttontouchstart",this.onBorYTouchStart),A.removeEventListener("ybuttontouchend",this.onBorYTouchEnd),A.removeEventListener("surfacetouchstart",this.onSurfaceTouchStart),A.removeEventListener("surfacetouchend",this.onSurfaceTouchEnd)},update:function(A){var b,g=this.el,w=this.data.hand,E=this.data.handModelStyle,C=this.data.color,_=this;if(b={hand:w,model:!1},w!==A){var P=h[E+w.charAt(0).toUpperCase()+w.slice(1)];this.loader.load(P,function(R){var L=R.scene.children[0],T=w==="left"?Math.PI/2:-Math.PI/2,D=g.sceneEl.hasWebXR?-Math.PI/2:0;L.mixer=new THREE.AnimationMixer(L),_.clips=R.animations,g.setObject3D("mesh",L);var H=L.children[1].material;H.color=new THREE.Color(C),L.position.set(0,0,0),L.rotation.set(D,0,T),g.setAttribute("magicleap-controls",b),g.setAttribute("vive-controls",b),g.setAttribute("oculus-touch-controls",b),g.setAttribute("windows-motion-controls",b),g.setAttribute("hp-mixed-reality-controls",b)})}},remove:function(){this.el.removeObject3D("mesh")},handleButton:function(A,b){var g,w=b==="down",E=b==="touchstart";if(b.indexOf("touch")===0){if(E===this.touchedButtons[A])return;this.touchedButtons[A]=E}else{if(w===this.pressedButtons[A])return;this.pressedButtons[A]=w}g=this.gesture,this.gesture=this.determineGesture(),this.gesture!==g&&(this.animateGesture(this.gesture,g),this.emitGestureEvents(this.gesture,g))},determineGesture:function(){var A,b=this.pressedButtons.grip,g=this.pressedButtons.surface||this.touchedButtons.surface,w=this.pressedButtons.trackpad||this.touchedButtons.trackpad,E=this.pressedButtons.trigger||this.touchedButtons.trigger,C=this.touchedButtons.AorX||this.touchedButtons.BorY,_=y(this.el.components["tracked-controls"]);return _?b||E?A=p.fist:w&&(A=p.point):b?g||C||w?A=E?p.fist:p.point:A=E?p.thumbUp:p.pointThumb:E&&(A=p.hold),A},getClip:function(A){var b,g;for(g=0;g<this.clips.length;g++)if(b=this.clips[g],b.name===A)return b},animateGesture:function(A,b){if(A){this.playAnimation(A||p.open,b,!1);return}this.playAnimation(b,b,!0)},emitGestureEvents:function(A,b){var g=this.el,w;b!==A&&(w=v(b,!1),w&&g.emit(w),w=v(A,!0),w&&g.emit(w))},playAnimation:function(A,b,g){var w,E,C=this.el.getObject3D("mesh"),_;if(C){if(C.mixer.stopAllAction(),w=this.getClip(A),_=C.mixer.clipAction(w),_.clampWhenFinished=!0,_.loop=THREE.LoopRepeat,_.repetitions=0,_.timeScale=g?-1:1,_.time=g?w.duration:0,_.weight=1,!b||A===b){C.mixer.stopAllAction(),_.play();return}w=this.getClip(b),E=C.mixer.clipAction(w),E.weight=.15,E.play(),_.play(),E.crossFadeTo(_,.15,!0)}}});function v(A,b){var g;if(A){if(g=m[A],g==="grip")return g+(b?"close":"open");if(g==="point")return g+(b?"up":"down");if(g==="pointing"||g==="pistol")return g+(b?"start":"end")}}function y(A){var b=A&&A.controller,g=b&&(b.id&&b.id.indexOf("OpenVR ")===0||b.profiles&&b.profiles[0]&&b.profiles[0]==="htc-vive");return g}},"./src/components/hand-tracking-controls.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/utils/bind.js"),p=c("./src/utils/tracked-controls.js"),m=p.checkControllerPresentAndSetup,v="https://cdn.aframe.io/controllers/oculus-hands/v4/left.glb",y="https://cdn.aframe.io/controllers/oculus-hands/v4/right.glb",A=["wrist","thumb-metacarpal","thumb-phalanx-proximal","thumb-phalanx-distal","thumb-tip","index-finger-metacarpal","index-finger-phalanx-proximal","index-finger-phalanx-intermediate","index-finger-phalanx-distal","index-finger-tip","middle-finger-metacarpal","middle-finger-phalanx-proximal","middle-finger-phalanx-intermediate","middle-finger-phalanx-distal","middle-finger-tip","ring-finger-metacarpal","ring-finger-phalanx-proximal","ring-finger-phalanx-intermediate","ring-finger-phalanx-distal","ring-finger-tip","pinky-finger-metacarpal","pinky-finger-phalanx-proximal","pinky-finger-phalanx-intermediate","pinky-finger-phalanx-distal","pinky-finger-tip"],b=.015,g=.03,w=.5;l.exports.Component=d("hand-tracking-controls",{schema:{hand:{default:"right",oneOf:["left","right"]},modelStyle:{default:"mesh",oneOf:["dots","mesh"]},modelColor:{default:"white"}},bindMethods:function(){this.onControllersUpdate=h(this.onControllersUpdate,this),this.checkIfControllerPresent=h(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=h(this.removeControllersUpdateListener,this)},addEventListeners:function(){this.el.addEventListener("model-loaded",this.onModelLoaded);for(var E=0;E<this.jointEls.length;++E)this.jointEls[E].object3D.visible=!0},removeEventListeners:function(){this.el.removeEventListener("model-loaded",this.onModelLoaded);for(var E=0;E<this.jointEls.length;++E)this.jointEls[E].object3D.visible=!1},init:function(){var E=this.el.sceneEl,C=E.getAttribute("webxr").optionalFeatures;C.push("hand-tracking"),E.setAttribute("webxr",{optionalFeatures:C}),this.onModelLoaded=this.onModelLoaded.bind(this),this.jointEls=[],this.controllerPresent=!1,this.isPinched=!1,this.pinchEventDetail={position:new THREE.Vector3},this.indexTipPosition=new THREE.Vector3,this.bindMethods(),this.updateReferenceSpace=this.updateReferenceSpace.bind(this),this.el.sceneEl.addEventListener("enter-vr",this.updateReferenceSpace),this.el.sceneEl.addEventListener("exit-vr",this.updateReferenceSpace)},updateReferenceSpace:function(){var E=this,C=this.el.sceneEl.xrSession;if(this.referenceSpace=void 0,!!C){var _=E.el.sceneEl.systems.webxr.sessionReferenceSpaceType;C.requestReferenceSpace(_).then(function(P){E.referenceSpace=P.getOffsetReferenceSpace(new XRRigidTransform({x:0,y:1.5,z:0}))}).catch(function(P){throw E.el.sceneEl.systems.webxr.warnIfFeatureNotRequested(_,"tracked-controls-webxr uses reference space "+_),P})}},checkIfControllerPresent:function(){var E=this.data,C=E.hand?E.hand:void 0;m(this,"",{hand:C,iterateControllerProfiles:!0,handTracking:!0})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},tick:function(){var E=this.el.sceneEl,C=this.el.components["tracked-controls"]&&this.el.components["tracked-controls"].controller,_=E.frame,P=this.el.components["tracked-controls-webxr"];!C||!_||!P||C.hand&&(this.el.object3D.position.set(0,0,0),this.el.object3D.rotation.set(0,0,0),_.getJointPose&&this.updateHandModel(),this.detectGesture())},updateHandModel:function(){this.data.modelStyle==="dots"&&this.updateHandDotsModel(),this.data.modelStyle==="mesh"&&this.updateHandMeshModel()},getBone:function(E){for(var C=this.bones,_=0;_<C.length;_++)if(C[_].name===E)return C[_];return null},updateHandMeshModel:function(){var E=this.el.sceneEl.frame,C=this.el.components["tracked-controls"]&&this.el.components["tracked-controls"].controller,_=this.referenceSpace;if(!(!C||!this.mesh||!_)){this.mesh.visible=!1;for(var P of C.hand.values()){var R,L,T;L=E.getJointPose(P,_),R=this.getBone(P.jointName),R!=null&&L&&(T=L.transform,this.mesh.visible=!0,R.position.copy(T.position),R.quaternion.copy(T.orientation))}}},updateHandDotsModel:function(){var E=this.el.sceneEl.frame,C=this.el.components["tracked-controls"]&&this.el.components["tracked-controls"].controller,_=this.el.components["tracked-controls-webxr"],P=_.system.referenceSpace,R,L,T,D=0;for(var H of C.hand.values())R=this.jointEls[D++],L=R.object3D,T=E.getJointPose(H,P),R.object3D.visible=!!T,T&&(L.matrix.elements=T.transform.matrix,L.matrix.decompose(L.position,L.rotation,L.scale),R.setAttribute("scale",{x:T.radius,y:T.radius,z:T.radius}))},detectGesture:function(){this.detectPinch()},detectPinch:function(){var E=new THREE.Vector3;return function(){var C=this.el.sceneEl.frame,_=this.indexTipPosition,P=this.el.components["tracked-controls"]&&this.el.components["tracked-controls"].controller,R=this.el.components["tracked-controls-webxr"],L=this.referenceSpace||R.system.referenceSpace,T=P.hand.get("index-finger-tip"),D=P.hand.get("thumb-tip");if(!(!T||!D)){var H=C.getJointPose(T,L),V=C.getJointPose(D,L);if(!(!H||!V)){E.copy(V.transform.position),_.copy(H.transform.position);var B=_.distanceTo(E);B<b&&this.isPinched===!1&&(this.isPinched=!0,this.pinchEventDetail.position.copy(_).lerp(E,w),this.pinchEventDetail.position.y+=1.5,this.el.emit("pinchstarted",this.pinchEventDetail)),B>g&&this.isPinched===!0&&(this.isPinched=!1,this.pinchEventDetail.position.copy(_).lerp(E,w),this.pinchEventDetail.position.y+=1.5,this.el.emit("pinchended",this.pinchEventDetail)),this.isPinched&&(this.pinchEventDetail.position.copy(_).lerp(E,w),this.pinchEventDetail.position.y+=1.5,this.el.emit("pinchmoved",this.pinchEventDetail)),_.y+=1.5}}}}(),pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var E=this.el,C=this.data;E.setAttribute("tracked-controls",{hand:C.hand,iterateControllerProfiles:!0,handTrackingEnabled:!0}),this.initDefaultModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){var E;this.checkIfControllerPresent(),E=this.el.components["tracked-controls"]&&this.el.components["tracked-controls"].controller,this.el.getObject3D("mesh")&&(!E||!E.hand||!E.hand[0])&&(this.el.getObject3D("mesh").visible=!1)},initDefaultModel:function(){this.el.getObject3D("mesh")||(this.data.modelStyle==="dots"&&this.initDotsModel(),this.data.modelStyle==="mesh"&&this.initMeshHandModel())},initDotsModel:function(){if(this.jointEls.length===0)for(var E=0;E<A.length;++E){var C=this.jointEl=document.createElement("a-entity");C.setAttribute("geometry",{primitive:"sphere",radius:1}),C.setAttribute("material",{color:this.data.modelColor}),C.object3D.visible=!1,this.el.appendChild(C),this.jointEls.push(C)}},initMeshHandModel:function(){var E=this.data.hand==="left"?v:y;this.el.setAttribute("gltf-model",E)},onModelLoaded:function(){var E=this.mesh=this.el.getObject3D("mesh").children[0],C=this.skinnedMesh=E.getObjectByProperty("type","SkinnedMesh");this.skinnedMesh&&(this.bones=C.skeleton.bones,this.el.removeObject3D("mesh"),E.position.set(0,1.5,0),E.rotation.set(0,0,0),C.frustumCulled=!1,C.material=new THREE.MeshStandardMaterial({skinning:!0,color:this.data.modelColor}),this.el.setObject3D("mesh",E))}})},"./src/components/hide-on-enter-ar.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent;l.exports.Component=d("hide-on-enter-ar",{init:function(){var h=this;this.el.sceneEl.addEventListener("enter-vr",function(){h.el.sceneEl.is("ar-mode")&&(h.el.object3D.visible=!1)}),this.el.sceneEl.addEventListener("exit-vr",function(){h.el.object3D.visible=!0})}})},"./src/components/hp-mixed-reality-controls.js":(l,u,c)=>{var d=c("./src/utils/bind.js"),h=c("./src/core/component.js").registerComponent,p=c("./src/lib/three.js"),m=c("./src/utils/tracked-controls.js"),v=m.checkControllerPresentAndSetup,y=m.emitIfAxesChanged,A=m.onButtonEvent,b="hp-mixed-reality",g="https://cdn.aframe.io/controllers/hp/mixed-reality/",w={x:0,y:0,z:.06},E={_x:Math.PI/4,_y:0,_z:0,_order:"XYZ"},C={left:{axes:{touchpad:[2,3]},buttons:["trigger","grip","none","thumbstick","xbutton","ybutton"]},right:{axes:{touchpad:[2,3]},buttons:["trigger","grip","none","thumbstick","abutton","bbutton"]}};l.exports.Component=h("hp-mixed-reality-controls",{schema:{hand:{default:"none"},model:{default:!0},orientationOffset:{type:"vec3"}},mapping:C,init:function(){var _=this;this.controllerPresent=!1,this.lastControllerCheck=0,this.onButtonChanged=d(this.onButtonChanged,this),this.onButtonDown=function(P){A(P.detail.id,"down",_,_.data.hand)},this.onButtonUp=function(P){A(P.detail.id,"up",_,_.data.hand)},this.onButtonTouchEnd=function(P){A(P.detail.id,"touchend",_,_.data.hand)},this.onButtonTouchStart=function(P){A(P.detail.id,"touchstart",_,_.data.hand)},this.previousButtonValues={},this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods()},update:function(){var _=this.data;this.controllerIndex=_.hand==="right"?0:_.hand==="left"?1:2},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=d(this.onModelLoaded,this),this.onControllersUpdate=d(this.onControllersUpdate,this),this.checkIfControllerPresent=d(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=d(this.removeControllersUpdateListener,this),this.onAxisMoved=d(this.onAxisMoved,this)},addEventListeners:function(){var _=this.el;_.addEventListener("buttonchanged",this.onButtonChanged),_.addEventListener("buttondown",this.onButtonDown),_.addEventListener("buttonup",this.onButtonUp),_.addEventListener("touchstart",this.onButtonTouchStart),_.addEventListener("touchend",this.onButtonTouchEnd),_.addEventListener("axismove",this.onAxisMoved),_.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var _=this.el;_.removeEventListener("buttonchanged",this.onButtonChanged),_.removeEventListener("buttondown",this.onButtonDown),_.removeEventListener("buttonup",this.onButtonUp),_.removeEventListener("touchstart",this.onButtonTouchStart),_.removeEventListener("touchend",this.onButtonTouchEnd),_.removeEventListener("axismove",this.onAxisMoved),_.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var _=this.data;v(this,b,{index:this.controllerIndex,hand:_.hand})},injectTrackedControls:function(){var _=this.el,P=this.data;_.setAttribute("tracked-controls",{idPrefix:b,hand:P.hand,controller:this.controllerIndex,orientationOffset:P.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model",g+this.data.hand+".glb")},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(_){var P=this.mapping[this.data.hand].buttons[_.detail.id],R;P&&(P==="trigger"&&(R=_.detail.state.value,console.log("analog value of trigger press: "+R)),this.el.emit(P+"changed",_.detail.state))},onModelLoaded:function(_){var P=_.detail.model;this.data.model&&(P.position.copy(w),P.rotation.copy(E),this.el.emit("controllermodelready",{name:"hp-mixed-reality-controls",model:this.data.model,rayOrigin:new p.Vector3(0,0,0)}))},onAxisMoved:function(_){y(this,this.mapping.axes,_)}})},"./src/components/index.js":(l,u,c)=>{c("./src/components/animation.js"),c("./src/components/camera.js"),c("./src/components/cursor.js"),c("./src/components/daydream-controls.js"),c("./src/components/gearvr-controls.js"),c("./src/components/geometry.js"),c("./src/components/generic-tracked-controller-controls.js"),c("./src/components/gltf-model.js"),c("./src/components/hand-tracking-controls.js"),c("./src/components/hand-controls.js"),c("./src/components/hide-on-enter-ar.js"),c("./src/components/hp-mixed-reality-controls.js"),c("./src/components/layer.js"),c("./src/components/laser-controls.js"),c("./src/components/light.js"),c("./src/components/line.js"),c("./src/components/link.js"),c("./src/components/look-controls.js"),c("./src/components/magicleap-controls.js"),c("./src/components/material.js"),c("./src/components/obj-model.js"),c("./src/components/oculus-go-controls.js"),c("./src/components/oculus-touch-controls.js"),c("./src/components/position.js"),c("./src/components/raycaster.js"),c("./src/components/rotation.js"),c("./src/components/scale.js"),c("./src/components/shadow.js"),c("./src/components/sound.js"),c("./src/components/text.js"),c("./src/components/tracked-controls.js"),c("./src/components/tracked-controls-webvr.js"),c("./src/components/tracked-controls-webxr.js"),c("./src/components/visible.js"),c("./src/components/valve-index-controls.js"),c("./src/components/vive-controls.js"),c("./src/components/vive-focus-controls.js"),c("./src/components/wasd-controls.js"),c("./src/components/windows-motion-controls.js"),c("./src/components/scene/ar-hit-test.js"),c("./src/components/scene/background.js"),c("./src/components/scene/debug.js"),c("./src/components/scene/device-orientation-permission-ui.js"),c("./src/components/scene/embedded.js"),c("./src/components/scene/inspector.js"),c("./src/components/scene/fog.js"),c("./src/components/scene/keyboard-shortcuts.js"),c("./src/components/scene/pool.js"),c("./src/components/scene/reflection.js"),c("./src/components/scene/screenshot.js"),c("./src/components/scene/stats.js"),c("./src/components/scene/vr-mode-ui.js")},"./src/components/laser-controls.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/utils/index.js");d("laser-controls",{schema:{hand:{default:"right"},model:{default:!0},defaultModelColor:{type:"color",default:"grey"}},init:function(){var p=this.config,m=this.data,v=this.el,y=this,A={hand:m.hand,model:m.model};v.setAttribute("daydream-controls",A),v.setAttribute("gearvr-controls",A),v.setAttribute("hp-mixed-reality-controls",A),v.setAttribute("magicleap-controls",A),v.setAttribute("oculus-go-controls",A),v.setAttribute("oculus-touch-controls",A),v.setAttribute("valve-index-controls",A),v.setAttribute("vive-controls",A),v.setAttribute("vive-focus-controls",A),v.setAttribute("windows-motion-controls",A),v.setAttribute("generic-tracked-controller-controls",{hand:A.hand}),v.addEventListener("controllerconnected",b),v.addEventListener("controllerdisconnected",g),v.addEventListener("controllermodelready",function(w){b(w),y.modelReady=!0});function b(w){var E=p[w.detail.name];if(E){var C=h.extend({showLine:!0},E.raycaster||{});w.detail.rayOrigin&&(C.origin=w.detail.rayOrigin.origin,C.direction=w.detail.rayOrigin.direction,C.showLine=!0),w.detail.rayOrigin||!y.modelReady?v.setAttribute("raycaster",C):v.setAttribute("raycaster","showLine",!0),v.setAttribute("cursor",h.extend({fuse:!1},E.cursor))}}function g(){v.setAttribute("raycaster","showLine",!1)}},config:{"daydream-controls":{cursor:{downEvents:["trackpaddown","triggerdown"],upEvents:["trackpadup","triggerup"]}},"gearvr-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:.001,z:0}}},"generic-tracked-controller-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"hp-mixed-reality-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:0,z:0}}},"magicleap-controls":{cursor:{downEvents:["trackpaddown","triggerdown"],upEvents:["trackpadup","triggerup"]}},"oculus-go-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:5e-4,z:0}}},"oculus-touch-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:0,z:0}}},"valve-index-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"vive-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"vive-focus-controls":{cursor:{downEvents:["trackpaddown","triggerdown"],upEvents:["trackpadup","triggerup"]}},"windows-motion-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{showLine:!1}}}})},"./src/components/layer.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/utils/index.js"),p=h.debug("components:layer:warn");l.exports.Component=d("layer",{schema:{type:{default:"quad",oneOf:["quad","monocubemap","stereocubemap"]},src:{type:"map"},rotateCubemap:{default:!1},width:{default:0},height:{default:0}},init:function(){var v=this.el.sceneEl.renderer.getContext();this.quaternion=new THREE.Quaternion,this.position=new THREE.Vector3,this.bindMethods(),this.needsRedraw=!1,this.frameBuffer=v.createFramebuffer();var y=this.el.sceneEl.getAttribute("webxr").requiredFeatures;y.push("layers"),this.el.sceneEl.getAttribute("webxr","requiredFeatures",y),this.el.sceneEl.addEventListener("enter-vr",this.onEnterVR),this.el.sceneEl.addEventListener("exit-vr",this.onExitVR)},bindMethods:function(){this.onRequestedReferenceSpace=this.onRequestedReferenceSpace.bind(this),this.onEnterVR=this.onEnterVR.bind(this),this.onExitVR=this.onExitVR.bind(this)},update:function(v){this.data.src!==v.src&&this.updateSrc()},updateSrc:function(){var v=this.data.type;if(this.texture=void 0,v==="quad"){this.loadQuadImage();return}if(v==="monocubemap"||v==="stereocubemap"){this.loadCubeMapImages();return}},loadCubeMapImages:function(){var v,y=this.xrGLFactory,A=this.el.sceneEl.frame,b=this.data.src,g=this.data.type;this.visibilityChanged=!1,this.layer&&(g!=="monocubemap"&&g!=="stereocubemap"||(b.complete?this.pendingCubeMapUpdate=!1:this.pendingCubeMapUpdate=!0,this.loadingScreen?this.loadingScreen=!1:this.loadingScreen=!0,g==="monocubemap"?(v=y.getSubImage(this.layer,A),this.loadCubeMapImage(v.colorTexture,b,0)):(v=y.getSubImage(this.layer,A,"left"),this.loadCubeMapImage(v.colorTexture,b,0),v=y.getSubImage(this.layer,A,"right"),this.loadCubeMapImage(v.colorTexture,b,6))))},loadQuadImage:function(){var v=this.data.src,y=this;this.el.sceneEl.systems.material.loadTexture(v,{src:v},function(b){y.el.sceneEl.renderer.initTexture(b),y.texture=b,v.tagName==="VIDEO"&&setTimeout(function(){y.textureIsVideo=!0},1e3),y.layer&&(y.layer.height=y.data.height/2||y.texture.image.height/1e3,y.layer.width=y.data.width/2||y.texture.image.width/1e3,y.needsRedraw=!0),y.updateQuadPanel()})},preGenerateCubeMapTextures:function(v,y){this.data.type==="monocubemap"?this.generateCubeMapTextures(v,0,y):(this.generateCubeMapTextures(v,0,y),this.generateCubeMapTextures(v,6,y))},generateCubeMapTextures:function(v,y,A){for(var b=this.data,g=this.cubeFaceSize,w=Math.min(v.width,v.height),E=[],C,_,P=0;P<6;P++){var R=document.createElement("CANVAS");R.width=R.height=g;var L=R.getContext("2d");b.rotateCubemap&&(P===2||P===3)&&(L.save(),L.translate(g,g),L.rotate(Math.PI)),L.drawImage(v,(P+y)*w,0,w,w,0,0,g,g),L.restore(),A&&A(),E.push(R)}return b.rotateCubemap&&(C=E[0],_=E[1],E[0]=_,E[1]=C,C=E[4],_=E[5],E[4]=_,E[5]=C),A&&A(),E},loadCubeMapImage:function(v,y,A){var b=this.el.sceneEl.renderer.getContext(),g;b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1),b.bindTexture(b.TEXTURE_CUBE_MAP,v),!y.complete||this.loadingScreen?g=this.loadingScreenImages:g=this.generateCubeMapTextures(y,A);var w=0;g.forEach(function(E,C){b.texSubImage2D(b.TEXTURE_CUBE_MAP_POSITIVE_X+C,0,0,0,b.RGBA,b.UNSIGNED_BYTE,E),w=b.getError()}),w!==0&&console.log("renderingError, WebGL Error Code: "+w),b.bindTexture(b.TEXTURE_CUBE_MAP,null)},tick:function(){this.el.sceneEl.xrSession&&(!this.layer&&this.el.sceneEl.is("vr-mode")&&this.initLayer(),this.updateTransform(),this.data.src.complete&&(this.pendingCubeMapUpdate||this.loadingScreen||this.visibilityChanged)&&this.loadCubeMapImages(),!(!this.needsRedraw&&!this.layer.needsRedraw&&!this.textureIsVideo)&&(this.data.type==="quad"&&this.draw(),this.needsRedraw=!1))},initLayer:function(){var v=this,y=this.data.type;if(this.el.sceneEl.xrSession.onvisibilitychange=function(A){v.visibilityChanged=A.session.visibilityState!=="hidden"},y==="quad"){this.initQuadLayer();return}if(y==="monocubemap"||y==="stereocubemap"){this.initCubeMapLayer();return}},initQuadLayer:function(){var v=this.el.sceneEl,y=v.renderer.getContext(),A=this.xrGLFactory=new XRWebGLBinding(v.xrSession,y);this.texture&&(this.layer=A.createQuadLayer({space:this.referenceSpace,viewPixelHeight:2048,viewPixelWidth:2048,height:this.data.height/2||this.texture.image.height/1e3,width:this.data.width/2||this.texture.image.width/1e3}),this.initLoadingScreenImages(),v.renderer.xr.addLayer(this.layer))},initCubeMapLayer:function(){var v=this.data.src,y=this.el.sceneEl,A=y.renderer.getContext(),b=A.getParameter(A.MAX_CUBE_MAP_TEXTURE_SIZE),g=this.cubeFaceSize=Math.min(b,Math.min(v.width,v.height)),w=this.xrGLFactory=new XRWebGLBinding(y.xrSession,A);this.layer=w.createCubeLayer({space:this.referenceSpace,viewPixelWidth:g,viewPixelHeight:g,layout:this.data.type==="monocubemap"?"mono":"stereo",isStatic:!1}),this.initLoadingScreenImages(),this.loadCubeMapImages(),y.renderer.xr.addLayer(this.layer)},initLoadingScreenImages:function(){for(var v=this.cubeFaceSize,y=this.loadingScreenImages=[],A=0;A<6;A++){var b=document.createElement("CANVAS");b.width=b.height=v;var g=b.getContext("2d");b.width=b.height=v,g.fillStyle="black",g.fillRect(0,0,v,v),A!==2&&A!==3&&(g.translate(v,0),g.scale(-1,1),g.fillStyle="white",g.font="30px Arial",g.fillText("Loading",v/2,v/2)),y.push(b)}},destroyLayer:function(){this.layer&&(this.el.sceneEl.renderer.xr.removeLayer(this.layer),this.layer.destroy(),this.layer=void 0)},toggleCompositorLayer:function(){this.enableCompositorLayer(!this.layerEnabled)},enableCompositorLayer:function(v){this.layerEnabled=v,this.quadPanelEl.object3D.visible=!this.layerEnabled},updateQuadPanel:function(){var v=this.quadPanelEl;this.quadPanelEl||(v=this.quadPanelEl=document.createElement("a-entity"),this.el.appendChild(v)),v.setAttribute("material",{shader:"flat",src:this.data.src,transparent:!0}),v.setAttribute("geometry",{primitive:"plane",height:this.data.height||this.texture.image.height/1e3,width:this.data.width||this.texture.image.height/1e3})},draw:function(){var v=this.el.sceneEl,y=this.el.sceneEl.renderer.getContext(),A=this.xrGLFactory.getSubImage(this.layer,v.frame),b=v.renderer.properties.get(this.texture).__webglTexture,g=y.getParameter(y.FRAMEBUFFER_BINDING);y.viewport(A.viewport.x,A.viewport.y,A.viewport.width,A.viewport.height),y.bindFramebuffer(y.FRAMEBUFFER,this.frameBuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,A.colorTexture,0),m(y,b,A,this.data.src),y.bindFramebuffer(y.FRAMEBUFFER,g)},updateTransform:function(){var v=this.el,y=this.position,A=this.quaternion;v.object3D.updateMatrixWorld(),y.setFromMatrixPosition(v.object3D.matrixWorld),A.setFromRotationMatrix(v.object3D.matrixWorld),this.layerEnabled||y.set(0,0,1e8),this.layer.transform=new XRRigidTransform(y,A)},onEnterVR:function(){var v=this.el.sceneEl,y=v.xrSession;if(!v.hasWebXR||!XRWebGLBinding||!y){p("The layer component requires WebXR and the layers API enabled");return}y.requestReferenceSpace("local-floor").then(this.onRequestedReferenceSpace),this.needsRedraw=!0,this.layerEnabled=!0,this.quadPanelEl&&(this.quadPanelEl.object3D.visible=!1),this.data.src.play&&this.data.src.play()},onExitVR:function(){this.quadPanelEl&&(this.quadPanelEl.object3D.visible=!0),this.destroyLayer()},onRequestedReferenceSpace:function(v){this.referenceSpace=v}});function m(v,y,A,b){var g=v.createFramebuffer(),w=A.viewport.x,E=A.viewport.y,C=A.viewport.x+A.viewport.width,_=A.viewport.y+A.viewport.height;b.tagName==="VIDEO"&&(v.bindTexture(v.TEXTURE_2D,y),v.texSubImage2D(v.TEXTURE_2D,0,0,0,b.width,b.height,v.RGB,v.UNSIGNED_BYTE,b)),v.bindFramebuffer(v.READ_FRAMEBUFFER,g),v.framebufferTexture2D(v.READ_FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_2D,y,0),v.readBuffer(v.COLOR_ATTACHMENT0),v.blitFramebuffer(0,0,b.width,b.height,w,E,C,_,v.COLOR_BUFFER_BIT,v.NEAREST),v.bindFramebuffer(v.READ_FRAMEBUFFER,null),v.deleteFramebuffer(g)}},"./src/components/light.js":(l,u,c)=>{var d=c("./src/utils/bind.js"),h=c("./src/utils/index.js"),p=h.diff,m=c("./src/utils/debug.js"),v=c("./src/core/component.js").registerComponent,y=c("./src/lib/three.js"),A=c("./src/utils/math.js"),b=y.MathUtils.degToRad,g=m("components:light:warn"),w=new y.CubeTextureLoader,E={};l.exports.Component=v("light",{schema:{angle:{default:60,if:{type:["spot"]}},color:{type:"color",if:{type:["ambient","directional","hemisphere","point","spot"]}},envMap:{default:"",if:{type:["probe"]}},groundColor:{type:"color",if:{type:["hemisphere"]}},decay:{default:1,if:{type:["point","spot"]}},distance:{default:0,min:0,if:{type:["point","spot"]}},intensity:{default:1,min:0,if:{type:["ambient","directional","hemisphere","point","spot","probe"]}},penumbra:{default:0,min:0,max:1,if:{type:["spot"]}},type:{default:"directional",oneOf:["ambient","directional","hemisphere","point","spot","probe"],schemaChange:!0},target:{type:"selector",if:{type:["spot","directional"]}},castShadow:{default:!1,if:{type:["point","spot","directional"]}},shadowBias:{default:0,if:{castShadow:!0}},shadowCameraFar:{default:500,if:{castShadow:!0}},shadowCameraFov:{default:90,if:{castShadow:!0}},shadowCameraNear:{default:.5,if:{castShadow:!0}},shadowCameraTop:{default:5,if:{castShadow:!0}},shadowCameraRight:{default:5,if:{castShadow:!0}},shadowCameraBottom:{default:-5,if:{castShadow:!0}},shadowCameraLeft:{default:-5,if:{castShadow:!0}},shadowCameraVisible:{default:!1,if:{castShadow:!0}},shadowCameraAutomatic:{default:"",if:{type:["directional"]}},shadowMapHeight:{default:512,if:{castShadow:!0}},shadowMapWidth:{default:512,if:{castShadow:!0}},shadowRadius:{default:1,if:{castShadow:!0}}},init:function(){var C=this.el;this.light=null,this.defaultTarget=null,this.rendererSystem=this.el.sceneEl.systems.renderer,this.system.registerLight(C)},update:function(C){var _=this.data,P=p(_,C),R=this.light,L=this.rendererSystem,T=this;if(R&&!("type"in P)){var D=!1;Object.keys(P).forEach(function(H){var V=_[H];switch(H){case"color":{R.color.set(V),L.applyColorCorrection(R.color);break}case"groundColor":{R.groundColor.set(V),L.applyColorCorrection(R.groundColor);break}case"angle":{R.angle=b(V);break}case"target":{V===null?(_.type==="spot"||_.type==="directional")&&(R.target=T.defaultTarget):V.hasLoaded?T.onSetTarget(V,R):V.addEventListener("loaded",d(T.onSetTarget,T,V,R));break}case"envMap":T.updateProbeMap(_,R);break;case"castShadow":case"shadowBias":case"shadowCameraFar":case"shadowCameraFov":case"shadowCameraNear":case"shadowCameraTop":case"shadowCameraRight":case"shadowCameraBottom":case"shadowCameraLeft":case"shadowCameraVisible":case"shadowMapHeight":case"shadowMapWidth":case"shadowRadius":D||(T.updateShadow(),D=!0);break;case"shadowCameraAutomatic":_.shadowCameraAutomatic?T.shadowCameraAutomaticEls=Array.from(document.querySelectorAll(_.shadowCameraAutomatic)):T.shadowCameraAutomaticEls=[];break;default:R[H]=V}});return}this.setLight(this.data),this.updateShadow()},tick:function(){var C=new y.Box3,_=new y.Vector3,P=new y.Vector3,R=new y.Matrix4,L=new y.Sphere,T=new y.Vector3;return function(){if(this.data.type==="directional"&&this.light.shadow&&this.light.shadow.camera instanceof y.OrthographicCamera&&this.shadowCameraAutomaticEls.length){var D=this.light.shadow.camera;D.getWorldDirection(_),D.getWorldPosition(P),R.copy(D.matrixWorld),R.invert(),D.near=1,D.left=1e5,D.right=-1e5,D.top=-1e5,D.bottom=1e5,this.shadowCameraAutomaticEls.forEach(function(H){C.setFromObject(H.object3D),C.getBoundingSphere(L);var V=A.distanceOfPointFromPlane(P,_,L.center),B=A.nearestPointInPlane(P,_,L.center,T),O=B.applyMatrix4(R);D.near=Math.min(-V-L.radius-1,D.near),D.left=Math.min(-L.radius+O.x,D.left),D.right=Math.max(L.radius+O.x,D.right),D.top=Math.max(L.radius+O.y,D.top),D.bottom=Math.min(-L.radius+O.y,D.bottom)}),D.updateProjectionMatrix()}}}(),setLight:function(C){var _=this.el,P=this.getLight(C);P&&(this.light&&_.removeObject3D("light"),this.light=P,this.light.el=_,_.setObject3D("light",this.light),(C.type==="spot"||C.type==="directional"||C.type==="hemisphere")&&_.getObject3D("light").translateY(-1),C.type==="spot"&&(_.setObject3D("light-target",this.defaultTarget),_.getObject3D("light-target").position.set(0,0,-1)),C.shadowCameraAutomatic?this.shadowCameraAutomaticEls=Array.from(document.querySelectorAll(C.shadowCameraAutomatic)):this.shadowCameraAutomaticEls=[])},updateShadow:function(){var C=this.el,_=this.data,P=this.light;P.castShadow=_.castShadow;var R=C.getObject3D("cameraHelper");if(_.shadowCameraVisible&&!R?C.setObject3D("cameraHelper",new y.CameraHelper(P.shadow.camera)):!_.shadowCameraVisible&&R&&C.removeObject3D("cameraHelper"),!_.castShadow)return P;P.shadow.bias=_.shadowBias,P.shadow.radius=_.shadowRadius,P.shadow.mapSize.height=_.shadowMapHeight,P.shadow.mapSize.width=_.shadowMapWidth,P.shadow.camera.near=_.shadowCameraNear,P.shadow.camera.far=_.shadowCameraFar,P.shadow.camera instanceof y.OrthographicCamera?(P.shadow.camera.top=_.shadowCameraTop,P.shadow.camera.right=_.shadowCameraRight,P.shadow.camera.bottom=_.shadowCameraBottom,P.shadow.camera.left=_.shadowCameraLeft):P.shadow.camera.fov=_.shadowCameraFov,P.shadow.camera.updateProjectionMatrix(),R&&R.update()},getLight:function(C){var _=C.angle,P=new y.Color(C.color);this.rendererSystem.applyColorCorrection(P),P=P.getHex();var R=C.decay,L=C.distance,T=new y.Color(C.groundColor);this.rendererSystem.applyColorCorrection(T),T=T.getHex();var D=C.intensity,H=C.type,V=C.target,B=null;switch(H.toLowerCase()){case"ambient":return new y.AmbientLight(P,D);case"directional":return B=new y.DirectionalLight(P,D),this.defaultTarget=B.target,V&&(V.hasLoaded?this.onSetTarget(V,B):V.addEventListener("loaded",d(this.onSetTarget,this,V,B))),B;case"hemisphere":return new y.HemisphereLight(P,T,D);case"point":return new y.PointLight(P,D,L,R);case"spot":return B=new y.SpotLight(P,D,L,b(_),C.penumbra,R),this.defaultTarget=B.target,V&&(V.hasLoaded?this.onSetTarget(V,B):V.addEventListener("loaded",d(this.onSetTarget,this,V,B))),B;case"probe":return B=new y.LightProbe,this.updateProbeMap(C,B),B;default:g("%s is not a valid light type. Choose from ambient, directional, hemisphere, point, spot.",H)}},updateProbeMap:function(C,_){C.envMap||_.copy(new y.LightProbe),E[C.envMap]instanceof window.Promise&&E[C.envMap].then(function(P){_.copy(P)}),E[C.envMap]instanceof y.LightProbe&&_.copy(E[C.envMap]),E[C.envMap]=new window.Promise(function(P){h.srcLoader.validateCubemapSrc(C.envMap,function(L){w.load(L,function(T){var D=y.LightProbeGenerator.fromCubeTexture(T);E[C.envMap]=D,_.copy(D)})})})},onSetTarget:function(C,_){_.target=C.object3D},remove:function(){var C=this.el;C.removeObject3D("light"),C.getObject3D("cameraHelper")&&C.removeObject3D("cameraHelper")}})},"./src/components/line.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent;l.exports.Component=d("line",{schema:{start:{type:"vec3",default:{x:0,y:0,z:0}},end:{type:"vec3",default:{x:0,y:0,z:0}},color:{type:"color",default:"#74BEC1"},opacity:{type:"number",default:1},visible:{default:!0}},multiple:!0,init:function(){var p=this.data,m,v;this.rendererSystem=this.el.sceneEl.systems.renderer,v=this.material=new THREE.LineBasicMaterial({color:p.color,opacity:p.opacity,transparent:p.opacity<1,visible:p.visible}),m=this.geometry=new THREE.BufferGeometry,m.setAttribute("position",new THREE.BufferAttribute(new Float32Array(6),3)),this.rendererSystem.applyColorCorrection(v.color),this.line=new THREE.Line(m,v),this.el.setObject3D(this.attrName,this.line)},update:function(p){var m=this.data,v=this.geometry,y=!1,A=this.material,b=v.attributes.position.array;h(m.start,p.start)||(b[0]=m.start.x,b[1]=m.start.y,b[2]=m.start.z,y=!0),h(m.end,p.end)||(b[3]=m.end.x,b[4]=m.end.y,b[5]=m.end.z,y=!0),y&&(v.attributes.position.needsUpdate=!0,v.computeBoundingSphere()),A.color.setStyle(m.color),this.rendererSystem.applyColorCorrection(A.color),A.opacity=m.opacity,A.transparent=m.opacity<1,A.visible=m.visible},remove:function(){this.el.removeObject3D(this.attrName,this.line)}});function h(p,m){return!p||!m?!1:p.x===m.x&&p.y===m.y&&p.z===m.z}},"./src/components/link.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/core/shader.js").registerShader,p=c("./src/lib/three.js");l.exports.Component=d("link",{schema:{backgroundColor:{default:"red",type:"color"},borderColor:{default:"white",type:"color"},highlighted:{default:!1},highlightedColor:{default:"#24CAFF",type:"color"},href:{default:""},image:{type:"asset"},on:{default:"click"},peekMode:{default:!1},title:{default:""},titleColor:{default:"white",type:"color"},visualAspectEnabled:{default:!1}},init:function(){this.navigate=this.navigate.bind(this),this.previousQuaternion=void 0,this.quaternionClone=new p.Quaternion,this.hiddenEls=[]},update:function(m){var v=this.data,y=this.el,A,b;v.visualAspectEnabled&&(this.initVisualAspect(),A=v.highlighted?v.highlightedColor:v.backgroundColor,b=v.highlighted?v.highlightedColor:v.borderColor,y.setAttribute("material","backgroundColor",A),y.setAttribute("material","strokeColor",b),v.on!==m.on&&this.updateEventListener(),m.peekMode!==void 0&&v.peekMode!==m.peekMode&&this.updatePeekMode(),!(!v.image||m.image===v.image)&&y.setAttribute("material","pano",typeof v.image=="string"?v.image:v.image.src))},updatePeekMode:function(){var m=this.el,v=this.sphereEl;this.data.peekMode?(this.hideAll(),m.getObject3D("mesh").visible=!1,v.setAttribute("visible",!0)):(this.showAll(),m.getObject3D("mesh").visible=!0,v.setAttribute("visible",!1))},play:function(){this.updateEventListener()},pause:function(){this.removeEventListener()},updateEventListener:function(){var m=this.el;m.isPlaying&&(this.removeEventListener(),m.addEventListener(this.data.on,this.navigate))},removeEventListener:function(){var m=this.data.on;m&&this.el.removeEventListener(m,this.navigate)},initVisualAspect:function(){var m=this.el,v,y,A;!this.data.visualAspectEnabled||this.visualAspectInitialized||(A=this.textEl=this.textEl||document.createElement("a-entity"),y=this.sphereEl=this.sphereEl||document.createElement("a-entity"),v=this.semiSphereEl=this.semiSphereEl||document.createElement("a-entity"),m.setAttribute("geometry",{primitive:"circle",radius:1,segments:64}),m.setAttribute("material",{shader:"portal",pano:this.data.image,side:"double"}),A.setAttribute("text",{color:this.data.titleColor,align:"center",font:"kelsonsans",value:this.data.title||this.data.href,width:4}),A.setAttribute("position","0 1.5 0"),m.appendChild(A),v.setAttribute("geometry",{primitive:"sphere",radius:1,phiStart:0,segmentsWidth:64,segmentsHeight:64,phiLength:180,thetaStart:0,thetaLength:360}),v.setAttribute("material",{shader:"portal",borderEnabled:0,pano:this.data.image,side:"back"}),v.setAttribute("rotation","0 180 0"),v.setAttribute("position","0 0 0"),v.setAttribute("visible",!1),m.appendChild(v),y.setAttribute("geometry",{primitive:"sphere",radius:10,segmentsWidth:64,segmentsHeight:64}),y.setAttribute("material",{shader:"portal",borderEnabled:0,pano:this.data.image,side:"back"}),y.setAttribute("visible",!1),m.appendChild(y),this.visualAspectInitialized=!0)},navigate:function(){window.location=this.data.href},tick:function(){var m=new p.Vector3,v=new p.Vector3,y=new p.Quaternion,A=new p.Vector3;return function(){var b=this.el,g=b.object3D,w=b.sceneEl.camera,E,C,_=this.textEl;if(this.data.visualAspectEnabled)if(g.updateMatrixWorld(),w.parent.updateMatrixWorld(),w.updateMatrixWorld(),g.matrix.decompose(v,y,A),v.setFromMatrixPosition(g.matrixWorld),m.setFromMatrixPosition(w.matrixWorld),C=v.distanceTo(m),C>20)this.previousQuaternion||(this.quaternionClone.copy(y),this.previousQuaternion=this.quaternionClone),g.lookAt(m);else{if(E=this.calculateCameraPortalOrientation(),C<.5){if(this.semiSphereEl.getAttribute("visible")===!0)return;_.setAttribute("text","width",1.5),E<=0?(_.setAttribute("position","0 0 0.75"),_.setAttribute("rotation","0 180 0"),this.semiSphereEl.setAttribute("rotation","0 0 0")):(_.setAttribute("position","0 0 -0.75"),_.setAttribute("rotation","0 0 0"),this.semiSphereEl.setAttribute("rotation","0 180 0")),b.getObject3D("mesh").visible=!1,this.semiSphereEl.setAttribute("visible",!0),this.peekCameraPortalOrientation=E}else E<=0?_.setAttribute("rotation","0 180 0"):_.setAttribute("rotation","0 0 0"),_.setAttribute("text","width",5),_.setAttribute("position","0 1.5 0"),b.getObject3D("mesh").visible=!0,this.semiSphereEl.setAttribute("visible",!1),this.peekCameraPortalOrientation=void 0;this.previousQuaternion&&(g.quaternion.copy(this.previousQuaternion),this.previousQuaternion=void 0)}}}(),hideAll:function(){var m=this.el,v=this.hiddenEls,y=this;v.length>0||m.sceneEl.object3D.traverse(function(A){A&&A.el&&A.el.hasAttribute("link-controls")||!A.el||A===m.sceneEl.object3D||A.el===m||A.el===y.sphereEl||A.el===m.sceneEl.cameraEl||A.el.getAttribute("visible")===!1||A.el===y.textEl||A.el===y.semiSphereEl||(A.el.setAttribute("visible",!1),v.push(A.el))})},showAll:function(){this.hiddenEls.forEach(function(m){m.setAttribute("visible",!0)}),this.hiddenEls=[]},calculateCameraPortalOrientation:function(){var m=new p.Matrix4,v=new p.Vector3,y=new p.Vector3(0,0,1),A=new p.Vector3(0,0,0);return function(){var b=this.el,g=b.sceneEl.camera;return v.set(0,0,0),y.set(0,0,1),A.set(0,0,0),b.object3D.matrixWorld.extractRotation(m),y.applyMatrix4(m),b.object3D.updateMatrixWorld(),b.object3D.localToWorld(A),g.parent.parent.updateMatrixWorld(),g.parent.updateMatrixWorld(),g.updateMatrixWorld(),g.localToWorld(v),v.sub(A).normalize(),y.normalize(),Math.sign(y.dot(v))}}(),remove:function(){this.removeEventListener()}}),h("portal",{schema:{borderEnabled:{default:1,type:"int",is:"uniform"},backgroundColor:{default:"red",type:"color",is:"uniform"},pano:{type:"map",is:"uniform"},strokeColor:{default:"white",type:"color",is:"uniform"}},vertexShader:["vec3 portalPosition;","varying vec3 vWorldPosition;","varying float vDistanceToCenter;","varying float vDistance;","void main() {","vDistanceToCenter = clamp(length(position - vec3(0.0, 0.0, 0.0)), 0.0, 1.0);","portalPosition = (modelMatrix * vec4(0.0, 0.0, 0.0, 1.0)).xyz;","vDistance = length(portalPosition - cameraPosition);","vWorldPosition = (modelMatrix * vec4(position, 1.0)).xyz;","gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","}"].join(`
`),fragmentShader:["#define RECIPROCAL_PI2 0.15915494","uniform sampler2D pano;","uniform vec3 strokeColor;","uniform vec3 backgroundColor;","uniform float borderEnabled;","varying float vDistanceToCenter;","varying float vDistance;","varying vec3 vWorldPosition;","void main() {","vec3 direction = normalize(vWorldPosition - cameraPosition);","vec2 sampleUV;","float borderThickness = clamp(exp(-vDistance / 50.0), 0.6, 0.95);","sampleUV.y = clamp(direction.y * 0.5  + 0.5, 0.0, 1.0);","sampleUV.x = atan(direction.z, -direction.x) * -RECIPROCAL_PI2 + 0.5;","if (vDistanceToCenter > borderThickness && borderEnabled == 1.0) {","gl_FragColor = vec4(strokeColor, 1.0);","} else {","gl_FragColor = mix(texture2D(pano, sampleUV), vec4(backgroundColor, 1.0), clamp(pow((vDistance / 15.0), 2.0), 0.0, 1.0));","}","}"].join(`
`)})},"./src/components/look-controls.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/lib/three.js"),p=c("./src/utils/index.js"),m=p.bind,v=Math.PI/2;l.exports.Component=d("look-controls",{dependencies:["position","rotation"],schema:{enabled:{default:!0},magicWindowTrackingEnabled:{default:!0},pointerLockEnabled:{default:!1},reverseMouseDrag:{default:!1},reverseTouchDrag:{default:!1},touchEnabled:{default:!0},mouseEnabled:{default:!0}},init:function(){this.deltaYaw=0,this.previousHMDPosition=new h.Vector3,this.hmdQuaternion=new h.Quaternion,this.magicWindowAbsoluteEuler=new h.Euler,this.magicWindowDeltaEuler=new h.Euler,this.position=new h.Vector3,this.magicWindowObject=new h.Object3D,this.rotation={},this.deltaRotation={},this.savedPose=null,this.pointerLocked=!1,this.setupMouseControls(),this.bindMethods(),this.previousMouseEvent={},this.setupMagicWindowControls(),this.savedPose={position:new h.Vector3,rotation:new h.Euler},(this.el.sceneEl.is("vr-mode")||this.el.sceneEl.is("ar-mode"))&&this.onEnterVR()},setupMagicWindowControls:function(){var y,A=this.data;(p.device.isMobile()||p.device.isMobileDeviceRequestingDesktopSite())&&(y=this.magicWindowControls=new h.DeviceOrientationControls(this.magicWindowObject),typeof DeviceOrientationEvent<"u"&&DeviceOrientationEvent.requestPermission&&(y.enabled=!1,this.el.sceneEl.components["device-orientation-permission-ui"].permissionGranted?y.enabled=A.magicWindowTrackingEnabled:this.el.sceneEl.addEventListener("deviceorientationpermissiongranted",function(){y.enabled=A.magicWindowTrackingEnabled})))},update:function(y){var A=this.data;A.enabled!==y.enabled&&this.updateGrabCursor(A.enabled),y&&!A.magicWindowTrackingEnabled&&y.magicWindowTrackingEnabled&&(this.magicWindowAbsoluteEuler.set(0,0,0),this.magicWindowDeltaEuler.set(0,0,0)),this.magicWindowControls&&(this.magicWindowControls.enabled=A.magicWindowTrackingEnabled),y&&!A.pointerLockEnabled!==y.pointerLockEnabled&&(this.removeEventListeners(),this.addEventListeners(),this.pointerLocked&&this.exitPointerLock())},tick:function(y){var A=this.data;A.enabled&&this.updateOrientation()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners(),this.pointerLocked&&this.exitPointerLock()},remove:function(){this.removeEventListeners(),this.pointerLocked&&this.exitPointerLock()},bindMethods:function(){this.onMouseDown=m(this.onMouseDown,this),this.onMouseMove=m(this.onMouseMove,this),this.onMouseUp=m(this.onMouseUp,this),this.onTouchStart=m(this.onTouchStart,this),this.onTouchMove=m(this.onTouchMove,this),this.onTouchEnd=m(this.onTouchEnd,this),this.onEnterVR=m(this.onEnterVR,this),this.onExitVR=m(this.onExitVR,this),this.onPointerLockChange=m(this.onPointerLockChange,this),this.onPointerLockError=m(this.onPointerLockError,this)},setupMouseControls:function(){this.mouseDown=!1,this.pitchObject=new h.Object3D,this.yawObject=new h.Object3D,this.yawObject.position.y=10,this.yawObject.add(this.pitchObject)},addEventListeners:function(){var y=this.el.sceneEl,A=y.canvas;if(!A){y.addEventListener("render-target-loaded",m(this.addEventListeners,this));return}A.addEventListener("mousedown",this.onMouseDown,!1),window.addEventListener("mousemove",this.onMouseMove,!1),window.addEventListener("mouseup",this.onMouseUp,!1),A.addEventListener("touchstart",this.onTouchStart),window.addEventListener("touchmove",this.onTouchMove),window.addEventListener("touchend",this.onTouchEnd),y.addEventListener("enter-vr",this.onEnterVR),y.addEventListener("exit-vr",this.onExitVR),this.data.pointerLockEnabled&&(document.addEventListener("pointerlockchange",this.onPointerLockChange,!1),document.addEventListener("mozpointerlockchange",this.onPointerLockChange,!1),document.addEventListener("pointerlockerror",this.onPointerLockError,!1))},removeEventListeners:function(){var y=this.el.sceneEl,A=y&&y.canvas;A&&(A.removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),A.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd),y.removeEventListener("enter-vr",this.onEnterVR),y.removeEventListener("exit-vr",this.onExitVR),document.removeEventListener("pointerlockchange",this.onPointerLockChange,!1),document.removeEventListener("mozpointerlockchange",this.onPointerLockChange,!1),document.removeEventListener("pointerlockerror",this.onPointerLockError,!1))},updateOrientation:function(){var y=this.el.object3D,A=this.pitchObject,b=this.yawObject,g=this.el.sceneEl;(g.is("vr-mode")||g.is("ar-mode"))&&g.checkHeadsetConnected()||(this.updateMagicWindowOrientation(),y.rotation.x=this.magicWindowDeltaEuler.x+A.rotation.x,y.rotation.y=this.magicWindowDeltaEuler.y+b.rotation.y,y.rotation.z=this.magicWindowDeltaEuler.z)},updateMagicWindowOrientation:function(){var y=this.magicWindowAbsoluteEuler,A=this.magicWindowDeltaEuler;this.magicWindowControls&&this.magicWindowControls.enabled&&(this.magicWindowControls.update(),y.setFromQuaternion(this.magicWindowObject.quaternion,"YXZ"),!this.previousMagicWindowYaw&&y.y!==0&&(this.previousMagicWindowYaw=y.y),this.previousMagicWindowYaw&&(A.x=y.x,A.y+=y.y-this.previousMagicWindowYaw,A.z=y.z,this.previousMagicWindowYaw=y.y))},onMouseMove:function(y){var A,b,g,w=this.pitchObject,E=this.previousMouseEvent,C=this.yawObject;!this.data.enabled||!this.mouseDown&&!this.pointerLocked||(this.pointerLocked?(b=y.movementX||y.mozMovementX||0,g=y.movementY||y.mozMovementY||0):(b=y.screenX-E.screenX,g=y.screenY-E.screenY),this.previousMouseEvent.screenX=y.screenX,this.previousMouseEvent.screenY=y.screenY,A=this.data.reverseMouseDrag?1:-1,C.rotation.y+=b*.002*A,w.rotation.x+=g*.002*A,w.rotation.x=Math.max(-v,Math.min(v,w.rotation.x)))},onMouseDown:function(y){var A=this.el.sceneEl;if(!(!this.data.enabled||!this.data.mouseEnabled||(A.is("vr-mode")||A.is("ar-mode"))&&A.checkHeadsetConnected())&&y.button===0){var b=A&&A.canvas;this.mouseDown=!0,this.previousMouseEvent.screenX=y.screenX,this.previousMouseEvent.screenY=y.screenY,this.showGrabbingCursor(),this.data.pointerLockEnabled&&!this.pointerLocked&&(b.requestPointerLock?b.requestPointerLock():b.mozRequestPointerLock&&b.mozRequestPointerLock())}},showGrabbingCursor:function(){this.el.sceneEl.canvas.style.cursor="grabbing"},hideGrabbingCursor:function(){this.el.sceneEl.canvas.style.cursor=""},onMouseUp:function(){this.mouseDown=!1,this.hideGrabbingCursor()},onTouchStart:function(y){y.touches.length!==1||!this.data.touchEnabled||this.el.sceneEl.is("vr-mode")||this.el.sceneEl.is("ar-mode")||(this.touchStart={x:y.touches[0].pageX,y:y.touches[0].pageY},this.touchStarted=!0)},onTouchMove:function(y){var A,b=this.el.sceneEl.canvas,g,w=this.yawObject;!this.touchStarted||!this.data.touchEnabled||(g=2*Math.PI*(y.touches[0].pageX-this.touchStart.x)/b.clientWidth,A=this.data.reverseTouchDrag?1:-1,w.rotation.y-=g*.5*A,this.touchStart={x:y.touches[0].pageX,y:y.touches[0].pageY})},onTouchEnd:function(){this.touchStarted=!1},onEnterVR:function(){var y=this.el.sceneEl;y.checkHeadsetConnected()&&(this.saveCameraPose(),this.el.object3D.position.set(0,0,0),this.el.object3D.rotation.set(0,0,0),y.hasWebXR&&(this.el.object3D.matrixAutoUpdate=!1,this.el.object3D.updateMatrix()))},onExitVR:function(){this.el.sceneEl.checkHeadsetConnected()&&(this.restoreCameraPose(),this.previousHMDPosition.set(0,0,0),this.el.object3D.matrixAutoUpdate=!0)},onPointerLockChange:function(){this.pointerLocked=!!(document.pointerLockElement||document.mozPointerLockElement)},onPointerLockError:function(){this.pointerLocked=!1},exitPointerLock:function(){document.exitPointerLock(),this.pointerLocked=!1},updateGrabCursor:function(y){var A=this.el.sceneEl;function b(){A.canvas.classList.add("a-grab-cursor")}function g(){A.canvas.classList.remove("a-grab-cursor")}if(!A.canvas){y?A.addEventListener("render-target-loaded",b):A.addEventListener("render-target-loaded",g);return}if(y){b();return}g()},saveCameraPose:function(){var y=this.el;this.savedPose.position.copy(y.object3D.position),this.savedPose.rotation.copy(y.object3D.rotation),this.hasSavedPose=!0},restoreCameraPose:function(){var y=this.el,A=this.savedPose;this.hasSavedPose&&(y.object3D.position.copy(A.position),y.object3D.rotation.copy(A.rotation),this.hasSavedPose=!1)}})},"./src/components/magicleap-controls.js":(l,u,c)=>{var d=c("./src/utils/bind.js"),h=c("./src/core/component.js").registerComponent,p=c("./src/utils/tracked-controls.js"),m=p.checkControllerPresentAndSetup,v=p.emitIfAxesChanged,y=p.onButtonEvent,A="magicleap",b="-one",g=A+b,w="https://cdn.aframe.io/controllers/magicleap/magicleap-one-controller.glb",E={axes:{touchpad:[0,1]},buttons:["trigger","grip","touchpad","menu"]};l.exports.Component=h("magicleap-controls",{schema:{hand:{default:"none"},model:{default:!0},orientationOffset:{type:"vec3"}},mapping:E,init:function(){var C=this;this.controllerPresent=!1,this.lastControllerCheck=0,this.onButtonChanged=d(this.onButtonChanged,this),this.onButtonDown=function(_){y(_.detail.id,"down",C)},this.onButtonUp=function(_){y(_.detail.id,"up",C)},this.onButtonTouchEnd=function(_){y(_.detail.id,"touchend",C)},this.onButtonTouchStart=function(_){y(_.detail.id,"touchstart",C)},this.previousButtonValues={},this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods()},update:function(){var C=this.data;this.controllerIndex=C.hand==="right"?0:C.hand==="left"?1:2},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=d(this.onModelLoaded,this),this.onControllersUpdate=d(this.onControllersUpdate,this),this.checkIfControllerPresent=d(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=d(this.removeControllersUpdateListener,this),this.onAxisMoved=d(this.onAxisMoved,this)},addEventListeners:function(){var C=this.el;C.addEventListener("buttonchanged",this.onButtonChanged),C.addEventListener("buttondown",this.onButtonDown),C.addEventListener("buttonup",this.onButtonUp),C.addEventListener("touchstart",this.onButtonTouchStart),C.addEventListener("touchend",this.onButtonTouchEnd),C.addEventListener("axismove",this.onAxisMoved),C.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var C=this.el;C.removeEventListener("buttonchanged",this.onButtonChanged),C.removeEventListener("buttondown",this.onButtonDown),C.removeEventListener("buttonup",this.onButtonUp),C.removeEventListener("touchstart",this.onButtonTouchStart),C.removeEventListener("touchend",this.onButtonTouchEnd),C.removeEventListener("axismove",this.onAxisMoved),C.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var C=this.data;m(this,g,{index:this.controllerIndex,hand:C.hand})},injectTrackedControls:function(){var C=this.el,_=this.data;C.setAttribute("tracked-controls",{idPrefix:g,hand:_.hand,controller:this.controllerIndex,orientationOffset:_.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model",w)},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(C){var _=this.mapping.buttons[C.detail.id],P;_&&(_==="trigger"&&(P=C.detail.state.value,console.log("analog value of trigger press: "+P)),this.el.emit(_+"changed",C.detail.state))},onModelLoaded:function(C){var _=C.detail.model;_.scale.set(.01,.01,.01)},onAxisMoved:function(C){v(this,this.mapping.axes,C)},updateModel:function(C,_){},setButtonColor:function(C,_){}})},"./src/components/material.js":(l,u,c)=>{var d=c("./src/utils/index.js"),h=c("./src/core/component.js"),p=c("./src/lib/three.js"),m=c("./src/core/shader.js"),v=d.debug("components:material:error"),y=h.registerComponent,A=m.shaders,b=m.shaderNames;l.exports.Component=y("material",{schema:{alphaTest:{default:0,min:0,max:1},depthTest:{default:!0},depthWrite:{default:!0},flatShading:{default:!1},npot:{default:!1},offset:{type:"vec2",default:{x:0,y:0}},opacity:{default:1,min:0,max:1},repeat:{type:"vec2",default:{x:1,y:1}},shader:{default:"standard",oneOf:b,schemaChange:!0},side:{default:"front",oneOf:["front","back","double"]},transparent:{default:!1},vertexColorsEnabled:{default:!1},visible:{default:!0},blending:{default:"normal",oneOf:["none","normal","additive","subtractive","multiply"]},dithering:{default:!0}},init:function(){this.material=null},update:function(C){var _=this.data;(!this.shader||_.shader!==C.shader)&&this.updateShader(_.shader),this.shader.update(this.data),this.updateMaterial(C)},updateSchema:function(C){var _,P,R,L;P=C&&C.shader,_=this.oldData&&this.oldData.shader,L=P||_,R=A[L]&&A[L].schema,R||v("Unknown shader schema "+L),!(_&&P===_)&&(this.extendSchema(R),this.updateBehavior())},updateBehavior:function(){var C,_=this.el.sceneEl,P=this.schema,R=this,L;function T(D,H){var V;for(V in L)L[V]=D;R.shader.update(L)}this.tick=void 0,L={};for(C in P)P[C].type==="time"&&(this.tick=T,L[C]=!0);_&&(this.tick?_.addBehavior(this):_.removeBehavior(this))},updateShader:function(C){var _=this.data,P=A[C]&&A[C].Shader,R;if(!P)throw new Error("Unknown shader "+C);R=this.shader=new P,R.el=this.el,R.init(_),this.setMaterial(R.material),this.updateSchema(_)},updateMaterial:function(C){var _=this.data,P=this.material,R;P.alphaTest=_.alphaTest,P.depthTest=_.depthTest!==!1,P.depthWrite=_.depthWrite!==!1,P.opacity=_.opacity,P.flatShading=_.flatShading,P.side=g(_.side),P.transparent=_.transparent!==!1||_.opacity<1,P.vertexColors=_.vertexColorsEnabled,P.visible=_.visible,P.blending=w(_.blending),P.dithering=_.dithering;for(R in C)break;R&&(C.alphaTest!==_.alphaTest||C.side!==_.side||C.vertexColorsEnabled!==_.vertexColorsEnabled)&&(P.needsUpdate=!0)},remove:function(){var C=new p.MeshBasicMaterial,_=this.material,P=this.el.getObject3D("mesh");P&&(P.material=C),E(_,this.system)},setMaterial:function(C){var _=this.el,P,R=this.system;this.material&&E(this.material,R),this.material=C,R.registerMaterial(C),P=_.getObject3D("mesh"),P?P.material=C:_.addEventListener("object3dset",function L(T){T.detail.type!=="mesh"||T.target!==_||(_.getObject3D("mesh").material=C,_.removeEventListener("object3dset",L))})}});function g(C){switch(C){case"back":return p.BackSide;case"double":return p.DoubleSide;default:return p.FrontSide}}function w(C){switch(C){case"none":return p.NoBlending;case"additive":return p.AdditiveBlending;case"subtractive":return p.SubtractiveBlending;case"multiply":return p.MultiplyBlending;default:return p.NormalBlending}}function E(C,_){C.dispose(),_.unregisterMaterial(C)}},"./src/components/obj-model.js":(l,u,c)=>{var d=c("./src/utils/debug.js"),h=c("./src/core/component.js").registerComponent,p=c("./src/lib/three.js"),m=d("components:obj-model:warn");l.exports.Component=h("obj-model",{schema:{mtl:{type:"model"},obj:{type:"model"}},init:function(){var v=this;this.model=null,this.objLoader=new p.OBJLoader,this.mtlLoader=new p.MTLLoader(this.objLoader.manager),this.mtlLoader.crossOrigin="",this.el.addEventListener("componentinitialized",function(y){v.model&&y.detail.name==="material"&&v.applyMaterial()})},update:function(){var v=this.data;v.obj&&(this.resetMesh(),this.loadObj(v.obj,v.mtl))},remove:function(){this.model&&this.resetMesh()},resetMesh:function(){this.el.removeObject3D("mesh")},loadObj:function(v,y){var A=this,b=this.el,g=this.mtlLoader,w=this.objLoader,E=this.el.sceneEl.systems.renderer,C=y.substr(0,y.lastIndexOf("/")+1);if(y){b.hasAttribute("material")&&m("Material component properties are ignored when a .MTL is provided"),g.setResourcePath(C),g.load(y,function(_){_.preload(),w.setMaterials(_),w.load(v,function(P){A.model=P,A.model.traverse(function(R){if(R.isMesh){var L=R.material;L.color&&E.applyColorCorrection(L.color),L.map&&E.applyColorCorrection(L.map),L.emissive&&E.applyColorCorrection(L.emissive),L.emissiveMap&&E.applyColorCorrection(L.emissiveMap)}}),b.setObject3D("mesh",P),b.emit("model-loaded",{format:"obj",model:P})})});return}w.load(v,function(P){A.model=P,A.applyMaterial(),b.setObject3D("mesh",P),b.emit("model-loaded",{format:"obj",model:P})})},applyMaterial:function(){var v=this.el.components.material;v&&this.model.traverse(function(y){y instanceof p.Mesh&&(y.material=v.material)})}})},"./src/components/oculus-go-controls.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/utils/bind.js"),p=c("./src/utils/tracked-controls.js"),m=p.checkControllerPresentAndSetup,v=p.emitIfAxesChanged,y=p.onButtonEvent,A=c("./src/utils/index.js").device.isWebXRAvailable,b="oculus-go",g="Oculus Go",w="https://cdn.aframe.io/controllers/oculus/go/oculus-go-controller.gltf",E=A?b:g,C={axes:{trackpad:[0,1]},buttons:["trackpad","trigger"]},_={axes:{touchpad:[0,1]},buttons:["trigger","none","touchpad"]},P=A?_:C;l.exports.Component=d("oculus-go-controls",{schema:{hand:{default:""},buttonColor:{type:"color",default:"#FFFFFF"},buttonTouchedColor:{type:"color",default:"#BBBBBB"},buttonHighlightColor:{type:"color",default:"#7A7A7A"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:P,bindMethods:function(){this.onModelLoaded=h(this.onModelLoaded,this),this.onControllersUpdate=h(this.onControllersUpdate,this),this.checkIfControllerPresent=h(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=h(this.removeControllersUpdateListener,this),this.onAxisMoved=h(this.onAxisMoved,this)},init:function(){var R=this;this.onButtonChanged=h(this.onButtonChanged,this),this.onButtonDown=function(L){y(L.detail.id,"down",R)},this.onButtonUp=function(L){y(L.detail.id,"up",R)},this.onButtonTouchStart=function(L){y(L.detail.id,"touchstart",R)},this.onButtonTouchEnd=function(L){y(L.detail.id,"touchend",R)},this.controllerPresent=!1,this.lastControllerCheck=0,this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods()},addEventListeners:function(){var R=this.el;R.addEventListener("buttonchanged",this.onButtonChanged),R.addEventListener("buttondown",this.onButtonDown),R.addEventListener("buttonup",this.onButtonUp),R.addEventListener("touchstart",this.onButtonTouchStart),R.addEventListener("touchend",this.onButtonTouchEnd),R.addEventListener("model-loaded",this.onModelLoaded),R.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var R=this.el;R.removeEventListener("buttonchanged",this.onButtonChanged),R.removeEventListener("buttondown",this.onButtonDown),R.removeEventListener("buttonup",this.onButtonUp),R.removeEventListener("touchstart",this.onButtonTouchStart),R.removeEventListener("touchend",this.onButtonTouchEnd),R.removeEventListener("model-loaded",this.onModelLoaded),R.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){m(this,E,this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var R=this.el,L=this.data;R.setAttribute("tracked-controls",{armModel:L.armModel,hand:L.hand,idPrefix:E,orientationOffset:L.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model",w)},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(R){var L=R.detail.model,T;this.data.model&&(T=this.buttonMeshes={},T.trigger=L.getObjectByName("oculus_go_button_trigger"),T.trackpad=L.getObjectByName("oculus_go_touchpad"),T.touchpad=L.getObjectByName("oculus_go_touchpad"))},onButtonChanged:function(R){var L=this.mapping.buttons[R.detail.id];L&&this.el.emit(L+"changed",R.detail.state)},onAxisMoved:function(R){v(this,this.mapping.axes,R)},updateModel:function(R,L){this.data.model&&this.updateButtonModel(R,L)},updateButtonModel:function(R,L){var T=this.buttonMeshes;if(!(!T||!T[R])){var D,H;switch(L){case"down":D=this.data.buttonHighlightColor;break;case"touchstart":D=this.data.buttonTouchedColor;break;default:D=this.data.buttonColor}H=T[R],H.material.color.set(D),this.rendererSystem.applyColorCorrection(H.material.color)}}})},"./src/components/oculus-touch-controls.js":(l,u,c)=>{var d=c("./src/utils/bind.js"),h=c("./src/core/component.js").registerComponent,p=c("./src/lib/three.js"),m=c("./src/utils/tracked-controls.js"),v=m.checkControllerPresentAndSetup,y=m.emitIfAxesChanged,A=m.onButtonEvent,b=c("./src/utils/index.js").device.isWebXRAvailable,g="oculus-touch",w="Oculus Touch",E=b?g:w,C="https://cdn.aframe.io/controllers/oculus/oculus-touch-controller-",_="https://cdn.aframe.io/controllers/meta/",P={left:{modelUrl:C+"left.gltf",rayOrigin:{origin:{x:.008,y:-.01,z:0},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new p.Vector3(-.005,.003,-.055),modelPivotRotation:new p.Euler(0,0,0)},right:{modelUrl:C+"right.gltf",rayOrigin:{origin:{x:-.008,y:-.01,z:0},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new p.Vector3(.005,.003,-.055),modelPivotRotation:new p.Euler(0,0,0)}},R={left:{modelUrl:C+"left.gltf",rayOrigin:{origin:{x:.002,y:-.005,z:-.03},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new p.Vector3(-.005,.036,-.037),modelPivotRotation:new p.Euler(Math.PI/4.5,0,0)},right:{modelUrl:C+"right.gltf",rayOrigin:{origin:{x:-.002,y:-.005,z:-.03},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new p.Vector3(.005,.036,-.037),modelPivotRotation:new p.Euler(Math.PI/4.5,0,0)}},L=b?R:P,T="oculus-touch",D={"oculus-touch":L,"oculus-touch-v2":{left:{modelUrl:C+"gen2-left.gltf",rayOrigin:{origin:{x:-.006,y:-.03,z:-.04},direction:{x:0,y:-.9,z:-1}},modelPivotOffset:new p.Vector3(0,-.007,-.021),modelPivotRotation:new p.Euler(-Math.PI/4,0,0)},right:{modelUrl:C+"gen2-right.gltf",rayOrigin:{origin:{x:.006,y:-.03,z:-.04},direction:{x:0,y:-.9,z:-1}},modelPivotOffset:new p.Vector3(0,-.007,-.021),modelPivotRotation:new p.Euler(-Math.PI/4,0,0)}},"oculus-touch-v3":{left:{modelUrl:C+"v3-left.glb",rayOrigin:{origin:{x:.0065,y:-.0186,z:-.05},direction:{x:.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new p.Vector3(0,0,0),modelPivotRotation:new p.Euler(0,0,0)},right:{modelUrl:C+"v3-right.glb",rayOrigin:{origin:{x:-.0065,y:-.0186,z:-.05},direction:{x:-.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new p.Vector3(0,0,0),modelPivotRotation:new p.Euler(0,0,0)}},"meta-quest-touch-pro":{left:{modelUrl:_+"quest-touch-pro-left.glb",rayOrigin:{origin:{x:.0065,y:-.0186,z:-.05},direction:{x:.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new p.Vector3(0,0,0),modelPivotRotation:new p.Euler(0,0,0)},right:{modelUrl:_+"quest-touch-pro-right.glb",rayOrigin:{origin:{x:-.0065,y:-.0186,z:-.05},direction:{x:-.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new p.Vector3(0,0,0),modelPivotRotation:new p.Euler(0,0,0)}}},H={left:{axes:{thumbstick:[0,1]},buttons:["thumbstick","trigger","grip","xbutton","ybutton","surface"]},right:{axes:{thumbstick:[0,1]},buttons:["thumbstick","trigger","grip","abutton","bbutton","surface"]}},V={left:{axes:{thumbstick:[2,3]},buttons:["trigger","grip","none","thumbstick","xbutton","ybutton","surface"]},right:{axes:{thumbstick:[2,3]},buttons:["trigger","grip","none","thumbstick","abutton","bbutton","surface"]}},B=b?V:H;l.exports.Component=h("oculus-touch-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#999"},buttonTouchColor:{type:"color",default:"#8AB"},buttonHighlightColor:{type:"color",default:"#2DF"},model:{default:!0},controllerType:{default:"auto",oneOf:["auto","oculus-touch","oculus-touch-v2","oculus-touch-v3"]},orientationOffset:{type:"vec3",default:{x:43,y:0,z:0}}},mapping:B,bindMethods:function(){this.onButtonChanged=d(this.onButtonChanged,this),this.onThumbstickMoved=d(this.onThumbstickMoved,this),this.onModelLoaded=d(this.onModelLoaded,this),this.onControllersUpdate=d(this.onControllersUpdate,this),this.checkIfControllerPresent=d(this.checkIfControllerPresent,this),this.onAxisMoved=d(this.onAxisMoved,this)},init:function(){var F=this;this.onButtonDown=function(N){A(N.detail.id,"down",F,F.data.hand)},this.onButtonUp=function(N){A(N.detail.id,"up",F,F.data.hand)},this.onButtonTouchStart=function(N){A(N.detail.id,"touchstart",F,F.data.hand)},this.onButtonTouchEnd=function(N){A(N.detail.id,"touchend",F,F.data.hand)},this.controllerPresent=!1,this.lastControllerCheck=0,this.previousButtonValues={},this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods(),this.triggerEuler=new p.Euler},addEventListeners:function(){var F=this.el;F.addEventListener("buttonchanged",this.onButtonChanged),F.addEventListener("buttondown",this.onButtonDown),F.addEventListener("buttonup",this.onButtonUp),F.addEventListener("touchstart",this.onButtonTouchStart),F.addEventListener("touchend",this.onButtonTouchEnd),F.addEventListener("axismove",this.onAxisMoved),F.addEventListener("model-loaded",this.onModelLoaded),F.addEventListener("thumbstickmoved",this.onThumbstickMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var F=this.el;F.removeEventListener("buttonchanged",this.onButtonChanged),F.removeEventListener("buttondown",this.onButtonDown),F.removeEventListener("buttonup",this.onButtonUp),F.removeEventListener("touchstart",this.onButtonTouchStart),F.removeEventListener("touchend",this.onButtonTouchEnd),F.removeEventListener("axismove",this.onAxisMoved),F.removeEventListener("model-loaded",this.onModelLoaded),F.removeEventListener("thumbstickmoved",this.onThumbstickMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){v(this,E,{hand:this.data.hand,iterateControllerProfiles:!0})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},loadModel:function(F){var N=this.data,z;if(N.model){if(this.displayModel=D[N.controllerType]||D[T],N.controllerType==="auto"){var j=this.el.sceneEl.systems["tracked-controls-webvr"];if(j&&j.vrDisplay){var G=j.vrDisplay.displayName;/^Oculus Quest$/.test(G)&&(this.displayModel=D["oculus-touch-v2"])}else{z=T;for(var Q=Object.keys(D),X=0;X<F.profiles.length;X++)if(Q.indexOf(F.profiles[X])!==-1){z=F.profiles[X];break}this.displayModel=D[z]}}var J=this.displayModel[N.hand].modelUrl;this.isOculusTouchV3=this.displayModel===D["oculus-touch-v3"],this.el.setAttribute("gltf-model",J)}},injectTrackedControls:function(F){var N=this.data,z=g,j=N.hand==="right"?"Oculus Touch (Right)":"Oculus Touch (Left)",G=b?z:j;this.el.setAttribute("tracked-controls",{id:G,hand:N.hand,orientationOffset:N.orientationOffset,handTrackingEnabled:!1,iterateControllerProfiles:!0,space:"gripSpace"}),this.loadModel(F)},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(F){var N=this.mapping[this.data.hand].buttons[F.detail.id];if(N){if(this.isOculusTouchV3)this.onButtonChangedV3(F);else{var z=this.buttonMeshes,j;(N==="trigger"||N==="grip")&&(j=F.detail.state.value),z&&(N==="trigger"&&z.trigger&&(z.trigger.rotation.x=this.originalXRotationTrigger-j*(Math.PI/26)),N==="grip"&&z.grip&&(j*=this.data.hand==="left"?-1:1,z.grip.position.x=this.originalXPositionGrip+j*.004))}this.el.emit(N+"changed",F.detail.state)}},clickButtons:["xbutton","ybutton","abutton","bbutton","thumbstick"],onButtonChangedV3:function(F){var N=this.mapping[this.data.hand].buttons[F.detail.id],z=this.buttonObjects,j;z&&(j=F.detail.state.value,j*=this.data.hand==="left"?-1:1,N==="trigger"?(this.triggerEuler.copy(this.buttonRanges.trigger.min.rotation),this.triggerEuler.x+=j*this.buttonRanges.trigger.diff.x,this.triggerEuler.y+=j*this.buttonRanges.trigger.diff.y,this.triggerEuler.z+=j*this.buttonRanges.trigger.diff.z,z.trigger.setRotationFromEuler(this.triggerEuler)):N==="grip"?z.grip.position.x=z.grip.minX+j*.004:this.clickButtons.includes(N)&&(z[N].position.y=j===0?this.buttonRanges[N].unpressedY:this.buttonRanges[N].pressedY))},onModelLoaded:function(F){if(this.data.model){if(this.isOculusTouchV3)this.onOculusTouchV3ModelLoaded(F);else{var N=this.controllerObject3D=F.detail.model,z;z=this.buttonMeshes={},z.grip=N.getObjectByName("buttonHand"),this.originalXPositionGrip=z.grip&&z.grip.position.x,z.trigger=N.getObjectByName("buttonTrigger"),this.originalXRotationTrigger=z.trigger&&z.trigger.rotation.x,z.thumbstick=N.getObjectByName("stick"),z.xbutton=N.getObjectByName("buttonX"),z.abutton=N.getObjectByName("buttonA"),z.ybutton=N.getObjectByName("buttonY"),z.bbutton=N.getObjectByName("buttonB")}for(var j in this.buttonMeshes)this.buttonMeshes[j]&&O(this.buttonMeshes[j]);this.applyOffset(F.detail.model),this.el.emit("controllermodelready",{name:"oculus-touch-controls",model:this.data.model,rayOrigin:this.displayModel[this.data.hand].rayOrigin})}},applyOffset:function(F){F.position.copy(this.displayModel[this.data.hand].modelPivotOffset),F.rotation.copy(this.displayModel[this.data.hand].modelPivotRotation)},onOculusTouchV3ModelLoaded:function(F){var N=this.controllerObject3D=F.detail.model,z=this.buttonObjects={},j=this.buttonMeshes={},G=this.buttonRanges={};j.grip=N.getObjectByName("squeeze"),z.grip=N.getObjectByName("xr_standard_squeeze_pressed_value"),G.grip={min:N.getObjectByName("xr_standard_squeeze_pressed_min"),max:N.getObjectByName("xr_standard_squeeze_pressed_max")},z.grip.minX=z.grip.position.x,j.thumbstick=N.getObjectByName("thumbstick"),z.thumbstick=N.getObjectByName("xr_standard_thumbstick_pressed_value"),G.thumbstick={min:N.getObjectByName("xr_standard_thumbstick_pressed_min"),max:N.getObjectByName("xr_standard_thumbstick_pressed_max"),originalRotation:this.buttonObjects.thumbstick.rotation.clone()},G.thumbstick.pressedY=z.thumbstick.position.y,G.thumbstick.unpressedY=G.thumbstick.pressedY+Math.abs(G.thumbstick.max.position.y)-Math.abs(G.thumbstick.min.position.y),j.trigger=N.getObjectByName("trigger"),z.trigger=N.getObjectByName("xr_standard_trigger_pressed_value"),G.trigger={min:N.getObjectByName("xr_standard_trigger_pressed_min"),max:N.getObjectByName("xr_standard_trigger_pressed_max")},G.trigger.diff={x:Math.abs(G.trigger.max.rotation.x)-Math.abs(G.trigger.min.rotation.x),y:Math.abs(G.trigger.max.rotation.y)-Math.abs(G.trigger.min.rotation.y),z:Math.abs(G.trigger.max.rotation.z)-Math.abs(G.trigger.min.rotation.z)};var Q=this.data.hand==="left"?"x":"a",X=this.data.hand==="left"?"y":"b",J=Q+"button",Z=X+"button";j[J]=N.getObjectByName(Q+"_button"),z[J]=N.getObjectByName(Q+"_button_pressed_value"),G[J]={min:N.getObjectByName(Q+"_button_pressed_min"),max:N.getObjectByName(Q+"_button_pressed_max")},j[Z]=N.getObjectByName(X+"_button"),z[Z]=N.getObjectByName(X+"_button_pressed_value"),G[Z]={min:N.getObjectByName(X+"_button_pressed_min"),max:N.getObjectByName(X+"_button_pressed_max")},G[J].unpressedY=z[J].position.y,G[J].pressedY=G[J].unpressedY+Math.abs(G[J].max.position.y)-Math.abs(G[J].min.position.y),G[Z].unpressedY=z[Z].position.y,G[Z].pressedY=G[Z].unpressedY-Math.abs(G[Z].max.position.y)+Math.abs(G[Z].min.position.y)},onAxisMoved:function(F){y(this,this.mapping[this.data.hand].axes,F)},onThumbstickMoved:function(F){if(!(!this.isOculusTouchV3||!this.buttonMeshes||!this.buttonMeshes.thumbstick))for(var N in F.detail)this.buttonObjects.thumbstick.rotation[this.axisMap[N]]=this.buttonRanges.thumbstick.originalRotation[this.axisMap[N]]-Math.PI/8*F.detail[N]*(N==="y"||this.data.hand==="right"?-1:1)},axisMap:{y:"x",x:"z"},updateModel:function(F,N){this.data.model&&this.updateButtonModel(F,N)},updateButtonModel:function(F,N){var z=this.buttonMeshes,j,G;z&&z[F]&&(G=N==="up"||N==="touchend"?z[F].originalColor||this.data.buttonColor:N==="touchstart"?this.data.buttonTouchColor:this.data.buttonHighlightColor,j=z[F],j.material.color.set(G),this.rendererSystem.applyColorCorrection(j.material.color))}});function O(F){F.traverse(function(N){var z;N.type==="Mesh"&&(z=N.material.clone(),F.originalColor=N.material.color,N.material.dispose(),N.material=z)})}},"./src/components/position.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent;l.exports.Component=d("position",{schema:{type:"vec3"},update:function(){var h=this.el.object3D,p=this.data;h.position.set(p.x,p.y,p.z)},remove:function(){this.el.object3D.position.set(0,0,0)}})},"./src/components/raycaster.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/lib/three.js"),p=c("./src/utils/index.js"),m=p.debug("components:raycaster:warn"),v=/^[\w\s-.,[\]#]*$/,y={childList:!0,attributes:!0,subtree:!0},A={INTERSECT:"raycaster-intersected",INTERSECTION:"raycaster-intersection",INTERSECT_CLEAR:"raycaster-intersected-cleared",INTERSECTION_CLEAR:"raycaster-intersection-cleared",INTERSECTION_CLOSEST_ENTITY_CHANGED:"raycaster-closest-entity-changed"};l.exports.Component=d("raycaster",{schema:{autoRefresh:{default:!0},direction:{type:"vec3",default:{x:0,y:0,z:-1}},enabled:{default:!0},far:{default:1e3},interval:{default:0},near:{default:0},objects:{default:""},origin:{type:"vec3"},showLine:{default:!1},lineColor:{default:"white"},lineOpacity:{default:1},useWorldCoordinates:{default:!1}},multiple:!0,init:function(){this.clearedIntersectedEls=[],this.unitLineEndVec3=new h.Vector3,this.intersectedEls=[],this.intersections=[],this.newIntersectedEls=[],this.newIntersections=[],this.objects=[],this.prevCheckTime=void 0,this.prevIntersectedEls=[],this.rawIntersections=[],this.raycaster=new h.Raycaster,this.updateOriginDirection(),this.setDirty=this.setDirty.bind(this),this.updateLine=this.updateLine.bind(this),this.observer=new MutationObserver(this.setDirty),this.dirty=!0,this.lineEndVec3=new h.Vector3,this.otherLineEndVec3=new h.Vector3,this.lineData={end:this.lineEndVec3},this.getIntersection=this.getIntersection.bind(this),this.intersectedDetail={el:this.el,getIntersection:this.getIntersection},this.intersectedClearedDetail={el:this.el},this.intersectionClearedDetail={clearedEls:this.clearedIntersectedEls},this.intersectionDetail={}},update:function(g){var w=this.data,E=this.el,C=this.raycaster;C.far=w.far,C.near=w.near,w.showLine&&(w.far!==g.far||w.origin!==g.origin||w.direction!==g.direction||!g.showLine)&&(this.unitLineEndVec3.copy(w.direction).normalize(),this.drawLine()),!w.showLine&&g.showLine&&E.removeAttribute("line"),w.objects!==g.objects&&!v.test(w.objects)&&m('[raycaster] Selector "'+w.objects+'" may not update automatically with DOM changes.'),w.objects||m('[raycaster] For performance, please define raycaster.objects when using raycaster or cursor components to whitelist which entities to intersect with. e.g., raycaster="objects: [data-raycastable]".'),w.autoRefresh!==g.autoRefresh&&E.isPlaying&&(w.autoRefresh?this.addEventListeners():this.removeEventListeners()),g.enabled&&!w.enabled&&this.clearAllIntersections(),this.setDirty()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){this.data.showLine&&this.el.removeAttribute("line"),this.clearAllIntersections()},addEventListeners:function(){this.data.autoRefresh&&(this.observer.observe(this.el.sceneEl,y),this.el.sceneEl.addEventListener("object3dset",this.setDirty),this.el.sceneEl.addEventListener("object3dremove",this.setDirty))},removeEventListeners:function(){this.observer.disconnect(),this.el.sceneEl.removeEventListener("object3dset",this.setDirty),this.el.sceneEl.removeEventListener("object3dremove",this.setDirty)},setDirty:function(){this.dirty=!0},refreshObjects:function(){var g=this.data,w;w=g.objects?this.el.sceneEl.querySelectorAll(g.objects):this.el.sceneEl.querySelectorAll("*"),this.objects=this.flattenObject3DMaps(w),this.dirty=!1},tock:function(g){var w=this.data,E=this.prevCheckTime;w.enabled&&(E&&g-E<w.interval||(this.prevCheckTime=g,this.checkIntersections()))},checkIntersections:function(){var g=this.clearedIntersectedEls,w=this.el,E=this.data,C,_=this.intersectedEls,P,R=this.intersections,L=this.newIntersectedEls,T=this.newIntersections,D=this.prevIntersectedEls,H=this.rawIntersections;for(this.dirty&&this.refreshObjects(),b(this.prevIntersectedEls,this.intersectedEls),this.updateOriginDirection(),H.length=0,this.raycaster.intersectObjects(this.objects,!0,H),R.length=0,_.length=0,C=0;C<H.length;C++)P=H[C],!(E.showLine&&P.object===w.getObject3D("line"))&&P.object.el&&(R.push(P),_.push(P.object.el));for(T.length=0,L.length=0,C=0;C<R.length;C++)D.indexOf(R[C].object.el)===-1&&(T.push(R[C]),L.push(R[C].object.el));for(g.length=0,C=0;C<D.length;C++)_.indexOf(D[C])===-1&&(D[C].emit(A.INTERSECT_CLEAR,this.intersectedClearedDetail),g.push(D[C]));for(g.length&&w.emit(A.INTERSECTION_CLEAR,this.intersectionClearedDetail),C=0;C<L.length;C++)L[C].emit(A.INTERSECT,this.intersectedDetail);T.length&&(this.intersectionDetail.els=L,this.intersectionDetail.intersections=T,w.emit(A.INTERSECTION,this.intersectionDetail)),(D.length===0&&R.length>0||D.length>0&&R.length===0||D.length&&R.length&&D[0]!==R[0].object.el)&&(this.intersectionDetail.els=this.intersectedEls,this.intersectionDetail.intersections=R,w.emit(A.INTERSECTION_CLOSEST_ENTITY_CHANGED,this.intersectionDetail)),E.showLine&&setTimeout(this.updateLine)},updateLine:function(){var g=this.el,w=this.intersections,E;w.length&&(w[0].object.el===g&&w[1]?E=w[1].distance:E=w[0].distance),this.drawLine(E)},getIntersection:function(g){var w,E;for(w=0;w<this.intersections.length;w++)if(E=this.intersections[w],E.object.el===g)return E;return null},updateOriginDirection:function(){var g=new h.Vector3,w=new h.Vector3;return function(){var C=this.el,_=this.data;if(_.useWorldCoordinates){this.raycaster.set(_.origin,_.direction);return}C.object3D.updateMatrixWorld(),w.setFromMatrixPosition(C.object3D.matrixWorld),(_.origin.x!==0||_.origin.y!==0||_.origin.z!==0)&&(w=C.object3D.localToWorld(w.copy(_.origin))),g.copy(_.direction).transformDirection(C.object3D.matrixWorld).normalize(),this.raycaster.set(w,g)}}(),drawLine:function(g){var w=this.data,E=this.el,C;C=this.lineData.end===this.lineEndVec3?this.otherLineEndVec3:this.lineEndVec3,g===void 0&&(g=w.far===1/0?1e3:w.far),this.lineData.start=w.origin,this.lineData.end=C.copy(this.unitLineEndVec3).multiplyScalar(g).add(w.origin),this.lineData.color=w.lineColor,this.lineData.opacity=w.lineOpacity,E.setAttribute("line",this.lineData)},flattenObject3DMaps:function(g){var w,E,C=this.objects,_=this.el.sceneEl.object3D;function P(L){return L.parent?P(L.parent):L===_}for(C.length=0,E=0;E<g.length;E++){var R=g[E];if(R.isEntity&&R.object3D&&P(R.object3D))for(w in R.object3DMap)C.push(R.getObject3D(w))}return C},clearAllIntersections:function(){var g;for(g=0;g<this.intersectedEls.length;g++)this.intersectedEls[g].emit(A.INTERSECT_CLEAR,this.intersectedClearedDetail);b(this.clearedIntersectedEls,this.intersectedEls),this.intersectedEls.length=0,this.intersections.length=0,this.el.emit(A.INTERSECTION_CLEAR,this.intersectionClearedDetail)}});function b(g,w){var E;for(g.length=w.length,E=0;E<w.length;E++)g[E]=w[E]}},"./src/components/rotation.js":(l,u,c)=>{var d=c("./src/lib/three.js").MathUtils.degToRad,h=c("./src/core/component.js").registerComponent;l.exports.Component=h("rotation",{schema:{type:"vec3"},update:function(){var p=this.data,m=this.el.object3D;m.rotation.set(d(p.x),d(p.y),d(p.z)),m.rotation.order="YXZ"},remove:function(){this.el.object3D.rotation.set(0,0,0)}})},"./src/components/scale.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=1e-5;l.exports.Component=d("scale",{schema:{type:"vec3",default:{x:1,y:1,z:1}},update:function(){var p=this.data,m=this.el.object3D,v=p.x===0?h:p.x,y=p.y===0?h:p.y,A=p.z===0?h:p.z;m.scale.set(v,y,A)},remove:function(){this.el.object3D.scale.set(1,1,1)}})},"./src/components/scene/ar-hit-test.js":(l,u,c)=>{var d="data:image/webp;base64,UklGRkQHAABXRUJQVlA4WAoAAAAQAAAA/wEA/wEAQUxQSL0DAAARDzD/ERGCjrY9sYYFfgo6aa1kJ7K0w9Lo3AadLSVeFxevQwj5kuM8RfR/Atw/C0+ozB/oUBrloFZs6ElSW88j1KA4yExNWQaqRZquIDF0JYmlq0hAuUDTFu66tng3teW7pa3cQf1V1edvur54M/Slm6Wv3Gx9zw0MXlQLntcsBN6wkHjTQuYtC4W3LTw8mGRVG57TbAROtxHfZNhInGkjc5aNwtk2Hg6Mvki14k+NkZzCwQgCxalcAv3kddRTPI1DcUrXId1FLf1uHpzaQz4tquhZVLlKesbVpqKeTj0n0F5PpXDlFN9UqmhalL/ImuZFo6KmToWLoKlddMprqlS8cKovBvHo2kTiFV2LN4msaxKZl3QNiair8xYRdDWivIvXVXmbcMqJ51UebZuFXxZt6xd4laxtciqRtA3Cv0nU1t+kEUFbI8JvCa+tvkm3FDlO/W+OR99+kWEp/YYo+tYfTVnf/K8cE/F///3vv//993eeL+a+uvjawLcX3xjYvJotBFY3kVjTRGFtE+BU2AiMbiQyhpHMWEYeBozAH5qNBYRDB5KBCaTDBKKBAZTDBoKBDjwHAN5ABeCJBsAZcAAC0YHHxAYSMYBiYgGZWEA2MYFCbCCZGAAIANFEB+AnYgMQTDQAYSJ2AN5EBZAm4gDgTDgAeSIu4DGygTIRN1CMLOCZiACykQlg4jsAycgA8AO+BxCNdJyDkcbwRirDGXGnx8w+FDPrkM3MQ9JQZMYhiiwV/RDMtIM3U1/DmXHUo+IR2kSR2ToWkQ1NIn2qf2J8LCqJKiDUiSADHY3whirhdHgZ94HKaR97PhE+twEUJUFoAcgyTct8hfSxSkShASDKdMJ/ritKHwgyQ0sD4D/miCxU5SbhOOUDTnZpccCjYP/i0bZ/8bAgtVGEoGapWIQXyzKVKLwgNJFk2rtMIgoNRJlOZF7SNSSyUEeQmbxBFKEmtYjEe8S8zOZ1AkJVCmS88FJOtF40Ksg4oUaFiygk3C8qlTVNyl8UTevCUdAE2t14PfVqU1FPp57TopKeQZWromddTQp6QOfTOEQt/ZDuipZ11w/wOiqO8dRORcc6BQEkDQMClaHcn5wV9yLbxsNZNgpn2sicYSNxuo34Js1G4FQbnuNsOPa28PCWhcKbFjJvWEi8ZiHwqgXPcxbc5db33Cx95WboSzddX7yp+vyN0+eul7ZyN7Xlu64t3jVt4c5pc4JLV5EYupJE0xUknC4nOjVlmaYpyLit53HCQ0+ScnqceNcS5dzUkd0/CwMAVlA4IGADAAAQXwCdASoAAgACP8ne6Wy/tjCpqJ/IA/A5CWlu4XYBG/Pz8AfwD8APz//f3v8E1fuHZnxKYACtfuHZnxKYACrYTb5mOslhxu843ecbvON3nG7zjd3a0VCn7G1MABVxwH/Xd25gAK1+4dmfEpe2+PHhQaj75++riG6FuYACtfuHZnxKYACRrK3q9xO8Ss3uWKnMhs/rDF1hi6wxdYYusMXWGI5QRcCFDZog5OgqNlse1NDuz/UoFa/cOzPiUwAEsAOK4/nu5eZHK2tlXxJfNYlMABWv3Dsz4bvNJ5YA/LtxJ38SmAArX7h2Z8Sk5vdZUYv7mZPiUwAFa/cOzPh21s5OgZxf1mfEpemRyFr/rM+JS9noA/LtxJ38SmAAlUJIotzAASn6TjdhK+D3Dsz4dyvB7h2Z8O2tnJ0DOL+sz4lL2nKLT4lL/+iSLOocxq639w7M34MNZdm55uJ8v8ra2cpVZnxKTq2F3PN/cNksAfl24k7+JTAASqrD37h2Z7b1W+VtbOUqsz4lJ1bC7nm/uGyWAPy7cSd/EpgAJVVh79w7M9t6rfK2tnKVWZ8Sk6thdzzf3DZLAH5duJO/iUwAEqqw9+4dme29VvlbWzlKrM+JSdWwu55v7hslgD8u3EnfxKYACVVYe/cOzPbeq3ytrZylVme0kYJ8557FLerqFrzIbPrrf3DZLAH5duJO/iUvaVMS9BoaF4p7pSDFTP1XMyfElelrM0DOL+sz4eBJ13nV1OppBGPuKb4YzXQgq9uH19uS/0+JS9t9fr6ZUlQBelDG6GMgq97otb5QMPJwtKyBTbFp8Sl7b6/X0ykkawEOsgdiE6Fi0vb/Eve6xkwsmug0Z4nGNHQO8839bpTsjpz7SWIJxKagvd1QWMa6FYT1KEw3j4XDT6vJ9Xk+nyfT5Pq8n1eEmk5dinMM/9Fcfz4Z3Dsz3KD2dw7LxBRxKrqUUGQPH/7zxr1KIfNpLEJ0MZB2ITM/0Z2EFoh12NlXnEcpYcbvON3nG7zjd5xu84vfcNIAAP7+y8ceyzbVxkakPYY4lcr72fqOnDwipv+yxC71wAADBrjKnAAAAAAAAAAAAAAw7oNGHttqWONcoFN/2WIDc2pa6WVFtFYROlsaMaTXdcOjXHz93+YxAglKa4AAAAA=",h=c("./src/core/component.js").registerComponent,p=c("./src/lib/three.js"),m=21,v=function(){var g=new p.Quaternion,w=new p.Vector3;function E(C,_,P){_.position.copy(C.transform.position),_.quaternion.copy(C.transform.orientation),w.copy(P),g.copy(C.transform.orientation),w.applyQuaternion(g),_.position.sub(w)}return E}();v.tempFakePose={transform:{orientation:new p.Quaternion,position:new p.Vector3}};function y(g,w){this.renderer=g,this.xrHitTestSource=null,g.xr.addEventListener("sessionend",(function(){this.xrHitTestSource=null}).bind(this)),g.xr.addEventListener("sessionstart",(function(){this.sessionStart(w)}).bind(this)),this.renderer.xr.isPresenting&&this.sessionStart(w)}y.prototype.previousFrameAnchors=new Set,y.prototype.anchorToObject3D=new Map;function A(g){console.warn(g.message),console.warn('Cannot requestHitTestSource Are you missing: webxr="optionalFeatures: hit-test;" from <a-scene>?')}y.prototype.sessionStart=function(w){if(this.session=this.renderer.xr.getSession(),!("requestHitTestSource"in this.session)){A({message:"No requestHitTestSource on the session."});return}w.space?this.session.requestHitTestSource(w).then((function(E){this.xrHitTestSource=E}).bind(this)).catch(A):w.profile&&this.session.requestHitTestSourceForTransientInput(w).then((function(E){this.xrHitTestSource=E,this.transient=!0}).bind(this)).catch(A)},y.prototype.anchorFromLastHitTestResult=function(g,w){var E=this.lastHitTest;if(E){var C={object3D:g,offset:w};Array.from(this.anchorToObject3D.entries()).forEach((function(_){var P=_[1].object3D,R=_[0];P===g&&(this.anchorToObject3D.delete(R),R.delete())}).bind(this)),E.createAnchor&&E.createAnchor().then((function(_){this.anchorToObject3D.set(_,C)}).bind(this)).catch(function(_){console.warn(_.message),console.warn('Cannot create anchor, are you missing: webxr="optionalFeatures: anchors;" from <a-scene>?')})}},y.prototype.doHit=function(w){if(this.renderer.xr.isPresenting){var E=this.renderer.xr.getReferenceSpace(),C=w.getViewerPose(E),_,P;if(this.xrHitTestSource&&C)return this.transient?(_=w.getHitTestResultsForTransientInput(this.xrHitTestSource),_.length>0?(P=_[0].results,P.length>0?(this.lastHitTest=P[0],P[0].getPose(E)):!1):!1):(_=w.getHitTestResults(this.xrHitTestSource),_.length>0?(this.lastHitTest=_[0],_[0].getPose(E)):!1)}},y.updateAnchorPoses=function(g,w){var E=g.trackedAnchors||y.prototype.previousFrameAnchors;y.prototype.previousFrameAnchors.forEach(function(C){E.has(C)||y.prototype.anchorToObject3D.delete(C)}),E.forEach(function(C){var _,P,R,L;try{_=g.getPose(C.anchorSpace,w)}catch{}_&&(P=y.prototype.anchorToObject3D.get(C),R=P.offset,L=P.object3D,v(_,L,R))})};var b;l.exports.Component=h("ar-hit-test",{schema:{target:{type:"selector"},enabled:{default:!0},src:{default:d,type:"map"},type:{default:"footprint",oneOf:["footprint","map"]},footprintDepth:{default:.1},mapSize:{type:"vec2",default:{x:.5,y:.5}}},init:function(){this.hitTest=null,this.imageDataArray=new Uint8ClampedArray(1048576),this.imageData=new ImageData(this.imageDataArray,512,512),this.textureCache=new Map,this.orthoCam=new p.OrthographicCamera,this.orthoCam.layers.set(m),this.textureTarget=new p.WebGLRenderTarget(512,512,{}),this.basicMaterial=new p.MeshBasicMaterial({color:0,side:p.DoubleSide}),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.context.imageSmoothingEnabled=!1,this.canvas.width=512,this.canvas.height=512,this.canvasTexture=new p.CanvasTexture(this.canvas,{alpha:!0}),this.canvasTexture.flipY=!1;var g=this.el.getAttribute("webxr"),w=g.optionalFeatures;(!w.includes("hit-test")||!w.includes("anchors"))&&(w.push("hit-test"),w.push("anchors"),this.el.setAttribute("webxr",g)),this.el.sceneEl.renderer.xr.addEventListener("sessionend",(function(){this.hitTest=null}).bind(this)),this.el.sceneEl.renderer.xr.addEventListener("sessionstart",(function(){if(this.el.is("ar-mode")){var E=this.el.sceneEl.renderer,C=this.session=E.xr.getSession();this.hasPosedOnce=!1,this.bboxMesh.visible=!1,b||(b=new Map),C.requestReferenceSpace("viewer").then((function(R){this.hitTest=new y(E,{space:R}),b.set(R,this.hitTest),this.el.emit("ar-hit-test-start")}).bind(this));var _="generic-touchscreen",P=new y(E,{profile:_});C.addEventListener("selectstart",(function(R){if(this.data.enabled===!0){var L=R.inputSource;this.bboxMesh.visible=!0,this.hasPosedOnce===!0&&(this.el.emit("ar-hit-test-select-start",{inputSource:L,position:this.bboxMesh.position,orientation:this.bboxMesh.quaternion}),L.profiles[0]===_?this.hitTest=P:(this.hitTest=b.get(L)||new y(E,{space:L.targetRaySpace}),b.set(L,this.hitTest)))}}).bind(this)),C.addEventListener("selectend",(function(R){if(!this.hitTest||this.data.enabled!==!0){this.hitTest=null;return}var L=R.inputSource,T;this.hasPosedOnce===!0&&(this.bboxMesh.visible=!1,this.data.target&&(T=this.data.target.object3D,T&&(v.tempFakePose.transform.position.copy(this.bboxMesh.position),v.tempFakePose.transform.orientation.copy(this.bboxMesh.quaternion),v(v.tempFakePose,T,this.bboxOffset),T.visible=!0,this.hitTest.anchorFromLastHitTestResult(T,this.bboxOffset))),this.el.emit("ar-hit-test-select",{inputSource:L,position:this.bboxMesh.position,orientation:this.bboxMesh.quaternion})),this.hitTest=null}).bind(this))}}).bind(this)),this.bboxOffset=new p.Vector3,this.update=this.update.bind(this),this.makeBBox()},update:function(){this.data.enabled===!1&&(this.hitTest=null,this.bboxMesh.visible=!1),this.data.target&&(this.data.target.object3D?(this.data.target.addEventListener("model-loaded",this.update),this.data.target.object3D.layers.enable(m),this.data.target.object3D.traverse(function(g){g.layers.enable(m)})):this.data.target.addEventListener("loaded",this.update,{once:!0})),this.bboxNeedsUpdate=!0},makeBBox:function(){var g=new p.PlaneGeometry(1,1),w=new p.MeshBasicMaterial({transparent:!0,color:16777215});g.rotateX(-Math.PI/2),g.rotateY(-Math.PI/2),this.bbox=new p.Box3,this.bboxMesh=new p.Mesh(g,w),this.el.setObject3D("ar-hit-test",this.bboxMesh),this.bboxMesh.visible=!1},updateFootprint:function(){var g,w=this.el.sceneEl.renderer,E,C,_=w.xr.enabled;this.bboxMesh.material.map=this.canvasTexture,this.bboxMesh.material.needsUpdate=!0,this.orthoCam.rotation.set(-Math.PI/2,0,-Math.PI/2),this.orthoCam.position.copy(this.bboxMesh.position),this.orthoCam.position.y-=this.bboxMesh.scale.y/2,this.orthoCam.near=.1,this.orthoCam.far=this.orthoCam.near+this.data.footprintDepth*this.bboxMesh.scale.y,this.orthoCam.position.y+=this.orthoCam.far,this.orthoCam.right=this.bboxMesh.scale.z/2,this.orthoCam.left=-this.bboxMesh.scale.z/2,this.orthoCam.top=this.bboxMesh.scale.x/2,this.orthoCam.bottom=-this.bboxMesh.scale.x/2,this.orthoCam.updateProjectionMatrix(),E=w.getRenderTarget(),w.setRenderTarget(this.textureTarget),w.xr.enabled=!1,C=this.el.object3D.background,this.el.object3D.overrideMaterial=this.basicMaterial,this.el.object3D.background=null,w.render(this.el.object3D,this.orthoCam),this.el.object3D.background=C,this.el.object3D.overrideMaterial=null,w.xr.enabled=_,w.setRenderTarget(E),w.readRenderTargetPixels(this.textureTarget,0,0,512,512,this.imageDataArray),this.context.putImageData(this.imageData,0,0),this.context.shadowColor="white",this.context.shadowBlur=10,this.context.drawImage(this.canvas,0,0),g=this.context.getImageData(0,0,512,512);for(var P=0;P<262144;P++)g.data[P*4+3]!==0&&g.data[P*4+3]!==255&&(g.data[P*4+3]=128);this.context.putImageData(g,0,0),this.canvasTexture.needsUpdate=!0},tick:function(){var g,w=this.el.sceneEl.frame,E=this.el.sceneEl.renderer;if(w&&y.updateAnchorPoses(w,E.xr.getReferenceSpace()),this.bboxNeedsUpdate){if(this.bboxNeedsUpdate=!1,!this.data.target||this.data.type==="map"){var C;this.textureCache.has(this.data.src)?C=this.textureCache.get(this.data.src):(C=new p.TextureLoader().load(this.data.src),this.textureCache.set(this.data.src,C)),this.bboxMesh.material.map=C,this.bboxMesh.material.needsUpdate=!0}this.data.target&&this.data.target.object3D?(this.bbox.setFromObject(this.data.target.object3D),this.bbox.getCenter(this.bboxMesh.position),this.bbox.getSize(this.bboxMesh.scale),this.data.type==="footprint"&&(this.bboxMesh.scale.x*=1.04,this.bboxMesh.scale.z*=1.04,this.updateFootprint()),this.bboxMesh.position.y-=this.bboxMesh.scale.y/2,this.bboxOffset.copy(this.bboxMesh.position),this.bboxOffset.sub(this.data.target.object3D.position)):this.bboxMesh.scale.set(this.data.mapSize.x,1,this.data.mapSize.y)}this.hitTest&&(g=this.hitTest.doHit(w),g&&(this.hasPosedOnce!==!0&&(this.hasPosedOnce=!0,this.el.emit("ar-hit-test-achieved")),this.bboxMesh.visible=!0,this.bboxMesh.position.copy(g.transform.position),this.bboxMesh.quaternion.copy(g.transform.orientation)))}})},"./src/components/scene/background.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/core/component.js").components;l.exports.Component=d("background",{schema:{color:{type:"color",default:"black"},transparent:{default:!1}},update:function(){var p=this.data,m=this.el.object3D;p.transparent?m.background=null:m.background=new THREE.Color(p.color)},remove:function(){var p=this.data,m=this.el.object3D;if(p.transparent){m.background=null;return}m.background=h[this.name].schema.color.default}})},"./src/components/scene/debug.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent;l.exports.Component=d("debug",{schema:{default:!0}})},"./src/components/scene/device-orientation-permission-ui.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/utils/index.js"),p=h.bind,m=c("./src/constants/index.js"),v="a-modal",y="a-dialog",A="a-dialog-text",b="a-dialog-text-container",g="a-dialog-buttons-container",w="a-dialog-button",E="a-dialog-allow-button",C="a-dialog-deny-button",_="a-dialog-ok-button";l.exports.Component=d("device-orientation-permission-ui",{schema:{enabled:{default:!0},deviceMotionMessage:{default:"This immersive website requires access to your device motion sensors."},httpsMessage:{default:"Access this site over HTTPS to enter VR mode and grant access to the device sensors."},denyButtonText:{default:"Deny"},allowButtonText:{default:"Allow"},cancelButtonText:{default:"Cancel"}},init:function(){var T=this;if(this.data.enabled){if(location.hostname!=="localhost"&&location.hostname!=="127.0.0.1"&&location.protocol==="http:"&&this.showHTTPAlert(),typeof DeviceOrientationEvent>"u"||!DeviceOrientationEvent.requestPermission){this.permissionGranted=!0;return}this.onDeviceMotionDialogAllowClicked=p(this.onDeviceMotionDialogAllowClicked,this),this.onDeviceMotionDialogDenyClicked=p(this.onDeviceMotionDialogDenyClicked,this),DeviceOrientationEvent.requestPermission().then(function(){T.el.emit("deviceorientationpermissiongranted"),T.permissionGranted=!0}).catch(function(){T.devicePermissionDialogEl=P(T.data.denyButtonText,T.data.allowButtonText,T.data.deviceMotionMessage,T.onDeviceMotionDialogAllowClicked,T.onDeviceMotionDialogDenyClicked),T.el.appendChild(T.devicePermissionDialogEl)})}},remove:function(){this.devicePermissionDialogEl&&this.el.removeChild(this.devicePermissionDialogEl)},onDeviceMotionDialogDenyClicked:function(){this.remove()},showHTTPAlert:function(){var T=this,D=R(T.data.cancelButtonText,T.data.httpsMessage,function(){T.el.removeChild(D)});this.el.appendChild(D)},onDeviceMotionDialogAllowClicked:function(){var T=this;this.el.emit("deviceorientationpermissionrequested"),DeviceOrientationEvent.requestPermission().then(function(D){D==="granted"?(T.el.emit("deviceorientationpermissiongranted"),T.permissionGranted=!0):T.el.emit("deviceorientationpermissionrejected"),T.remove()}).catch(console.error)}});function P(T,D,H,V,B){var O,F,N;return O=document.createElement("div"),O.classList.add(g),F=document.createElement("button"),F.classList.add(w,C),F.setAttribute(m.AFRAME_INJECTED,""),F.innerHTML=T,O.appendChild(F),N=document.createElement("button"),N.classList.add(w,E),N.setAttribute(m.AFRAME_INJECTED,""),N.innerHTML=D,O.appendChild(N),N.addEventListener("click",function(z){z.stopPropagation(),V()}),F.addEventListener("click",function(z){z.stopPropagation(),B()}),L(H,O)}function R(T,D,H){var V,B;return V=document.createElement("div"),V.classList.add(g),B=document.createElement("button"),B.classList.add(w,_),B.setAttribute(m.AFRAME_INJECTED,""),B.innerHTML=T,V.appendChild(B),B.addEventListener("click",function(O){O.stopPropagation(),H()}),L(D,V)}function L(T,D){var H,V,B,O;return H=document.createElement("div"),H.classList.add(v),H.setAttribute(m.AFRAME_INJECTED,""),V=document.createElement("div"),V.className=y,V.setAttribute(m.AFRAME_INJECTED,""),H.appendChild(V),B=document.createElement("div"),B.classList.add(b),V.appendChild(B),O=document.createElement("div"),O.classList.add(A),O.innerHTML=T,B.appendChild(O),V.appendChild(D),H}},"./src/components/scene/embedded.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent;l.exports.Component=d("embedded",{dependencies:["vr-mode-ui"],schema:{default:!0},update:function(){var h=this.el,p=h.querySelector(".a-enter-vr");this.data===!0?(p&&p.classList.add("embedded"),h.removeFullScreenStyles()):(p&&p.classList.remove("embedded"),h.addFullScreenStyles())}})},"./src/components/scene/fog.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/lib/three.js"),p=c("./src/utils/debug.js"),m=p("components:fog:warn");l.exports.Component=d("fog",{schema:{color:{type:"color",default:"#000"},density:{default:25e-5},far:{default:1e3,min:0},near:{default:1,min:0},type:{default:"linear",oneOf:["linear","exponential"]}},update:function(){var y=this.data,A=this.el,b=this.el.object3D.fog;if(!A.isScene){m("Fog component can only be applied to <a-scene>");return}if(!b||y.type!==b.name){A.object3D.fog=v(y),A.systems.material.updateMaterials();return}Object.keys(this.schema).forEach(function(g){var w=y[g];g==="color"&&(w=new h.Color(w)),b[g]=w})},remove:function(){var y=this.el.object3D.fog;y&&(y.far=0,y.near=.1)}});function v(y){var A;return y.type==="exponential"?A=new h.FogExp2(y.color,y.density):A=new h.Fog(y.color,y.near,y.far),A.name=y.type,A}},"./src/components/scene/inspector.js":(l,u,c)=>{var d=c("./src/constants/index.js").AFRAME_INJECTED,h=c("./package.json"),p=c("./src/core/component.js").registerComponent,m=c("./src/utils/index.js");function v(w){var E=w.split(".");return E[2]="x",E.join(".")}var y="https://unpkg.com/aframe-inspector@"+v(h.version)+"/dist/aframe-inspector.min.js",A=y,b="Loading Inspector",g="Error loading Inspector";l.exports.Component=p("inspector",{schema:{url:{default:A}},init:function(){this.firstPlay=!0,this.onKeydown=this.onKeydown.bind(this),this.onMessage=this.onMessage.bind(this),this.initOverlay(),window.addEventListener("keydown",this.onKeydown),window.addEventListener("message",this.onMessage)},play:function(){var w;this.firstPlay&&(w=m.getUrlParameter("inspector"),w!=="false"&&w&&(this.openInspector(),this.firstPlay=!1))},initOverlay:function(){var w='<span class="dots"><span>.</span><span>.</span><span>.</span></span>';this.loadingMessageEl=document.createElement("div"),this.loadingMessageEl.classList.add("a-inspector-loader"),this.loadingMessageEl.innerHTML=b+w},remove:function(){this.removeEventListeners()},onKeydown:function(w){var E=w.keyCode===73&&(w.ctrlKey&&w.altKey||w.getModifierState("AltGraph"));E&&this.openInspector()},showLoader:function(){document.body.appendChild(this.loadingMessageEl)},hideLoader:function(){document.body.removeChild(this.loadingMessageEl)},onMessage:function(w){w.data==="INJECT_AFRAME_INSPECTOR"&&this.openInspector()},openInspector:function(w){var E=this,C;if(AFRAME.INSPECTOR||AFRAME.inspectorInjected){AFRAME.INSPECTOR.open(w);return}this.showLoader(),C=document.createElement("script"),C.src=this.data.url,C.setAttribute("data-name","aframe-inspector"),C.setAttribute(d,""),C.onload=function(){AFRAME.INSPECTOR.open(w),E.hideLoader(),E.removeEventListeners()},C.onerror=function(){E.loadingMessageEl.innerHTML=g},document.head.appendChild(C),AFRAME.inspectorInjected=!0},removeEventListeners:function(){window.removeEventListener("keydown",this.onKeydown),window.removeEventListener("message",this.onMessage)}})},"./src/components/scene/keyboard-shortcuts.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/utils/index.js").shouldCaptureKeyEvent;l.exports.Component=d("keyboard-shortcuts",{schema:{enterVR:{default:!0},exitVR:{default:!0}},init:function(){this.onKeyup=this.onKeyup.bind(this)},update:function(p){var m=this.data;this.enterVREnabled=m.enterVR},play:function(){window.addEventListener("keyup",this.onKeyup,!1)},pause:function(){window.removeEventListener("keyup",this.onKeyup)},onKeyup:function(p){var m=this.el;h(p)&&(this.enterVREnabled&&p.keyCode===70&&m.enterVR(),this.enterVREnabled&&p.keyCode===27&&m.exitVR())}})},"./src/components/scene/pool.js":(l,u,c)=>{var d=c("./src/utils/debug.js"),h=c("./src/core/component.js").registerComponent,p=d("components:pool:warn");l.exports.Component=h("pool",{schema:{container:{default:""},mixin:{default:""},size:{default:0},dynamic:{default:!1}},multiple:!0,initPool:function(){var m;for(this.availableEls=[],this.usedEls=[],this.data.mixin||p("No mixin provided for pool component."),this.data.container&&(this.container=document.querySelector(this.data.container),this.container||p("Container "+this.data.container+" not found.")),this.container=this.container||this.el,m=0;m<this.data.size;++m)this.createEntity()},update:function(m){var v=this.data;(m.mixin!==v.mixin||m.size!==v.size)&&this.initPool()},createEntity:function(){var m;m=document.createElement("a-entity"),m.play=this.wrapPlay(m.play),m.setAttribute("mixin",this.data.mixin),m.object3D.visible=!1,m.pause(),this.container.appendChild(m),this.availableEls.push(m);var v=this.usedEls;m.addEventListener("loaded",function(){v.indexOf(m)===-1&&(m.object3DParent=m.object3D.parent,m.object3D.parent.remove(m.object3D))})},wrapPlay:function(m){var v=this.usedEls;return function(){v.indexOf(this)!==-1&&m.call(this)}},requestEntity:function(){var m;if(this.availableEls.length===0){if(this.data.dynamic===!1){p("Requested entity from empty pool: "+this.attrName);return}else p("Requested entity from empty pool. This pool is dynamic and will resize automatically. You might want to increase its initial size: "+this.attrName);this.createEntity()}return m=this.availableEls.shift(),this.usedEls.push(m),m.object3DParent&&(m.object3DParent.add(m.object3D),this.updateRaycasters()),m.object3D.visible=!0,m},returnEntity:function(m){var v=this.usedEls.indexOf(m);if(v===-1){p("The returned entity was not previously pooled from "+this.attrName);return}return this.usedEls.splice(v,1),this.availableEls.push(m),m.object3DParent=m.object3D.parent,m.object3D.parent.remove(m.object3D),this.updateRaycasters(),m.object3D.visible=!1,m.pause(),m},updateRaycasters(){var m=document.querySelectorAll("[raycaster]");m.forEach(function(v){v.components.raycaster.setDirty()})}})},"./src/components/scene/reflection.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent;function h(p,m,v,y){var A=Math.max(p.primaryLightIntensity.x,Math.max(p.primaryLightIntensity.y,p.primaryLightIntensity.z));m.sh.fromArray(p.sphericalHarmonicsCoefficients),m.intensity=1,v&&(v.color.setRGB(p.primaryLightIntensity.x/A,p.primaryLightIntensity.y/A,p.primaryLightIntensity.z/A),v.intensity=A,y.copy(p.primaryLightDirection))}l.exports.Component=d("reflection",{schema:{directionalLight:{type:"selector"}},init:function(){var p=this;this.cubeRenderTarget=new THREE.WebGLCubeRenderTarget(16),this.cubeCamera=new THREE.CubeCamera(.1,1e3,this.cubeRenderTarget),this.lightingEstimationTexture=new THREE.WebGLCubeRenderTarget(16).texture,this.needsVREnvironmentUpdate=!0;var m=this.el.getAttribute("webxr"),v=m.optionalFeatures;v.includes("light-estimation")||(v.push("light-estimation"),this.el.setAttribute("webxr",m)),this.el.addEventListener("enter-vr",function(){var y=p.el.renderer,A=y.xr.getSession();A.requestLightProbe&&p.el.is("ar-mode")&&p.startLightProbe()}),this.el.addEventListener("exit-vr",function(){p.stopLightProbe()}),this.el.object3D.environment=this.cubeRenderTarget.texture},stopLightProbe:function(){this.xrLightProbe=null,this.probeLight&&(this.probeLight.components.light.light.intensity=0),this.needsVREnvironmentUpdate=!0,this.el.object3D.environment=this.cubeRenderTarget.texture},startLightProbe:function(){this.needsLightProbeUpdate=!0},setupLightProbe:function(){var p=this.el.renderer,m=p.xr.getSession(),v=this,y=p.getContext();if(!this.probeLight){var A=document.createElement("a-light");A.setAttribute("type","probe"),A.setAttribute("intensity",0),this.el.appendChild(A),this.probeLight=A}switch(m.preferredReflectionFormat){case"srgba8":y.getExtension("EXT_sRGB");break;case"rgba16f":y.getExtension("OES_texture_half_float");break}this.glBinding=new XRWebGLBinding(m,y),y.getExtension("EXT_sRGB"),y.getExtension("OES_texture_half_float"),m.requestLightProbe().then(function(b){v.xrLightProbe=b,b.addEventListener("reflectionchange",v.updateXRCubeMap.bind(v))}).catch(function(b){console.warn("Lighting estimation not supported: "+b.message),console.warn('Are you missing: webxr="optionalFeatures: light-estimation;" from <a-scene>?')})},updateXRCubeMap:function(){var p=this.el.renderer,m=this.glBinding.getReflectionCubeMap(this.xrLightProbe);if(m){var v=p.properties.get(this.lightingEstimationTexture);v.__webglTexture=m,this.lightingEstimationTexture.needsPMREMUpdate=!0,this.el.object3D.environment=this.lightingEstimationTexture}},tick:function(){var p=this.el.object3D,m=this.el.renderer,v=this.el.frame;if(v&&this.xrLightProbe){var y=v.getLightEstimate(this.xrLightProbe);y&&h(y,this.probeLight.components.light.light,this.data.directionalLight&&this.data.directionalLight.components.light.light,this.data.directionalLight&&this.data.directionalLight.object3D.position)}this.needsVREnvironmentUpdate&&(p.environment=null,this.needsVREnvironmentUpdate=!1,this.cubeCamera.position.set(0,1.6,0),this.cubeCamera.update(m,p),p.environment=this.cubeRenderTarget.texture),this.needsLightProbeUpdate&&v&&(this.setupLightProbe(),this.needsLightProbeUpdate=!1)},remove:function(){this.el.object3D.environment=null,this.probeLight&&this.el.removeChild(this.probeLight)}})},"./src/components/scene/screenshot.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/lib/three.js"),p=["attribute vec3 position;","attribute vec2 uv;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUv;","void main()  {","  vUv = vec2( 1.- uv.x, uv.y );","  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),m=["precision mediump float;","uniform samplerCube map;","varying vec2 vUv;","#define M_PI 3.141592653589793238462643383279","void main() {","  vec2 uv = vUv;","  float longitude = uv.x * 2. * M_PI - M_PI + M_PI / 2.;","  float latitude = uv.y * M_PI;","  vec3 dir = vec3(","    - sin( longitude ) * sin( latitude ),","    cos( latitude ),","    - cos( longitude ) * sin( latitude )","  );","  normalize( dir );","  gl_FragColor = vec4( textureCube( map, dir ).rgb, 1.0 );","}"].join(`
`);l.exports.Component=d("screenshot",{schema:{width:{default:4096},height:{default:2048},camera:{type:"selector"}},init:function(){var v=this.el,y=this;v.renderer?A():v.addEventListener("render-target-loaded",A);function A(){var b=v.renderer.getContext();b&&(y.cubeMapSize=b.getParameter(b.MAX_CUBE_MAP_TEXTURE_SIZE),y.material=new h.RawShaderMaterial({uniforms:{map:{type:"t",value:null}},vertexShader:p,fragmentShader:m,side:h.DoubleSide}),y.quad=new h.Mesh(new h.PlaneGeometry(1,1),y.material),y.quad.visible=!1,y.camera=new h.OrthographicCamera(-.5,.5,.5,-.5,-1e4,1e4),y.canvas=document.createElement("canvas"),y.ctx=y.canvas.getContext("2d"),v.object3D.add(y.quad),y.onKeyDown=y.onKeyDown.bind(y))}},getRenderTarget:function(v,y){return new h.WebGLRenderTarget(v,y,{encoding:this.el.sceneEl.renderer.outputEncoding,minFilter:h.LinearFilter,magFilter:h.LinearFilter,wrapS:h.ClampToEdgeWrapping,wrapT:h.ClampToEdgeWrapping,format:h.RGBAFormat,type:h.UnsignedByteType})},resize:function(v,y){this.quad.scale.set(v,y,1),this.camera.left=-1*v/2,this.camera.right=v/2,this.camera.top=y/2,this.camera.bottom=-1*y/2,this.camera.updateProjectionMatrix(),this.canvas.width=v,this.canvas.height=y},play:function(){window.addEventListener("keydown",this.onKeyDown)},onKeyDown:function(v){var y=v.keyCode===83&&v.ctrlKey&&v.altKey;if(!(!this.data||!y)){var A=v.shiftKey?"equirectangular":"perspective";this.capture(A)}},setCapture:function(v){var y=this.el,A,b,g,w;return v==="perspective"?(this.quad.visible=!1,b=this.data.camera&&this.data.camera.components.camera.camera||y.camera,A={width:this.data.width,height:this.data.height}):(b=this.camera,w=new h.WebGLCubeRenderTarget(Math.min(this.cubeMapSize,2048),{format:h.RGBFormat,generateMipmaps:!0,minFilter:h.LinearMipmapLinearFilter,encoding:h.sRGBEncoding}),g=new h.CubeCamera(y.camera.near,y.camera.far,w),y.camera.getWorldPosition(g.position),y.camera.getWorldQuaternion(g.quaternion),g.update(y.renderer,y.object3D),this.quad.material.uniforms.map.value=g.renderTarget.texture,A={width:this.data.width,height:this.data.height},this.quad.visible=!0),{camera:b,size:A,projection:v}},capture:function(v){var y=this.el.renderer.xr.enabled,A=this.el.renderer,b;A.xr.enabled=!1,b=this.setCapture(v),this.renderCapture(b.camera,b.size,b.projection),this.saveCapture(),A.xr.enabled=y},getCanvas:function(v){var y=this.el.renderer.xr.enabled,A=this.el.renderer,b=this.setCapture(v);return A.xr.enabled=!1,this.renderCapture(b.camera,b.size,b.projection),A.xr.enabled=y,this.canvas},renderCapture:function(v,y,A){var b=this.el.renderer.autoClear,g=this.el,w,E,C,_=g.renderer;E=this.getRenderTarget(y.width,y.height),C=new Uint8Array(4*y.width*y.height),this.resize(y.width,y.height),_.autoClear=!0,_.clear(),_.setRenderTarget(E),_.render(g.object3D,v),_.autoClear=b,_.readRenderTargetPixels(E,0,0,y.width,y.height,C),_.setRenderTarget(null),A==="perspective"&&(C=this.flipPixelsVertically(C,y.width,y.height)),w=new ImageData(new Uint8ClampedArray(C),y.width,y.height),this.quad.visible=!1,this.ctx.putImageData(w,0,0)},flipPixelsVertically:function(v,y,A){for(var b=v.slice(0),g=0;g<y;++g)for(var w=0;w<A;++w)b[g*4+w*y*4]=v[g*4+(A-w)*y*4],b[g*4+1+w*y*4]=v[g*4+1+(A-w)*y*4],b[g*4+2+w*y*4]=v[g*4+2+(A-w)*y*4],b[g*4+3+w*y*4]=v[g*4+3+(A-w)*y*4];return b},saveCapture:function(){this.canvas.toBlob(function(v){var y="screenshot-"+document.title.toLowerCase()+"-"+Date.now()+".png",A=document.createElement("a"),b=URL.createObjectURL(v);A.href=b,A.setAttribute("download",y),A.innerHTML="downloading...",A.style.display="none",document.body.appendChild(A),setTimeout(function(){A.click(),document.body.removeChild(A)},1)},"image/png")}})},"./src/components/scene/stats.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./vendor/rStats.js"),p=c("./src/utils/index.js");c("./vendor/rStats.extras.js"),c("./src/lib/rStatsAframe.js");var m=window.aframeStats,v=p.bind,y="a-hidden",A=window.threeStats;l.exports.Component=d("stats",{schema:{default:!0},init:function(){var g=this.el;p.getUrlParameter("stats")!=="false"&&(this.stats=b(g),this.statsEl=document.querySelector(".rs-base"),this.hideBound=v(this.hide,this),this.showBound=v(this.show,this),g.addEventListener("enter-vr",this.hideBound),g.addEventListener("exit-vr",this.showBound))},update:function(){if(this.stats)return this.data?this.show():this.hide()},remove:function(){this.el.removeEventListener("enter-vr",this.hideBound),this.el.removeEventListener("exit-vr",this.showBound),this.statsEl&&this.statsEl.parentNode.removeChild(this.statsEl)},tick:function(){var g=this.stats;g&&(g("rAF").tick(),g("FPS").frame(),g().update())},hide:function(){this.statsEl.classList.add(y)},show:function(){this.statsEl.classList.remove(y)}});function b(g){var w=new A(g.renderer),E=new m(g),C=g.isMobile?[]:[w,E];return new h({css:[],values:{fps:{caption:"fps",below:30}},groups:[{caption:"Framerate",values:["fps","raf"]}],plugins:C})}},"./src/components/scene/vr-mode-ui.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/constants/index.js"),p=c("./src/utils/index.js"),m=p.bind,v="a-enter-vr",y="a-enter-ar",A="a-enter-vr-button",b="a-enter-ar-button",g="a-hidden",w="a-orientation-modal";l.exports.Component=d("vr-mode-ui",{dependencies:["canvas"],schema:{enabled:{default:!0},cardboardModeEnabled:{default:!1},enterVRButton:{default:""},enterARButton:{default:""}},init:function(){var R=this,L=this.el;p.getUrlParameter("ui")!=="false"&&(this.insideLoader=!1,this.enterVREl=null,this.enterAREl=null,this.orientationModalEl=null,this.bindMethods(),L.addEventListener("enter-vr",this.updateEnterInterfaces),L.addEventListener("exit-vr",this.updateEnterInterfaces),L.addEventListener("update-vr-devices",this.updateEnterInterfaces),window.addEventListener("message",function(T){T.data.type==="loaderReady"&&(R.insideLoader=!0,R.remove())}),window.addEventListener("orientationchange",this.toggleOrientationModalIfNeeded))},bindMethods:function(){this.onEnterVRButtonClick=m(this.onEnterVRButtonClick,this),this.onEnterARButtonClick=m(this.onEnterARButtonClick,this),this.onModalClick=m(this.onModalClick,this),this.toggleOrientationModalIfNeeded=m(this.toggleOrientationModalIfNeeded,this),this.updateEnterInterfaces=m(this.updateEnterInterfaces,this)},onModalClick:function(){this.el.exitVR()},onEnterVRButtonClick:function(){this.el.enterVR()},onEnterARButtonClick:function(){this.el.enterAR()},update:function(){var R=this.data,L=this.el;if(!R.enabled||this.insideLoader||p.getUrlParameter("ui")==="false")return this.remove();this.enterVREl||this.enterAREl||this.orientationModalEl||(R.enterVRButton?(this.enterVREl=document.querySelector(R.enterVRButton),this.enterVREl.addEventListener("click",this.onEnterVRButtonClick)):(this.enterVREl=E(this.onEnterVRButtonClick),L.appendChild(this.enterVREl)),R.enterARButton?(this.enterAREl=document.querySelector(R.enterARButton),this.enterAREl.addEventListener("click",this.onEnterARButtonClick)):(this.enterAREl=C(this.onEnterARButtonClick),L.appendChild(this.enterAREl)),this.orientationModalEl=_(this.onModalClick),L.appendChild(this.orientationModalEl),this.updateEnterInterfaces())},remove:function(){[this.enterVREl,this.enterAREl,this.orientationModalEl].forEach(function(R){R&&R.parentNode&&R.parentNode.removeChild(R)}),this.enterVREl=void 0,this.enterAREl=void 0,this.orientationModalEl=void 0},updateEnterInterfaces:function(){this.toggleEnterVRButtonIfNeeded(),this.toggleEnterARButtonIfNeeded(),this.toggleOrientationModalIfNeeded()},toggleEnterVRButtonIfNeeded:function(){var R=this.el;this.enterVREl&&(R.is("vr-mode")||(R.isMobile||p.device.isMobileDeviceRequestingDesktopSite())&&!this.data.cardboardModeEnabled&&!p.device.checkVRSupport()?this.enterVREl.classList.add(g):(p.device.checkVRSupport()||this.enterVREl.classList.add("fullscreen"),this.enterVREl.classList.remove(g)))},toggleEnterARButtonIfNeeded:function(){var R=this.el;this.enterAREl&&(R.is("vr-mode")||!p.device.checkARSupport()?this.enterAREl.classList.add(g):this.enterAREl.classList.remove(g))},toggleOrientationModalIfNeeded:function(){var R=this.el,L=this.orientationModalEl;!L||!R.isMobile||(!p.device.isLandscape()&&R.is("vr-mode")?L.classList.remove(g):L.classList.add(g))}});function E(R){var L,T;return T=document.createElement("div"),T.classList.add(v),T.setAttribute(h.AFRAME_INJECTED,""),L=document.createElement("button"),L.className=A,L.setAttribute("title","Enter VR mode with a headset or fullscreen without"),L.setAttribute(h.AFRAME_INJECTED,""),p.device.isMobile()&&P(L),T.appendChild(L),L.addEventListener("click",function(D){R(),D.stopPropagation()}),T}function C(R){var L,T;return T=document.createElement("div"),T.classList.add(y),T.setAttribute(h.AFRAME_INJECTED,""),L=document.createElement("button"),L.className=b,L.setAttribute("title","Enter AR mode with a headset or handheld device."),L.setAttribute(h.AFRAME_INJECTED,""),p.device.isMobile()&&P(L),T.appendChild(L),L.addEventListener("click",function(D){R(),D.stopPropagation()}),T}function _(R){var L=document.createElement("div");L.className=w,L.classList.add(g),L.setAttribute(h.AFRAME_INJECTED,"");var T=document.createElement("button");return T.setAttribute(h.AFRAME_INJECTED,""),T.innerHTML="Exit VR",T.addEventListener("click",R),L.appendChild(T),L}function P(R){R.addEventListener("touchstart",function(){R.classList.remove("resethover")}),R.addEventListener("touchend",function(){R.classList.add("resethover")})}},"./src/components/shadow.js":(l,u,c)=>{var d=c("./src/core/component.js"),h=c("./src/lib/three.js"),p=c("./src/utils/bind.js"),m=d.registerComponent;l.exports.Component=m("shadow",{schema:{cast:{default:!0},receive:{default:!0}},init:function(){this.onMeshChanged=p(this.update,this),this.el.addEventListener("object3dset",this.onMeshChanged),this.system.setShadowMapEnabled(!0)},update:function(){var v=this.data;this.updateDescendants(v.cast,v.receive)},remove:function(){var v=this.el;v.removeEventListener("object3dset",this.onMeshChanged),this.updateDescendants(!1,!1)},updateDescendants:function(v,y){var A=this.el.sceneEl;this.el.object3D.traverse(function(b){if(b instanceof h.Mesh&&(b.castShadow=v,b.receiveShadow=y,A.hasLoaded&&b.material))for(var g=Array.isArray(b.material)?b.material:[b.material],w=0;w<g.length;w++)g[w].needsUpdate=!0})}})},"./src/components/sound.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/utils/debug.js"),p=c("./src/lib/three.js"),m=h("components:sound:warn");l.exports.Component=d("sound",{schema:{autoplay:{default:!1},distanceModel:{default:"inverse",oneOf:["linear","inverse","exponential"]},loop:{default:!1},maxDistance:{default:1e4},on:{default:""},poolSize:{default:1},positional:{default:!0},refDistance:{default:1},rolloffFactor:{default:1},src:{type:"audio"},volume:{default:1}},multiple:!0,init:function(){var v=this;this.listener=null,this.audioLoader=new p.AudioLoader,this.pool=new p.Group,this.loaded=!1,this.mustPlay=!1,this.playSoundBound=function(){v.playSound()}},update:function(v){var y=this.data,A,b,g=y.src!==v.src;if(g){if(!y.src)return;this.setupSound()}for(A=0;A<this.pool.children.length;A++)b=this.pool.children[A],y.positional&&(b.setDistanceModel(y.distanceModel),b.setMaxDistance(y.maxDistance),b.setRefDistance(y.refDistance),b.setRolloffFactor(y.rolloffFactor)),b.setLoop(y.loop),b.setVolume(y.volume),b.isPaused=!1;if(y.on!==v.on&&this.updateEventListener(v.on),g){var w=this;this.loaded=!1,this.audioLoader.load(y.src,function(E){for(A=0;A<w.pool.children.length;A++)b=w.pool.children[A],b.setBuffer(E);w.loaded=!0,p.Cache.remove(y.src),(w.data.autoplay||w.mustPlay)&&w.playSound(),w.el.emit("sound-loaded",w.evtDetail,!1)})}},pause:function(){this.stopSound(),this.removeEventListener()},play:function(){this.data.autoplay&&this.playSound(),this.updateEventListener()},remove:function(){var v,y;this.removeEventListener(),this.el.getObject3D(this.attrName)&&this.el.removeObject3D(this.attrName);try{for(v=0;v<this.pool.children.length;v++)y=this.pool.children[v],y.disconnect()}catch{m("Audio source not properly disconnected")}},updateEventListener:function(v){var y=this.el;v&&y.removeEventListener(v,this.playSoundBound),y.addEventListener(this.data.on,this.playSoundBound)},removeEventListener:function(){this.el.removeEventListener(this.data.on,this.playSoundBound)},setupSound:function(){var v=this.el,y,A=v.sceneEl,b=this,g;this.pool.children.length>0&&(this.stopSound(),v.removeObject3D("sound"));var w=this.listener=A.audioListener||new p.AudioListener;for(A.audioListener=w,A.camera&&A.camera.add(w),A.addEventListener("camera-set-active",function(E){E.detail.cameraEl.getObject3D("camera").add(w)}),this.pool=new p.Group,y=0;y<this.data.poolSize;y++)g=this.data.positional?new p.PositionalAudio(w):new p.Audio(w),this.pool.add(g);for(v.setObject3D(this.attrName,this.pool),y=0;y<this.pool.children.length;y++)g=this.pool.children[y],g.onEnded=function(){this.isPlaying=!1,b.el.emit("sound-ended",b.evtDetail,!1)}},pauseSound:function(){var v,y;for(this.isPlaying=!1,v=0;v<this.pool.children.length;v++)y=this.pool.children[v],!(!y.source||!y.source.buffer||!y.isPlaying||y.isPaused)&&(y.isPaused=!0,y.pause())},playSound:function(v){var y,A,b;if(!this.loaded){m("Sound not loaded yet. It will be played once it finished loading"),this.mustPlay=!0;return}for(y=!1,this.isPlaying=!0,A=0;A<this.pool.children.length;A++)if(b=this.pool.children[A],!b.isPlaying&&b.buffer&&!y){v&&v(b),b.play(),b.isPaused=!1,y=!0;continue}if(!y){m("All the sounds are playing. If you need to play more sounds simultaneously consider increasing the size of pool with the `poolSize` attribute.",this.el);return}this.mustPlay=!1},stopSound:function(){var v,y;for(this.isPlaying=!1,v=0;v<this.pool.children.length;v++){if(y=this.pool.children[v],!y.source||!y.source.buffer)return;y.stop()}}})},"./src/components/text.js":(l,u,c)=>{var d=c("./node_modules/three-bmfont-text/index.js"),h=c("./node_modules/load-bmfont/browser.js"),p=c("./src/core/component.js").registerComponent,m=c("./src/core/shader.js"),v=c("./src/lib/three.js"),y=c("./src/utils/index.js"),A=y.debug("components:text:error"),b=m.shaders,g=y.debug("components:text:warn"),w=1,E=16,C="https://cdn.aframe.io/fonts/",_={aileronsemibold:C+"Aileron-Semibold.fnt",dejavu:C+"DejaVu-sdf.fnt",exo2bold:C+"Exo2Bold.fnt",exo2semibold:C+"Exo2SemiBold.fnt",kelsonsans:C+"KelsonSans.fnt",monoid:C+"Monoid.fnt",mozillavr:C+"mozillavr.fnt",roboto:C+"Roboto-msdf.json",sourcecodepro:C+"SourceCodePro.fnt"},P=["roboto"],R="roboto";l.exports.FONTS=_;var L=new j,T={},D={},H=/^\w+:/;l.exports.Component=p("text",{multiple:!0,schema:{align:{type:"string",default:"left",oneOf:["left","right","center"]},alphaTest:{default:.5},anchor:{default:"center",oneOf:["left","right","center","align"]},baseline:{default:"center",oneOf:["top","center","bottom"]},color:{type:"color",default:"#FFF"},font:{type:"string",default:R},fontImage:{type:"string"},height:{type:"number"},letterSpacing:{type:"number",default:0},lineHeight:{type:"number"},negate:{type:"boolean",default:!0},opacity:{type:"number",default:1},shader:{default:"sdf",oneOf:b},side:{default:"front",oneOf:["front","back","double"]},tabSize:{default:4},transparent:{default:!0},value:{type:"string"},whiteSpace:{default:"normal",oneOf:["normal","pre","nowrap"]},width:{type:"number"},wrapCount:{type:"number",default:40},wrapPixels:{type:"number"},xOffset:{type:"number",default:0},yOffset:{type:"number",default:0},zOffset:{type:"number",default:.001}},init:function(){this.shaderData={},this.geometry=d(),this.createOrUpdateMaterial()},update:function(G){var Q=this.data,X=this.currentFont;if(D[Q.font]?this.texture=D[Q.font]:(this.texture=D[Q.font]=new v.Texture,this.texture.anisotropy=E),this.createOrUpdateMaterial(),G.font!==Q.font){this.updateFont();return}X&&(this.updateGeometry(this.geometry,X),this.updateLayout())},remove:function(){this.geometry.dispose(),this.geometry=null,this.el.removeObject3D(this.attrName),this.material.dispose(),this.material=null,this.texture.dispose(),this.texture=null,this.shaderObject&&delete this.shaderObject},createOrUpdateMaterial:function(){var G=this.data,Q,X=this.material,J,Z=this.shaderData,oe;if(oe=G.shader,P.indexOf(G.font)!==-1||G.font.indexOf("-msdf.")>=0?oe="msdf":G.font in _&&P.indexOf(G.font)===-1&&(oe="sdf"),Q=(this.shaderObject&&this.shaderObject.name)!==oe,Z.alphaTest=G.alphaTest,Z.color=G.color,Z.map=this.texture,Z.opacity=G.opacity,Z.side=V(G.side),Z.transparent=G.transparent,Z.negate=G.negate,!Q){this.shaderObject.update(Z),X.transparent=Z.transparent,X.side=Z.side;return}J=F(this.el,oe,Z),this.material=J.material,this.shaderObject=J.shader,this.material.side=Z.side,this.mesh&&(this.mesh.material=this.material)},updateFont:function(){var G=this.data,Q=this.el,X,J=this.geometry,Z=this;G.font||g("No font specified. Using the default font."),this.mesh&&(this.mesh.visible=!1),X=this.lookupFont(G.font||R)||G.font,L.get(X,function(){return B(X,G.yOffset)}).then(function(ce){var Be;if(ce.pages.length!==1)throw new Error("Currently only single-page bitmap fonts are supported.");T[X]||(ce.widthFactor=T[ce]=z(ce)),Z.currentFont=ce,Be=Z.getFontImageSrc(),L.get(Be,function(){return O(Be)}).then(function(ge){var Re=Z.texture;Re&&(Re.image=ge,Re.needsUpdate=!0,D[G.font]=Re,Z.texture=Re,Z.initMesh(),Z.currentFont=ce,Z.updateGeometry(J,ce),Z.updateLayout(),Z.mesh.visible=!0,Q.emit("textfontset",{font:G.font,fontObj:ce}))}).catch(function(ge){A(ge.message),A(ge.stack)})}).catch(function(oe){A(oe.message),A(oe.stack)})},initMesh:function(){this.mesh||(this.mesh=new v.Mesh(this.geometry,this.material),this.el.setObject3D(this.attrName,this.mesh))},getFontImageSrc:function(){if(this.data.fontImage)return this.data.fontImage;var G=this.lookupFont(this.data.font||R)||this.data.font,Q=this.currentFont.pages[0];return Q.match(H)&&Q.indexOf("http")!==0?G.replace(/(\.fnt)|(\.json)/,".png"):v.LoaderUtils.extractUrlBase(G)+Q},updateLayout:function(){var G,Q,X=this.el,J=this.data,Z=this.geometry,oe,ce,Be,ge=this.mesh,Re,$e,qe,Ke,ke;if(!(!ge||!Z.layout)){if(oe=X.getAttribute("geometry"),qe=J.width||oe&&oe.width||w,Re=N(J.wrapPixels,J.wrapCount,this.currentFont.widthFactor),$e=qe/Re,Be=Z.layout,ce=$e*(Be.height+Be.descender),oe&&oe.primitive==="plane"&&(oe.width||X.setAttribute("geometry","width",qe),oe.height||X.setAttribute("geometry","height",ce)),G=J.anchor==="align"?J.align:J.anchor,G==="left")Ke=0;else if(G==="right")Ke=-1*Be.width;else if(G==="center")Ke=-1*Be.width/2;else throw new TypeError("Invalid text.anchor property value",G);if(Q=J.baseline,Q==="bottom")ke=0;else if(Q==="top")ke=-1*Be.height+Be.ascender;else if(Q==="center")ke=-1*Be.height/2;else throw new TypeError("Invalid text.baseline property value",Q);ge.position.x=Ke*$e+J.xOffset,ge.position.y=ke*$e,ge.position.z=J.zOffset,ge.scale.set($e,-1*$e,$e)}},lookupFont:function(G){return _[G]},updateGeometry:function(){var G={},Q={},X=/\\n/g,J=/\\t/g;return function(Z,oe){var ce=this.data;Q.font=oe,Q.lineHeight=ce.lineHeight&&isFinite(ce.lineHeight)?ce.lineHeight:oe.common.lineHeight,Q.text=ce.value.toString().replace(X,`
`).replace(J,"	"),Q.width=N(ce.wrapPixels,ce.wrapCount,oe.widthFactor),Z.update(y.extend(G,ce,Q))}}()});function V(G){switch(G){case"back":return v.FrontSide;case"double":return v.DoubleSide;default:return v.BackSide}}function B(G,Q){return new Promise(function(X,J){h(G,function(Z,oe){if(Z){A("Error loading font",G),J(Z);return}G.indexOf("/Roboto-msdf.json")>=0&&(Q=30),Q&&oe.chars.map(function(Be){Be.yoffset+=Q}),X(oe)})})}function O(G){return new Promise(function(Q,X){new v.ImageLoader().load(G,function(J){Q(J)},void 0,function(){A("Error loading font image",G),X(null)})})}function F(G,Q,X){var J,Z;return Z=new b[Q].Shader,Z.el=G,Z.init(X),Z.update(X),J=Z.material,J.transparent=X.transparent,{material:J,shader:Z}}function N(G,Q,X){return G||(.5+Q)*X}function z(G){var Q=0,X=0,J=0;return G.chars.map(function(Z){Q+=Z.xadvance,Z.id>=48&&Z.id<=57&&(J++,X+=Z.xadvance)}),J?X/J:Q/G.chars.length}function j(){var G=this.cache={};this.get=function(Q,X){return Q in G||(G[Q]=X()),G[Q]}}},"./src/components/tracked-controls-webvr.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/utils/tracked-controls.js"),p=c("./src/constants/index.js").DEFAULT_CAMERA_HEIGHT,m=c("./src/lib/three.js"),v=c("./src/constants/index.js").DEFAULT_HANDEDNESS,y={x:.175,y:-.3,z:-.03},A={x:0,y:0,z:-.175},b={touches:[]},g={AXISMOVE:"axismove",BUTTONCHANGED:"buttonchanged",BUTTONDOWN:"buttondown",BUTTONUP:"buttonup",TOUCHSTART:"touchstart",TOUCHEND:"touchend"};l.exports.Component=d("tracked-controls-webvr",{schema:{autoHide:{default:!0},controller:{default:0},id:{type:"string",default:""},hand:{type:"string",default:""},idPrefix:{type:"string",default:""},orientationOffset:{type:"vec3"},armModel:{default:!1},headElement:{type:"selector"}},init:function(){this.axis=this.el.components["tracked-controls"].axis=[0,0,0],this.buttonStates=this.el.components["tracked-controls"].buttonStates={},this.changedAxes=[],this.targetControllerNumber=this.data.controller,this.axisMoveEventDetail={axis:this.axis,changed:this.changedAxes},this.deltaControllerPosition=new m.Vector3,this.controllerQuaternion=new m.Quaternion,this.controllerEuler=new m.Euler,this.updateGamepad(),this.buttonEventDetails={}},tick:function(w,E){var C=this.el.getObject3D("mesh");C&&C.update&&C.update(E/1e3),this.updateGamepad(),this.updatePose(),this.updateButtons()},defaultUserHeight:function(){return p},getHeadElement:function(){return this.data.headElement||this.el.sceneEl.camera.el},updateGamepad:function(){var w=this.data,E=h.findMatchingControllerWebVR(this.system.controllers,w.id,w.idPrefix,w.hand,w.controller);this.controller=E,this.el.components["tracked-controls"].controller=E,this.data.autoHide&&(this.el.object3D.visible=!!this.controller)},applyArmModel:function(w){var E=this.controller,C=this.controllerEuler,_=this.controllerQuaternion,P=this.deltaControllerPosition,R,L,T,D,H;L=this.getHeadElement(),T=L.object3D,H=this.defaultUserHeight(),D=E.pose,R=(E?E.hand:void 0)||v,w.copy(T.position),P.set(y.x*(R==="left"?-1:R==="right"?1:0),y.y,y.z),P.multiplyScalar(H),P.applyAxisAngle(T.up,T.rotation.y),w.add(P),P.set(A.x,A.y,A.z),P.multiplyScalar(H),D.orientation?_.fromArray(D.orientation):_.copy(T.quaternion),C.setFromQuaternion(_),C.set(C.x,C.y,0),P.applyEuler(C),w.add(P)},updatePose:function(){var w=this.controller,E=this.data,C=this.el.object3D,_,P=this.system.vrDisplay,R;w&&(_=w.pose,_.position?C.position.fromArray(_.position):E.armModel&&this.applyArmModel(C.position),_.orientation&&C.quaternion.fromArray(_.orientation),P&&_.position&&(R=this.el.sceneEl.renderer.xr.getStandingMatrix(),C.matrix.compose(C.position,C.quaternion,C.scale),C.matrix.multiplyMatrices(R,C.matrix),C.matrix.decompose(C.position,C.quaternion,C.scale)),C.rotateX(this.data.orientationOffset.x*m.MathUtils.DEG2RAD),C.rotateY(this.data.orientationOffset.y*m.MathUtils.DEG2RAD),C.rotateZ(this.data.orientationOffset.z*m.MathUtils.DEG2RAD))},updateButtons:function(){var w,E=this.controller,C;if(E){for(C=0;C<E.buttons.length;++C)this.buttonStates[C]||(this.buttonStates[C]={pressed:!1,touched:!1,value:0}),this.buttonEventDetails[C]||(this.buttonEventDetails[C]={id:C,state:this.buttonStates[C]}),w=E.buttons[C],this.handleButton(C,w);this.handleAxes()}},handleButton:function(w,E){var C;return C=this.handlePress(w,E)|this.handleTouch(w,E)|this.handleValue(w,E),C?(this.el.emit(g.BUTTONCHANGED,this.buttonEventDetails[w],!1),!0):!1},handleAxes:function(){var w=!1,E=this.controller.axes,C,_=this.axis,P=this.changedAxes;for(this.changedAxes.splice(0,this.changedAxes.length),C=0;C<E.length;++C)P.push(_[C]!==E[C]),P[C]&&(w=!0);if(!w)return!1;for(this.axis.splice(0,this.axis.length),C=0;C<E.length;C++)this.axis.push(E[C]);return this.el.emit(g.AXISMOVE,this.axisMoveEventDetail,!1),!0},handlePress:function(w,E){var C,_=this.buttonStates[w];return E.pressed===_.pressed?!1:(C=E.pressed?g.BUTTONDOWN:g.BUTTONUP,this.el.emit(C,this.buttonEventDetails[w],!1),_.pressed=E.pressed,!0)},handleTouch:function(w,E){var C,_=this.buttonStates[w];return E.touched===_.touched?!1:(C=E.touched?g.TOUCHSTART:g.TOUCHEND,this.el.emit(C,this.buttonEventDetails[w],!1,b),_.touched=E.touched,!0)},handleValue:function(w,E){var C=this.buttonStates[w];return E.value===C.value?!1:(C.value=E.value,!0)}})},"./src/components/tracked-controls-webxr.js":(l,u,c)=>{var d=c("./src/utils/tracked-controls.js"),h=c("./src/core/component.js").registerComponent,p={AXISMOVE:"axismove",BUTTONCHANGED:"buttonchanged",BUTTONDOWN:"buttondown",BUTTONUP:"buttonup",TOUCHSTART:"touchstart",TOUCHEND:"touchend"};l.exports.Component=h("tracked-controls-webxr",{schema:{id:{type:"string",default:""},hand:{type:"string",default:""},handTrackingEnabled:{default:!1},index:{type:"int",default:-1},iterateControllerProfiles:{default:!1},space:{type:"string",oneOf:["targetRaySpace","gripSpace"],default:"gripSpace"}},init:function(){this.updateController=this.updateController.bind(this),this.buttonEventDetails={},this.buttonStates=this.el.components["tracked-controls"].buttonStates={},this.axis=this.el.components["tracked-controls"].axis=[0,0,0],this.changedAxes=[],this.axisMoveEventDetail={axis:this.axis,changed:this.changedAxes}},update:function(){this.updateController()},play:function(){var m=this.el.sceneEl;this.updateController(),m.addEventListener("controllersupdated",this.updateController)},pause:function(){var m=this.el.sceneEl;m.removeEventListener("controllersupdated",this.updateController)},isControllerPresent:function(m){return!(!this.controller||this.controller.gamepad||m.inputSource.handedness!=="none"&&m.inputSource.handedness!==this.data.hand)},updateController:function(){this.controller=d.findMatchingControllerWebXR(this.system.controllers,this.data.id,this.data.hand,this.data.index,this.data.iterateControllerProfiles,this.data.handTrackingEnabled),this.el.components["tracked-controls"].controller=this.controller,this.data.autoHide&&(this.el.object3D.visible=!!this.controller)},tick:function(){var m=this.el.sceneEl,v=this.controller,y=m.frame;!v||!m.frame||!this.system.referenceSpace||v.hand||(this.pose=y.getPose(v[this.data.space],this.system.referenceSpace),this.updatePose(),this.updateButtons())},updatePose:function(){var m=this.el.object3D,v=this.pose;v&&(m.matrix.elements=v.transform.matrix,m.matrix.decompose(m.position,m.rotation,m.scale))},updateButtons:function(){var m,v,y=this.controller,A;if(!(!y||!y.gamepad)){for(A=y.gamepad,v=0;v<A.buttons.length;++v)this.buttonStates[v]||(this.buttonStates[v]={pressed:!1,touched:!1,value:0}),this.buttonEventDetails[v]||(this.buttonEventDetails[v]={id:v,state:this.buttonStates[v]}),m=A.buttons[v],this.handleButton(v,m);this.handleAxes()}},handleButton:function(m,v){var y;return y=this.handlePress(m,v)|this.handleTouch(m,v)|this.handleValue(m,v),y?(this.el.emit(p.BUTTONCHANGED,this.buttonEventDetails[m],!1),!0):!1},handleAxes:function(){var m=!1,v=this.controller.gamepad.axes,y,A=this.axis,b=this.changedAxes;for(this.changedAxes.splice(0,this.changedAxes.length),y=0;y<v.length;++y)b.push(A[y]!==v[y]),b[y]&&(m=!0);if(!m)return!1;for(this.axis.splice(0,this.axis.length),y=0;y<v.length;y++)this.axis.push(v[y]);return this.el.emit(p.AXISMOVE,this.axisMoveEventDetail,!1),!0},handlePress:function(m,v){var y,A=this.buttonStates[m];return v.pressed===A.pressed?!1:(y=v.pressed?p.BUTTONDOWN:p.BUTTONUP,this.el.emit(y,this.buttonEventDetails[m],!1),A.pressed=v.pressed,!0)},handleTouch:function(m,v){var y,A=this.buttonStates[m];return v.touched===A.touched?!1:(y=v.touched?p.TOUCHSTART:p.TOUCHEND,this.el.emit(y,this.buttonEventDetails[m],!1),A.touched=v.touched,!0)},handleValue:function(m,v){var y=this.buttonStates[m];return v.value===y.value?!1:(y.value=v.value,!0)}})},"./src/components/tracked-controls.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent;l.exports.Component=d("tracked-controls",{schema:{autoHide:{default:!0},controller:{default:-1},id:{type:"string",default:""},hand:{type:"string",default:""},idPrefix:{type:"string",default:""},handTrackingEnabled:{default:!1},orientationOffset:{type:"vec3"},armModel:{default:!1},headElement:{type:"selector"},iterateControllerProfiles:{default:!1},space:{type:"string",oneOf:["targetRaySpace","gripSpace"],default:"targetRaySpace"}},update:function(){var h=this.data,p=this.el;p.sceneEl.hasWebXR?p.setAttribute("tracked-controls-webxr",{id:h.id,hand:h.hand,index:h.controller,iterateControllerProfiles:h.iterateControllerProfiles,handTrackingEnabled:h.handTrackingEnabled,space:h.space}):p.setAttribute("tracked-controls-webvr",h)}})},"./src/components/valve-index-controls.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/utils/bind.js"),p=c("./src/lib/three.js"),m=c("./src/utils/tracked-controls.js"),v=m.checkControllerPresentAndSetup,y=m.emitIfAxesChanged,A=m.onButtonEvent,b="https://cdn.aframe.io/controllers/valve/index/valve-index-",g={left:b+"left.glb",right:b+"right.glb"},w="valve",E=c("./src/utils/index.js").device.isWebXRAvailable,C={left:{x:-.00023692678902063457,y:.04724540367838371,z:-.061959880395271096},right:{x:.002471558599671131,y:.055765208987076195,z:-.061068168708348844}},_={left:{x:0,y:-.05,z:.06},right:{x:0,y:-.05,z:.06}},P={left:{_x:.692295102620542,_y:-.0627618864318427,_z:-.06265893149611756,_order:"XYZ"},right:{_x:.6484021229942998,_y:-.032563619881892894,_z:-.1327973171917482,_order:"XYZ"}},R={left:{_x:Math.PI/3,_y:0,_z:0,_order:"XYZ"},right:{_x:Math.PI/3,_y:0,_z:0,_order:"XYZ"}},L=E?R:P,T=E?_:C;l.exports.Component=d("valve-index-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#FAFAFA"},buttonHighlightColor:{type:"color",default:"#22D1EE"},model:{default:!0},orientationOffset:{type:"vec3"}},mapping:{axes:{trackpad:[0,1],thumbstick:[2,3]},buttons:["trigger","grip","trackpad","thumbstick","abutton"]},init:function(){var D=this;this.controllerPresent=!1,this.lastControllerCheck=0,this.onButtonChanged=h(this.onButtonChanged,this),this.onButtonDown=function(H){A(H.detail.id,"down",D)},this.onButtonUp=function(H){A(H.detail.id,"up",D)},this.onButtonTouchEnd=function(H){A(H.detail.id,"touchend",D)},this.onButtonTouchStart=function(H){A(H.detail.id,"touchstart",D)},this.previousButtonValues={},this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods()},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=h(this.onModelLoaded,this),this.onControllersUpdate=h(this.onControllersUpdate,this),this.checkIfControllerPresent=h(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=h(this.removeControllersUpdateListener,this),this.onAxisMoved=h(this.onAxisMoved,this)},addEventListeners:function(){var D=this.el;D.addEventListener("buttonchanged",this.onButtonChanged),D.addEventListener("buttondown",this.onButtonDown),D.addEventListener("buttonup",this.onButtonUp),D.addEventListener("touchend",this.onButtonTouchEnd),D.addEventListener("touchstart",this.onButtonTouchStart),D.addEventListener("model-loaded",this.onModelLoaded),D.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var D=this.el;D.removeEventListener("buttonchanged",this.onButtonChanged),D.removeEventListener("buttondown",this.onButtonDown),D.removeEventListener("buttonup",this.onButtonUp),D.removeEventListener("touchend",this.onButtonTouchEnd),D.removeEventListener("touchstart",this.onButtonTouchStart),D.removeEventListener("model-loaded",this.onModelLoaded),D.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var D=this.data,H=D.hand==="right"?0:D.hand==="left"?1:2;v(this,w,{index:H,iterateControllerProfiles:!0,hand:D.hand})},injectTrackedControls:function(){var D=this.el,H=this.data;D.setAttribute("tracked-controls",{idPrefix:w,controller:H.hand==="right"?1:H.hand==="left"?0:2,hand:H.hand,orientationOffset:H.orientationOffset}),this.loadModel()},loadModel:function(){var D=this.data;D.model&&this.el.setAttribute("gltf-model",""+g[D.hand])},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(D){var H=this.mapping.buttons[D.detail.id],V=this.buttonMeshes,B;H&&(H==="trigger"&&(B=D.detail.state.value,V&&V.trigger&&(V.trigger.rotation.x=this.triggerOriginalRotationX-B*(Math.PI/40))),this.el.emit(H+"changed",D.detail.state))},onModelLoaded:function(D){var H,V=D.detail.model,B=this;this.data.model&&(H=this.buttonMeshes={},H.grip={left:V.getObjectByName("leftgrip"),right:V.getObjectByName("rightgrip")},H.menu=V.getObjectByName("menubutton"),H.system=V.getObjectByName("systembutton"),H.trackpad=V.getObjectByName("touchpad"),H.trigger=V.getObjectByName("trigger"),this.triggerOriginalRotationX=H.trigger.rotation.x,Object.keys(H).forEach(function(O){B.setButtonColor(O,B.data.buttonColor)}),V.position.copy(T[this.data.hand]),V.rotation.copy(L[this.data.hand]),this.el.emit("controllermodelready",{name:"valve-index-controlls",model:this.data.model,rayOrigin:new p.Vector3(0,0,0)}))},onAxisMoved:function(D){y(this,this.mapping.axes,D)},updateModel:function(D,H){var V,B;this.data.model&&(B=H.indexOf("touch")!==-1,!B&&(V=H==="up"?this.data.buttonColor:this.data.buttonHighlightColor,this.setButtonColor(D,V)))},setButtonColor:function(D,H){}})},"./src/components/visible.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent;l.exports.Component=d("visible",{schema:{default:!0},update:function(){this.el.object3D.visible=this.data}})},"./src/components/vive-controls.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/utils/bind.js"),p=c("./src/utils/tracked-controls.js"),m=p.checkControllerPresentAndSetup,v=p.emitIfAxesChanged,y=p.onButtonEvent,A="https://cdn.aframe.io/controllers/vive/vr_controller_vive.obj",b="https://cdn.aframe.io/controllers/vive/vr_controller_vive.mtl",g=c("./src/utils/index.js").device.isWebXRAvailable,w="htc-vive",E="OpenVR ",C=g?w:E,_={axes:{trackpad:[0,1]},buttons:["trackpad","trigger","grip","menu","system"]},P={axes:{thumbstick:[0,1]},buttons:["trigger","grip","trackpad","none","menu"]},R=g?P:_;l.exports.Component=d("vive-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#FAFAFA"},buttonHighlightColor:{type:"color",default:"#22D1EE"},model:{default:!0},orientationOffset:{type:"vec3"}},mapping:R,init:function(){var L=this;this.controllerPresent=!1,this.lastControllerCheck=0,this.onButtonChanged=h(this.onButtonChanged,this),this.onButtonDown=function(T){y(T.detail.id,"down",L)},this.onButtonUp=function(T){y(T.detail.id,"up",L)},this.onButtonTouchEnd=function(T){y(T.detail.id,"touchend",L)},this.onButtonTouchStart=function(T){y(T.detail.id,"touchstart",L)},this.previousButtonValues={},this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods()},update:function(){var L=this.data;this.controllerIndex=L.hand==="right"?0:L.hand==="left"?1:2},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=h(this.onModelLoaded,this),this.onControllersUpdate=h(this.onControllersUpdate,this),this.checkIfControllerPresent=h(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=h(this.removeControllersUpdateListener,this),this.onAxisMoved=h(this.onAxisMoved,this)},addEventListeners:function(){var L=this.el;L.addEventListener("buttonchanged",this.onButtonChanged),L.addEventListener("buttondown",this.onButtonDown),L.addEventListener("buttonup",this.onButtonUp),L.addEventListener("touchend",this.onButtonTouchEnd),L.addEventListener("touchstart",this.onButtonTouchStart),L.addEventListener("model-loaded",this.onModelLoaded),L.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var L=this.el;L.removeEventListener("buttonchanged",this.onButtonChanged),L.removeEventListener("buttondown",this.onButtonDown),L.removeEventListener("buttonup",this.onButtonUp),L.removeEventListener("touchend",this.onButtonTouchEnd),L.removeEventListener("touchstart",this.onButtonTouchStart),L.removeEventListener("model-loaded",this.onModelLoaded),L.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var L=this.data;m(this,C,{index:this.controllerIndex,hand:L.hand})},injectTrackedControls:function(){var L=this.el,T=this.data;L.setAttribute("tracked-controls",{idPrefix:C,hand:T.hand,controller:this.controllerIndex,orientationOffset:T.orientationOffset}),this.data.model&&this.el.setAttribute("obj-model",{obj:A,mtl:b})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(L){var T=this.mapping.buttons[L.detail.id],D=this.buttonMeshes,H;T&&(T==="trigger"&&(H=L.detail.state.value,D&&D.trigger&&(D.trigger.rotation.x=-H*(Math.PI/12))),this.el.emit(T+"changed",L.detail.state))},onModelLoaded:function(L){var T,D=L.detail.model,H=this;this.data.model&&(T=this.buttonMeshes={},T.grip={left:D.getObjectByName("leftgrip"),right:D.getObjectByName("rightgrip")},T.menu=D.getObjectByName("menubutton"),T.system=D.getObjectByName("systembutton"),T.trackpad=D.getObjectByName("touchpad"),T.trigger=D.getObjectByName("trigger"),Object.keys(T).forEach(function(V){H.setButtonColor(V,H.data.buttonColor)}),D.position.set(0,-.015,.04))},onAxisMoved:function(L){v(this,this.mapping.axes,L)},updateModel:function(L,T){var D,H;this.data.model&&(H=T.indexOf("touch")!==-1,!H&&(D=T==="up"?this.data.buttonColor:this.data.buttonHighlightColor,this.setButtonColor(L,D)))},setButtonColor:function(L,T){var D=this.buttonMeshes,H=this.rendererSystem;if(D){if(L==="grip"){D.grip.left.material.color.set(T),D.grip.right.material.color.set(T),H.applyColorCorrection(D.grip.left.material.color),H.applyColorCorrection(D.grip.right.material.color);return}D[L].material.color.set(T),H.applyColorCorrection(D[L].material.color)}}})},"./src/components/vive-focus-controls.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/utils/bind.js"),p=c("./src/utils/tracked-controls.js"),m=p.checkControllerPresentAndSetup,v=p.emitIfAxesChanged,y=p.onButtonEvent,A="HTC Vive Focus",b="https://cdn.aframe.io/controllers/vive/focus-controller/focus-controller.gltf";l.exports.Component=d("vive-focus-controls",{schema:{hand:{default:""},buttonTouchedColor:{type:"color",default:"#BBBBBB"},buttonHighlightColor:{type:"color",default:"#7A7A7A"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:{axes:{trackpad:[0,1]},buttons:["trackpad","trigger"]},bindMethods:function(){this.onModelLoaded=h(this.onModelLoaded,this),this.onControllersUpdate=h(this.onControllersUpdate,this),this.checkIfControllerPresent=h(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=h(this.removeControllersUpdateListener,this),this.onAxisMoved=h(this.onAxisMoved,this)},init:function(){var g=this;this.onButtonChanged=h(this.onButtonChanged,this),this.onButtonDown=function(w){y(w.detail.id,"down",g)},this.onButtonUp=function(w){y(w.detail.id,"up",g)},this.onButtonTouchStart=function(w){y(w.detail.id,"touchstart",g)},this.onButtonTouchEnd=function(w){y(w.detail.id,"touchend",g)},this.controllerPresent=!1,this.lastControllerCheck=0,this.bindMethods()},addEventListeners:function(){var g=this.el;g.addEventListener("buttonchanged",this.onButtonChanged),g.addEventListener("buttondown",this.onButtonDown),g.addEventListener("buttonup",this.onButtonUp),g.addEventListener("touchstart",this.onButtonTouchStart),g.addEventListener("touchend",this.onButtonTouchEnd),g.addEventListener("model-loaded",this.onModelLoaded),g.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0,this.addControllersUpdateListener()},removeEventListeners:function(){var g=this.el;g.removeEventListener("buttonchanged",this.onButtonChanged),g.removeEventListener("buttondown",this.onButtonDown),g.removeEventListener("buttonup",this.onButtonUp),g.removeEventListener("touchstart",this.onButtonTouchStart),g.removeEventListener("touchend",this.onButtonTouchEnd),g.removeEventListener("model-loaded",this.onModelLoaded),g.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1,this.removeControllersUpdateListener()},checkIfControllerPresent:function(){m(this,A,this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var g=this.el,w=this.data;g.setAttribute("tracked-controls",{armModel:w.armModel,idPrefix:A,orientationOffset:w.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model",b)},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(g){var w=g.detail.model,E;this.data.model&&(E=this.buttonMeshes={},E.trigger=w.getObjectByName("BumperKey"),E.triggerPressed=w.getObjectByName("BumperKey_Press"),E.triggerPressed&&(E.triggerPressed.visible=!1),E.trackpad=w.getObjectByName("TouchPad"),E.trackpadPressed=w.getObjectByName("TouchPad_Press"),E.trackpadPressed&&(E.trackpadPressed.visible=!1))},onButtonChanged:function(g){var w=this.mapping.buttons[g.detail.id];w&&this.el.emit(w+"changed",g.detail.state)},onAxisMoved:function(g){v(this,this.mapping.axes,g)},updateModel:function(g,w){this.data.model&&this.updateButtonModel(g,w)},updateButtonModel:function(g,w){var E=this.buttonMeshes,C=g+"Pressed";if(!(!E||!E[g]||!E[C])){var _;switch(w){case"down":_=this.data.buttonHighlightColor;break;case"touchstart":_=this.data.buttonTouchedColor;break}_&&E[C].material.color.set(_),E[C].visible=!!_,E[g].visible=!_}}})},"./src/components/wasd-controls.js":(l,u,c)=>{var d=c("./src/constants/index.js").keyboardevent.KEYCODE_TO_CODE,h=c("./src/core/component.js").registerComponent,p=c("./src/lib/three.js"),m=c("./src/utils/index.js"),v=m.bind,y=m.shouldCaptureKeyEvent,A=1e-5,b=.2,g=["KeyW","KeyA","KeyS","KeyD","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"];l.exports.Component=h("wasd-controls",{schema:{acceleration:{default:65},adAxis:{default:"x",oneOf:["x","y","z"]},adEnabled:{default:!0},adInverted:{default:!1},enabled:{default:!0},fly:{default:!1},wsAxis:{default:"z",oneOf:["x","y","z"]},wsEnabled:{default:!0},wsInverted:{default:!1}},init:function(){this.keys={},this.easing=1.1,this.velocity=new p.Vector3,this.onBlur=v(this.onBlur,this),this.onContextMenu=v(this.onContextMenu,this),this.onFocus=v(this.onFocus,this),this.onKeyDown=v(this.onKeyDown,this),this.onKeyUp=v(this.onKeyUp,this),this.onVisibilityChange=v(this.onVisibilityChange,this),this.attachVisibilityEventListeners()},tick:function(E,C){var _=this.data,P=this.el,R=this.velocity;!R[_.adAxis]&&!R[_.wsAxis]&&w(this.keys)||(C=C/1e3,this.updateVelocity(C),!(!R[_.adAxis]&&!R[_.wsAxis])&&P.object3D.position.add(this.getMovementVector(C)))},update:function(E){E.adAxis!==this.data.adAxis&&(this.velocity[E.adAxis]=0),E.wsAxis!==this.data.wsAxis&&(this.velocity[E.wsAxis]=0)},remove:function(){this.removeKeyEventListeners(),this.removeVisibilityEventListeners()},play:function(){this.attachKeyEventListeners()},pause:function(){this.keys={},this.removeKeyEventListeners()},updateVelocity:function(E){var C,_,P,R=this.data,L=this.keys,T=this.velocity,D,H;if(_=R.adAxis,D=R.wsAxis,E>b){T[_]=0,T[D]=0;return}var V=Math.pow(1/this.easing,E*60);T[_]!==0&&(T[_]=T[_]*V),T[D]!==0&&(T[D]=T[D]*V),Math.abs(T[_])<A&&(T[_]=0),Math.abs(T[D])<A&&(T[D]=0),R.enabled&&(C=R.acceleration,R.adEnabled&&(P=R.adInverted?-1:1,(L.KeyA||L.ArrowLeft)&&(T[_]-=P*C*E),(L.KeyD||L.ArrowRight)&&(T[_]+=P*C*E)),R.wsEnabled&&(H=R.wsInverted?-1:1,(L.KeyW||L.ArrowUp)&&(T[D]-=H*C*E),(L.KeyS||L.ArrowDown)&&(T[D]+=H*C*E)))},getMovementVector:function(){var E=new p.Vector3(0,0,0),C=new p.Euler(0,0,0,"YXZ");return function(_){var P=this.el.getAttribute("rotation"),R=this.velocity,L;return E.copy(R),E.multiplyScalar(_),P&&(L=this.data.fly?P.x:0,C.set(p.MathUtils.degToRad(L),p.MathUtils.degToRad(P.y),0),E.applyEuler(C)),E}}(),attachVisibilityEventListeners:function(){window.oncontextmenu=this.onContextMenu,window.addEventListener("blur",this.onBlur),window.addEventListener("focus",this.onFocus),document.addEventListener("visibilitychange",this.onVisibilityChange)},removeVisibilityEventListeners:function(){window.removeEventListener("blur",this.onBlur),window.removeEventListener("focus",this.onFocus),document.removeEventListener("visibilitychange",this.onVisibilityChange)},attachKeyEventListeners:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)},removeKeyEventListeners:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)},onContextMenu:function(){for(var E=Object.keys(this.keys),C=0;C<E.length;C++)delete this.keys[E[C]]},onBlur:function(){this.pause()},onFocus:function(){this.play()},onVisibilityChange:function(){document.hidden?this.onBlur():this.onFocus()},onKeyDown:function(E){var C;y(E)&&(C=E.code||d[E.keyCode],g.indexOf(C)!==-1&&(this.keys[C]=!0))},onKeyUp:function(E){var C;C=E.code||d[E.keyCode],delete this.keys[C]}});function w(E){var C;for(C in E)return!1;return!0}},"./src/components/windows-motion-controls.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/utils/bind.js"),p=c("./src/utils/tracked-controls.js"),m=p.checkControllerPresentAndSetup,v=p.emitIfAxesChanged,y=p.onButtonEvent,A=c("./src/utils/index.js"),b=A.debug("components:windows-motion-controls:debug"),g=A.debug("components:windows-motion-controls:warn"),w=c("./src/constants/index.js").DEFAULT_HANDEDNESS,E="https://cdn.aframe.io/controllers/microsoft/",C={left:"left.glb",right:"right.glb",default:"universal.glb"},_=c("./src/utils/index.js").device.isWebXRAvailable,P="windows-mixed-reality",R="Spatial Controller (Spatial Interaction Source) ",L=/([0-9a-zA-Z]+-[0-9a-zA-Z]+)$/,T=_?P:R,D={axes:{thumbstick:[0,1],trackpad:[2,3]},buttons:["thumbstick","trigger","grip","menu","trackpad"],axisMeshNames:["THUMBSTICK_X","THUMBSTICK_Y","TOUCHPAD_TOUCH_X","TOUCHPAD_TOUCH_Y"],buttonMeshNames:{trigger:"SELECT",menu:"MENU",grip:"GRASP",thumbstick:"THUMBSTICK_PRESS",trackpad:"TOUCHPAD_PRESS"},pointingPoseMeshName:"POINTING_POSE"},H={axes:{touchpad:[0,1],thumbstick:[2,3]},buttons:["trigger","squeeze","touchpad","thumbstick","menu"],axisMeshNames:["TOUCHPAD_TOUCH_X","TOUCHPAD_TOUCH_X","THUMBSTICK_X","THUMBSTICK_Y"],buttonMeshNames:{trigger:"SELECT",menu:"MENU",squeeze:"GRASP",thumbstick:"THUMBSTICK_PRESS",touchpad:"TOUCHPAD_PRESS"},pointingPoseMeshName:"POINTING_POSE"},V=_?H:D;l.exports.Component=d("windows-motion-controls",{schema:{hand:{default:w},pair:{default:0},model:{default:!0},hideDisconnected:{default:!0}},mapping:V,bindMethods:function(){this.onModelError=h(this.onModelError,this),this.onModelLoaded=h(this.onModelLoaded,this),this.onControllersUpdate=h(this.onControllersUpdate,this),this.checkIfControllerPresent=h(this.checkIfControllerPresent,this),this.onAxisMoved=h(this.onAxisMoved,this)},init:function(){var B=this,O=this.el;this.onButtonChanged=h(this.onButtonChanged,this),this.onButtonDown=function(F){y(F.detail.id,"down",B)},this.onButtonUp=function(F){y(F.detail.id,"up",B)},this.onButtonTouchStart=function(F){y(F.detail.id,"touchstart",B)},this.onButtonTouchEnd=function(F){y(F.detail.id,"touchend",B)},this.onControllerConnected=function(){B.setModelVisibility(!0)},this.onControllerDisconnected=function(){B.setModelVisibility(!1)},this.controllerPresent=!1,this.lastControllerCheck=0,this.previousButtonValues={},this.bindMethods(),this.loadedMeshInfo={buttonMeshes:null,axisMeshes:null},this.rayOrigin={origin:new THREE.Vector3,direction:new THREE.Vector3(0,0,-1),createdFromMesh:!1},O.addEventListener("controllerconnected",this.onControllerConnected),O.addEventListener("controllerdisconnected",this.onControllerDisconnected)},addEventListeners:function(){var B=this.el;B.addEventListener("buttonchanged",this.onButtonChanged),B.addEventListener("buttondown",this.onButtonDown),B.addEventListener("buttonup",this.onButtonUp),B.addEventListener("touchstart",this.onButtonTouchStart),B.addEventListener("touchend",this.onButtonTouchEnd),B.addEventListener("axismove",this.onAxisMoved),B.addEventListener("model-error",this.onModelError),B.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var B=this.el;B.removeEventListener("buttonchanged",this.onButtonChanged),B.removeEventListener("buttondown",this.onButtonDown),B.removeEventListener("buttonup",this.onButtonUp),B.removeEventListener("touchstart",this.onButtonTouchStart),B.removeEventListener("touchend",this.onButtonTouchEnd),B.removeEventListener("axismove",this.onAxisMoved),B.removeEventListener("model-error",this.onModelError),B.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){m(this,T,{hand:this.data.hand,index:this.data.pair,iterateControllerProfiles:!0})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},updateControllerModel:function(){if(!this.data.model||this.rayOrigin.createdFromMesh){this.modelReady();return}var B=this.createControllerModelUrl();this.loadModel(B)},createControllerModelUrl:function(B){var O=this.el.components["tracked-controls"],F=O?O.controller:null,N="default",z=this.data.hand,j;if(F&&!window.hasNativeWebXRImplementation&&(z=F.hand,!B)){var G=F.id.match(L);N=G&&G[0]||N}return j=C[z]||C.default,E+N+"/"+j},injectTrackedControls:function(){var B=this.data;this.el.setAttribute("tracked-controls",{idPrefix:T,controller:B.pair,hand:B.hand,armModel:!1}),this.updateControllerModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelError:function(B){var O=this.createControllerModelUrl(!0);B.detail.src!==O?(g("Failed to load controller model for device, attempting to load default."),this.loadModel(O)):g("Failed to load default controller model.")},loadModel:function(B){this.el.setAttribute("gltf-model","url("+B+")")},onModelLoaded:function(B){var O=this.controllerModel=B.detail.model,F=this.loadedMeshInfo,N,z,j,G;if(b("Processing model"),F.buttonMeshes={},F.axisMeshes={},O){for(N=0;N<this.mapping.buttons.length;N++){if(z=this.mapping.buttonMeshNames[this.mapping.buttons[N]],!z){b("Skipping unknown button at index: "+N+" with mapped name: "+this.mapping.buttons[N]);continue}if(j=O.getObjectByName(z),!j){g("Missing button mesh with name: "+z);continue}G={index:N,value:Q(j,"VALUE"),pressed:Q(j,"PRESSED"),unpressed:Q(j,"UNPRESSED")},G.value&&G.pressed&&G.unpressed?F.buttonMeshes[this.mapping.buttons[N]]=G:g("Missing button submesh under mesh with name: "+z+"(VALUE: "+!!G.value+", PRESSED: "+!!G.pressed+", UNPRESSED:"+!!G.unpressed+")")}for(N=0;N<this.mapping.axisMeshNames.length;N++){if(z=this.mapping.axisMeshNames[N],!z){b("Skipping unknown axis at index: "+N);continue}if(j=O.getObjectByName(z),!j){g("Missing axis mesh with name: "+z);continue}G={index:N,value:Q(j,"VALUE"),min:Q(j,"MIN"),max:Q(j,"MAX")},G.value&&G.min&&G.max?F.axisMeshes[N]=G:g("Missing axis submesh under mesh with name: "+z+"(VALUE: "+!!G.value+", MIN: "+!!G.min+", MAX:"+!!G.max+")")}this.calculateRayOriginFromMesh(O),this.setModelVisibility()}b("Model load complete.");function Q(X,J){for(var Z=0,oe=X.children.length;Z<oe;Z++){var ce=X.children[Z];if(ce&&ce.name===J)return ce}}},calculateRayOriginFromMesh:function(){var B=new THREE.Quaternion;return function(O){var F;if(this.rayOrigin.origin.set(0,0,0),this.rayOrigin.direction.set(0,0,-1),this.rayOrigin.createdFromMesh=!0,F=O.getObjectByName(this.mapping.pointingPoseMeshName),F){var N=O.parent;N&&(O.parent=null,O.updateMatrixWorld(!0),O.parent=N),F.getWorldPosition(this.rayOrigin.origin),F.getWorldQuaternion(B),this.rayOrigin.direction.applyQuaternion(B),N&&O.updateMatrixWorld(!0)}else b("Mesh does not contain pointing origin data, defaulting to none.");this.modelReady()}}(),lerpAxisTransform:function(){var B=new THREE.Quaternion;return function(O,F){var N=this.loadedMeshInfo.axisMeshes[O];if(N){var z=N.min,j=N.max,G=N.value,Q=F*.5+.5;G.setRotationFromQuaternion(B.copy(z.quaternion).slerp(j.quaternion,Q)),G.position.lerpVectors(z.position,j.position,Q)}}}(),lerpButtonTransform:function(){var B=new THREE.Quaternion;return function(O,F){var N=this.loadedMeshInfo.buttonMeshes[O];if(N){var z=N.unpressed,j=N.pressed,G=N.value;G.setRotationFromQuaternion(B.copy(z.quaternion).slerp(j.quaternion,F)),G.position.lerpVectors(z.position,j.position,F)}}}(),modelReady:function(){this.el.emit("controllermodelready",{name:"windows-motion-controls",model:this.data.model,rayOrigin:this.rayOrigin})},onButtonChanged:function(B){var O=this.mapping.buttons[B.detail.id];O&&(this.loadedMeshInfo&&this.loadedMeshInfo.buttonMeshes&&this.lerpButtonTransform(O,B.detail.state.value),this.el.emit(O+"changed",B.detail.state))},onAxisMoved:function(B){var O=this.mapping.axisMeshNames.length;if(this.loadedMeshInfo&&this.loadedMeshInfo.axisMeshes)for(var F=0;F<O;F++)this.lerpAxisTransform(F,B.detail.axis[F]||0);v(this,this.mapping.axes,B)},setModelVisibility:function(B){var O=this.el.getObject3D("mesh");B=B!==void 0?B:this.modelVisible,this.modelVisible=B,O&&(O.visible=B)}})},"./src/constants/index.js":(l,u,c)=>{l.exports={AFRAME_INJECTED:"aframe-injected",DEFAULT_CAMERA_HEIGHT:1.6,DEFAULT_HANDEDNESS:"right",keyboardevent:c("./src/constants/keyboardevent.js")}},"./src/constants/keyboardevent.js":l=>{l.exports={KEYCODE_TO_CODE:{38:"ArrowUp",37:"ArrowLeft",40:"ArrowDown",39:"ArrowRight",87:"KeyW",65:"KeyA",83:"KeyS",68:"KeyD"}}},"./src/core/a-assets.js":(l,u,c)=>{var d=c("./src/core/a-node.js").ANode,h=c("./src/utils/bind.js"),p=c("./src/utils/debug.js"),m=c("./src/lib/three.js"),v=new m.FileLoader,y=p("core:a-assets:warn");class A extends d{constructor(){super(),this.isAssets=!0,this.fileLoader=v,this.timeout=null}connectedCallback(){if(document.readyState!=="complete"){document.addEventListener("readystatechange",this.onReadyStateChange.bind(this));return}this.doConnectedCallback()}doConnectedCallback(){var L=this,T,D=[],H,V,B,O,F;if(super.connectedCallback(),!this.parentNode.isScene)throw new Error("<a-assets> must be a child of a <a-scene>.");for(O=this.querySelectorAll("img"),T=0;T<O.length;T++)B=w(O[T]),D.push(new Promise(function(N,z){if(m.Cache.add(O[T].getAttribute("src"),B),B.complete){N();return}B.onload=N,B.onerror=z}));for(V=this.querySelectorAll("audio, video"),T=0;T<V.length;T++)H=w(V[T]),!H.src&&!H.srcObject&&y("Audio/video asset has neither `src` nor `srcObject` attributes."),D.push(g(H));Promise.allSettled(D).then(h(this.load,this)),F=parseInt(this.getAttribute("timeout"),10)||3e3,this.timeout=setTimeout(function(){L.hasLoaded||(y("Asset loading timed out in ",F,"ms"),L.emit("timeout"),L.load())},F)}disconnectedCallback(){super.disconnectedCallback(),this.timeout&&clearTimeout(this.timeout)}load(){super.load.call(this,null,function(T){return T.isAssetItem&&T.hasAttribute("src")})}}customElements.define("a-assets",A);class b extends d{constructor(){super(),this.data=null,this.isAssetItem=!0}connectedCallback(){var L=this,T=this.getAttribute("src");v.setResponseType(this.getAttribute("response-type")||_(T)),v.load(T,function(H){L.data=H,setTimeout(function(){d.prototype.load.call(L)})},function(H){L.emit("progress",{loadedBytes:H.loaded,totalBytes:H.total,xhr:H})},function(H){L.emit("error",{xhr:H})})}}customElements.define("a-asset-item",b);function g(R){if(!(!R.hasAttribute("autoplay")&&R.getAttribute("preload")!=="auto"))return new Promise(function(L,T){if(R.readyState===4)return L();if(R.error)return T();R.addEventListener("loadeddata",D,!1),R.addEventListener("progress",D,!1),R.addEventListener("error",T,!1);function D(){for(var H=0,V=0;V<R.buffered.length;V++)H+=R.buffered.end(V)-R.buffered.start(V);H>=R.duration&&(R.tagName==="VIDEO"&&m.Cache.add(R.getAttribute("src"),R),L())}})}function w(R){var L=E(R);return L.tagName&&L.tagName.toLowerCase()==="video"&&(L.setAttribute("playsinline",""),L.setAttribute("webkit-playsinline","")),L!==R&&(R.parentNode.appendChild(L),R.parentNode.removeChild(R)),L}function E(R){var L,T;return R.hasAttribute("crossorigin")||(T=R.getAttribute("src"),T!==null&&(T.indexOf("://")===-1||C(T)===window.location.host))?R:(y('Cross-origin element (e.g., <img>) was requested without `crossorigin` set. A-Frame will re-request the asset with `crossorigin` attribute set. Please set `crossorigin` on the element (e.g., <img crossorigin="anonymous">)',T),R.crossOrigin="anonymous",L=R.cloneNode(!0),L)}function C(R){var L=R.indexOf("://")>-1?R.split("/")[2]:R.split("/")[0];return L.substring(0,L.indexOf(":"))}function _(R){var L=P(R),T=L.lastIndexOf(".");if(T>=0){var D=L.slice(T,R.search(/\?|#|$/));if(D===".glb")return"arraybuffer"}return"text"}l.exports.inferResponseType=_;function P(R){var L=document.createElement("a");L.href=R;var T=L.search.replace(/^\?/,""),D=R.replace(T,"").replace("?","");return D.substring(D.lastIndexOf("/")+1)}l.exports.getFileNameFromURL=P},"./src/core/a-cubemap.js":(l,u,c)=>{var d=c("./src/utils/debug.js"),h=d("core:cubemap:warn");class p extends HTMLElement{constructor(v){return v=super(v),v}onReadyStateChange(){document.readyState==="complete"&&this.doConnectedCallback()}connectedCallback(){if(document.readyState!=="complete"){document.addEventListener("readystatechange",this.onReadyStateChange.bind(this));return}p.prototype.doConnectedCallback.call(this)}doConnectedCallback(){this.srcs=this.validate()}validate(){var v=this.querySelectorAll("[src]"),y,A=[];if(v.length===6){for(y=0;y<v.length;y++)A.push(v[y].getAttribute("src"));return A}h("<a-cubemap> did not contain exactly six elements each with a `src` attribute.")}}customElements.define("a-cubemap",p)},"./src/core/a-entity.js":(l,u,c)=>{var d=c("./src/core/a-node.js").ANode,h=c("./src/core/component.js").components,p=c("./src/lib/three.js"),m=c("./src/utils/index.js"),v=m.debug("core:a-entity:debug"),y=m.debug("core:a-entity:warn"),A="__",b=["position","rotation","scale","visible"],g={once:!0};class w extends d{constructor(){super(),this.components={},this.initializingComponents={},this.componentsToUpdate={},this.isEntity=!0,this.isPlaying=!1,this.object3D=new p.Group,this.object3D.el=this,this.object3DMap={},this.parentEl=null,this.rotationObj={},this.states=[]}attributeChangedCallback(T,D,H){var V=this.components[T];if(super.attributeChangedCallback(),V&&V.justInitialized&&H===""){delete V.justInitialized;return}!V&&H===null||this.setEntityAttribute(T,D,H)}connectedCallback(){if(document.readyState!=="complete"){document.addEventListener("readystatechange",this.onReadyStateChange.bind(this));return}w.prototype.doConnectedCallback.call(this)}doConnectedCallback(){var T=this,D,H;if(super.connectedCallback(),H=this.sceneEl,this.addToParent(),!this.isScene){if(!H){this.load();return}if(D=H.querySelector("a-assets"),D&&!D.hasLoaded){D.addEventListener("loaded",function(){T.load()});return}this.load()}}disconnectedCallback(){var T;if(this.parentEl){for(T in this.components)this.removeComponent(T,!1);this.isScene||(this.removeFromParent(),super.disconnectedCallback(),this.object3D.el=null)}}getObject3D(T){return this.object3DMap[T]}setObject3D(T,D){var H,V=this;if(!(D instanceof p.Object3D))throw new Error("`Entity.setObject3D` was called with an object that was not an instance of THREE.Object3D.");H=this.getObject3D(T),H&&this.object3D.remove(H),D.el=this,D.children.length&&D.traverse(function(O){O.el=V}),this.object3D.add(D),this.object3DMap[T]=D,this.emit("object3dset",{object:D,type:T})}removeObject3D(T){var D=this.getObject3D(T);if(!D){y("Tried to remove `Object3D` of type:",T,"which was not defined.");return}this.object3D.remove(D),delete this.object3DMap[T],this.emit("object3dremove",{type:T})}getOrCreateObject3D(T,D){var H=this.getObject3D(T);return!H&&D&&(H=new D,this.setObject3D(T,H)),y("`getOrCreateObject3D` has been deprecated. Use `setObject3D()` and `object3dset` event instead."),H}add(T){if(!T.object3D)throw new Error("Trying to add an element that doesn't have an `object3D`");this.object3D.add(T.object3D),this.emit("child-attached",{el:T})}addToParent(){var T=this.parentEl=this.parentNode;!T||!T.add||this.attachedToParent||(T.add(this),this.attachedToParent=!0)}removeFromParent(){var T=this.parentEl;this.parentEl.remove(this),this.attachedToParent=!1,this.parentEl=null,T.emit("child-detached",{el:this})}load(){var T=this;this.hasLoaded||!this.parentEl||super.load.call(this,function(){T.parentEl&&(T.updateComponents(),(T.isScene||T.parentEl.isPlaying)&&T.play())})}remove(T){T?this.object3D.remove(T.object3D):this.parentNode.removeChild(this)}getChildEntities(){for(var T=this.children,D=[],H=0;H<T.length;H++){var V=T[H];V instanceof w&&D.push(V)}return D}initComponent(T,D,H){var V,B,O,F,N;if(O=m.split(T,A),F=O[0],B=O.length>2?O.slice(1).join("__"):O[1],!!h[F]&&(N=E(this,T)||D!==void 0,!(!N&&!H)&&!(T in this.components))){if(this.initComponentDependencies(F),B&&!h[F].multiple)throw new Error("Trying to initialize multiple components of type `"+F+"`. There can only be one component of this type per entity.");V=new h[F].Component(this,D,B),this.isPlaying&&V.play(),this.hasAttribute(T)||(V.justInitialized=!0,window.HTMLElement.prototype.setAttribute.call(this,T,"")),v("Component initialized: %s",T)}}initComponentDependencies(T){var D=this,H=h[T],V,B;if(H&&(V=h[T].dependencies,!!V))for(B=0;B<V.length;B++)D.initComponent(V[B],window.HTMLElement.prototype.getAttribute.call(D,V[B])||void 0,!0)}removeComponent(T,D){var H;if(H=this.components[T],!!H){if(!H.initialized){this.addEventListener("componentinitialized",function V(B){B.detail.name===T&&(this.removeComponent(T,D),this.removeEventListener("componentinitialized",V))});return}H.pause(),H.remove(),D&&(H.destroy(),delete this.components[T]),this.emit("componentremoved",H.evtDetail,!1)}}updateComponents(){var T,D,H,V,B=this.componentsToUpdate;if(this.hasLoaded){for(H=0;H<this.mixinEls.length;H++)for(V in this.mixinEls[H].componentCache)P(V)&&(B[V]=!0);if(this.getExtraComponents){D=this.getExtraComponents();for(V in D)P(V)&&(B[V]=!0)}for(H=0;H<this.attributes.length;++H)V=this.attributes[H].name,b.indexOf(V)===-1&&P(V)&&(B[V]=!0);for(H=0;H<b.length;H++)V=b[H],this.hasAttribute(V)&&this.updateComponent(V,this.getDOMAttribute(V));for(V in B)T=_(this.getDOMAttribute(V),D&&D[V]),this.updateComponent(V,T),delete B[V]}}updateComponent(T,D,H){var V=this.components[T];if(V){if(D===null&&!E(this,T)){this.removeComponent(T,!0);return}V.updateProperties(D,H);return}this.initComponent(T,D,!1)}removeAttribute(T,D){var H=this.components[T];if(H&&D===void 0&&this.removeComponent(T,!0),H&&D!==void 0){H.resetProperty(D);return}T==="mixin"&&this.mixinUpdate(""),window.HTMLElement.prototype.removeAttribute.call(this,T)}play(){var T,D,H;if(!(this.isPlaying||!this.hasLoaded)){this.isPlaying=!0;for(H in this.components)this.components[H].play();for(T=this.getChildEntities(),D=0;D<T.length;D++)T[D].play();this.emit("play")}}pause(){var T,D,H;if(this.isPlaying){this.isPlaying=!1;for(H in this.components)this.components[H].pause();for(T=this.getChildEntities(),D=0;D<T.length;D++)T[D].pause();this.emit("pause")}}setEntityAttribute(T,D,H){if(h[T]||this.components[T]){this.updateComponent(T,H);return}if(T==="mixin"){if(H===this.computedMixinStr)return;this.mixinUpdate(H,D)}}mixinUpdate(T,D){var H=w.componentsUpdated,V,B,O,F,N=this;if(!this.hasLoaded){this.addEventListener("loaded",function(){N.mixinUpdate(T,D)},g);return}for(D=D||this.getAttribute("mixin"),O=this.updateMixins(T,D),H.length=0,F=0;F<this.mixinEls.length;F++)for(V in this.mixinEls[F].componentCache)H.indexOf(V)===-1&&(this.components[V]?this.components[V].handleMixinUpdate():this.initComponent(V,null),H.push(V));for(F=0;F<O.oldMixinIds.length;F++)if(B=document.getElementById(O.oldMixinIds[F]),!!B)for(V in B.componentCache)H.indexOf(V)===-1&&this.components[V]&&(this.getDOMAttribute(V)?this.components[V].handleMixinUpdate():this.removeComponent(V,!0))}setAttribute(T,D,H){var V=w.singlePropUpdate,B,O,F,N,z,j;if(N=T.indexOf(A),F=N>0?T.substring(0,N):T,!h[F]){T==="mixin"&&this.mixinUpdate(D),super.setAttribute.call(this,T,D);return}if(!this.components[T]&&this.hasAttribute(T)&&this.updateComponent(T,window.HTMLElement.prototype.getAttribute.call(this,T)),typeof H<"u"&&typeof D=="string"&&D.length>0&&typeof m.styleParser.parse(D)=="string"){for(j in V)delete V[j];B=V,B[D]=H,O=!1}else B=D,O=H===!0;this.updateComponent(T,B,O),z=this.sceneEl&&this.sceneEl.getAttribute("debug"),z&&this.components[T].flushToDOM()}flushToDOM(T){var D=this.components,H,V=this.children,B,O;for(O in D)D[O].flushToDOM();if(T)for(B=0;B<V.length;++B)H=V[B],H.flushToDOM&&H.flushToDOM(T)}getAttribute(T){var D;return T==="position"?this.object3D.position:T==="rotation"?R(this):T==="scale"?this.object3D.scale:T==="visible"?this.object3D.visible:(D=this.components[T],D?D.data:window.HTMLElement.prototype.getAttribute.call(this,T))}getDOMAttribute(T){var D=this.components[T];return D?D.attrValue:window.HTMLElement.prototype.getAttribute.call(this,T)}addState(T){this.is(T)||(this.states.push(T),this.emit("stateadded",T))}removeState(T){var D=this.states.indexOf(T);D!==-1&&(this.states.splice(D,1),this.emit("stateremoved",T))}is(T){return this.states.indexOf(T)!==-1}inspect(){this.sceneEl.components.inspector.openInspector(this)}destroy(){var T;if(this.parentNode){y("Entity can only be destroyed if detached from scenegraph.");return}for(T in this.components)this.components[T].destroy()}}function E(L,T){return L.components[T]&&L.components[T].attrValue?!0:C(T,L.mixinEls)}function C(L,T){var D,H=!1;for(D=0;D<T.length&&(H=T[D].hasAttribute(L),!H);++D);return H}function _(L,T){return T?T.constructor===Object?m.extend(T,m.styleParser.parse(L||{})):L||T:L}function P(L){return L.indexOf(A)!==-1&&(L=m.split(L,A)[0]),!!h[L]}function R(L){var T=p.MathUtils.radToDeg,D=L.object3D.rotation,H=L.rotationObj;return H.x=T(D.x),H.y=T(D.y),H.z=T(D.z),H}w.componentsUpdated=[],w.singlePropUpdate={},customElements.define("a-entity",w),l.exports.AEntity=w},"./src/core/a-mixin.js":(l,u,c)=>{var d=c("./src/core/a-node.js").ANode,h=c("./src/core/component.js").components,p=c("./src/utils/index.js"),m="__";class v extends d{constructor(){super(),this.componentCache={},this.isMixin=!0}connectedCallback(){if(document.readyState!=="complete"){document.addEventListener("readystatechange",this.onReadyStateChange.bind(this));return}this.doConnectedCallback()}doConnectedCallback(){super.connectedCallback(),this.sceneEl=this.closestScene(),this.id=this.getAttribute("id"),this.cacheAttributes(),this.updateEntities(),this.load()}attributeChangedCallback(A,b,g){super.attributeChangedCallback(),this.cacheAttribute(A,g),this.updateEntities()}setAttribute(A,b){window.HTMLElement.prototype.setAttribute.call(this,A,b),this.cacheAttribute(A,b)}cacheAttribute(A,b){var g,w;w=p.split(A,m)[0],g=h[w],g&&(b===void 0&&(b=window.HTMLElement.prototype.getAttribute.call(this,A)),this.componentCache[A]=g.parseAttrValueForCache(b))}getAttribute(A){return this.componentCache[A]||window.HTMLElement.prototype.getAttribute.call(this,A)}cacheAttributes(){var A=this.attributes,b,g;for(g=0;g<A.length;g++)b=A[g].name,this.cacheAttribute(b)}updateEntities(){var A,b,g;if(this.sceneEl)for(b=this.sceneEl.querySelectorAll("[mixin~="+this.id+"]"),g=0;g<b.length;g++)A=b[g],!(!A.hasLoaded||A.isMixin)&&A.mixinUpdate(this.id)}}customElements.define("a-mixin",v)},"./src/core/a-node.js":(l,u,c)=>{var d=c("./src/utils/index.js"),h=d.debug("core:a-node:warn"),p={"a-scene":!0,"a-assets":!0,"a-assets-items":!0,"a-cubemap":!0,"a-mixin":!0,"a-node":!0,"a-entity":!0};function m(y){return y.tagName.toLowerCase()in p||y.isNode}class v extends HTMLElement{constructor(){super(),this.computedMixinStr="",this.hasLoaded=!1,this.isNode=!0,this.mixinEls=[]}onReadyStateChange(){document.readyState==="complete"&&this.doConnectedCallback()}connectedCallback(){if(document.readyState!=="complete"){document.addEventListener("readystatechange",this.onReadyStateChange.bind(this));return}v.prototype.doConnectedCallback.call(this)}doConnectedCallback(){var A;this.sceneEl=this.closestScene(),this.sceneEl||h("You are attempting to attach <"+this.tagName+"> outside of an A-Frame scene. Append this element to `<a-scene>` instead."),this.hasLoaded=!1,this.emit("nodeready",void 0,!1),this.isMixin||(A=this.getAttribute("mixin"),A&&this.updateMixins(A))}attributeChangedCallback(A,b,g){g!==this.computedMixinStr&&A==="mixin"&&!this.isMixin&&this.updateMixins(g,b)}closestScene(){for(var A=this;A&&!A.isScene;)A=A.parentElement;return A}closest(A){for(var b=this.matches||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.webkitMatchesSelector,g=this;g&&!b.call(g,A);)g=g.parentElement;return g}disconnectedCallback(){this.hasLoaded=!1}load(A,b){var g,w,E=this;this.hasLoaded||(b=b||m,g=this.getChildren(),w=g.filter(b).map(function(C){return new Promise(function(P,R){if(C.hasLoaded)return P();C.addEventListener("loaded",P),C.addEventListener("error",R)})}),Promise.allSettled(w).then(function(_){_.forEach(function(R){R.status==="rejected"&&h("Rendering scene with errors on node: ",R.reason.target)}),E.hasLoaded=!0,E.setupMutationObserver(),A&&A(),E.emit("loaded",void 0,!1)}))}setupMutationObserver(){var A=this,b={attributes:!0,attributeOldValue:!0},g=new MutationObserver(function(E){var C;for(C=0;C<E.length;C++)if(E[C].type==="attributes"){var _=E[C].attributeName,P=window.HTMLElement.prototype.getAttribute.call(A,_),R=E[C].oldValue;A.attributeChangedCallback(_,R,P)}});g.observe(this,b)}getChildren(){return Array.prototype.slice.call(this.children,0)}updateMixins(A,b){var g=v.newMixinIdArray,w=v.oldMixinIdArray,E=v.mixinIds,C,_,P;for(g.length=0,w.length=0,_=A?d.split(A.trim(),/\s+/):g,P=b?d.split(b.trim(),/\s+/):w,E.newMixinIds=_,E.oldMixinIds=P,C=0;C<P.length;C++)_.indexOf(P[C])===-1&&this.unregisterMixin(P[C]);for(this.computedMixinStr="",this.mixinEls.length=0,C=0;C<_.length;C++)this.registerMixin(document.getElementById(_[C]));return this.computedMixinStr&&(this.computedMixinStr=this.computedMixinStr.trim(),window.HTMLElement.prototype.setAttribute.call(this,"mixin",this.computedMixinStr)),E}registerMixin(A){var b,g,w;if(A){if(w=A.getAttribute("mixin"),w)for(b=d.split(w.trim(),/\s+/),g=0;g<b.length;g++)this.registerMixin(document.getElementById(b[g]));this.computedMixinStr=this.computedMixinStr+" "+A.id,this.mixinEls.push(A)}}setAttribute(A,b){A==="mixin"&&this.updateMixins(b),window.HTMLElement.prototype.setAttribute.call(this,A,b)}unregisterMixin(A){var b,g=this.mixinEls,w;for(b=0;b<g.length;++b)if(w=g[b],A===w.id){g.splice(b,1);break}}emit(A,b,g,w){var E=v.evtData;g===void 0&&(g=!0),E.bubbles=!!g,E.detail=b,w&&(E=d.extend({},w,E)),this.dispatchEvent(new CustomEvent(A,E))}}v.evtData={},v.newMixinIdArray=[],v.oldMixinIdArray=[],v.mixinIds={},customElements.define("a-node",v),l.exports.ANode=v,l.exports.knownTags=p},"./src/core/component.js":(l,u,c)=>{var d=c("./src/core/schema.js"),h=c("./src/core/scene/scenes.js"),p=c("./src/core/system.js"),m=c("./src/utils/index.js"),v=l.exports.components={},y=d.parseProperties,A=d.parseProperty,b=d.process,g=d.isSingleProperty,w=d.stringifyProperties,E=d.stringifyProperty,C=m.styleParser,_=m.debug("core:component:warn"),P=document.currentScript,R=new RegExp("[A-Z]+"),L={},T=l.exports.Component=function(G,Q,X){var J=this;this.el=G,this.id=X,this.attrName=this.name+(X?"__"+X:""),this.evtDetail={id:this.id,name:this.name},this.initialized=!1,this.el.components[this.attrName]=this,this.objectPool=L[this.name];var Z=this.events;this.events={},D(this,Z),this.attrValue=void 0,this.isObjectBased?(this.nextData=this.objectPool.use(),m.objectPool.removeUnusedKeys(this.nextData,this.schema),this.oldData=this.objectPool.use(),m.objectPool.removeUnusedKeys(this.oldData,this.schema),this.previousOldData=this.objectPool.use(),m.objectPool.removeUnusedKeys(this.previousOldData,this.schema),this.parsingAttrValue=this.objectPool.use(),m.objectPool.removeUnusedKeys(this.parsingAttrValue,this.schema)):(this.nextData=void 0,this.oldData=void 0,this.previousOldData=void 0,this.parsingAttrValue=void 0),this.throttledEmitComponentChanged=m.throttleLeadingAndTrailing(function(){G.emit("componentchanged",J.evtDetail,!1)},200),this.updateProperties(Q)};T.prototype={schema:{},init:function(){},events:{},update:function(G){},updateSchema:void 0,tick:void 0,tock:void 0,play:function(){},pause:function(){},remove:function(){},parse:function(G,Q){var X=this.schema;return this.isSingleProperty?A(G,X):y(C.parse(G),X,!0,this.name,Q)},stringify:function(G){var Q=this.schema;return typeof G=="string"?G:this.isSingleProperty?E(G,Q):(G=w(G,Q),C.stringify(G))},updateCachedAttrValue:function(G,Q){var X,J,Z;if(G!==void 0){if(G===null){this.isObjectBased&&this.attrValue&&this.objectPool.recycle(this.attrValue),this.attrValue=void 0;return}if(G instanceof Object&&!(G instanceof window.HTMLElement)?(J=this.objectPool.use(),X=m.extend(J,G)):X=this.parseAttrValueForCache(G),this.isObjectBased&&!Q&&this.attrValue)for(Z in this.attrValue)X[Z]===void 0&&(X[Z]=this.attrValue[Z]);this.isObjectBased&&!this.attrValue&&(this.attrValue=this.objectPool.use()),m.objectPool.clearObject(this.attrValue),this.attrValue=B(this.attrValue,X,this.isObjectBased),m.objectPool.clearObject(J)}},parseAttrValueForCache:function(G){var Q;return typeof G!="string"?G:(this.isSingleProperty?(Q=this.schema.parse(G),typeof Q=="string"&&(Q=G)):(m.objectPool.clearObject(this.parsingAttrValue),Q=C.parse(G,this.parsingAttrValue)),Q)},flushToDOM:function(G){var Q=G?this.data:this.attrValue;Q!=null&&window.HTMLElement.prototype.setAttribute.call(this.el,this.attrName,this.stringify(Q))},updateProperties:function(G,Q){var X=this.el;if(!X.hasLoaded){this.updateCachedAttrValue(G);return}G!==null&&(G=this.parseAttrValueForCache(G)),this.updateCachedAttrValue(G,Q),this.initialized?(this.updateComponent(G,Q),this.callUpdateHandler()):this.initComponent()},initComponent:function(){var G=this.el,Q;this.updateSchema&&this.updateSchema(this.buildData(this.attrValue,!1,!0)),this.data=this.buildData(this.attrValue),!G.initializingComponents[this.name]&&(G.initializingComponents[this.name]=!0,this.init(),this.initialized=!0,delete G.initializingComponents[this.name],this.oldData=B(this.oldData,this.data,this.isObjectBased),Q=this.isObjectBased?this.objectPool.use():void 0,this.update(Q),this.isObjectBased&&this.objectPool.recycle(Q),G.isPlaying&&this.play(),G.emit("componentinitialized",this.evtDetail,!1))},updateComponent:function(G,Q){var X,J;if(Q){this.updateSchema&&this.updateSchema(this.buildData(this.attrValue,!0,!0)),this.data=this.buildData(this.attrValue,!0,!1);return}if(this.isSingleProperty){this.isObjectBased&&A(G,this.schema),this.data=G;return}if(y(G,this.schema,!0,this.name),this.schemaChangeKeys.length){for(X in G)if(this.schema[X].schemaChange){J=!0;break}}if(J){this.updateSchema&&this.updateSchema(this.buildData(this.attrValue,!0,!0)),this.data=this.buildData(this.attrValue,!0,!1);return}for(X in G)G[X]!==void 0&&(this.data[X]=G[X])},callUpdateHandler:function(){var G;this.previousOldData instanceof Object&&m.objectPool.clearObject(this.previousOldData),this.isObjectBased?V(this.previousOldData,this.oldData):this.previousOldData=this.oldData,G=!m.deepEqual(this.oldData,this.data),!(!this.isPositionRotationScale&&!G)&&(this.oldData instanceof Object&&m.objectPool.clearObject(this.oldData),this.oldData=B(this.oldData,this.data,this.isObjectBased),this.update(this.previousOldData),this.throttledEmitComponentChanged())},handleMixinUpdate:function(){this.data=this.buildData(this.attrValue),this.callUpdateHandler()},resetProperty:function(G){if(this.isObjectBased){if(!(G in this.attrValue))return;delete this.attrValue[G],this.data[G]=this.schema[G].default}else this.attrValue=this.schema.default,this.data=this.schema.default;this.updateProperties(this.attrValue)},extendSchema:function(G){var Q;Q=m.extend({},v[this.name].schema),m.extend(Q,G),this.schema=b(Q),this.el.emit("schemachanged",this.evtDetail)},buildData:function(G,Q,X){var J,Z,oe,ce,Be,ge=this.nextData,Re=this.schema,$e,qe=this.el.mixinEls,Ke;if(J=G&&G.constructor===Array?G.length:G!=null,this.isObjectBased&&m.objectPool.clearObject(ge),this.isSingleProperty)this.isObjectBased?Z=V(ge,Re.default):Z=j(Re.default)?m.clone(Re.default):Re.default;else{Ke=!Q&&this.attrValue,Z=Ke instanceof Object?V(ge,Ke):ge;for(ce in Re)oe=Re[ce].default,Z[ce]===void 0&&(Z[ce]=j(oe)?m.clone(oe):oe)}for($e=0;$e<qe.length;$e++)Be=qe[$e].getAttribute(this.attrName),Be&&(Z=B(Z,Be,this.isObjectBased));if(J){if(this.isSingleProperty)return z(G)?(V(this.parsingAttrValue,G),A(this.parsingAttrValue,Re)):A(G,Re);Z=B(Z,G,this.isObjectBased)}else if(this.isSingleProperty)return A(Z,Re);return y(Z,Re,void 0,this.name,X)},eventsAttach:function(){var G;this.eventsDetach();for(G in this.events)this.el.addEventListener(G,this.events[G])},eventsDetach:function(){var G;for(G in this.events)this.el.removeEventListener(G,this.events[G])},destroy:function(){this.objectPool.recycle(this.attrValue),this.objectPool.recycle(this.oldData),this.objectPool.recycle(this.parsingAttrValue),this.attrValue=this.oldData=this.parsingAttrValue=void 0}};function D(G,Q){var X;for(X in Q)G.events[X]=Q[X].bind(G)}if(window.debug)var H=l.exports.registrationOrderWarnings={};l.exports.registerComponent=function(G,Q){var X,J,Z={},oe,ce,Be;if(document.currentScript&&document.currentScript!==P&&h.forEach(function(Re){Re.hasLoaded||document.currentScript.compareDocumentPosition(Re)!==Node.DOCUMENT_POSITION_FOLLOWING&&(_("The component `"+G+"` was registered in a <script> tag after the scene. Component <script> tags in an HTML file should be declared *before* the scene such that the component is available to entities during scene initialization."),window.debug&&(H[G]=!0))}),R.test(G)===!0&&_("The component name `"+G+"` contains uppercase characters, but HTML will ignore the capitalization of attribute names. Change the name to be lowercase: `"+G.toLowerCase()+"`"),G.indexOf("__")!==-1)throw new Error("The component name `"+G+"` is not allowed. The sequence __ (double underscore) is reserved to specify an id for multiple components of the same type");if(Object.keys(Q).forEach(function(ge){Z[ge]={value:Q[ge],writable:!0}}),v[G])throw new Error("The component `"+G+"` has been already registered. Check that you are not loading two versions of the same component or two different components of the same name.");if(X=function(ge,Re,$e){T.call(this,ge,Re,$e)},X.prototype=Object.create(T.prototype,Z),X.prototype.name=G,X.prototype.isPositionRotationScale=G==="position"||G==="rotation"||G==="scale",X.prototype.constructor=X,X.prototype.system=p&&p.systems[G],X.prototype.play=N(X.prototype.play),X.prototype.pause=F(X.prototype.pause),oe=m.extend(b(X.prototype.schema,X.prototype.name)),X.prototype.isSingleProperty=ce=g(X.prototype.schema),X.prototype.isSinglePropertyObject=Be=ce&&z(A(void 0,oe))&&!(oe.default instanceof window.HTMLElement),X.prototype.isObjectBased=!ce||Be,!ce){X.prototype.schemaChangeKeys=[];for(J in oe)oe[J].schemaChange&&X.prototype.schemaChangeKeys.push(J)}return L[G]=m.objectPool.createPool(),v[G]={Component:X,dependencies:X.prototype.dependencies,isSingleProperty:X.prototype.isSingleProperty,isSinglePropertyObject:X.prototype.isSinglePropertyObject,isObjectBased:X.prototype.isObjectBased,multiple:X.prototype.multiple,name:G,parse:X.prototype.parse,parseAttrValueForCache:X.prototype.parseAttrValueForCache,schema:oe,stringify:X.prototype.stringify,type:X.prototype.type},X};function V(G,Q){var X,J;for(J in Q)Q[J]!==void 0&&(X=Q[J],G[J]=j(X)?m.clone(X):X);return G}function B(G,Q,X){var J;if(X&&Q.constructor===Object){for(J in Q)Q[J]!==void 0&&(Q[J]&&Q[J].constructor===Object?G[J]=m.clone(Q[J]):G[J]=Q[J]);return G}return Q}function O(G){return G.tick||G.tock}function F(G){return function(){var X=this.el.sceneEl;this.isPlaying&&(G.call(this),this.isPlaying=!1,this.eventsDetach(),O(this)&&X.removeBehavior(this))}}function N(G){return function(){var X=this.el.sceneEl,J=this.el.isPlaying&&!this.isPlaying;!this.initialized||!J||(G.call(this),this.isPlaying=!0,this.eventsAttach(),O(this)&&X.addBehavior(this))}}function z(G){return G&&G.constructor===Object&&!(G instanceof window.HTMLElement)}function j(G){return G&&(G.constructor===Object||G.constructor===Array)&&!(G instanceof window.HTMLElement)}},"./src/core/geometry.js":(l,u,c)=>{var d=c("./src/core/schema.js"),h=d.process,p=l.exports.geometries={},m=l.exports.geometryNames=[],v=c("./src/lib/three.js"),y=l.exports.Geometry=function(){};y.prototype={schema:{},init:function(A){return this.geometry=new v.BufferGeometry,this.geometry},update:function(A){}},l.exports.registerGeometry=function(A,b){var g,w={};if(Object.keys(b).forEach(function(C){w[C]={value:b[C],writable:!0}}),p[A])throw new Error("The geometry `"+A+"` has been already registered");return g=function(){y.call(this)},g.prototype=Object.create(y.prototype,w),g.prototype.name=A,g.prototype.constructor=g,p[A]={Geometry:g,schema:h(g.prototype.schema)},m.push(A),g}},"./src/core/propertyTypes.js":(l,u,c)=>{var d=c("./src/utils/coordinates.js"),h=c("./node_modules/debug/browser.js"),p=h("core:propertyTypes:warn"),m=h("core:propertyTypes:warn"),v=l.exports.propertyTypes={},y=/[,> .[\]:]/,A=/\url\((.+)\)/;b("audio","",E),b("array",[],g,w),b("asset","",E),b("boolean",!1,P),b("color","#FFF",C,_),b("int",0,R),b("number",0,L),b("map","",E),b("model","",E),b("selector",null,T,H),b("selectorAll",null,D,V),b("src","",B),b("string","",C,_),b("time",0,R),b("vec2",{x:0,y:0},O,d.stringify),b("vec3",{x:0,y:0,z:0},O,d.stringify),b("vec4",{x:0,y:0,z:0,w:1},O,d.stringify);function b(z,j,G,Q){if("type"in v){p("Property type "+z+" is already registered.");return}v[z]={default:j,parse:G||C,stringify:Q||_}}l.exports.registerPropertyType=b;function g(z){if(Array.isArray(z))return z;if(!z||typeof z!="string")return[];return z.split(",").map(j);function j(G){return G.trim()}}function w(z){return z.join(", ")}function E(z){var j,G;if(typeof z!="string")return z;if(G=z.match(A),G)return G[1];if(z.charAt(0)==="#"){if(j=document.getElementById(z.substring(1)),j)return j.tagName==="CANVAS"||j.tagName==="VIDEO"||j.tagName==="IMG"?j:j.getAttribute("src");m('"'+z+'" asset not found.');return}return z}function C(z){return z}function _(z){return z===null?"null":z.toString()}function P(z){return z!=="false"&&z!==!1}function R(z){return parseInt(z,10)}function L(z){return parseFloat(z,10)}function T(z){return z?typeof z!="string"?z:z[0]==="#"&&!y.test(z)?document.getElementById(z.substring(1)):document.querySelector(z):null}function D(z){return z?typeof z!="string"?z:Array.prototype.slice.call(document.querySelectorAll(z),0):null}function H(z){return z.getAttribute?"#"+z.getAttribute("id"):_(z)}function V(z){return z instanceof Array?z.map(function(j){return"#"+j.getAttribute("id")}).join(", "):_(z)}function B(z){return m("`src` property type is deprecated. Use `asset` instead."),E(z)}function O(z){return d.parse(z,this.default)}function F(z,j){return z==="audio"&&typeof j!="string"||z==="array"&&!Array.isArray(j)||z==="asset"&&typeof j!="string"||z==="boolean"&&typeof j!="boolean"||z==="color"&&typeof j!="string"||z==="int"&&typeof j!="number"||z==="number"&&typeof j!="number"||z==="map"&&typeof j!="string"||z==="model"&&typeof j!="string"||z==="selector"&&typeof j!="string"&&j!==null||z==="selectorAll"&&typeof j!="string"&&j!==null||z==="src"&&typeof j!="string"||z==="string"&&typeof j!="string"||z==="time"&&typeof j!="number"?!1:z==="vec2"?N(j,2):z==="vec3"?N(j,3):z==="vec4"?N(j,4):!0}l.exports.isValidDefaultValue=F;function N(z,j){if(z===null)return!0;if(typeof z!="object"||Object.keys(z).length!==j)return!1;var G=z.x,Q=z.y,X=z.z,J=z.w;return!(typeof G!="number"||typeof Q!="number"||j>2&&typeof X!="number"||j>3&&typeof J!="number")}l.exports.isValidDefaultCoordinate=N},"./src/core/scene/a-scene.js":(l,u,c)=>{var d=c("./src/core/scene/metaTags.js").inject,h=c("./src/core/scene/wakelock.js"),p=c("./src/core/scene/loadingScreen.js"),m=c("./src/core/scene/scenes.js"),v=c("./src/core/system.js").systems,y=c("./src/lib/three.js"),A=c("./src/utils/index.js"),b=c("./src/core/a-entity.js").AEntity,g=c("./src/core/a-node.js").ANode,w=c("./src/core/scene/postMessage.js"),E=A.bind,C=A.device.isIOS(),_=A.device.isMobile(),P=A.device.isWebXRAvailable,R=A.debug("core:a-scene:warn");C&&c("./src/utils/ios-orientationchange-blank-bug.js");class L extends b{constructor(){var N;super(),N=this,N.clock=new y.Clock,N.isIOS=C,N.isMobile=_,N.hasWebXR=P,N.isAR=!1,N.isScene=!0,N.object3D=new y.Scene,N.object3D.onAfterRender=function(z,j,G){N.isPlaying&&N.tock(N.time,N.delta,G)},N.resize=E(N.resize,N),N.render=E(N.render,N),N.systems={},N.systemNames=[],N.time=N.delta=0,N.behaviors={tick:[],tock:[]},N.hasLoaded=!1,N.isPlaying=!1,N.originalHTML=N.innerHTML}addFullScreenStyles(){document.documentElement.classList.add("a-fullscreen")}removeFullScreenStyles(){document.documentElement.classList.remove("a-fullscreen")}connectedCallback(){if(document.readyState!=="complete"){document.addEventListener("readystatechange",this.onReadyStateChange.bind(this));return}this.doConnectedCallback()}doConnectedCallback(){var N=this,z=this.hasAttribute("embedded");this.setAttribute("inspector",""),this.setAttribute("keyboard-shortcuts",""),this.setAttribute("screenshot",""),this.setAttribute("vr-mode-ui",""),this.setAttribute("device-orientation-permission-ui",""),super.connectedCallback(),O(this),this.setupRenderer(),p.setup(this,D),this.resize(),z||this.addFullScreenStyles(),w(this),d(this),h(this),this.onVRPresentChangeBound=E(this.onVRPresentChange,this),window.addEventListener("vrdisplaypresentchange",this.onVRPresentChangeBound),this.enterVRBound=function(){N.enterVR()},this.exitVRBound=function(){N.exitVR()},this.exitVRTrueBound=function(){N.exitVR(!0)},this.pointerRestrictedBound=function(){N.pointerRestricted()},this.pointerUnrestrictedBound=function(){N.pointerUnrestricted()},N.hasWebXR||(window.addEventListener("vrdisplaydeactivate",this.exitVRBound),window.addEventListener("vrdisplaydisconnect",this.exitVRTrueBound),window.addEventListener("vrdisplaypointerrestricted",this.pointerRestrictedBound),window.addEventListener("vrdisplaypointerunrestricted",this.pointerUnrestrictedBound)),window.addEventListener("sessionend",this.resize),this.addEventListener("cameraready",function(){N.attachedCallbackPostCamera()}),this.initSystems(),this.hasWebXR&&navigator.xr&&navigator.xr.addEventListener&&navigator.xr.addEventListener("sessiongranted",function(){N.enterVR()})}attachedCallbackPostCamera(){var N,z=this;window.addEventListener("load",N),window.addEventListener("resize",function(){z.isIOS?setTimeout(z.resize,100):z.resize()}),this.play(),m.push(this)}initSystems(){var N;this.initSystem("camera");for(N in v)N!=="camera"&&this.initSystem(N)}initSystem(N){this.systems[N]||(this.systems[N]=new v[N](this),this.systemNames.push(N))}disconnectedCallback(){var N=m.indexOf(this);super.disconnectedCallback(),m.splice(N,1),window.removeEventListener("vrdisplaypresentchange",this.onVRPresentChangeBound),window.removeEventListener("vrdisplayactivate",this.enterVRBound),window.removeEventListener("vrdisplaydeactivate",this.exitVRBound),window.removeEventListener("vrdisplayconnect",this.enterVRBound),window.removeEventListener("vrdisplaydisconnect",this.exitVRTrueBound),window.removeEventListener("vrdisplaypointerrestricted",this.pointerRestrictedBound),window.removeEventListener("vrdisplaypointerunrestricted",this.pointerUnrestrictedBound),window.removeEventListener("sessionend",this.resize),this.renderer.dispose()}addBehavior(N){var z,j=this.behaviors,G;for(G in j)N[G]&&(z=this.behaviors[G],z.indexOf(N)===-1&&z.push(N))}getPointerLockElement(){return document.pointerLockElement}checkHeadsetConnected(){return A.device.checkHeadsetConnected()}enterAR(){var N;if(!this.hasWebXR)throw N="Failed to enter AR mode, WebXR not supported.",new Error(N);if(!A.device.checkARSupport())throw N="Failed to enter AR, WebXR immersive-ar mode not supported in your browser or device.",new Error(N);return this.enterVR(!0)}enterVR(N){var z=this,j,G=z.renderer.xr,Q;if(this.is("vr-mode"))return Promise.resolve("Already in VR.");if(this.checkHeadsetConnected()||this.isMobile){var X=z.getAttribute("renderer");if(G.enabled=!0,this.hasWebXR){this.xrSession&&this.xrSession.removeEventListener("end",this.exitVRBound);var J=this.sceneEl.systems.webxr.sessionReferenceSpaceType;G.setReferenceSpaceType(J);var Z=N?"immersive-ar":"immersive-vr";return Q=this.sceneEl.systems.webxr.sessionConfiguration,new Promise(function(ge,Re){navigator.xr.requestSession(Z,Q).then(function(qe){z.xrSession=qe,G.layersEnabled=Q.requiredFeatures.indexOf("layers")!==-1,G.setSession(qe).then(function(){G.setFoveation(X.foveationLevel)}),z.systems.renderer.setWebXRFrameRate(qe),qe.addEventListener("end",z.exitVRBound),ce(ge)},function(qe){var Ke=Z==="immersive-ar",ke=Ke?"AR":"VR";throw new Error("Failed to enter "+ke+" mode (`requestSession`) "+qe)})})}else{if(j=A.device.getVRDisplay(),G.setDevice(j),j.isPresenting&&!window.hasNativeWebVRImplementation)return ce(),Promise.resolve();var oe={highRefreshRate:X.highRefreshRate};return j.requestPresent([{source:this.canvas,attributes:oe}]).then(ce,Be)}}return ce(),Promise.resolve();function ce(ge){var Re;window.hasNativeWebVRImplementation&&!window.hasNativeWebXRImplementation&&(Re=new CustomEvent("vrdisplaypresentchange",{detail:{display:A.device.getVRDisplay()}}),window.dispatchEvent(Re)),N?z.addState("ar-mode"):z.addState("vr-mode"),z.emit("enter-vr",{target:z}),!z.hasWebXR&&z.isMobile&&screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape"),z.addFullScreenStyles(),!z.isMobile&&!z.checkHeadsetConnected()&&V(z.canvas),z.resize(),ge&&ge()}function Be(ge){throw z.removeState("vr-mode"),ge&&ge.message?new Error("Failed to enter VR mode (`requestPresent`): "+ge.message):new Error("Failed to enter VR mode (`requestPresent`).")}}exitVR(){var N=this,z,j=this.renderer.xr;if(!this.is("vr-mode")&&!this.is("ar-mode"))return Promise.resolve("Not in immersive mode.");if(this.checkHeadsetConnected()||this.isMobile){if(j.enabled=!1,z=A.device.getVRDisplay(),this.hasWebXR)this.xrSession.removeEventListener("end",this.exitVRBound),this.xrSession.end().then(function(){},function(){}),this.xrSession=void 0;else if(z.isPresenting)return z.exitPresent().then(G,Q)}else B();return G(),Promise.resolve();function G(){N.removeState("vr-mode"),N.removeState("ar-mode"),N.isMobile&&screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),N.hasAttribute("embedded")&&N.removeFullScreenStyles(),N.resize(),N.isIOS&&A.forceCanvasResizeSafariMobile(N.canvas),N.renderer.setPixelRatio(window.devicePixelRatio),N.emit("exit-vr",{target:N})}function Q(X){throw X&&X.message?new Error("Failed to exit VR mode (`exitPresent`): "+X.message):new Error("Failed to exit VR mode (`exitPresent`).")}}pointerRestricted(){if(this.canvas){var N=this.getPointerLockElement();N&&N!==this.canvas&&document.exitPointerLock&&document.exitPointerLock(),this.canvas.requestPointerLock&&this.canvas.requestPointerLock()}}pointerUnrestricted(){var N=this.getPointerLockElement();N&&N===this.canvas&&document.exitPointerLock&&document.exitPointerLock()}onVRPresentChange(N){var z=N.display||N.detail.display;if(z&&z.isPresenting){this.enterVR();return}this.exitVR()}getAttribute(N){var z=this.systems[N];return z?z.data:b.prototype.getAttribute.call(this,N)}getComputedAttribut(N){R("`getComputedAttribute` is deprecated. Use `getAttribute` instead."),this.getAttribute(N)}getDOMAttribute(N){var z=this.systems[N];return z?z.data:b.prototype.getDOMAttribute.call(this,N)}setAttribute(N,z,j){var G=this.systems[N];if(G){g.prototype.setAttribute.call(this,N,z),G.updateProperties(z);return}b.prototype.setAttribute.call(this,N,z,j)}removeBehavior(N){var z,j,G=this.behaviors,Q;for(j in G)N[j]&&(z=this.behaviors[j],Q=z.indexOf(N),Q!==-1&&z.splice(Q,1))}resize(){var N=this.camera,z=this.canvas,j,G,Q,X=this.renderer.xr.isPresenting;G=this.renderer.xr.enabled&&X,!(!N||!z||this.is("vr-mode")&&(this.isMobile||G))&&(j=this.getAttribute("embedded")&&!this.is("vr-mode"),Q=D(z,j,this.maxCanvasSize,this.is("vr-mode")),N.aspect=Q.width/Q.height,N.updateProjectionMatrix(),this.renderer.setSize(Q.width,Q.height,!1),this.emit("rendererresize",null,!1))}setupRenderer(){var N=this,z,j,G,Q;Q={alpha:!0,antialias:!_,canvas:this.canvas,logarithmicDepthBuffer:!1,powerPreference:"high-performance"},this.maxCanvasSize={height:1920,width:1920},this.hasAttribute("renderer")&&(G=this.getAttribute("renderer"),j=A.styleParser.parse(G),j.precision&&(Q.precision=j.precision+"p"),j.antialias&&j.antialias!=="auto"&&(Q.antialias=j.antialias==="true"),j.logarithmicDepthBuffer&&j.logarithmicDepthBuffer!=="auto"&&(Q.logarithmicDepthBuffer=j.logarithmicDepthBuffer==="true"),j.alpha&&(Q.alpha=j.alpha==="true"),this.maxCanvasSize={width:j.maxCanvasWidth?parseInt(j.maxCanvasWidth):this.maxCanvasSize.width,height:j.maxCanvasHeight?parseInt(j.maxCanvasHeight):this.maxCanvasSize.height}),z=this.renderer=new y.WebGLRenderer(Q),z.setPixelRatio(window.devicePixelRatio),z.sortObjects=!1,this.camera&&z.xr.setPoseTarget(this.camera.el.object3D),this.addEventListener("camera-set-active",function(){z.xr.setPoseTarget(N.camera.el.object3D)})}play(){var N=this,z=this;if(this.renderStarted){b.prototype.play.call(this);return}this.addEventListener("loaded",function(){var j=this.renderer,G,Q=this.renderer.xr;b.prototype.play.call(this),!z.renderStarted&&(z.resize(),z.renderer&&(window.performance&&window.performance.mark("render-started"),p.remove(),G=A.device.getVRDisplay(),G&&G.isPresenting&&(Q.setDevice(G),Q.enabled=!0,z.enterVR()),j.setAnimationLoop(this.render),z.renderStarted=!0,z.emit("renderstart")))}),setTimeout(function(){b.prototype.load.call(N)})}updateComponent(N){N in v||b.prototype.updateComponent.apply(this,arguments)}tick(N,z){var j,G=this.systems;for(j=0;j<this.behaviors.tick.length;j++)this.behaviors.tick[j].el.isPlaying&&this.behaviors.tick[j].tick(N,z);for(j=0;j<this.systemNames.length;j++)G[this.systemNames[j]].tick&&G[this.systemNames[j]].tick(N,z)}tock(N,z,j){var G,Q=this.systems;for(G=0;G<this.behaviors.tock.length;G++)this.behaviors.tock[G].el.isPlaying&&this.behaviors.tock[G].tock(N,z,j);for(G=0;G<this.systemNames.length;G++)Q[this.systemNames[G]].tock&&Q[this.systemNames[G]].tock(N,z,j)}render(N,z){var j=this.renderer;this.frame=z,this.delta=this.clock.getDelta()*1e3,this.time=this.clock.elapsedTime*1e3,this.isPlaying&&this.tick(this.time,this.delta);var G=null;this.is("ar-mode")&&(G=this.object3D.background,this.object3D.background=null),j.render(this.object3D,this.camera),G&&(this.object3D.background=G)}}function T(F,N){var z,j=window.devicePixelRatio;return!N||N.width===-1&&N.height===-1||F.width*j<N.width&&F.height*j<N.height||(z=F.width/F.height,F.width*j>N.width&&N.width!==-1&&(F.width=Math.round(N.width/j),F.height=Math.round(N.width/z/j)),F.height*j>N.height&&N.height!==-1&&(F.height=Math.round(N.height/j),F.width=Math.round(N.height*z/j))),F}window.customElements.define("a-scene",L);function D(F,N,z,j){if(!F.parentElement)return{height:0,width:0};if(N){var G;return G={height:F.parentElement.offsetHeight,width:F.parentElement.offsetWidth},T(G,z)}return H(z,j)}function H(F,N){var z;return z={height:document.body.offsetHeight,width:document.body.offsetWidth},N?z:T(z,F)}function V(F){var N=F.requestFullscreen||F.webkitRequestFullscreen||F.mozRequestFullScreen||F.msRequestFullscreen;N.apply(F,[{navigationUI:"hide"}])}function B(){var F=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement;F&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())}function O(F){var N;N=document.createElement("canvas"),N.classList.add("a-canvas"),N.dataset.aframeCanvas=!0,F.appendChild(N),document.addEventListener("fullscreenchange",z),document.addEventListener("mozfullscreenchange",z),document.addEventListener("webkitfullscreenchange",z),document.addEventListener("MSFullscreenChange",z),N.addEventListener("touchmove",function(j){j.preventDefault()}),F.canvas=N,F.emit("render-target-loaded",{target:N}),setTimeout(E(F.resize,F),0);function z(){var j=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;j||F.exitVR(),document.activeElement.blur(),document.body.focus()}}l.exports.setupCanvas=O,l.exports.AScene=L},"./src/core/scene/loadingScreen.js":(l,u,c)=>{var d=c("./src/utils/index.js"),h=d.styleParser,p,m,v,y="loading-screen",A="a-loader-title";l.exports.setup=function(E,C){p=E,v=C;var _=p.hasAttribute(y)?h.parse(p.getAttribute(y)):void 0,P=_&&_.dotsColor||"white",R=_&&_.backgroundColor||"#24CAFF",L=_===void 0||_.enabled==="true"||_.enabled===void 0,T,D,H,V,B,O,F,N,z,j;L&&(T=new THREE.Scene,D=new THREE.SphereGeometry(.2,36,18,0,2*Math.PI,0,Math.PI),H=new THREE.MeshBasicMaterial({color:P}),V=new THREE.Mesh(D,H),B=V.clone(),O=V.clone(),F=new THREE.PerspectiveCamera(80,window.innerWidth/window.innerHeight,5e-4,1e4),N=new THREE.Clock,z=0,j=function(){p.renderer.render(T,F),z=N.getElapsedTime()%4,V.visible=z>=1,B.visible=z>=2,O.visible=z>=3},T.background=new THREE.Color(R),T.add(F),V.position.set(-1,0,-15),B.position.set(0,0,-15),O.position.set(1,0,-15),F.add(V),F.add(B),F.add(O),g(),setTimeout(function(){p.hasLoaded||(b(F),m.style.display="block",window.addEventListener("resize",function(){b(F)}),p.renderer.setAnimationLoop(j))},200))},l.exports.remove=function(){window.removeEventListener("resize",b),m&&(m.style.display="none")};function b(w){var E=p.hasAttribute("embedded"),C=v(p.canvas,E,p.maxCanvasSize,p.is("vr-mode"));w.aspect=C.width/C.height,w.updateProjectionMatrix(),p.renderer.setSize(C.width,C.height,!1)}function g(){m=document.createElement("div"),m.className=A,m.innerHTML=document.title,m.style.display="none",p.appendChild(m)}},"./src/core/scene/metaTags.js":(l,u,c)=>{var d=c("./src/constants/index.js"),h=c("./src/utils/index.js").extend,p=l.exports.MOBILE_HEAD_TAGS=[v({name:"viewport",content:"width=device-width,initial-scale=1,maximum-scale=1,shrink-to-fit=no,user-scalable=no,minimal-ui,viewport-fit=cover"}),v({name:"mobile-web-app-capable",content:"yes"}),v({name:"theme-color",content:"black"})],m=[v({name:"apple-mobile-web-app-capable",content:"yes"}),v({name:"apple-mobile-web-app-status-bar-style",content:"black"}),y({rel:"apple-touch-icon",href:"https://aframe.io/images/aframe-logo-152.png"})];function v(b){return{tagName:"meta",attributes:b,exists:function(){return document.querySelector('meta[name="'+b.name+'"]')}}}function y(b){return{tagName:"link",attributes:b,exists:function(){return document.querySelector('link[rel="'+b.rel+'"]')}}}l.exports.inject=function(g){var w=document.head,E=w.querySelector("script"),C,_=[];return p.forEach(P),g.isIOS&&m.forEach(P),_;function P(R){!R||R.exists()||(C=A(R),C&&(E?E.parentNode.insertBefore(C,E):w.appendChild(C),_.push(C)))}};function A(b){if(!(!b||!b.tagName)){var g=document.createElement(b.tagName);return g.setAttribute(d.AFRAME_INJECTED,""),h(g,b.attributes)}}},"./src/core/scene/postMessage.js":(l,u,c)=>{var d=c("./src/utils/bind.js"),h=c("./src/utils/index.js").isIframed;l.exports=function(v){h()&&window.addEventListener("message",d(p,v))};function p(m){var v=this;if(m.data)switch(m.data.type){case"vr":switch(m.data.data){case"enter":v.enterVR();break;case"exit":v.exitVR();break}}}},"./src/core/scene/scenes.js":l=>{l.exports=[]},"./src/core/scene/wakelock.js":(l,u,c)=>{var d=c("./vendor/wakelock/wakelock.js");l.exports=function(p){if(p.isMobile){var m=p.wakelock=new d;p.addEventListener("enter-vr",function(){m.request()}),p.addEventListener("exit-vr",function(){m.release()})}}},"./src/core/schema.js":(l,u,c)=>{var d=c("./src/utils/index.js"),h=c("./src/core/propertyTypes.js"),p=d.debug,m=h.isValidDefaultValue,v=h.propertyTypes,y=p("core:schema:warn");function A(E){return"type"in E?typeof E.type=="string":"default"in E}l.exports.isSingleProperty=A,l.exports.process=function(E,C){var _;if(A(E))return b(E,C);for(_ in E)E[_]=b(E[_],C);return E};function b(E,C){var _=E.default,P,R,L=E.type;return E.type?E.type==="bool"?L="boolean":E.type==="float"&&(L="number"):_!==void 0&&(typeof _=="boolean"||typeof _=="number")?L=typeof _:Array.isArray(_)?L="array":L="string",R=v[L],R||y("Unknown property type for component `"+C+"`: "+L),P=!!E.parse,E.parse=E.parse||R.parse,E.stringify=E.stringify||R.stringify,E.type=L,"default"in E?!P&&!m(L,_)&&y("Default value `"+_+"` does not match type `"+L+"` in component `"+C+"`"):E.default=R.default,E}l.exports.processPropertyDefinition=b,l.exports.parseProperties=function(){var E=[];return function(C,_,P,R,L){var T,D,H,V;E.length=0;for(D in P?C:_)P&&C[D]===void 0||E.push(D);if(C===null||typeof C!="object")return C;for(D in C)C[D]!==void 0&&!_[D]&&!L&&y("Unknown property `"+D+"` for component/system `"+R+"`.");for(T=0;T<E.length;T++){if(D=E[T],H=_[D],V=C[D],!_[D])return;C[D]=g(V,H)}return C}}();function g(E,C){return(E==null||E==="")&&(E=C.default,Array.isArray(E)&&(E=E.slice())),C.parse(E,C.default)}l.exports.parseProperty=g,l.exports.stringifyProperties=function(E,C){var _,P,R,L={},T;for(_ in E)P=C[_],R=E[_],T=R,typeof T=="object"&&(T=w(R,P),P||y("Unknown component property: "+_)),L[_]=T;return L};function w(E,C){return typeof E!="object"?E:!C||E===null?JSON.stringify(E):C.stringify(E)}l.exports.stringifyProperty=w},"./src/core/shader.js":(l,u,c)=>{var d=c("./src/core/schema.js"),h=d.process,p=l.exports.shaders={},m=l.exports.shaderNames=[],v=c("./src/lib/three.js"),y=c("./src/utils/index.js"),A={array:"v3",color:"v3",int:"i",number:"f",map:"t",time:"f",vec2:"v2",vec3:"v3",vec4:"v4"},b=l.exports.Shader=function(){};b.prototype={schema:{},vertexShader:"void main() {gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);}",fragmentShader:"void main() {gl_FragColor = vec4(1.0, 0.0, 1.0, 1.0);}",init:function(g){return this.attributes=this.initVariables(g,"attribute"),this.uniforms=this.initVariables(g,"uniform"),this.material=new(this.raw?v.RawShaderMaterial:v.ShaderMaterial)({uniforms:this.uniforms,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader}),this.material},initVariables:function(g,w){var E,C=this.schema,_={},P;for(E in C)C[E].is===w&&(P=A[C[E].type],_[E]={type:P,value:void 0});return _},update:function(g){this.updateVariables(g,"attribute"),this.updateVariables(g,"uniform")},updateVariables:function(g,w){var E,C,_=this.schema,P;P=w==="uniform"?this.uniforms:this.attributes;for(E in g)if(!(!_[E]||_[E].is!==w)){if(_[E].type==="map"){if(!P[E]||P[E].value===g[E])continue;C="_texture_"+E,this.setMapOnTextureLoad(P,E,C),y.material.updateMapMaterialFromData(C,E,this,g);continue}P[E].value=this.parseValue(_[E].type,g[E]),P[E].needsUpdate=!0}},parseValue:function(g,w){var E;switch(g){case"vec2":return new v.Vector2(w.x,w.y);case"vec3":return new v.Vector3(w.x,w.y,w.z);case"vec4":return new v.Vector4(w.x,w.y,w.z,w.w);case"color":return E=new v.Color(w),new v.Vector3(E.r,E.g,E.b);case"map":return v.ImageUtils.loadTexture(w);default:return w}},setMapOnTextureLoad:function(g,w,E){var C=this;this.el.addEventListener("materialtextureloaded",function(){g[w].value=C.material[E],g[w].needsUpdate=!0})}},l.exports.registerShader=function(g,w){var E,C={};if(Object.keys(w).forEach(function(_){C[_]={value:w[_],writable:!0}}),p[g])throw new Error("The shader "+g+" has been already registered");return E=function(){b.call(this)},E.prototype=Object.create(b.prototype,C),E.prototype.name=g,E.prototype.constructor=E,p[g]={Shader:E,schema:h(E.prototype.schema)},m.push(g),E}},"./src/core/system.js":(l,u,c)=>{var d=c("./src/core/component.js"),h=c("./src/core/schema.js"),p=c("./src/utils/index.js"),m=h.parseProperties,v=h.parseProperty,y=h.process,A=h.isSingleProperty,b=p.styleParser,g=l.exports.systems={},w=l.exports.System=function(E){var C=d&&d.components[this.name];this.el=E,this.sceneEl=E,C&&(C.Component.prototype.system=this),this.buildData(),this.init(),this.update({})};w.prototype={schema:{},init:function(){},update:function(E){},updateProperties:function(E){var C=this.data;Object.keys(h).length&&(this.buildData(E),this.update(C))},buildData:function(E){var C=this.schema;Object.keys(C).length&&(E=E||window.HTMLElement.prototype.getAttribute.call(this.sceneEl,this.name),A(C)?this.data=v(E,C):this.data=m(b.parse(E)||{},C))},tick:void 0,tock:void 0,play:function(){},pause:function(){}},l.exports.registerSystem=function(E,C){var _,P,R={},L=p.findAllScenes(document);if(Object.keys(C).forEach(function(T){R[T]={value:C[T],writable:!0}}),g[E])throw new Error("The system `"+E+"` has been already registered. Check that you are not loading two versions of the same system or two different systems of the same name.");for(P=function(T){w.call(this,T)},P.prototype=Object.create(w.prototype,R),P.prototype.name=E,P.prototype.constructor=P,P.prototype.schema=p.extend(y(P.prototype.schema)),g[E]=P,_=0;_<L.length;_++)L[_].initSystem(E)}},"./src/extras/components/index.js":(l,u,c)=>{c("./src/extras/components/pivot.js")},"./src/extras/components/pivot.js":(l,u,c)=>{var d=c("./src/core/component.js").registerComponent,h=c("./src/lib/three.js"),p=new h.Vector3,m=new h.Vector3;d("pivot",{dependencies:["position"],schema:{type:"vec3"},init:function(){var v=this.data,y=this.el,A=y.object3D.parent,b=y.object3D,g=new h.Group;p.copy(b.position),m.copy(b.rotation),A.remove(b),g.add(b),A.add(g),y.object3D=g,b.position.set(-1*v.x,-1*v.y,-1*v.z),g.position.set(v.x+p.x,v.y+p.y,v.z+p.z),g.rotation.copy(b.rotation),b.rotation.set(0,0,0)}})},"./src/extras/primitives/getMeshMixin.js":(l,u,c)=>{var d=c("./src/core/component.js").components,h=c("./src/core/shader.js").shaders,p=c("./src/utils/index.js"),m={};Object.keys(d.material.schema).forEach(v),Object.keys(h.standard.schema).forEach(v);function v(y){var A=y.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();y==="fog"&&(A="material-fog"),y==="visible"&&(A="material-visible"),m[A]="material."+y}l.exports=function(){return{defaultComponents:{material:{}},mappings:p.extend({},m)}}},"./src/extras/primitives/index.js":(l,u,c)=>{c("./src/extras/primitives/primitives/a-camera.js"),c("./src/extras/primitives/primitives/a-cursor.js"),c("./src/extras/primitives/primitives/a-curvedimage.js"),c("./src/extras/primitives/primitives/a-gltf-model.js"),c("./src/extras/primitives/primitives/a-image.js"),c("./src/extras/primitives/primitives/a-light.js"),c("./src/extras/primitives/primitives/a-link.js"),c("./src/extras/primitives/primitives/a-obj-model.js"),c("./src/extras/primitives/primitives/a-sky.js"),c("./src/extras/primitives/primitives/a-sound.js"),c("./src/extras/primitives/primitives/a-text.js"),c("./src/extras/primitives/primitives/a-video.js"),c("./src/extras/primitives/primitives/a-videosphere.js"),c("./src/extras/primitives/primitives/meshPrimitives.js")},"./src/extras/primitives/primitives.js":(l,u,c)=>{var d=c("./src/core/a-node.js").knownTags,h=c("./src/core/a-entity.js").AEntity,p=c("./src/core/component.js").components,m=c("./src/utils/index.js"),v=m.debug,y=m.entity.setComponentProperty,A=v("extras:primitives:debug"),b=v("extras:primitives:warn"),g=v("extras:primitives:error"),w=l.exports.primitives={};l.exports.registerPrimitive=function(P,R){if(P=P.toLowerCase(),d[P]){g("Trying to register primitive "+P+" that has been already previously registered");return}d[P]=!0,A("Registering <%s>",P),R.defaultAttributes&&b("The 'defaultAttributes' object is deprecated. Use 'defaultComponents' instead.");var L=R.mappings||{},T=class extends h{constructor(){super(),this.defaultComponentsFromPrimitive=R.defaultComponents||R.defaultAttributes||{},this.deprecated=R.deprecated||null,this.deprecatedMappings=R.deprecatedMappings||{},this.mappings=L,R.deprecated&&console.warn(R.deprecated),this.resolveMappingCollisions()}resolveMappingCollisions(){var D=this.mappings,H=this;Object.keys(D).forEach(function(B){var O;B!==B.toLowerCase()&&b("Mapping keys should be specified in lower case. The mapping key "+B+" may not be recognized"),p[B]&&(O=D[B].replace(".","-"),D[O]=D[B],delete D[B],console.warn("The primitive "+H.tagName.toLowerCase()+" has a mapping collision. The attribute "+B+" has the same name as a registered component and has been renamed to "+O))})}getExtraComponents(){var D,H,V,B,O,F,N=this;for(H=m.clone(this.defaultComponentsFromPrimitive),O=this.getAttribute("mixin"),O&&(O=O.trim().split(" "),O.forEach(function(J){var Z=N.sceneEl.querySelector("#"+J).componentCache;Object.keys(Z).forEach(function(ce){H[ce]=z(H[ce],Z[ce])})})),V=0;V<this.attributes.length;V++)if(D=this.attributes[V],B=this.mappings[D.name],B){F=m.entity.getComponentPropertyPath(B),F.constructor===Array?(H[F[0]]=H[F[0]]||{},H[F[0]][F[1]]=D.value.trim()):H[F]=D.value.trim();continue}return H;function z(X,J){return j(X)?G(J):j(J)?G(X):Q(X)&&Q(J)?m.extendDeep(X,J):G(J)}function j(X){return typeof X>"u"}function G(X){return Q(X)?m.extendDeep({},X):X}function Q(X){return X!==null&&X.constructor===Object}}attributeChangedCallback(D,H,V){var B=this.mappings[D];if(D in this.deprecatedMappings&&console.warn(this.deprecatedMappings[D]),!D||!B){super.attributeChangedCallback(D,H,V);return}y(this,B,V)}};return customElements.define(P,T),T.mappings=L,w[P]=T,T};function E(_,P){var R=p[_].schema;Object.keys(R).map(function(L){var T=L.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();P[T]!==void 0&&(T=_+"-"+L),P[T]=_+"."+L})}function C(_,P,R){R=R||{},Object.keys(P).map(function(T){E(T,R)}),l.exports.registerPrimitive(_,m.extendDeep({},null,{defaultComponents:P,mappings:R}))}l.exports.definePrimitive=C},"./src/extras/primitives/primitives/a-camera.js":(l,u,c)=>{var d=c("./src/extras/primitives/primitives.js").registerPrimitive;d("a-camera",{defaultComponents:{camera:{},"look-controls":{},"wasd-controls":{},position:{x:0,y:1.6,z:0}},mappings:{active:"camera.active",far:"camera.far",fov:"camera.fov","look-controls-enabled":"look-controls.enabled",near:"camera.near","pointer-lock-enabled":"look-controls.pointerLockEnabled","wasd-controls-enabled":"wasd-controls.enabled","reverse-mouse-drag":"look-controls.reverseMouseDrag",zoom:"camera.zoom"}})},"./src/extras/primitives/primitives/a-cursor.js":(l,u,c)=>{var d=c("./src/extras/primitives/getMeshMixin.js"),h=c("./src/extras/primitives/primitives.js").registerPrimitive,p=c("./src/utils/index.js");h("a-cursor",p.extendDeep({},d(),{defaultComponents:{cursor:{},geometry:{primitive:"ring",radiusOuter:.016,radiusInner:.01,segmentsTheta:32},material:{color:"#000",shader:"flat",opacity:.8},position:{x:0,y:0,z:-1}},mappings:{far:"raycaster.far",fuse:"cursor.fuse","fuse-timeout":"cursor.fuseTimeout",interval:"raycaster.interval",objects:"raycaster.objects"}}))},"./src/extras/primitives/primitives/a-curvedimage.js":(l,u,c)=>{var d=c("./src/extras/primitives/getMeshMixin.js"),h=c("./src/extras/primitives/primitives.js").registerPrimitive,p=c("./src/utils/index.js");h("a-curvedimage",p.extendDeep({},d(),{defaultComponents:{geometry:{height:1,primitive:"cylinder",radius:2,segmentsRadial:48,thetaLength:270,openEnded:!0,thetaStart:0},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0,repeat:"-1 1"}},mappings:{height:"geometry.height","open-ended":"geometry.openEnded",radius:"geometry.radius",segments:"geometry.segmentsRadial",start:"geometry.thetaStart","theta-length":"geometry.thetaLength","theta-start":"geometry.thetaStart",width:"geometry.thetaLength"}}))},"./src/extras/primitives/primitives/a-gltf-model.js":(l,u,c)=>{var d=c("./src/extras/primitives/primitives.js").registerPrimitive;d("a-gltf-model",{mappings:{src:"gltf-model"}})},"./src/extras/primitives/primitives/a-image.js":(l,u,c)=>{var d=c("./src/extras/primitives/getMeshMixin.js"),h=c("./src/extras/primitives/primitives.js").registerPrimitive,p=c("./src/utils/index.js");h("a-image",p.extendDeep({},d(),{defaultComponents:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0}},mappings:{height:"geometry.height",width:"geometry.width"}}))},"./src/extras/primitives/primitives/a-light.js":(l,u,c)=>{var d=c("./src/extras/primitives/primitives.js").registerPrimitive;d("a-light",{defaultComponents:{light:{}},mappings:{angle:"light.angle",color:"light.color","ground-color":"light.groundColor",decay:"light.decay",distance:"light.distance",intensity:"light.intensity",penumbra:"light.penumbra",type:"light.type",target:"light.target",envmap:"light.envMap","shadow-camera-automatic":"light.shadowCameraAutomatic"}})},"./src/extras/primitives/primitives/a-link.js":(l,u,c)=>{var d=c("./src/extras/primitives/primitives.js").registerPrimitive;d("a-link",{defaultComponents:{link:{visualAspectEnabled:!0}},mappings:{href:"link.href",image:"link.image",title:"link.title"}})},"./src/extras/primitives/primitives/a-obj-model.js":(l,u,c)=>{var d=c("./src/extras/primitives/getMeshMixin.js")(),h=c("./src/extras/primitives/primitives.js").registerPrimitive,p=c("./src/utils/index.js");h("a-obj-model",p.extendDeep({},d,{defaultComponents:{"obj-model":{}},mappings:{src:"obj-model.obj",mtl:"obj-model.mtl"}}))},"./src/extras/primitives/primitives/a-sky.js":(l,u,c)=>{var d=c("./src/extras/primitives/getMeshMixin.js"),h=c("./src/extras/primitives/primitives.js").registerPrimitive,p=c("./src/utils/index.js"),m=c("./src/extras/primitives/primitives/meshPrimitives.js");h("a-sky",p.extendDeep({},d(),{defaultComponents:{geometry:{primitive:"sphere",radius:500,segmentsWidth:64,segmentsHeight:32},material:{color:"#FFF",side:"back",shader:"flat",npot:!0},scale:"-1 1 1"},mappings:p.extendDeep({},m["a-sphere"].mappings)}))},"./src/extras/primitives/primitives/a-sound.js":(l,u,c)=>{var d=c("./src/extras/primitives/primitives.js").registerPrimitive;d("a-sound",{defaultComponents:{sound:{}},mappings:{src:"sound.src",on:"sound.on",autoplay:"sound.autoplay",loop:"sound.loop",volume:"sound.volume"}})},"./src/extras/primitives/primitives/a-text.js":(l,u,c)=>{var d=c("./src/extras/primitives/primitives.js").definePrimitive;d("a-text",{text:{anchor:"align",width:5}})},"./src/extras/primitives/primitives/a-video.js":(l,u,c)=>{var d=c("./src/extras/primitives/getMeshMixin.js"),h=c("./src/extras/primitives/primitives.js").registerPrimitive,p=c("./src/utils/index.js");h("a-video",p.extendDeep({},d(),{defaultComponents:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0}},mappings:{height:"geometry.height",width:"geometry.width"}}))},"./src/extras/primitives/primitives/a-videosphere.js":(l,u,c)=>{var d=c("./src/extras/primitives/getMeshMixin.js"),h=c("./src/extras/primitives/primitives.js").registerPrimitive,p=c("./src/utils/index.js");h("a-videosphere",p.extendDeep({},d(),{defaultComponents:{geometry:{primitive:"sphere",radius:500,segmentsWidth:64,segmentsHeight:32},material:{color:"#FFF",shader:"flat",side:"back",npot:!0},scale:"-1 1 1"},mappings:{radius:"geometry.radius","segments-height":"geometry.segmentsHeight","segments-width":"geometry.segmentsWidth"}}))},"./src/extras/primitives/primitives/meshPrimitives.js":(l,u,c)=>{var d=c("./src/extras/primitives/getMeshMixin.js"),h=c("./src/core/geometry.js").geometries,p=c("./src/core/geometry.js").geometryNames,m=c("./src/extras/primitives/primitives.js").registerPrimitive,v=c("./src/utils/index.js"),y=l.exports={};p.forEach(function(g){var w=h[g],E=A(g),C={};Object.keys(w.schema).forEach(function(L){C[A(L)]="geometry."+L});var _="a-"+E,P=m(_,v.extendDeep({},d(),{defaultComponents:{geometry:{primitive:g}},mappings:C}));y[_]=P});function A(b){return b.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},"./src/geometries/box.js":(l,u,c)=>{var d=c("./src/core/geometry.js").registerGeometry,h=c("./src/lib/three.js");d("box",{schema:{depth:{default:1,min:0},height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:"int"},segmentsWidth:{default:1,min:1,max:20,type:"int"},segmentsDepth:{default:1,min:1,max:20,type:"int"}},init:function(p){this.geometry=new h.BoxGeometry(p.width,p.height,p.depth,p.segmentsWidth,p.segmentsHeight,p.segmentsDepth)}})},"./src/geometries/circle.js":(l,u,c)=>{var d=c("./src/core/geometry.js").registerGeometry,h=c("./src/lib/three.js"),p=h.MathUtils.degToRad;d("circle",{schema:{radius:{default:1,min:0},segments:{default:32,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(m){this.geometry=new h.CircleGeometry(m.radius,m.segments,p(m.thetaStart),p(m.thetaLength))}})},"./src/geometries/cone.js":(l,u,c)=>{var d=c("./src/core/geometry.js").registerGeometry,h=c("./src/lib/three.js"),p=h.MathUtils.degToRad;d("cone",{schema:{height:{default:1,min:0},openEnded:{default:!1},radiusBottom:{default:1,min:0},radiusTop:{default:.01,min:0},segmentsHeight:{default:18,min:1,type:"int"},segmentsRadial:{default:36,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(m){this.geometry=new h.CylinderGeometry(m.radiusTop,m.radiusBottom,m.height,m.segmentsRadial,m.segmentsHeight,m.openEnded,p(m.thetaStart),p(m.thetaLength))}})},"./src/geometries/cylinder.js":(l,u,c)=>{var d=c("./src/core/geometry.js").registerGeometry,h=c("./src/lib/three.js"),p=h.MathUtils.degToRad;d("cylinder",{schema:{height:{default:1,min:0},openEnded:{default:!1},radius:{default:1,min:0},segmentsHeight:{default:18,min:1,type:"int"},segmentsRadial:{default:36,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(m){this.geometry=new h.CylinderGeometry(m.radius,m.radius,m.height,m.segmentsRadial,m.segmentsHeight,m.openEnded,p(m.thetaStart),p(m.thetaLength))}})},"./src/geometries/dodecahedron.js":(l,u,c)=>{var d=c("./src/core/geometry.js").registerGeometry,h=c("./src/lib/three.js");d("dodecahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(p){this.geometry=new h.DodecahedronGeometry(p.radius,p.detail)}})},"./src/geometries/icosahedron.js":(l,u,c)=>{var d=c("./src/core/geometry.js").registerGeometry,h=c("./src/lib/three.js");d("icosahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(p){this.geometry=new h.IcosahedronGeometry(p.radius,p.detail)}})},"./src/geometries/index.js":(l,u,c)=>{c("./src/geometries/box.js"),c("./src/geometries/circle.js"),c("./src/geometries/cone.js"),c("./src/geometries/cylinder.js"),c("./src/geometries/dodecahedron.js"),c("./src/geometries/icosahedron.js"),c("./src/geometries/octahedron.js"),c("./src/geometries/plane.js"),c("./src/geometries/ring.js"),c("./src/geometries/sphere.js"),c("./src/geometries/tetrahedron.js"),c("./src/geometries/torus.js"),c("./src/geometries/torusKnot.js"),c("./src/geometries/triangle.js")},"./src/geometries/octahedron.js":(l,u,c)=>{var d=c("./src/core/geometry.js").registerGeometry,h=c("./src/lib/three.js");d("octahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(p){this.geometry=new h.OctahedronGeometry(p.radius,p.detail)}})},"./src/geometries/plane.js":(l,u,c)=>{var d=c("./src/core/geometry.js").registerGeometry,h=c("./src/lib/three.js");d("plane",{schema:{height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:"int"},segmentsWidth:{default:1,min:1,max:20,type:"int"}},init:function(p){this.geometry=new h.PlaneGeometry(p.width,p.height,p.segmentsWidth,p.segmentsHeight)}})},"./src/geometries/ring.js":(l,u,c)=>{var d=c("./src/core/geometry.js").registerGeometry,h=c("./src/lib/three.js"),p=h.MathUtils.degToRad;d("ring",{schema:{radiusInner:{default:.8,min:0},radiusOuter:{default:1.2,min:0},segmentsPhi:{default:10,min:1,type:"int"},segmentsTheta:{default:32,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(m){this.geometry=new h.RingGeometry(m.radiusInner,m.radiusOuter,m.segmentsTheta,m.segmentsPhi,p(m.thetaStart),p(m.thetaLength))}})},"./src/geometries/sphere.js":(l,u,c)=>{var d=c("./src/core/geometry.js").registerGeometry,h=c("./src/lib/three.js"),p=h.MathUtils.degToRad;d("sphere",{schema:{radius:{default:1,min:0},phiLength:{default:360},phiStart:{default:0,min:0},thetaLength:{default:180,min:0},thetaStart:{default:0},segmentsHeight:{default:18,min:2,type:"int"},segmentsWidth:{default:36,min:3,type:"int"}},init:function(m){this.geometry=new h.SphereGeometry(m.radius,m.segmentsWidth,m.segmentsHeight,p(m.phiStart),p(m.phiLength),p(m.thetaStart),p(m.thetaLength))}})},"./src/geometries/tetrahedron.js":(l,u,c)=>{var d=c("./src/core/geometry.js").registerGeometry,h=c("./src/lib/three.js");d("tetrahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(p){this.geometry=new h.TetrahedronGeometry(p.radius,p.detail)}})},"./src/geometries/torus.js":(l,u,c)=>{var d=c("./src/core/geometry.js").registerGeometry,h=c("./src/lib/three.js"),p=h.MathUtils.degToRad;d("torus",{schema:{arc:{default:360},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:36,min:2,type:"int"},segmentsTubular:{default:32,min:3,type:"int"}},init:function(m){this.geometry=new h.TorusGeometry(m.radius,m.radiusTubular*2,m.segmentsRadial,m.segmentsTubular,p(m.arc))}})},"./src/geometries/torusKnot.js":(l,u,c)=>{var d=c("./src/core/geometry.js").registerGeometry,h=c("./src/lib/three.js");d("torusKnot",{schema:{p:{default:2,min:1},q:{default:3,min:1},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:8,min:3,type:"int"},segmentsTubular:{default:100,min:3,type:"int"}},init:function(p){this.geometry=new h.TorusKnotGeometry(p.radius,p.radiusTubular*2,p.segmentsTubular,p.segmentsRadial,p.p,p.q)}})},"./src/geometries/triangle.js":(l,u,c)=>{var d=c("./src/core/geometry.js").registerGeometry,h=c("./src/lib/three.js"),p=new h.Quaternion,m=new h.Vector3(0,0,1),v=new h.Vector2,y=new h.Vector2,A=new h.Vector2;d("triangle",{schema:{vertexA:{type:"vec3",default:{x:0,y:.5,z:0}},vertexB:{type:"vec3",default:{x:-.5,y:-.5,z:0}},vertexC:{type:"vec3",default:{x:.5,y:-.5,z:0}}},init:function(b){var g,w,E,C,_,P,R,L,T;E=new h.Triangle,E.a.set(b.vertexA.x,b.vertexA.y,b.vertexA.z),E.b.set(b.vertexB.x,b.vertexB.y,b.vertexB.z),E.c.set(b.vertexC.x,b.vertexC.y,b.vertexC.z),w=E.getNormal(new h.Vector3),p.setFromUnitVectors(w,m),C=E.a.clone().applyQuaternion(p),_=E.b.clone().applyQuaternion(p),P=E.c.clone().applyQuaternion(p),v.set(Math.min(C.x,_.x,P.x),Math.min(C.y,_.y,P.y)),y.set(Math.max(C.x,_.x,P.x),Math.max(C.y,_.y,P.y)),A.set(0,0).subVectors(y,v),C=new h.Vector2().subVectors(C,v).divide(A),_=new h.Vector2().subVectors(_,v).divide(A),P=new h.Vector2().subVectors(P,v).divide(A),g=this.geometry=new h.BufferGeometry,R=[E.a.x,E.a.y,E.a.z,E.b.x,E.b.y,E.b.z,E.c.x,E.c.y,E.c.z],L=[w.x,w.y,w.z,w.x,w.y,w.z,w.x,w.y,w.z],T=[C.x,C.y,_.x,_.y,P.x,P.y],g.setAttribute("position",new h.Float32BufferAttribute(R,3)),g.setAttribute("normal",new h.Float32BufferAttribute(L,3)),g.setAttribute("uv",new h.Float32BufferAttribute(T,2))}})},"./src/index.js":(l,u,c)=>{if(window.Promise=window.Promise||c("./node_modules/promise-polyfill/Promise.js"),c("./node_modules/@ungap/custom-elements/index.js"),window.hasNativeWebVRImplementation=!!window.navigator.getVRDisplays||!!window.navigator.getVRDevices,window.hasNativeWebXRImplementation=navigator.xr!==void 0,!window.hasNativeWebXRImplementation&&!window.hasNativeWebVRImplementation){var d=c("./src/utils/isIOSOlderThan10.js"),h=d(window.navigator.userAgent)?1/window.devicePixelRatio:1,p=c("./node_modules/webvr-polyfill/build/webvr-polyfill.js"),m={BUFFER_SCALE:h,CARDBOARD_UI_DISABLED:!0,ROTATE_INSTRUCTIONS_DISABLED:!0,MOBILE_WAKE_LOCK:!!window.cordova};window.webvrpolyfill=new p(m)}var v=c("./src/utils/index.js"),y=v.debug;v.isIE11&&(c("./node_modules/custom-event-polyfill/polyfill.js"),c("./vendor/starts-with-polyfill.js"));var A=y("A-Frame:error"),b=y("A-Frame:warn");window.document.currentScript&&window.document.currentScript.parentNode!==window.document.head&&!window.debug&&b("Put the A-Frame <script> tag in the <head> of the HTML *before* the scene to ensure everything for A-Frame is properly registered before they are used from HTML."),!window.cordova&&window.location.protocol==="file:"&&A("This HTML file is currently being served via the file:// protocol. Assets, textures, and models WILL NOT WORK due to cross-origin policy! Please use a local or hosted server: https://aframe.io/docs/0.5.0/introduction/getting-started.html#using-a-local-server."),c("./node_modules/present/lib/present-browser.js"),v.device.isBrowserEnvironment&&(c("./src/style/aframe.css"),c("./src/style/rStats.css"));var g=c("./src/core/scene/a-scene.js").AScene,w=c("./src/core/component.js").components,E=c("./src/core/component.js").registerComponent,C=c("./src/core/geometry.js").registerGeometry,_=c("./src/extras/primitives/primitives.js").registerPrimitive,P=c("./src/core/shader.js").registerShader,R=c("./src/core/system.js").registerSystem,L=c("./src/core/shader.js").shaders,T=c("./src/core/system.js").systems,D=window.THREE=c("./src/lib/three.js"),H=c("./package.json");c("./src/components/index.js"),c("./src/geometries/index.js"),c("./src/shaders/index.js"),c("./src/systems/index.js");var V=c("./src/core/a-node.js").ANode,B=c("./src/core/a-entity.js").AEntity;c("./src/core/a-assets.js"),c("./src/core/a-cubemap.js"),c("./src/core/a-mixin.js"),c("./src/extras/components/index.js"),c("./src/extras/primitives/index.js"),console.log("A-Frame Version: 1.4.2 (Date 2023-04-22, Commit #4e521f1f)"),console.log("THREE Version (https://github.com/supermedium/three.js):",H.dependencies["super-three"]),console.log("WebVR Polyfill Version:",H.dependencies["webvr-polyfill"]),l.exports=window.AFRAME={AComponent:c("./src/core/component.js").Component,AEntity:B,ANode:V,ANIME:c("./node_modules/super-animejs/lib/anime.es.js").default,AScene:g,components:w,coreComponents:Object.keys(w),geometries:c("./src/core/geometry.js").geometries,registerComponent:E,registerGeometry:C,registerPrimitive:_,registerShader:P,registerSystem:R,primitives:{getMeshMixin:c("./src/extras/primitives/getMeshMixin.js"),primitives:c("./src/extras/primitives/primitives.js").primitives},scenes:c("./src/core/scene/scenes.js"),schema:c("./src/core/schema.js"),shaders:L,systems:T,THREE:D,utils:v,version:H.version}},"./src/lib/rStatsAframe.js":l=>{window.aframeStats=function(u){var c=null,d=u,h={te:{caption:"Entities"},lt:{caption:"Load Time"}},p=[{caption:"A-Frame",values:["te","lt"]}];function m(){c("te").set(v()),window.performance.getEntriesByName&&c("lt").set(window.performance.getEntriesByName("render-started")[0].startTime.toFixed(0))}function v(){var g=d.querySelectorAll("*");return Array.prototype.slice.call(g).filter(function(w){return w.isEntity}),g.length}function y(){}function A(){}function b(g){c=g}return{update:m,start:y,end:A,attach:b,values:h,groups:p,fractions:[]}},l.exports={aframeStats:window.aframeStats}},"./src/lib/three.js":(l,u,c)=>{var d=c("./src/lib/three.module.js").default;d.TextureLoader&&(d.TextureLoader.prototype.crossOrigin="anonymous"),d.ImageLoader&&(d.ImageLoader.prototype.crossOrigin="anonymous"),d.Cache&&(d.Cache.enabled=!0),d.DRACOLoader.prototype.crossOrigin="anonymous",d.GLTFLoader.prototype.crossOrigin="anonymous",d.KTX2Loader.prototype.crossOrigin="anonymous",d.MTLLoader.prototype.crossOrigin="anonymous",d.OBJLoader.prototype.crossOrigin="anonymous",l.exports=d},"./src/lib/three.module.js":(l,u,c)=>{c.r(u),c.d(u,{default:()=>E});var d=c("./node_modules/super-three/build/three.module.js"),h=c("./node_modules/super-three/examples/jsm/loaders/DRACOLoader.js"),p=c("./node_modules/super-three/examples/jsm/loaders/GLTFLoader.js"),m=c("./node_modules/super-three/examples/jsm/loaders/KTX2Loader.js"),v=c("./node_modules/super-three/examples/jsm/loaders/OBJLoader.js"),y=c("./node_modules/super-three/examples/jsm/loaders/MTLLoader.js"),A=c("./node_modules/super-three/examples/jsm/utils/BufferGeometryUtils.js"),b=c("./node_modules/super-three/examples/jsm/lights/LightProbeGenerator.js"),g=c("./node_modules/object-assign/index.js"),w=window.THREE=g({},d);c("./vendor/DeviceOrientationControls.js"),w.DRACOLoader=h.DRACOLoader,w.GLTFLoader=p.GLTFLoader,w.KTX2Loader=m.KTX2Loader,w.OBJLoader=v.OBJLoader,w.MTLLoader=y.MTLLoader,w.BufferGeometryUtils=A,w.LightProbeGenerator=b.LightProbeGenerator;const E=w},"./src/shaders/flat.js":(l,u,c)=>{var d=c("./src/core/shader.js").registerShader,h=c("./src/lib/three.js"),p=c("./src/utils/index.js");l.exports.Shader=d("flat",{schema:{color:{type:"color"},fog:{default:!0},height:{default:256},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},src:{type:"map"},width:{default:512},wireframe:{default:!1},wireframeLinewidth:{default:2},toneMapped:{default:!0}},init:function(v){this.rendererSystem=this.el.sceneEl.systems.renderer,this.materialData={color:new h.Color},this.textureSrc=null,m(v,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color),this.material=new h.MeshBasicMaterial(this.materialData)},update:function(v){this.updateMaterial(v),p.material.updateMap(this,v)},updateMaterial:function(v){var y;m(v,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color);for(y in this.materialData)this.material[y]=this.materialData[y]}});function m(v,y){return y.color.set(v.color),y.fog=v.fog,y.wireframe=v.wireframe,y.toneMapped=v.toneMapped,y.wireframeLinewidth=v.wireframeLinewidth,y}},"./src/shaders/index.js":(l,u,c)=>{c("./src/shaders/flat.js"),c("./src/shaders/standard.js"),c("./src/shaders/phong.js"),c("./src/shaders/sdf.js"),c("./src/shaders/msdf.js"),c("./src/shaders/ios10hls.js"),c("./src/shaders/shadow.js")},"./src/shaders/ios10hls.js":(l,u,c)=>{var d=c("./src/core/shader.js").registerShader;l.exports.Shader=d("ios10hls",{schema:{src:{type:"map",is:"uniform"},opacity:{type:"number",is:"uniform",default:1}},vertexShader:["varying vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join(`
`),fragmentShader:["uniform sampler2D src;","uniform float opacity;","varying vec2 vUV;","void main() {","  vec2 offset = vec2(0, 0);","  vec2 repeat = vec2(1, 1);","  vec4 color = texture2D(src, vec2(vUV.x / repeat.x + offset.x, (1.0 - vUV.y) / repeat.y + offset.y)).bgra;","  gl_FragColor = vec4(color.rgb, opacity);","}"].join(`
`)})},"./src/shaders/msdf.js":(l,u,c)=>{var d=c("./src/core/shader.js").registerShader,h=!!document.createElement("canvas").getContext("webgl2"),p=["attribute vec2 uv;","attribute vec3 position;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join(`
`),m=["#version 300 es","in vec2 uv;","in vec3 position;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","out vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join(`
`),v=h?m:p,y=["#ifdef GL_OES_standard_derivatives","#extension GL_OES_standard_derivatives: enable","#endif","precision highp float;","uniform bool negate;","uniform float alphaTest;","uniform float opacity;","uniform sampler2D map;","uniform vec3 color;","varying vec2 vUV;","float median(float r, float g, float b) {","  return max(min(r, g), min(max(r, g), b));","}","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","void main() {","  vec3 sampleColor = texture2D(map, vUV).rgb;","  if (negate) { sampleColor = 1.0 - sampleColor; }","  float sigDist = median(sampleColor.r, sampleColor.g, sampleColor.b) - 0.5;","  float alpha = clamp(sigDist / fwidth(sigDist) + 0.5, 0.0, 1.0);","  float dscale = 0.353505;","  vec2 duv = dscale * (dFdx(vUV) + dFdy(vUV));","  float isBigEnough = max(abs(duv.x), abs(duv.y));","  // Do modified alpha test.","  if (isBigEnough > BIG_ENOUGH) {","    float ratio = BIG_ENOUGH / isBigEnough;","    alpha = ratio * alpha + (1.0 - ratio) * (sigDist + 0.5);","  }","  // Do modified alpha test.","  if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","  gl_FragColor = vec4(color.xyz, alpha * opacity);","}"].join(`
`),A=["#version 300 es","precision highp float;","uniform bool negate;","uniform float alphaTest;","uniform float opacity;","uniform sampler2D map;","uniform vec3 color;","in vec2 vUV;","out vec4 fragColor;","float median(float r, float g, float b) {","  return max(min(r, g), min(max(r, g), b));","}","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","void main() {","  vec3 sampleColor = texture(map, vUV).rgb;","  if (negate) { sampleColor = 1.0 - sampleColor; }","  float sigDist = median(sampleColor.r, sampleColor.g, sampleColor.b) - 0.5;","  float alpha = clamp(sigDist / fwidth(sigDist) + 0.5, 0.0, 1.0);","  float dscale = 0.353505;","  vec2 duv = dscale * (dFdx(vUV) + dFdy(vUV));","  float isBigEnough = max(abs(duv.x), abs(duv.y));","  // Do modified alpha test.","  if (isBigEnough > BIG_ENOUGH) {","    float ratio = BIG_ENOUGH / isBigEnough;","    alpha = ratio * alpha + (1.0 - ratio) * (sigDist + 0.5);","  }","  // Do modified alpha test.","  if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","  fragColor = vec4(color.xyz, alpha * opacity);","}"].join(`
`),b=h?A:y;l.exports.Shader=d("msdf",{schema:{alphaTest:{type:"number",is:"uniform",default:.5},color:{type:"color",is:"uniform",default:"white"},map:{type:"map",is:"uniform"},negate:{type:"boolean",is:"uniform",default:!0},opacity:{type:"number",is:"uniform",default:1}},raw:!0,vertexShader:v,fragmentShader:b})},"./src/shaders/phong.js":(l,u,c)=>{var d=c("./src/core/shader.js").registerShader,h=c("./src/lib/three.js"),p=c("./src/utils/index.js"),m=new h.CubeTextureLoader,v={};l.exports.Shader=d("phong",{schema:{color:{type:"color"},emissive:{type:"color",default:"black"},emissiveIntensity:{default:1},specular:{type:"color",default:"#111111"},transparent:{default:!1},fog:{default:!0},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},src:{type:"map"},envMap:{default:""},sphericalEnvMap:{type:"map"},shininess:{default:30},flatShading:{default:!1},wireframe:{default:!1},wireframeLinewidth:{default:2},combine:{oneOF:["multiply","mix","add"],default:"mix"},reflectivity:{default:.9},refractionRatio:{default:.98},refract:{default:!1},normalMap:{type:"map"},normalScale:{type:"vec2",default:{x:1,y:1}},normalTextureOffset:{type:"vec2"},normalTextureRepeat:{type:"vec2",default:{x:1,y:1}},displacementMap:{type:"map"},displacementScale:{default:1},displacementBias:{default:.5},displacementTextureOffset:{type:"vec2"},displacementTextureRepeat:{type:"vec2",default:{x:1,y:1}},bumpMap:{type:"map"},bumpMapScale:{default:1},bumpTextureOffset:{type:"vec2"},bumpTextureRepeat:{type:"vec2",default:{x:1,y:1}}},init:function(A){this.rendererSystem=this.el.sceneEl.systems.renderer,this.materialData={color:new h.Color,specular:new h.Color,emissive:new h.Color},this.textureSrc=null,y(A,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color),this.material=new h.MeshPhongMaterial(this.materialData),p.material.updateMap(this,A)},update:function(A){this.updateMaterial(A),p.material.updateMap(this,A),A.normalMap&&p.material.updateDistortionMap("normal",this,A),A.displacementMap&&p.material.updateDistortionMap("displacement",this,A),A.ambientOcclusionMap&&p.material.updateDistortionMap("ambientOcclusion",this,A),A.bump&&p.material.updateDistortionMap("bump",this,A),this.updateEnvMap(A)},updateMaterial:function(A){var b;y(A,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color);for(b in this.materialData)this.material[b]=this.materialData[b]},updateEnvMap:function(A){var b=this,g=this.material,w=A.envMap,E=A.sphericalEnvMap,C=A.refract,_=this.el.sceneEl;if(!w&&!E||this.isLoadingEnvMap){Object.defineProperty(g,"envMap",{get:function(){return _.object3D.environment},set:function(P){delete this.envMap,this.envMap=P}}),g.needsUpdate=!0;return}if(this.isLoadingEnvMap=!0,delete g.envMap,E){this.el.sceneEl.systems.material.loadTexture(E,{src:E},function(R){b.isLoadingEnvMap=!1,R.mapping=C?h.EquirectangularRefractionMapping:h.EquirectangularReflectionMapping,g.envMap=R,p.material.handleTextureEvents(b.el,R),g.needsUpdate=!0});return}if(v[w]){v[w].then(function(P){b.isLoadingEnvMap=!1,g.envMap=P,p.material.handleTextureEvents(b.el,P),g.needsUpdate=!0});return}v[w]=new Promise(function(P){p.srcLoader.validateCubemapSrc(w,function(L){m.load(L,function(T){b.isLoadingEnvMap=!1,g.envMap=T,T.mapping=C?h.CubeRefractionMapping:h.CubeReflectionMapping,p.material.handleTextureEvents(b.el,T),P(T)})})})}});function y(A,b){switch(b.color.set(A.color),b.specular.set(A.emissive),b.emissive.set(A.emissive),b.emissiveIntensity=A.emissiveIntensity,b.fog=A.fog,b.transparent=A.transparent,b.wireframe=A.wireframe,b.wireframeLinewidth=A.wireframeLinewidth,b.shininess=A.shininess,b.flatShading=A.flatShading,b.wireframe=A.wireframe,b.wireframeLinewidth=A.wireframeLinewidth,b.reflectivity=A.reflectivity,b.refractionRatio=A.refractionRatio,A.combine){case"mix":b.combine=h.MixOperation;break;case"multiply":b.combine=h.MultiplyOperation;break;case"add":b.combine=h.AddOperation;break}return A.normalMap&&(b.normalScale=A.normalScale),A.ambientOcclusionMap&&(b.aoMapIntensity=A.ambientOcclusionMapIntensity),A.bumpMap&&(b.aoMapIntensity=A.bumpMapScale),A.displacementMap&&(b.displacementScale=A.displacementScale,b.displacementBias=A.displacementBias),b}},"./src/shaders/sdf.js":(l,u,c)=>{var d=c("./src/core/shader.js").registerShader,h=!!document.createElement("canvas").getContext("webgl2"),p=["attribute vec2 uv;","attribute vec3 position;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join(`
`),m=["#version 300 es","in vec2 uv;","in vec3 position;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","out vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join(`
`),v=h?m:p,y=["#ifdef GL_OES_standard_derivatives","#extension GL_OES_standard_derivatives: enable","#endif","precision highp float;","uniform float alphaTest;","uniform float opacity;","uniform sampler2D map;","uniform vec3 color;","varying vec2 vUV;","#ifdef GL_OES_standard_derivatives","  float contour(float width, float value) {","    return smoothstep(0.5 - value, 0.5 + value, width);","  }","#else","  float aastep(float value, float afwidth) {","    return smoothstep(0.5 - afwidth, 0.5 + afwidth, value);","  }","#endif","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","#define ALL_SMOOTH 0.4","#define ALL_ROUGH 0.02","#define DISCARD_ALPHA (alphaTest / (2.2 - 1.2 * ratio))","void main() {","  #ifdef GL_OES_standard_derivatives","    vec2 uv = vUV;","    vec4 texColor = texture2D(map, uv);","    float dist = texColor.a;","    float width = fwidth(dist);","    float alpha = contour(dist, width);","    float dscale = 0.353505;","    vec2 duv = dscale * (dFdx(uv) + dFdy(uv));","    float isBigEnough = max(abs(duv.x), abs(duv.y));","    if (isBigEnough > BIG_ENOUGH) {","      float ratio = BIG_ENOUGH / isBigEnough;","      alpha = ratio * alpha + (1.0 - ratio) * dist;","    }","    if (isBigEnough <= BIG_ENOUGH) {","      vec4 box = vec4 (uv - duv, uv + duv);","      alpha = (alpha + 0.5 * (","        contour(texture2D(map, box.xy).a, width)","        + contour(texture2D(map, box.zw).a, width)","        + contour(texture2D(map, box.xw).a, width)","        + contour(texture2D(map, box.zy).a, width)","      )) / 3.0;","    }","    if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","  #else","    vec4 texColor = texture2D(map, vUV);","    float value = texColor.a;","    float afwidth = (1.0 / 32.0) * (1.4142135623730951 / (2.0 * gl_FragCoord.w));","    float alpha = aastep(value, afwidth);","    float ratio = (gl_FragCoord.w >= ALL_SMOOTH) ? 1.0 : (gl_FragCoord.w < ALL_ROUGH) ? 0.0 : (gl_FragCoord.w - ALL_ROUGH) / (ALL_SMOOTH - ALL_ROUGH);","    if (alpha < alphaTest) { if (ratio >= 1.0) { discard; return; } alpha = 0.0; }","    alpha = alpha * ratio + (1.0 - ratio) * value;","    if (ratio < 1.0 && alpha <= DISCARD_ALPHA) { discard; return; }","  #endif","  gl_FragColor = vec4(color, opacity * alpha);","}"].join(`
`),A=["#version 300 es","precision highp float;","uniform float alphaTest;","uniform float opacity;","uniform sampler2D map;","uniform vec3 color;","in vec2 vUV;","out vec4 fragColor;","#ifdef GL_OES_standard_derivatives","  float contour(float width, float value) {","    return smoothstep(0.5 - value, 0.5 + value, width);","  }","#else","  float aastep(float value, float afwidth) {","    return smoothstep(0.5 - afwidth, 0.5 + afwidth, value);","  }","#endif","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","#define ALL_SMOOTH 0.4","#define ALL_ROUGH 0.02","#define DISCARD_ALPHA (alphaTest / (2.2 - 1.2 * ratio))","void main() {","  #ifdef GL_OES_standard_derivatives","    vec2 uv = vUV;","    vec4 texColor = texture(map, uv);","    float dist = texColor.a;","    float width = fwidth(dist);","    float alpha = contour(dist, width);","    float dscale = 0.353505;","    vec2 duv = dscale * (dFdx(uv) + dFdy(uv));","    float isBigEnough = max(abs(duv.x), abs(duv.y));","    if (isBigEnough > BIG_ENOUGH) {","      float ratio = BIG_ENOUGH / isBigEnough;","      alpha = ratio * alpha + (1.0 - ratio) * dist;","    }","    if (isBigEnough <= BIG_ENOUGH) {","      vec4 box = vec4 (uv - duv, uv + duv);","      alpha = (alpha + 0.5 * (","        contour(texture(map, box.xy).a, width)","        + contour(texture(map, box.zw).a, width)","        + contour(texture(map, box.xw).a, width)","        + contour(texture(map, box.zy).a, width)","      )) / 3.0;","    }","    if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","  #else","    vec4 texColor = texture(map, vUV);","    float value = texColor.a;","    float afwidth = (1.0 / 32.0) * (1.4142135623730951 / (2.0 * gl_FragCoord.w));","    float alpha = aastep(value, afwidth);","    float ratio = (gl_FragCoord.w >= ALL_SMOOTH) ? 1.0 : (gl_FragCoord.w < ALL_ROUGH) ? 0.0 : (gl_FragCoord.w - ALL_ROUGH) / (ALL_SMOOTH - ALL_ROUGH);","    if (alpha < alphaTest) { if (ratio >= 1.0) { discard; return; } alpha = 0.0; }","    alpha = alpha * ratio + (1.0 - ratio) * value;","    if (ratio < 1.0 && alpha <= DISCARD_ALPHA) { discard; return; }","  #endif","  fragColor = vec4(color, opacity * alpha);","}"].join(`
`),b=h?A:y;l.exports.Shader=d("sdf",{schema:{alphaTest:{type:"number",is:"uniform",default:.5},color:{type:"color",is:"uniform",default:"white"},map:{type:"map",is:"uniform"},opacity:{type:"number",is:"uniform",default:1}},raw:!0,vertexShader:v,fragmentShader:b})},"./src/shaders/shadow.js":(l,u,c)=>{var d=c("./src/core/shader.js").registerShader,h=c("./src/lib/three.js");l.exports.Shader=d("shadow",{schema:{opacity:{default:.5},transparent:{default:!0},alphaToCoverage:{default:!0}},init:function(p){this.rendererSystem=this.el.sceneEl.systems.renderer,this.material=new h.ShadowMaterial},update:function(p){this.material.opacity=p.opacity,this.material.alphaToCoverage=p.alphaToCoverage,this.material.transparent=p.transparent}})},"./src/shaders/standard.js":(l,u,c)=>{var d=c("./src/core/shader.js").registerShader,h=c("./src/lib/three.js"),p=c("./src/utils/index.js"),m=new h.CubeTextureLoader,v={};l.exports.Shader=d("standard",{schema:{ambientOcclusionMap:{type:"map"},ambientOcclusionMapIntensity:{default:1},ambientOcclusionTextureOffset:{type:"vec2"},ambientOcclusionTextureRepeat:{type:"vec2",default:{x:1,y:1}},color:{type:"color"},displacementMap:{type:"map"},displacementScale:{default:1},displacementBias:{default:.5},displacementTextureOffset:{type:"vec2"},displacementTextureRepeat:{type:"vec2",default:{x:1,y:1}},emissive:{type:"color",default:"#000"},emissiveIntensity:{default:1},envMap:{default:""},fog:{default:!0},height:{default:256},metalness:{default:0,min:0,max:1},metalnessMap:{type:"map"},metalnessTextureOffset:{type:"vec2"},metalnessTextureRepeat:{type:"vec2",default:{x:1,y:1}},normalMap:{type:"map"},normalScale:{type:"vec2",default:{x:1,y:1}},normalTextureOffset:{type:"vec2"},normalTextureRepeat:{type:"vec2",default:{x:1,y:1}},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},roughness:{default:.5,min:0,max:1},roughnessMap:{type:"map"},roughnessTextureOffset:{type:"vec2"},roughnessTextureRepeat:{type:"vec2",default:{x:1,y:1}},sphericalEnvMap:{type:"map"},src:{type:"map"},width:{default:512},wireframe:{default:!1},wireframeLinewidth:{default:2}},init:function(A){this.rendererSystem=this.el.sceneEl.systems.renderer,this.materialData={color:new h.Color,emissive:new h.Color},y(A,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color),this.rendererSystem.applyColorCorrection(this.materialData.emissive),this.material=new h.MeshStandardMaterial(this.materialData)},update:function(A){this.updateMaterial(A),p.material.updateMap(this,A),A.normalMap&&p.material.updateDistortionMap("normal",this,A),A.displacementMap&&p.material.updateDistortionMap("displacement",this,A),A.ambientOcclusionMap&&p.material.updateDistortionMap("ambientOcclusion",this,A),A.metalnessMap&&p.material.updateDistortionMap("metalness",this,A),A.roughnessMap&&p.material.updateDistortionMap("roughness",this,A),this.updateEnvMap(A)},updateMaterial:function(A){var b,g=this.material;y(A,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color),this.rendererSystem.applyColorCorrection(this.materialData.emissive);for(b in this.materialData)g[b]=this.materialData[b]},updateEnvMap:function(A){var b=this,g=this.material,w=A.envMap,E=A.sphericalEnvMap;if(!w&&!E||this.isLoadingEnvMap){g.envMap=null,g.needsUpdate=!0;return}if(this.isLoadingEnvMap=!0,E){this.el.sceneEl.systems.material.loadTexture(E,{src:E},function(_){b.isLoadingEnvMap=!1,_.mapping=h.EquirectangularReflectionMapping,g.envMap=_,p.material.handleTextureEvents(b.el,_),g.needsUpdate=!0});return}if(v[w]){v[w].then(function(C){b.isLoadingEnvMap=!1,g.envMap=C,p.material.handleTextureEvents(b.el,C),g.needsUpdate=!0});return}v[w]=new Promise(function(C){p.srcLoader.validateCubemapSrc(w,function(P){m.load(P,function(R){b.isLoadingEnvMap=!1,g.envMap=R,p.material.handleTextureEvents(b.el,R),C(R)})})})}});function y(A,b){return b.color.set(A.color),b.emissive.set(A.emissive),b.emissiveIntensity=A.emissiveIntensity,b.fog=A.fog,b.metalness=A.metalness,b.roughness=A.roughness,b.wireframe=A.wireframe,b.wireframeLinewidth=A.wireframeLinewidth,A.normalMap&&(b.normalScale=A.normalScale),A.ambientOcclusionMap&&(b.aoMapIntensity=A.ambientOcclusionMapIntensity),A.displacementMap&&(b.displacementScale=A.displacementScale,b.displacementBias=A.displacementBias),b}},"./src/systems/camera.js":(l,u,c)=>{var d=c("./src/constants/index.js"),h=c("./src/core/system.js").registerSystem,p="data-aframe-default-camera";l.exports.System=h("camera",{init:function(){this.activeCameraEl=null,this.render=this.render.bind(this),this.unwrapRender=this.unwrapRender.bind(this),this.wrapRender=this.wrapRender.bind(this),this.initialCameraFound=!1,this.numUserCameras=0,this.numUserCamerasChecked=0,this.setupInitialCamera()},setupInitialCamera:function(){var v,y,A=this.sceneEl,b=this;if(A.camera&&!A.camera.el.getAttribute("camera").spectator){A.emit("cameraready",{cameraEl:A.camera.el});return}if(v=A.querySelectorAll("a-camera, :not(a-mixin)[camera]"),!v.length){this.createDefaultCamera();return}for(this.numUserCameras=v.length,y=0;y<v.length;y++)v[y].addEventListener("object3dset",function(g){g.detail.type==="camera"&&b.checkUserCamera(this)}),v[y].isNode?v[y].load():v[y].addEventListener("nodeready",function(){this.load()})},checkUserCamera:function(v){var y,A=this.el.sceneEl;if(this.numUserCamerasChecked++,!this.initialCameraFound){if(y=v.getAttribute("camera"),!y.active||y.spectator){this.numUserCamerasChecked===this.numUserCameras&&this.createDefaultCamera();return}this.initialCameraFound=!0,A.camera=v.getObject3D("camera"),A.emit("cameraready",{cameraEl:v})}},createDefaultCamera:function(){var v,y=this.sceneEl;v=document.createElement("a-entity"),v.setAttribute("camera",{active:!0}),v.setAttribute("position",{x:0,y:d.DEFAULT_CAMERA_HEIGHT,z:0}),v.setAttribute("wasd-controls",""),v.setAttribute("look-controls",""),v.setAttribute(d.AFRAME_INJECTED,""),v.addEventListener("object3dset",function(A){A.detail.type==="camera"&&(y.camera=A.detail.object,y.emit("cameraready",{cameraEl:v}))}),y.appendChild(v)},disableActiveCamera:function(){var v,y;v=this.sceneEl.querySelectorAll(":not(a-mixin)[camera]"),y=v[v.length-1],y.setAttribute("camera","active",!0)},setActiveCamera:function(v){var y,A,b,g,w=this.activeCameraEl,E=this.sceneEl;if(g=v.getObject3D("camera"),!(!g||v===this.activeCameraEl)){var C=E.querySelector("["+p+"]"),_=C&&C.querySelector(":not(a-mixin)[camera]");for(v!==_&&m(E),this.activeCameraEl=v,this.activeCameraEl.play(),E.camera=g,w&&w.setAttribute("camera","active",!1),A=E.querySelectorAll(":not(a-mixin)[camera]"),b=0;b<A.length;b++)y=A[b],!(!y.isEntity||v===y)&&(y.setAttribute("camera","active",!1),y.pause());E.emit("camera-set-active",{cameraEl:v})}},setSpectatorCamera:function(v){var y,A=this.spectatorCameraEl,b=this.sceneEl,g;y=v.getObject3D("camera"),!(!y||v===this.spectatorCameraEl)&&(A&&A.setAttribute("camera","spectator",!1),g=this.spectatorCameraEl=v,b.addEventListener("enter-vr",this.wrapRender),b.addEventListener("exit-vr",this.unwrapRender),g.setAttribute("camera","active",!1),g.play(),b.emit("camera-set-spectator",{cameraEl:v}))},disableSpectatorCamera:function(){this.spectatorCameraEl=void 0},wrapRender:function(){!this.spectatorCameraEl||this.originalRender||(this.originalRender=this.sceneEl.renderer.render,this.sceneEl.renderer.render=this.render)},unwrapRender:function(){this.originalRender&&(this.sceneEl.renderer.render=this.originalRender,this.originalRender=void 0)},render:function(v,y){var A,b=this.sceneEl,g;A=b.renderer.xr.enabled,this.originalRender.call(b.renderer,v,y),!(!this.spectatorCameraEl||b.isMobile||!A)&&(g=this.spectatorCameraEl.components.camera.camera,b.renderer.xr.enabled=!1,this.originalRender.call(b.renderer,v,g),b.renderer.xr.enabled=A)}});function m(v){var y,A=v.camera;A&&(y=v.querySelector("["+p+"]"),y&&v.removeChild(y))}},"./src/systems/geometry.js":(l,u,c)=>{var d=c("./src/core/geometry.js").geometries,h=c("./src/core/system.js").registerSystem;l.exports.System=h("geometry",{init:function(){this.cache={},this.cacheCount={}},clearCache:function(){this.cache={},this.cacheCount={}},getOrCreateGeometry:function(y){var A=this.cache,b,g;return y.skipCache?p(y):(g=this.hash(y),b=A[g],v(this.cacheCount,g),b||(b=p(y),A[g]=b,b))},unuseGeometry:function(y){var A=this.cache,b=this.cacheCount,g,w;y.skipCache||(w=this.hash(y),A[w]&&(m(b,w),!(b[w]>0)&&(g=A[w],g.dispose(),delete A[w],delete b[w])))},hash:function(y){return JSON.stringify(y)}});function p(y){var A=y.primitive,b=d[A]&&d[A].Geometry,g=new b;if(!b)throw new Error("Unknown geometry `"+A+"`");return g.init(y),g.geometry}function m(y,A){y[A]--}function v(y,A){y[A]=y[A]===void 0?1:y[A]+1}},"./src/systems/gltf-model.js":(l,u,c)=>{var d=c("./src/core/system.js").registerSystem,h=c("./src/lib/three.js");function p(m){return new Promise(function(v,y){var A=document.createElement("script");document.body.appendChild(A),A.onload=v,A.onerror=y,A.async=!0,A.src=m})}l.exports.System=d("gltf-model",{schema:{dracoDecoderPath:{default:"https://www.gstatic.com/draco/versioned/decoders/1.5.6/"},basisTranscoderPath:{default:""},meshoptDecoderPath:{default:""}},init:function(){this.update()},update:function(){var m=this.data.dracoDecoderPath,v=this.data.basisTranscoderPath,y=this.data.meshoptDecoderPath;!this.dracoLoader&&m&&(this.dracoLoader=new h.DRACOLoader,this.dracoLoader.setDecoderPath(m)),!this.ktx2Loader&&v&&(this.ktx2Loader=new h.KTX2Loader,this.ktx2Loader.setTranscoderPath(v).detectSupport(this.el.renderer)),!this.meshoptDecoder&&y&&(this.meshoptDecoder=p(y).then(function(){return window.MeshoptDecoder.ready}).then(function(){return window.MeshoptDecoder}))},getDRACOLoader:function(){return this.dracoLoader},getKTX2Loader:function(){return this.ktx2Loader},getMeshoptDecoder:function(){return this.meshoptDecoder}})},"./src/systems/index.js":(l,u,c)=>{c("./src/systems/camera.js"),c("./src/systems/geometry.js"),c("./src/systems/gltf-model.js"),c("./src/systems/light.js"),c("./src/systems/material.js"),c("./src/systems/renderer.js"),c("./src/systems/shadow.js"),c("./src/systems/tracked-controls-webvr.js"),c("./src/systems/tracked-controls-webxr.js"),c("./src/systems/webxr.js")},"./src/systems/light.js":(l,u,c)=>{var d=c("./src/core/system.js").registerSystem,h=c("./src/utils/bind.js"),p=c("./src/constants/index.js"),m="data-aframe-default-light";l.exports.System=d("light",{schema:{defaultLightsEnabled:{default:!0}},init:function(){this.defaultLights=!1,this.userDefinedLights=!1,this.sceneEl.addEventListener("loaded",h(this.setupDefaultLights,this))},registerLight:function(v){v.hasAttribute(m)||(this.removeDefaultLights(),this.userDefinedLights=!0)},removeDefaultLights:function(){var v,y=this.sceneEl;if(this.defaultLights){v=document.querySelectorAll("["+m+"]");for(var A=0;A<v.length;A++)y.removeChild(v[A]);this.defaultLights=!1}},setupDefaultLights:function(){var v=this.sceneEl,y,A;this.userDefinedLights||this.defaultLights||!this.data.defaultLightsEnabled||(y=document.createElement("a-entity"),y.setAttribute("light",{color:"#BBB",type:"ambient"}),y.setAttribute(m,""),y.setAttribute(p.AFRAME_INJECTED,""),v.appendChild(y),A=document.createElement("a-entity"),A.setAttribute("light",{color:"#FFF",intensity:.6,castShadow:!0}),A.setAttribute("position",{x:-.5,y:1,z:1}),A.setAttribute(m,""),A.setAttribute(p.AFRAME_INJECTED,""),v.appendChild(A),this.defaultLights=!0)}})},"./src/systems/material.js":(l,u,c)=>{var d=c("./src/core/system.js").registerSystem,h=c("./src/lib/three.js"),p=c("./src/utils/index.js"),m=c("./src/utils/material.js").isHLS,v=c("./src/utils/material.js").setTextureProperties,y=p.bind,A=p.debug,b=A("components:texture:error"),g=new h.TextureLoader,w=A("components:texture:warn");g.setCrossOrigin("anonymous"),l.exports.System=d("material",{init:function(){this.materials={},this.textureCounts={},this.textureCache={},this.sceneEl.addEventListener("materialtextureloaded",y(this.onMaterialTextureLoaded,this))},clearTextureCache:function(){this.textureCache={}},loadTexture:function(R,L,T){var D=this;if(R.tagName==="CANVAS"){this.loadCanvas(R,L,T);return}if(R.tagName==="VIDEO"){!R.src&&!R.srcObject&&!R.childElementCount&&w("Video element was defined with neither `source` elements nor `src` / `srcObject` attributes."),this.loadVideo(R,L,T);return}p.srcLoader.validateSrc(R,H,V);function H(B){D.loadImage(B,L,T)}function V(B){D.loadVideo(B,L,T)}},loadImage:function(R,L,T){var D=this.hash(L),H=this.textureCache;if(H[D]){H[D].then(T);return}H[D]=C(R,L),H[D].then(T)},loadCanvas:function(R,L,T){var D;D=new h.CanvasTexture(R),v(D,L),T(D)},loadVideo:function(R,L,T){var D,H,V=this.textureCache,B,O;function F(N){N.texture.needsUpdate=!0,T(N.texture,N.videoEl)}if(typeof R!="string"){if(B=R,D=this.hashVideo(L,B),V[D]){V[D].then(F);return}P(B)}if(B=B||_(R,L.width,L.height),D=this.hashVideo(L,B),V[D]){V[D].then(F);return}H=new h.VideoTexture(B),H.minFilter=h.LinearFilter,v(H,L),this.sceneEl.isIOS&&m(B.src||B.getAttribute("src"),B.type||B.getAttribute("type"))&&(H.format=h.RGBAFormat,H.needsCorrectionBGRA=!0,H.flipY=!1,H.needsCorrectionFlipY=!0),O={texture:H,videoEl:B},V[D]=Promise.resolve(O),F(O)},hash:function(R){return R.src.tagName&&(R=p.extendDeep({},R),R.src=R.src.src),JSON.stringify(R)},hashVideo:function(R,L){return E(R,L)},registerMaterial:function(R){this.materials[R.uuid]=R},unregisterMaterial:function(R){delete this.materials[R.uuid];var L=this.textureCounts;Object.keys(R).filter(function(T){return R[T]&&R[T].isTexture}).forEach(function(T){L[R[T].uuid]--,L[R[T].uuid]<=0&&R[T].dispose()})},updateMaterials:function(R){var L=this.materials;Object.keys(L).forEach(function(T){L[T].needsUpdate=!0})},onMaterialTextureLoaded:function(R){this.textureCounts[R.detail.texture.uuid]||(this.textureCounts[R.detail.texture.uuid]=0),this.textureCounts[R.detail.texture.uuid]++}});function E(R,L){var T,D=L.getAttribute("id"),H,V;if(D)return D;for(H="",V=R||{},T=0;T<L.attributes.length;T++)V[L.attributes[T].name]=L.attributes[T].value;return Object.keys(V).sort().forEach(function(B){H+=B+":"+V[B]+";"}),H}function C(R,L){return new Promise(T);function T(D,H){var V=typeof R!="string";function B(O){v(O,L),O.needsUpdate=!0,D(O)}if(V){B(new h.Texture(R));return}g.load(R,B,function(){},function(O){b("`$s` could not be fetched (Error code: %s; Response: %s)",O.status,O.statusText)})}}function _(R,L,T){var D=document.createElement("video");return D.width=L,D.height=T,D.setAttribute("playsinline",""),D.setAttribute("webkit-playsinline",""),D.autoplay=!0,D.loop=!0,D.crossOrigin="anonymous",D.addEventListener("error",function(){w("`$s` is not a valid video",R)},!0),D.src=R,D}function P(R){return R.autoplay=R.hasAttribute("autoplay")&&R.getAttribute("autoplay")!=="false",R.controls=R.hasAttribute("controls")&&R.getAttribute("controls")!=="false",R.getAttribute("loop")==="false"&&R.removeAttribute("loop"),R.getAttribute("preload")==="false"&&(R.preload="none"),R.crossOrigin=R.crossOrigin||"anonymous",R.setAttribute("playsinline",""),R.setAttribute("webkit-playsinline",""),R}},"./src/systems/renderer.js":(l,u,c)=>{var d=c("./src/core/system.js").registerSystem,h=c("./src/utils/index.js"),p=c("./src/lib/three.js"),m=h.debug,v=m("components:renderer:warn");l.exports.System=d("renderer",{schema:{antialias:{default:"auto",oneOf:["true","false","auto"]},highRefreshRate:{default:h.device.isOculusBrowser()},logarithmicDepthBuffer:{default:"auto",oneOf:["true","false","auto"]},maxCanvasWidth:{default:1920},maxCanvasHeight:{default:1920},physicallyCorrectLights:{default:!1},exposure:{default:1,if:{toneMapping:["ACESFilmic","linear","reinhard","cineon"]}},toneMapping:{default:"no",oneOf:["no","ACESFilmic","linear","reinhard","cineon"]},precision:{default:"high",oneOf:["high","medium","low"]},sortObjects:{default:!1},colorManagement:{default:!1},gammaOutput:{default:!1},alpha:{default:!0},foveationLevel:{default:1}},init:function(){var y=this.data,A=this.el,b=this.data.toneMapping.charAt(0).toUpperCase()+this.data.toneMapping.slice(1),g=A.renderer;g.sortObjects=y.sortObjects,g.physicallyCorrectLights=y.physicallyCorrectLights,g.toneMapping=p[b+"ToneMapping"],(y.colorManagement||y.gammaOutput)&&(g.outputEncoding=p.sRGBEncoding,y.gammaOutput&&v('Property `gammaOutput` is deprecated. Use `renderer="colorManagement: true;"` instead.')),A.hasAttribute("antialias")&&v('Component `antialias` is deprecated. Use `renderer="antialias: true"` instead.'),A.hasAttribute("logarithmicDepthBuffer")&&v('Component `logarithmicDepthBuffer` is deprecated. Use `renderer="logarithmicDepthBuffer: true"` instead.')},update:function(){var y=this.data,A=this.el,b=A.renderer,g=this.data.toneMapping.charAt(0).toUpperCase()+this.data.toneMapping.slice(1);b.toneMapping=p[g+"ToneMapping"],b.toneMappingExposure=y.exposure,b.xr.setFoveation(y.foveationLevel)},applyColorCorrection:function(y){!this.data.colorManagement||!y||(y.isColor?y.convertSRGBToLinear():y.isTexture&&(y.encoding=p.sRGBEncoding))},setWebXRFrameRate:function(y){var A=this.data,b=y.supportedFrameRates;if(b&&y.updateTargetFrameRate){let g;b.includes(90)?g=A.highRefreshRate?90:72:g=A.highRefreshRate?72:60,y.updateTargetFrameRate(g).catch(function(w){console.warn("failed to set target frame rate of "+g+". Error info: "+w)})}}})},"./src/systems/shadow.js":(l,u,c)=>{var d=c("./src/core/system.js").registerSystem,h=c("./src/lib/three.js"),p={basic:h.BasicShadowMap,pcf:h.PCFShadowMap,pcfsoft:h.PCFSoftShadowMap};l.exports.System=d("shadow",{schema:{enabled:{default:!0},autoUpdate:{default:!0},type:{default:"pcf",oneOf:["basic","pcf","pcfsoft"]}},init:function(){var m=this.sceneEl,v=this.data;this.shadowMapEnabled=!1,m.renderer&&(m.renderer.shadowMap.type=p[v.type],m.renderer.shadowMap.autoUpdate=v.autoUpdate,this.setShadowMapEnabled(this.shadowMapEnabled))},update:function(m){m.enabled!==this.data.enabled&&this.setShadowMapEnabled(this.data.enabled)},setShadowMapEnabled:function(m){var v=this.sceneEl.renderer;this.shadowMapEnabled=this.data.enabled&&m,v&&(v.shadowMap.enabled=this.shadowMapEnabled)}})},"./src/systems/tracked-controls-webvr.js":(l,u,c)=>{var d=c("./src/core/system.js").registerSystem,h=c("./src/utils/index.js"),p=h.device.isWebXRAvailable;l.exports.System=d("tracked-controls-webvr",{init:function(){var m=this;this.controllers=[],this.isChrome=navigator.userAgent.indexOf("Chrome")!==-1,this.updateControllerList(),this.throttledUpdateControllerList=h.throttle(this.updateControllerList,500,this),!p&&navigator.getVRDisplays&&this.sceneEl.addEventListener("enter-vr",function(){navigator.getVRDisplays().then(function(v){v.length&&(m.vrDisplay=v[0])})})},tick:function(){this.isChrome?this.updateControllerList():this.throttledUpdateControllerList()},updateControllerList:function(){var m=this.controllers,v,y,A,b;if(y=navigator.getGamepads&&navigator.getGamepads(),!!y){for(b=m.length,m.length=0,A=0;A<y.length;++A)v=y[A],v&&v.pose&&m.push(v);m.length!==b&&this.el.emit("controllersupdated",void 0,!1)}}})},"./src/systems/tracked-controls-webxr.js":(l,u,c)=>{var d=c("./src/core/system.js").registerSystem,h=c("./src/utils/index.js");l.exports.System=d("tracked-controls-webxr",{init:function(){this.controllers=[],this.oldControllers=[],this.oldControllersLength=0,this.throttledUpdateControllerList=h.throttle(this.updateControllerList,500,this),this.updateReferenceSpace=this.updateReferenceSpace.bind(this),this.el.addEventListener("enter-vr",this.updateReferenceSpace),this.el.addEventListener("exit-vr",this.updateReferenceSpace)},tick:function(){this.throttledUpdateControllerList()},updateReferenceSpace:function(){var p=this,m=this.el.xrSession;if(!m){this.referenceSpace=void 0,this.controllers=[],this.oldControllersLength>0&&(this.oldControllersLength=0,this.el.emit("controllersupdated",void 0,!1));return}var v=p.el.sceneEl.systems.webxr.sessionReferenceSpaceType;m.requestReferenceSpace(v).then(function(y){p.referenceSpace=y}).catch(function(y){throw p.el.sceneEl.systems.webxr.warnIfFeatureNotRequested(v,'tracked-controls-webxr uses reference space "'+v+'".'),y})},updateControllerList:function(){var p=this.el.xrSession,m=this.oldControllers,v;if(!p){if(this.oldControllersLength===0)return;this.oldControllersLength=0,this.controllers=[],this.el.emit("controllersupdated",void 0,!1);return}if(p.inputSources){if(this.controllers=p.inputSources,this.oldControllersLength===this.controllers.length){var y=!0;for(v=0;v<this.controllers.length;++v)if(!(this.controllers[v]===m[v]&&this.controllers[v].gamepad===m[v].gamepad)){y=!1;break}if(y)return}for(m.length=0,v=0;v<this.controllers.length;v++)m.push(this.controllers[v]);this.oldControllersLength=this.controllers.length,this.el.emit("controllersupdated",void 0,!1)}}})},"./src/systems/webxr.js":(l,u,c)=>{var d=c("./src/core/system.js").registerSystem,h=c("./src/utils/index.js"),p=h.debug("systems:webxr:warn");l.exports.System=d("webxr",{schema:{referenceSpaceType:{type:"string",default:"local-floor"},requiredFeatures:{type:"array",default:["local-floor"]},optionalFeatures:{type:"array",default:["bounded-floor"]},overlayElement:{type:"selector"}},update:function(){var m=this.data;this.sessionConfiguration={requiredFeatures:m.requiredFeatures,optionalFeatures:m.optionalFeatures},this.sessionReferenceSpaceType=m.referenceSpaceType,m.overlayElement&&(m.overlayElement.classList.remove("a-dom-overlay"),m.optionalFeatures.includes("dom-overlay")||(m.optionalFeatures.push("dom-overlay"),this.el.setAttribute("webxr",m)),this.warnIfFeatureNotRequested("dom-overlay"),this.sessionConfiguration.domOverlay={root:m.overlayElement},m.overlayElement.classList.add("a-dom-overlay"))},wasFeatureRequested:function(m){return!!(m==="viewer"||m==="local"||this.sessionConfiguration.requiredFeatures.includes(m)||this.sessionConfiguration.optionalFeatures.includes(m))},warnIfFeatureNotRequested:function(m,v){if(!this.wasFeatureRequested(m)){var y='Please add the feature "'+m+`" to a-scene's webxr system options in requiredFeatures/optionalFeatures.`;p((v?v+" ":"")+y)}}})},"./src/utils/bind.js":l=>{l.exports=function(c,d){return function(h){return function(){var m=h.concat(Array.prototype.slice.call(arguments,0));return c.apply(d,m)}}(Array.prototype.slice.call(arguments,2))}},"./src/utils/coordinates.js":(l,u,c)=>{var d=c("./src/utils/debug.js"),h=c("./node_modules/object-assign/index.js"),p=d("utils:coordinates:warn"),m=["x","y","z","w"],v=/^\s*((-?\d*\.{0,1}\d+(e-?\d+)?)\s+){2,3}(-?\d*\.{0,1}\d+(e-?\d+)?)\s*$/;l.exports.regex=v;var y="object",A=/\s+/g;function b(C,_){var P,R,L,T,D,H,V,B,O;if(C&&C instanceof Object)return H=C.x===void 0?_&&_.x:C.x,V=C.y===void 0?_&&_.y:C.y,B=C.z===void 0?_&&_.z:C.z,O=C.w===void 0?_&&_.w:C.w,H!=null&&(C.x=E(H)),V!=null&&(C.y=E(V)),B!=null&&(C.z=E(B)),O!=null&&(C.w=E(O)),C;if(C==null)return typeof _===y?h({},_):_;for(P=C.trim().split(A),D={},T=0;T<m.length;T++)if(L=m[T],P[T])D[L]=parseFloat(P[T],10);else{if(R=_&&_[L],R===void 0)continue;D[L]=E(R)}return D}l.exports.parse=b;function g(C){var _;return typeof C!==y?C:(_=C.x+" "+C.y,C.z!=null&&(_+=" "+C.z),C.w!=null&&(_+=" "+C.w),_)}l.exports.stringify=g;function w(C){return v.test(C)}l.exports.isCoordinates=w,l.exports.isCoordinate=function(C){return p("`AFRAME.utils.isCoordinate` has been renamed to `AFRAME.utils.isCoordinates`"),w(C)};function E(C){return C!=null&&C.constructor===String?parseFloat(C,10):C}l.exports.toVector3=function(C){return new THREE.Vector3(C.x,C.y,C.z)}},"./src/utils/debug.js":(l,u,c)=>{var d=c("./node_modules/process/browser.js"),h=c("./node_modules/debug/browser.js"),p=c("./node_modules/object-assign/index.js"),m={colors:{debug:"gray",error:"red",info:"gray",warn:"orange"}},v=function(w){var E=h(w);return E.color=A(w),E};p(v,h);function y(w){var E=w.split(":");return E[E.length-1]}function A(w){var E=y(w),C=m.colors&&m.colors[E];return C||null}function b(){try{return window.localStorage}catch{}}var g=b();g&&(parseInt(g.logs,10)||g.logs==="true")?v.enable("*"):v.enable("*:error,*:info,*:warn"),d.browser&&(window.logs=v),l.exports=v},"./src/utils/device.js":(l,u,c)=>{var d=c("./node_modules/process/browser.js"),h=c("./node_modules/debug/browser.js")("device:error"),p,m=!1,v=!1,y=l.exports.isWebXRAvailable=!window.debug&&navigator.xr!==void 0;if(window.addEventListener("vrdisplayactivate",function(B){var O;y||(O=document.createElement("canvas"),p=B.display,O.getContext("webgl",{}),p.requestPresent([{source:O}]).then(function(){},function(){}))}),y){var A=function(){var B=document.querySelector("a-scene");if(!B){window.addEventListener("DOMContentLoaded",A);return}B.hasLoaded?B.components["vr-mode-ui"].updateEnterInterfaces():B.addEventListener("loaded",A)},b=function(B){h("WebXR session support error: "+B.message)};navigator.xr.isSessionSupported?(navigator.xr.isSessionSupported("immersive-vr").then(function(B){m=B,A()}).catch(b),navigator.xr.isSessionSupported("immersive-ar").then(function(B){v=B,A()}).catch(function(){})):navigator.xr.supportsSession?(navigator.xr.supportsSession("immersive-vr").then(function(){m=!0,A()}).catch(b),navigator.xr.supportsSession("immersive-ar").then(function(){v=!0,A()}).catch(function(){})):h("WebXR has neither isSessionSupported or supportsSession?!")}else navigator.getVRDisplays&&navigator.getVRDisplays().then(function(B){var O=document.querySelector("a-scene");p=B.length&&B[0],O&&O.emit("displayconnected",{vrDisplay:p})});function g(){return p}l.exports.getVRDisplay=g;function w(){return m||v||!!g()}l.exports.checkHeadsetConnected=w;function E(){return v}l.exports.checkARSupport=E;function C(){return m}l.exports.checkVRSupport=C;var _=function(){var B=!1;return function(O){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(O)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(O.substr(0,4)))&&(B=!0),(R()||P()||V())&&(B=!0),H()&&(B=!1)}(window.navigator.userAgent||window.navigator.vendor||window.opera),function(){return B}}();l.exports.isMobile=_;function P(B){var O=B||window.navigator.userAgent;return/ipad|Nexus (7|9)|xoom|sch-i800|playbook|tablet|kindle/i.test(O)}l.exports.isTablet=P;function R(){return/iPad|iPhone|iPod/.test(window.navigator.platform)}l.exports.isIOS=R;function L(){return!_()&&!H()&&window.orientation!==void 0}l.exports.isMobileDeviceRequestingDesktopSite=L;function T(){return/(OculusBrowser)/i.test(window.navigator.userAgent)}l.exports.isOculusBrowser=T;function D(){return/(Mobile VR)/i.test(window.navigator.userAgent)}l.exports.isFirefoxReality=D;function H(){return T()||D()}l.exports.isMobileVR=H;function V(){return/R7 Build/.test(window.navigator.userAgent)}l.exports.isR7=V,l.exports.isLandscape=function(){var B=window.orientation;return V()&&(B+=90),B===90||B===-90},l.exports.isBrowserEnvironment=!!(!d||d.browser),l.exports.isNodeEnvironment=!l.exports.isBrowserEnvironment},"./src/utils/entity.js":l=>{var u={};function c(d,h){return h=h||".",u[h]||(u[h]={}),d.indexOf(h)!==-1?u[h][d]=d.split(h):u[h][d]=d,u[h][d]}l.exports.getComponentPropertyPath=c,l.exports.propertyPathCache=u,l.exports.getComponentProperty=function(d,h,p){var m;return p=p||".",h.indexOf(p)!==-1?(m=c(h,p),m.constructor===String?d.getAttribute(m):d.getAttribute(m[0])[m[1]]):d.getAttribute(h)},l.exports.setComponentProperty=function(d,h,p,m){var v;if(m=m||".",h.indexOf(m)!==-1){v=c(h,m),v.constructor===String?d.setAttribute(v,p):d.setAttribute(v[0],v[1],p);return}d.setAttribute(h,p)}},"./src/utils/forceCanvasResizeSafariMobile.js":l=>{l.exports=function(c){var d=c.style.width,h=c.style.height;c.style.width=parseInt(d,10)+1+"px",c.style.height=parseInt(h,10)+1+"px",setTimeout(function(){c.style.width=d,c.style.height=h},200)}},"./src/utils/index.js":(l,u,c)=>{var d=c("./src/utils/debug.js"),h=c("./node_modules/deep-assign/index.js"),p=c("./src/utils/device.js"),m=c("./node_modules/object-assign/index.js"),v=c("./src/utils/object-pool.js"),y=d("utils:warn");l.exports.bind=c("./src/utils/bind.js"),l.exports.coordinates=c("./src/utils/coordinates.js"),l.exports.debug=d,l.exports.device=p,l.exports.entity=c("./src/utils/entity.js"),l.exports.forceCanvasResizeSafariMobile=c("./src/utils/forceCanvasResizeSafariMobile.js"),l.exports.isIE11=c("./src/utils/is-ie11.js"),l.exports.material=c("./src/utils/material.js"),l.exports.objectPool=v,l.exports.split=c("./src/utils/split.js").split,l.exports.styleParser=c("./src/utils/styleParser.js"),l.exports.trackedControls=c("./src/utils/tracked-controls.js"),l.exports.checkHeadsetConnected=function(){return y("`utils.checkHeadsetConnected` has moved to `utils.device.checkHeadsetConnected`"),p.checkHeadsetConnected(arguments)},l.exports.isGearVR=l.exports.device.isGearVR=function(){y("`utils.isGearVR` has been deprecated, use `utils.device.isMobileVR`")},l.exports.isIOS=function(){return y("`utils.isIOS` has moved to `utils.device.isIOS`"),p.isIOS(arguments)},l.exports.isOculusGo=l.exports.device.isOculusGo=function(){y("`utils.isOculusGo` has been deprecated, use `utils.device.isMobileVR`")},l.exports.isMobile=function(){return y("`utils.isMobile has moved to `utils.device.isMobile`"),p.isMobile(arguments)},l.exports.throttle=function(b,g,w){var E;return w&&(b=l.exports.bind(b,w)),function(){var C=Date.now(),_=typeof E>"u"?g:C-E;(typeof E>"u"||_>=g)&&(E=C,b.apply(null,arguments))}},l.exports.throttleLeadingAndTrailing=function(b,g,w){var E,C;return w&&(b=l.exports.bind(b,w)),function(){var _=Date.now(),P=typeof E>"u"?g:_-E,R=arguments;typeof E>"u"||P>=g?(clearTimeout(C),E=_,b.apply(null,R)):(clearTimeout(C),C=setTimeout(function(){E=Date.now(),b.apply(this,R)},g-P))}},l.exports.throttleTick=function(b,g,w){var E;return w&&(b=l.exports.bind(b,w)),function(C,_){var P=typeof E>"u"?_:C-E;(typeof E>"u"||P>=g)&&(E=C,b(C,P))}},l.exports.debounce=function(b,g,w){var E;return function(){var C=this,_=arguments,P=function(){E=null,w||b.apply(C,_)},R=w&&!E;clearTimeout(E),E=setTimeout(P,g),R&&b.apply(C,_)}},l.exports.extend=m,l.exports.extendDeep=h,l.exports.clone=function(b){return JSON.parse(JSON.stringify(b))};var A=function(){var b=v.createPool(function(){return[]});return function(g,w){var E,C,_,P,R,L;if(g===void 0||w===void 0||g===null||w===null||!(g&&w&&g.constructor===Object&&w.constructor===Object||g.constructor===Array&&w.constructor===Array))return g===w;C=b.use(),_=b.use(),C.length=0,_.length=0;for(E in g)C.push(E);for(E in w)_.push(E);if(C.length!==_.length)return b.recycle(C),b.recycle(_),!1;for(P=0;P<C.length;++P)if(R=g[C[P]],L=w[C[P]],typeof R=="object"||typeof L=="object"||Array.isArray(R)&&Array.isArray(L)){if(R===L)continue;if(!A(R,L))return b.recycle(C),b.recycle(_),!1}else if(R!==L)return b.recycle(C),b.recycle(_),!1;return b.recycle(C),b.recycle(_),!0}}();l.exports.deepEqual=A,l.exports.diff=function(){var b=[];return function(g,w,E){var C,_,P,R,L,T,D;R=E||{},b.length=0;for(L in g)b.push(L);if(!w)return R;for(P in w)b.indexOf(P)===-1&&b.push(P);for(T=0;T<b.length;T++)L=b[T],C=g[L],_=w[L],D=C&&_&&C.constructor===Object&&_.constructor===Object,(D&&!A(C,_)||!D&&C!==_)&&(R[L]=_);return R}}(),l.exports.shouldCaptureKeyEvent=function(b){return b.metaKey?!1:document.activeElement===document.body},l.exports.splitString=function(b,g){typeof g>"u"&&(g=" ");var w=new RegExp(g,"g");return b=(b||"").replace(w,g),b.split(g)},l.exports.getElData=function(b,g){g=g||{};var w={};Object.keys(g).forEach(E);function E(C){b.hasAttribute(C)&&(w[C]=b.getAttribute(C))}return w},l.exports.getUrlParameter=function(b){b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var g=new RegExp("[\\?&]"+b+"=([^&#]*)"),w=g.exec(location.search);return w===null?"":decodeURIComponent(w[1].replace(/\+/g," "))},l.exports.isIframed=function(){return window.top!==window.self},l.exports.findAllScenes=function(b){for(var g=[],w=b.getElementsByTagName("*"),E=0,C=w.length;E<C;E++)w[E].isScene&&g.push(w[E]);return g},l.exports.srcLoader=c("./src/utils/src-loader.js")},"./src/utils/ios-orientationchange-blank-bug.js":()=>{window.addEventListener("orientationchange",function(){document.documentElement.style.height="initial",setTimeout(function(){document.documentElement.style.height="100%",setTimeout(function(){window.scrollTo(0,1)},500)},500)})},"./src/utils/is-ie11.js":l=>{function u(){var c=-1,d=navigator.userAgent,h;return navigator.appName==="Microsoft Internet Explorer"?(h=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})"),h.exec(d)!=null&&(c=parseFloat(RegExp.$1))):navigator.appName==="Netscape"&&(h=new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})"),h.exec(d)!=null&&(c=parseFloat(RegExp.$1))),c}l.exports=u()===11},"./src/utils/isIOSOlderThan10.js":l=>{l.exports=function(c){return/(iphone|ipod|ipad).*os.(7_|8_|9_)/i.test(c)}},"./src/utils/material.js":(l,u,c)=>{var d=c("./src/lib/three.js"),h=["application/x-mpegurl","application/vnd.apple.mpegurl"],p=new Set(["emissiveMap","envMap","map","specularMap"]);function m(y,A){var b=A.offset||{x:0,y:0},g=A.repeat||{x:1,y:1},w=A.npot||!1;w&&(y.wrapS=d.ClampToEdgeWrapping,y.wrapT=d.ClampToEdgeWrapping,y.magFilter=d.LinearFilter,y.minFilter=d.LinearFilter),(g.x!==1||g.y!==1)&&(y.wrapS=d.RepeatWrapping,y.wrapT=d.RepeatWrapping,y.repeat.set(g.x,g.y)),(b.x!==0||b.y!==0)&&y.offset.set(b.x,b.y)}l.exports.setTextureProperties=m,l.exports.updateMapMaterialFromData=function(y,A,b,g){var w=b.el,E=b.material,C=w.sceneEl.systems.renderer,_=g[A];if(b.materialSrcs||(b.materialSrcs={}),!_){delete b.materialSrcs[y],R(null);return}if(_===b.materialSrcs[y]&&E[y]){m(E[y],g);return}b.materialSrcs[y]=_,_ instanceof d.Texture?R(_):w.sceneEl.systems.material.loadTexture(_,{src:_,repeat:g.repeat,offset:g.offset,npot:g.npot},P);function P(L){b.materialSrcs[y]===_&&R(L)}function R(L){E[y]=L,L&&p.has(y)&&C.applyColorCorrection(L),E.needsUpdate=!0,v(w,L)}},l.exports.updateMap=function(y,A){return l.exports.updateMapMaterialFromData("map","src",y,A)},l.exports.updateDistortionMap=function(y,A,b){var g=y;y==="ambientOcclusion"&&(g="ao");var w=A.el,E=A.material,C=w.sceneEl.systems.renderer,_=b[y+"Map"],P={};if(P.src=_,P.offset=b[y+"TextureOffset"],P.repeat=b[y+"TextureRepeat"],P.wrap=b[y+"TextureWrap"],_){if(_===A[y+"TextureSrc"])return;A[y+"TextureSrc"]=_,w.sceneEl.systems.material.loadTexture(_,P,R);return}if(!E.map)return;R(null);function R(L){var T=g+"Map";E[T]=L,L&&p.has(T)&&C.applyColorCorrection(L),L&&m(L,b),E.needsUpdate=!0,v(w,L)}};function v(y,A){A&&(y.emit("materialtextureloaded",{src:A.image,texture:A}),!(!A.image||A.image.tagName!=="VIDEO")&&(A.image.addEventListener("loadeddata",function(){!y.components||!y.components.material||(A.needsCorrectionBGRA&&A.needsCorrectionFlipY&&["standard","flat"].indexOf(y.components.material.data.shader)!==-1&&y.setAttribute("material","shader","ios10hls"),y.emit("materialvideoloadeddata",{src:A.image,texture:A}))}),A.image.addEventListener("ended",function(){y.emit("materialvideoended",{src:A.image,texture:A})})))}l.exports.handleTextureEvents=v,l.exports.isHLS=function(y,A){return!!(A&&h.includes(A.toLowerCase())||y&&y.toLowerCase().indexOf(".m3u8")>0)}},"./src/utils/math.js":l=>{function u(d,h,p){var m=h.dot(d);return(m-h.dot(p))/h.length()}function c(d,h,p,m){var v=u(d,h,p);return m.copy(h),m.multiplyScalar(v),m.add(p),m}l.exports.distanceOfPointFromPlane=u,l.exports.nearestPointInPlane=c},"./src/utils/object-pool.js":l=>{var u=Object.freeze(Object.create(null));function c(){return{}}l.exports.createPool=function(m){var v=[],y=null;m=m||c;function A(){var E;return(y===null||y===v.length)&&g(v.length||5),E=v[y],v[y++]=u,d(E),E}function b(E){if(E instanceof Object){if(y===null||y===-1){v[v.length]=E;return}v[--y]=E}}function g(E){var C,_;if(E=E===void 0?v.length:E,E>0&&y==null&&(y=0),E>0)for(C=v.length,v.length+=Number(E),_=C;_<v.length;_++)v[_]=m();return v.length}function w(){return v.length}return{grow:g,pool:v,recycle:b,size:w,use:A}};function d(p){var m;if(!(!p||p.constructor!==Object))for(m in p)p[m]=void 0}l.exports.clearObject=d;function h(p,m){var v;if(!(!p||p.constructor!==Object))for(v in p)v in m||delete p[v]}l.exports.removeUnusedKeys=h},"./src/utils/split.js":l=>{l.exports.split=function(){var u={};return function(c,d){return d in u||(u[d]={}),c in u[d]||(u[d][c]=c.split(d)),u[d][c]}}()},"./src/utils/src-loader.js":(l,u,c)=>{var d=c("./src/utils/debug.js"),h=d("utils:src-loader:warn");function p(g,w,E){y(g,function(_){if(_){w(g);return}E(g)})}function m(g,w){var E,C="",_,P,R=[];for(_=0;_<5;_++)C+="(url\\((?:[^\\)]+)\\),\\s*)";C+="(url\\((?:[^\\)]+)\\)\\s*)",P=g.match(new RegExp(C));function L(T){R.push(T),R.length===6&&w(R)}if(P){for(_=1;_<7;_++)p(v(P[_]),L);return}if(E=b(g),!!E){if(E.tagName==="A-CUBEMAP"&&E.srcs)return w(E.srcs);h('Selector "%s" does not point to <a-cubemap>',g)}}function v(g){var w=g.match(/\url\((.+)\)/);if(w)return w[1]}function y(g,w){var E;if(g.tagName){w(g.tagName==="IMG");return}E=new XMLHttpRequest,E.open("HEAD",g),E.addEventListener("load",function(C){var _;E.status>=200&&E.status<300?(_=E.getResponseHeader("Content-Type"),_==null?A(g,w):_.startsWith("image")?w(!0):w(!1)):A(g,w),E.abort()}),E.send()}function A(g,w){var E=new Image;E.addEventListener("load",C);function C(){w(!0)}E.addEventListener("error",_);function _(){w(!1)}E.src=g}function b(g){try{var w=document.querySelector(g);return w||h('No element was found matching the selector: "%s"',g),w}catch{h('"%s" is not a valid selector',g);return}}l.exports={parseUrl:v,validateSrc:p,validateCubemapSrc:m}},"./src/utils/styleParser.js":l=>{var u=/-([a-z])/g;l.exports.parse=function(y,A){var b;return typeof y!="string"||(b=p(y,A),b[""])?y:d(b)},l.exports.stringify=function(y){return typeof y=="string"?y:m(y)};function c(y){return y.replace(u,v)}l.exports.toCamelCase=c;function d(y){var A,b;for(b in y)A=c(b),b!==A&&(y[A]=y[b],delete y[b]);return y}l.exports.transformKeysToCamelCase=d;var h=function(){var y=[],A=/url\([^)]+$/;return function(g){var w="",E,C=0,_=";";for(y.length=0;C<g.length;){if(E=g.indexOf(_,C),E===-1&&(E=g.length),w+=g.substring(C,E),A.test(w)){w+=";",C=E+1;continue}y.push(w.trim()),w="",C=E+1}return y}}();function p(y,A){var b,g,w,E,C,_;for(A=A||{},b=h(y),g=0;g<b.length;g++)w=b[g],w&&(E=w.indexOf(":"),C=w.substr(0,E).trim(),_=w.substr(E+1).trim(),A[C]=_);return A}function m(y){var A,b=0,g=0,w="";for(A in y)b++;for(A in y)w+=A+": "+y[A],g<b-1&&(w+="; "),g++;return w}function v(y){return y[1].toUpperCase()}},"./src/utils/tracked-controls.js":(l,u,c)=>{var d=c("./src/constants/index.js").DEFAULT_HANDEDNESS,h=["x","y","z","w"],p=2;l.exports.checkControllerPresentAndSetup=function(b,g,w){var E=b.el,C,_=E.sceneEl.hasWebXR,P=_?v:m,R;if(C=P(b,g,w),R=!!C,b.controllerPresent&&!b.controllerEventsActive&&!_&&b.addEventListeners(),R===b.controllerPresent)return R;b.controllerPresent=R,R?(b.addEventListeners(),b.injectTrackedControls(C),E.emit("controllerconnected",{name:b.name,component:b})):(b.removeEventListeners(),E.emit("controllerdisconnected",{name:b.name,component:b}))};function m(b,g,w){var E,C=b.el.sceneEl,_,P=w.index||0;return!g||(_=C&&C.systems["tracked-controls-webvr"],!_)||(E=_.controllers,!E.length)?!1:!!y(E,null,g,w.hand,P)}function v(b,g,w){var E,C=b.el.sceneEl,_=C&&C.systems["tracked-controls-webxr"];return!_||(E=_.controllers,!E||!E.length)?!1:A(E,g,w.hand,w.index,w.iterateControllerProfiles,w.handTracking)}l.exports.isControllerPresentWebVR=m,l.exports.isControllerPresentWebXR=v;function y(b,g,w,E,C){var _,P,R=0,L=C>=0?C:0;for(P=0;P<b.length;P++)if(_=b[P],!(w&&!_.id.startsWith(w))&&!(!w&&_.id!==g)&&!(E&&_.hand&&E!==_.hand)){if(E&&!_.hand)L=p*C+(E===d?0:1);else return _;if(R===L)return _;++R}}function A(b,g,w,E,C,_){var P,R,L,T=!1,D,H;for(P=0;P<b.length;P++){if(L=b[P],H=L.profiles,_)T=L.hand;else if(C)for(R=0;R<H.length&&(T=H[R].startsWith(g),!T);R++);else T=H.length>0&&H[0].startsWith(g);if(T){if(D=L.handedness==="right"||L.handedness==="left",D){if(L.handedness===w)return b[P]}else if(P===E)return b[P]}}}l.exports.findMatchingControllerWebVR=y,l.exports.findMatchingControllerWebXR=A,l.exports.emitIfAxesChanged=function(b,g,w){var E,C,_,P,R;for(C in g){for(E=g[C],_=!1,R=0;R<E.length;R++)w.detail.changed[E[R]]&&(_=!0);if(_){for(P={},R=0;R<E.length;R++)P[h[R]]=w.detail.axis[E[R]];b.el.emit(C+"moved",P)}}},l.exports.onButtonEvent=function(b,g,w,E){var C=E?w.mapping[E]:w.mapping,_=C.buttons[b];w.el.emit(_+g),w.updateModel&&w.updateModel(_,g)}},"./vendor/DeviceOrientationControls.js":()=>{THREE.DeviceOrientationControls=function(l){var u=this;this.object=l,this.object.rotation.reorder("YXZ"),this.enabled=!0,this.deviceOrientation={},this.screenOrientation=0,this.alphaOffset=0;var c=function(p){u.deviceOrientation=p},d=function(){u.screenOrientation=window.orientation||0},h=function(){var p=new THREE.Vector3(0,0,1),m=new THREE.Euler,v=new THREE.Quaternion,y=new THREE.Quaternion(-Math.sqrt(.5),0,0,Math.sqrt(.5));return function(A,b,g,w,E){m.set(g,b,-w,"YXZ"),A.setFromEuler(m),A.multiply(y),A.multiply(v.setFromAxisAngle(p,-E))}}();this.connect=function(){d(),window.addEventListener("orientationchange",d,!1),window.addEventListener("deviceorientation",c,!1),u.enabled=!0},this.disconnect=function(){window.removeEventListener("orientationchange",d,!1),window.removeEventListener("deviceorientation",c,!1),u.enabled=!1},this.update=function(){if(u.enabled!==!1){var p=u.deviceOrientation;if(p){var m=p.alpha?THREE.MathUtils.degToRad(p.alpha)+u.alphaOffset:0,v=p.beta?THREE.MathUtils.degToRad(p.beta):0,y=p.gamma?THREE.MathUtils.degToRad(p.gamma):0,A=u.screenOrientation?THREE.MathUtils.degToRad(u.screenOrientation):0;h(u.object.quaternion,m,v,y,A)}}},this.dispose=function(){u.disconnect()},this.connect()}},"./vendor/rStats.extras.js":l=>{window.glStats=function(){var u=null,c=0,d=0,h=0,p=0,m=0,v=0,y=0;function A(R,L){return function(){L.apply(this,arguments),R.apply(this,arguments)}}WebGLRenderingContext.prototype.drawArrays=A(WebGLRenderingContext.prototype.drawArrays,function(){c++,arguments[0]==this.POINTS?v+=arguments[2]:m+=arguments[2]}),WebGLRenderingContext.prototype.drawElements=A(WebGLRenderingContext.prototype.drawElements,function(){d++,p+=arguments[1]/3,m+=arguments[1]}),WebGLRenderingContext.prototype.useProgram=A(WebGLRenderingContext.prototype.useProgram,function(){h++}),WebGLRenderingContext.prototype.bindTexture=A(WebGLRenderingContext.prototype.bindTexture,function(){y++});var b={allcalls:{over:3e3,caption:"Calls (hook)"},drawelements:{caption:"drawElements (hook)"},drawarrays:{caption:"drawArrays (hook)"}},g=[{caption:"WebGL",values:["allcalls","drawelements","drawarrays","useprogram","bindtexture","glfaces","glvertices","glpoints"]}],w=[{base:"allcalls",steps:["drawelements","drawarrays"]}];function E(){u("allcalls").set(c+d),u("drawElements").set(d),u("drawArrays").set(c),u("bindTexture").set(y),u("useProgram").set(h),u("glfaces").set(p),u("glvertices").set(m),u("glpoints").set(v)}function C(){c=0,d=0,h=0,p=0,m=0,v=0,y=0}function _(){}function P(R){u=R}return{update:E,start:C,end:_,attach:P,values:b,groups:g,fractions:w}},window.threeStats=function(u){var c=null,d={"renderer.info.memory.geometries":{caption:"Geometries"},"renderer.info.memory.textures":{caption:"Textures"},"renderer.info.programs":{caption:"Programs"},"renderer.info.render.calls":{caption:"Calls"},"renderer.info.render.triangles":{caption:"Triangles",over:1e3},"renderer.info.render.points":{caption:"Points"}},h=[{caption:"Three.js - Memory",values:["renderer.info.memory.geometries","renderer.info.programs","renderer.info.memory.textures"]},{caption:"Three.js - Render",values:["renderer.info.render.calls","renderer.info.render.triangles","renderer.info.render.points"]}],p=[];function m(){c("renderer.info.memory.geometries").set(u.info.memory.geometries),c("renderer.info.programs").set(u.info.programs.length),c("renderer.info.memory.textures").set(u.info.memory.textures),c("renderer.info.render.calls").set(u.info.render.calls),c("renderer.info.render.triangles").set(u.info.render.triangles),c("renderer.info.render.points").set(u.info.render.points)}function v(){}function y(){}function A(b){c=b}return{update:m,start:v,end:y,attach:A,values:d,groups:h,fractions:p}},window.BrowserStats=function(){var u=null,c=0,d=0;window.performance&&!performance.memory&&(performance.memory={usedJSHeapSize:0,totalJSHeapSize:0}),performance.memory.totalJSHeapSize===0&&console.warn("totalJSHeapSize === 0... performance.memory is only available in Chrome .");var h={memory:{caption:"Used Memory",average:!0,avgMs:1e3,over:22},total:{caption:"Total Memory"}},p=[{caption:"Browser",values:["memory","total"]}],m=[{base:"total",steps:["memory"]}],v=Math.log(1024);function y(E){var C=100,_=Math.floor(Math.log(E)/v);return Math.round(E*C/Math.pow(1024,_))/C}function A(){c=y(performance.memory.usedJSHeapSize),d=y(performance.memory.totalJSHeapSize),u("memory").set(c),u("total").set(d)}function b(){c=0}function g(){}function w(E){u=E}return{update:A,start:b,end:g,attach:w,values:h,groups:p,fractions:m}},l.exports={glStats:window.glStats,threeStats:window.threeStats,BrowserStats:window.BrowserStats}},"./vendor/rStats.js":l=>{(function(){"performance"in window||(window.performance={});var u=window.performance;if(!("now"in u)){var c=Date.now();u.timing&&u.timing.navigationStart&&(c=u.timing.navigationStart),u.now=function(){return Date.now()-c}}u.mark||(u.mark=function(){}),u.measure||(u.measure=function(){})})(),window.rStats=function(c){function d(H,V){for(var B=Object.keys(H),O=0,F=B.length;O<F;O++)V(B[O])}function h(H){var V=document.createElement("link");V.href=H,V.rel="stylesheet",V.type="text/css",document.getElementsByTagName("head")[0].appendChild(V)}var p=c||{},m=p.colours||["#850700","#c74900","#fcb300","#284280","#4c7c0c"],v="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700,300",y=(p.CSSPath?p.CSSPath:"")+"rStats.css",A=p.css||[v,y];A.forEach(function(H){h(H)}),p.values||(p.values={});var b,g,w=10,E=200,C={};function _(H,V,B){var O=B||{},F=document.createElement("canvas"),N=F.getContext("2d"),z=0,j=0,G=O.color?O.color:"#666666",Q=document.createElement("canvas"),X=Q.getContext("2d");Q.width=1,Q.height=2*w,X.fillStyle="#444444",X.fillRect(0,0,1,2*w),X.fillStyle=G,X.fillRect(0,w,1,w),X.fillStyle="#ffffff",X.globalAlpha=.5,X.fillRect(0,w,1,1),X.globalAlpha=1;var J=document.createElement("canvas"),Z=J.getContext("2d");J.width=1,J.height=2*w,Z.fillStyle="#444444",Z.fillRect(0,0,1,2*w),Z.fillStyle="#b70000",Z.fillRect(0,w,1,w),Z.globalAlpha=.5,Z.fillStyle="#ffffff",Z.fillRect(0,w,1,1),Z.globalAlpha=1;function oe(){F.width=E,F.height=w,F.style.width=F.width+"px",F.style.height=F.height+"px",F.className="rs-canvas",H.appendChild(F),N.fillStyle="#444444",N.fillRect(0,0,F.width,F.height)}function ce(Be,ge){j+=(Be-j)*.1,z*=.99,j>z&&(z=j),N.drawImage(F,1,0,F.width-1,F.height,0,0,F.width-1,F.height),ge?N.drawImage(J,F.width-1,F.height-j*F.height/z-w):N.drawImage(Q,F.width-1,F.height-j*F.height/z-w)}return oe(),{draw:ce}}function P(H,V){var B=document.createElement("canvas"),O=B.getContext("2d");function F(){B.width=E,B.height=w*V,B.style.width=B.width+"px",B.style.height=B.height+"px",B.className="rs-canvas",H.appendChild(B),O.fillStyle="#444444",O.fillRect(0,0,B.width,B.height)}function N(z){O.drawImage(B,1,0,B.width-1,B.height,0,0,B.width-1,B.height);var j=0;d(z,function(G){var Q=z[G]*B.height;O.fillStyle=m[G],O.fillRect(B.width-1,j,1,Q),j+=Q})}return F(),{draw:N}}function R(H,V){var B=H,O,F=0,N=0,z=0,j=0,G=performance.now(),Q=0,X=document.createElement("div"),J=document.createElement("span"),Z=document.createElement("div"),oe=document.createTextNode(""),ce=p?p.values[B.toLowerCase()]:null,Be=new _(X,B,ce),ge=!1;J.className="rs-counter-id",J.textContent=ce&&ce.caption?ce.caption:B,Z.className="rs-counter-value",Z.appendChild(oe),X.appendChild(J),X.appendChild(Z),V?V.div.appendChild(X):g.appendChild(X),O=performance.now();function Re(it){if(ce&&ce.average){j+=it,Q++;var ft=performance.now();ft-G>=(ce.avgMs||1e3)&&(z=j/Q,j=0,G=ft,Q=0)}}function $e(){O=performance.now(),p.userTimingAPI&&performance.mark(B+"-start"),ge=!0}function qe(){F=performance.now()-O,p.userTimingAPI&&(performance.mark(B+"-end"),ge&&performance.measure(B,B+"-start",B+"-end")),Re(F)}function Ke(){qe(),$e()}function ke(){var it=ce&&ce.average?z:F;oe.nodeValue=Math.round(it*100)/100;var ft=ce&&(ce.below&&F<ce.below||ce.over&&F>ce.over);Be.draw(F,ft),X.className=ft?"rs-counter-base alarm":"rs-counter-base"}function st(){var it=performance.now(),ft=it-O;N++,ft>1e3&&(ce&&ce.interpolate===!1?F=N:F=N*1e3/ft,N=0,O=it,Re(F))}function ot(it){F=it,Re(F)}return{set:ot,start:$e,tick:Ke,end:qe,frame:st,value:function(){return F},draw:ke}}function L(H){var V=H.toLowerCase();if(V===void 0&&(V="default"),C[V])return C[V];var B=null;p&&p.groups&&d(p.groups,function(F){var N=p.groups[parseInt(F,10)];!B&&N.values.indexOf(V.toLowerCase())!==-1&&(B=N)});var O=new R(V,B);return C[V]=O,O}function T(){if(p.plugins){p.values||(p.values={}),p.groups||(p.groups=[]),p.fractions||(p.fractions=[]);for(var H=0;H<p.plugins.length;H++)p.plugins[H].attach(L),d(p.plugins[H].values,function(V){p.values[V]=p.plugins[H].values[V]}),p.groups=p.groups.concat(p.plugins[H].groups),p.fractions=p.fractions.concat(p.plugins[H].fractions)}else p.plugins={};b=document.createElement("div"),b.className="rs-base",g=document.createElement("div"),g.className="rs-container",g.style.height="auto",b.appendChild(g),document.body.appendChild(b),p&&(p.groups&&d(p.groups,function(V){var B=p.groups[parseInt(V,10)],O=document.createElement("div");O.className="rs-group",B.div=O;var F=document.createElement("h1");F.textContent=B.caption,F.addEventListener("click",(function(N){this.classList.toggle("hidden"),N.preventDefault()}).bind(O)),g.appendChild(F),g.appendChild(O)}),p.fractions&&d(p.fractions,function(V){var B=p.fractions[parseInt(V,10)],O=document.createElement("div");O.className="rs-fraction";var F=document.createElement("div");F.className="rs-legend";var N=0;d(p.fractions[V].steps,function(j){var G=document.createElement("p");G.textContent=p.fractions[V].steps[j],G.style.color=m[N],F.appendChild(G),N++}),O.appendChild(F),O.style.height=N*w+"px",B.div=O;var z=new P(O,N);B.graph=z,g.appendChild(O)}))}function D(){d(p.plugins,function(H){p.plugins[H].update()}),d(C,function(H){C[H].draw()}),p&&p.fractions&&d(p.fractions,function(H){var V=p.fractions[parseInt(H,10)],B=[],O=C[V.base.toLowerCase()];O&&(O=O.value(),d(p.fractions[H].steps,function(F){var N=p.fractions[H].steps[parseInt(F,10)].toLowerCase(),z=C[N];z&&B.push(z.value()/O)})),V.graph.draw(B)})}return T(),function(H){return H?L(H):{element:b,update:D}}},l.exports=window.rStats},"./vendor/starts-with-polyfill.js":()=>{String.prototype.startsWith||(String.prototype.startsWith=function(l,u){return u=u||0,this.substr(u,l.length)===l})},"./vendor/wakelock/util.js":l=>{var u={};u.base64=function(c,d){return"data:"+c+";base64,"+d},u.isMobile=function(){var c=!1;return function(d){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(d)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(d.substr(0,4)))&&(c=!0)}(navigator.userAgent||navigator.vendor||window.opera),c},u.isIOS=function(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)},u.isIFrame=function(){try{return window.self!==window.top}catch{return!0}},u.appendQueryParameter=function(c,d,h){var p=c.indexOf("?")<0?"?":"&";return c+=p+d+"="+h,c},u.getQueryParameter=function(c){c=c.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var d=new RegExp("[\\?&]"+c+"=([^&#]*)"),h=d.exec(location.search);return h===null?"":decodeURIComponent(h[1].replace(/\+/g," "))},u.isLandscapeMode=function(){return window.orientation==90||window.orientation==-90},l.exports=u},"./vendor/wakelock/wakelock.js":(l,u,c)=>{var d=c("./vendor/wakelock/util.js");function h(){var v=document.createElement("video");v.addEventListener("ended",function(){v.play()}),this.request=function(){v.paused&&(v.src=d.base64("video/webm","GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4ECQoWBAhhTgGcBAAAAAAAH4xFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsggfG7AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU2LjQwLjEwMVdBjUxhdmY1Ni40MC4xMDFzpJAGSJTMbsLpDt/ySkipgX1fRImIQO1MAAAAAAAWVK5rAQAAAAAAADuuAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDmDgQEj44OEO5rKAOABAAAAAAAABrCBsLqBkB9DtnUBAAAAAAAAo+eBAKOmgQAAgKJJg0IAAV4BHsAHBIODCoAACmH2MAAAZxgz4dPSTFi5JACjloED6ACmAECSnABMQAADYAAAWi0quoCjloEH0ACmAECSnABNwAADYAAAWi0quoCjloELuACmAECSnABNgAADYAAAWi0quoCjloEPoACmAECSnABNYAADYAAAWi0quoCjloETiACmAECSnABNIAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTnghdwo5aBAAAApgBAkpwATOAAA2AAAFotKrqAo5aBA+gApgBAkpwATMAAA2AAAFotKrqAo5aBB9AApgBAkpwATIAAA2AAAFotKrqAo5aBC7gApgBAkpwATEAAA2AAAFotKrqAo5aBD6AApgDAkpwAQ2AAA2AAAFotKrqAo5aBE4gApgBAkpwATCAAA2AAAFotKrqAH0O2dQEAAAAAAACU54Iu4KOWgQAAAKYAQJKcAEvAAANgAABaLSq6gKOWgQPoAKYAQJKcAEtgAANgAABaLSq6gKOWgQfQAKYAQJKcAEsAAANgAABaLSq6gKOWgQu4AKYAQJKcAEqAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEogAANgAABaLSq6gKOWgROIAKYAQJKcAEnAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCRlCjloEAAACmAECSnABJgAADYAAAWi0quoCjloED6ACmAECSnABJIAADYAAAWi0quoCjloEH0ACmAMCSnABDYAADYAAAWi0quoCjloELuACmAECSnABI4AADYAAAWi0quoCjloEPoACmAECSnABIoAADYAAAWi0quoCjloETiACmAECSnABIYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngl3Ao5aBAAAApgBAkpwASCAAA2AAAFotKrqAo5aBA+gApgBAkpwASAAAA2AAAFotKrqAo5aBB9AApgBAkpwAR8AAA2AAAFotKrqAo5aBC7gApgBAkpwAR4AAA2AAAFotKrqAo5aBD6AApgBAkpwAR2AAA2AAAFotKrqAo5aBE4gApgBAkpwARyAAA2AAAFotKrqAH0O2dQEAAAAAAACU54J1MKOWgQAAAKYAwJKcAENgAANgAABaLSq6gKOWgQPoAKYAQJKcAEbgAANgAABaLSq6gKOWgQfQAKYAQJKcAEagAANgAABaLSq6gKOWgQu4AKYAQJKcAEaAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEZAAANgAABaLSq6gKOWgROIAKYAQJKcAEYAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCjKCjloEAAACmAECSnABF4AADYAAAWi0quoCjloED6ACmAECSnABFwAADYAAAWi0quoCjloEH0ACmAECSnABFoAADYAAAWi0quoCjloELuACmAECSnABFgAADYAAAWi0quoCjloEPoACmAMCSnABDYAADYAAAWi0quoCjloETiACmAECSnABFYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngqQQo5aBAAAApgBAkpwARUAAA2AAAFotKrqAo5aBA+gApgBAkpwARSAAA2AAAFotKrqAo5aBB9AApgBAkpwARQAAA2AAAFotKrqAo5aBC7gApgBAkpwARQAAA2AAAFotKrqAo5aBD6AApgBAkpwAROAAA2AAAFotKrqAo5aBE4gApgBAkpwARMAAA2AAAFotKrqAH0O2dQEAAAAAAACU54K7gKOWgQAAAKYAQJKcAESgAANgAABaLSq6gKOWgQPoAKYAQJKcAESAAANgAABaLSq6gKOWgQfQAKYAwJKcAENgAANgAABaLSq6gKOWgQu4AKYAQJKcAERgAANgAABaLSq6gKOWgQ+gAKYAQJKcAERAAANgAABaLSq6gKOWgROIAKYAQJKcAEQgAANgAABaLSq6gB9DtnUBAAAAAAAAlOeC0vCjloEAAACmAECSnABEIAADYAAAWi0quoCjloED6ACmAECSnABEAAADYAAAWi0quoCjloEH0ACmAECSnABD4AADYAAAWi0quoCjloELuACmAECSnABDwAADYAAAWi0quoCjloEPoACmAECSnABDoAADYAAAWi0quoCjloETiACmAECSnABDgAADYAAAWi0quoAcU7trAQAAAAAAABG7j7OBALeK94EB8YIBd/CBAw=="),v.play())},this.release=function(){v.pause(),v.src=""}}function p(){var v=null;this.request=function(){v||(v=setInterval(function(){window.location.href="/",setTimeout(window.stop,0)},15e3))},this.release=function(){v&&(clearInterval(v),v=null)}}function m(){var v=navigator.userAgent||navigator.vendor||window.opera;return v.match(/iPhone/i)||v.match(/iPod/i)?p:h}l.exports=m()},"./node_modules/css-loader/dist/cjs.js!./src/style/aframe.css":(l,u,c)=>{c.r(u),c.d(u,{default:()=>D});var d=c("./node_modules/css-loader/dist/runtime/sourceMaps.js"),h=c.n(d),p=c("./node_modules/css-loader/dist/runtime/api.js"),m=c.n(p),v=c("./node_modules/css-loader/dist/runtime/getUrl.js"),y=c.n(v),A=new URL(c("data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z%27 fill=%27%23fff%27/%3E%3C/svg%3E"),c.b),b=new URL(c("data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z%27 fill=%27%23fff%27/%3E%3C/svg%3E"),c.b),g=new URL(c("data:image/svg+xml,%3C%3Fxml version=%271.0%27 encoding=%27UTF-8%27 standalone=%27no%27%3F%3E%3Csvg width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27 version=%271.1%27 id=%27svg320%27 sodipodi:docname=%27fullscreen-aframe.svg%27 xml:space=%27preserve%27 inkscape:version=%271.2.1 %289c6d41e  2022-07-14%29%27 xmlns:inkscape=%27http://www.inkscape.org/namespaces/inkscape%27 xmlns:sodipodi=%27http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:svg=%27http://www.w3.org/2000/svg%27 xmlns:rdf=%27http://www.w3.org/1999/02/22-rdf-syntax-ns%23%27 xmlns:cc=%27http://creativecommons.org/ns%23%27 xmlns:dc=%27http://purl.org/dc/elements/1.1/%27%3E%3Cdefs id=%27defs324%27 /%3E%3Csodipodi:namedview id=%27namedview322%27 pagecolor=%27%23ffffff%27 bordercolor=%27%23000000%27 borderopacity=%270.25%27 inkscape:showpageshadow=%272%27 inkscape:pageopacity=%270.0%27 inkscape:pagecheckerboard=%270%27 inkscape:deskcolor=%27%23d1d1d1%27 showgrid=%27false%27 inkscape:zoom=%273.8064516%27 inkscape:cx=%2791.423729%27 inkscape:cy=%27-1.4449153%27 inkscape:window-width=%271440%27 inkscape:window-height=%27847%27 inkscape:window-x=%2732%27 inkscape:window-y=%2725%27 inkscape:window-maximized=%270%27 inkscape:current-layer=%27svg320%27 /%3E%3Ctitle id=%27title312%27%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96 0H12A12 12 0 0 0 0 12V50A12 12 0 0 0 12 62H96a12 12 0 0 0 12-12V12A12 12 0 0 0 96 0Zm8 50a8 8 0 0 1-8 8H12a8 8 0 0 1-8-8V12a8 8 0 0 1 8-8H96a8 8 0 0 1 8 8Z%27 fill=%27%23fff%27 id=%27path314%27 style=%27fill:%23ffffff%27 /%3E%3Cg id=%27g356%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g358%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g360%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g362%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g364%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g366%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g368%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g370%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g372%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g374%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g376%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g378%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g380%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g382%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g384%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cmetadata id=%27metadata561%27%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=%27%27%3E%3Cdc:title%3Eaframe-armode-noborder-reduced-tracking%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cpath d=%27m 98.168511 40.083649 c 0 -1.303681 -0.998788 -2.358041 -2.239389 -2.358041 -1.230088 0.0031 -2.240892 1.05436 -2.240892 2.358041 v 4.881296 l -9.041661 -9.041662 c -0.874129 -0.875631 -2.288954 -0.875631 -3.16308 0 -0.874129 0.874126 -0.874129 2.293459 0 3.167585 l 8.995101 8.992101 h -4.858767 c -1.323206 0.0031 -2.389583 1.004796 -2.389583 2.239386 0 1.237598 1.066377 2.237888 2.389583 2.237888 h 10.154599 c 1.323206 0 2.388082 -0.998789 2.392587 -2.237888 -0.0044 -0.03305 -0.009 -0.05858 -0.0134 -0.09161 0.0046 -0.04207 0.0134 -0.08712 0.0134 -0.13066 V 40.085172 h -1.52e-4%27 id=%27path596%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 23.091002 35.921781 -9.026643 9.041662 v -4.881296 c 0 -1.303681 -1.009302 -2.355037 -2.242393 -2.358041 -1.237598 0 -2.237888 1.05436 -2.237888 2.358041 l -0.0031 10.016421 c 0 0.04356 0.01211 0.08862 0.0015 0.130659 -0.0031 0.03153 -0.009 0.05709 -0.01211 0.09161 0.0031 1.239099 1.069379 2.237888 2.391085 2.237888 h 10.156101 c 1.320202 0 2.388079 -1.000291 2.388079 -2.237888 0 -1.234591 -1.067877 -2.236383 -2.388079 -2.239387 h -4.858767 l 8.995101 -8.9921 c 0.871126 -0.874127 0.871126 -2.293459 0 -3.167586 -0.875628 -0.877132 -2.291957 -0.877132 -3.169087 -1.52e-4%27 id=%27path598%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 84.649572 25.978033 9.041662 -9.041664 v 4.881298 c 0 1.299176 1.010806 2.350532 2.240891 2.355037 1.240601 0 2.23939 -1.055861 2.23939 -2.355037 V 11.798242 c 0 -0.04356 -0.009 -0.08862 -0.0134 -0.127671 0.0044 -0.03153 0.009 -0.06157 0.0134 -0.09313 -0.0044 -1.240598 -1.069379 -2.2393873 -2.391085 -2.2393873 h -10.1546 c -1.323205 0 -2.38958 0.9987893 -2.38958 2.2393873 0 1.233091 1.066375 2.237887 2.38958 2.240891 h 4.858768 l -8.995102 8.9921 c -0.874129 0.872625 -0.874129 2.288954 0 3.161578 0.874127 0.880137 2.288951 0.880137 3.16308 1.5e-4%27 id=%27path600%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 17.264988 13.822853 h 4.857265 c 1.320202 -0.0031 2.388079 -1.0078 2.388079 -2.240889 0 -1.240601 -1.067877 -2.2393893 -2.388079 -2.2393893 H 11.967654 c -1.321707 0 -2.388082 0.9987883 -2.391085 2.2393893 0.0031 0.03153 0.009 0.06157 0.01211 0.09313 -0.0031 0.03905 -0.0015 0.08262 -0.0015 0.127671 l 0.0031 10.020926 c 0 1.299176 1.00029 2.355038 2.237887 2.355038 1.233092 -0.0044 2.242393 -1.055862 2.242393 -2.355038 v -4.881295 l 9.026644 9.041661 c 0.877132 0.878635 2.293459 0.878635 3.169087 0 0.871125 -0.872624 0.871125 -2.288953 0 -3.161577 l -8.995282 -8.993616%27 id=%27path602%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3C/svg%3E"),c.b),w=new URL(c("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E"),c.b),E=new URL(c("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E"),c.b),C=m()(h()),_=y()(A),P=y()(b),R=y()(g),L=y()(w),T=y()(E);C.push([l.id,`/* .a-fullscreen means not embedded. */
html.a-fullscreen {
  bottom: 0;
  left: 0;
  position: fixed;
  right: 0;
  top: 0;
}

html.a-fullscreen body {
  height: 100%;
  margin: 0;
  overflow: hidden;
  padding: 0;
  width: 100%;
}

/* Class is removed when doing <a-scene embedded>. */
html.a-fullscreen .a-canvas {
  width: 100% !important;
  height: 100% !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  position: fixed !important;
}

html:not(.a-fullscreen) .a-enter-vr,
html:not(.a-fullscreen) .a-enter-ar {
  right: 5px;
  bottom: 5px;
}

html:not(.a-fullscreen) .a-enter-ar {
  right: 60px;
}

/* In chrome mobile the user agent stylesheet set it to white  */
:-webkit-full-screen {
  background-color: transparent;
}

.a-hidden {
  display: none !important;
}

.a-canvas {
  height: 100%;
  left: 0;
  position: absolute;
  top: 0;
  width: 100%;
}

.a-canvas.a-grab-cursor:hover {
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

canvas.a-canvas.a-mouse-cursor-hover:hover {
  cursor: pointer;
}

.a-inspector-loader {
  background-color: #ed3160;
  position: fixed;
  left: 3px;
  top: 3px;
  padding: 6px 10px;
  color: #fff;
  text-decoration: none;
  font-size: 12px;
  font-family: Roboto,sans-serif;
  text-align: center;
  z-index: 99999;
  width: 204px;
}

/* Inspector loader animation */
@keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }
@keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }
@keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }
@-webkit-keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }
@-webkit-keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }
@-webkit-keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }

.a-inspector-loader .dots span {
  animation: dots-1 2s infinite steps(1);
  -webkit-animation: dots-1 2s infinite steps(1);
}

.a-inspector-loader .dots span:first-child + span {
  animation-name: dots-2;
  -webkit-animation-name: dots-2;
}

.a-inspector-loader .dots span:first-child + span + span {
  animation-name: dots-3;
  -webkit-animation-name: dots-3;
}

a-scene {
  display: block;
  position: relative;
  height: 100%;
  width: 100%;
}

a-assets,
a-scene video,
a-scene img,
a-scene audio {
  display: none;
}

.a-enter-vr-modal,
.a-orientation-modal {
  font-family: Consolas, Andale Mono, Courier New, monospace;
}

.a-enter-vr-modal a {
  border-bottom: 1px solid #fff;
  padding: 2px 0;
  text-decoration: none;
  transition: .1s color ease-in;
}

.a-enter-vr-modal a:hover {
  background-color: #fff;
  color: #111;
  padding: 2px 4px;
  position: relative;
  left: -4px;
}

.a-enter-vr,
.a-enter-ar {
  font-family: sans-serif, monospace;
  font-size: 13px;
  width: 100%;
  font-weight: 200;
  line-height: 16px;
  position: absolute;
  right: 20px;
  bottom: 20px;
}

.a-enter-ar {
  right: 80px;
}

.a-enter-vr-button,
.a-enter-vr-modal,
.a-enter-vr-modal a {
  color: #fff;
  user-select: none;
  outline: none;
}

.a-enter-vr-button {
  background: rgba(0, 0, 0, 0.35) url(`+_+`) 50% 50% no-repeat;
}

.a-enter-ar-button {
  background: rgba(0, 0, 0, 0.20) url(`+P+`) 50% 50% no-repeat;
}

.a-enter-vr.fullscreen .a-enter-vr-button {
  background-image: url(`+R+`);
}

.a-enter-vr-button,
.a-enter-ar-button {
  background-size: 90% 90%;
  border: 0;
  bottom: 0;
  cursor: pointer;
  min-width: 58px;
  min-height: 34px;
  /* 1.74418604651 */
  /*
    In order to keep the aspect ratio when resizing
    padding-top percentages are relative to the containing block's width.
    http://stackoverflow.com/questions/12121090/responsively-change-div-size-keeping-aspect-ratio
  */
  padding-right: 0;
  padding-top: 0;
  position: absolute;
  right: 0;
  transition: background-color .05s ease;
  -webkit-transition: background-color .05s ease;
  z-index: 9999;
  border-radius: 8px;
  touch-action: manipulation; /* Prevent iOS double tap zoom on the button */
}

.a-enter-ar-button {
  background-size: 100% 90%;
  margin-right: 10px;
  border-radius: 7px;
}

.a-enter-ar-button:active,
.a-enter-ar-button:hover,
.a-enter-vr-button:active,
.a-enter-vr-button:hover {
  background-color: #ef2d5e;
}

.a-enter-vr-button.resethover {
  background-color: rgba(0, 0, 0, 0.35);
}


.a-enter-vr-modal {
  background-color: #666;
  border-radius: 0;
  display: none;
  min-height: 32px;
  margin-right: 70px;
  padding: 9px;
  width: 280px;
  right: 2%;
  position: absolute;
}

.a-enter-vr-modal:after {
  border-bottom: 10px solid transparent;
  border-left: 10px solid #666;
  border-top: 10px solid transparent;
  display: inline-block;
  content: '';
  position: absolute;
  right: -5px;
  top: 5px;
  width: 0;
  height: 0;
}

.a-enter-vr-modal p,
.a-enter-vr-modal a {
  display: inline;
}

.a-enter-vr-modal p {
  margin: 0;
}

.a-enter-vr-modal p:after {
  content: ' ';
}

.a-orientation-modal {
  background: rgba(244, 244, 244, 1) url(`+L+`) center no-repeat;
  background-size: 50% 50%;
  bottom: 0;
  font-size: 14px;
  font-weight: 600;
  left: 0;
  line-height: 20px;
  right: 0;
  position: fixed;
  top: 0;
  z-index: 9999999;
}

.a-orientation-modal:after {
  color: #666;
  content: "Insert phone into Cardboard holder.";
  display: block;
  position: absolute;
  text-align: center;
  top: 70%;
  transform: translateY(-70%);
  width: 100%;
}

.a-orientation-modal button {
  background: url(`+T+`) no-repeat;
  border: none;
  height: 50px;
  text-indent: -9999px;
  width: 50px;
}

.a-loader-title {
  background-color: rgba(0, 0, 0, 0.6);
  font-family: sans-serif, monospace;
  text-align: center;
  font-size: 20px;
  height: 50px;
  font-weight: 300;
  line-height: 50px;
  position: absolute;
  right: 0px;
  left: 0px;
  top: 0px;
  color: white;
}

.a-modal {
  position: absolute;
  background: rgba(0, 0, 0, 0.60);
  background-size: 50% 50%;
  bottom: 0;
  font-size: 14px;
  font-weight: 600;
  left: 0;
  line-height: 20px;
  right: 0;
  position: fixed;
  top: 0;
  z-index: 9999999;
}

.a-dialog {
  position: relative;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  z-index: 199995;
  width: 300px;
  height: 200px;
  background-size: contain;
  background-color: white;
  font-family: sans-serif, monospace;
  font-size: 20px;
  border-radius: 3px;
  padding: 6px;
}

.a-dialog-text-container {
  width: 100%;
  height: 70%;
  align-self: flex-start;
  display: flex;
  justify-content: center;
  align-content: center;
  flex-direction: column;
}

.a-dialog-text {
  display: inline-block;
  font-weight: normal;
  font-size: 14pt;
  margin: 8px;
}

.a-dialog-buttons-container {
  display: inline-flex;
  align-self: flex-end;
  width: 100%;
  height: 30%;
}

.a-dialog-button {
  cursor: pointer;
  align-self: center;
  opacity: 0.9;
  height: 80%;
  width: 50%;
  font-size: 12pt;
  margin: 4px;
  border-radius: 2px;
  text-align:center;
  border: none;
  display: inline-block;
  -webkit-transition: all 0.25s ease-in-out;
  transition: all 0.25s ease-in-out;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.10), 0 1px 2px rgba(0, 0, 0, 0.20);
  user-select: none;
}

.a-dialog-permission-button:hover {
  box-shadow: 0 7px 14px rgba(0,0,0,0.20), 0 2px 2px rgba(0,0,0,0.20);
}

.a-dialog-allow-button {
  background-color: #00ceff;
}

.a-dialog-deny-button {
  background-color: #ff005b;
}

.a-dialog-ok-button {
  background-color: #00ceff;
  width: 100%;
}

.a-dom-overlay:not(.a-no-style) {
  overflow: hidden;
  position: absolute;
  pointer-events: none;
  box-sizing: border-box;
  bottom: 0;
  left: 0;
  right: 0;
  top: 0;
  padding: 1em;
}

.a-dom-overlay:not(.a-no-style)>* {
  pointer-events: auto;
}
`,"",{version:3,sources:["webpack://./src/style/aframe.css"],names:[],mappings:"AAAA,sCAAsC;AACtC;EACE,SAAS;EACT,OAAO;EACP,eAAe;EACf,QAAQ;EACR,MAAM;AACR;;AAEA;EACE,YAAY;EACZ,SAAS;EACT,gBAAgB;EAChB,UAAU;EACV,WAAW;AACb;;AAEA,oDAAoD;AACpD;EACE,sBAAsB;EACtB,uBAAuB;EACvB,iBAAiB;EACjB,kBAAkB;EAClB,mBAAmB;EACnB,oBAAoB;EACpB,0BAA0B;AAC5B;;AAEA;;EAEE,UAAU;EACV,WAAW;AACb;;AAEA;EACE,WAAW;AACb;;AAEA,gEAAgE;AAChE;EACE,6BAA6B;AAC/B;;AAEA;EACE,wBAAwB;AAC1B;;AAEA;EACE,YAAY;EACZ,OAAO;EACP,kBAAkB;EAClB,MAAM;EACN,WAAW;AACb;;AAEA;EACE,YAAY;EACZ,iBAAiB;EACjB,oBAAoB;AACtB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,yBAAyB;EACzB,eAAe;EACf,SAAS;EACT,QAAQ;EACR,iBAAiB;EACjB,WAAW;EACX,qBAAqB;EACrB,eAAe;EACf,8BAA8B;EAC9B,kBAAkB;EAClB,cAAc;EACd,YAAY;AACd;;AAEA,+BAA+B;AAC/B,oBAAoB,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AAC7D,oBAAoB,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AAC7D,oBAAoB,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AAC7D,4BAA4B,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AACrE,4BAA4B,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AACrE,4BAA4B,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;;AAErE;EACE,sCAAsC;EACtC,8CAA8C;AAChD;;AAEA;EACE,sBAAsB;EACtB,8BAA8B;AAChC;;AAEA;EACE,sBAAsB;EACtB,8BAA8B;AAChC;;AAEA;EACE,cAAc;EACd,kBAAkB;EAClB,YAAY;EACZ,WAAW;AACb;;AAEA;;;;EAIE,aAAa;AACf;;AAEA;;EAEE,0DAA0D;AAC5D;;AAEA;EACE,6BAA6B;EAC7B,cAAc;EACd,qBAAqB;EACrB,6BAA6B;AAC/B;;AAEA;EACE,sBAAsB;EACtB,WAAW;EACX,gBAAgB;EAChB,kBAAkB;EAClB,UAAU;AACZ;;AAEA;;EAEE,kCAAkC;EAClC,eAAe;EACf,WAAW;EACX,gBAAgB;EAChB,iBAAiB;EACjB,kBAAkB;EAClB,WAAW;EACX,YAAY;AACd;;AAEA;EACE,WAAW;AACb;;AAEA;;;EAGE,WAAW;EACX,iBAAiB;EACjB,aAAa;AACf;;AAEA;EACE,yFAA4qB;AAC9qB;;AAEA;EACE,yFAAkzB;AACpzB;;AAEA;EACE,yDAA2qK;AAC7qK;;AAEA;;EAEE,wBAAwB;EACxB,SAAS;EACT,SAAS;EACT,eAAe;EACf,eAAe;EACf,gBAAgB;EAChB,kBAAkB;EAClB;;;;GAIC;EACD,gBAAgB;EAChB,cAAc;EACd,kBAAkB;EAClB,QAAQ;EACR,sCAAsC;EACtC,8CAA8C;EAC9C,aAAa;EACb,kBAAkB;EAClB,0BAA0B,EAAE,8CAA8C;AAC5E;;AAEA;EACE,yBAAyB;EACzB,kBAAkB;EAClB,kBAAkB;AACpB;;AAEA;;;;EAIE,yBAAyB;AAC3B;;AAEA;EACE,qCAAqC;AACvC;;;AAGA;EACE,sBAAsB;EACtB,gBAAgB;EAChB,aAAa;EACb,gBAAgB;EAChB,kBAAkB;EAClB,YAAY;EACZ,YAAY;EACZ,SAAS;EACT,kBAAkB;AACpB;;AAEA;EACE,qCAAqC;EACrC,4BAA4B;EAC5B,kCAAkC;EAClC,qBAAqB;EACrB,WAAW;EACX,kBAAkB;EAClB,WAAW;EACX,QAAQ;EACR,QAAQ;EACR,SAAS;AACX;;AAEA;;EAEE,eAAe;AACjB;;AAEA;EACE,SAAS;AACX;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,2FAAivF;EACjvF,wBAAwB;EACxB,SAAS;EACT,eAAe;EACf,gBAAgB;EAChB,OAAO;EACP,iBAAiB;EACjB,QAAQ;EACR,eAAe;EACf,MAAM;EACN,gBAAgB;AAClB;;AAEA;EACE,WAAW;EACX,8CAA8C;EAC9C,cAAc;EACd,kBAAkB;EAClB,kBAAkB;EAClB,QAAQ;EACR,2BAA2B;EAC3B,WAAW;AACb;;AAEA;EACE,6DAA25B;EAC35B,YAAY;EACZ,YAAY;EACZ,oBAAoB;EACpB,WAAW;AACb;;AAEA;EACE,oCAAoC;EACpC,kCAAkC;EAClC,kBAAkB;EAClB,eAAe;EACf,YAAY;EACZ,gBAAgB;EAChB,iBAAiB;EACjB,kBAAkB;EAClB,UAAU;EACV,SAAS;EACT,QAAQ;EACR,YAAY;AACd;;AAEA;EACE,kBAAkB;EAClB,+BAA+B;EAC/B,wBAAwB;EACxB,SAAS;EACT,eAAe;EACf,gBAAgB;EAChB,OAAO;EACP,iBAAiB;EACjB,QAAQ;EACR,eAAe;EACf,MAAM;EACN,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;EAClB,SAAS;EACT,QAAQ;EACR,gCAAgC;EAChC,eAAe;EACf,YAAY;EACZ,aAAa;EACb,wBAAwB;EACxB,uBAAuB;EACvB,kCAAkC;EAClC,eAAe;EACf,kBAAkB;EAClB,YAAY;AACd;;AAEA;EACE,WAAW;EACX,WAAW;EACX,sBAAsB;EACtB,aAAa;EACb,uBAAuB;EACvB,qBAAqB;EACrB,sBAAsB;AACxB;;AAEA;EACE,qBAAqB;EACrB,mBAAmB;EACnB,eAAe;EACf,WAAW;AACb;;AAEA;EACE,oBAAoB;EACpB,oBAAoB;EACpB,WAAW;EACX,WAAW;AACb;;AAEA;EACE,eAAe;EACf,kBAAkB;EAClB,YAAY;EACZ,WAAW;EACX,UAAU;EACV,eAAe;EACf,WAAW;EACX,kBAAkB;EAClB,iBAAiB;EACjB,YAAY;EACZ,qBAAqB;EACrB,yCAAyC;EACzC,iCAAiC;EACjC,wEAAwE;EACxE,iBAAiB;AACnB;;AAEA;EACE,mEAAmE;AACrE;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,yBAAyB;EACzB,WAAW;AACb;;AAEA;EACE,gBAAgB;EAChB,kBAAkB;EAClB,oBAAoB;EACpB,sBAAsB;EACtB,SAAS;EACT,OAAO;EACP,QAAQ;EACR,MAAM;EACN,YAAY;AACd;;AAEA;EACE,oBAAoB;AACtB",sourcesContent:[`/* .a-fullscreen means not embedded. */
html.a-fullscreen {
  bottom: 0;
  left: 0;
  position: fixed;
  right: 0;
  top: 0;
}

html.a-fullscreen body {
  height: 100%;
  margin: 0;
  overflow: hidden;
  padding: 0;
  width: 100%;
}

/* Class is removed when doing <a-scene embedded>. */
html.a-fullscreen .a-canvas {
  width: 100% !important;
  height: 100% !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  position: fixed !important;
}

html:not(.a-fullscreen) .a-enter-vr,
html:not(.a-fullscreen) .a-enter-ar {
  right: 5px;
  bottom: 5px;
}

html:not(.a-fullscreen) .a-enter-ar {
  right: 60px;
}

/* In chrome mobile the user agent stylesheet set it to white  */
:-webkit-full-screen {
  background-color: transparent;
}

.a-hidden {
  display: none !important;
}

.a-canvas {
  height: 100%;
  left: 0;
  position: absolute;
  top: 0;
  width: 100%;
}

.a-canvas.a-grab-cursor:hover {
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

canvas.a-canvas.a-mouse-cursor-hover:hover {
  cursor: pointer;
}

.a-inspector-loader {
  background-color: #ed3160;
  position: fixed;
  left: 3px;
  top: 3px;
  padding: 6px 10px;
  color: #fff;
  text-decoration: none;
  font-size: 12px;
  font-family: Roboto,sans-serif;
  text-align: center;
  z-index: 99999;
  width: 204px;
}

/* Inspector loader animation */
@keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }
@keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }
@keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }
@-webkit-keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }
@-webkit-keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }
@-webkit-keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }

.a-inspector-loader .dots span {
  animation: dots-1 2s infinite steps(1);
  -webkit-animation: dots-1 2s infinite steps(1);
}

.a-inspector-loader .dots span:first-child + span {
  animation-name: dots-2;
  -webkit-animation-name: dots-2;
}

.a-inspector-loader .dots span:first-child + span + span {
  animation-name: dots-3;
  -webkit-animation-name: dots-3;
}

a-scene {
  display: block;
  position: relative;
  height: 100%;
  width: 100%;
}

a-assets,
a-scene video,
a-scene img,
a-scene audio {
  display: none;
}

.a-enter-vr-modal,
.a-orientation-modal {
  font-family: Consolas, Andale Mono, Courier New, monospace;
}

.a-enter-vr-modal a {
  border-bottom: 1px solid #fff;
  padding: 2px 0;
  text-decoration: none;
  transition: .1s color ease-in;
}

.a-enter-vr-modal a:hover {
  background-color: #fff;
  color: #111;
  padding: 2px 4px;
  position: relative;
  left: -4px;
}

.a-enter-vr,
.a-enter-ar {
  font-family: sans-serif, monospace;
  font-size: 13px;
  width: 100%;
  font-weight: 200;
  line-height: 16px;
  position: absolute;
  right: 20px;
  bottom: 20px;
}

.a-enter-ar {
  right: 80px;
}

.a-enter-vr-button,
.a-enter-vr-modal,
.a-enter-vr-modal a {
  color: #fff;
  user-select: none;
  outline: none;
}

.a-enter-vr-button {
  background: rgba(0, 0, 0, 0.35) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='108' height='62' viewBox='0 0 108 62'%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z' fill='%23fff'/%3E%3Cpath d='M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z' fill='%23fff'/%3E%3C/svg%3E") 50% 50% no-repeat;
}

.a-enter-ar-button {
  background: rgba(0, 0, 0, 0.20) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='108' height='62' viewBox='0 0 108 62'%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z' fill='%23fff'/%3E%3Cpath d='M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z' fill='%23fff'/%3E%3Cpath d='M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z' fill='%23fff'/%3E%3C/svg%3E") 50% 50% no-repeat;
}

.a-enter-vr.fullscreen .a-enter-vr-button {
  background-image: url("data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8' standalone='no'%3F%3E%3Csvg width='108' height='62' viewBox='0 0 108 62' version='1.1' id='svg320' sodipodi:docname='fullscreen-aframe.svg' xml:space='preserve' inkscape:version='1.2.1 (9c6d41e  2022-07-14)' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns='http://www.w3.org/2000/svg' xmlns:svg='http://www.w3.org/2000/svg' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/'%3E%3Cdefs id='defs324' /%3E%3Csodipodi:namedview id='namedview322' pagecolor='%23ffffff' bordercolor='%23000000' borderopacity='0.25' inkscape:showpageshadow='2' inkscape:pageopacity='0.0' inkscape:pagecheckerboard='0' inkscape:deskcolor='%23d1d1d1' showgrid='false' inkscape:zoom='3.8064516' inkscape:cx='91.423729' inkscape:cy='-1.4449153' inkscape:window-width='1440' inkscape:window-height='847' inkscape:window-x='32' inkscape:window-y='25' inkscape:window-maximized='0' inkscape:current-layer='svg320' /%3E%3Ctitle id='title312'%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M96 0H12A12 12 0 0 0 0 12V50A12 12 0 0 0 12 62H96a12 12 0 0 0 12-12V12A12 12 0 0 0 96 0Zm8 50a8 8 0 0 1-8 8H12a8 8 0 0 1-8-8V12a8 8 0 0 1 8-8H96a8 8 0 0 1 8 8Z' fill='%23fff' id='path314' style='fill:%23ffffff' /%3E%3Cg id='g356' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g358' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g360' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g362' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g364' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g366' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g368' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g370' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g372' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g374' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g376' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g378' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g380' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g382' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g384' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cmetadata id='metadata561'%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=''%3E%3Cdc:title%3Eaframe-armode-noborder-reduced-tracking%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cpath d='m 98.168511 40.083649 c 0 -1.303681 -0.998788 -2.358041 -2.239389 -2.358041 -1.230088 0.0031 -2.240892 1.05436 -2.240892 2.358041 v 4.881296 l -9.041661 -9.041662 c -0.874129 -0.875631 -2.288954 -0.875631 -3.16308 0 -0.874129 0.874126 -0.874129 2.293459 0 3.167585 l 8.995101 8.992101 h -4.858767 c -1.323206 0.0031 -2.389583 1.004796 -2.389583 2.239386 0 1.237598 1.066377 2.237888 2.389583 2.237888 h 10.154599 c 1.323206 0 2.388082 -0.998789 2.392587 -2.237888 -0.0044 -0.03305 -0.009 -0.05858 -0.0134 -0.09161 0.0046 -0.04207 0.0134 -0.08712 0.0134 -0.13066 V 40.085172 h -1.52e-4' id='path596' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3Cpath d='m 23.091002 35.921781 -9.026643 9.041662 v -4.881296 c 0 -1.303681 -1.009302 -2.355037 -2.242393 -2.358041 -1.237598 0 -2.237888 1.05436 -2.237888 2.358041 l -0.0031 10.016421 c 0 0.04356 0.01211 0.08862 0.0015 0.130659 -0.0031 0.03153 -0.009 0.05709 -0.01211 0.09161 0.0031 1.239099 1.069379 2.237888 2.391085 2.237888 h 10.156101 c 1.320202 0 2.388079 -1.000291 2.388079 -2.237888 0 -1.234591 -1.067877 -2.236383 -2.388079 -2.239387 h -4.858767 l 8.995101 -8.9921 c 0.871126 -0.874127 0.871126 -2.293459 0 -3.167586 -0.875628 -0.877132 -2.291957 -0.877132 -3.169087 -1.52e-4' id='path598' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3Cpath d='m 84.649572 25.978033 9.041662 -9.041664 v 4.881298 c 0 1.299176 1.010806 2.350532 2.240891 2.355037 1.240601 0 2.23939 -1.055861 2.23939 -2.355037 V 11.798242 c 0 -0.04356 -0.009 -0.08862 -0.0134 -0.127671 0.0044 -0.03153 0.009 -0.06157 0.0134 -0.09313 -0.0044 -1.240598 -1.069379 -2.2393873 -2.391085 -2.2393873 h -10.1546 c -1.323205 0 -2.38958 0.9987893 -2.38958 2.2393873 0 1.233091 1.066375 2.237887 2.38958 2.240891 h 4.858768 l -8.995102 8.9921 c -0.874129 0.872625 -0.874129 2.288954 0 3.161578 0.874127 0.880137 2.288951 0.880137 3.16308 1.5e-4' id='path600' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3Cpath d='m 17.264988 13.822853 h 4.857265 c 1.320202 -0.0031 2.388079 -1.0078 2.388079 -2.240889 0 -1.240601 -1.067877 -2.2393893 -2.388079 -2.2393893 H 11.967654 c -1.321707 0 -2.388082 0.9987883 -2.391085 2.2393893 0.0031 0.03153 0.009 0.06157 0.01211 0.09313 -0.0031 0.03905 -0.0015 0.08262 -0.0015 0.127671 l 0.0031 10.020926 c 0 1.299176 1.00029 2.355038 2.237887 2.355038 1.233092 -0.0044 2.242393 -1.055862 2.242393 -2.355038 v -4.881295 l 9.026644 9.041661 c 0.877132 0.878635 2.293459 0.878635 3.169087 0 0.871125 -0.872624 0.871125 -2.288953 0 -3.161577 l -8.995282 -8.993616' id='path602' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3C/svg%3E");
}

.a-enter-vr-button,
.a-enter-ar-button {
  background-size: 90% 90%;
  border: 0;
  bottom: 0;
  cursor: pointer;
  min-width: 58px;
  min-height: 34px;
  /* 1.74418604651 */
  /*
    In order to keep the aspect ratio when resizing
    padding-top percentages are relative to the containing block's width.
    http://stackoverflow.com/questions/12121090/responsively-change-div-size-keeping-aspect-ratio
  */
  padding-right: 0;
  padding-top: 0;
  position: absolute;
  right: 0;
  transition: background-color .05s ease;
  -webkit-transition: background-color .05s ease;
  z-index: 9999;
  border-radius: 8px;
  touch-action: manipulation; /* Prevent iOS double tap zoom on the button */
}

.a-enter-ar-button {
  background-size: 100% 90%;
  margin-right: 10px;
  border-radius: 7px;
}

.a-enter-ar-button:active,
.a-enter-ar-button:hover,
.a-enter-vr-button:active,
.a-enter-vr-button:hover {
  background-color: #ef2d5e;
}

.a-enter-vr-button.resethover {
  background-color: rgba(0, 0, 0, 0.35);
}


.a-enter-vr-modal {
  background-color: #666;
  border-radius: 0;
  display: none;
  min-height: 32px;
  margin-right: 70px;
  padding: 9px;
  width: 280px;
  right: 2%;
  position: absolute;
}

.a-enter-vr-modal:after {
  border-bottom: 10px solid transparent;
  border-left: 10px solid #666;
  border-top: 10px solid transparent;
  display: inline-block;
  content: '';
  position: absolute;
  right: -5px;
  top: 5px;
  width: 0;
  height: 0;
}

.a-enter-vr-modal p,
.a-enter-vr-modal a {
  display: inline;
}

.a-enter-vr-modal p {
  margin: 0;
}

.a-enter-vr-modal p:after {
  content: ' ';
}

.a-orientation-modal {
  background: rgba(244, 244, 244, 1) url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E) center no-repeat;
  background-size: 50% 50%;
  bottom: 0;
  font-size: 14px;
  font-weight: 600;
  left: 0;
  line-height: 20px;
  right: 0;
  position: fixed;
  top: 0;
  z-index: 9999999;
}

.a-orientation-modal:after {
  color: #666;
  content: "Insert phone into Cardboard holder.";
  display: block;
  position: absolute;
  text-align: center;
  top: 70%;
  transform: translateY(-70%);
  width: 100%;
}

.a-orientation-modal button {
  background: url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E) no-repeat;
  border: none;
  height: 50px;
  text-indent: -9999px;
  width: 50px;
}

.a-loader-title {
  background-color: rgba(0, 0, 0, 0.6);
  font-family: sans-serif, monospace;
  text-align: center;
  font-size: 20px;
  height: 50px;
  font-weight: 300;
  line-height: 50px;
  position: absolute;
  right: 0px;
  left: 0px;
  top: 0px;
  color: white;
}

.a-modal {
  position: absolute;
  background: rgba(0, 0, 0, 0.60);
  background-size: 50% 50%;
  bottom: 0;
  font-size: 14px;
  font-weight: 600;
  left: 0;
  line-height: 20px;
  right: 0;
  position: fixed;
  top: 0;
  z-index: 9999999;
}

.a-dialog {
  position: relative;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  z-index: 199995;
  width: 300px;
  height: 200px;
  background-size: contain;
  background-color: white;
  font-family: sans-serif, monospace;
  font-size: 20px;
  border-radius: 3px;
  padding: 6px;
}

.a-dialog-text-container {
  width: 100%;
  height: 70%;
  align-self: flex-start;
  display: flex;
  justify-content: center;
  align-content: center;
  flex-direction: column;
}

.a-dialog-text {
  display: inline-block;
  font-weight: normal;
  font-size: 14pt;
  margin: 8px;
}

.a-dialog-buttons-container {
  display: inline-flex;
  align-self: flex-end;
  width: 100%;
  height: 30%;
}

.a-dialog-button {
  cursor: pointer;
  align-self: center;
  opacity: 0.9;
  height: 80%;
  width: 50%;
  font-size: 12pt;
  margin: 4px;
  border-radius: 2px;
  text-align:center;
  border: none;
  display: inline-block;
  -webkit-transition: all 0.25s ease-in-out;
  transition: all 0.25s ease-in-out;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.10), 0 1px 2px rgba(0, 0, 0, 0.20);
  user-select: none;
}

.a-dialog-permission-button:hover {
  box-shadow: 0 7px 14px rgba(0,0,0,0.20), 0 2px 2px rgba(0,0,0,0.20);
}

.a-dialog-allow-button {
  background-color: #00ceff;
}

.a-dialog-deny-button {
  background-color: #ff005b;
}

.a-dialog-ok-button {
  background-color: #00ceff;
  width: 100%;
}

.a-dom-overlay:not(.a-no-style) {
  overflow: hidden;
  position: absolute;
  pointer-events: none;
  box-sizing: border-box;
  bottom: 0;
  left: 0;
  right: 0;
  top: 0;
  padding: 1em;
}

.a-dom-overlay:not(.a-no-style)>* {
  pointer-events: auto;
}
`],sourceRoot:""}]);const D=C},"./node_modules/css-loader/dist/cjs.js!./src/style/rStats.css":(l,u,c)=>{c.r(u),c.d(u,{default:()=>y});var d=c("./node_modules/css-loader/dist/runtime/sourceMaps.js"),h=c.n(d),p=c("./node_modules/css-loader/dist/runtime/api.js"),m=c.n(p),v=m()(h());v.push([l.id,`.rs-base {
  background-color: #333;
  color: #fafafa;
  border-radius: 0;
  font: 10px monospace;
  left: 5px;
  line-height: 1em;
  opacity: 0.85;
  overflow: hidden;
  padding: 10px;
  position: fixed;
  top: 5px;
  width: 300px;
  z-index: 10000;
}

.rs-base div.hidden {
  display: none;
}

.rs-base h1 {
  color: #fff;
  cursor: pointer;
  font-size: 1.4em;
  font-weight: 300;
  margin: 0 0 5px;
  padding: 0;
}

.rs-group {
  display: -webkit-box;
  display: -webkit-flex;
  display: flex;
  -webkit-flex-direction: column-reverse;
  flex-direction: column-reverse;
  margin-bottom: 5px;
}

.rs-group:last-child {
  margin-bottom: 0;
}

.rs-counter-base {
  align-items: center;
  display: -webkit-box;
  display: -webkit-flex;
  display: flex;
  height: 10px;
  -webkit-justify-content: space-between;
  justify-content: space-between;
  margin: 2px 0;
}

.rs-counter-base.alarm {
  color: #b70000;
  text-shadow: 0 0 0 #b70000,
               0 0 1px #fff,
               0 0 1px #fff,
               0 0 2px #fff,
               0 0 2px #fff,
               0 0 3px #fff,
               0 0 3px #fff,
               0 0 4px #fff,
               0 0 4px #fff;
}

.rs-counter-id {
  font-weight: 300;
  -webkit-box-ordinal-group: 0;
  -webkit-order: 0;
  order: 0;
  width: 54px;
}

.rs-counter-value {
  font-weight: 300;
  -webkit-box-ordinal-group: 1;
  -webkit-order: 1;
  order: 1;
  text-align: right;
  width: 35px;
}

.rs-canvas {
  -webkit-box-ordinal-group: 2;
  -webkit-order: 2;
  order: 2;
}

@media (min-width: 480px) {
  .rs-base {
    left: 20px;
    top: 20px;
  }
}
`,"",{version:3,sources:["webpack://./src/style/rStats.css"],names:[],mappings:"AAAA;EACE,sBAAsB;EACtB,cAAc;EACd,gBAAgB;EAChB,oBAAoB;EACpB,SAAS;EACT,gBAAgB;EAChB,aAAa;EACb,gBAAgB;EAChB,aAAa;EACb,eAAe;EACf,QAAQ;EACR,YAAY;EACZ,cAAc;AAChB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,WAAW;EACX,eAAe;EACf,gBAAgB;EAChB,gBAAgB;EAChB,eAAe;EACf,UAAU;AACZ;;AAEA;EACE,oBAAoB;EACpB,qBAAqB;EACrB,aAAa;EACb,sCAAsC;EACtC,8BAA8B;EAC9B,kBAAkB;AACpB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,mBAAmB;EACnB,oBAAoB;EACpB,qBAAqB;EACrB,aAAa;EACb,YAAY;EACZ,sCAAsC;EACtC,8BAA8B;EAC9B,aAAa;AACf;;AAEA;EACE,cAAc;EACd;;;;;;;;2BAQyB;AAC3B;;AAEA;EACE,gBAAgB;EAChB,4BAA4B;EAC5B,gBAAgB;EAChB,QAAQ;EACR,WAAW;AACb;;AAEA;EACE,gBAAgB;EAChB,4BAA4B;EAC5B,gBAAgB;EAChB,QAAQ;EACR,iBAAiB;EACjB,WAAW;AACb;;AAEA;EACE,4BAA4B;EAC5B,gBAAgB;EAChB,QAAQ;AACV;;AAEA;EACE;IACE,UAAU;IACV,SAAS;EACX;AACF",sourcesContent:[`.rs-base {
  background-color: #333;
  color: #fafafa;
  border-radius: 0;
  font: 10px monospace;
  left: 5px;
  line-height: 1em;
  opacity: 0.85;
  overflow: hidden;
  padding: 10px;
  position: fixed;
  top: 5px;
  width: 300px;
  z-index: 10000;
}

.rs-base div.hidden {
  display: none;
}

.rs-base h1 {
  color: #fff;
  cursor: pointer;
  font-size: 1.4em;
  font-weight: 300;
  margin: 0 0 5px;
  padding: 0;
}

.rs-group {
  display: -webkit-box;
  display: -webkit-flex;
  display: flex;
  -webkit-flex-direction: column-reverse;
  flex-direction: column-reverse;
  margin-bottom: 5px;
}

.rs-group:last-child {
  margin-bottom: 0;
}

.rs-counter-base {
  align-items: center;
  display: -webkit-box;
  display: -webkit-flex;
  display: flex;
  height: 10px;
  -webkit-justify-content: space-between;
  justify-content: space-between;
  margin: 2px 0;
}

.rs-counter-base.alarm {
  color: #b70000;
  text-shadow: 0 0 0 #b70000,
               0 0 1px #fff,
               0 0 1px #fff,
               0 0 2px #fff,
               0 0 2px #fff,
               0 0 3px #fff,
               0 0 3px #fff,
               0 0 4px #fff,
               0 0 4px #fff;
}

.rs-counter-id {
  font-weight: 300;
  -webkit-box-ordinal-group: 0;
  -webkit-order: 0;
  order: 0;
  width: 54px;
}

.rs-counter-value {
  font-weight: 300;
  -webkit-box-ordinal-group: 1;
  -webkit-order: 1;
  order: 1;
  text-align: right;
  width: 35px;
}

.rs-canvas {
  -webkit-box-ordinal-group: 2;
  -webkit-order: 2;
  order: 2;
}

@media (min-width: 480px) {
  .rs-base {
    left: 20px;
    top: 20px;
  }
}
`],sourceRoot:""}]);const y=v},"./src/style/aframe.css":(l,u,c)=>{c.r(u),c.d(u,{default:()=>R});var d=c("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),h=c.n(d),p=c("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),m=c.n(p),v=c("./node_modules/style-loader/dist/runtime/insertBySelector.js"),y=c.n(v),A=c("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),b=c.n(A),g=c("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),w=c.n(g),E=c("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),C=c.n(E),_=c("./node_modules/css-loader/dist/cjs.js!./src/style/aframe.css"),P={};P.styleTagTransform=C(),P.setAttributes=b(),P.insert=y().bind(null,"head"),P.domAPI=m(),P.insertStyleElement=w(),h()(_.default,P);const R=_.default&&_.default.locals?_.default.locals:void 0},"./src/style/rStats.css":(l,u,c)=>{c.r(u),c.d(u,{default:()=>R});var d=c("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),h=c.n(d),p=c("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),m=c.n(p),v=c("./node_modules/style-loader/dist/runtime/insertBySelector.js"),y=c.n(v),A=c("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),b=c.n(A),g=c("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),w=c.n(g),E=c("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),C=c.n(E),_=c("./node_modules/css-loader/dist/cjs.js!./src/style/rStats.css"),P={};P.styleTagTransform=C(),P.setAttributes=b(),P.insert=y().bind(null,"head"),P.domAPI=m(),P.insertStyleElement=w(),h()(_.default,P);const R=_.default&&_.default.locals?_.default.locals:void 0},"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":l=>{var u=[];function c(p){for(var m=-1,v=0;v<u.length;v++)if(u[v].identifier===p){m=v;break}return m}function d(p,m){for(var v={},y=[],A=0;A<p.length;A++){var b=p[A],g=m.base?b[0]+m.base:b[0],w=v[g]||0,E="".concat(g," ").concat(w);v[g]=w+1;var C=c(E),_={css:b[1],media:b[2],sourceMap:b[3],supports:b[4],layer:b[5]};if(C!==-1)u[C].references++,u[C].updater(_);else{var P=h(_,m);m.byIndex=A,u.splice(A,0,{identifier:E,updater:P,references:1})}y.push(E)}return y}function h(p,m){var v=m.domAPI(m);v.update(p);var y=function(b){if(b){if(b.css===p.css&&b.media===p.media&&b.sourceMap===p.sourceMap&&b.supports===p.supports&&b.layer===p.layer)return;v.update(p=b)}else v.remove()};return y}l.exports=function(p,m){m=m||{},p=p||[];var v=d(p,m);return function(A){A=A||[];for(var b=0;b<v.length;b++){var g=v[b],w=c(g);u[w].references--}for(var E=d(A,m),C=0;C<v.length;C++){var _=v[C],P=c(_);u[P].references===0&&(u[P].updater(),u.splice(P,1))}v=E}}},"./node_modules/style-loader/dist/runtime/insertBySelector.js":l=>{var u={};function c(h){if(typeof u[h]>"u"){var p=document.querySelector(h);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch{p=null}u[h]=p}return u[h]}function d(h,p){var m=c(h);if(!m)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");m.appendChild(p)}l.exports=d},"./node_modules/style-loader/dist/runtime/insertStyleElement.js":l=>{function u(c){var d=document.createElement("style");return c.setAttributes(d,c.attributes),c.insert(d,c.options),d}l.exports=u},"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":(l,u,c)=>{function d(h){var p=c.nc;p&&h.setAttribute("nonce",p)}l.exports=d},"./node_modules/style-loader/dist/runtime/styleDomAPI.js":l=>{function u(h,p,m){var v="";m.supports&&(v+="@supports (".concat(m.supports,") {")),m.media&&(v+="@media ".concat(m.media," {"));var y=typeof m.layer<"u";y&&(v+="@layer".concat(m.layer.length>0?" ".concat(m.layer):""," {")),v+=m.css,y&&(v+="}"),m.media&&(v+="}"),m.supports&&(v+="}");var A=m.sourceMap;A&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(A))))," */")),p.styleTagTransform(v,h,p.options)}function c(h){if(h.parentNode===null)return!1;h.parentNode.removeChild(h)}function d(h){if(typeof document>"u")return{update:function(){},remove:function(){}};var p=h.insertStyleElement(h);return{update:function(v){u(p,h,v)},remove:function(){c(p)}}}l.exports=d},"./node_modules/style-loader/dist/runtime/styleTagTransform.js":l=>{function u(c,d){if(d.styleSheet)d.styleSheet.cssText=c;else{for(;d.firstChild;)d.removeChild(d.firstChild);d.appendChild(document.createTextNode(c))}}l.exports=u},"data:image/svg+xml,%3C%3Fxml version=%271.0%27 encoding=%27UTF-8%27 standalone=%27no%27%3F%3E%3Csvg width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27 version=%271.1%27 id=%27svg320%27 sodipodi:docname=%27fullscreen-aframe.svg%27 xml:space=%27preserve%27 inkscape:version=%271.2.1 %289c6d41e  2022-07-14%29%27 xmlns:inkscape=%27http://www.inkscape.org/namespaces/inkscape%27 xmlns:sodipodi=%27http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:svg=%27http://www.w3.org/2000/svg%27 xmlns:rdf=%27http://www.w3.org/1999/02/22-rdf-syntax-ns%23%27 xmlns:cc=%27http://creativecommons.org/ns%23%27 xmlns:dc=%27http://purl.org/dc/elements/1.1/%27%3E%3Cdefs id=%27defs324%27 /%3E%3Csodipodi:namedview id=%27namedview322%27 pagecolor=%27%23ffffff%27 bordercolor=%27%23000000%27 borderopacity=%270.25%27 inkscape:showpageshadow=%272%27 inkscape:pageopacity=%270.0%27 inkscape:pagecheckerboard=%270%27 inkscape:deskcolor=%27%23d1d1d1%27 showgrid=%27false%27 inkscape:zoom=%273.8064516%27 inkscape:cx=%2791.423729%27 inkscape:cy=%27-1.4449153%27 inkscape:window-width=%271440%27 inkscape:window-height=%27847%27 inkscape:window-x=%2732%27 inkscape:window-y=%2725%27 inkscape:window-maximized=%270%27 inkscape:current-layer=%27svg320%27 /%3E%3Ctitle id=%27title312%27%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96 0H12A12 12 0 0 0 0 12V50A12 12 0 0 0 12 62H96a12 12 0 0 0 12-12V12A12 12 0 0 0 96 0Zm8 50a8 8 0 0 1-8 8H12a8 8 0 0 1-8-8V12a8 8 0 0 1 8-8H96a8 8 0 0 1 8 8Z%27 fill=%27%23fff%27 id=%27path314%27 style=%27fill:%23ffffff%27 /%3E%3Cg id=%27g356%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g358%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g360%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g362%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g364%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g366%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g368%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g370%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g372%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g374%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g376%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g378%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g380%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g382%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g384%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cmetadata id=%27metadata561%27%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=%27%27%3E%3Cdc:title%3Eaframe-armode-noborder-reduced-tracking%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cpath d=%27m 98.168511 40.083649 c 0 -1.303681 -0.998788 -2.358041 -2.239389 -2.358041 -1.230088 0.0031 -2.240892 1.05436 -2.240892 2.358041 v 4.881296 l -9.041661 -9.041662 c -0.874129 -0.875631 -2.288954 -0.875631 -3.16308 0 -0.874129 0.874126 -0.874129 2.293459 0 3.167585 l 8.995101 8.992101 h -4.858767 c -1.323206 0.0031 -2.389583 1.004796 -2.389583 2.239386 0 1.237598 1.066377 2.237888 2.389583 2.237888 h 10.154599 c 1.323206 0 2.388082 -0.998789 2.392587 -2.237888 -0.0044 -0.03305 -0.009 -0.05858 -0.0134 -0.09161 0.0046 -0.04207 0.0134 -0.08712 0.0134 -0.13066 V 40.085172 h -1.52e-4%27 id=%27path596%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 23.091002 35.921781 -9.026643 9.041662 v -4.881296 c 0 -1.303681 -1.009302 -2.355037 -2.242393 -2.358041 -1.237598 0 -2.237888 1.05436 -2.237888 2.358041 l -0.0031 10.016421 c 0 0.04356 0.01211 0.08862 0.0015 0.130659 -0.0031 0.03153 -0.009 0.05709 -0.01211 0.09161 0.0031 1.239099 1.069379 2.237888 2.391085 2.237888 h 10.156101 c 1.320202 0 2.388079 -1.000291 2.388079 -2.237888 0 -1.234591 -1.067877 -2.236383 -2.388079 -2.239387 h -4.858767 l 8.995101 -8.9921 c 0.871126 -0.874127 0.871126 -2.293459 0 -3.167586 -0.875628 -0.877132 -2.291957 -0.877132 -3.169087 -1.52e-4%27 id=%27path598%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 84.649572 25.978033 9.041662 -9.041664 v 4.881298 c 0 1.299176 1.010806 2.350532 2.240891 2.355037 1.240601 0 2.23939 -1.055861 2.23939 -2.355037 V 11.798242 c 0 -0.04356 -0.009 -0.08862 -0.0134 -0.127671 0.0044 -0.03153 0.009 -0.06157 0.0134 -0.09313 -0.0044 -1.240598 -1.069379 -2.2393873 -2.391085 -2.2393873 h -10.1546 c -1.323205 0 -2.38958 0.9987893 -2.38958 2.2393873 0 1.233091 1.066375 2.237887 2.38958 2.240891 h 4.858768 l -8.995102 8.9921 c -0.874129 0.872625 -0.874129 2.288954 0 3.161578 0.874127 0.880137 2.288951 0.880137 3.16308 1.5e-4%27 id=%27path600%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 17.264988 13.822853 h 4.857265 c 1.320202 -0.0031 2.388079 -1.0078 2.388079 -2.240889 0 -1.240601 -1.067877 -2.2393893 -2.388079 -2.2393893 H 11.967654 c -1.321707 0 -2.388082 0.9987883 -2.391085 2.2393893 0.0031 0.03153 0.009 0.06157 0.01211 0.09313 -0.0031 0.03905 -0.0015 0.08262 -0.0015 0.127671 l 0.0031 10.020926 c 0 1.299176 1.00029 2.355038 2.237887 2.355038 1.233092 -0.0044 2.242393 -1.055862 2.242393 -2.355038 v -4.881295 l 9.026644 9.041661 c 0.877132 0.878635 2.293459 0.878635 3.169087 0 0.871125 -0.872624 0.871125 -2.288953 0 -3.161577 l -8.995282 -8.993616%27 id=%27path602%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3C/svg%3E":l=>{l.exports="data:image/svg+xml,%3C%3Fxml version=%271.0%27 encoding=%27UTF-8%27 standalone=%27no%27%3F%3E%3Csvg width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27 version=%271.1%27 id=%27svg320%27 sodipodi:docname=%27fullscreen-aframe.svg%27 xml:space=%27preserve%27 inkscape:version=%271.2.1 %289c6d41e  2022-07-14%29%27 xmlns:inkscape=%27http://www.inkscape.org/namespaces/inkscape%27 xmlns:sodipodi=%27http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:svg=%27http://www.w3.org/2000/svg%27 xmlns:rdf=%27http://www.w3.org/1999/02/22-rdf-syntax-ns%23%27 xmlns:cc=%27http://creativecommons.org/ns%23%27 xmlns:dc=%27http://purl.org/dc/elements/1.1/%27%3E%3Cdefs id=%27defs324%27 /%3E%3Csodipodi:namedview id=%27namedview322%27 pagecolor=%27%23ffffff%27 bordercolor=%27%23000000%27 borderopacity=%270.25%27 inkscape:showpageshadow=%272%27 inkscape:pageopacity=%270.0%27 inkscape:pagecheckerboard=%270%27 inkscape:deskcolor=%27%23d1d1d1%27 showgrid=%27false%27 inkscape:zoom=%273.8064516%27 inkscape:cx=%2791.423729%27 inkscape:cy=%27-1.4449153%27 inkscape:window-width=%271440%27 inkscape:window-height=%27847%27 inkscape:window-x=%2732%27 inkscape:window-y=%2725%27 inkscape:window-maximized=%270%27 inkscape:current-layer=%27svg320%27 /%3E%3Ctitle id=%27title312%27%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96 0H12A12 12 0 0 0 0 12V50A12 12 0 0 0 12 62H96a12 12 0 0 0 12-12V12A12 12 0 0 0 96 0Zm8 50a8 8 0 0 1-8 8H12a8 8 0 0 1-8-8V12a8 8 0 0 1 8-8H96a8 8 0 0 1 8 8Z%27 fill=%27%23fff%27 id=%27path314%27 style=%27fill:%23ffffff%27 /%3E%3Cg id=%27g356%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g358%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g360%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g362%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g364%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g366%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g368%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g370%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g372%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g374%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g376%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g378%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g380%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g382%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g384%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cmetadata id=%27metadata561%27%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=%27%27%3E%3Cdc:title%3Eaframe-armode-noborder-reduced-tracking%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cpath d=%27m 98.168511 40.083649 c 0 -1.303681 -0.998788 -2.358041 -2.239389 -2.358041 -1.230088 0.0031 -2.240892 1.05436 -2.240892 2.358041 v 4.881296 l -9.041661 -9.041662 c -0.874129 -0.875631 -2.288954 -0.875631 -3.16308 0 -0.874129 0.874126 -0.874129 2.293459 0 3.167585 l 8.995101 8.992101 h -4.858767 c -1.323206 0.0031 -2.389583 1.004796 -2.389583 2.239386 0 1.237598 1.066377 2.237888 2.389583 2.237888 h 10.154599 c 1.323206 0 2.388082 -0.998789 2.392587 -2.237888 -0.0044 -0.03305 -0.009 -0.05858 -0.0134 -0.09161 0.0046 -0.04207 0.0134 -0.08712 0.0134 -0.13066 V 40.085172 h -1.52e-4%27 id=%27path596%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 23.091002 35.921781 -9.026643 9.041662 v -4.881296 c 0 -1.303681 -1.009302 -2.355037 -2.242393 -2.358041 -1.237598 0 -2.237888 1.05436 -2.237888 2.358041 l -0.0031 10.016421 c 0 0.04356 0.01211 0.08862 0.0015 0.130659 -0.0031 0.03153 -0.009 0.05709 -0.01211 0.09161 0.0031 1.239099 1.069379 2.237888 2.391085 2.237888 h 10.156101 c 1.320202 0 2.388079 -1.000291 2.388079 -2.237888 0 -1.234591 -1.067877 -2.236383 -2.388079 -2.239387 h -4.858767 l 8.995101 -8.9921 c 0.871126 -0.874127 0.871126 -2.293459 0 -3.167586 -0.875628 -0.877132 -2.291957 -0.877132 -3.169087 -1.52e-4%27 id=%27path598%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 84.649572 25.978033 9.041662 -9.041664 v 4.881298 c 0 1.299176 1.010806 2.350532 2.240891 2.355037 1.240601 0 2.23939 -1.055861 2.23939 -2.355037 V 11.798242 c 0 -0.04356 -0.009 -0.08862 -0.0134 -0.127671 0.0044 -0.03153 0.009 -0.06157 0.0134 -0.09313 -0.0044 -1.240598 -1.069379 -2.2393873 -2.391085 -2.2393873 h -10.1546 c -1.323205 0 -2.38958 0.9987893 -2.38958 2.2393873 0 1.233091 1.066375 2.237887 2.38958 2.240891 h 4.858768 l -8.995102 8.9921 c -0.874129 0.872625 -0.874129 2.288954 0 3.161578 0.874127 0.880137 2.288951 0.880137 3.16308 1.5e-4%27 id=%27path600%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 17.264988 13.822853 h 4.857265 c 1.320202 -0.0031 2.388079 -1.0078 2.388079 -2.240889 0 -1.240601 -1.067877 -2.2393893 -2.388079 -2.2393893 H 11.967654 c -1.321707 0 -2.388082 0.9987883 -2.391085 2.2393893 0.0031 0.03153 0.009 0.06157 0.01211 0.09313 -0.0031 0.03905 -0.0015 0.08262 -0.0015 0.127671 l 0.0031 10.020926 c 0 1.299176 1.00029 2.355038 2.237887 2.355038 1.233092 -0.0044 2.242393 -1.055862 2.242393 -2.355038 v -4.881295 l 9.026644 9.041661 c 0.877132 0.878635 2.293459 0.878635 3.169087 0 0.871125 -0.872624 0.871125 -2.288953 0 -3.161577 l -8.995282 -8.993616%27 id=%27path602%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3C/svg%3E"},"data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z%27 fill=%27%23fff%27/%3E%3C/svg%3E":l=>{l.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z%27 fill=%27%23fff%27/%3E%3C/svg%3E"},"data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z%27 fill=%27%23fff%27/%3E%3C/svg%3E":l=>{l.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z%27 fill=%27%23fff%27/%3E%3C/svg%3E"},"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E":l=>{l.exports="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E"},"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E":l=>{l.exports="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E"},"./node_modules/super-three/build/three.module.js":(l,u,c)=>{c.r(u),c.d(u,{ACESFilmicToneMapping:()=>ye,AddEquation:()=>B,AddOperation:()=>Ct,AdditiveAnimationBlendMode:()=>dn,AdditiveBlending:()=>T,AlphaFormat:()=>Sn,AlwaysDepth:()=>qe,AlwaysStencilFunc:()=>dy,AmbientLight:()=>DO,AmbientLightProbe:()=>SY,AnimationClip:()=>mv,AnimationLoader:()=>fY,AnimationMixer:()=>GY,AnimationObjectGroup:()=>$Y,AnimationUtils:()=>lY,ArcCurve:()=>JB,ArrayCamera:()=>sS,ArrowHelper:()=>fJ,Audio:()=>QO,AudioAnalyser:()=>PY,AudioContext:()=>US,AudioListener:()=>TY,AudioLoader:()=>CY,AxesHelper:()=>hJ,BackSide:()=>_,BasicDepthPacking:()=>fn,BasicShadowMap:()=>b,Bone:()=>dS,BooleanKeyframeTrack:()=>bf,Box2:()=>JY,Box3:()=>Nc,Box3Helper:()=>uJ,BoxBufferGeometry:()=>CJ,BoxGeometry:()=>Zu,BoxHelper:()=>cJ,BufferAttribute:()=>Wi,BufferGeometry:()=>ci,BufferGeometryLoader:()=>UO,ByteType:()=>It,Cache:()=>Ef,Camera:()=>Py,CameraHelper:()=>lJ,CanvasTexture:()=>Lq,CapsuleBufferGeometry:()=>wJ,CapsuleGeometry:()=>Yg,CatmullRomCurve3:()=>ZB,CineonToneMapping:()=>Ve,CircleBufferGeometry:()=>SJ,CircleGeometry:()=>Jg,ClampToEdgeWrapping:()=>Ue,Clock:()=>GO,Color:()=>xr,ColorKeyframeTrack:()=>BS,ColorManagement:()=>Yo,CompressedArrayTexture:()=>Pq,CompressedTexture:()=>mS,CompressedTextureLoader:()=>hY,ConeBufferGeometry:()=>_J,ConeGeometry:()=>Zg,CubeCamera:()=>QL,CubeReflectionMapping:()=>_e,CubeRefractionMapping:()=>Ce,CubeTexture:()=>Hg,CubeTextureLoader:()=>pY,CubeUVReflectionMapping:()=>je,CubicBezierCurve:()=>bS,CubicBezierCurve3:()=>tO,CubicInterpolant:()=>wO,CullFaceBack:()=>v,CullFaceFront:()=>y,CullFaceFrontBack:()=>A,CullFaceNone:()=>m,Curve:()=>xl,CurvePath:()=>rO,CustomBlending:()=>V,CustomToneMapping:()=>fe,CylinderBufferGeometry:()=>MJ,CylinderGeometry:()=>gf,Cylindrical:()=>YY,Data3DTexture:()=>zh,DataArrayTexture:()=>lf,DataTexture:()=>ip,DataTexture2DArray:()=>xJ,DataTexture3D:()=>EJ,DataTextureLoader:()=>mY,DataUtils:()=>AJ,DecrementStencilOp:()=>ts,DecrementWrapStencilOp:()=>Tc,DefaultLoadingManager:()=>MO,DepthFormat:()=>Fn,DepthStencilFormat:()=>Cn,DepthTexture:()=>wB,DirectionalLight:()=>OO,DirectionalLightHelper:()=>sJ,DiscreteInterpolant:()=>SO,DodecahedronBufferGeometry:()=>TJ,DodecahedronGeometry:()=>ev,DoubleSide:()=>P,DstAlphaFactor:()=>oe,DstColorFactor:()=>Be,DynamicCopyUsage:()=>vw,DynamicDrawUsage:()=>dw,DynamicReadUsage:()=>pw,EdgesGeometry:()=>iO,EllipseCurve:()=>Yy,EqualDepth:()=>st,EqualStencilFunc:()=>Lc,EquirectangularReflectionMapping:()=>Se,EquirectangularRefractionMapping:()=>we,Euler:()=>ha,EventDispatcher:()=>Oa,ExtrudeBufferGeometry:()=>RJ,ExtrudeGeometry:()=>iv,FileLoader:()=>jc,Float16BufferAttribute:()=>CW,Float32BufferAttribute:()=>Rr,Float64BufferAttribute:()=>wW,FloatType:()=>Lt,Fog:()=>zy,FogExp2:()=>Uy,FramebufferTexture:()=>Iq,FrontSide:()=>C,Frustum:()=>By,GLBufferAttribute:()=>KY,GLSL1:()=>yw,GLSL3:()=>Mg,GreaterDepth:()=>it,GreaterEqualDepth:()=>ot,GreaterEqualStencilFunc:()=>uw,GreaterStencilFunc:()=>lw,GridHelper:()=>oJ,Group:()=>pf,HalfFloatType:()=>mt,HemisphereLight:()=>TO,HemisphereLightHelper:()=>iJ,HemisphereLightProbe:()=>wY,IcosahedronBufferGeometry:()=>IJ,IcosahedronGeometry:()=>ov,ImageBitmapLoader:()=>EY,ImageLoader:()=>gv,ImageUtils:()=>Bg,ImmediateRenderObject:()=>yJ,IncrementStencilOp:()=>ps,IncrementWrapStencilOp:()=>hl,InstancedBufferAttribute:()=>op,InstancedBufferGeometry:()=>FO,InstancedInterleavedBuffer:()=>QY,InstancedMesh:()=>HB,Int16BufferAttribute:()=>xW,Int32BufferAttribute:()=>EW,Int8BufferAttribute:()=>AW,IntType:()=>jt,InterleavedBuffer:()=>$y,InterleavedBufferAttribute:()=>mf,Interpolant:()=>fv,InterpolateDiscrete:()=>be,InterpolateLinear:()=>Ee,InterpolateSmooth:()=>Te,InvertStencilOp:()=>Rc,KeepStencilOp:()=>Ii,KeyframeTrack:()=>El,LOD:()=>BB,LatheBufferGeometry:()=>PJ,LatheGeometry:()=>ap,Layers:()=>_i,LessDepth:()=>Ke,LessEqualDepth:()=>ke,LessEqualStencilFunc:()=>uo,LessStencilFunc:()=>Pc,Light:()=>nd,LightProbe:()=>ab,Line:()=>td,Line3:()=>ZY,LineBasicMaterial:()=>Ua,LineCurve:()=>Zy,LineCurve3:()=>nO,LineDashedMaterial:()=>EO,LineLoop:()=>KB,LineSegments:()=>ac,LinearEncoding:()=>mr,LinearFilter:()=>ve,LinearInterpolant:()=>LS,LinearMipMapLinearFilter:()=>Qe,LinearMipMapNearestFilter:()=>Ye,LinearMipmapLinearFilter:()=>Ze,LinearMipmapNearestFilter:()=>he,LinearSRGBColorSpace:()=>ni,LinearToneMapping:()=>Dt,Loader:()=>ys,LoaderUtils:()=>FS,LoadingManager:()=>OS,LoopOnce:()=>at,LoopPingPong:()=>me,LoopRepeat:()=>xt,LuminanceAlphaFormat:()=>jn,LuminanceFormat:()=>rr,MOUSE:()=>h,Material:()=>Ca,MaterialLoader:()=>sb,MathUtils:()=>Bw,Matrix3:()=>da,Matrix4:()=>_r,MaxEquation:()=>z,Mesh:()=>pa,MeshBasicMaterial:()=>Xu,MeshDepthMaterial:()=>oS,MeshDistanceMaterial:()=>aS,MeshLambertMaterial:()=>bO,MeshMatcapMaterial:()=>xO,MeshNormalMaterial:()=>yO,MeshPhongMaterial:()=>vO,MeshPhysicalMaterial:()=>gO,MeshStandardMaterial:()=>TS,MeshToonMaterial:()=>AO,MinEquation:()=>N,MirroredRepeatWrapping:()=>et,MixOperation:()=>gt,MultiplyBlending:()=>H,MultiplyOperation:()=>Et,NearestFilter:()=>ue,NearestMipMapLinearFilter:()=>We,NearestMipMapNearestFilter:()=>ne,NearestMipmapLinearFilter:()=>Pe,NearestMipmapNearestFilter:()=>Y,NeverDepth:()=>$e,NeverStencilFunc:()=>Ic,NoBlending:()=>R,NoColorSpace:()=>gr,NoToneMapping:()=>Tt,NormalAnimationBlendMode:()=>en,NormalBlending:()=>L,NotEqualDepth:()=>ft,NotEqualStencilFunc:()=>cw,NumberKeyframeTrack:()=>hv,Object3D:()=>bi,ObjectLoader:()=>bY,ObjectSpaceNormalMap:()=>cr,OctahedronBufferGeometry:()=>LJ,OctahedronGeometry:()=>lp,OneFactor:()=>G,OneMinusDstAlphaFactor:()=>ce,OneMinusDstColorFactor:()=>ge,OneMinusSrcAlphaFactor:()=>Z,OneMinusSrcColorFactor:()=>X,OrthographicCamera:()=>Dy,PCFShadowMap:()=>g,PCFSoftShadowMap:()=>w,PMREMGenerator:()=>tS,Path:()=>qg,PerspectiveCamera:()=>zo,Plane:()=>ed,PlaneBufferGeometry:()=>BJ,PlaneGeometry:()=>qh,PlaneHelper:()=>dJ,PointLight:()=>BO,PointLightHelper:()=>nJ,Points:()=>qB,PointsMaterial:()=>hS,PolarGridHelper:()=>aJ,PolyhedronBufferGeometry:()=>OJ,PolyhedronGeometry:()=>$c,PositionalAudio:()=>IY,PropertyBinding:()=>Ti,PropertyMixer:()=>XO,QuadraticBezierCurve:()=>xS,QuadraticBezierCurve3:()=>ES,Quaternion:()=>fa,QuaternionKeyframeTrack:()=>up,QuaternionLinearInterpolant:()=>_O,REVISION:()=>d,RGBADepthPacking:()=>xn,RGBAFormat:()=>Ln,RGBAIntegerFormat:()=>De,RGBA_ASTC_10x10_Format:()=>se,RGBA_ASTC_10x5_Format:()=>qn,RGBA_ASTC_10x6_Format:()=>Gn,RGBA_ASTC_10x8_Format:()=>re,RGBA_ASTC_12x10_Format:()=>Me,RGBA_ASTC_12x12_Format:()=>Fe,RGBA_ASTC_4x4_Format:()=>br,RGBA_ASTC_5x4_Format:()=>kn,RGBA_ASTC_5x5_Format:()=>fr,RGBA_ASTC_6x5_Format:()=>sr,RGBA_ASTC_6x6_Format:()=>Nr,RGBA_ASTC_8x5_Format:()=>or,RGBA_ASTC_8x6_Format:()=>Zt,RGBA_ASTC_8x8_Format:()=>bn,RGBA_BPTC_Format:()=>Je,RGBA_ETC2_EAC_Format:()=>er,RGBA_PVRTC_2BPPV1_Format:()=>Xt,RGBA_PVRTC_4BPPV1_Format:()=>sn,RGBA_S3TC_DXT1_Format:()=>St,RGBA_S3TC_DXT3_Format:()=>Mt,RGBA_S3TC_DXT5_Format:()=>Ut,RGBFormat:()=>yn,RGB_ETC1_Format:()=>$n,RGB_ETC2_Format:()=>Nn,RGB_PVRTC_2BPPV1_Format:()=>gn,RGB_PVRTC_4BPPV1_Format:()=>Kt,RGB_S3TC_DXT1_Format:()=>tt,RGFormat:()=>wt,RGIntegerFormat:()=>xe,RawShaderMaterial:()=>mO,Ray:()=>Na,Raycaster:()=>XY,RectAreaLight:()=>NO,RedFormat:()=>Oe,RedIntegerFormat:()=>lt,ReinhardToneMapping:()=>Yt,RepeatWrapping:()=>Ae,ReplaceStencilOp:()=>jr,ReverseSubtractEquation:()=>F,RingBufferGeometry:()=>DJ,RingGeometry:()=>av,SRGBColorSpace:()=>Or,Scene:()=>MB,ShaderChunk:()=>ii,ShaderLib:()=>bl,ShaderMaterial:()=>oc,ShadowMaterial:()=>pO,Shape:()=>vf,ShapeBufferGeometry:()=>NJ,ShapeGeometry:()=>sv,ShapePath:()=>pJ,ShapeUtils:()=>sc,ShortType:()=>kt,Skeleton:()=>Wy,SkeletonHelper:()=>tJ,SkinnedMesh:()=>FB,Source:()=>Dc,Sphere:()=>gl,SphereBufferGeometry:()=>kJ,SphereGeometry:()=>cp,Spherical:()=>qY,SphericalHarmonics3:()=>kO,SplineCurve:()=>CS,SpotLight:()=>PO,SpotLightHelper:()=>eJ,Sprite:()=>PB,SpriteMaterial:()=>cS,SrcAlphaFactor:()=>J,SrcAlphaSaturateFactor:()=>Re,SrcColorFactor:()=>Q,StaticCopyUsage:()=>gw,StaticDrawUsage:()=>rf,StaticReadUsage:()=>hw,StereoCamera:()=>_Y,StreamCopyUsage:()=>Aw,StreamDrawUsage:()=>fw,StreamReadUsage:()=>mw,StringKeyframeTrack:()=>xf,SubtractEquation:()=>O,SubtractiveBlending:()=>D,TOUCH:()=>p,TangentSpaceNormalMap:()=>Yn,TetrahedronBufferGeometry:()=>FJ,TetrahedronGeometry:()=>lv,Texture:()=>ho,TextureLoader:()=>gY,TorusBufferGeometry:()=>UJ,TorusGeometry:()=>cv,TorusKnotBufferGeometry:()=>zJ,TorusKnotGeometry:()=>uv,Triangle:()=>js,TriangleFanDrawMode:()=>Wn,TriangleStripDrawMode:()=>ln,TrianglesDrawMode:()=>Bn,TubeBufferGeometry:()=>$J,TubeGeometry:()=>dv,UVMapping:()=>pe,Uint16BufferAttribute:()=>jw,Uint32BufferAttribute:()=>Gw,Uint8BufferAttribute:()=>yW,Uint8ClampedBufferAttribute:()=>bW,Uniform:()=>HS,UniformsGroup:()=>WY,UniformsLib:()=>ir,UniformsUtils:()=>WL,UnsignedByteType:()=>nt,UnsignedInt248Type:()=>Jt,UnsignedIntType:()=>Vt,UnsignedShort4444Type:()=>Nt,UnsignedShort5551Type:()=>cn,UnsignedShortType:()=>Bt,VSMShadowMap:()=>E,Vector2:()=>In,Vector3:()=>dt,Vector4:()=>Si,VectorKeyframeTrack:()=>pv,VideoTexture:()=>Rq,WebGL1Renderer:()=>_B,WebGL3DRenderTarget:()=>kw,WebGLArrayRenderTarget:()=>Nw,WebGLCubeRenderTarget:()=>KL,WebGLMultipleRenderTargets:()=>Fw,WebGLMultisampleRenderTarget:()=>bJ,WebGLRenderTarget:()=>ns,WebGLRenderer:()=>SB,WebGLUtils:()=>bB,WireframeGeometry:()=>dO,WrapAroundEnding:()=>Ft,ZeroCurvatureEnding:()=>Le,ZeroFactor:()=>j,ZeroSlopeEnding:()=>yt,ZeroStencilOp:()=>Kr,_SRGBAFormat:()=>Dh,sRGBEncoding:()=>Hn});/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const d="147",h={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},p={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},m=0,v=1,y=2,A=3,b=0,g=1,w=2,E=3,C=0,_=1,P=2,R=0,L=1,T=2,D=3,H=4,V=5,B=100,O=101,F=102,N=103,z=104,j=200,G=201,Q=202,X=203,J=204,Z=205,oe=206,ce=207,Be=208,ge=209,Re=210,$e=0,qe=1,Ke=2,ke=3,st=4,ot=5,it=6,ft=7,Et=0,gt=1,Ct=2,Tt=0,Dt=1,Yt=2,Ve=3,ye=4,fe=5,pe=300,_e=301,Ce=302,Se=303,we=304,je=306,Ae=1e3,Ue=1001,et=1002,ue=1003,Y=1004,ne=1004,Pe=1005,We=1005,ve=1006,he=1007,Ye=1007,Ze=1008,Qe=1008,nt=1009,It=1010,kt=1011,Bt=1012,jt=1013,Vt=1014,Lt=1015,mt=1016,Nt=1017,cn=1018,Jt=1020,Sn=1021,yn=1022,Ln=1023,rr=1024,jn=1025,Fn=1026,Cn=1027,Oe=1028,lt=1029,wt=1030,xe=1031,De=1033,tt=33776,St=33777,Mt=33778,Ut=33779,Kt=35840,gn=35841,sn=35842,Xt=35843,$n=36196,Nn=37492,er=37496,br=37808,kn=37809,fr=37810,sr=37811,Nr=37812,or=37813,Zt=37814,bn=37815,qn=37816,Gn=37817,re=37818,se=37819,Me=37820,Fe=37821,Je=36492,at=2200,xt=2201,me=2202,be=2300,Ee=2301,Te=2302,Le=2400,yt=2401,Ft=2402,en=2500,dn=2501,Bn=0,ln=1,Wn=2,mr=3e3,Hn=3001,fn=3200,xn=3201,Yn=0,cr=1,gr="",Or="srgb",ni="srgb-linear",Kr=0,Ii=7680,jr=7681,ps=7682,ts=7683,hl=34055,Tc=34056,Rc=5386,Ic=512,Pc=513,Lc=514,uo=515,lw=516,cw=517,uw=518,dy=519,rf=35044,dw=35048,fw=35040,hw=35045,pw=35049,mw=35041,gw=35046,vw=35050,Aw=35042,yw="100",Mg="300 es",Dh=1035;class Oa{addEventListener(a,f){this._listeners===void 0&&(this._listeners={});const x=this._listeners;x[a]===void 0&&(x[a]=[]),x[a].indexOf(f)===-1&&x[a].push(f)}hasEventListener(a,f){if(this._listeners===void 0)return!1;const x=this._listeners;return x[a]!==void 0&&x[a].indexOf(f)!==-1}removeEventListener(a,f){if(this._listeners===void 0)return;const S=this._listeners[a];if(S!==void 0){const I=S.indexOf(f);I!==-1&&S.splice(I,1)}}dispatchEvent(a){if(this._listeners===void 0)return;const x=this._listeners[a.type];if(x!==void 0){a.target=this;const S=x.slice(0);for(let I=0,k=S.length;I<k;I++)S[I].call(this,a);a.target=null}}}const qo=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let fy=1234567;const Bc=Math.PI/180,of=180/Math.PI;function Da(){const $=Math.random()*4294967295|0,a=Math.random()*4294967295|0,f=Math.random()*4294967295|0,x=Math.random()*4294967295|0;return(qo[$&255]+qo[$>>8&255]+qo[$>>16&255]+qo[$>>24&255]+"-"+qo[a&255]+qo[a>>8&255]+"-"+qo[a>>16&15|64]+qo[a>>24&255]+"-"+qo[f&63|128]+qo[f>>8&255]+"-"+qo[f>>16&255]+qo[f>>24&255]+qo[x&255]+qo[x>>8&255]+qo[x>>16&255]+qo[x>>24&255]).toLowerCase()}function fo($,a,f){return Math.max(a,Math.min(f,$))}function Tg($,a){return($%a+a)%a}function bw($,a,f,x,S){return x+($-a)*(S-x)/(f-a)}function xw($,a,f){return $!==a?(f-$)/(a-$):0}function af($,a,f){return(1-f)*$+f*a}function Ew($,a,f,x){return af($,a,1-Math.exp(-f*x))}function Cw($,a=1){return a-Math.abs(Tg($,a*2)-a)}function ww($,a,f){return $<=a?0:$>=f?1:($=($-a)/(f-a),$*$*(3-2*$))}function Sw($,a,f){return $<=a?0:$>=f?1:($=($-a)/(f-a),$*$*$*($*($*6-15)+10))}function _w($,a){return $+Math.floor(Math.random()*(a-$+1))}function Mw($,a){return $+Math.random()*(a-$)}function Tw($){return $*(.5-Math.random())}function Rw($){$!==void 0&&(fy=$);let a=fy+=1831565813;return a=Math.imul(a^a>>>15,a|1),a^=a+Math.imul(a^a>>>7,a|61),((a^a>>>14)>>>0)/4294967296}function Iw($){return $*Bc}function Pw($){return $*of}function Rg($){return($&$-1)===0&&$!==0}function hy($){return Math.pow(2,Math.ceil(Math.log($)/Math.LN2))}function Nh($){return Math.pow(2,Math.floor(Math.log($)/Math.LN2))}function Lw($,a,f,x,S){const I=Math.cos,k=Math.sin,U=I(f/2),W=k(f/2),K=I((a+x)/2),q=k((a+x)/2),ee=I((a-x)/2),te=k((a-x)/2),ie=I((x-a)/2),de=k((x-a)/2);switch(S){case"XYX":$.set(U*q,W*ee,W*te,U*K);break;case"YZY":$.set(W*te,U*q,W*ee,U*K);break;case"ZXZ":$.set(W*ee,W*te,U*q,U*K);break;case"XZX":$.set(U*q,W*de,W*ie,U*K);break;case"YXY":$.set(W*ie,U*q,W*de,U*K);break;case"ZYZ":$.set(W*de,W*ie,U*q,U*K);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+S)}}function pl($,a){switch(a.constructor){case Float32Array:return $;case Uint16Array:return $/65535;case Uint8Array:return $/255;case Int16Array:return Math.max($/32767,-1);case Int8Array:return Math.max($/127,-1);default:throw new Error("Invalid component type.")}}function Fi($,a){switch(a.constructor){case Float32Array:return $;case Uint16Array:return Math.round($*65535);case Uint8Array:return Math.round($*255);case Int16Array:return Math.round($*32767);case Int8Array:return Math.round($*127);default:throw new Error("Invalid component type.")}}var Bw=Object.freeze({__proto__:null,DEG2RAD:Bc,RAD2DEG:of,generateUUID:Da,clamp:fo,euclideanModulo:Tg,mapLinear:bw,inverseLerp:xw,lerp:af,damp:Ew,pingpong:Cw,smoothstep:ww,smootherstep:Sw,randInt:_w,randFloat:Mw,randFloatSpread:Tw,seededRandom:Rw,degToRad:Iw,radToDeg:Pw,isPowerOfTwo:Rg,ceilPowerOfTwo:hy,floorPowerOfTwo:Nh,setQuaternionFromProperEuler:Lw,normalize:Fi,denormalize:pl});class In{constructor(a=0,f=0){In.prototype.isVector2=!0,this.x=a,this.y=f}get width(){return this.x}set width(a){this.x=a}get height(){return this.y}set height(a){this.y=a}set(a,f){return this.x=a,this.y=f,this}setScalar(a){return this.x=a,this.y=a,this}setX(a){return this.x=a,this}setY(a){return this.y=a,this}setComponent(a,f){switch(a){case 0:this.x=f;break;case 1:this.y=f;break;default:throw new Error("index is out of range: "+a)}return this}getComponent(a){switch(a){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+a)}}clone(){return new this.constructor(this.x,this.y)}copy(a){return this.x=a.x,this.y=a.y,this}add(a){return this.x+=a.x,this.y+=a.y,this}addScalar(a){return this.x+=a,this.y+=a,this}addVectors(a,f){return this.x=a.x+f.x,this.y=a.y+f.y,this}addScaledVector(a,f){return this.x+=a.x*f,this.y+=a.y*f,this}sub(a){return this.x-=a.x,this.y-=a.y,this}subScalar(a){return this.x-=a,this.y-=a,this}subVectors(a,f){return this.x=a.x-f.x,this.y=a.y-f.y,this}multiply(a){return this.x*=a.x,this.y*=a.y,this}multiplyScalar(a){return this.x*=a,this.y*=a,this}divide(a){return this.x/=a.x,this.y/=a.y,this}divideScalar(a){return this.multiplyScalar(1/a)}applyMatrix3(a){const f=this.x,x=this.y,S=a.elements;return this.x=S[0]*f+S[3]*x+S[6],this.y=S[1]*f+S[4]*x+S[7],this}min(a){return this.x=Math.min(this.x,a.x),this.y=Math.min(this.y,a.y),this}max(a){return this.x=Math.max(this.x,a.x),this.y=Math.max(this.y,a.y),this}clamp(a,f){return this.x=Math.max(a.x,Math.min(f.x,this.x)),this.y=Math.max(a.y,Math.min(f.y,this.y)),this}clampScalar(a,f){return this.x=Math.max(a,Math.min(f,this.x)),this.y=Math.max(a,Math.min(f,this.y)),this}clampLength(a,f){const x=this.length();return this.divideScalar(x||1).multiplyScalar(Math.max(a,Math.min(f,x)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(a){return this.x*a.x+this.y*a.y}cross(a){return this.x*a.y-this.y*a.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(a){return Math.sqrt(this.distanceToSquared(a))}distanceToSquared(a){const f=this.x-a.x,x=this.y-a.y;return f*f+x*x}manhattanDistanceTo(a){return Math.abs(this.x-a.x)+Math.abs(this.y-a.y)}setLength(a){return this.normalize().multiplyScalar(a)}lerp(a,f){return this.x+=(a.x-this.x)*f,this.y+=(a.y-this.y)*f,this}lerpVectors(a,f,x){return this.x=a.x+(f.x-a.x)*x,this.y=a.y+(f.y-a.y)*x,this}equals(a){return a.x===this.x&&a.y===this.y}fromArray(a,f=0){return this.x=a[f],this.y=a[f+1],this}toArray(a=[],f=0){return a[f]=this.x,a[f+1]=this.y,a}fromBufferAttribute(a,f){return this.x=a.getX(f),this.y=a.getY(f),this}rotateAround(a,f){const x=Math.cos(f),S=Math.sin(f),I=this.x-a.x,k=this.y-a.y;return this.x=I*x-k*S+a.x,this.y=I*S+k*x+a.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class da{constructor(){da.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(a,f,x,S,I,k,U,W,K){const q=this.elements;return q[0]=a,q[1]=S,q[2]=U,q[3]=f,q[4]=I,q[5]=W,q[6]=x,q[7]=k,q[8]=K,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(a){const f=this.elements,x=a.elements;return f[0]=x[0],f[1]=x[1],f[2]=x[2],f[3]=x[3],f[4]=x[4],f[5]=x[5],f[6]=x[6],f[7]=x[7],f[8]=x[8],this}extractBasis(a,f,x){return a.setFromMatrix3Column(this,0),f.setFromMatrix3Column(this,1),x.setFromMatrix3Column(this,2),this}setFromMatrix4(a){const f=a.elements;return this.set(f[0],f[4],f[8],f[1],f[5],f[9],f[2],f[6],f[10]),this}multiply(a){return this.multiplyMatrices(this,a)}premultiply(a){return this.multiplyMatrices(a,this)}multiplyMatrices(a,f){const x=a.elements,S=f.elements,I=this.elements,k=x[0],U=x[3],W=x[6],K=x[1],q=x[4],ee=x[7],te=x[2],ie=x[5],de=x[8],le=S[0],ae=S[3],Ie=S[6],He=S[1],Ne=S[4],ze=S[7],Xe=S[2],pt=S[5],Pt=S[8];return I[0]=k*le+U*He+W*Xe,I[3]=k*ae+U*Ne+W*pt,I[6]=k*Ie+U*ze+W*Pt,I[1]=K*le+q*He+ee*Xe,I[4]=K*ae+q*Ne+ee*pt,I[7]=K*Ie+q*ze+ee*Pt,I[2]=te*le+ie*He+de*Xe,I[5]=te*ae+ie*Ne+de*pt,I[8]=te*Ie+ie*ze+de*Pt,this}multiplyScalar(a){const f=this.elements;return f[0]*=a,f[3]*=a,f[6]*=a,f[1]*=a,f[4]*=a,f[7]*=a,f[2]*=a,f[5]*=a,f[8]*=a,this}determinant(){const a=this.elements,f=a[0],x=a[1],S=a[2],I=a[3],k=a[4],U=a[5],W=a[6],K=a[7],q=a[8];return f*k*q-f*U*K-x*I*q+x*U*W+S*I*K-S*k*W}invert(){const a=this.elements,f=a[0],x=a[1],S=a[2],I=a[3],k=a[4],U=a[5],W=a[6],K=a[7],q=a[8],ee=q*k-U*K,te=U*W-q*I,ie=K*I-k*W,de=f*ee+x*te+S*ie;if(de===0)return this.set(0,0,0,0,0,0,0,0,0);const le=1/de;return a[0]=ee*le,a[1]=(S*K-q*x)*le,a[2]=(U*x-S*k)*le,a[3]=te*le,a[4]=(q*f-S*W)*le,a[5]=(S*I-U*f)*le,a[6]=ie*le,a[7]=(x*W-K*f)*le,a[8]=(k*f-x*I)*le,this}transpose(){let a;const f=this.elements;return a=f[1],f[1]=f[3],f[3]=a,a=f[2],f[2]=f[6],f[6]=a,a=f[5],f[5]=f[7],f[7]=a,this}getNormalMatrix(a){return this.setFromMatrix4(a).invert().transpose()}transposeIntoArray(a){const f=this.elements;return a[0]=f[0],a[1]=f[3],a[2]=f[6],a[3]=f[1],a[4]=f[4],a[5]=f[7],a[6]=f[2],a[7]=f[5],a[8]=f[8],this}setUvTransform(a,f,x,S,I,k,U){const W=Math.cos(I),K=Math.sin(I);return this.set(x*W,x*K,-x*(W*k+K*U)+k+a,-S*K,S*W,-S*(-K*k+W*U)+U+f,0,0,1),this}scale(a,f){return this.premultiply(Ig.makeScale(a,f)),this}rotate(a){return this.premultiply(Ig.makeRotation(-a)),this}translate(a,f){return this.premultiply(Ig.makeTranslation(a,f)),this}makeTranslation(a,f){return this.set(1,0,a,0,1,f,0,0,1),this}makeRotation(a){const f=Math.cos(a),x=Math.sin(a);return this.set(f,-x,0,x,f,0,0,0,1),this}makeScale(a,f){return this.set(a,0,0,0,f,0,0,0,1),this}equals(a){const f=this.elements,x=a.elements;for(let S=0;S<9;S++)if(f[S]!==x[S])return!1;return!0}fromArray(a,f=0){for(let x=0;x<9;x++)this.elements[x]=a[x+f];return this}toArray(a=[],f=0){const x=this.elements;return a[f]=x[0],a[f+1]=x[1],a[f+2]=x[2],a[f+3]=x[3],a[f+4]=x[4],a[f+5]=x[5],a[f+6]=x[6],a[f+7]=x[7],a[f+8]=x[8],a}clone(){return new this.constructor().fromArray(this.elements)}}const Ig=new da;function py($){for(let a=$.length-1;a>=0;--a)if($[a]>=65535)return!0;return!1}const Ow={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function ju($,a){return new Ow[$](a)}function sf($){return document.createElementNS("http://www.w3.org/1999/xhtml",$)}function Oc($){return $<.04045?$*.0773993808:Math.pow($*.9478672986+.0521327014,2.4)}function kh($){return $<.0031308?$*12.92:1.055*Math.pow($,.41666)-.055}const Pg={[Or]:{[ni]:Oc},[ni]:{[Or]:kh}},Yo={legacyMode:!0,get workingColorSpace(){return ni},set workingColorSpace($){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function($,a,f){if(this.legacyMode||a===f||!a||!f)return $;if(Pg[a]&&Pg[a][f]!==void 0){const x=Pg[a][f];return $.r=x($.r),$.g=x($.g),$.b=x($.b),$}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function($,a){return this.convert($,this.workingColorSpace,a)},toWorkingColorSpace:function($,a){return this.convert($,a,this.workingColorSpace)}},my={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},wo={r:0,g:0,b:0},ms={h:0,s:0,l:0},Fh={h:0,s:0,l:0};function Lg($,a,f){return f<0&&(f+=1),f>1&&(f-=1),f<.16666666666666666?$+(a-$)*6*f:f<.5?a:f<.6666666666666666?$+(a-$)*6*(.6666666666666666-f):$}function Uh($,a){return a.r=$.r,a.g=$.g,a.b=$.b,a}class xr{constructor(a,f,x){return this.isColor=!0,this.r=1,this.g=1,this.b=1,f===void 0&&x===void 0?this.set(a):this.setRGB(a,f,x)}set(a){return a&&a.isColor?this.copy(a):typeof a=="number"?this.setHex(a):typeof a=="string"&&this.setStyle(a),this}setScalar(a){return this.r=a,this.g=a,this.b=a,this}setHex(a,f=Or){return a=Math.floor(a),this.r=(a>>16&255)/255,this.g=(a>>8&255)/255,this.b=(a&255)/255,Yo.toWorkingColorSpace(this,f),this}setRGB(a,f,x,S=Yo.workingColorSpace){return this.r=a,this.g=f,this.b=x,Yo.toWorkingColorSpace(this,S),this}setHSL(a,f,x,S=Yo.workingColorSpace){if(a=Tg(a,1),f=fo(f,0,1),x=fo(x,0,1),f===0)this.r=this.g=this.b=x;else{const I=x<=.5?x*(1+f):x+f-x*f,k=2*x-I;this.r=Lg(k,I,a+.3333333333333333),this.g=Lg(k,I,a),this.b=Lg(k,I,a-.3333333333333333)}return Yo.toWorkingColorSpace(this,S),this}setStyle(a,f=Or){function x(I){I!==void 0&&parseFloat(I)<1&&console.warn("THREE.Color: Alpha component of "+a+" will be ignored.")}let S;if(S=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(a)){let I;const k=S[1],U=S[2];switch(k){case"rgb":case"rgba":if(I=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(U))return this.r=Math.min(255,parseInt(I[1],10))/255,this.g=Math.min(255,parseInt(I[2],10))/255,this.b=Math.min(255,parseInt(I[3],10))/255,Yo.toWorkingColorSpace(this,f),x(I[4]),this;if(I=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(U))return this.r=Math.min(100,parseInt(I[1],10))/100,this.g=Math.min(100,parseInt(I[2],10))/100,this.b=Math.min(100,parseInt(I[3],10))/100,Yo.toWorkingColorSpace(this,f),x(I[4]),this;break;case"hsl":case"hsla":if(I=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(U)){const W=parseFloat(I[1])/360,K=parseFloat(I[2])/100,q=parseFloat(I[3])/100;return x(I[4]),this.setHSL(W,K,q,f)}break}}else if(S=/^\#([A-Fa-f\d]+)$/.exec(a)){const I=S[1],k=I.length;if(k===3)return this.r=parseInt(I.charAt(0)+I.charAt(0),16)/255,this.g=parseInt(I.charAt(1)+I.charAt(1),16)/255,this.b=parseInt(I.charAt(2)+I.charAt(2),16)/255,Yo.toWorkingColorSpace(this,f),this;if(k===6)return this.r=parseInt(I.charAt(0)+I.charAt(1),16)/255,this.g=parseInt(I.charAt(2)+I.charAt(3),16)/255,this.b=parseInt(I.charAt(4)+I.charAt(5),16)/255,Yo.toWorkingColorSpace(this,f),this}return a&&a.length>0?this.setColorName(a,f):this}setColorName(a,f=Or){const x=my[a.toLowerCase()];return x!==void 0?this.setHex(x,f):console.warn("THREE.Color: Unknown color "+a),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(a){return this.r=a.r,this.g=a.g,this.b=a.b,this}copySRGBToLinear(a){return this.r=Oc(a.r),this.g=Oc(a.g),this.b=Oc(a.b),this}copyLinearToSRGB(a){return this.r=kh(a.r),this.g=kh(a.g),this.b=kh(a.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(a=Or){return Yo.fromWorkingColorSpace(Uh(this,wo),a),fo(wo.r*255,0,255)<<16^fo(wo.g*255,0,255)<<8^fo(wo.b*255,0,255)<<0}getHexString(a=Or){return("000000"+this.getHex(a).toString(16)).slice(-6)}getHSL(a,f=Yo.workingColorSpace){Yo.fromWorkingColorSpace(Uh(this,wo),f);const x=wo.r,S=wo.g,I=wo.b,k=Math.max(x,S,I),U=Math.min(x,S,I);let W,K;const q=(U+k)/2;if(U===k)W=0,K=0;else{const ee=k-U;switch(K=q<=.5?ee/(k+U):ee/(2-k-U),k){case x:W=(S-I)/ee+(S<I?6:0);break;case S:W=(I-x)/ee+2;break;case I:W=(x-S)/ee+4;break}W/=6}return a.h=W,a.s=K,a.l=q,a}getRGB(a,f=Yo.workingColorSpace){return Yo.fromWorkingColorSpace(Uh(this,wo),f),a.r=wo.r,a.g=wo.g,a.b=wo.b,a}getStyle(a=Or){return Yo.fromWorkingColorSpace(Uh(this,wo),a),a!==Or?`color(${a} ${wo.r} ${wo.g} ${wo.b})`:`rgb(${wo.r*255|0},${wo.g*255|0},${wo.b*255|0})`}offsetHSL(a,f,x){return this.getHSL(ms),ms.h+=a,ms.s+=f,ms.l+=x,this.setHSL(ms.h,ms.s,ms.l),this}add(a){return this.r+=a.r,this.g+=a.g,this.b+=a.b,this}addColors(a,f){return this.r=a.r+f.r,this.g=a.g+f.g,this.b=a.b+f.b,this}addScalar(a){return this.r+=a,this.g+=a,this.b+=a,this}sub(a){return this.r=Math.max(0,this.r-a.r),this.g=Math.max(0,this.g-a.g),this.b=Math.max(0,this.b-a.b),this}multiply(a){return this.r*=a.r,this.g*=a.g,this.b*=a.b,this}multiplyScalar(a){return this.r*=a,this.g*=a,this.b*=a,this}lerp(a,f){return this.r+=(a.r-this.r)*f,this.g+=(a.g-this.g)*f,this.b+=(a.b-this.b)*f,this}lerpColors(a,f,x){return this.r=a.r+(f.r-a.r)*x,this.g=a.g+(f.g-a.g)*x,this.b=a.b+(f.b-a.b)*x,this}lerpHSL(a,f){this.getHSL(ms),a.getHSL(Fh);const x=af(ms.h,Fh.h,f),S=af(ms.s,Fh.s,f),I=af(ms.l,Fh.l,f);return this.setHSL(x,S,I),this}equals(a){return a.r===this.r&&a.g===this.g&&a.b===this.b}fromArray(a,f=0){return this.r=a[f],this.g=a[f+1],this.b=a[f+2],this}toArray(a=[],f=0){return a[f]=this.r,a[f+1]=this.g,a[f+2]=this.b,a}fromBufferAttribute(a,f){return this.r=a.getX(f),this.g=a.getY(f),this.b=a.getZ(f),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}xr.NAMES=my;let Gu;class Bg{static getDataURL(a){if(/^data:/i.test(a.src)||typeof HTMLCanvasElement>"u")return a.src;let f;if(a instanceof HTMLCanvasElement)f=a;else{Gu===void 0&&(Gu=sf("canvas")),Gu.width=a.width,Gu.height=a.height;const x=Gu.getContext("2d");a instanceof ImageData?x.putImageData(a,0,0):x.drawImage(a,0,0,a.width,a.height),f=Gu}return f.width>2048||f.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",a),f.toDataURL("image/jpeg",.6)):f.toDataURL("image/png")}static sRGBToLinear(a){if(typeof HTMLImageElement<"u"&&a instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&a instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&a instanceof ImageBitmap){const f=sf("canvas");f.width=a.width,f.height=a.height;const x=f.getContext("2d");x.drawImage(a,0,0,a.width,a.height);const S=x.getImageData(0,0,a.width,a.height),I=S.data;for(let k=0;k<I.length;k++)I[k]=Oc(I[k]/255)*255;return x.putImageData(S,0,0),f}else if(a.data){const f=a.data.slice(0);for(let x=0;x<f.length;x++)f instanceof Uint8Array||f instanceof Uint8ClampedArray?f[x]=Math.floor(Oc(f[x]/255)*255):f[x]=Oc(f[x]);return{data:f,width:a.width,height:a.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),a}}class Dc{constructor(a=null){this.isSource=!0,this.uuid=Da(),this.data=a,this.version=0}set needsUpdate(a){a===!0&&this.version++}toJSON(a){const f=a===void 0||typeof a=="string";if(!f&&a.images[this.uuid]!==void 0)return a.images[this.uuid];const x={uuid:this.uuid,url:""},S=this.data;if(S!==null){let I;if(Array.isArray(S)){I=[];for(let k=0,U=S.length;k<U;k++)S[k].isDataTexture?I.push(Og(S[k].image)):I.push(Og(S[k]))}else I=Og(S);x.url=I}return f||(a.images[this.uuid]=x),x}}function Og($){return typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&$ instanceof ImageBitmap?Bg.getDataURL($):$.data?{data:Array.from($.data),width:$.width,height:$.height,type:$.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Dw=0;class ho extends Oa{constructor(a=ho.DEFAULT_IMAGE,f=ho.DEFAULT_MAPPING,x=Ue,S=Ue,I=ve,k=Ze,U=Ln,W=nt,K=ho.DEFAULT_ANISOTROPY,q=mr){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Dw++}),this.uuid=Da(),this.name="",this.source=new Dc(a),this.mipmaps=[],this.mapping=f,this.wrapS=x,this.wrapT=S,this.magFilter=I,this.minFilter=k,this.anisotropy=K,this.format=U,this.internalFormat=null,this.type=W,this.offset=new In(0,0),this.repeat=new In(1,1),this.center=new In(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new da,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=q,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(a){this.source.data=a}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(a){return this.name=a.name,this.source=a.source,this.mipmaps=a.mipmaps.slice(0),this.mapping=a.mapping,this.wrapS=a.wrapS,this.wrapT=a.wrapT,this.magFilter=a.magFilter,this.minFilter=a.minFilter,this.anisotropy=a.anisotropy,this.format=a.format,this.internalFormat=a.internalFormat,this.type=a.type,this.offset.copy(a.offset),this.repeat.copy(a.repeat),this.center.copy(a.center),this.rotation=a.rotation,this.matrixAutoUpdate=a.matrixAutoUpdate,this.matrix.copy(a.matrix),this.generateMipmaps=a.generateMipmaps,this.premultiplyAlpha=a.premultiplyAlpha,this.flipY=a.flipY,this.unpackAlignment=a.unpackAlignment,this.encoding=a.encoding,this.userData=JSON.parse(JSON.stringify(a.userData)),this.needsUpdate=!0,this}toJSON(a){const f=a===void 0||typeof a=="string";if(!f&&a.textures[this.uuid]!==void 0)return a.textures[this.uuid];const x={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(a).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(x.userData=this.userData),f||(a.textures[this.uuid]=x),x}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(a){if(this.mapping!==pe)return a;if(a.applyMatrix3(this.matrix),a.x<0||a.x>1)switch(this.wrapS){case Ae:a.x=a.x-Math.floor(a.x);break;case Ue:a.x=a.x<0?0:1;break;case et:Math.abs(Math.floor(a.x)%2)===1?a.x=Math.ceil(a.x)-a.x:a.x=a.x-Math.floor(a.x);break}if(a.y<0||a.y>1)switch(this.wrapT){case Ae:a.y=a.y-Math.floor(a.y);break;case Ue:a.y=a.y<0?0:1;break;case et:Math.abs(Math.floor(a.y)%2)===1?a.y=Math.ceil(a.y)-a.y:a.y=a.y-Math.floor(a.y);break}return this.flipY&&(a.y=1-a.y),a}set needsUpdate(a){a===!0&&(this.version++,this.source.needsUpdate=!0)}}ho.DEFAULT_IMAGE=null,ho.DEFAULT_MAPPING=pe,ho.DEFAULT_ANISOTROPY=1;class Si{constructor(a=0,f=0,x=0,S=1){Si.prototype.isVector4=!0,this.x=a,this.y=f,this.z=x,this.w=S}get width(){return this.z}set width(a){this.z=a}get height(){return this.w}set height(a){this.w=a}set(a,f,x,S){return this.x=a,this.y=f,this.z=x,this.w=S,this}setScalar(a){return this.x=a,this.y=a,this.z=a,this.w=a,this}setX(a){return this.x=a,this}setY(a){return this.y=a,this}setZ(a){return this.z=a,this}setW(a){return this.w=a,this}setComponent(a,f){switch(a){case 0:this.x=f;break;case 1:this.y=f;break;case 2:this.z=f;break;case 3:this.w=f;break;default:throw new Error("index is out of range: "+a)}return this}getComponent(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+a)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(a){return this.x=a.x,this.y=a.y,this.z=a.z,this.w=a.w!==void 0?a.w:1,this}add(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z,this.w+=a.w,this}addScalar(a){return this.x+=a,this.y+=a,this.z+=a,this.w+=a,this}addVectors(a,f){return this.x=a.x+f.x,this.y=a.y+f.y,this.z=a.z+f.z,this.w=a.w+f.w,this}addScaledVector(a,f){return this.x+=a.x*f,this.y+=a.y*f,this.z+=a.z*f,this.w+=a.w*f,this}sub(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z,this.w-=a.w,this}subScalar(a){return this.x-=a,this.y-=a,this.z-=a,this.w-=a,this}subVectors(a,f){return this.x=a.x-f.x,this.y=a.y-f.y,this.z=a.z-f.z,this.w=a.w-f.w,this}multiply(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z,this.w*=a.w,this}multiplyScalar(a){return this.x*=a,this.y*=a,this.z*=a,this.w*=a,this}applyMatrix4(a){const f=this.x,x=this.y,S=this.z,I=this.w,k=a.elements;return this.x=k[0]*f+k[4]*x+k[8]*S+k[12]*I,this.y=k[1]*f+k[5]*x+k[9]*S+k[13]*I,this.z=k[2]*f+k[6]*x+k[10]*S+k[14]*I,this.w=k[3]*f+k[7]*x+k[11]*S+k[15]*I,this}divideScalar(a){return this.multiplyScalar(1/a)}setAxisAngleFromQuaternion(a){this.w=2*Math.acos(a.w);const f=Math.sqrt(1-a.w*a.w);return f<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=a.x/f,this.y=a.y/f,this.z=a.z/f),this}setAxisAngleFromRotationMatrix(a){let f,x,S,I;const W=a.elements,K=W[0],q=W[4],ee=W[8],te=W[1],ie=W[5],de=W[9],le=W[2],ae=W[6],Ie=W[10];if(Math.abs(q-te)<.01&&Math.abs(ee-le)<.01&&Math.abs(de-ae)<.01){if(Math.abs(q+te)<.1&&Math.abs(ee+le)<.1&&Math.abs(de+ae)<.1&&Math.abs(K+ie+Ie-3)<.1)return this.set(1,0,0,0),this;f=Math.PI;const Ne=(K+1)/2,ze=(ie+1)/2,Xe=(Ie+1)/2,pt=(q+te)/4,Pt=(ee+le)/4,Ge=(de+ae)/4;return Ne>ze&&Ne>Xe?Ne<.01?(x=0,S=.707106781,I=.707106781):(x=Math.sqrt(Ne),S=pt/x,I=Pt/x):ze>Xe?ze<.01?(x=.707106781,S=0,I=.707106781):(S=Math.sqrt(ze),x=pt/S,I=Ge/S):Xe<.01?(x=.707106781,S=.707106781,I=0):(I=Math.sqrt(Xe),x=Pt/I,S=Ge/I),this.set(x,S,I,f),this}let He=Math.sqrt((ae-de)*(ae-de)+(ee-le)*(ee-le)+(te-q)*(te-q));return Math.abs(He)<.001&&(He=1),this.x=(ae-de)/He,this.y=(ee-le)/He,this.z=(te-q)/He,this.w=Math.acos((K+ie+Ie-1)/2),this}min(a){return this.x=Math.min(this.x,a.x),this.y=Math.min(this.y,a.y),this.z=Math.min(this.z,a.z),this.w=Math.min(this.w,a.w),this}max(a){return this.x=Math.max(this.x,a.x),this.y=Math.max(this.y,a.y),this.z=Math.max(this.z,a.z),this.w=Math.max(this.w,a.w),this}clamp(a,f){return this.x=Math.max(a.x,Math.min(f.x,this.x)),this.y=Math.max(a.y,Math.min(f.y,this.y)),this.z=Math.max(a.z,Math.min(f.z,this.z)),this.w=Math.max(a.w,Math.min(f.w,this.w)),this}clampScalar(a,f){return this.x=Math.max(a,Math.min(f,this.x)),this.y=Math.max(a,Math.min(f,this.y)),this.z=Math.max(a,Math.min(f,this.z)),this.w=Math.max(a,Math.min(f,this.w)),this}clampLength(a,f){const x=this.length();return this.divideScalar(x||1).multiplyScalar(Math.max(a,Math.min(f,x)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(a){return this.normalize().multiplyScalar(a)}lerp(a,f){return this.x+=(a.x-this.x)*f,this.y+=(a.y-this.y)*f,this.z+=(a.z-this.z)*f,this.w+=(a.w-this.w)*f,this}lerpVectors(a,f,x){return this.x=a.x+(f.x-a.x)*x,this.y=a.y+(f.y-a.y)*x,this.z=a.z+(f.z-a.z)*x,this.w=a.w+(f.w-a.w)*x,this}equals(a){return a.x===this.x&&a.y===this.y&&a.z===this.z&&a.w===this.w}fromArray(a,f=0){return this.x=a[f],this.y=a[f+1],this.z=a[f+2],this.w=a[f+3],this}toArray(a=[],f=0){return a[f]=this.x,a[f+1]=this.y,a[f+2]=this.z,a[f+3]=this.w,a}fromBufferAttribute(a,f){return this.x=a.getX(f),this.y=a.getY(f),this.z=a.getZ(f),this.w=a.getW(f),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class ns extends Oa{constructor(a=1,f=1,x={}){super(),this.isWebGLRenderTarget=!0,this.width=a,this.height=f,this.depth=1,this.scissor=new Si(0,0,a,f),this.scissorTest=!1,this.viewport=new Si(0,0,a,f);const S={width:a,height:f,depth:1};this.texture=new ho(S,x.mapping,x.wrapS,x.wrapT,x.magFilter,x.minFilter,x.format,x.type,x.anisotropy,x.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=x.generateMipmaps!==void 0?x.generateMipmaps:!1,this.texture.internalFormat=x.internalFormat!==void 0?x.internalFormat:null,this.texture.minFilter=x.minFilter!==void 0?x.minFilter:ve,this.depthBuffer=x.depthBuffer!==void 0?x.depthBuffer:!0,this.stencilBuffer=x.stencilBuffer!==void 0?x.stencilBuffer:!1,this.depthTexture=x.depthTexture!==void 0?x.depthTexture:null,this.samples=x.samples!==void 0?x.samples:0}setSize(a,f,x=1){(this.width!==a||this.height!==f||this.depth!==x)&&(this.width=a,this.height=f,this.depth=x,this.texture.image.width=a,this.texture.image.height=f,this.texture.image.depth=x,this.dispose()),this.viewport.set(0,0,a,f),this.scissor.set(0,0,a,f)}clone(){return new this.constructor().copy(this)}copy(a){this.width=a.width,this.height=a.height,this.depth=a.depth,this.viewport.copy(a.viewport),this.texture=a.texture.clone(),this.texture.isRenderTargetTexture=!0;const f=Object.assign({},a.texture.image);return this.texture.source=new Dc(f),this.depthBuffer=a.depthBuffer,this.stencilBuffer=a.stencilBuffer,a.depthTexture!==null&&(this.depthTexture=a.depthTexture.clone()),this.samples=a.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class lf extends ho{constructor(a=null,f=1,x=1,S=1){super(null),this.isDataArrayTexture=!0,this.image={data:a,width:f,height:x,depth:S},this.magFilter=ue,this.minFilter=ue,this.wrapR=Ue,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Nw extends ns{constructor(a=1,f=1,x=1){super(a,f),this.isWebGLArrayRenderTarget=!0,this.depth=x,this.texture=new lf(null,a,f,x),this.texture.isRenderTargetTexture=!0}}class zh extends ho{constructor(a=null,f=1,x=1,S=1){super(null),this.isData3DTexture=!0,this.image={data:a,width:f,height:x,depth:S},this.magFilter=ue,this.minFilter=ue,this.wrapR=Ue,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class kw extends ns{constructor(a=1,f=1,x=1){super(a,f),this.isWebGL3DRenderTarget=!0,this.depth=x,this.texture=new zh(null,a,f,x),this.texture.isRenderTargetTexture=!0}}class Fw extends ns{constructor(a=1,f=1,x=1,S={}){super(a,f,S),this.isWebGLMultipleRenderTargets=!0;const I=this.texture;this.texture=[];for(let k=0;k<x;k++)this.texture[k]=I.clone(),this.texture[k].isRenderTargetTexture=!0}setSize(a,f,x=1){if(this.width!==a||this.height!==f||this.depth!==x){this.width=a,this.height=f,this.depth=x;for(let S=0,I=this.texture.length;S<I;S++)this.texture[S].image.width=a,this.texture[S].image.height=f,this.texture[S].image.depth=x;this.dispose()}return this.viewport.set(0,0,a,f),this.scissor.set(0,0,a,f),this}copy(a){this.dispose(),this.width=a.width,this.height=a.height,this.depth=a.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=a.depthBuffer,this.stencilBuffer=a.stencilBuffer,a.depthTexture!==null&&(this.depthTexture=a.depthTexture.clone()),this.texture.length=0;for(let f=0,x=a.texture.length;f<x;f++)this.texture[f]=a.texture[f].clone(),this.texture[f].isRenderTargetTexture=!0;return this}}class fa{constructor(a=0,f=0,x=0,S=1){this.isQuaternion=!0,this._x=a,this._y=f,this._z=x,this._w=S}static slerpFlat(a,f,x,S,I,k,U){let W=x[S+0],K=x[S+1],q=x[S+2],ee=x[S+3];const te=I[k+0],ie=I[k+1],de=I[k+2],le=I[k+3];if(U===0){a[f+0]=W,a[f+1]=K,a[f+2]=q,a[f+3]=ee;return}if(U===1){a[f+0]=te,a[f+1]=ie,a[f+2]=de,a[f+3]=le;return}if(ee!==le||W!==te||K!==ie||q!==de){let ae=1-U;const Ie=W*te+K*ie+q*de+ee*le,He=Ie>=0?1:-1,Ne=1-Ie*Ie;if(Ne>Number.EPSILON){const Xe=Math.sqrt(Ne),pt=Math.atan2(Xe,Ie*He);ae=Math.sin(ae*pt)/Xe,U=Math.sin(U*pt)/Xe}const ze=U*He;if(W=W*ae+te*ze,K=K*ae+ie*ze,q=q*ae+de*ze,ee=ee*ae+le*ze,ae===1-U){const Xe=1/Math.sqrt(W*W+K*K+q*q+ee*ee);W*=Xe,K*=Xe,q*=Xe,ee*=Xe}}a[f]=W,a[f+1]=K,a[f+2]=q,a[f+3]=ee}static multiplyQuaternionsFlat(a,f,x,S,I,k){const U=x[S],W=x[S+1],K=x[S+2],q=x[S+3],ee=I[k],te=I[k+1],ie=I[k+2],de=I[k+3];return a[f]=U*de+q*ee+W*ie-K*te,a[f+1]=W*de+q*te+K*ee-U*ie,a[f+2]=K*de+q*ie+U*te-W*ee,a[f+3]=q*de-U*ee-W*te-K*ie,a}get x(){return this._x}set x(a){this._x=a,this._onChangeCallback()}get y(){return this._y}set y(a){this._y=a,this._onChangeCallback()}get z(){return this._z}set z(a){this._z=a,this._onChangeCallback()}get w(){return this._w}set w(a){this._w=a,this._onChangeCallback()}set(a,f,x,S){return this._x=a,this._y=f,this._z=x,this._w=S,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(a){return this._x=a.x,this._y=a.y,this._z=a.z,this._w=a.w,this._onChangeCallback(),this}setFromEuler(a,f){const x=a._x,S=a._y,I=a._z,k=a._order,U=Math.cos,W=Math.sin,K=U(x/2),q=U(S/2),ee=U(I/2),te=W(x/2),ie=W(S/2),de=W(I/2);switch(k){case"XYZ":this._x=te*q*ee+K*ie*de,this._y=K*ie*ee-te*q*de,this._z=K*q*de+te*ie*ee,this._w=K*q*ee-te*ie*de;break;case"YXZ":this._x=te*q*ee+K*ie*de,this._y=K*ie*ee-te*q*de,this._z=K*q*de-te*ie*ee,this._w=K*q*ee+te*ie*de;break;case"ZXY":this._x=te*q*ee-K*ie*de,this._y=K*ie*ee+te*q*de,this._z=K*q*de+te*ie*ee,this._w=K*q*ee-te*ie*de;break;case"ZYX":this._x=te*q*ee-K*ie*de,this._y=K*ie*ee+te*q*de,this._z=K*q*de-te*ie*ee,this._w=K*q*ee+te*ie*de;break;case"YZX":this._x=te*q*ee+K*ie*de,this._y=K*ie*ee+te*q*de,this._z=K*q*de-te*ie*ee,this._w=K*q*ee-te*ie*de;break;case"XZY":this._x=te*q*ee-K*ie*de,this._y=K*ie*ee-te*q*de,this._z=K*q*de+te*ie*ee,this._w=K*q*ee+te*ie*de;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+k)}return f!==!1&&this._onChangeCallback(),this}setFromAxisAngle(a,f){const x=f/2,S=Math.sin(x);return this._x=a.x*S,this._y=a.y*S,this._z=a.z*S,this._w=Math.cos(x),this._onChangeCallback(),this}setFromRotationMatrix(a){const f=a.elements,x=f[0],S=f[4],I=f[8],k=f[1],U=f[5],W=f[9],K=f[2],q=f[6],ee=f[10],te=x+U+ee;if(te>0){const ie=.5/Math.sqrt(te+1);this._w=.25/ie,this._x=(q-W)*ie,this._y=(I-K)*ie,this._z=(k-S)*ie}else if(x>U&&x>ee){const ie=2*Math.sqrt(1+x-U-ee);this._w=(q-W)/ie,this._x=.25*ie,this._y=(S+k)/ie,this._z=(I+K)/ie}else if(U>ee){const ie=2*Math.sqrt(1+U-x-ee);this._w=(I-K)/ie,this._x=(S+k)/ie,this._y=.25*ie,this._z=(W+q)/ie}else{const ie=2*Math.sqrt(1+ee-x-U);this._w=(k-S)/ie,this._x=(I+K)/ie,this._y=(W+q)/ie,this._z=.25*ie}return this._onChangeCallback(),this}setFromUnitVectors(a,f){let x=a.dot(f)+1;return x<Number.EPSILON?(x=0,Math.abs(a.x)>Math.abs(a.z)?(this._x=-a.y,this._y=a.x,this._z=0,this._w=x):(this._x=0,this._y=-a.z,this._z=a.y,this._w=x)):(this._x=a.y*f.z-a.z*f.y,this._y=a.z*f.x-a.x*f.z,this._z=a.x*f.y-a.y*f.x,this._w=x),this.normalize()}angleTo(a){return 2*Math.acos(Math.abs(fo(this.dot(a),-1,1)))}rotateTowards(a,f){const x=this.angleTo(a);if(x===0)return this;const S=Math.min(1,f/x);return this.slerp(a,S),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(a){return this._x*a._x+this._y*a._y+this._z*a._z+this._w*a._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let a=this.length();return a===0?(this._x=0,this._y=0,this._z=0,this._w=1):(a=1/a,this._x=this._x*a,this._y=this._y*a,this._z=this._z*a,this._w=this._w*a),this._onChangeCallback(),this}multiply(a){return this.multiplyQuaternions(this,a)}premultiply(a){return this.multiplyQuaternions(a,this)}multiplyQuaternions(a,f){const x=a._x,S=a._y,I=a._z,k=a._w,U=f._x,W=f._y,K=f._z,q=f._w;return this._x=x*q+k*U+S*K-I*W,this._y=S*q+k*W+I*U-x*K,this._z=I*q+k*K+x*W-S*U,this._w=k*q-x*U-S*W-I*K,this._onChangeCallback(),this}slerp(a,f){if(f===0)return this;if(f===1)return this.copy(a);const x=this._x,S=this._y,I=this._z,k=this._w;let U=k*a._w+x*a._x+S*a._y+I*a._z;if(U<0?(this._w=-a._w,this._x=-a._x,this._y=-a._y,this._z=-a._z,U=-U):this.copy(a),U>=1)return this._w=k,this._x=x,this._y=S,this._z=I,this;const W=1-U*U;if(W<=Number.EPSILON){const ie=1-f;return this._w=ie*k+f*this._w,this._x=ie*x+f*this._x,this._y=ie*S+f*this._y,this._z=ie*I+f*this._z,this.normalize(),this._onChangeCallback(),this}const K=Math.sqrt(W),q=Math.atan2(K,U),ee=Math.sin((1-f)*q)/K,te=Math.sin(f*q)/K;return this._w=k*ee+this._w*te,this._x=x*ee+this._x*te,this._y=S*ee+this._y*te,this._z=I*ee+this._z*te,this._onChangeCallback(),this}slerpQuaternions(a,f,x){return this.copy(a).slerp(f,x)}random(){const a=Math.random(),f=Math.sqrt(1-a),x=Math.sqrt(a),S=2*Math.PI*Math.random(),I=2*Math.PI*Math.random();return this.set(f*Math.cos(S),x*Math.sin(I),x*Math.cos(I),f*Math.sin(S))}equals(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._w===this._w}fromArray(a,f=0){return this._x=a[f],this._y=a[f+1],this._z=a[f+2],this._w=a[f+3],this._onChangeCallback(),this}toArray(a=[],f=0){return a[f]=this._x,a[f+1]=this._y,a[f+2]=this._z,a[f+3]=this._w,a}fromBufferAttribute(a,f){return this._x=a.getX(f),this._y=a.getY(f),this._z=a.getZ(f),this._w=a.getW(f),this}_onChange(a){return this._onChangeCallback=a,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class dt{constructor(a=0,f=0,x=0){dt.prototype.isVector3=!0,this.x=a,this.y=f,this.z=x}set(a,f,x){return x===void 0&&(x=this.z),this.x=a,this.y=f,this.z=x,this}setScalar(a){return this.x=a,this.y=a,this.z=a,this}setX(a){return this.x=a,this}setY(a){return this.y=a,this}setZ(a){return this.z=a,this}setComponent(a,f){switch(a){case 0:this.x=f;break;case 1:this.y=f;break;case 2:this.z=f;break;default:throw new Error("index is out of range: "+a)}return this}getComponent(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+a)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(a){return this.x=a.x,this.y=a.y,this.z=a.z,this}add(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z,this}addScalar(a){return this.x+=a,this.y+=a,this.z+=a,this}addVectors(a,f){return this.x=a.x+f.x,this.y=a.y+f.y,this.z=a.z+f.z,this}addScaledVector(a,f){return this.x+=a.x*f,this.y+=a.y*f,this.z+=a.z*f,this}sub(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z,this}subScalar(a){return this.x-=a,this.y-=a,this.z-=a,this}subVectors(a,f){return this.x=a.x-f.x,this.y=a.y-f.y,this.z=a.z-f.z,this}multiply(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z,this}multiplyScalar(a){return this.x*=a,this.y*=a,this.z*=a,this}multiplyVectors(a,f){return this.x=a.x*f.x,this.y=a.y*f.y,this.z=a.z*f.z,this}applyEuler(a){return this.applyQuaternion(gy.setFromEuler(a))}applyAxisAngle(a,f){return this.applyQuaternion(gy.setFromAxisAngle(a,f))}applyMatrix3(a){const f=this.x,x=this.y,S=this.z,I=a.elements;return this.x=I[0]*f+I[3]*x+I[6]*S,this.y=I[1]*f+I[4]*x+I[7]*S,this.z=I[2]*f+I[5]*x+I[8]*S,this}applyNormalMatrix(a){return this.applyMatrix3(a).normalize()}applyMatrix4(a){const f=this.x,x=this.y,S=this.z,I=a.elements,k=1/(I[3]*f+I[7]*x+I[11]*S+I[15]);return this.x=(I[0]*f+I[4]*x+I[8]*S+I[12])*k,this.y=(I[1]*f+I[5]*x+I[9]*S+I[13])*k,this.z=(I[2]*f+I[6]*x+I[10]*S+I[14])*k,this}applyQuaternion(a){const f=this.x,x=this.y,S=this.z,I=a.x,k=a.y,U=a.z,W=a.w,K=W*f+k*S-U*x,q=W*x+U*f-I*S,ee=W*S+I*x-k*f,te=-I*f-k*x-U*S;return this.x=K*W+te*-I+q*-U-ee*-k,this.y=q*W+te*-k+ee*-I-K*-U,this.z=ee*W+te*-U+K*-k-q*-I,this}project(a){return this.applyMatrix4(a.matrixWorldInverse).applyMatrix4(a.projectionMatrix)}unproject(a){return this.applyMatrix4(a.projectionMatrixInverse).applyMatrix4(a.matrixWorld)}transformDirection(a){const f=this.x,x=this.y,S=this.z,I=a.elements;return this.x=I[0]*f+I[4]*x+I[8]*S,this.y=I[1]*f+I[5]*x+I[9]*S,this.z=I[2]*f+I[6]*x+I[10]*S,this.normalize()}divide(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z,this}divideScalar(a){return this.multiplyScalar(1/a)}min(a){return this.x=Math.min(this.x,a.x),this.y=Math.min(this.y,a.y),this.z=Math.min(this.z,a.z),this}max(a){return this.x=Math.max(this.x,a.x),this.y=Math.max(this.y,a.y),this.z=Math.max(this.z,a.z),this}clamp(a,f){return this.x=Math.max(a.x,Math.min(f.x,this.x)),this.y=Math.max(a.y,Math.min(f.y,this.y)),this.z=Math.max(a.z,Math.min(f.z,this.z)),this}clampScalar(a,f){return this.x=Math.max(a,Math.min(f,this.x)),this.y=Math.max(a,Math.min(f,this.y)),this.z=Math.max(a,Math.min(f,this.z)),this}clampLength(a,f){const x=this.length();return this.divideScalar(x||1).multiplyScalar(Math.max(a,Math.min(f,x)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(a){return this.x*a.x+this.y*a.y+this.z*a.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(a){return this.normalize().multiplyScalar(a)}lerp(a,f){return this.x+=(a.x-this.x)*f,this.y+=(a.y-this.y)*f,this.z+=(a.z-this.z)*f,this}lerpVectors(a,f,x){return this.x=a.x+(f.x-a.x)*x,this.y=a.y+(f.y-a.y)*x,this.z=a.z+(f.z-a.z)*x,this}cross(a){return this.crossVectors(this,a)}crossVectors(a,f){const x=a.x,S=a.y,I=a.z,k=f.x,U=f.y,W=f.z;return this.x=S*W-I*U,this.y=I*k-x*W,this.z=x*U-S*k,this}projectOnVector(a){const f=a.lengthSq();if(f===0)return this.set(0,0,0);const x=a.dot(this)/f;return this.copy(a).multiplyScalar(x)}projectOnPlane(a){return Dg.copy(this).projectOnVector(a),this.sub(Dg)}reflect(a){return this.sub(Dg.copy(a).multiplyScalar(2*this.dot(a)))}angleTo(a){const f=Math.sqrt(this.lengthSq()*a.lengthSq());if(f===0)return Math.PI/2;const x=this.dot(a)/f;return Math.acos(fo(x,-1,1))}distanceTo(a){return Math.sqrt(this.distanceToSquared(a))}distanceToSquared(a){const f=this.x-a.x,x=this.y-a.y,S=this.z-a.z;return f*f+x*x+S*S}manhattanDistanceTo(a){return Math.abs(this.x-a.x)+Math.abs(this.y-a.y)+Math.abs(this.z-a.z)}setFromSpherical(a){return this.setFromSphericalCoords(a.radius,a.phi,a.theta)}setFromSphericalCoords(a,f,x){const S=Math.sin(f)*a;return this.x=S*Math.sin(x),this.y=Math.cos(f)*a,this.z=S*Math.cos(x),this}setFromCylindrical(a){return this.setFromCylindricalCoords(a.radius,a.theta,a.y)}setFromCylindricalCoords(a,f,x){return this.x=a*Math.sin(f),this.y=x,this.z=a*Math.cos(f),this}setFromMatrixPosition(a){const f=a.elements;return this.x=f[12],this.y=f[13],this.z=f[14],this}setFromMatrixScale(a){const f=this.setFromMatrixColumn(a,0).length(),x=this.setFromMatrixColumn(a,1).length(),S=this.setFromMatrixColumn(a,2).length();return this.x=f,this.y=x,this.z=S,this}setFromMatrixColumn(a,f){return this.fromArray(a.elements,f*4)}setFromMatrix3Column(a,f){return this.fromArray(a.elements,f*3)}setFromEuler(a){return this.x=a._x,this.y=a._y,this.z=a._z,this}equals(a){return a.x===this.x&&a.y===this.y&&a.z===this.z}fromArray(a,f=0){return this.x=a[f],this.y=a[f+1],this.z=a[f+2],this}toArray(a=[],f=0){return a[f]=this.x,a[f+1]=this.y,a[f+2]=this.z,a}fromBufferAttribute(a,f){return this.x=a.getX(f),this.y=a.getY(f),this.z=a.getZ(f),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const a=(Math.random()-.5)*2,f=Math.random()*Math.PI*2,x=Math.sqrt(1-a**2);return this.x=x*Math.cos(f),this.y=x*Math.sin(f),this.z=a,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Dg=new dt,gy=new fa;class Nc{constructor(a=new dt(1/0,1/0,1/0),f=new dt(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=a,this.max=f}set(a,f){return this.min.copy(a),this.max.copy(f),this}setFromArray(a){let f=1/0,x=1/0,S=1/0,I=-1/0,k=-1/0,U=-1/0;for(let W=0,K=a.length;W<K;W+=3){const q=a[W],ee=a[W+1],te=a[W+2];q<f&&(f=q),ee<x&&(x=ee),te<S&&(S=te),q>I&&(I=q),ee>k&&(k=ee),te>U&&(U=te)}return this.min.set(f,x,S),this.max.set(I,k,U),this}setFromBufferAttribute(a){let f=1/0,x=1/0,S=1/0,I=-1/0,k=-1/0,U=-1/0;for(let W=0,K=a.count;W<K;W++){const q=a.getX(W),ee=a.getY(W),te=a.getZ(W);q<f&&(f=q),ee<x&&(x=ee),te<S&&(S=te),q>I&&(I=q),ee>k&&(k=ee),te>U&&(U=te)}return this.min.set(f,x,S),this.max.set(I,k,U),this}setFromPoints(a){this.makeEmpty();for(let f=0,x=a.length;f<x;f++)this.expandByPoint(a[f]);return this}setFromCenterAndSize(a,f){const x=kc.copy(f).multiplyScalar(.5);return this.min.copy(a).sub(x),this.max.copy(a).add(x),this}setFromObject(a,f=!1){return this.makeEmpty(),this.expandByObject(a,f)}clone(){return new this.constructor().copy(this)}copy(a){return this.min.copy(a.min),this.max.copy(a.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(a){return this.isEmpty()?a.set(0,0,0):a.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(a){return this.isEmpty()?a.set(0,0,0):a.subVectors(this.max,this.min)}expandByPoint(a){return this.min.min(a),this.max.max(a),this}expandByVector(a){return this.min.sub(a),this.max.add(a),this}expandByScalar(a){return this.min.addScalar(-a),this.max.addScalar(a),this}expandByObject(a,f=!1){a.updateWorldMatrix(!1,!1);const x=a.geometry;if(x!==void 0)if(f&&x.attributes!=null&&x.attributes.position!==void 0){const I=x.attributes.position;for(let k=0,U=I.count;k<U;k++)kc.fromBufferAttribute(I,k).applyMatrix4(a.matrixWorld),this.expandByPoint(kc)}else x.boundingBox===null&&x.computeBoundingBox(),Ng.copy(x.boundingBox),Ng.applyMatrix4(a.matrixWorld),this.union(Ng);const S=a.children;for(let I=0,k=S.length;I<k;I++)this.expandByObject(S[I],f);return this}containsPoint(a){return!(a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y||a.z<this.min.z||a.z>this.max.z)}containsBox(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y&&this.min.z<=a.min.z&&a.max.z<=this.max.z}getParameter(a,f){return f.set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(a){return!(a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y||a.max.z<this.min.z||a.min.z>this.max.z)}intersectsSphere(a){return this.clampPoint(a.center,kc),kc.distanceToSquared(a.center)<=a.radius*a.radius}intersectsPlane(a){let f,x;return a.normal.x>0?(f=a.normal.x*this.min.x,x=a.normal.x*this.max.x):(f=a.normal.x*this.max.x,x=a.normal.x*this.min.x),a.normal.y>0?(f+=a.normal.y*this.min.y,x+=a.normal.y*this.max.y):(f+=a.normal.y*this.max.y,x+=a.normal.y*this.min.y),a.normal.z>0?(f+=a.normal.z*this.min.z,x+=a.normal.z*this.max.z):(f+=a.normal.z*this.max.z,x+=a.normal.z*this.min.z),f<=-a.constant&&x>=-a.constant}intersectsTriangle(a){if(this.isEmpty())return!1;this.getCenter(Ku),rc.subVectors(this.max,Ku),Vu.subVectors(a.a,Ku),Wu.subVectors(a.b,Ku),Qu.subVectors(a.c,Ku),tc.subVectors(Wu,Vu),nc.subVectors(Qu,Wu),Fc.subVectors(Vu,Qu);let f=[0,-tc.z,tc.y,0,-nc.z,nc.y,0,-Fc.z,Fc.y,tc.z,0,-tc.x,nc.z,0,-nc.x,Fc.z,0,-Fc.x,-tc.y,tc.x,0,-nc.y,nc.x,0,-Fc.y,Fc.x,0];return!$h(f,Vu,Wu,Qu,rc)||(f=[1,0,0,0,1,0,0,0,1],!$h(f,Vu,Wu,Qu,rc))?!1:(cf.crossVectors(tc,nc),f=[cf.x,cf.y,cf.z],$h(f,Vu,Wu,Qu,rc))}clampPoint(a,f){return f.copy(a).clamp(this.min,this.max)}distanceToPoint(a){return kc.copy(a).clamp(this.min,this.max).sub(a).length()}getBoundingSphere(a){return this.getCenter(a.center),a.radius=this.getSize(kc).length()*.5,a}intersect(a){return this.min.max(a.min),this.max.min(a.max),this.isEmpty()&&this.makeEmpty(),this}union(a){return this.min.min(a.min),this.max.max(a.max),this}applyMatrix4(a){return this.isEmpty()?this:(ml[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(a),ml[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(a),ml[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(a),ml[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(a),ml[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(a),ml[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(a),ml[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(a),ml[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(a),this.setFromPoints(ml),this)}translate(a){return this.min.add(a),this.max.add(a),this}equals(a){return a.min.equals(this.min)&&a.max.equals(this.max)}}const ml=[new dt,new dt,new dt,new dt,new dt,new dt,new dt,new dt],kc=new dt,Ng=new Nc,Vu=new dt,Wu=new dt,Qu=new dt,tc=new dt,nc=new dt,Fc=new dt,Ku=new dt,rc=new dt,cf=new dt,Yi=new dt;function $h($,a,f,x,S){for(let I=0,k=$.length-3;I<=k;I+=3){Yi.fromArray($,I);const U=S.x*Math.abs(Yi.x)+S.y*Math.abs(Yi.y)+S.z*Math.abs(Yi.z),W=a.dot(Yi),K=f.dot(Yi),q=x.dot(Yi);if(Math.max(-Math.max(W,K,q),Math.min(W,K,q))>U)return!1}return!0}const vy=new Nc,ic=new dt,kg=new dt;class gl{constructor(a=new dt,f=-1){this.center=a,this.radius=f}set(a,f){return this.center.copy(a),this.radius=f,this}setFromPoints(a,f){const x=this.center;f!==void 0?x.copy(f):vy.setFromPoints(a).getCenter(x);let S=0;for(let I=0,k=a.length;I<k;I++)S=Math.max(S,x.distanceToSquared(a[I]));return this.radius=Math.sqrt(S),this}copy(a){return this.center.copy(a.center),this.radius=a.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(a){return a.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(a){return a.distanceTo(this.center)-this.radius}intersectsSphere(a){const f=this.radius+a.radius;return a.center.distanceToSquared(this.center)<=f*f}intersectsBox(a){return a.intersectsSphere(this)}intersectsPlane(a){return Math.abs(a.distanceToPoint(this.center))<=this.radius}clampPoint(a,f){const x=this.center.distanceToSquared(a);return f.copy(a),x>this.radius*this.radius&&(f.sub(this.center).normalize(),f.multiplyScalar(this.radius).add(this.center)),f}getBoundingBox(a){return this.isEmpty()?(a.makeEmpty(),a):(a.set(this.center,this.center),a.expandByScalar(this.radius),a)}applyMatrix4(a){return this.center.applyMatrix4(a),this.radius=this.radius*a.getMaxScaleOnAxis(),this}translate(a){return this.center.add(a),this}expandByPoint(a){if(this.isEmpty())return this.center.copy(a),this.radius=0,this;ic.subVectors(a,this.center);const f=ic.lengthSq();if(f>this.radius*this.radius){const x=Math.sqrt(f),S=(x-this.radius)*.5;this.center.addScaledVector(ic,S/x),this.radius+=S}return this}union(a){return a.isEmpty()?this:this.isEmpty()?(this.copy(a),this):(this.center.equals(a.center)===!0?this.radius=Math.max(this.radius,a.radius):(kg.subVectors(a.center,this.center).setLength(a.radius),this.expandByPoint(ic.copy(a.center).add(kg)),this.expandByPoint(ic.copy(a.center).sub(kg))),this)}equals(a){return a.center.equals(this.center)&&a.radius===this.radius}clone(){return new this.constructor().copy(this)}}const vl=new dt,Fg=new dt,Ar=new dt,Gr=new dt,hi=new dt,So=new dt,yi=new dt;class Na{constructor(a=new dt,f=new dt(0,0,-1)){this.origin=a,this.direction=f}set(a,f){return this.origin.copy(a),this.direction.copy(f),this}copy(a){return this.origin.copy(a.origin),this.direction.copy(a.direction),this}at(a,f){return f.copy(this.direction).multiplyScalar(a).add(this.origin)}lookAt(a){return this.direction.copy(a).sub(this.origin).normalize(),this}recast(a){return this.origin.copy(this.at(a,vl)),this}closestPointToPoint(a,f){f.subVectors(a,this.origin);const x=f.dot(this.direction);return x<0?f.copy(this.origin):f.copy(this.direction).multiplyScalar(x).add(this.origin)}distanceToPoint(a){return Math.sqrt(this.distanceSqToPoint(a))}distanceSqToPoint(a){const f=vl.subVectors(a,this.origin).dot(this.direction);return f<0?this.origin.distanceToSquared(a):(vl.copy(this.direction).multiplyScalar(f).add(this.origin),vl.distanceToSquared(a))}distanceSqToSegment(a,f,x,S){Fg.copy(a).add(f).multiplyScalar(.5),Ar.copy(f).sub(a).normalize(),Gr.copy(this.origin).sub(Fg);const I=a.distanceTo(f)*.5,k=-this.direction.dot(Ar),U=Gr.dot(this.direction),W=-Gr.dot(Ar),K=Gr.lengthSq(),q=Math.abs(1-k*k);let ee,te,ie,de;if(q>0)if(ee=k*W-U,te=k*U-W,de=I*q,ee>=0)if(te>=-de)if(te<=de){const le=1/q;ee*=le,te*=le,ie=ee*(ee+k*te+2*U)+te*(k*ee+te+2*W)+K}else te=I,ee=Math.max(0,-(k*te+U)),ie=-ee*ee+te*(te+2*W)+K;else te=-I,ee=Math.max(0,-(k*te+U)),ie=-ee*ee+te*(te+2*W)+K;else te<=-de?(ee=Math.max(0,-(-k*I+U)),te=ee>0?-I:Math.min(Math.max(-I,-W),I),ie=-ee*ee+te*(te+2*W)+K):te<=de?(ee=0,te=Math.min(Math.max(-I,-W),I),ie=te*(te+2*W)+K):(ee=Math.max(0,-(k*I+U)),te=ee>0?I:Math.min(Math.max(-I,-W),I),ie=-ee*ee+te*(te+2*W)+K);else te=k>0?-I:I,ee=Math.max(0,-(k*te+U)),ie=-ee*ee+te*(te+2*W)+K;return x&&x.copy(this.direction).multiplyScalar(ee).add(this.origin),S&&S.copy(Ar).multiplyScalar(te).add(Fg),ie}intersectSphere(a,f){vl.subVectors(a.center,this.origin);const x=vl.dot(this.direction),S=vl.dot(vl)-x*x,I=a.radius*a.radius;if(S>I)return null;const k=Math.sqrt(I-S),U=x-k,W=x+k;return U<0&&W<0?null:U<0?this.at(W,f):this.at(U,f)}intersectsSphere(a){return this.distanceSqToPoint(a.center)<=a.radius*a.radius}distanceToPlane(a){const f=a.normal.dot(this.direction);if(f===0)return a.distanceToPoint(this.origin)===0?0:null;const x=-(this.origin.dot(a.normal)+a.constant)/f;return x>=0?x:null}intersectPlane(a,f){const x=this.distanceToPlane(a);return x===null?null:this.at(x,f)}intersectsPlane(a){const f=a.distanceToPoint(this.origin);return f===0||a.normal.dot(this.direction)*f<0}intersectBox(a,f){let x,S,I,k,U,W;const K=1/this.direction.x,q=1/this.direction.y,ee=1/this.direction.z,te=this.origin;return K>=0?(x=(a.min.x-te.x)*K,S=(a.max.x-te.x)*K):(x=(a.max.x-te.x)*K,S=(a.min.x-te.x)*K),q>=0?(I=(a.min.y-te.y)*q,k=(a.max.y-te.y)*q):(I=(a.max.y-te.y)*q,k=(a.min.y-te.y)*q),x>k||I>S||((I>x||isNaN(x))&&(x=I),(k<S||isNaN(S))&&(S=k),ee>=0?(U=(a.min.z-te.z)*ee,W=(a.max.z-te.z)*ee):(U=(a.max.z-te.z)*ee,W=(a.min.z-te.z)*ee),x>W||U>S)||((U>x||x!==x)&&(x=U),(W<S||S!==S)&&(S=W),S<0)?null:this.at(x>=0?x:S,f)}intersectsBox(a){return this.intersectBox(a,vl)!==null}intersectTriangle(a,f,x,S,I){hi.subVectors(f,a),So.subVectors(x,a),yi.crossVectors(hi,So);let k=this.direction.dot(yi),U;if(k>0){if(S)return null;U=1}else if(k<0)U=-1,k=-k;else return null;Gr.subVectors(this.origin,a);const W=U*this.direction.dot(So.crossVectors(Gr,So));if(W<0)return null;const K=U*this.direction.dot(hi.cross(Gr));if(K<0||W+K>k)return null;const q=-U*Gr.dot(yi);return q<0?null:this.at(q/k,I)}applyMatrix4(a){return this.origin.applyMatrix4(a),this.direction.transformDirection(a),this}equals(a){return a.origin.equals(this.origin)&&a.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class _r{constructor(){_r.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(a,f,x,S,I,k,U,W,K,q,ee,te,ie,de,le,ae){const Ie=this.elements;return Ie[0]=a,Ie[4]=f,Ie[8]=x,Ie[12]=S,Ie[1]=I,Ie[5]=k,Ie[9]=U,Ie[13]=W,Ie[2]=K,Ie[6]=q,Ie[10]=ee,Ie[14]=te,Ie[3]=ie,Ie[7]=de,Ie[11]=le,Ie[15]=ae,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new _r().fromArray(this.elements)}copy(a){const f=this.elements,x=a.elements;return f[0]=x[0],f[1]=x[1],f[2]=x[2],f[3]=x[3],f[4]=x[4],f[5]=x[5],f[6]=x[6],f[7]=x[7],f[8]=x[8],f[9]=x[9],f[10]=x[10],f[11]=x[11],f[12]=x[12],f[13]=x[13],f[14]=x[14],f[15]=x[15],this}copyPosition(a){const f=this.elements,x=a.elements;return f[12]=x[12],f[13]=x[13],f[14]=x[14],this}setFromMatrix3(a){const f=a.elements;return this.set(f[0],f[3],f[6],0,f[1],f[4],f[7],0,f[2],f[5],f[8],0,0,0,0,1),this}extractBasis(a,f,x){return a.setFromMatrixColumn(this,0),f.setFromMatrixColumn(this,1),x.setFromMatrixColumn(this,2),this}makeBasis(a,f,x){return this.set(a.x,f.x,x.x,0,a.y,f.y,x.y,0,a.z,f.z,x.z,0,0,0,0,1),this}extractRotation(a){const f=this.elements,x=a.elements,S=1/rs.setFromMatrixColumn(a,0).length(),I=1/rs.setFromMatrixColumn(a,1).length(),k=1/rs.setFromMatrixColumn(a,2).length();return f[0]=x[0]*S,f[1]=x[1]*S,f[2]=x[2]*S,f[3]=0,f[4]=x[4]*I,f[5]=x[5]*I,f[6]=x[6]*I,f[7]=0,f[8]=x[8]*k,f[9]=x[9]*k,f[10]=x[10]*k,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,this}makeRotationFromEuler(a){const f=this.elements,x=a.x,S=a.y,I=a.z,k=Math.cos(x),U=Math.sin(x),W=Math.cos(S),K=Math.sin(S),q=Math.cos(I),ee=Math.sin(I);if(a.order==="XYZ"){const te=k*q,ie=k*ee,de=U*q,le=U*ee;f[0]=W*q,f[4]=-W*ee,f[8]=K,f[1]=ie+de*K,f[5]=te-le*K,f[9]=-U*W,f[2]=le-te*K,f[6]=de+ie*K,f[10]=k*W}else if(a.order==="YXZ"){const te=W*q,ie=W*ee,de=K*q,le=K*ee;f[0]=te+le*U,f[4]=de*U-ie,f[8]=k*K,f[1]=k*ee,f[5]=k*q,f[9]=-U,f[2]=ie*U-de,f[6]=le+te*U,f[10]=k*W}else if(a.order==="ZXY"){const te=W*q,ie=W*ee,de=K*q,le=K*ee;f[0]=te-le*U,f[4]=-k*ee,f[8]=de+ie*U,f[1]=ie+de*U,f[5]=k*q,f[9]=le-te*U,f[2]=-k*K,f[6]=U,f[10]=k*W}else if(a.order==="ZYX"){const te=k*q,ie=k*ee,de=U*q,le=U*ee;f[0]=W*q,f[4]=de*K-ie,f[8]=te*K+le,f[1]=W*ee,f[5]=le*K+te,f[9]=ie*K-de,f[2]=-K,f[6]=U*W,f[10]=k*W}else if(a.order==="YZX"){const te=k*W,ie=k*K,de=U*W,le=U*K;f[0]=W*q,f[4]=le-te*ee,f[8]=de*ee+ie,f[1]=ee,f[5]=k*q,f[9]=-U*q,f[2]=-K*q,f[6]=ie*ee+de,f[10]=te-le*ee}else if(a.order==="XZY"){const te=k*W,ie=k*K,de=U*W,le=U*K;f[0]=W*q,f[4]=-ee,f[8]=K*q,f[1]=te*ee+le,f[5]=k*q,f[9]=ie*ee-de,f[2]=de*ee-ie,f[6]=U*q,f[10]=le*ee+te}return f[3]=0,f[7]=0,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,this}makeRotationFromQuaternion(a){return this.compose(Hh,a,uf)}lookAt(a,f,x){const S=this.elements;return Xr.subVectors(a,f),Xr.lengthSq()===0&&(Xr.z=1),Xr.normalize(),xa.crossVectors(x,Xr),xa.lengthSq()===0&&(Math.abs(x.z)===1?Xr.x+=1e-4:Xr.z+=1e-4,Xr.normalize(),xa.crossVectors(x,Xr)),xa.normalize(),Ea.crossVectors(Xr,xa),S[0]=xa.x,S[4]=Ea.x,S[8]=Xr.x,S[1]=xa.y,S[5]=Ea.y,S[9]=Xr.y,S[2]=xa.z,S[6]=Ea.z,S[10]=Xr.z,this}multiply(a){return this.multiplyMatrices(this,a)}premultiply(a){return this.multiplyMatrices(a,this)}multiplyMatrices(a,f){const x=a.elements,S=f.elements,I=this.elements,k=x[0],U=x[4],W=x[8],K=x[12],q=x[1],ee=x[5],te=x[9],ie=x[13],de=x[2],le=x[6],ae=x[10],Ie=x[14],He=x[3],Ne=x[7],ze=x[11],Xe=x[15],pt=S[0],Pt=S[4],Ge=S[8],vt=S[12],_t=S[1],Gt=S[5],an=S[9],Qt=S[13],$t=S[2],nn=S[6],Rn=S[10],On=S[14],Tn=S[3],Qn=S[7],zn=S[11],Cr=S[15];return I[0]=k*pt+U*_t+W*$t+K*Tn,I[4]=k*Pt+U*Gt+W*nn+K*Qn,I[8]=k*Ge+U*an+W*Rn+K*zn,I[12]=k*vt+U*Qt+W*On+K*Cr,I[1]=q*pt+ee*_t+te*$t+ie*Tn,I[5]=q*Pt+ee*Gt+te*nn+ie*Qn,I[9]=q*Ge+ee*an+te*Rn+ie*zn,I[13]=q*vt+ee*Qt+te*On+ie*Cr,I[2]=de*pt+le*_t+ae*$t+Ie*Tn,I[6]=de*Pt+le*Gt+ae*nn+Ie*Qn,I[10]=de*Ge+le*an+ae*Rn+Ie*zn,I[14]=de*vt+le*Qt+ae*On+Ie*Cr,I[3]=He*pt+Ne*_t+ze*$t+Xe*Tn,I[7]=He*Pt+Ne*Gt+ze*nn+Xe*Qn,I[11]=He*Ge+Ne*an+ze*Rn+Xe*zn,I[15]=He*vt+Ne*Qt+ze*On+Xe*Cr,this}multiplyScalar(a){const f=this.elements;return f[0]*=a,f[4]*=a,f[8]*=a,f[12]*=a,f[1]*=a,f[5]*=a,f[9]*=a,f[13]*=a,f[2]*=a,f[6]*=a,f[10]*=a,f[14]*=a,f[3]*=a,f[7]*=a,f[11]*=a,f[15]*=a,this}determinant(){const a=this.elements,f=a[0],x=a[4],S=a[8],I=a[12],k=a[1],U=a[5],W=a[9],K=a[13],q=a[2],ee=a[6],te=a[10],ie=a[14],de=a[3],le=a[7],ae=a[11],Ie=a[15];return de*(+I*W*ee-S*K*ee-I*U*te+x*K*te+S*U*ie-x*W*ie)+le*(+f*W*ie-f*K*te+I*k*te-S*k*ie+S*K*q-I*W*q)+ae*(+f*K*ee-f*U*ie-I*k*ee+x*k*ie+I*U*q-x*K*q)+Ie*(-S*U*q-f*W*ee+f*U*te+S*k*ee-x*k*te+x*W*q)}transpose(){const a=this.elements;let f;return f=a[1],a[1]=a[4],a[4]=f,f=a[2],a[2]=a[8],a[8]=f,f=a[6],a[6]=a[9],a[9]=f,f=a[3],a[3]=a[12],a[12]=f,f=a[7],a[7]=a[13],a[13]=f,f=a[11],a[11]=a[14],a[14]=f,this}setPosition(a,f,x){const S=this.elements;return a.isVector3?(S[12]=a.x,S[13]=a.y,S[14]=a.z):(S[12]=a,S[13]=f,S[14]=x),this}invert(){const a=this.elements,f=a[0],x=a[1],S=a[2],I=a[3],k=a[4],U=a[5],W=a[6],K=a[7],q=a[8],ee=a[9],te=a[10],ie=a[11],de=a[12],le=a[13],ae=a[14],Ie=a[15],He=ee*ae*K-le*te*K+le*W*ie-U*ae*ie-ee*W*Ie+U*te*Ie,Ne=de*te*K-q*ae*K-de*W*ie+k*ae*ie+q*W*Ie-k*te*Ie,ze=q*le*K-de*ee*K+de*U*ie-k*le*ie-q*U*Ie+k*ee*Ie,Xe=de*ee*W-q*le*W-de*U*te+k*le*te+q*U*ae-k*ee*ae,pt=f*He+x*Ne+S*ze+I*Xe;if(pt===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Pt=1/pt;return a[0]=He*Pt,a[1]=(le*te*I-ee*ae*I-le*S*ie+x*ae*ie+ee*S*Ie-x*te*Ie)*Pt,a[2]=(U*ae*I-le*W*I+le*S*K-x*ae*K-U*S*Ie+x*W*Ie)*Pt,a[3]=(ee*W*I-U*te*I-ee*S*K+x*te*K+U*S*ie-x*W*ie)*Pt,a[4]=Ne*Pt,a[5]=(q*ae*I-de*te*I+de*S*ie-f*ae*ie-q*S*Ie+f*te*Ie)*Pt,a[6]=(de*W*I-k*ae*I-de*S*K+f*ae*K+k*S*Ie-f*W*Ie)*Pt,a[7]=(k*te*I-q*W*I+q*S*K-f*te*K-k*S*ie+f*W*ie)*Pt,a[8]=ze*Pt,a[9]=(de*ee*I-q*le*I-de*x*ie+f*le*ie+q*x*Ie-f*ee*Ie)*Pt,a[10]=(k*le*I-de*U*I+de*x*K-f*le*K-k*x*Ie+f*U*Ie)*Pt,a[11]=(q*U*I-k*ee*I-q*x*K+f*ee*K+k*x*ie-f*U*ie)*Pt,a[12]=Xe*Pt,a[13]=(q*le*S-de*ee*S+de*x*te-f*le*te-q*x*ae+f*ee*ae)*Pt,a[14]=(de*U*S-k*le*S-de*x*W+f*le*W+k*x*ae-f*U*ae)*Pt,a[15]=(k*ee*S-q*U*S+q*x*W-f*ee*W-k*x*te+f*U*te)*Pt,this}scale(a){const f=this.elements,x=a.x,S=a.y,I=a.z;return f[0]*=x,f[4]*=S,f[8]*=I,f[1]*=x,f[5]*=S,f[9]*=I,f[2]*=x,f[6]*=S,f[10]*=I,f[3]*=x,f[7]*=S,f[11]*=I,this}getMaxScaleOnAxis(){const a=this.elements,f=a[0]*a[0]+a[1]*a[1]+a[2]*a[2],x=a[4]*a[4]+a[5]*a[5]+a[6]*a[6],S=a[8]*a[8]+a[9]*a[9]+a[10]*a[10];return Math.sqrt(Math.max(f,x,S))}makeTranslation(a,f,x){return this.set(1,0,0,a,0,1,0,f,0,0,1,x,0,0,0,1),this}makeRotationX(a){const f=Math.cos(a),x=Math.sin(a);return this.set(1,0,0,0,0,f,-x,0,0,x,f,0,0,0,0,1),this}makeRotationY(a){const f=Math.cos(a),x=Math.sin(a);return this.set(f,0,x,0,0,1,0,0,-x,0,f,0,0,0,0,1),this}makeRotationZ(a){const f=Math.cos(a),x=Math.sin(a);return this.set(f,-x,0,0,x,f,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(a,f){const x=Math.cos(f),S=Math.sin(f),I=1-x,k=a.x,U=a.y,W=a.z,K=I*k,q=I*U;return this.set(K*k+x,K*U-S*W,K*W+S*U,0,K*U+S*W,q*U+x,q*W-S*k,0,K*W-S*U,q*W+S*k,I*W*W+x,0,0,0,0,1),this}makeScale(a,f,x){return this.set(a,0,0,0,0,f,0,0,0,0,x,0,0,0,0,1),this}makeShear(a,f,x,S,I,k){return this.set(1,x,I,0,a,1,k,0,f,S,1,0,0,0,0,1),this}compose(a,f,x){const S=this.elements,I=f._x,k=f._y,U=f._z,W=f._w,K=I+I,q=k+k,ee=U+U,te=I*K,ie=I*q,de=I*ee,le=k*q,ae=k*ee,Ie=U*ee,He=W*K,Ne=W*q,ze=W*ee,Xe=x.x,pt=x.y,Pt=x.z;return S[0]=(1-(le+Ie))*Xe,S[1]=(ie+ze)*Xe,S[2]=(de-Ne)*Xe,S[3]=0,S[4]=(ie-ze)*pt,S[5]=(1-(te+Ie))*pt,S[6]=(ae+He)*pt,S[7]=0,S[8]=(de+Ne)*Pt,S[9]=(ae-He)*Pt,S[10]=(1-(te+le))*Pt,S[11]=0,S[12]=a.x,S[13]=a.y,S[14]=a.z,S[15]=1,this}decompose(a,f,x){const S=this.elements;let I=rs.set(S[0],S[1],S[2]).length();const k=rs.set(S[4],S[5],S[6]).length(),U=rs.set(S[8],S[9],S[10]).length();this.determinant()<0&&(I=-I),a.x=S[12],a.y=S[13],a.z=S[14],si.copy(this);const K=1/I,q=1/k,ee=1/U;return si.elements[0]*=K,si.elements[1]*=K,si.elements[2]*=K,si.elements[4]*=q,si.elements[5]*=q,si.elements[6]*=q,si.elements[8]*=ee,si.elements[9]*=ee,si.elements[10]*=ee,f.setFromRotationMatrix(si),x.x=I,x.y=k,x.z=U,this}makePerspective(a,f,x,S,I,k){const U=this.elements,W=2*I/(f-a),K=2*I/(x-S),q=(f+a)/(f-a),ee=(x+S)/(x-S),te=-(k+I)/(k-I),ie=-2*k*I/(k-I);return U[0]=W,U[4]=0,U[8]=q,U[12]=0,U[1]=0,U[5]=K,U[9]=ee,U[13]=0,U[2]=0,U[6]=0,U[10]=te,U[14]=ie,U[3]=0,U[7]=0,U[11]=-1,U[15]=0,this}makeOrthographic(a,f,x,S,I,k){const U=this.elements,W=1/(f-a),K=1/(x-S),q=1/(k-I),ee=(f+a)*W,te=(x+S)*K,ie=(k+I)*q;return U[0]=2*W,U[4]=0,U[8]=0,U[12]=-ee,U[1]=0,U[5]=2*K,U[9]=0,U[13]=-te,U[2]=0,U[6]=0,U[10]=-2*q,U[14]=-ie,U[3]=0,U[7]=0,U[11]=0,U[15]=1,this}equals(a){const f=this.elements,x=a.elements;for(let S=0;S<16;S++)if(f[S]!==x[S])return!1;return!0}fromArray(a,f=0){for(let x=0;x<16;x++)this.elements[x]=a[x+f];return this}toArray(a=[],f=0){const x=this.elements;return a[f]=x[0],a[f+1]=x[1],a[f+2]=x[2],a[f+3]=x[3],a[f+4]=x[4],a[f+5]=x[5],a[f+6]=x[6],a[f+7]=x[7],a[f+8]=x[8],a[f+9]=x[9],a[f+10]=x[10],a[f+11]=x[11],a[f+12]=x[12],a[f+13]=x[13],a[f+14]=x[14],a[f+15]=x[15],a}}const rs=new dt,si=new _r,Hh=new dt(0,0,0),uf=new dt(1,1,1),xa=new dt,Ea=new dt,Xr=new dt,Al=new _r,df=new fa;class ha{constructor(a=0,f=0,x=0,S=ha.DefaultOrder){this.isEuler=!0,this._x=a,this._y=f,this._z=x,this._order=S}get x(){return this._x}set x(a){this._x=a,this._onChangeCallback()}get y(){return this._y}set y(a){this._y=a,this._onChangeCallback()}get z(){return this._z}set z(a){this._z=a,this._onChangeCallback()}get order(){return this._order}set order(a){this._order=a,this._onChangeCallback()}set(a,f,x,S=this._order){return this._x=a,this._y=f,this._z=x,this._order=S,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(a){return this._x=a._x,this._y=a._y,this._z=a._z,this._order=a._order,this._onChangeCallback(),this}setFromRotationMatrix(a,f=this._order,x=!0){const S=a.elements,I=S[0],k=S[4],U=S[8],W=S[1],K=S[5],q=S[9],ee=S[2],te=S[6],ie=S[10];switch(f){case"XYZ":this._y=Math.asin(fo(U,-1,1)),Math.abs(U)<.9999999?(this._x=Math.atan2(-q,ie),this._z=Math.atan2(-k,I)):(this._x=Math.atan2(te,K),this._z=0);break;case"YXZ":this._x=Math.asin(-fo(q,-1,1)),Math.abs(q)<.9999999?(this._y=Math.atan2(U,ie),this._z=Math.atan2(W,K)):(this._y=Math.atan2(-ee,I),this._z=0);break;case"ZXY":this._x=Math.asin(fo(te,-1,1)),Math.abs(te)<.9999999?(this._y=Math.atan2(-ee,ie),this._z=Math.atan2(-k,K)):(this._y=0,this._z=Math.atan2(W,I));break;case"ZYX":this._y=Math.asin(-fo(ee,-1,1)),Math.abs(ee)<.9999999?(this._x=Math.atan2(te,ie),this._z=Math.atan2(W,I)):(this._x=0,this._z=Math.atan2(-k,K));break;case"YZX":this._z=Math.asin(fo(W,-1,1)),Math.abs(W)<.9999999?(this._x=Math.atan2(-q,K),this._y=Math.atan2(-ee,I)):(this._x=0,this._y=Math.atan2(U,ie));break;case"XZY":this._z=Math.asin(-fo(k,-1,1)),Math.abs(k)<.9999999?(this._x=Math.atan2(te,K),this._y=Math.atan2(U,I)):(this._x=Math.atan2(-q,ie),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+f)}return this._order=f,x===!0&&this._onChangeCallback(),this}setFromQuaternion(a,f,x){return Al.makeRotationFromQuaternion(a),this.setFromRotationMatrix(Al,f,x)}setFromVector3(a,f=this._order){return this.set(a.x,a.y,a.z,f)}reorder(a){return df.setFromEuler(this),this.setFromQuaternion(df,a)}equals(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._order===this._order}fromArray(a){return this._x=a[0],this._y=a[1],this._z=a[2],a[3]!==void 0&&(this._order=a[3]),this._onChangeCallback(),this}toArray(a=[],f=0){return a[f]=this._x,a[f+1]=this._y,a[f+2]=this._z,a[f+3]=this._order,a}_onChange(a){return this._onChangeCallback=a,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}ha.DefaultOrder="XYZ",ha.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class _i{constructor(){this.mask=1}set(a){this.mask=(1<<a|0)>>>0}enable(a){this.mask|=1<<a|0}enableAll(){this.mask=-1}toggle(a){this.mask^=1<<a|0}disable(a){this.mask&=~(1<<a|0)}disableAll(){this.mask=0}test(a){return(this.mask&a.mask)!==0}isEnabled(a){return(this.mask&(1<<a|0))!==0}}let Xi=0;const li=new dt,Mi=new fa,_o=new _r,yl=new dt,Uc=new dt,Ay=new dt,yy=new fa,Ug=new dt(1,0,0),zg=new dt(0,1,0),by=new dt(0,0,1),Uw={type:"added"},xy={type:"removed"};class bi extends Oa{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Xi++}),this.uuid=Da(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=bi.DefaultUp.clone();const a=new dt,f=new ha,x=new fa,S=new dt(1,1,1);function I(){x.setFromEuler(f,!1)}function k(){f.setFromQuaternion(x,void 0,!1)}f._onChange(I),x._onChange(k),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:a},rotation:{configurable:!0,enumerable:!0,value:f},quaternion:{configurable:!0,enumerable:!0,value:x},scale:{configurable:!0,enumerable:!0,value:S},modelViewMatrix:{value:new _r},normalMatrix:{value:new da}}),this.matrix=new _r,this.matrixWorld=new _r,this.matrixAutoUpdate=bi.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=bi.DefaultMatrixWorldAutoUpdate,this.layers=new _i,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(a){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(a),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(a){return this.quaternion.premultiply(a),this}setRotationFromAxisAngle(a,f){this.quaternion.setFromAxisAngle(a,f)}setRotationFromEuler(a){this.quaternion.setFromEuler(a,!0)}setRotationFromMatrix(a){this.quaternion.setFromRotationMatrix(a)}setRotationFromQuaternion(a){this.quaternion.copy(a)}rotateOnAxis(a,f){return Mi.setFromAxisAngle(a,f),this.quaternion.multiply(Mi),this}rotateOnWorldAxis(a,f){return Mi.setFromAxisAngle(a,f),this.quaternion.premultiply(Mi),this}rotateX(a){return this.rotateOnAxis(Ug,a)}rotateY(a){return this.rotateOnAxis(zg,a)}rotateZ(a){return this.rotateOnAxis(by,a)}translateOnAxis(a,f){return li.copy(a).applyQuaternion(this.quaternion),this.position.add(li.multiplyScalar(f)),this}translateX(a){return this.translateOnAxis(Ug,a)}translateY(a){return this.translateOnAxis(zg,a)}translateZ(a){return this.translateOnAxis(by,a)}localToWorld(a){return a.applyMatrix4(this.matrixWorld)}worldToLocal(a){return a.applyMatrix4(_o.copy(this.matrixWorld).invert())}lookAt(a,f,x){a.isVector3?yl.copy(a):yl.set(a,f,x);const S=this.parent;this.updateWorldMatrix(!0,!1),Uc.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_o.lookAt(Uc,yl,this.up):_o.lookAt(yl,Uc,this.up),this.quaternion.setFromRotationMatrix(_o),S&&(_o.extractRotation(S.matrixWorld),Mi.setFromRotationMatrix(_o),this.quaternion.premultiply(Mi.invert()))}add(a){if(arguments.length>1){for(let f=0;f<arguments.length;f++)this.add(arguments[f]);return this}return a===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",a),this):(a&&a.isObject3D?(a.parent!==null&&a.parent.remove(a),a.parent=this,this.children.push(a),a.dispatchEvent(Uw)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",a),this)}remove(a){if(arguments.length>1){for(let x=0;x<arguments.length;x++)this.remove(arguments[x]);return this}const f=this.children.indexOf(a);return f!==-1&&(a.parent=null,this.children.splice(f,1),a.dispatchEvent(xy)),this}removeFromParent(){const a=this.parent;return a!==null&&a.remove(this),this}clear(){for(let a=0;a<this.children.length;a++){const f=this.children[a];f.parent=null,f.dispatchEvent(xy)}return this.children.length=0,this}attach(a){return this.updateWorldMatrix(!0,!1),_o.copy(this.matrixWorld).invert(),a.parent!==null&&(a.parent.updateWorldMatrix(!0,!1),_o.multiply(a.parent.matrixWorld)),a.applyMatrix4(_o),this.add(a),a.updateWorldMatrix(!1,!0),this}getObjectById(a){return this.getObjectByProperty("id",a)}getObjectByName(a){return this.getObjectByProperty("name",a)}getObjectByProperty(a,f){if(this[a]===f)return this;for(let x=0,S=this.children.length;x<S;x++){const k=this.children[x].getObjectByProperty(a,f);if(k!==void 0)return k}}getWorldPosition(a){return this.updateWorldMatrix(!0,!1),a.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(a){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Uc,a,Ay),a}getWorldScale(a){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Uc,yy,a),a}getWorldDirection(a){this.updateWorldMatrix(!0,!1);const f=this.matrixWorld.elements;return a.set(f[8],f[9],f[10]).normalize()}raycast(){}traverse(a){a(this);const f=this.children;for(let x=0,S=f.length;x<S;x++)f[x].traverse(a)}traverseVisible(a){if(this.visible===!1)return;a(this);const f=this.children;for(let x=0,S=f.length;x<S;x++)f[x].traverseVisible(a)}traverseAncestors(a){const f=this.parent;f!==null&&(a(f),f.traverseAncestors(a))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(a){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||a)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,a=!0);const f=this.children;for(let x=0,S=f.length;x<S;x++){const I=f[x];(I.matrixWorldAutoUpdate===!0||a===!0)&&I.updateMatrixWorld(a)}}updateWorldMatrix(a,f){const x=this.parent;if(a===!0&&x!==null&&x.matrixWorldAutoUpdate===!0&&x.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),f===!0){const S=this.children;for(let I=0,k=S.length;I<k;I++){const U=S[I];U.matrixWorldAutoUpdate===!0&&U.updateWorldMatrix(!1,!0)}}}toJSON(a){const f=a===void 0||typeof a=="string",x={};f&&(a={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},x.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const S={};S.uuid=this.uuid,S.type=this.type,this.name!==""&&(S.name=this.name),this.castShadow===!0&&(S.castShadow=!0),this.receiveShadow===!0&&(S.receiveShadow=!0),this.visible===!1&&(S.visible=!1),this.frustumCulled===!1&&(S.frustumCulled=!1),this.renderOrder!==0&&(S.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(S.userData=this.userData),S.layers=this.layers.mask,S.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(S.matrixAutoUpdate=!1),this.isInstancedMesh&&(S.type="InstancedMesh",S.count=this.count,S.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(S.instanceColor=this.instanceColor.toJSON()));function I(U,W){return U[W.uuid]===void 0&&(U[W.uuid]=W.toJSON(a)),W.uuid}if(this.isScene)this.background&&(this.background.isColor?S.background=this.background.toJSON():this.background.isTexture&&(S.background=this.background.toJSON(a).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(S.environment=this.environment.toJSON(a).uuid);else if(this.isMesh||this.isLine||this.isPoints){S.geometry=I(a.geometries,this.geometry);const U=this.geometry.parameters;if(U!==void 0&&U.shapes!==void 0){const W=U.shapes;if(Array.isArray(W))for(let K=0,q=W.length;K<q;K++){const ee=W[K];I(a.shapes,ee)}else I(a.shapes,W)}}if(this.isSkinnedMesh&&(S.bindMode=this.bindMode,S.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(I(a.skeletons,this.skeleton),S.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const U=[];for(let W=0,K=this.material.length;W<K;W++)U.push(I(a.materials,this.material[W]));S.material=U}else S.material=I(a.materials,this.material);if(this.children.length>0){S.children=[];for(let U=0;U<this.children.length;U++)S.children.push(this.children[U].toJSON(a).object)}if(this.animations.length>0){S.animations=[];for(let U=0;U<this.animations.length;U++){const W=this.animations[U];S.animations.push(I(a.animations,W))}}if(f){const U=k(a.geometries),W=k(a.materials),K=k(a.textures),q=k(a.images),ee=k(a.shapes),te=k(a.skeletons),ie=k(a.animations),de=k(a.nodes);U.length>0&&(x.geometries=U),W.length>0&&(x.materials=W),K.length>0&&(x.textures=K),q.length>0&&(x.images=q),ee.length>0&&(x.shapes=ee),te.length>0&&(x.skeletons=te),ie.length>0&&(x.animations=ie),de.length>0&&(x.nodes=de)}return x.object=S,x;function k(U){const W=[];for(const K in U){const q=U[K];delete q.metadata,W.push(q)}return W}}clone(a){return new this.constructor().copy(this,a)}copy(a,f=!0){if(this.name=a.name,this.up.copy(a.up),this.position.copy(a.position),this.rotation.order=a.rotation.order,this.quaternion.copy(a.quaternion),this.scale.copy(a.scale),this.matrix.copy(a.matrix),this.matrixWorld.copy(a.matrixWorld),this.matrixAutoUpdate=a.matrixAutoUpdate,this.matrixWorldNeedsUpdate=a.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=a.matrixWorldAutoUpdate,this.layers.mask=a.layers.mask,this.visible=a.visible,this.castShadow=a.castShadow,this.receiveShadow=a.receiveShadow,this.frustumCulled=a.frustumCulled,this.renderOrder=a.renderOrder,this.userData=JSON.parse(JSON.stringify(a.userData)),f===!0)for(let x=0;x<a.children.length;x++){const S=a.children[x];this.add(S.clone())}return this}}bi.DefaultUp=new dt(0,1,0),bi.DefaultMatrixAutoUpdate=!0,bi.DefaultMatrixWorldAutoUpdate=!0;const gs=new dt,Ao=new dt,vs=new dt,Hs=new dt,zc=new dt,jh=new dt,jL=new dt,zw=new dt,$w=new dt,Hw=new dt;class js{constructor(a=new dt,f=new dt,x=new dt){this.a=a,this.b=f,this.c=x}static getNormal(a,f,x,S){S.subVectors(x,f),gs.subVectors(a,f),S.cross(gs);const I=S.lengthSq();return I>0?S.multiplyScalar(1/Math.sqrt(I)):S.set(0,0,0)}static getBarycoord(a,f,x,S,I){gs.subVectors(S,f),Ao.subVectors(x,f),vs.subVectors(a,f);const k=gs.dot(gs),U=gs.dot(Ao),W=gs.dot(vs),K=Ao.dot(Ao),q=Ao.dot(vs),ee=k*K-U*U;if(ee===0)return I.set(-2,-1,-1);const te=1/ee,ie=(K*W-U*q)*te,de=(k*q-U*W)*te;return I.set(1-ie-de,de,ie)}static containsPoint(a,f,x,S){return this.getBarycoord(a,f,x,S,Hs),Hs.x>=0&&Hs.y>=0&&Hs.x+Hs.y<=1}static getUV(a,f,x,S,I,k,U,W){return this.getBarycoord(a,f,x,S,Hs),W.set(0,0),W.addScaledVector(I,Hs.x),W.addScaledVector(k,Hs.y),W.addScaledVector(U,Hs.z),W}static isFrontFacing(a,f,x,S){return gs.subVectors(x,f),Ao.subVectors(a,f),gs.cross(Ao).dot(S)<0}set(a,f,x){return this.a.copy(a),this.b.copy(f),this.c.copy(x),this}setFromPointsAndIndices(a,f,x,S){return this.a.copy(a[f]),this.b.copy(a[x]),this.c.copy(a[S]),this}setFromAttributeAndIndices(a,f,x,S){return this.a.fromBufferAttribute(a,f),this.b.fromBufferAttribute(a,x),this.c.fromBufferAttribute(a,S),this}clone(){return new this.constructor().copy(this)}copy(a){return this.a.copy(a.a),this.b.copy(a.b),this.c.copy(a.c),this}getArea(){return gs.subVectors(this.c,this.b),Ao.subVectors(this.a,this.b),gs.cross(Ao).length()*.5}getMidpoint(a){return a.addVectors(this.a,this.b).add(this.c).multiplyScalar(.3333333333333333)}getNormal(a){return js.getNormal(this.a,this.b,this.c,a)}getPlane(a){return a.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(a,f){return js.getBarycoord(a,this.a,this.b,this.c,f)}getUV(a,f,x,S,I){return js.getUV(a,this.a,this.b,this.c,f,x,S,I)}containsPoint(a){return js.containsPoint(a,this.a,this.b,this.c)}isFrontFacing(a){return js.isFrontFacing(this.a,this.b,this.c,a)}intersectsBox(a){return a.intersectsTriangle(this)}closestPointToPoint(a,f){const x=this.a,S=this.b,I=this.c;let k,U;zc.subVectors(S,x),jh.subVectors(I,x),zw.subVectors(a,x);const W=zc.dot(zw),K=jh.dot(zw);if(W<=0&&K<=0)return f.copy(x);$w.subVectors(a,S);const q=zc.dot($w),ee=jh.dot($w);if(q>=0&&ee<=q)return f.copy(S);const te=W*ee-q*K;if(te<=0&&W>=0&&q<=0)return k=W/(W-q),f.copy(x).addScaledVector(zc,k);Hw.subVectors(a,I);const ie=zc.dot(Hw),de=jh.dot(Hw);if(de>=0&&ie<=de)return f.copy(I);const le=ie*K-W*de;if(le<=0&&K>=0&&de<=0)return U=K/(K-de),f.copy(x).addScaledVector(jh,U);const ae=q*de-ie*ee;if(ae<=0&&ee-q>=0&&ie-de>=0)return jL.subVectors(I,S),U=(ee-q)/(ee-q+(ie-de)),f.copy(S).addScaledVector(jL,U);const Ie=1/(ae+le+te);return k=le*Ie,U=te*Ie,f.copy(x).addScaledVector(zc,k).addScaledVector(jh,U)}equals(a){return a.a.equals(this.a)&&a.b.equals(this.b)&&a.c.equals(this.c)}}let vW=0;class Ca extends Oa{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:vW++}),this.uuid=Da(),this.name="",this.type="Material",this.blending=L,this.side=C,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=J,this.blendDst=Z,this.blendEquation=B,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=ke,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=dy,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ii,this.stencilZFail=Ii,this.stencilZPass=Ii,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(a){this._alphaTest>0!=a>0&&this.version++,this._alphaTest=a}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(a){if(a!==void 0)for(const f in a){const x=a[f];if(x===void 0){console.warn("THREE.Material: '"+f+"' parameter is undefined.");continue}const S=this[f];if(S===void 0){console.warn("THREE."+this.type+": '"+f+"' is not a property of this material.");continue}S&&S.isColor?S.set(x):S&&S.isVector3&&x&&x.isVector3?S.copy(x):this[f]=x}}toJSON(a){const f=a===void 0||typeof a=="string";f&&(a={textures:{},images:{}});const x={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};x.uuid=this.uuid,x.type=this.type,this.name!==""&&(x.name=this.name),this.color&&this.color.isColor&&(x.color=this.color.getHex()),this.roughness!==void 0&&(x.roughness=this.roughness),this.metalness!==void 0&&(x.metalness=this.metalness),this.sheen!==void 0&&(x.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(x.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(x.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(x.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(x.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(x.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(x.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(x.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(x.shininess=this.shininess),this.clearcoat!==void 0&&(x.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(x.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(x.clearcoatMap=this.clearcoatMap.toJSON(a).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(x.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(a).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(x.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(a).uuid,x.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(x.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(x.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(x.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(x.iridescenceMap=this.iridescenceMap.toJSON(a).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(x.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(a).uuid),this.map&&this.map.isTexture&&(x.map=this.map.toJSON(a).uuid),this.matcap&&this.matcap.isTexture&&(x.matcap=this.matcap.toJSON(a).uuid),this.alphaMap&&this.alphaMap.isTexture&&(x.alphaMap=this.alphaMap.toJSON(a).uuid),this.lightMap&&this.lightMap.isTexture&&(x.lightMap=this.lightMap.toJSON(a).uuid,x.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(x.aoMap=this.aoMap.toJSON(a).uuid,x.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(x.bumpMap=this.bumpMap.toJSON(a).uuid,x.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(x.normalMap=this.normalMap.toJSON(a).uuid,x.normalMapType=this.normalMapType,x.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(x.displacementMap=this.displacementMap.toJSON(a).uuid,x.displacementScale=this.displacementScale,x.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(x.roughnessMap=this.roughnessMap.toJSON(a).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(x.metalnessMap=this.metalnessMap.toJSON(a).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(x.emissiveMap=this.emissiveMap.toJSON(a).uuid),this.specularMap&&this.specularMap.isTexture&&(x.specularMap=this.specularMap.toJSON(a).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(x.specularIntensityMap=this.specularIntensityMap.toJSON(a).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(x.specularColorMap=this.specularColorMap.toJSON(a).uuid),this.envMap&&this.envMap.isTexture&&(x.envMap=this.envMap.toJSON(a).uuid,this.combine!==void 0&&(x.combine=this.combine)),this.envMapIntensity!==void 0&&(x.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(x.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(x.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(x.gradientMap=this.gradientMap.toJSON(a).uuid),this.transmission!==void 0&&(x.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(x.transmissionMap=this.transmissionMap.toJSON(a).uuid),this.thickness!==void 0&&(x.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(x.thicknessMap=this.thicknessMap.toJSON(a).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(x.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(x.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(x.size=this.size),this.shadowSide!==null&&(x.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(x.sizeAttenuation=this.sizeAttenuation),this.blending!==L&&(x.blending=this.blending),this.side!==C&&(x.side=this.side),this.vertexColors&&(x.vertexColors=!0),this.opacity<1&&(x.opacity=this.opacity),this.transparent===!0&&(x.transparent=this.transparent),x.depthFunc=this.depthFunc,x.depthTest=this.depthTest,x.depthWrite=this.depthWrite,x.colorWrite=this.colorWrite,x.stencilWrite=this.stencilWrite,x.stencilWriteMask=this.stencilWriteMask,x.stencilFunc=this.stencilFunc,x.stencilRef=this.stencilRef,x.stencilFuncMask=this.stencilFuncMask,x.stencilFail=this.stencilFail,x.stencilZFail=this.stencilZFail,x.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(x.rotation=this.rotation),this.polygonOffset===!0&&(x.polygonOffset=!0),this.polygonOffsetFactor!==0&&(x.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(x.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(x.linewidth=this.linewidth),this.dashSize!==void 0&&(x.dashSize=this.dashSize),this.gapSize!==void 0&&(x.gapSize=this.gapSize),this.scale!==void 0&&(x.scale=this.scale),this.dithering===!0&&(x.dithering=!0),this.alphaTest>0&&(x.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(x.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(x.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(x.wireframe=this.wireframe),this.wireframeLinewidth>1&&(x.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(x.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(x.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(x.flatShading=this.flatShading),this.visible===!1&&(x.visible=!1),this.toneMapped===!1&&(x.toneMapped=!1),this.fog===!1&&(x.fog=!1),JSON.stringify(this.userData)!=="{}"&&(x.userData=this.userData);function S(I){const k=[];for(const U in I){const W=I[U];delete W.metadata,k.push(W)}return k}if(f){const I=S(a.textures),k=S(a.images);I.length>0&&(x.textures=I),k.length>0&&(x.images=k)}return x}clone(){return new this.constructor().copy(this)}copy(a){this.name=a.name,this.blending=a.blending,this.side=a.side,this.vertexColors=a.vertexColors,this.opacity=a.opacity,this.transparent=a.transparent,this.blendSrc=a.blendSrc,this.blendDst=a.blendDst,this.blendEquation=a.blendEquation,this.blendSrcAlpha=a.blendSrcAlpha,this.blendDstAlpha=a.blendDstAlpha,this.blendEquationAlpha=a.blendEquationAlpha,this.depthFunc=a.depthFunc,this.depthTest=a.depthTest,this.depthWrite=a.depthWrite,this.stencilWriteMask=a.stencilWriteMask,this.stencilFunc=a.stencilFunc,this.stencilRef=a.stencilRef,this.stencilFuncMask=a.stencilFuncMask,this.stencilFail=a.stencilFail,this.stencilZFail=a.stencilZFail,this.stencilZPass=a.stencilZPass,this.stencilWrite=a.stencilWrite;const f=a.clippingPlanes;let x=null;if(f!==null){const S=f.length;x=new Array(S);for(let I=0;I!==S;++I)x[I]=f[I].clone()}return this.clippingPlanes=x,this.clipIntersection=a.clipIntersection,this.clipShadows=a.clipShadows,this.shadowSide=a.shadowSide,this.colorWrite=a.colorWrite,this.precision=a.precision,this.polygonOffset=a.polygonOffset,this.polygonOffsetFactor=a.polygonOffsetFactor,this.polygonOffsetUnits=a.polygonOffsetUnits,this.dithering=a.dithering,this.alphaTest=a.alphaTest,this.alphaToCoverage=a.alphaToCoverage,this.premultipliedAlpha=a.premultipliedAlpha,this.visible=a.visible,this.toneMapped=a.toneMapped,this.userData=JSON.parse(JSON.stringify(a.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(a){a===!0&&this.version++}}class Xu extends Ca{constructor(a){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new xr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Et,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(a)}copy(a){return super.copy(a),this.color.copy(a.color),this.map=a.map,this.lightMap=a.lightMap,this.lightMapIntensity=a.lightMapIntensity,this.aoMap=a.aoMap,this.aoMapIntensity=a.aoMapIntensity,this.specularMap=a.specularMap,this.alphaMap=a.alphaMap,this.envMap=a.envMap,this.combine=a.combine,this.reflectivity=a.reflectivity,this.refractionRatio=a.refractionRatio,this.wireframe=a.wireframe,this.wireframeLinewidth=a.wireframeLinewidth,this.wireframeLinecap=a.wireframeLinecap,this.wireframeLinejoin=a.wireframeLinejoin,this.fog=a.fog,this}}const Lo=new dt,Ey=new In;class Wi{constructor(a,f,x){if(Array.isArray(a))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=a,this.itemSize=f,this.count=a!==void 0?a.length/f:0,this.normalized=x===!0,this.usage=rf,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(a){a===!0&&this.version++}setUsage(a){return this.usage=a,this}copy(a){return this.name=a.name,this.array=new a.array.constructor(a.array),this.itemSize=a.itemSize,this.count=a.count,this.normalized=a.normalized,this.usage=a.usage,this}copyAt(a,f,x){a*=this.itemSize,x*=f.itemSize;for(let S=0,I=this.itemSize;S<I;S++)this.array[a+S]=f.array[x+S];return this}copyArray(a){return this.array.set(a),this}applyMatrix3(a){if(this.itemSize===2)for(let f=0,x=this.count;f<x;f++)Ey.fromBufferAttribute(this,f),Ey.applyMatrix3(a),this.setXY(f,Ey.x,Ey.y);else if(this.itemSize===3)for(let f=0,x=this.count;f<x;f++)Lo.fromBufferAttribute(this,f),Lo.applyMatrix3(a),this.setXYZ(f,Lo.x,Lo.y,Lo.z);return this}applyMatrix4(a){for(let f=0,x=this.count;f<x;f++)Lo.fromBufferAttribute(this,f),Lo.applyMatrix4(a),this.setXYZ(f,Lo.x,Lo.y,Lo.z);return this}applyNormalMatrix(a){for(let f=0,x=this.count;f<x;f++)Lo.fromBufferAttribute(this,f),Lo.applyNormalMatrix(a),this.setXYZ(f,Lo.x,Lo.y,Lo.z);return this}transformDirection(a){for(let f=0,x=this.count;f<x;f++)Lo.fromBufferAttribute(this,f),Lo.transformDirection(a),this.setXYZ(f,Lo.x,Lo.y,Lo.z);return this}set(a,f=0){return this.array.set(a,f),this}getX(a){let f=this.array[a*this.itemSize];return this.normalized&&(f=pl(f,this.array)),f}setX(a,f){return this.normalized&&(f=Fi(f,this.array)),this.array[a*this.itemSize]=f,this}getY(a){let f=this.array[a*this.itemSize+1];return this.normalized&&(f=pl(f,this.array)),f}setY(a,f){return this.normalized&&(f=Fi(f,this.array)),this.array[a*this.itemSize+1]=f,this}getZ(a){let f=this.array[a*this.itemSize+2];return this.normalized&&(f=pl(f,this.array)),f}setZ(a,f){return this.normalized&&(f=Fi(f,this.array)),this.array[a*this.itemSize+2]=f,this}getW(a){let f=this.array[a*this.itemSize+3];return this.normalized&&(f=pl(f,this.array)),f}setW(a,f){return this.normalized&&(f=Fi(f,this.array)),this.array[a*this.itemSize+3]=f,this}setXY(a,f,x){return a*=this.itemSize,this.normalized&&(f=Fi(f,this.array),x=Fi(x,this.array)),this.array[a+0]=f,this.array[a+1]=x,this}setXYZ(a,f,x,S){return a*=this.itemSize,this.normalized&&(f=Fi(f,this.array),x=Fi(x,this.array),S=Fi(S,this.array)),this.array[a+0]=f,this.array[a+1]=x,this.array[a+2]=S,this}setXYZW(a,f,x,S,I){return a*=this.itemSize,this.normalized&&(f=Fi(f,this.array),x=Fi(x,this.array),S=Fi(S,this.array),I=Fi(I,this.array)),this.array[a+0]=f,this.array[a+1]=x,this.array[a+2]=S,this.array[a+3]=I,this}onUpload(a){return this.onUploadCallback=a,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const a={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(a.name=this.name),this.usage!==rf&&(a.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(a.updateRange=this.updateRange),a}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class AW extends Wi{constructor(a,f,x){super(new Int8Array(a),f,x)}}class yW extends Wi{constructor(a,f,x){super(new Uint8Array(a),f,x)}}class bW extends Wi{constructor(a,f,x){super(new Uint8ClampedArray(a),f,x)}}class xW extends Wi{constructor(a,f,x){super(new Int16Array(a),f,x)}}class jw extends Wi{constructor(a,f,x){super(new Uint16Array(a),f,x)}}class EW extends Wi{constructor(a,f,x){super(new Int32Array(a),f,x)}}class Gw extends Wi{constructor(a,f,x){super(new Uint32Array(a),f,x)}}class CW extends Wi{constructor(a,f,x){super(new Uint16Array(a),f,x),this.isFloat16BufferAttribute=!0}}class Rr extends Wi{constructor(a,f,x){super(new Float32Array(a),f,x)}}class wW extends Wi{constructor(a,f,x){super(new Float64Array(a),f,x)}}let SW=0;const Gs=new _r,Vw=new bi,Gh=new dt,As=new Nc,$g=new Nc,Jo=new dt;class ci extends Oa{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:SW++}),this.uuid=Da(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(a){return Array.isArray(a)?this.index=new(py(a)?Gw:jw)(a,1):this.index=a,this}getAttribute(a){return this.attributes[a]}setAttribute(a,f){return this.attributes[a]=f,this}deleteAttribute(a){return delete this.attributes[a],this}hasAttribute(a){return this.attributes[a]!==void 0}addGroup(a,f,x=0){this.groups.push({start:a,count:f,materialIndex:x})}clearGroups(){this.groups=[]}setDrawRange(a,f){this.drawRange.start=a,this.drawRange.count=f}applyMatrix4(a){const f=this.attributes.position;f!==void 0&&(f.applyMatrix4(a),f.needsUpdate=!0);const x=this.attributes.normal;if(x!==void 0){const I=new da().getNormalMatrix(a);x.applyNormalMatrix(I),x.needsUpdate=!0}const S=this.attributes.tangent;return S!==void 0&&(S.transformDirection(a),S.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(a){return Gs.makeRotationFromQuaternion(a),this.applyMatrix4(Gs),this}rotateX(a){return Gs.makeRotationX(a),this.applyMatrix4(Gs),this}rotateY(a){return Gs.makeRotationY(a),this.applyMatrix4(Gs),this}rotateZ(a){return Gs.makeRotationZ(a),this.applyMatrix4(Gs),this}translate(a,f,x){return Gs.makeTranslation(a,f,x),this.applyMatrix4(Gs),this}scale(a,f,x){return Gs.makeScale(a,f,x),this.applyMatrix4(Gs),this}lookAt(a){return Vw.lookAt(a),Vw.updateMatrix(),this.applyMatrix4(Vw.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Gh).negate(),this.translate(Gh.x,Gh.y,Gh.z),this}setFromPoints(a){const f=[];for(let x=0,S=a.length;x<S;x++){const I=a[x];f.push(I.x,I.y,I.z||0)}return this.setAttribute("position",new Rr(f,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Nc);const a=this.attributes.position,f=this.morphAttributes.position;if(a&&a.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new dt(-1/0,-1/0,-1/0),new dt(1/0,1/0,1/0));return}if(a!==void 0){if(this.boundingBox.setFromBufferAttribute(a),f)for(let x=0,S=f.length;x<S;x++){const I=f[x];As.setFromBufferAttribute(I),this.morphTargetsRelative?(Jo.addVectors(this.boundingBox.min,As.min),this.boundingBox.expandByPoint(Jo),Jo.addVectors(this.boundingBox.max,As.max),this.boundingBox.expandByPoint(Jo)):(this.boundingBox.expandByPoint(As.min),this.boundingBox.expandByPoint(As.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new gl);const a=this.attributes.position,f=this.morphAttributes.position;if(a&&a.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new dt,1/0);return}if(a){const x=this.boundingSphere.center;if(As.setFromBufferAttribute(a),f)for(let I=0,k=f.length;I<k;I++){const U=f[I];$g.setFromBufferAttribute(U),this.morphTargetsRelative?(Jo.addVectors(As.min,$g.min),As.expandByPoint(Jo),Jo.addVectors(As.max,$g.max),As.expandByPoint(Jo)):(As.expandByPoint($g.min),As.expandByPoint($g.max))}As.getCenter(x);let S=0;for(let I=0,k=a.count;I<k;I++)Jo.fromBufferAttribute(a,I),S=Math.max(S,x.distanceToSquared(Jo));if(f)for(let I=0,k=f.length;I<k;I++){const U=f[I],W=this.morphTargetsRelative;for(let K=0,q=U.count;K<q;K++)Jo.fromBufferAttribute(U,K),W&&(Gh.fromBufferAttribute(a,K),Jo.add(Gh)),S=Math.max(S,x.distanceToSquared(Jo))}this.boundingSphere.radius=Math.sqrt(S),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const a=this.index,f=this.attributes;if(a===null||f.position===void 0||f.normal===void 0||f.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const x=a.array,S=f.position.array,I=f.normal.array,k=f.uv.array,U=S.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Wi(new Float32Array(4*U),4));const W=this.getAttribute("tangent").array,K=[],q=[];for(let _t=0;_t<U;_t++)K[_t]=new dt,q[_t]=new dt;const ee=new dt,te=new dt,ie=new dt,de=new In,le=new In,ae=new In,Ie=new dt,He=new dt;function Ne(_t,Gt,an){ee.fromArray(S,_t*3),te.fromArray(S,Gt*3),ie.fromArray(S,an*3),de.fromArray(k,_t*2),le.fromArray(k,Gt*2),ae.fromArray(k,an*2),te.sub(ee),ie.sub(ee),le.sub(de),ae.sub(de);const Qt=1/(le.x*ae.y-ae.x*le.y);isFinite(Qt)&&(Ie.copy(te).multiplyScalar(ae.y).addScaledVector(ie,-le.y).multiplyScalar(Qt),He.copy(ie).multiplyScalar(le.x).addScaledVector(te,-ae.x).multiplyScalar(Qt),K[_t].add(Ie),K[Gt].add(Ie),K[an].add(Ie),q[_t].add(He),q[Gt].add(He),q[an].add(He))}let ze=this.groups;ze.length===0&&(ze=[{start:0,count:x.length}]);for(let _t=0,Gt=ze.length;_t<Gt;++_t){const an=ze[_t],Qt=an.start,$t=an.count;for(let nn=Qt,Rn=Qt+$t;nn<Rn;nn+=3)Ne(x[nn+0],x[nn+1],x[nn+2])}const Xe=new dt,pt=new dt,Pt=new dt,Ge=new dt;function vt(_t){Pt.fromArray(I,_t*3),Ge.copy(Pt);const Gt=K[_t];Xe.copy(Gt),Xe.sub(Pt.multiplyScalar(Pt.dot(Gt))).normalize(),pt.crossVectors(Ge,Gt);const Qt=pt.dot(q[_t])<0?-1:1;W[_t*4]=Xe.x,W[_t*4+1]=Xe.y,W[_t*4+2]=Xe.z,W[_t*4+3]=Qt}for(let _t=0,Gt=ze.length;_t<Gt;++_t){const an=ze[_t],Qt=an.start,$t=an.count;for(let nn=Qt,Rn=Qt+$t;nn<Rn;nn+=3)vt(x[nn+0]),vt(x[nn+1]),vt(x[nn+2])}}computeVertexNormals(){const a=this.index,f=this.getAttribute("position");if(f!==void 0){let x=this.getAttribute("normal");if(x===void 0)x=new Wi(new Float32Array(f.count*3),3),this.setAttribute("normal",x);else for(let te=0,ie=x.count;te<ie;te++)x.setXYZ(te,0,0,0);const S=new dt,I=new dt,k=new dt,U=new dt,W=new dt,K=new dt,q=new dt,ee=new dt;if(a)for(let te=0,ie=a.count;te<ie;te+=3){const de=a.getX(te+0),le=a.getX(te+1),ae=a.getX(te+2);S.fromBufferAttribute(f,de),I.fromBufferAttribute(f,le),k.fromBufferAttribute(f,ae),q.subVectors(k,I),ee.subVectors(S,I),q.cross(ee),U.fromBufferAttribute(x,de),W.fromBufferAttribute(x,le),K.fromBufferAttribute(x,ae),U.add(q),W.add(q),K.add(q),x.setXYZ(de,U.x,U.y,U.z),x.setXYZ(le,W.x,W.y,W.z),x.setXYZ(ae,K.x,K.y,K.z)}else for(let te=0,ie=f.count;te<ie;te+=3)S.fromBufferAttribute(f,te+0),I.fromBufferAttribute(f,te+1),k.fromBufferAttribute(f,te+2),q.subVectors(k,I),ee.subVectors(S,I),q.cross(ee),x.setXYZ(te+0,q.x,q.y,q.z),x.setXYZ(te+1,q.x,q.y,q.z),x.setXYZ(te+2,q.x,q.y,q.z);this.normalizeNormals(),x.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const a=this.attributes.normal;for(let f=0,x=a.count;f<x;f++)Jo.fromBufferAttribute(a,f),Jo.normalize(),a.setXYZ(f,Jo.x,Jo.y,Jo.z)}toNonIndexed(){function a(U,W){const K=U.array,q=U.itemSize,ee=U.normalized,te=new K.constructor(W.length*q);let ie=0,de=0;for(let le=0,ae=W.length;le<ae;le++){U.isInterleavedBufferAttribute?ie=W[le]*U.data.stride+U.offset:ie=W[le]*q;for(let Ie=0;Ie<q;Ie++)te[de++]=K[ie++]}return new Wi(te,q,ee)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const f=new ci,x=this.index.array,S=this.attributes;for(const U in S){const W=S[U],K=a(W,x);f.setAttribute(U,K)}const I=this.morphAttributes;for(const U in I){const W=[],K=I[U];for(let q=0,ee=K.length;q<ee;q++){const te=K[q],ie=a(te,x);W.push(ie)}f.morphAttributes[U]=W}f.morphTargetsRelative=this.morphTargetsRelative;const k=this.groups;for(let U=0,W=k.length;U<W;U++){const K=k[U];f.addGroup(K.start,K.count,K.materialIndex)}return f}toJSON(){const a={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(a.uuid=this.uuid,a.type=this.type,this.name!==""&&(a.name=this.name),Object.keys(this.userData).length>0&&(a.userData=this.userData),this.parameters!==void 0){const W=this.parameters;for(const K in W)W[K]!==void 0&&(a[K]=W[K]);return a}a.data={attributes:{}};const f=this.index;f!==null&&(a.data.index={type:f.array.constructor.name,array:Array.prototype.slice.call(f.array)});const x=this.attributes;for(const W in x){const K=x[W];a.data.attributes[W]=K.toJSON(a.data)}const S={};let I=!1;for(const W in this.morphAttributes){const K=this.morphAttributes[W],q=[];for(let ee=0,te=K.length;ee<te;ee++){const ie=K[ee];q.push(ie.toJSON(a.data))}q.length>0&&(S[W]=q,I=!0)}I&&(a.data.morphAttributes=S,a.data.morphTargetsRelative=this.morphTargetsRelative);const k=this.groups;k.length>0&&(a.data.groups=JSON.parse(JSON.stringify(k)));const U=this.boundingSphere;return U!==null&&(a.data.boundingSphere={center:U.center.toArray(),radius:U.radius}),a}clone(){return new this.constructor().copy(this)}copy(a){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const f={};this.name=a.name;const x=a.index;x!==null&&this.setIndex(x.clone(f));const S=a.attributes;for(const K in S){const q=S[K];this.setAttribute(K,q.clone(f))}const I=a.morphAttributes;for(const K in I){const q=[],ee=I[K];for(let te=0,ie=ee.length;te<ie;te++)q.push(ee[te].clone(f));this.morphAttributes[K]=q}this.morphTargetsRelative=a.morphTargetsRelative;const k=a.groups;for(let K=0,q=k.length;K<q;K++){const ee=k[K];this.addGroup(ee.start,ee.count,ee.materialIndex)}const U=a.boundingBox;U!==null&&(this.boundingBox=U.clone());const W=a.boundingSphere;return W!==null&&(this.boundingSphere=W.clone()),this.drawRange.start=a.drawRange.start,this.drawRange.count=a.drawRange.count,this.userData=a.userData,a.parameters!==void 0&&(this.parameters=Object.assign({},a.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const GL=new _r,Vh=new Na,Ww=new gl,qu=new dt,Yu=new dt,Ju=new dt,Qw=new dt,Kw=new dt,Xw=new dt,Cy=new dt,wy=new dt,Sy=new dt,_y=new In,My=new In,Ty=new In,qw=new dt,Ry=new dt;class pa extends bi{constructor(a=new ci,f=new Xu){super(),this.isMesh=!0,this.type="Mesh",this.geometry=a,this.material=f,this.updateMorphTargets()}copy(a,f){return super.copy(a,f),a.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=a.morphTargetInfluences.slice()),a.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},a.morphTargetDictionary)),this.material=a.material,this.geometry=a.geometry,this}updateMorphTargets(){const f=this.geometry.morphAttributes,x=Object.keys(f);if(x.length>0){const S=f[x[0]];if(S!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let I=0,k=S.length;I<k;I++){const U=S[I].name||String(I);this.morphTargetInfluences.push(0),this.morphTargetDictionary[U]=I}}}}raycast(a,f){const x=this.geometry,S=this.material,I=this.matrixWorld;if(S===void 0||(x.boundingSphere===null&&x.computeBoundingSphere(),Ww.copy(x.boundingSphere),Ww.applyMatrix4(I),a.ray.intersectsSphere(Ww)===!1)||(GL.copy(I).invert(),Vh.copy(a.ray).applyMatrix4(GL),x.boundingBox!==null&&Vh.intersectsBox(x.boundingBox)===!1))return;let k;const U=x.index,W=x.attributes.position,K=x.morphAttributes.position,q=x.morphTargetsRelative,ee=x.attributes.uv,te=x.attributes.uv2,ie=x.groups,de=x.drawRange;if(U!==null)if(Array.isArray(S))for(let le=0,ae=ie.length;le<ae;le++){const Ie=ie[le],He=S[Ie.materialIndex],Ne=Math.max(Ie.start,de.start),ze=Math.min(U.count,Math.min(Ie.start+Ie.count,de.start+de.count));for(let Xe=Ne,pt=ze;Xe<pt;Xe+=3){const Pt=U.getX(Xe),Ge=U.getX(Xe+1),vt=U.getX(Xe+2);k=Iy(this,He,a,Vh,W,K,q,ee,te,Pt,Ge,vt),k&&(k.faceIndex=Math.floor(Xe/3),k.face.materialIndex=Ie.materialIndex,f.push(k))}}else{const le=Math.max(0,de.start),ae=Math.min(U.count,de.start+de.count);for(let Ie=le,He=ae;Ie<He;Ie+=3){const Ne=U.getX(Ie),ze=U.getX(Ie+1),Xe=U.getX(Ie+2);k=Iy(this,S,a,Vh,W,K,q,ee,te,Ne,ze,Xe),k&&(k.faceIndex=Math.floor(Ie/3),f.push(k))}}else if(W!==void 0)if(Array.isArray(S))for(let le=0,ae=ie.length;le<ae;le++){const Ie=ie[le],He=S[Ie.materialIndex],Ne=Math.max(Ie.start,de.start),ze=Math.min(W.count,Math.min(Ie.start+Ie.count,de.start+de.count));for(let Xe=Ne,pt=ze;Xe<pt;Xe+=3){const Pt=Xe,Ge=Xe+1,vt=Xe+2;k=Iy(this,He,a,Vh,W,K,q,ee,te,Pt,Ge,vt),k&&(k.faceIndex=Math.floor(Xe/3),k.face.materialIndex=Ie.materialIndex,f.push(k))}}else{const le=Math.max(0,de.start),ae=Math.min(W.count,de.start+de.count);for(let Ie=le,He=ae;Ie<He;Ie+=3){const Ne=Ie,ze=Ie+1,Xe=Ie+2;k=Iy(this,S,a,Vh,W,K,q,ee,te,Ne,ze,Xe),k&&(k.faceIndex=Math.floor(Ie/3),f.push(k))}}}}function _W($,a,f,x,S,I,k,U){let W;if(a.side===_?W=x.intersectTriangle(k,I,S,!0,U):W=x.intersectTriangle(S,I,k,a.side!==P,U),W===null)return null;Ry.copy(U),Ry.applyMatrix4($.matrixWorld);const K=f.ray.origin.distanceTo(Ry);return K<f.near||K>f.far?null:{distance:K,point:Ry.clone(),object:$}}function Iy($,a,f,x,S,I,k,U,W,K,q,ee){qu.fromBufferAttribute(S,K),Yu.fromBufferAttribute(S,q),Ju.fromBufferAttribute(S,ee);const te=$.morphTargetInfluences;if(I&&te){Cy.set(0,0,0),wy.set(0,0,0),Sy.set(0,0,0);for(let de=0,le=I.length;de<le;de++){const ae=te[de],Ie=I[de];ae!==0&&(Qw.fromBufferAttribute(Ie,K),Kw.fromBufferAttribute(Ie,q),Xw.fromBufferAttribute(Ie,ee),k?(Cy.addScaledVector(Qw,ae),wy.addScaledVector(Kw,ae),Sy.addScaledVector(Xw,ae)):(Cy.addScaledVector(Qw.sub(qu),ae),wy.addScaledVector(Kw.sub(Yu),ae),Sy.addScaledVector(Xw.sub(Ju),ae)))}qu.add(Cy),Yu.add(wy),Ju.add(Sy)}$.isSkinnedMesh&&($.boneTransform(K,qu),$.boneTransform(q,Yu),$.boneTransform(ee,Ju));const ie=_W($,a,f,x,qu,Yu,Ju,qw);if(ie){U&&(_y.fromBufferAttribute(U,K),My.fromBufferAttribute(U,q),Ty.fromBufferAttribute(U,ee),ie.uv=js.getUV(qw,qu,Yu,Ju,_y,My,Ty,new In)),W&&(_y.fromBufferAttribute(W,K),My.fromBufferAttribute(W,q),Ty.fromBufferAttribute(W,ee),ie.uv2=js.getUV(qw,qu,Yu,Ju,_y,My,Ty,new In));const de={a:K,b:q,c:ee,normal:new dt,materialIndex:0};js.getNormal(qu,Yu,Ju,de.normal),ie.face=de}return ie}class Zu extends ci{constructor(a=1,f=1,x=1,S=1,I=1,k=1){super(),this.type="BoxGeometry",this.parameters={width:a,height:f,depth:x,widthSegments:S,heightSegments:I,depthSegments:k};const U=this;S=Math.floor(S),I=Math.floor(I),k=Math.floor(k);const W=[],K=[],q=[],ee=[];let te=0,ie=0;de("z","y","x",-1,-1,x,f,a,k,I,0),de("z","y","x",1,-1,x,f,-a,k,I,1),de("x","z","y",1,1,a,x,f,S,k,2),de("x","z","y",1,-1,a,x,-f,S,k,3),de("x","y","z",1,-1,a,f,x,S,I,4),de("x","y","z",-1,-1,a,f,-x,S,I,5),this.setIndex(W),this.setAttribute("position",new Rr(K,3)),this.setAttribute("normal",new Rr(q,3)),this.setAttribute("uv",new Rr(ee,2));function de(le,ae,Ie,He,Ne,ze,Xe,pt,Pt,Ge,vt){const _t=ze/Pt,Gt=Xe/Ge,an=ze/2,Qt=Xe/2,$t=pt/2,nn=Pt+1,Rn=Ge+1;let On=0,Tn=0;const Qn=new dt;for(let zn=0;zn<Rn;zn++){const Cr=zn*Gt-Qt;for(let hr=0;hr<nn;hr++){const hn=hr*_t-an;Qn[le]=hn*He,Qn[ae]=Cr*Ne,Qn[Ie]=$t,K.push(Qn.x,Qn.y,Qn.z),Qn[le]=0,Qn[ae]=0,Qn[Ie]=pt>0?1:-1,q.push(Qn.x,Qn.y,Qn.z),ee.push(hr/Pt),ee.push(1-zn/Ge),On+=1}}for(let zn=0;zn<Ge;zn++)for(let Cr=0;Cr<Pt;Cr++){const hr=te+Cr+nn*zn,hn=te+Cr+nn*(zn+1),Dn=te+(Cr+1)+nn*(zn+1),ur=te+(Cr+1)+nn*zn;W.push(hr,hn,ur),W.push(hn,Dn,ur),Tn+=6}U.addGroup(ie,Tn,vt),ie+=Tn,te+=On}}static fromJSON(a){return new Zu(a.width,a.height,a.depth,a.widthSegments,a.heightSegments,a.depthSegments)}}function Wh($){const a={};for(const f in $){a[f]={};for(const x in $[f]){const S=$[f][x];S&&(S.isColor||S.isMatrix3||S.isMatrix4||S.isVector2||S.isVector3||S.isVector4||S.isTexture||S.isQuaternion)?a[f][x]=S.clone():Array.isArray(S)?a[f][x]=S.slice():a[f][x]=S}}return a}function ka($){const a={};for(let f=0;f<$.length;f++){const x=Wh($[f]);for(const S in x)a[S]=x[S]}return a}function MW($){const a=[];for(let f=0;f<$.length;f++)a.push($[f].clone());return a}function VL($){return $.getRenderTarget()===null&&$.outputEncoding===Hn?Or:ni}const WL={clone:Wh,merge:ka};var TW=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,RW=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class oc extends Ca{constructor(a){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=TW,this.fragmentShader=RW,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,a!==void 0&&this.setValues(a)}copy(a){return super.copy(a),this.fragmentShader=a.fragmentShader,this.vertexShader=a.vertexShader,this.uniforms=Wh(a.uniforms),this.uniformsGroups=MW(a.uniformsGroups),this.defines=Object.assign({},a.defines),this.wireframe=a.wireframe,this.wireframeLinewidth=a.wireframeLinewidth,this.fog=a.fog,this.lights=a.lights,this.clipping=a.clipping,this.extensions=Object.assign({},a.extensions),this.glslVersion=a.glslVersion,this}toJSON(a){const f=super.toJSON(a);f.glslVersion=this.glslVersion,f.uniforms={};for(const S in this.uniforms){const k=this.uniforms[S].value;k&&k.isTexture?f.uniforms[S]={type:"t",value:k.toJSON(a).uuid}:k&&k.isColor?f.uniforms[S]={type:"c",value:k.getHex()}:k&&k.isVector2?f.uniforms[S]={type:"v2",value:k.toArray()}:k&&k.isVector3?f.uniforms[S]={type:"v3",value:k.toArray()}:k&&k.isVector4?f.uniforms[S]={type:"v4",value:k.toArray()}:k&&k.isMatrix3?f.uniforms[S]={type:"m3",value:k.toArray()}:k&&k.isMatrix4?f.uniforms[S]={type:"m4",value:k.toArray()}:f.uniforms[S]={value:k}}Object.keys(this.defines).length>0&&(f.defines=this.defines),f.vertexShader=this.vertexShader,f.fragmentShader=this.fragmentShader;const x={};for(const S in this.extensions)this.extensions[S]===!0&&(x[S]=!0);return Object.keys(x).length>0&&(f.extensions=x),f}}class Py extends bi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new _r,this.projectionMatrix=new _r,this.projectionMatrixInverse=new _r}copy(a,f){return super.copy(a,f),this.matrixWorldInverse.copy(a.matrixWorldInverse),this.projectionMatrix.copy(a.projectionMatrix),this.projectionMatrixInverse.copy(a.projectionMatrixInverse),this}getWorldDirection(a){this.updateWorldMatrix(!0,!1);const f=this.matrixWorld.elements;return a.set(-f[8],-f[9],-f[10]).normalize()}updateMatrixWorld(a){super.updateMatrixWorld(a),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(a,f){super.updateWorldMatrix(a,f),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class zo extends Py{constructor(a=50,f=1,x=.1,S=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=a,this.zoom=1,this.near=x,this.far=S,this.focus=10,this.aspect=f,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(a,f){return super.copy(a,f),this.fov=a.fov,this.zoom=a.zoom,this.near=a.near,this.far=a.far,this.focus=a.focus,this.aspect=a.aspect,this.view=a.view===null?null:Object.assign({},a.view),this.filmGauge=a.filmGauge,this.filmOffset=a.filmOffset,this}setFocalLength(a){const f=.5*this.getFilmHeight()/a;this.fov=of*2*Math.atan(f),this.updateProjectionMatrix()}getFocalLength(){const a=Math.tan(Bc*.5*this.fov);return .5*this.getFilmHeight()/a}getEffectiveFOV(){return of*2*Math.atan(Math.tan(Bc*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(a,f,x,S,I,k){this.aspect=a/f,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=a,this.view.fullHeight=f,this.view.offsetX=x,this.view.offsetY=S,this.view.width=I,this.view.height=k,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const a=this.near;let f=a*Math.tan(Bc*.5*this.fov)/this.zoom,x=2*f,S=this.aspect*x,I=-.5*S;const k=this.view;if(this.view!==null&&this.view.enabled){const W=k.fullWidth,K=k.fullHeight;I+=k.offsetX*S/W,f-=k.offsetY*x/K,S*=k.width/W,x*=k.height/K}const U=this.filmOffset;U!==0&&(I+=a*U/this.getFilmWidth()),this.projectionMatrix.makePerspective(I,I+S,f,f-x,a,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(a){const f=super.toJSON(a);return f.object.fov=this.fov,f.object.zoom=this.zoom,f.object.near=this.near,f.object.far=this.far,f.object.focus=this.focus,f.object.aspect=this.aspect,this.view!==null&&(f.object.view=Object.assign({},this.view)),f.object.filmGauge=this.filmGauge,f.object.filmOffset=this.filmOffset,f}}const Qh=-90,Kh=1;class QL extends bi{constructor(a,f,x){super(),this.type="CubeCamera",this.renderTarget=x;const S=new zo(Qh,Kh,a,f);S.layers=this.layers,S.up.set(0,1,0),S.lookAt(1,0,0),this.add(S);const I=new zo(Qh,Kh,a,f);I.layers=this.layers,I.up.set(0,1,0),I.lookAt(-1,0,0),this.add(I);const k=new zo(Qh,Kh,a,f);k.layers=this.layers,k.up.set(0,0,-1),k.lookAt(0,1,0),this.add(k);const U=new zo(Qh,Kh,a,f);U.layers=this.layers,U.up.set(0,0,1),U.lookAt(0,-1,0),this.add(U);const W=new zo(Qh,Kh,a,f);W.layers=this.layers,W.up.set(0,1,0),W.lookAt(0,0,1),this.add(W);const K=new zo(Qh,Kh,a,f);K.layers=this.layers,K.up.set(0,1,0),K.lookAt(0,0,-1),this.add(K)}update(a,f){this.parent===null&&this.updateMatrixWorld();const x=this.renderTarget,[S,I,k,U,W,K]=this.children,q=a.getRenderTarget(),ee=a.toneMapping,te=a.xr.enabled;a.toneMapping=Tt,a.xr.enabled=!1;const ie=x.texture.generateMipmaps;x.texture.generateMipmaps=!1,a.setRenderTarget(x,0),a.render(f,S),a.setRenderTarget(x,1),a.render(f,I),a.setRenderTarget(x,2),a.render(f,k),a.setRenderTarget(x,3),a.render(f,U),a.setRenderTarget(x,4),a.render(f,W),x.texture.generateMipmaps=ie,a.setRenderTarget(x,5),a.render(f,K),a.setRenderTarget(q),a.toneMapping=ee,a.xr.enabled=te,x.texture.needsPMREMUpdate=!0}}class Hg extends ho{constructor(a,f,x,S,I,k,U,W,K,q){a=a!==void 0?a:[],f=f!==void 0?f:_e,super(a,f,x,S,I,k,U,W,K,q),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(a){this.image=a}}class KL extends ns{constructor(a=1,f={}){super(a,a,f),this.isWebGLCubeRenderTarget=!0;const x={width:a,height:a,depth:1},S=[x,x,x,x,x,x];this.texture=new Hg(S,f.mapping,f.wrapS,f.wrapT,f.magFilter,f.minFilter,f.format,f.type,f.anisotropy,f.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=f.generateMipmaps!==void 0?f.generateMipmaps:!1,this.texture.minFilter=f.minFilter!==void 0?f.minFilter:ve}fromEquirectangularTexture(a,f){this.texture.type=f.type,this.texture.encoding=f.encoding,this.texture.generateMipmaps=f.generateMipmaps,this.texture.minFilter=f.minFilter,this.texture.magFilter=f.magFilter;const x={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},S=new Zu(5,5,5),I=new oc({name:"CubemapFromEquirect",uniforms:Wh(x.uniforms),vertexShader:x.vertexShader,fragmentShader:x.fragmentShader,side:_,blending:R});I.uniforms.tEquirect.value=f;const k=new pa(S,I),U=f.minFilter;return f.minFilter===Ze&&(f.minFilter=ve),new QL(1,10,this).update(a,k),f.minFilter=U,k.geometry.dispose(),k.material.dispose(),this}clear(a,f,x,S){const I=a.getRenderTarget();for(let k=0;k<6;k++)a.setRenderTarget(this,k),a.clear(f,x,S);a.setRenderTarget(I)}}const Yw=new dt,IW=new dt,PW=new da;class ed{constructor(a=new dt(1,0,0),f=0){this.isPlane=!0,this.normal=a,this.constant=f}set(a,f){return this.normal.copy(a),this.constant=f,this}setComponents(a,f,x,S){return this.normal.set(a,f,x),this.constant=S,this}setFromNormalAndCoplanarPoint(a,f){return this.normal.copy(a),this.constant=-f.dot(this.normal),this}setFromCoplanarPoints(a,f,x){const S=Yw.subVectors(x,f).cross(IW.subVectors(a,f)).normalize();return this.setFromNormalAndCoplanarPoint(S,a),this}copy(a){return this.normal.copy(a.normal),this.constant=a.constant,this}normalize(){const a=1/this.normal.length();return this.normal.multiplyScalar(a),this.constant*=a,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(a){return this.normal.dot(a)+this.constant}distanceToSphere(a){return this.distanceToPoint(a.center)-a.radius}projectPoint(a,f){return f.copy(this.normal).multiplyScalar(-this.distanceToPoint(a)).add(a)}intersectLine(a,f){const x=a.delta(Yw),S=this.normal.dot(x);if(S===0)return this.distanceToPoint(a.start)===0?f.copy(a.start):null;const I=-(a.start.dot(this.normal)+this.constant)/S;return I<0||I>1?null:f.copy(x).multiplyScalar(I).add(a.start)}intersectsLine(a){const f=this.distanceToPoint(a.start),x=this.distanceToPoint(a.end);return f<0&&x>0||x<0&&f>0}intersectsBox(a){return a.intersectsPlane(this)}intersectsSphere(a){return a.intersectsPlane(this)}coplanarPoint(a){return a.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(a,f){const x=f||PW.getNormalMatrix(a),S=this.coplanarPoint(Yw).applyMatrix4(a),I=this.normal.applyMatrix3(x).normalize();return this.constant=-S.dot(I),this}translate(a){return this.constant-=a.dot(this.normal),this}equals(a){return a.normal.equals(this.normal)&&a.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Xh=new gl,Ly=new dt;class By{constructor(a=new ed,f=new ed,x=new ed,S=new ed,I=new ed,k=new ed){this.planes=[a,f,x,S,I,k]}set(a,f,x,S,I,k){const U=this.planes;return U[0].copy(a),U[1].copy(f),U[2].copy(x),U[3].copy(S),U[4].copy(I),U[5].copy(k),this}copy(a){const f=this.planes;for(let x=0;x<6;x++)f[x].copy(a.planes[x]);return this}setFromProjectionMatrix(a){const f=this.planes,x=a.elements,S=x[0],I=x[1],k=x[2],U=x[3],W=x[4],K=x[5],q=x[6],ee=x[7],te=x[8],ie=x[9],de=x[10],le=x[11],ae=x[12],Ie=x[13],He=x[14],Ne=x[15];return f[0].setComponents(U-S,ee-W,le-te,Ne-ae).normalize(),f[1].setComponents(U+S,ee+W,le+te,Ne+ae).normalize(),f[2].setComponents(U+I,ee+K,le+ie,Ne+Ie).normalize(),f[3].setComponents(U-I,ee-K,le-ie,Ne-Ie).normalize(),f[4].setComponents(U-k,ee-q,le-de,Ne-He).normalize(),f[5].setComponents(U+k,ee+q,le+de,Ne+He).normalize(),this}intersectsObject(a){const f=a.geometry;return f.boundingSphere===null&&f.computeBoundingSphere(),Xh.copy(f.boundingSphere).applyMatrix4(a.matrixWorld),this.intersectsSphere(Xh)}intersectsSprite(a){return Xh.center.set(0,0,0),Xh.radius=.7071067811865476,Xh.applyMatrix4(a.matrixWorld),this.intersectsSphere(Xh)}intersectsSphere(a){const f=this.planes,x=a.center,S=-a.radius;for(let I=0;I<6;I++)if(f[I].distanceToPoint(x)<S)return!1;return!0}intersectsBox(a){const f=this.planes;for(let x=0;x<6;x++){const S=f[x];if(Ly.x=S.normal.x>0?a.max.x:a.min.x,Ly.y=S.normal.y>0?a.max.y:a.min.y,Ly.z=S.normal.z>0?a.max.z:a.min.z,S.distanceToPoint(Ly)<0)return!1}return!0}containsPoint(a){const f=this.planes;for(let x=0;x<6;x++)if(f[x].distanceToPoint(a)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Jw(){let $=null,a=!1,f=null,x=null;function S(I,k){f(I,k),x=$.requestAnimationFrame(S)}return{start:function(){a!==!0&&f!==null&&(x=$.requestAnimationFrame(S),a=!0)},stop:function(){$.cancelAnimationFrame(x),a=!1},setAnimationLoop:function(I){f=I},setContext:function(I){$=I}}}function LW($,a){const f=a.isWebGL2,x=new WeakMap;function S(K,q){const ee=K.array,te=K.usage,ie=$.createBuffer();$.bindBuffer(q,ie),$.bufferData(q,ee,te),K.onUploadCallback();let de;if(ee instanceof Float32Array)de=5126;else if(ee instanceof Uint16Array)if(K.isFloat16BufferAttribute)if(f)de=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else de=5123;else if(ee instanceof Int16Array)de=5122;else if(ee instanceof Uint32Array)de=5125;else if(ee instanceof Int32Array)de=5124;else if(ee instanceof Int8Array)de=5120;else if(ee instanceof Uint8Array)de=5121;else if(ee instanceof Uint8ClampedArray)de=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+ee);return{buffer:ie,type:de,bytesPerElement:ee.BYTES_PER_ELEMENT,version:K.version}}function I(K,q,ee){const te=q.array,ie=q.updateRange;$.bindBuffer(ee,K),ie.count===-1?$.bufferSubData(ee,0,te):(f?$.bufferSubData(ee,ie.offset*te.BYTES_PER_ELEMENT,te,ie.offset,ie.count):$.bufferSubData(ee,ie.offset*te.BYTES_PER_ELEMENT,te.subarray(ie.offset,ie.offset+ie.count)),ie.count=-1),q.onUploadCallback()}function k(K){return K.isInterleavedBufferAttribute&&(K=K.data),x.get(K)}function U(K){K.isInterleavedBufferAttribute&&(K=K.data);const q=x.get(K);q&&($.deleteBuffer(q.buffer),x.delete(K))}function W(K,q){if(K.isGLBufferAttribute){const te=x.get(K);(!te||te.version<K.version)&&x.set(K,{buffer:K.buffer,type:K.type,bytesPerElement:K.elementSize,version:K.version});return}K.isInterleavedBufferAttribute&&(K=K.data);const ee=x.get(K);ee===void 0?x.set(K,S(K,q)):ee.version<K.version&&(I(ee.buffer,K,q),ee.version=K.version)}return{get:k,remove:U,update:W}}class qh extends ci{constructor(a=1,f=1,x=1,S=1){super(),this.type="PlaneGeometry",this.parameters={width:a,height:f,widthSegments:x,heightSegments:S};const I=a/2,k=f/2,U=Math.floor(x),W=Math.floor(S),K=U+1,q=W+1,ee=a/U,te=f/W,ie=[],de=[],le=[],ae=[];for(let Ie=0;Ie<q;Ie++){const He=Ie*te-k;for(let Ne=0;Ne<K;Ne++){const ze=Ne*ee-I;de.push(ze,-He,0),le.push(0,0,1),ae.push(Ne/U),ae.push(1-Ie/W)}}for(let Ie=0;Ie<W;Ie++)for(let He=0;He<U;He++){const Ne=He+K*Ie,ze=He+K*(Ie+1),Xe=He+1+K*(Ie+1),pt=He+1+K*Ie;ie.push(Ne,ze,pt),ie.push(ze,Xe,pt)}this.setIndex(ie),this.setAttribute("position",new Rr(de,3)),this.setAttribute("normal",new Rr(le,3)),this.setAttribute("uv",new Rr(ae,2))}static fromJSON(a){return new qh(a.width,a.height,a.widthSegments,a.heightSegments)}}var BW=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,OW=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,DW=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,NW=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,kW=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,FW=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,UW="vec3 transformed = vec3( position );",zW=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,$W=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,HW=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,jW=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,GW=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,VW=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,WW=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,QW=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,KW=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,XW=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,qW=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,YW=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,JW=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,ZW=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,eQ=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,tQ=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,nQ=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,rQ=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,iQ=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,oQ="gl_FragColor = linearToOutputTexel( gl_FragColor );",aQ=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,sQ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,lQ=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,cQ=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,uQ=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,dQ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fQ=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,hQ=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,pQ=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,mQ=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gQ=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,vQ=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,AQ=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,yQ=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,bQ=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,xQ=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,EQ=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,CQ=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,wQ=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,SQ=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,_Q=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,MQ=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,TQ=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,RQ=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,IQ=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,PQ=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,LQ=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,BQ=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,OQ=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,DQ=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,NQ=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,kQ=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,FQ=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,UQ=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,zQ=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,$Q=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,HQ=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,jQ=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,GQ=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,VQ=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,WQ=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,QQ=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,KQ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,XQ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,qQ=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,YQ=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,JQ=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,ZQ=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,eK=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,tK=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,nK=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,rK=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,iK=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,oK=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,aK=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,sK=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,lK=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,cK=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,uK=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,dK=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,fK=`#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,hK=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,pK=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,mK=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,gK=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,vK=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,AK=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,yK=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,bK=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,xK=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,EK=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,CK=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,wK=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,SK=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,_K=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,MK=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,TK=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,RK=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,IK=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const ii={alphamap_fragment:BW,alphamap_pars_fragment:OW,alphatest_fragment:DW,alphatest_pars_fragment:NW,aomap_fragment:kW,aomap_pars_fragment:FW,begin_vertex:UW,beginnormal_vertex:zW,bsdfs:$W,iridescence_fragment:HW,bumpmap_pars_fragment:jW,clipping_planes_fragment:GW,clipping_planes_pars_fragment:VW,clipping_planes_pars_vertex:WW,clipping_planes_vertex:QW,color_fragment:KW,color_pars_fragment:XW,color_pars_vertex:qW,color_vertex:YW,common:JW,cube_uv_reflection_fragment:ZW,defaultnormal_vertex:eQ,displacementmap_pars_vertex:tQ,displacementmap_vertex:nQ,emissivemap_fragment:rQ,emissivemap_pars_fragment:iQ,encodings_fragment:oQ,encodings_pars_fragment:aQ,envmap_fragment:sQ,envmap_common_pars_fragment:lQ,envmap_pars_fragment:cQ,envmap_pars_vertex:uQ,envmap_physical_pars_fragment:EQ,envmap_vertex:dQ,fog_vertex:fQ,fog_pars_vertex:hQ,fog_fragment:pQ,fog_pars_fragment:mQ,gradientmap_pars_fragment:gQ,lightmap_fragment:vQ,lightmap_pars_fragment:AQ,lights_lambert_fragment:yQ,lights_lambert_pars_fragment:bQ,lights_pars_begin:xQ,lights_toon_fragment:CQ,lights_toon_pars_fragment:wQ,lights_phong_fragment:SQ,lights_phong_pars_fragment:_Q,lights_physical_fragment:MQ,lights_physical_pars_fragment:TQ,lights_fragment_begin:RQ,lights_fragment_maps:IQ,lights_fragment_end:PQ,logdepthbuf_fragment:LQ,logdepthbuf_pars_fragment:BQ,logdepthbuf_pars_vertex:OQ,logdepthbuf_vertex:DQ,map_fragment:NQ,map_pars_fragment:kQ,map_particle_fragment:FQ,map_particle_pars_fragment:UQ,metalnessmap_fragment:zQ,metalnessmap_pars_fragment:$Q,morphcolor_vertex:HQ,morphnormal_vertex:jQ,morphtarget_pars_vertex:GQ,morphtarget_vertex:VQ,normal_fragment_begin:WQ,normal_fragment_maps:QQ,normal_pars_fragment:KQ,normal_pars_vertex:XQ,normal_vertex:qQ,normalmap_pars_fragment:YQ,clearcoat_normal_fragment_begin:JQ,clearcoat_normal_fragment_maps:ZQ,clearcoat_pars_fragment:eK,iridescence_pars_fragment:tK,output_fragment:nK,packing:rK,premultiplied_alpha_fragment:iK,project_vertex:oK,dithering_fragment:aK,dithering_pars_fragment:sK,roughnessmap_fragment:lK,roughnessmap_pars_fragment:cK,shadowmap_pars_fragment:uK,shadowmap_pars_vertex:dK,shadowmap_vertex:fK,shadowmask_pars_fragment:hK,skinbase_vertex:pK,skinning_pars_vertex:mK,skinning_vertex:gK,skinnormal_vertex:vK,specularmap_fragment:AK,specularmap_pars_fragment:yK,tonemapping_fragment:bK,tonemapping_pars_fragment:xK,transmission_fragment:EK,transmission_pars_fragment:CK,uv_pars_fragment:wK,uv_pars_vertex:SK,uv_vertex:_K,uv2_pars_fragment:MK,uv2_pars_vertex:TK,uv2_vertex:RK,worldpos_vertex:IK,background_vert:`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,background_frag:`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,backgroundCube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,backgroundCube_frag:`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,cube_frag:`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,depth_vert:`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,depth_frag:`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,distanceRGBA_vert:`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,distanceRGBA_frag:`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,equirect_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,equirect_frag:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,linedashed_vert:`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,linedashed_frag:`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,meshbasic_vert:`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshbasic_frag:`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert:`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag:`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshmatcap_vert:`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshmatcap_frag:`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshnormal_vert:`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,meshnormal_frag:`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,meshphong_vert:`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphong_frag:`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert:`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,meshphysical_frag:`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshtoon_vert:`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshtoon_frag:`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,points_vert:`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,points_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,shadow_vert:`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,shadow_frag:`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,sprite_vert:`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,sprite_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`},ir={common:{diffuse:{value:new xr(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new da},uv2Transform:{value:new da},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new In(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new xr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new xr(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new da}},sprite:{diffuse:{value:new xr(16777215)},opacity:{value:1},center:{value:new In(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new da}}},bl={basic:{uniforms:ka([ir.common,ir.specularmap,ir.envmap,ir.aomap,ir.lightmap,ir.fog]),vertexShader:ii.meshbasic_vert,fragmentShader:ii.meshbasic_frag},lambert:{uniforms:ka([ir.common,ir.specularmap,ir.envmap,ir.aomap,ir.lightmap,ir.emissivemap,ir.bumpmap,ir.normalmap,ir.displacementmap,ir.fog,ir.lights,{emissive:{value:new xr(0)}}]),vertexShader:ii.meshlambert_vert,fragmentShader:ii.meshlambert_frag},phong:{uniforms:ka([ir.common,ir.specularmap,ir.envmap,ir.aomap,ir.lightmap,ir.emissivemap,ir.bumpmap,ir.normalmap,ir.displacementmap,ir.fog,ir.lights,{emissive:{value:new xr(0)},specular:{value:new xr(1118481)},shininess:{value:30}}]),vertexShader:ii.meshphong_vert,fragmentShader:ii.meshphong_frag},standard:{uniforms:ka([ir.common,ir.envmap,ir.aomap,ir.lightmap,ir.emissivemap,ir.bumpmap,ir.normalmap,ir.displacementmap,ir.roughnessmap,ir.metalnessmap,ir.fog,ir.lights,{emissive:{value:new xr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ii.meshphysical_vert,fragmentShader:ii.meshphysical_frag},toon:{uniforms:ka([ir.common,ir.aomap,ir.lightmap,ir.emissivemap,ir.bumpmap,ir.normalmap,ir.displacementmap,ir.gradientmap,ir.fog,ir.lights,{emissive:{value:new xr(0)}}]),vertexShader:ii.meshtoon_vert,fragmentShader:ii.meshtoon_frag},matcap:{uniforms:ka([ir.common,ir.bumpmap,ir.normalmap,ir.displacementmap,ir.fog,{matcap:{value:null}}]),vertexShader:ii.meshmatcap_vert,fragmentShader:ii.meshmatcap_frag},points:{uniforms:ka([ir.points,ir.fog]),vertexShader:ii.points_vert,fragmentShader:ii.points_frag},dashed:{uniforms:ka([ir.common,ir.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ii.linedashed_vert,fragmentShader:ii.linedashed_frag},depth:{uniforms:ka([ir.common,ir.displacementmap]),vertexShader:ii.depth_vert,fragmentShader:ii.depth_frag},normal:{uniforms:ka([ir.common,ir.bumpmap,ir.normalmap,ir.displacementmap,{opacity:{value:1}}]),vertexShader:ii.meshnormal_vert,fragmentShader:ii.meshnormal_frag},sprite:{uniforms:ka([ir.sprite,ir.fog]),vertexShader:ii.sprite_vert,fragmentShader:ii.sprite_frag},background:{uniforms:{uvTransform:{value:new da},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ii.background_vert,fragmentShader:ii.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:ii.backgroundCube_vert,fragmentShader:ii.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ii.cube_vert,fragmentShader:ii.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ii.equirect_vert,fragmentShader:ii.equirect_frag},distanceRGBA:{uniforms:ka([ir.common,ir.displacementmap,{referencePosition:{value:new dt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ii.distanceRGBA_vert,fragmentShader:ii.distanceRGBA_frag},shadow:{uniforms:ka([ir.lights,ir.fog,{color:{value:new xr(0)},opacity:{value:1}}]),vertexShader:ii.shadow_vert,fragmentShader:ii.shadow_frag}};bl.physical={uniforms:ka([bl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new In(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new xr(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new In},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new xr(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new xr(1,1,1)},specularColorMap:{value:null}}]),vertexShader:ii.meshphysical_vert,fragmentShader:ii.meshphysical_frag};const Oy={r:0,b:0,g:0};function PK($,a,f,x,S,I,k){const U=new xr(0);let W=I===!0?0:1,K,q,ee=null,te=0,ie=null;function de(ae,Ie){let He=!1,Ne=Ie.isScene===!0?Ie.background:null;Ne&&Ne.isTexture&&(Ne=(Ie.backgroundBlurriness>0?f:a).get(Ne));const ze=$.xr,Xe=ze.getSession&&ze.getSession();Xe&&Xe.environmentBlendMode==="additive"&&(Ne=null),Ne===null?le(U,W):Ne&&Ne.isColor&&(le(Ne,1),He=!0),($.autoClear||He)&&$.clear($.autoClearColor,$.autoClearDepth,$.autoClearStencil),Ne&&(Ne.isCubeTexture||Ne.mapping===je)?(q===void 0&&(q=new pa(new Zu(1,1,1),new oc({name:"BackgroundCubeMaterial",uniforms:Wh(bl.backgroundCube.uniforms),vertexShader:bl.backgroundCube.vertexShader,fragmentShader:bl.backgroundCube.fragmentShader,side:_,depthTest:!1,depthWrite:!1,fog:!1})),q.geometry.deleteAttribute("normal"),q.geometry.deleteAttribute("uv"),q.onBeforeRender=function(pt,Pt,Ge){this.matrixWorld.copyPosition(Ge.matrixWorld)},Object.defineProperty(q.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),S.update(q)),q.material.uniforms.envMap.value=Ne,q.material.uniforms.flipEnvMap.value=Ne.isCubeTexture&&Ne.isRenderTargetTexture===!1?-1:1,q.material.uniforms.backgroundBlurriness.value=Ie.backgroundBlurriness,q.material.uniforms.backgroundIntensity.value=Ie.backgroundIntensity,(ee!==Ne||te!==Ne.version||ie!==$.toneMapping)&&(q.material.needsUpdate=!0,ee=Ne,te=Ne.version,ie=$.toneMapping),q.layers.enableAll(),ae.unshift(q,q.geometry,q.material,0,0,null)):Ne&&Ne.isTexture&&(K===void 0&&(K=new pa(new qh(2,2),new oc({name:"BackgroundMaterial",uniforms:Wh(bl.background.uniforms),vertexShader:bl.background.vertexShader,fragmentShader:bl.background.fragmentShader,side:C,depthTest:!1,depthWrite:!1,fog:!1})),K.geometry.deleteAttribute("normal"),Object.defineProperty(K.material,"map",{get:function(){return this.uniforms.t2D.value}}),S.update(K)),K.material.uniforms.t2D.value=Ne,K.material.uniforms.backgroundIntensity.value=Ie.backgroundIntensity,Ne.matrixAutoUpdate===!0&&Ne.updateMatrix(),K.material.uniforms.uvTransform.value.copy(Ne.matrix),(ee!==Ne||te!==Ne.version||ie!==$.toneMapping)&&(K.material.needsUpdate=!0,ee=Ne,te=Ne.version,ie=$.toneMapping),K.layers.enableAll(),ae.unshift(K,K.geometry,K.material,0,0,null))}function le(ae,Ie){ae.getRGB(Oy,VL($)),x.buffers.color.setClear(Oy.r,Oy.g,Oy.b,Ie,k)}return{getClearColor:function(){return U},setClearColor:function(ae,Ie=1){U.set(ae),W=Ie,le(U,W)},getClearAlpha:function(){return W},setClearAlpha:function(ae){W=ae,le(U,W)},render:de}}function LK($,a,f,x){const S=$.getParameter(34921),I=x.isWebGL2?null:a.get("OES_vertex_array_object"),k=x.isWebGL2||I!==null,U={},W=ae(null);let K=W,q=!1;function ee($t,nn,Rn,On,Tn){let Qn=!1;if(k){const zn=le(On,Rn,nn);K!==zn&&(K=zn,ie(K.object)),Qn=Ie($t,On,Rn,Tn),Qn&&He($t,On,Rn,Tn)}else{const zn=nn.wireframe===!0;(K.geometry!==On.id||K.program!==Rn.id||K.wireframe!==zn)&&(K.geometry=On.id,K.program=Rn.id,K.wireframe=zn,Qn=!0)}Tn!==null&&f.update(Tn,34963),(Qn||q)&&(q=!1,Ge($t,nn,Rn,On),Tn!==null&&$.bindBuffer(34963,f.get(Tn).buffer))}function te(){return x.isWebGL2?$.createVertexArray():I.createVertexArrayOES()}function ie($t){return x.isWebGL2?$.bindVertexArray($t):I.bindVertexArrayOES($t)}function de($t){return x.isWebGL2?$.deleteVertexArray($t):I.deleteVertexArrayOES($t)}function le($t,nn,Rn){const On=Rn.wireframe===!0;let Tn=U[$t.id];Tn===void 0&&(Tn={},U[$t.id]=Tn);let Qn=Tn[nn.id];Qn===void 0&&(Qn={},Tn[nn.id]=Qn);let zn=Qn[On];return zn===void 0&&(zn=ae(te()),Qn[On]=zn),zn}function ae($t){const nn=[],Rn=[],On=[];for(let Tn=0;Tn<S;Tn++)nn[Tn]=0,Rn[Tn]=0,On[Tn]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:nn,enabledAttributes:Rn,attributeDivisors:On,object:$t,attributes:{},index:null}}function Ie($t,nn,Rn,On){const Tn=K.attributes,Qn=nn.attributes;let zn=0;const Cr=Rn.getAttributes();for(const hr in Cr)if(Cr[hr].location>=0){const Dn=Tn[hr];let ur=Qn[hr];if(ur===void 0&&(hr==="instanceMatrix"&&$t.instanceMatrix&&(ur=$t.instanceMatrix),hr==="instanceColor"&&$t.instanceColor&&(ur=$t.instanceColor)),Dn===void 0||Dn.attribute!==ur||ur&&Dn.data!==ur.data)return!0;zn++}return K.attributesNum!==zn||K.index!==On}function He($t,nn,Rn,On){const Tn={},Qn=nn.attributes;let zn=0;const Cr=Rn.getAttributes();for(const hr in Cr)if(Cr[hr].location>=0){let Dn=Qn[hr];Dn===void 0&&(hr==="instanceMatrix"&&$t.instanceMatrix&&(Dn=$t.instanceMatrix),hr==="instanceColor"&&$t.instanceColor&&(Dn=$t.instanceColor));const ur={};ur.attribute=Dn,Dn&&Dn.data&&(ur.data=Dn.data),Tn[hr]=ur,zn++}K.attributes=Tn,K.attributesNum=zn,K.index=On}function Ne(){const $t=K.newAttributes;for(let nn=0,Rn=$t.length;nn<Rn;nn++)$t[nn]=0}function ze($t){Xe($t,0)}function Xe($t,nn){const Rn=K.newAttributes,On=K.enabledAttributes,Tn=K.attributeDivisors;Rn[$t]=1,On[$t]===0&&($.enableVertexAttribArray($t),On[$t]=1),Tn[$t]!==nn&&((x.isWebGL2?$:a.get("ANGLE_instanced_arrays"))[x.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"]($t,nn),Tn[$t]=nn)}function pt(){const $t=K.newAttributes,nn=K.enabledAttributes;for(let Rn=0,On=nn.length;Rn<On;Rn++)nn[Rn]!==$t[Rn]&&($.disableVertexAttribArray(Rn),nn[Rn]=0)}function Pt($t,nn,Rn,On,Tn,Qn){x.isWebGL2===!0&&(Rn===5124||Rn===5125)?$.vertexAttribIPointer($t,nn,Rn,Tn,Qn):$.vertexAttribPointer($t,nn,Rn,On,Tn,Qn)}function Ge($t,nn,Rn,On){if(x.isWebGL2===!1&&($t.isInstancedMesh||On.isInstancedBufferGeometry)&&a.get("ANGLE_instanced_arrays")===null)return;Ne();const Tn=On.attributes,Qn=Rn.getAttributes(),zn=nn.defaultAttributeValues;for(const Cr in Qn){const hr=Qn[Cr];if(hr.location>=0){let hn=Tn[Cr];if(hn===void 0&&(Cr==="instanceMatrix"&&$t.instanceMatrix&&(hn=$t.instanceMatrix),Cr==="instanceColor"&&$t.instanceColor&&(hn=$t.instanceColor)),hn!==void 0){const Dn=hn.normalized,ur=hn.itemSize,on=f.get(hn);if(on===void 0)continue;const Mr=on.buffer,dr=on.type,Fr=on.bytesPerElement;if(hn.isInterleavedBufferAttribute){const Jn=hn.data,oi=Jn.stride,Pn=hn.offset;if(Jn.isInstancedInterleavedBuffer){for(let _n=0;_n<hr.locationSize;_n++)Xe(hr.location+_n,Jn.meshPerAttribute);$t.isInstancedMesh!==!0&&On._maxInstanceCount===void 0&&(On._maxInstanceCount=Jn.meshPerAttribute*Jn.count)}else for(let _n=0;_n<hr.locationSize;_n++)ze(hr.location+_n);$.bindBuffer(34962,Mr);for(let _n=0;_n<hr.locationSize;_n++)Pt(hr.location+_n,ur/hr.locationSize,dr,Dn,oi*Fr,(Pn+ur/hr.locationSize*_n)*Fr)}else{if(hn.isInstancedBufferAttribute){for(let Jn=0;Jn<hr.locationSize;Jn++)Xe(hr.location+Jn,hn.meshPerAttribute);$t.isInstancedMesh!==!0&&On._maxInstanceCount===void 0&&(On._maxInstanceCount=hn.meshPerAttribute*hn.count)}else for(let Jn=0;Jn<hr.locationSize;Jn++)ze(hr.location+Jn);$.bindBuffer(34962,Mr);for(let Jn=0;Jn<hr.locationSize;Jn++)Pt(hr.location+Jn,ur/hr.locationSize,dr,Dn,ur*Fr,ur/hr.locationSize*Jn*Fr)}}else if(zn!==void 0){const Dn=zn[Cr];if(Dn!==void 0)switch(Dn.length){case 2:$.vertexAttrib2fv(hr.location,Dn);break;case 3:$.vertexAttrib3fv(hr.location,Dn);break;case 4:$.vertexAttrib4fv(hr.location,Dn);break;default:$.vertexAttrib1fv(hr.location,Dn)}}}}pt()}function vt(){an();for(const $t in U){const nn=U[$t];for(const Rn in nn){const On=nn[Rn];for(const Tn in On)de(On[Tn].object),delete On[Tn];delete nn[Rn]}delete U[$t]}}function _t($t){if(U[$t.id]===void 0)return;const nn=U[$t.id];for(const Rn in nn){const On=nn[Rn];for(const Tn in On)de(On[Tn].object),delete On[Tn];delete nn[Rn]}delete U[$t.id]}function Gt($t){for(const nn in U){const Rn=U[nn];if(Rn[$t.id]===void 0)continue;const On=Rn[$t.id];for(const Tn in On)de(On[Tn].object),delete On[Tn];delete Rn[$t.id]}}function an(){Qt(),q=!0,K!==W&&(K=W,ie(K.object))}function Qt(){W.geometry=null,W.program=null,W.wireframe=!1}return{setup:ee,reset:an,resetDefaultState:Qt,dispose:vt,releaseStatesOfGeometry:_t,releaseStatesOfProgram:Gt,initAttributes:Ne,enableAttribute:ze,disableUnusedAttributes:pt}}function BK($,a,f,x){const S=x.isWebGL2;let I;function k(K){I=K}function U(K,q){$.drawArrays(I,K,q),f.update(q,I,1)}function W(K,q,ee){if(ee===0)return;let te,ie;if(S)te=$,ie="drawArraysInstanced";else if(te=a.get("ANGLE_instanced_arrays"),ie="drawArraysInstancedANGLE",te===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}te[ie](I,K,q,ee),f.update(q,I,ee)}this.setMode=k,this.render=U,this.renderInstances=W}function OK($,a,f){let x;function S(){if(x!==void 0)return x;if(a.has("EXT_texture_filter_anisotropic")===!0){const Pt=a.get("EXT_texture_filter_anisotropic");x=$.getParameter(Pt.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else x=0;return x}function I(Pt){if(Pt==="highp"){if($.getShaderPrecisionFormat(35633,36338).precision>0&&$.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";Pt="mediump"}return Pt==="mediump"&&$.getShaderPrecisionFormat(35633,36337).precision>0&&$.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const k=typeof WebGL2RenderingContext<"u"&&$ instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&$ instanceof WebGL2ComputeRenderingContext;let U=f.precision!==void 0?f.precision:"highp";const W=I(U);W!==U&&(console.warn("THREE.WebGLRenderer:",U,"not supported, using",W,"instead."),U=W);const K=k||a.has("WEBGL_draw_buffers"),q=f.logarithmicDepthBuffer===!0,ee=$.getParameter(34930),te=$.getParameter(35660),ie=$.getParameter(3379),de=$.getParameter(34076),le=$.getParameter(34921),ae=$.getParameter(36347),Ie=$.getParameter(36348),He=$.getParameter(36349),Ne=te>0,ze=k||a.has("OES_texture_float"),Xe=Ne&&ze,pt=k?$.getParameter(36183):0;return{isWebGL2:k,drawBuffers:K,getMaxAnisotropy:S,getMaxPrecision:I,precision:U,logarithmicDepthBuffer:q,maxTextures:ee,maxVertexTextures:te,maxTextureSize:ie,maxCubemapSize:de,maxAttributes:le,maxVertexUniforms:ae,maxVaryings:Ie,maxFragmentUniforms:He,vertexTextures:Ne,floatFragmentTextures:ze,floatVertexTextures:Xe,maxSamples:pt}}function DK($){const a=this;let f=null,x=0,S=!1,I=!1;const k=new ed,U=new da,W={value:null,needsUpdate:!1};this.uniform=W,this.numPlanes=0,this.numIntersection=0,this.init=function(ee,te,ie){const de=ee.length!==0||te||x!==0||S;return S=te,f=q(ee,ie,0),x=ee.length,de},this.beginShadows=function(){I=!0,q(null)},this.endShadows=function(){I=!1,K()},this.setState=function(ee,te,ie){const de=ee.clippingPlanes,le=ee.clipIntersection,ae=ee.clipShadows,Ie=$.get(ee);if(!S||de===null||de.length===0||I&&!ae)I?q(null):K();else{const He=I?0:x,Ne=He*4;let ze=Ie.clippingState||null;W.value=ze,ze=q(de,te,Ne,ie);for(let Xe=0;Xe!==Ne;++Xe)ze[Xe]=f[Xe];Ie.clippingState=ze,this.numIntersection=le?this.numPlanes:0,this.numPlanes+=He}};function K(){W.value!==f&&(W.value=f,W.needsUpdate=x>0),a.numPlanes=x,a.numIntersection=0}function q(ee,te,ie,de){const le=ee!==null?ee.length:0;let ae=null;if(le!==0){if(ae=W.value,de!==!0||ae===null){const Ie=ie+le*4,He=te.matrixWorldInverse;U.getNormalMatrix(He),(ae===null||ae.length<Ie)&&(ae=new Float32Array(Ie));for(let Ne=0,ze=ie;Ne!==le;++Ne,ze+=4)k.copy(ee[Ne]).applyMatrix4(He,U),k.normal.toArray(ae,ze),ae[ze+3]=k.constant}W.value=ae,W.needsUpdate=!0}return a.numPlanes=le,a.numIntersection=0,ae}}function NK($){let a=new WeakMap;function f(k,U){return U===Se?k.mapping=_e:U===we&&(k.mapping=Ce),k}function x(k){if(k&&k.isTexture&&k.isRenderTargetTexture===!1){const U=k.mapping;if(U===Se||U===we)if(a.has(k)){const W=a.get(k).texture;return f(W,k.mapping)}else{const W=k.image;if(W&&W.height>0){const K=new KL(W.height/2);return K.fromEquirectangularTexture($,k),a.set(k,K),k.addEventListener("dispose",S),f(K.texture,k.mapping)}else return null}}return k}function S(k){const U=k.target;U.removeEventListener("dispose",S);const W=a.get(U);W!==void 0&&(a.delete(U),W.dispose())}function I(){a=new WeakMap}return{get:x,dispose:I}}class Dy extends Py{constructor(a=-1,f=1,x=1,S=-1,I=.1,k=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=a,this.right=f,this.top=x,this.bottom=S,this.near=I,this.far=k,this.updateProjectionMatrix()}copy(a,f){return super.copy(a,f),this.left=a.left,this.right=a.right,this.top=a.top,this.bottom=a.bottom,this.near=a.near,this.far=a.far,this.zoom=a.zoom,this.view=a.view===null?null:Object.assign({},a.view),this}setViewOffset(a,f,x,S,I,k){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=a,this.view.fullHeight=f,this.view.offsetX=x,this.view.offsetY=S,this.view.width=I,this.view.height=k,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const a=(this.right-this.left)/(2*this.zoom),f=(this.top-this.bottom)/(2*this.zoom),x=(this.right+this.left)/2,S=(this.top+this.bottom)/2;let I=x-a,k=x+a,U=S+f,W=S-f;if(this.view!==null&&this.view.enabled){const K=(this.right-this.left)/this.view.fullWidth/this.zoom,q=(this.top-this.bottom)/this.view.fullHeight/this.zoom;I+=K*this.view.offsetX,k=I+K*this.view.width,U-=q*this.view.offsetY,W=U-q*this.view.height}this.projectionMatrix.makeOrthographic(I,k,U,W,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(a){const f=super.toJSON(a);return f.object.zoom=this.zoom,f.object.left=this.left,f.object.right=this.right,f.object.top=this.top,f.object.bottom=this.bottom,f.object.near=this.near,f.object.far=this.far,this.view!==null&&(f.object.view=Object.assign({},this.view)),f}}const Yh=4,XL=[.125,.215,.35,.446,.526,.582],ff=20,Zw=new Dy,qL=new xr;let eS=null;const hf=(1+Math.sqrt(5))/2,Jh=1/hf,YL=[new dt(1,1,1),new dt(-1,1,1),new dt(1,1,-1),new dt(-1,1,-1),new dt(0,hf,Jh),new dt(0,hf,-Jh),new dt(Jh,0,hf),new dt(-Jh,0,hf),new dt(hf,Jh,0),new dt(-hf,Jh,0)];class tS{constructor(a){this._renderer=a,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(a,f=0,x=.1,S=100){eS=this._renderer.getRenderTarget(),this._setSize(256);const I=this._allocateTargets();return I.depthBuffer=!0,this._sceneToCubeUV(a,x,S,I),f>0&&this._blur(I,0,0,f),this._applyPMREM(I),this._cleanup(I),I}fromEquirectangular(a,f=null){return this._fromTexture(a,f)}fromCubemap(a,f=null){return this._fromTexture(a,f)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=eB(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=ZL(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(a){this._lodMax=Math.floor(Math.log2(a)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let a=0;a<this._lodPlanes.length;a++)this._lodPlanes[a].dispose()}_cleanup(a){this._renderer.setRenderTarget(eS),a.scissorTest=!1,Ny(a,0,0,a.width,a.height)}_fromTexture(a,f){a.mapping===_e||a.mapping===Ce?this._setSize(a.image.length===0?16:a.image[0].width||a.image[0].image.width):this._setSize(a.image.width/4),eS=this._renderer.getRenderTarget();const x=f||this._allocateTargets();return this._textureToCubeUV(a,x),this._applyPMREM(x),this._cleanup(x),x}_allocateTargets(){const a=3*Math.max(this._cubeSize,112),f=4*this._cubeSize,x={magFilter:ve,minFilter:ve,generateMipmaps:!1,type:mt,format:Ln,encoding:mr,depthBuffer:!1},S=JL(a,f,x);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==a){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=JL(a,f,x);const{_lodMax:I}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=kK(I)),this._blurMaterial=FK(I,a,f)}return S}_compileMaterial(a){const f=new pa(this._lodPlanes[0],a);this._renderer.compile(f,Zw)}_sceneToCubeUV(a,f,x,S){const U=new zo(90,1,f,x),W=[1,-1,1,1,1,1],K=[1,1,1,-1,-1,-1],q=this._renderer,ee=q.autoClear,te=q.toneMapping;q.getClearColor(qL),q.toneMapping=Tt,q.autoClear=!1;const ie=new Xu({name:"PMREM.Background",side:_,depthWrite:!1,depthTest:!1}),de=new pa(new Zu,ie);let le=!1;const ae=a.background;ae?ae.isColor&&(ie.color.copy(ae),a.background=null,le=!0):(ie.color.copy(qL),le=!0);for(let Ie=0;Ie<6;Ie++){const He=Ie%3;He===0?(U.up.set(0,W[Ie],0),U.lookAt(K[Ie],0,0)):He===1?(U.up.set(0,0,W[Ie]),U.lookAt(0,K[Ie],0)):(U.up.set(0,W[Ie],0),U.lookAt(0,0,K[Ie]));const Ne=this._cubeSize;Ny(S,He*Ne,Ie>2?Ne:0,Ne,Ne),q.setRenderTarget(S),le&&q.render(de,U),q.render(a,U)}de.geometry.dispose(),de.material.dispose(),q.toneMapping=te,q.autoClear=ee,a.background=ae}_textureToCubeUV(a,f){const x=this._renderer,S=a.mapping===_e||a.mapping===Ce;S?(this._cubemapMaterial===null&&(this._cubemapMaterial=eB()),this._cubemapMaterial.uniforms.flipEnvMap.value=a.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=ZL());const I=S?this._cubemapMaterial:this._equirectMaterial,k=new pa(this._lodPlanes[0],I),U=I.uniforms;U.envMap.value=a;const W=this._cubeSize;Ny(f,0,0,3*W,2*W),x.setRenderTarget(f),x.render(k,Zw)}_applyPMREM(a){const f=this._renderer,x=f.autoClear;f.autoClear=!1;for(let S=1;S<this._lodPlanes.length;S++){const I=Math.sqrt(this._sigmas[S]*this._sigmas[S]-this._sigmas[S-1]*this._sigmas[S-1]),k=YL[(S-1)%YL.length];this._blur(a,S-1,S,I,k)}f.autoClear=x}_blur(a,f,x,S,I){const k=this._pingPongRenderTarget;this._halfBlur(a,k,f,x,S,"latitudinal",I),this._halfBlur(k,a,x,x,S,"longitudinal",I)}_halfBlur(a,f,x,S,I,k,U){const W=this._renderer,K=this._blurMaterial;k!=="latitudinal"&&k!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const q=3,ee=new pa(this._lodPlanes[S],K),te=K.uniforms,ie=this._sizeLods[x]-1,de=isFinite(I)?Math.PI/(2*ie):2*Math.PI/(2*ff-1),le=I/de,ae=isFinite(I)?1+Math.floor(q*le):ff;ae>ff&&console.warn(`sigmaRadians, ${I}, is too large and will clip, as it requested ${ae} samples when the maximum is set to ${ff}`);const Ie=[];let He=0;for(let Pt=0;Pt<ff;++Pt){const Ge=Pt/le,vt=Math.exp(-Ge*Ge/2);Ie.push(vt),Pt===0?He+=vt:Pt<ae&&(He+=2*vt)}for(let Pt=0;Pt<Ie.length;Pt++)Ie[Pt]=Ie[Pt]/He;te.envMap.value=a.texture,te.samples.value=ae,te.weights.value=Ie,te.latitudinal.value=k==="latitudinal",U&&(te.poleAxis.value=U);const{_lodMax:Ne}=this;te.dTheta.value=de,te.mipInt.value=Ne-x;const ze=this._sizeLods[S],Xe=3*ze*(S>Ne-Yh?S-Ne+Yh:0),pt=4*(this._cubeSize-ze);Ny(f,Xe,pt,3*ze,2*ze),W.setRenderTarget(f),W.render(ee,Zw)}}function kK($){const a=[],f=[],x=[];let S=$;const I=$-Yh+1+XL.length;for(let k=0;k<I;k++){const U=Math.pow(2,S);f.push(U);let W=1/U;k>$-Yh?W=XL[k-$+Yh-1]:k===0&&(W=0),x.push(W);const K=1/(U-2),q=-K,ee=1+K,te=[q,q,ee,q,ee,ee,q,q,ee,ee,q,ee],ie=6,de=6,le=3,ae=2,Ie=1,He=new Float32Array(le*de*ie),Ne=new Float32Array(ae*de*ie),ze=new Float32Array(Ie*de*ie);for(let pt=0;pt<ie;pt++){const Pt=pt%3*2/3-1,Ge=pt>2?0:-1,vt=[Pt,Ge,0,Pt+2/3,Ge,0,Pt+2/3,Ge+1,0,Pt,Ge,0,Pt+2/3,Ge+1,0,Pt,Ge+1,0];He.set(vt,le*de*pt),Ne.set(te,ae*de*pt);const _t=[pt,pt,pt,pt,pt,pt];ze.set(_t,Ie*de*pt)}const Xe=new ci;Xe.setAttribute("position",new Wi(He,le)),Xe.setAttribute("uv",new Wi(Ne,ae)),Xe.setAttribute("faceIndex",new Wi(ze,Ie)),a.push(Xe),S>Yh&&S--}return{lodPlanes:a,sizeLods:f,sigmas:x}}function JL($,a,f){const x=new ns($,a,f);return x.texture.mapping=je,x.texture.name="PMREM.cubeUv",x.scissorTest=!0,x}function Ny($,a,f,x,S){$.viewport.set(a,f,x,S),$.scissor.set(a,f,x,S)}function FK($,a,f){const x=new Float32Array(ff),S=new dt(0,1,0);return new oc({name:"SphericalGaussianBlur",defines:{n:ff,CUBEUV_TEXEL_WIDTH:1/a,CUBEUV_TEXEL_HEIGHT:1/f,CUBEUV_MAX_MIP:`${$}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:x},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:S}},vertexShader:nS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:R,depthTest:!1,depthWrite:!1})}function ZL(){return new oc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:nS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:R,depthTest:!1,depthWrite:!1})}function eB(){return new oc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:nS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:R,depthTest:!1,depthWrite:!1})}function nS(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function UK($){let a=new WeakMap,f=null;function x(U){if(U&&U.isTexture){const W=U.mapping,K=W===Se||W===we,q=W===_e||W===Ce;if(K||q)if(U.isRenderTargetTexture&&U.needsPMREMUpdate===!0){U.needsPMREMUpdate=!1;let ee=a.get(U);return f===null&&(f=new tS($)),ee=K?f.fromEquirectangular(U,ee):f.fromCubemap(U,ee),a.set(U,ee),ee.texture}else{if(a.has(U))return a.get(U).texture;{const ee=U.image;if(K&&ee&&ee.height>0||q&&ee&&S(ee)){f===null&&(f=new tS($));const te=K?f.fromEquirectangular(U):f.fromCubemap(U);return a.set(U,te),U.addEventListener("dispose",I),te.texture}else return null}}}return U}function S(U){let W=0;const K=6;for(let q=0;q<K;q++)U[q]!==void 0&&W++;return W===K}function I(U){const W=U.target;W.removeEventListener("dispose",I);const K=a.get(W);K!==void 0&&(a.delete(W),K.dispose())}function k(){a=new WeakMap,f!==null&&(f.dispose(),f=null)}return{get:x,dispose:k}}function zK($){const a={};function f(x){if(a[x]!==void 0)return a[x];let S;switch(x){case"WEBGL_depth_texture":S=$.getExtension("WEBGL_depth_texture")||$.getExtension("MOZ_WEBGL_depth_texture")||$.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":S=$.getExtension("EXT_texture_filter_anisotropic")||$.getExtension("MOZ_EXT_texture_filter_anisotropic")||$.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":S=$.getExtension("WEBGL_compressed_texture_s3tc")||$.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||$.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":S=$.getExtension("WEBGL_compressed_texture_pvrtc")||$.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:S=$.getExtension(x)}return a[x]=S,S}return{has:function(x){return f(x)!==null},init:function(x){x.isWebGL2?f("EXT_color_buffer_float"):(f("WEBGL_depth_texture"),f("OES_texture_float"),f("OES_texture_half_float"),f("OES_texture_half_float_linear"),f("OES_standard_derivatives"),f("OES_element_index_uint"),f("OES_vertex_array_object"),f("ANGLE_instanced_arrays")),f("OES_texture_float_linear"),f("EXT_color_buffer_half_float"),f("WEBGL_multisampled_render_to_texture")},get:function(x){const S=f(x);return S===null&&console.warn("THREE.WebGLRenderer: "+x+" extension not supported."),S}}}function $K($,a,f,x){const S={},I=new WeakMap;function k(ee){const te=ee.target;te.index!==null&&a.remove(te.index);for(const de in te.attributes)a.remove(te.attributes[de]);te.removeEventListener("dispose",k),delete S[te.id];const ie=I.get(te);ie&&(a.remove(ie),I.delete(te)),x.releaseStatesOfGeometry(te),te.isInstancedBufferGeometry===!0&&delete te._maxInstanceCount,f.memory.geometries--}function U(ee,te){return S[te.id]===!0||(te.addEventListener("dispose",k),S[te.id]=!0,f.memory.geometries++),te}function W(ee){const te=ee.attributes;for(const de in te)a.update(te[de],34962);const ie=ee.morphAttributes;for(const de in ie){const le=ie[de];for(let ae=0,Ie=le.length;ae<Ie;ae++)a.update(le[ae],34962)}}function K(ee){const te=[],ie=ee.index,de=ee.attributes.position;let le=0;if(ie!==null){const He=ie.array;le=ie.version;for(let Ne=0,ze=He.length;Ne<ze;Ne+=3){const Xe=He[Ne+0],pt=He[Ne+1],Pt=He[Ne+2];te.push(Xe,pt,pt,Pt,Pt,Xe)}}else{const He=de.array;le=de.version;for(let Ne=0,ze=He.length/3-1;Ne<ze;Ne+=3){const Xe=Ne+0,pt=Ne+1,Pt=Ne+2;te.push(Xe,pt,pt,Pt,Pt,Xe)}}const ae=new(py(te)?Gw:jw)(te,1);ae.version=le;const Ie=I.get(ee);Ie&&a.remove(Ie),I.set(ee,ae)}function q(ee){const te=I.get(ee);if(te){const ie=ee.index;ie!==null&&te.version<ie.version&&K(ee)}else K(ee);return I.get(ee)}return{get:U,update:W,getWireframeAttribute:q}}function HK($,a,f,x){const S=x.isWebGL2;let I;function k(te){I=te}let U,W;function K(te){U=te.type,W=te.bytesPerElement}function q(te,ie){$.drawElements(I,ie,U,te*W),f.update(ie,I,1)}function ee(te,ie,de){if(de===0)return;let le,ae;if(S)le=$,ae="drawElementsInstanced";else if(le=a.get("ANGLE_instanced_arrays"),ae="drawElementsInstancedANGLE",le===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}le[ae](I,ie,U,te*W,de),f.update(ie,I,de)}this.setMode=k,this.setIndex=K,this.render=q,this.renderInstances=ee}function jK($){const a={geometries:0,textures:0},f={frame:0,calls:0,triangles:0,points:0,lines:0};function x(I,k,U){switch(f.calls++,k){case 4:f.triangles+=U*(I/3);break;case 1:f.lines+=U*(I/2);break;case 3:f.lines+=U*(I-1);break;case 2:f.lines+=U*I;break;case 0:f.points+=U*I;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",k);break}}function S(){f.frame++,f.calls=0,f.triangles=0,f.points=0,f.lines=0}return{memory:a,render:f,programs:null,autoReset:!0,reset:S,update:x}}function GK($,a){return $[0]-a[0]}function VK($,a){return Math.abs(a[1])-Math.abs($[1])}function WK($,a,f){const x={},S=new Float32Array(8),I=new WeakMap,k=new Si,U=[];for(let K=0;K<8;K++)U[K]=[K,0];function W(K,q,ee,te){const ie=K.morphTargetInfluences;if(a.isWebGL2===!0){const le=q.morphAttributes.position||q.morphAttributes.normal||q.morphAttributes.color,ae=le!==void 0?le.length:0;let Ie=I.get(q);if(Ie===void 0||Ie.count!==ae){let Rn=function(){$t.dispose(),I.delete(q),q.removeEventListener("dispose",Rn)};var de=Rn;Ie!==void 0&&Ie.texture.dispose();const ze=q.morphAttributes.position!==void 0,Xe=q.morphAttributes.normal!==void 0,pt=q.morphAttributes.color!==void 0,Pt=q.morphAttributes.position||[],Ge=q.morphAttributes.normal||[],vt=q.morphAttributes.color||[];let _t=0;ze===!0&&(_t=1),Xe===!0&&(_t=2),pt===!0&&(_t=3);let Gt=q.attributes.position.count*_t,an=1;Gt>a.maxTextureSize&&(an=Math.ceil(Gt/a.maxTextureSize),Gt=a.maxTextureSize);const Qt=new Float32Array(Gt*an*4*ae),$t=new lf(Qt,Gt,an,ae);$t.type=Lt,$t.needsUpdate=!0;const nn=_t*4;for(let On=0;On<ae;On++){const Tn=Pt[On],Qn=Ge[On],zn=vt[On],Cr=Gt*an*4*On;for(let hr=0;hr<Tn.count;hr++){const hn=hr*nn;ze===!0&&(k.fromBufferAttribute(Tn,hr),Qt[Cr+hn+0]=k.x,Qt[Cr+hn+1]=k.y,Qt[Cr+hn+2]=k.z,Qt[Cr+hn+3]=0),Xe===!0&&(k.fromBufferAttribute(Qn,hr),Qt[Cr+hn+4]=k.x,Qt[Cr+hn+5]=k.y,Qt[Cr+hn+6]=k.z,Qt[Cr+hn+7]=0),pt===!0&&(k.fromBufferAttribute(zn,hr),Qt[Cr+hn+8]=k.x,Qt[Cr+hn+9]=k.y,Qt[Cr+hn+10]=k.z,Qt[Cr+hn+11]=zn.itemSize===4?k.w:1)}}Ie={count:ae,texture:$t,size:new In(Gt,an)},I.set(q,Ie),q.addEventListener("dispose",Rn)}let He=0;for(let ze=0;ze<ie.length;ze++)He+=ie[ze];const Ne=q.morphTargetsRelative?1:1-He;te.getUniforms().setValue($,"morphTargetBaseInfluence",Ne),te.getUniforms().setValue($,"morphTargetInfluences",ie),te.getUniforms().setValue($,"morphTargetsTexture",Ie.texture,f),te.getUniforms().setValue($,"morphTargetsTextureSize",Ie.size)}else{const le=ie===void 0?0:ie.length;let ae=x[q.id];if(ae===void 0||ae.length!==le){ae=[];for(let Xe=0;Xe<le;Xe++)ae[Xe]=[Xe,0];x[q.id]=ae}for(let Xe=0;Xe<le;Xe++){const pt=ae[Xe];pt[0]=Xe,pt[1]=ie[Xe]}ae.sort(VK);for(let Xe=0;Xe<8;Xe++)Xe<le&&ae[Xe][1]?(U[Xe][0]=ae[Xe][0],U[Xe][1]=ae[Xe][1]):(U[Xe][0]=Number.MAX_SAFE_INTEGER,U[Xe][1]=0);U.sort(GK);const Ie=q.morphAttributes.position,He=q.morphAttributes.normal;let Ne=0;for(let Xe=0;Xe<8;Xe++){const pt=U[Xe],Pt=pt[0],Ge=pt[1];Pt!==Number.MAX_SAFE_INTEGER&&Ge?(Ie&&q.getAttribute("morphTarget"+Xe)!==Ie[Pt]&&q.setAttribute("morphTarget"+Xe,Ie[Pt]),He&&q.getAttribute("morphNormal"+Xe)!==He[Pt]&&q.setAttribute("morphNormal"+Xe,He[Pt]),S[Xe]=Ge,Ne+=Ge):(Ie&&q.hasAttribute("morphTarget"+Xe)===!0&&q.deleteAttribute("morphTarget"+Xe),He&&q.hasAttribute("morphNormal"+Xe)===!0&&q.deleteAttribute("morphNormal"+Xe),S[Xe]=0)}const ze=q.morphTargetsRelative?1:1-Ne;te.getUniforms().setValue($,"morphTargetBaseInfluence",ze),te.getUniforms().setValue($,"morphTargetInfluences",S)}}return{update:W}}function QK($,a,f,x){let S=new WeakMap;function I(W){const K=x.render.frame,q=W.geometry,ee=a.get(W,q);return S.get(ee)!==K&&(a.update(ee),S.set(ee,K)),W.isInstancedMesh&&(W.hasEventListener("dispose",U)===!1&&W.addEventListener("dispose",U),f.update(W.instanceMatrix,34962),W.instanceColor!==null&&f.update(W.instanceColor,34962)),ee}function k(){S=new WeakMap}function U(W){const K=W.target;K.removeEventListener("dispose",U),f.remove(K.instanceMatrix),K.instanceColor!==null&&f.remove(K.instanceColor)}return{update:I,dispose:k}}const tB=new ho,nB=new lf,rB=new zh,iB=new Hg,oB=[],aB=[],sB=new Float32Array(16),lB=new Float32Array(9),cB=new Float32Array(4);function Zh($,a,f){const x=$[0];if(x<=0||x>0)return $;const S=a*f;let I=oB[S];if(I===void 0&&(I=new Float32Array(S),oB[S]=I),a!==0){x.toArray(I,0);for(let k=1,U=0;k!==a;++k)U+=f,$[k].toArray(I,U)}return I}function $o($,a){if($.length!==a.length)return!1;for(let f=0,x=$.length;f<x;f++)if($[f]!==a[f])return!1;return!0}function Ho($,a){for(let f=0,x=a.length;f<x;f++)$[f]=a[f]}function ky($,a){let f=aB[a];f===void 0&&(f=new Int32Array(a),aB[a]=f);for(let x=0;x!==a;++x)f[x]=$.allocateTextureUnit();return f}function KK($,a){const f=this.cache;f[0]!==a&&($.uniform1f(this.addr,a),f[0]=a)}function XK($,a){const f=this.cache;if(a.x!==void 0)(f[0]!==a.x||f[1]!==a.y)&&($.uniform2f(this.addr,a.x,a.y),f[0]=a.x,f[1]=a.y);else{if($o(f,a))return;$.uniform2fv(this.addr,a),Ho(f,a)}}function qK($,a){const f=this.cache;if(a.x!==void 0)(f[0]!==a.x||f[1]!==a.y||f[2]!==a.z)&&($.uniform3f(this.addr,a.x,a.y,a.z),f[0]=a.x,f[1]=a.y,f[2]=a.z);else if(a.r!==void 0)(f[0]!==a.r||f[1]!==a.g||f[2]!==a.b)&&($.uniform3f(this.addr,a.r,a.g,a.b),f[0]=a.r,f[1]=a.g,f[2]=a.b);else{if($o(f,a))return;$.uniform3fv(this.addr,a),Ho(f,a)}}function YK($,a){const f=this.cache;if(a.x!==void 0)(f[0]!==a.x||f[1]!==a.y||f[2]!==a.z||f[3]!==a.w)&&($.uniform4f(this.addr,a.x,a.y,a.z,a.w),f[0]=a.x,f[1]=a.y,f[2]=a.z,f[3]=a.w);else{if($o(f,a))return;$.uniform4fv(this.addr,a),Ho(f,a)}}function JK($,a){const f=this.cache,x=a.elements;if(x===void 0){if($o(f,a))return;$.uniformMatrix2fv(this.addr,!1,a),Ho(f,a)}else{if($o(f,x))return;cB.set(x),$.uniformMatrix2fv(this.addr,!1,cB),Ho(f,x)}}function ZK($,a){const f=this.cache,x=a.elements;if(x===void 0){if($o(f,a))return;$.uniformMatrix3fv(this.addr,!1,a),Ho(f,a)}else{if($o(f,x))return;lB.set(x),$.uniformMatrix3fv(this.addr,!1,lB),Ho(f,x)}}function eX($,a){const f=this.cache,x=a.elements;if(x===void 0){if($o(f,a))return;$.uniformMatrix4fv(this.addr,!1,a),Ho(f,a)}else{if($o(f,x))return;sB.set(x),$.uniformMatrix4fv(this.addr,!1,sB),Ho(f,x)}}function tX($,a){const f=this.cache;f[0]!==a&&($.uniform1i(this.addr,a),f[0]=a)}function nX($,a){const f=this.cache;if(a.x!==void 0)(f[0]!==a.x||f[1]!==a.y)&&($.uniform2i(this.addr,a.x,a.y),f[0]=a.x,f[1]=a.y);else{if($o(f,a))return;$.uniform2iv(this.addr,a),Ho(f,a)}}function rX($,a){const f=this.cache;if(a.x!==void 0)(f[0]!==a.x||f[1]!==a.y||f[2]!==a.z)&&($.uniform3i(this.addr,a.x,a.y,a.z),f[0]=a.x,f[1]=a.y,f[2]=a.z);else{if($o(f,a))return;$.uniform3iv(this.addr,a),Ho(f,a)}}function iX($,a){const f=this.cache;if(a.x!==void 0)(f[0]!==a.x||f[1]!==a.y||f[2]!==a.z||f[3]!==a.w)&&($.uniform4i(this.addr,a.x,a.y,a.z,a.w),f[0]=a.x,f[1]=a.y,f[2]=a.z,f[3]=a.w);else{if($o(f,a))return;$.uniform4iv(this.addr,a),Ho(f,a)}}function oX($,a){const f=this.cache;f[0]!==a&&($.uniform1ui(this.addr,a),f[0]=a)}function aX($,a){const f=this.cache;if(a.x!==void 0)(f[0]!==a.x||f[1]!==a.y)&&($.uniform2ui(this.addr,a.x,a.y),f[0]=a.x,f[1]=a.y);else{if($o(f,a))return;$.uniform2uiv(this.addr,a),Ho(f,a)}}function sX($,a){const f=this.cache;if(a.x!==void 0)(f[0]!==a.x||f[1]!==a.y||f[2]!==a.z)&&($.uniform3ui(this.addr,a.x,a.y,a.z),f[0]=a.x,f[1]=a.y,f[2]=a.z);else{if($o(f,a))return;$.uniform3uiv(this.addr,a),Ho(f,a)}}function lX($,a){const f=this.cache;if(a.x!==void 0)(f[0]!==a.x||f[1]!==a.y||f[2]!==a.z||f[3]!==a.w)&&($.uniform4ui(this.addr,a.x,a.y,a.z,a.w),f[0]=a.x,f[1]=a.y,f[2]=a.z,f[3]=a.w);else{if($o(f,a))return;$.uniform4uiv(this.addr,a),Ho(f,a)}}function cX($,a,f){const x=this.cache,S=f.allocateTextureUnit();x[0]!==S&&($.uniform1i(this.addr,S),x[0]=S),f.setTexture2D(a||tB,S)}function uX($,a,f){const x=this.cache,S=f.allocateTextureUnit();x[0]!==S&&($.uniform1i(this.addr,S),x[0]=S),f.setTexture3D(a||rB,S)}function dX($,a,f){const x=this.cache,S=f.allocateTextureUnit();x[0]!==S&&($.uniform1i(this.addr,S),x[0]=S),f.setTextureCube(a||iB,S)}function fX($,a,f){const x=this.cache,S=f.allocateTextureUnit();x[0]!==S&&($.uniform1i(this.addr,S),x[0]=S),f.setTexture2DArray(a||nB,S)}function hX($){switch($){case 5126:return KK;case 35664:return XK;case 35665:return qK;case 35666:return YK;case 35674:return JK;case 35675:return ZK;case 35676:return eX;case 5124:case 35670:return tX;case 35667:case 35671:return nX;case 35668:case 35672:return rX;case 35669:case 35673:return iX;case 5125:return oX;case 36294:return aX;case 36295:return sX;case 36296:return lX;case 35678:case 36198:case 36298:case 36306:case 35682:return cX;case 35679:case 36299:case 36307:return uX;case 35680:case 36300:case 36308:case 36293:return dX;case 36289:case 36303:case 36311:case 36292:return fX}}function pX($,a){$.uniform1fv(this.addr,a)}function mX($,a){const f=Zh(a,this.size,2);$.uniform2fv(this.addr,f)}function gX($,a){const f=Zh(a,this.size,3);$.uniform3fv(this.addr,f)}function vX($,a){const f=Zh(a,this.size,4);$.uniform4fv(this.addr,f)}function AX($,a){const f=Zh(a,this.size,4);$.uniformMatrix2fv(this.addr,!1,f)}function yX($,a){const f=Zh(a,this.size,9);$.uniformMatrix3fv(this.addr,!1,f)}function bX($,a){const f=Zh(a,this.size,16);$.uniformMatrix4fv(this.addr,!1,f)}function xX($,a){$.uniform1iv(this.addr,a)}function EX($,a){$.uniform2iv(this.addr,a)}function CX($,a){$.uniform3iv(this.addr,a)}function wX($,a){$.uniform4iv(this.addr,a)}function SX($,a){$.uniform1uiv(this.addr,a)}function _X($,a){$.uniform2uiv(this.addr,a)}function MX($,a){$.uniform3uiv(this.addr,a)}function TX($,a){$.uniform4uiv(this.addr,a)}function RX($,a,f){const x=this.cache,S=a.length,I=ky(f,S);$o(x,I)||($.uniform1iv(this.addr,I),Ho(x,I));for(let k=0;k!==S;++k)f.setTexture2D(a[k]||tB,I[k])}function IX($,a,f){const x=this.cache,S=a.length,I=ky(f,S);$o(x,I)||($.uniform1iv(this.addr,I),Ho(x,I));for(let k=0;k!==S;++k)f.setTexture3D(a[k]||rB,I[k])}function PX($,a,f){const x=this.cache,S=a.length,I=ky(f,S);$o(x,I)||($.uniform1iv(this.addr,I),Ho(x,I));for(let k=0;k!==S;++k)f.setTextureCube(a[k]||iB,I[k])}function LX($,a,f){const x=this.cache,S=a.length,I=ky(f,S);$o(x,I)||($.uniform1iv(this.addr,I),Ho(x,I));for(let k=0;k!==S;++k)f.setTexture2DArray(a[k]||nB,I[k])}function BX($){switch($){case 5126:return pX;case 35664:return mX;case 35665:return gX;case 35666:return vX;case 35674:return AX;case 35675:return yX;case 35676:return bX;case 5124:case 35670:return xX;case 35667:case 35671:return EX;case 35668:case 35672:return CX;case 35669:case 35673:return wX;case 5125:return SX;case 36294:return _X;case 36295:return MX;case 36296:return TX;case 35678:case 36198:case 36298:case 36306:case 35682:return RX;case 35679:case 36299:case 36307:return IX;case 35680:case 36300:case 36308:case 36293:return PX;case 36289:case 36303:case 36311:case 36292:return LX}}class OX{constructor(a,f,x){this.id=a,this.addr=x,this.cache=[],this.setValue=hX(f.type)}}class DX{constructor(a,f,x){this.id=a,this.addr=x,this.cache=[],this.size=f.size,this.setValue=BX(f.type)}}class NX{constructor(a){this.id=a,this.seq=[],this.map={}}setValue(a,f,x){const S=this.seq;for(let I=0,k=S.length;I!==k;++I){const U=S[I];U.setValue(a,f[U.id],x)}}}const rS=/(\w+)(\])?(\[|\.)?/g;function uB($,a){$.seq.push(a),$.map[a.id]=a}function kX($,a,f){const x=$.name,S=x.length;for(rS.lastIndex=0;;){const I=rS.exec(x),k=rS.lastIndex;let U=I[1];const W=I[2]==="]",K=I[3];if(W&&(U=U|0),K===void 0||K==="["&&k+2===S){uB(f,K===void 0?new OX(U,$,a):new DX(U,$,a));break}else{let ee=f.map[U];ee===void 0&&(ee=new NX(U),uB(f,ee)),f=ee}}}class Fy{constructor(a,f){this.seq=[],this.map={};const x=a.getProgramParameter(f,35718);for(let S=0;S<x;++S){const I=a.getActiveUniform(f,S),k=a.getUniformLocation(f,I.name);kX(I,k,this)}}setValue(a,f,x,S){const I=this.map[f];I!==void 0&&I.setValue(a,x,S)}setOptional(a,f,x){const S=f[x];S!==void 0&&this.setValue(a,x,S)}static upload(a,f,x,S){for(let I=0,k=f.length;I!==k;++I){const U=f[I],W=x[U.id];W.needsUpdate!==!1&&U.setValue(a,W.value,S)}}static seqWithValue(a,f){const x=[];for(let S=0,I=a.length;S!==I;++S){const k=a[S];k.id in f&&x.push(k)}return x}}function dB($,a,f){const x=$.createShader(a);return $.shaderSource(x,f),$.compileShader(x),x}let FX=0;function UX($,a){const f=$.split(`
`),x=[],S=Math.max(a-6,0),I=Math.min(a+6,f.length);for(let k=S;k<I;k++){const U=k+1;x.push(`${U===a?">":" "} ${U}: ${f[k]}`)}return x.join(`
`)}function zX($){switch($){case mr:return["Linear","( value )"];case Hn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",$),["Linear","( value )"]}}function fB($,a,f){const x=$.getShaderParameter(a,35713),S=$.getShaderInfoLog(a).trim();if(x&&S==="")return"";const I=/ERROR: 0:(\d+)/.exec(S);if(I){const k=parseInt(I[1]);return f.toUpperCase()+`

`+S+`

`+UX($.getShaderSource(a),k)}else return S}function $X($,a){const f=zX(a);return"vec4 "+$+"( vec4 value ) { return LinearTo"+f[0]+f[1]+"; }"}function HX($,a){let f;switch(a){case Dt:f="Linear";break;case Yt:f="Reinhard";break;case Ve:f="OptimizedCineon";break;case ye:f="ACESFilmic";break;case fe:f="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",a),f="Linear"}return"vec3 "+$+"( vec3 color ) { return "+f+"ToneMapping( color ); }"}function jX($){return[$.extensionDerivatives||$.envMapCubeUVHeight||$.bumpMap||$.tangentSpaceNormalMap||$.clearcoatNormalMap||$.flatShading||$.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",($.extensionFragDepth||$.logarithmicDepthBuffer)&&$.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",$.extensionDrawBuffers&&$.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",($.extensionShaderTextureLOD||$.envMap||$.transmission)&&$.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(jg).join(`
`)}function GX($){const a=[];for(const f in $){const x=$[f];x!==!1&&a.push("#define "+f+" "+x)}return a.join(`
`)}function VX($,a){const f={},x=$.getProgramParameter(a,35721);for(let S=0;S<x;S++){const I=$.getActiveAttrib(a,S),k=I.name;let U=1;I.type===35674&&(U=2),I.type===35675&&(U=3),I.type===35676&&(U=4),f[k]={type:I.type,location:$.getAttribLocation(a,k),locationSize:U}}return f}function jg($){return $!==""}function hB($,a){const f=a.numSpotLightShadows+a.numSpotLightMaps-a.numSpotLightShadowsWithMaps;return $.replace(/NUM_DIR_LIGHTS/g,a.numDirLights).replace(/NUM_SPOT_LIGHTS/g,a.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,a.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,f).replace(/NUM_RECT_AREA_LIGHTS/g,a.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,a.numPointLights).replace(/NUM_HEMI_LIGHTS/g,a.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,a.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,a.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,a.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,a.numPointLightShadows)}function pB($,a){return $.replace(/NUM_CLIPPING_PLANES/g,a.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,a.numClippingPlanes-a.numClipIntersection)}const WX=/^[ \t]*#include +<([\w\d./]+)>/gm;function iS($){return $.replace(WX,QX)}function QX($,a){const f=ii[a];if(f===void 0)throw new Error("Can not resolve #include <"+a+">");return iS(f)}const KX=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function mB($){return $.replace(KX,XX)}function XX($,a,f,x){let S="";for(let I=parseInt(a);I<parseInt(f);I++)S+=x.replace(/\[\s*i\s*\]/g,"[ "+I+" ]").replace(/UNROLLED_LOOP_INDEX/g,I);return S}function gB($){let a="precision "+$.precision+` float;
precision `+$.precision+" int;";return $.precision==="highp"?a+=`
#define HIGH_PRECISION`:$.precision==="mediump"?a+=`
#define MEDIUM_PRECISION`:$.precision==="lowp"&&(a+=`
#define LOW_PRECISION`),a}function qX($){let a="SHADOWMAP_TYPE_BASIC";return $.shadowMapType===g?a="SHADOWMAP_TYPE_PCF":$.shadowMapType===w?a="SHADOWMAP_TYPE_PCF_SOFT":$.shadowMapType===E&&(a="SHADOWMAP_TYPE_VSM"),a}function YX($){let a="ENVMAP_TYPE_CUBE";if($.envMap)switch($.envMapMode){case _e:case Ce:a="ENVMAP_TYPE_CUBE";break;case je:a="ENVMAP_TYPE_CUBE_UV";break}return a}function JX($){let a="ENVMAP_MODE_REFLECTION";if($.envMap)switch($.envMapMode){case Ce:a="ENVMAP_MODE_REFRACTION";break}return a}function ZX($){let a="ENVMAP_BLENDING_NONE";if($.envMap)switch($.combine){case Et:a="ENVMAP_BLENDING_MULTIPLY";break;case gt:a="ENVMAP_BLENDING_MIX";break;case Ct:a="ENVMAP_BLENDING_ADD";break}return a}function eq($){const a=$.envMapCubeUVHeight;if(a===null)return null;const f=Math.log2(a)-2,x=1/a;return{texelWidth:1/(3*Math.max(Math.pow(2,f),7*16)),texelHeight:x,maxMip:f}}function tq($,a,f,x){const S=$.getContext(),I=f.defines;let k=f.vertexShader,U=f.fragmentShader;const W=qX(f),K=YX(f),q=JX(f),ee=ZX(f),te=eq(f),ie=f.isWebGL2?"":jX(f),de=GX(I),le=S.createProgram();let ae,Ie,He=f.glslVersion?"#version "+f.glslVersion+`
`:"";f.isRawShaderMaterial?(ae=[de].filter(jg).join(`
`),ae.length>0&&(ae+=`
`),Ie=[ie,de].filter(jg).join(`
`),Ie.length>0&&(Ie+=`
`)):(ae=[gB(f),"#define SHADER_NAME "+f.shaderName,de,f.instancing?"#define USE_INSTANCING":"",f.instancingColor?"#define USE_INSTANCING_COLOR":"",f.supportsVertexTextures?"#define VERTEX_TEXTURES":"",f.useFog&&f.fog?"#define USE_FOG":"",f.useFog&&f.fogExp2?"#define FOG_EXP2":"",f.map?"#define USE_MAP":"",f.envMap?"#define USE_ENVMAP":"",f.envMap?"#define "+q:"",f.lightMap?"#define USE_LIGHTMAP":"",f.aoMap?"#define USE_AOMAP":"",f.emissiveMap?"#define USE_EMISSIVEMAP":"",f.bumpMap?"#define USE_BUMPMAP":"",f.normalMap?"#define USE_NORMALMAP":"",f.normalMap&&f.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",f.normalMap&&f.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",f.clearcoatMap?"#define USE_CLEARCOATMAP":"",f.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",f.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",f.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",f.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",f.displacementMap&&f.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",f.specularMap?"#define USE_SPECULARMAP":"",f.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",f.specularColorMap?"#define USE_SPECULARCOLORMAP":"",f.roughnessMap?"#define USE_ROUGHNESSMAP":"",f.metalnessMap?"#define USE_METALNESSMAP":"",f.alphaMap?"#define USE_ALPHAMAP":"",f.transmission?"#define USE_TRANSMISSION":"",f.transmissionMap?"#define USE_TRANSMISSIONMAP":"",f.thicknessMap?"#define USE_THICKNESSMAP":"",f.sheenColorMap?"#define USE_SHEENCOLORMAP":"",f.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",f.vertexTangents?"#define USE_TANGENT":"",f.vertexColors?"#define USE_COLOR":"",f.vertexAlphas?"#define USE_COLOR_ALPHA":"",f.vertexUvs?"#define USE_UV":"",f.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",f.flatShading?"#define FLAT_SHADED":"",f.skinning?"#define USE_SKINNING":"",f.morphTargets?"#define USE_MORPHTARGETS":"",f.morphNormals&&f.flatShading===!1?"#define USE_MORPHNORMALS":"",f.morphColors&&f.isWebGL2?"#define USE_MORPHCOLORS":"",f.morphTargetsCount>0&&f.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",f.morphTargetsCount>0&&f.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+f.morphTextureStride:"",f.morphTargetsCount>0&&f.isWebGL2?"#define MORPHTARGETS_COUNT "+f.morphTargetsCount:"",f.doubleSided?"#define DOUBLE_SIDED":"",f.flipSided?"#define FLIP_SIDED":"",f.shadowMapEnabled?"#define USE_SHADOWMAP":"",f.shadowMapEnabled?"#define "+W:"",f.sizeAttenuation?"#define USE_SIZEATTENUATION":"",f.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",f.logarithmicDepthBuffer&&f.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(jg).join(`
`),Ie=[ie,gB(f),"#define SHADER_NAME "+f.shaderName,de,f.useFog&&f.fog?"#define USE_FOG":"",f.useFog&&f.fogExp2?"#define FOG_EXP2":"",f.map?"#define USE_MAP":"",f.matcap?"#define USE_MATCAP":"",f.envMap?"#define USE_ENVMAP":"",f.envMap?"#define "+K:"",f.envMap?"#define "+q:"",f.envMap?"#define "+ee:"",te?"#define CUBEUV_TEXEL_WIDTH "+te.texelWidth:"",te?"#define CUBEUV_TEXEL_HEIGHT "+te.texelHeight:"",te?"#define CUBEUV_MAX_MIP "+te.maxMip+".0":"",f.lightMap?"#define USE_LIGHTMAP":"",f.aoMap?"#define USE_AOMAP":"",f.emissiveMap?"#define USE_EMISSIVEMAP":"",f.bumpMap?"#define USE_BUMPMAP":"",f.normalMap?"#define USE_NORMALMAP":"",f.normalMap&&f.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",f.normalMap&&f.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",f.clearcoat?"#define USE_CLEARCOAT":"",f.clearcoatMap?"#define USE_CLEARCOATMAP":"",f.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",f.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",f.iridescence?"#define USE_IRIDESCENCE":"",f.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",f.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",f.specularMap?"#define USE_SPECULARMAP":"",f.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",f.specularColorMap?"#define USE_SPECULARCOLORMAP":"",f.roughnessMap?"#define USE_ROUGHNESSMAP":"",f.metalnessMap?"#define USE_METALNESSMAP":"",f.alphaMap?"#define USE_ALPHAMAP":"",f.alphaTest?"#define USE_ALPHATEST":"",f.sheen?"#define USE_SHEEN":"",f.sheenColorMap?"#define USE_SHEENCOLORMAP":"",f.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",f.transmission?"#define USE_TRANSMISSION":"",f.transmissionMap?"#define USE_TRANSMISSIONMAP":"",f.thicknessMap?"#define USE_THICKNESSMAP":"",f.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",f.vertexTangents?"#define USE_TANGENT":"",f.vertexColors||f.instancingColor?"#define USE_COLOR":"",f.vertexAlphas?"#define USE_COLOR_ALPHA":"",f.vertexUvs?"#define USE_UV":"",f.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",f.gradientMap?"#define USE_GRADIENTMAP":"",f.flatShading?"#define FLAT_SHADED":"",f.doubleSided?"#define DOUBLE_SIDED":"",f.flipSided?"#define FLIP_SIDED":"",f.shadowMapEnabled?"#define USE_SHADOWMAP":"",f.shadowMapEnabled?"#define "+W:"",f.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",f.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",f.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",f.logarithmicDepthBuffer&&f.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",f.toneMapping!==Tt?"#define TONE_MAPPING":"",f.toneMapping!==Tt?ii.tonemapping_pars_fragment:"",f.toneMapping!==Tt?HX("toneMapping",f.toneMapping):"",f.dithering?"#define DITHERING":"",f.opaque?"#define OPAQUE":"",ii.encodings_pars_fragment,$X("linearToOutputTexel",f.outputEncoding),f.useDepthPacking?"#define DEPTH_PACKING "+f.depthPacking:"",`
`].filter(jg).join(`
`)),k=iS(k),k=hB(k,f),k=pB(k,f),U=iS(U),U=hB(U,f),U=pB(U,f),k=mB(k),U=mB(U),f.isWebGL2&&f.isRawShaderMaterial!==!0&&(He=`#version 300 es
`,ae=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+ae,Ie=["#define varying in",f.glslVersion===Mg?"":"layout(location = 0) out highp vec4 pc_fragColor;",f.glslVersion===Mg?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+Ie);const Ne=He+ae+k,ze=He+Ie+U,Xe=dB(S,35633,Ne),pt=dB(S,35632,ze);if(S.attachShader(le,Xe),S.attachShader(le,pt),f.index0AttributeName!==void 0?S.bindAttribLocation(le,0,f.index0AttributeName):f.morphTargets===!0&&S.bindAttribLocation(le,0,"position"),S.linkProgram(le),$.debug.checkShaderErrors){const vt=S.getProgramInfoLog(le).trim(),_t=S.getShaderInfoLog(Xe).trim(),Gt=S.getShaderInfoLog(pt).trim();let an=!0,Qt=!0;if(S.getProgramParameter(le,35714)===!1){an=!1;const $t=fB(S,Xe,"vertex"),nn=fB(S,pt,"fragment");console.error("THREE.WebGLProgram: Shader Error "+S.getError()+" - VALIDATE_STATUS "+S.getProgramParameter(le,35715)+`

Program Info Log: `+vt+`
`+$t+`
`+nn)}else vt!==""?console.warn("THREE.WebGLProgram: Program Info Log:",vt):(_t===""||Gt==="")&&(Qt=!1);Qt&&(this.diagnostics={runnable:an,programLog:vt,vertexShader:{log:_t,prefix:ae},fragmentShader:{log:Gt,prefix:Ie}})}S.deleteShader(Xe),S.deleteShader(pt);let Pt;this.getUniforms=function(){return Pt===void 0&&(Pt=new Fy(S,le)),Pt};let Ge;return this.getAttributes=function(){return Ge===void 0&&(Ge=VX(S,le)),Ge},this.destroy=function(){x.releaseStatesOfProgram(this),S.deleteProgram(le),this.program=void 0},this.name=f.shaderName,this.id=FX++,this.cacheKey=a,this.usedTimes=1,this.program=le,this.vertexShader=Xe,this.fragmentShader=pt,this}let nq=0;class rq{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(a){const f=a.vertexShader,x=a.fragmentShader,S=this._getShaderStage(f),I=this._getShaderStage(x),k=this._getShaderCacheForMaterial(a);return k.has(S)===!1&&(k.add(S),S.usedTimes++),k.has(I)===!1&&(k.add(I),I.usedTimes++),this}remove(a){const f=this.materialCache.get(a);for(const x of f)x.usedTimes--,x.usedTimes===0&&this.shaderCache.delete(x.code);return this.materialCache.delete(a),this}getVertexShaderID(a){return this._getShaderStage(a.vertexShader).id}getFragmentShaderID(a){return this._getShaderStage(a.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(a){const f=this.materialCache;let x=f.get(a);return x===void 0&&(x=new Set,f.set(a,x)),x}_getShaderStage(a){const f=this.shaderCache;let x=f.get(a);return x===void 0&&(x=new iq(a),f.set(a,x)),x}}class iq{constructor(a){this.id=nq++,this.code=a,this.usedTimes=0}}function oq($,a,f,x,S,I,k){const U=new _i,W=new rq,K=[],q=S.isWebGL2,ee=S.logarithmicDepthBuffer,te=S.vertexTextures;let ie=S.precision;const de={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function le(Ge,vt,_t,Gt,an){const Qt=Gt.fog,$t=an.geometry,nn=Ge.isMeshStandardMaterial?Gt.environment:null,Rn=(Ge.isMeshStandardMaterial?f:a).get(Ge.envMap||nn),On=Rn&&Rn.mapping===je?Rn.image.height:null,Tn=de[Ge.type];Ge.precision!==null&&(ie=S.getMaxPrecision(Ge.precision),ie!==Ge.precision&&console.warn("THREE.WebGLProgram.getParameters:",Ge.precision,"not supported, using",ie,"instead."));const Qn=$t.morphAttributes.position||$t.morphAttributes.normal||$t.morphAttributes.color,zn=Qn!==void 0?Qn.length:0;let Cr=0;$t.morphAttributes.position!==void 0&&(Cr=1),$t.morphAttributes.normal!==void 0&&(Cr=2),$t.morphAttributes.color!==void 0&&(Cr=3);let hr,hn,Dn,ur;if(Tn){const oi=bl[Tn];hr=oi.vertexShader,hn=oi.fragmentShader}else hr=Ge.vertexShader,hn=Ge.fragmentShader,W.update(Ge),Dn=W.getVertexShaderID(Ge),ur=W.getFragmentShaderID(Ge);const on=$.getRenderTarget(),Mr=Ge.alphaTest>0,dr=Ge.clearcoat>0,Fr=Ge.iridescence>0;return{isWebGL2:q,shaderID:Tn,shaderName:Ge.type,vertexShader:hr,fragmentShader:hn,defines:Ge.defines,customVertexShaderID:Dn,customFragmentShaderID:ur,isRawShaderMaterial:Ge.isRawShaderMaterial===!0,glslVersion:Ge.glslVersion,precision:ie,instancing:an.isInstancedMesh===!0,instancingColor:an.isInstancedMesh===!0&&an.instanceColor!==null,supportsVertexTextures:te,outputEncoding:on===null?$.outputEncoding:on.isXRRenderTarget===!0?on.texture.encoding:mr,map:!!Ge.map,matcap:!!Ge.matcap,envMap:!!Rn,envMapMode:Rn&&Rn.mapping,envMapCubeUVHeight:On,lightMap:!!Ge.lightMap,aoMap:!!Ge.aoMap,emissiveMap:!!Ge.emissiveMap,bumpMap:!!Ge.bumpMap,normalMap:!!Ge.normalMap,objectSpaceNormalMap:Ge.normalMapType===cr,tangentSpaceNormalMap:Ge.normalMapType===Yn,decodeVideoTexture:!!Ge.map&&Ge.map.isVideoTexture===!0&&Ge.map.encoding===Hn,clearcoat:dr,clearcoatMap:dr&&!!Ge.clearcoatMap,clearcoatRoughnessMap:dr&&!!Ge.clearcoatRoughnessMap,clearcoatNormalMap:dr&&!!Ge.clearcoatNormalMap,iridescence:Fr,iridescenceMap:Fr&&!!Ge.iridescenceMap,iridescenceThicknessMap:Fr&&!!Ge.iridescenceThicknessMap,displacementMap:!!Ge.displacementMap,roughnessMap:!!Ge.roughnessMap,metalnessMap:!!Ge.metalnessMap,specularMap:!!Ge.specularMap,specularIntensityMap:!!Ge.specularIntensityMap,specularColorMap:!!Ge.specularColorMap,opaque:Ge.transparent===!1&&Ge.blending===L,alphaMap:!!Ge.alphaMap,alphaTest:Mr,gradientMap:!!Ge.gradientMap,sheen:Ge.sheen>0,sheenColorMap:!!Ge.sheenColorMap,sheenRoughnessMap:!!Ge.sheenRoughnessMap,transmission:Ge.transmission>0,transmissionMap:!!Ge.transmissionMap,thicknessMap:!!Ge.thicknessMap,combine:Ge.combine,vertexTangents:!!Ge.normalMap&&!!$t.attributes.tangent,vertexColors:Ge.vertexColors,vertexAlphas:Ge.vertexColors===!0&&!!$t.attributes.color&&$t.attributes.color.itemSize===4,vertexUvs:!!Ge.map||!!Ge.bumpMap||!!Ge.normalMap||!!Ge.specularMap||!!Ge.alphaMap||!!Ge.emissiveMap||!!Ge.roughnessMap||!!Ge.metalnessMap||!!Ge.clearcoatMap||!!Ge.clearcoatRoughnessMap||!!Ge.clearcoatNormalMap||!!Ge.iridescenceMap||!!Ge.iridescenceThicknessMap||!!Ge.displacementMap||!!Ge.transmissionMap||!!Ge.thicknessMap||!!Ge.specularIntensityMap||!!Ge.specularColorMap||!!Ge.sheenColorMap||!!Ge.sheenRoughnessMap,uvsVertexOnly:!(Ge.map||Ge.bumpMap||Ge.normalMap||Ge.specularMap||Ge.alphaMap||Ge.emissiveMap||Ge.roughnessMap||Ge.metalnessMap||Ge.clearcoatNormalMap||Ge.iridescenceMap||Ge.iridescenceThicknessMap||Ge.transmission>0||Ge.transmissionMap||Ge.thicknessMap||Ge.specularIntensityMap||Ge.specularColorMap||Ge.sheen>0||Ge.sheenColorMap||Ge.sheenRoughnessMap)&&!!Ge.displacementMap,fog:!!Qt,useFog:Ge.fog===!0,fogExp2:Qt&&Qt.isFogExp2,flatShading:!!Ge.flatShading,sizeAttenuation:Ge.sizeAttenuation,logarithmicDepthBuffer:ee,skinning:an.isSkinnedMesh===!0,morphTargets:$t.morphAttributes.position!==void 0,morphNormals:$t.morphAttributes.normal!==void 0,morphColors:$t.morphAttributes.color!==void 0,morphTargetsCount:zn,morphTextureStride:Cr,numDirLights:vt.directional.length,numPointLights:vt.point.length,numSpotLights:vt.spot.length,numSpotLightMaps:vt.spotLightMap.length,numRectAreaLights:vt.rectArea.length,numHemiLights:vt.hemi.length,numDirLightShadows:vt.directionalShadowMap.length,numPointLightShadows:vt.pointShadowMap.length,numSpotLightShadows:vt.spotShadowMap.length,numSpotLightShadowsWithMaps:vt.numSpotLightShadowsWithMaps,numClippingPlanes:k.numPlanes,numClipIntersection:k.numIntersection,dithering:Ge.dithering,shadowMapEnabled:$.shadowMap.enabled&&_t.length>0,shadowMapType:$.shadowMap.type,toneMapping:Ge.toneMapped?$.toneMapping:Tt,physicallyCorrectLights:$.physicallyCorrectLights,premultipliedAlpha:Ge.premultipliedAlpha,doubleSided:Ge.side===P,flipSided:Ge.side===_,useDepthPacking:!!Ge.depthPacking,depthPacking:Ge.depthPacking||0,index0AttributeName:Ge.index0AttributeName,extensionDerivatives:Ge.extensions&&Ge.extensions.derivatives,extensionFragDepth:Ge.extensions&&Ge.extensions.fragDepth,extensionDrawBuffers:Ge.extensions&&Ge.extensions.drawBuffers,extensionShaderTextureLOD:Ge.extensions&&Ge.extensions.shaderTextureLOD,rendererExtensionFragDepth:q||x.has("EXT_frag_depth"),rendererExtensionDrawBuffers:q||x.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:q||x.has("EXT_shader_texture_lod"),customProgramCacheKey:Ge.customProgramCacheKey()}}function ae(Ge){const vt=[];if(Ge.shaderID?vt.push(Ge.shaderID):(vt.push(Ge.customVertexShaderID),vt.push(Ge.customFragmentShaderID)),Ge.defines!==void 0)for(const _t in Ge.defines)vt.push(_t),vt.push(Ge.defines[_t]);return Ge.isRawShaderMaterial===!1&&(Ie(vt,Ge),He(vt,Ge),vt.push($.outputEncoding)),vt.push(Ge.customProgramCacheKey),vt.join()}function Ie(Ge,vt){Ge.push(vt.precision),Ge.push(vt.outputEncoding),Ge.push(vt.envMapMode),Ge.push(vt.envMapCubeUVHeight),Ge.push(vt.combine),Ge.push(vt.vertexUvs),Ge.push(vt.fogExp2),Ge.push(vt.sizeAttenuation),Ge.push(vt.morphTargetsCount),Ge.push(vt.morphAttributeCount),Ge.push(vt.numDirLights),Ge.push(vt.numPointLights),Ge.push(vt.numSpotLights),Ge.push(vt.numSpotLightMaps),Ge.push(vt.numHemiLights),Ge.push(vt.numRectAreaLights),Ge.push(vt.numDirLightShadows),Ge.push(vt.numPointLightShadows),Ge.push(vt.numSpotLightShadows),Ge.push(vt.numSpotLightShadowsWithMaps),Ge.push(vt.shadowMapType),Ge.push(vt.toneMapping),Ge.push(vt.numClippingPlanes),Ge.push(vt.numClipIntersection),Ge.push(vt.depthPacking)}function He(Ge,vt){U.disableAll(),vt.isWebGL2&&U.enable(0),vt.supportsVertexTextures&&U.enable(1),vt.instancing&&U.enable(2),vt.instancingColor&&U.enable(3),vt.map&&U.enable(4),vt.matcap&&U.enable(5),vt.envMap&&U.enable(6),vt.lightMap&&U.enable(7),vt.aoMap&&U.enable(8),vt.emissiveMap&&U.enable(9),vt.bumpMap&&U.enable(10),vt.normalMap&&U.enable(11),vt.objectSpaceNormalMap&&U.enable(12),vt.tangentSpaceNormalMap&&U.enable(13),vt.clearcoat&&U.enable(14),vt.clearcoatMap&&U.enable(15),vt.clearcoatRoughnessMap&&U.enable(16),vt.clearcoatNormalMap&&U.enable(17),vt.iridescence&&U.enable(18),vt.iridescenceMap&&U.enable(19),vt.iridescenceThicknessMap&&U.enable(20),vt.displacementMap&&U.enable(21),vt.specularMap&&U.enable(22),vt.roughnessMap&&U.enable(23),vt.metalnessMap&&U.enable(24),vt.gradientMap&&U.enable(25),vt.alphaMap&&U.enable(26),vt.alphaTest&&U.enable(27),vt.vertexColors&&U.enable(28),vt.vertexAlphas&&U.enable(29),vt.vertexUvs&&U.enable(30),vt.vertexTangents&&U.enable(31),vt.uvsVertexOnly&&U.enable(32),Ge.push(U.mask),U.disableAll(),vt.fog&&U.enable(0),vt.useFog&&U.enable(1),vt.flatShading&&U.enable(2),vt.logarithmicDepthBuffer&&U.enable(3),vt.skinning&&U.enable(4),vt.morphTargets&&U.enable(5),vt.morphNormals&&U.enable(6),vt.morphColors&&U.enable(7),vt.premultipliedAlpha&&U.enable(8),vt.shadowMapEnabled&&U.enable(9),vt.physicallyCorrectLights&&U.enable(10),vt.doubleSided&&U.enable(11),vt.flipSided&&U.enable(12),vt.useDepthPacking&&U.enable(13),vt.dithering&&U.enable(14),vt.specularIntensityMap&&U.enable(15),vt.specularColorMap&&U.enable(16),vt.transmission&&U.enable(17),vt.transmissionMap&&U.enable(18),vt.thicknessMap&&U.enable(19),vt.sheen&&U.enable(20),vt.sheenColorMap&&U.enable(21),vt.sheenRoughnessMap&&U.enable(22),vt.decodeVideoTexture&&U.enable(23),vt.opaque&&U.enable(24),Ge.push(U.mask)}function Ne(Ge){const vt=de[Ge.type];let _t;if(vt){const Gt=bl[vt];_t=WL.clone(Gt.uniforms)}else _t=Ge.uniforms;return _t}function ze(Ge,vt){let _t;for(let Gt=0,an=K.length;Gt<an;Gt++){const Qt=K[Gt];if(Qt.cacheKey===vt){_t=Qt,++_t.usedTimes;break}}return _t===void 0&&(_t=new tq($,vt,Ge,I),K.push(_t)),_t}function Xe(Ge){if(--Ge.usedTimes===0){const vt=K.indexOf(Ge);K[vt]=K[K.length-1],K.pop(),Ge.destroy()}}function pt(Ge){W.remove(Ge)}function Pt(){W.dispose()}return{getParameters:le,getProgramCacheKey:ae,getUniforms:Ne,acquireProgram:ze,releaseProgram:Xe,releaseShaderCache:pt,programs:K,dispose:Pt}}function aq(){let $=new WeakMap;function a(I){let k=$.get(I);return k===void 0&&(k={},$.set(I,k)),k}function f(I){$.delete(I)}function x(I,k,U){$.get(I)[k]=U}function S(){$=new WeakMap}return{get:a,remove:f,update:x,dispose:S}}function sq($,a){return $.groupOrder!==a.groupOrder?$.groupOrder-a.groupOrder:$.renderOrder!==a.renderOrder?$.renderOrder-a.renderOrder:$.material.id!==a.material.id?$.material.id-a.material.id:$.z!==a.z?$.z-a.z:$.id-a.id}function vB($,a){return $.groupOrder!==a.groupOrder?$.groupOrder-a.groupOrder:$.renderOrder!==a.renderOrder?$.renderOrder-a.renderOrder:$.z!==a.z?a.z-$.z:$.id-a.id}function AB(){const $=[];let a=0;const f=[],x=[],S=[];function I(){a=0,f.length=0,x.length=0,S.length=0}function k(ee,te,ie,de,le,ae){let Ie=$[a];return Ie===void 0?(Ie={id:ee.id,object:ee,geometry:te,material:ie,groupOrder:de,renderOrder:ee.renderOrder,z:le,group:ae},$[a]=Ie):(Ie.id=ee.id,Ie.object=ee,Ie.geometry=te,Ie.material=ie,Ie.groupOrder=de,Ie.renderOrder=ee.renderOrder,Ie.z=le,Ie.group=ae),a++,Ie}function U(ee,te,ie,de,le,ae){const Ie=k(ee,te,ie,de,le,ae);ie.transmission>0?x.push(Ie):ie.transparent===!0?S.push(Ie):f.push(Ie)}function W(ee,te,ie,de,le,ae){const Ie=k(ee,te,ie,de,le,ae);ie.transmission>0?x.unshift(Ie):ie.transparent===!0?S.unshift(Ie):f.unshift(Ie)}function K(ee,te){f.length>1&&f.sort(ee||sq),x.length>1&&x.sort(te||vB),S.length>1&&S.sort(te||vB)}function q(){for(let ee=a,te=$.length;ee<te;ee++){const ie=$[ee];if(ie.id===null)break;ie.id=null,ie.object=null,ie.geometry=null,ie.material=null,ie.group=null}}return{opaque:f,transmissive:x,transparent:S,init:I,push:U,unshift:W,finish:q,sort:K}}function lq(){let $=new WeakMap;function a(x,S){const I=$.get(x);let k;return I===void 0?(k=new AB,$.set(x,[k])):S>=I.length?(k=new AB,I.push(k)):k=I[S],k}function f(){$=new WeakMap}return{get:a,dispose:f}}function cq(){const $={};return{get:function(a){if($[a.id]!==void 0)return $[a.id];let f;switch(a.type){case"DirectionalLight":f={direction:new dt,color:new xr};break;case"SpotLight":f={position:new dt,direction:new dt,color:new xr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":f={position:new dt,color:new xr,distance:0,decay:0};break;case"HemisphereLight":f={direction:new dt,skyColor:new xr,groundColor:new xr};break;case"RectAreaLight":f={color:new xr,position:new dt,halfWidth:new dt,halfHeight:new dt};break}return $[a.id]=f,f}}}function uq(){const $={};return{get:function(a){if($[a.id]!==void 0)return $[a.id];let f;switch(a.type){case"DirectionalLight":f={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new In};break;case"SpotLight":f={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new In};break;case"PointLight":f={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new In,shadowCameraNear:1,shadowCameraFar:1e3};break}return $[a.id]=f,f}}}let dq=0;function fq($,a){return(a.castShadow?2:0)-($.castShadow?2:0)+(a.map?1:0)-($.map?1:0)}function hq($,a){const f=new cq,x=uq(),S={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let q=0;q<9;q++)S.probe.push(new dt);const I=new dt,k=new _r,U=new _r;function W(q,ee){let te=0,ie=0,de=0;for(let Gt=0;Gt<9;Gt++)S.probe[Gt].set(0,0,0);let le=0,ae=0,Ie=0,He=0,Ne=0,ze=0,Xe=0,pt=0,Pt=0,Ge=0;q.sort(fq);const vt=ee!==!0?Math.PI:1;for(let Gt=0,an=q.length;Gt<an;Gt++){const Qt=q[Gt],$t=Qt.color,nn=Qt.intensity,Rn=Qt.distance,On=Qt.shadow&&Qt.shadow.map?Qt.shadow.map.texture:null;if(Qt.isAmbientLight)te+=$t.r*nn*vt,ie+=$t.g*nn*vt,de+=$t.b*nn*vt;else if(Qt.isLightProbe)for(let Tn=0;Tn<9;Tn++)S.probe[Tn].addScaledVector(Qt.sh.coefficients[Tn],nn);else if(Qt.isDirectionalLight){const Tn=f.get(Qt);if(Tn.color.copy(Qt.color).multiplyScalar(Qt.intensity*vt),Qt.castShadow){const Qn=Qt.shadow,zn=x.get(Qt);zn.shadowBias=Qn.bias,zn.shadowNormalBias=Qn.normalBias,zn.shadowRadius=Qn.radius,zn.shadowMapSize=Qn.mapSize,S.directionalShadow[le]=zn,S.directionalShadowMap[le]=On,S.directionalShadowMatrix[le]=Qt.shadow.matrix,ze++}S.directional[le]=Tn,le++}else if(Qt.isSpotLight){const Tn=f.get(Qt);Tn.position.setFromMatrixPosition(Qt.matrixWorld),Tn.color.copy($t).multiplyScalar(nn*vt),Tn.distance=Rn,Tn.coneCos=Math.cos(Qt.angle),Tn.penumbraCos=Math.cos(Qt.angle*(1-Qt.penumbra)),Tn.decay=Qt.decay,S.spot[Ie]=Tn;const Qn=Qt.shadow;if(Qt.map&&(S.spotLightMap[Pt]=Qt.map,Pt++,Qn.updateMatrices(Qt),Qt.castShadow&&Ge++),S.spotLightMatrix[Ie]=Qn.matrix,Qt.castShadow){const zn=x.get(Qt);zn.shadowBias=Qn.bias,zn.shadowNormalBias=Qn.normalBias,zn.shadowRadius=Qn.radius,zn.shadowMapSize=Qn.mapSize,S.spotShadow[Ie]=zn,S.spotShadowMap[Ie]=On,pt++}Ie++}else if(Qt.isRectAreaLight){const Tn=f.get(Qt);Tn.color.copy($t).multiplyScalar(nn),Tn.halfWidth.set(Qt.width*.5,0,0),Tn.halfHeight.set(0,Qt.height*.5,0),S.rectArea[He]=Tn,He++}else if(Qt.isPointLight){const Tn=f.get(Qt);if(Tn.color.copy(Qt.color).multiplyScalar(Qt.intensity*vt),Tn.distance=Qt.distance,Tn.decay=Qt.decay,Qt.castShadow){const Qn=Qt.shadow,zn=x.get(Qt);zn.shadowBias=Qn.bias,zn.shadowNormalBias=Qn.normalBias,zn.shadowRadius=Qn.radius,zn.shadowMapSize=Qn.mapSize,zn.shadowCameraNear=Qn.camera.near,zn.shadowCameraFar=Qn.camera.far,S.pointShadow[ae]=zn,S.pointShadowMap[ae]=On,S.pointShadowMatrix[ae]=Qt.shadow.matrix,Xe++}S.point[ae]=Tn,ae++}else if(Qt.isHemisphereLight){const Tn=f.get(Qt);Tn.skyColor.copy(Qt.color).multiplyScalar(nn*vt),Tn.groundColor.copy(Qt.groundColor).multiplyScalar(nn*vt),S.hemi[Ne]=Tn,Ne++}}He>0&&(a.isWebGL2||$.has("OES_texture_float_linear")===!0?(S.rectAreaLTC1=ir.LTC_FLOAT_1,S.rectAreaLTC2=ir.LTC_FLOAT_2):$.has("OES_texture_half_float_linear")===!0?(S.rectAreaLTC1=ir.LTC_HALF_1,S.rectAreaLTC2=ir.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),S.ambient[0]=te,S.ambient[1]=ie,S.ambient[2]=de;const _t=S.hash;(_t.directionalLength!==le||_t.pointLength!==ae||_t.spotLength!==Ie||_t.rectAreaLength!==He||_t.hemiLength!==Ne||_t.numDirectionalShadows!==ze||_t.numPointShadows!==Xe||_t.numSpotShadows!==pt||_t.numSpotMaps!==Pt)&&(S.directional.length=le,S.spot.length=Ie,S.rectArea.length=He,S.point.length=ae,S.hemi.length=Ne,S.directionalShadow.length=ze,S.directionalShadowMap.length=ze,S.pointShadow.length=Xe,S.pointShadowMap.length=Xe,S.spotShadow.length=pt,S.spotShadowMap.length=pt,S.directionalShadowMatrix.length=ze,S.pointShadowMatrix.length=Xe,S.spotLightMatrix.length=pt+Pt-Ge,S.spotLightMap.length=Pt,S.numSpotLightShadowsWithMaps=Ge,_t.directionalLength=le,_t.pointLength=ae,_t.spotLength=Ie,_t.rectAreaLength=He,_t.hemiLength=Ne,_t.numDirectionalShadows=ze,_t.numPointShadows=Xe,_t.numSpotShadows=pt,_t.numSpotMaps=Pt,S.version=dq++)}function K(q,ee){let te=0,ie=0,de=0,le=0,ae=0;const Ie=ee.matrixWorldInverse;for(let He=0,Ne=q.length;He<Ne;He++){const ze=q[He];if(ze.isDirectionalLight){const Xe=S.directional[te];Xe.direction.setFromMatrixPosition(ze.matrixWorld),I.setFromMatrixPosition(ze.target.matrixWorld),Xe.direction.sub(I),Xe.direction.transformDirection(Ie),te++}else if(ze.isSpotLight){const Xe=S.spot[de];Xe.position.setFromMatrixPosition(ze.matrixWorld),Xe.position.applyMatrix4(Ie),Xe.direction.setFromMatrixPosition(ze.matrixWorld),I.setFromMatrixPosition(ze.target.matrixWorld),Xe.direction.sub(I),Xe.direction.transformDirection(Ie),de++}else if(ze.isRectAreaLight){const Xe=S.rectArea[le];Xe.position.setFromMatrixPosition(ze.matrixWorld),Xe.position.applyMatrix4(Ie),U.identity(),k.copy(ze.matrixWorld),k.premultiply(Ie),U.extractRotation(k),Xe.halfWidth.set(ze.width*.5,0,0),Xe.halfHeight.set(0,ze.height*.5,0),Xe.halfWidth.applyMatrix4(U),Xe.halfHeight.applyMatrix4(U),le++}else if(ze.isPointLight){const Xe=S.point[ie];Xe.position.setFromMatrixPosition(ze.matrixWorld),Xe.position.applyMatrix4(Ie),ie++}else if(ze.isHemisphereLight){const Xe=S.hemi[ae];Xe.direction.setFromMatrixPosition(ze.matrixWorld),Xe.direction.transformDirection(Ie),ae++}}}return{setup:W,setupView:K,state:S}}function yB($,a){const f=new hq($,a),x=[],S=[];function I(){x.length=0,S.length=0}function k(ee){x.push(ee)}function U(ee){S.push(ee)}function W(ee){f.setup(x,ee)}function K(ee){f.setupView(x,ee)}return{init:I,state:{lightsArray:x,shadowsArray:S,lights:f},setupLights:W,setupLightsView:K,pushLight:k,pushShadow:U}}function pq($,a){let f=new WeakMap;function x(I,k=0){const U=f.get(I);let W;return U===void 0?(W=new yB($,a),f.set(I,[W])):k>=U.length?(W=new yB($,a),U.push(W)):W=U[k],W}function S(){f=new WeakMap}return{get:x,dispose:S}}class oS extends Ca{constructor(a){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=fn,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(a)}copy(a){return super.copy(a),this.depthPacking=a.depthPacking,this.map=a.map,this.alphaMap=a.alphaMap,this.displacementMap=a.displacementMap,this.displacementScale=a.displacementScale,this.displacementBias=a.displacementBias,this.wireframe=a.wireframe,this.wireframeLinewidth=a.wireframeLinewidth,this}}class aS extends Ca{constructor(a){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new dt,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(a)}copy(a){return super.copy(a),this.referencePosition.copy(a.referencePosition),this.nearDistance=a.nearDistance,this.farDistance=a.farDistance,this.map=a.map,this.alphaMap=a.alphaMap,this.displacementMap=a.displacementMap,this.displacementScale=a.displacementScale,this.displacementBias=a.displacementBias,this}}const mq=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,gq=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function vq($,a,f){let x=new By;const S=new In,I=new In,k=new Si,U=new oS({depthPacking:xn}),W=new aS,K={},q=f.maxTextureSize,ee={0:_,1:C,2:P},te=new oc({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new In},radius:{value:4}},vertexShader:mq,fragmentShader:gq}),ie=te.clone();ie.defines.HORIZONTAL_PASS=1;const de=new ci;de.setAttribute("position",new Wi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const le=new pa(de,te),ae=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=g,this.render=function(ze,Xe,pt){if(ae.enabled===!1||ae.autoUpdate===!1&&ae.needsUpdate===!1||ze.length===0)return;const Pt=$.getRenderTarget(),Ge=$.getActiveCubeFace(),vt=$.getActiveMipmapLevel(),_t=$.state;_t.setBlending(R),_t.buffers.color.setClear(1,1,1,1),_t.buffers.depth.setTest(!0),_t.setScissorTest(!1);for(let Gt=0,an=ze.length;Gt<an;Gt++){const Qt=ze[Gt],$t=Qt.shadow;if($t===void 0){console.warn("THREE.WebGLShadowMap:",Qt,"has no shadow.");continue}if($t.autoUpdate===!1&&$t.needsUpdate===!1)continue;S.copy($t.mapSize);const nn=$t.getFrameExtents();if(S.multiply(nn),I.copy($t.mapSize),(S.x>q||S.y>q)&&(S.x>q&&(I.x=Math.floor(q/nn.x),S.x=I.x*nn.x,$t.mapSize.x=I.x),S.y>q&&(I.y=Math.floor(q/nn.y),S.y=I.y*nn.y,$t.mapSize.y=I.y)),$t.map===null){const On=this.type!==E?{minFilter:ue,magFilter:ue}:{};$t.map=new ns(S.x,S.y,On),$t.map.texture.name=Qt.name+".shadowMap",$t.camera.updateProjectionMatrix()}$.setRenderTarget($t.map),$.clear();const Rn=$t.getViewportCount();for(let On=0;On<Rn;On++){const Tn=$t.getViewport(On);k.set(I.x*Tn.x,I.y*Tn.y,I.x*Tn.z,I.y*Tn.w),_t.viewport(k),$t.updateMatrices(Qt,On),x=$t.getFrustum(),Ne(Xe,pt,$t.camera,Qt,this.type)}$t.isPointLightShadow!==!0&&this.type===E&&Ie($t,pt),$t.needsUpdate=!1}ae.needsUpdate=!1,$.setRenderTarget(Pt,Ge,vt)};function Ie(ze,Xe){const pt=a.update(le);te.defines.VSM_SAMPLES!==ze.blurSamples&&(te.defines.VSM_SAMPLES=ze.blurSamples,ie.defines.VSM_SAMPLES=ze.blurSamples,te.needsUpdate=!0,ie.needsUpdate=!0),ze.mapPass===null&&(ze.mapPass=new ns(S.x,S.y)),te.uniforms.shadow_pass.value=ze.map.texture,te.uniforms.resolution.value=ze.mapSize,te.uniforms.radius.value=ze.radius,$.setRenderTarget(ze.mapPass),$.clear(),$.renderBufferDirect(Xe,null,pt,te,le,null),ie.uniforms.shadow_pass.value=ze.mapPass.texture,ie.uniforms.resolution.value=ze.mapSize,ie.uniforms.radius.value=ze.radius,$.setRenderTarget(ze.map),$.clear(),$.renderBufferDirect(Xe,null,pt,ie,le,null)}function He(ze,Xe,pt,Pt,Ge,vt){let _t=null;const Gt=pt.isPointLight===!0?ze.customDistanceMaterial:ze.customDepthMaterial;if(Gt!==void 0?_t=Gt:_t=pt.isPointLight===!0?W:U,$.localClippingEnabled&&Xe.clipShadows===!0&&Array.isArray(Xe.clippingPlanes)&&Xe.clippingPlanes.length!==0||Xe.displacementMap&&Xe.displacementScale!==0||Xe.alphaMap&&Xe.alphaTest>0||Xe.map&&Xe.alphaTest>0){const an=_t.uuid,Qt=Xe.uuid;let $t=K[an];$t===void 0&&($t={},K[an]=$t);let nn=$t[Qt];nn===void 0&&(nn=_t.clone(),$t[Qt]=nn),_t=nn}return _t.visible=Xe.visible,_t.wireframe=Xe.wireframe,vt===E?_t.side=Xe.shadowSide!==null?Xe.shadowSide:Xe.side:_t.side=Xe.shadowSide!==null?Xe.shadowSide:ee[Xe.side],_t.alphaMap=Xe.alphaMap,_t.alphaTest=Xe.alphaTest,_t.map=Xe.map,_t.clipShadows=Xe.clipShadows,_t.clippingPlanes=Xe.clippingPlanes,_t.clipIntersection=Xe.clipIntersection,_t.displacementMap=Xe.displacementMap,_t.displacementScale=Xe.displacementScale,_t.displacementBias=Xe.displacementBias,_t.wireframeLinewidth=Xe.wireframeLinewidth,_t.linewidth=Xe.linewidth,pt.isPointLight===!0&&_t.isMeshDistanceMaterial===!0&&(_t.referencePosition.setFromMatrixPosition(pt.matrixWorld),_t.nearDistance=Pt,_t.farDistance=Ge),_t}function Ne(ze,Xe,pt,Pt,Ge){if(ze.visible===!1)return;if(ze.layers.test(Xe.layers)&&(ze.isMesh||ze.isLine||ze.isPoints)&&(ze.castShadow||ze.receiveShadow&&Ge===E)&&(!ze.frustumCulled||x.intersectsObject(ze))){ze.modelViewMatrix.multiplyMatrices(pt.matrixWorldInverse,ze.matrixWorld);const Gt=a.update(ze),an=ze.material;if(Array.isArray(an)){const Qt=Gt.groups;for(let $t=0,nn=Qt.length;$t<nn;$t++){const Rn=Qt[$t],On=an[Rn.materialIndex];if(On&&On.visible){const Tn=He(ze,On,Pt,pt.near,pt.far,Ge);$.renderBufferDirect(pt,null,Gt,Tn,ze,Rn)}}}else if(an.visible){const Qt=He(ze,an,Pt,pt.near,pt.far,Ge);$.renderBufferDirect(pt,null,Gt,Qt,ze,null)}}const _t=ze.children;for(let Gt=0,an=_t.length;Gt<an;Gt++)Ne(_t[Gt],Xe,pt,Pt,Ge)}}function Aq($,a,f){const x=f.isWebGL2;function S(){let zt=!1;const En=new Si;let Vn=null;const wr=new Si(0,0,0,0);return{setMask:function(kr){Vn!==kr&&!zt&&($.colorMask(kr,kr,kr,kr),Vn=kr)},setLocked:function(kr){zt=kr},setClear:function(kr,Ni,ea,wa,Tf){Tf===!0&&(kr*=wa,Ni*=wa,ea*=wa),En.set(kr,Ni,ea,wa),wr.equals(En)===!1&&($.clearColor(kr,Ni,ea,wa),wr.copy(En))},reset:function(){zt=!1,Vn=null,wr.set(-1,0,0,0)}}}function I(){let zt=!1,En=null,Vn=null,wr=null;return{setTest:function(kr){kr?Mr(2929):dr(2929)},setMask:function(kr){En!==kr&&!zt&&($.depthMask(kr),En=kr)},setFunc:function(kr){if(Vn!==kr){switch(kr){case $e:$.depthFunc(512);break;case qe:$.depthFunc(519);break;case Ke:$.depthFunc(513);break;case ke:$.depthFunc(515);break;case st:$.depthFunc(514);break;case ot:$.depthFunc(518);break;case it:$.depthFunc(516);break;case ft:$.depthFunc(517);break;default:$.depthFunc(515)}Vn=kr}},setLocked:function(kr){zt=kr},setClear:function(kr){wr!==kr&&($.clearDepth(kr),wr=kr)},reset:function(){zt=!1,En=null,Vn=null,wr=null}}}function k(){let zt=!1,En=null,Vn=null,wr=null,kr=null,Ni=null,ea=null,wa=null,Tf=null;return{setTest:function(io){zt||(io?Mr(2960):dr(2960))},setMask:function(io){En!==io&&!zt&&($.stencilMask(io),En=io)},setFunc:function(io,Vc,Ws){(Vn!==io||wr!==Vc||kr!==Ws)&&($.stencilFunc(io,Vc,Ws),Vn=io,wr=Vc,kr=Ws)},setOp:function(io,Vc,Ws){(Ni!==io||ea!==Vc||wa!==Ws)&&($.stencilOp(io,Vc,Ws),Ni=io,ea=Vc,wa=Ws)},setLocked:function(io){zt=io},setClear:function(io){Tf!==io&&($.clearStencil(io),Tf=io)},reset:function(){zt=!1,En=null,Vn=null,wr=null,kr=null,Ni=null,ea=null,wa=null,Tf=null}}}const U=new S,W=new I,K=new k,q=new WeakMap,ee=new WeakMap;let te={},ie={},de=new WeakMap,le=[],ae=null,Ie=!1,He=null,Ne=null,ze=null,Xe=null,pt=null,Pt=null,Ge=null,vt=!1,_t=null,Gt=null,an=null,Qt=null,$t=null;const nn=$.getParameter(35661);let Rn=!1,On=0;const Tn=$.getParameter(7938);Tn.indexOf("WebGL")!==-1?(On=parseFloat(/^WebGL (\d)/.exec(Tn)[1]),Rn=On>=1):Tn.indexOf("OpenGL ES")!==-1&&(On=parseFloat(/^OpenGL ES (\d)/.exec(Tn)[1]),Rn=On>=2);let Qn=null,zn={};const Cr=$.getParameter(3088),hr=$.getParameter(2978),hn=new Si().fromArray(Cr),Dn=new Si().fromArray(hr);function ur(zt,En,Vn){const wr=new Uint8Array(4),kr=$.createTexture();$.bindTexture(zt,kr),$.texParameteri(zt,10241,9728),$.texParameteri(zt,10240,9728);for(let Ni=0;Ni<Vn;Ni++)$.texImage2D(En+Ni,0,6408,1,1,0,6408,5121,wr);return kr}const on={};on[3553]=ur(3553,3553,1),on[34067]=ur(34067,34069,6),U.setClear(0,0,0,1),W.setClear(1),K.setClear(0),Mr(2929),W.setFunc(ke),pr(!1),Jr(v),Mr(2884),nr(R);function Mr(zt){te[zt]!==!0&&($.enable(zt),te[zt]=!0)}function dr(zt){te[zt]!==!1&&($.disable(zt),te[zt]=!1)}function Fr(zt,En){return ie[zt]!==En?($.bindFramebuffer(zt,En),ie[zt]=En,x&&(zt===36009&&(ie[36160]=En),zt===36160&&(ie[36009]=En)),!0):!1}function Jn(zt,En){let Vn=le,wr=!1;if(zt)if(Vn=de.get(En),Vn===void 0&&(Vn=[],de.set(En,Vn)),zt.isWebGLMultipleRenderTargets){const kr=zt.texture;if(Vn.length!==kr.length||Vn[0]!==36064){for(let Ni=0,ea=kr.length;Ni<ea;Ni++)Vn[Ni]=36064+Ni;Vn.length=kr.length,wr=!0}}else Vn[0]!==36064&&(Vn[0]=36064,wr=!0);else Vn[0]!==1029&&(Vn[0]=1029,wr=!0);wr&&(f.isWebGL2?$.drawBuffers(Vn):a.get("WEBGL_draw_buffers").drawBuffersWEBGL(Vn))}function oi(zt){return ae!==zt?($.useProgram(zt),ae=zt,!0):!1}const Pn={[B]:32774,[O]:32778,[F]:32779};if(x)Pn[N]=32775,Pn[z]=32776;else{const zt=a.get("EXT_blend_minmax");zt!==null&&(Pn[N]=zt.MIN_EXT,Pn[z]=zt.MAX_EXT)}const _n={[j]:0,[G]:1,[Q]:768,[J]:770,[Re]:776,[Be]:774,[oe]:772,[X]:769,[Z]:771,[ge]:775,[ce]:773};function nr(zt,En,Vn,wr,kr,Ni,ea,wa){if(zt===R){Ie===!0&&(dr(3042),Ie=!1);return}if(Ie===!1&&(Mr(3042),Ie=!0),zt!==V){if(zt!==He||wa!==vt){if((Ne!==B||pt!==B)&&($.blendEquation(32774),Ne=B,pt=B),wa)switch(zt){case L:$.blendFuncSeparate(1,771,1,771);break;case T:$.blendFunc(1,1);break;case D:$.blendFuncSeparate(0,769,0,1);break;case H:$.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",zt);break}else switch(zt){case L:$.blendFuncSeparate(770,771,1,771);break;case T:$.blendFunc(770,1);break;case D:$.blendFuncSeparate(0,769,0,1);break;case H:$.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",zt);break}ze=null,Xe=null,Pt=null,Ge=null,He=zt,vt=wa}return}kr=kr||En,Ni=Ni||Vn,ea=ea||wr,(En!==Ne||kr!==pt)&&($.blendEquationSeparate(Pn[En],Pn[kr]),Ne=En,pt=kr),(Vn!==ze||wr!==Xe||Ni!==Pt||ea!==Ge)&&($.blendFuncSeparate(_n[Vn],_n[wr],_n[Ni],_n[ea]),ze=Vn,Xe=wr,Pt=Ni,Ge=ea),He=zt,vt=!1}function Dr(zt,En){zt.side===P?dr(2884):Mr(2884);let Vn=zt.side===_;En&&(Vn=!Vn),pr(Vn),zt.blending===L&&zt.transparent===!1?nr(R):nr(zt.blending,zt.blendEquation,zt.blendSrc,zt.blendDst,zt.blendEquationAlpha,zt.blendSrcAlpha,zt.blendDstAlpha,zt.premultipliedAlpha),W.setFunc(zt.depthFunc),W.setTest(zt.depthTest),W.setMask(zt.depthWrite),U.setMask(zt.colorWrite);const wr=zt.stencilWrite;K.setTest(wr),wr&&(K.setMask(zt.stencilWriteMask),K.setFunc(zt.stencilFunc,zt.stencilRef,zt.stencilFuncMask),K.setOp(zt.stencilFail,zt.stencilZFail,zt.stencilZPass)),Ur(zt.polygonOffset,zt.polygonOffsetFactor,zt.polygonOffsetUnits),zt.alphaToCoverage===!0?Mr(32926):dr(32926)}function pr(zt){_t!==zt&&(zt?$.frontFace(2304):$.frontFace(2305),_t=zt)}function Jr(zt){zt!==m?(Mr(2884),zt!==Gt&&(zt===v?$.cullFace(1029):zt===y?$.cullFace(1028):$.cullFace(1032))):dr(2884),Gt=zt}function Vr(zt){zt!==an&&(Rn&&$.lineWidth(zt),an=zt)}function Ur(zt,En,Vn){zt?(Mr(32823),(Qt!==En||$t!==Vn)&&($.polygonOffset(En,Vn),Qt=En,$t=Vn)):dr(32823)}function Qi(zt){zt?Mr(3089):dr(3089)}function Ui(zt){zt===void 0&&(zt=33984+nn-1),Qn!==zt&&($.activeTexture(zt),Qn=zt)}function At(zt,En,Vn){Vn===void 0&&(Qn===null?Vn=33984+nn-1:Vn=Qn);let wr=zn[Vn];wr===void 0&&(wr={type:void 0,texture:void 0},zn[Vn]=wr),(wr.type!==zt||wr.texture!==En)&&(Qn!==Vn&&($.activeTexture(Vn),Qn=Vn),$.bindTexture(zt,En||on[zt]),wr.type=zt,wr.texture=En)}function rt(){const zt=zn[Qn];zt!==void 0&&zt.type!==void 0&&($.bindTexture(zt.type,null),zt.type=void 0,zt.texture=void 0)}function un(){try{$.compressedTexImage2D.apply($,arguments)}catch(zt){console.error("THREE.WebGLState:",zt)}}function Kn(){try{$.compressedTexImage3D.apply($,arguments)}catch(zt){console.error("THREE.WebGLState:",zt)}}function Zn(){try{$.texSubImage2D.apply($,arguments)}catch(zt){console.error("THREE.WebGLState:",zt)}}function vr(){try{$.texSubImage3D.apply($,arguments)}catch(zt){console.error("THREE.WebGLState:",zt)}}function Yr(){try{$.compressedTexSubImage2D.apply($,arguments)}catch(zt){console.error("THREE.WebGLState:",zt)}}function yr(){try{$.compressedTexSubImage3D.apply($,arguments)}catch(zt){console.error("THREE.WebGLState:",zt)}}function Mn(){try{$.texStorage2D.apply($,arguments)}catch(zt){console.error("THREE.WebGLState:",zt)}}function zr(){try{$.texStorage3D.apply($,arguments)}catch(zt){console.error("THREE.WebGLState:",zt)}}function qr(){try{$.texImage2D.apply($,arguments)}catch(zt){console.error("THREE.WebGLState:",zt)}}function Pr(){try{$.texImage3D.apply($,arguments)}catch(zt){console.error("THREE.WebGLState:",zt)}}function Wr(zt){hn.equals(zt)===!1&&($.scissor(zt.x,zt.y,zt.z,zt.w),hn.copy(zt))}function $r(zt){Dn.equals(zt)===!1&&($.viewport(zt.x,zt.y,zt.z,zt.w),Dn.copy(zt))}function Pi(zt,En){let Vn=ee.get(En);Vn===void 0&&(Vn=new WeakMap,ee.set(En,Vn));let wr=Vn.get(zt);wr===void 0&&(wr=$.getUniformBlockIndex(En,zt.name),Vn.set(zt,wr))}function ro(zt,En){const wr=ee.get(En).get(zt);q.get(zt)!==wr&&($.uniformBlockBinding(En,wr,zt.__bindingPointIndex),q.set(zt,wr))}function Zo(){$.disable(3042),$.disable(2884),$.disable(2929),$.disable(32823),$.disable(3089),$.disable(2960),$.disable(32926),$.blendEquation(32774),$.blendFunc(1,0),$.blendFuncSeparate(1,0,1,0),$.colorMask(!0,!0,!0,!0),$.clearColor(0,0,0,0),$.depthMask(!0),$.depthFunc(513),$.clearDepth(1),$.stencilMask(4294967295),$.stencilFunc(519,0,4294967295),$.stencilOp(7680,7680,7680),$.clearStencil(0),$.cullFace(1029),$.frontFace(2305),$.polygonOffset(0,0),$.activeTexture(33984),$.bindFramebuffer(36160,null),x===!0&&($.bindFramebuffer(36009,null),$.bindFramebuffer(36008,null)),$.useProgram(null),$.lineWidth(1),$.scissor(0,0,$.canvas.width,$.canvas.height),$.viewport(0,0,$.canvas.width,$.canvas.height),te={},Qn=null,zn={},ie={},de=new WeakMap,le=[],ae=null,Ie=!1,He=null,Ne=null,ze=null,Xe=null,pt=null,Pt=null,Ge=null,vt=!1,_t=null,Gt=null,an=null,Qt=null,$t=null,hn.set(0,0,$.canvas.width,$.canvas.height),Dn.set(0,0,$.canvas.width,$.canvas.height),U.reset(),W.reset(),K.reset()}return{buffers:{color:U,depth:W,stencil:K},enable:Mr,disable:dr,bindFramebuffer:Fr,drawBuffers:Jn,useProgram:oi,setBlending:nr,setMaterial:Dr,setFlipSided:pr,setCullFace:Jr,setLineWidth:Vr,setPolygonOffset:Ur,setScissorTest:Qi,activeTexture:Ui,bindTexture:At,unbindTexture:rt,compressedTexImage2D:un,compressedTexImage3D:Kn,texImage2D:qr,texImage3D:Pr,updateUBOMapping:Pi,uniformBlockBinding:ro,texStorage2D:Mn,texStorage3D:zr,texSubImage2D:Zn,texSubImage3D:vr,compressedTexSubImage2D:Yr,compressedTexSubImage3D:yr,scissor:Wr,viewport:$r,reset:Zo}}function yq($,a,f,x,S,I,k){const U=S.isWebGL2,W=S.maxTextures,K=S.maxCubemapSize,q=S.maxTextureSize,ee=S.maxSamples,te=a.has("WEBGL_multisampled_render_to_texture")?a.get("WEBGL_multisampled_render_to_texture"):null,ie=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),de=new WeakMap;let le;const ae=new WeakMap;let Ie=!1;try{Ie=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function He(At,rt){return Ie?new OffscreenCanvas(At,rt):sf("canvas")}function Ne(At,rt,un,Kn){let Zn=1;if((At.width>Kn||At.height>Kn)&&(Zn=Kn/Math.max(At.width,At.height)),Zn<1||rt===!0)if(typeof HTMLImageElement<"u"&&At instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&At instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&At instanceof ImageBitmap){const vr=rt?Nh:Math.floor,Yr=vr(Zn*At.width),yr=vr(Zn*At.height);le===void 0&&(le=He(Yr,yr));const Mn=un?He(Yr,yr):le;return Mn.width=Yr,Mn.height=yr,Mn.getContext("2d").drawImage(At,0,0,Yr,yr),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+At.width+"x"+At.height+") to ("+Yr+"x"+yr+")."),Mn}else return"data"in At&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+At.width+"x"+At.height+")."),At;return At}function ze(At){return Rg(At.width)&&Rg(At.height)}function Xe(At){return U?!1:At.wrapS!==Ue||At.wrapT!==Ue||At.minFilter!==ue&&At.minFilter!==ve}function pt(At,rt){return At.generateMipmaps&&rt&&At.minFilter!==ue&&At.minFilter!==ve}function Pt(At){$.generateMipmap(At)}function Ge(At,rt,un,Kn,Zn=!1){if(U===!1)return rt;if(At!==null){if($[At]!==void 0)return $[At];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+At+"'")}let vr=rt;return rt===6403&&(un===5126&&(vr=33326),un===5131&&(vr=33325),un===5121&&(vr=33321)),rt===33319&&(un===5126&&(vr=33328),un===5131&&(vr=33327),un===5121&&(vr=33323)),rt===6408&&(un===5126&&(vr=34836),un===5131&&(vr=34842),un===5121&&(vr=Kn===Hn&&Zn===!1?35907:32856),un===32819&&(vr=32854),un===32820&&(vr=32855)),(vr===33325||vr===33326||vr===33327||vr===33328||vr===34842||vr===34836)&&a.get("EXT_color_buffer_float"),vr}function vt(At,rt,un){return pt(At,un)===!0||At.isFramebufferTexture&&At.minFilter!==ue&&At.minFilter!==ve?Math.log2(Math.max(rt.width,rt.height))+1:At.mipmaps!==void 0&&At.mipmaps.length>0?At.mipmaps.length:At.isCompressedTexture&&Array.isArray(At.image)?rt.mipmaps.length:1}function _t(At){return At===ue||At===Y||At===Pe?9728:9729}function Gt(At){const rt=At.target;rt.removeEventListener("dispose",Gt),Qt(rt),rt.isVideoTexture&&de.delete(rt)}function an(At){const rt=At.target;rt.removeEventListener("dispose",an),nn(rt)}function Qt(At){const rt=x.get(At);if(rt.__webglInit===void 0)return;const un=At.source,Kn=ae.get(un);if(Kn){const Zn=Kn[rt.__cacheKey];Zn.usedTimes--,Zn.usedTimes===0&&$t(At),Object.keys(Kn).length===0&&ae.delete(un)}x.remove(At)}function $t(At){const rt=x.get(At);$.deleteTexture(rt.__webglTexture);const un=At.source,Kn=ae.get(un);delete Kn[rt.__cacheKey],k.memory.textures--}function nn(At){const rt=At.texture,un=x.get(At),Kn=x.get(rt);if(Kn.__webglTexture!==void 0&&($.deleteTexture(Kn.__webglTexture),k.memory.textures--),At.depthTexture&&At.depthTexture.dispose(),At.isWebGLCubeRenderTarget)for(let Zn=0;Zn<6;Zn++)$.deleteFramebuffer(un.__webglFramebuffer[Zn]),un.__webglDepthbuffer&&$.deleteRenderbuffer(un.__webglDepthbuffer[Zn]);else{if($.deleteFramebuffer(un.__webglFramebuffer),un.__webglDepthbuffer&&$.deleteRenderbuffer(un.__webglDepthbuffer),un.__webglMultisampledFramebuffer&&$.deleteFramebuffer(un.__webglMultisampledFramebuffer),un.__webglColorRenderbuffer)for(let Zn=0;Zn<un.__webglColorRenderbuffer.length;Zn++)un.__webglColorRenderbuffer[Zn]&&$.deleteRenderbuffer(un.__webglColorRenderbuffer[Zn]);un.__webglDepthRenderbuffer&&$.deleteRenderbuffer(un.__webglDepthRenderbuffer)}if(At.isWebGLMultipleRenderTargets)for(let Zn=0,vr=rt.length;Zn<vr;Zn++){const Yr=x.get(rt[Zn]);Yr.__webglTexture&&($.deleteTexture(Yr.__webglTexture),k.memory.textures--),x.remove(rt[Zn])}x.remove(rt),x.remove(At)}let Rn=0;function On(){Rn=0}function Tn(){const At=Rn;return At>=W&&console.warn("THREE.WebGLTextures: Trying to use "+At+" texture units while this GPU supports only "+W),Rn+=1,At}function Qn(At){const rt=[];return rt.push(At.wrapS),rt.push(At.wrapT),rt.push(At.wrapR||0),rt.push(At.magFilter),rt.push(At.minFilter),rt.push(At.anisotropy),rt.push(At.internalFormat),rt.push(At.format),rt.push(At.type),rt.push(At.generateMipmaps),rt.push(At.premultiplyAlpha),rt.push(At.flipY),rt.push(At.unpackAlignment),rt.push(At.encoding),rt.join()}function zn(At,rt){const un=x.get(At);if(At.isVideoTexture&&Qi(At),At.isRenderTargetTexture===!1&&At.version>0&&un.__version!==At.version){const Kn=At.image;if(Kn===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Kn.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{dr(un,At,rt);return}}f.bindTexture(3553,un.__webglTexture,33984+rt)}function Cr(At,rt){const un=x.get(At);if(At.version>0&&un.__version!==At.version){dr(un,At,rt);return}f.bindTexture(35866,un.__webglTexture,33984+rt)}function hr(At,rt){const un=x.get(At);if(At.version>0&&un.__version!==At.version){dr(un,At,rt);return}f.bindTexture(32879,un.__webglTexture,33984+rt)}function hn(At,rt){const un=x.get(At);if(At.version>0&&un.__version!==At.version){Fr(un,At,rt);return}f.bindTexture(34067,un.__webglTexture,33984+rt)}const Dn={[Ae]:10497,[Ue]:33071,[et]:33648},ur={[ue]:9728,[Y]:9984,[Pe]:9986,[ve]:9729,[he]:9985,[Ze]:9987};function on(At,rt,un){if(un?($.texParameteri(At,10242,Dn[rt.wrapS]),$.texParameteri(At,10243,Dn[rt.wrapT]),(At===32879||At===35866)&&$.texParameteri(At,32882,Dn[rt.wrapR]),$.texParameteri(At,10240,ur[rt.magFilter]),$.texParameteri(At,10241,ur[rt.minFilter])):($.texParameteri(At,10242,33071),$.texParameteri(At,10243,33071),(At===32879||At===35866)&&$.texParameteri(At,32882,33071),(rt.wrapS!==Ue||rt.wrapT!==Ue)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),$.texParameteri(At,10240,_t(rt.magFilter)),$.texParameteri(At,10241,_t(rt.minFilter)),rt.minFilter!==ue&&rt.minFilter!==ve&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),a.has("EXT_texture_filter_anisotropic")===!0){const Kn=a.get("EXT_texture_filter_anisotropic");if(rt.type===Lt&&a.has("OES_texture_float_linear")===!1||U===!1&&rt.type===mt&&a.has("OES_texture_half_float_linear")===!1)return;(rt.anisotropy>1||x.get(rt).__currentAnisotropy)&&($.texParameterf(At,Kn.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(rt.anisotropy,S.getMaxAnisotropy())),x.get(rt).__currentAnisotropy=rt.anisotropy)}}function Mr(At,rt){let un=!1;At.__webglInit===void 0&&(At.__webglInit=!0,rt.addEventListener("dispose",Gt));const Kn=rt.source;let Zn=ae.get(Kn);Zn===void 0&&(Zn={},ae.set(Kn,Zn));const vr=Qn(rt);if(vr!==At.__cacheKey){Zn[vr]===void 0&&(Zn[vr]={texture:$.createTexture(),usedTimes:0},k.memory.textures++,un=!0),Zn[vr].usedTimes++;const Yr=Zn[At.__cacheKey];Yr!==void 0&&(Zn[At.__cacheKey].usedTimes--,Yr.usedTimes===0&&$t(rt)),At.__cacheKey=vr,At.__webglTexture=Zn[vr].texture}return un}function dr(At,rt,un){let Kn=3553;(rt.isDataArrayTexture||rt.isCompressedArrayTexture)&&(Kn=35866),rt.isData3DTexture&&(Kn=32879);const Zn=Mr(At,rt),vr=rt.source;f.bindTexture(Kn,At.__webglTexture,33984+un);const Yr=x.get(vr);if(vr.version!==Yr.__version||Zn===!0){f.activeTexture(33984+un),$.pixelStorei(37440,rt.flipY),$.pixelStorei(37441,rt.premultiplyAlpha),$.pixelStorei(3317,rt.unpackAlignment),$.pixelStorei(37443,0);const yr=Xe(rt)&&ze(rt.image)===!1;let Mn=Ne(rt.image,yr,!1,q);Mn=Ui(rt,Mn);const zr=ze(Mn)||U,qr=I.convert(rt.format,rt.encoding);let Pr=I.convert(rt.type),Wr=Ge(rt.internalFormat,qr,Pr,rt.encoding,rt.isVideoTexture);on(Kn,rt,zr);let $r;const Pi=rt.mipmaps,ro=U&&rt.isVideoTexture!==!0,Zo=Yr.__version===void 0||Zn===!0,zt=vt(rt,Mn,zr);if(rt.isDepthTexture)Wr=6402,U?rt.type===Lt?Wr=36012:rt.type===Vt?Wr=33190:rt.type===Jt?Wr=35056:Wr=33189:rt.type===Lt&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),rt.format===Fn&&Wr===6402&&rt.type!==Bt&&rt.type!==Vt&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),rt.type=Vt,Pr=I.convert(rt.type)),rt.format===Cn&&Wr===6402&&(Wr=34041,rt.type!==Jt&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),rt.type=Jt,Pr=I.convert(rt.type))),Zo&&(ro?f.texStorage2D(3553,1,Wr,Mn.width,Mn.height):f.texImage2D(3553,0,Wr,Mn.width,Mn.height,0,qr,Pr,null));else if(rt.isDataTexture)if(Pi.length>0&&zr){ro&&Zo&&f.texStorage2D(3553,zt,Wr,Pi[0].width,Pi[0].height);for(let En=0,Vn=Pi.length;En<Vn;En++)$r=Pi[En],ro?f.texSubImage2D(3553,En,0,0,$r.width,$r.height,qr,Pr,$r.data):f.texImage2D(3553,En,Wr,$r.width,$r.height,0,qr,Pr,$r.data);rt.generateMipmaps=!1}else ro?(Zo&&f.texStorage2D(3553,zt,Wr,Mn.width,Mn.height),f.texSubImage2D(3553,0,0,0,Mn.width,Mn.height,qr,Pr,Mn.data)):f.texImage2D(3553,0,Wr,Mn.width,Mn.height,0,qr,Pr,Mn.data);else if(rt.isCompressedTexture)if(rt.isCompressedArrayTexture){ro&&Zo&&f.texStorage3D(35866,zt,Wr,Pi[0].width,Pi[0].height,Mn.depth);for(let En=0,Vn=Pi.length;En<Vn;En++)$r=Pi[En],rt.format!==Ln?qr!==null?ro?f.compressedTexSubImage3D(35866,En,0,0,0,$r.width,$r.height,Mn.depth,qr,$r.data,0,0):f.compressedTexImage3D(35866,En,Wr,$r.width,$r.height,Mn.depth,0,$r.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ro?f.texSubImage3D(35866,En,0,0,0,$r.width,$r.height,Mn.depth,qr,Pr,$r.data):f.texImage3D(35866,En,Wr,$r.width,$r.height,Mn.depth,0,qr,Pr,$r.data)}else{ro&&Zo&&f.texStorage2D(3553,zt,Wr,Pi[0].width,Pi[0].height);for(let En=0,Vn=Pi.length;En<Vn;En++)$r=Pi[En],rt.format!==Ln?qr!==null?ro?f.compressedTexSubImage2D(3553,En,0,0,$r.width,$r.height,qr,$r.data):f.compressedTexImage2D(3553,En,Wr,$r.width,$r.height,0,$r.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ro?f.texSubImage2D(3553,En,0,0,$r.width,$r.height,qr,Pr,$r.data):f.texImage2D(3553,En,Wr,$r.width,$r.height,0,qr,Pr,$r.data)}else if(rt.isDataArrayTexture)ro?(Zo&&f.texStorage3D(35866,zt,Wr,Mn.width,Mn.height,Mn.depth),f.texSubImage3D(35866,0,0,0,0,Mn.width,Mn.height,Mn.depth,qr,Pr,Mn.data)):f.texImage3D(35866,0,Wr,Mn.width,Mn.height,Mn.depth,0,qr,Pr,Mn.data);else if(rt.isData3DTexture)ro?(Zo&&f.texStorage3D(32879,zt,Wr,Mn.width,Mn.height,Mn.depth),f.texSubImage3D(32879,0,0,0,0,Mn.width,Mn.height,Mn.depth,qr,Pr,Mn.data)):f.texImage3D(32879,0,Wr,Mn.width,Mn.height,Mn.depth,0,qr,Pr,Mn.data);else if(rt.isFramebufferTexture){if(Zo)if(ro)f.texStorage2D(3553,zt,Wr,Mn.width,Mn.height);else{let En=Mn.width,Vn=Mn.height;for(let wr=0;wr<zt;wr++)f.texImage2D(3553,wr,Wr,En,Vn,0,qr,Pr,null),En>>=1,Vn>>=1}}else if(Pi.length>0&&zr){ro&&Zo&&f.texStorage2D(3553,zt,Wr,Pi[0].width,Pi[0].height);for(let En=0,Vn=Pi.length;En<Vn;En++)$r=Pi[En],ro?f.texSubImage2D(3553,En,0,0,qr,Pr,$r):f.texImage2D(3553,En,Wr,qr,Pr,$r);rt.generateMipmaps=!1}else ro?(Zo&&f.texStorage2D(3553,zt,Wr,Mn.width,Mn.height),f.texSubImage2D(3553,0,0,0,qr,Pr,Mn)):f.texImage2D(3553,0,Wr,qr,Pr,Mn);pt(rt,zr)&&Pt(Kn),Yr.__version=vr.version,rt.onUpdate&&rt.onUpdate(rt)}At.__version=rt.version}function Fr(At,rt,un){if(rt.image.length!==6)return;const Kn=Mr(At,rt),Zn=rt.source;f.bindTexture(34067,At.__webglTexture,33984+un);const vr=x.get(Zn);if(Zn.version!==vr.__version||Kn===!0){f.activeTexture(33984+un),$.pixelStorei(37440,rt.flipY),$.pixelStorei(37441,rt.premultiplyAlpha),$.pixelStorei(3317,rt.unpackAlignment),$.pixelStorei(37443,0);const Yr=rt.isCompressedTexture||rt.image[0].isCompressedTexture,yr=rt.image[0]&&rt.image[0].isDataTexture,Mn=[];for(let En=0;En<6;En++)!Yr&&!yr?Mn[En]=Ne(rt.image[En],!1,!0,K):Mn[En]=yr?rt.image[En].image:rt.image[En],Mn[En]=Ui(rt,Mn[En]);const zr=Mn[0],qr=ze(zr)||U,Pr=I.convert(rt.format,rt.encoding),Wr=I.convert(rt.type),$r=Ge(rt.internalFormat,Pr,Wr,rt.encoding),Pi=U&&rt.isVideoTexture!==!0,ro=vr.__version===void 0||Kn===!0;let Zo=vt(rt,zr,qr);on(34067,rt,qr);let zt;if(Yr){Pi&&ro&&f.texStorage2D(34067,Zo,$r,zr.width,zr.height);for(let En=0;En<6;En++){zt=Mn[En].mipmaps;for(let Vn=0;Vn<zt.length;Vn++){const wr=zt[Vn];rt.format!==Ln?Pr!==null?Pi?f.compressedTexSubImage2D(34069+En,Vn,0,0,wr.width,wr.height,Pr,wr.data):f.compressedTexImage2D(34069+En,Vn,$r,wr.width,wr.height,0,wr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Pi?f.texSubImage2D(34069+En,Vn,0,0,wr.width,wr.height,Pr,Wr,wr.data):f.texImage2D(34069+En,Vn,$r,wr.width,wr.height,0,Pr,Wr,wr.data)}}}else{zt=rt.mipmaps,Pi&&ro&&(zt.length>0&&Zo++,f.texStorage2D(34067,Zo,$r,Mn[0].width,Mn[0].height));for(let En=0;En<6;En++)if(yr){Pi?f.texSubImage2D(34069+En,0,0,0,Mn[En].width,Mn[En].height,Pr,Wr,Mn[En].data):f.texImage2D(34069+En,0,$r,Mn[En].width,Mn[En].height,0,Pr,Wr,Mn[En].data);for(let Vn=0;Vn<zt.length;Vn++){const kr=zt[Vn].image[En].image;Pi?f.texSubImage2D(34069+En,Vn+1,0,0,kr.width,kr.height,Pr,Wr,kr.data):f.texImage2D(34069+En,Vn+1,$r,kr.width,kr.height,0,Pr,Wr,kr.data)}}else{Pi?f.texSubImage2D(34069+En,0,0,0,Pr,Wr,Mn[En]):f.texImage2D(34069+En,0,$r,Pr,Wr,Mn[En]);for(let Vn=0;Vn<zt.length;Vn++){const wr=zt[Vn];Pi?f.texSubImage2D(34069+En,Vn+1,0,0,Pr,Wr,wr.image[En]):f.texImage2D(34069+En,Vn+1,$r,Pr,Wr,wr.image[En])}}}pt(rt,qr)&&Pt(34067),vr.__version=Zn.version,rt.onUpdate&&rt.onUpdate(rt)}At.__version=rt.version}function Jn(At,rt,un,Kn,Zn){const vr=I.convert(un.format,un.encoding),Yr=I.convert(un.type),yr=Ge(un.internalFormat,vr,Yr,un.encoding);x.get(rt).__hasExternalTextures||(Zn===32879||Zn===35866?f.texImage3D(Zn,0,yr,rt.width,rt.height,rt.depth,0,vr,Yr,null):f.texImage2D(Zn,0,yr,rt.width,rt.height,0,vr,Yr,null)),f.bindFramebuffer(36160,At),Ur(rt)?te.framebufferTexture2DMultisampleEXT(36160,Kn,Zn,x.get(un).__webglTexture,0,Vr(rt)):(Zn===3553||Zn>=34069&&Zn<=34074)&&$.framebufferTexture2D(36160,Kn,Zn,x.get(un).__webglTexture,0),f.bindFramebuffer(36160,null)}function oi(At,rt,un){if($.bindRenderbuffer(36161,At),rt.depthBuffer&&!rt.stencilBuffer){let Kn=33189;if(un||Ur(rt)){const Zn=rt.depthTexture;Zn&&Zn.isDepthTexture&&(Zn.type===Lt?Kn=36012:Zn.type===Vt&&(Kn=33190));const vr=Vr(rt);Ur(rt)?te.renderbufferStorageMultisampleEXT(36161,vr,Kn,rt.width,rt.height):$.renderbufferStorageMultisample(36161,vr,Kn,rt.width,rt.height)}else $.renderbufferStorage(36161,Kn,rt.width,rt.height);$.framebufferRenderbuffer(36160,36096,36161,At)}else if(rt.depthBuffer&&rt.stencilBuffer){const Kn=Vr(rt);un&&Ur(rt)===!1?$.renderbufferStorageMultisample(36161,Kn,35056,rt.width,rt.height):Ur(rt)?te.renderbufferStorageMultisampleEXT(36161,Kn,35056,rt.width,rt.height):$.renderbufferStorage(36161,34041,rt.width,rt.height),$.framebufferRenderbuffer(36160,33306,36161,At)}else{const Kn=rt.isWebGLMultipleRenderTargets===!0?rt.texture:[rt.texture];for(let Zn=0;Zn<Kn.length;Zn++){const vr=Kn[Zn],Yr=I.convert(vr.format,vr.encoding),yr=I.convert(vr.type),Mn=Ge(vr.internalFormat,Yr,yr,vr.encoding),zr=Vr(rt);un&&Ur(rt)===!1?$.renderbufferStorageMultisample(36161,zr,Mn,rt.width,rt.height):Ur(rt)?te.renderbufferStorageMultisampleEXT(36161,zr,Mn,rt.width,rt.height):$.renderbufferStorage(36161,Mn,rt.width,rt.height)}}$.bindRenderbuffer(36161,null)}function Pn(At,rt){if(rt&&rt.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(f.bindFramebuffer(36160,At),!(rt.depthTexture&&rt.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!x.get(rt.depthTexture).__webglTexture||rt.depthTexture.image.width!==rt.width||rt.depthTexture.image.height!==rt.height)&&(rt.depthTexture.image.width=rt.width,rt.depthTexture.image.height=rt.height,rt.depthTexture.needsUpdate=!0),zn(rt.depthTexture,0);const Kn=x.get(rt.depthTexture).__webglTexture,Zn=Vr(rt);if(rt.depthTexture.format===Fn)Ur(rt)?te.framebufferTexture2DMultisampleEXT(36160,36096,3553,Kn,0,Zn):$.framebufferTexture2D(36160,36096,3553,Kn,0);else if(rt.depthTexture.format===Cn)Ur(rt)?te.framebufferTexture2DMultisampleEXT(36160,33306,3553,Kn,0,Zn):$.framebufferTexture2D(36160,33306,3553,Kn,0);else throw new Error("Unknown depthTexture format")}function _n(At){const rt=x.get(At),un=At.isWebGLCubeRenderTarget===!0;if(At.depthTexture&&!rt.__autoAllocateDepthBuffer){if(un)throw new Error("target.depthTexture not supported in Cube render targets");Pn(rt.__webglFramebuffer,At)}else if(un){rt.__webglDepthbuffer=[];for(let Kn=0;Kn<6;Kn++)f.bindFramebuffer(36160,rt.__webglFramebuffer[Kn]),rt.__webglDepthbuffer[Kn]=$.createRenderbuffer(),oi(rt.__webglDepthbuffer[Kn],At,!1)}else f.bindFramebuffer(36160,rt.__webglFramebuffer),rt.__webglDepthbuffer=$.createRenderbuffer(),oi(rt.__webglDepthbuffer,At,!1);f.bindFramebuffer(36160,null)}function nr(At,rt,un){const Kn=x.get(At);rt!==void 0&&Jn(Kn.__webglFramebuffer,At,At.texture,36064,3553),un!==void 0&&_n(At)}function Dr(At){const rt=At.texture,un=x.get(At),Kn=x.get(rt);At.addEventListener("dispose",an),At.isWebGLMultipleRenderTargets!==!0&&(Kn.__webglTexture===void 0&&(Kn.__webglTexture=$.createTexture()),Kn.__version=rt.version,k.memory.textures++);const Zn=At.isWebGLCubeRenderTarget===!0,vr=At.isWebGLMultipleRenderTargets===!0,Yr=ze(At)||U;if(Zn){un.__webglFramebuffer=[];for(let yr=0;yr<6;yr++)un.__webglFramebuffer[yr]=$.createFramebuffer()}else{if(un.__webglFramebuffer=$.createFramebuffer(),vr)if(S.drawBuffers){const yr=At.texture;for(let Mn=0,zr=yr.length;Mn<zr;Mn++){const qr=x.get(yr[Mn]);qr.__webglTexture===void 0&&(qr.__webglTexture=$.createTexture(),k.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(U&&At.samples>0&&Ur(At)===!1){const yr=vr?rt:[rt];un.__webglMultisampledFramebuffer=$.createFramebuffer(),un.__webglColorRenderbuffer=[],f.bindFramebuffer(36160,un.__webglMultisampledFramebuffer);for(let Mn=0;Mn<yr.length;Mn++){const zr=yr[Mn];un.__webglColorRenderbuffer[Mn]=$.createRenderbuffer(),$.bindRenderbuffer(36161,un.__webglColorRenderbuffer[Mn]);const qr=I.convert(zr.format,zr.encoding),Pr=I.convert(zr.type),Wr=Ge(zr.internalFormat,qr,Pr,zr.encoding,At.isXRRenderTarget===!0),$r=Vr(At);$.renderbufferStorageMultisample(36161,$r,Wr,At.width,At.height),$.framebufferRenderbuffer(36160,36064+Mn,36161,un.__webglColorRenderbuffer[Mn])}$.bindRenderbuffer(36161,null),At.depthBuffer&&(un.__webglDepthRenderbuffer=$.createRenderbuffer(),oi(un.__webglDepthRenderbuffer,At,!0)),f.bindFramebuffer(36160,null)}}if(Zn){f.bindTexture(34067,Kn.__webglTexture),on(34067,rt,Yr);for(let yr=0;yr<6;yr++)Jn(un.__webglFramebuffer[yr],At,rt,36064,34069+yr);pt(rt,Yr)&&Pt(34067),f.unbindTexture()}else if(vr){const yr=At.texture;for(let Mn=0,zr=yr.length;Mn<zr;Mn++){const qr=yr[Mn],Pr=x.get(qr);f.bindTexture(3553,Pr.__webglTexture),on(3553,qr,Yr),Jn(un.__webglFramebuffer,At,qr,36064+Mn,3553),pt(qr,Yr)&&Pt(3553)}f.unbindTexture()}else{let yr=3553;(At.isWebGL3DRenderTarget||At.isWebGLArrayRenderTarget)&&(U?yr=At.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),f.bindTexture(yr,Kn.__webglTexture),on(yr,rt,Yr),Jn(un.__webglFramebuffer,At,rt,36064,yr),pt(rt,Yr)&&Pt(yr),f.unbindTexture()}At.depthBuffer&&_n(At)}function pr(At){const rt=ze(At)||U,un=At.isWebGLMultipleRenderTargets===!0?At.texture:[At.texture];for(let Kn=0,Zn=un.length;Kn<Zn;Kn++){const vr=un[Kn];if(pt(vr,rt)){const Yr=At.isWebGLCubeRenderTarget?34067:3553,yr=x.get(vr).__webglTexture;f.bindTexture(Yr,yr),Pt(Yr),f.unbindTexture()}}}function Jr(At){if(U&&At.samples>0&&Ur(At)===!1){const rt=At.isWebGLMultipleRenderTargets?At.texture:[At.texture],un=At.width,Kn=At.height;let Zn=16384;const vr=[],Yr=At.stencilBuffer?33306:36096,yr=x.get(At),Mn=At.isWebGLMultipleRenderTargets===!0;if(Mn)for(let zr=0;zr<rt.length;zr++)f.bindFramebuffer(36160,yr.__webglMultisampledFramebuffer),$.framebufferRenderbuffer(36160,36064+zr,36161,null),f.bindFramebuffer(36160,yr.__webglFramebuffer),$.framebufferTexture2D(36009,36064+zr,3553,null,0);f.bindFramebuffer(36008,yr.__webglMultisampledFramebuffer),f.bindFramebuffer(36009,yr.__webglFramebuffer);for(let zr=0;zr<rt.length;zr++){vr.push(36064+zr),At.depthBuffer&&vr.push(Yr);const qr=yr.__ignoreDepthValues!==void 0?yr.__ignoreDepthValues:!1;if(qr===!1&&(At.depthBuffer&&(Zn|=256),At.stencilBuffer&&(Zn|=1024)),Mn&&$.framebufferRenderbuffer(36008,36064,36161,yr.__webglColorRenderbuffer[zr]),qr===!0&&($.invalidateFramebuffer(36008,[Yr]),$.invalidateFramebuffer(36009,[Yr])),Mn){const Pr=x.get(rt[zr]).__webglTexture;$.framebufferTexture2D(36009,36064,3553,Pr,0)}$.blitFramebuffer(0,0,un,Kn,0,0,un,Kn,Zn,9728),ie&&$.invalidateFramebuffer(36008,vr)}if(f.bindFramebuffer(36008,null),f.bindFramebuffer(36009,null),Mn)for(let zr=0;zr<rt.length;zr++){f.bindFramebuffer(36160,yr.__webglMultisampledFramebuffer),$.framebufferRenderbuffer(36160,36064+zr,36161,yr.__webglColorRenderbuffer[zr]);const qr=x.get(rt[zr]).__webglTexture;f.bindFramebuffer(36160,yr.__webglFramebuffer),$.framebufferTexture2D(36009,36064+zr,3553,qr,0)}f.bindFramebuffer(36009,yr.__webglMultisampledFramebuffer)}}function Vr(At){return Math.min(ee,At.samples)}function Ur(At){const rt=x.get(At);return U&&At.samples>0&&a.has("WEBGL_multisampled_render_to_texture")===!0&&rt.__useRenderToTexture!==!1}function Qi(At){const rt=k.render.frame;de.get(At)!==rt&&(de.set(At,rt),At.update())}function Ui(At,rt){const un=At.encoding,Kn=At.format,Zn=At.type;return At.isCompressedTexture===!0||At.isVideoTexture===!0||At.format===Dh||un!==mr&&(un===Hn?U===!1?a.has("EXT_sRGB")===!0&&Kn===Ln?(At.format=Dh,At.minFilter=ve,At.generateMipmaps=!1):rt=Bg.sRGBToLinear(rt):(Kn!==Ln||Zn!==nt)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",un)),rt}this.allocateTextureUnit=Tn,this.resetTextureUnits=On,this.setTexture2D=zn,this.setTexture2DArray=Cr,this.setTexture3D=hr,this.setTextureCube=hn,this.rebindTextures=nr,this.setupRenderTarget=Dr,this.updateRenderTargetMipmap=pr,this.updateMultisampleRenderTarget=Jr,this.setupDepthRenderbuffer=_n,this.setupFrameBufferTexture=Jn,this.useMultisampledRTT=Ur}function bB($,a,f){const x=f.isWebGL2;function S(I,k=null){let U;if(I===nt)return 5121;if(I===Nt)return 32819;if(I===cn)return 32820;if(I===It)return 5120;if(I===kt)return 5122;if(I===Bt)return 5123;if(I===jt)return 5124;if(I===Vt)return 5125;if(I===Lt)return 5126;if(I===mt)return x?5131:(U=a.get("OES_texture_half_float"),U!==null?U.HALF_FLOAT_OES:null);if(I===Sn)return 6406;if(I===Ln)return 6408;if(I===rr)return 6409;if(I===jn)return 6410;if(I===Fn)return 6402;if(I===Cn)return 34041;if(I===yn)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(I===Dh)return U=a.get("EXT_sRGB"),U!==null?U.SRGB_ALPHA_EXT:null;if(I===Oe)return 6403;if(I===lt)return 36244;if(I===wt)return 33319;if(I===xe)return 33320;if(I===De)return 36249;if(I===tt||I===St||I===Mt||I===Ut)if(k===Hn)if(U=a.get("WEBGL_compressed_texture_s3tc_srgb"),U!==null){if(I===tt)return U.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(I===St)return U.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(I===Mt)return U.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(I===Ut)return U.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(U=a.get("WEBGL_compressed_texture_s3tc"),U!==null){if(I===tt)return U.COMPRESSED_RGB_S3TC_DXT1_EXT;if(I===St)return U.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(I===Mt)return U.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(I===Ut)return U.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(I===Kt||I===gn||I===sn||I===Xt)if(U=a.get("WEBGL_compressed_texture_pvrtc"),U!==null){if(I===Kt)return U.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(I===gn)return U.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(I===sn)return U.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(I===Xt)return U.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(I===$n)return U=a.get("WEBGL_compressed_texture_etc1"),U!==null?U.COMPRESSED_RGB_ETC1_WEBGL:null;if(I===Nn||I===er)if(U=a.get("WEBGL_compressed_texture_etc"),U!==null){if(I===Nn)return k===Hn?U.COMPRESSED_SRGB8_ETC2:U.COMPRESSED_RGB8_ETC2;if(I===er)return k===Hn?U.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:U.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(I===br||I===kn||I===fr||I===sr||I===Nr||I===or||I===Zt||I===bn||I===qn||I===Gn||I===re||I===se||I===Me||I===Fe)if(U=a.get("WEBGL_compressed_texture_astc"),U!==null){if(I===br)return k===Hn?U.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:U.COMPRESSED_RGBA_ASTC_4x4_KHR;if(I===kn)return k===Hn?U.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:U.COMPRESSED_RGBA_ASTC_5x4_KHR;if(I===fr)return k===Hn?U.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:U.COMPRESSED_RGBA_ASTC_5x5_KHR;if(I===sr)return k===Hn?U.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:U.COMPRESSED_RGBA_ASTC_6x5_KHR;if(I===Nr)return k===Hn?U.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:U.COMPRESSED_RGBA_ASTC_6x6_KHR;if(I===or)return k===Hn?U.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:U.COMPRESSED_RGBA_ASTC_8x5_KHR;if(I===Zt)return k===Hn?U.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:U.COMPRESSED_RGBA_ASTC_8x6_KHR;if(I===bn)return k===Hn?U.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:U.COMPRESSED_RGBA_ASTC_8x8_KHR;if(I===qn)return k===Hn?U.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:U.COMPRESSED_RGBA_ASTC_10x5_KHR;if(I===Gn)return k===Hn?U.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:U.COMPRESSED_RGBA_ASTC_10x6_KHR;if(I===re)return k===Hn?U.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:U.COMPRESSED_RGBA_ASTC_10x8_KHR;if(I===se)return k===Hn?U.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:U.COMPRESSED_RGBA_ASTC_10x10_KHR;if(I===Me)return k===Hn?U.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:U.COMPRESSED_RGBA_ASTC_12x10_KHR;if(I===Fe)return k===Hn?U.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:U.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(I===Je)if(U=a.get("EXT_texture_compression_bptc"),U!==null){if(I===Je)return k===Hn?U.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:U.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return I===Jt?x?34042:(U=a.get("WEBGL_depth_texture"),U!==null?U.UNSIGNED_INT_24_8_WEBGL:null):$[I]!==void 0?$[I]:null}return{convert:S}}class pf extends bi{constructor(){super(),this.isGroup=!0,this.type="Group"}}class sS extends zo{constructor(a=[]){super(),this.isArrayCamera=!0,this.cameras=a}}var xB=new dt,EB=new dt;function bq($,a,f){xB.setFromMatrixPosition(a.matrixWorld),EB.setFromMatrixPosition(f.matrixWorld);var x=xB.distanceTo(EB),S=a.projectionMatrix.elements,I=f.projectionMatrix.elements,k=S[14]/(S[10]-1),U=S[14]/(S[10]+1),W=(S[9]+1)/S[5],K=(S[9]-1)/S[5],q=(S[8]-1)/S[0],ee=(I[8]+1)/I[0],te=k*q,ie=k*ee,de=x/(-q+ee),le=de*-q;a.matrixWorld.decompose($.position,$.quaternion,$.scale),$.translateX(le),$.translateZ(de),$.matrixWorld.compose($.position,$.quaternion,$.scale),$.matrixWorldInverse.copy($.matrixWorld).invert();var ae=k+de,Ie=U+de,He=te-le,Ne=ie+(x-le),ze=W*U/Ie*ae,Xe=K*U/Ie*ae;$.projectionMatrix.makePerspective(He,Ne,ze,Xe,ae,Ie)}function CB($){var a,f,x=this,S=null,I=null,k=null,U=[],W=new _r,K=new _r,q=1,ee="local-floor";typeof window<"u"&&"VRFrameData"in window&&(I=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",ze,!1));var te=new _r,ie=new fa,de=new dt,le=new zo;le.viewport=new Si,le.layers.enable(1);var ae=new zo;ae.viewport=new Si,ae.layers.enable(2);var Ie=new sS([le,ae]);Ie.layers.enable(1),Ie.layers.enable(2);var He=new In,Ne;function ze(){var Gt=x.isPresenting=S!==null&&S.isPresenting===!0;if(Gt){var an=S.getEyeParameters("left");a=2*an.renderWidth*q,f=an.renderHeight*q,Ne=$.getPixelRatio(),$.getSize(He),$.setDrawingBufferSize(a,f,1),le.viewport.set(0,0,a/2,f),ae.viewport.set(a/2,0,a/2,f),_t.start(),x.dispatchEvent({type:"sessionstart"})}else x.enabled&&$.setDrawingBufferSize(He.width,He.height,Ne),_t.stop(),x.dispatchEvent({type:"sessionend"})}var Xe=[],pt=[];function Pt(Gt){for(var an=navigator.getGamepads&&navigator.getGamepads(),Qt=0,$t=an.length;Qt<$t;Qt++){var nn=an[Qt];if(nn&&(nn.id==="Daydream Controller"||nn.id==="Gear VR Controller"||nn.id==="Oculus Go Controller"||nn.id==="OpenVR Gamepad"||nn.id.startsWith("Oculus Touch")||nn.id.startsWith("HTC Vive Focus")||nn.id.startsWith("Spatial Controller"))){var Rn=nn.hand;if(Gt===0&&(Rn===""||Rn==="right")||Gt===1&&Rn==="left")return nn}}}function Ge(){for(var Gt=0;Gt<U.length;Gt++){var an=U[Gt],Qt=Pt(Gt);if(Qt!==void 0&&Qt.pose!==void 0){if(Qt.pose===null)return;var $t=Qt.pose;$t.hasPosition===!1&&an.position.set(.2,-.6,-.05),$t.position!==null&&an.position.fromArray($t.position),$t.orientation!==null&&an.quaternion.fromArray($t.orientation),an.matrix.compose(an.position,an.quaternion,an.scale),an.matrix.premultiply(W),an.matrix.decompose(an.position,an.quaternion,an.scale),an.matrixWorldNeedsUpdate=!0,an.visible=!0;var nn=Qt.id==="Daydream Controller"?0:1;Xe[Gt]===void 0&&(Xe[Gt]=!1),Xe[Gt]!==Qt.buttons[nn].pressed&&(Xe[Gt]=Qt.buttons[nn].pressed,Xe[Gt]===!0?an.dispatchEvent({type:"selectstart"}):(an.dispatchEvent({type:"selectend"}),an.dispatchEvent({type:"select"}))),nn=2,pt[Gt]===void 0&&(pt[Gt]=!1),Qt.buttons[nn]!==void 0&&pt[Gt]!==Qt.buttons[nn].pressed&&(pt[Gt]=Qt.buttons[nn].pressed,pt[Gt]===!0?an.dispatchEvent({type:"squeezestart"}):(an.dispatchEvent({type:"squeezeend"}),an.dispatchEvent({type:"squeeze"})))}else an.visible=!1}}function vt(Gt,an){an!==null&&an.length===4&&Gt.set(an[0]*a,an[1]*f,an[2]*a,an[3]*f)}this.enabled=!1,this.getController=function(Gt){var an=U[Gt];return an===void 0&&(an=new pf,an.matrixAutoUpdate=!1,an.visible=!1,U[Gt]=an),an},this.getDevice=function(){return S},this.setDevice=function(Gt){Gt!==void 0&&(S=Gt),_t.setContext(Gt)},this.setFramebufferScaleFactor=function(Gt){q=Gt},this.setReferenceSpaceType=function(Gt){ee=Gt},this.setPoseTarget=function(Gt){Gt!==void 0&&(k=Gt)},this.cameraAutoUpdate=!0,this.updateCamera=function(Gt){var an=ee==="local-floor"?1.6:0;if(S.depthNear=Gt.near,S.depthFar=Gt.far,S.getFrameData(I),ee==="local-floor"){var Qt=S.stageParameters;Qt?W.fromArray(Qt.sittingToStandingTransform):W.makeTranslation(0,an,0)}var $t=I.pose,nn=k!==null?k:Gt;nn.matrix.copy(W),nn.matrix.decompose(nn.position,nn.quaternion,nn.scale),$t.orientation!==null&&(ie.fromArray($t.orientation),nn.quaternion.multiply(ie)),$t.position!==null&&(ie.setFromRotationMatrix(W),de.fromArray($t.position),de.applyQuaternion(ie),nn.position.add(de)),nn.updateMatrixWorld();for(var Rn=nn.children,On=0,Tn=Rn.length;On<Tn;On++)Rn[On].updateMatrixWorld(!0);le.near=Gt.near,ae.near=Gt.near,le.far=Gt.far,ae.far=Gt.far,le.matrixWorldInverse.fromArray(I.leftViewMatrix),ae.matrixWorldInverse.fromArray(I.rightViewMatrix),K.copy(W).invert(),ee==="local-floor"&&(le.matrixWorldInverse.multiply(K),ae.matrixWorldInverse.multiply(K));var Qn=nn.parent;Qn!==null&&(te.copy(Qn.matrixWorld).invert(),le.matrixWorldInverse.multiply(te),ae.matrixWorldInverse.multiply(te)),le.matrixWorld.copy(le.matrixWorldInverse).invert(),ae.matrixWorld.copy(ae.matrixWorldInverse).invert(),le.projectionMatrix.fromArray(I.leftProjectionMatrix),ae.projectionMatrix.fromArray(I.rightProjectionMatrix),bq(Ie,le,ae);var zn=S.getLayers();if(zn.length){var Cr=zn[0];vt(le.viewport,Cr.leftBounds),vt(ae.viewport,Cr.rightBounds)}return Ge(),Ie},this.getCamera=function(){return Ie},this.getFoveation=function(){return 1},this.setFoveation=function(Gt){Gt!==1&&console.warn("THREE.WebVRManager: setFoveation() not used in WebVR.")},this.getStandingMatrix=function(){return W},this.isPresenting=!1;var _t=new Jw;this.setAnimationLoop=function(Gt){_t.setAnimationLoop(Gt),this.isPresenting&&_t.start()},this.submitFrame=function(){this.isPresenting&&S.submitFrame()},this.dispose=function(){typeof window<"u"&&window.removeEventListener("vrdisplaypresentchange",ze)},this.setFrameOfReferenceType=function(){console.warn("THREE.WebVRManager: setFrameOfReferenceType() has been deprecated.")}}Object.assign(CB.prototype,{addEventListener:Oa.prototype.addEventListener,hasEventListener:Oa.prototype.hasEventListener,removeEventListener:Oa.prototype.removeEventListener,dispatchEvent:Oa.prototype.dispatchEvent});const xq={type:"move"};class lS{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new pf,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new pf,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new dt,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new dt),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new pf,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new dt,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new dt),this._grip}dispatchEvent(a){return this._targetRay!==null&&this._targetRay.dispatchEvent(a),this._grip!==null&&this._grip.dispatchEvent(a),this._hand!==null&&this._hand.dispatchEvent(a),this}connect(a){if(a&&a.hand){const f=this._hand;if(f)for(const x of a.hand.values())this._getHandJoint(f,x)}return this.dispatchEvent({type:"connected",data:a}),this}disconnect(a){return this.dispatchEvent({type:"disconnected",data:a}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(a,f,x){let S=null,I=null,k=null;const U=this._targetRay,W=this._grip,K=this._hand;if(a&&f.session.visibilityState!=="visible-blurred"){if(K&&a.hand){k=!0;for(const le of a.hand.values()){const ae=f.getJointPose(le,x),Ie=this._getHandJoint(K,le);ae!==null&&(Ie.matrix.fromArray(ae.transform.matrix),Ie.matrix.decompose(Ie.position,Ie.rotation,Ie.scale),Ie.jointRadius=ae.radius),Ie.visible=ae!==null}const q=K.joints["index-finger-tip"],ee=K.joints["thumb-tip"],te=q.position.distanceTo(ee.position),ie=.02,de=.005;K.inputState.pinching&&te>ie+de?(K.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:a.handedness,target:this})):!K.inputState.pinching&&te<=ie-de&&(K.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:a.handedness,target:this}))}else W!==null&&a.gripSpace&&(I=f.getPose(a.gripSpace,x),I!==null&&(W.matrix.fromArray(I.transform.matrix),W.matrix.decompose(W.position,W.rotation,W.scale),I.linearVelocity?(W.hasLinearVelocity=!0,W.linearVelocity.copy(I.linearVelocity)):W.hasLinearVelocity=!1,I.angularVelocity?(W.hasAngularVelocity=!0,W.angularVelocity.copy(I.angularVelocity)):W.hasAngularVelocity=!1));U!==null&&(S=f.getPose(a.targetRaySpace,x),S===null&&I!==null&&(S=I),S!==null&&(U.matrix.fromArray(S.transform.matrix),U.matrix.decompose(U.position,U.rotation,U.scale),S.linearVelocity?(U.hasLinearVelocity=!0,U.linearVelocity.copy(S.linearVelocity)):U.hasLinearVelocity=!1,S.angularVelocity?(U.hasAngularVelocity=!0,U.angularVelocity.copy(S.angularVelocity)):U.hasAngularVelocity=!1,this.dispatchEvent(xq)))}return U!==null&&(U.visible=S!==null),W!==null&&(W.visible=I!==null),K!==null&&(K.visible=k!==null),this}_getHandJoint(a,f){if(a.joints[f.jointName]===void 0){const x=new pf;x.matrixAutoUpdate=!1,x.visible=!1,a.joints[f.jointName]=x,a.add(x)}return a.joints[f.jointName]}}class wB extends ho{constructor(a,f,x,S,I,k,U,W,K,q){if(q=q!==void 0?q:Fn,q!==Fn&&q!==Cn)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");x===void 0&&q===Fn&&(x=Vt),x===void 0&&q===Cn&&(x=Jt),super(null,S,I,k,U,W,q,x,K),this.isDepthTexture=!0,this.image={width:a,height:f},this.magFilter=U!==void 0?U:ue,this.minFilter=W!==void 0?W:ue,this.flipY=!1,this.generateMipmaps=!1}}class Eq extends Oa{constructor(a,f){super();const x=this;let S=null,I=1;var k=null;let U=null,W="local-floor",K=null,q=null;var ee=[];let te=null,ie=null,de=null,le=null;const ae=f.getContextAttributes();let Ie=null,He=null;const Ne=[],ze=[],Xe=new Set,pt=new Map,Pt=new zo;Pt.layers.enable(1),Pt.viewport=new Si;const Ge=new zo;Ge.layers.enable(2),Ge.viewport=new Si;const vt=[Pt,Ge],_t=new sS;_t.layers.enable(1),_t.layers.enable(2);let Gt=null,an=null;this.cameraAutoUpdate=!0,this.layersEnabled=!1,this.enabled=!1,this.isPresenting=!1,this.getCameraPose=function(){return q},this.getController=function(hn){let Dn=Ne[hn];return Dn===void 0&&(Dn=new lS,Ne[hn]=Dn),Dn.getTargetRaySpace()},this.getControllerGrip=function(hn){let Dn=Ne[hn];return Dn===void 0&&(Dn=new lS,Ne[hn]=Dn),Dn.getGripSpace()},this.getHand=function(hn){let Dn=Ne[hn];return Dn===void 0&&(Dn=new lS,Ne[hn]=Dn),Dn.getHandSpace()};function Qt(hn){const Dn=ze.indexOf(hn.inputSource);if(Dn===-1)return;const ur=Ne[Dn];ur!==void 0&&ur.dispatchEvent({type:hn.type,data:hn.inputSource})}function $t(){S.removeEventListener("select",Qt),S.removeEventListener("selectstart",Qt),S.removeEventListener("selectend",Qt),S.removeEventListener("squeeze",Qt),S.removeEventListener("squeezestart",Qt),S.removeEventListener("squeezeend",Qt),S.removeEventListener("end",$t),S.removeEventListener("inputsourceschange",nn);for(let hn=0;hn<Ne.length;hn++){const Dn=ze[hn];Dn!==null&&(ze[hn]=null,Ne[hn].disconnect(Dn))}Gt=null,an=null,a.setRenderTarget(Ie),de=null,ie=null,te=null,S=null,He=null,hr.stop(),x.isPresenting=!1,x.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(hn){I=hn,x.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(hn){W=hn,x.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return K||U},this.setReferenceSpace=function(hn){K=hn},this.getBaseLayer=function(){return ie!==null?ie:de},this.getBinding=function(){return te},this.getFrame=function(){return le},this.getSession=function(){return S},this.setSession=async function(hn){if(S=hn,S!==null){if(Ie=a.getRenderTarget(),S.addEventListener("select",Qt),S.addEventListener("selectstart",Qt),S.addEventListener("selectend",Qt),S.addEventListener("squeeze",Qt),S.addEventListener("squeezestart",Qt),S.addEventListener("squeezeend",Qt),S.addEventListener("end",$t),S.addEventListener("inputsourceschange",nn),ae.xrCompatible!==!0&&await f.makeXRCompatible(),S.renderState.layers===void 0||a.capabilities.isWebGL2===!1){const Dn={antialias:S.renderState.layers===void 0?ae.antialias:!0,alpha:ae.alpha,depth:ae.depth,stencil:ae.stencil,framebufferScaleFactor:I};de=new XRWebGLLayer(S,f,Dn),S.updateRenderState({baseLayer:de}),He=new ns(de.framebufferWidth,de.framebufferHeight,{format:Ln,type:nt,encoding:a.outputEncoding,stencilBuffer:ae.stencil})}else{let Dn=null,ur=null,on=null;ae.depth&&(on=ae.stencil?35056:33190,Dn=ae.stencil?Cn:Fn,ur=ae.stencil?Jt:Vt);const Mr={colorFormat:32856,depthFormat:on,scaleFactor:I};te=new XRWebGLBinding(S,f),ie=te.createProjectionLayer(Mr),S.updateRenderState({layers:[ie]}),He=new ns(ie.textureWidth,ie.textureHeight,{format:Ln,type:nt,depthTexture:new wB(ie.textureWidth,ie.textureHeight,ur,void 0,void 0,void 0,void 0,void 0,void 0,Dn),stencilBuffer:ae.stencil,encoding:a.outputEncoding,samples:ae.antialias?4:0});const dr=a.properties.get(He);dr.__ignoreDepthValues=ie.ignoreDepthValues}He.isXRRenderTarget=!0,this.setFoveation(1),K=null,U=await S.requestReferenceSpace(W),hr.setContext(S),hr.start(),x.isPresenting=!0,x.dispatchEvent({type:"sessionstart"})}},this.addLayer=function(hn){!window.XRWebGLBinding||!this.layersEnabled||!S||(ee.push(hn),this.updateLayers())},this.removeLayer=function(hn){ee.splice(ee.indexOf(hn),1),!(!window.XRWebGLBinding||!this.layersEnabled||!S)&&this.updateLayers()},this.updateLayers=function(){var hn=ee.map(function(Dn){return Dn});hn.unshift(S.renderState.layers[0]),S.updateRenderState({layers:hn})};function nn(hn){for(let Dn=0;Dn<hn.removed.length;Dn++){const ur=hn.removed[Dn],on=ze.indexOf(ur);on>=0&&(ze[on]=null,Ne[on].disconnect(ur))}for(let Dn=0;Dn<hn.added.length;Dn++){const ur=hn.added[Dn];let on=ze.indexOf(ur);if(on===-1){for(let dr=0;dr<Ne.length;dr++)if(dr>=ze.length){ze.push(ur),on=dr;break}else if(ze[dr]===null){ze[dr]=ur,on=dr;break}if(on===-1)break}const Mr=Ne[on];Mr&&Mr.connect(ur)}}const Rn=new dt,On=new dt;function Tn(hn,Dn,ur){Rn.setFromMatrixPosition(Dn.matrixWorld),On.setFromMatrixPosition(ur.matrixWorld);const on=Rn.distanceTo(On),Mr=Dn.projectionMatrix.elements,dr=ur.projectionMatrix.elements,Fr=Mr[14]/(Mr[10]-1),Jn=Mr[14]/(Mr[10]+1),oi=(Mr[9]+1)/Mr[5],Pn=(Mr[9]-1)/Mr[5],_n=(Mr[8]-1)/Mr[0],nr=(dr[8]+1)/dr[0],Dr=Fr*_n,pr=Fr*nr,Jr=on/(-_n+nr),Vr=Jr*-_n;Dn.matrixWorld.decompose(hn.position,hn.quaternion,hn.scale),hn.translateX(Vr),hn.translateZ(Jr),hn.matrixWorld.compose(hn.position,hn.quaternion,hn.scale),hn.matrixWorldInverse.copy(hn.matrixWorld).invert();const Ur=Fr+Jr,Qi=Jn+Jr,Ui=Dr-Vr,At=pr+(on-Vr),rt=oi*Jn/Qi*Ur,un=Pn*Jn/Qi*Ur;hn.projectionMatrix.makePerspective(Ui,At,rt,un,Ur,Qi)}function Qn(hn,Dn){Dn===null?hn.matrixWorld.copy(hn.matrix):hn.matrixWorld.multiplyMatrices(Dn.matrixWorld,hn.matrix),hn.matrixWorldInverse.copy(hn.matrixWorld).invert()}this.setPoseTarget=function(hn){hn!==void 0&&(k=hn)},this.updateCamera=function(hn){if(S===null)return;_t.near=Ge.near=Pt.near=hn.near,_t.far=Ge.far=Pt.far=hn.far,(Gt!==_t.near||an!==_t.far)&&(S.updateRenderState({depthNear:_t.near,depthFar:_t.far}),Gt=_t.near,an=_t.far);const Dn=_t.cameras;var ur=k||hn;const on=ur.parent;Qn(_t,on);for(let dr=0;dr<Dn.length;dr++)Qn(Dn[dr],on);_t.matrixWorld.decompose(_t.position,_t.quaternion,_t.scale),ur.matrixWorld.copy(_t.matrixWorld),ur.matrix.copy(_t.matrix),ur.matrix.decompose(ur.position,ur.quaternion,ur.scale);const Mr=ur.children;for(let dr=0,Fr=Mr.length;dr<Fr;dr++)Mr[dr].updateMatrixWorld(!0);Dn.length===2?Tn(_t,Pt,Ge):_t.projectionMatrix.copy(Pt.projectionMatrix)},this.getCamera=function(){return _t},this.getFoveation=function(){if(ie!==null)return ie.fixedFoveation;if(de!==null)return de.fixedFoveation},this.setFoveation=function(hn){ie!==null&&(ie.fixedFoveation=hn),de!==null&&de.fixedFoveation!==void 0&&(de.fixedFoveation=hn)},this.getPlanes=function(){return Xe};let zn=null;function Cr(hn,Dn){if(q=Dn.getViewerPose(K||U),le=Dn,q!==null){const ur=q.views;de!==null&&(a.setRenderTargetFramebuffer(He,de.framebuffer),a.setRenderTarget(He));let on=!1;ur.length!==_t.cameras.length&&(_t.cameras.length=0,on=!0);for(let Mr=0;Mr<ur.length;Mr++){const dr=ur[Mr];let Fr=null;if(de!==null)Fr=de.getViewport(dr);else{const oi=te.getViewSubImage(ie,dr);Fr=oi.viewport,Mr===0&&(a.setRenderTargetTextures(He,oi.colorTexture,ie.ignoreDepthValues?void 0:oi.depthStencilTexture),a.setRenderTarget(He))}let Jn=vt[Mr];Jn===void 0&&(Jn=new zo,Jn.layers.enable(Mr),Jn.viewport=new Si,vt[Mr]=Jn),Jn.matrix.fromArray(dr.transform.matrix),Jn.projectionMatrix.fromArray(dr.projectionMatrix),Jn.viewport.set(Fr.x,Fr.y,Fr.width,Fr.height),Mr===0&&_t.matrix.copy(Jn.matrix),on===!0&&_t.cameras.push(Jn)}}for(let ur=0;ur<Ne.length;ur++){const on=ze[ur],Mr=Ne[ur];on!==null&&Mr!==void 0&&Mr.update(on,Dn,K||U)}if(zn&&zn(hn,Dn),Dn.detectedPlanes){x.dispatchEvent({type:"planesdetected",data:Dn.detectedPlanes});let ur=null;for(const on of Xe)Dn.detectedPlanes.has(on)||(ur===null&&(ur=[]),ur.push(on));if(ur!==null)for(const on of ur)Xe.delete(on),pt.delete(on),x.dispatchEvent({type:"planeremoved",data:on});for(const on of Dn.detectedPlanes)if(!Xe.has(on))Xe.add(on),pt.set(on,Dn.lastChangedTime),x.dispatchEvent({type:"planeadded",data:on});else{const Mr=pt.get(on);on.lastChangedTime>Mr&&(pt.set(on,on.lastChangedTime),x.dispatchEvent({type:"planechanged",data:on}))}}le=null}const hr=new Jw;hr.setAnimationLoop(Cr),this.setAnimationLoop=function(hn){zn=hn},this.dispose=function(){}}}function Cq($,a){function f(le,ae){ae.color.getRGB(le.fogColor.value,VL($)),ae.isFog?(le.fogNear.value=ae.near,le.fogFar.value=ae.far):ae.isFogExp2&&(le.fogDensity.value=ae.density)}function x(le,ae,Ie,He,Ne){ae.isMeshBasicMaterial||ae.isMeshLambertMaterial?S(le,ae):ae.isMeshToonMaterial?(S(le,ae),q(le,ae)):ae.isMeshPhongMaterial?(S(le,ae),K(le,ae)):ae.isMeshStandardMaterial?(S(le,ae),ee(le,ae),ae.isMeshPhysicalMaterial&&te(le,ae,Ne)):ae.isMeshMatcapMaterial?(S(le,ae),ie(le,ae)):ae.isMeshDepthMaterial?S(le,ae):ae.isMeshDistanceMaterial?(S(le,ae),de(le,ae)):ae.isMeshNormalMaterial?S(le,ae):ae.isLineBasicMaterial?(I(le,ae),ae.isLineDashedMaterial&&k(le,ae)):ae.isPointsMaterial?U(le,ae,Ie,He):ae.isSpriteMaterial?W(le,ae):ae.isShadowMaterial?(le.color.value.copy(ae.color),le.opacity.value=ae.opacity):ae.isShaderMaterial&&(ae.uniformsNeedUpdate=!1)}function S(le,ae){le.opacity.value=ae.opacity,ae.color&&le.diffuse.value.copy(ae.color),ae.emissive&&le.emissive.value.copy(ae.emissive).multiplyScalar(ae.emissiveIntensity),ae.map&&(le.map.value=ae.map),ae.alphaMap&&(le.alphaMap.value=ae.alphaMap),ae.bumpMap&&(le.bumpMap.value=ae.bumpMap,le.bumpScale.value=ae.bumpScale,ae.side===_&&(le.bumpScale.value*=-1)),ae.displacementMap&&(le.displacementMap.value=ae.displacementMap,le.displacementScale.value=ae.displacementScale,le.displacementBias.value=ae.displacementBias),ae.emissiveMap&&(le.emissiveMap.value=ae.emissiveMap),ae.normalMap&&(le.normalMap.value=ae.normalMap,le.normalScale.value.copy(ae.normalScale),ae.side===_&&le.normalScale.value.negate()),ae.specularMap&&(le.specularMap.value=ae.specularMap),ae.alphaTest>0&&(le.alphaTest.value=ae.alphaTest);const Ie=a.get(ae).envMap;if(Ie&&(le.envMap.value=Ie,le.flipEnvMap.value=Ie.isCubeTexture&&Ie.isRenderTargetTexture===!1?-1:1,le.reflectivity.value=ae.reflectivity,le.ior.value=ae.ior,le.refractionRatio.value=ae.refractionRatio),ae.lightMap){le.lightMap.value=ae.lightMap;const ze=$.physicallyCorrectLights!==!0?Math.PI:1;le.lightMapIntensity.value=ae.lightMapIntensity*ze}ae.aoMap&&(le.aoMap.value=ae.aoMap,le.aoMapIntensity.value=ae.aoMapIntensity);let He;ae.map?He=ae.map:ae.specularMap?He=ae.specularMap:ae.displacementMap?He=ae.displacementMap:ae.normalMap?He=ae.normalMap:ae.bumpMap?He=ae.bumpMap:ae.roughnessMap?He=ae.roughnessMap:ae.metalnessMap?He=ae.metalnessMap:ae.alphaMap?He=ae.alphaMap:ae.emissiveMap?He=ae.emissiveMap:ae.clearcoatMap?He=ae.clearcoatMap:ae.clearcoatNormalMap?He=ae.clearcoatNormalMap:ae.clearcoatRoughnessMap?He=ae.clearcoatRoughnessMap:ae.iridescenceMap?He=ae.iridescenceMap:ae.iridescenceThicknessMap?He=ae.iridescenceThicknessMap:ae.specularIntensityMap?He=ae.specularIntensityMap:ae.specularColorMap?He=ae.specularColorMap:ae.transmissionMap?He=ae.transmissionMap:ae.thicknessMap?He=ae.thicknessMap:ae.sheenColorMap?He=ae.sheenColorMap:ae.sheenRoughnessMap&&(He=ae.sheenRoughnessMap),He!==void 0&&(He.isWebGLRenderTarget&&(He=He.texture),He.matrixAutoUpdate===!0&&He.updateMatrix(),le.uvTransform.value.copy(He.matrix));let Ne;ae.aoMap?Ne=ae.aoMap:ae.lightMap&&(Ne=ae.lightMap),Ne!==void 0&&(Ne.isWebGLRenderTarget&&(Ne=Ne.texture),Ne.matrixAutoUpdate===!0&&Ne.updateMatrix(),le.uv2Transform.value.copy(Ne.matrix))}function I(le,ae){le.diffuse.value.copy(ae.color),le.opacity.value=ae.opacity}function k(le,ae){le.dashSize.value=ae.dashSize,le.totalSize.value=ae.dashSize+ae.gapSize,le.scale.value=ae.scale}function U(le,ae,Ie,He){le.diffuse.value.copy(ae.color),le.opacity.value=ae.opacity,le.size.value=ae.size*Ie,le.scale.value=He*.5,ae.map&&(le.map.value=ae.map),ae.alphaMap&&(le.alphaMap.value=ae.alphaMap),ae.alphaTest>0&&(le.alphaTest.value=ae.alphaTest);let Ne;ae.map?Ne=ae.map:ae.alphaMap&&(Ne=ae.alphaMap),Ne!==void 0&&(Ne.matrixAutoUpdate===!0&&Ne.updateMatrix(),le.uvTransform.value.copy(Ne.matrix))}function W(le,ae){le.diffuse.value.copy(ae.color),le.opacity.value=ae.opacity,le.rotation.value=ae.rotation,ae.map&&(le.map.value=ae.map),ae.alphaMap&&(le.alphaMap.value=ae.alphaMap),ae.alphaTest>0&&(le.alphaTest.value=ae.alphaTest);let Ie;ae.map?Ie=ae.map:ae.alphaMap&&(Ie=ae.alphaMap),Ie!==void 0&&(Ie.matrixAutoUpdate===!0&&Ie.updateMatrix(),le.uvTransform.value.copy(Ie.matrix))}function K(le,ae){le.specular.value.copy(ae.specular),le.shininess.value=Math.max(ae.shininess,1e-4)}function q(le,ae){ae.gradientMap&&(le.gradientMap.value=ae.gradientMap)}function ee(le,ae){le.roughness.value=ae.roughness,le.metalness.value=ae.metalness,ae.roughnessMap&&(le.roughnessMap.value=ae.roughnessMap),ae.metalnessMap&&(le.metalnessMap.value=ae.metalnessMap),a.get(ae).envMap&&(le.envMapIntensity.value=ae.envMapIntensity)}function te(le,ae,Ie){le.ior.value=ae.ior,ae.sheen>0&&(le.sheenColor.value.copy(ae.sheenColor).multiplyScalar(ae.sheen),le.sheenRoughness.value=ae.sheenRoughness,ae.sheenColorMap&&(le.sheenColorMap.value=ae.sheenColorMap),ae.sheenRoughnessMap&&(le.sheenRoughnessMap.value=ae.sheenRoughnessMap)),ae.clearcoat>0&&(le.clearcoat.value=ae.clearcoat,le.clearcoatRoughness.value=ae.clearcoatRoughness,ae.clearcoatMap&&(le.clearcoatMap.value=ae.clearcoatMap),ae.clearcoatRoughnessMap&&(le.clearcoatRoughnessMap.value=ae.clearcoatRoughnessMap),ae.clearcoatNormalMap&&(le.clearcoatNormalScale.value.copy(ae.clearcoatNormalScale),le.clearcoatNormalMap.value=ae.clearcoatNormalMap,ae.side===_&&le.clearcoatNormalScale.value.negate())),ae.iridescence>0&&(le.iridescence.value=ae.iridescence,le.iridescenceIOR.value=ae.iridescenceIOR,le.iridescenceThicknessMinimum.value=ae.iridescenceThicknessRange[0],le.iridescenceThicknessMaximum.value=ae.iridescenceThicknessRange[1],ae.iridescenceMap&&(le.iridescenceMap.value=ae.iridescenceMap),ae.iridescenceThicknessMap&&(le.iridescenceThicknessMap.value=ae.iridescenceThicknessMap)),ae.transmission>0&&(le.transmission.value=ae.transmission,le.transmissionSamplerMap.value=Ie.texture,le.transmissionSamplerSize.value.set(Ie.width,Ie.height),ae.transmissionMap&&(le.transmissionMap.value=ae.transmissionMap),le.thickness.value=ae.thickness,ae.thicknessMap&&(le.thicknessMap.value=ae.thicknessMap),le.attenuationDistance.value=ae.attenuationDistance,le.attenuationColor.value.copy(ae.attenuationColor)),le.specularIntensity.value=ae.specularIntensity,le.specularColor.value.copy(ae.specularColor),ae.specularIntensityMap&&(le.specularIntensityMap.value=ae.specularIntensityMap),ae.specularColorMap&&(le.specularColorMap.value=ae.specularColorMap)}function ie(le,ae){ae.matcap&&(le.matcap.value=ae.matcap)}function de(le,ae){le.referencePosition.value.copy(ae.referencePosition),le.nearDistance.value=ae.nearDistance,le.farDistance.value=ae.farDistance}return{refreshFogUniforms:f,refreshMaterialUniforms:x}}function wq($,a,f,x){let S={},I={},k=[];const U=f.isWebGL2?$.getParameter(35375):0;function W(He,Ne){const ze=Ne.program;x.uniformBlockBinding(He,ze)}function K(He,Ne){let ze=S[He.id];ze===void 0&&(de(He),ze=q(He),S[He.id]=ze,He.addEventListener("dispose",ae));const Xe=Ne.program;x.updateUBOMapping(He,Xe);const pt=a.render.frame;I[He.id]!==pt&&(te(He),I[He.id]=pt)}function q(He){const Ne=ee();He.__bindingPointIndex=Ne;const ze=$.createBuffer(),Xe=He.__size,pt=He.usage;return $.bindBuffer(35345,ze),$.bufferData(35345,Xe,pt),$.bindBuffer(35345,null),$.bindBufferBase(35345,Ne,ze),ze}function ee(){for(let He=0;He<U;He++)if(k.indexOf(He)===-1)return k.push(He),He;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function te(He){const Ne=S[He.id],ze=He.uniforms,Xe=He.__cache;$.bindBuffer(35345,Ne);for(let pt=0,Pt=ze.length;pt<Pt;pt++){const Ge=ze[pt];if(ie(Ge,pt,Xe)===!0){const vt=Ge.value,_t=Ge.__offset;typeof vt=="number"?(Ge.__data[0]=vt,$.bufferSubData(35345,_t,Ge.__data)):(Ge.value.isMatrix3?(Ge.__data[0]=Ge.value.elements[0],Ge.__data[1]=Ge.value.elements[1],Ge.__data[2]=Ge.value.elements[2],Ge.__data[3]=Ge.value.elements[0],Ge.__data[4]=Ge.value.elements[3],Ge.__data[5]=Ge.value.elements[4],Ge.__data[6]=Ge.value.elements[5],Ge.__data[7]=Ge.value.elements[0],Ge.__data[8]=Ge.value.elements[6],Ge.__data[9]=Ge.value.elements[7],Ge.__data[10]=Ge.value.elements[8],Ge.__data[11]=Ge.value.elements[0]):vt.toArray(Ge.__data),$.bufferSubData(35345,_t,Ge.__data))}}$.bindBuffer(35345,null)}function ie(He,Ne,ze){const Xe=He.value;if(ze[Ne]===void 0)return typeof Xe=="number"?ze[Ne]=Xe:ze[Ne]=Xe.clone(),!0;if(typeof Xe=="number"){if(ze[Ne]!==Xe)return ze[Ne]=Xe,!0}else{const pt=ze[Ne];if(pt.equals(Xe)===!1)return pt.copy(Xe),!0}return!1}function de(He){const Ne=He.uniforms;let ze=0;const Xe=16;let pt=0;for(let Pt=0,Ge=Ne.length;Pt<Ge;Pt++){const vt=Ne[Pt],_t=le(vt);if(vt.__data=new Float32Array(_t.storage/Float32Array.BYTES_PER_ELEMENT),vt.__offset=ze,Pt>0){pt=ze%Xe;const Gt=Xe-pt;pt!==0&&Gt-_t.boundary<0&&(ze+=Xe-pt,vt.__offset=ze)}ze+=_t.storage}return pt=ze%Xe,pt>0&&(ze+=Xe-pt),He.__size=ze,He.__cache={},this}function le(He){const Ne=He.value,ze={boundary:0,storage:0};return typeof Ne=="number"?(ze.boundary=4,ze.storage=4):Ne.isVector2?(ze.boundary=8,ze.storage=8):Ne.isVector3||Ne.isColor?(ze.boundary=16,ze.storage=12):Ne.isVector4?(ze.boundary=16,ze.storage=16):Ne.isMatrix3?(ze.boundary=48,ze.storage=48):Ne.isMatrix4?(ze.boundary=64,ze.storage=64):Ne.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",Ne),ze}function ae(He){const Ne=He.target;Ne.removeEventListener("dispose",ae);const ze=k.indexOf(Ne.__bindingPointIndex);k.splice(ze,1),$.deleteBuffer(S[Ne.id]),delete S[Ne.id],delete I[Ne.id]}function Ie(){for(const He in S)$.deleteBuffer(S[He]);k=[],S={},I={}}return{bind:W,update:K,dispose:Ie}}function Sq(){const $=sf("canvas");return $.style.display="block",$}function SB($={}){this.isWebGLRenderer=!0;const a=$.canvas!==void 0?$.canvas:Sq(),f=$.context!==void 0?$.context:null,x=$.depth!==void 0?$.depth:!0,S=$.stencil!==void 0?$.stencil:!0,I=$.antialias!==void 0?$.antialias:!1,k=$.premultipliedAlpha!==void 0?$.premultipliedAlpha:!0,U=$.preserveDrawingBuffer!==void 0?$.preserveDrawingBuffer:!1,W=$.powerPreference!==void 0?$.powerPreference:"default",K=$.failIfMajorPerformanceCaveat!==void 0?$.failIfMajorPerformanceCaveat:!1;let q;f!==null?q=f.getContextAttributes().alpha:q=$.alpha!==void 0?$.alpha:!1;let ee=null,te=null;const ie=[],de=[];this.domElement=a,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=mr,this.physicallyCorrectLights=!1,this.toneMapping=Tt,this.toneMappingExposure=1;const le=this;let ae=!1,Ie=0,He=0,Ne=null,ze=-1,Xe=null;const pt=new Si,Pt=new Si;let Ge=null,vt=a.width,_t=a.height,Gt=1,an=null,Qt=null;const $t=new Si(0,0,vt,_t),nn=new Si(0,0,vt,_t);let Rn=!1;const On=new By;let Tn=!1,Qn=!1,zn=null;const Cr=new _r,hr=new In,hn=new dt,Dn={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ur(){return Ne===null?Gt:1}let on=f;function Mr(ut,tn){for(let pn=0;pn<ut.length;pn++){const qt=ut[pn],wn=a.getContext(qt,tn);if(wn!==null)return wn}return null}try{const ut={alpha:!0,depth:x,stencil:S,antialias:I,premultipliedAlpha:k,preserveDrawingBuffer:U,powerPreference:W,failIfMajorPerformanceCaveat:K};if("setAttribute"in a&&a.setAttribute("data-engine",`three.js r${d}`),a.addEventListener("webglcontextlost",Wr,!1),a.addEventListener("webglcontextrestored",$r,!1),a.addEventListener("webglcontextcreationerror",Pi,!1),on===null){const tn=["webgl2","webgl","experimental-webgl"];if(le.isWebGL1Renderer===!0&&tn.shift(),on=Mr(tn,ut),on===null)throw Mr(tn)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}on.getShaderPrecisionFormat===void 0&&(on.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ut){throw console.error("THREE.WebGLRenderer: "+ut.message),ut}let dr,Fr,Jn,oi,Pn,_n,nr,Dr,pr,Jr,Vr,Ur,Qi,Ui,At,rt,un,Kn,Zn,vr,Yr,yr,Mn,zr;function qr(){dr=new zK(on),Fr=new OK(on,dr,$),dr.init(Fr),yr=new bB(on,dr,Fr),Jn=new Aq(on,dr,Fr),oi=new jK,Pn=new aq,_n=new yq(on,dr,Jn,Pn,Fr,yr,oi),nr=new NK(le),Dr=new UK(le),pr=new LW(on,Fr),Mn=new LK(on,dr,pr,Fr),Jr=new $K(on,pr,oi,Mn),Vr=new QK(on,Jr,pr,oi),Zn=new WK(on,Fr,_n),rt=new DK(Pn),Ur=new oq(le,nr,Dr,dr,Fr,Mn,rt),Qi=new Cq(le,Pn),Ui=new lq,At=new pq(dr,Fr),Kn=new PK(le,nr,Dr,Jn,Vr,q,k),un=new vq(le,Vr,Fr),zr=new wq(on,oi,Fr,Jn),vr=new BK(on,dr,oi,Fr),Yr=new HK(on,dr,oi,Fr),oi.programs=Ur.programs,le.capabilities=Fr,le.extensions=dr,le.properties=Pn,le.renderLists=Ui,le.shadowMap=un,le.state=Jn,le.info=oi}qr();const Pr=typeof navigator<"u"&&"xr"in navigator?new Eq(le,on):new CB(le);this.xr=Pr,this.getContext=function(){return on},this.getContextAttributes=function(){return on.getContextAttributes()},this.forceContextLoss=function(){const ut=dr.get("WEBGL_lose_context");ut&&ut.loseContext()},this.forceContextRestore=function(){const ut=dr.get("WEBGL_lose_context");ut&&ut.restoreContext()},this.getPixelRatio=function(){return Gt},this.setPixelRatio=function(ut){ut!==void 0&&(Gt=ut,this.setSize(vt,_t,!1))},this.getSize=function(ut){return ut.set(vt,_t)},this.setSize=function(ut,tn,pn){if(Pr.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}vt=ut,_t=tn,a.width=Math.floor(ut*Gt),a.height=Math.floor(tn*Gt),pn!==!1&&(a.style.width=ut+"px",a.style.height=tn+"px"),this.setViewport(0,0,ut,tn)},this.getDrawingBufferSize=function(ut){return ut.set(vt*Gt,_t*Gt).floor()},this.setDrawingBufferSize=function(ut,tn,pn){vt=ut,_t=tn,Gt=pn,a.width=Math.floor(ut*pn),a.height=Math.floor(tn*pn),this.setViewport(0,0,ut,tn)},this.getCurrentViewport=function(ut){return ut.copy(pt)},this.getViewport=function(ut){return ut.copy($t)},this.setViewport=function(ut,tn,pn,qt){ut.isVector4?$t.set(ut.x,ut.y,ut.z,ut.w):$t.set(ut,tn,pn,qt),Jn.viewport(pt.copy($t).multiplyScalar(Gt).floor())},this.getScissor=function(ut){return ut.copy(nn)},this.setScissor=function(ut,tn,pn,qt){ut.isVector4?nn.set(ut.x,ut.y,ut.z,ut.w):nn.set(ut,tn,pn,qt),Jn.scissor(Pt.copy(nn).multiplyScalar(Gt).floor())},this.getScissorTest=function(){return Rn},this.setScissorTest=function(ut){Jn.setScissorTest(Rn=ut)},this.setOpaqueSort=function(ut){an=ut},this.setTransparentSort=function(ut){Qt=ut},this.getClearColor=function(ut){return ut.copy(Kn.getClearColor())},this.setClearColor=function(){Kn.setClearColor.apply(Kn,arguments)},this.getClearAlpha=function(){return Kn.getClearAlpha()},this.setClearAlpha=function(){Kn.setClearAlpha.apply(Kn,arguments)},this.clear=function(ut=!0,tn=!0,pn=!0){let qt=0;ut&&(qt|=16384),tn&&(qt|=256),pn&&(qt|=1024),on.clear(qt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){a.removeEventListener("webglcontextlost",Wr,!1),a.removeEventListener("webglcontextrestored",$r,!1),a.removeEventListener("webglcontextcreationerror",Pi,!1),Ui.dispose(),At.dispose(),Pn.dispose(),nr.dispose(),Dr.dispose(),Vr.dispose(),Mn.dispose(),zr.dispose(),Ur.dispose(),Pr.dispose(),Pr.removeEventListener("sessionstart",wr),Pr.removeEventListener("sessionend",kr),zn&&(zn.dispose(),zn=null),Ni.stop()};function Wr(ut){ut.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),ae=!0}function $r(){console.log("THREE.WebGLRenderer: Context Restored."),ae=!1;const ut=oi.autoReset,tn=un.enabled,pn=un.autoUpdate,qt=un.needsUpdate,wn=un.type;qr(),oi.autoReset=ut,un.enabled=tn,un.autoUpdate=pn,un.needsUpdate=qt,un.type=wn}function Pi(ut){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ut.statusMessage)}function ro(ut){const tn=ut.target;tn.removeEventListener("dispose",ro),Zo(tn)}function Zo(ut){zt(ut),Pn.remove(ut)}function zt(ut){const tn=Pn.get(ut).programs;tn!==void 0&&(tn.forEach(function(pn){Ur.releaseProgram(pn)}),ut.isShaderMaterial&&Ur.releaseShaderCache(ut))}this.renderBufferDirect=function(ut,tn,pn,qt,wn,Hr){tn===null&&(tn=Dn);const Zr=wn.isMesh&&wn.matrixWorld.determinant()<0,di=HJ(ut,tn,pn,qt,wn);Jn.setMaterial(qt,Zr);let pi=pn.index,Li=1;qt.wireframe===!0&&(pi=Jr.getWireframeAttribute(pn),Li=2);const xi=pn.drawRange,Ei=pn.attributes.position;let Bo=xi.start*Li,bs=(xi.start+xi.count)*Li;Hr!==null&&(Bo=Math.max(Bo,Hr.start*Li),bs=Math.min(bs,(Hr.start+Hr.count)*Li)),pi!==null?(Bo=Math.max(Bo,0),bs=Math.min(bs,pi.count)):Ei!=null&&(Bo=Math.max(Bo,0),bs=Math.min(bs,Ei.count));const Wc=bs-Bo;if(Wc<0||Wc===1/0)return;Mn.setup(wn,qt,di,pn,pi);let Rf,Oo=vr;if(pi!==null&&(Rf=pr.get(pi),Oo=Yr,Oo.setIndex(Rf)),wn.isMesh)qt.wireframe===!0?(Jn.setLineWidth(qt.wireframeLinewidth*ur()),Oo.setMode(1)):Oo.setMode(4);else if(wn.isLine){let Ci=qt.linewidth;Ci===void 0&&(Ci=1),Jn.setLineWidth(Ci*ur()),wn.isLineSegments?Oo.setMode(1):wn.isLineLoop?Oo.setMode(2):Oo.setMode(3)}else wn.isPoints?Oo.setMode(0):wn.isSprite&&Oo.setMode(4);if(wn.isInstancedMesh)Oo.renderInstances(Bo,Wc,wn.count);else if(pn.isInstancedBufferGeometry){const Ci=pn._maxInstanceCount!==void 0?pn._maxInstanceCount:1/0,WS=Math.min(pn.instanceCount,Ci);Oo.renderInstances(Bo,Wc,WS)}else Oo.render(Bo,Wc)},this.compile=function(ut,tn){function pn(qt,wn,Hr){qt.transparent===!0&&qt.side===P?(qt.side=_,qt.needsUpdate=!0,Ws(qt,wn,Hr),qt.side=C,qt.needsUpdate=!0,Ws(qt,wn,Hr),qt.side=P):Ws(qt,wn,Hr)}te=At.get(ut),te.init(),de.push(te),ut.traverseVisible(function(qt){qt.isLight&&qt.layers.test(tn.layers)&&(te.pushLight(qt),qt.castShadow&&te.pushShadow(qt))}),te.setupLights(le.physicallyCorrectLights),ut.traverse(function(qt){const wn=qt.material;if(wn)if(Array.isArray(wn))for(let Hr=0;Hr<wn.length;Hr++){const Zr=wn[Hr];pn(Zr,ut,qt)}else pn(wn,ut,qt)}),de.pop(),te=null};let En=null;function Vn(ut){En&&En(ut)}function wr(){Ni.stop()}function kr(){Ni.start()}const Ni=new Jw;Ni.setAnimationLoop(Vn),typeof self<"u"&&Ni.setContext(self),this.setAnimationLoop=function(ut){En=ut,Pr.setAnimationLoop(ut),ut===null?Ni.stop():Ni.start()},Pr.addEventListener("sessionstart",wr),Pr.addEventListener("sessionend",kr),this.render=function(ut,tn){if(tn!==void 0&&tn.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(ae===!0)return;ut.matrixWorldAutoUpdate===!0&&ut.updateMatrixWorld(),tn.parent===null&&tn.matrixWorldAutoUpdate===!0&&tn.updateMatrixWorld(),Pr.enabled===!0&&Pr.isPresenting===!0&&(Pr.cameraAutoUpdate===!0&&Pr.updateCamera(tn),tn=Pr.getCamera()),ut.isScene===!0&&ut.onBeforeRender(le,ut,tn,Ne),te=At.get(ut,de.length),te.init(),de.push(te),Cr.multiplyMatrices(tn.projectionMatrix,tn.matrixWorldInverse),On.setFromProjectionMatrix(Cr),Qn=this.localClippingEnabled,Tn=rt.init(this.clippingPlanes,Qn,tn),ee=Ui.get(ut,ie.length),ee.init(),ie.push(ee),ea(ut,tn,0,le.sortObjects),ee.finish(),le.sortObjects===!0&&ee.sort(an,Qt),Tn===!0&&rt.beginShadows();const pn=te.state.shadowsArray;if(un.render(pn,ut,tn),Tn===!0&&rt.endShadows(),this.info.autoReset===!0&&this.info.reset(),Kn.render(ee,ut),te.setupLights(le.physicallyCorrectLights),tn.isArrayCamera){const qt=tn.cameras;for(let wn=0,Hr=qt.length;wn<Hr;wn++){const Zr=qt[wn];wa(ee,ut,Zr,Zr.viewport)}}else wa(ee,ut,tn);Ne!==null&&(_n.updateMultisampleRenderTarget(Ne),_n.updateRenderTargetMipmap(Ne)),ut.isScene===!0&&ut.onAfterRender(le,ut,tn),Pr.enabled&&Pr.submitFrame&&Pr.submitFrame(),Mn.resetDefaultState(),ze=-1,Xe=null,de.pop(),de.length>0?te=de[de.length-1]:te=null,ie.pop(),ie.length>0?ee=ie[ie.length-1]:ee=null};function ea(ut,tn,pn,qt){if(ut.visible===!1)return;if(ut.layers.test(tn.layers)){if(ut.isGroup)pn=ut.renderOrder;else if(ut.isLOD)ut.autoUpdate===!0&&ut.update(tn);else if(ut.isLight)te.pushLight(ut),ut.castShadow&&te.pushShadow(ut);else if(ut.isSprite){if(!ut.frustumCulled||On.intersectsSprite(ut)){qt&&hn.setFromMatrixPosition(ut.matrixWorld).applyMatrix4(Cr);const Zr=Vr.update(ut),di=ut.material;di.visible&&ee.push(ut,Zr,di,pn,hn.z,null)}}else if((ut.isMesh||ut.isLine||ut.isPoints)&&(ut.isSkinnedMesh&&ut.skeleton.frame!==oi.render.frame&&(ut.skeleton.update(),ut.skeleton.frame=oi.render.frame),!ut.frustumCulled||On.intersectsObject(ut))){qt&&hn.setFromMatrixPosition(ut.matrixWorld).applyMatrix4(Cr);const Zr=Vr.update(ut),di=ut.material;if(Array.isArray(di)){const pi=Zr.groups;for(let Li=0,xi=pi.length;Li<xi;Li++){const Ei=pi[Li],Bo=di[Ei.materialIndex];Bo&&Bo.visible&&ee.push(ut,Zr,Bo,pn,hn.z,Ei)}}else di.visible&&ee.push(ut,Zr,di,pn,hn.z,null)}}const Hr=ut.children;for(let Zr=0,di=Hr.length;Zr<di;Zr++)ea(Hr[Zr],tn,pn,qt)}function wa(ut,tn,pn,qt){const wn=ut.opaque,Hr=ut.transmissive,Zr=ut.transparent;te.setupLightsView(pn),Hr.length>0&&Tf(wn,tn,pn),qt&&Jn.viewport(pt.copy(qt)),wn.length>0&&io(wn,tn,pn),Hr.length>0&&io(Hr,tn,pn),Zr.length>0&&io(Zr,tn,pn),Jn.buffers.depth.setTest(!0),Jn.buffers.depth.setMask(!0),Jn.buffers.color.setMask(!0),Jn.setPolygonOffset(!1)}function Tf(ut,tn,pn){const qt=Fr.isWebGL2;zn===null&&(zn=new ns(1,1,{generateMipmaps:!0,type:dr.has("EXT_color_buffer_half_float")?mt:nt,minFilter:Ze,samples:qt&&I===!0?4:0})),le.getDrawingBufferSize(hr),qt?zn.setSize(hr.x,hr.y):zn.setSize(Nh(hr.x),Nh(hr.y));const wn=le.getRenderTarget();le.setRenderTarget(zn),le.clear();const Hr=le.toneMapping;le.toneMapping=Tt,io(ut,tn,pn),le.toneMapping=Hr,_n.updateMultisampleRenderTarget(zn),_n.updateRenderTargetMipmap(zn),le.setRenderTarget(wn)}function io(ut,tn,pn){const qt=tn.isScene===!0?tn.overrideMaterial:null;for(let wn=0,Hr=ut.length;wn<Hr;wn++){const Zr=ut[wn],di=Zr.object,pi=Zr.geometry,Li=qt===null?Zr.material:qt,xi=Zr.group;di.layers.test(pn.layers)&&Vc(di,tn,pn,pi,Li,xi)}}function Vc(ut,tn,pn,qt,wn,Hr){ut.onBeforeRender(le,tn,pn,qt,wn,Hr),ut.modelViewMatrix.multiplyMatrices(pn.matrixWorldInverse,ut.matrixWorld),ut.normalMatrix.getNormalMatrix(ut.modelViewMatrix),wn.onBeforeRender(le,tn,pn,qt,ut,Hr),wn.transparent===!0&&wn.side===P?(wn.side=_,wn.needsUpdate=!0,le.renderBufferDirect(pn,tn,qt,wn,ut,Hr),wn.side=C,wn.needsUpdate=!0,le.renderBufferDirect(pn,tn,qt,wn,ut,Hr),wn.side=P):le.renderBufferDirect(pn,tn,qt,wn,ut,Hr),ut.onAfterRender(le,tn,pn,qt,wn,Hr)}function Ws(ut,tn,pn){tn.isScene!==!0&&(tn=Dn);const qt=Pn.get(ut),wn=te.state.lights,Hr=te.state.shadowsArray,Zr=wn.state.version,di=Ur.getParameters(ut,wn.state,Hr,tn,pn),pi=Ur.getProgramCacheKey(di);let Li=qt.programs;qt.environment=ut.isMeshStandardMaterial?tn.environment:null,qt.fog=tn.fog,qt.envMap=(ut.isMeshStandardMaterial?Dr:nr).get(ut.envMap||qt.environment),Li===void 0&&(ut.addEventListener("dispose",ro),Li=new Map,qt.programs=Li);let xi=Li.get(pi);if(xi!==void 0){if(qt.currentProgram===xi&&qt.lightsStateVersion===Zr)return aD(ut,di),xi}else di.uniforms=Ur.getUniforms(ut),ut.onBuild(pn,di,le),ut.onBeforeCompile(di,le),xi=Ur.acquireProgram(di,pi),Li.set(pi,xi),qt.uniforms=di.uniforms;const Ei=qt.uniforms;(!ut.isShaderMaterial&&!ut.isRawShaderMaterial||ut.clipping===!0)&&(Ei.clippingPlanes=rt.uniform),aD(ut,di),qt.needsLights=GJ(ut),qt.lightsStateVersion=Zr,qt.needsLights&&(Ei.ambientLightColor.value=wn.state.ambient,Ei.lightProbe.value=wn.state.probe,Ei.directionalLights.value=wn.state.directional,Ei.directionalLightShadows.value=wn.state.directionalShadow,Ei.spotLights.value=wn.state.spot,Ei.spotLightShadows.value=wn.state.spotShadow,Ei.rectAreaLights.value=wn.state.rectArea,Ei.ltc_1.value=wn.state.rectAreaLTC1,Ei.ltc_2.value=wn.state.rectAreaLTC2,Ei.pointLights.value=wn.state.point,Ei.pointLightShadows.value=wn.state.pointShadow,Ei.hemisphereLights.value=wn.state.hemi,Ei.directionalShadowMap.value=wn.state.directionalShadowMap,Ei.directionalShadowMatrix.value=wn.state.directionalShadowMatrix,Ei.spotShadowMap.value=wn.state.spotShadowMap,Ei.spotLightMatrix.value=wn.state.spotLightMatrix,Ei.spotLightMap.value=wn.state.spotLightMap,Ei.pointShadowMap.value=wn.state.pointShadowMap,Ei.pointShadowMatrix.value=wn.state.pointShadowMatrix);const Bo=xi.getUniforms(),bs=Fy.seqWithValue(Bo.seq,Ei);return qt.currentProgram=xi,qt.uniformsList=bs,xi}function aD(ut,tn){const pn=Pn.get(ut);pn.outputEncoding=tn.outputEncoding,pn.instancing=tn.instancing,pn.skinning=tn.skinning,pn.morphTargets=tn.morphTargets,pn.morphNormals=tn.morphNormals,pn.morphColors=tn.morphColors,pn.morphTargetsCount=tn.morphTargetsCount,pn.numClippingPlanes=tn.numClippingPlanes,pn.numIntersection=tn.numClipIntersection,pn.vertexAlphas=tn.vertexAlphas,pn.vertexTangents=tn.vertexTangents,pn.toneMapping=tn.toneMapping}function HJ(ut,tn,pn,qt,wn){tn.isScene!==!0&&(tn=Dn),_n.resetTextureUnits();const Hr=tn.fog,Zr=qt.isMeshStandardMaterial?tn.environment:null,di=Ne===null?le.outputEncoding:Ne.isXRRenderTarget===!0?Ne.texture.encoding:mr,pi=(qt.isMeshStandardMaterial?Dr:nr).get(qt.envMap||Zr),Li=qt.vertexColors===!0&&!!pn.attributes.color&&pn.attributes.color.itemSize===4,xi=!!qt.normalMap&&!!pn.attributes.tangent,Ei=!!pn.morphAttributes.position,Bo=!!pn.morphAttributes.normal,bs=!!pn.morphAttributes.color,Wc=qt.toneMapped?le.toneMapping:Tt,Rf=pn.morphAttributes.position||pn.morphAttributes.normal||pn.morphAttributes.color,Oo=Rf!==void 0?Rf.length:0,Ci=Pn.get(qt),WS=te.state.lights;if(Tn===!0&&(Qn===!0||ut!==Xe)){const xs=ut===Xe&&qt.id===ze;rt.setState(qt,ut,xs)}let ta=!1;qt.version===Ci.__version?(Ci.needsLights&&Ci.lightsStateVersion!==WS.state.version||Ci.outputEncoding!==di||wn.isInstancedMesh&&Ci.instancing===!1||!wn.isInstancedMesh&&Ci.instancing===!0||wn.isSkinnedMesh&&Ci.skinning===!1||!wn.isSkinnedMesh&&Ci.skinning===!0||Ci.envMap!==pi||qt.fog===!0&&Ci.fog!==Hr||Ci.numClippingPlanes!==void 0&&(Ci.numClippingPlanes!==rt.numPlanes||Ci.numIntersection!==rt.numIntersection)||Ci.vertexAlphas!==Li||Ci.vertexTangents!==xi||Ci.morphTargets!==Ei||Ci.morphNormals!==Bo||Ci.morphColors!==bs||Ci.toneMapping!==Wc||Fr.isWebGL2===!0&&Ci.morphTargetsCount!==Oo)&&(ta=!0):(ta=!0,Ci.__version=qt.version);let If=Ci.currentProgram;ta===!0&&(If=Ws(qt,tn,wn));let sD=!1,Av=!1,QS=!1;const za=If.getUniforms(),Pf=Ci.uniforms;if(Jn.useProgram(If.program)&&(sD=!0,Av=!0,QS=!0),qt.id!==ze&&(ze=qt.id,Av=!0),sD||Xe!==ut){if(za.setValue(on,"projectionMatrix",ut.projectionMatrix),Fr.logarithmicDepthBuffer&&za.setValue(on,"logDepthBufFC",2/(Math.log(ut.far+1)/Math.LN2)),Xe!==ut&&(Xe=ut,Av=!0,QS=!0),qt.isShaderMaterial||qt.isMeshPhongMaterial||qt.isMeshToonMaterial||qt.isMeshStandardMaterial||qt.envMap){const xs=za.map.cameraPosition;xs!==void 0&&xs.setValue(on,hn.setFromMatrixPosition(ut.matrixWorld))}(qt.isMeshPhongMaterial||qt.isMeshToonMaterial||qt.isMeshLambertMaterial||qt.isMeshBasicMaterial||qt.isMeshStandardMaterial||qt.isShaderMaterial)&&za.setValue(on,"isOrthographic",ut.isOrthographicCamera===!0),(qt.isMeshPhongMaterial||qt.isMeshToonMaterial||qt.isMeshLambertMaterial||qt.isMeshBasicMaterial||qt.isMeshStandardMaterial||qt.isShaderMaterial||qt.isShadowMaterial||wn.isSkinnedMesh)&&za.setValue(on,"viewMatrix",ut.matrixWorldInverse)}if(wn.isSkinnedMesh){za.setOptional(on,wn,"bindMatrix"),za.setOptional(on,wn,"bindMatrixInverse");const xs=wn.skeleton;xs&&(Fr.floatVertexTextures?(xs.boneTexture===null&&xs.computeBoneTexture(),za.setValue(on,"boneTexture",xs.boneTexture,_n),za.setValue(on,"boneTextureSize",xs.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const KS=pn.morphAttributes;if((KS.position!==void 0||KS.normal!==void 0||KS.color!==void 0&&Fr.isWebGL2===!0)&&Zn.update(wn,pn,qt,If),(Av||Ci.receiveShadow!==wn.receiveShadow)&&(Ci.receiveShadow=wn.receiveShadow,za.setValue(on,"receiveShadow",wn.receiveShadow)),qt.isMeshGouraudMaterial&&qt.envMap!==null&&(Pf.envMap.value=pi,Pf.flipEnvMap.value=pi.isCubeTexture&&pi.isRenderTargetTexture===!1?-1:1),Av&&(za.setValue(on,"toneMappingExposure",le.toneMappingExposure),Ci.needsLights&&jJ(Pf,QS),Hr&&qt.fog===!0&&Qi.refreshFogUniforms(Pf,Hr),Qi.refreshMaterialUniforms(Pf,qt,Gt,_t,zn),Fy.upload(on,Ci.uniformsList,Pf,_n)),qt.isShaderMaterial&&qt.uniformsNeedUpdate===!0&&(Fy.upload(on,Ci.uniformsList,Pf,_n),qt.uniformsNeedUpdate=!1),qt.isSpriteMaterial&&za.setValue(on,"center",wn.center),za.setValue(on,"modelViewMatrix",wn.modelViewMatrix),za.setValue(on,"normalMatrix",wn.normalMatrix),za.setValue(on,"modelMatrix",wn.matrixWorld),qt.isShaderMaterial||qt.isRawShaderMaterial){const xs=qt.uniformsGroups;for(let XS=0,VJ=xs.length;XS<VJ;XS++)if(Fr.isWebGL2){const lD=xs[XS];zr.update(lD,If),zr.bind(lD,If)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return If}function jJ(ut,tn){ut.ambientLightColor.needsUpdate=tn,ut.lightProbe.needsUpdate=tn,ut.directionalLights.needsUpdate=tn,ut.directionalLightShadows.needsUpdate=tn,ut.pointLights.needsUpdate=tn,ut.pointLightShadows.needsUpdate=tn,ut.spotLights.needsUpdate=tn,ut.spotLightShadows.needsUpdate=tn,ut.rectAreaLights.needsUpdate=tn,ut.hemisphereLights.needsUpdate=tn}function GJ(ut){return ut.isMeshLambertMaterial||ut.isMeshToonMaterial||ut.isMeshPhongMaterial||ut.isMeshStandardMaterial||ut.isShadowMaterial||ut.isShaderMaterial&&ut.lights===!0}this.setTexture2D=function(){var ut=!1;return function(pn,qt){pn&&pn.isWebGLRenderTarget&&(ut||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),ut=!0),pn=pn.texture),_n.setTexture2D(pn,qt)}}(),this.getActiveCubeFace=function(){return Ie},this.getActiveMipmapLevel=function(){return He},this.getRenderTarget=function(){return Ne},this.setRenderTargetTextures=function(ut,tn,pn){Pn.get(ut.texture).__webglTexture=tn,Pn.get(ut.depthTexture).__webglTexture=pn;const qt=Pn.get(ut);qt.__hasExternalTextures=!0,qt.__hasExternalTextures&&(qt.__autoAllocateDepthBuffer=pn===void 0,qt.__autoAllocateDepthBuffer||dr.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),qt.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(ut,tn){const pn=Pn.get(ut);pn.__webglFramebuffer=tn,pn.__useDefaultFramebuffer=tn===void 0},this.setRenderTarget=function(ut,tn=0,pn=0){Ne=ut,Ie=tn,He=pn;let qt=!0,wn=null,Hr=!1,Zr=!1;if(ut){const pi=Pn.get(ut);pi.__useDefaultFramebuffer!==void 0?(Jn.bindFramebuffer(36160,null),qt=!1):pi.__webglFramebuffer===void 0?_n.setupRenderTarget(ut):pi.__hasExternalTextures&&_n.rebindTextures(ut,Pn.get(ut.texture).__webglTexture,Pn.get(ut.depthTexture).__webglTexture);const Li=ut.texture;(Li.isData3DTexture||Li.isDataArrayTexture||Li.isCompressedArrayTexture)&&(Zr=!0);const xi=Pn.get(ut).__webglFramebuffer;ut.isWebGLCubeRenderTarget?(wn=xi[tn],Hr=!0):Fr.isWebGL2&&ut.samples>0&&_n.useMultisampledRTT(ut)===!1?wn=Pn.get(ut).__webglMultisampledFramebuffer:wn=xi,pt.copy(ut.viewport),Pt.copy(ut.scissor),Ge=ut.scissorTest}else pt.copy($t).multiplyScalar(Gt).floor(),Pt.copy(nn).multiplyScalar(Gt).floor(),Ge=Rn;if(Jn.bindFramebuffer(36160,wn)&&Fr.drawBuffers&&qt&&Jn.drawBuffers(ut,wn),Jn.viewport(pt),Jn.scissor(Pt),Jn.setScissorTest(Ge),Hr){const pi=Pn.get(ut.texture);on.framebufferTexture2D(36160,36064,34069+tn,pi.__webglTexture,pn)}else if(Zr){const pi=Pn.get(ut.texture),Li=tn||0;on.framebufferTextureLayer(36160,36064,pi.__webglTexture,pn||0,Li)}ze=-1},this.readRenderTargetPixels=function(ut,tn,pn,qt,wn,Hr,Zr){if(!(ut&&ut.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let di=Pn.get(ut).__webglFramebuffer;if(ut.isWebGLCubeRenderTarget&&Zr!==void 0&&(di=di[Zr]),di){Jn.bindFramebuffer(36160,di);try{const pi=ut.texture,Li=pi.format,xi=pi.type;if(Li!==Ln&&yr.convert(Li)!==on.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Ei=xi===mt&&(dr.has("EXT_color_buffer_half_float")||Fr.isWebGL2&&dr.has("EXT_color_buffer_float"));if(xi!==nt&&yr.convert(xi)!==on.getParameter(35738)&&!(xi===Lt&&(Fr.isWebGL2||dr.has("OES_texture_float")||dr.has("WEBGL_color_buffer_float")))&&!Ei){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}tn>=0&&tn<=ut.width-qt&&pn>=0&&pn<=ut.height-wn&&on.readPixels(tn,pn,qt,wn,yr.convert(Li),yr.convert(xi),Hr)}finally{const pi=Ne!==null?Pn.get(Ne).__webglFramebuffer:null;Jn.bindFramebuffer(36160,pi)}}},this.copyFramebufferToTexture=function(ut,tn,pn=0){const qt=Math.pow(2,-pn),wn=Math.floor(tn.image.width*qt),Hr=Math.floor(tn.image.height*qt);_n.setTexture2D(tn,0),on.copyTexSubImage2D(3553,pn,0,0,ut.x,ut.y,wn,Hr),Jn.unbindTexture()},this.copyTextureToTexture=function(ut,tn,pn,qt=0){const wn=tn.image.width,Hr=tn.image.height,Zr=yr.convert(pn.format),di=yr.convert(pn.type);_n.setTexture2D(pn,0),on.pixelStorei(37440,pn.flipY),on.pixelStorei(37441,pn.premultiplyAlpha),on.pixelStorei(3317,pn.unpackAlignment),tn.isDataTexture?on.texSubImage2D(3553,qt,ut.x,ut.y,wn,Hr,Zr,di,tn.image.data):tn.isCompressedTexture?on.compressedTexSubImage2D(3553,qt,ut.x,ut.y,tn.mipmaps[0].width,tn.mipmaps[0].height,Zr,tn.mipmaps[0].data):on.texSubImage2D(3553,qt,ut.x,ut.y,Zr,di,tn.image),qt===0&&pn.generateMipmaps&&on.generateMipmap(3553),Jn.unbindTexture()},this.copyTextureToTexture3D=function(ut,tn,pn,qt,wn=0){if(le.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Hr=ut.max.x-ut.min.x+1,Zr=ut.max.y-ut.min.y+1,di=ut.max.z-ut.min.z+1,pi=yr.convert(qt.format),Li=yr.convert(qt.type);let xi;if(qt.isData3DTexture)_n.setTexture3D(qt,0),xi=32879;else if(qt.isDataArrayTexture)_n.setTexture2DArray(qt,0),xi=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}on.pixelStorei(37440,qt.flipY),on.pixelStorei(37441,qt.premultiplyAlpha),on.pixelStorei(3317,qt.unpackAlignment);const Ei=on.getParameter(3314),Bo=on.getParameter(32878),bs=on.getParameter(3316),Wc=on.getParameter(3315),Rf=on.getParameter(32877),Oo=pn.isCompressedTexture?pn.mipmaps[0]:pn.image;on.pixelStorei(3314,Oo.width),on.pixelStorei(32878,Oo.height),on.pixelStorei(3316,ut.min.x),on.pixelStorei(3315,ut.min.y),on.pixelStorei(32877,ut.min.z),pn.isDataTexture||pn.isData3DTexture?on.texSubImage3D(xi,wn,tn.x,tn.y,tn.z,Hr,Zr,di,pi,Li,Oo.data):pn.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),on.compressedTexSubImage3D(xi,wn,tn.x,tn.y,tn.z,Hr,Zr,di,pi,Oo.data)):on.texSubImage3D(xi,wn,tn.x,tn.y,tn.z,Hr,Zr,di,pi,Li,Oo),on.pixelStorei(3314,Ei),on.pixelStorei(32878,Bo),on.pixelStorei(3316,bs),on.pixelStorei(3315,Wc),on.pixelStorei(32877,Rf),wn===0&&qt.generateMipmaps&&on.generateMipmap(xi),Jn.unbindTexture()},this.initTexture=function(ut){ut.isCubeTexture?_n.setTextureCube(ut,0):ut.isData3DTexture?_n.setTexture3D(ut,0):ut.isDataArrayTexture||ut.isCompressedArrayTexture?_n.setTexture2DArray(ut,0):_n.setTexture2D(ut,0),Jn.unbindTexture()},this.resetState=function(){Ie=0,He=0,Ne=null,Jn.reset(),Mn.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class _B extends SB{}_B.prototype.isWebGL1Renderer=!0;class Uy{constructor(a,f=25e-5){this.isFogExp2=!0,this.name="",this.color=new xr(a),this.density=f}clone(){return new Uy(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class zy{constructor(a,f=1,x=1e3){this.isFog=!0,this.name="",this.color=new xr(a),this.near=f,this.far=x}clone(){return new zy(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class MB extends bi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(a,f){return super.copy(a,f),a.background!==null&&(this.background=a.background.clone()),a.environment!==null&&(this.environment=a.environment.clone()),a.fog!==null&&(this.fog=a.fog.clone()),this.backgroundBlurriness=a.backgroundBlurriness,this.backgroundIntensity=a.backgroundIntensity,a.overrideMaterial!==null&&(this.overrideMaterial=a.overrideMaterial.clone()),this.matrixAutoUpdate=a.matrixAutoUpdate,this}toJSON(a){const f=super.toJSON(a);return this.fog!==null&&(f.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(f.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(f.backgroundIntensity=this.backgroundIntensity),f}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(a){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=a}}class $y{constructor(a,f){this.isInterleavedBuffer=!0,this.array=a,this.stride=f,this.count=a!==void 0?a.length/f:0,this.usage=rf,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Da()}onUploadCallback(){}set needsUpdate(a){a===!0&&this.version++}setUsage(a){return this.usage=a,this}copy(a){return this.array=new a.array.constructor(a.array),this.count=a.count,this.stride=a.stride,this.usage=a.usage,this}copyAt(a,f,x){a*=this.stride,x*=f.stride;for(let S=0,I=this.stride;S<I;S++)this.array[a+S]=f.array[x+S];return this}set(a,f=0){return this.array.set(a,f),this}clone(a){a.arrayBuffers===void 0&&(a.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Da()),a.arrayBuffers[this.array.buffer._uuid]===void 0&&(a.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const f=new this.array.constructor(a.arrayBuffers[this.array.buffer._uuid]),x=new this.constructor(f,this.stride);return x.setUsage(this.usage),x}onUpload(a){return this.onUploadCallback=a,this}toJSON(a){return a.arrayBuffers===void 0&&(a.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Da()),a.arrayBuffers[this.array.buffer._uuid]===void 0&&(a.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Fa=new dt;class mf{constructor(a,f,x,S=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=a,this.itemSize=f,this.offset=x,this.normalized=S===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(a){this.data.needsUpdate=a}applyMatrix4(a){for(let f=0,x=this.data.count;f<x;f++)Fa.fromBufferAttribute(this,f),Fa.applyMatrix4(a),this.setXYZ(f,Fa.x,Fa.y,Fa.z);return this}applyNormalMatrix(a){for(let f=0,x=this.count;f<x;f++)Fa.fromBufferAttribute(this,f),Fa.applyNormalMatrix(a),this.setXYZ(f,Fa.x,Fa.y,Fa.z);return this}transformDirection(a){for(let f=0,x=this.count;f<x;f++)Fa.fromBufferAttribute(this,f),Fa.transformDirection(a),this.setXYZ(f,Fa.x,Fa.y,Fa.z);return this}setX(a,f){return this.normalized&&(f=Fi(f,this.array)),this.data.array[a*this.data.stride+this.offset]=f,this}setY(a,f){return this.normalized&&(f=Fi(f,this.array)),this.data.array[a*this.data.stride+this.offset+1]=f,this}setZ(a,f){return this.normalized&&(f=Fi(f,this.array)),this.data.array[a*this.data.stride+this.offset+2]=f,this}setW(a,f){return this.normalized&&(f=Fi(f,this.array)),this.data.array[a*this.data.stride+this.offset+3]=f,this}getX(a){let f=this.data.array[a*this.data.stride+this.offset];return this.normalized&&(f=pl(f,this.array)),f}getY(a){let f=this.data.array[a*this.data.stride+this.offset+1];return this.normalized&&(f=pl(f,this.array)),f}getZ(a){let f=this.data.array[a*this.data.stride+this.offset+2];return this.normalized&&(f=pl(f,this.array)),f}getW(a){let f=this.data.array[a*this.data.stride+this.offset+3];return this.normalized&&(f=pl(f,this.array)),f}setXY(a,f,x){return a=a*this.data.stride+this.offset,this.normalized&&(f=Fi(f,this.array),x=Fi(x,this.array)),this.data.array[a+0]=f,this.data.array[a+1]=x,this}setXYZ(a,f,x,S){return a=a*this.data.stride+this.offset,this.normalized&&(f=Fi(f,this.array),x=Fi(x,this.array),S=Fi(S,this.array)),this.data.array[a+0]=f,this.data.array[a+1]=x,this.data.array[a+2]=S,this}setXYZW(a,f,x,S,I){return a=a*this.data.stride+this.offset,this.normalized&&(f=Fi(f,this.array),x=Fi(x,this.array),S=Fi(S,this.array),I=Fi(I,this.array)),this.data.array[a+0]=f,this.data.array[a+1]=x,this.data.array[a+2]=S,this.data.array[a+3]=I,this}clone(a){if(a===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const f=[];for(let x=0;x<this.count;x++){const S=x*this.data.stride+this.offset;for(let I=0;I<this.itemSize;I++)f.push(this.data.array[S+I])}return new Wi(new this.array.constructor(f),this.itemSize,this.normalized)}else return a.interleavedBuffers===void 0&&(a.interleavedBuffers={}),a.interleavedBuffers[this.data.uuid]===void 0&&(a.interleavedBuffers[this.data.uuid]=this.data.clone(a)),new mf(a.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(a){if(a===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const f=[];for(let x=0;x<this.count;x++){const S=x*this.data.stride+this.offset;for(let I=0;I<this.itemSize;I++)f.push(this.data.array[S+I])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:f,normalized:this.normalized}}else return a.interleavedBuffers===void 0&&(a.interleavedBuffers={}),a.interleavedBuffers[this.data.uuid]===void 0&&(a.interleavedBuffers[this.data.uuid]=this.data.toJSON(a)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class cS extends Ca{constructor(a){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new xr(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(a)}copy(a){return super.copy(a),this.color.copy(a.color),this.map=a.map,this.alphaMap=a.alphaMap,this.rotation=a.rotation,this.sizeAttenuation=a.sizeAttenuation,this.fog=a.fog,this}}let ep;const Gg=new dt,tp=new dt,np=new dt,rp=new In,Vg=new In,TB=new _r,Hy=new dt,Wg=new dt,jy=new dt,RB=new In,uS=new In,IB=new In;class PB extends bi{constructor(a){if(super(),this.isSprite=!0,this.type="Sprite",ep===void 0){ep=new ci;const f=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),x=new $y(f,5);ep.setIndex([0,1,2,0,2,3]),ep.setAttribute("position",new mf(x,3,0,!1)),ep.setAttribute("uv",new mf(x,2,3,!1))}this.geometry=ep,this.material=a!==void 0?a:new cS,this.center=new In(.5,.5)}raycast(a,f){a.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),tp.setFromMatrixScale(this.matrixWorld),TB.copy(a.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(a.camera.matrixWorldInverse,this.matrixWorld),np.setFromMatrixPosition(this.modelViewMatrix),a.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&tp.multiplyScalar(-np.z);const x=this.material.rotation;let S,I;x!==0&&(I=Math.cos(x),S=Math.sin(x));const k=this.center;Gy(Hy.set(-.5,-.5,0),np,k,tp,S,I),Gy(Wg.set(.5,-.5,0),np,k,tp,S,I),Gy(jy.set(.5,.5,0),np,k,tp,S,I),RB.set(0,0),uS.set(1,0),IB.set(1,1);let U=a.ray.intersectTriangle(Hy,Wg,jy,!1,Gg);if(U===null&&(Gy(Wg.set(-.5,.5,0),np,k,tp,S,I),uS.set(0,1),U=a.ray.intersectTriangle(Hy,jy,Wg,!1,Gg),U===null))return;const W=a.ray.origin.distanceTo(Gg);W<a.near||W>a.far||f.push({distance:W,point:Gg.clone(),uv:js.getUV(Gg,Hy,Wg,jy,RB,uS,IB,new In),face:null,object:this})}copy(a,f){return super.copy(a,f),a.center!==void 0&&this.center.copy(a.center),this.material=a.material,this}}function Gy($,a,f,x,S,I){rp.subVectors($,f).addScalar(.5).multiply(x),S!==void 0?(Vg.x=I*rp.x-S*rp.y,Vg.y=S*rp.x+I*rp.y):Vg.copy(rp),$.copy(a),$.x+=Vg.x,$.y+=Vg.y,$.applyMatrix4(TB)}const Vy=new dt,LB=new dt;class BB extends bi{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(a){super.copy(a,!1);const f=a.levels;for(let x=0,S=f.length;x<S;x++){const I=f[x];this.addLevel(I.object.clone(),I.distance,I.hysteresis)}return this.autoUpdate=a.autoUpdate,this}addLevel(a,f=0,x=0){f=Math.abs(f);const S=this.levels;let I;for(I=0;I<S.length&&!(f<S[I].distance);I++);return S.splice(I,0,{distance:f,hysteresis:x,object:a}),this.add(a),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(a){const f=this.levels;if(f.length>0){let x,S;for(x=1,S=f.length;x<S;x++){let I=f[x].distance;if(f[x].object.visible&&(I-=I*f[x].hysteresis),a<I)break}return f[x-1].object}return null}raycast(a,f){if(this.levels.length>0){Vy.setFromMatrixPosition(this.matrixWorld);const S=a.ray.origin.distanceTo(Vy);this.getObjectForDistance(S).raycast(a,f)}}update(a){const f=this.levels;if(f.length>1){Vy.setFromMatrixPosition(a.matrixWorld),LB.setFromMatrixPosition(this.matrixWorld);const x=Vy.distanceTo(LB)/a.zoom;f[0].object.visible=!0;let S,I;for(S=1,I=f.length;S<I;S++){let k=f[S].distance;if(f[S].object.visible&&(k-=k*f[S].hysteresis),x>=k)f[S-1].object.visible=!1,f[S].object.visible=!0;else break}for(this._currentLevel=S-1;S<I;S++)f[S].object.visible=!1}}toJSON(a){const f=super.toJSON(a);this.autoUpdate===!1&&(f.object.autoUpdate=!1),f.object.levels=[];const x=this.levels;for(let S=0,I=x.length;S<I;S++){const k=x[S];f.object.levels.push({object:k.object.uuid,distance:k.distance,hysteresis:k.hysteresis})}return f}}const OB=new dt,DB=new Si,NB=new Si,_q=new dt,kB=new _r;class FB extends pa{constructor(a,f){super(a,f),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new _r,this.bindMatrixInverse=new _r}copy(a,f){return super.copy(a,f),this.bindMode=a.bindMode,this.bindMatrix.copy(a.bindMatrix),this.bindMatrixInverse.copy(a.bindMatrixInverse),this.skeleton=a.skeleton,this}bind(a,f){this.skeleton=a,f===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),f=this.matrixWorld),this.bindMatrix.copy(f),this.bindMatrixInverse.copy(f).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const a=new Si,f=this.geometry.attributes.skinWeight;for(let x=0,S=f.count;x<S;x++){a.fromBufferAttribute(f,x);const I=1/a.manhattanLength();I!==1/0?a.multiplyScalar(I):a.set(1,0,0,0),f.setXYZW(x,a.x,a.y,a.z,a.w)}}updateMatrixWorld(a){super.updateMatrixWorld(a),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(a,f){const x=this.skeleton,S=this.geometry;DB.fromBufferAttribute(S.attributes.skinIndex,a),NB.fromBufferAttribute(S.attributes.skinWeight,a),OB.copy(f).applyMatrix4(this.bindMatrix),f.set(0,0,0);for(let I=0;I<4;I++){const k=NB.getComponent(I);if(k!==0){const U=DB.getComponent(I);kB.multiplyMatrices(x.bones[U].matrixWorld,x.boneInverses[U]),f.addScaledVector(_q.copy(OB).applyMatrix4(kB),k)}}return f.applyMatrix4(this.bindMatrixInverse)}}class dS extends bi{constructor(){super(),this.isBone=!0,this.type="Bone"}}class ip extends ho{constructor(a=null,f=1,x=1,S,I,k,U,W,K=ue,q=ue,ee,te){super(null,k,U,W,K,q,S,I,ee,te),this.isDataTexture=!0,this.image={data:a,width:f,height:x},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const UB=new _r,Mq=new _r;class Wy{constructor(a=[],f=[]){this.uuid=Da(),this.bones=a.slice(0),this.boneInverses=f,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const a=this.bones,f=this.boneInverses;if(this.boneMatrices=new Float32Array(a.length*16),f.length===0)this.calculateInverses();else if(a.length!==f.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let x=0,S=this.bones.length;x<S;x++)this.boneInverses.push(new _r)}}calculateInverses(){this.boneInverses.length=0;for(let a=0,f=this.bones.length;a<f;a++){const x=new _r;this.bones[a]&&x.copy(this.bones[a].matrixWorld).invert(),this.boneInverses.push(x)}}pose(){for(let a=0,f=this.bones.length;a<f;a++){const x=this.bones[a];x&&x.matrixWorld.copy(this.boneInverses[a]).invert()}for(let a=0,f=this.bones.length;a<f;a++){const x=this.bones[a];x&&(x.parent&&x.parent.isBone?(x.matrix.copy(x.parent.matrixWorld).invert(),x.matrix.multiply(x.matrixWorld)):x.matrix.copy(x.matrixWorld),x.matrix.decompose(x.position,x.quaternion,x.scale))}}update(){const a=this.bones,f=this.boneInverses,x=this.boneMatrices,S=this.boneTexture;for(let I=0,k=a.length;I<k;I++){const U=a[I]?a[I].matrixWorld:Mq;UB.multiplyMatrices(U,f[I]),UB.toArray(x,I*16)}S!==null&&(S.needsUpdate=!0)}clone(){return new Wy(this.bones,this.boneInverses)}computeBoneTexture(){let a=Math.sqrt(this.bones.length*4);a=hy(a),a=Math.max(a,4);const f=new Float32Array(a*a*4);f.set(this.boneMatrices);const x=new ip(f,a,a,Ln,Lt);return x.needsUpdate=!0,this.boneMatrices=f,this.boneTexture=x,this.boneTextureSize=a,this}getBoneByName(a){for(let f=0,x=this.bones.length;f<x;f++){const S=this.bones[f];if(S.name===a)return S}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(a,f){this.uuid=a.uuid;for(let x=0,S=a.bones.length;x<S;x++){const I=a.bones[x];let k=f[I];k===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",I),k=new dS),this.bones.push(k),this.boneInverses.push(new _r().fromArray(a.boneInverses[x]))}return this.init(),this}toJSON(){const a={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};a.uuid=this.uuid;const f=this.bones,x=this.boneInverses;for(let S=0,I=f.length;S<I;S++){const k=f[S];a.bones.push(k.uuid);const U=x[S];a.boneInverses.push(U.toArray())}return a}}class op extends Wi{constructor(a,f,x,S=1){super(a,f,x),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=S}copy(a){return super.copy(a),this.meshPerAttribute=a.meshPerAttribute,this}toJSON(){const a=super.toJSON();return a.meshPerAttribute=this.meshPerAttribute,a.isInstancedBufferAttribute=!0,a}}const zB=new _r,$B=new _r,Qy=[],Tq=new _r,Qg=new pa;class HB extends pa{constructor(a,f,x){super(a,f),this.isInstancedMesh=!0,this.instanceMatrix=new op(new Float32Array(x*16),16),this.instanceColor=null,this.count=x,this.frustumCulled=!1;for(let S=0;S<x;S++)this.setMatrixAt(S,Tq)}copy(a,f){return super.copy(a,f),this.instanceMatrix.copy(a.instanceMatrix),a.instanceColor!==null&&(this.instanceColor=a.instanceColor.clone()),this.count=a.count,this}getColorAt(a,f){f.fromArray(this.instanceColor.array,a*3)}getMatrixAt(a,f){f.fromArray(this.instanceMatrix.array,a*16)}raycast(a,f){const x=this.matrixWorld,S=this.count;if(Qg.geometry=this.geometry,Qg.material=this.material,Qg.material!==void 0)for(let I=0;I<S;I++){this.getMatrixAt(I,zB),$B.multiplyMatrices(x,zB),Qg.matrixWorld=$B,Qg.raycast(a,Qy);for(let k=0,U=Qy.length;k<U;k++){const W=Qy[k];W.instanceId=I,W.object=this,f.push(W)}Qy.length=0}}setColorAt(a,f){this.instanceColor===null&&(this.instanceColor=new op(new Float32Array(this.instanceMatrix.count*3),3)),f.toArray(this.instanceColor.array,a*3)}setMatrixAt(a,f){f.toArray(this.instanceMatrix.array,a*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Ua extends Ca{constructor(a){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new xr(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(a)}copy(a){return super.copy(a),this.color.copy(a.color),this.linewidth=a.linewidth,this.linecap=a.linecap,this.linejoin=a.linejoin,this.fog=a.fog,this}}const jB=new dt,GB=new dt,VB=new _r,fS=new Na,Ky=new gl;class td extends bi{constructor(a=new ci,f=new Ua){super(),this.isLine=!0,this.type="Line",this.geometry=a,this.material=f,this.updateMorphTargets()}copy(a,f){return super.copy(a,f),this.material=a.material,this.geometry=a.geometry,this}computeLineDistances(){const a=this.geometry;if(a.index===null){const f=a.attributes.position,x=[0];for(let S=1,I=f.count;S<I;S++)jB.fromBufferAttribute(f,S-1),GB.fromBufferAttribute(f,S),x[S]=x[S-1],x[S]+=jB.distanceTo(GB);a.setAttribute("lineDistance",new Rr(x,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(a,f){const x=this.geometry,S=this.matrixWorld,I=a.params.Line.threshold,k=x.drawRange;if(x.boundingSphere===null&&x.computeBoundingSphere(),Ky.copy(x.boundingSphere),Ky.applyMatrix4(S),Ky.radius+=I,a.ray.intersectsSphere(Ky)===!1)return;VB.copy(S).invert(),fS.copy(a.ray).applyMatrix4(VB);const U=I/((this.scale.x+this.scale.y+this.scale.z)/3),W=U*U,K=new dt,q=new dt,ee=new dt,te=new dt,ie=this.isLineSegments?2:1,de=x.index,ae=x.attributes.position;if(de!==null){const Ie=Math.max(0,k.start),He=Math.min(de.count,k.start+k.count);for(let Ne=Ie,ze=He-1;Ne<ze;Ne+=ie){const Xe=de.getX(Ne),pt=de.getX(Ne+1);if(K.fromBufferAttribute(ae,Xe),q.fromBufferAttribute(ae,pt),fS.distanceSqToSegment(K,q,te,ee)>W)continue;te.applyMatrix4(this.matrixWorld);const Ge=a.ray.origin.distanceTo(te);Ge<a.near||Ge>a.far||f.push({distance:Ge,point:ee.clone().applyMatrix4(this.matrixWorld),index:Ne,face:null,faceIndex:null,object:this})}}else{const Ie=Math.max(0,k.start),He=Math.min(ae.count,k.start+k.count);for(let Ne=Ie,ze=He-1;Ne<ze;Ne+=ie){if(K.fromBufferAttribute(ae,Ne),q.fromBufferAttribute(ae,Ne+1),fS.distanceSqToSegment(K,q,te,ee)>W)continue;te.applyMatrix4(this.matrixWorld);const pt=a.ray.origin.distanceTo(te);pt<a.near||pt>a.far||f.push({distance:pt,point:ee.clone().applyMatrix4(this.matrixWorld),index:Ne,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const f=this.geometry.morphAttributes,x=Object.keys(f);if(x.length>0){const S=f[x[0]];if(S!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let I=0,k=S.length;I<k;I++){const U=S[I].name||String(I);this.morphTargetInfluences.push(0),this.morphTargetDictionary[U]=I}}}}}const WB=new dt,QB=new dt;class ac extends td{constructor(a,f){super(a,f),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const a=this.geometry;if(a.index===null){const f=a.attributes.position,x=[];for(let S=0,I=f.count;S<I;S+=2)WB.fromBufferAttribute(f,S),QB.fromBufferAttribute(f,S+1),x[S]=S===0?0:x[S-1],x[S+1]=x[S]+WB.distanceTo(QB);a.setAttribute("lineDistance",new Rr(x,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class KB extends td{constructor(a,f){super(a,f),this.isLineLoop=!0,this.type="LineLoop"}}class hS extends Ca{constructor(a){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new xr(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(a)}copy(a){return super.copy(a),this.color.copy(a.color),this.map=a.map,this.alphaMap=a.alphaMap,this.size=a.size,this.sizeAttenuation=a.sizeAttenuation,this.fog=a.fog,this}}const XB=new _r,pS=new Na,Xy=new gl,qy=new dt;class qB extends bi{constructor(a=new ci,f=new hS){super(),this.isPoints=!0,this.type="Points",this.geometry=a,this.material=f,this.updateMorphTargets()}copy(a,f){return super.copy(a,f),this.material=a.material,this.geometry=a.geometry,this}raycast(a,f){const x=this.geometry,S=this.matrixWorld,I=a.params.Points.threshold,k=x.drawRange;if(x.boundingSphere===null&&x.computeBoundingSphere(),Xy.copy(x.boundingSphere),Xy.applyMatrix4(S),Xy.radius+=I,a.ray.intersectsSphere(Xy)===!1)return;XB.copy(S).invert(),pS.copy(a.ray).applyMatrix4(XB);const U=I/((this.scale.x+this.scale.y+this.scale.z)/3),W=U*U,K=x.index,ee=x.attributes.position;if(K!==null){const te=Math.max(0,k.start),ie=Math.min(K.count,k.start+k.count);for(let de=te,le=ie;de<le;de++){const ae=K.getX(de);qy.fromBufferAttribute(ee,ae),YB(qy,ae,W,S,a,f,this)}}else{const te=Math.max(0,k.start),ie=Math.min(ee.count,k.start+k.count);for(let de=te,le=ie;de<le;de++)qy.fromBufferAttribute(ee,de),YB(qy,de,W,S,a,f,this)}}updateMorphTargets(){const f=this.geometry.morphAttributes,x=Object.keys(f);if(x.length>0){const S=f[x[0]];if(S!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let I=0,k=S.length;I<k;I++){const U=S[I].name||String(I);this.morphTargetInfluences.push(0),this.morphTargetDictionary[U]=I}}}}}function YB($,a,f,x,S,I,k){const U=pS.distanceSqToPoint($);if(U<f){const W=new dt;pS.closestPointToPoint($,W),W.applyMatrix4(x);const K=S.ray.origin.distanceTo(W);if(K<S.near||K>S.far)return;I.push({distance:K,distanceToRay:Math.sqrt(U),point:W,index:a,face:null,object:k})}}class Rq extends ho{constructor(a,f,x,S,I,k,U,W,K){super(a,f,x,S,I,k,U,W,K),this.isVideoTexture=!0,this.minFilter=k!==void 0?k:ve,this.magFilter=I!==void 0?I:ve,this.generateMipmaps=!1;const q=this;function ee(){q.needsUpdate=!0,a.requestVideoFrameCallback(ee)}"requestVideoFrameCallback"in a&&a.requestVideoFrameCallback(ee)}clone(){return new this.constructor(this.image).copy(this)}update(){const a=this.image;"requestVideoFrameCallback"in a===!1&&a.readyState>=a.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Iq extends ho{constructor(a,f,x){super({width:a,height:f}),this.isFramebufferTexture=!0,this.format=x,this.magFilter=ue,this.minFilter=ue,this.generateMipmaps=!1,this.needsUpdate=!0}}class mS extends ho{constructor(a,f,x,S,I,k,U,W,K,q,ee,te){super(null,k,U,W,K,q,S,I,ee,te),this.isCompressedTexture=!0,this.image={width:f,height:x},this.mipmaps=a,this.flipY=!1,this.generateMipmaps=!1}}class Pq extends mS{constructor(a,f,x,S,I,k){super(a,f,x,I,k),this.isCompressedArrayTexture=!0,this.image.depth=S,this.wrapR=Ue}}class Lq extends ho{constructor(a,f,x,S,I,k,U,W,K){super(a,f,x,S,I,k,U,W,K),this.isCanvasTexture=!0,this.needsUpdate=!0}}class xl{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(a,f){const x=this.getUtoTmapping(a);return this.getPoint(x,f)}getPoints(a=5){const f=[];for(let x=0;x<=a;x++)f.push(this.getPoint(x/a));return f}getSpacedPoints(a=5){const f=[];for(let x=0;x<=a;x++)f.push(this.getPointAt(x/a));return f}getLength(){const a=this.getLengths();return a[a.length-1]}getLengths(a=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===a+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const f=[];let x,S=this.getPoint(0),I=0;f.push(0);for(let k=1;k<=a;k++)x=this.getPoint(k/a),I+=x.distanceTo(S),f.push(I),S=x;return this.cacheArcLengths=f,f}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(a,f){const x=this.getLengths();let S=0;const I=x.length;let k;f?k=f:k=a*x[I-1];let U=0,W=I-1,K;for(;U<=W;)if(S=Math.floor(U+(W-U)/2),K=x[S]-k,K<0)U=S+1;else if(K>0)W=S-1;else{W=S;break}if(S=W,x[S]===k)return S/(I-1);const q=x[S],te=x[S+1]-q,ie=(k-q)/te;return(S+ie)/(I-1)}getTangent(a,f){let S=a-1e-4,I=a+1e-4;S<0&&(S=0),I>1&&(I=1);const k=this.getPoint(S),U=this.getPoint(I),W=f||(k.isVector2?new In:new dt);return W.copy(U).sub(k).normalize(),W}getTangentAt(a,f){const x=this.getUtoTmapping(a);return this.getTangent(x,f)}computeFrenetFrames(a,f){const x=new dt,S=[],I=[],k=[],U=new dt,W=new _r;for(let ie=0;ie<=a;ie++){const de=ie/a;S[ie]=this.getTangentAt(de,new dt)}I[0]=new dt,k[0]=new dt;let K=Number.MAX_VALUE;const q=Math.abs(S[0].x),ee=Math.abs(S[0].y),te=Math.abs(S[0].z);q<=K&&(K=q,x.set(1,0,0)),ee<=K&&(K=ee,x.set(0,1,0)),te<=K&&x.set(0,0,1),U.crossVectors(S[0],x).normalize(),I[0].crossVectors(S[0],U),k[0].crossVectors(S[0],I[0]);for(let ie=1;ie<=a;ie++){if(I[ie]=I[ie-1].clone(),k[ie]=k[ie-1].clone(),U.crossVectors(S[ie-1],S[ie]),U.length()>Number.EPSILON){U.normalize();const de=Math.acos(fo(S[ie-1].dot(S[ie]),-1,1));I[ie].applyMatrix4(W.makeRotationAxis(U,de))}k[ie].crossVectors(S[ie],I[ie])}if(f===!0){let ie=Math.acos(fo(I[0].dot(I[a]),-1,1));ie/=a,S[0].dot(U.crossVectors(I[0],I[a]))>0&&(ie=-ie);for(let de=1;de<=a;de++)I[de].applyMatrix4(W.makeRotationAxis(S[de],ie*de)),k[de].crossVectors(S[de],I[de])}return{tangents:S,normals:I,binormals:k}}clone(){return new this.constructor().copy(this)}copy(a){return this.arcLengthDivisions=a.arcLengthDivisions,this}toJSON(){const a={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return a.arcLengthDivisions=this.arcLengthDivisions,a.type=this.type,a}fromJSON(a){return this.arcLengthDivisions=a.arcLengthDivisions,this}}class Yy extends xl{constructor(a=0,f=0,x=1,S=1,I=0,k=Math.PI*2,U=!1,W=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=a,this.aY=f,this.xRadius=x,this.yRadius=S,this.aStartAngle=I,this.aEndAngle=k,this.aClockwise=U,this.aRotation=W}getPoint(a,f){const x=f||new In,S=Math.PI*2;let I=this.aEndAngle-this.aStartAngle;const k=Math.abs(I)<Number.EPSILON;for(;I<0;)I+=S;for(;I>S;)I-=S;I<Number.EPSILON&&(k?I=0:I=S),this.aClockwise===!0&&!k&&(I===S?I=-S:I=I-S);const U=this.aStartAngle+a*I;let W=this.aX+this.xRadius*Math.cos(U),K=this.aY+this.yRadius*Math.sin(U);if(this.aRotation!==0){const q=Math.cos(this.aRotation),ee=Math.sin(this.aRotation),te=W-this.aX,ie=K-this.aY;W=te*q-ie*ee+this.aX,K=te*ee+ie*q+this.aY}return x.set(W,K)}copy(a){return super.copy(a),this.aX=a.aX,this.aY=a.aY,this.xRadius=a.xRadius,this.yRadius=a.yRadius,this.aStartAngle=a.aStartAngle,this.aEndAngle=a.aEndAngle,this.aClockwise=a.aClockwise,this.aRotation=a.aRotation,this}toJSON(){const a=super.toJSON();return a.aX=this.aX,a.aY=this.aY,a.xRadius=this.xRadius,a.yRadius=this.yRadius,a.aStartAngle=this.aStartAngle,a.aEndAngle=this.aEndAngle,a.aClockwise=this.aClockwise,a.aRotation=this.aRotation,a}fromJSON(a){return super.fromJSON(a),this.aX=a.aX,this.aY=a.aY,this.xRadius=a.xRadius,this.yRadius=a.yRadius,this.aStartAngle=a.aStartAngle,this.aEndAngle=a.aEndAngle,this.aClockwise=a.aClockwise,this.aRotation=a.aRotation,this}}class JB extends Yy{constructor(a,f,x,S,I,k){super(a,f,x,x,S,I,k),this.isArcCurve=!0,this.type="ArcCurve"}}function gS(){let $=0,a=0,f=0,x=0;function S(I,k,U,W){$=I,a=U,f=-3*I+3*k-2*U-W,x=2*I-2*k+U+W}return{initCatmullRom:function(I,k,U,W,K){S(k,U,K*(U-I),K*(W-k))},initNonuniformCatmullRom:function(I,k,U,W,K,q,ee){let te=(k-I)/K-(U-I)/(K+q)+(U-k)/q,ie=(U-k)/q-(W-k)/(q+ee)+(W-U)/ee;te*=q,ie*=q,S(k,U,te,ie)},calc:function(I){const k=I*I,U=k*I;return $+a*I+f*k+x*U}}}const Jy=new dt,vS=new gS,AS=new gS,yS=new gS;class ZB extends xl{constructor(a=[],f=!1,x="centripetal",S=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=a,this.closed=f,this.curveType=x,this.tension=S}getPoint(a,f=new dt){const x=f,S=this.points,I=S.length,k=(I-(this.closed?0:1))*a;let U=Math.floor(k),W=k-U;this.closed?U+=U>0?0:(Math.floor(Math.abs(U)/I)+1)*I:W===0&&U===I-1&&(U=I-2,W=1);let K,q;this.closed||U>0?K=S[(U-1)%I]:(Jy.subVectors(S[0],S[1]).add(S[0]),K=Jy);const ee=S[U%I],te=S[(U+1)%I];if(this.closed||U+2<I?q=S[(U+2)%I]:(Jy.subVectors(S[I-1],S[I-2]).add(S[I-1]),q=Jy),this.curveType==="centripetal"||this.curveType==="chordal"){const ie=this.curveType==="chordal"?.5:.25;let de=Math.pow(K.distanceToSquared(ee),ie),le=Math.pow(ee.distanceToSquared(te),ie),ae=Math.pow(te.distanceToSquared(q),ie);le<1e-4&&(le=1),de<1e-4&&(de=le),ae<1e-4&&(ae=le),vS.initNonuniformCatmullRom(K.x,ee.x,te.x,q.x,de,le,ae),AS.initNonuniformCatmullRom(K.y,ee.y,te.y,q.y,de,le,ae),yS.initNonuniformCatmullRom(K.z,ee.z,te.z,q.z,de,le,ae)}else this.curveType==="catmullrom"&&(vS.initCatmullRom(K.x,ee.x,te.x,q.x,this.tension),AS.initCatmullRom(K.y,ee.y,te.y,q.y,this.tension),yS.initCatmullRom(K.z,ee.z,te.z,q.z,this.tension));return x.set(vS.calc(W),AS.calc(W),yS.calc(W)),x}copy(a){super.copy(a),this.points=[];for(let f=0,x=a.points.length;f<x;f++){const S=a.points[f];this.points.push(S.clone())}return this.closed=a.closed,this.curveType=a.curveType,this.tension=a.tension,this}toJSON(){const a=super.toJSON();a.points=[];for(let f=0,x=this.points.length;f<x;f++){const S=this.points[f];a.points.push(S.toArray())}return a.closed=this.closed,a.curveType=this.curveType,a.tension=this.tension,a}fromJSON(a){super.fromJSON(a),this.points=[];for(let f=0,x=a.points.length;f<x;f++){const S=a.points[f];this.points.push(new dt().fromArray(S))}return this.closed=a.closed,this.curveType=a.curveType,this.tension=a.tension,this}}function eO($,a,f,x,S){const I=(x-a)*.5,k=(S-f)*.5,U=$*$,W=$*U;return(2*f-2*x+I+k)*W+(-3*f+3*x-2*I-k)*U+I*$+f}function Bq($,a){const f=1-$;return f*f*a}function Oq($,a){return 2*(1-$)*$*a}function Dq($,a){return $*$*a}function Kg($,a,f,x){return Bq($,a)+Oq($,f)+Dq($,x)}function Nq($,a){const f=1-$;return f*f*f*a}function kq($,a){const f=1-$;return 3*f*f*$*a}function Fq($,a){return 3*(1-$)*$*$*a}function Uq($,a){return $*$*$*a}function Xg($,a,f,x,S){return Nq($,a)+kq($,f)+Fq($,x)+Uq($,S)}class bS extends xl{constructor(a=new In,f=new In,x=new In,S=new In){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=a,this.v1=f,this.v2=x,this.v3=S}getPoint(a,f=new In){const x=f,S=this.v0,I=this.v1,k=this.v2,U=this.v3;return x.set(Xg(a,S.x,I.x,k.x,U.x),Xg(a,S.y,I.y,k.y,U.y)),x}copy(a){return super.copy(a),this.v0.copy(a.v0),this.v1.copy(a.v1),this.v2.copy(a.v2),this.v3.copy(a.v3),this}toJSON(){const a=super.toJSON();return a.v0=this.v0.toArray(),a.v1=this.v1.toArray(),a.v2=this.v2.toArray(),a.v3=this.v3.toArray(),a}fromJSON(a){return super.fromJSON(a),this.v0.fromArray(a.v0),this.v1.fromArray(a.v1),this.v2.fromArray(a.v2),this.v3.fromArray(a.v3),this}}class tO extends xl{constructor(a=new dt,f=new dt,x=new dt,S=new dt){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=a,this.v1=f,this.v2=x,this.v3=S}getPoint(a,f=new dt){const x=f,S=this.v0,I=this.v1,k=this.v2,U=this.v3;return x.set(Xg(a,S.x,I.x,k.x,U.x),Xg(a,S.y,I.y,k.y,U.y),Xg(a,S.z,I.z,k.z,U.z)),x}copy(a){return super.copy(a),this.v0.copy(a.v0),this.v1.copy(a.v1),this.v2.copy(a.v2),this.v3.copy(a.v3),this}toJSON(){const a=super.toJSON();return a.v0=this.v0.toArray(),a.v1=this.v1.toArray(),a.v2=this.v2.toArray(),a.v3=this.v3.toArray(),a}fromJSON(a){return super.fromJSON(a),this.v0.fromArray(a.v0),this.v1.fromArray(a.v1),this.v2.fromArray(a.v2),this.v3.fromArray(a.v3),this}}class Zy extends xl{constructor(a=new In,f=new In){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=a,this.v2=f}getPoint(a,f=new In){const x=f;return a===1?x.copy(this.v2):(x.copy(this.v2).sub(this.v1),x.multiplyScalar(a).add(this.v1)),x}getPointAt(a,f){return this.getPoint(a,f)}getTangent(a,f){const x=f||new In;return x.copy(this.v2).sub(this.v1).normalize(),x}copy(a){return super.copy(a),this.v1.copy(a.v1),this.v2.copy(a.v2),this}toJSON(){const a=super.toJSON();return a.v1=this.v1.toArray(),a.v2=this.v2.toArray(),a}fromJSON(a){return super.fromJSON(a),this.v1.fromArray(a.v1),this.v2.fromArray(a.v2),this}}class nO extends xl{constructor(a=new dt,f=new dt){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=a,this.v2=f}getPoint(a,f=new dt){const x=f;return a===1?x.copy(this.v2):(x.copy(this.v2).sub(this.v1),x.multiplyScalar(a).add(this.v1)),x}getPointAt(a,f){return this.getPoint(a,f)}copy(a){return super.copy(a),this.v1.copy(a.v1),this.v2.copy(a.v2),this}toJSON(){const a=super.toJSON();return a.v1=this.v1.toArray(),a.v2=this.v2.toArray(),a}fromJSON(a){return super.fromJSON(a),this.v1.fromArray(a.v1),this.v2.fromArray(a.v2),this}}class xS extends xl{constructor(a=new In,f=new In,x=new In){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=a,this.v1=f,this.v2=x}getPoint(a,f=new In){const x=f,S=this.v0,I=this.v1,k=this.v2;return x.set(Kg(a,S.x,I.x,k.x),Kg(a,S.y,I.y,k.y)),x}copy(a){return super.copy(a),this.v0.copy(a.v0),this.v1.copy(a.v1),this.v2.copy(a.v2),this}toJSON(){const a=super.toJSON();return a.v0=this.v0.toArray(),a.v1=this.v1.toArray(),a.v2=this.v2.toArray(),a}fromJSON(a){return super.fromJSON(a),this.v0.fromArray(a.v0),this.v1.fromArray(a.v1),this.v2.fromArray(a.v2),this}}class ES extends xl{constructor(a=new dt,f=new dt,x=new dt){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=a,this.v1=f,this.v2=x}getPoint(a,f=new dt){const x=f,S=this.v0,I=this.v1,k=this.v2;return x.set(Kg(a,S.x,I.x,k.x),Kg(a,S.y,I.y,k.y),Kg(a,S.z,I.z,k.z)),x}copy(a){return super.copy(a),this.v0.copy(a.v0),this.v1.copy(a.v1),this.v2.copy(a.v2),this}toJSON(){const a=super.toJSON();return a.v0=this.v0.toArray(),a.v1=this.v1.toArray(),a.v2=this.v2.toArray(),a}fromJSON(a){return super.fromJSON(a),this.v0.fromArray(a.v0),this.v1.fromArray(a.v1),this.v2.fromArray(a.v2),this}}class CS extends xl{constructor(a=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=a}getPoint(a,f=new In){const x=f,S=this.points,I=(S.length-1)*a,k=Math.floor(I),U=I-k,W=S[k===0?k:k-1],K=S[k],q=S[k>S.length-2?S.length-1:k+1],ee=S[k>S.length-3?S.length-1:k+2];return x.set(eO(U,W.x,K.x,q.x,ee.x),eO(U,W.y,K.y,q.y,ee.y)),x}copy(a){super.copy(a),this.points=[];for(let f=0,x=a.points.length;f<x;f++){const S=a.points[f];this.points.push(S.clone())}return this}toJSON(){const a=super.toJSON();a.points=[];for(let f=0,x=this.points.length;f<x;f++){const S=this.points[f];a.points.push(S.toArray())}return a}fromJSON(a){super.fromJSON(a),this.points=[];for(let f=0,x=a.points.length;f<x;f++){const S=a.points[f];this.points.push(new In().fromArray(S))}return this}}var wS=Object.freeze({__proto__:null,ArcCurve:JB,CatmullRomCurve3:ZB,CubicBezierCurve:bS,CubicBezierCurve3:tO,EllipseCurve:Yy,LineCurve:Zy,LineCurve3:nO,QuadraticBezierCurve:xS,QuadraticBezierCurve3:ES,SplineCurve:CS});class rO extends xl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(a){this.curves.push(a)}closePath(){const a=this.curves[0].getPoint(0),f=this.curves[this.curves.length-1].getPoint(1);a.equals(f)||this.curves.push(new Zy(f,a))}getPoint(a,f){const x=a*this.getLength(),S=this.getCurveLengths();let I=0;for(;I<S.length;){if(S[I]>=x){const k=S[I]-x,U=this.curves[I],W=U.getLength(),K=W===0?0:1-k/W;return U.getPointAt(K,f)}I++}return null}getLength(){const a=this.getCurveLengths();return a[a.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const a=[];let f=0;for(let x=0,S=this.curves.length;x<S;x++)f+=this.curves[x].getLength(),a.push(f);return this.cacheLengths=a,a}getSpacedPoints(a=40){const f=[];for(let x=0;x<=a;x++)f.push(this.getPoint(x/a));return this.autoClose&&f.push(f[0]),f}getPoints(a=12){const f=[];let x;for(let S=0,I=this.curves;S<I.length;S++){const k=I[S],U=k.isEllipseCurve?a*2:k.isLineCurve||k.isLineCurve3?1:k.isSplineCurve?a*k.points.length:a,W=k.getPoints(U);for(let K=0;K<W.length;K++){const q=W[K];x&&x.equals(q)||(f.push(q),x=q)}}return this.autoClose&&f.length>1&&!f[f.length-1].equals(f[0])&&f.push(f[0]),f}copy(a){super.copy(a),this.curves=[];for(let f=0,x=a.curves.length;f<x;f++){const S=a.curves[f];this.curves.push(S.clone())}return this.autoClose=a.autoClose,this}toJSON(){const a=super.toJSON();a.autoClose=this.autoClose,a.curves=[];for(let f=0,x=this.curves.length;f<x;f++){const S=this.curves[f];a.curves.push(S.toJSON())}return a}fromJSON(a){super.fromJSON(a),this.autoClose=a.autoClose,this.curves=[];for(let f=0,x=a.curves.length;f<x;f++){const S=a.curves[f];this.curves.push(new wS[S.type]().fromJSON(S))}return this}}class qg extends rO{constructor(a){super(),this.type="Path",this.currentPoint=new In,a&&this.setFromPoints(a)}setFromPoints(a){this.moveTo(a[0].x,a[0].y);for(let f=1,x=a.length;f<x;f++)this.lineTo(a[f].x,a[f].y);return this}moveTo(a,f){return this.currentPoint.set(a,f),this}lineTo(a,f){const x=new Zy(this.currentPoint.clone(),new In(a,f));return this.curves.push(x),this.currentPoint.set(a,f),this}quadraticCurveTo(a,f,x,S){const I=new xS(this.currentPoint.clone(),new In(a,f),new In(x,S));return this.curves.push(I),this.currentPoint.set(x,S),this}bezierCurveTo(a,f,x,S,I,k){const U=new bS(this.currentPoint.clone(),new In(a,f),new In(x,S),new In(I,k));return this.curves.push(U),this.currentPoint.set(I,k),this}splineThru(a){const f=[this.currentPoint.clone()].concat(a),x=new CS(f);return this.curves.push(x),this.currentPoint.copy(a[a.length-1]),this}arc(a,f,x,S,I,k){const U=this.currentPoint.x,W=this.currentPoint.y;return this.absarc(a+U,f+W,x,S,I,k),this}absarc(a,f,x,S,I,k){return this.absellipse(a,f,x,x,S,I,k),this}ellipse(a,f,x,S,I,k,U,W){const K=this.currentPoint.x,q=this.currentPoint.y;return this.absellipse(a+K,f+q,x,S,I,k,U,W),this}absellipse(a,f,x,S,I,k,U,W){const K=new Yy(a,f,x,S,I,k,U,W);if(this.curves.length>0){const ee=K.getPoint(0);ee.equals(this.currentPoint)||this.lineTo(ee.x,ee.y)}this.curves.push(K);const q=K.getPoint(1);return this.currentPoint.copy(q),this}copy(a){return super.copy(a),this.currentPoint.copy(a.currentPoint),this}toJSON(){const a=super.toJSON();return a.currentPoint=this.currentPoint.toArray(),a}fromJSON(a){return super.fromJSON(a),this.currentPoint.fromArray(a.currentPoint),this}}class ap extends ci{constructor(a=[new In(0,-.5),new In(.5,0),new In(0,.5)],f=12,x=0,S=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:a,segments:f,phiStart:x,phiLength:S},f=Math.floor(f),S=fo(S,0,Math.PI*2);const I=[],k=[],U=[],W=[],K=[],q=1/f,ee=new dt,te=new In,ie=new dt,de=new dt,le=new dt;let ae=0,Ie=0;for(let He=0;He<=a.length-1;He++)switch(He){case 0:ae=a[He+1].x-a[He].x,Ie=a[He+1].y-a[He].y,ie.x=Ie*1,ie.y=-ae,ie.z=Ie*0,le.copy(ie),ie.normalize(),W.push(ie.x,ie.y,ie.z);break;case a.length-1:W.push(le.x,le.y,le.z);break;default:ae=a[He+1].x-a[He].x,Ie=a[He+1].y-a[He].y,ie.x=Ie*1,ie.y=-ae,ie.z=Ie*0,de.copy(ie),ie.x+=le.x,ie.y+=le.y,ie.z+=le.z,ie.normalize(),W.push(ie.x,ie.y,ie.z),le.copy(de)}for(let He=0;He<=f;He++){const Ne=x+He*q*S,ze=Math.sin(Ne),Xe=Math.cos(Ne);for(let pt=0;pt<=a.length-1;pt++){ee.x=a[pt].x*ze,ee.y=a[pt].y,ee.z=a[pt].x*Xe,k.push(ee.x,ee.y,ee.z),te.x=He/f,te.y=pt/(a.length-1),U.push(te.x,te.y);const Pt=W[3*pt+0]*ze,Ge=W[3*pt+1],vt=W[3*pt+0]*Xe;K.push(Pt,Ge,vt)}}for(let He=0;He<f;He++)for(let Ne=0;Ne<a.length-1;Ne++){const ze=Ne+He*a.length,Xe=ze,pt=ze+a.length,Pt=ze+a.length+1,Ge=ze+1;I.push(Xe,pt,Ge),I.push(Pt,Ge,pt)}this.setIndex(I),this.setAttribute("position",new Rr(k,3)),this.setAttribute("uv",new Rr(U,2)),this.setAttribute("normal",new Rr(K,3))}static fromJSON(a){return new ap(a.points,a.segments,a.phiStart,a.phiLength)}}class Yg extends ap{constructor(a=1,f=1,x=4,S=8){const I=new qg;I.absarc(0,-f/2,a,Math.PI*1.5,0),I.absarc(0,f/2,a,0,Math.PI*.5),super(I.getPoints(x),S),this.type="CapsuleGeometry",this.parameters={radius:a,height:f,capSegments:x,radialSegments:S}}static fromJSON(a){return new Yg(a.radius,a.length,a.capSegments,a.radialSegments)}}class Jg extends ci{constructor(a=1,f=8,x=0,S=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:a,segments:f,thetaStart:x,thetaLength:S},f=Math.max(3,f);const I=[],k=[],U=[],W=[],K=new dt,q=new In;k.push(0,0,0),U.push(0,0,1),W.push(.5,.5);for(let ee=0,te=3;ee<=f;ee++,te+=3){const ie=x+ee/f*S;K.x=a*Math.cos(ie),K.y=a*Math.sin(ie),k.push(K.x,K.y,K.z),U.push(0,0,1),q.x=(k[te]/a+1)/2,q.y=(k[te+1]/a+1)/2,W.push(q.x,q.y)}for(let ee=1;ee<=f;ee++)I.push(ee,ee+1,0);this.setIndex(I),this.setAttribute("position",new Rr(k,3)),this.setAttribute("normal",new Rr(U,3)),this.setAttribute("uv",new Rr(W,2))}static fromJSON(a){return new Jg(a.radius,a.segments,a.thetaStart,a.thetaLength)}}class gf extends ci{constructor(a=1,f=1,x=1,S=8,I=1,k=!1,U=0,W=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:a,radiusBottom:f,height:x,radialSegments:S,heightSegments:I,openEnded:k,thetaStart:U,thetaLength:W};const K=this;S=Math.floor(S),I=Math.floor(I);const q=[],ee=[],te=[],ie=[];let de=0;const le=[],ae=x/2;let Ie=0;He(),k===!1&&(a>0&&Ne(!0),f>0&&Ne(!1)),this.setIndex(q),this.setAttribute("position",new Rr(ee,3)),this.setAttribute("normal",new Rr(te,3)),this.setAttribute("uv",new Rr(ie,2));function He(){const ze=new dt,Xe=new dt;let pt=0;const Pt=(f-a)/x;for(let Ge=0;Ge<=I;Ge++){const vt=[],_t=Ge/I,Gt=_t*(f-a)+a;for(let an=0;an<=S;an++){const Qt=an/S,$t=Qt*W+U,nn=Math.sin($t),Rn=Math.cos($t);Xe.x=Gt*nn,Xe.y=-_t*x+ae,Xe.z=Gt*Rn,ee.push(Xe.x,Xe.y,Xe.z),ze.set(nn,Pt,Rn).normalize(),te.push(ze.x,ze.y,ze.z),ie.push(Qt,1-_t),vt.push(de++)}le.push(vt)}for(let Ge=0;Ge<S;Ge++)for(let vt=0;vt<I;vt++){const _t=le[vt][Ge],Gt=le[vt+1][Ge],an=le[vt+1][Ge+1],Qt=le[vt][Ge+1];q.push(_t,Gt,Qt),q.push(Gt,an,Qt),pt+=6}K.addGroup(Ie,pt,0),Ie+=pt}function Ne(ze){const Xe=de,pt=new In,Pt=new dt;let Ge=0;const vt=ze===!0?a:f,_t=ze===!0?1:-1;for(let an=1;an<=S;an++)ee.push(0,ae*_t,0),te.push(0,_t,0),ie.push(.5,.5),de++;const Gt=de;for(let an=0;an<=S;an++){const $t=an/S*W+U,nn=Math.cos($t),Rn=Math.sin($t);Pt.x=vt*Rn,Pt.y=ae*_t,Pt.z=vt*nn,ee.push(Pt.x,Pt.y,Pt.z),te.push(0,_t,0),pt.x=nn*.5+.5,pt.y=Rn*.5*_t+.5,ie.push(pt.x,pt.y),de++}for(let an=0;an<S;an++){const Qt=Xe+an,$t=Gt+an;ze===!0?q.push($t,$t+1,Qt):q.push($t+1,$t,Qt),Ge+=3}K.addGroup(Ie,Ge,ze===!0?1:2),Ie+=Ge}}static fromJSON(a){return new gf(a.radiusTop,a.radiusBottom,a.height,a.radialSegments,a.heightSegments,a.openEnded,a.thetaStart,a.thetaLength)}}class Zg extends gf{constructor(a=1,f=1,x=8,S=1,I=!1,k=0,U=Math.PI*2){super(0,a,f,x,S,I,k,U),this.type="ConeGeometry",this.parameters={radius:a,height:f,radialSegments:x,heightSegments:S,openEnded:I,thetaStart:k,thetaLength:U}}static fromJSON(a){return new Zg(a.radius,a.height,a.radialSegments,a.heightSegments,a.openEnded,a.thetaStart,a.thetaLength)}}class $c extends ci{constructor(a=[],f=[],x=1,S=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:a,indices:f,radius:x,detail:S};const I=[],k=[];U(S),K(x),q(),this.setAttribute("position",new Rr(I,3)),this.setAttribute("normal",new Rr(I.slice(),3)),this.setAttribute("uv",new Rr(k,2)),S===0?this.computeVertexNormals():this.normalizeNormals();function U(He){const Ne=new dt,ze=new dt,Xe=new dt;for(let pt=0;pt<f.length;pt+=3)ie(f[pt+0],Ne),ie(f[pt+1],ze),ie(f[pt+2],Xe),W(Ne,ze,Xe,He)}function W(He,Ne,ze,Xe){const pt=Xe+1,Pt=[];for(let Ge=0;Ge<=pt;Ge++){Pt[Ge]=[];const vt=He.clone().lerp(ze,Ge/pt),_t=Ne.clone().lerp(ze,Ge/pt),Gt=pt-Ge;for(let an=0;an<=Gt;an++)an===0&&Ge===pt?Pt[Ge][an]=vt:Pt[Ge][an]=vt.clone().lerp(_t,an/Gt)}for(let Ge=0;Ge<pt;Ge++)for(let vt=0;vt<2*(pt-Ge)-1;vt++){const _t=Math.floor(vt/2);vt%2===0?(te(Pt[Ge][_t+1]),te(Pt[Ge+1][_t]),te(Pt[Ge][_t])):(te(Pt[Ge][_t+1]),te(Pt[Ge+1][_t+1]),te(Pt[Ge+1][_t]))}}function K(He){const Ne=new dt;for(let ze=0;ze<I.length;ze+=3)Ne.x=I[ze+0],Ne.y=I[ze+1],Ne.z=I[ze+2],Ne.normalize().multiplyScalar(He),I[ze+0]=Ne.x,I[ze+1]=Ne.y,I[ze+2]=Ne.z}function q(){const He=new dt;for(let Ne=0;Ne<I.length;Ne+=3){He.x=I[Ne+0],He.y=I[Ne+1],He.z=I[Ne+2];const ze=ae(He)/2/Math.PI+.5,Xe=Ie(He)/Math.PI+.5;k.push(ze,1-Xe)}de(),ee()}function ee(){for(let He=0;He<k.length;He+=6){const Ne=k[He+0],ze=k[He+2],Xe=k[He+4],pt=Math.max(Ne,ze,Xe),Pt=Math.min(Ne,ze,Xe);pt>.9&&Pt<.1&&(Ne<.2&&(k[He+0]+=1),ze<.2&&(k[He+2]+=1),Xe<.2&&(k[He+4]+=1))}}function te(He){I.push(He.x,He.y,He.z)}function ie(He,Ne){const ze=He*3;Ne.x=a[ze+0],Ne.y=a[ze+1],Ne.z=a[ze+2]}function de(){const He=new dt,Ne=new dt,ze=new dt,Xe=new dt,pt=new In,Pt=new In,Ge=new In;for(let vt=0,_t=0;vt<I.length;vt+=9,_t+=6){He.set(I[vt+0],I[vt+1],I[vt+2]),Ne.set(I[vt+3],I[vt+4],I[vt+5]),ze.set(I[vt+6],I[vt+7],I[vt+8]),pt.set(k[_t+0],k[_t+1]),Pt.set(k[_t+2],k[_t+3]),Ge.set(k[_t+4],k[_t+5]),Xe.copy(He).add(Ne).add(ze).divideScalar(3);const Gt=ae(Xe);le(pt,_t+0,He,Gt),le(Pt,_t+2,Ne,Gt),le(Ge,_t+4,ze,Gt)}}function le(He,Ne,ze,Xe){Xe<0&&He.x===1&&(k[Ne]=He.x-1),ze.x===0&&ze.z===0&&(k[Ne]=Xe/2/Math.PI+.5)}function ae(He){return Math.atan2(He.z,-He.x)}function Ie(He){return Math.atan2(-He.y,Math.sqrt(He.x*He.x+He.z*He.z))}}static fromJSON(a){return new $c(a.vertices,a.indices,a.radius,a.details)}}class ev extends $c{constructor(a=1,f=0){const x=(1+Math.sqrt(5))/2,S=1/x,I=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-S,-x,0,-S,x,0,S,-x,0,S,x,-S,-x,0,-S,x,0,S,-x,0,S,x,0,-x,0,-S,x,0,-S,-x,0,S,x,0,S],k=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(I,k,a,f),this.type="DodecahedronGeometry",this.parameters={radius:a,detail:f}}static fromJSON(a){return new ev(a.radius,a.detail)}}const eb=new dt,tb=new dt,SS=new dt,nb=new js;class iO extends ci{constructor(a=null,f=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:a,thresholdAngle:f},a!==null){const S=Math.pow(10,4),I=Math.cos(Bc*f),k=a.getIndex(),U=a.getAttribute("position"),W=k?k.count:U.count,K=[0,0,0],q=["a","b","c"],ee=new Array(3),te={},ie=[];for(let de=0;de<W;de+=3){k?(K[0]=k.getX(de),K[1]=k.getX(de+1),K[2]=k.getX(de+2)):(K[0]=de,K[1]=de+1,K[2]=de+2);const{a:le,b:ae,c:Ie}=nb;if(le.fromBufferAttribute(U,K[0]),ae.fromBufferAttribute(U,K[1]),Ie.fromBufferAttribute(U,K[2]),nb.getNormal(SS),ee[0]=`${Math.round(le.x*S)},${Math.round(le.y*S)},${Math.round(le.z*S)}`,ee[1]=`${Math.round(ae.x*S)},${Math.round(ae.y*S)},${Math.round(ae.z*S)}`,ee[2]=`${Math.round(Ie.x*S)},${Math.round(Ie.y*S)},${Math.round(Ie.z*S)}`,!(ee[0]===ee[1]||ee[1]===ee[2]||ee[2]===ee[0]))for(let He=0;He<3;He++){const Ne=(He+1)%3,ze=ee[He],Xe=ee[Ne],pt=nb[q[He]],Pt=nb[q[Ne]],Ge=`${ze}_${Xe}`,vt=`${Xe}_${ze}`;vt in te&&te[vt]?(SS.dot(te[vt].normal)<=I&&(ie.push(pt.x,pt.y,pt.z),ie.push(Pt.x,Pt.y,Pt.z)),te[vt]=null):Ge in te||(te[Ge]={index0:K[He],index1:K[Ne],normal:SS.clone()})}}for(const de in te)if(te[de]){const{index0:le,index1:ae}=te[de];eb.fromBufferAttribute(U,le),tb.fromBufferAttribute(U,ae),ie.push(eb.x,eb.y,eb.z),ie.push(tb.x,tb.y,tb.z)}this.setAttribute("position",new Rr(ie,3))}}}class vf extends qg{constructor(a){super(a),this.uuid=Da(),this.type="Shape",this.holes=[]}getPointsHoles(a){const f=[];for(let x=0,S=this.holes.length;x<S;x++)f[x]=this.holes[x].getPoints(a);return f}extractPoints(a){return{shape:this.getPoints(a),holes:this.getPointsHoles(a)}}copy(a){super.copy(a),this.holes=[];for(let f=0,x=a.holes.length;f<x;f++){const S=a.holes[f];this.holes.push(S.clone())}return this}toJSON(){const a=super.toJSON();a.uuid=this.uuid,a.holes=[];for(let f=0,x=this.holes.length;f<x;f++){const S=this.holes[f];a.holes.push(S.toJSON())}return a}fromJSON(a){super.fromJSON(a),this.uuid=a.uuid,this.holes=[];for(let f=0,x=a.holes.length;f<x;f++){const S=a.holes[f];this.holes.push(new qg().fromJSON(S))}return this}}const zq={triangulate:function($,a,f=2){const x=a&&a.length,S=x?a[0]*f:$.length;let I=oO($,0,S,f,!0);const k=[];if(!I||I.next===I.prev)return k;let U,W,K,q,ee,te,ie;if(x&&(I=Vq($,a,I,f)),$.length>80*f){U=K=$[0],W=q=$[1];for(let de=f;de<S;de+=f)ee=$[de],te=$[de+1],ee<U&&(U=ee),te<W&&(W=te),ee>K&&(K=ee),te>q&&(q=te);ie=Math.max(K-U,q-W),ie=ie!==0?32767/ie:0}return tv(I,k,f,U,W,ie,0),k}};function oO($,a,f,x,S){let I,k;if(S===nY($,a,f,x)>0)for(I=a;I<f;I+=x)k=lO(I,$[I],$[I+1],k);else for(I=f-x;I>=a;I-=x)k=lO(I,$[I],$[I+1],k);return k&&rb(k,k.next)&&(rv(k),k=k.next),k}function Af($,a){if(!$)return $;a||(a=$);let f=$,x;do if(x=!1,!f.steiner&&(rb(f,f.next)||po(f.prev,f,f.next)===0)){if(rv(f),f=a=f.prev,f===f.next)break;x=!0}else f=f.next;while(x||f!==a);return a}function tv($,a,f,x,S,I,k){if(!$)return;!k&&I&&qq($,x,S,I);let U=$,W,K;for(;$.prev!==$.next;){if(W=$.prev,K=$.next,I?Hq($,x,S,I):$q($)){a.push(W.i/f|0),a.push($.i/f|0),a.push(K.i/f|0),rv($),$=K.next,U=K.next;continue}if($=K,$===U){k?k===1?($=jq(Af($),a,f),tv($,a,f,x,S,I,2)):k===2&&Gq($,a,f,x,S,I):tv(Af($),a,f,x,S,I,1);break}}}function $q($){const a=$.prev,f=$,x=$.next;if(po(a,f,x)>=0)return!1;const S=a.x,I=f.x,k=x.x,U=a.y,W=f.y,K=x.y,q=S<I?S<k?S:k:I<k?I:k,ee=U<W?U<K?U:K:W<K?W:K,te=S>I?S>k?S:k:I>k?I:k,ie=U>W?U>K?U:K:W>K?W:K;let de=x.next;for(;de!==a;){if(de.x>=q&&de.x<=te&&de.y>=ee&&de.y<=ie&&sp(S,U,I,W,k,K,de.x,de.y)&&po(de.prev,de,de.next)>=0)return!1;de=de.next}return!0}function Hq($,a,f,x){const S=$.prev,I=$,k=$.next;if(po(S,I,k)>=0)return!1;const U=S.x,W=I.x,K=k.x,q=S.y,ee=I.y,te=k.y,ie=U<W?U<K?U:K:W<K?W:K,de=q<ee?q<te?q:te:ee<te?ee:te,le=U>W?U>K?U:K:W>K?W:K,ae=q>ee?q>te?q:te:ee>te?ee:te,Ie=_S(ie,de,a,f,x),He=_S(le,ae,a,f,x);let Ne=$.prevZ,ze=$.nextZ;for(;Ne&&Ne.z>=Ie&&ze&&ze.z<=He;){if(Ne.x>=ie&&Ne.x<=le&&Ne.y>=de&&Ne.y<=ae&&Ne!==S&&Ne!==k&&sp(U,q,W,ee,K,te,Ne.x,Ne.y)&&po(Ne.prev,Ne,Ne.next)>=0||(Ne=Ne.prevZ,ze.x>=ie&&ze.x<=le&&ze.y>=de&&ze.y<=ae&&ze!==S&&ze!==k&&sp(U,q,W,ee,K,te,ze.x,ze.y)&&po(ze.prev,ze,ze.next)>=0))return!1;ze=ze.nextZ}for(;Ne&&Ne.z>=Ie;){if(Ne.x>=ie&&Ne.x<=le&&Ne.y>=de&&Ne.y<=ae&&Ne!==S&&Ne!==k&&sp(U,q,W,ee,K,te,Ne.x,Ne.y)&&po(Ne.prev,Ne,Ne.next)>=0)return!1;Ne=Ne.prevZ}for(;ze&&ze.z<=He;){if(ze.x>=ie&&ze.x<=le&&ze.y>=de&&ze.y<=ae&&ze!==S&&ze!==k&&sp(U,q,W,ee,K,te,ze.x,ze.y)&&po(ze.prev,ze,ze.next)>=0)return!1;ze=ze.nextZ}return!0}function jq($,a,f){let x=$;do{const S=x.prev,I=x.next.next;!rb(S,I)&&aO(S,x,x.next,I)&&nv(S,I)&&nv(I,S)&&(a.push(S.i/f|0),a.push(x.i/f|0),a.push(I.i/f|0),rv(x),rv(x.next),x=$=I),x=x.next}while(x!==$);return Af(x)}function Gq($,a,f,x,S,I){let k=$;do{let U=k.next.next;for(;U!==k.prev;){if(k.i!==U.i&&Zq(k,U)){let W=sO(k,U);k=Af(k,k.next),W=Af(W,W.next),tv(k,a,f,x,S,I,0),tv(W,a,f,x,S,I,0);return}U=U.next}k=k.next}while(k!==$)}function Vq($,a,f,x){const S=[];let I,k,U,W,K;for(I=0,k=a.length;I<k;I++)U=a[I]*x,W=I<k-1?a[I+1]*x:$.length,K=oO($,U,W,x,!1),K===K.next&&(K.steiner=!0),S.push(Jq(K));for(S.sort(Wq),I=0;I<S.length;I++)f=Qq(S[I],f);return f}function Wq($,a){return $.x-a.x}function Qq($,a){const f=Kq($,a);if(!f)return a;const x=sO(f,$);return Af(x,x.next),Af(f,f.next)}function Kq($,a){let f=a,x=-1/0,S;const I=$.x,k=$.y;do{if(k<=f.y&&k>=f.next.y&&f.next.y!==f.y){const te=f.x+(k-f.y)*(f.next.x-f.x)/(f.next.y-f.y);if(te<=I&&te>x&&(x=te,S=f.x<f.next.x?f:f.next,te===I))return S}f=f.next}while(f!==a);if(!S)return null;const U=S,W=S.x,K=S.y;let q=1/0,ee;f=S;do I>=f.x&&f.x>=W&&I!==f.x&&sp(k<K?I:x,k,W,K,k<K?x:I,k,f.x,f.y)&&(ee=Math.abs(k-f.y)/(I-f.x),nv(f,$)&&(ee<q||ee===q&&(f.x>S.x||f.x===S.x&&Xq(S,f)))&&(S=f,q=ee)),f=f.next;while(f!==U);return S}function Xq($,a){return po($.prev,$,a.prev)<0&&po(a.next,$,$.next)<0}function qq($,a,f,x){let S=$;do S.z===0&&(S.z=_S(S.x,S.y,a,f,x)),S.prevZ=S.prev,S.nextZ=S.next,S=S.next;while(S!==$);S.prevZ.nextZ=null,S.prevZ=null,Yq(S)}function Yq($){let a,f,x,S,I,k,U,W,K=1;do{for(f=$,$=null,I=null,k=0;f;){for(k++,x=f,U=0,a=0;a<K&&(U++,x=x.nextZ,!!x);a++);for(W=K;U>0||W>0&&x;)U!==0&&(W===0||!x||f.z<=x.z)?(S=f,f=f.nextZ,U--):(S=x,x=x.nextZ,W--),I?I.nextZ=S:$=S,S.prevZ=I,I=S;f=x}I.nextZ=null,K*=2}while(k>1);return $}function _S($,a,f,x,S){return $=($-f)*S|0,a=(a-x)*S|0,$=($|$<<8)&16711935,$=($|$<<4)&252645135,$=($|$<<2)&858993459,$=($|$<<1)&1431655765,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,$|a<<1}function Jq($){let a=$,f=$;do(a.x<f.x||a.x===f.x&&a.y<f.y)&&(f=a),a=a.next;while(a!==$);return f}function sp($,a,f,x,S,I,k,U){return(S-k)*(a-U)>=($-k)*(I-U)&&($-k)*(x-U)>=(f-k)*(a-U)&&(f-k)*(I-U)>=(S-k)*(x-U)}function Zq($,a){return $.next.i!==a.i&&$.prev.i!==a.i&&!eY($,a)&&(nv($,a)&&nv(a,$)&&tY($,a)&&(po($.prev,$,a.prev)||po($,a.prev,a))||rb($,a)&&po($.prev,$,$.next)>0&&po(a.prev,a,a.next)>0)}function po($,a,f){return(a.y-$.y)*(f.x-a.x)-(a.x-$.x)*(f.y-a.y)}function rb($,a){return $.x===a.x&&$.y===a.y}function aO($,a,f,x){const S=ob(po($,a,f)),I=ob(po($,a,x)),k=ob(po(f,x,$)),U=ob(po(f,x,a));return!!(S!==I&&k!==U||S===0&&ib($,f,a)||I===0&&ib($,x,a)||k===0&&ib(f,$,x)||U===0&&ib(f,a,x))}function ib($,a,f){return a.x<=Math.max($.x,f.x)&&a.x>=Math.min($.x,f.x)&&a.y<=Math.max($.y,f.y)&&a.y>=Math.min($.y,f.y)}function ob($){return $>0?1:$<0?-1:0}function eY($,a){let f=$;do{if(f.i!==$.i&&f.next.i!==$.i&&f.i!==a.i&&f.next.i!==a.i&&aO(f,f.next,$,a))return!0;f=f.next}while(f!==$);return!1}function nv($,a){return po($.prev,$,$.next)<0?po($,a,$.next)>=0&&po($,$.prev,a)>=0:po($,a,$.prev)<0||po($,$.next,a)<0}function tY($,a){let f=$,x=!1;const S=($.x+a.x)/2,I=($.y+a.y)/2;do f.y>I!=f.next.y>I&&f.next.y!==f.y&&S<(f.next.x-f.x)*(I-f.y)/(f.next.y-f.y)+f.x&&(x=!x),f=f.next;while(f!==$);return x}function sO($,a){const f=new MS($.i,$.x,$.y),x=new MS(a.i,a.x,a.y),S=$.next,I=a.prev;return $.next=a,a.prev=$,f.next=S,S.prev=f,x.next=f,f.prev=x,I.next=x,x.prev=I,x}function lO($,a,f,x){const S=new MS($,a,f);return x?(S.next=x.next,S.prev=x,x.next.prev=S,x.next=S):(S.prev=S,S.next=S),S}function rv($){$.next.prev=$.prev,$.prev.next=$.next,$.prevZ&&($.prevZ.nextZ=$.nextZ),$.nextZ&&($.nextZ.prevZ=$.prevZ)}function MS($,a,f){this.i=$,this.x=a,this.y=f,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function nY($,a,f,x){let S=0;for(let I=a,k=f-x;I<f;I+=x)S+=($[k]-$[I])*($[I+1]+$[k+1]),k=I;return S}class sc{static area(a){const f=a.length;let x=0;for(let S=f-1,I=0;I<f;S=I++)x+=a[S].x*a[I].y-a[I].x*a[S].y;return x*.5}static isClockWise(a){return sc.area(a)<0}static triangulateShape(a,f){const x=[],S=[],I=[];cO(a),uO(x,a);let k=a.length;f.forEach(cO);for(let W=0;W<f.length;W++)S.push(k),k+=f[W].length,uO(x,f[W]);const U=zq.triangulate(x,S);for(let W=0;W<U.length;W+=3)I.push(U.slice(W,W+3));return I}}function cO($){const a=$.length;a>2&&$[a-1].equals($[0])&&$.pop()}function uO($,a){for(let f=0;f<a.length;f++)$.push(a[f].x),$.push(a[f].y)}class iv extends ci{constructor(a=new vf([new In(.5,.5),new In(-.5,.5),new In(-.5,-.5),new In(.5,-.5)]),f={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:a,options:f},a=Array.isArray(a)?a:[a];const x=this,S=[],I=[];for(let U=0,W=a.length;U<W;U++){const K=a[U];k(K)}this.setAttribute("position",new Rr(S,3)),this.setAttribute("uv",new Rr(I,2)),this.computeVertexNormals();function k(U){const W=[],K=f.curveSegments!==void 0?f.curveSegments:12,q=f.steps!==void 0?f.steps:1,ee=f.depth!==void 0?f.depth:1;let te=f.bevelEnabled!==void 0?f.bevelEnabled:!0,ie=f.bevelThickness!==void 0?f.bevelThickness:.2,de=f.bevelSize!==void 0?f.bevelSize:ie-.1,le=f.bevelOffset!==void 0?f.bevelOffset:0,ae=f.bevelSegments!==void 0?f.bevelSegments:3;const Ie=f.extrudePath,He=f.UVGenerator!==void 0?f.UVGenerator:rY;let Ne,ze=!1,Xe,pt,Pt,Ge;Ie&&(Ne=Ie.getSpacedPoints(q),ze=!0,te=!1,Xe=Ie.computeFrenetFrames(q,!1),pt=new dt,Pt=new dt,Ge=new dt),te||(ae=0,ie=0,de=0,le=0);const vt=U.extractPoints(K);let _t=vt.shape;const Gt=vt.holes;if(!sc.isClockWise(_t)){_t=_t.reverse();for(let Pn=0,_n=Gt.length;Pn<_n;Pn++){const nr=Gt[Pn];sc.isClockWise(nr)&&(Gt[Pn]=nr.reverse())}}const Qt=sc.triangulateShape(_t,Gt),$t=_t;for(let Pn=0,_n=Gt.length;Pn<_n;Pn++){const nr=Gt[Pn];_t=_t.concat(nr)}function nn(Pn,_n,nr){return _n||console.error("THREE.ExtrudeGeometry: vec does not exist"),_n.clone().multiplyScalar(nr).add(Pn)}const Rn=_t.length,On=Qt.length;function Tn(Pn,_n,nr){let Dr,pr,Jr;const Vr=Pn.x-_n.x,Ur=Pn.y-_n.y,Qi=nr.x-Pn.x,Ui=nr.y-Pn.y,At=Vr*Vr+Ur*Ur,rt=Vr*Ui-Ur*Qi;if(Math.abs(rt)>Number.EPSILON){const un=Math.sqrt(At),Kn=Math.sqrt(Qi*Qi+Ui*Ui),Zn=_n.x-Ur/un,vr=_n.y+Vr/un,Yr=nr.x-Ui/Kn,yr=nr.y+Qi/Kn,Mn=((Yr-Zn)*Ui-(yr-vr)*Qi)/(Vr*Ui-Ur*Qi);Dr=Zn+Vr*Mn-Pn.x,pr=vr+Ur*Mn-Pn.y;const zr=Dr*Dr+pr*pr;if(zr<=2)return new In(Dr,pr);Jr=Math.sqrt(zr/2)}else{let un=!1;Vr>Number.EPSILON?Qi>Number.EPSILON&&(un=!0):Vr<-Number.EPSILON?Qi<-Number.EPSILON&&(un=!0):Math.sign(Ur)===Math.sign(Ui)&&(un=!0),un?(Dr=-Ur,pr=Vr,Jr=Math.sqrt(At)):(Dr=Vr,pr=Ur,Jr=Math.sqrt(At/2))}return new In(Dr/Jr,pr/Jr)}const Qn=[];for(let Pn=0,_n=$t.length,nr=_n-1,Dr=Pn+1;Pn<_n;Pn++,nr++,Dr++)nr===_n&&(nr=0),Dr===_n&&(Dr=0),Qn[Pn]=Tn($t[Pn],$t[nr],$t[Dr]);const zn=[];let Cr,hr=Qn.concat();for(let Pn=0,_n=Gt.length;Pn<_n;Pn++){const nr=Gt[Pn];Cr=[];for(let Dr=0,pr=nr.length,Jr=pr-1,Vr=Dr+1;Dr<pr;Dr++,Jr++,Vr++)Jr===pr&&(Jr=0),Vr===pr&&(Vr=0),Cr[Dr]=Tn(nr[Dr],nr[Jr],nr[Vr]);zn.push(Cr),hr=hr.concat(Cr)}for(let Pn=0;Pn<ae;Pn++){const _n=Pn/ae,nr=ie*Math.cos(_n*Math.PI/2),Dr=de*Math.sin(_n*Math.PI/2)+le;for(let pr=0,Jr=$t.length;pr<Jr;pr++){const Vr=nn($t[pr],Qn[pr],Dr);Mr(Vr.x,Vr.y,-nr)}for(let pr=0,Jr=Gt.length;pr<Jr;pr++){const Vr=Gt[pr];Cr=zn[pr];for(let Ur=0,Qi=Vr.length;Ur<Qi;Ur++){const Ui=nn(Vr[Ur],Cr[Ur],Dr);Mr(Ui.x,Ui.y,-nr)}}}const hn=de+le;for(let Pn=0;Pn<Rn;Pn++){const _n=te?nn(_t[Pn],hr[Pn],hn):_t[Pn];ze?(Pt.copy(Xe.normals[0]).multiplyScalar(_n.x),pt.copy(Xe.binormals[0]).multiplyScalar(_n.y),Ge.copy(Ne[0]).add(Pt).add(pt),Mr(Ge.x,Ge.y,Ge.z)):Mr(_n.x,_n.y,0)}for(let Pn=1;Pn<=q;Pn++)for(let _n=0;_n<Rn;_n++){const nr=te?nn(_t[_n],hr[_n],hn):_t[_n];ze?(Pt.copy(Xe.normals[Pn]).multiplyScalar(nr.x),pt.copy(Xe.binormals[Pn]).multiplyScalar(nr.y),Ge.copy(Ne[Pn]).add(Pt).add(pt),Mr(Ge.x,Ge.y,Ge.z)):Mr(nr.x,nr.y,ee/q*Pn)}for(let Pn=ae-1;Pn>=0;Pn--){const _n=Pn/ae,nr=ie*Math.cos(_n*Math.PI/2),Dr=de*Math.sin(_n*Math.PI/2)+le;for(let pr=0,Jr=$t.length;pr<Jr;pr++){const Vr=nn($t[pr],Qn[pr],Dr);Mr(Vr.x,Vr.y,ee+nr)}for(let pr=0,Jr=Gt.length;pr<Jr;pr++){const Vr=Gt[pr];Cr=zn[pr];for(let Ur=0,Qi=Vr.length;Ur<Qi;Ur++){const Ui=nn(Vr[Ur],Cr[Ur],Dr);ze?Mr(Ui.x,Ui.y+Ne[q-1].y,Ne[q-1].x+nr):Mr(Ui.x,Ui.y,ee+nr)}}}Dn(),ur();function Dn(){const Pn=S.length/3;if(te){let _n=0,nr=Rn*_n;for(let Dr=0;Dr<On;Dr++){const pr=Qt[Dr];dr(pr[2]+nr,pr[1]+nr,pr[0]+nr)}_n=q+ae*2,nr=Rn*_n;for(let Dr=0;Dr<On;Dr++){const pr=Qt[Dr];dr(pr[0]+nr,pr[1]+nr,pr[2]+nr)}}else{for(let _n=0;_n<On;_n++){const nr=Qt[_n];dr(nr[2],nr[1],nr[0])}for(let _n=0;_n<On;_n++){const nr=Qt[_n];dr(nr[0]+Rn*q,nr[1]+Rn*q,nr[2]+Rn*q)}}x.addGroup(Pn,S.length/3-Pn,0)}function ur(){const Pn=S.length/3;let _n=0;on($t,_n),_n+=$t.length;for(let nr=0,Dr=Gt.length;nr<Dr;nr++){const pr=Gt[nr];on(pr,_n),_n+=pr.length}x.addGroup(Pn,S.length/3-Pn,1)}function on(Pn,_n){let nr=Pn.length;for(;--nr>=0;){const Dr=nr;let pr=nr-1;pr<0&&(pr=Pn.length-1);for(let Jr=0,Vr=q+ae*2;Jr<Vr;Jr++){const Ur=Rn*Jr,Qi=Rn*(Jr+1),Ui=_n+Dr+Ur,At=_n+pr+Ur,rt=_n+pr+Qi,un=_n+Dr+Qi;Fr(Ui,At,rt,un)}}}function Mr(Pn,_n,nr){W.push(Pn),W.push(_n),W.push(nr)}function dr(Pn,_n,nr){Jn(Pn),Jn(_n),Jn(nr);const Dr=S.length/3,pr=He.generateTopUV(x,S,Dr-3,Dr-2,Dr-1);oi(pr[0]),oi(pr[1]),oi(pr[2])}function Fr(Pn,_n,nr,Dr){Jn(Pn),Jn(_n),Jn(Dr),Jn(_n),Jn(nr),Jn(Dr);const pr=S.length/3,Jr=He.generateSideWallUV(x,S,pr-6,pr-3,pr-2,pr-1);oi(Jr[0]),oi(Jr[1]),oi(Jr[3]),oi(Jr[1]),oi(Jr[2]),oi(Jr[3])}function Jn(Pn){S.push(W[Pn*3+0]),S.push(W[Pn*3+1]),S.push(W[Pn*3+2])}function oi(Pn){I.push(Pn.x),I.push(Pn.y)}}}toJSON(){const a=super.toJSON(),f=this.parameters.shapes,x=this.parameters.options;return iY(f,x,a)}static fromJSON(a,f){const x=[];for(let I=0,k=a.shapes.length;I<k;I++){const U=f[a.shapes[I]];x.push(U)}const S=a.options.extrudePath;return S!==void 0&&(a.options.extrudePath=new wS[S.type]().fromJSON(S)),new iv(x,a.options)}}const rY={generateTopUV:function($,a,f,x,S){const I=a[f*3],k=a[f*3+1],U=a[x*3],W=a[x*3+1],K=a[S*3],q=a[S*3+1];return[new In(I,k),new In(U,W),new In(K,q)]},generateSideWallUV:function($,a,f,x,S,I){const k=a[f*3],U=a[f*3+1],W=a[f*3+2],K=a[x*3],q=a[x*3+1],ee=a[x*3+2],te=a[S*3],ie=a[S*3+1],de=a[S*3+2],le=a[I*3],ae=a[I*3+1],Ie=a[I*3+2];return Math.abs(U-q)<Math.abs(k-K)?[new In(k,1-W),new In(K,1-ee),new In(te,1-de),new In(le,1-Ie)]:[new In(U,1-W),new In(q,1-ee),new In(ie,1-de),new In(ae,1-Ie)]}};function iY($,a,f){if(f.shapes=[],Array.isArray($))for(let x=0,S=$.length;x<S;x++){const I=$[x];f.shapes.push(I.uuid)}else f.shapes.push($.uuid);return f.options=Object.assign({},a),a.extrudePath!==void 0&&(f.options.extrudePath=a.extrudePath.toJSON()),f}class ov extends $c{constructor(a=1,f=0){const x=(1+Math.sqrt(5))/2,S=[-1,x,0,1,x,0,-1,-x,0,1,-x,0,0,-1,x,0,1,x,0,-1,-x,0,1,-x,x,0,-1,x,0,1,-x,0,-1,-x,0,1],I=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(S,I,a,f),this.type="IcosahedronGeometry",this.parameters={radius:a,detail:f}}static fromJSON(a){return new ov(a.radius,a.detail)}}class lp extends $c{constructor(a=1,f=0){const x=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],S=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(x,S,a,f),this.type="OctahedronGeometry",this.parameters={radius:a,detail:f}}static fromJSON(a){return new lp(a.radius,a.detail)}}class av extends ci{constructor(a=.5,f=1,x=8,S=1,I=0,k=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:a,outerRadius:f,thetaSegments:x,phiSegments:S,thetaStart:I,thetaLength:k},x=Math.max(3,x),S=Math.max(1,S);const U=[],W=[],K=[],q=[];let ee=a;const te=(f-a)/S,ie=new dt,de=new In;for(let le=0;le<=S;le++){for(let ae=0;ae<=x;ae++){const Ie=I+ae/x*k;ie.x=ee*Math.cos(Ie),ie.y=ee*Math.sin(Ie),W.push(ie.x,ie.y,ie.z),K.push(0,0,1),de.x=(ie.x/f+1)/2,de.y=(ie.y/f+1)/2,q.push(de.x,de.y)}ee+=te}for(let le=0;le<S;le++){const ae=le*(x+1);for(let Ie=0;Ie<x;Ie++){const He=Ie+ae,Ne=He,ze=He+x+1,Xe=He+x+2,pt=He+1;U.push(Ne,ze,pt),U.push(ze,Xe,pt)}}this.setIndex(U),this.setAttribute("position",new Rr(W,3)),this.setAttribute("normal",new Rr(K,3)),this.setAttribute("uv",new Rr(q,2))}static fromJSON(a){return new av(a.innerRadius,a.outerRadius,a.thetaSegments,a.phiSegments,a.thetaStart,a.thetaLength)}}class sv extends ci{constructor(a=new vf([new In(0,.5),new In(-.5,-.5),new In(.5,-.5)]),f=12){super(),this.type="ShapeGeometry",this.parameters={shapes:a,curveSegments:f};const x=[],S=[],I=[],k=[];let U=0,W=0;if(Array.isArray(a)===!1)K(a);else for(let q=0;q<a.length;q++)K(a[q]),this.addGroup(U,W,q),U+=W,W=0;this.setIndex(x),this.setAttribute("position",new Rr(S,3)),this.setAttribute("normal",new Rr(I,3)),this.setAttribute("uv",new Rr(k,2));function K(q){const ee=S.length/3,te=q.extractPoints(f);let ie=te.shape;const de=te.holes;sc.isClockWise(ie)===!1&&(ie=ie.reverse());for(let ae=0,Ie=de.length;ae<Ie;ae++){const He=de[ae];sc.isClockWise(He)===!0&&(de[ae]=He.reverse())}const le=sc.triangulateShape(ie,de);for(let ae=0,Ie=de.length;ae<Ie;ae++){const He=de[ae];ie=ie.concat(He)}for(let ae=0,Ie=ie.length;ae<Ie;ae++){const He=ie[ae];S.push(He.x,He.y,0),I.push(0,0,1),k.push(He.x,He.y)}for(let ae=0,Ie=le.length;ae<Ie;ae++){const He=le[ae],Ne=He[0]+ee,ze=He[1]+ee,Xe=He[2]+ee;x.push(Ne,ze,Xe),W+=3}}}toJSON(){const a=super.toJSON(),f=this.parameters.shapes;return oY(f,a)}static fromJSON(a,f){const x=[];for(let S=0,I=a.shapes.length;S<I;S++){const k=f[a.shapes[S]];x.push(k)}return new sv(x,a.curveSegments)}}function oY($,a){if(a.shapes=[],Array.isArray($))for(let f=0,x=$.length;f<x;f++){const S=$[f];a.shapes.push(S.uuid)}else a.shapes.push($.uuid);return a}class cp extends ci{constructor(a=1,f=32,x=16,S=0,I=Math.PI*2,k=0,U=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:a,widthSegments:f,heightSegments:x,phiStart:S,phiLength:I,thetaStart:k,thetaLength:U},f=Math.max(3,Math.floor(f)),x=Math.max(2,Math.floor(x));const W=Math.min(k+U,Math.PI);let K=0;const q=[],ee=new dt,te=new dt,ie=[],de=[],le=[],ae=[];for(let Ie=0;Ie<=x;Ie++){const He=[],Ne=Ie/x;let ze=0;Ie==0&&k==0?ze=.5/f:Ie==x&&W==Math.PI&&(ze=-.5/f);for(let Xe=0;Xe<=f;Xe++){const pt=Xe/f;ee.x=-a*Math.cos(S+pt*I)*Math.sin(k+Ne*U),ee.y=a*Math.cos(k+Ne*U),ee.z=a*Math.sin(S+pt*I)*Math.sin(k+Ne*U),de.push(ee.x,ee.y,ee.z),te.copy(ee).normalize(),le.push(te.x,te.y,te.z),ae.push(pt+ze,1-Ne),He.push(K++)}q.push(He)}for(let Ie=0;Ie<x;Ie++)for(let He=0;He<f;He++){const Ne=q[Ie][He+1],ze=q[Ie][He],Xe=q[Ie+1][He],pt=q[Ie+1][He+1];(Ie!==0||k>0)&&ie.push(Ne,ze,pt),(Ie!==x-1||W<Math.PI)&&ie.push(ze,Xe,pt)}this.setIndex(ie),this.setAttribute("position",new Rr(de,3)),this.setAttribute("normal",new Rr(le,3)),this.setAttribute("uv",new Rr(ae,2))}static fromJSON(a){return new cp(a.radius,a.widthSegments,a.heightSegments,a.phiStart,a.phiLength,a.thetaStart,a.thetaLength)}}class lv extends $c{constructor(a=1,f=0){const x=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],S=[2,1,0,0,3,2,1,3,0,2,3,1];super(x,S,a,f),this.type="TetrahedronGeometry",this.parameters={radius:a,detail:f}}static fromJSON(a){return new lv(a.radius,a.detail)}}class cv extends ci{constructor(a=1,f=.4,x=8,S=6,I=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:a,tube:f,radialSegments:x,tubularSegments:S,arc:I},x=Math.floor(x),S=Math.floor(S);const k=[],U=[],W=[],K=[],q=new dt,ee=new dt,te=new dt;for(let ie=0;ie<=x;ie++)for(let de=0;de<=S;de++){const le=de/S*I,ae=ie/x*Math.PI*2;ee.x=(a+f*Math.cos(ae))*Math.cos(le),ee.y=(a+f*Math.cos(ae))*Math.sin(le),ee.z=f*Math.sin(ae),U.push(ee.x,ee.y,ee.z),q.x=a*Math.cos(le),q.y=a*Math.sin(le),te.subVectors(ee,q).normalize(),W.push(te.x,te.y,te.z),K.push(de/S),K.push(ie/x)}for(let ie=1;ie<=x;ie++)for(let de=1;de<=S;de++){const le=(S+1)*ie+de-1,ae=(S+1)*(ie-1)+de-1,Ie=(S+1)*(ie-1)+de,He=(S+1)*ie+de;k.push(le,ae,He),k.push(ae,Ie,He)}this.setIndex(k),this.setAttribute("position",new Rr(U,3)),this.setAttribute("normal",new Rr(W,3)),this.setAttribute("uv",new Rr(K,2))}static fromJSON(a){return new cv(a.radius,a.tube,a.radialSegments,a.tubularSegments,a.arc)}}class uv extends ci{constructor(a=1,f=.4,x=64,S=8,I=2,k=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:a,tube:f,tubularSegments:x,radialSegments:S,p:I,q:k},x=Math.floor(x),S=Math.floor(S);const U=[],W=[],K=[],q=[],ee=new dt,te=new dt,ie=new dt,de=new dt,le=new dt,ae=new dt,Ie=new dt;for(let Ne=0;Ne<=x;++Ne){const ze=Ne/x*I*Math.PI*2;He(ze,I,k,a,ie),He(ze+.01,I,k,a,de),ae.subVectors(de,ie),Ie.addVectors(de,ie),le.crossVectors(ae,Ie),Ie.crossVectors(le,ae),le.normalize(),Ie.normalize();for(let Xe=0;Xe<=S;++Xe){const pt=Xe/S*Math.PI*2,Pt=-f*Math.cos(pt),Ge=f*Math.sin(pt);ee.x=ie.x+(Pt*Ie.x+Ge*le.x),ee.y=ie.y+(Pt*Ie.y+Ge*le.y),ee.z=ie.z+(Pt*Ie.z+Ge*le.z),W.push(ee.x,ee.y,ee.z),te.subVectors(ee,ie).normalize(),K.push(te.x,te.y,te.z),q.push(Ne/x),q.push(Xe/S)}}for(let Ne=1;Ne<=x;Ne++)for(let ze=1;ze<=S;ze++){const Xe=(S+1)*(Ne-1)+(ze-1),pt=(S+1)*Ne+(ze-1),Pt=(S+1)*Ne+ze,Ge=(S+1)*(Ne-1)+ze;U.push(Xe,pt,Ge),U.push(pt,Pt,Ge)}this.setIndex(U),this.setAttribute("position",new Rr(W,3)),this.setAttribute("normal",new Rr(K,3)),this.setAttribute("uv",new Rr(q,2));function He(Ne,ze,Xe,pt,Pt){const Ge=Math.cos(Ne),vt=Math.sin(Ne),_t=Xe/ze*Ne,Gt=Math.cos(_t);Pt.x=pt*(2+Gt)*.5*Ge,Pt.y=pt*(2+Gt)*vt*.5,Pt.z=pt*Math.sin(_t)*.5}}static fromJSON(a){return new uv(a.radius,a.tube,a.tubularSegments,a.radialSegments,a.p,a.q)}}class dv extends ci{constructor(a=new ES(new dt(-1,-1,0),new dt(-1,1,0),new dt(1,1,0)),f=64,x=1,S=8,I=!1){super(),this.type="TubeGeometry",this.parameters={path:a,tubularSegments:f,radius:x,radialSegments:S,closed:I};const k=a.computeFrenetFrames(f,I);this.tangents=k.tangents,this.normals=k.normals,this.binormals=k.binormals;const U=new dt,W=new dt,K=new In;let q=new dt;const ee=[],te=[],ie=[],de=[];le(),this.setIndex(de),this.setAttribute("position",new Rr(ee,3)),this.setAttribute("normal",new Rr(te,3)),this.setAttribute("uv",new Rr(ie,2));function le(){for(let Ne=0;Ne<f;Ne++)ae(Ne);ae(I===!1?f:0),He(),Ie()}function ae(Ne){q=a.getPointAt(Ne/f,q);const ze=k.normals[Ne],Xe=k.binormals[Ne];for(let pt=0;pt<=S;pt++){const Pt=pt/S*Math.PI*2,Ge=Math.sin(Pt),vt=-Math.cos(Pt);W.x=vt*ze.x+Ge*Xe.x,W.y=vt*ze.y+Ge*Xe.y,W.z=vt*ze.z+Ge*Xe.z,W.normalize(),te.push(W.x,W.y,W.z),U.x=q.x+x*W.x,U.y=q.y+x*W.y,U.z=q.z+x*W.z,ee.push(U.x,U.y,U.z)}}function Ie(){for(let Ne=1;Ne<=f;Ne++)for(let ze=1;ze<=S;ze++){const Xe=(S+1)*(Ne-1)+(ze-1),pt=(S+1)*Ne+(ze-1),Pt=(S+1)*Ne+ze,Ge=(S+1)*(Ne-1)+ze;de.push(Xe,pt,Ge),de.push(pt,Pt,Ge)}}function He(){for(let Ne=0;Ne<=f;Ne++)for(let ze=0;ze<=S;ze++)K.x=Ne/f,K.y=ze/S,ie.push(K.x,K.y)}}toJSON(){const a=super.toJSON();return a.path=this.parameters.path.toJSON(),a}static fromJSON(a){return new dv(new wS[a.path.type]().fromJSON(a.path),a.tubularSegments,a.radius,a.radialSegments,a.closed)}}class dO extends ci{constructor(a=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:a},a!==null){const f=[],x=new Set,S=new dt,I=new dt;if(a.index!==null){const k=a.attributes.position,U=a.index;let W=a.groups;W.length===0&&(W=[{start:0,count:U.count,materialIndex:0}]);for(let K=0,q=W.length;K<q;++K){const ee=W[K],te=ee.start,ie=ee.count;for(let de=te,le=te+ie;de<le;de+=3)for(let ae=0;ae<3;ae++){const Ie=U.getX(de+ae),He=U.getX(de+(ae+1)%3);S.fromBufferAttribute(k,Ie),I.fromBufferAttribute(k,He),fO(S,I,x)===!0&&(f.push(S.x,S.y,S.z),f.push(I.x,I.y,I.z))}}}else{const k=a.attributes.position;for(let U=0,W=k.count/3;U<W;U++)for(let K=0;K<3;K++){const q=3*U+K,ee=3*U+(K+1)%3;S.fromBufferAttribute(k,q),I.fromBufferAttribute(k,ee),fO(S,I,x)===!0&&(f.push(S.x,S.y,S.z),f.push(I.x,I.y,I.z))}}this.setAttribute("position",new Rr(f,3))}}}function fO($,a,f){const x=`${$.x},${$.y},${$.z}-${a.x},${a.y},${a.z}`,S=`${a.x},${a.y},${a.z}-${$.x},${$.y},${$.z}`;return f.has(x)===!0||f.has(S)===!0?!1:(f.add(x),f.add(S),!0)}var hO=Object.freeze({__proto__:null,BoxGeometry:Zu,CapsuleGeometry:Yg,CircleGeometry:Jg,ConeGeometry:Zg,CylinderGeometry:gf,DodecahedronGeometry:ev,EdgesGeometry:iO,ExtrudeGeometry:iv,IcosahedronGeometry:ov,LatheGeometry:ap,OctahedronGeometry:lp,PlaneGeometry:qh,PolyhedronGeometry:$c,RingGeometry:av,ShapeGeometry:sv,SphereGeometry:cp,TetrahedronGeometry:lv,TorusGeometry:cv,TorusKnotGeometry:uv,TubeGeometry:dv,WireframeGeometry:dO});class pO extends Ca{constructor(a){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new xr(0),this.transparent=!0,this.fog=!0,this.setValues(a)}copy(a){return super.copy(a),this.color.copy(a.color),this.fog=a.fog,this}}class mO extends oc{constructor(a){super(a),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class TS extends Ca{constructor(a){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new xr(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yn,this.normalScale=new In(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(a)}copy(a){return super.copy(a),this.defines={STANDARD:""},this.color.copy(a.color),this.roughness=a.roughness,this.metalness=a.metalness,this.map=a.map,this.lightMap=a.lightMap,this.lightMapIntensity=a.lightMapIntensity,this.aoMap=a.aoMap,this.aoMapIntensity=a.aoMapIntensity,this.emissive.copy(a.emissive),this.emissiveMap=a.emissiveMap,this.emissiveIntensity=a.emissiveIntensity,this.bumpMap=a.bumpMap,this.bumpScale=a.bumpScale,this.normalMap=a.normalMap,this.normalMapType=a.normalMapType,this.normalScale.copy(a.normalScale),this.displacementMap=a.displacementMap,this.displacementScale=a.displacementScale,this.displacementBias=a.displacementBias,this.roughnessMap=a.roughnessMap,this.metalnessMap=a.metalnessMap,this.alphaMap=a.alphaMap,this.envMap=a.envMap,this.envMapIntensity=a.envMapIntensity,this.wireframe=a.wireframe,this.wireframeLinewidth=a.wireframeLinewidth,this.wireframeLinecap=a.wireframeLinecap,this.wireframeLinejoin=a.wireframeLinejoin,this.flatShading=a.flatShading,this.fog=a.fog,this}}class gO extends TS{constructor(a){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new In(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return fo(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(f){this.ior=(1+.4*f)/(1-.4*f)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new xr(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new xr(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new xr(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(a)}get sheen(){return this._sheen}set sheen(a){this._sheen>0!=a>0&&this.version++,this._sheen=a}get clearcoat(){return this._clearcoat}set clearcoat(a){this._clearcoat>0!=a>0&&this.version++,this._clearcoat=a}get iridescence(){return this._iridescence}set iridescence(a){this._iridescence>0!=a>0&&this.version++,this._iridescence=a}get transmission(){return this._transmission}set transmission(a){this._transmission>0!=a>0&&this.version++,this._transmission=a}copy(a){return super.copy(a),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=a.clearcoat,this.clearcoatMap=a.clearcoatMap,this.clearcoatRoughness=a.clearcoatRoughness,this.clearcoatRoughnessMap=a.clearcoatRoughnessMap,this.clearcoatNormalMap=a.clearcoatNormalMap,this.clearcoatNormalScale.copy(a.clearcoatNormalScale),this.ior=a.ior,this.iridescence=a.iridescence,this.iridescenceMap=a.iridescenceMap,this.iridescenceIOR=a.iridescenceIOR,this.iridescenceThicknessRange=[...a.iridescenceThicknessRange],this.iridescenceThicknessMap=a.iridescenceThicknessMap,this.sheen=a.sheen,this.sheenColor.copy(a.sheenColor),this.sheenColorMap=a.sheenColorMap,this.sheenRoughness=a.sheenRoughness,this.sheenRoughnessMap=a.sheenRoughnessMap,this.transmission=a.transmission,this.transmissionMap=a.transmissionMap,this.thickness=a.thickness,this.thicknessMap=a.thicknessMap,this.attenuationDistance=a.attenuationDistance,this.attenuationColor.copy(a.attenuationColor),this.specularIntensity=a.specularIntensity,this.specularIntensityMap=a.specularIntensityMap,this.specularColor.copy(a.specularColor),this.specularColorMap=a.specularColorMap,this}}class vO extends Ca{constructor(a){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new xr(16777215),this.specular=new xr(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yn,this.normalScale=new In(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Et,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(a)}copy(a){return super.copy(a),this.color.copy(a.color),this.specular.copy(a.specular),this.shininess=a.shininess,this.map=a.map,this.lightMap=a.lightMap,this.lightMapIntensity=a.lightMapIntensity,this.aoMap=a.aoMap,this.aoMapIntensity=a.aoMapIntensity,this.emissive.copy(a.emissive),this.emissiveMap=a.emissiveMap,this.emissiveIntensity=a.emissiveIntensity,this.bumpMap=a.bumpMap,this.bumpScale=a.bumpScale,this.normalMap=a.normalMap,this.normalMapType=a.normalMapType,this.normalScale.copy(a.normalScale),this.displacementMap=a.displacementMap,this.displacementScale=a.displacementScale,this.displacementBias=a.displacementBias,this.specularMap=a.specularMap,this.alphaMap=a.alphaMap,this.envMap=a.envMap,this.combine=a.combine,this.reflectivity=a.reflectivity,this.refractionRatio=a.refractionRatio,this.wireframe=a.wireframe,this.wireframeLinewidth=a.wireframeLinewidth,this.wireframeLinecap=a.wireframeLinecap,this.wireframeLinejoin=a.wireframeLinejoin,this.flatShading=a.flatShading,this.fog=a.fog,this}}class AO extends Ca{constructor(a){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new xr(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yn,this.normalScale=new In(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(a)}copy(a){return super.copy(a),this.color.copy(a.color),this.map=a.map,this.gradientMap=a.gradientMap,this.lightMap=a.lightMap,this.lightMapIntensity=a.lightMapIntensity,this.aoMap=a.aoMap,this.aoMapIntensity=a.aoMapIntensity,this.emissive.copy(a.emissive),this.emissiveMap=a.emissiveMap,this.emissiveIntensity=a.emissiveIntensity,this.bumpMap=a.bumpMap,this.bumpScale=a.bumpScale,this.normalMap=a.normalMap,this.normalMapType=a.normalMapType,this.normalScale.copy(a.normalScale),this.displacementMap=a.displacementMap,this.displacementScale=a.displacementScale,this.displacementBias=a.displacementBias,this.alphaMap=a.alphaMap,this.wireframe=a.wireframe,this.wireframeLinewidth=a.wireframeLinewidth,this.wireframeLinecap=a.wireframeLinecap,this.wireframeLinejoin=a.wireframeLinejoin,this.fog=a.fog,this}}class yO extends Ca{constructor(a){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yn,this.normalScale=new In(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(a)}copy(a){return super.copy(a),this.bumpMap=a.bumpMap,this.bumpScale=a.bumpScale,this.normalMap=a.normalMap,this.normalMapType=a.normalMapType,this.normalScale.copy(a.normalScale),this.displacementMap=a.displacementMap,this.displacementScale=a.displacementScale,this.displacementBias=a.displacementBias,this.wireframe=a.wireframe,this.wireframeLinewidth=a.wireframeLinewidth,this.flatShading=a.flatShading,this}}class bO extends Ca{constructor(a){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new xr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yn,this.normalScale=new In(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Et,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(a)}copy(a){return super.copy(a),this.color.copy(a.color),this.map=a.map,this.lightMap=a.lightMap,this.lightMapIntensity=a.lightMapIntensity,this.aoMap=a.aoMap,this.aoMapIntensity=a.aoMapIntensity,this.emissive.copy(a.emissive),this.emissiveMap=a.emissiveMap,this.emissiveIntensity=a.emissiveIntensity,this.bumpMap=a.bumpMap,this.bumpScale=a.bumpScale,this.normalMap=a.normalMap,this.normalMapType=a.normalMapType,this.normalScale.copy(a.normalScale),this.displacementMap=a.displacementMap,this.displacementScale=a.displacementScale,this.displacementBias=a.displacementBias,this.specularMap=a.specularMap,this.alphaMap=a.alphaMap,this.envMap=a.envMap,this.combine=a.combine,this.reflectivity=a.reflectivity,this.refractionRatio=a.refractionRatio,this.wireframe=a.wireframe,this.wireframeLinewidth=a.wireframeLinewidth,this.wireframeLinecap=a.wireframeLinecap,this.wireframeLinejoin=a.wireframeLinejoin,this.flatShading=a.flatShading,this.fog=a.fog,this}}class xO extends Ca{constructor(a){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new xr(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yn,this.normalScale=new In(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(a)}copy(a){return super.copy(a),this.defines={MATCAP:""},this.color.copy(a.color),this.matcap=a.matcap,this.map=a.map,this.bumpMap=a.bumpMap,this.bumpScale=a.bumpScale,this.normalMap=a.normalMap,this.normalMapType=a.normalMapType,this.normalScale.copy(a.normalScale),this.displacementMap=a.displacementMap,this.displacementScale=a.displacementScale,this.displacementBias=a.displacementBias,this.alphaMap=a.alphaMap,this.flatShading=a.flatShading,this.fog=a.fog,this}}class EO extends Ua{constructor(a){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(a)}copy(a){return super.copy(a),this.scale=a.scale,this.dashSize=a.dashSize,this.gapSize=a.gapSize,this}}function Vs($,a,f){return RS($)?new $.constructor($.subarray(a,f!==void 0?f:$.length)):$.slice(a,f)}function yf($,a,f){return!$||!f&&$.constructor===a?$:typeof a.BYTES_PER_ELEMENT=="number"?new a($):Array.prototype.slice.call($)}function RS($){return ArrayBuffer.isView($)&&!($ instanceof DataView)}function CO($){function a(S,I){return $[S]-$[I]}const f=$.length,x=new Array(f);for(let S=0;S!==f;++S)x[S]=S;return x.sort(a),x}function IS($,a,f){const x=$.length,S=new $.constructor(x);for(let I=0,k=0;k!==x;++I){const U=f[I]*a;for(let W=0;W!==a;++W)S[k++]=$[U+W]}return S}function PS($,a,f,x){let S=1,I=$[0];for(;I!==void 0&&I[x]===void 0;)I=$[S++];if(I===void 0)return;let k=I[x];if(k!==void 0)if(Array.isArray(k))do k=I[x],k!==void 0&&(a.push(I.time),f.push.apply(f,k)),I=$[S++];while(I!==void 0);else if(k.toArray!==void 0)do k=I[x],k!==void 0&&(a.push(I.time),k.toArray(f,f.length)),I=$[S++];while(I!==void 0);else do k=I[x],k!==void 0&&(a.push(I.time),f.push(k)),I=$[S++];while(I!==void 0)}function aY($,a,f,x,S=30){const I=$.clone();I.name=a;const k=[];for(let W=0;W<I.tracks.length;++W){const K=I.tracks[W],q=K.getValueSize(),ee=[],te=[];for(let ie=0;ie<K.times.length;++ie){const de=K.times[ie]*S;if(!(de<f||de>=x)){ee.push(K.times[ie]);for(let le=0;le<q;++le)te.push(K.values[ie*q+le])}}ee.length!==0&&(K.times=yf(ee,K.times.constructor),K.values=yf(te,K.values.constructor),k.push(K))}I.tracks=k;let U=1/0;for(let W=0;W<I.tracks.length;++W)U>I.tracks[W].times[0]&&(U=I.tracks[W].times[0]);for(let W=0;W<I.tracks.length;++W)I.tracks[W].shift(-1*U);return I.resetDuration(),I}function sY($,a=0,f=$,x=30){x<=0&&(x=30);const S=f.tracks.length,I=a/x;for(let k=0;k<S;++k){const U=f.tracks[k],W=U.ValueTypeName;if(W==="bool"||W==="string")continue;const K=$.tracks.find(function(Ie){return Ie.name===U.name&&Ie.ValueTypeName===W});if(K===void 0)continue;let q=0;const ee=U.getValueSize();U.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(q=ee/3);let te=0;const ie=K.getValueSize();K.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(te=ie/3);const de=U.times.length-1;let le;if(I<=U.times[0]){const Ie=q,He=ee-q;le=Vs(U.values,Ie,He)}else if(I>=U.times[de]){const Ie=de*ee+q,He=Ie+ee-q;le=Vs(U.values,Ie,He)}else{const Ie=U.createInterpolant(),He=q,Ne=ee-q;Ie.evaluate(I),le=Vs(Ie.resultBuffer,He,Ne)}W==="quaternion"&&new fa().fromArray(le).normalize().conjugate().toArray(le);const ae=K.times.length;for(let Ie=0;Ie<ae;++Ie){const He=Ie*ie+te;if(W==="quaternion")fa.multiplyQuaternionsFlat(K.values,He,le,0,K.values,He);else{const Ne=ie-te*2;for(let ze=0;ze<Ne;++ze)K.values[He+ze]-=le[ze]}}}return $.blendMode=dn,$}var lY=Object.freeze({__proto__:null,arraySlice:Vs,convertArray:yf,isTypedArray:RS,getKeyframeOrder:CO,sortedArray:IS,flattenJSON:PS,subclip:aY,makeClipAdditive:sY});class fv{constructor(a,f,x,S){this.parameterPositions=a,this._cachedIndex=0,this.resultBuffer=S!==void 0?S:new f.constructor(x),this.sampleValues=f,this.valueSize=x,this.settings=null,this.DefaultSettings_={}}evaluate(a){const f=this.parameterPositions;let x=this._cachedIndex,S=f[x],I=f[x-1];e:{t:{let k;n:{r:if(!(a<S)){for(let U=x+2;;){if(S===void 0){if(a<I)break r;return x=f.length,this._cachedIndex=x,this.copySampleValue_(x-1)}if(x===U)break;if(I=S,S=f[++x],a<S)break t}k=f.length;break n}if(!(a>=I)){const U=f[1];a<U&&(x=2,I=U);for(let W=x-2;;){if(I===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(x===W)break;if(S=I,I=f[--x-1],a>=I)break t}k=x,x=0;break n}break e}for(;x<k;){const U=x+k>>>1;a<f[U]?k=U:x=U+1}if(S=f[x],I=f[x-1],I===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(S===void 0)return x=f.length,this._cachedIndex=x,this.copySampleValue_(x-1)}this._cachedIndex=x,this.intervalChanged_(x,I,S)}return this.interpolate_(x,I,a,S)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(a){const f=this.resultBuffer,x=this.sampleValues,S=this.valueSize,I=a*S;for(let k=0;k!==S;++k)f[k]=x[I+k];return f}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class wO extends fv{constructor(a,f,x,S){super(a,f,x,S),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Le,endingEnd:Le}}intervalChanged_(a,f,x){const S=this.parameterPositions;let I=a-2,k=a+1,U=S[I],W=S[k];if(U===void 0)switch(this.getSettings_().endingStart){case yt:I=a,U=2*f-x;break;case Ft:I=S.length-2,U=f+S[I]-S[I+1];break;default:I=a,U=x}if(W===void 0)switch(this.getSettings_().endingEnd){case yt:k=a,W=2*x-f;break;case Ft:k=1,W=x+S[1]-S[0];break;default:k=a-1,W=f}const K=(x-f)*.5,q=this.valueSize;this._weightPrev=K/(f-U),this._weightNext=K/(W-x),this._offsetPrev=I*q,this._offsetNext=k*q}interpolate_(a,f,x,S){const I=this.resultBuffer,k=this.sampleValues,U=this.valueSize,W=a*U,K=W-U,q=this._offsetPrev,ee=this._offsetNext,te=this._weightPrev,ie=this._weightNext,de=(x-f)/(S-f),le=de*de,ae=le*de,Ie=-te*ae+2*te*le-te*de,He=(1+te)*ae+(-1.5-2*te)*le+(-.5+te)*de+1,Ne=(-1-ie)*ae+(1.5+ie)*le+.5*de,ze=ie*ae-ie*le;for(let Xe=0;Xe!==U;++Xe)I[Xe]=Ie*k[q+Xe]+He*k[K+Xe]+Ne*k[W+Xe]+ze*k[ee+Xe];return I}}class LS extends fv{constructor(a,f,x,S){super(a,f,x,S)}interpolate_(a,f,x,S){const I=this.resultBuffer,k=this.sampleValues,U=this.valueSize,W=a*U,K=W-U,q=(x-f)/(S-f),ee=1-q;for(let te=0;te!==U;++te)I[te]=k[K+te]*ee+k[W+te]*q;return I}}class SO extends fv{constructor(a,f,x,S){super(a,f,x,S)}interpolate_(a){return this.copySampleValue_(a-1)}}class El{constructor(a,f,x,S){if(a===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(f===void 0||f.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+a);this.name=a,this.times=yf(f,this.TimeBufferType),this.values=yf(x,this.ValueBufferType),this.setInterpolation(S||this.DefaultInterpolation)}static toJSON(a){const f=a.constructor;let x;if(f.toJSON!==this.toJSON)x=f.toJSON(a);else{x={name:a.name,times:yf(a.times,Array),values:yf(a.values,Array)};const S=a.getInterpolation();S!==a.DefaultInterpolation&&(x.interpolation=S)}return x.type=a.ValueTypeName,x}InterpolantFactoryMethodDiscrete(a){return new SO(this.times,this.values,this.getValueSize(),a)}InterpolantFactoryMethodLinear(a){return new LS(this.times,this.values,this.getValueSize(),a)}InterpolantFactoryMethodSmooth(a){return new wO(this.times,this.values,this.getValueSize(),a)}setInterpolation(a){let f;switch(a){case be:f=this.InterpolantFactoryMethodDiscrete;break;case Ee:f=this.InterpolantFactoryMethodLinear;break;case Te:f=this.InterpolantFactoryMethodSmooth;break}if(f===void 0){const x="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(a!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(x);return console.warn("THREE.KeyframeTrack:",x),this}return this.createInterpolant=f,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return be;case this.InterpolantFactoryMethodLinear:return Ee;case this.InterpolantFactoryMethodSmooth:return Te}}getValueSize(){return this.values.length/this.times.length}shift(a){if(a!==0){const f=this.times;for(let x=0,S=f.length;x!==S;++x)f[x]+=a}return this}scale(a){if(a!==1){const f=this.times;for(let x=0,S=f.length;x!==S;++x)f[x]*=a}return this}trim(a,f){const x=this.times,S=x.length;let I=0,k=S-1;for(;I!==S&&x[I]<a;)++I;for(;k!==-1&&x[k]>f;)--k;if(++k,I!==0||k!==S){I>=k&&(k=Math.max(k,1),I=k-1);const U=this.getValueSize();this.times=Vs(x,I,k),this.values=Vs(this.values,I*U,k*U)}return this}validate(){let a=!0;const f=this.getValueSize();f-Math.floor(f)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),a=!1);const x=this.times,S=this.values,I=x.length;I===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),a=!1);let k=null;for(let U=0;U!==I;U++){const W=x[U];if(typeof W=="number"&&isNaN(W)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,U,W),a=!1;break}if(k!==null&&k>W){console.error("THREE.KeyframeTrack: Out of order keys.",this,U,W,k),a=!1;break}k=W}if(S!==void 0&&RS(S))for(let U=0,W=S.length;U!==W;++U){const K=S[U];if(isNaN(K)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,U,K),a=!1;break}}return a}optimize(){const a=Vs(this.times),f=Vs(this.values),x=this.getValueSize(),S=this.getInterpolation()===Te,I=a.length-1;let k=1;for(let U=1;U<I;++U){let W=!1;const K=a[U],q=a[U+1];if(K!==q&&(U!==1||K!==a[0]))if(S)W=!0;else{const ee=U*x,te=ee-x,ie=ee+x;for(let de=0;de!==x;++de){const le=f[ee+de];if(le!==f[te+de]||le!==f[ie+de]){W=!0;break}}}if(W){if(U!==k){a[k]=a[U];const ee=U*x,te=k*x;for(let ie=0;ie!==x;++ie)f[te+ie]=f[ee+ie]}++k}}if(I>0){a[k]=a[I];for(let U=I*x,W=k*x,K=0;K!==x;++K)f[W+K]=f[U+K];++k}return k!==a.length?(this.times=Vs(a,0,k),this.values=Vs(f,0,k*x)):(this.times=a,this.values=f),this}clone(){const a=Vs(this.times,0),f=Vs(this.values,0),x=this.constructor,S=new x(this.name,a,f);return S.createInterpolant=this.createInterpolant,S}}El.prototype.TimeBufferType=Float32Array,El.prototype.ValueBufferType=Float32Array,El.prototype.DefaultInterpolation=Ee;class bf extends El{}bf.prototype.ValueTypeName="bool",bf.prototype.ValueBufferType=Array,bf.prototype.DefaultInterpolation=be,bf.prototype.InterpolantFactoryMethodLinear=void 0,bf.prototype.InterpolantFactoryMethodSmooth=void 0;class BS extends El{}BS.prototype.ValueTypeName="color";class hv extends El{}hv.prototype.ValueTypeName="number";class _O extends fv{constructor(a,f,x,S){super(a,f,x,S)}interpolate_(a,f,x,S){const I=this.resultBuffer,k=this.sampleValues,U=this.valueSize,W=(x-f)/(S-f);let K=a*U;for(let q=K+U;K!==q;K+=4)fa.slerpFlat(I,0,k,K-U,k,K,W);return I}}class up extends El{InterpolantFactoryMethodLinear(a){return new _O(this.times,this.values,this.getValueSize(),a)}}up.prototype.ValueTypeName="quaternion",up.prototype.DefaultInterpolation=Ee,up.prototype.InterpolantFactoryMethodSmooth=void 0;class xf extends El{}xf.prototype.ValueTypeName="string",xf.prototype.ValueBufferType=Array,xf.prototype.DefaultInterpolation=be,xf.prototype.InterpolantFactoryMethodLinear=void 0,xf.prototype.InterpolantFactoryMethodSmooth=void 0;class pv extends El{}pv.prototype.ValueTypeName="vector";class mv{constructor(a,f=-1,x,S=en){this.name=a,this.tracks=x,this.duration=f,this.blendMode=S,this.uuid=Da(),this.duration<0&&this.resetDuration()}static parse(a){const f=[],x=a.tracks,S=1/(a.fps||1);for(let k=0,U=x.length;k!==U;++k)f.push(uY(x[k]).scale(S));const I=new this(a.name,a.duration,f,a.blendMode);return I.uuid=a.uuid,I}static toJSON(a){const f=[],x=a.tracks,S={name:a.name,duration:a.duration,tracks:f,uuid:a.uuid,blendMode:a.blendMode};for(let I=0,k=x.length;I!==k;++I)f.push(El.toJSON(x[I]));return S}static CreateFromMorphTargetSequence(a,f,x,S){const I=f.length,k=[];for(let U=0;U<I;U++){let W=[],K=[];W.push((U+I-1)%I,U,(U+1)%I),K.push(0,1,0);const q=CO(W);W=IS(W,1,q),K=IS(K,1,q),!S&&W[0]===0&&(W.push(I),K.push(K[0])),k.push(new hv(".morphTargetInfluences["+f[U].name+"]",W,K).scale(1/x))}return new this(a,-1,k)}static findByName(a,f){let x=a;if(!Array.isArray(a)){const S=a;x=S.geometry&&S.geometry.animations||S.animations}for(let S=0;S<x.length;S++)if(x[S].name===f)return x[S];return null}static CreateClipsFromMorphTargetSequences(a,f,x){const S={},I=/^([\w-]*?)([\d]+)$/;for(let U=0,W=a.length;U<W;U++){const K=a[U],q=K.name.match(I);if(q&&q.length>1){const ee=q[1];let te=S[ee];te||(S[ee]=te=[]),te.push(K)}}const k=[];for(const U in S)k.push(this.CreateFromMorphTargetSequence(U,S[U],f,x));return k}static parseAnimation(a,f){if(!a)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const x=function(ee,te,ie,de,le){if(ie.length!==0){const ae=[],Ie=[];PS(ie,ae,Ie,de),ae.length!==0&&le.push(new ee(te,ae,Ie))}},S=[],I=a.name||"default",k=a.fps||30,U=a.blendMode;let W=a.length||-1;const K=a.hierarchy||[];for(let ee=0;ee<K.length;ee++){const te=K[ee].keys;if(!(!te||te.length===0))if(te[0].morphTargets){const ie={};let de;for(de=0;de<te.length;de++)if(te[de].morphTargets)for(let le=0;le<te[de].morphTargets.length;le++)ie[te[de].morphTargets[le]]=-1;for(const le in ie){const ae=[],Ie=[];for(let He=0;He!==te[de].morphTargets.length;++He){const Ne=te[de];ae.push(Ne.time),Ie.push(Ne.morphTarget===le?1:0)}S.push(new hv(".morphTargetInfluence["+le+"]",ae,Ie))}W=ie.length*k}else{const ie=".bones["+f[ee].name+"]";x(pv,ie+".position",te,"pos",S),x(up,ie+".quaternion",te,"rot",S),x(pv,ie+".scale",te,"scl",S)}}return S.length===0?null:new this(I,W,S,U)}resetDuration(){const a=this.tracks;let f=0;for(let x=0,S=a.length;x!==S;++x){const I=this.tracks[x];f=Math.max(f,I.times[I.times.length-1])}return this.duration=f,this}trim(){for(let a=0;a<this.tracks.length;a++)this.tracks[a].trim(0,this.duration);return this}validate(){let a=!0;for(let f=0;f<this.tracks.length;f++)a=a&&this.tracks[f].validate();return a}optimize(){for(let a=0;a<this.tracks.length;a++)this.tracks[a].optimize();return this}clone(){const a=[];for(let f=0;f<this.tracks.length;f++)a.push(this.tracks[f].clone());return new this.constructor(this.name,this.duration,a,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function cY($){switch($.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return hv;case"vector":case"vector2":case"vector3":case"vector4":return pv;case"color":return BS;case"quaternion":return up;case"bool":case"boolean":return bf;case"string":return xf}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+$)}function uY($){if($.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const a=cY($.type);if($.times===void 0){const f=[],x=[];PS($.keys,f,x,"value"),$.times=f,$.values=x}return a.parse!==void 0?a.parse($):new a($.name,$.times,$.values,$.interpolation)}const Ef={enabled:!1,files:{},add:function($,a){this.enabled!==!1&&(this.files[$]=a)},get:function($){if(this.enabled!==!1)return this.files[$]},remove:function($){delete this.files[$]},clear:function(){this.files={}}};class OS{constructor(a,f,x){const S=this;let I=!1,k=0,U=0,W;const K=[];this.onStart=void 0,this.onLoad=a,this.onProgress=f,this.onError=x,this.itemStart=function(q){U++,I===!1&&S.onStart!==void 0&&S.onStart(q,k,U),I=!0},this.itemEnd=function(q){k++,S.onProgress!==void 0&&S.onProgress(q,k,U),k===U&&(I=!1,S.onLoad!==void 0&&S.onLoad())},this.itemError=function(q){S.onError!==void 0&&S.onError(q)},this.resolveURL=function(q){return W?W(q):q},this.setURLModifier=function(q){return W=q,this},this.addHandler=function(q,ee){return K.push(q,ee),this},this.removeHandler=function(q){const ee=K.indexOf(q);return ee!==-1&&K.splice(ee,2),this},this.getHandler=function(q){for(let ee=0,te=K.length;ee<te;ee+=2){const ie=K[ee],de=K[ee+1];if(ie.global&&(ie.lastIndex=0),ie.test(q))return de}return null}}}const MO=new OS;class ys{constructor(a){this.manager=a!==void 0?a:MO,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(a,f){const x=this;return new Promise(function(S,I){x.load(a,S,f,I)})}parse(){}setCrossOrigin(a){return this.crossOrigin=a,this}setWithCredentials(a){return this.withCredentials=a,this}setPath(a){return this.path=a,this}setResourcePath(a){return this.resourcePath=a,this}setRequestHeader(a){return this.requestHeader=a,this}}const Hc={};class dY extends Error{constructor(a,f){super(a),this.response=f}}class jc extends ys{constructor(a){super(a)}load(a,f,x,S){a===void 0&&(a=""),this.path!==void 0&&(a=this.path+a),a=this.manager.resolveURL(a);const I=Ef.get(a);if(I!==void 0)return this.manager.itemStart(a),setTimeout(()=>{f&&f(I),this.manager.itemEnd(a)},0),I;if(Hc[a]!==void 0){Hc[a].push({onLoad:f,onProgress:x,onError:S});return}Hc[a]=[],Hc[a].push({onLoad:f,onProgress:x,onError:S});const k=new Request(a,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),U=this.mimeType,W=this.responseType;fetch(k).then(K=>{if(K.status===200||K.status===0){if(K.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||K.body===void 0||K.body.getReader===void 0)return K;const q=Hc[a],ee=K.body.getReader(),te=K.headers.get("Content-Length")||K.headers.get("X-File-Size"),ie=te?parseInt(te):0,de=ie!==0;let le=0;const ae=new ReadableStream({start(Ie){He();function He(){ee.read().then(({done:Ne,value:ze})=>{if(Ne)Ie.close();else{le+=ze.byteLength;const Xe=new ProgressEvent("progress",{lengthComputable:de,loaded:le,total:ie});for(let pt=0,Pt=q.length;pt<Pt;pt++){const Ge=q[pt];Ge.onProgress&&Ge.onProgress(Xe)}Ie.enqueue(ze),He()}})}}});return new Response(ae)}else throw new dY(`fetch for "${K.url}" responded with ${K.status}: ${K.statusText}`,K)}).then(K=>{switch(W){case"arraybuffer":return K.arrayBuffer();case"blob":return K.blob();case"document":return K.text().then(q=>new DOMParser().parseFromString(q,U));case"json":return K.json();default:if(U===void 0)return K.text();{const ee=/charset="?([^;"\s]*)"?/i.exec(U),te=ee&&ee[1]?ee[1].toLowerCase():void 0,ie=new TextDecoder(te);return K.arrayBuffer().then(de=>ie.decode(de))}}}).then(K=>{Ef.add(a,K);const q=Hc[a];delete Hc[a];for(let ee=0,te=q.length;ee<te;ee++){const ie=q[ee];ie.onLoad&&ie.onLoad(K)}}).catch(K=>{const q=Hc[a];if(q===void 0)throw this.manager.itemError(a),K;delete Hc[a];for(let ee=0,te=q.length;ee<te;ee++){const ie=q[ee];ie.onError&&ie.onError(K)}this.manager.itemError(a)}).finally(()=>{this.manager.itemEnd(a)}),this.manager.itemStart(a)}setResponseType(a){return this.responseType=a,this}setMimeType(a){return this.mimeType=a,this}}class fY extends ys{constructor(a){super(a)}load(a,f,x,S){const I=this,k=new jc(this.manager);k.setPath(this.path),k.setRequestHeader(this.requestHeader),k.setWithCredentials(this.withCredentials),k.load(a,function(U){try{f(I.parse(JSON.parse(U)))}catch(W){S?S(W):console.error(W),I.manager.itemError(a)}},x,S)}parse(a){const f=[];for(let x=0;x<a.length;x++){const S=mv.parse(a[x]);f.push(S)}return f}}class hY extends ys{constructor(a){super(a)}load(a,f,x,S){const I=this,k=[],U=new mS,W=new jc(this.manager);W.setPath(this.path),W.setResponseType("arraybuffer"),W.setRequestHeader(this.requestHeader),W.setWithCredentials(I.withCredentials);let K=0;function q(ee){W.load(a[ee],function(te){const ie=I.parse(te,!0);k[ee]={width:ie.width,height:ie.height,format:ie.format,mipmaps:ie.mipmaps},K+=1,K===6&&(ie.mipmapCount===1&&(U.minFilter=ve),U.image=k,U.format=ie.format,U.needsUpdate=!0,f&&f(U))},x,S)}if(Array.isArray(a))for(let ee=0,te=a.length;ee<te;++ee)q(ee);else W.load(a,function(ee){const te=I.parse(ee,!0);if(te.isCubemap){const ie=te.mipmaps.length/te.mipmapCount;for(let de=0;de<ie;de++){k[de]={mipmaps:[]};for(let le=0;le<te.mipmapCount;le++)k[de].mipmaps.push(te.mipmaps[de*te.mipmapCount+le]),k[de].format=te.format,k[de].width=te.width,k[de].height=te.height}U.image=k}else U.image.width=te.width,U.image.height=te.height,U.mipmaps=te.mipmaps;te.mipmapCount===1&&(U.minFilter=ve),U.format=te.format,U.needsUpdate=!0,f&&f(U)},x,S);return U}}class gv extends ys{constructor(a){super(a)}load(a,f,x,S){this.path!==void 0&&(a=this.path+a),a=this.manager.resolveURL(a);const I=this,k=Ef.get(a);if(k!==void 0)return I.manager.itemStart(a),setTimeout(function(){f&&f(k),I.manager.itemEnd(a)},0),k;const U=sf("img");function W(){q(),Ef.add(a,this),f&&f(this),I.manager.itemEnd(a)}function K(ee){q(),S&&S(ee),I.manager.itemError(a),I.manager.itemEnd(a)}function q(){U.removeEventListener("load",W,!1),U.removeEventListener("error",K,!1)}return U.addEventListener("load",W,!1),U.addEventListener("error",K,!1),a.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(U.crossOrigin=this.crossOrigin),I.manager.itemStart(a),U.src=a,U}}class pY extends ys{constructor(a){super(a)}load(a,f,x,S){const I=new Hg,k=new gv(this.manager);k.setCrossOrigin(this.crossOrigin),k.setPath(this.path);let U=0;function W(K){k.load(a[K],function(q){I.images[K]=q,U++,U===6&&(I.needsUpdate=!0,f&&f(I))},void 0,S)}for(let K=0;K<a.length;++K)W(K);return I}}class mY extends ys{constructor(a){super(a)}load(a,f,x,S){const I=this,k=new ip,U=new jc(this.manager);return U.setResponseType("arraybuffer"),U.setRequestHeader(this.requestHeader),U.setPath(this.path),U.setWithCredentials(I.withCredentials),U.load(a,function(W){const K=I.parse(W);K&&(K.image!==void 0?k.image=K.image:K.data!==void 0&&(k.image.width=K.width,k.image.height=K.height,k.image.data=K.data),k.wrapS=K.wrapS!==void 0?K.wrapS:Ue,k.wrapT=K.wrapT!==void 0?K.wrapT:Ue,k.magFilter=K.magFilter!==void 0?K.magFilter:ve,k.minFilter=K.minFilter!==void 0?K.minFilter:ve,k.anisotropy=K.anisotropy!==void 0?K.anisotropy:1,K.encoding!==void 0&&(k.encoding=K.encoding),K.flipY!==void 0&&(k.flipY=K.flipY),K.format!==void 0&&(k.format=K.format),K.type!==void 0&&(k.type=K.type),K.mipmaps!==void 0&&(k.mipmaps=K.mipmaps,k.minFilter=Ze),K.mipmapCount===1&&(k.minFilter=ve),K.generateMipmaps!==void 0&&(k.generateMipmaps=K.generateMipmaps),k.needsUpdate=!0,f&&f(k,K))},x,S),k}}class gY extends ys{constructor(a){super(a)}load(a,f,x,S){const I=new ho,k=new gv(this.manager);return k.setCrossOrigin(this.crossOrigin),k.setPath(this.path),k.load(a,function(U){I.image=U,I.needsUpdate=!0,f!==void 0&&f(I)},x,S),I}}class nd extends bi{constructor(a,f=1){super(),this.isLight=!0,this.type="Light",this.color=new xr(a),this.intensity=f}dispose(){}copy(a,f){return super.copy(a,f),this.color.copy(a.color),this.intensity=a.intensity,this}toJSON(a){const f=super.toJSON(a);return f.object.color=this.color.getHex(),f.object.intensity=this.intensity,this.groundColor!==void 0&&(f.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(f.object.distance=this.distance),this.angle!==void 0&&(f.object.angle=this.angle),this.decay!==void 0&&(f.object.decay=this.decay),this.penumbra!==void 0&&(f.object.penumbra=this.penumbra),this.shadow!==void 0&&(f.object.shadow=this.shadow.toJSON()),f}}class TO extends nd{constructor(a,f,x){super(a,x),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(bi.DefaultUp),this.updateMatrix(),this.groundColor=new xr(f)}copy(a,f){return super.copy(a,f),this.groundColor.copy(a.groundColor),this}}const DS=new _r,RO=new dt,IO=new dt;class NS{constructor(a){this.camera=a,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new In(512,512),this.map=null,this.mapPass=null,this.matrix=new _r,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new By,this._frameExtents=new In(1,1),this._viewportCount=1,this._viewports=[new Si(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(a){const f=this.camera,x=this.matrix;RO.setFromMatrixPosition(a.matrixWorld),f.position.copy(RO),IO.setFromMatrixPosition(a.target.matrixWorld),f.lookAt(IO),f.updateMatrixWorld(),DS.multiplyMatrices(f.projectionMatrix,f.matrixWorldInverse),this._frustum.setFromProjectionMatrix(DS),x.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),x.multiply(DS)}getViewport(a){return this._viewports[a]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(a){return this.camera=a.camera.clone(),this.bias=a.bias,this.radius=a.radius,this.mapSize.copy(a.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const a={};return this.bias!==0&&(a.bias=this.bias),this.normalBias!==0&&(a.normalBias=this.normalBias),this.radius!==1&&(a.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(a.mapSize=this.mapSize.toArray()),a.camera=this.camera.toJSON(!1).object,delete a.camera.matrix,a}}class vY extends NS{constructor(){super(new zo(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(a){const f=this.camera,x=of*2*a.angle*this.focus,S=this.mapSize.width/this.mapSize.height,I=a.distance||f.far;(x!==f.fov||S!==f.aspect||I!==f.far)&&(f.fov=x,f.aspect=S,f.far=I,f.updateProjectionMatrix()),super.updateMatrices(a)}copy(a){return super.copy(a),this.focus=a.focus,this}}class PO extends nd{constructor(a,f,x=0,S=Math.PI/3,I=0,k=2){super(a,f),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(bi.DefaultUp),this.updateMatrix(),this.target=new bi,this.distance=x,this.angle=S,this.penumbra=I,this.decay=k,this.map=null,this.shadow=new vY}get power(){return this.intensity*Math.PI}set power(a){this.intensity=a/Math.PI}dispose(){this.shadow.dispose()}copy(a,f){return super.copy(a,f),this.distance=a.distance,this.angle=a.angle,this.penumbra=a.penumbra,this.decay=a.decay,this.target=a.target.clone(),this.shadow=a.shadow.clone(),this}}const LO=new _r,vv=new dt,kS=new dt;class AY extends NS{constructor(){super(new zo(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new In(4,2),this._viewportCount=6,this._viewports=[new Si(2,1,1,1),new Si(0,1,1,1),new Si(3,1,1,1),new Si(1,1,1,1),new Si(3,0,1,1),new Si(1,0,1,1)],this._cubeDirections=[new dt(1,0,0),new dt(-1,0,0),new dt(0,0,1),new dt(0,0,-1),new dt(0,1,0),new dt(0,-1,0)],this._cubeUps=[new dt(0,1,0),new dt(0,1,0),new dt(0,1,0),new dt(0,1,0),new dt(0,0,1),new dt(0,0,-1)]}updateMatrices(a,f=0){const x=this.camera,S=this.matrix,I=a.distance||x.far;I!==x.far&&(x.far=I,x.updateProjectionMatrix()),vv.setFromMatrixPosition(a.matrixWorld),x.position.copy(vv),kS.copy(x.position),kS.add(this._cubeDirections[f]),x.up.copy(this._cubeUps[f]),x.lookAt(kS),x.updateMatrixWorld(),S.makeTranslation(-vv.x,-vv.y,-vv.z),LO.multiplyMatrices(x.projectionMatrix,x.matrixWorldInverse),this._frustum.setFromProjectionMatrix(LO)}}class BO extends nd{constructor(a,f,x=0,S=2){super(a,f),this.isPointLight=!0,this.type="PointLight",this.distance=x,this.decay=S,this.shadow=new AY}get power(){return this.intensity*4*Math.PI}set power(a){this.intensity=a/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(a,f){return super.copy(a,f),this.distance=a.distance,this.decay=a.decay,this.shadow=a.shadow.clone(),this}}class yY extends NS{constructor(){super(new Dy(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class OO extends nd{constructor(a,f){super(a,f),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(bi.DefaultUp),this.updateMatrix(),this.target=new bi,this.shadow=new yY}dispose(){this.shadow.dispose()}copy(a){return super.copy(a),this.target=a.target.clone(),this.shadow=a.shadow.clone(),this}}class DO extends nd{constructor(a,f){super(a,f),this.isAmbientLight=!0,this.type="AmbientLight"}}class NO extends nd{constructor(a,f,x=10,S=10){super(a,f),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=x,this.height=S}get power(){return this.intensity*this.width*this.height*Math.PI}set power(a){this.intensity=a/(this.width*this.height*Math.PI)}copy(a){return super.copy(a),this.width=a.width,this.height=a.height,this}toJSON(a){const f=super.toJSON(a);return f.object.width=this.width,f.object.height=this.height,f}}class kO{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let a=0;a<9;a++)this.coefficients.push(new dt)}set(a){for(let f=0;f<9;f++)this.coefficients[f].copy(a[f]);return this}zero(){for(let a=0;a<9;a++)this.coefficients[a].set(0,0,0);return this}getAt(a,f){const x=a.x,S=a.y,I=a.z,k=this.coefficients;return f.copy(k[0]).multiplyScalar(.282095),f.addScaledVector(k[1],.488603*S),f.addScaledVector(k[2],.488603*I),f.addScaledVector(k[3],.488603*x),f.addScaledVector(k[4],1.092548*(x*S)),f.addScaledVector(k[5],1.092548*(S*I)),f.addScaledVector(k[6],.315392*(3*I*I-1)),f.addScaledVector(k[7],1.092548*(x*I)),f.addScaledVector(k[8],.546274*(x*x-S*S)),f}getIrradianceAt(a,f){const x=a.x,S=a.y,I=a.z,k=this.coefficients;return f.copy(k[0]).multiplyScalar(.886227),f.addScaledVector(k[1],1.023328*S),f.addScaledVector(k[2],1.023328*I),f.addScaledVector(k[3],1.023328*x),f.addScaledVector(k[4],.858086*x*S),f.addScaledVector(k[5],.858086*S*I),f.addScaledVector(k[6],.743125*I*I-.247708),f.addScaledVector(k[7],.858086*x*I),f.addScaledVector(k[8],.429043*(x*x-S*S)),f}add(a){for(let f=0;f<9;f++)this.coefficients[f].add(a.coefficients[f]);return this}addScaledSH(a,f){for(let x=0;x<9;x++)this.coefficients[x].addScaledVector(a.coefficients[x],f);return this}scale(a){for(let f=0;f<9;f++)this.coefficients[f].multiplyScalar(a);return this}lerp(a,f){for(let x=0;x<9;x++)this.coefficients[x].lerp(a.coefficients[x],f);return this}equals(a){for(let f=0;f<9;f++)if(!this.coefficients[f].equals(a.coefficients[f]))return!1;return!0}copy(a){return this.set(a.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(a,f=0){const x=this.coefficients;for(let S=0;S<9;S++)x[S].fromArray(a,f+S*3);return this}toArray(a=[],f=0){const x=this.coefficients;for(let S=0;S<9;S++)x[S].toArray(a,f+S*3);return a}static getBasisAt(a,f){const x=a.x,S=a.y,I=a.z;f[0]=.282095,f[1]=.488603*S,f[2]=.488603*I,f[3]=.488603*x,f[4]=1.092548*x*S,f[5]=1.092548*S*I,f[6]=.315392*(3*I*I-1),f[7]=1.092548*x*I,f[8]=.546274*(x*x-S*S)}}class ab extends nd{constructor(a=new kO,f=1){super(void 0,f),this.isLightProbe=!0,this.sh=a}copy(a){return super.copy(a),this.sh.copy(a.sh),this}fromJSON(a){return this.intensity=a.intensity,this.sh.fromArray(a.sh),this}toJSON(a){const f=super.toJSON(a);return f.object.sh=this.sh.toArray(),f}}class sb extends ys{constructor(a){super(a),this.textures={}}load(a,f,x,S){const I=this,k=new jc(I.manager);k.setPath(I.path),k.setRequestHeader(I.requestHeader),k.setWithCredentials(I.withCredentials),k.load(a,function(U){try{f(I.parse(JSON.parse(U)))}catch(W){S?S(W):console.error(W),I.manager.itemError(a)}},x,S)}parse(a){const f=this.textures;function x(I){return f[I]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",I),f[I]}const S=sb.createMaterialFromType(a.type);if(a.uuid!==void 0&&(S.uuid=a.uuid),a.name!==void 0&&(S.name=a.name),a.color!==void 0&&S.color!==void 0&&S.color.setHex(a.color),a.roughness!==void 0&&(S.roughness=a.roughness),a.metalness!==void 0&&(S.metalness=a.metalness),a.sheen!==void 0&&(S.sheen=a.sheen),a.sheenColor!==void 0&&(S.sheenColor=new xr().setHex(a.sheenColor)),a.sheenRoughness!==void 0&&(S.sheenRoughness=a.sheenRoughness),a.emissive!==void 0&&S.emissive!==void 0&&S.emissive.setHex(a.emissive),a.specular!==void 0&&S.specular!==void 0&&S.specular.setHex(a.specular),a.specularIntensity!==void 0&&(S.specularIntensity=a.specularIntensity),a.specularColor!==void 0&&S.specularColor!==void 0&&S.specularColor.setHex(a.specularColor),a.shininess!==void 0&&(S.shininess=a.shininess),a.clearcoat!==void 0&&(S.clearcoat=a.clearcoat),a.clearcoatRoughness!==void 0&&(S.clearcoatRoughness=a.clearcoatRoughness),a.iridescence!==void 0&&(S.iridescence=a.iridescence),a.iridescenceIOR!==void 0&&(S.iridescenceIOR=a.iridescenceIOR),a.iridescenceThicknessRange!==void 0&&(S.iridescenceThicknessRange=a.iridescenceThicknessRange),a.transmission!==void 0&&(S.transmission=a.transmission),a.thickness!==void 0&&(S.thickness=a.thickness),a.attenuationDistance!==void 0&&(S.attenuationDistance=a.attenuationDistance),a.attenuationColor!==void 0&&S.attenuationColor!==void 0&&S.attenuationColor.setHex(a.attenuationColor),a.fog!==void 0&&(S.fog=a.fog),a.flatShading!==void 0&&(S.flatShading=a.flatShading),a.blending!==void 0&&(S.blending=a.blending),a.combine!==void 0&&(S.combine=a.combine),a.side!==void 0&&(S.side=a.side),a.shadowSide!==void 0&&(S.shadowSide=a.shadowSide),a.opacity!==void 0&&(S.opacity=a.opacity),a.transparent!==void 0&&(S.transparent=a.transparent),a.alphaTest!==void 0&&(S.alphaTest=a.alphaTest),a.depthTest!==void 0&&(S.depthTest=a.depthTest),a.depthWrite!==void 0&&(S.depthWrite=a.depthWrite),a.colorWrite!==void 0&&(S.colorWrite=a.colorWrite),a.stencilWrite!==void 0&&(S.stencilWrite=a.stencilWrite),a.stencilWriteMask!==void 0&&(S.stencilWriteMask=a.stencilWriteMask),a.stencilFunc!==void 0&&(S.stencilFunc=a.stencilFunc),a.stencilRef!==void 0&&(S.stencilRef=a.stencilRef),a.stencilFuncMask!==void 0&&(S.stencilFuncMask=a.stencilFuncMask),a.stencilFail!==void 0&&(S.stencilFail=a.stencilFail),a.stencilZFail!==void 0&&(S.stencilZFail=a.stencilZFail),a.stencilZPass!==void 0&&(S.stencilZPass=a.stencilZPass),a.wireframe!==void 0&&(S.wireframe=a.wireframe),a.wireframeLinewidth!==void 0&&(S.wireframeLinewidth=a.wireframeLinewidth),a.wireframeLinecap!==void 0&&(S.wireframeLinecap=a.wireframeLinecap),a.wireframeLinejoin!==void 0&&(S.wireframeLinejoin=a.wireframeLinejoin),a.rotation!==void 0&&(S.rotation=a.rotation),a.linewidth!==1&&(S.linewidth=a.linewidth),a.dashSize!==void 0&&(S.dashSize=a.dashSize),a.gapSize!==void 0&&(S.gapSize=a.gapSize),a.scale!==void 0&&(S.scale=a.scale),a.polygonOffset!==void 0&&(S.polygonOffset=a.polygonOffset),a.polygonOffsetFactor!==void 0&&(S.polygonOffsetFactor=a.polygonOffsetFactor),a.polygonOffsetUnits!==void 0&&(S.polygonOffsetUnits=a.polygonOffsetUnits),a.dithering!==void 0&&(S.dithering=a.dithering),a.alphaToCoverage!==void 0&&(S.alphaToCoverage=a.alphaToCoverage),a.premultipliedAlpha!==void 0&&(S.premultipliedAlpha=a.premultipliedAlpha),a.visible!==void 0&&(S.visible=a.visible),a.toneMapped!==void 0&&(S.toneMapped=a.toneMapped),a.userData!==void 0&&(S.userData=a.userData),a.vertexColors!==void 0&&(typeof a.vertexColors=="number"?S.vertexColors=a.vertexColors>0:S.vertexColors=a.vertexColors),a.uniforms!==void 0)for(const I in a.uniforms){const k=a.uniforms[I];switch(S.uniforms[I]={},k.type){case"t":S.uniforms[I].value=x(k.value);break;case"c":S.uniforms[I].value=new xr().setHex(k.value);break;case"v2":S.uniforms[I].value=new In().fromArray(k.value);break;case"v3":S.uniforms[I].value=new dt().fromArray(k.value);break;case"v4":S.uniforms[I].value=new Si().fromArray(k.value);break;case"m3":S.uniforms[I].value=new da().fromArray(k.value);break;case"m4":S.uniforms[I].value=new _r().fromArray(k.value);break;default:S.uniforms[I].value=k.value}}if(a.defines!==void 0&&(S.defines=a.defines),a.vertexShader!==void 0&&(S.vertexShader=a.vertexShader),a.fragmentShader!==void 0&&(S.fragmentShader=a.fragmentShader),a.glslVersion!==void 0&&(S.glslVersion=a.glslVersion),a.extensions!==void 0)for(const I in a.extensions)S.extensions[I]=a.extensions[I];if(a.size!==void 0&&(S.size=a.size),a.sizeAttenuation!==void 0&&(S.sizeAttenuation=a.sizeAttenuation),a.map!==void 0&&(S.map=x(a.map)),a.matcap!==void 0&&(S.matcap=x(a.matcap)),a.alphaMap!==void 0&&(S.alphaMap=x(a.alphaMap)),a.bumpMap!==void 0&&(S.bumpMap=x(a.bumpMap)),a.bumpScale!==void 0&&(S.bumpScale=a.bumpScale),a.normalMap!==void 0&&(S.normalMap=x(a.normalMap)),a.normalMapType!==void 0&&(S.normalMapType=a.normalMapType),a.normalScale!==void 0){let I=a.normalScale;Array.isArray(I)===!1&&(I=[I,I]),S.normalScale=new In().fromArray(I)}return a.displacementMap!==void 0&&(S.displacementMap=x(a.displacementMap)),a.displacementScale!==void 0&&(S.displacementScale=a.displacementScale),a.displacementBias!==void 0&&(S.displacementBias=a.displacementBias),a.roughnessMap!==void 0&&(S.roughnessMap=x(a.roughnessMap)),a.metalnessMap!==void 0&&(S.metalnessMap=x(a.metalnessMap)),a.emissiveMap!==void 0&&(S.emissiveMap=x(a.emissiveMap)),a.emissiveIntensity!==void 0&&(S.emissiveIntensity=a.emissiveIntensity),a.specularMap!==void 0&&(S.specularMap=x(a.specularMap)),a.specularIntensityMap!==void 0&&(S.specularIntensityMap=x(a.specularIntensityMap)),a.specularColorMap!==void 0&&(S.specularColorMap=x(a.specularColorMap)),a.envMap!==void 0&&(S.envMap=x(a.envMap)),a.envMapIntensity!==void 0&&(S.envMapIntensity=a.envMapIntensity),a.reflectivity!==void 0&&(S.reflectivity=a.reflectivity),a.refractionRatio!==void 0&&(S.refractionRatio=a.refractionRatio),a.lightMap!==void 0&&(S.lightMap=x(a.lightMap)),a.lightMapIntensity!==void 0&&(S.lightMapIntensity=a.lightMapIntensity),a.aoMap!==void 0&&(S.aoMap=x(a.aoMap)),a.aoMapIntensity!==void 0&&(S.aoMapIntensity=a.aoMapIntensity),a.gradientMap!==void 0&&(S.gradientMap=x(a.gradientMap)),a.clearcoatMap!==void 0&&(S.clearcoatMap=x(a.clearcoatMap)),a.clearcoatRoughnessMap!==void 0&&(S.clearcoatRoughnessMap=x(a.clearcoatRoughnessMap)),a.clearcoatNormalMap!==void 0&&(S.clearcoatNormalMap=x(a.clearcoatNormalMap)),a.clearcoatNormalScale!==void 0&&(S.clearcoatNormalScale=new In().fromArray(a.clearcoatNormalScale)),a.iridescenceMap!==void 0&&(S.iridescenceMap=x(a.iridescenceMap)),a.iridescenceThicknessMap!==void 0&&(S.iridescenceThicknessMap=x(a.iridescenceThicknessMap)),a.transmissionMap!==void 0&&(S.transmissionMap=x(a.transmissionMap)),a.thicknessMap!==void 0&&(S.thicknessMap=x(a.thicknessMap)),a.sheenColorMap!==void 0&&(S.sheenColorMap=x(a.sheenColorMap)),a.sheenRoughnessMap!==void 0&&(S.sheenRoughnessMap=x(a.sheenRoughnessMap)),S}setTextures(a){return this.textures=a,this}static createMaterialFromType(a){const f={ShadowMaterial:pO,SpriteMaterial:cS,RawShaderMaterial:mO,ShaderMaterial:oc,PointsMaterial:hS,MeshPhysicalMaterial:gO,MeshStandardMaterial:TS,MeshPhongMaterial:vO,MeshToonMaterial:AO,MeshNormalMaterial:yO,MeshLambertMaterial:bO,MeshDepthMaterial:oS,MeshDistanceMaterial:aS,MeshBasicMaterial:Xu,MeshMatcapMaterial:xO,LineDashedMaterial:EO,LineBasicMaterial:Ua,Material:Ca};return new f[a]}}class FS{static decodeText(a){if(typeof TextDecoder<"u")return new TextDecoder().decode(a);let f="";for(let x=0,S=a.length;x<S;x++)f+=String.fromCharCode(a[x]);try{return decodeURIComponent(escape(f))}catch{return f}}static extractUrlBase(a){const f=a.lastIndexOf("/");return f===-1?"./":a.slice(0,f+1)}static resolveURL(a,f){return typeof a!="string"||a===""?"":(/^https?:\/\//i.test(f)&&/^\//.test(a)&&(f=f.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(a)||/^data:.*,.*$/i.test(a)||/^blob:.*$/i.test(a)?a:f+a)}}class FO extends ci{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(a){return super.copy(a),this.instanceCount=a.instanceCount,this}toJSON(){const a=super.toJSON();return a.instanceCount=this.instanceCount,a.isInstancedBufferGeometry=!0,a}}class UO extends ys{constructor(a){super(a)}load(a,f,x,S){const I=this,k=new jc(I.manager);k.setPath(I.path),k.setRequestHeader(I.requestHeader),k.setWithCredentials(I.withCredentials),k.load(a,function(U){try{f(I.parse(JSON.parse(U)))}catch(W){S?S(W):console.error(W),I.manager.itemError(a)}},x,S)}parse(a){const f={},x={};function S(ie,de){if(f[de]!==void 0)return f[de];const ae=ie.interleavedBuffers[de],Ie=I(ie,ae.buffer),He=ju(ae.type,Ie),Ne=new $y(He,ae.stride);return Ne.uuid=ae.uuid,f[de]=Ne,Ne}function I(ie,de){if(x[de]!==void 0)return x[de];const ae=ie.arrayBuffers[de],Ie=new Uint32Array(ae).buffer;return x[de]=Ie,Ie}const k=a.isInstancedBufferGeometry?new FO:new ci,U=a.data.index;if(U!==void 0){const ie=ju(U.type,U.array);k.setIndex(new Wi(ie,1))}const W=a.data.attributes;for(const ie in W){const de=W[ie];let le;if(de.isInterleavedBufferAttribute){const ae=S(a.data,de.data);le=new mf(ae,de.itemSize,de.offset,de.normalized)}else{const ae=ju(de.type,de.array),Ie=de.isInstancedBufferAttribute?op:Wi;le=new Ie(ae,de.itemSize,de.normalized)}de.name!==void 0&&(le.name=de.name),de.usage!==void 0&&le.setUsage(de.usage),de.updateRange!==void 0&&(le.updateRange.offset=de.updateRange.offset,le.updateRange.count=de.updateRange.count),k.setAttribute(ie,le)}const K=a.data.morphAttributes;if(K)for(const ie in K){const de=K[ie],le=[];for(let ae=0,Ie=de.length;ae<Ie;ae++){const He=de[ae];let Ne;if(He.isInterleavedBufferAttribute){const ze=S(a.data,He.data);Ne=new mf(ze,He.itemSize,He.offset,He.normalized)}else{const ze=ju(He.type,He.array);Ne=new Wi(ze,He.itemSize,He.normalized)}He.name!==void 0&&(Ne.name=He.name),le.push(Ne)}k.morphAttributes[ie]=le}a.data.morphTargetsRelative&&(k.morphTargetsRelative=!0);const ee=a.data.groups||a.data.drawcalls||a.data.offsets;if(ee!==void 0)for(let ie=0,de=ee.length;ie!==de;++ie){const le=ee[ie];k.addGroup(le.start,le.count,le.materialIndex)}const te=a.data.boundingSphere;if(te!==void 0){const ie=new dt;te.center!==void 0&&ie.fromArray(te.center),k.boundingSphere=new gl(ie,te.radius)}return a.name&&(k.name=a.name),a.userData&&(k.userData=a.userData),k}}class bY extends ys{constructor(a){super(a)}load(a,f,x,S){const I=this,k=this.path===""?FS.extractUrlBase(a):this.path;this.resourcePath=this.resourcePath||k;const U=new jc(this.manager);U.setPath(this.path),U.setRequestHeader(this.requestHeader),U.setWithCredentials(this.withCredentials),U.load(a,function(W){let K=null;try{K=JSON.parse(W)}catch(ee){S!==void 0&&S(ee),console.error("THREE:ObjectLoader: Can't parse "+a+".",ee.message);return}const q=K.metadata;if(q===void 0||q.type===void 0||q.type.toLowerCase()==="geometry"){S!==void 0&&S(new Error("THREE.ObjectLoader: Can't load "+a)),console.error("THREE.ObjectLoader: Can't load "+a);return}I.parse(K,f)},x,S)}async loadAsync(a,f){const x=this,S=this.path===""?FS.extractUrlBase(a):this.path;this.resourcePath=this.resourcePath||S;const I=new jc(this.manager);I.setPath(this.path),I.setRequestHeader(this.requestHeader),I.setWithCredentials(this.withCredentials);const k=await I.loadAsync(a,f),U=JSON.parse(k),W=U.metadata;if(W===void 0||W.type===void 0||W.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+a);return await x.parseAsync(U)}parse(a,f){const x=this.parseAnimations(a.animations),S=this.parseShapes(a.shapes),I=this.parseGeometries(a.geometries,S),k=this.parseImages(a.images,function(){f!==void 0&&f(K)}),U=this.parseTextures(a.textures,k),W=this.parseMaterials(a.materials,U),K=this.parseObject(a.object,I,W,U,x),q=this.parseSkeletons(a.skeletons,K);if(this.bindSkeletons(K,q),f!==void 0){let ee=!1;for(const te in k)if(k[te].data instanceof HTMLImageElement){ee=!0;break}ee===!1&&f(K)}return K}async parseAsync(a){const f=this.parseAnimations(a.animations),x=this.parseShapes(a.shapes),S=this.parseGeometries(a.geometries,x),I=await this.parseImagesAsync(a.images),k=this.parseTextures(a.textures,I),U=this.parseMaterials(a.materials,k),W=this.parseObject(a.object,S,U,k,f),K=this.parseSkeletons(a.skeletons,W);return this.bindSkeletons(W,K),W}parseShapes(a){const f={};if(a!==void 0)for(let x=0,S=a.length;x<S;x++){const I=new vf().fromJSON(a[x]);f[I.uuid]=I}return f}parseSkeletons(a,f){const x={},S={};if(f.traverse(function(I){I.isBone&&(S[I.uuid]=I)}),a!==void 0)for(let I=0,k=a.length;I<k;I++){const U=new Wy().fromJSON(a[I],S);x[U.uuid]=U}return x}parseGeometries(a,f){const x={};if(a!==void 0){const I=new UO;for(let k=0,U=a.length;k<U;k++){let W;const K=a[k];switch(K.type){case"BufferGeometry":case"InstancedBufferGeometry":W=I.parse(K);break;case"Geometry":if("THREE"in window&&"LegacyJSONLoader"in THREE){var S=new THREE.LegacyJSONLoader;W=S.parse(K,this.resourcePath).geometry}else console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:K.type in hO?W=hO[K.type].fromJSON(K,f):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${K.type}"`)}W.uuid=K.uuid,K.name!==void 0&&(W.name=K.name),W.isBufferGeometry===!0&&K.userData!==void 0&&(W.userData=K.userData),x[K.uuid]=W}}return x}parseMaterials(a,f){const x={},S={};if(a!==void 0){const I=new sb;I.setTextures(f);for(let k=0,U=a.length;k<U;k++){const W=a[k];x[W.uuid]===void 0&&(x[W.uuid]=I.parse(W)),S[W.uuid]=x[W.uuid]}}return S}parseAnimations(a){const f={};if(a!==void 0)for(let x=0;x<a.length;x++){const S=a[x],I=mv.parse(S);f[I.uuid]=I}return f}parseImages(a,f){const x=this,S={};let I;function k(W){return x.manager.itemStart(W),I.load(W,function(){x.manager.itemEnd(W)},void 0,function(){x.manager.itemError(W),x.manager.itemEnd(W)})}function U(W){if(typeof W=="string"){const K=W,q=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(K)?K:x.resourcePath+K;return k(q)}else return W.data?{data:ju(W.type,W.data),width:W.width,height:W.height}:null}if(a!==void 0&&a.length>0){const W=new OS(f);I=new gv(W),I.setCrossOrigin(this.crossOrigin);for(let K=0,q=a.length;K<q;K++){const ee=a[K],te=ee.url;if(Array.isArray(te)){const ie=[];for(let de=0,le=te.length;de<le;de++){const ae=te[de],Ie=U(ae);Ie!==null&&(Ie instanceof HTMLImageElement?ie.push(Ie):ie.push(new ip(Ie.data,Ie.width,Ie.height)))}S[ee.uuid]=new Dc(ie)}else{const ie=U(ee.url);S[ee.uuid]=new Dc(ie)}}}return S}async parseImagesAsync(a){const f=this,x={};let S;async function I(k){if(typeof k=="string"){const U=k,W=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(U)?U:f.resourcePath+U;return await S.loadAsync(W)}else return k.data?{data:ju(k.type,k.data),width:k.width,height:k.height}:null}if(a!==void 0&&a.length>0){S=new gv(this.manager),S.setCrossOrigin(this.crossOrigin);for(let k=0,U=a.length;k<U;k++){const W=a[k],K=W.url;if(Array.isArray(K)){const q=[];for(let ee=0,te=K.length;ee<te;ee++){const ie=K[ee],de=await I(ie);de!==null&&(de instanceof HTMLImageElement?q.push(de):q.push(new ip(de.data,de.width,de.height)))}x[W.uuid]=new Dc(q)}else{const q=await I(W.url);x[W.uuid]=new Dc(q)}}}return x}parseTextures(a,f){function x(I,k){return typeof I=="number"?I:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",I),k[I])}const S={};if(a!==void 0)for(let I=0,k=a.length;I<k;I++){const U=a[I];U.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',U.uuid),f[U.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",U.image);const W=f[U.image],K=W.data;let q;Array.isArray(K)?(q=new Hg,K.length===6&&(q.needsUpdate=!0)):(K&&K.data?q=new ip:q=new ho,K&&(q.needsUpdate=!0)),q.source=W,q.uuid=U.uuid,U.name!==void 0&&(q.name=U.name),U.mapping!==void 0&&(q.mapping=x(U.mapping,xY)),U.offset!==void 0&&q.offset.fromArray(U.offset),U.repeat!==void 0&&q.repeat.fromArray(U.repeat),U.center!==void 0&&q.center.fromArray(U.center),U.rotation!==void 0&&(q.rotation=U.rotation),U.wrap!==void 0&&(q.wrapS=x(U.wrap[0],zO),q.wrapT=x(U.wrap[1],zO)),U.format!==void 0&&(q.format=U.format),U.type!==void 0&&(q.type=U.type),U.encoding!==void 0&&(q.encoding=U.encoding),U.minFilter!==void 0&&(q.minFilter=x(U.minFilter,$O)),U.magFilter!==void 0&&(q.magFilter=x(U.magFilter,$O)),U.anisotropy!==void 0&&(q.anisotropy=U.anisotropy),U.flipY!==void 0&&(q.flipY=U.flipY),U.premultiplyAlpha!==void 0&&(q.premultiplyAlpha=U.premultiplyAlpha),U.unpackAlignment!==void 0&&(q.unpackAlignment=U.unpackAlignment),U.userData!==void 0&&(q.userData=U.userData),S[U.uuid]=q}return S}parseObject(a,f,x,S,I){let k;function U(te){return f[te]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",te),f[te]}function W(te){if(te!==void 0){if(Array.isArray(te)){const ie=[];for(let de=0,le=te.length;de<le;de++){const ae=te[de];x[ae]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",ae),ie.push(x[ae])}return ie}return x[te]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",te),x[te]}}function K(te){return S[te]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",te),S[te]}let q,ee;switch(a.type){case"Scene":k=new MB,a.background!==void 0&&(Number.isInteger(a.background)?k.background=new xr(a.background):k.background=K(a.background)),a.environment!==void 0&&(k.environment=K(a.environment)),a.fog!==void 0&&(a.fog.type==="Fog"?k.fog=new zy(a.fog.color,a.fog.near,a.fog.far):a.fog.type==="FogExp2"&&(k.fog=new Uy(a.fog.color,a.fog.density))),a.backgroundBlurriness!==void 0&&(k.backgroundBlurriness=a.backgroundBlurriness);break;case"PerspectiveCamera":k=new zo(a.fov,a.aspect,a.near,a.far),a.focus!==void 0&&(k.focus=a.focus),a.zoom!==void 0&&(k.zoom=a.zoom),a.filmGauge!==void 0&&(k.filmGauge=a.filmGauge),a.filmOffset!==void 0&&(k.filmOffset=a.filmOffset),a.view!==void 0&&(k.view=Object.assign({},a.view));break;case"OrthographicCamera":k=new Dy(a.left,a.right,a.top,a.bottom,a.near,a.far),a.zoom!==void 0&&(k.zoom=a.zoom),a.view!==void 0&&(k.view=Object.assign({},a.view));break;case"AmbientLight":k=new DO(a.color,a.intensity);break;case"DirectionalLight":k=new OO(a.color,a.intensity);break;case"PointLight":k=new BO(a.color,a.intensity,a.distance,a.decay);break;case"RectAreaLight":k=new NO(a.color,a.intensity,a.width,a.height);break;case"SpotLight":k=new PO(a.color,a.intensity,a.distance,a.angle,a.penumbra,a.decay);break;case"HemisphereLight":k=new TO(a.color,a.groundColor,a.intensity);break;case"LightProbe":k=new ab().fromJSON(a);break;case"SkinnedMesh":q=U(a.geometry),ee=W(a.material),k=new FB(q,ee),a.bindMode!==void 0&&(k.bindMode=a.bindMode),a.bindMatrix!==void 0&&k.bindMatrix.fromArray(a.bindMatrix),a.skeleton!==void 0&&(k.skeleton=a.skeleton);break;case"Mesh":q=U(a.geometry),ee=W(a.material),k=new pa(q,ee);break;case"InstancedMesh":q=U(a.geometry),ee=W(a.material);const te=a.count,ie=a.instanceMatrix,de=a.instanceColor;k=new HB(q,ee,te),k.instanceMatrix=new op(new Float32Array(ie.array),16),de!==void 0&&(k.instanceColor=new op(new Float32Array(de.array),de.itemSize));break;case"LOD":k=new BB;break;case"Line":k=new td(U(a.geometry),W(a.material));break;case"LineLoop":k=new KB(U(a.geometry),W(a.material));break;case"LineSegments":k=new ac(U(a.geometry),W(a.material));break;case"PointCloud":case"Points":k=new qB(U(a.geometry),W(a.material));break;case"Sprite":k=new PB(W(a.material));break;case"Group":k=new pf;break;case"Bone":k=new dS;break;default:k=new bi}if(k.uuid=a.uuid,a.name!==void 0&&(k.name=a.name),a.matrix!==void 0?(k.matrix.fromArray(a.matrix),a.matrixAutoUpdate!==void 0&&(k.matrixAutoUpdate=a.matrixAutoUpdate),k.matrixAutoUpdate&&k.matrix.decompose(k.position,k.quaternion,k.scale)):(a.position!==void 0&&k.position.fromArray(a.position),a.rotation!==void 0&&k.rotation.fromArray(a.rotation),a.quaternion!==void 0&&k.quaternion.fromArray(a.quaternion),a.scale!==void 0&&k.scale.fromArray(a.scale)),a.castShadow!==void 0&&(k.castShadow=a.castShadow),a.receiveShadow!==void 0&&(k.receiveShadow=a.receiveShadow),a.shadow&&(a.shadow.bias!==void 0&&(k.shadow.bias=a.shadow.bias),a.shadow.normalBias!==void 0&&(k.shadow.normalBias=a.shadow.normalBias),a.shadow.radius!==void 0&&(k.shadow.radius=a.shadow.radius),a.shadow.mapSize!==void 0&&k.shadow.mapSize.fromArray(a.shadow.mapSize),a.shadow.camera!==void 0&&(k.shadow.camera=this.parseObject(a.shadow.camera))),a.visible!==void 0&&(k.visible=a.visible),a.frustumCulled!==void 0&&(k.frustumCulled=a.frustumCulled),a.renderOrder!==void 0&&(k.renderOrder=a.renderOrder),a.userData!==void 0&&(k.userData=a.userData),a.layers!==void 0&&(k.layers.mask=a.layers),a.children!==void 0){const te=a.children;for(let ie=0;ie<te.length;ie++)k.add(this.parseObject(te[ie],f,x,S,I))}if(a.animations!==void 0){const te=a.animations;for(let ie=0;ie<te.length;ie++){const de=te[ie];k.animations.push(I[de])}}if(a.type==="LOD"){a.autoUpdate!==void 0&&(k.autoUpdate=a.autoUpdate);const te=a.levels;for(let ie=0;ie<te.length;ie++){const de=te[ie],le=k.getObjectByProperty("uuid",de.object);le!==void 0&&k.addLevel(le,de.distance,de.hysteresis)}}return k}bindSkeletons(a,f){Object.keys(f).length!==0&&a.traverse(function(x){if(x.isSkinnedMesh===!0&&x.skeleton!==void 0){const S=f[x.skeleton];S===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",x.skeleton):x.bind(S,x.bindMatrix)}})}}const xY={UVMapping:pe,CubeReflectionMapping:_e,CubeRefractionMapping:Ce,EquirectangularReflectionMapping:Se,EquirectangularRefractionMapping:we,CubeUVReflectionMapping:je},zO={RepeatWrapping:Ae,ClampToEdgeWrapping:Ue,MirroredRepeatWrapping:et},$O={NearestFilter:ue,NearestMipmapNearestFilter:Y,NearestMipmapLinearFilter:Pe,LinearFilter:ve,LinearMipmapNearestFilter:he,LinearMipmapLinearFilter:Ze};class EY extends ys{constructor(a){super(a),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(a){return this.options=a,this}load(a,f,x,S){a===void 0&&(a=""),this.path!==void 0&&(a=this.path+a),a=this.manager.resolveURL(a);const I=this,k=Ef.get(a);if(k!==void 0)return I.manager.itemStart(a),setTimeout(function(){f&&f(k),I.manager.itemEnd(a)},0),k;const U={};U.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",U.headers=this.requestHeader,fetch(a,U).then(function(W){return W.blob()}).then(function(W){return createImageBitmap(W,Object.assign(I.options,{colorSpaceConversion:"none"}))}).then(function(W){Ef.add(a,W),f&&f(W),I.manager.itemEnd(a)}).catch(function(W){S&&S(W),I.manager.itemError(a),I.manager.itemEnd(a)}),I.manager.itemStart(a)}}let lb;class US{static getContext(){return lb===void 0&&(lb=new(window.AudioContext||window.webkitAudioContext)),lb}static setContext(a){lb=a}}class CY extends ys{constructor(a){super(a)}load(a,f,x,S){const I=this,k=new jc(this.manager);k.setResponseType("arraybuffer"),k.setPath(this.path),k.setRequestHeader(this.requestHeader),k.setWithCredentials(this.withCredentials),k.load(a,function(U){try{const W=U.slice(0);US.getContext().decodeAudioData(W,function(q){f(q)})}catch(W){S?S(W):console.error(W),I.manager.itemError(a)}},x,S)}}class wY extends ab{constructor(a,f,x=1){super(void 0,x),this.isHemisphereLightProbe=!0;const S=new xr().set(a),I=new xr().set(f),k=new dt(S.r,S.g,S.b),U=new dt(I.r,I.g,I.b),W=Math.sqrt(Math.PI),K=W*Math.sqrt(.75);this.sh.coefficients[0].copy(k).add(U).multiplyScalar(W),this.sh.coefficients[1].copy(k).sub(U).multiplyScalar(K)}}class SY extends ab{constructor(a,f=1){super(void 0,f),this.isAmbientLightProbe=!0;const x=new xr().set(a);this.sh.coefficients[0].set(x.r,x.g,x.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const HO=new _r,jO=new _r,Cf=new _r;class _Y{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new zo,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new zo,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(a){const f=this._cache;if(f.focus!==a.focus||f.fov!==a.fov||f.aspect!==a.aspect*this.aspect||f.near!==a.near||f.far!==a.far||f.zoom!==a.zoom||f.eyeSep!==this.eyeSep){f.focus=a.focus,f.fov=a.fov,f.aspect=a.aspect*this.aspect,f.near=a.near,f.far=a.far,f.zoom=a.zoom,f.eyeSep=this.eyeSep,Cf.copy(a.projectionMatrix);const S=f.eyeSep/2,I=S*f.near/f.focus,k=f.near*Math.tan(Bc*f.fov*.5)/f.zoom;let U,W;jO.elements[12]=-S,HO.elements[12]=S,U=-k*f.aspect+I,W=k*f.aspect+I,Cf.elements[0]=2*f.near/(W-U),Cf.elements[8]=(W+U)/(W-U),this.cameraL.projectionMatrix.copy(Cf),U=-k*f.aspect-I,W=k*f.aspect-I,Cf.elements[0]=2*f.near/(W-U),Cf.elements[8]=(W+U)/(W-U),this.cameraR.projectionMatrix.copy(Cf)}this.cameraL.matrixWorld.copy(a.matrixWorld).multiply(jO),this.cameraR.matrixWorld.copy(a.matrixWorld).multiply(HO)}}class GO{constructor(a=!0){this.autoStart=a,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=VO(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let a=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const f=VO();a=(f-this.oldTime)/1e3,this.oldTime=f,this.elapsedTime+=a}return a}}function VO(){return(typeof performance>"u"?Date:performance).now()}const wf=new dt,WO=new fa,MY=new dt,Sf=new dt;class TY extends bi{constructor(){super(),this.type="AudioListener",this.context=US.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new GO}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(a){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=a,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(a){return this.gain.gain.setTargetAtTime(a,this.context.currentTime,.01),this}updateMatrixWorld(a){super.updateMatrixWorld(a);const f=this.context.listener,x=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(wf,WO,MY),Sf.set(0,0,-1).applyQuaternion(WO),f.positionX){const S=this.context.currentTime+this.timeDelta;f.positionX.linearRampToValueAtTime(wf.x,S),f.positionY.linearRampToValueAtTime(wf.y,S),f.positionZ.linearRampToValueAtTime(wf.z,S),f.forwardX.linearRampToValueAtTime(Sf.x,S),f.forwardY.linearRampToValueAtTime(Sf.y,S),f.forwardZ.linearRampToValueAtTime(Sf.z,S),f.upX.linearRampToValueAtTime(x.x,S),f.upY.linearRampToValueAtTime(x.y,S),f.upZ.linearRampToValueAtTime(x.z,S)}else f.setPosition(wf.x,wf.y,wf.z),f.setOrientation(Sf.x,Sf.y,Sf.z,x.x,x.y,x.z)}}class QO extends bi{constructor(a){super(),this.type="Audio",this.listener=a,this.context=a.context,this.gain=this.context.createGain(),this.gain.connect(a.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(a){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=a,this.connect(),this}setMediaElementSource(a){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(a),this.connect(),this}setMediaStreamSource(a){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(a),this.connect(),this}setBuffer(a){return this.buffer=a,this.sourceType="buffer",this.autoplay&&this.play(),this}play(a=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+a;const f=this.context.createBufferSource();return f.buffer=this.buffer,f.loop=this.loop,f.loopStart=this.loopStart,f.loopEnd=this.loopEnd,f.onended=this.onEnded.bind(this),f.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=f,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let a=1,f=this.filters.length;a<f;a++)this.filters[a-1].connect(this.filters[a]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let a=1,f=this.filters.length;a<f;a++)this.filters[a-1].disconnect(this.filters[a]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(a){return a||(a=[]),this._connected===!0?(this.disconnect(),this.filters=a.slice(),this.connect()):this.filters=a.slice(),this}setDetune(a){if(this.detune=a,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(a){return this.setFilters(a?[a]:[])}setPlaybackRate(a){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=a,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(a){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=a,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(a){return this.loopStart=a,this}setLoopEnd(a){return this.loopEnd=a,this}getVolume(){return this.gain.gain.value}setVolume(a){return this.gain.gain.setTargetAtTime(a,this.context.currentTime,.01),this}}const _f=new dt,KO=new fa,RY=new dt,Mf=new dt;class IY extends QO{constructor(a){super(a),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(a){return this.panner.refDistance=a,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(a){return this.panner.rolloffFactor=a,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(a){return this.panner.distanceModel=a,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(a){return this.panner.maxDistance=a,this}setDirectionalCone(a,f,x){return this.panner.coneInnerAngle=a,this.panner.coneOuterAngle=f,this.panner.coneOuterGain=x,this}updateMatrixWorld(a){if(super.updateMatrixWorld(a),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(_f,KO,RY),Mf.set(0,0,1).applyQuaternion(KO);const f=this.panner;if(f.positionX){const x=this.context.currentTime+this.listener.timeDelta;f.positionX.linearRampToValueAtTime(_f.x,x),f.positionY.linearRampToValueAtTime(_f.y,x),f.positionZ.linearRampToValueAtTime(_f.z,x),f.orientationX.linearRampToValueAtTime(Mf.x,x),f.orientationY.linearRampToValueAtTime(Mf.y,x),f.orientationZ.linearRampToValueAtTime(Mf.z,x)}else f.setPosition(_f.x,_f.y,_f.z),f.setOrientation(Mf.x,Mf.y,Mf.z)}}class PY{constructor(a,f=2048){this.analyser=a.context.createAnalyser(),this.analyser.fftSize=f,this.data=new Uint8Array(this.analyser.frequencyBinCount),a.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let a=0;const f=this.getFrequencyData();for(let x=0;x<f.length;x++)a+=f[x];return a/f.length}}class XO{constructor(a,f,x){this.binding=a,this.valueSize=x;let S,I,k;switch(f){case"quaternion":S=this._slerp,I=this._slerpAdditive,k=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(x*6),this._workIndex=5;break;case"string":case"bool":S=this._select,I=this._select,k=this._setAdditiveIdentityOther,this.buffer=new Array(x*5);break;default:S=this._lerp,I=this._lerpAdditive,k=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(x*5)}this._mixBufferRegion=S,this._mixBufferRegionAdditive=I,this._setIdentity=k,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(a,f){const x=this.buffer,S=this.valueSize,I=a*S+S;let k=this.cumulativeWeight;if(k===0){for(let U=0;U!==S;++U)x[I+U]=x[U];k=f}else{k+=f;const U=f/k;this._mixBufferRegion(x,I,0,U,S)}this.cumulativeWeight=k}accumulateAdditive(a){const f=this.buffer,x=this.valueSize,S=x*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(f,S,0,a,x),this.cumulativeWeightAdditive+=a}apply(a){const f=this.valueSize,x=this.buffer,S=a*f+f,I=this.cumulativeWeight,k=this.cumulativeWeightAdditive,U=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,I<1){const W=f*this._origIndex;this._mixBufferRegion(x,S,W,1-I,f)}k>0&&this._mixBufferRegionAdditive(x,S,this._addIndex*f,1,f);for(let W=f,K=f+f;W!==K;++W)if(x[W]!==x[W+f]){U.setValue(x,S);break}}saveOriginalState(){const a=this.binding,f=this.buffer,x=this.valueSize,S=x*this._origIndex;a.getValue(f,S);for(let I=x,k=S;I!==k;++I)f[I]=f[S+I%x];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const a=this.valueSize*3;this.binding.setValue(this.buffer,a)}_setAdditiveIdentityNumeric(){const a=this._addIndex*this.valueSize,f=a+this.valueSize;for(let x=a;x<f;x++)this.buffer[x]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const a=this._origIndex*this.valueSize,f=this._addIndex*this.valueSize;for(let x=0;x<this.valueSize;x++)this.buffer[f+x]=this.buffer[a+x]}_select(a,f,x,S,I){if(S>=.5)for(let k=0;k!==I;++k)a[f+k]=a[x+k]}_slerp(a,f,x,S){fa.slerpFlat(a,f,a,f,a,x,S)}_slerpAdditive(a,f,x,S,I){const k=this._workIndex*I;fa.multiplyQuaternionsFlat(a,k,a,f,a,x),fa.slerpFlat(a,f,a,f,a,k,S)}_lerp(a,f,x,S,I){const k=1-S;for(let U=0;U!==I;++U){const W=f+U;a[W]=a[W]*k+a[x+U]*S}}_lerpAdditive(a,f,x,S,I){for(let k=0;k!==I;++k){const U=f+k;a[U]=a[U]+a[x+k]*S}}}const zS="\\[\\]\\.:\\/",LY=new RegExp("["+zS+"]","g"),$S="[^"+zS+"]",BY="[^"+zS.replace("\\.","")+"]",OY=/((?:WC+[\/:])*)/.source.replace("WC",$S),DY=/(WCOD+)?/.source.replace("WCOD",BY),NY=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",$S),kY=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",$S),FY=new RegExp("^"+OY+DY+NY+kY+"$"),UY=["material","materials","bones","map"];class zY{constructor(a,f,x){const S=x||Ti.parseTrackName(f);this._targetGroup=a,this._bindings=a.subscribe_(f,S)}getValue(a,f){this.bind();const x=this._targetGroup.nCachedObjects_,S=this._bindings[x];S!==void 0&&S.getValue(a,f)}setValue(a,f){const x=this._bindings;for(let S=this._targetGroup.nCachedObjects_,I=x.length;S!==I;++S)x[S].setValue(a,f)}bind(){const a=this._bindings;for(let f=this._targetGroup.nCachedObjects_,x=a.length;f!==x;++f)a[f].bind()}unbind(){const a=this._bindings;for(let f=this._targetGroup.nCachedObjects_,x=a.length;f!==x;++f)a[f].unbind()}}class Ti{constructor(a,f,x){this.path=f,this.parsedPath=x||Ti.parseTrackName(f),this.node=Ti.findNode(a,this.parsedPath.nodeName)||a,this.rootNode=a,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(a,f,x){return a&&a.isAnimationObjectGroup?new Ti.Composite(a,f,x):new Ti(a,f,x)}static sanitizeNodeName(a){return a.replace(/\s/g,"_").replace(LY,"")}static parseTrackName(a){const f=FY.exec(a);if(f===null)throw new Error("PropertyBinding: Cannot parse trackName: "+a);const x={nodeName:f[2],objectName:f[3],objectIndex:f[4],propertyName:f[5],propertyIndex:f[6]},S=x.nodeName&&x.nodeName.lastIndexOf(".");if(S!==void 0&&S!==-1){const I=x.nodeName.substring(S+1);UY.indexOf(I)!==-1&&(x.nodeName=x.nodeName.substring(0,S),x.objectName=I)}if(x.propertyName===null||x.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+a);return x}static findNode(a,f){if(f===void 0||f===""||f==="."||f===-1||f===a.name||f===a.uuid)return a;if(a.skeleton){const x=a.skeleton.getBoneByName(f);if(x!==void 0)return x}if(a.children){const x=function(I){for(let k=0;k<I.length;k++){const U=I[k];if(U.name===f||U.uuid===f)return U;const W=x(U.children);if(W)return W}return null},S=x(a.children);if(S)return S}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(a,f){a[f]=this.targetObject[this.propertyName]}_getValue_array(a,f){const x=this.resolvedProperty;for(let S=0,I=x.length;S!==I;++S)a[f++]=x[S]}_getValue_arrayElement(a,f){a[f]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(a,f){this.resolvedProperty.toArray(a,f)}_setValue_direct(a,f){this.targetObject[this.propertyName]=a[f]}_setValue_direct_setNeedsUpdate(a,f){this.targetObject[this.propertyName]=a[f],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(a,f){this.targetObject[this.propertyName]=a[f],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(a,f){const x=this.resolvedProperty;for(let S=0,I=x.length;S!==I;++S)x[S]=a[f++]}_setValue_array_setNeedsUpdate(a,f){const x=this.resolvedProperty;for(let S=0,I=x.length;S!==I;++S)x[S]=a[f++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(a,f){const x=this.resolvedProperty;for(let S=0,I=x.length;S!==I;++S)x[S]=a[f++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(a,f){this.resolvedProperty[this.propertyIndex]=a[f]}_setValue_arrayElement_setNeedsUpdate(a,f){this.resolvedProperty[this.propertyIndex]=a[f],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(a,f){this.resolvedProperty[this.propertyIndex]=a[f],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(a,f){this.resolvedProperty.fromArray(a,f)}_setValue_fromArray_setNeedsUpdate(a,f){this.resolvedProperty.fromArray(a,f),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(a,f){this.resolvedProperty.fromArray(a,f),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(a,f){this.bind(),this.getValue(a,f)}_setValue_unbound(a,f){this.bind(),this.setValue(a,f)}bind(){let a=this.node;const f=this.parsedPath,x=f.objectName,S=f.propertyName;let I=f.propertyIndex;if(a||(a=Ti.findNode(this.rootNode,f.nodeName)||this.rootNode,this.node=a),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!a){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(x){let K=f.objectIndex;switch(x){case"materials":if(!a.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!a.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}a=a.material.materials;break;case"bones":if(!a.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}a=a.skeleton.bones;for(let q=0;q<a.length;q++)if(a[q].name===K){K=q;break}break;case"map":if("map"in a){a=a.map;break}if(!a.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!a.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}a=a.material.map;break;default:if(a[x]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}a=a[x]}if(K!==void 0){if(a[K]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,a);return}a=a[K]}}const k=a[S];if(k===void 0){const K=f.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+K+"."+S+" but it wasn't found.",a);return}let U=this.Versioning.None;this.targetObject=a,a.needsUpdate!==void 0?U=this.Versioning.NeedsUpdate:a.matrixWorldNeedsUpdate!==void 0&&(U=this.Versioning.MatrixWorldNeedsUpdate);let W=this.BindingType.Direct;if(I!==void 0){if(S==="morphTargetInfluences"){if(!a.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!a.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}a.morphTargetDictionary[I]!==void 0&&(I=a.morphTargetDictionary[I])}W=this.BindingType.ArrayElement,this.resolvedProperty=k,this.propertyIndex=I}else k.fromArray!==void 0&&k.toArray!==void 0?(W=this.BindingType.HasFromToArray,this.resolvedProperty=k):Array.isArray(k)?(W=this.BindingType.EntireArray,this.resolvedProperty=k):this.propertyName=S;this.getValue=this.GetterByBindingType[W],this.setValue=this.SetterByBindingTypeAndVersioning[W][U]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ti.Composite=zY,Ti.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Ti.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Ti.prototype.GetterByBindingType=[Ti.prototype._getValue_direct,Ti.prototype._getValue_array,Ti.prototype._getValue_arrayElement,Ti.prototype._getValue_toArray],Ti.prototype.SetterByBindingTypeAndVersioning=[[Ti.prototype._setValue_direct,Ti.prototype._setValue_direct_setNeedsUpdate,Ti.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ti.prototype._setValue_array,Ti.prototype._setValue_array_setNeedsUpdate,Ti.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ti.prototype._setValue_arrayElement,Ti.prototype._setValue_arrayElement_setNeedsUpdate,Ti.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ti.prototype._setValue_fromArray,Ti.prototype._setValue_fromArray_setNeedsUpdate,Ti.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class $Y{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Da(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const a={};this._indicesByUUID=a;for(let x=0,S=arguments.length;x!==S;++x)a[arguments[x].uuid]=x;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const f=this;this.stats={objects:{get total(){return f._objects.length},get inUse(){return this.total-f.nCachedObjects_}},get bindingsPerObject(){return f._bindings.length}}}add(){const a=this._objects,f=this._indicesByUUID,x=this._paths,S=this._parsedPaths,I=this._bindings,k=I.length;let U,W=a.length,K=this.nCachedObjects_;for(let q=0,ee=arguments.length;q!==ee;++q){const te=arguments[q],ie=te.uuid;let de=f[ie];if(de===void 0){de=W++,f[ie]=de,a.push(te);for(let le=0,ae=k;le!==ae;++le)I[le].push(new Ti(te,x[le],S[le]))}else if(de<K){U=a[de];const le=--K,ae=a[le];f[ae.uuid]=de,a[de]=ae,f[ie]=le,a[le]=te;for(let Ie=0,He=k;Ie!==He;++Ie){const Ne=I[Ie],ze=Ne[le];let Xe=Ne[de];Ne[de]=ze,Xe===void 0&&(Xe=new Ti(te,x[Ie],S[Ie])),Ne[le]=Xe}}else a[de]!==U&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=K}remove(){const a=this._objects,f=this._indicesByUUID,x=this._bindings,S=x.length;let I=this.nCachedObjects_;for(let k=0,U=arguments.length;k!==U;++k){const W=arguments[k],K=W.uuid,q=f[K];if(q!==void 0&&q>=I){const ee=I++,te=a[ee];f[te.uuid]=q,a[q]=te,f[K]=ee,a[ee]=W;for(let ie=0,de=S;ie!==de;++ie){const le=x[ie],ae=le[ee],Ie=le[q];le[q]=ae,le[ee]=Ie}}}this.nCachedObjects_=I}uncache(){const a=this._objects,f=this._indicesByUUID,x=this._bindings,S=x.length;let I=this.nCachedObjects_,k=a.length;for(let U=0,W=arguments.length;U!==W;++U){const K=arguments[U],q=K.uuid,ee=f[q];if(ee!==void 0)if(delete f[q],ee<I){const te=--I,ie=a[te],de=--k,le=a[de];f[ie.uuid]=ee,a[ee]=ie,f[le.uuid]=te,a[te]=le,a.pop();for(let ae=0,Ie=S;ae!==Ie;++ae){const He=x[ae],Ne=He[te],ze=He[de];He[ee]=Ne,He[te]=ze,He.pop()}}else{const te=--k,ie=a[te];te>0&&(f[ie.uuid]=ee),a[ee]=ie,a.pop();for(let de=0,le=S;de!==le;++de){const ae=x[de];ae[ee]=ae[te],ae.pop()}}}this.nCachedObjects_=I}subscribe_(a,f){const x=this._bindingsIndicesByPath;let S=x[a];const I=this._bindings;if(S!==void 0)return I[S];const k=this._paths,U=this._parsedPaths,W=this._objects,K=W.length,q=this.nCachedObjects_,ee=new Array(K);S=I.length,x[a]=S,k.push(a),U.push(f),I.push(ee);for(let te=q,ie=W.length;te!==ie;++te){const de=W[te];ee[te]=new Ti(de,a,f)}return ee}unsubscribe_(a){const f=this._bindingsIndicesByPath,x=f[a];if(x!==void 0){const S=this._paths,I=this._parsedPaths,k=this._bindings,U=k.length-1,W=k[U],K=a[U];f[K]=x,k[x]=W,k.pop(),I[x]=I[U],I.pop(),S[x]=S[U],S.pop()}}}class HY{constructor(a,f,x=null,S=f.blendMode){this._mixer=a,this._clip=f,this._localRoot=x,this.blendMode=S;const I=f.tracks,k=I.length,U=new Array(k),W={endingStart:Le,endingEnd:Le};for(let K=0;K!==k;++K){const q=I[K].createInterpolant(null);U[K]=q,q.settings=W}this._interpolantSettings=W,this._interpolants=U,this._propertyBindings=new Array(k),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=xt,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(a){return this._startTime=a,this}setLoop(a,f){return this.loop=a,this.repetitions=f,this}setEffectiveWeight(a){return this.weight=a,this._effectiveWeight=this.enabled?a:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(a){return this._scheduleFading(a,0,1)}fadeOut(a){return this._scheduleFading(a,1,0)}crossFadeFrom(a,f,x){if(a.fadeOut(f),this.fadeIn(f),x){const S=this._clip.duration,I=a._clip.duration,k=I/S,U=S/I;a.warp(1,k,f),this.warp(U,1,f)}return this}crossFadeTo(a,f,x){return a.crossFadeFrom(this,f,x)}stopFading(){const a=this._weightInterpolant;return a!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(a)),this}setEffectiveTimeScale(a){return this.timeScale=a,this._effectiveTimeScale=this.paused?0:a,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(a){return this.timeScale=this._clip.duration/a,this.stopWarping()}syncWith(a){return this.time=a.time,this.timeScale=a.timeScale,this.stopWarping()}halt(a){return this.warp(this._effectiveTimeScale,0,a)}warp(a,f,x){const S=this._mixer,I=S.time,k=this.timeScale;let U=this._timeScaleInterpolant;U===null&&(U=S._lendControlInterpolant(),this._timeScaleInterpolant=U);const W=U.parameterPositions,K=U.sampleValues;return W[0]=I,W[1]=I+x,K[0]=a/k,K[1]=f/k,this}stopWarping(){const a=this._timeScaleInterpolant;return a!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(a)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(a,f,x,S){if(!this.enabled){this._updateWeight(a);return}const I=this._startTime;if(I!==null){const W=(a-I)*x;W<0||x===0?f=0:(this._startTime=null,f=x*W)}f*=this._updateTimeScale(a);const k=this._updateTime(f),U=this._updateWeight(a);if(U>0){const W=this._interpolants,K=this._propertyBindings;switch(this.blendMode){case dn:for(let q=0,ee=W.length;q!==ee;++q)W[q].evaluate(k),K[q].accumulateAdditive(U);break;case en:default:for(let q=0,ee=W.length;q!==ee;++q)W[q].evaluate(k),K[q].accumulate(S,U)}}}_updateWeight(a){let f=0;if(this.enabled){f=this.weight;const x=this._weightInterpolant;if(x!==null){const S=x.evaluate(a)[0];f*=S,a>x.parameterPositions[1]&&(this.stopFading(),S===0&&(this.enabled=!1))}}return this._effectiveWeight=f,f}_updateTimeScale(a){let f=0;if(!this.paused){f=this.timeScale;const x=this._timeScaleInterpolant;if(x!==null){const S=x.evaluate(a)[0];f*=S,a>x.parameterPositions[1]&&(this.stopWarping(),f===0?this.paused=!0:this.timeScale=f)}}return this._effectiveTimeScale=f,f}_updateTime(a){const f=this._clip.duration,x=this.loop;let S=this.time+a,I=this._loopCount;const k=x===me;if(a===0)return I===-1?S:k&&(I&1)===1?f-S:S;if(x===at){I===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(S>=f)S=f;else if(S<0)S=0;else{this.time=S;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=S,this._mixer.dispatchEvent({type:"finished",action:this,direction:a<0?-1:1})}}else{if(I===-1&&(a>=0?(I=0,this._setEndings(!0,this.repetitions===0,k)):this._setEndings(this.repetitions===0,!0,k)),S>=f||S<0){const U=Math.floor(S/f);S-=f*U,I+=Math.abs(U);const W=this.repetitions-I;if(W<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,S=a>0?f:0,this.time=S,this._mixer.dispatchEvent({type:"finished",action:this,direction:a>0?1:-1});else{if(W===1){const K=a<0;this._setEndings(K,!K,k)}else this._setEndings(!1,!1,k);this._loopCount=I,this.time=S,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:U})}}else this.time=S;if(k&&(I&1)===1)return f-S}return S}_setEndings(a,f,x){const S=this._interpolantSettings;x?(S.endingStart=yt,S.endingEnd=yt):(a?S.endingStart=this.zeroSlopeAtStart?yt:Le:S.endingStart=Ft,f?S.endingEnd=this.zeroSlopeAtEnd?yt:Le:S.endingEnd=Ft)}_scheduleFading(a,f,x){const S=this._mixer,I=S.time;let k=this._weightInterpolant;k===null&&(k=S._lendControlInterpolant(),this._weightInterpolant=k);const U=k.parameterPositions,W=k.sampleValues;return U[0]=I,W[0]=f,U[1]=I+a,W[1]=x,this}}const jY=new Float32Array(1);class GY extends Oa{constructor(a){super(),this._root=a,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(a,f){const x=a._localRoot||this._root,S=a._clip.tracks,I=S.length,k=a._propertyBindings,U=a._interpolants,W=x.uuid,K=this._bindingsByRootAndName;let q=K[W];q===void 0&&(q={},K[W]=q);for(let ee=0;ee!==I;++ee){const te=S[ee],ie=te.name;let de=q[ie];if(de!==void 0)++de.referenceCount,k[ee]=de;else{if(de=k[ee],de!==void 0){de._cacheIndex===null&&(++de.referenceCount,this._addInactiveBinding(de,W,ie));continue}const le=f&&f._propertyBindings[ee].binding.parsedPath;de=new XO(Ti.create(x,ie,le),te.ValueTypeName,te.getValueSize()),++de.referenceCount,this._addInactiveBinding(de,W,ie),k[ee]=de}U[ee].resultBuffer=de.buffer}}_activateAction(a){if(!this._isActiveAction(a)){if(a._cacheIndex===null){const x=(a._localRoot||this._root).uuid,S=a._clip.uuid,I=this._actionsByClip[S];this._bindAction(a,I&&I.knownActions[0]),this._addInactiveAction(a,S,x)}const f=a._propertyBindings;for(let x=0,S=f.length;x!==S;++x){const I=f[x];I.useCount++===0&&(this._lendBinding(I),I.saveOriginalState())}this._lendAction(a)}}_deactivateAction(a){if(this._isActiveAction(a)){const f=a._propertyBindings;for(let x=0,S=f.length;x!==S;++x){const I=f[x];--I.useCount===0&&(I.restoreOriginalState(),this._takeBackBinding(I))}this._takeBackAction(a)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const a=this;this.stats={actions:{get total(){return a._actions.length},get inUse(){return a._nActiveActions}},bindings:{get total(){return a._bindings.length},get inUse(){return a._nActiveBindings}},controlInterpolants:{get total(){return a._controlInterpolants.length},get inUse(){return a._nActiveControlInterpolants}}}}_isActiveAction(a){const f=a._cacheIndex;return f!==null&&f<this._nActiveActions}_addInactiveAction(a,f,x){const S=this._actions,I=this._actionsByClip;let k=I[f];if(k===void 0)k={knownActions:[a],actionByRoot:{}},a._byClipCacheIndex=0,I[f]=k;else{const U=k.knownActions;a._byClipCacheIndex=U.length,U.push(a)}a._cacheIndex=S.length,S.push(a),k.actionByRoot[x]=a}_removeInactiveAction(a){const f=this._actions,x=f[f.length-1],S=a._cacheIndex;x._cacheIndex=S,f[S]=x,f.pop(),a._cacheIndex=null;const I=a._clip.uuid,k=this._actionsByClip,U=k[I],W=U.knownActions,K=W[W.length-1],q=a._byClipCacheIndex;K._byClipCacheIndex=q,W[q]=K,W.pop(),a._byClipCacheIndex=null;const ee=U.actionByRoot,te=(a._localRoot||this._root).uuid;delete ee[te],W.length===0&&delete k[I],this._removeInactiveBindingsForAction(a)}_removeInactiveBindingsForAction(a){const f=a._propertyBindings;for(let x=0,S=f.length;x!==S;++x){const I=f[x];--I.referenceCount===0&&this._removeInactiveBinding(I)}}_lendAction(a){const f=this._actions,x=a._cacheIndex,S=this._nActiveActions++,I=f[S];a._cacheIndex=S,f[S]=a,I._cacheIndex=x,f[x]=I}_takeBackAction(a){const f=this._actions,x=a._cacheIndex,S=--this._nActiveActions,I=f[S];a._cacheIndex=S,f[S]=a,I._cacheIndex=x,f[x]=I}_addInactiveBinding(a,f,x){const S=this._bindingsByRootAndName,I=this._bindings;let k=S[f];k===void 0&&(k={},S[f]=k),k[x]=a,a._cacheIndex=I.length,I.push(a)}_removeInactiveBinding(a){const f=this._bindings,x=a.binding,S=x.rootNode.uuid,I=x.path,k=this._bindingsByRootAndName,U=k[S],W=f[f.length-1],K=a._cacheIndex;W._cacheIndex=K,f[K]=W,f.pop(),delete U[I],Object.keys(U).length===0&&delete k[S]}_lendBinding(a){const f=this._bindings,x=a._cacheIndex,S=this._nActiveBindings++,I=f[S];a._cacheIndex=S,f[S]=a,I._cacheIndex=x,f[x]=I}_takeBackBinding(a){const f=this._bindings,x=a._cacheIndex,S=--this._nActiveBindings,I=f[S];a._cacheIndex=S,f[S]=a,I._cacheIndex=x,f[x]=I}_lendControlInterpolant(){const a=this._controlInterpolants,f=this._nActiveControlInterpolants++;let x=a[f];return x===void 0&&(x=new LS(new Float32Array(2),new Float32Array(2),1,jY),x.__cacheIndex=f,a[f]=x),x}_takeBackControlInterpolant(a){const f=this._controlInterpolants,x=a.__cacheIndex,S=--this._nActiveControlInterpolants,I=f[S];a.__cacheIndex=S,f[S]=a,I.__cacheIndex=x,f[x]=I}clipAction(a,f,x){const S=f||this._root,I=S.uuid;let k=typeof a=="string"?mv.findByName(S,a):a;const U=k!==null?k.uuid:a,W=this._actionsByClip[U];let K=null;if(x===void 0&&(k!==null?x=k.blendMode:x=en),W!==void 0){const ee=W.actionByRoot[I];if(ee!==void 0&&ee.blendMode===x)return ee;K=W.knownActions[0],k===null&&(k=K._clip)}if(k===null)return null;const q=new HY(this,k,f,x);return this._bindAction(q,K),this._addInactiveAction(q,U,I),q}existingAction(a,f){const x=f||this._root,S=x.uuid,I=typeof a=="string"?mv.findByName(x,a):a,k=I?I.uuid:a,U=this._actionsByClip[k];return U!==void 0&&U.actionByRoot[S]||null}stopAllAction(){const a=this._actions,f=this._nActiveActions;for(let x=f-1;x>=0;--x)a[x].stop();return this}update(a){a*=this.timeScale;const f=this._actions,x=this._nActiveActions,S=this.time+=a,I=Math.sign(a),k=this._accuIndex^=1;for(let K=0;K!==x;++K)f[K]._update(S,a,I,k);const U=this._bindings,W=this._nActiveBindings;for(let K=0;K!==W;++K)U[K].apply(k);return this}setTime(a){this.time=0;for(let f=0;f<this._actions.length;f++)this._actions[f].time=0;return this.update(a)}getRoot(){return this._root}uncacheClip(a){const f=this._actions,x=a.uuid,S=this._actionsByClip,I=S[x];if(I!==void 0){const k=I.knownActions;for(let U=0,W=k.length;U!==W;++U){const K=k[U];this._deactivateAction(K);const q=K._cacheIndex,ee=f[f.length-1];K._cacheIndex=null,K._byClipCacheIndex=null,ee._cacheIndex=q,f[q]=ee,f.pop(),this._removeInactiveBindingsForAction(K)}delete S[x]}}uncacheRoot(a){const f=a.uuid,x=this._actionsByClip;for(const k in x){const U=x[k].actionByRoot,W=U[f];W!==void 0&&(this._deactivateAction(W),this._removeInactiveAction(W))}const S=this._bindingsByRootAndName,I=S[f];if(I!==void 0)for(const k in I){const U=I[k];U.restoreOriginalState(),this._removeInactiveBinding(U)}}uncacheAction(a,f){const x=this.existingAction(a,f);x!==null&&(this._deactivateAction(x),this._removeInactiveAction(x))}}class HS{constructor(a){this.value=a}clone(){return new HS(this.value.clone===void 0?this.value:this.value.clone())}}let VY=0;class WY extends Oa{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:VY++}),this.name="",this.usage=rf,this.uniforms=[]}add(a){return this.uniforms.push(a),this}remove(a){const f=this.uniforms.indexOf(a);return f!==-1&&this.uniforms.splice(f,1),this}setName(a){return this.name=a,this}setUsage(a){return this.usage=a,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(a){this.name=a.name,this.usage=a.usage;const f=a.uniforms;this.uniforms.length=0;for(let x=0,S=f.length;x<S;x++)this.uniforms.push(f[x].clone());return this}clone(){return new this.constructor().copy(this)}}class QY extends $y{constructor(a,f,x=1){super(a,f),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=x}copy(a){return super.copy(a),this.meshPerAttribute=a.meshPerAttribute,this}clone(a){const f=super.clone(a);return f.meshPerAttribute=this.meshPerAttribute,f}toJSON(a){const f=super.toJSON(a);return f.isInstancedInterleavedBuffer=!0,f.meshPerAttribute=this.meshPerAttribute,f}}class KY{constructor(a,f,x,S,I){this.isGLBufferAttribute=!0,this.buffer=a,this.type=f,this.itemSize=x,this.elementSize=S,this.count=I,this.version=0}set needsUpdate(a){a===!0&&this.version++}setBuffer(a){return this.buffer=a,this}setType(a,f){return this.type=a,this.elementSize=f,this}setItemSize(a){return this.itemSize=a,this}setCount(a){return this.count=a,this}}class XY{constructor(a,f,x=0,S=1/0){this.ray=new Na(a,f),this.near=x,this.far=S,this.camera=null,this.layers=new _i,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(a,f){this.ray.set(a,f)}setFromCamera(a,f){f.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(f.matrixWorld),this.ray.direction.set(a.x,a.y,.5).unproject(f).sub(this.ray.origin).normalize(),this.camera=f):f.isOrthographicCamera?(this.ray.origin.set(a.x,a.y,(f.near+f.far)/(f.near-f.far)).unproject(f),this.ray.direction.set(0,0,-1).transformDirection(f.matrixWorld),this.camera=f):console.error("THREE.Raycaster: Unsupported camera type: "+f.type)}intersectObject(a,f=!0,x=[]){return jS(a,this,x,f),x.sort(qO),x}intersectObjects(a,f=!0,x=[]){for(let S=0,I=a.length;S<I;S++)jS(a[S],this,x,f);return x.sort(qO),x}}function qO($,a){return $.distance-a.distance}function jS($,a,f,x){if($.layers.test(a.layers)&&$.raycast(a,f),x===!0){const S=$.children;for(let I=0,k=S.length;I<k;I++)jS(S[I],a,f,!0)}}class qY{constructor(a=1,f=0,x=0){return this.radius=a,this.phi=f,this.theta=x,this}set(a,f,x){return this.radius=a,this.phi=f,this.theta=x,this}copy(a){return this.radius=a.radius,this.phi=a.phi,this.theta=a.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(a){return this.setFromCartesianCoords(a.x,a.y,a.z)}setFromCartesianCoords(a,f,x){return this.radius=Math.sqrt(a*a+f*f+x*x),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(a,x),this.phi=Math.acos(fo(f/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class YY{constructor(a=1,f=0,x=0){return this.radius=a,this.theta=f,this.y=x,this}set(a,f,x){return this.radius=a,this.theta=f,this.y=x,this}copy(a){return this.radius=a.radius,this.theta=a.theta,this.y=a.y,this}setFromVector3(a){return this.setFromCartesianCoords(a.x,a.y,a.z)}setFromCartesianCoords(a,f,x){return this.radius=Math.sqrt(a*a+x*x),this.theta=Math.atan2(a,x),this.y=f,this}clone(){return new this.constructor().copy(this)}}const YO=new In;class JY{constructor(a=new In(1/0,1/0),f=new In(-1/0,-1/0)){this.isBox2=!0,this.min=a,this.max=f}set(a,f){return this.min.copy(a),this.max.copy(f),this}setFromPoints(a){this.makeEmpty();for(let f=0,x=a.length;f<x;f++)this.expandByPoint(a[f]);return this}setFromCenterAndSize(a,f){const x=YO.copy(f).multiplyScalar(.5);return this.min.copy(a).sub(x),this.max.copy(a).add(x),this}clone(){return new this.constructor().copy(this)}copy(a){return this.min.copy(a.min),this.max.copy(a.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(a){return this.isEmpty()?a.set(0,0):a.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(a){return this.isEmpty()?a.set(0,0):a.subVectors(this.max,this.min)}expandByPoint(a){return this.min.min(a),this.max.max(a),this}expandByVector(a){return this.min.sub(a),this.max.add(a),this}expandByScalar(a){return this.min.addScalar(-a),this.max.addScalar(a),this}containsPoint(a){return!(a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y)}containsBox(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y}getParameter(a,f){return f.set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(a){return!(a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y)}clampPoint(a,f){return f.copy(a).clamp(this.min,this.max)}distanceToPoint(a){return YO.copy(a).clamp(this.min,this.max).sub(a).length()}intersect(a){return this.min.max(a.min),this.max.min(a.max),this}union(a){return this.min.min(a.min),this.max.max(a.max),this}translate(a){return this.min.add(a),this.max.add(a),this}equals(a){return a.min.equals(this.min)&&a.max.equals(this.max)}}const JO=new dt,cb=new dt;class ZY{constructor(a=new dt,f=new dt){this.start=a,this.end=f}set(a,f){return this.start.copy(a),this.end.copy(f),this}copy(a){return this.start.copy(a.start),this.end.copy(a.end),this}getCenter(a){return a.addVectors(this.start,this.end).multiplyScalar(.5)}delta(a){return a.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(a,f){return this.delta(f).multiplyScalar(a).add(this.start)}closestPointToPointParameter(a,f){JO.subVectors(a,this.start),cb.subVectors(this.end,this.start);const x=cb.dot(cb);let I=cb.dot(JO)/x;return f&&(I=fo(I,0,1)),I}closestPointToPoint(a,f,x){const S=this.closestPointToPointParameter(a,f);return this.delta(x).multiplyScalar(S).add(this.start)}applyMatrix4(a){return this.start.applyMatrix4(a),this.end.applyMatrix4(a),this}equals(a){return a.start.equals(this.start)&&a.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const ZO=new dt;class eJ extends bi{constructor(a,f){super(),this.light=a,this.matrix=a.matrixWorld,this.matrixAutoUpdate=!1,this.color=f,this.type="SpotLightHelper";const x=new ci,S=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let k=0,U=1,W=32;k<W;k++,U++){const K=k/W*Math.PI*2,q=U/W*Math.PI*2;S.push(Math.cos(K),Math.sin(K),1,Math.cos(q),Math.sin(q),1)}x.setAttribute("position",new Rr(S,3));const I=new Ua({fog:!1,toneMapped:!1});this.cone=new ac(x,I),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const a=this.light.distance?this.light.distance:1e3,f=a*Math.tan(this.light.angle);this.cone.scale.set(f,f,a),ZO.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(ZO),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const rd=new dt,ub=new _r,GS=new _r;class tJ extends ac{constructor(a){const f=eD(a),x=new ci,S=[],I=[],k=new xr(0,0,1),U=new xr(0,1,0);for(let K=0;K<f.length;K++){const q=f[K];q.parent&&q.parent.isBone&&(S.push(0,0,0),S.push(0,0,0),I.push(k.r,k.g,k.b),I.push(U.r,U.g,U.b))}x.setAttribute("position",new Rr(S,3)),x.setAttribute("color",new Rr(I,3));const W=new Ua({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(x,W),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=a,this.bones=f,this.matrix=a.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(a){const f=this.bones,x=this.geometry,S=x.getAttribute("position");GS.copy(this.root.matrixWorld).invert();for(let I=0,k=0;I<f.length;I++){const U=f[I];U.parent&&U.parent.isBone&&(ub.multiplyMatrices(GS,U.matrixWorld),rd.setFromMatrixPosition(ub),S.setXYZ(k,rd.x,rd.y,rd.z),ub.multiplyMatrices(GS,U.parent.matrixWorld),rd.setFromMatrixPosition(ub),S.setXYZ(k+1,rd.x,rd.y,rd.z),k+=2)}x.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(a)}dispose(){this.geometry.dispose(),this.material.dispose()}}function eD($){const a=[];$.isBone===!0&&a.push($);for(let f=0;f<$.children.length;f++)a.push.apply(a,eD($.children[f]));return a}class nJ extends pa{constructor(a,f,x){const S=new cp(f,4,2),I=new Xu({wireframe:!0,fog:!1,toneMapped:!1});super(S,I),this.light=a,this.color=x,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const rJ=new dt,tD=new xr,nD=new xr;class iJ extends bi{constructor(a,f,x){super(),this.light=a,this.matrix=a.matrixWorld,this.matrixAutoUpdate=!1,this.color=x,this.type="HemisphereLightHelper";const S=new lp(f);S.rotateY(Math.PI*.5),this.material=new Xu({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const I=S.getAttribute("position"),k=new Float32Array(I.count*3);S.setAttribute("color",new Wi(k,3)),this.add(new pa(S,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const a=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const f=a.geometry.getAttribute("color");tD.copy(this.light.color),nD.copy(this.light.groundColor);for(let x=0,S=f.count;x<S;x++){const I=x<S/2?tD:nD;f.setXYZ(x,I.r,I.g,I.b)}f.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),a.lookAt(rJ.setFromMatrixPosition(this.light.matrixWorld).negate())}}class oJ extends ac{constructor(a=10,f=10,x=4473924,S=8947848){x=new xr(x),S=new xr(S);const I=f/2,k=a/f,U=a/2,W=[],K=[];for(let te=0,ie=0,de=-U;te<=f;te++,de+=k){W.push(-U,0,de,U,0,de),W.push(de,0,-U,de,0,U);const le=te===I?x:S;le.toArray(K,ie),ie+=3,le.toArray(K,ie),ie+=3,le.toArray(K,ie),ie+=3,le.toArray(K,ie),ie+=3}const q=new ci;q.setAttribute("position",new Rr(W,3)),q.setAttribute("color",new Rr(K,3));const ee=new Ua({vertexColors:!0,toneMapped:!1});super(q,ee),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class aJ extends ac{constructor(a=10,f=16,x=8,S=64,I=4473924,k=8947848){I=new xr(I),k=new xr(k);const U=[],W=[];if(f>1)for(let ee=0;ee<f;ee++){const te=ee/f*(Math.PI*2),ie=Math.sin(te)*a,de=Math.cos(te)*a;U.push(0,0,0),U.push(ie,0,de);const le=ee&1?I:k;W.push(le.r,le.g,le.b),W.push(le.r,le.g,le.b)}for(let ee=0;ee<x;ee++){const te=ee&1?I:k,ie=a-a/x*ee;for(let de=0;de<S;de++){let le=de/S*(Math.PI*2),ae=Math.sin(le)*ie,Ie=Math.cos(le)*ie;U.push(ae,0,Ie),W.push(te.r,te.g,te.b),le=(de+1)/S*(Math.PI*2),ae=Math.sin(le)*ie,Ie=Math.cos(le)*ie,U.push(ae,0,Ie),W.push(te.r,te.g,te.b)}}const K=new ci;K.setAttribute("position",new Rr(U,3)),K.setAttribute("color",new Rr(W,3));const q=new Ua({vertexColors:!0,toneMapped:!1});super(K,q),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const rD=new dt,db=new dt,iD=new dt;class sJ extends bi{constructor(a,f,x){super(),this.light=a,this.matrix=a.matrixWorld,this.matrixAutoUpdate=!1,this.color=x,this.type="DirectionalLightHelper",f===void 0&&(f=1);let S=new ci;S.setAttribute("position",new Rr([-f,f,0,f,f,0,f,-f,0,-f,-f,0,-f,f,0],3));const I=new Ua({fog:!1,toneMapped:!1});this.lightPlane=new td(S,I),this.add(this.lightPlane),S=new ci,S.setAttribute("position",new Rr([0,0,0,0,0,1],3)),this.targetLine=new td(S,I),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),rD.setFromMatrixPosition(this.light.matrixWorld),db.setFromMatrixPosition(this.light.target.matrixWorld),iD.subVectors(db,rD),this.lightPlane.lookAt(db),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(db),this.targetLine.scale.z=iD.length()}}const fb=new dt,yo=new Py;class lJ extends ac{constructor(a){const f=new ci,x=new Ua({color:16777215,vertexColors:!0,toneMapped:!1}),S=[],I=[],k={};U("n1","n2"),U("n2","n4"),U("n4","n3"),U("n3","n1"),U("f1","f2"),U("f2","f4"),U("f4","f3"),U("f3","f1"),U("n1","f1"),U("n2","f2"),U("n3","f3"),U("n4","f4"),U("p","n1"),U("p","n2"),U("p","n3"),U("p","n4"),U("u1","u2"),U("u2","u3"),U("u3","u1"),U("c","t"),U("p","c"),U("cn1","cn2"),U("cn3","cn4"),U("cf1","cf2"),U("cf3","cf4");function U(de,le){W(de),W(le)}function W(de){S.push(0,0,0),I.push(0,0,0),k[de]===void 0&&(k[de]=[]),k[de].push(S.length/3-1)}f.setAttribute("position",new Rr(S,3)),f.setAttribute("color",new Rr(I,3)),super(f,x),this.type="CameraHelper",this.camera=a,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=a.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=k,this.update();const K=new xr(16755200),q=new xr(16711680),ee=new xr(43775),te=new xr(16777215),ie=new xr(3355443);this.setColors(K,q,ee,te,ie)}setColors(a,f,x,S,I){const U=this.geometry.getAttribute("color");U.setXYZ(0,a.r,a.g,a.b),U.setXYZ(1,a.r,a.g,a.b),U.setXYZ(2,a.r,a.g,a.b),U.setXYZ(3,a.r,a.g,a.b),U.setXYZ(4,a.r,a.g,a.b),U.setXYZ(5,a.r,a.g,a.b),U.setXYZ(6,a.r,a.g,a.b),U.setXYZ(7,a.r,a.g,a.b),U.setXYZ(8,a.r,a.g,a.b),U.setXYZ(9,a.r,a.g,a.b),U.setXYZ(10,a.r,a.g,a.b),U.setXYZ(11,a.r,a.g,a.b),U.setXYZ(12,a.r,a.g,a.b),U.setXYZ(13,a.r,a.g,a.b),U.setXYZ(14,a.r,a.g,a.b),U.setXYZ(15,a.r,a.g,a.b),U.setXYZ(16,a.r,a.g,a.b),U.setXYZ(17,a.r,a.g,a.b),U.setXYZ(18,a.r,a.g,a.b),U.setXYZ(19,a.r,a.g,a.b),U.setXYZ(20,a.r,a.g,a.b),U.setXYZ(21,a.r,a.g,a.b),U.setXYZ(22,a.r,a.g,a.b),U.setXYZ(23,a.r,a.g,a.b),U.setXYZ(24,f.r,f.g,f.b),U.setXYZ(25,f.r,f.g,f.b),U.setXYZ(26,f.r,f.g,f.b),U.setXYZ(27,f.r,f.g,f.b),U.setXYZ(28,f.r,f.g,f.b),U.setXYZ(29,f.r,f.g,f.b),U.setXYZ(30,f.r,f.g,f.b),U.setXYZ(31,f.r,f.g,f.b),U.setXYZ(32,x.r,x.g,x.b),U.setXYZ(33,x.r,x.g,x.b),U.setXYZ(34,x.r,x.g,x.b),U.setXYZ(35,x.r,x.g,x.b),U.setXYZ(36,x.r,x.g,x.b),U.setXYZ(37,x.r,x.g,x.b),U.setXYZ(38,S.r,S.g,S.b),U.setXYZ(39,S.r,S.g,S.b),U.setXYZ(40,I.r,I.g,I.b),U.setXYZ(41,I.r,I.g,I.b),U.setXYZ(42,I.r,I.g,I.b),U.setXYZ(43,I.r,I.g,I.b),U.setXYZ(44,I.r,I.g,I.b),U.setXYZ(45,I.r,I.g,I.b),U.setXYZ(46,I.r,I.g,I.b),U.setXYZ(47,I.r,I.g,I.b),U.setXYZ(48,I.r,I.g,I.b),U.setXYZ(49,I.r,I.g,I.b),U.needsUpdate=!0}update(){const a=this.geometry,f=this.pointMap,x=1,S=1;yo.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Mo("c",f,a,yo,0,0,-1),Mo("t",f,a,yo,0,0,1),Mo("n1",f,a,yo,-x,-S,-1),Mo("n2",f,a,yo,x,-S,-1),Mo("n3",f,a,yo,-x,S,-1),Mo("n4",f,a,yo,x,S,-1),Mo("f1",f,a,yo,-x,-S,1),Mo("f2",f,a,yo,x,-S,1),Mo("f3",f,a,yo,-x,S,1),Mo("f4",f,a,yo,x,S,1),Mo("u1",f,a,yo,x*.7,S*1.1,-1),Mo("u2",f,a,yo,-x*.7,S*1.1,-1),Mo("u3",f,a,yo,0,S*2,-1),Mo("cf1",f,a,yo,-x,0,1),Mo("cf2",f,a,yo,x,0,1),Mo("cf3",f,a,yo,0,-S,1),Mo("cf4",f,a,yo,0,S,1),Mo("cn1",f,a,yo,-x,0,-1),Mo("cn2",f,a,yo,x,0,-1),Mo("cn3",f,a,yo,0,-S,-1),Mo("cn4",f,a,yo,0,S,-1),a.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Mo($,a,f,x,S,I,k){fb.set(S,I,k).unproject(x);const U=a[$];if(U!==void 0){const W=f.getAttribute("position");for(let K=0,q=U.length;K<q;K++)W.setXYZ(U[K],fb.x,fb.y,fb.z)}}const hb=new Nc;class cJ extends ac{constructor(a,f=16776960){const x=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),S=new Float32Array(8*3),I=new ci;I.setIndex(new Wi(x,1)),I.setAttribute("position",new Wi(S,3)),super(I,new Ua({color:f,toneMapped:!1})),this.object=a,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(a){if(a!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&hb.setFromObject(this.object),hb.isEmpty())return;const f=hb.min,x=hb.max,S=this.geometry.attributes.position,I=S.array;I[0]=x.x,I[1]=x.y,I[2]=x.z,I[3]=f.x,I[4]=x.y,I[5]=x.z,I[6]=f.x,I[7]=f.y,I[8]=x.z,I[9]=x.x,I[10]=f.y,I[11]=x.z,I[12]=x.x,I[13]=x.y,I[14]=f.z,I[15]=f.x,I[16]=x.y,I[17]=f.z,I[18]=f.x,I[19]=f.y,I[20]=f.z,I[21]=x.x,I[22]=f.y,I[23]=f.z,S.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(a){return this.object=a,this.update(),this}copy(a,f){return super.copy(a,f),this.object=a.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class uJ extends ac{constructor(a,f=16776960){const x=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),S=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],I=new ci;I.setIndex(new Wi(x,1)),I.setAttribute("position",new Rr(S,3)),super(I,new Ua({color:f,toneMapped:!1})),this.box=a,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(a){const f=this.box;f.isEmpty()||(f.getCenter(this.position),f.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(a))}dispose(){this.geometry.dispose(),this.material.dispose()}}class dJ extends td{constructor(a,f=1,x=16776960){const S=x,I=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],k=new ci;k.setAttribute("position",new Rr(I,3)),k.computeBoundingSphere(),super(k,new Ua({color:S,toneMapped:!1})),this.type="PlaneHelper",this.plane=a,this.size=f;const U=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],W=new ci;W.setAttribute("position",new Rr(U,3)),W.computeBoundingSphere(),this.add(new pa(W,new Xu({color:S,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(a){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(a)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const oD=new dt;let pb,VS;class fJ extends bi{constructor(a=new dt(0,0,1),f=new dt(0,0,0),x=1,S=16776960,I=x*.2,k=I*.2){super(),this.type="ArrowHelper",pb===void 0&&(pb=new ci,pb.setAttribute("position",new Rr([0,0,0,0,1,0],3)),VS=new gf(0,.5,1,5,1),VS.translate(0,-.5,0)),this.position.copy(f),this.line=new td(pb,new Ua({color:S,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new pa(VS,new Xu({color:S,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(a),this.setLength(x,I,k)}setDirection(a){if(a.y>.99999)this.quaternion.set(0,0,0,1);else if(a.y<-.99999)this.quaternion.set(1,0,0,0);else{oD.set(a.z,0,-a.x).normalize();const f=Math.acos(a.y);this.quaternion.setFromAxisAngle(oD,f)}}setLength(a,f=a*.2,x=f*.2){this.line.scale.set(1,Math.max(1e-4,a-f),1),this.line.updateMatrix(),this.cone.scale.set(x,f,x),this.cone.position.y=a,this.cone.updateMatrix()}setColor(a){this.line.material.color.set(a),this.cone.material.color.set(a)}copy(a){return super.copy(a,!1),this.line.copy(a.line),this.cone.copy(a.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class hJ extends ac{constructor(a=1){const f=[0,0,0,a,0,0,0,0,0,0,a,0,0,0,0,0,0,a],x=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],S=new ci;S.setAttribute("position",new Rr(f,3)),S.setAttribute("color",new Rr(x,3));const I=new Ua({vertexColors:!0,toneMapped:!1});super(S,I),this.type="AxesHelper"}setColors(a,f,x){const S=new xr,I=this.geometry.attributes.color.array;return S.set(a),S.toArray(I,0),S.toArray(I,3),S.set(f),S.toArray(I,6),S.toArray(I,9),S.set(x),S.toArray(I,12),S.toArray(I,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class pJ{constructor(){this.type="ShapePath",this.color=new xr,this.subPaths=[],this.currentPath=null}moveTo(a,f){return this.currentPath=new qg,this.subPaths.push(this.currentPath),this.currentPath.moveTo(a,f),this}lineTo(a,f){return this.currentPath.lineTo(a,f),this}quadraticCurveTo(a,f,x,S){return this.currentPath.quadraticCurveTo(a,f,x,S),this}bezierCurveTo(a,f,x,S,I,k){return this.currentPath.bezierCurveTo(a,f,x,S,I,k),this}splineThru(a){return this.currentPath.splineThru(a),this}toShapes(a){function f(Ie){const He=[];for(let Ne=0,ze=Ie.length;Ne<ze;Ne++){const Xe=Ie[Ne],pt=new vf;pt.curves=Xe.curves,He.push(pt)}return He}function x(Ie,He){const Ne=He.length;let ze=!1;for(let Xe=Ne-1,pt=0;pt<Ne;Xe=pt++){let Pt=He[Xe],Ge=He[pt],vt=Ge.x-Pt.x,_t=Ge.y-Pt.y;if(Math.abs(_t)>Number.EPSILON){if(_t<0&&(Pt=He[pt],vt=-vt,Ge=He[Xe],_t=-_t),Ie.y<Pt.y||Ie.y>Ge.y)continue;if(Ie.y===Pt.y){if(Ie.x===Pt.x)return!0}else{const Gt=_t*(Ie.x-Pt.x)-vt*(Ie.y-Pt.y);if(Gt===0)return!0;if(Gt<0)continue;ze=!ze}}else{if(Ie.y!==Pt.y)continue;if(Ge.x<=Ie.x&&Ie.x<=Pt.x||Pt.x<=Ie.x&&Ie.x<=Ge.x)return!0}}return ze}const S=sc.isClockWise,I=this.subPaths;if(I.length===0)return[];let k,U,W;const K=[];if(I.length===1)return U=I[0],W=new vf,W.curves=U.curves,K.push(W),K;let q=!S(I[0].getPoints());q=a?!q:q;const ee=[],te=[];let ie=[],de=0,le;te[de]=void 0,ie[de]=[];for(let Ie=0,He=I.length;Ie<He;Ie++)U=I[Ie],le=U.getPoints(),k=S(le),k=a?!k:k,k?(!q&&te[de]&&de++,te[de]={s:new vf,p:le},te[de].s.curves=U.curves,q&&de++,ie[de]=[]):ie[de].push({h:U,p:le[0]});if(!te[0])return f(I);if(te.length>1){let Ie=!1,He=0;for(let Ne=0,ze=te.length;Ne<ze;Ne++)ee[Ne]=[];for(let Ne=0,ze=te.length;Ne<ze;Ne++){const Xe=ie[Ne];for(let pt=0;pt<Xe.length;pt++){const Pt=Xe[pt];let Ge=!0;for(let vt=0;vt<te.length;vt++)x(Pt.p,te[vt].p)&&(Ne!==vt&&He++,Ge?(Ge=!1,ee[vt].push(Pt)):Ie=!0);Ge&&ee[Ne].push(Pt)}}He>0&&Ie===!1&&(ie=ee)}let ae;for(let Ie=0,He=te.length;Ie<He;Ie++){W=te[Ie].s,K.push(W),ae=ie[Ie];for(let Ne=0,ze=ae.length;Ne<ze;Ne++)W.holes.push(ae[Ne].h)}return K}}const Gc=mJ();function mJ(){const $=new ArrayBuffer(4),a=new Float32Array($),f=new Uint32Array($),x=new Uint32Array(512),S=new Uint32Array(512);for(let W=0;W<256;++W){const K=W-127;K<-27?(x[W]=0,x[W|256]=32768,S[W]=24,S[W|256]=24):K<-14?(x[W]=1024>>-K-14,x[W|256]=1024>>-K-14|32768,S[W]=-K-1,S[W|256]=-K-1):K<=15?(x[W]=K+15<<10,x[W|256]=K+15<<10|32768,S[W]=13,S[W|256]=13):K<128?(x[W]=31744,x[W|256]=64512,S[W]=24,S[W|256]=24):(x[W]=31744,x[W|256]=64512,S[W]=13,S[W|256]=13)}const I=new Uint32Array(2048),k=new Uint32Array(64),U=new Uint32Array(64);for(let W=1;W<1024;++W){let K=W<<13,q=0;for(;!(K&8388608);)K<<=1,q-=8388608;K&=-8388609,q+=947912704,I[W]=K|q}for(let W=1024;W<2048;++W)I[W]=939524096+(W-1024<<13);for(let W=1;W<31;++W)k[W]=W<<23;k[31]=1199570944,k[32]=2147483648;for(let W=33;W<63;++W)k[W]=2147483648+(W-32<<23);k[63]=3347054592;for(let W=1;W<64;++W)W!==32&&(U[W]=1024);return{floatView:a,uint32View:f,baseTable:x,shiftTable:S,mantissaTable:I,exponentTable:k,offsetTable:U}}function gJ($){Math.abs($)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),$=fo($,-65504,65504),Gc.floatView[0]=$;const a=Gc.uint32View[0],f=a>>23&511;return Gc.baseTable[f]+((a&8388607)>>Gc.shiftTable[f])}function vJ($){const a=$>>10;return Gc.uint32View[0]=Gc.mantissaTable[Gc.offsetTable[a]+($&1023)]+Gc.exponentTable[a],Gc.floatView[0]}var AJ=Object.freeze({__proto__:null,toHalfFloat:gJ,fromHalfFloat:vJ});function yJ(){console.error("THREE.ImmediateRenderObject has been removed.")}class bJ extends ns{constructor(a,f,x){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(a,f,x),this.samples=4}}class xJ extends lf{constructor(a,f,x,S){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(a,f,x,S)}}class EJ extends zh{constructor(a,f,x,S){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(a,f,x,S)}}class CJ extends Zu{constructor(a,f,x,S,I,k){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(a,f,x,S,I,k)}}class wJ extends Yg{constructor(a,f,x,S){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(a,f,x,S)}}class SJ extends Jg{constructor(a,f,x,S){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(a,f,x,S)}}class _J extends Zg{constructor(a,f,x,S,I,k,U){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(a,f,x,S,I,k,U)}}class MJ extends gf{constructor(a,f,x,S,I,k,U,W){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(a,f,x,S,I,k,U,W)}}class TJ extends ev{constructor(a,f){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(a,f)}}class RJ extends iv{constructor(a,f){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(a,f)}}class IJ extends ov{constructor(a,f){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(a,f)}}class PJ extends ap{constructor(a,f,x,S){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(a,f,x,S)}}class LJ extends lp{constructor(a,f){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(a,f)}}class BJ extends qh{constructor(a,f,x,S){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(a,f,x,S)}}class OJ extends $c{constructor(a,f,x,S){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(a,f,x,S)}}class DJ extends av{constructor(a,f,x,S,I,k){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(a,f,x,S,I,k)}}class NJ extends sv{constructor(a,f){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(a,f)}}class kJ extends cp{constructor(a,f,x,S,I,k,U){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(a,f,x,S,I,k,U)}}class FJ extends lv{constructor(a,f){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(a,f)}}class UJ extends cv{constructor(a,f,x,S,I){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(a,f,x,S,I)}}class zJ extends uv{constructor(a,f,x,S,I,k){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(a,f,x,S,I,k)}}class $J extends dv{constructor(a,f,x,S,I){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(a,f,x,S,I)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:d}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=d)},"./node_modules/super-three/examples/jsm/libs/ktx-parse.module.js":(l,u,c)=>{c.r(u),c.d(u,{KHR_DF_CHANNEL_RGBSDA_ALPHA:()=>fe,KHR_DF_CHANNEL_RGBSDA_BLUE:()=>Yt,KHR_DF_CHANNEL_RGBSDA_DEPTH:()=>ye,KHR_DF_CHANNEL_RGBSDA_GREEN:()=>Dt,KHR_DF_CHANNEL_RGBSDA_RED:()=>Tt,KHR_DF_CHANNEL_RGBSDA_STENCIL:()=>Ve,KHR_DF_FLAG_ALPHA_PREMULTIPLIED:()=>L,KHR_DF_FLAG_ALPHA_STRAIGHT:()=>R,KHR_DF_KHR_DESCRIPTORTYPE_BASICFORMAT:()=>y,KHR_DF_MODEL_ASTC:()=>_,KHR_DF_MODEL_ETC1:()=>E,KHR_DF_MODEL_ETC1S:()=>P,KHR_DF_MODEL_ETC2:()=>C,KHR_DF_MODEL_RGBSDA:()=>w,KHR_DF_MODEL_UNSPECIFIED:()=>g,KHR_DF_PRIMARIES_ACES:()=>ot,KHR_DF_PRIMARIES_ACESCC:()=>it,KHR_DF_PRIMARIES_ADOBERGB:()=>Ct,KHR_DF_PRIMARIES_BT2020:()=>ke,KHR_DF_PRIMARIES_BT601_EBU:()=>qe,KHR_DF_PRIMARIES_BT601_SMPTE:()=>Ke,KHR_DF_PRIMARIES_BT709:()=>$e,KHR_DF_PRIMARIES_CIEXYZ:()=>st,KHR_DF_PRIMARIES_DISPLAYP3:()=>gt,KHR_DF_PRIMARIES_NTSC1953:()=>ft,KHR_DF_PRIMARIES_PAL525:()=>Et,KHR_DF_PRIMARIES_UNSPECIFIED:()=>Re,KHR_DF_SAMPLE_DATATYPE_EXPONENT:()=>Ce,KHR_DF_SAMPLE_DATATYPE_FLOAT:()=>pe,KHR_DF_SAMPLE_DATATYPE_LINEAR:()=>Se,KHR_DF_SAMPLE_DATATYPE_SIGNED:()=>_e,KHR_DF_TRANSFER_ACESCC:()=>ce,KHR_DF_TRANSFER_ACESCCT:()=>Be,KHR_DF_TRANSFER_ADOBERGB:()=>ge,KHR_DF_TRANSFER_BT1886:()=>N,KHR_DF_TRANSFER_DCIP3:()=>X,KHR_DF_TRANSFER_HLG_EOTF:()=>j,KHR_DF_TRANSFER_HLG_OETF:()=>z,KHR_DF_TRANSFER_ITU:()=>V,KHR_DF_TRANSFER_LINEAR:()=>D,KHR_DF_TRANSFER_NTSC:()=>B,KHR_DF_TRANSFER_PAL625_EOTF:()=>Z,KHR_DF_TRANSFER_PAL_OETF:()=>J,KHR_DF_TRANSFER_PQ_EOTF:()=>G,KHR_DF_TRANSFER_PQ_OETF:()=>Q,KHR_DF_TRANSFER_SLOG:()=>O,KHR_DF_TRANSFER_SLOG2:()=>F,KHR_DF_TRANSFER_SRGB:()=>H,KHR_DF_TRANSFER_ST240:()=>oe,KHR_DF_TRANSFER_UNSPECIFIED:()=>T,KHR_DF_VENDORID_KHRONOS:()=>A,KHR_DF_VERSION:()=>b,KHR_SUPERCOMPRESSION_BASISLZ:()=>p,KHR_SUPERCOMPRESSION_NONE:()=>h,KHR_SUPERCOMPRESSION_ZLIB:()=>v,KHR_SUPERCOMPRESSION_ZSTD:()=>m,KTX2Container:()=>Ku,VK_FORMAT_A1R5G5B5_UNORM_PACK16:()=>Pe,VK_FORMAT_A2B10G10R10_SINT_PACK32:()=>$n,VK_FORMAT_A2B10G10R10_SNORM_PACK32:()=>sn,VK_FORMAT_A2B10G10R10_UINT_PACK32:()=>Xt,VK_FORMAT_A2B10G10R10_UNORM_PACK32:()=>gn,VK_FORMAT_A2R10G10B10_SINT_PACK32:()=>Kt,VK_FORMAT_A2R10G10B10_SNORM_PACK32:()=>Mt,VK_FORMAT_A2R10G10B10_UINT_PACK32:()=>Ut,VK_FORMAT_A2R10G10B10_UNORM_PACK32:()=>St,VK_FORMAT_A4B4G4R4_UNORM_PACK16_EXT:()=>Fc,VK_FORMAT_A4R4G4B4_UNORM_PACK16_EXT:()=>nc,VK_FORMAT_ASTC_10x10_SFLOAT_BLOCK_EXT:()=>Wu,VK_FORMAT_ASTC_10x10_SRGB_BLOCK:()=>sf,VK_FORMAT_ASTC_10x10_UNORM_BLOCK:()=>ju,VK_FORMAT_ASTC_10x5_SFLOAT_BLOCK_EXT:()=>kc,VK_FORMAT_ASTC_10x5_SRGB_BLOCK:()=>In,VK_FORMAT_ASTC_10x5_UNORM_BLOCK:()=>Bw,VK_FORMAT_ASTC_10x6_SFLOAT_BLOCK_EXT:()=>Ng,VK_FORMAT_ASTC_10x6_SRGB_BLOCK:()=>Ig,VK_FORMAT_ASTC_10x6_UNORM_BLOCK:()=>da,VK_FORMAT_ASTC_10x8_SFLOAT_BLOCK_EXT:()=>Vu,VK_FORMAT_ASTC_10x8_SRGB_BLOCK:()=>Ow,VK_FORMAT_ASTC_10x8_UNORM_BLOCK:()=>py,VK_FORMAT_ASTC_12x10_SFLOAT_BLOCK_EXT:()=>Qu,VK_FORMAT_ASTC_12x10_SRGB_BLOCK:()=>kh,VK_FORMAT_ASTC_12x10_UNORM_BLOCK:()=>Oc,VK_FORMAT_ASTC_12x12_SFLOAT_BLOCK_EXT:()=>tc,VK_FORMAT_ASTC_12x12_SRGB_BLOCK:()=>Yo,VK_FORMAT_ASTC_12x12_UNORM_BLOCK:()=>Pg,VK_FORMAT_ASTC_4x4_SFLOAT_BLOCK_EXT:()=>kw,VK_FORMAT_ASTC_4x4_SRGB_BLOCK:()=>Cw,VK_FORMAT_ASTC_4x4_UNORM_BLOCK:()=>Ew,VK_FORMAT_ASTC_5x4_SFLOAT_BLOCK_EXT:()=>Fw,VK_FORMAT_ASTC_5x4_SRGB_BLOCK:()=>Sw,VK_FORMAT_ASTC_5x4_UNORM_BLOCK:()=>ww,VK_FORMAT_ASTC_5x5_SFLOAT_BLOCK_EXT:()=>fa,VK_FORMAT_ASTC_5x5_SRGB_BLOCK:()=>Mw,VK_FORMAT_ASTC_5x5_UNORM_BLOCK:()=>_w,VK_FORMAT_ASTC_6x5_SFLOAT_BLOCK_EXT:()=>dt,VK_FORMAT_ASTC_6x5_SRGB_BLOCK:()=>Rw,VK_FORMAT_ASTC_6x5_UNORM_BLOCK:()=>Tw,VK_FORMAT_ASTC_6x6_SFLOAT_BLOCK_EXT:()=>Dg,VK_FORMAT_ASTC_6x6_SRGB_BLOCK:()=>Pw,VK_FORMAT_ASTC_6x6_UNORM_BLOCK:()=>Iw,VK_FORMAT_ASTC_8x5_SFLOAT_BLOCK_EXT:()=>gy,VK_FORMAT_ASTC_8x5_SRGB_BLOCK:()=>hy,VK_FORMAT_ASTC_8x5_UNORM_BLOCK:()=>Rg,VK_FORMAT_ASTC_8x6_SFLOAT_BLOCK_EXT:()=>Nc,VK_FORMAT_ASTC_8x6_SRGB_BLOCK:()=>Lw,VK_FORMAT_ASTC_8x6_UNORM_BLOCK:()=>Nh,VK_FORMAT_ASTC_8x8_SFLOAT_BLOCK_EXT:()=>ml,VK_FORMAT_ASTC_8x8_SRGB_BLOCK:()=>Fi,VK_FORMAT_ASTC_8x8_UNORM_BLOCK:()=>pl,VK_FORMAT_B10G11R11_UFLOAT_PACK32:()=>ts,VK_FORMAT_B10X6G10X6R10X6G10X6_422_UNORM_4PACK16:()=>Lg,VK_FORMAT_B12X4G12X4R12X4G12X4_422_UNORM_4PACK16:()=>Dc,VK_FORMAT_B4G4R4A4_UNORM_PACK16:()=>Ue,VK_FORMAT_B5G5R5A1_UNORM_PACK16:()=>ne,VK_FORMAT_B5G6R5_UNORM_PACK16:()=>ue,VK_FORMAT_B8G8R8A8_SINT:()=>De,VK_FORMAT_B8G8R8A8_SNORM:()=>wt,VK_FORMAT_B8G8R8A8_SRGB:()=>tt,VK_FORMAT_B8G8R8A8_UINT:()=>xe,VK_FORMAT_B8G8R8A8_UNORM:()=>lt,VK_FORMAT_B8G8R8_SINT:()=>yn,VK_FORMAT_B8G8R8_SNORM:()=>Jt,VK_FORMAT_B8G8R8_SRGB:()=>Ln,VK_FORMAT_B8G8R8_UINT:()=>Sn,VK_FORMAT_B8G8R8_UNORM:()=>cn,VK_FORMAT_BC1_RGBA_SRGB_BLOCK:()=>rf,VK_FORMAT_BC1_RGBA_UNORM_BLOCK:()=>dy,VK_FORMAT_BC1_RGB_SRGB_BLOCK:()=>uw,VK_FORMAT_BC1_RGB_UNORM_BLOCK:()=>cw,VK_FORMAT_BC2_SRGB_BLOCK:()=>fw,VK_FORMAT_BC2_UNORM_BLOCK:()=>dw,VK_FORMAT_BC3_SRGB_BLOCK:()=>pw,VK_FORMAT_BC3_UNORM_BLOCK:()=>hw,VK_FORMAT_BC4_SNORM_BLOCK:()=>gw,VK_FORMAT_BC4_UNORM_BLOCK:()=>mw,VK_FORMAT_BC5_SNORM_BLOCK:()=>Aw,VK_FORMAT_BC5_UNORM_BLOCK:()=>vw,VK_FORMAT_BC6H_SFLOAT_BLOCK:()=>Mg,VK_FORMAT_BC6H_UFLOAT_BLOCK:()=>yw,VK_FORMAT_BC7_SRGB_BLOCK:()=>Oa,VK_FORMAT_BC7_UNORM_BLOCK:()=>Dh,VK_FORMAT_D16_UNORM:()=>Tc,VK_FORMAT_D16_UNORM_S8_UINT:()=>Lc,VK_FORMAT_D24_UNORM_S8_UINT:()=>uo,VK_FORMAT_D32_SFLOAT:()=>Ic,VK_FORMAT_D32_SFLOAT_S8_UINT:()=>lw,VK_FORMAT_E5B9G9R9_UFLOAT_PACK32:()=>hl,VK_FORMAT_EAC_R11G11_SNORM_BLOCK:()=>af,VK_FORMAT_EAC_R11G11_UNORM_BLOCK:()=>xw,VK_FORMAT_EAC_R11_SNORM_BLOCK:()=>bw,VK_FORMAT_EAC_R11_UNORM_BLOCK:()=>Tg,VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK:()=>of,VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK:()=>Bc,VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK:()=>fo,VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK:()=>Da,VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK:()=>fy,VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK:()=>qo,VK_FORMAT_G10X6B10X6G10X6R10X6_422_UNORM_4PACK16:()=>Fh,VK_FORMAT_G12X4B12X4G12X4R12X4_422_UNORM_4PACK16:()=>Bg,VK_FORMAT_PVRTC1_2BPP_SRGB_BLOCK_IMG:()=>ns,VK_FORMAT_PVRTC1_2BPP_UNORM_BLOCK_IMG:()=>Og,VK_FORMAT_PVRTC1_4BPP_SRGB_BLOCK_IMG:()=>lf,VK_FORMAT_PVRTC1_4BPP_UNORM_BLOCK_IMG:()=>Dw,VK_FORMAT_PVRTC2_2BPP_SRGB_BLOCK_IMG:()=>Nw,VK_FORMAT_PVRTC2_2BPP_UNORM_BLOCK_IMG:()=>ho,VK_FORMAT_PVRTC2_4BPP_SRGB_BLOCK_IMG:()=>zh,VK_FORMAT_PVRTC2_4BPP_UNORM_BLOCK_IMG:()=>Si,VK_FORMAT_R10X6G10X6B10X6A10X6_UNORM_4PACK16:()=>ms,VK_FORMAT_R10X6G10X6_UNORM_2PACK16:()=>wo,VK_FORMAT_R10X6_UNORM_PACK16:()=>my,VK_FORMAT_R12X4G12X4B12X4A12X4_UNORM_4PACK16:()=>Gu,VK_FORMAT_R12X4G12X4_UNORM_2PACK16:()=>xr,VK_FORMAT_R12X4_UNORM_PACK16:()=>Uh,VK_FORMAT_R16G16B16A16_SFLOAT:()=>me,VK_FORMAT_R16G16B16A16_SINT:()=>xt,VK_FORMAT_R16G16B16A16_SNORM:()=>Je,VK_FORMAT_R16G16B16A16_UINT:()=>at,VK_FORMAT_R16G16B16A16_UNORM:()=>Fe,VK_FORMAT_R16G16B16_SFLOAT:()=>Me,VK_FORMAT_R16G16B16_SINT:()=>se,VK_FORMAT_R16G16B16_SNORM:()=>Gn,VK_FORMAT_R16G16B16_UINT:()=>re,VK_FORMAT_R16G16B16_UNORM:()=>qn,VK_FORMAT_R16G16_SFLOAT:()=>bn,VK_FORMAT_R16G16_SINT:()=>Zt,VK_FORMAT_R16G16_SNORM:()=>Nr,VK_FORMAT_R16G16_UINT:()=>or,VK_FORMAT_R16G16_UNORM:()=>sr,VK_FORMAT_R16_SFLOAT:()=>fr,VK_FORMAT_R16_SINT:()=>kn,VK_FORMAT_R16_SNORM:()=>er,VK_FORMAT_R16_UINT:()=>br,VK_FORMAT_R16_UNORM:()=>Nn,VK_FORMAT_R32G32B32A32_SFLOAT:()=>mr,VK_FORMAT_R32G32B32A32_SINT:()=>Wn,VK_FORMAT_R32G32B32A32_UINT:()=>ln,VK_FORMAT_R32G32B32_SFLOAT:()=>Bn,VK_FORMAT_R32G32B32_SINT:()=>dn,VK_FORMAT_R32G32B32_UINT:()=>en,VK_FORMAT_R32G32_SFLOAT:()=>Ft,VK_FORMAT_R32G32_SINT:()=>yt,VK_FORMAT_R32G32_UINT:()=>Le,VK_FORMAT_R32_SFLOAT:()=>Te,VK_FORMAT_R32_SINT:()=>Ee,VK_FORMAT_R32_UINT:()=>be,VK_FORMAT_R4G4B4A4_UNORM_PACK16:()=>Ae,VK_FORMAT_R4G4_UNORM_PACK8:()=>je,VK_FORMAT_R5G5B5A1_UNORM_PACK16:()=>Y,VK_FORMAT_R5G6B5_UNORM_PACK16:()=>et,VK_FORMAT_R64G64B64A64_SFLOAT:()=>ps,VK_FORMAT_R64G64B64A64_SINT:()=>jr,VK_FORMAT_R64G64B64A64_UINT:()=>Ii,VK_FORMAT_R64G64B64_SFLOAT:()=>Kr,VK_FORMAT_R64G64B64_SINT:()=>ni,VK_FORMAT_R64G64B64_UINT:()=>Or,VK_FORMAT_R64G64_SFLOAT:()=>gr,VK_FORMAT_R64G64_SINT:()=>cr,VK_FORMAT_R64G64_UINT:()=>Yn,VK_FORMAT_R64_SFLOAT:()=>xn,VK_FORMAT_R64_SINT:()=>fn,VK_FORMAT_R64_UINT:()=>Hn,VK_FORMAT_R8G8B8A8_SINT:()=>Cn,VK_FORMAT_R8G8B8A8_SNORM:()=>jn,VK_FORMAT_R8G8B8A8_SRGB:()=>Oe,VK_FORMAT_R8G8B8A8_UINT:()=>Fn,VK_FORMAT_R8G8B8A8_UNORM:()=>rr,VK_FORMAT_R8G8B8_SINT:()=>mt,VK_FORMAT_R8G8B8_SNORM:()=>Vt,VK_FORMAT_R8G8B8_SRGB:()=>Nt,VK_FORMAT_R8G8B8_UINT:()=>Lt,VK_FORMAT_R8G8B8_UNORM:()=>jt,VK_FORMAT_R8G8_SINT:()=>kt,VK_FORMAT_R8G8_SNORM:()=>nt,VK_FORMAT_R8G8_SRGB:()=>Bt,VK_FORMAT_R8G8_UINT:()=>It,VK_FORMAT_R8G8_UNORM:()=>Qe,VK_FORMAT_R8_SINT:()=>Ye,VK_FORMAT_R8_SNORM:()=>ve,VK_FORMAT_R8_SRGB:()=>Ze,VK_FORMAT_R8_UINT:()=>he,VK_FORMAT_R8_UNORM:()=>We,VK_FORMAT_S8_UINT:()=>Pc,VK_FORMAT_UNDEFINED:()=>we,VK_FORMAT_X8_D24_UNORM_PACK32:()=>Rc,read:()=>kg,write:()=>Fg});var d=c("./node_modules/buffer/index.js").Buffer;const h=0,p=1,m=2,v=3,y=0,A=0,b=2,g=0,w=1,E=160,C=161,_=162,P=163,R=0,L=1,T=0,D=1,H=2,V=3,B=4,O=5,F=6,N=7,z=8,j=9,G=10,Q=11,X=12,J=13,Z=14,oe=15,ce=16,Be=17,ge=18,Re=0,$e=1,qe=2,Ke=3,ke=4,st=5,ot=6,it=7,ft=8,Et=9,gt=10,Ct=11,Tt=0,Dt=1,Yt=2,Ve=13,ye=14,fe=15,pe=128,_e=64,Ce=32,Se=16,we=0,je=1,Ae=2,Ue=3,et=4,ue=5,Y=6,ne=7,Pe=8,We=9,ve=10,he=13,Ye=14,Ze=15,Qe=16,nt=17,It=20,kt=21,Bt=22,jt=23,Vt=24,Lt=27,mt=28,Nt=29,cn=30,Jt=31,Sn=34,yn=35,Ln=36,rr=37,jn=38,Fn=41,Cn=42,Oe=43,lt=44,wt=45,xe=48,De=49,tt=50,St=58,Mt=59,Ut=62,Kt=63,gn=64,sn=65,Xt=68,$n=69,Nn=70,er=71,br=74,kn=75,fr=76,sr=77,Nr=78,or=81,Zt=82,bn=83,qn=84,Gn=85,re=88,se=89,Me=90,Fe=91,Je=92,at=95,xt=96,me=97,be=98,Ee=99,Te=100,Le=101,yt=102,Ft=103,en=104,dn=105,Bn=106,ln=107,Wn=108,mr=109,Hn=110,fn=111,xn=112,Yn=113,cr=114,gr=115,Or=116,ni=117,Kr=118,Ii=119,jr=120,ps=121,ts=122,hl=123,Tc=124,Rc=125,Ic=126,Pc=127,Lc=128,uo=129,lw=130,cw=131,uw=132,dy=133,rf=134,dw=135,fw=136,hw=137,pw=138,mw=139,gw=140,vw=141,Aw=142,yw=143,Mg=144,Dh=145,Oa=146,qo=147,fy=148,Bc=149,of=150,Da=151,fo=152,Tg=153,bw=154,xw=155,af=156,Ew=157,Cw=158,ww=159,Sw=160,_w=161,Mw=162,Tw=163,Rw=164,Iw=165,Pw=166,Rg=167,hy=168,Nh=169,Lw=170,pl=171,Fi=172,Bw=173,In=174,da=175,Ig=176,py=177,Ow=178,ju=179,sf=180,Oc=181,kh=182,Pg=183,Yo=184,my=1000156007,wo=1000156008,ms=1000156009,Fh=1000156010,Lg=1000156011,Uh=1000156017,xr=1000156018,Gu=1000156019,Bg=1000156020,Dc=1000156021,Og=1000054e3,Dw=1000054001,ho=1000054002,Si=1000054003,ns=1000054004,lf=1000054005,Nw=1000054006,zh=1000054007,kw=1000066e3,Fw=1000066001,fa=1000066002,dt=1000066003,Dg=1000066004,gy=1000066005,Nc=1000066006,ml=1000066007,kc=1000066008,Ng=1000066009,Vu=1000066010,Wu=1000066011,Qu=1000066012,tc=1000066013,nc=100034e4,Fc=1000340001;class Ku{constructor(){this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=0,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:0,descriptorBlockSize:0,versionNumber:2,colorModel:0,colorPrimaries:1,transferFunction:2,flags:0,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class rc{constructor(Gr,hi,So,yi){this._dataView=new DataView(Gr.buffer,Gr.byteOffset+hi,So),this._littleEndian=yi,this._offset=0}_nextUint8(){const Gr=this._dataView.getUint8(this._offset);return this._offset+=1,Gr}_nextUint16(){const Gr=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,Gr}_nextUint32(){const Gr=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,Gr}_nextUint64(){const Gr=this._dataView.getUint32(this._offset,this._littleEndian)+4294967296*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,Gr}_nextInt32(){const Gr=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,Gr}_skip(Gr){return this._offset+=Gr,this}_scan(Gr,hi=0){const So=this._offset;let yi=0;for(;this._dataView.getUint8(this._offset)!==hi&&yi<Gr;)yi++,this._offset++;return yi<Gr&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+So,yi)}}const cf=new Uint8Array([0]),Yi=[171,75,84,88,32,50,48,187,13,10,26,10];function $h(Ar){return typeof TextEncoder<"u"?new TextEncoder().encode(Ar):d.from(Ar)}function vy(Ar){return typeof TextDecoder<"u"?new TextDecoder().decode(Ar):d.from(Ar).toString("utf8")}function ic(Ar){let Gr=0;for(const yi of Ar)Gr+=yi.byteLength;const hi=new Uint8Array(Gr);let So=0;for(const yi of Ar)hi.set(new Uint8Array(yi),So),So+=yi.byteLength;return hi}function kg(Ar){const Gr=new Uint8Array(Ar.buffer,Ar.byteOffset,Yi.length);if(Gr[0]!==Yi[0]||Gr[1]!==Yi[1]||Gr[2]!==Yi[2]||Gr[3]!==Yi[3]||Gr[4]!==Yi[4]||Gr[5]!==Yi[5]||Gr[6]!==Yi[6]||Gr[7]!==Yi[7]||Gr[8]!==Yi[8]||Gr[9]!==Yi[9]||Gr[10]!==Yi[10]||Gr[11]!==Yi[11])throw new Error("Missing KTX 2.0 identifier.");const hi=new Ku,So=17*Uint32Array.BYTES_PER_ELEMENT,yi=new rc(Ar,Yi.length,So,!0);hi.vkFormat=yi._nextUint32(),hi.typeSize=yi._nextUint32(),hi.pixelWidth=yi._nextUint32(),hi.pixelHeight=yi._nextUint32(),hi.pixelDepth=yi._nextUint32(),hi.layerCount=yi._nextUint32(),hi.faceCount=yi._nextUint32();const Na=yi._nextUint32();hi.supercompressionScheme=yi._nextUint32();const _r=yi._nextUint32(),rs=yi._nextUint32(),si=yi._nextUint32(),Hh=yi._nextUint32(),uf=yi._nextUint64(),xa=yi._nextUint64(),Ea=new rc(Ar,Yi.length+So,3*Na*8,!0);for(let Ao=0;Ao<Na;Ao++)hi.levels.push({levelData:new Uint8Array(Ar.buffer,Ar.byteOffset+Ea._nextUint64(),Ea._nextUint64()),uncompressedByteLength:Ea._nextUint64()});const Xr=new rc(Ar,_r,rs,!0),Al={vendorId:Xr._skip(4)._nextUint16(),descriptorType:Xr._nextUint16(),versionNumber:Xr._nextUint16(),descriptorBlockSize:Xr._nextUint16(),colorModel:Xr._nextUint8(),colorPrimaries:Xr._nextUint8(),transferFunction:Xr._nextUint8(),flags:Xr._nextUint8(),texelBlockDimension:[Xr._nextUint8(),Xr._nextUint8(),Xr._nextUint8(),Xr._nextUint8()],bytesPlane:[Xr._nextUint8(),Xr._nextUint8(),Xr._nextUint8(),Xr._nextUint8(),Xr._nextUint8(),Xr._nextUint8(),Xr._nextUint8(),Xr._nextUint8()],samples:[]},df=(Al.descriptorBlockSize/4-6)/4;for(let Ao=0;Ao<df;Ao++){const vs={bitOffset:Xr._nextUint16(),bitLength:Xr._nextUint8(),channelType:Xr._nextUint8(),samplePosition:[Xr._nextUint8(),Xr._nextUint8(),Xr._nextUint8(),Xr._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};64&vs.channelType?(vs.sampleLower=Xr._nextInt32(),vs.sampleUpper=Xr._nextInt32()):(vs.sampleLower=Xr._nextUint32(),vs.sampleUpper=Xr._nextUint32()),Al.samples[Ao]=vs}hi.dataFormatDescriptor.length=0,hi.dataFormatDescriptor.push(Al);const ha=new rc(Ar,si,Hh,!0);for(;ha._offset<Hh;){const Ao=ha._nextUint32(),vs=ha._scan(Ao),Hs=vy(vs),zc=ha._scan(Ao-vs.byteLength);hi.keyValue[Hs]=Hs.match(/^ktx/i)?vy(zc):zc,ha._offset%4&&ha._skip(4-ha._offset%4)}if(xa<=0)return hi;const _i=new rc(Ar,uf,xa,!0),Xi=_i._nextUint16(),li=_i._nextUint16(),Mi=_i._nextUint32(),_o=_i._nextUint32(),yl=_i._nextUint32(),Uc=_i._nextUint32(),Ay=[];for(let Ao=0;Ao<Na;Ao++)Ay.push({imageFlags:_i._nextUint32(),rgbSliceByteOffset:_i._nextUint32(),rgbSliceByteLength:_i._nextUint32(),alphaSliceByteOffset:_i._nextUint32(),alphaSliceByteLength:_i._nextUint32()});const yy=uf+_i._offset,Ug=yy+Mi,zg=Ug+_o,by=zg+yl,Uw=new Uint8Array(Ar.buffer,Ar.byteOffset+yy,Mi),xy=new Uint8Array(Ar.buffer,Ar.byteOffset+Ug,_o),bi=new Uint8Array(Ar.buffer,Ar.byteOffset+zg,yl),gs=new Uint8Array(Ar.buffer,Ar.byteOffset+by,Uc);return hi.globalData={endpointCount:Xi,selectorCount:li,imageDescs:Ay,endpointsData:Uw,selectorsData:xy,tablesData:bi,extendedData:gs},hi}function gl(){return(gl=Object.assign||function(Ar){for(var Gr=1;Gr<arguments.length;Gr++){var hi=arguments[Gr];for(var So in hi)Object.prototype.hasOwnProperty.call(hi,So)&&(Ar[So]=hi[So])}return Ar}).apply(this,arguments)}const vl={keepWriter:!1};function Fg(Ar,Gr={}){Gr=gl({},vl,Gr);let hi=new ArrayBuffer(0);if(Ar.globalData){const Xi=new ArrayBuffer(20+5*Ar.globalData.imageDescs.length*4),li=new DataView(Xi);li.setUint16(0,Ar.globalData.endpointCount,!0),li.setUint16(2,Ar.globalData.selectorCount,!0),li.setUint32(4,Ar.globalData.endpointsData.byteLength,!0),li.setUint32(8,Ar.globalData.selectorsData.byteLength,!0),li.setUint32(12,Ar.globalData.tablesData.byteLength,!0),li.setUint32(16,Ar.globalData.extendedData.byteLength,!0);for(let Mi=0;Mi<Ar.globalData.imageDescs.length;Mi++){const _o=Ar.globalData.imageDescs[Mi];li.setUint32(20+5*Mi*4+0,_o.imageFlags,!0),li.setUint32(20+5*Mi*4+4,_o.rgbSliceByteOffset,!0),li.setUint32(20+5*Mi*4+8,_o.rgbSliceByteLength,!0),li.setUint32(20+5*Mi*4+12,_o.alphaSliceByteOffset,!0),li.setUint32(20+5*Mi*4+16,_o.alphaSliceByteLength,!0)}hi=ic([Xi,Ar.globalData.endpointsData,Ar.globalData.selectorsData,Ar.globalData.tablesData,Ar.globalData.extendedData])}const So=[];let yi=Ar.keyValue;Gr.keepWriter||(yi=gl({},Ar.keyValue,{KTXwriter:"KTX-Parse v0.3.1"}));for(const Xi in yi){const li=yi[Xi],Mi=$h(Xi),_o=typeof li=="string"?$h(li):li,yl=Mi.byteLength+1+_o.byteLength+1,Uc=yl%4?4-yl%4:0;So.push(ic([new Uint32Array([yl]),Mi,cf,_o,cf,new Uint8Array(Uc).fill(0)]))}const Na=ic(So);if(Ar.dataFormatDescriptor.length!==1||Ar.dataFormatDescriptor[0].descriptorType!==0)throw new Error("Only BASICFORMAT Data Format Descriptor output supported.");const _r=Ar.dataFormatDescriptor[0],rs=new ArrayBuffer(28+16*_r.samples.length),si=new DataView(rs),Hh=24+16*_r.samples.length;if(si.setUint32(0,rs.byteLength,!0),si.setUint16(4,_r.vendorId,!0),si.setUint16(6,_r.descriptorType,!0),si.setUint16(8,_r.versionNumber,!0),si.setUint16(10,Hh,!0),si.setUint8(12,_r.colorModel),si.setUint8(13,_r.colorPrimaries),si.setUint8(14,_r.transferFunction),si.setUint8(15,_r.flags),!Array.isArray(_r.texelBlockDimension))throw new Error("texelBlockDimension is now an array. For dimensionality `d`, set `d - 1`.");si.setUint8(16,_r.texelBlockDimension[0]),si.setUint8(17,_r.texelBlockDimension[1]),si.setUint8(18,_r.texelBlockDimension[2]),si.setUint8(19,_r.texelBlockDimension[3]);for(let Xi=0;Xi<8;Xi++)si.setUint8(20+Xi,_r.bytesPlane[Xi]);for(let Xi=0;Xi<_r.samples.length;Xi++){const li=_r.samples[Xi],Mi=28+16*Xi;if(li.channelID)throw new Error("channelID has been renamed to channelType.");si.setUint16(Mi+0,li.bitOffset,!0),si.setUint8(Mi+2,li.bitLength),si.setUint8(Mi+3,li.channelType),si.setUint8(Mi+4,li.samplePosition[0]),si.setUint8(Mi+5,li.samplePosition[1]),si.setUint8(Mi+6,li.samplePosition[2]),si.setUint8(Mi+7,li.samplePosition[3]),64&li.channelType?(si.setInt32(Mi+8,li.sampleLower,!0),si.setInt32(Mi+12,li.sampleUpper,!0)):(si.setUint32(Mi+8,li.sampleLower,!0),si.setUint32(Mi+12,li.sampleUpper,!0))}const uf=Yi.length+68+3*Ar.levels.length*8,xa=uf+rs.byteLength;let Ea=hi.byteLength>0?xa+Na.byteLength:0;Ea%8&&(Ea+=8-Ea%8);const Xr=[],Al=new DataView(new ArrayBuffer(3*Ar.levels.length*8));let df=(Ea||xa+Na.byteLength)+hi.byteLength;for(let Xi=0;Xi<Ar.levels.length;Xi++){const li=Ar.levels[Xi];Xr.push(li.levelData),Al.setBigUint64(24*Xi+0,BigInt(df),!0),Al.setBigUint64(24*Xi+8,BigInt(li.levelData.byteLength),!0),Al.setBigUint64(24*Xi+16,BigInt(li.uncompressedByteLength),!0),df+=li.levelData.byteLength}const ha=new ArrayBuffer(68),_i=new DataView(ha);return _i.setUint32(0,Ar.vkFormat,!0),_i.setUint32(4,Ar.typeSize,!0),_i.setUint32(8,Ar.pixelWidth,!0),_i.setUint32(12,Ar.pixelHeight,!0),_i.setUint32(16,Ar.pixelDepth,!0),_i.setUint32(20,Ar.layerCount,!0),_i.setUint32(24,Ar.faceCount,!0),_i.setUint32(28,Ar.levels.length,!0),_i.setUint32(32,Ar.supercompressionScheme,!0),_i.setUint32(36,uf,!0),_i.setUint32(40,rs.byteLength,!0),_i.setUint32(44,xa,!0),_i.setUint32(48,Na.byteLength,!0),_i.setBigUint64(52,BigInt(hi.byteLength>0?Ea:0),!0),_i.setBigUint64(60,BigInt(hi.byteLength),!0),new Uint8Array(ic([new Uint8Array(Yi).buffer,ha,Al.buffer,rs,Na,Ea>0?new ArrayBuffer(Ea-(xa+Na.byteLength)):new ArrayBuffer(0),hi,...Xr]))}},"./node_modules/super-three/examples/jsm/libs/zstddec.module.js":(l,u,c)=>{c.r(u),c.d(u,{ZSTDDecoder:()=>y});var d=c("./node_modules/buffer/index.js").Buffer;let h,p,m;const v={env:{emscripten_notify_memory_growth:function(b){m=new Uint8Array(p.exports.memory.buffer)}}};class y{init(){return h||(h=typeof fetch<"u"?fetch("data:application/wasm;base64,"+A).then(g=>g.arrayBuffer()).then(g=>WebAssembly.instantiate(g,v)).then(this._init):WebAssembly.instantiate(d.from(A,"base64"),v).then(this._init),h)}_init(g){p=g.instance,v.env.emscripten_notify_memory_growth(0)}decode(g,w=0){if(!p)throw new Error("ZSTDDecoder: Await .init() before decoding.");const E=g.byteLength,C=p.exports.malloc(E);m.set(g,C),w=w||Number(p.exports.ZSTD_findDecompressedSize(C,E));const _=p.exports.malloc(w),P=p.exports.ZSTD_decompress(_,w,C,E),R=m.slice(_,_+P);return p.exports.free(C),p.exports.free(_),R}}const A="AGFzbQEAAAABpQEVYAF/AX9gAn9/AGADf39/AX9gBX9/f39/AX9gAX8AYAJ/fwF/YAR/f39/AX9gA39/fwBgBn9/f39/fwF/YAd/f39/f39/AX9gAn9/AX5gAn5+AX5gAABgBX9/f39/AGAGf39/f39/AGAIf39/f39/f38AYAl/f39/f39/f38AYAABf2AIf39/f39/f38Bf2ANf39/f39/f39/f39/fwF/YAF/AX4CJwEDZW52H2Vtc2NyaXB0ZW5fbm90aWZ5X21lbW9yeV9ncm93dGgABANpaAEFAAAFAgEFCwACAQABAgIFBQcAAwABDgsBAQcAEhMHAAUBDAQEAAANBwQCAgYCBAgDAwMDBgEACQkHBgICAAYGAgQUBwYGAwIGAAMCAQgBBwUGCgoEEQAEBAEIAwgDBQgDEA8IAAcABAUBcAECAgUEAQCAAgYJAX8BQaCgwAILB2AHBm1lbW9yeQIABm1hbGxvYwAoBGZyZWUAJgxaU1REX2lzRXJyb3IAaBlaU1REX2ZpbmREZWNvbXByZXNzZWRTaXplAFQPWlNURF9kZWNvbXByZXNzAEoGX3N0YXJ0ACQJBwEAQQELASQKussBaA8AIAAgACgCBCABajYCBAsZACAAKAIAIAAoAgRBH3F0QQAgAWtBH3F2CwgAIABBiH9LC34BBH9BAyEBIAAoAgQiA0EgTQRAIAAoAggiASAAKAIQTwRAIAAQDQ8LIAAoAgwiAiABRgRAQQFBAiADQSBJGw8LIAAgASABIAJrIANBA3YiBCABIARrIAJJIgEbIgJrIgQ2AgggACADIAJBA3RrNgIEIAAgBCgAADYCAAsgAQsUAQF/IAAgARACIQIgACABEAEgAgv3AQECfyACRQRAIABCADcCACAAQQA2AhAgAEIANwIIQbh/DwsgACABNgIMIAAgAUEEajYCECACQQRPBEAgACABIAJqIgFBfGoiAzYCCCAAIAMoAAA2AgAgAUF/ai0AACIBBEAgAEEIIAEQFGs2AgQgAg8LIABBADYCBEF/DwsgACABNgIIIAAgAS0AACIDNgIAIAJBfmoiBEEBTQRAIARBAWtFBEAgACABLQACQRB0IANyIgM2AgALIAAgAS0AAUEIdCADajYCAAsgASACakF/ai0AACIBRQRAIABBADYCBEFsDwsgAEEoIAEQFCACQQN0ams2AgQgAgsWACAAIAEpAAA3AAAgACABKQAINwAICy8BAX8gAUECdEGgHWooAgAgACgCAEEgIAEgACgCBGprQR9xdnEhAiAAIAEQASACCyEAIAFCz9bTvtLHq9lCfiAAfEIfiUKHla+vmLbem55/fgsdAQF/IAAoAgggACgCDEYEfyAAKAIEQSBGBUEACwuCBAEDfyACQYDAAE8EQCAAIAEgAhBnIAAPCyAAIAJqIQMCQCAAIAFzQQNxRQRAAkAgAkEBSARAIAAhAgwBCyAAQQNxRQRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADTw0BIAJBA3ENAAsLAkAgA0F8cSIEQcAASQ0AIAIgBEFAaiIFSw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBU0NAAsLIAIgBE8NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIARJDQALDAELIANBBEkEQCAAIQIMAQsgA0F8aiIEIABJBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsgAAsMACAAIAEpAAA3AAALQQECfyAAKAIIIgEgACgCEEkEQEEDDwsgACAAKAIEIgJBB3E2AgQgACABIAJBA3ZrIgE2AgggACABKAAANgIAQQALDAAgACABKAIANgAAC/cCAQJ/AkAgACABRg0AAkAgASACaiAASwRAIAAgAmoiBCABSw0BCyAAIAEgAhALDwsgACABc0EDcSEDAkACQCAAIAFJBEAgAwRAIAAhAwwDCyAAQQNxRQRAIAAhAwwCCyAAIQMDQCACRQ0EIAMgAS0AADoAACABQQFqIQEgAkF/aiECIANBAWoiA0EDcQ0ACwwBCwJAIAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQhBSAGQQR2IQRBICAAdCIAQQFyIQkgASgCACEPQQAhAiADIQYCQANAIAlBAkggAiAPS3JFBEAgAiEHAkAgCARAA0AgBEH//wNxQf//A0YEQCAHQRhqIQcgBiAQSQR/IAZBAmoiBigAACAFdgUgBUEQaiEFIARBEHYLIQQMAQsLA0AgBEEDcSIIQQNGBEAgBUECaiEFIARBAnYhBCAHQQNqIQcMAQsLIAcgCGoiByAPSw0EIAVBAmohBQNAIAIgB0kEQCANIAJBAXRqQQA7AQAgAkEBaiECDAELCyAGIA5LQQAgBiAFQQN1aiIHIAxLG0UEQCAHKAAAIAVBB3EiBXYhBAwCCyAEQQJ2IQQLIAYhBwsCfyALQX9qIAQgAEF/anEiBiAAQQF0QX9qIgggCWsiEUkNABogBCAIcSIEQQAgESAEIABIG2shBiALCyEIIA0gAkEBdGogBkF/aiIEOwEAIAlBASAGayAEIAZBAUgbayEJA0AgCSAASARAIABBAXUhACALQX9qIQsMAQsLAn8gByAOS0EAIAcgBSAIaiIFQQN1aiIGIAxLG0UEQCAFQQdxDAELIAUgDCIGIAdrQQN0awshBSACQQFqIQIgBEUhCCAGKAAAIAVBH3F2IQQMAQsLQWwgCUEBRyAFQSBKcg0BGiABIAJBf2o2AgAgBiAFQQdqQQN1aiADawwBC0FQCyEAIApBEGokACAACwkAQQFBBSAAGwsMACAAIAEoAAA2AAALqgMBCn8jAEHwAGsiCiQAIAJBAWohDiAAQQhqIQtBgIAEIAVBf2p0QRB1IQxBACECQQEhBkEBIAV0IglBf2oiDyEIA0AgAiAORkUEQAJAIAEgAkEBdCINai8BACIHQf//A0YEQCALIAhBA3RqIAI2AgQgCEF/aiEIQQEhBwwBCyAGQQAgDCAHQRB0QRB1ShshBgsgCiANaiAHOwEAIAJBAWohAgwBCwsgACAFNgIEIAAgBjYCACAJQQN2IAlBAXZqQQNqIQxBACEAQQAhBkEAIQIDQCAGIA5GBEADQAJAIAAgCUYNACAKIAsgAEEDdGoiASgCBCIGQQF0aiICIAIvAQAiAkEBajsBACABIAUgAhAUayIIOgADIAEgAiAIQf8BcXQgCWs7AQAgASAEIAZBAnQiAmooAgA6AAIgASACIANqKAIANgIEIABBAWohAAwBCwsFIAEgBkEBdGouAQAhDUEAIQcDQCAHIA1ORQRAIAsgAkEDdGogBjYCBANAIAIgDGogD3EiAiAISw0ACyAHQQFqIQcMAQsLIAZBAWohBgwBCwsgCkHwAGokAAsjAEIAIAEQCSAAhUKHla+vmLbem55/fkLj3MqV/M7y9YV/fAsQACAAQn43AwggACABNgIACyQBAX8gAARAIAEoAgQiAgRAIAEoAgggACACEQEADwsgABAmCwsfACAAIAEgAi8BABAINgIAIAEQBBogACACQQRqNgIEC0oBAX9BoCAoAgAiASAAaiIAQX9MBEBBiCBBMDYCAEF/DwsCQCAAPwBBEHRNDQAgABBmDQBBiCBBMDYCAEF/DwtBoCAgADYCACABC9cBAQh/Qbp/IQoCQCACKAIEIgggAigCACIJaiIOIAEgAGtLDQBBbCEKIAkgBCADKAIAIgtrSw0AIAAgCWoiBCACKAIIIgxrIQ0gACABQWBqIg8gCyAJQQAQKSADIAkgC2o2AgACQAJAIAwgBCAFa00EQCANIQUMAQsgDCAEIAZrSw0CIAcgDSAFayIAaiIBIAhqIAdNBEAgBCABIAgQDxoMAgsgBCABQQAgAGsQDyEBIAIgACAIaiIINgIEIAEgAGshBAsgBCAPIAUgCEEBECkLIA4hCgsgCgubAgEBfyMAQYABayINJAAgDSADNgJ8AkAgAkEDSwRAQX8hCQwBCwJAAkACQAJAIAJBAWsOAwADAgELIAZFBEBBuH8hCQwEC0FsIQkgBS0AACICIANLDQMgACAHIAJBAnQiAmooAgAgAiAIaigCABA7IAEgADYCAEEBIQkMAwsgASAJNgIAQQAhCQwCCyAKRQRAQWwhCQwCC0EAIQkgC0UgDEEZSHINAUEIIAR0QQhqIQBBACECA0AgAiAATw0CIAJBQGshAgwAAAsAC0FsIQkgDSANQfwAaiANQfgAaiAFIAYQFSICEAMNACANKAJ4IgMgBEsNACAAIA0gDSgCfCAHIAggAxAYIAEgADYCACACIQkLIA1BgAFqJAAgCQsLACAAIAEgAhALGgsQACAALwAAIAAtAAJBEHRyCy8AAn9BuH8gAUEISQ0AGkFyIAAoAAQiAEF3Sw0AGkG4fyAAQQhqIgAgACABSxsLCwkAIAAgATsAAAsDAAELigYBBX8gACAAKAIAIgVBfnE2AgBBACAAIAVBAXZqQYQgKAIAIgQgAEYbIQECQAJAIAAoAgQiAkUNACACKAIAIgNBAXENACACQQhqIgUgA0EBdkF4aiIDQQggA0EISxtnQR9zQQJ0QYAfaiIDKAIARgRAIAMgAigCDDYCAAsgAigCCCIDBEAgAyACKAIMNgIECyACKAIMIgMEQCADIAIoAgg2AgALIAIgAigCACAAKAIAQX5xajYCAEGEICEAAkACQCABRQ0AIAEgAjYCBCABKAIAIgNBAXENASADQQF2QXhqIgNBCCADQQhLG2dBH3NBAnRBgB9qIgMoAgAgAUEIakYEQCADIAEoAgw2AgALIAEoAggiAwRAIAMgASgCDDYCBAsgASgCDCIDBEAgAyABKAIINgIAQYQgKAIAIQQLIAIgAigCACABKAIAQX5xajYCACABIARGDQAgASABKAIAQQF2akEEaiEACyAAIAI2AgALIAIoAgBBAXZBeGoiAEEIIABBCEsbZ0Efc0ECdEGAH2oiASgCACEAIAEgBTYCACACIAA2AgwgAkEANgIIIABFDQEgACAFNgIADwsCQCABRQ0AIAEoAgAiAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAigCACABQQhqRgRAIAIgASgCDDYCAAsgASgCCCICBEAgAiABKAIMNgIECyABKAIMIgIEQCACIAEoAgg2AgBBhCAoAgAhBAsgACAAKAIAIAEoAgBBfnFqIgI2AgACQCABIARHBEAgASABKAIAQQF2aiAANgIEIAAoAgAhAgwBC0GEICAANgIACyACQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgIoAgAhASACIABBCGoiAjYCACAAIAE2AgwgAEEANgIIIAFFDQEgASACNgIADwsgBUEBdkF4aiIBQQggAUEISxtnQR9zQQJ0QYAfaiICKAIAIQEgAiAAQQhqIgI2AgAgACABNgIMIABBADYCCCABRQ0AIAEgAjYCAAsLDgAgAARAIABBeGoQJQsLgAIBA38CQCAAQQ9qQXhxQYQgKAIAKAIAQQF2ayICEB1Bf0YNAAJAQYQgKAIAIgAoAgAiAUEBcQ0AIAFBAXZBeGoiAUEIIAFBCEsbZ0Efc0ECdEGAH2oiASgCACAAQQhqRgRAIAEgACgCDDYCAAsgACgCCCIBBEAgASAAKAIMNgIECyAAKAIMIgFFDQAgASAAKAIINgIAC0EBIQEgACAAKAIAIAJBAXRqIgI2AgAgAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAygCACECIAMgAEEIaiIDNgIAIAAgAjYCDCAAQQA2AgggAkUNACACIAM2AgALIAELtwIBA38CQAJAIABBASAAGyICEDgiAA0AAkACQEGEICgCACIARQ0AIAAoAgAiA0EBcQ0AIAAgA0EBcjYCACADQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgAgAEEIakYEQCABIAAoAgw2AgALIAAoAggiAQRAIAEgACgCDDYCBAsgACgCDCIBBEAgASAAKAIINgIACyACECchAkEAIQFBhCAoAgAhACACDQEgACAAKAIAQX5xNgIAQQAPCyACQQ9qQXhxIgMQHSICQX9GDQIgAkEHakF4cSIAIAJHBEAgACACaxAdQX9GDQMLAkBBhCAoAgAiAUUEQEGAICAANgIADAELIAAgATYCBAtBhCAgADYCACAAIANBAXRBAXI2AgAMAQsgAEUNAQsgAEEIaiEBCyABC7kDAQJ/IAAgA2ohBQJAIANBB0wEQANAIAAgBU8NAiAAIAItAAA6AAAgAEEBaiEAIAJBAWohAgwAAAsACyAEQQFGBEACQCAAIAJrIgZBB00EQCAAIAItAAA6AAAgACACLQABOgABIAAgAi0AAjoAAiAAIAItAAM6AAMgAEEEaiACIAZBAnQiBkHAHmooAgBqIgIQFyACIAZB4B5qKAIAayECDAELIAAgAhAMCyACQQhqIQIgAEEIaiEACwJAAkACQAJAIAUgAU0EQCAAIANqIQEgBEEBRyAAIAJrQQ9Kcg0BA0AgACACEAwgAkEIaiECIABBCGoiACABSQ0ACwwFCyAAIAFLBEAgACEBDAQLIARBAUcgACACa0EPSnINASAAIQMgAiEEA0AgAyAEEAwgBEEIaiEEIANBCGoiAyABSQ0ACwwCCwNAIAAgAhAHIAJBEGohAiAAQRBqIgAgAUkNAAsMAwsgACEDIAIhBANAIAMgBBAHIARBEGohBCADQRBqIgMgAUkNAAsLIAIgASAAa2ohAgsDQCABIAVPDQEgASACLQAAOgAAIAFBAWohASACQQFqIQIMAAALAAsLQQECfyAAIAAoArjgASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigCACACaiAAQQZ2IgFBAnRBsB5qKAIAaiAAQSBxIgBFaiABRSAAQQV2cWoFQbh/CwsdACAAKAKQ4gEQWiAAQQA2AqDiASAAQgA3A5DiAQu1AwEFfyMAQZACayIKJABBuH8hBgJAIAVFDQAgBCwAACIIQf8BcSEHAkAgCEF/TARAIAdBgn9qQQF2IgggBU8NAkFsIQYgB0GBf2oiBUGAAk8NAiAEQQFqIQdBACEGA0AgBiAFTwRAIAUhBiAIIQcMAwUgACAGaiAHIAZBAXZqIgQtAABBBHY6AAAgACAGQQFyaiAELQAAQQ9xOgAAIAZBAmohBgwBCwAACwALIAcgBU8NASAAIARBAWogByAKEFMiBhADDQELIAYhBEEAIQYgAUEAQTQQECEJQQAhBQNAIAQgBkcEQCAAIAZqIggtAAAiAUELSwRAQWwhBgwDBSAJIAFBAnRqIgEgASgCAEEBajYCACAGQQFqIQZBASAILQAAdEEBdSAFaiEFDAILAAsLQWwhBiAFRQ0AIAUQFEEBaiIBQQxLDQAgAyABNgIAQQFBASABdCAFayIDEBQiAXQgA0cNACAAIARqIAFBAWoiADoAACAJIABBAnRqIgAgACgCAEEBajYCACAJKAIEIgBBAkkgAEEBcXINACACIARBAWo2AgAgB0EBaiEGCyAKQZACaiQAIAYLxhEBDH8jAEHwAGsiBSQAQWwhCwJAIANBCkkNACACLwAAIQogAi8AAiEJIAIvAAQhByAFQQhqIAQQDgJAIAMgByAJIApqakEGaiIMSQ0AIAUtAAohCCAFQdgAaiACQQZqIgIgChAGIgsQAw0BIAVBQGsgAiAKaiICIAkQBiILEAMNASAFQShqIAIgCWoiAiAHEAYiCxADDQEgBUEQaiACIAdqIAMgDGsQBiILEAMNASAAIAFqIg9BfWohECAEQQRqIQZBASELIAAgAUEDakECdiIDaiIMIANqIgIgA2oiDiEDIAIhBCAMIQcDQCALIAMgEElxBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgCS0AAyELIAcgBiAFQUBrIAgQAkECdGoiCS8BADsAACAFQUBrIAktAAIQASAJLQADIQogBCAGIAVBKGogCBACQQJ0aiIJLwEAOwAAIAVBKGogCS0AAhABIAktAAMhCSADIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgDS0AAyENIAAgC2oiCyAGIAVB2ABqIAgQAkECdGoiAC8BADsAACAFQdgAaiAALQACEAEgAC0AAyEAIAcgCmoiCiAGIAVBQGsgCBACQQJ0aiIHLwEAOwAAIAVBQGsgBy0AAhABIActAAMhByAEIAlqIgkgBiAFQShqIAgQAkECdGoiBC8BADsAACAFQShqIAQtAAIQASAELQADIQQgAyANaiIDIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgACALaiEAIAcgCmohByAEIAlqIQQgAyANLQADaiEDIAVB2ABqEA0gBUFAaxANciAFQShqEA1yIAVBEGoQDXJFIQsMAQsLIAQgDksgByACS3INAEFsIQsgACAMSw0BIAxBfWohCQNAQQAgACAJSSAFQdgAahAEGwRAIAAgBiAFQdgAaiAIEAJBAnRqIgovAQA7AAAgBUHYAGogCi0AAhABIAAgCi0AA2oiACAGIAVB2ABqIAgQAkECdGoiCi8BADsAACAFQdgAaiAKLQACEAEgACAKLQADaiEADAEFIAxBfmohCgNAIAVB2ABqEAQgACAKS3JFBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgACAJLQADaiEADAELCwNAIAAgCk0EQCAAIAYgBUHYAGogCBACQQJ0aiIJLwEAOwAAIAVB2ABqIAktAAIQASAAIAktAANqIQAMAQsLAkAgACAMTw0AIAAgBiAFQdgAaiAIEAIiAEECdGoiDC0AADoAACAMLQADQQFGBEAgBUHYAGogDC0AAhABDAELIAUoAlxBH0sNACAFQdgAaiAGIABBAnRqLQACEAEgBSgCXEEhSQ0AIAVBIDYCXAsgAkF9aiEMA0BBACAHIAxJIAVBQGsQBBsEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiIAIAYgBUFAayAIEAJBAnRqIgcvAQA7AAAgBUFAayAHLQACEAEgACAHLQADaiEHDAEFIAJBfmohDANAIAVBQGsQBCAHIAxLckUEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwNAIAcgDE0EQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwJAIAcgAk8NACAHIAYgBUFAayAIEAIiAEECdGoiAi0AADoAACACLQADQQFGBEAgBUFAayACLQACEAEMAQsgBSgCREEfSw0AIAVBQGsgBiAAQQJ0ai0AAhABIAUoAkRBIUkNACAFQSA2AkQLIA5BfWohAgNAQQAgBCACSSAFQShqEAQbBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2oiACAGIAVBKGogCBACQQJ0aiIELwEAOwAAIAVBKGogBC0AAhABIAAgBC0AA2ohBAwBBSAOQX5qIQIDQCAFQShqEAQgBCACS3JFBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsDQCAEIAJNBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsCQCAEIA5PDQAgBCAGIAVBKGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBKGogAi0AAhABDAELIAUoAixBH0sNACAFQShqIAYgAEECdGotAAIQASAFKAIsQSFJDQAgBUEgNgIsCwNAQQAgAyAQSSAFQRBqEAQbBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2oiACAGIAVBEGogCBACQQJ0aiICLwEAOwAAIAVBEGogAi0AAhABIAAgAi0AA2ohAwwBBSAPQX5qIQIDQCAFQRBqEAQgAyACS3JFBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsDQCADIAJNBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsCQCADIA9PDQAgAyAGIAVBEGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBEGogAi0AAhABDAELIAUoAhRBH0sNACAFQRBqIAYgAEECdGotAAIQASAFKAIUQSFJDQAgBUEgNgIUCyABQWwgBUHYAGoQCiAFQUBrEApxIAVBKGoQCnEgBUEQahAKcRshCwwJCwAACwALAAALAAsAAAsACwAACwALQWwhCwsgBUHwAGokACALC7UEAQ5/IwBBEGsiBiQAIAZBBGogABAOQVQhBQJAIARB3AtJDQAgBi0ABCEHIANB8ARqQQBB7AAQECEIIAdBDEsNACADQdwJaiIJIAggBkEIaiAGQQxqIAEgAhAxIhAQA0UEQCAGKAIMIgQgB0sNASADQdwFaiEPIANBpAVqIREgAEEEaiESIANBqAVqIQEgBCEFA0AgBSICQX9qIQUgCCACQQJ0aigCAEUNAAsgAkEBaiEOQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgASALaiAKNgIAIAVBAWohBSAKIAxqIQoMAQsLIAEgCjYCAEEAIQUgBigCCCELA0AgBSALRkUEQCABIAUgCWotAAAiDEECdGoiDSANKAIAIg1BAWo2AgAgDyANQQF0aiINIAw6AAEgDSAFOgAAIAVBAWohBQwBCwtBACEBIANBADYCqAUgBEF/cyAHaiEJQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgAyALaiABNgIAIAwgBSAJanQgAWohASAFQQFqIQUMAQsLIAcgBEEBaiIBIAJrIgRrQQFqIQgDQEEBIQUgBCAIT0UEQANAIAUgDk9FBEAgBUECdCIJIAMgBEE0bGpqIAMgCWooAgAgBHY2AgAgBUEBaiEFDAELCyAEQQFqIQQMAQsLIBIgByAPIAogESADIAIgARBkIAZBAToABSAGIAc6AAYgACAGKAIENgIACyAQIQULIAZBEGokACAFC8ENAQt/IwBB8ABrIgUkAEFsIQkCQCADQQpJDQAgAi8AACEKIAIvAAIhDCACLwAEIQYgBUEIaiAEEA4CQCADIAYgCiAMampBBmoiDUkNACAFLQAKIQcgBUHYAGogAkEGaiICIAoQBiIJEAMNASAFQUBrIAIgCmoiAiAMEAYiCRADDQEgBUEoaiACIAxqIgIgBhAGIgkQAw0BIAVBEGogAiAGaiADIA1rEAYiCRADDQEgACABaiIOQX1qIQ8gBEEEaiEGQQEhCSAAIAFBA2pBAnYiAmoiCiACaiIMIAJqIg0hAyAMIQQgCiECA0AgCSADIA9JcQRAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAACAGIAVBQGsgBxACQQF0aiIILQAAIQsgBUFAayAILQABEAEgAiALOgAAIAYgBUEoaiAHEAJBAXRqIggtAAAhCyAFQShqIAgtAAEQASAEIAs6AAAgBiAFQRBqIAcQAkEBdGoiCC0AACELIAVBEGogCC0AARABIAMgCzoAACAGIAVB2ABqIAcQAkEBdGoiCC0AACELIAVB2ABqIAgtAAEQASAAIAs6AAEgBiAFQUBrIAcQAkEBdGoiCC0AACELIAVBQGsgCC0AARABIAIgCzoAASAGIAVBKGogBxACQQF0aiIILQAAIQsgBUEoaiAILQABEAEgBCALOgABIAYgBUEQaiAHEAJBAXRqIggtAAAhCyAFQRBqIAgtAAEQASADIAs6AAEgA0ECaiEDIARBAmohBCACQQJqIQIgAEECaiEAIAkgBUHYAGoQDUVxIAVBQGsQDUVxIAVBKGoQDUVxIAVBEGoQDUVxIQkMAQsLIAQgDUsgAiAMS3INAEFsIQkgACAKSw0BIApBfWohCQNAIAVB2ABqEAQgACAJT3JFBEAgBiAFQdgAaiAHEAJBAXRqIggtAAAhCyAFQdgAaiAILQABEAEgACALOgAAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAASAAQQJqIQAMAQsLA0AgBUHYAGoQBCAAIApPckUEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCwNAIAAgCkkEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCyAMQX1qIQADQCAFQUBrEAQgAiAAT3JFBEAgBiAFQUBrIAcQAkEBdGoiCi0AACEJIAVBQGsgCi0AARABIAIgCToAACAGIAVBQGsgBxACQQF0aiIKLQAAIQkgBUFAayAKLQABEAEgAiAJOgABIAJBAmohAgwBCwsDQCAFQUBrEAQgAiAMT3JFBEAgBiAFQUBrIAcQAkEBdGoiAC0AACEKIAVBQGsgAC0AARABIAIgCjoAACACQQFqIQIMAQsLA0AgAiAMSQRAIAYgBUFAayAHEAJBAXRqIgAtAAAhCiAFQUBrIAAtAAEQASACIAo6AAAgAkEBaiECDAELCyANQX1qIQADQCAFQShqEAQgBCAAT3JFBEAgBiAFQShqIAcQAkEBdGoiAi0AACEKIAVBKGogAi0AARABIAQgCjoAACAGIAVBKGogBxACQQF0aiICLQAAIQogBUEoaiACLQABEAEgBCAKOgABIARBAmohBAwBCwsDQCAFQShqEAQgBCANT3JFBEAgBiAFQShqIAcQAkEBdGoiAC0AACECIAVBKGogAC0AARABIAQgAjoAACAEQQFqIQQMAQsLA0AgBCANSQRAIAYgBUEoaiAHEAJBAXRqIgAtAAAhAiAFQShqIAAtAAEQASAEIAI6AAAgBEEBaiEEDAELCwNAIAVBEGoQBCADIA9PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIAYgBUEQaiAHEAJBAXRqIgAtAAAhAiAFQRBqIAAtAAEQASADIAI6AAEgA0ECaiEDDAELCwNAIAVBEGoQBCADIA5PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIANBAWohAwwBCwsDQCADIA5JBEAgBiAFQRBqIAcQAkEBdGoiAC0AACECIAVBEGogAC0AARABIAMgAjoAACADQQFqIQMMAQsLIAFBbCAFQdgAahAKIAVBQGsQCnEgBUEoahAKcSAFQRBqEApxGyEJDAELQWwhCQsgBUHwAGokACAJC8oCAQR/IwBBIGsiBSQAIAUgBBAOIAUtAAIhByAFQQhqIAIgAxAGIgIQA0UEQCAEQQRqIQIgACABaiIDQX1qIQQDQCAFQQhqEAQgACAET3JFBEAgAiAFQQhqIAcQAkEBdGoiBi0AACEIIAVBCGogBi0AARABIAAgCDoAACACIAVBCGogBxACQQF0aiIGLQAAIQggBUEIaiAGLQABEAEgACAIOgABIABBAmohAAwBCwsDQCAFQQhqEAQgACADT3JFBEAgAiAFQQhqIAcQAkEBdGoiBC0AACEGIAVBCGogBC0AARABIAAgBjoAACAAQQFqIQAMAQsLA0AgACADT0UEQCACIAVBCGogBxACQQF0aiIELQAAIQYgBUEIaiAELQABEAEgACAGOgAAIABBAWohAAwBCwsgAUFsIAVBCGoQChshAgsgBUEgaiQAIAILtgMBCX8jAEEQayIGJAAgBkEANgIMIAZBADYCCEFUIQQCQAJAIANBQGsiDCADIAZBCGogBkEMaiABIAIQMSICEAMNACAGQQRqIAAQDiAGKAIMIgcgBi0ABEEBaksNASAAQQRqIQogBkEAOgAFIAYgBzoABiAAIAYoAgQ2AgAgB0EBaiEJQQEhBANAIAQgCUkEQCADIARBAnRqIgEoAgAhACABIAU2AgAgACAEQX9qdCAFaiEFIARBAWohBAwBCwsgB0EBaiEHQQAhBSAGKAIIIQkDQCAFIAlGDQEgAyAFIAxqLQAAIgRBAnRqIgBBASAEdEEBdSILIAAoAgAiAWoiADYCACAHIARrIQhBACEEAkAgC0EDTQRAA0AgBCALRg0CIAogASAEakEBdGoiACAIOgABIAAgBToAACAEQQFqIQQMAAALAAsDQCABIABPDQEgCiABQQF0aiIEIAg6AAEgBCAFOgAAIAQgCDoAAyAEIAU6AAIgBCAIOgAFIAQgBToABCAEIAg6AAcgBCAFOgAGIAFBBGohAQwAAAsACyAFQQFqIQUMAAALAAsgAiEECyAGQRBqJAAgBAutAQECfwJAQYQgKAIAIABHIAAoAgBBAXYiAyABa0F4aiICQXhxQQhHcgR/IAIFIAMQJ0UNASACQQhqC0EQSQ0AIAAgACgCACICQQFxIAAgAWpBD2pBeHEiASAAa0EBdHI2AgAgASAANgIEIAEgASgCAEEBcSAAIAJBAXZqIAFrIgJBAXRyNgIAQYQgIAEgAkH/////B3FqQQRqQYQgKAIAIABGGyABNgIAIAEQJQsLygIBBX8CQAJAAkAgAEEIIABBCEsbZ0EfcyAAaUEBR2oiAUEESSAAIAF2cg0AIAFBAnRB/B5qKAIAIgJFDQADQCACQXhqIgMoAgBBAXZBeGoiBSAATwRAIAIgBUEIIAVBCEsbZ0Efc0ECdEGAH2oiASgCAEYEQCABIAIoAgQ2AgALDAMLIARBHksNASAEQQFqIQQgAigCBCICDQALC0EAIQMgAUEgTw0BA0AgAUECdEGAH2ooAgAiAkUEQCABQR5LIQIgAUEBaiEBIAJFDQEMAwsLIAIgAkF4aiIDKAIAQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgBGBEAgASACKAIENgIACwsgAigCACIBBEAgASACKAIENgIECyACKAIEIgEEQCABIAIoAgA2AgALIAMgAygCAEEBcjYCACADIAAQNwsgAwvhCwINfwV+IwBB8ABrIgckACAHIAAoAvDhASIINgJcIAEgAmohDSAIIAAoAoDiAWohDwJAAkAgBUUEQCABIQQMAQsgACgCxOABIRAgACgCwOABIREgACgCvOABIQ4gAEEBNgKM4QFBACEIA0AgCEEDRwRAIAcgCEECdCICaiAAIAJqQazQAWooAgA2AkQgCEEBaiEIDAELC0FsIQwgB0EYaiADIAQQBhADDQEgB0EsaiAHQRhqIAAoAgAQEyAHQTRqIAdBGGogACgCCBATIAdBPGogB0EYaiAAKAIEEBMgDUFgaiESIAEhBEEAIQwDQCAHKAIwIAcoAixBA3RqKQIAIhRCEIinQf8BcSEIIAcoAkAgBygCPEEDdGopAgAiFUIQiKdB/wFxIQsgBygCOCAHKAI0QQN0aikCACIWQiCIpyEJIBVCIIghFyAUQiCIpyECAkAgFkIQiKdB/wFxIgNBAk8EQAJAIAZFIANBGUlyRQRAIAkgB0EYaiADQSAgBygCHGsiCiAKIANLGyIKEAUgAyAKayIDdGohCSAHQRhqEAQaIANFDQEgB0EYaiADEAUgCWohCQwBCyAHQRhqIAMQBSAJaiEJIAdBGGoQBBoLIAcpAkQhGCAHIAk2AkQgByAYNwNIDAELAkAgA0UEQCACBEAgBygCRCEJDAMLIAcoAkghCQwBCwJAAkAgB0EYakEBEAUgCSACRWpqIgNBA0YEQCAHKAJEQX9qIgMgA0VqIQkMAQsgA0ECdCAHaigCRCIJIAlFaiEJIANBAUYNAQsgByAHKAJINgJMCwsgByAHKAJENgJIIAcgCTYCRAsgF6chAyALBEAgB0EYaiALEAUgA2ohAwsgCCALakEUTwRAIAdBGGoQBBoLIAgEQCAHQRhqIAgQBSACaiECCyAHQRhqEAQaIAcgB0EYaiAUQhiIp0H/AXEQCCAUp0H//wNxajYCLCAHIAdBGGogFUIYiKdB/wFxEAggFadB//8DcWo2AjwgB0EYahAEGiAHIAdBGGogFkIYiKdB/wFxEAggFqdB//8DcWo2AjQgByACNgJgIAcoAlwhCiAHIAk2AmggByADNgJkAkACQAJAIAQgAiADaiILaiASSw0AIAIgCmoiEyAPSw0AIA0gBGsgC0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdBKGogACgCBBATQQAhBCAHQeAAaiEMIAdB5ABqIQoDQCAHQShqEARBAksgBCAXTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEJIAcoAkggBygCREEDdGopAgAiH0IgiKchCCAeQiCIISAgHUIgiKchAgJAIB9CEIinQf8BcSIDQQJPBEACQCAGRSADQRlJckUEQCAIIAdBKGogA0EgIAcoAixrIg0gDSADSxsiDRAFIAMgDWsiA3RqIQggB0EoahAEGiADRQ0BIAdBKGogAxAFIAhqIQgMAQsgB0EoaiADEAUgCGohCCAHQShqEAQaCyAHKQJUISEgByAINgJUIAcgITcDWAwBCwJAIANFBEAgAgRAIAcoAlQhCAwDCyAHKAJYIQgMAQsCQAJAIAdBKGpBARAFIAggAkVqaiIDQQNGBEAgBygCVEF/aiIDIANFaiEIDAELIANBAnQgB2ooAlQiCCAIRWohCCADQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAg2AlQLICCnIQMgCQRAIAdBKGogCRAFIANqIQMLIAkgC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgAmohAgsgB0EoahAEGiAHIAcoAmggAmoiCSADajYCaCAKIAwgCCAJSxsoAgAhDSAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogB0EoaiAfQhiIp0H/AXEQCCEOIAdB8ABqIARBBHRqIgsgCSANaiAIazYCDCALIAg2AgggCyADNgIEIAsgAjYCACAHIA4gH6dB//8DcWo2AkQgBEEBaiEEDAELCyAEIBdIDQEgEkFgaiEYIAdB4ABqIRogB0HkAGohGyABIQMDQCAHQShqEARBAksgBCAFTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEIIAcoAkggBygCREEDdGopAgAiH0IgiKchCSAeQiCIISAgHUIgiKchDAJAIB9CEIinQf8BcSICQQJPBEACQCAGRSACQRlJckUEQCAJIAdBKGogAkEgIAcoAixrIgogCiACSxsiChAFIAIgCmsiAnRqIQkgB0EoahAEGiACRQ0BIAdBKGogAhAFIAlqIQkMAQsgB0EoaiACEAUgCWohCSAHQShqEAQaCyAHKQJUISEgByAJNgJUIAcgITcDWAwBCwJAIAJFBEAgDARAIAcoAlQhCQwDCyAHKAJYIQkMAQsCQAJAIAdBKGpBARAFIAkgDEVqaiICQQNGBEAgBygCVEF/aiICIAJFaiEJDAELIAJBAnQgB2ooAlQiCSAJRWohCSACQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAk2AlQLICCnIRQgCARAIAdBKGogCBAFIBRqIRQLIAggC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgDGohDAsgB0EoahAEGiAHIAcoAmggDGoiGSAUajYCaCAbIBogCSAZSxsoAgAhHCAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogByAHQShqIB9CGIinQf8BcRAIIB+nQf//A3FqNgJEIAcgB0HwAGogBEEDcUEEdGoiDSkDCCIdNwPIASAHIA0pAwAiHjcDwAECQAJAAkAgBygCvAEiDiAepyICaiIWIBNLDQAgAyAHKALEASIKIAJqIgtqIBhLDQAgEiADayALQSBqTw0BCyAHIAcpA8gBNwMQIAcgBykDwAE3AwggAyASIAdBCGogB0G8AWogEyAPIBUgERAeIQsMAQsgAiADaiEIIAMgDhAHIAJBEU8EQCADQRBqIQIDQCACIA5BEGoiDhAHIAJBEGoiAiAISQ0ACwsgCCAdpyIOayECIAcgFjYCvAEgDiAIIA9rSwRAIA4gCCAVa0sEQEFsIQsMAgsgESACIA9rIgJqIhYgCmogEU0EQCAIIBYgChAPGgwCCyAIIBZBACACaxAPIQggByACIApqIgo2AsQBIAggAmshCCAPIQILIA5BEE8EQCAIIApqIQoDQCAIIAIQByACQRBqIQIgCEEQaiIIIApJDQALDAELAkAgDkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgDkECdCIKQcAeaigCAGoiAhAXIAIgCkHgHmooAgBrIQIgBygCxAEhCgwBCyAIIAIQDAsgCkEJSQ0AIAggCmohCiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAKSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAKSQ0ACwsgCxADBEAgCyEQDAQFIA0gDDYCACANIBkgHGogCWs2AgwgDSAJNgIIIA0gFDYCBCAEQQFqIQQgAyALaiEDDAILAAsLIAQgBUgNASAEIBdrIQtBACEEA0AgCyAFSARAIAcgB0HwAGogC0EDcUEEdGoiAikDCCIdNwPIASAHIAIpAwAiHjcDwAECQAJAAkAgBygCvAEiDCAepyICaiIKIBNLDQAgAyAHKALEASIJIAJqIhBqIBhLDQAgEiADayAQQSBqTw0BCyAHIAcpA8gBNwMgIAcgBykDwAE3AxggAyASIAdBGGogB0G8AWogEyAPIBUgERAeIRAMAQsgAiADaiEIIAMgDBAHIAJBEU8EQCADQRBqIQIDQCACIAxBEGoiDBAHIAJBEGoiAiAISQ0ACwsgCCAdpyIGayECIAcgCjYCvAEgBiAIIA9rSwRAIAYgCCAVa0sEQEFsIRAMAgsgESACIA9rIgJqIgwgCWogEU0EQCAIIAwgCRAPGgwCCyAIIAxBACACaxAPIQggByACIAlqIgk2AsQBIAggAmshCCAPIQILIAZBEE8EQCAIIAlqIQYDQCAIIAIQByACQRBqIQIgCEEQaiIIIAZJDQALDAELAkAgBkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgBkECdCIGQcAeaigCAGoiAhAXIAIgBkHgHmooAgBrIQIgBygCxAEhCQwBCyAIIAIQDAsgCUEJSQ0AIAggCWohBiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAGSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAGSQ0ACwsgEBADDQMgC0EBaiELIAMgEGohAwwBCwsDQCAEQQNHBEAgACAEQQJ0IgJqQazQAWogAiAHaigCVDYCACAEQQFqIQQMAQsLIAcoArwBIQgLQbp/IRAgEyAIayIAIBIgA2tLDQAgAwR/IAMgCCAAEAsgAGoFQQALIAFrIRALIAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY0AAQMyIFEAMiBg0AIANBHzYCfCADIANB/ABqIANB+ABqIAQgBCAFaiAGGyIEIAEgAmoiAiAEaxAVIgUQAw0AIAMoAnwiBkEfSw0AIAMoAngiB0EJTw0AIABBiCBqIAMgBkGAC0GADCAHEBggA0E0NgJ8IAMgA0H8AGogA0H4AGogBCAFaiIEIAIgBGsQFSIFEAMNACADKAJ8IgZBNEsNACADKAJ4IgdBCk8NACAAQZAwaiADIAZBgA1B4A4gBxAYIANBIzYCfCADIANB/ABqIANB+ABqIAQgBWoiBCACIARrEBUiBRADDQAgAygCfCIGQSNLDQAgAygCeCIHQQpPDQAgACADIAZBwBBB0BEgBxAYIAQgBWoiBEEMaiIFIAJLDQAgAiAFayEFQQAhAgNAIAJBA0cEQCAEKAAAIgZBf2ogBU8NAiAAIAJBAnRqQZzQAWogBjYCACACQQFqIQIgBEEEaiEEDAELCyAEIAFrIQgLIANBgAFqJAAgCAtGAQN/IABBCGohAyAAKAIEIQJBACEAA0AgACACdkUEQCABIAMgAEEDdGotAAJBFktqIQEgAEEBaiEADAELCyABQQggAmt0C4YDAQV/Qbh/IQcCQCADRQ0AIAItAAAiBEUEQCABQQA2AgBBAUG4fyADQQFGGw8LAn8gAkEBaiIFIARBGHRBGHUiBkF/Sg0AGiAGQX9GBEAgA0EDSA0CIAUvAABBgP4BaiEEIAJBA2oMAQsgA0ECSA0BIAItAAEgBEEIdHJBgIB+aiEEIAJBAmoLIQUgASAENgIAIAVBAWoiASACIANqIgNLDQBBbCEHIABBEGogACAFLQAAIgVBBnZBI0EJIAEgAyABa0HAEEHQEUHwEiAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBmCBqIABBCGogBUEEdkEDcUEfQQggASABIAZqIAgbIgEgAyABa0GAC0GADEGAFyAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBoDBqIABBBGogBUECdkEDcUE0QQkgASABIAZqIAgbIgEgAyABa0GADUHgDkGQGSAAKAKM4QEgACgCnOIBIAQQHyIAEAMNACAAIAFqIAJrIQcLIAcLrQMBCn8jAEGABGsiCCQAAn9BUiACQf8BSw0AGkFUIANBDEsNABogAkEBaiELIABBBGohCUGAgAQgA0F/anRBEHUhCkEAIQJBASEEQQEgA3QiB0F/aiIMIQUDQCACIAtGRQRAAkAgASACQQF0Ig1qLwEAIgZB//8DRgRAIAkgBUECdGogAjoAAiAFQX9qIQVBASEGDAELIARBACAKIAZBEHRBEHVKGyEECyAIIA1qIAY7AQAgAkEBaiECDAELCyAAIAQ7AQIgACADOwEAIAdBA3YgB0EBdmpBA2ohBkEAIQRBACECA0AgBCALRkUEQCABIARBAXRqLgEAIQpBACEAA0AgACAKTkUEQCAJIAJBAnRqIAQ6AAIDQCACIAZqIAxxIgIgBUsNAAsgAEEBaiEADAELCyAEQQFqIQQMAQsLQX8gAg0AGkEAIQIDfyACIAdGBH9BAAUgCCAJIAJBAnRqIgAtAAJBAXRqIgEgAS8BACIBQQFqOwEAIAAgAyABEBRrIgU6AAMgACABIAVB/wFxdCAHazsBACACQQFqIQIMAQsLCyEFIAhBgARqJAAgBQvjBgEIf0FsIQcCQCACQQNJDQACQAJAAkACQCABLQAAIgNBA3EiCUEBaw4DAwEAAgsgACgCiOEBDQBBYg8LIAJBBUkNAkEDIQYgASgAACEFAn8CQAJAIANBAnZBA3EiCEF+aiIEQQFNBEAgBEEBaw0BDAILIAVBDnZB/wdxIQQgBUEEdkH/B3EhAyAIRQwCCyAFQRJ2IQRBBCEGIAVBBHZB//8AcSEDQQAMAQsgBUEEdkH//w9xIgNBgIAISw0DIAEtAARBCnQgBUEWdnIhBEEFIQZBAAshBSAEIAZqIgogAksNAgJAIANBgQZJDQAgACgCnOIBRQ0AQQAhAgNAIAJBg4ABSw0BIAJBQGshAgwAAAsACwJ/IAlBA0YEQCABIAZqIQEgAEHw4gFqIQIgACgCDCEGIAUEQCACIAMgASAEIAYQXwwCCyACIAMgASAEIAYQXQwBCyAAQbjQAWohAiABIAZqIQEgAEHw4gFqIQYgAEGo0ABqIQggBQRAIAggBiADIAEgBCACEF4MAQsgCCAGIAMgASAEIAIQXAsQAw0CIAAgAzYCgOIBIABBATYCiOEBIAAgAEHw4gFqNgLw4QEgCUECRgRAIAAgAEGo0ABqNgIMCyAAIANqIgBBiOMBakIANwAAIABBgOMBakIANwAAIABB+OIBakIANwAAIABB8OIBakIANwAAIAoPCwJ/AkACQAJAIANBAnZBA3FBf2oiBEECSw0AIARBAWsOAgACAQtBASEEIANBA3YMAgtBAiEEIAEvAABBBHYMAQtBAyEEIAEQIUEEdgsiAyAEaiIFQSBqIAJLBEAgBSACSw0CIABB8OIBaiABIARqIAMQCyEBIAAgAzYCgOIBIAAgATYC8OEBIAEgA2oiAEIANwAYIABCADcAECAAQgA3AAggAEIANwAAIAUPCyAAIAM2AoDiASAAIAEgBGo2AvDhASAFDwsCfwJAAkACQCADQQJ2QQNxQX9qIgRBAksNACAEQQFrDgIAAgELQQEhByADQQN2DAILQQIhByABLwAAQQR2DAELIAJBBEkgARAhIgJBj4CAAUtyDQFBAyEHIAJBBHYLIQIgAEHw4gFqIAEgB2otAAAgAkEgahAQIQEgACACNgKA4gEgACABNgLw4QEgB0EBaiEHCyAHC0sAIABC+erQ0OfJoeThADcDICAAQgA3AxggAELP1tO+0ser2UI3AxAgAELW64Lu6v2J9eAANwMIIABCADcDACAAQShqQQBBKBAQGgviAgICfwV+IABBKGoiASAAKAJIaiECAn4gACkDACIDQiBaBEAgACkDECIEQgeJIAApAwgiBUIBiXwgACkDGCIGQgyJfCAAKQMgIgdCEol8IAUQGSAEEBkgBhAZIAcQGQwBCyAAKQMYQsXP2bLx5brqJ3wLIAN8IQMDQCABQQhqIgAgAk0EQEIAIAEpAAAQCSADhUIbiUKHla+vmLbem55/fkLj3MqV/M7y9YV/fCEDIAAhAQwBCwsCQCABQQRqIgAgAksEQCABIQAMAQsgASgAAK1Ch5Wvr5i23puef34gA4VCF4lCz9bTvtLHq9lCfkL5893xmfaZqxZ8IQMLA0AgACACSQRAIAAxAABCxc/ZsvHluuonfiADhUILiUKHla+vmLbem55/fiEDIABBAWohAAwBCwsgA0IhiCADhULP1tO+0ser2UJ+IgNCHYggA4VC+fPd8Zn2masWfiIDQiCIIAOFC+8CAgJ/BH4gACAAKQMAIAKtfDcDAAJAAkAgACgCSCIDIAJqIgRBH00EQCABRQ0BIAAgA2pBKGogASACECAgACgCSCACaiEEDAELIAEgAmohAgJ/IAMEQCAAQShqIgQgA2ogAUEgIANrECAgACAAKQMIIAQpAAAQCTcDCCAAIAApAxAgACkAMBAJNwMQIAAgACkDGCAAKQA4EAk3AxggACAAKQMgIABBQGspAAAQCTcDICAAKAJIIQMgAEEANgJIIAEgA2tBIGohAQsgAUEgaiACTQsEQCACQWBqIQMgACkDICEFIAApAxghBiAAKQMQIQcgACkDCCEIA0AgCCABKQAAEAkhCCAHIAEpAAgQCSEHIAYgASkAEBAJIQYgBSABKQAYEAkhBSABQSBqIgEgA00NAAsgACAFNwMgIAAgBjcDGCAAIAc3AxAgACAINwMICyABIAJPDQEgAEEoaiABIAIgAWsiBBAgCyAAIAQ2AkgLCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQEBogAwVBun8LCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQCxogAwVBun8LC6gCAQZ/IwBBEGsiByQAIABB2OABaikDAEKAgIAQViEIQbh/IQUCQCAEQf//B0sNACAAIAMgBBBCIgUQAyIGDQAgACgCnOIBIQkgACAHQQxqIAMgAyAFaiAGGyIKIARBACAFIAYbayIGEEAiAxADBEAgAyEFDAELIAcoAgwhBCABRQRAQbp/IQUgBEEASg0BCyAGIANrIQUgAyAKaiEDAkAgCQRAIABBADYCnOIBDAELAkACQAJAIARBBUgNACAAQdjgAWopAwBCgICACFgNAAwBCyAAQQA2ApziAQwBCyAAKAIIED8hBiAAQQA2ApziASAGQRRPDQELIAAgASACIAMgBSAEIAgQOSEFDAELIAAgASACIAMgBSAEIAgQOiEFCyAHQRBqJAAgBQtnACAAQdDgAWogASACIAAoAuzhARAuIgEQAwRAIAEPC0G4fyECAkAgAQ0AIABB7OABaigCACIBBEBBYCECIAAoApjiASABRw0BC0EAIQIgAEHw4AFqKAIARQ0AIABBkOEBahBDCyACCycBAX8QVyIERQRAQUAPCyAEIAAgASACIAMgBBBLEE8hACAEEFYgAAs/AQF/AkACQAJAIAAoAqDiAUEBaiIBQQJLDQAgAUEBaw4CAAECCyAAEDBBAA8LIABBADYCoOIBCyAAKAKU4gELvAMCB38BfiMAQRBrIgkkAEG4fyEGAkAgBCgCACIIQQVBCSAAKALs4QEiBRtJDQAgAygCACIHQQFBBSAFGyAFEC8iBRADBEAgBSEGDAELIAggBUEDakkNACAAIAcgBRBJIgYQAw0AIAEgAmohCiAAQZDhAWohCyAIIAVrIQIgBSAHaiEHIAEhBQNAIAcgAiAJECwiBhADDQEgAkF9aiICIAZJBEBBuH8hBgwCCyAJKAIAIghBAksEQEFsIQYMAgsgB0EDaiEHAn8CQAJAAkAgCEEBaw4CAgABCyAAIAUgCiAFayAHIAYQSAwCCyAFIAogBWsgByAGEEcMAQsgBSAKIAVrIActAAAgCSgCCBBGCyIIEAMEQCAIIQYMAgsgACgC8OABBEAgCyAFIAgQRQsgAiAGayECIAYgB2ohByAFIAhqIQUgCSgCBEUNAAsgACkD0OABIgxCf1IEQEFsIQYgDCAFIAFrrFINAQsgACgC8OABBEBBaiEGIAJBBEkNASALEEQhDCAHKAAAIAynRw0BIAdBBGohByACQXxqIQILIAMgBzYCACAEIAI2AgAgBSABayEGCyAJQRBqJAAgBgsuACAAECsCf0EAQQAQAw0AGiABRSACRXJFBEBBYiAAIAEgAhA9EAMNARoLQQALCzcAIAEEQCAAIAAoAsTgASABKAIEIAEoAghqRzYCnOIBCyAAECtBABADIAFFckUEQCAAIAEQWwsL0QIBB38jAEEQayIGJAAgBiAENgIIIAYgAzYCDCAFBEAgBSgCBCEKIAUoAgghCQsgASEIAkACQANAIAAoAuzhARAWIQsCQANAIAQgC0kNASADKAAAQXBxQdDUtMIBRgRAIAMgBBAiIgcQAw0EIAQgB2shBCADIAdqIQMMAQsLIAYgAzYCDCAGIAQ2AggCQCAFBEAgACAFEE5BACEHQQAQA0UNAQwFCyAAIAogCRBNIgcQAw0ECyAAIAgQUCAMQQFHQQAgACAIIAIgBkEMaiAGQQhqEEwiByIDa0EAIAMQAxtBCkdyRQRAQbh/IQcMBAsgBxADDQMgAiAHayECIAcgCGohCEEBIQwgBigCDCEDIAYoAgghBAwBCwsgBiADNgIMIAYgBDYCCEG4fyEHIAQNASAIIAFrIQcMAQsgBiADNgIMIAYgBDYCCAsgBkEQaiQAIAcLRgECfyABIAAoArjgASICRwRAIAAgAjYCxOABIAAgATYCuOABIAAoArzgASEDIAAgATYCvOABIAAgASADIAJrajYCwOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEEdCAAbiECCyAAQQh2IgEgAkEYbCIAQYwIaigCAGwgAEGICGooAgBqIgJBA3YgAmogAEGACGooAgAgAEGECGooAgAgAWxqSQs3ACAAIAMgBCAFQYAQEDMiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQMgVBuH8LC78DAQN/IwBBIGsiBSQAIAVBCGogAiADEAYiAhADRQRAIAAgAWoiB0F9aiEGIAUgBBAOIARBBGohAiAFLQACIQMDQEEAIAAgBkkgBUEIahAEGwRAIAAgAiAFQQhqIAMQAkECdGoiBC8BADsAACAFQQhqIAQtAAIQASAAIAQtAANqIgQgAiAFQQhqIAMQAkECdGoiAC8BADsAACAFQQhqIAAtAAIQASAEIAAtAANqIQAMAQUgB0F+aiEEA0AgBUEIahAEIAAgBEtyRQRAIAAgAiAFQQhqIAMQAkECdGoiBi8BADsAACAFQQhqIAYtAAIQASAAIAYtAANqIQAMAQsLA0AgACAES0UEQCAAIAIgBUEIaiADEAJBAnRqIgYvAQA7AAAgBUEIaiAGLQACEAEgACAGLQADaiEADAELCwJAIAAgB08NACAAIAIgBUEIaiADEAIiA0ECdGoiAC0AADoAACAALQADQQFGBEAgBUEIaiAALQACEAEMAQsgBSgCDEEfSw0AIAVBCGogAiADQQJ0ai0AAhABIAUoAgxBIUkNACAFQSA2AgwLIAFBbCAFQQhqEAobIQILCwsgBUEgaiQAIAILkgIBBH8jAEFAaiIJJAAgCSADQTQQCyEDAkAgBEECSA0AIAMgBEECdGooAgAhCSADQTxqIAgQIyADQQE6AD8gAyACOgA+QQAhBCADKAI8IQoDQCAEIAlGDQEgACAEQQJ0aiAKNgEAIARBAWohBAwAAAsAC0EAIQkDQCAGIAlGRQRAIAMgBSAJQQF0aiIKLQABIgtBAnRqIgwoAgAhBCADQTxqIAotAABBCHQgCGpB//8DcRAjIANBAjoAPyADIAcgC2siCiACajoAPiAEQQEgASAKa3RqIQogAygCPCELA0AgACAEQQJ0aiALNgEAIARBAWoiBCAKSQ0ACyAMIAo2AgAgCUEBaiEJDAELCyADQUBrJAALowIBCX8jAEHQAGsiCSQAIAlBEGogBUE0EAsaIAcgBmshDyAHIAFrIRADQAJAIAMgCkcEQEEBIAEgByACIApBAXRqIgYtAAEiDGsiCGsiC3QhDSAGLQAAIQ4gCUEQaiAMQQJ0aiIMKAIAIQYgCyAPTwRAIAAgBkECdGogCyAIIAUgCEE0bGogCCAQaiIIQQEgCEEBShsiCCACIAQgCEECdGooAgAiCEEBdGogAyAIayAHIA4QYyAGIA1qIQgMAgsgCUEMaiAOECMgCUEBOgAPIAkgCDoADiAGIA1qIQggCSgCDCELA0AgBiAITw0CIAAgBkECdGogCzYBACAGQQFqIQYMAAALAAsgCUHQAGokAA8LIAwgCDYCACAKQQFqIQoMAAALAAs0ACAAIAMgBCAFEDYiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQNAVBuH8LCyMAIAA/AEEQdGtB//8DakEQdkAAQX9GBEBBAA8LQQAQAEEBCzsBAX8gAgRAA0AgACABIAJBgCAgAkGAIEkbIgMQCyEAIAFBgCBqIQEgAEGAIGohACACIANrIgINAAsLCwYAIAAQAwsLqBUJAEGICAsNAQAAAAEAAAACAAAAAgBBoAgLswYBAAAAAQAAAAIAAAACAAAAJgAAAIIAAAAhBQAASgAAAGcIAAAmAAAAwAEAAIAAAABJBQAASgAAAL4IAAApAAAALAIAAIAAAABJBQAASgAAAL4IAAAvAAAAygIAAIAAAACKBQAASgAAAIQJAAA1AAAAcwMAAIAAAACdBQAASgAAAKAJAAA9AAAAgQMAAIAAAADrBQAASwAAAD4KAABEAAAAngMAAIAAAABNBgAASwAAAKoKAABLAAAAswMAAIAAAADBBgAATQAAAB8NAABNAAAAUwQAAIAAAAAjCAAAUQAAAKYPAABUAAAAmQQAAIAAAABLCQAAVwAAALESAABYAAAA2gQAAIAAAABvCQAAXQAAACMUAABUAAAARQUAAIAAAABUCgAAagAAAIwUAABqAAAArwUAAIAAAAB2CQAAfAAAAE4QAAB8AAAA0gIAAIAAAABjBwAAkQAAAJAHAACSAAAAAAAAAAEAAAABAAAABQAAAA0AAAAdAAAAPQAAAH0AAAD9AAAA/QEAAP0DAAD9BwAA/Q8AAP0fAAD9PwAA/X8AAP3/AAD9/wEA/f8DAP3/BwD9/w8A/f8fAP3/PwD9/38A/f//AP3//wH9//8D/f//B/3//w/9//8f/f//P/3//38AAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAAFAAAABUAAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAACUAAAAnAAAAKQAAACsAAAAvAAAAMwAAADsAAABDAAAAUwAAAGMAAACDAAAAAwEAAAMCAAADBAAAAwgAAAMQAAADIAAAA0AAAAOAAAADAAEAQeAPC1EBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAQcQQC4sBAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABIAAAAUAAAAFgAAABgAAAAcAAAAIAAAACgAAAAwAAAAQAAAAIAAAAAAAQAAAAIAAAAEAAAACAAAABAAAAAgAAAAQAAAAIAAAAAAAQBBkBIL5gQBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAAAEAAAAEAAAACAAAAAAAAAABAAEBBgAAAAAAAAQAAAAAEAAABAAAAAAgAAAFAQAAAAAAAAUDAAAAAAAABQQAAAAAAAAFBgAAAAAAAAUHAAAAAAAABQkAAAAAAAAFCgAAAAAAAAUMAAAAAAAABg4AAAAAAAEFEAAAAAAAAQUUAAAAAAABBRYAAAAAAAIFHAAAAAAAAwUgAAAAAAAEBTAAAAAgAAYFQAAAAAAABwWAAAAAAAAIBgABAAAAAAoGAAQAAAAADAYAEAAAIAAABAAAAAAAAAAEAQAAAAAAAAUCAAAAIAAABQQAAAAAAAAFBQAAACAAAAUHAAAAAAAABQgAAAAgAAAFCgAAAAAAAAULAAAAAAAABg0AAAAgAAEFEAAAAAAAAQUSAAAAIAABBRYAAAAAAAIFGAAAACAAAwUgAAAAAAADBSgAAAAAAAYEQAAAABAABgRAAAAAIAAHBYAAAAAAAAkGAAIAAAAACwYACAAAMAAABAAAAAAQAAAEAQAAACAAAAUCAAAAIAAABQMAAAAgAAAFBQAAACAAAAUGAAAAIAAABQgAAAAgAAAFCQAAACAAAAULAAAAIAAABQwAAAAAAAAGDwAAACAAAQUSAAAAIAABBRQAAAAgAAIFGAAAACAAAgUcAAAAIAADBSgAAAAgAAQFMAAAAAAAEAYAAAEAAAAPBgCAAAAAAA4GAEAAAAAADQYAIABBgBcLhwIBAAEBBQAAAAAAAAUAAAAAAAAGBD0AAAAAAAkF/QEAAAAADwX9fwAAAAAVBf3/HwAAAAMFBQAAAAAABwR9AAAAAAAMBf0PAAAAABIF/f8DAAAAFwX9/38AAAAFBR0AAAAAAAgE/QAAAAAADgX9PwAAAAAUBf3/DwAAAAIFAQAAABAABwR9AAAAAAALBf0HAAAAABEF/f8BAAAAFgX9/z8AAAAEBQ0AAAAQAAgE/QAAAAAADQX9HwAAAAATBf3/BwAAAAEFAQAAABAABgQ9AAAAAAAKBf0DAAAAABAF/f8AAAAAHAX9//8PAAAbBf3//wcAABoF/f//AwAAGQX9//8BAAAYBf3//wBBkBkLhgQBAAEBBgAAAAAAAAYDAAAAAAAABAQAAAAgAAAFBQAAAAAAAAUGAAAAAAAABQgAAAAAAAAFCQAAAAAAAAULAAAAAAAABg0AAAAAAAAGEAAAAAAAAAYTAAAAAAAABhYAAAAAAAAGGQAAAAAAAAYcAAAAAAAABh8AAAAAAAAGIgAAAAAAAQYlAAAAAAABBikAAAAAAAIGLwAAAAAAAwY7AAAAAAAEBlMAAAAAAAcGgwAAAAAACQYDAgAAEAAABAQAAAAAAAAEBQAAACAAAAUGAAAAAAAABQcAAAAgAAAFCQAAAAAAAAUKAAAAAAAABgwAAAAAAAAGDwAAAAAAAAYSAAAAAAAABhUAAAAAAAAGGAAAAAAAAAYbAAAAAAAABh4AAAAAAAAGIQAAAAAAAQYjAAAAAAABBicAAAAAAAIGKwAAAAAAAwYzAAAAAAAEBkMAAAAAAAUGYwAAAAAACAYDAQAAIAAABAQAAAAwAAAEBAAAABAAAAQFAAAAIAAABQcAAAAgAAAFCAAAACAAAAUKAAAAIAAABQsAAAAAAAAGDgAAAAAAAAYRAAAAAAAABhQAAAAAAAAGFwAAAAAAAAYaAAAAAAAABh0AAAAAAAAGIAAAAAAAEAYDAAEAAAAPBgOAAAAAAA4GA0AAAAAADQYDIAAAAAAMBgMQAAAAAAsGAwgAAAAACgYDBABBpB0L2QEBAAAAAwAAAAcAAAAPAAAAHwAAAD8AAAB/AAAA/wAAAP8BAAD/AwAA/wcAAP8PAAD/HwAA/z8AAP9/AAD//wAA//8BAP//AwD//wcA//8PAP//HwD//z8A//9/AP///wD///8B////A////wf///8P////H////z////9/AAAAAAEAAAACAAAABAAAAAAAAAACAAAABAAAAAgAAAAAAAAAAQAAAAIAAAABAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAcAAAAIAAAACQAAAAoAAAALAEGgIAsDwBBQ"},"./node_modules/super-three/examples/jsm/lights/LightProbeGenerator.js":(l,u,c)=>{c.r(u),c.d(u,{LightProbeGenerator:()=>h});var d=c("./node_modules/super-three/build/three.module.js");class h{static fromCubeTexture(v){let y=0;const A=new d.Vector3,b=new d.Vector3,g=new d.Color,w=[0,0,0,0,0,0,0,0,0],E=new d.SphericalHarmonics3,C=E.coefficients;for(let P=0;P<6;P++){const R=v.image[P],L=R.width,T=R.height,D=document.createElement("canvas");D.width=L,D.height=T;const H=D.getContext("2d");H.drawImage(R,0,0,L,T);const V=H.getImageData(0,0,L,T),B=V.data,O=V.width,F=2/O;for(let N=0,z=B.length;N<z;N+=4){g.setRGB(B[N]/255,B[N+1]/255,B[N+2]/255),p(g,v.encoding);const j=N/4,G=-1+(j%O+.5)*F,Q=1-(Math.floor(j/O)+.5)*F;switch(P){case 0:A.set(-1,Q,-G);break;case 1:A.set(1,Q,G);break;case 2:A.set(-G,1,-Q);break;case 3:A.set(-G,-1,Q);break;case 4:A.set(-G,Q,1);break;case 5:A.set(G,Q,-1);break}const X=A.lengthSq(),J=4/(Math.sqrt(X)*X);y+=J,b.copy(A).normalize(),d.SphericalHarmonics3.getBasisAt(b,w);for(let Z=0;Z<9;Z++)C[Z].x+=w[Z]*g.r*J,C[Z].y+=w[Z]*g.g*J,C[Z].z+=w[Z]*g.b*J}}const _=4*Math.PI/y;for(let P=0;P<9;P++)C[P].x*=_,C[P].y*=_,C[P].z*=_;return new d.LightProbe(E)}static fromCubeRenderTarget(v,y){let A=0;const b=new d.Vector3,g=new d.Vector3,w=new d.Color,E=[0,0,0,0,0,0,0,0,0],C=new d.SphericalHarmonics3,_=C.coefficients;for(let R=0;R<6;R++){const L=y.width,T=new Uint8Array(L*L*4);v.readRenderTargetPixels(y,0,0,L,L,T,R);const D=2/L;for(let H=0,V=T.length;H<V;H+=4){w.setRGB(T[H]/255,T[H+1]/255,T[H+2]/255),p(w,y.texture.encoding);const B=H/4,O=-1+(B%L+.5)*D,F=1-(Math.floor(B/L)+.5)*D;switch(R){case 0:b.set(1,F,-O);break;case 1:b.set(-1,F,O);break;case 2:b.set(O,1,-F);break;case 3:b.set(O,-1,F);break;case 4:b.set(O,F,1);break;case 5:b.set(-O,F,-1);break}const N=b.lengthSq(),z=4/(Math.sqrt(N)*N);A+=z,g.copy(b).normalize(),d.SphericalHarmonics3.getBasisAt(g,E);for(let j=0;j<9;j++)_[j].x+=E[j]*w.r*z,_[j].y+=E[j]*w.g*z,_[j].z+=E[j]*w.b*z}}const P=4*Math.PI/A;for(let R=0;R<9;R++)_[R].x*=P,_[R].y*=P,_[R].z*=P;return new d.LightProbe(C)}}function p(m,v){switch(v){case d.sRGBEncoding:m.convertSRGBToLinear();break;case d.LinearEncoding:break;default:console.warn("WARNING: LightProbeGenerator convertColorToLinear() encountered an unsupported encoding.");break}return m}},"./node_modules/super-three/examples/jsm/loaders/DRACOLoader.js":(l,u,c)=>{c.r(u),c.d(u,{DRACOLoader:()=>p});var d=c("./node_modules/super-three/build/three.module.js");const h=new WeakMap;class p extends d.Loader{constructor(y){super(y),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(y){return this.decoderPath=y,this}setDecoderConfig(y){return this.decoderConfig=y,this}setWorkerLimit(y){return this.workerLimit=y,this}load(y,A,b,g){const w=new d.FileLoader(this.manager);w.setPath(this.path),w.setResponseType("arraybuffer"),w.setRequestHeader(this.requestHeader),w.setWithCredentials(this.withCredentials),w.load(y,E=>{this.decodeDracoFile(E,A).catch(g)},b,g)}decodeDracoFile(y,A,b,g){const w={attributeIDs:b||this.defaultAttributeIDs,attributeTypes:g||this.defaultAttributeTypes,useUniqueIDs:!!b};return this.decodeGeometry(y,w).then(A)}decodeGeometry(y,A){const b=JSON.stringify(A);if(h.has(y)){const _=h.get(y);if(_.key===b)return _.promise;if(y.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let g;const w=this.workerNextTaskID++,E=y.byteLength,C=this._getWorker(w,E).then(_=>(g=_,new Promise((P,R)=>{g._callbacks[w]={resolve:P,reject:R},g.postMessage({type:"decode",id:w,taskConfig:A,buffer:y},[y])}))).then(_=>this._createGeometry(_.geometry));return C.catch(()=>!0).then(()=>{g&&w&&this._releaseTask(g,w)}),h.set(y,{key:b,promise:C}),C}_createGeometry(y){const A=new d.BufferGeometry;y.index&&A.setIndex(new d.BufferAttribute(y.index.array,1));for(let b=0;b<y.attributes.length;b++){const g=y.attributes[b],w=g.name,E=g.array,C=g.itemSize;A.setAttribute(w,new d.BufferAttribute(E,C))}return A}_loadLibrary(y,A){const b=new d.FileLoader(this.manager);return b.setPath(this.decoderPath),b.setResponseType(A),b.setWithCredentials(this.withCredentials),new Promise((g,w)=>{b.load(y,g,void 0,w)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const y=typeof WebAssembly!="object"||this.decoderConfig.type==="js",A=[];return y?A.push(this._loadLibrary("draco_decoder.js","text")):(A.push(this._loadLibrary("draco_wasm_wrapper.js","text")),A.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(A).then(b=>{const g=b[0];y||(this.decoderConfig.wasmBinary=b[1]);const w=m.toString(),E=["/* draco decoder */",g,"","/* worker */",w.substring(w.indexOf("{")+1,w.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([E]))}),this.decoderPending}_getWorker(y,A){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const g=new Worker(this.workerSourceURL);g._callbacks={},g._taskCosts={},g._taskLoad=0,g.postMessage({type:"init",decoderConfig:this.decoderConfig}),g.onmessage=function(w){const E=w.data;switch(E.type){case"decode":g._callbacks[E.id].resolve(E);break;case"error":g._callbacks[E.id].reject(E);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+E.type+'"')}},this.workerPool.push(g)}else this.workerPool.sort(function(g,w){return g._taskLoad>w._taskLoad?-1:1});const b=this.workerPool[this.workerPool.length-1];return b._taskCosts[y]=A,b._taskLoad+=A,b})}_releaseTask(y,A){y._taskLoad-=y._taskCosts[A],delete y._callbacks[A],delete y._taskCosts[A]}debug(){console.log("Task load: ",this.workerPool.map(y=>y._taskLoad))}dispose(){for(let y=0;y<this.workerPool.length;++y)this.workerPool[y].terminate();return this.workerPool.length=0,this}}function m(){let v,y;onmessage=function(E){const C=E.data;switch(C.type){case"init":v=C.decoderConfig,y=new Promise(function(R){v.onModuleLoaded=function(L){R({draco:L})},DracoDecoderModule(v)});break;case"decode":const _=C.buffer,P=C.taskConfig;y.then(R=>{const L=R.draco,T=new L.Decoder,D=new L.DecoderBuffer;D.Init(new Int8Array(_),_.byteLength);try{const H=A(L,T,D,P),V=H.attributes.map(B=>B.array.buffer);H.index&&V.push(H.index.array.buffer),self.postMessage({type:"decode",id:C.id,geometry:H},V)}catch(H){console.error(H),self.postMessage({type:"error",id:C.id,error:H.message})}finally{L.destroy(D),L.destroy(T)}});break}};function A(E,C,_,P){const R=P.attributeIDs,L=P.attributeTypes;let T,D;const H=C.GetEncodedGeometryType(_);if(H===E.TRIANGULAR_MESH)T=new E.Mesh,D=C.DecodeBufferToMesh(_,T);else if(H===E.POINT_CLOUD)T=new E.PointCloud,D=C.DecodeBufferToPointCloud(_,T);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!D.ok()||T.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+D.error_msg());const V={index:null,attributes:[]};for(const B in R){const O=self[L[B]];let F,N;if(P.useUniqueIDs)N=R[B],F=C.GetAttributeByUniqueId(T,N);else{if(N=C.GetAttributeId(T,E[R[B]]),N===-1)continue;F=C.GetAttribute(T,N)}V.attributes.push(g(E,C,T,B,O,F))}return H===E.TRIANGULAR_MESH&&(V.index=b(E,C,T)),E.destroy(T),V}function b(E,C,_){const R=_.num_faces()*3,L=R*4,T=E._malloc(L);C.GetTrianglesUInt32Array(_,L,T);const D=new Uint32Array(E.HEAPF32.buffer,T,R).slice();return E._free(T),{array:D,itemSize:1}}function g(E,C,_,P,R,L){const T=L.num_components(),H=_.num_points()*T,V=H*R.BYTES_PER_ELEMENT,B=w(E,R),O=E._malloc(V);C.GetAttributeDataArrayForAllPoints(_,L,B,V,O);const F=new R(E.HEAPF32.buffer,O,H).slice();return E._free(O),{name:P,array:F,itemSize:T}}function w(E,C){switch(C){case Float32Array:return E.DT_FLOAT32;case Int8Array:return E.DT_INT8;case Int16Array:return E.DT_INT16;case Int32Array:return E.DT_INT32;case Uint8Array:return E.DT_UINT8;case Uint16Array:return E.DT_UINT16;case Uint32Array:return E.DT_UINT32}}}},"./node_modules/super-three/examples/jsm/loaders/GLTFLoader.js":(l,u,c)=>{c.r(u),c.d(u,{GLTFLoader:()=>h});var d=c("./node_modules/super-three/build/three.module.js");class h extends d.Loader{constructor(fe){super(fe),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(pe){return new b(pe)}),this.register(function(pe){return new R(pe)}),this.register(function(pe){return new L(pe)}),this.register(function(pe){return new w(pe)}),this.register(function(pe){return new E(pe)}),this.register(function(pe){return new C(pe)}),this.register(function(pe){return new _(pe)}),this.register(function(pe){return new A(pe)}),this.register(function(pe){return new P(pe)}),this.register(function(pe){return new g(pe)}),this.register(function(pe){return new v(pe)}),this.register(function(pe){return new T(pe)}),this.register(function(pe){return new D(pe)})}load(fe,pe,_e,Ce){const Se=this;let we;this.resourcePath!==""?we=this.resourcePath:this.path!==""?we=this.path:we=d.LoaderUtils.extractUrlBase(fe),this.manager.itemStart(fe);const je=function(Ue){Ce?Ce(Ue):console.error(Ue),Se.manager.itemError(fe),Se.manager.itemEnd(fe)},Ae=new d.FileLoader(this.manager);Ae.setPath(this.path),Ae.setResponseType("arraybuffer"),Ae.setRequestHeader(this.requestHeader),Ae.setWithCredentials(this.withCredentials),Ae.load(fe,function(Ue){try{Se.parse(Ue,we,function(et){pe(et),Se.manager.itemEnd(fe)},je)}catch(et){je(et)}},_e,je)}setDRACOLoader(fe){return this.dracoLoader=fe,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(fe){return this.ktx2Loader=fe,this}setMeshoptDecoder(fe){return this.meshoptDecoder=fe,this}register(fe){return this.pluginCallbacks.indexOf(fe)===-1&&this.pluginCallbacks.push(fe),this}unregister(fe){return this.pluginCallbacks.indexOf(fe)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(fe),1),this}parse(fe,pe,_e,Ce){let Se;const we={},je={};if(typeof fe=="string")Se=JSON.parse(fe);else if(fe instanceof ArrayBuffer)if(d.LoaderUtils.decodeText(new Uint8Array(fe,0,4))===H){try{we[m.KHR_BINARY_GLTF]=new O(fe)}catch(et){Ce&&Ce(et);return}Se=JSON.parse(we[m.KHR_BINARY_GLTF].content)}else Se=JSON.parse(d.LoaderUtils.decodeText(new Uint8Array(fe)));else Se=fe;if(Se.asset===void 0||Se.asset.version[0]<2){Ce&&Ce(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const Ae=new Ct(Se,{path:pe||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});Ae.fileLoader.setRequestHeader(this.requestHeader);for(let Ue=0;Ue<this.pluginCallbacks.length;Ue++){const et=this.pluginCallbacks[Ue](Ae);je[et.name]=et,we[et.name]=!0}if(Se.extensionsUsed)for(let Ue=0;Ue<Se.extensionsUsed.length;++Ue){const et=Se.extensionsUsed[Ue],ue=Se.extensionsRequired||[];switch(et){case m.KHR_MATERIALS_UNLIT:we[et]=new y;break;case m.KHR_DRACO_MESH_COMPRESSION:we[et]=new F(Se,this.dracoLoader);break;case m.KHR_TEXTURE_TRANSFORM:we[et]=new N;break;case m.KHR_MESH_QUANTIZATION:we[et]=new z;break;default:ue.indexOf(et)>=0&&je[et]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+et+'".')}}Ae.setExtensions(we),Ae.setPlugins(je),Ae.parse(_e,Ce)}parseAsync(fe,pe){const _e=this;return new Promise(function(Ce,Se){_e.parse(fe,pe,Ce,Se)})}}function p(){let ye={};return{get:function(fe){return ye[fe]},add:function(fe,pe){ye[fe]=pe},remove:function(fe){delete ye[fe]},removeAll:function(){ye={}}}}const m={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class v{constructor(fe){this.parser=fe,this.name=m.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const fe=this.parser,pe=this.parser.json.nodes||[];for(let _e=0,Ce=pe.length;_e<Ce;_e++){const Se=pe[_e];Se.extensions&&Se.extensions[this.name]&&Se.extensions[this.name].light!==void 0&&fe._addNodeRef(this.cache,Se.extensions[this.name].light)}}_loadLight(fe){const pe=this.parser,_e="light:"+fe;let Ce=pe.cache.get(_e);if(Ce)return Ce;const Se=pe.json,Ae=((Se.extensions&&Se.extensions[this.name]||{}).lights||[])[fe];let Ue;const et=new d.Color(16777215);Ae.color!==void 0&&et.fromArray(Ae.color);const ue=Ae.range!==void 0?Ae.range:0;switch(Ae.type){case"directional":Ue=new d.DirectionalLight(et),Ue.target.position.set(0,0,-1),Ue.add(Ue.target);break;case"point":Ue=new d.PointLight(et),Ue.distance=ue;break;case"spot":Ue=new d.SpotLight(et),Ue.distance=ue,Ae.spot=Ae.spot||{},Ae.spot.innerConeAngle=Ae.spot.innerConeAngle!==void 0?Ae.spot.innerConeAngle:0,Ae.spot.outerConeAngle=Ae.spot.outerConeAngle!==void 0?Ae.spot.outerConeAngle:Math.PI/4,Ue.angle=Ae.spot.outerConeAngle,Ue.penumbra=1-Ae.spot.innerConeAngle/Ae.spot.outerConeAngle,Ue.target.position.set(0,0,-1),Ue.add(Ue.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+Ae.type)}return Ue.position.set(0,0,0),Ue.decay=2,ke(Ue,Ae),Ae.intensity!==void 0&&(Ue.intensity=Ae.intensity),Ue.name=pe.createUniqueName(Ae.name||"light_"+fe),Ce=Promise.resolve(Ue),pe.cache.add(_e,Ce),Ce}getDependency(fe,pe){if(fe==="light")return this._loadLight(pe)}createNodeAttachment(fe){const pe=this,_e=this.parser,Se=_e.json.nodes[fe],je=(Se.extensions&&Se.extensions[this.name]||{}).light;return je===void 0?null:this._loadLight(je).then(function(Ae){return _e._getNodeRef(pe.cache,je,Ae)})}}class y{constructor(){this.name=m.KHR_MATERIALS_UNLIT}getMaterialType(){return d.MeshBasicMaterial}extendParams(fe,pe,_e){const Ce=[];fe.color=new d.Color(1,1,1),fe.opacity=1;const Se=pe.pbrMetallicRoughness;if(Se){if(Array.isArray(Se.baseColorFactor)){const we=Se.baseColorFactor;fe.color.fromArray(we),fe.opacity=we[3]}Se.baseColorTexture!==void 0&&Ce.push(_e.assignTexture(fe,"map",Se.baseColorTexture,d.sRGBEncoding))}return Promise.all(Ce)}}class A{constructor(fe){this.parser=fe,this.name=m.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(fe,pe){const Ce=this.parser.json.materials[fe];if(!Ce.extensions||!Ce.extensions[this.name])return Promise.resolve();const Se=Ce.extensions[this.name].emissiveStrength;return Se!==void 0&&(pe.emissiveIntensity=Se),Promise.resolve()}}class b{constructor(fe){this.parser=fe,this.name=m.KHR_MATERIALS_CLEARCOAT}getMaterialType(fe){const _e=this.parser.json.materials[fe];return!_e.extensions||!_e.extensions[this.name]?null:d.MeshPhysicalMaterial}extendMaterialParams(fe,pe){const _e=this.parser,Ce=_e.json.materials[fe];if(!Ce.extensions||!Ce.extensions[this.name])return Promise.resolve();const Se=[],we=Ce.extensions[this.name];if(we.clearcoatFactor!==void 0&&(pe.clearcoat=we.clearcoatFactor),we.clearcoatTexture!==void 0&&Se.push(_e.assignTexture(pe,"clearcoatMap",we.clearcoatTexture)),we.clearcoatRoughnessFactor!==void 0&&(pe.clearcoatRoughness=we.clearcoatRoughnessFactor),we.clearcoatRoughnessTexture!==void 0&&Se.push(_e.assignTexture(pe,"clearcoatRoughnessMap",we.clearcoatRoughnessTexture)),we.clearcoatNormalTexture!==void 0&&(Se.push(_e.assignTexture(pe,"clearcoatNormalMap",we.clearcoatNormalTexture)),we.clearcoatNormalTexture.scale!==void 0)){const je=we.clearcoatNormalTexture.scale;pe.clearcoatNormalScale=new d.Vector2(je,je)}return Promise.all(Se)}}class g{constructor(fe){this.parser=fe,this.name=m.KHR_MATERIALS_IRIDESCENCE}getMaterialType(fe){const _e=this.parser.json.materials[fe];return!_e.extensions||!_e.extensions[this.name]?null:d.MeshPhysicalMaterial}extendMaterialParams(fe,pe){const _e=this.parser,Ce=_e.json.materials[fe];if(!Ce.extensions||!Ce.extensions[this.name])return Promise.resolve();const Se=[],we=Ce.extensions[this.name];return we.iridescenceFactor!==void 0&&(pe.iridescence=we.iridescenceFactor),we.iridescenceTexture!==void 0&&Se.push(_e.assignTexture(pe,"iridescenceMap",we.iridescenceTexture)),we.iridescenceIor!==void 0&&(pe.iridescenceIOR=we.iridescenceIor),pe.iridescenceThicknessRange===void 0&&(pe.iridescenceThicknessRange=[100,400]),we.iridescenceThicknessMinimum!==void 0&&(pe.iridescenceThicknessRange[0]=we.iridescenceThicknessMinimum),we.iridescenceThicknessMaximum!==void 0&&(pe.iridescenceThicknessRange[1]=we.iridescenceThicknessMaximum),we.iridescenceThicknessTexture!==void 0&&Se.push(_e.assignTexture(pe,"iridescenceThicknessMap",we.iridescenceThicknessTexture)),Promise.all(Se)}}class w{constructor(fe){this.parser=fe,this.name=m.KHR_MATERIALS_SHEEN}getMaterialType(fe){const _e=this.parser.json.materials[fe];return!_e.extensions||!_e.extensions[this.name]?null:d.MeshPhysicalMaterial}extendMaterialParams(fe,pe){const _e=this.parser,Ce=_e.json.materials[fe];if(!Ce.extensions||!Ce.extensions[this.name])return Promise.resolve();const Se=[];pe.sheenColor=new d.Color(0,0,0),pe.sheenRoughness=0,pe.sheen=1;const we=Ce.extensions[this.name];return we.sheenColorFactor!==void 0&&pe.sheenColor.fromArray(we.sheenColorFactor),we.sheenRoughnessFactor!==void 0&&(pe.sheenRoughness=we.sheenRoughnessFactor),we.sheenColorTexture!==void 0&&Se.push(_e.assignTexture(pe,"sheenColorMap",we.sheenColorTexture,d.sRGBEncoding)),we.sheenRoughnessTexture!==void 0&&Se.push(_e.assignTexture(pe,"sheenRoughnessMap",we.sheenRoughnessTexture)),Promise.all(Se)}}class E{constructor(fe){this.parser=fe,this.name=m.KHR_MATERIALS_TRANSMISSION}getMaterialType(fe){const _e=this.parser.json.materials[fe];return!_e.extensions||!_e.extensions[this.name]?null:d.MeshPhysicalMaterial}extendMaterialParams(fe,pe){const _e=this.parser,Ce=_e.json.materials[fe];if(!Ce.extensions||!Ce.extensions[this.name])return Promise.resolve();const Se=[],we=Ce.extensions[this.name];return we.transmissionFactor!==void 0&&(pe.transmission=we.transmissionFactor),we.transmissionTexture!==void 0&&Se.push(_e.assignTexture(pe,"transmissionMap",we.transmissionTexture)),Promise.all(Se)}}class C{constructor(fe){this.parser=fe,this.name=m.KHR_MATERIALS_VOLUME}getMaterialType(fe){const _e=this.parser.json.materials[fe];return!_e.extensions||!_e.extensions[this.name]?null:d.MeshPhysicalMaterial}extendMaterialParams(fe,pe){const _e=this.parser,Ce=_e.json.materials[fe];if(!Ce.extensions||!Ce.extensions[this.name])return Promise.resolve();const Se=[],we=Ce.extensions[this.name];pe.thickness=we.thicknessFactor!==void 0?we.thicknessFactor:0,we.thicknessTexture!==void 0&&Se.push(_e.assignTexture(pe,"thicknessMap",we.thicknessTexture)),pe.attenuationDistance=we.attenuationDistance||1/0;const je=we.attenuationColor||[1,1,1];return pe.attenuationColor=new d.Color(je[0],je[1],je[2]),Promise.all(Se)}}class _{constructor(fe){this.parser=fe,this.name=m.KHR_MATERIALS_IOR}getMaterialType(fe){const _e=this.parser.json.materials[fe];return!_e.extensions||!_e.extensions[this.name]?null:d.MeshPhysicalMaterial}extendMaterialParams(fe,pe){const Ce=this.parser.json.materials[fe];if(!Ce.extensions||!Ce.extensions[this.name])return Promise.resolve();const Se=Ce.extensions[this.name];return pe.ior=Se.ior!==void 0?Se.ior:1.5,Promise.resolve()}}class P{constructor(fe){this.parser=fe,this.name=m.KHR_MATERIALS_SPECULAR}getMaterialType(fe){const _e=this.parser.json.materials[fe];return!_e.extensions||!_e.extensions[this.name]?null:d.MeshPhysicalMaterial}extendMaterialParams(fe,pe){const _e=this.parser,Ce=_e.json.materials[fe];if(!Ce.extensions||!Ce.extensions[this.name])return Promise.resolve();const Se=[],we=Ce.extensions[this.name];pe.specularIntensity=we.specularFactor!==void 0?we.specularFactor:1,we.specularTexture!==void 0&&Se.push(_e.assignTexture(pe,"specularIntensityMap",we.specularTexture));const je=we.specularColorFactor||[1,1,1];return pe.specularColor=new d.Color(je[0],je[1],je[2]),we.specularColorTexture!==void 0&&Se.push(_e.assignTexture(pe,"specularColorMap",we.specularColorTexture,d.sRGBEncoding)),Promise.all(Se)}}class R{constructor(fe){this.parser=fe,this.name=m.KHR_TEXTURE_BASISU}loadTexture(fe){const pe=this.parser,_e=pe.json,Ce=_e.textures[fe];if(!Ce.extensions||!Ce.extensions[this.name])return null;const Se=Ce.extensions[this.name],we=pe.options.ktx2Loader;if(!we){if(_e.extensionsRequired&&_e.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return pe.loadTextureImage(fe,Se.source,we)}}class L{constructor(fe){this.parser=fe,this.name=m.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(fe){const pe=this.name,_e=this.parser,Ce=_e.json,Se=Ce.textures[fe];if(!Se.extensions||!Se.extensions[pe])return null;const we=Se.extensions[pe],je=Ce.images[we.source];let Ae=_e.textureLoader;if(je.uri){const Ue=_e.options.manager.getHandler(je.uri);Ue!==null&&(Ae=Ue)}return this.detectSupport().then(function(Ue){if(Ue)return _e.loadTextureImage(fe,we.source,Ae);if(Ce.extensionsRequired&&Ce.extensionsRequired.indexOf(pe)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return _e.loadTexture(fe)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(fe){const pe=new Image;pe.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",pe.onload=pe.onerror=function(){fe(pe.height===1)}})),this.isSupported}}class T{constructor(fe){this.name=m.EXT_MESHOPT_COMPRESSION,this.parser=fe}loadBufferView(fe){const pe=this.parser.json,_e=pe.bufferViews[fe];if(_e.extensions&&_e.extensions[this.name]){const Ce=_e.extensions[this.name],Se=this.parser.getDependency("buffer",Ce.buffer),we=this.parser.options.meshoptDecoder;if(!we||!we.supported){if(pe.extensionsRequired&&pe.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Se.then(function(je){const Ae=Ce.byteOffset||0,Ue=Ce.byteLength||0,et=Ce.count,ue=Ce.byteStride,Y=new Uint8Array(je,Ae,Ue);return we.decodeGltfBufferAsync?we.decodeGltfBufferAsync(et,ue,Y,Ce.mode,Ce.filter).then(function(ne){return ne.buffer}):we.ready.then(function(){const ne=new ArrayBuffer(et*ue);return we.decodeGltfBuffer(new Uint8Array(ne),et,ue,Y,Ce.mode,Ce.filter),ne})})}else return null}}class D{constructor(fe){this.name=m.EXT_MESH_GPU_INSTANCING,this.parser=fe}createNodeMesh(fe){const pe=this.parser.json,_e=pe.nodes[fe];if(!_e.extensions||!_e.extensions[this.name]||_e.mesh===void 0)return null;const Ce=pe.meshes[_e.mesh];for(const Ue of Ce.primitives)if(Ue.mode!==X.TRIANGLES&&Ue.mode!==X.TRIANGLE_STRIP&&Ue.mode!==X.TRIANGLE_FAN&&Ue.mode!==void 0)return null;const we=_e.extensions[this.name].attributes,je=[],Ae={};for(const Ue in we)je.push(this.parser.getDependency("accessor",we[Ue]).then(et=>(Ae[Ue]=et,Ae[Ue])));return je.length<1?null:(je.push(this.parser.createNodeMesh(fe)),Promise.all(je).then(Ue=>{const et=Ue.pop(),ue=et.isGroup?et.children:[et],Y=Ue[0].count,ne=[];for(const Pe of ue){const We=new d.Matrix4,ve=new d.Vector3,he=new d.Quaternion,Ye=new d.Vector3(1,1,1),Ze=new d.InstancedMesh(Pe.geometry,Pe.material,Y);for(let Qe=0;Qe<Y;Qe++)Ae.TRANSLATION&&ve.fromBufferAttribute(Ae.TRANSLATION,Qe),Ae.ROTATION&&he.fromBufferAttribute(Ae.ROTATION,Qe),Ae.SCALE&&Ye.fromBufferAttribute(Ae.SCALE,Qe),Ze.setMatrixAt(Qe,We.compose(ve,he,Ye));for(const Qe in Ae)Qe!=="TRANSLATION"&&Qe!=="ROTATION"&&Qe!=="SCALE"&&Pe.geometry.setAttribute(Qe,Ae[Qe]);d.Object3D.prototype.copy.call(Ze,Pe),Ze.frustumCulled=!1,this.parser.assignFinalMaterial(Ze),ne.push(Ze)}return et.isGroup?(et.clear(),et.add(...ne),et):ne[0]}))}}const H="glTF",V=12,B={JSON:1313821514,BIN:5130562};class O{constructor(fe){this.name=m.KHR_BINARY_GLTF,this.content=null,this.body=null;const pe=new DataView(fe,0,V);if(this.header={magic:d.LoaderUtils.decodeText(new Uint8Array(fe.slice(0,4))),version:pe.getUint32(4,!0),length:pe.getUint32(8,!0)},this.header.magic!==H)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const _e=this.header.length-V,Ce=new DataView(fe,V);let Se=0;for(;Se<_e;){const we=Ce.getUint32(Se,!0);Se+=4;const je=Ce.getUint32(Se,!0);if(Se+=4,je===B.JSON){const Ae=new Uint8Array(fe,V+Se,we);this.content=d.LoaderUtils.decodeText(Ae)}else if(je===B.BIN){const Ae=V+Se;this.body=fe.slice(Ae,Ae+we)}Se+=we}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class F{constructor(fe,pe){if(!pe)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=m.KHR_DRACO_MESH_COMPRESSION,this.json=fe,this.dracoLoader=pe,this.dracoLoader.preload()}decodePrimitive(fe,pe){const _e=this.json,Ce=this.dracoLoader,Se=fe.extensions[this.name].bufferView,we=fe.extensions[this.name].attributes,je={},Ae={},Ue={};for(const et in we){const ue=Be[et]||et.toLowerCase();je[ue]=we[et]}for(const et in fe.attributes){const ue=Be[et]||et.toLowerCase();if(we[et]!==void 0){const Y=_e.accessors[fe.attributes[et]],ne=J[Y.componentType];Ue[ue]=ne.name,Ae[ue]=Y.normalized===!0}}return pe.getDependency("bufferView",Se).then(function(et){return new Promise(function(ue){Ce.decodeDracoFile(et,function(Y){for(const ne in Y.attributes){const Pe=Y.attributes[ne],We=Ae[ne];We!==void 0&&(Pe.normalized=We)}ue(Y)},je,Ue)})})}}class N{constructor(){this.name=m.KHR_TEXTURE_TRANSFORM}extendTexture(fe,pe){return pe.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),pe.offset===void 0&&pe.rotation===void 0&&pe.scale===void 0||(fe=fe.clone(),pe.offset!==void 0&&fe.offset.fromArray(pe.offset),pe.rotation!==void 0&&(fe.rotation=pe.rotation),pe.scale!==void 0&&fe.repeat.fromArray(pe.scale),fe.needsUpdate=!0),fe}}class z{constructor(){this.name=m.KHR_MESH_QUANTIZATION}}class j extends d.Interpolant{constructor(fe,pe,_e,Ce){super(fe,pe,_e,Ce)}copySampleValue_(fe){const pe=this.resultBuffer,_e=this.sampleValues,Ce=this.valueSize,Se=fe*Ce*3+Ce;for(let we=0;we!==Ce;we++)pe[we]=_e[Se+we];return pe}interpolate_(fe,pe,_e,Ce){const Se=this.resultBuffer,we=this.sampleValues,je=this.valueSize,Ae=je*2,Ue=je*3,et=Ce-pe,ue=(_e-pe)/et,Y=ue*ue,ne=Y*ue,Pe=fe*Ue,We=Pe-Ue,ve=-2*ne+3*Y,he=ne-Y,Ye=1-ve,Ze=he-Y+ue;for(let Qe=0;Qe!==je;Qe++){const nt=we[We+Qe+je],It=we[We+Qe+Ae]*et,kt=we[Pe+Qe+je],Bt=we[Pe+Qe]*et;Se[Qe]=Ye*nt+Ze*It+ve*kt+he*Bt}return Se}}const G=new d.Quaternion;class Q extends j{interpolate_(fe,pe,_e,Ce){const Se=super.interpolate_(fe,pe,_e,Ce);return G.fromArray(Se).normalize().toArray(Se),Se}}const X={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},J={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Z={9728:d.NearestFilter,9729:d.LinearFilter,9984:d.NearestMipmapNearestFilter,9985:d.LinearMipmapNearestFilter,9986:d.NearestMipmapLinearFilter,9987:d.LinearMipmapLinearFilter},oe={33071:d.ClampToEdgeWrapping,33648:d.MirroredRepeatWrapping,10497:d.RepeatWrapping},ce={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Be={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},ge={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Re={CUBICSPLINE:void 0,LINEAR:d.InterpolateLinear,STEP:d.InterpolateDiscrete},$e={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function qe(ye){return ye.DefaultMaterial===void 0&&(ye.DefaultMaterial=new d.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:d.FrontSide})),ye.DefaultMaterial}function Ke(ye,fe,pe){for(const _e in pe.extensions)ye[_e]===void 0&&(fe.userData.gltfExtensions=fe.userData.gltfExtensions||{},fe.userData.gltfExtensions[_e]=pe.extensions[_e])}function ke(ye,fe){fe.extras!==void 0&&(typeof fe.extras=="object"?Object.assign(ye.userData,fe.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+fe.extras))}function st(ye,fe,pe){let _e=!1,Ce=!1,Se=!1;for(let Ue=0,et=fe.length;Ue<et;Ue++){const ue=fe[Ue];if(ue.POSITION!==void 0&&(_e=!0),ue.NORMAL!==void 0&&(Ce=!0),ue.COLOR_0!==void 0&&(Se=!0),_e&&Ce&&Se)break}if(!_e&&!Ce&&!Se)return Promise.resolve(ye);const we=[],je=[],Ae=[];for(let Ue=0,et=fe.length;Ue<et;Ue++){const ue=fe[Ue];if(_e){const Y=ue.POSITION!==void 0?pe.getDependency("accessor",ue.POSITION):ye.attributes.position;we.push(Y)}if(Ce){const Y=ue.NORMAL!==void 0?pe.getDependency("accessor",ue.NORMAL):ye.attributes.normal;je.push(Y)}if(Se){const Y=ue.COLOR_0!==void 0?pe.getDependency("accessor",ue.COLOR_0):ye.attributes.color;Ae.push(Y)}}return Promise.all([Promise.all(we),Promise.all(je),Promise.all(Ae)]).then(function(Ue){const et=Ue[0],ue=Ue[1],Y=Ue[2];return _e&&(ye.morphAttributes.position=et),Ce&&(ye.morphAttributes.normal=ue),Se&&(ye.morphAttributes.color=Y),ye.morphTargetsRelative=!0,ye})}function ot(ye,fe){if(ye.updateMorphTargets(),fe.weights!==void 0)for(let pe=0,_e=fe.weights.length;pe<_e;pe++)ye.morphTargetInfluences[pe]=fe.weights[pe];if(fe.extras&&Array.isArray(fe.extras.targetNames)){const pe=fe.extras.targetNames;if(ye.morphTargetInfluences.length===pe.length){ye.morphTargetDictionary={};for(let _e=0,Ce=pe.length;_e<Ce;_e++)ye.morphTargetDictionary[pe[_e]]=_e}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function it(ye){const fe=ye.extensions&&ye.extensions[m.KHR_DRACO_MESH_COMPRESSION];let pe;return fe?pe="draco:"+fe.bufferView+":"+fe.indices+":"+ft(fe.attributes):pe=ye.indices+":"+ft(ye.attributes)+":"+ye.mode,pe}function ft(ye){let fe="";const pe=Object.keys(ye).sort();for(let _e=0,Ce=pe.length;_e<Ce;_e++)fe+=pe[_e]+":"+ye[pe[_e]]+";";return fe}function Et(ye){switch(ye){case Int8Array:return .007874015748031496;case Uint8Array:return .00392156862745098;case Int16Array:return 3051850947599719e-20;case Uint16Array:return 15259021896696422e-21;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function gt(ye){return ye.search(/\.jpe?g($|\?)/i)>0||ye.search(/^data\:image\/jpeg/)===0?"image/jpeg":ye.search(/\.webp($|\?)/i)>0||ye.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}class Ct{constructor(fe={},pe={}){this.json=fe,this.extensions={},this.plugins={},this.options=pe,this.cache=new p,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let _e=!1,Ce=!1,Se=-1;typeof navigator<"u"&&(_e=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,Ce=navigator.userAgent.indexOf("Firefox")>-1,Se=Ce?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||_e||Ce&&Se<98?this.textureLoader=new d.TextureLoader(this.options.manager):this.textureLoader=new d.ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new d.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(fe){this.extensions=fe}setPlugins(fe){this.plugins=fe}parse(fe,pe){const _e=this,Ce=this.json,Se=this.extensions;this.cache.removeAll(),this._invokeAll(function(we){return we._markDefs&&we._markDefs()}),Promise.all(this._invokeAll(function(we){return we.beforeRoot&&we.beforeRoot()})).then(function(){return Promise.all([_e.getDependencies("scene"),_e.getDependencies("animation"),_e.getDependencies("camera")])}).then(function(we){const je={scene:we[0][Ce.scene||0],scenes:we[0],animations:we[1],cameras:we[2],asset:Ce.asset,parser:_e,userData:{}};Ke(Se,je,Ce),ke(je,Ce),Promise.all(_e._invokeAll(function(Ae){return Ae.afterRoot&&Ae.afterRoot(je)})).then(function(){fe(je)})}).catch(pe)}_markDefs(){const fe=this.json.nodes||[],pe=this.json.skins||[],_e=this.json.meshes||[];for(let Ce=0,Se=pe.length;Ce<Se;Ce++){const we=pe[Ce].joints;for(let je=0,Ae=we.length;je<Ae;je++)fe[we[je]].isBone=!0}for(let Ce=0,Se=fe.length;Ce<Se;Ce++){const we=fe[Ce];we.mesh!==void 0&&(this._addNodeRef(this.meshCache,we.mesh),we.skin!==void 0&&(_e[we.mesh].isSkinnedMesh=!0)),we.camera!==void 0&&this._addNodeRef(this.cameraCache,we.camera)}}_addNodeRef(fe,pe){pe!==void 0&&(fe.refs[pe]===void 0&&(fe.refs[pe]=fe.uses[pe]=0),fe.refs[pe]++)}_getNodeRef(fe,pe,_e){if(fe.refs[pe]<=1)return _e;const Ce=_e.clone(),Se=(we,je)=>{const Ae=this.associations.get(we);Ae!=null&&this.associations.set(je,Ae);for(const[Ue,et]of we.children.entries())Se(et,je.children[Ue])};return Se(_e,Ce),Ce.name+="_instance_"+fe.uses[pe]++,Ce}_invokeOne(fe){const pe=Object.values(this.plugins);pe.push(this);for(let _e=0;_e<pe.length;_e++){const Ce=fe(pe[_e]);if(Ce)return Ce}return null}_invokeAll(fe){const pe=Object.values(this.plugins);pe.unshift(this);const _e=[];for(let Ce=0;Ce<pe.length;Ce++){const Se=fe(pe[Ce]);Se&&_e.push(Se)}return _e}getDependency(fe,pe){const _e=fe+":"+pe;let Ce=this.cache.get(_e);if(!Ce){switch(fe){case"scene":Ce=this.loadScene(pe);break;case"node":Ce=this.loadNode(pe);break;case"mesh":Ce=this._invokeOne(function(Se){return Se.loadMesh&&Se.loadMesh(pe)});break;case"accessor":Ce=this.loadAccessor(pe);break;case"bufferView":Ce=this._invokeOne(function(Se){return Se.loadBufferView&&Se.loadBufferView(pe)});break;case"buffer":Ce=this.loadBuffer(pe);break;case"material":Ce=this._invokeOne(function(Se){return Se.loadMaterial&&Se.loadMaterial(pe)});break;case"texture":Ce=this._invokeOne(function(Se){return Se.loadTexture&&Se.loadTexture(pe)});break;case"skin":Ce=this.loadSkin(pe);break;case"animation":Ce=this._invokeOne(function(Se){return Se.loadAnimation&&Se.loadAnimation(pe)});break;case"camera":Ce=this.loadCamera(pe);break;default:if(Ce=this._invokeOne(function(Se){return Se!=this&&Se.getDependency&&Se.getDependency(fe,pe)}),!Ce)throw new Error("Unknown type: "+fe);break}this.cache.add(_e,Ce)}return Ce}getDependencies(fe){let pe=this.cache.get(fe);if(!pe){const _e=this,Ce=this.json[fe+(fe==="mesh"?"es":"s")]||[];pe=Promise.all(Ce.map(function(Se,we){return _e.getDependency(fe,we)})),this.cache.add(fe,pe)}return pe}loadBuffer(fe){const pe=this.json.buffers[fe],_e=this.fileLoader;if(pe.type&&pe.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+pe.type+" buffer type is not supported.");if(pe.uri===void 0&&fe===0)return Promise.resolve(this.extensions[m.KHR_BINARY_GLTF].body);const Ce=this.options;return new Promise(function(Se,we){_e.load(d.LoaderUtils.resolveURL(pe.uri,Ce.path),Se,void 0,function(){we(new Error('THREE.GLTFLoader: Failed to load buffer "'+pe.uri+'".'))})})}loadBufferView(fe){const pe=this.json.bufferViews[fe];return this.getDependency("buffer",pe.buffer).then(function(_e){const Ce=pe.byteLength||0,Se=pe.byteOffset||0;return _e.slice(Se,Se+Ce)})}loadAccessor(fe){const pe=this,_e=this.json,Ce=this.json.accessors[fe];if(Ce.bufferView===void 0&&Ce.sparse===void 0){const we=ce[Ce.type],je=J[Ce.componentType],Ae=Ce.normalized===!0,Ue=new je(Ce.count*we);return Promise.resolve(new d.BufferAttribute(Ue,we,Ae))}const Se=[];return Ce.bufferView!==void 0?Se.push(this.getDependency("bufferView",Ce.bufferView)):Se.push(null),Ce.sparse!==void 0&&(Se.push(this.getDependency("bufferView",Ce.sparse.indices.bufferView)),Se.push(this.getDependency("bufferView",Ce.sparse.values.bufferView))),Promise.all(Se).then(function(we){const je=we[0],Ae=ce[Ce.type],Ue=J[Ce.componentType],et=Ue.BYTES_PER_ELEMENT,ue=et*Ae,Y=Ce.byteOffset||0,ne=Ce.bufferView!==void 0?_e.bufferViews[Ce.bufferView].byteStride:void 0,Pe=Ce.normalized===!0;let We,ve;if(ne&&ne!==ue){const he=Math.floor(Y/ne),Ye="InterleavedBuffer:"+Ce.bufferView+":"+Ce.componentType+":"+he+":"+Ce.count;let Ze=pe.cache.get(Ye);Ze||(We=new Ue(je,he*ne,Ce.count*ne/et),Ze=new d.InterleavedBuffer(We,ne/et),pe.cache.add(Ye,Ze)),ve=new d.InterleavedBufferAttribute(Ze,Ae,Y%ne/et,Pe)}else je===null?We=new Ue(Ce.count*Ae):We=new Ue(je,Y,Ce.count*Ae),ve=new d.BufferAttribute(We,Ae,Pe);if(Ce.sparse!==void 0){const he=ce.SCALAR,Ye=J[Ce.sparse.indices.componentType],Ze=Ce.sparse.indices.byteOffset||0,Qe=Ce.sparse.values.byteOffset||0,nt=new Ye(we[1],Ze,Ce.sparse.count*he),It=new Ue(we[2],Qe,Ce.sparse.count*Ae);je!==null&&(ve=new d.BufferAttribute(ve.array.slice(),ve.itemSize,ve.normalized));for(let kt=0,Bt=nt.length;kt<Bt;kt++){const jt=nt[kt];if(ve.setX(jt,It[kt*Ae]),Ae>=2&&ve.setY(jt,It[kt*Ae+1]),Ae>=3&&ve.setZ(jt,It[kt*Ae+2]),Ae>=4&&ve.setW(jt,It[kt*Ae+3]),Ae>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return ve})}loadTexture(fe){const pe=this.json,_e=this.options,Se=pe.textures[fe].source,we=pe.images[Se];let je=this.textureLoader;if(we.uri){const Ae=_e.manager.getHandler(we.uri);Ae!==null&&(je=Ae)}return this.loadTextureImage(fe,Se,je)}loadTextureImage(fe,pe,_e){const Ce=this,Se=this.json,we=Se.textures[fe],je=Se.images[pe],Ae=(je.uri||je.bufferView)+":"+we.sampler;if(this.textureCache[Ae])return this.textureCache[Ae];const Ue=this.loadImageSource(pe,_e).then(function(et){et.flipY=!1,et.name=we.name||je.name||"";const Y=(Se.samplers||{})[we.sampler]||{};return et.magFilter=Z[Y.magFilter]||d.LinearFilter,et.minFilter=Z[Y.minFilter]||d.LinearMipmapLinearFilter,et.wrapS=oe[Y.wrapS]||d.RepeatWrapping,et.wrapT=oe[Y.wrapT]||d.RepeatWrapping,Ce.associations.set(et,{textures:fe}),et}).catch(function(){return null});return this.textureCache[Ae]=Ue,Ue}loadImageSource(fe,pe){const _e=this,Ce=this.json,Se=this.options;if(this.sourceCache[fe]!==void 0)return this.sourceCache[fe].then(ue=>ue.clone());const we=Ce.images[fe],je=self.URL||self.webkitURL;let Ae=we.uri||"",Ue=!1;if(we.bufferView!==void 0)Ae=_e.getDependency("bufferView",we.bufferView).then(function(ue){Ue=!0;const Y=new Blob([ue],{type:we.mimeType});return Ae=je.createObjectURL(Y),Ae});else if(we.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+fe+" is missing URI and bufferView");const et=Promise.resolve(Ae).then(function(ue){return new Promise(function(Y,ne){let Pe=Y;pe.isImageBitmapLoader===!0&&(Pe=function(We){const ve=new d.Texture(We);ve.needsUpdate=!0,Y(ve)}),pe.load(d.LoaderUtils.resolveURL(ue,Se.path),Pe,void 0,ne)})}).then(function(ue){return Ue===!0&&je.revokeObjectURL(Ae),ue.userData.mimeType=we.mimeType||gt(we.uri),ue}).catch(function(ue){throw console.error("THREE.GLTFLoader: Couldn't load texture",Ae),ue});return this.sourceCache[fe]=et,et}assignTexture(fe,pe,_e,Ce){const Se=this;return this.getDependency("texture",_e.index).then(function(we){if(!we)return null;if(_e.texCoord!==void 0&&_e.texCoord!=0&&!(pe==="aoMap"&&_e.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+_e.texCoord+" for texture "+pe+" not yet supported."),Se.extensions[m.KHR_TEXTURE_TRANSFORM]){const je=_e.extensions!==void 0?_e.extensions[m.KHR_TEXTURE_TRANSFORM]:void 0;if(je){const Ae=Se.associations.get(we);we=Se.extensions[m.KHR_TEXTURE_TRANSFORM].extendTexture(we,je),Se.associations.set(we,Ae)}}return Ce!==void 0&&(we.encoding=Ce),fe[pe]=we,we})}assignFinalMaterial(fe){const pe=fe.geometry;let _e=fe.material;const Ce=pe.attributes.tangent===void 0,Se=pe.attributes.color!==void 0,we=pe.attributes.normal===void 0;if(fe.isPoints){const je="PointsMaterial:"+_e.uuid;let Ae=this.cache.get(je);Ae||(Ae=new d.PointsMaterial,d.Material.prototype.copy.call(Ae,_e),Ae.color.copy(_e.color),Ae.map=_e.map,Ae.sizeAttenuation=!1,this.cache.add(je,Ae)),_e=Ae}else if(fe.isLine){const je="LineBasicMaterial:"+_e.uuid;let Ae=this.cache.get(je);Ae||(Ae=new d.LineBasicMaterial,d.Material.prototype.copy.call(Ae,_e),Ae.color.copy(_e.color),this.cache.add(je,Ae)),_e=Ae}if(Ce||Se||we){let je="ClonedMaterial:"+_e.uuid+":";Ce&&(je+="derivative-tangents:"),Se&&(je+="vertex-colors:"),we&&(je+="flat-shading:");let Ae=this.cache.get(je);Ae||(Ae=_e.clone(),Se&&(Ae.vertexColors=!0),we&&(Ae.flatShading=!0),Ce&&(Ae.normalScale&&(Ae.normalScale.y*=-1),Ae.clearcoatNormalScale&&(Ae.clearcoatNormalScale.y*=-1)),this.cache.add(je,Ae),this.associations.set(Ae,this.associations.get(_e))),_e=Ae}_e.aoMap&&pe.attributes.uv2===void 0&&pe.attributes.uv!==void 0&&pe.setAttribute("uv2",pe.attributes.uv),fe.material=_e}getMaterialType(){return d.MeshStandardMaterial}loadMaterial(fe){const pe=this,_e=this.json,Ce=this.extensions,Se=_e.materials[fe];let we;const je={},Ae=Se.extensions||{},Ue=[];if(Ae[m.KHR_MATERIALS_UNLIT]){const ue=Ce[m.KHR_MATERIALS_UNLIT];we=ue.getMaterialType(),Ue.push(ue.extendParams(je,Se,pe))}else{const ue=Se.pbrMetallicRoughness||{};if(je.color=new d.Color(1,1,1),je.opacity=1,Array.isArray(ue.baseColorFactor)){const Y=ue.baseColorFactor;je.color.fromArray(Y),je.opacity=Y[3]}ue.baseColorTexture!==void 0&&Ue.push(pe.assignTexture(je,"map",ue.baseColorTexture,d.sRGBEncoding)),je.metalness=ue.metallicFactor!==void 0?ue.metallicFactor:1,je.roughness=ue.roughnessFactor!==void 0?ue.roughnessFactor:1,ue.metallicRoughnessTexture!==void 0&&(Ue.push(pe.assignTexture(je,"metalnessMap",ue.metallicRoughnessTexture)),Ue.push(pe.assignTexture(je,"roughnessMap",ue.metallicRoughnessTexture))),we=this._invokeOne(function(Y){return Y.getMaterialType&&Y.getMaterialType(fe)}),Ue.push(Promise.all(this._invokeAll(function(Y){return Y.extendMaterialParams&&Y.extendMaterialParams(fe,je)})))}Se.doubleSided===!0&&(je.side=d.DoubleSide);const et=Se.alphaMode||$e.OPAQUE;if(et===$e.BLEND?(je.transparent=!0,je.depthWrite=!1):(je.transparent=!1,et===$e.MASK&&(je.alphaTest=Se.alphaCutoff!==void 0?Se.alphaCutoff:.5)),Se.normalTexture!==void 0&&we!==d.MeshBasicMaterial&&(Ue.push(pe.assignTexture(je,"normalMap",Se.normalTexture)),je.normalScale=new d.Vector2(1,1),Se.normalTexture.scale!==void 0)){const ue=Se.normalTexture.scale;je.normalScale.set(ue,ue)}return Se.occlusionTexture!==void 0&&we!==d.MeshBasicMaterial&&(Ue.push(pe.assignTexture(je,"aoMap",Se.occlusionTexture)),Se.occlusionTexture.strength!==void 0&&(je.aoMapIntensity=Se.occlusionTexture.strength)),Se.emissiveFactor!==void 0&&we!==d.MeshBasicMaterial&&(je.emissive=new d.Color().fromArray(Se.emissiveFactor)),Se.emissiveTexture!==void 0&&we!==d.MeshBasicMaterial&&Ue.push(pe.assignTexture(je,"emissiveMap",Se.emissiveTexture,d.sRGBEncoding)),Promise.all(Ue).then(function(){const ue=new we(je);return Se.name&&(ue.name=Se.name),ke(ue,Se),pe.associations.set(ue,{materials:fe}),Se.extensions&&Ke(Ce,ue,Se),ue})}createUniqueName(fe){const pe=d.PropertyBinding.sanitizeNodeName(fe||"");let _e=pe;for(let Ce=1;this.nodeNamesUsed[_e];++Ce)_e=pe+"_"+Ce;return this.nodeNamesUsed[_e]=!0,_e}loadGeometries(fe){const pe=this,_e=this.extensions,Ce=this.primitiveCache;function Se(je){return _e[m.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(je,pe).then(function(Ae){return Yt(Ae,je,pe)})}const we=[];for(let je=0,Ae=fe.length;je<Ae;je++){const Ue=fe[je],et=it(Ue),ue=Ce[et];if(ue)we.push(ue.promise);else{let Y;Ue.extensions&&Ue.extensions[m.KHR_DRACO_MESH_COMPRESSION]?Y=Se(Ue):Y=Yt(new d.BufferGeometry,Ue,pe),Ce[et]={primitive:Ue,promise:Y},we.push(Y)}}return Promise.all(we)}loadMesh(fe){const pe=this,_e=this.json,Ce=this.extensions,Se=_e.meshes[fe],we=Se.primitives,je=[];for(let Ae=0,Ue=we.length;Ae<Ue;Ae++){const et=we[Ae].material===void 0?qe(this.cache):this.getDependency("material",we[Ae].material);je.push(et)}return je.push(pe.loadGeometries(we)),Promise.all(je).then(function(Ae){const Ue=Ae.slice(0,Ae.length-1),et=Ae[Ae.length-1],ue=[];for(let ne=0,Pe=et.length;ne<Pe;ne++){const We=et[ne],ve=we[ne];let he;const Ye=Ue[ne];if(ve.mode===X.TRIANGLES||ve.mode===X.TRIANGLE_STRIP||ve.mode===X.TRIANGLE_FAN||ve.mode===void 0)he=Se.isSkinnedMesh===!0?new d.SkinnedMesh(We,Ye):new d.Mesh(We,Ye),he.isSkinnedMesh===!0&&!he.geometry.attributes.skinWeight.normalized&&he.normalizeSkinWeights(),ve.mode===X.TRIANGLE_STRIP?he.geometry=Ve(he.geometry,d.TriangleStripDrawMode):ve.mode===X.TRIANGLE_FAN&&(he.geometry=Ve(he.geometry,d.TriangleFanDrawMode));else if(ve.mode===X.LINES)he=new d.LineSegments(We,Ye);else if(ve.mode===X.LINE_STRIP)he=new d.Line(We,Ye);else if(ve.mode===X.LINE_LOOP)he=new d.LineLoop(We,Ye);else if(ve.mode===X.POINTS)he=new d.Points(We,Ye);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+ve.mode);Object.keys(he.geometry.morphAttributes).length>0&&ot(he,Se),he.name=pe.createUniqueName(Se.name||"mesh_"+fe),ke(he,Se),ve.extensions&&Ke(Ce,he,ve),pe.assignFinalMaterial(he),ue.push(he)}for(let ne=0,Pe=ue.length;ne<Pe;ne++)pe.associations.set(ue[ne],{meshes:fe,primitives:ne});if(ue.length===1)return ue[0];const Y=new d.Group;pe.associations.set(Y,{meshes:fe});for(let ne=0,Pe=ue.length;ne<Pe;ne++)Y.add(ue[ne]);return Y})}loadCamera(fe){let pe;const _e=this.json.cameras[fe],Ce=_e[_e.type];if(!Ce){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return _e.type==="perspective"?pe=new d.PerspectiveCamera(d.MathUtils.radToDeg(Ce.yfov),Ce.aspectRatio||1,Ce.znear||1,Ce.zfar||2e6):_e.type==="orthographic"&&(pe=new d.OrthographicCamera(-Ce.xmag,Ce.xmag,Ce.ymag,-Ce.ymag,Ce.znear,Ce.zfar)),_e.name&&(pe.name=this.createUniqueName(_e.name)),ke(pe,_e),Promise.resolve(pe)}loadSkin(fe){const pe=this.json.skins[fe],_e=[];for(let Ce=0,Se=pe.joints.length;Ce<Se;Ce++)_e.push(this.getDependency("node",pe.joints[Ce]));return pe.inverseBindMatrices!==void 0?_e.push(this.getDependency("accessor",pe.inverseBindMatrices)):_e.push(null),Promise.all(_e).then(function(Ce){const Se=Ce.pop(),we=Ce,je=[],Ae=[];for(let Ue=0,et=we.length;Ue<et;Ue++){const ue=we[Ue];if(ue){je.push(ue);const Y=new d.Matrix4;Se!==null&&Y.fromArray(Se.array,Ue*16),Ae.push(Y)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',pe.joints[Ue])}return new d.Skeleton(je,Ae)})}loadAnimation(fe){const _e=this.json.animations[fe],Ce=[],Se=[],we=[],je=[],Ae=[];for(let Ue=0,et=_e.channels.length;Ue<et;Ue++){const ue=_e.channels[Ue],Y=_e.samplers[ue.sampler],ne=ue.target,Pe=ne.node,We=_e.parameters!==void 0?_e.parameters[Y.input]:Y.input,ve=_e.parameters!==void 0?_e.parameters[Y.output]:Y.output;Ce.push(this.getDependency("node",Pe)),Se.push(this.getDependency("accessor",We)),we.push(this.getDependency("accessor",ve)),je.push(Y),Ae.push(ne)}return Promise.all([Promise.all(Ce),Promise.all(Se),Promise.all(we),Promise.all(je),Promise.all(Ae)]).then(function(Ue){const et=Ue[0],ue=Ue[1],Y=Ue[2],ne=Ue[3],Pe=Ue[4],We=[];for(let he=0,Ye=et.length;he<Ye;he++){const Ze=et[he],Qe=ue[he],nt=Y[he],It=ne[he],kt=Pe[he];if(Ze===void 0)continue;Ze.updateMatrix();let Bt;switch(ge[kt.path]){case ge.weights:Bt=d.NumberKeyframeTrack;break;case ge.rotation:Bt=d.QuaternionKeyframeTrack;break;case ge.position:case ge.scale:default:Bt=d.VectorKeyframeTrack;break}const jt=Ze.name?Ze.name:Ze.uuid,Vt=It.interpolation!==void 0?Re[It.interpolation]:d.InterpolateLinear,Lt=[];ge[kt.path]===ge.weights?Ze.traverse(function(Nt){Nt.morphTargetInfluences&&Lt.push(Nt.name?Nt.name:Nt.uuid)}):Lt.push(jt);let mt=nt.array;if(nt.normalized){const Nt=Et(mt.constructor),cn=new Float32Array(mt.length);for(let Jt=0,Sn=mt.length;Jt<Sn;Jt++)cn[Jt]=mt[Jt]*Nt;mt=cn}for(let Nt=0,cn=Lt.length;Nt<cn;Nt++){const Jt=new Bt(Lt[Nt]+"."+ge[kt.path],Qe.array,mt,Vt);It.interpolation==="CUBICSPLINE"&&(Jt.createInterpolant=function(yn){const Ln=this instanceof d.QuaternionKeyframeTrack?Q:j;return new Ln(this.times,this.values,this.getValueSize()/3,yn)},Jt.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),We.push(Jt)}}const ve=_e.name?_e.name:"animation_"+fe;return new d.AnimationClip(ve,void 0,We)})}createNodeMesh(fe){const pe=this.json,_e=this,Ce=pe.nodes[fe];return Ce.mesh===void 0?null:_e.getDependency("mesh",Ce.mesh).then(function(Se){const we=_e._getNodeRef(_e.meshCache,Ce.mesh,Se);return Ce.weights!==void 0&&we.traverse(function(je){if(je.isMesh)for(let Ae=0,Ue=Ce.weights.length;Ae<Ue;Ae++)je.morphTargetInfluences[Ae]=Ce.weights[Ae]}),we})}loadNode(fe){const pe=this.json,_e=this.extensions,Ce=this,Se=pe.nodes[fe],we=Se.name?Ce.createUniqueName(Se.name):"";return function(){const je=[],Ae=Ce._invokeOne(function(Ue){return Ue.createNodeMesh&&Ue.createNodeMesh(fe)});return Ae&&je.push(Ae),Se.camera!==void 0&&je.push(Ce.getDependency("camera",Se.camera).then(function(Ue){return Ce._getNodeRef(Ce.cameraCache,Se.camera,Ue)})),Ce._invokeAll(function(Ue){return Ue.createNodeAttachment&&Ue.createNodeAttachment(fe)}).forEach(function(Ue){je.push(Ue)}),Promise.all(je)}().then(function(je){let Ae;if(Se.isBone===!0?Ae=new d.Bone:je.length>1?Ae=new d.Group:je.length===1?Ae=je[0]:Ae=new d.Object3D,Ae!==je[0])for(let Ue=0,et=je.length;Ue<et;Ue++)Ae.add(je[Ue]);if(Se.name&&(Ae.userData.name=Se.name,Ae.name=we),ke(Ae,Se),Se.extensions&&Ke(_e,Ae,Se),Se.matrix!==void 0){const Ue=new d.Matrix4;Ue.fromArray(Se.matrix),Ae.applyMatrix4(Ue)}else Se.translation!==void 0&&Ae.position.fromArray(Se.translation),Se.rotation!==void 0&&Ae.quaternion.fromArray(Se.rotation),Se.scale!==void 0&&Ae.scale.fromArray(Se.scale);return Ce.associations.has(Ae)||Ce.associations.set(Ae,{}),Ce.associations.get(Ae).nodes=fe,Ae})}loadScene(fe){const pe=this.json,_e=this.extensions,Ce=this.json.scenes[fe],Se=this,we=new d.Group;Ce.name&&(we.name=Se.createUniqueName(Ce.name)),ke(we,Ce),Ce.extensions&&Ke(_e,we,Ce);const je=Ce.nodes||[],Ae=[];for(let Ue=0,et=je.length;Ue<et;Ue++)Ae.push(Tt(je[Ue],we,pe,Se));return Promise.all(Ae).then(function(){const Ue=et=>{const ue=new Map;for(const[Y,ne]of Se.associations)(Y instanceof d.Material||Y instanceof d.Texture)&&ue.set(Y,ne);return et.traverse(Y=>{const ne=Se.associations.get(Y);ne!=null&&ue.set(Y,ne)}),ue};return Se.associations=Ue(we),we})}}function Tt(ye,fe,pe,_e){const Ce=pe.nodes[ye];return _e.getDependency("node",ye).then(function(Se){return Ce.skin===void 0?Se:_e.getDependency("skin",Ce.skin).then(function(we){return Se.traverse(function(je){je.isSkinnedMesh&&je.bind(we,je.matrixWorld)}),Se})}).then(function(Se){fe.add(Se);const we=[];if(Ce.children){const je=Ce.children;for(let Ae=0,Ue=je.length;Ae<Ue;Ae++){const et=je[Ae];we.push(Tt(et,Se,pe,_e))}}return Promise.all(we)})}function Dt(ye,fe,pe){const _e=fe.attributes,Ce=new d.Box3;if(_e.POSITION!==void 0){const je=pe.json.accessors[_e.POSITION],Ae=je.min,Ue=je.max;if(Ae!==void 0&&Ue!==void 0){if(Ce.set(new d.Vector3(Ae[0],Ae[1],Ae[2]),new d.Vector3(Ue[0],Ue[1],Ue[2])),je.normalized){const et=Et(J[je.componentType]);Ce.min.multiplyScalar(et),Ce.max.multiplyScalar(et)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const Se=fe.targets;if(Se!==void 0){const je=new d.Vector3,Ae=new d.Vector3;for(let Ue=0,et=Se.length;Ue<et;Ue++){const ue=Se[Ue];if(ue.POSITION!==void 0){const Y=pe.json.accessors[ue.POSITION],ne=Y.min,Pe=Y.max;if(ne!==void 0&&Pe!==void 0){if(Ae.setX(Math.max(Math.abs(ne[0]),Math.abs(Pe[0]))),Ae.setY(Math.max(Math.abs(ne[1]),Math.abs(Pe[1]))),Ae.setZ(Math.max(Math.abs(ne[2]),Math.abs(Pe[2]))),Y.normalized){const We=Et(J[Y.componentType]);Ae.multiplyScalar(We)}je.max(Ae)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}Ce.expandByVector(je)}ye.boundingBox=Ce;const we=new d.Sphere;Ce.getCenter(we.center),we.radius=Ce.min.distanceTo(Ce.max)/2,ye.boundingSphere=we}function Yt(ye,fe,pe){const _e=fe.attributes,Ce=[];function Se(we,je){return pe.getDependency("accessor",we).then(function(Ae){ye.setAttribute(je,Ae)})}for(const we in _e){const je=Be[we]||we.toLowerCase();je in ye.attributes||Ce.push(Se(_e[we],je))}if(fe.indices!==void 0&&!ye.index){const we=pe.getDependency("accessor",fe.indices).then(function(je){ye.setIndex(je)});Ce.push(we)}return ke(ye,fe),Dt(ye,fe,pe),Promise.all(Ce).then(function(){return fe.targets!==void 0?st(ye,fe.targets,pe):ye})}function Ve(ye,fe){let pe=ye.getIndex();if(pe===null){const we=[],je=ye.getAttribute("position");if(je!==void 0){for(let Ae=0;Ae<je.count;Ae++)we.push(Ae);ye.setIndex(we),pe=ye.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),ye}const _e=pe.count-2,Ce=[];if(fe===d.TriangleFanDrawMode)for(let we=1;we<=_e;we++)Ce.push(pe.getX(0)),Ce.push(pe.getX(we)),Ce.push(pe.getX(we+1));else for(let we=0;we<_e;we++)we%2===0?(Ce.push(pe.getX(we)),Ce.push(pe.getX(we+1)),Ce.push(pe.getX(we+2))):(Ce.push(pe.getX(we+2)),Ce.push(pe.getX(we+1)),Ce.push(pe.getX(we)));Ce.length/3!==_e&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const Se=ye.clone();return Se.setIndex(Ce),Se}},"./node_modules/super-three/examples/jsm/loaders/KTX2Loader.js":(l,u,c)=>{c.r(u),c.d(u,{KTX2Loader:()=>b});var d=c("./node_modules/super-three/build/three.module.js"),h=c("./node_modules/super-three/examples/jsm/utils/WorkerPool.js"),p=c("./node_modules/super-three/examples/jsm/libs/ktx-parse.module.js"),m=c("./node_modules/super-three/examples/jsm/libs/zstddec.module.js");const v=new WeakMap;let y=0,A;class b extends d.Loader{constructor(P){super(P),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new h.WorkerPool,this.workerSourceURL="",this.workerConfig=null,typeof MSC_TRANSCODER<"u"&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(P){return this.transcoderPath=P,this}setWorkerLimit(P){return this.workerPool.setWorkerLimit(P),this}detectSupport(P){return this.workerConfig={astcSupported:P.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:P.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:P.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:P.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:P.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:P.extensions.has("WEBGL_compressed_texture_pvrtc")||P.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},P.capabilities.isWebGL2&&(this.workerConfig.etc1Supported=!1),this}init(){if(!this.transcoderPending){const P=new d.FileLoader(this.manager);P.setPath(this.transcoderPath),P.setWithCredentials(this.withCredentials);const R=P.loadAsync("basis_transcoder.js"),L=new d.FileLoader(this.manager);L.setPath(this.transcoderPath),L.setResponseType("arraybuffer"),L.setWithCredentials(this.withCredentials);const T=L.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([R,T]).then(([D,H])=>{const V=b.BasisWorker.toString(),B=["/* constants */","let _EngineFormat = "+JSON.stringify(b.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(b.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(b.BasisFormat),"/* basis_transcoder.js */",D,"/* worker */",V.substring(V.indexOf("{")+1,V.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([B])),this.transcoderBinary=H,this.workerPool.setWorkerCreator(()=>{const O=new Worker(this.workerSourceURL),F=this.transcoderBinary.slice(0);return O.postMessage({type:"init",config:this.workerConfig,transcoderBinary:F},[F]),O})}),y>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),y++}return this.transcoderPending}load(P,R,L,T){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const D=new d.FileLoader(this.manager);D.setResponseType("arraybuffer"),D.setWithCredentials(this.withCredentials),D.load(P,H=>{if(v.has(H))return v.get(H).promise.then(R).catch(T);this._createTexture(H).then(V=>R?R(V):null).catch(T)},L,T)}_createTextureFrom(P,R){const{mipmaps:L,width:T,height:D,format:H,type:V,error:B,dfdTransferFn:O,dfdFlags:F}=P;if(V==="error")return Promise.reject(B);const N=R.layerCount>1?new d.CompressedArrayTexture(L,T,D,R.layerCount,H,d.UnsignedByteType):new d.CompressedTexture(L,T,D,H,d.UnsignedByteType);return N.minFilter=L.length===1?d.LinearFilter:d.LinearMipmapLinearFilter,N.magFilter=d.LinearFilter,N.generateMipmaps=!1,N.needsUpdate=!0,N.encoding=O===p.KHR_DF_TRANSFER_SRGB?d.sRGBEncoding:d.LinearEncoding,N.premultiplyAlpha=!!(F&p.KHR_DF_FLAG_ALPHA_PREMULTIPLIED),N}async _createTexture(P,R={}){const L=(0,p.read)(new Uint8Array(P));if(L.vkFormat!==p.VK_FORMAT_UNDEFINED)return C(L);const T=R,D=this.init().then(()=>this.workerPool.postMessage({type:"transcode",buffer:P,taskConfig:T},[P])).then(H=>this._createTextureFrom(H.data,L));return v.set(P,{promise:D}),D}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),y--,this}}b.BasisFormat={ETC1S:0,UASTC_4x4:1},b.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16},b.EngineFormat={RGBAFormat:d.RGBAFormat,RGBA_ASTC_4x4_Format:d.RGBA_ASTC_4x4_Format,RGBA_BPTC_Format:d.RGBA_BPTC_Format,RGBA_ETC2_EAC_Format:d.RGBA_ETC2_EAC_Format,RGBA_PVRTC_4BPPV1_Format:d.RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT5_Format:d.RGBA_S3TC_DXT5_Format,RGB_ETC1_Format:d.RGB_ETC1_Format,RGB_ETC2_Format:d.RGB_ETC2_Format,RGB_PVRTC_4BPPV1_Format:d.RGB_PVRTC_4BPPV1_Format,RGB_S3TC_DXT1_Format:d.RGB_S3TC_DXT1_Format},b.BasisWorker=function(){let _,P,R;const L=_EngineFormat,T=_TranscoderFormat,D=_BasisFormat;self.addEventListener("message",function(G){const Q=G.data;switch(Q.type){case"init":_=Q.config,H(Q.transcoderBinary);break;case"transcode":P.then(()=>{try{const{width:X,height:J,hasAlpha:Z,mipmaps:oe,format:ce,dfdTransferFn:Be,dfdFlags:ge}=V(Q.buffer),Re=[];for(let $e=0;$e<oe.length;++$e)Re.push(oe[$e].data.buffer);self.postMessage({type:"transcode",id:Q.id,width:X,height:J,hasAlpha:Z,mipmaps:oe,format:ce,dfdTransferFn:Be,dfdFlags:ge},Re)}catch(X){console.error(X),self.postMessage({type:"error",id:Q.id,error:X.message})}});break}});function H(G){P=new Promise(Q=>{R={wasmBinary:G,onRuntimeInitialized:Q},BASIS(R)}).then(()=>{R.initializeBasis(),R.KTX2File===void 0&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")})}function V(G){const Q=new R.KTX2File(new Uint8Array(G));function X(){Q.close(),Q.delete()}if(!Q.isValid())throw X(),new Error("THREE.KTX2Loader:	Invalid or unsupported .ktx2 file");const J=Q.isUASTC()?D.UASTC_4x4:D.ETC1S,Z=Q.getWidth(),oe=Q.getHeight(),ce=Q.getLayers()||1,Be=Q.getLevels(),ge=Q.getHasAlpha(),Re=Q.getDFDTransferFunc(),$e=Q.getDFDFlags(),{transcoderFormat:qe,engineFormat:Ke}=N(J,Z,oe,ge);if(!Z||!oe||!Be)throw X(),new Error("THREE.KTX2Loader:	Invalid texture");if(!Q.startTranscoding())throw X(),new Error("THREE.KTX2Loader: .startTranscoding failed");const ke=[];for(let st=0;st<Be;st++){const ot=[];let it,ft;for(let Et=0;Et<ce;Et++){const gt=Q.getImageLevelInfo(st,Et,0);it=gt.origWidth,ft=gt.origHeight;const Ct=new Uint8Array(Q.getImageTranscodedSizeInBytes(st,Et,0,qe));if(!Q.transcodeImage(Ct,st,Et,0,qe,0,-1,-1))throw X(),new Error("THREE.KTX2Loader: .transcodeImage failed.");ot.push(Ct)}ke.push({data:j(ot),width:it,height:ft})}return X(),{width:Z,height:oe,hasAlpha:ge,mipmaps:ke,format:Ke,dfdTransferFn:Re,dfdFlags:$e}}const B=[{if:"astcSupported",basisFormat:[D.UASTC_4x4],transcoderFormat:[T.ASTC_4x4,T.ASTC_4x4],engineFormat:[L.RGBA_ASTC_4x4_Format,L.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[D.ETC1S,D.UASTC_4x4],transcoderFormat:[T.BC7_M5,T.BC7_M5],engineFormat:[L.RGBA_BPTC_Format,L.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[D.ETC1S,D.UASTC_4x4],transcoderFormat:[T.BC1,T.BC3],engineFormat:[L.RGB_S3TC_DXT1_Format,L.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[D.ETC1S,D.UASTC_4x4],transcoderFormat:[T.ETC1,T.ETC2],engineFormat:[L.RGB_ETC2_Format,L.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[D.ETC1S,D.UASTC_4x4],transcoderFormat:[T.ETC1],engineFormat:[L.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[D.ETC1S,D.UASTC_4x4],transcoderFormat:[T.PVRTC1_4_RGB,T.PVRTC1_4_RGBA],engineFormat:[L.RGB_PVRTC_4BPPV1_Format,L.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],O=B.sort(function(G,Q){return G.priorityETC1S-Q.priorityETC1S}),F=B.sort(function(G,Q){return G.priorityUASTC-Q.priorityUASTC});function N(G,Q,X,J){let Z,oe;const ce=G===D.ETC1S?O:F;for(let Be=0;Be<ce.length;Be++){const ge=ce[Be];if(_[ge.if]&&ge.basisFormat.includes(G)&&!(J&&ge.transcoderFormat.length<2)&&!(ge.needsPowerOfTwo&&!(z(Q)&&z(X))))return Z=ge.transcoderFormat[J?1:0],oe=ge.engineFormat[J?1:0],{transcoderFormat:Z,engineFormat:oe}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),Z=T.RGBA32,oe=L.RGBAFormat,{transcoderFormat:Z,engineFormat:oe}}function z(G){return G<=2?!0:(G&G-1)===0&&G!==0}function j(G){let Q=0;for(const Z of G)Q+=Z.byteLength;const X=new Uint8Array(Q);let J=0;for(const Z of G)X.set(Z,J),J+=Z.byteLength;return X}};const g={[p.VK_FORMAT_R32G32B32A32_SFLOAT]:d.RGBAFormat,[p.VK_FORMAT_R16G16B16A16_SFLOAT]:d.RGBAFormat,[p.VK_FORMAT_R8G8B8A8_UNORM]:d.RGBAFormat,[p.VK_FORMAT_R8G8B8A8_SRGB]:d.RGBAFormat,[p.VK_FORMAT_R32G32_SFLOAT]:d.RGFormat,[p.VK_FORMAT_R16G16_SFLOAT]:d.RGFormat,[p.VK_FORMAT_R8G8_UNORM]:d.RGFormat,[p.VK_FORMAT_R8G8_SRGB]:d.RGFormat,[p.VK_FORMAT_R32_SFLOAT]:d.RedFormat,[p.VK_FORMAT_R16_SFLOAT]:d.RedFormat,[p.VK_FORMAT_R8_SRGB]:d.RedFormat,[p.VK_FORMAT_R8_UNORM]:d.RedFormat},w={[p.VK_FORMAT_R32G32B32A32_SFLOAT]:d.FloatType,[p.VK_FORMAT_R16G16B16A16_SFLOAT]:d.HalfFloatType,[p.VK_FORMAT_R8G8B8A8_UNORM]:d.UnsignedByteType,[p.VK_FORMAT_R8G8B8A8_SRGB]:d.UnsignedByteType,[p.VK_FORMAT_R32G32_SFLOAT]:d.FloatType,[p.VK_FORMAT_R16G16_SFLOAT]:d.HalfFloatType,[p.VK_FORMAT_R8G8_UNORM]:d.UnsignedByteType,[p.VK_FORMAT_R8G8_SRGB]:d.UnsignedByteType,[p.VK_FORMAT_R32_SFLOAT]:d.FloatType,[p.VK_FORMAT_R16_SFLOAT]:d.HalfFloatType,[p.VK_FORMAT_R8_SRGB]:d.UnsignedByteType,[p.VK_FORMAT_R8_UNORM]:d.UnsignedByteType},E={[p.VK_FORMAT_R8G8B8A8_SRGB]:d.sRGBEncoding,[p.VK_FORMAT_R8G8_SRGB]:d.sRGBEncoding,[p.VK_FORMAT_R8_SRGB]:d.sRGBEncoding};async function C(_){const{vkFormat:P,pixelWidth:R,pixelHeight:L,pixelDepth:T}=_;if(g[P]===void 0)throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");const D=_.levels[0];let H,V;if(_.supercompressionScheme===p.KHR_SUPERCOMPRESSION_NONE)H=D.levelData;else if(_.supercompressionScheme===p.KHR_SUPERCOMPRESSION_ZSTD)A||(A=new Promise(async O=>{const F=new m.ZSTDDecoder;await F.init(),O(F)})),H=(await A).decode(D.levelData,D.uncompressedByteLength);else throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");w[P]===d.FloatType?V=new Float32Array(H.buffer,H.byteOffset,H.byteLength/Float32Array.BYTES_PER_ELEMENT):w[P]===d.HalfFloatType?V=new Uint16Array(H.buffer,H.byteOffset,H.byteLength/Uint16Array.BYTES_PER_ELEMENT):V=H;const B=T===0?new d.DataTexture(V,R,L):new d.Data3DTexture(V,R,L,T);return B.type=w[P],B.format=g[P],B.encoding=E[P]||d.LinearEncoding,B.needsUpdate=!0,Promise.resolve(B)}},"./node_modules/super-three/examples/jsm/loaders/MTLLoader.js":(l,u,c)=>{c.r(u),c.d(u,{MTLLoader:()=>h});var d=c("./node_modules/super-three/build/three.module.js");class h extends d.Loader{constructor(v){super(v)}load(v,y,A,b){const g=this,w=this.path===""?d.LoaderUtils.extractUrlBase(v):this.path,E=new d.FileLoader(this.manager);E.setPath(this.path),E.setRequestHeader(this.requestHeader),E.setWithCredentials(this.withCredentials),E.load(v,function(C){try{y(g.parse(C,w))}catch(_){b?b(_):console.error(_),g.manager.itemError(v)}},A,b)}setMaterialOptions(v){return this.materialOptions=v,this}parse(v,y){const A=v.split(`
`);let b={};const g=/\s+/,w={};for(let C=0;C<A.length;C++){let _=A[C];if(_=_.trim(),_.length===0||_.charAt(0)==="#")continue;const P=_.indexOf(" ");let R=P>=0?_.substring(0,P):_;R=R.toLowerCase();let L=P>=0?_.substring(P+1):"";if(L=L.trim(),R==="newmtl")b={name:L},w[L]=b;else if(R==="ka"||R==="kd"||R==="ks"||R==="ke"){const T=L.split(g,3);b[R]=[parseFloat(T[0]),parseFloat(T[1]),parseFloat(T[2])]}else b[R]=L}const E=new p(this.resourcePath||y,this.materialOptions);return E.setCrossOrigin(this.crossOrigin),E.setManager(this.manager),E.setMaterials(w),E}}class p{constructor(v="",y={}){this.baseUrl=v,this.options=y,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.crossOrigin="anonymous",this.side=this.options.side!==void 0?this.options.side:d.FrontSide,this.wrap=this.options.wrap!==void 0?this.options.wrap:d.RepeatWrapping}setCrossOrigin(v){return this.crossOrigin=v,this}setManager(v){this.manager=v}setMaterials(v){this.materialsInfo=this.convert(v),this.materials={},this.materialsArray=[],this.nameLookup={}}convert(v){if(!this.options)return v;const y={};for(const A in v){const b=v[A],g={};y[A]=g;for(const w in b){let E=!0,C=b[w];const _=w.toLowerCase();switch(_){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(C=[C[0]/255,C[1]/255,C[2]/255]),this.options&&this.options.ignoreZeroRGBs&&C[0]===0&&C[1]===0&&C[2]===0&&(E=!1);break}E&&(g[_]=C)}}return y}preload(){for(const v in this.materialsInfo)this.create(v)}getIndex(v){return this.nameLookup[v]}getAsArray(){let v=0;for(const y in this.materialsInfo)this.materialsArray[v]=this.create(y),this.nameLookup[y]=v,v++;return this.materialsArray}create(v){return this.materials[v]===void 0&&this.createMaterial_(v),this.materials[v]}createMaterial_(v){const y=this,A=this.materialsInfo[v],b={name:v,side:this.side};function g(E,C){return typeof C!="string"||C===""?"":/^https?:\/\//i.test(C)?C:E+C}function w(E,C){if(b[E])return;const _=y.getTextureParams(C,b),P=y.loadTexture(g(y.baseUrl,_.url));P.repeat.copy(_.scale),P.offset.copy(_.offset),P.wrapS=y.wrap,P.wrapT=y.wrap,(E==="map"||E==="emissiveMap")&&(P.encoding=d.sRGBEncoding),b[E]=P}for(const E in A){const C=A[E];let _;if(C!=="")switch(E.toLowerCase()){case"kd":b.color=new d.Color().fromArray(C).convertSRGBToLinear();break;case"ks":b.specular=new d.Color().fromArray(C).convertSRGBToLinear();break;case"ke":b.emissive=new d.Color().fromArray(C).convertSRGBToLinear();break;case"map_kd":w("map",C);break;case"map_ks":w("specularMap",C);break;case"map_ke":w("emissiveMap",C);break;case"norm":w("normalMap",C);break;case"map_bump":case"bump":w("bumpMap",C);break;case"map_d":w("alphaMap",C),b.transparent=!0;break;case"ns":b.shininess=parseFloat(C);break;case"d":_=parseFloat(C),_<1&&(b.opacity=_,b.transparent=!0);break;case"tr":_=parseFloat(C),this.options&&this.options.invertTrProperty&&(_=1-_),_>0&&(b.opacity=1-_,b.transparent=!0);break}}return this.materials[v]=new d.MeshPhongMaterial(b),this.materials[v]}getTextureParams(v,y){const A={scale:new d.Vector2(1,1),offset:new d.Vector2(0,0)},b=v.split(/\s+/);let g;return g=b.indexOf("-bm"),g>=0&&(y.bumpScale=parseFloat(b[g+1]),b.splice(g,2)),g=b.indexOf("-s"),g>=0&&(A.scale.set(parseFloat(b[g+1]),parseFloat(b[g+2])),b.splice(g,4)),g=b.indexOf("-o"),g>=0&&(A.offset.set(parseFloat(b[g+1]),parseFloat(b[g+2])),b.splice(g,4)),A.url=b.join(" ").trim(),A}loadTexture(v,y,A,b,g){const w=this.manager!==void 0?this.manager:d.DefaultLoadingManager;let E=w.getHandler(v);E===null&&(E=new d.TextureLoader(w)),E.setCrossOrigin&&E.setCrossOrigin(this.crossOrigin);const C=E.load(v,A,b,g);return y!==void 0&&(C.mapping=y),C}}},"./node_modules/super-three/examples/jsm/loaders/OBJLoader.js":(l,u,c)=>{c.r(u),c.d(u,{OBJLoader:()=>P});var d=c("./node_modules/super-three/build/three.module.js");const h=/^[og]\s*(.+)?/,p=/^mtllib /,m=/^usemtl /,v=/^usemap /,y=/\s+/,A=new d.Vector3,b=new d.Vector3,g=new d.Vector3,w=new d.Vector3,E=new d.Vector3,C=new d.Color;function _(){const R={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(L,T){if(this.object&&this.object.fromDeclaration===!1){this.object.name=L,this.object.fromDeclaration=T!==!1;return}const D=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:L||"",fromDeclaration:T!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(H,V){const B=this._finalize(!1);B&&(B.inherited||B.groupCount<=0)&&this.materials.splice(B.index,1);const O={index:this.materials.length,name:H||"",mtllib:Array.isArray(V)&&V.length>0?V[V.length-1]:"",smooth:B!==void 0?B.smooth:this.smooth,groupStart:B!==void 0?B.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(F){const N={index:typeof F=="number"?F:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return N.clone=this.clone.bind(N),N}};return this.materials.push(O),O},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(H){const V=this.currentMaterial();if(V&&V.groupEnd===-1&&(V.groupEnd=this.geometry.vertices.length/3,V.groupCount=V.groupEnd-V.groupStart,V.inherited=!1),H&&this.materials.length>1)for(let B=this.materials.length-1;B>=0;B--)this.materials[B].groupCount<=0&&this.materials.splice(B,1);return H&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),V}},D&&D.name&&typeof D.clone=="function"){const H=D.clone(0);H.inherited=!0,this.object.materials.push(H)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(L,T){const D=parseInt(L,10);return(D>=0?D-1:D+T/3)*3},parseNormalIndex:function(L,T){const D=parseInt(L,10);return(D>=0?D-1:D+T/3)*3},parseUVIndex:function(L,T){const D=parseInt(L,10);return(D>=0?D-1:D+T/2)*2},addVertex:function(L,T,D){const H=this.vertices,V=this.object.geometry.vertices;V.push(H[L+0],H[L+1],H[L+2]),V.push(H[T+0],H[T+1],H[T+2]),V.push(H[D+0],H[D+1],H[D+2])},addVertexPoint:function(L){const T=this.vertices;this.object.geometry.vertices.push(T[L+0],T[L+1],T[L+2])},addVertexLine:function(L){const T=this.vertices;this.object.geometry.vertices.push(T[L+0],T[L+1],T[L+2])},addNormal:function(L,T,D){const H=this.normals,V=this.object.geometry.normals;V.push(H[L+0],H[L+1],H[L+2]),V.push(H[T+0],H[T+1],H[T+2]),V.push(H[D+0],H[D+1],H[D+2])},addFaceNormal:function(L,T,D){const H=this.vertices,V=this.object.geometry.normals;A.fromArray(H,L),b.fromArray(H,T),g.fromArray(H,D),E.subVectors(g,b),w.subVectors(A,b),E.cross(w),E.normalize(),V.push(E.x,E.y,E.z),V.push(E.x,E.y,E.z),V.push(E.x,E.y,E.z)},addColor:function(L,T,D){const H=this.colors,V=this.object.geometry.colors;H[L]!==void 0&&V.push(H[L+0],H[L+1],H[L+2]),H[T]!==void 0&&V.push(H[T+0],H[T+1],H[T+2]),H[D]!==void 0&&V.push(H[D+0],H[D+1],H[D+2])},addUV:function(L,T,D){const H=this.uvs,V=this.object.geometry.uvs;V.push(H[L+0],H[L+1]),V.push(H[T+0],H[T+1]),V.push(H[D+0],H[D+1])},addDefaultUV:function(){const L=this.object.geometry.uvs;L.push(0,0),L.push(0,0),L.push(0,0)},addUVLine:function(L){const T=this.uvs;this.object.geometry.uvs.push(T[L+0],T[L+1])},addFace:function(L,T,D,H,V,B,O,F,N){const z=this.vertices.length;let j=this.parseVertexIndex(L,z),G=this.parseVertexIndex(T,z),Q=this.parseVertexIndex(D,z);if(this.addVertex(j,G,Q),this.addColor(j,G,Q),O!==void 0&&O!==""){const X=this.normals.length;j=this.parseNormalIndex(O,X),G=this.parseNormalIndex(F,X),Q=this.parseNormalIndex(N,X),this.addNormal(j,G,Q)}else this.addFaceNormal(j,G,Q);if(H!==void 0&&H!==""){const X=this.uvs.length;j=this.parseUVIndex(H,X),G=this.parseUVIndex(V,X),Q=this.parseUVIndex(B,X),this.addUV(j,G,Q),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(L){this.object.geometry.type="Points";const T=this.vertices.length;for(let D=0,H=L.length;D<H;D++){const V=this.parseVertexIndex(L[D],T);this.addVertexPoint(V),this.addColor(V)}},addLineGeometry:function(L,T){this.object.geometry.type="Line";const D=this.vertices.length,H=this.uvs.length;for(let V=0,B=L.length;V<B;V++)this.addVertexLine(this.parseVertexIndex(L[V],D));for(let V=0,B=T.length;V<B;V++)this.addUVLine(this.parseUVIndex(T[V],H))}};return R.startObject("",!1),R}class P extends d.Loader{constructor(L){super(L),this.materials=null}load(L,T,D,H){const V=this,B=new d.FileLoader(this.manager);B.setPath(this.path),B.setRequestHeader(this.requestHeader),B.setWithCredentials(this.withCredentials),B.load(L,function(O){try{T(V.parse(O))}catch(F){H?H(F):console.error(F),V.manager.itemError(L)}},D,H)}setMaterials(L){return this.materials=L,this}parse(L){const T=new _;L.indexOf(`\r
`)!==-1&&(L=L.replace(/\r\n/g,`
`)),L.indexOf(`\\
`)!==-1&&(L=L.replace(/\\\n/g,""));const D=L.split(`
`);let H=[];for(let O=0,F=D.length;O<F;O++){const N=D[O].trimStart();if(N.length===0)continue;const z=N.charAt(0);if(z!=="#")if(z==="v"){const j=N.split(y);switch(j[0]){case"v":T.vertices.push(parseFloat(j[1]),parseFloat(j[2]),parseFloat(j[3])),j.length>=7?(C.setRGB(parseFloat(j[4]),parseFloat(j[5]),parseFloat(j[6])).convertSRGBToLinear(),T.colors.push(C.r,C.g,C.b)):T.colors.push(void 0,void 0,void 0);break;case"vn":T.normals.push(parseFloat(j[1]),parseFloat(j[2]),parseFloat(j[3]));break;case"vt":T.uvs.push(parseFloat(j[1]),parseFloat(j[2]));break}}else if(z==="f"){const G=N.slice(1).trim().split(y),Q=[];for(let J=0,Z=G.length;J<Z;J++){const oe=G[J];if(oe.length>0){const ce=oe.split("/");Q.push(ce)}}const X=Q[0];for(let J=1,Z=Q.length-1;J<Z;J++){const oe=Q[J],ce=Q[J+1];T.addFace(X[0],oe[0],ce[0],X[1],oe[1],ce[1],X[2],oe[2],ce[2])}}else if(z==="l"){const j=N.substring(1).trim().split(" ");let G=[];const Q=[];if(N.indexOf("/")===-1)G=j;else for(let X=0,J=j.length;X<J;X++){const Z=j[X].split("/");Z[0]!==""&&G.push(Z[0]),Z[1]!==""&&Q.push(Z[1])}T.addLineGeometry(G,Q)}else if(z==="p"){const G=N.slice(1).trim().split(" ");T.addPointGeometry(G)}else if((H=h.exec(N))!==null){const j=(" "+H[0].slice(1).trim()).slice(1);T.startObject(j)}else if(m.test(N))T.object.startMaterial(N.substring(7).trim(),T.materialLibraries);else if(p.test(N))T.materialLibraries.push(N.substring(7).trim());else if(v.test(N))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(z==="s"){if(H=N.split(" "),H.length>1){const G=H[1].trim().toLowerCase();T.object.smooth=G!=="0"&&G!=="off"}else T.object.smooth=!0;const j=T.object.currentMaterial();j&&(j.smooth=T.object.smooth)}else{if(N==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+N+'"')}}T.finalize();const V=new d.Group;if(V.materialLibraries=[].concat(T.materialLibraries),!(T.objects.length===1&&T.objects[0].geometry.vertices.length===0)===!0)for(let O=0,F=T.objects.length;O<F;O++){const N=T.objects[O],z=N.geometry,j=N.materials,G=z.type==="Line",Q=z.type==="Points";let X=!1;if(z.vertices.length===0)continue;const J=new d.BufferGeometry;J.setAttribute("position",new d.Float32BufferAttribute(z.vertices,3)),z.normals.length>0&&J.setAttribute("normal",new d.Float32BufferAttribute(z.normals,3)),z.colors.length>0&&(X=!0,J.setAttribute("color",new d.Float32BufferAttribute(z.colors,3))),z.hasUVIndices===!0&&J.setAttribute("uv",new d.Float32BufferAttribute(z.uvs,2));const Z=[];for(let ce=0,Be=j.length;ce<Be;ce++){const ge=j[ce],Re=ge.name+"_"+ge.smooth+"_"+X;let $e=T.materials[Re];if(this.materials!==null){if($e=this.materials.create(ge.name),G&&$e&&!($e instanceof d.LineBasicMaterial)){const qe=new d.LineBasicMaterial;d.Material.prototype.copy.call(qe,$e),qe.color.copy($e.color),$e=qe}else if(Q&&$e&&!($e instanceof d.PointsMaterial)){const qe=new d.PointsMaterial({size:10,sizeAttenuation:!1});d.Material.prototype.copy.call(qe,$e),qe.color.copy($e.color),qe.map=$e.map,$e=qe}}$e===void 0&&(G?$e=new d.LineBasicMaterial:Q?$e=new d.PointsMaterial({size:1,sizeAttenuation:!1}):$e=new d.MeshPhongMaterial,$e.name=ge.name,$e.flatShading=!ge.smooth,$e.vertexColors=X,T.materials[Re]=$e),Z.push($e)}let oe;if(Z.length>1){for(let ce=0,Be=j.length;ce<Be;ce++){const ge=j[ce];J.addGroup(ge.groupStart,ge.groupCount,ce)}G?oe=new d.LineSegments(J,Z):Q?oe=new d.Points(J,Z):oe=new d.Mesh(J,Z)}else G?oe=new d.LineSegments(J,Z[0]):Q?oe=new d.Points(J,Z[0]):oe=new d.Mesh(J,Z[0]);oe.name=N.name,V.add(oe)}else if(T.vertices.length>0){const O=new d.PointsMaterial({size:1,sizeAttenuation:!1}),F=new d.BufferGeometry;F.setAttribute("position",new d.Float32BufferAttribute(T.vertices,3)),T.colors.length>0&&T.colors[0]!==void 0&&(F.setAttribute("color",new d.Float32BufferAttribute(T.colors,3)),O.vertexColors=!0);const N=new d.Points(F,O);V.add(N)}return V}}},"./node_modules/super-three/examples/jsm/utils/BufferGeometryUtils.js":(l,u,c)=>{c.r(u),c.d(u,{computeMikkTSpaceTangents:()=>p,computeMorphedAttributes:()=>_,computeTangents:()=>h,deepCloneAttribute:()=>y,deinterleaveAttribute:()=>b,deinterleaveGeometry:()=>g,estimateBytesUsed:()=>w,interleaveAttributes:()=>A,mergeBufferAttributes:()=>v,mergeBufferGeometries:()=>m,mergeGroups:()=>P,mergeVertices:()=>E,toCreasedNormals:()=>R,toTrianglesDrawMode:()=>C});var d=c("./node_modules/super-three/build/three.module.js");function h(){throw new Error("BufferGeometryUtils: computeTangents renamed to computeMikkTSpaceTangents.")}function p(L,T,D=!0){if(!T||!T.isReady)throw new Error("BufferGeometryUtils: Initialized MikkTSpace library required.");if(!L.hasAttribute("position")||!L.hasAttribute("normal")||!L.hasAttribute("uv"))throw new Error('BufferGeometryUtils: Tangents require "position", "normal", and "uv" attributes.');function H(O){if(O.normalized||O.isInterleavedBufferAttribute){const F=new Float32Array(O.getCount()*O.itemSize);for(let N=0,z=0;N<O.getCount();N++)F[z++]=O.getX(N),F[z++]=O.getY(N),O.itemSize>2&&(F[z++]=O.getZ(N));return F}return O.array instanceof Float32Array?O.array:new Float32Array(O.array)}const V=L.index?L.toNonIndexed():L,B=T.generateTangents(H(V.attributes.position),H(V.attributes.normal),H(V.attributes.uv));if(D)for(let O=3;O<B.length;O+=4)B[O]*=-1;return V.setAttribute("tangent",new d.BufferAttribute(B,4)),L!==V&&L.copy(V),L}function m(L,T=!1){const D=L[0].index!==null,H=new Set(Object.keys(L[0].attributes)),V=new Set(Object.keys(L[0].morphAttributes)),B={},O={},F=L[0].morphTargetsRelative,N=new d.BufferGeometry;let z=0;for(let j=0;j<L.length;++j){const G=L[j];let Q=0;if(D!==(G.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+j+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(const X in G.attributes){if(!H.has(X))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+j+'. All geometries must have compatible attributes; make sure "'+X+'" attribute exists among all geometries, or in none of them.'),null;B[X]===void 0&&(B[X]=[]),B[X].push(G.attributes[X]),Q++}if(Q!==H.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+j+". Make sure all geometries have the same number of attributes."),null;if(F!==G.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+j+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(const X in G.morphAttributes){if(!V.has(X))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+j+".  .morphAttributes must be consistent throughout all geometries."),null;O[X]===void 0&&(O[X]=[]),O[X].push(G.morphAttributes[X])}if(T){let X;if(D)X=G.index.count;else if(G.attributes.position!==void 0)X=G.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+j+". The geometry must have either an index or a position attribute"),null;N.addGroup(z,X,j),z+=X}}if(D){let j=0;const G=[];for(let Q=0;Q<L.length;++Q){const X=L[Q].index;for(let J=0;J<X.count;++J)G.push(X.getX(J)+j);j+=L[Q].attributes.position.count}N.setIndex(G)}for(const j in B){const G=v(B[j]);if(!G)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+j+" attribute."),null;N.setAttribute(j,G)}for(const j in O){const G=O[j][0].length;if(G===0)break;N.morphAttributes=N.morphAttributes||{},N.morphAttributes[j]=[];for(let Q=0;Q<G;++Q){const X=[];for(let Z=0;Z<O[j].length;++Z)X.push(O[j][Z][Q]);const J=v(X);if(!J)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+j+" morphAttribute."),null;N.morphAttributes[j].push(J)}}return N}function v(L){let T,D,H,V=0;for(let F=0;F<L.length;++F){const N=L[F];if(N.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(T===void 0&&(T=N.array.constructor),T!==N.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(D===void 0&&(D=N.itemSize),D!==N.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(H===void 0&&(H=N.normalized),H!==N.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;V+=N.array.length}const B=new T(V);let O=0;for(let F=0;F<L.length;++F)B.set(L[F].array,O),O+=L[F].array.length;return new d.BufferAttribute(B,D,H)}function y(L){return L.isInstancedInterleavedBufferAttribute||L.isInterleavedBufferAttribute?b(L):L.isInstancedBufferAttribute?new d.InstancedBufferAttribute().copy(L):new d.BufferAttribute().copy(L)}function A(L){let T,D=0,H=0;for(let z=0,j=L.length;z<j;++z){const G=L[z];if(T===void 0&&(T=G.array.constructor),T!==G.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;D+=G.array.length,H+=G.itemSize}const V=new d.InterleavedBuffer(new T(D),H);let B=0;const O=[],F=["getX","getY","getZ","getW"],N=["setX","setY","setZ","setW"];for(let z=0,j=L.length;z<j;z++){const G=L[z],Q=G.itemSize,X=G.count,J=new d.InterleavedBufferAttribute(V,Q,B,G.normalized);O.push(J),B+=Q;for(let Z=0;Z<X;Z++)for(let oe=0;oe<Q;oe++)J[N[oe]](Z,G[F[oe]](Z))}return O}function b(L){const T=L.data.array.constructor,D=L.count,H=L.itemSize,V=L.normalized,B=new T(D*H);let O;L.isInstancedInterleavedBufferAttribute?O=new d.InstancedBufferAttribute(B,H,V,L.meshPerAttribute):O=new d.BufferAttribute(B,H,V);for(let F=0;F<D;F++)O.setX(F,L.getX(F)),H>=2&&O.setY(F,L.getY(F)),H>=3&&O.setZ(F,L.getZ(F)),H>=4&&O.setW(F,L.getW(F));return O}function g(L){const T=L.attributes,D=L.morphTargets,H=new Map;for(const V in T){const B=T[V];B.isInterleavedBufferAttribute&&(H.has(B)||H.set(B,b(B)),T[V]=H.get(B))}for(const V in D){const B=D[V];B.isInterleavedBufferAttribute&&(H.has(B)||H.set(B,b(B)),D[V]=H.get(B))}}function w(L){let T=0;for(const H in L.attributes){const V=L.getAttribute(H);T+=V.count*V.itemSize*V.array.BYTES_PER_ELEMENT}const D=L.getIndex();return T+=D?D.count*D.itemSize*D.array.BYTES_PER_ELEMENT:0,T}function E(L,T=1e-4){T=Math.max(T,Number.EPSILON);const D={},H=L.getIndex(),V=L.getAttribute("position"),B=H?H.count:V.count;let O=0;const F=Object.keys(L.attributes),N={},z={},j=[],G=["getX","getY","getZ","getW"],Q=["setX","setY","setZ","setW"];for(let oe=0,ce=F.length;oe<ce;oe++){const Be=F[oe],ge=L.attributes[Be];N[Be]=new d.BufferAttribute(new ge.array.constructor(ge.count*ge.itemSize),ge.itemSize,ge.normalized);const Re=L.morphAttributes[Be];Re&&(z[Be]=new d.BufferAttribute(new Re.array.constructor(Re.count*Re.itemSize),Re.itemSize,Re.normalized))}const X=Math.log10(1/T),J=Math.pow(10,X);for(let oe=0;oe<B;oe++){const ce=H?H.getX(oe):oe;let Be="";for(let ge=0,Re=F.length;ge<Re;ge++){const $e=F[ge],qe=L.getAttribute($e),Ke=qe.itemSize;for(let ke=0;ke<Ke;ke++)Be+=`${~~(qe[G[ke]](ce)*J)},`}if(Be in D)j.push(D[Be]);else{for(let ge=0,Re=F.length;ge<Re;ge++){const $e=F[ge],qe=L.getAttribute($e),Ke=L.morphAttributes[$e],ke=qe.itemSize,st=N[$e],ot=z[$e];for(let it=0;it<ke;it++){const ft=G[it],Et=Q[it];if(st[Et](O,qe[ft](ce)),Ke)for(let gt=0,Ct=Ke.length;gt<Ct;gt++)ot[gt][Et](O,Ke[gt][ft](ce))}}D[Be]=O,j.push(O),O++}}const Z=L.clone();for(const oe in L.attributes){const ce=N[oe];if(Z.setAttribute(oe,new d.BufferAttribute(ce.array.slice(0,O*ce.itemSize),ce.itemSize,ce.normalized)),oe in z)for(let Be=0;Be<z[oe].length;Be++){const ge=z[oe][Be];Z.morphAttributes[oe][Be]=new d.BufferAttribute(ge.array.slice(0,O*ge.itemSize),ge.itemSize,ge.normalized)}}return Z.setIndex(j),Z}function C(L,T){if(T===d.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),L;if(T===d.TriangleFanDrawMode||T===d.TriangleStripDrawMode){let D=L.getIndex();if(D===null){const O=[],F=L.getAttribute("position");if(F!==void 0){for(let N=0;N<F.count;N++)O.push(N);L.setIndex(O),D=L.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),L}const H=D.count-2,V=[];if(T===d.TriangleFanDrawMode)for(let O=1;O<=H;O++)V.push(D.getX(0)),V.push(D.getX(O)),V.push(D.getX(O+1));else for(let O=0;O<H;O++)O%2===0?(V.push(D.getX(O)),V.push(D.getX(O+1)),V.push(D.getX(O+2))):(V.push(D.getX(O+2)),V.push(D.getX(O+1)),V.push(D.getX(O)));V.length/3!==H&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const B=L.clone();return B.setIndex(V),B.clearGroups(),B}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",T),L}function _(L){if(L.geometry.isBufferGeometry!==!0)return console.error("THREE.BufferGeometryUtils: Geometry is not of type BufferGeometry."),null;const T=new d.Vector3,D=new d.Vector3,H=new d.Vector3,V=new d.Vector3,B=new d.Vector3,O=new d.Vector3,F=new d.Vector3,N=new d.Vector3,z=new d.Vector3;function j(Ve,ye,fe,pe,_e,Ce,Se,we){T.fromBufferAttribute(ye,_e),D.fromBufferAttribute(ye,Ce),H.fromBufferAttribute(ye,Se);const je=Ve.morphTargetInfluences;if(fe&&je){F.set(0,0,0),N.set(0,0,0),z.set(0,0,0);for(let Ae=0,Ue=fe.length;Ae<Ue;Ae++){const et=je[Ae],ue=fe[Ae];et!==0&&(V.fromBufferAttribute(ue,_e),B.fromBufferAttribute(ue,Ce),O.fromBufferAttribute(ue,Se),pe?(F.addScaledVector(V,et),N.addScaledVector(B,et),z.addScaledVector(O,et)):(F.addScaledVector(V.sub(T),et),N.addScaledVector(B.sub(D),et),z.addScaledVector(O.sub(H),et)))}T.add(F),D.add(N),H.add(z)}Ve.isSkinnedMesh&&(Ve.boneTransform(_e,T),Ve.boneTransform(Ce,D),Ve.boneTransform(Se,H)),we[_e*3+0]=T.x,we[_e*3+1]=T.y,we[_e*3+2]=T.z,we[Ce*3+0]=D.x,we[Ce*3+1]=D.y,we[Ce*3+2]=D.z,we[Se*3+0]=H.x,we[Se*3+1]=H.y,we[Se*3+2]=H.z}const G=L.geometry,Q=L.material;let X,J,Z;const oe=G.index,ce=G.attributes.position,Be=G.morphAttributes.position,ge=G.morphTargetsRelative,Re=G.attributes.normal,$e=G.morphAttributes.position,qe=G.groups,Ke=G.drawRange;let ke,st,ot,it,ft,Et,gt;const Ct=new Float32Array(ce.count*ce.itemSize),Tt=new Float32Array(Re.count*Re.itemSize);if(oe!==null)if(Array.isArray(Q))for(ke=0,ot=qe.length;ke<ot;ke++)for(ft=qe[ke],Et=Math.max(ft.start,Ke.start),gt=Math.min(ft.start+ft.count,Ke.start+Ke.count),st=Et,it=gt;st<it;st+=3)X=oe.getX(st),J=oe.getX(st+1),Z=oe.getX(st+2),j(L,ce,Be,ge,X,J,Z,Ct),j(L,Re,$e,ge,X,J,Z,Tt);else for(Et=Math.max(0,Ke.start),gt=Math.min(oe.count,Ke.start+Ke.count),ke=Et,ot=gt;ke<ot;ke+=3)X=oe.getX(ke),J=oe.getX(ke+1),Z=oe.getX(ke+2),j(L,ce,Be,ge,X,J,Z,Ct),j(L,Re,$e,ge,X,J,Z,Tt);else if(Array.isArray(Q))for(ke=0,ot=qe.length;ke<ot;ke++)for(ft=qe[ke],Et=Math.max(ft.start,Ke.start),gt=Math.min(ft.start+ft.count,Ke.start+Ke.count),st=Et,it=gt;st<it;st+=3)X=st,J=st+1,Z=st+2,j(L,ce,Be,ge,X,J,Z,Ct),j(L,Re,$e,ge,X,J,Z,Tt);else for(Et=Math.max(0,Ke.start),gt=Math.min(ce.count,Ke.start+Ke.count),ke=Et,ot=gt;ke<ot;ke+=3)X=ke,J=ke+1,Z=ke+2,j(L,ce,Be,ge,X,J,Z,Ct),j(L,Re,$e,ge,X,J,Z,Tt);const Dt=new d.Float32BufferAttribute(Ct,3),Yt=new d.Float32BufferAttribute(Tt,3);return{positionAttribute:ce,normalAttribute:Re,morphedPositionAttribute:Dt,morphedNormalAttribute:Yt}}function P(L){if(L.groups.length===0)return console.warn("THREE.BufferGeometryUtils.mergeGroups(): No groups are defined. Nothing to merge."),L;let T=L.groups;if(T=T.sort((O,F)=>O.materialIndex!==F.materialIndex?O.materialIndex-F.materialIndex:O.start-F.start),L.getIndex()===null){const O=L.getAttribute("position"),F=[];for(let N=0;N<O.count;N+=3)F.push(N,N+1,N+2);L.setIndex(F)}const D=L.getIndex(),H=[];for(let O=0;O<T.length;O++){const F=T[O],N=F.start,z=N+F.count;for(let j=N;j<z;j++)H.push(D.getX(j))}L.dispose(),L.setIndex(H);let V=0;for(let O=0;O<T.length;O++){const F=T[O];F.start=V,V+=F.count}let B=T[0];L.groups=[B];for(let O=1;O<T.length;O++){const F=T[O];B.materialIndex===F.materialIndex?B.count+=F.count:(B=F,L.groups.push(B))}return L}function R(L,T=Math.PI/3){const D=Math.cos(T),H=(1+1e-10)*100,V=[new d.Vector3,new d.Vector3,new d.Vector3],B=new d.Vector3,O=new d.Vector3,F=new d.Vector3,N=new d.Vector3;function z(Z){const oe=~~(Z.x*H),ce=~~(Z.y*H),Be=~~(Z.z*H);return`${oe},${ce},${Be}`}const j=L.toNonIndexed(),G=j.attributes.position,Q={};for(let Z=0,oe=G.count/3;Z<oe;Z++){const ce=3*Z,Be=V[0].fromBufferAttribute(G,ce+0),ge=V[1].fromBufferAttribute(G,ce+1),Re=V[2].fromBufferAttribute(G,ce+2);B.subVectors(Re,ge),O.subVectors(Be,ge);const $e=new d.Vector3().crossVectors(B,O).normalize();for(let qe=0;qe<3;qe++){const Ke=V[qe],ke=z(Ke);ke in Q||(Q[ke]=[]),Q[ke].push($e)}}const X=new Float32Array(G.count*3),J=new d.BufferAttribute(X,3,!1);for(let Z=0,oe=G.count/3;Z<oe;Z++){const ce=3*Z,Be=V[0].fromBufferAttribute(G,ce+0),ge=V[1].fromBufferAttribute(G,ce+1),Re=V[2].fromBufferAttribute(G,ce+2);B.subVectors(Re,ge),O.subVectors(Be,ge),F.crossVectors(B,O).normalize();for(let $e=0;$e<3;$e++){const qe=V[$e],Ke=z(qe),ke=Q[Ke];N.set(0,0,0);for(let st=0,ot=ke.length;st<ot;st++){const it=ke[st];F.dot(it)>D&&N.add(it)}N.normalize(),J.setXYZ(ce+$e,N.x,N.y,N.z)}}return j.setAttribute("normal",J),j}},"./node_modules/super-three/examples/jsm/utils/WorkerPool.js":(l,u,c)=>{c.r(u),c.d(u,{WorkerPool:()=>d});class d{constructor(p=4){this.pool=p,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(p){if(!this.workers[p]){const m=this.workerCreator();m.addEventListener("message",this._onMessage.bind(this,p)),this.workers[p]=m}}_getIdleWorker(){for(let p=0;p<this.pool;p++)if(!(this.workerStatus&1<<p))return p;return-1}_onMessage(p,m){const v=this.workersResolve[p];if(v&&v(m),this.queue.length){const{resolve:y,msg:A,transfer:b}=this.queue.shift();this.workersResolve[p]=y,this.workers[p].postMessage(A,b)}else this.workerStatus^=1<<p}setWorkerCreator(p){this.workerCreator=p}setWorkerLimit(p){this.pool=p}postMessage(p,m){return new Promise(v=>{const y=this._getIdleWorker();y!==-1?(this._initWorker(y),this.workerStatus|=1<<y,this.workersResolve[y]=v,this.workers[y].postMessage(p,m)):this.queue.push({resolve:v,msg:p,transfer:m})})}dispose(){this.workers.forEach(p=>p.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}},"./package.json":l=>{l.exports=JSON.parse('{"name":"aframe","version":"1.4.2","description":"A web framework for building virtual reality experiences.","homepage":"https://aframe.io/","main":"dist/aframe-master.js","scripts":{"dev":"cross-env INSPECTOR_VERSION=dev webpack serve --port 8080","dist":"node scripts/updateVersionLog.js && npm run dist:min && npm run dist:max","dist:max":"webpack --config webpack.config.js","dist:min":"webpack --config webpack.prod.config.js","docs":"markserv --dir docs --port 9001","preghpages":"node ./scripts/preghpages.js","ghpages":"ghpages -p gh-pages/","lint":"semistandard -v | snazzy","lint:fix":"semistandard --fix","precommit":"npm run lint","prepush":"node scripts/testOnlyCheck.js","prerelease":"node scripts/release.js 1.4.1 1.4.2","start":"npm run dev","start:https":"npm run dev -- --server-type https","test":"karma start ./tests/karma.conf.js","test:docs":"node scripts/docsLint.js","test:firefox":"npm test -- --browsers Firefox","test:chrome":"npm test -- --browsers Chrome","test:nobrowser":"NO_BROWSER=true npm test","test:node":"mocha --ui tdd tests/node"},"repository":"aframevr/aframe","license":"MIT","files":["dist/*","docs/**/*","src/**/*","vendor/**/*"],"dependencies":{"buffer":"^6.0.3","custom-event-polyfill":"^1.0.6","debug":"ngokevin/debug#noTimestamp","deep-assign":"^2.0.0","@ungap/custom-elements":"^1.1.0","load-bmfont":"^1.2.3","object-assign":"^4.0.1","present":"0.0.6","promise-polyfill":"^3.1.0","super-animejs":"^3.1.0","super-three":"^0.147.1","three-bmfont-text":"dmarcos/three-bmfont-text#21d017046216e318362c48abd1a48bddfb6e0733","webvr-polyfill":"^0.10.12"},"devDependencies":{"@babel/core":"^7.17.10","babel-loader":"^8.2.5","babel-plugin-istanbul":"^6.1.1","chai":"^4.3.6","chai-shallow-deep-equal":"^1.4.0","chalk":"^1.1.3","cross-env":"^7.0.3","css-loader":"^6.7.1","ghpages":"0.0.8","git-rev":"^0.2.1","glob":"^8.0.3","husky":"^0.11.7","jsdom":"^20.0.0","karma":"^6.4.0","karma-chai-shallow-deep-equal":"0.0.4","karma-chrome-launcher":"^3.1.1","karma-coverage":"^2.2.0","karma-env-preprocessor":"^0.1.1","karma-firefox-launcher":"^2.1.2","karma-mocha":"^2.0.1","karma-mocha-reporter":"^2.2.5","karma-sinon-chai":"^2.0.2","karma-webpack":"^5.0.0","markserv":"github:sukima/markserv#feature/fix-broken-websoketio-link","mocha":"^10.0.0","replace-in-file":"^2.5.3","semistandard":"^9.0.0","shelljs":"^0.7.7","shx":"^0.2.2","sinon":"<12.0.0","sinon-chai":"^3.7.0","snazzy":"^5.0.0","style-loader":"^3.3.1","too-wordy":"ngokevin/too-wordy","webpack":"^5.73.0","webpack-cli":"^4.10.0","webpack-dev-server":"^4.11.0","webpack-merge":"^5.8.0","write-good":"^1.0.8"},"link":true,"semistandard":{"ignore":["build/**","dist/**","examples/**/shaders/*.js","**/vendor/**"]},"keywords":["3d","aframe","cardboard","components","oculus","three","three.js","rift","vive","vr","quest","meta","web-components","webvr","webxr"],"engines":{"node":">= 4.6.0","npm":">= 2.15.9"}}')}},i={};function o(l){var u=i[l];if(u!==void 0)return u.exports;var c=i[l]={id:l,exports:{}};return r[l].call(c.exports,c,c.exports,o),c.exports}o.m=r,o.n=l=>{var u=l&&l.__esModule?()=>l.default:()=>l;return o.d(u,{a:u}),u},o.d=(l,u)=>{for(var c in u)o.o(u,c)&&!o.o(l,c)&&Object.defineProperty(l,c,{enumerable:!0,get:u[c]})},o.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),o.o=(l,u)=>Object.prototype.hasOwnProperty.call(l,u),o.r=l=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},o.b=document.baseURI||self.location.href,o.nc=void 0;var s=o("./src/index.js");return s})())})(BRe);const y8=.1;AFRAME.registerComponent("checkpoint-controls",{schema:{enabled:{default:!0},mode:{default:"teleport",oneOf:["teleport","animate"]},animateSpeed:{default:3}},init:function(){this.active=!0,this.checkpoint=null,this.isNavMeshConstrained=!1,this.offset=new THREE.Vector3,this.position=new THREE.Vector3,this.targetPosition=new THREE.Vector3},play:function(){this.active=!0},pause:function(){this.active=!1},setCheckpoint:function(n){const e=this.el;if(this.active&&this.checkpoint!==n){if(this.checkpoint&&e.emit("navigation-end",{checkpoint:this.checkpoint}),this.checkpoint=n,this.sync(),this.position.distanceTo(this.targetPosition)<y8){this.checkpoint=null;return}e.emit("navigation-start",{checkpoint:n}),this.data.mode==="teleport"&&(this.el.setAttribute("position",this.targetPosition),this.checkpoint=null,e.emit("navigation-end",{checkpoint:n}),e.components["movement-controls"].updateNavLocation())}},isVelocityActive:function(){return!!(this.active&&this.checkpoint)},getVelocity:function(){if(!this.active)return;const n=this.data,e=this.offset,r=this.position,i=this.targetPosition,o=this.checkpoint;return this.sync(),r.distanceTo(i)<y8?(this.checkpoint=null,this.el.emit("navigation-end",{checkpoint:o}),e.set(0,0,0)):(e.setLength(n.animateSpeed),e)},sync:function(){const n=this.offset,e=this.position,r=this.targetPosition;e.copy(this.el.getAttribute("position")),this.checkpoint.object3D.getWorldPosition(r),r.add(this.checkpoint.components.checkpoint.getOffset()),n.copy(r).sub(e)}});var ORe=Object.assign(function(){},{FACE_1:0,FACE_2:1,FACE_3:2,FACE_4:3,L_SHOULDER_1:4,R_SHOULDER_1:5,L_SHOULDER_2:6,R_SHOULDER_2:7,SELECT:8,START:9,DPAD_UP:12,DPAD_DOWN:13,DPAD_LEFT:14,DPAD_RIGHT:15,VENDOR:16});function DRe(n,e,r){this.type=n,this.index=e,this.pressed=r.pressed,this.value=r.value}var NRe=DRe;const Kp=ORe,nM=NRe,hd=.2,tu={LEFT:"left",RIGHT:"right"},nu={MOVEMENT:1,ROTATION:2};AFRAME.registerComponent("gamepad-controls",{GamepadButton:Kp,schema:{enabled:{default:!0},camera:{default:"[camera]",type:"selector"},rotationSensitivity:{default:2}},init:function(){const n=this.el.sceneEl;this.system=n.systems["tracked-controls-webxr"]||{controllers:[]},this.prevTime=window.performance.now(),this.buttons={};const e=this.el.object3D.rotation;this.pitch=new THREE.Object3D,this.pitch.rotation.x=THREE.Math.degToRad(e.x),this.yaw=new THREE.Object3D,this.yaw.position.y=10,this.yaw.rotation.y=THREE.Math.degToRad(e.y),this.yaw.add(this.pitch),this._lookVector=new THREE.Vector2,this._moveVector=new THREE.Vector2,this._dpadVector=new THREE.Vector2,n.addBehavior(this)},update:function(){this.tick()},tick:function(n,e){this.updateButtonState(),this.updateRotation(e)},remove:function(){},isVelocityActive:function(){if(!this.data.enabled||!this.isConnected())return!1;const n=this._dpadVector,e=this._moveVector;this.getDpad(n),this.getJoystick(nu.MOVEMENT,e);const r=n.x||e.x,i=n.y||e.y;return Math.abs(r)>hd||Math.abs(i)>hd},getVelocityDelta:function(){const n=this._dpadVector,e=this._moveVector;this.getDpad(n),this.getJoystick(nu.MOVEMENT,e);const r=n.x||e.x,i=n.y||e.y,o=new THREE.Vector3;return Math.abs(r)>hd&&(o.x+=r),Math.abs(i)>hd&&(o.z+=i),o},isRotationActive:function(){if(!this.data.enabled||!this.isConnected())return!1;const n=this._lookVector;return this.getJoystick(nu.ROTATION,n),Math.abs(n.x)>hd||Math.abs(n.y)>hd},updateRotation:function(n){if(!this.isRotationActive())return;const e=this.data,r=this.yaw,i=this.pitch,o=e.camera.components["look-controls"],s=o&&o.pitchObject&&o.yawObject;s&&(i.rotation.copy(o.pitchObject.rotation),r.rotation.copy(o.yawObject.rotation));const l=this._lookVector;this.getJoystick(nu.ROTATION,l),Math.abs(l.x)<=hd&&(l.x=0),Math.abs(l.y)<=hd&&(l.y=0),l.multiplyScalar(e.rotationSensitivity*n/1e3),r.rotation.y-=l.x,i.rotation.x-=l.y,i.rotation.x=Math.max(-Math.PI/2,Math.min(Math.PI/2,i.rotation.x)),e.camera.object3D.rotation.set(i.rotation.x,r.rotation.y,0),s&&(o.pitchObject.rotation.copy(i.rotation),o.yawObject.rotation.copy(r.rotation))},updateButtonState:function(){const n=this.getGamepad(tu.RIGHT);if(this.data.enabled&&n)for(var e=0;e<n.buttons.length;e++)n.buttons[e].pressed&&!this.buttons[e]?this.emit(new nM("gamepadbuttondown",e,n.buttons[e])):!n.buttons[e].pressed&&this.buttons[e]&&this.emit(new nM("gamepadbuttonup",e,n.buttons[e])),this.buttons[e]=n.buttons[e].pressed;else Object.keys(this.buttons)&&(this.buttons={})},emit:function(n){this.el.emit(n.type,n),this.el.emit(n.type+":"+n.index,new nM(n.type,n.index,n))},getGamepad:function(){const n=[],e=[];return function(r){const i=this.el.sceneEl.components["proxy-controls"],o=i&&i.isConnected()&&i.getGamepad(0);if(o)return o;n.length=0;for(let l=0;l<this.system.controllers.length;l++){const u=this.system.controllers[l],c=u?u.gamepad:null;if(n.push(c),c&&c.handedness===r)return c}const s=navigator.getGamepads?navigator.getGamepads():e;for(let l=0;l<s.length;l++){const u=s[l];if(u&&u.hand===r)return u}return n[0]||s[0]}}(),getButton:function(n){return this.getGamepad(tu.RIGHT).buttons[n]},getAxis:function(n){return this.getGamepad(n>1?tu.RIGHT:tu.LEFT).axes[n]},getJoystick:function(n,e){const r=this.getGamepad(n===nu.MOVEMENT?tu.LEFT:tu.RIGHT);if(r.mapping==="xr-standard")switch(n){case nu.MOVEMENT:return e.set(r.axes[2],r.axes[3]);case nu.ROTATION:return e.set(r.axes[0],r.axes[1])}else switch(n){case nu.MOVEMENT:return e.set(r.axes[0],r.axes[1]);case nu.ROTATION:return e.set(r.axes[2],r.axes[3])}throw new Error('Unexpected joystick index "%d".',n)},getDpad:function(n){const e=this.getGamepad(tu.LEFT);return e.buttons[Kp.DPAD_RIGHT]?n.set((e.buttons[Kp.DPAD_RIGHT].pressed?1:0)+(e.buttons[Kp.DPAD_LEFT].pressed?-1:0),(e.buttons[Kp.DPAD_UP].pressed?-1:0)+(e.buttons[Kp.DPAD_DOWN].pressed?1:0)):n.set(0,0)},isConnected:function(){const n=this.getGamepad(tu.LEFT);return!!(n&&n.connected)},getID:function(){return this.getGamepad(tu.LEFT).id}});(function(n){var e="KeyboardEvent"in n;e||(n.KeyboardEvent=function(){throw TypeError("Illegal constructor")}),"DOM_KEY_LOCATION_STANDARD"in n.KeyboardEvent||(n.KeyboardEvent.DOM_KEY_LOCATION_STANDARD=0),"DOM_KEY_LOCATION_LEFT"in n.KeyboardEvent||(n.KeyboardEvent.DOM_KEY_LOCATION_LEFT=1),"DOM_KEY_LOCATION_RIGHT"in n.KeyboardEvent||(n.KeyboardEvent.DOM_KEY_LOCATION_RIGHT=2),"DOM_KEY_LOCATION_NUMPAD"in n.KeyboardEvent||(n.KeyboardEvent.DOM_KEY_LOCATION_NUMPAD=3);var r=window.KeyboardEvent.DOM_KEY_LOCATION_STANDARD,i=window.KeyboardEvent.DOM_KEY_LOCATION_LEFT,o=window.KeyboardEvent.DOM_KEY_LOCATION_RIGHT,s=window.KeyboardEvent.DOM_KEY_LOCATION_NUMPAD;function l(_,P){return String(_).indexOf(P)!==-1}var u=function(){return l(navigator.platform,"Win")?"win":l(navigator.platform,"Mac")?"mac":l(navigator.platform,"CrOS")?"cros":l(navigator.platform,"Linux")?"linux":l(navigator.userAgent,"iPad")||l(navigator.platform,"iPod")||l(navigator.platform,"iPhone")?"ios":""}(),c=function(){return l(navigator.userAgent,"Chrome/")?"chrome":l(navigator.vendor,"Apple")?"safari":l(navigator.userAgent,"MSIE")?"ie":l(navigator.userAgent,"Gecko/")?"moz":l(navigator.userAgent,"Opera/")?"opera":""}(),d=c+"-"+u;function h(_,P,R){(d===P||c===P||u===P)&&Object.keys(R).forEach(function(L){_[L]=R[L]})}function p(_,P){var R={};return Object.keys(_).forEach(function(L){var T=_[L];P in T&&(R[T[P]]=T)}),R}var m={3:{code:"Cancel"},6:{code:"Help"},8:{code:"Backspace"},9:{code:"Tab"},12:{code:"Clear"},13:{code:"Enter"},16:{code:"Shift"},17:{code:"Control"},18:{code:"Alt"},19:{code:"Pause"},20:{code:"CapsLock"},21:{code:"KanaMode"},22:{code:"HangulMode"},23:{code:"JunjaMode"},24:{code:"FinalMode"},25:{code:"KanjiMode"},27:{code:"Escape"},28:{code:"Convert"},29:{code:"NonConvert"},30:{code:"Accept"},31:{code:"ModeChange"},32:{code:"Space"},33:{code:"PageUp"},34:{code:"PageDown"},35:{code:"End"},36:{code:"Home"},37:{code:"ArrowLeft"},38:{code:"ArrowUp"},39:{code:"ArrowRight"},40:{code:"ArrowDown"},41:{code:"Select"},42:{code:"Print"},43:{code:"Execute"},44:{code:"PrintScreen"},45:{code:"Insert"},46:{code:"Delete"},47:{code:"Help"},48:{code:"Digit0",keyCap:"0"},49:{code:"Digit1",keyCap:"1"},50:{code:"Digit2",keyCap:"2"},51:{code:"Digit3",keyCap:"3"},52:{code:"Digit4",keyCap:"4"},53:{code:"Digit5",keyCap:"5"},54:{code:"Digit6",keyCap:"6"},55:{code:"Digit7",keyCap:"7"},56:{code:"Digit8",keyCap:"8"},57:{code:"Digit9",keyCap:"9"},65:{code:"KeyA",keyCap:"a"},66:{code:"KeyB",keyCap:"b"},67:{code:"KeyC",keyCap:"c"},68:{code:"KeyD",keyCap:"d"},69:{code:"KeyE",keyCap:"e"},70:{code:"KeyF",keyCap:"f"},71:{code:"KeyG",keyCap:"g"},72:{code:"KeyH",keyCap:"h"},73:{code:"KeyI",keyCap:"i"},74:{code:"KeyJ",keyCap:"j"},75:{code:"KeyK",keyCap:"k"},76:{code:"KeyL",keyCap:"l"},77:{code:"KeyM",keyCap:"m"},78:{code:"KeyN",keyCap:"n"},79:{code:"KeyO",keyCap:"o"},80:{code:"KeyP",keyCap:"p"},81:{code:"KeyQ",keyCap:"q"},82:{code:"KeyR",keyCap:"r"},83:{code:"KeyS",keyCap:"s"},84:{code:"KeyT",keyCap:"t"},85:{code:"KeyU",keyCap:"u"},86:{code:"KeyV",keyCap:"v"},87:{code:"KeyW",keyCap:"w"},88:{code:"KeyX",keyCap:"x"},89:{code:"KeyY",keyCap:"y"},90:{code:"KeyZ",keyCap:"z"},91:{code:"OSLeft",location:i},92:{code:"OSRight",location:o},93:{code:"ContextMenu"},95:{code:"Standby"},96:{code:"Numpad0",keyCap:"0",location:s},97:{code:"Numpad1",keyCap:"1",location:s},98:{code:"Numpad2",keyCap:"2",location:s},99:{code:"Numpad3",keyCap:"3",location:s},100:{code:"Numpad4",keyCap:"4",location:s},101:{code:"Numpad5",keyCap:"5",location:s},102:{code:"Numpad6",keyCap:"6",location:s},103:{code:"Numpad7",keyCap:"7",location:s},104:{code:"Numpad8",keyCap:"8",location:s},105:{code:"Numpad9",keyCap:"9",location:s},106:{code:"NumpadMultiply",keyCap:"*",location:s},107:{code:"NumpadAdd",keyCap:"+",location:s},108:{code:"NumpadComma",keyCap:",",location:s},109:{code:"NumpadSubtract",keyCap:"-",location:s},110:{code:"NumpadDecimal",keyCap:".",location:s},111:{code:"NumpadDivide",keyCap:"/",location:s},112:{code:"F1"},113:{code:"F2"},114:{code:"F3"},115:{code:"F4"},116:{code:"F5"},117:{code:"F6"},118:{code:"F7"},119:{code:"F8"},120:{code:"F9"},121:{code:"F10"},122:{code:"F11"},123:{code:"F12"},124:{code:"F13"},125:{code:"F14"},126:{code:"F15"},127:{code:"F16"},128:{code:"F17"},129:{code:"F18"},130:{code:"F19"},131:{code:"F20"},132:{code:"F21"},133:{code:"F22"},134:{code:"F23"},135:{code:"F24"},144:{code:"NumLock",location:s},145:{code:"ScrollLock"},160:{code:"ShiftLeft",location:i},161:{code:"ShiftRight",location:o},162:{code:"ControlLeft",location:i},163:{code:"ControlRight",location:o},164:{code:"AltLeft",location:i},165:{code:"AltRight",location:o},166:{code:"BrowserBack"},167:{code:"BrowserForward"},168:{code:"BrowserRefresh"},169:{code:"BrowserStop"},170:{code:"BrowserSearch"},171:{code:"BrowserFavorites"},172:{code:"BrowserHome"},173:{code:"VolumeMute"},174:{code:"VolumeDown"},175:{code:"VolumeUp"},176:{code:"MediaTrackNext"},177:{code:"MediaTrackPrevious"},178:{code:"MediaStop"},179:{code:"MediaPlayPause"},180:{code:"LaunchMail"},181:{code:"MediaSelect"},182:{code:"LaunchApp1"},183:{code:"LaunchApp2"},186:{code:"Semicolon",keyCap:";"},187:{code:"Equal",keyCap:"="},188:{code:"Comma",keyCap:","},189:{code:"Minus",keyCap:"-"},190:{code:"Period",keyCap:"."},191:{code:"Slash",keyCap:"/"},192:{code:"Backquote",keyCap:"`"},219:{code:"BracketLeft",keyCap:"["},220:{code:"Backslash",keyCap:"\\"},221:{code:"BracketRight",keyCap:"]"},222:{code:"Quote",keyCap:"'"},226:{code:"IntlBackslash",keyCap:"\\"},229:{code:"Process"},246:{code:"Attn"},247:{code:"CrSel"},248:{code:"ExSel"},249:{code:"EraseEof"},250:{code:"Play"},251:{code:"ZoomToggle"},254:{code:"Clear"}};h(m,"moz",{59:{code:"Semicolon",keyCap:";"},61:{code:"Equal",keyCap:"="},107:{code:"Equal",keyCap:"="},109:{code:"Minus",keyCap:"-"},187:{code:"NumpadAdd",keyCap:"+",location:s},189:{code:"NumpadSubtract",keyCap:"-",location:s}}),h(m,"moz-mac",{12:{code:"NumLock",location:s},173:{code:"Minus",keyCap:"-"}}),h(m,"moz-win",{173:{code:"Minus",keyCap:"-"}}),h(m,"chrome-mac",{93:{code:"OSRight",location:o}}),h(m,"safari",{3:{code:"Enter"},25:{code:"Tab"}}),h(m,"ios",{10:{code:"Enter",location:r}}),h(m,"safari-mac",{91:{code:"OSLeft",location:i},93:{code:"OSRight",location:o},229:{code:"KeyQ",keyCap:"Q"}});var v={};u==="cros"&&(v["U+00A0"]={code:"ShiftLeft",location:i},v["U+00A1"]={code:"ShiftRight",location:o},v["U+00A2"]={code:"ControlLeft",location:i},v["U+00A3"]={code:"ControlRight",location:o},v["U+00A4"]={code:"AltLeft",location:i},v["U+00A5"]={code:"AltRight",location:o}),d==="chrome-mac"&&(v["U+0010"]={code:"ContextMenu"}),d==="safari-mac"&&(v["U+0010"]={code:"ContextMenu"}),u==="ios"&&(v["U+0010"]={code:"Function"},v["U+001C"]={code:"ArrowLeft"},v["U+001D"]={code:"ArrowRight"},v["U+001E"]={code:"ArrowUp"},v["U+001F"]={code:"ArrowDown"},v["U+0001"]={code:"Home"},v["U+0004"]={code:"End"},v["U+000B"]={code:"PageUp"},v["U+000C"]={code:"PageDown"});var y=[];y[i]={16:{code:"ShiftLeft",location:i},17:{code:"ControlLeft",location:i},18:{code:"AltLeft",location:i}},y[o]={16:{code:"ShiftRight",location:o},17:{code:"ControlRight",location:o},18:{code:"AltRight",location:o}},y[s]={13:{code:"NumpadEnter",location:s}},h(y[s],"moz",{109:{code:"NumpadSubtract",location:s},107:{code:"NumpadAdd",location:s}}),h(y[i],"moz-mac",{224:{code:"OSLeft",location:i}}),h(y[o],"moz-mac",{224:{code:"OSRight",location:o}}),h(y[o],"moz-win",{91:{code:"OSRight",location:o}}),h(y[o],"mac",{93:{code:"OSRight",location:o}}),h(y[s],"chrome-mac",{12:{code:"NumLock",location:s}}),h(y[s],"safari-mac",{12:{code:"NumLock",location:s},187:{code:"NumpadAdd",location:s},189:{code:"NumpadSubtract",location:s},190:{code:"NumpadDecimal",location:s},191:{code:"NumpadDivide",location:s}});var A={ShiftLeft:{key:"Shift"},ShiftRight:{key:"Shift"},ControlLeft:{key:"Control"},ControlRight:{key:"Control"},AltLeft:{key:"Alt"},AltRight:{key:"Alt"},OSLeft:{key:"OS"},OSRight:{key:"OS"},NumpadEnter:{key:"Enter"},Space:{key:" "},Digit0:{key:"0",shiftKey:")"},Digit1:{key:"1",shiftKey:"!"},Digit2:{key:"2",shiftKey:"@"},Digit3:{key:"3",shiftKey:"#"},Digit4:{key:"4",shiftKey:"$"},Digit5:{key:"5",shiftKey:"%"},Digit6:{key:"6",shiftKey:"^"},Digit7:{key:"7",shiftKey:"&"},Digit8:{key:"8",shiftKey:"*"},Digit9:{key:"9",shiftKey:"("},KeyA:{key:"a",shiftKey:"A"},KeyB:{key:"b",shiftKey:"B"},KeyC:{key:"c",shiftKey:"C"},KeyD:{key:"d",shiftKey:"D"},KeyE:{key:"e",shiftKey:"E"},KeyF:{key:"f",shiftKey:"F"},KeyG:{key:"g",shiftKey:"G"},KeyH:{key:"h",shiftKey:"H"},KeyI:{key:"i",shiftKey:"I"},KeyJ:{key:"j",shiftKey:"J"},KeyK:{key:"k",shiftKey:"K"},KeyL:{key:"l",shiftKey:"L"},KeyM:{key:"m",shiftKey:"M"},KeyN:{key:"n",shiftKey:"N"},KeyO:{key:"o",shiftKey:"O"},KeyP:{key:"p",shiftKey:"P"},KeyQ:{key:"q",shiftKey:"Q"},KeyR:{key:"r",shiftKey:"R"},KeyS:{key:"s",shiftKey:"S"},KeyT:{key:"t",shiftKey:"T"},KeyU:{key:"u",shiftKey:"U"},KeyV:{key:"v",shiftKey:"V"},KeyW:{key:"w",shiftKey:"W"},KeyX:{key:"x",shiftKey:"X"},KeyY:{key:"y",shiftKey:"Y"},KeyZ:{key:"z",shiftKey:"Z"},Numpad0:{key:"0"},Numpad1:{key:"1"},Numpad2:{key:"2"},Numpad3:{key:"3"},Numpad4:{key:"4"},Numpad5:{key:"5"},Numpad6:{key:"6"},Numpad7:{key:"7"},Numpad8:{key:"8"},Numpad9:{key:"9"},NumpadMultiply:{key:"*"},NumpadAdd:{key:"+"},NumpadComma:{key:","},NumpadSubtract:{key:"-"},NumpadDecimal:{key:"."},NumpadDivide:{key:"/"},Semicolon:{key:";",shiftKey:":"},Equal:{key:"=",shiftKey:"+"},Comma:{key:",",shiftKey:"<"},Minus:{key:"-",shiftKey:"_"},Period:{key:".",shiftKey:">"},Slash:{key:"/",shiftKey:"?"},Backquote:{key:"`",shiftKey:"~"},BracketLeft:{key:"[",shiftKey:"{"},Backslash:{key:"\\",shiftKey:"|"},BracketRight:{key:"]",shiftKey:"}"},Quote:{key:"'",shiftKey:'"'},IntlBackslash:{key:"\\",shiftKey:"|"}};h(A,"mac",{OSLeft:{key:"Meta"},OSRight:{key:"Meta"}});var b={Esc:"Escape",Nonconvert:"NonConvert",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Menu:"ContextMenu",MediaNextTrack:"MediaTrackNext",MediaPreviousTrack:"MediaTrackPrevious",SelectMedia:"MediaSelect",HalfWidth:"Hankaku",FullWidth:"Zenkaku",RomanCharacters:"Romaji",Crsel:"CrSel",Exsel:"ExSel",Zoom:"ZoomToggle"},g=p(m,"code");try{var w=e&&"location"in new KeyboardEvent("")}catch{}function E(_){var P="keyCode"in _?_.keyCode:"which"in _?_.which:0,R=function(){if(w||"keyLocation"in _){var T=w?_.location:_.keyLocation;if(T&&P in y[T])return y[T][P]}return"keyIdentifier"in _&&_.keyIdentifier in v?v[_.keyIdentifier]:P in m?m[P]:null}();if(!R)return null;var L=function(){var T=A[R.code];return T?_.shiftKey&&"shiftKey"in T?T.shiftKey:T.key:R.code}();return{code:R.code,key:L,location:R.location,keyCap:R.keyCap}}function C(_,P){if(_=String(_),!g.hasOwnProperty(_))return"Undefined";if(P&&String(P).toLowerCase()!=="en-us")throw Error("Unsupported locale");var R=g[_];return R.keyCap||R.code||"Undefined"}"KeyboardEvent"in n&&"defineProperty"in Object&&function(){function _(R,L,T){L in R||Object.defineProperty(R,L,T)}if(_(KeyboardEvent.prototype,"code",{get:function(){var R=E(this);return R?R.code:""}}),"key"in KeyboardEvent.prototype){var P=Object.getOwnPropertyDescriptor(KeyboardEvent.prototype,"key");Object.defineProperty(KeyboardEvent.prototype,"key",{get:function(){var R=P.get.call(this);return b.hasOwnProperty(R)?b[R]:R}})}_(KeyboardEvent.prototype,"key",{get:function(){var R=E(this);return R&&"key"in R?R.key:"Unidentified"}}),_(KeyboardEvent.prototype,"location",{get:function(){var R=E(this);return R&&"location"in R?R.location:r}}),_(KeyboardEvent.prototype,"locale",{get:function(){return""}})}(),"queryKeyCap"in n.KeyboardEvent||(n.KeyboardEvent.queryKeyCap=C),n.identifyKey=function(_){if(!("code"in _)){var P=E(_);_.code=P?P.code:"",_.key=P&&"key"in P?P.key:"Unidentified",_.location="location"in _?_.location:"keyLocation"in _?_.keyLocation:P&&"location"in P?P.location:r,_.locale=""}}})(window);const kRe="__keyboard-controls-proxy",FRe=window.KeyboardEvent;AFRAME.registerComponent("keyboard-controls",{schema:{enabled:{default:!0},debug:{default:!1}},init:function(){this.dVelocity=new THREE.Vector3,this.localKeys={},this.listeners={keydown:this.onKeyDown.bind(this),keyup:this.onKeyUp.bind(this),blur:this.onBlur.bind(this)},this.attachEventListeners()},isVelocityActive:function(){return this.data.enabled&&!!Object.keys(this.getKeys()).length},getVelocityDelta:function(){const n=this.data,e=this.getKeys();return this.dVelocity.set(0,0,0),n.enabled&&((e.KeyW||e.ArrowUp)&&(this.dVelocity.z-=1),(e.KeyA||e.ArrowLeft)&&(this.dVelocity.x-=1),(e.KeyS||e.ArrowDown)&&(this.dVelocity.z+=1),(e.KeyD||e.ArrowRight)&&(this.dVelocity.x+=1)),this.dVelocity.clone()},play:function(){this.attachEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){this.pause()},attachEventListeners:function(){window.addEventListener("keydown",this.listeners.keydown,!1),window.addEventListener("keyup",this.listeners.keyup,!1),window.addEventListener("blur",this.listeners.blur,!1)},removeEventListeners:function(){window.removeEventListener("keydown",this.listeners.keydown),window.removeEventListener("keyup",this.listeners.keyup),window.removeEventListener("blur",this.listeners.blur)},onKeyDown:function(n){AFRAME.utils.shouldCaptureKeyEvent(n)&&(this.localKeys[n.code]=!0,this.emit(n))},onKeyUp:function(n){AFRAME.utils.shouldCaptureKeyEvent(n)&&(delete this.localKeys[n.code],this.emit(n))},onBlur:function(){for(let n in this.localKeys)this.localKeys.hasOwnProperty(n)&&delete this.localKeys[n]},emit:function(n){kRe in n&&this.el.emit(n.type,n),this.el.emit(n.type+":"+n.code,new FRe(n.type,n)),this.data.debug&&console.log(n.type+":"+n.code)},isPressed:function(n){return n in this.getKeys()},getKeys:function(){return this.isProxied()?this.el.sceneEl.components["proxy-controls"].getKeyboard():this.localKeys},isProxied:function(){const n=this.el.sceneEl.components["proxy-controls"];return n&&n.isConnected()}});AFRAME.registerComponent("touch-controls",{schema:{enabled:{default:!0},reverseEnabled:{default:!0}},init:function(){this.dVelocity=new THREE.Vector3,this.bindMethods(),this.direction=0},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners(),this.dVelocity.set(0,0,0)},remove:function(){this.pause()},addEventListeners:function(){const n=this.el.sceneEl,e=n.canvas;if(!e){n.addEventListener("render-target-loaded",this.addEventListeners.bind(this));return}e.addEventListener("touchstart",this.onTouchStart),e.addEventListener("touchend",this.onTouchEnd)},removeEventListeners:function(){const n=this.el.sceneEl&&this.el.sceneEl.canvas;n&&(n.removeEventListener("touchstart",this.onTouchStart),n.removeEventListener("touchend",this.onTouchEnd))},isVelocityActive:function(){return this.data.enabled&&!!this.direction},getVelocityDelta:function(){return this.dVelocity.z=this.direction,this.dVelocity.clone()},bindMethods:function(){this.onTouchStart=this.onTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this)},onTouchStart:function(n){this.direction=-1,this.data.reverseEnabled&&n.touches.length===2&&(this.direction=1),n.preventDefault()},onTouchEnd:function(n){this.direction=0,n.preventDefault()}});const b8="-controls",URe=.2,zRe=1e-5;AFRAME.registerComponent("movement-controls",{dependencies:["rotation"],schema:{enabled:{default:!0},controls:{default:["gamepad","trackpad","keyboard","touch"]},speed:{default:.3,min:0},fly:{default:!1},constrainToNavMesh:{default:!1},camera:{default:"[movement-controls] [camera]",type:"selector"}},init:function(){const n=this.el;this.velocityCtrl=null,this.velocity=new THREE.Vector3,this.heading=new THREE.Quaternion,this.navGroup=null,this.navNode=null,n.sceneEl.hasLoaded?this.injectControls():n.sceneEl.addEventListener("loaded",this.injectControls.bind(this))},update:function(n){const e=this.el,r=this.data,i=e.sceneEl.systems.nav;e.sceneEl.hasLoaded&&this.injectControls(),i&&r.constrainToNavMesh!==n.constrainToNavMesh&&(r.constrainToNavMesh?i.addAgent(this):i.removeAgent(this))},injectControls:function(){const n=this.data;var e;for(let r=0;r<n.controls.length;r++)e=n.controls[r]+b8,this.el.components[e]||this.el.setAttribute(e,"")},updateNavLocation:function(){this.navGroup=null,this.navNode=null},tick:function(){const n=new THREE.Vector3,e=new THREE.Vector3,r=new THREE.Vector3;return function(i,o){if(!o)return;const s=this.el,l=this.data;if(!l.enabled)return;this.updateVelocityCtrl();const u=this.velocityCtrl,c=this.velocity;if(u)if(o/1e3>URe?c.set(0,0,0):this.updateVelocity(o),l.constrainToNavMesh&&u.isNavMeshConstrained!==!1){if(c.lengthSq()<zRe)return;n.copy(s.object3D.position),e.copy(c).multiplyScalar(o/1e3).add(n);const d=s.sceneEl.systems.nav;this.navGroup=this.navGroup===null?d.getGroup(n):this.navGroup,this.navNode=this.navNode||d.getNode(n,this.navGroup),this.navNode=d.clampStep(n,e,this.navGroup,this.navNode,r),s.object3D.position.copy(r)}else s.hasAttribute("velocity")?s.setAttribute("velocity",c):(s.object3D.position.x+=c.x*o/1e3,s.object3D.position.y+=c.y*o/1e3,s.object3D.position.z+=c.z*o/1e3)}}(),updateVelocityCtrl:function(){const n=this.data;if(n.enabled){for(let e=0,r=n.controls.length;e<r;e++){const i=this.el.components[n.controls[e]+b8];if(i&&i.isVelocityActive()){this.velocityCtrl=i;return}}this.velocityCtrl=null}},updateVelocity:function(){const n=new THREE.Vector2,e=new THREE.Quaternion;return function(r){let i;const o=this.el,s=this.velocityCtrl,l=this.velocity,u=this.data;if(s)if(s.getVelocityDelta)i=s.getVelocityDelta(r);else if(s.getVelocity){l.copy(s.getVelocity());return}else if(s.getPositionDelta){l.copy(s.getPositionDelta(r).multiplyScalar(1e3/r));return}else throw new Error("Incompatible movement controls: ",s);if(o.hasAttribute("velocity")&&!u.constrainToNavMesh&&l.copy(this.el.getAttribute("velocity")),i&&u.enabled){const c=u.camera;e.copy(c.object3D.quaternion),e.premultiply(o.object3D.quaternion),i.applyQuaternion(e);const d=i.length();u.fly?(l.copy(i),l.multiplyScalar(this.data.speed*16.66667)):(n.set(i.x,i.z),n.setLength(d*this.data.speed*16.66667),l.x=n.x,l.z=n.y)}}}()});AFRAME.registerComponent("trackpad-controls",{schema:{enabled:{default:!0},enableNegX:{default:!0},enablePosX:{default:!0},enableNegZ:{default:!0},enablePosZ:{default:!0},mode:{default:"touch",oneOf:["swipe","touch","press"]}},init:function(){this.dVelocity=new THREE.Vector3,this.zVel=0,this.xVel=0,this.bindMethods()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners(),this.dVelocity.set(0,0,0)},remove:function(){this.pause()},addEventListeners:function(){const n=this.data,e=this.el.sceneEl;switch(e.addEventListener("axismove",this.onAxisMove),n.mode){case"swipe":case"touch":e.addEventListener("trackpadtouchstart",this.onTouchStart),e.addEventListener("trackpadtouchend",this.onTouchEnd);break;case"press":e.addEventListener("trackpaddown",this.onTouchStart),e.addEventListener("trackpadup",this.onTouchEnd);break}},removeEventListeners:function(){const n=this.el.sceneEl;n.removeEventListener("axismove",this.onAxisMove),n.removeEventListener("trackpadtouchstart",this.onTouchStart),n.removeEventListener("trackpadtouchend",this.onTouchEnd),n.removeEventListener("trackpaddown",this.onTouchStart),n.removeEventListener("trackpadup",this.onTouchEnd)},isVelocityActive:function(){return this.data.enabled&&this.isMoving},getVelocityDelta:function(){return this.dVelocity.z=this.isMoving?-this.zVel:1,this.dVelocity.x=this.isMoving?this.xVel:1,this.dVelocity.clone()},bindMethods:function(){this.onTouchStart=this.onTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.onAxisMove=this.onAxisMove.bind(this)},onTouchStart:function(n){switch(this.data.mode){case"swipe":this.canRecordAxis=!0,this.startingAxisData=[];break;case"touch":this.isMoving=!0;break;case"press":this.isMoving=!0;break}n.preventDefault()},onTouchEnd:function(n){this.data.mode=="swipe"&&(this.startingAxisData=[]),this.isMoving=!1,n.preventDefault()},onAxisMove:function(n){switch(this.data.mode){case"swipe":return this.handleSwipeAxis(n);case"touch":case"press":return this.handleTouchAxis(n)}},handleSwipeAxis:function(n){const e=this.data,r=n.detail.axis;if(this.startingAxisData.length===0&&this.canRecordAxis&&(this.canRecordAxis=!1,this.startingAxisData[0]=r[0],this.startingAxisData[1]=r[1]),this.startingAxisData.length>0){let i=0,o=0;e.enableNegX&&r[0]<this.startingAxisData[0]&&(i=-1),e.enablePosX&&r[0]>this.startingAxisData[0]&&(i=1),e.enablePosZ&&r[1]>this.startingAxisData[1]&&(o=-1),e.enableNegZ&&r[1]<this.startingAxisData[1]&&(o=1);const s=Math.abs(this.startingAxisData[1]-r[1]);Math.abs(this.startingAxisData[0]-r[0])>s?(this.zVel=0,this.xVel=i,this.isMoving=!0):(this.xVel=0,this.zVel=o,this.isMoving=!0)}},handleTouchAxis:function(n){const e=this.data,r=n.detail.axis;let i=0,o=0;e.enableNegX&&r[0]<0&&(i=-1),e.enablePosX&&r[0]>0&&(i=1),e.enablePosZ&&r[1]>0&&(o=-1),e.enableNegZ&&r[1]<0&&(o=1),Math.abs(r[0])>Math.abs(r[1])?(this.zVel=0,this.xVel=i):(this.xVel=0,this.zVel=o)}});const rM={once:THREE.LoopOnce,repeat:THREE.LoopRepeat,pingpong:THREE.LoopPingPong};AFRAME.registerComponent("animation-mixer",{schema:{clip:{default:"*"},duration:{default:0},clampWhenFinished:{default:!1,type:"boolean"},crossFadeDuration:{default:0},loop:{default:"repeat",oneOf:Object.keys(rM)},repetitions:{default:1/0,min:0},timeScale:{default:1}},init:function(){this.model=null,this.mixer=null,this.activeActions=[];const n=this.el.getObject3D("mesh");n?this.load(n):this.el.addEventListener("model-loaded",e=>{this.load(e.detail.model)})},load:function(n){const e=this.el;this.model=n,this.mixer=new THREE.AnimationMixer(n),this.mixer.addEventListener("loop",r=>{e.emit("animation-loop",{action:r.action,loopDelta:r.loopDelta})}),this.mixer.addEventListener("finished",r=>{e.emit("animation-finished",{action:r.action,direction:r.direction})}),this.data.clip&&this.update({})},remove:function(){this.mixer&&this.mixer.stopAllAction()},update:function(n){if(!n)return;const e=this.data,r=AFRAME.utils.diff(e,n);if("clip"in r){this.stopAction(),e.clip&&this.playAction();return}this.activeActions.forEach(i=>{"duration"in r&&e.duration&&i.setDuration(e.duration),"clampWhenFinished"in r&&(i.clampWhenFinished=e.clampWhenFinished),("loop"in r||"repetitions"in r)&&i.setLoop(rM[e.loop],e.repetitions),"timeScale"in r&&i.setEffectiveTimeScale(e.timeScale)})},stopAction:function(){const n=this.data;for(let e=0;e<this.activeActions.length;e++)n.crossFadeDuration?this.activeActions[e].fadeOut(n.crossFadeDuration):this.activeActions[e].stop();this.activeActions.length=0},playAction:function(){if(!this.mixer)return;const n=this.model,e=this.data,r=n.animations||(n.geometry||{}).animations||[];if(!r.length)return;const i=$Re(e.clip);for(let o,s=0;o=r[s];s++)if(o.name.match(i)){const l=this.mixer.clipAction(o,n);l.enabled=!0,l.clampWhenFinished=e.clampWhenFinished,e.duration&&l.setDuration(e.duration),e.timeScale!==1&&l.setEffectiveTimeScale(e.timeScale),l.setLoop(rM[e.loop],e.repetitions).fadeIn(e.crossFadeDuration).play(),this.activeActions.push(l)}},tick:function(n,e){this.mixer&&!isNaN(e)&&this.mixer.update(e/1e3)}});function $Re(n){return new RegExp("^"+n.split(/\*+/).map(HRe).join(".*")+"$")}function HRe(n){return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}var jRe=THREE.ColladaLoader=function(n){this.manager=n!==void 0?n:THREE.DefaultLoadingManager};THREE.ColladaLoader.prototype={constructor:THREE.ColladaLoader,crossOrigin:"anonymous",load:function(n,e,r,i){var o=this,s=o.path===void 0?THREE.LoaderUtils.extractUrlBase(n):o.path,l=new THREE.FileLoader(o.manager);l.setPath(o.path),l.load(n,function(u){e(o.parse(u,s))},r,i)},setPath:function(n){return this.path=n,this},setResourcePath:function(n){return this.resourcePath=n,this},options:{set convertUpAxis(n){console.warn("THREE.ColladaLoader: options.convertUpAxis() has been removed. Up axis is converted automatically.")}},setCrossOrigin:function(n){return this.crossOrigin=n,this},parse:function(n,e){function r(me,be){for(var Ee=[],Te=me.childNodes,Le=0,yt=Te.length;Le<yt;Le++){var Ft=Te[Le];Ft.nodeName===be&&Ee.push(Ft)}return Ee}function i(me){if(me.length===0)return[];for(var be=me.trim().split(/\s+/),Ee=new Array(be.length),Te=0,Le=be.length;Te<Le;Te++)Ee[Te]=be[Te];return Ee}function o(me){if(me.length===0)return[];for(var be=me.trim().split(/\s+/),Ee=new Array(be.length),Te=0,Le=be.length;Te<Le;Te++)Ee[Te]=parseFloat(be[Te]);return Ee}function s(me){if(me.length===0)return[];for(var be=me.trim().split(/\s+/),Ee=new Array(be.length),Te=0,Le=be.length;Te<Le;Te++)Ee[Te]=parseInt(be[Te]);return Ee}function l(me){return me.substring(1)}function u(){return"three_default_"+Je++}function c(me){return Object.keys(me).length===0}function d(me){return{unit:h(r(me,"unit")[0]),upAxis:p(r(me,"up_axis")[0])}}function h(me){return me!==void 0&&me.hasAttribute("meter")===!0?parseFloat(me.getAttribute("meter")):1}function p(me){return me!==void 0?me.textContent:"Y_UP"}function m(me,be,Ee,Te){var Le=r(me,be)[0];if(Le!==void 0)for(var yt=r(Le,Ee),Ft=0;Ft<yt.length;Ft++)Te(yt[Ft])}function v(me,be){for(var Ee in me){var Te=me[Ee];Te.build=be(me[Ee])}}function y(me,be){return me.build!==void 0||(me.build=be(me)),me.build}function A(me){for(var be={sources:{},samplers:{},channels:{}},Ee=0,Te=me.childNodes.length;Ee<Te;Ee++){var Le=me.childNodes[Ee];if(Le.nodeType===1){var yt;switch(Le.nodeName){case"source":yt=Le.getAttribute("id"),be.sources[yt]=We(Le);break;case"sampler":yt=Le.getAttribute("id"),be.samplers[yt]=b(Le);break;case"channel":yt=Le.getAttribute("target"),be.channels[yt]=g(Le);break;default:console.log(Le)}}}at.animations[me.getAttribute("id")]=be}function b(me){for(var be={inputs:{}},Ee=0,Te=me.childNodes.length;Ee<Te;Ee++){var Le=me.childNodes[Ee];if(Le.nodeType===1)switch(Le.nodeName){case"input":var yt=l(Le.getAttribute("source")),Ft=Le.getAttribute("semantic");be.inputs[Ft]=yt;break}}return be}function g(me){var be={},Ee=me.getAttribute("target"),Te=Ee.split("/"),Le=Te.shift(),yt=Te.shift(),Ft=yt.indexOf("(")!==-1,en=yt.indexOf(".")!==-1;if(en)Te=yt.split("."),yt=Te.shift(),be.member=Te.shift();else if(Ft){var dn=yt.split("(");yt=dn.shift();for(var Bn=0;Bn<dn.length;Bn++)dn[Bn]=parseInt(dn[Bn].replace(/\)/,""));be.indices=dn}return be.id=Le,be.sid=yt,be.arraySyntax=Ft,be.memberSyntax=en,be.sampler=l(me.getAttribute("source")),be}function w(me){var be=[],Ee=me.channels,Te=me.samplers,Le=me.sources;for(var yt in Ee)if(Ee.hasOwnProperty(yt)){var Ft=Ee[yt],en=Te[Ft.sampler],dn=en.inputs.INPUT,Bn=en.inputs.OUTPUT,ln=Le[dn],Wn=Le[Bn],mr=C(Ft,ln,Wn);T(mr,be)}return be}function E(me){return y(at.animations[me],w)}function C(me,be,Ee){var Te=at.nodes[me.id],Le=er(Te.id),yt=Te.transforms[me.sid],Ft=Te.matrix.clone().transpose(),en,dn,Bn,ln,Wn,mr,Hn={};switch(yt){case"matrix":for(Bn=0,ln=be.array.length;Bn<ln;Bn++)if(en=be.array[Bn],dn=Bn*Ee.stride,Hn[en]===void 0&&(Hn[en]={}),me.arraySyntax===!0){var fn=Ee.array[dn],xn=me.indices[0]+4*me.indices[1];Hn[en][xn]=fn}else for(Wn=0,mr=Ee.stride;Wn<mr;Wn++)Hn[en][Wn]=Ee.array[dn+Wn];break;case"translate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',yt);break;case"rotate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',yt);break;case"scale":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',yt);break}var Yn=_(Hn,Ft),cr={name:Le.uuid,keyframes:Yn};return cr}function _(me,be){var Ee=[];for(var Te in me)Ee.push({time:parseFloat(Te),value:me[Te]});Ee.sort(yt);for(var Le=0;Le<16;Le++)D(Ee,Le,be.elements[Le]);return Ee;function yt(Ft,en){return Ft.time-en.time}}var P=new THREE.Vector3,R=new THREE.Vector3,L=new THREE.Quaternion;function T(me,be){for(var Ee=me.keyframes,Te=me.name,Le=[],yt=[],Ft=[],en=[],dn=0,Bn=Ee.length;dn<Bn;dn++){var ln=Ee[dn],Wn=ln.time,mr=ln.value;De.fromArray(mr).transpose(),De.decompose(P,L,R),Le.push(Wn),yt.push(P.x,P.y,P.z),Ft.push(L.x,L.y,L.z,L.w),en.push(R.x,R.y,R.z)}return yt.length>0&&be.push(new THREE.VectorKeyframeTrack(Te+".position",Le,yt)),Ft.length>0&&be.push(new THREE.QuaternionKeyframeTrack(Te+".quaternion",Le,Ft)),en.length>0&&be.push(new THREE.VectorKeyframeTrack(Te+".scale",Le,en)),be}function D(me,be,Ee){var Te,Le=!0,yt,Ft;for(yt=0,Ft=me.length;yt<Ft;yt++)Te=me[yt],Te.value[be]===void 0?Te.value[be]=null:Le=!1;if(Le===!0)for(yt=0,Ft=me.length;yt<Ft;yt++)Te=me[yt],Te.value[be]=Ee;else H(me,be)}function H(me,be){for(var Ee,Te,Le=0,yt=me.length;Le<yt;Le++){var Ft=me[Le];if(Ft.value[be]===null){if(Ee=V(me,Le,be),Te=B(me,Le,be),Ee===null){Ft.value[be]=Te.value[be];continue}if(Te===null){Ft.value[be]=Ee.value[be];continue}O(Ft,Ee,Te,be)}}}function V(me,be,Ee){for(;be>=0;){var Te=me[be];if(Te.value[Ee]!==null)return Te;be--}return null}function B(me,be,Ee){for(;be<me.length;){var Te=me[be];if(Te.value[Ee]!==null)return Te;be++}return null}function O(me,be,Ee,Te){if(Ee.time-be.time===0){me.value[Te]=be.value[Te];return}me.value[Te]=(me.time-be.time)*(Ee.value[Te]-be.value[Te])/(Ee.time-be.time)+be.value[Te]}function F(me){for(var be={name:me.getAttribute("id")||"default",start:parseFloat(me.getAttribute("start")||0),end:parseFloat(me.getAttribute("end")||0),animations:[]},Ee=0,Te=me.childNodes.length;Ee<Te;Ee++){var Le=me.childNodes[Ee];if(Le.nodeType===1)switch(Le.nodeName){case"instance_animation":be.animations.push(l(Le.getAttribute("url")));break}}at.clips[me.getAttribute("id")]=be}function N(me){for(var be=[],Ee=me.name,Te=me.end-me.start||-1,Le=me.animations,yt=0,Ft=Le.length;yt<Ft;yt++)for(var en=E(Le[yt]),dn=0,Bn=en.length;dn<Bn;dn++)be.push(en[dn]);return new THREE.AnimationClip(Ee,Te,be)}function z(me){return y(at.clips[me],N)}function j(me){for(var be={},Ee=0,Te=me.childNodes.length;Ee<Te;Ee++){var Le=me.childNodes[Ee];if(Le.nodeType===1)switch(Le.nodeName){case"skin":be.id=l(Le.getAttribute("source")),be.skin=G(Le);break;case"morph":be.id=l(Le.getAttribute("source")),console.warn("THREE.ColladaLoader: Morph target animation not supported yet.");break}}at.controllers[me.getAttribute("id")]=be}function G(me){for(var be={sources:{}},Ee=0,Te=me.childNodes.length;Ee<Te;Ee++){var Le=me.childNodes[Ee];if(Le.nodeType===1)switch(Le.nodeName){case"bind_shape_matrix":be.bindShapeMatrix=o(Le.textContent);break;case"source":var yt=Le.getAttribute("id");be.sources[yt]=We(Le);break;case"joints":be.joints=Q(Le);break;case"vertex_weights":be.vertexWeights=X(Le);break}}return be}function Q(me){for(var be={inputs:{}},Ee=0,Te=me.childNodes.length;Ee<Te;Ee++){var Le=me.childNodes[Ee];if(Le.nodeType===1)switch(Le.nodeName){case"input":var yt=Le.getAttribute("semantic"),Ft=l(Le.getAttribute("source"));be.inputs[yt]=Ft;break}}return be}function X(me){for(var be={inputs:{}},Ee=0,Te=me.childNodes.length;Ee<Te;Ee++){var Le=me.childNodes[Ee];if(Le.nodeType===1)switch(Le.nodeName){case"input":var yt=Le.getAttribute("semantic"),Ft=l(Le.getAttribute("source")),en=parseInt(Le.getAttribute("offset"));be.inputs[yt]={id:Ft,offset:en};break;case"vcount":be.vcount=s(Le.textContent);break;case"v":be.v=s(Le.textContent);break}}return be}function J(me){var be={id:me.id},Ee=at.geometries[be.id];return me.skin!==void 0&&(be.skin=Z(me.skin),Ee.sources.skinIndices=be.skin.indices,Ee.sources.skinWeights=be.skin.weights),be}function Z(me){var be=4,Ee={joints:[],indices:{array:[],stride:be},weights:{array:[],stride:be}},Te=me.sources,Le=me.vertexWeights,yt=Le.vcount,Ft=Le.v,en=Le.inputs.JOINT.offset,dn=Le.inputs.WEIGHT.offset,Bn=me.sources[me.joints.inputs.JOINT],ln=me.sources[me.joints.inputs.INV_BIND_MATRIX],Wn=Te[Le.inputs.WEIGHT.id].array,mr=0,Hn,fn,xn;for(Hn=0,xn=yt.length;Hn<xn;Hn++){var Yn=yt[Hn],cr=[];for(fn=0;fn<Yn;fn++){var gr=Ft[mr+en],Or=Ft[mr+dn],ni=Wn[Or];cr.push({index:gr,weight:ni}),mr+=2}for(cr.sort(ps),fn=0;fn<be;fn++){var Kr=cr[fn];Kr!==void 0?(Ee.indices.array.push(Kr.index),Ee.weights.array.push(Kr.weight)):(Ee.indices.array.push(0),Ee.weights.array.push(0))}}for(me.bindShapeMatrix?Ee.bindMatrix=new THREE.Matrix4().fromArray(me.bindShapeMatrix).transpose():Ee.bindMatrix=new THREE.Matrix4().identity(),Hn=0,xn=Bn.array.length;Hn<xn;Hn++){var Ii=Bn.array[Hn],jr=new THREE.Matrix4().fromArray(ln.array,Hn*ln.stride).transpose();Ee.joints.push({name:Ii,boneInverse:jr})}return Ee;function ps(ts,hl){return hl.weight-ts.weight}}function oe(me){return y(at.controllers[me],J)}function ce(me){var be={init_from:r(me,"init_from")[0].textContent};at.images[me.getAttribute("id")]=be}function Be(me){return me.build!==void 0?me.build:me.init_from}function ge(me){var be=at.images[me];return be!==void 0?y(be,Be):(console.warn("THREE.ColladaLoader: Couldn't find image with ID:",me),null)}function Re(me){for(var be={},Ee=0,Te=me.childNodes.length;Ee<Te;Ee++){var Le=me.childNodes[Ee];if(Le.nodeType===1)switch(Le.nodeName){case"profile_COMMON":be.profile=$e(Le);break}}at.effects[me.getAttribute("id")]=be}function $e(me){for(var be={surfaces:{},samplers:{}},Ee=0,Te=me.childNodes.length;Ee<Te;Ee++){var Le=me.childNodes[Ee];if(Le.nodeType===1)switch(Le.nodeName){case"newparam":qe(Le,be);break;case"technique":be.technique=st(Le);break;case"extra":be.extra=Ct(Le);break}}return be}function qe(me,be){for(var Ee=me.getAttribute("sid"),Te=0,Le=me.childNodes.length;Te<Le;Te++){var yt=me.childNodes[Te];if(yt.nodeType===1)switch(yt.nodeName){case"surface":be.surfaces[Ee]=Ke(yt);break;case"sampler2D":be.samplers[Ee]=ke(yt);break}}}function Ke(me){for(var be={},Ee=0,Te=me.childNodes.length;Ee<Te;Ee++){var Le=me.childNodes[Ee];if(Le.nodeType===1)switch(Le.nodeName){case"init_from":be.init_from=Le.textContent;break}}return be}function ke(me){for(var be={},Ee=0,Te=me.childNodes.length;Ee<Te;Ee++){var Le=me.childNodes[Ee];if(Le.nodeType===1)switch(Le.nodeName){case"source":be.source=Le.textContent;break}}return be}function st(me){for(var be={},Ee=0,Te=me.childNodes.length;Ee<Te;Ee++){var Le=me.childNodes[Ee];if(Le.nodeType===1)switch(Le.nodeName){case"constant":case"lambert":case"blinn":case"phong":be.type=Le.nodeName,be.parameters=ot(Le);break}}return be}function ot(me){for(var be={},Ee=0,Te=me.childNodes.length;Ee<Te;Ee++){var Le=me.childNodes[Ee];if(Le.nodeType===1)switch(Le.nodeName){case"emission":case"diffuse":case"specular":case"bump":case"ambient":case"shininess":case"transparency":be[Le.nodeName]=it(Le);break;case"transparent":be[Le.nodeName]={opaque:Le.getAttribute("opaque"),data:it(Le)};break}}return be}function it(me){for(var be={},Ee=0,Te=me.childNodes.length;Ee<Te;Ee++){var Le=me.childNodes[Ee];if(Le.nodeType===1)switch(Le.nodeName){case"color":be[Le.nodeName]=o(Le.textContent);break;case"float":be[Le.nodeName]=parseFloat(Le.textContent);break;case"texture":be[Le.nodeName]={id:Le.getAttribute("texture"),extra:ft(Le)};break}}return be}function ft(me){for(var be={technique:{}},Ee=0,Te=me.childNodes.length;Ee<Te;Ee++){var Le=me.childNodes[Ee];if(Le.nodeType===1)switch(Le.nodeName){case"extra":Et(Le,be);break}}return be}function Et(me,be){for(var Ee=0,Te=me.childNodes.length;Ee<Te;Ee++){var Le=me.childNodes[Ee];if(Le.nodeType===1)switch(Le.nodeName){case"technique":gt(Le,be);break}}}function gt(me,be){for(var Ee=0,Te=me.childNodes.length;Ee<Te;Ee++){var Le=me.childNodes[Ee];if(Le.nodeType===1)switch(Le.nodeName){case"repeatU":case"repeatV":case"offsetU":case"offsetV":be.technique[Le.nodeName]=parseFloat(Le.textContent);break;case"wrapU":case"wrapV":Le.textContent.toUpperCase()==="TRUE"?be.technique[Le.nodeName]=1:Le.textContent.toUpperCase()==="FALSE"?be.technique[Le.nodeName]=0:be.technique[Le.nodeName]=parseInt(Le.textContent);break}}}function Ct(me){for(var be={},Ee=0,Te=me.childNodes.length;Ee<Te;Ee++){var Le=me.childNodes[Ee];if(Le.nodeType===1)switch(Le.nodeName){case"technique":be.technique=Tt(Le);break}}return be}function Tt(me){for(var be={},Ee=0,Te=me.childNodes.length;Ee<Te;Ee++){var Le=me.childNodes[Ee];if(Le.nodeType===1)switch(Le.nodeName){case"double_sided":be[Le.nodeName]=parseInt(Le.textContent);break}}return be}function Dt(me){return me}function Yt(me){return y(at.effects[me],Dt)}function Ve(me){for(var be={name:me.getAttribute("name")},Ee=0,Te=me.childNodes.length;Ee<Te;Ee++){var Le=me.childNodes[Ee];if(Le.nodeType===1)switch(Le.nodeName){case"instance_effect":be.url=l(Le.getAttribute("url"));break}}at.materials[me.getAttribute("id")]=be}function ye(me){var be,Ee=me.slice((me.lastIndexOf(".")-1>>>0)+2);switch(Ee=Ee.toLowerCase(),Ee){case"tga":be=se;break;default:be=re}return be}function fe(me){var be=Yt(me.url),Ee=be.profile.technique,Te=be.profile.extra,Le;switch(Ee.type){case"phong":case"blinn":Le=new THREE.MeshPhongMaterial;break;case"lambert":Le=new THREE.MeshLambertMaterial;break;default:Le=new THREE.MeshBasicMaterial;break}Le.name=me.name;function yt(mr){var Hn=be.profile.samplers[mr.id],fn=null;if(Hn!==void 0){var xn=be.profile.surfaces[Hn.source];fn=ge(xn.init_from)}else console.warn("THREE.ColladaLoader: Undefined sampler. Access image directly (see #12530)."),fn=ge(mr.id);if(fn!==null){var Yn=ye(fn);if(Yn!==void 0){var cr=Yn.load(fn),gr=mr.extra;if(gr!==void 0&&gr.technique!==void 0&&c(gr.technique)===!1){var Or=gr.technique;cr.wrapS=Or.wrapU?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,cr.wrapT=Or.wrapV?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,cr.offset.set(Or.offsetU||0,Or.offsetV||0),cr.repeat.set(Or.repeatU||1,Or.repeatV||1)}else cr.wrapS=THREE.RepeatWrapping,cr.wrapT=THREE.RepeatWrapping;return cr}else return console.warn("THREE.ColladaLoader: Loader for texture %s not found.",fn),null}else return console.warn("THREE.ColladaLoader: Couldn't create texture with ID:",mr.id),null}var Ft=Ee.parameters;for(var en in Ft){var dn=Ft[en];switch(en){case"diffuse":dn.color&&Le.color.fromArray(dn.color),dn.texture&&(Le.map=yt(dn.texture));break;case"specular":dn.color&&Le.specular&&Le.specular.fromArray(dn.color),dn.texture&&(Le.specularMap=yt(dn.texture));break;case"bump":dn.texture&&(Le.normalMap=yt(dn.texture));break;case"ambient":dn.texture&&(Le.lightMap=yt(dn.texture));break;case"shininess":dn.float&&Le.shininess&&(Le.shininess=dn.float);break;case"emission":dn.color&&Le.emissive&&Le.emissive.fromArray(dn.color),dn.texture&&(Le.emissiveMap=yt(dn.texture));break}}var Bn=Ft.transparent,ln=Ft.transparency;if(ln===void 0&&Bn&&(ln={float:1}),Bn===void 0&&ln&&(Bn={opaque:"A_ONE",data:{color:[1,1,1,1]}}),Bn&&ln)if(Bn.data.texture)Le.transparent=!0;else{var Wn=Bn.data.color;switch(Bn.opaque){case"A_ONE":Le.opacity=Wn[3]*ln.float;break;case"RGB_ZERO":Le.opacity=1-Wn[0]*ln.float;break;case"A_ZERO":Le.opacity=1-Wn[3]*ln.float;break;case"RGB_ONE":Le.opacity=Wn[0]*ln.float;break;default:console.warn('THREE.ColladaLoader: Invalid opaque type "%s" of transparent tag.',Bn.opaque)}Le.opacity<1&&(Le.transparent=!0)}return Te!==void 0&&Te.technique!==void 0&&Te.technique.double_sided===1&&(Le.side=THREE.DoubleSide),Le}function pe(me){return y(at.materials[me],fe)}function _e(me){for(var be={name:me.getAttribute("name")},Ee=0,Te=me.childNodes.length;Ee<Te;Ee++){var Le=me.childNodes[Ee];if(Le.nodeType===1)switch(Le.nodeName){case"optics":be.optics=Ce(Le);break}}at.cameras[me.getAttribute("id")]=be}function Ce(me){for(var be=0;be<me.childNodes.length;be++){var Ee=me.childNodes[be];switch(Ee.nodeName){case"technique_common":return Se(Ee)}}return{}}function Se(me){for(var be={},Ee=0;Ee<me.childNodes.length;Ee++){var Te=me.childNodes[Ee];switch(Te.nodeName){case"perspective":case"orthographic":be.technique=Te.nodeName,be.parameters=we(Te);break}}return be}function we(me){for(var be={},Ee=0;Ee<me.childNodes.length;Ee++){var Te=me.childNodes[Ee];switch(Te.nodeName){case"xfov":case"yfov":case"xmag":case"ymag":case"znear":case"zfar":case"aspect_ratio":be[Te.nodeName]=parseFloat(Te.textContent);break}}return be}function je(me){var be;switch(me.optics.technique){case"perspective":be=new THREE.PerspectiveCamera(me.optics.parameters.yfov,me.optics.parameters.aspect_ratio,me.optics.parameters.znear,me.optics.parameters.zfar);break;case"orthographic":var Ee=me.optics.parameters.ymag,Te=me.optics.parameters.xmag,Le=me.optics.parameters.aspect_ratio;Te=Te===void 0?Ee*Le:Te,Ee=Ee===void 0?Te/Le:Ee,Te*=.5,Ee*=.5,be=new THREE.OrthographicCamera(-Te,Te,Ee,-Ee,me.optics.parameters.znear,me.optics.parameters.zfar);break;default:be=new THREE.PerspectiveCamera;break}return be.name=me.name,be}function Ae(me){var be=at.cameras[me];return be!==void 0?y(be,je):(console.warn("THREE.ColladaLoader: Couldn't find camera with ID:",me),null)}function Ue(me){for(var be={},Ee=0,Te=me.childNodes.length;Ee<Te;Ee++){var Le=me.childNodes[Ee];if(Le.nodeType===1)switch(Le.nodeName){case"technique_common":be=et(Le);break}}at.lights[me.getAttribute("id")]=be}function et(me){for(var be={},Ee=0,Te=me.childNodes.length;Ee<Te;Ee++){var Le=me.childNodes[Ee];if(Le.nodeType===1)switch(Le.nodeName){case"directional":case"point":case"spot":case"ambient":be.technique=Le.nodeName,be.parameters=ue(Le)}}return be}function ue(me){for(var be={},Ee=0,Te=me.childNodes.length;Ee<Te;Ee++){var Le=me.childNodes[Ee];if(Le.nodeType===1)switch(Le.nodeName){case"color":var yt=o(Le.textContent);be.color=new THREE.Color().fromArray(yt);break;case"falloff_angle":be.falloffAngle=parseFloat(Le.textContent);break;case"quadratic_attenuation":var Ft=parseFloat(Le.textContent);be.distance=Ft?Math.sqrt(1/Ft):0;break}}return be}function Y(me){var be;switch(me.technique){case"directional":be=new THREE.DirectionalLight;break;case"point":be=new THREE.PointLight;break;case"spot":be=new THREE.SpotLight;break;case"ambient":be=new THREE.AmbientLight;break}return me.parameters.color&&be.color.copy(me.parameters.color),me.parameters.distance&&(be.distance=me.parameters.distance),be}function ne(me){var be=at.lights[me];return be!==void 0?y(be,Y):(console.warn("THREE.ColladaLoader: Couldn't find light with ID:",me),null)}function Pe(me){var be={name:me.getAttribute("name"),sources:{},vertices:{},primitives:[]},Ee=r(me,"mesh")[0];if(Ee!==void 0){for(var Te=0;Te<Ee.childNodes.length;Te++){var Le=Ee.childNodes[Te];if(Le.nodeType===1){var yt=Le.getAttribute("id");switch(Le.nodeName){case"source":be.sources[yt]=We(Le);break;case"vertices":be.vertices=ve(Le);break;case"polygons":console.warn("THREE.ColladaLoader: Unsupported primitive type: ",Le.nodeName);break;case"lines":case"linestrips":case"polylist":case"triangles":be.primitives.push(he(Le));break;default:console.log(Le)}}}at.geometries[me.getAttribute("id")]=be}}function We(me){for(var be={array:[],stride:3},Ee=0;Ee<me.childNodes.length;Ee++){var Te=me.childNodes[Ee];if(Te.nodeType===1)switch(Te.nodeName){case"float_array":be.array=o(Te.textContent);break;case"Name_array":be.array=i(Te.textContent);break;case"technique_common":var Le=r(Te,"accessor")[0];Le!==void 0&&(be.stride=parseInt(Le.getAttribute("stride")));break}}return be}function ve(me){for(var be={},Ee=0;Ee<me.childNodes.length;Ee++){var Te=me.childNodes[Ee];Te.nodeType===1&&(be[Te.getAttribute("semantic")]=l(Te.getAttribute("source")))}return be}function he(me){for(var be={type:me.nodeName,material:me.getAttribute("material"),count:parseInt(me.getAttribute("count")),inputs:{},stride:0,hasUV:!1},Ee=0,Te=me.childNodes.length;Ee<Te;Ee++){var Le=me.childNodes[Ee];if(Le.nodeType===1)switch(Le.nodeName){case"input":var yt=l(Le.getAttribute("source")),Ft=Le.getAttribute("semantic"),en=parseInt(Le.getAttribute("offset")),dn=parseInt(Le.getAttribute("set")),Bn=dn>0?Ft+dn:Ft;be.inputs[Bn]={id:yt,offset:en},be.stride=Math.max(be.stride,en+1),Ft==="TEXCOORD"&&(be.hasUV=!0);break;case"vcount":be.vcount=s(Le.textContent);break;case"p":be.p=s(Le.textContent);break}}return be}function Ye(me){for(var be={},Ee=0;Ee<me.length;Ee++){var Te=me[Ee];be[Te.type]===void 0&&(be[Te.type]=[]),be[Te.type].push(Te)}return be}function Ze(me){for(var be=0,Ee=0,Te=me.length;Ee<Te;Ee++){var Le=me[Ee];Le.hasUV===!0&&be++}be>0&&be<me.length&&(me.uvsNeedsFix=!0)}function Qe(me){var be={},Ee=me.sources,Te=me.vertices,Le=me.primitives;if(Le.length===0)return{};var yt=Ye(Le);for(var Ft in yt){var en=yt[Ft];Ze(en),be[Ft]=nt(en,Ee,Te)}return be}function nt(me,be,Ee){for(var Te={},Le={array:[],stride:0},yt={array:[],stride:0},Ft={array:[],stride:0},en={array:[],stride:0},dn={array:[],stride:0},Bn={array:[],stride:4},ln={array:[],stride:4},Wn=new THREE.BufferGeometry,mr=[],Hn=0,fn=0;fn<me.length;fn++){var xn=me[fn],Yn=xn.inputs,cr=0;switch(xn.type){case"lines":case"linestrips":cr=xn.count*2;break;case"triangles":cr=xn.count*3;break;case"polylist":for(var gr=0;gr<xn.count;gr++){var Or=xn.vcount[gr];switch(Or){case 3:cr+=3;break;case 4:cr+=6;break;default:cr+=(Or-2)*3;break}}break;default:console.warn("THREE.ColladaLoader: Unknow primitive type:",xn.type)}Wn.addGroup(Hn,cr,fn),Hn+=cr,xn.material&&mr.push(xn.material);for(var ni in Yn){var Kr=Yn[ni];switch(ni){case"VERTEX":for(var Ii in Ee){var jr=Ee[Ii];switch(Ii){case"POSITION":var ps=Le.array.length;if(It(xn,be[jr],Kr.offset,Le.array),Le.stride=be[jr].stride,be.skinWeights&&be.skinIndices&&(It(xn,be.skinIndices,Kr.offset,Bn.array),It(xn,be.skinWeights,Kr.offset,ln.array)),xn.hasUV===!1&&me.uvsNeedsFix===!0)for(var cr=(Le.array.length-ps)/Le.stride,ts=0;ts<cr;ts++)Ft.array.push(0,0);break;case"NORMAL":It(xn,be[jr],Kr.offset,yt.array),yt.stride=be[jr].stride;break;case"COLOR":It(xn,be[jr],Kr.offset,dn.array),dn.stride=be[jr].stride;break;case"TEXCOORD":It(xn,be[jr],Kr.offset,Ft.array),Ft.stride=be[jr].stride;break;case"TEXCOORD1":It(xn,be[jr],Kr.offset,en.array),Ft.stride=be[jr].stride;break;default:console.warn('THREE.ColladaLoader: Semantic "%s" not handled in geometry build process.',Ii)}}break;case"NORMAL":It(xn,be[Kr.id],Kr.offset,yt.array),yt.stride=be[Kr.id].stride;break;case"COLOR":It(xn,be[Kr.id],Kr.offset,dn.array),dn.stride=be[Kr.id].stride;break;case"TEXCOORD":It(xn,be[Kr.id],Kr.offset,Ft.array),Ft.stride=be[Kr.id].stride;break;case"TEXCOORD1":It(xn,be[Kr.id],Kr.offset,en.array),en.stride=be[Kr.id].stride;break}}}return Le.array.length>0&&Wn.addAttribute("position",new THREE.Float32BufferAttribute(Le.array,Le.stride)),yt.array.length>0&&Wn.addAttribute("normal",new THREE.Float32BufferAttribute(yt.array,yt.stride)),dn.array.length>0&&Wn.addAttribute("color",new THREE.Float32BufferAttribute(dn.array,dn.stride)),Ft.array.length>0&&Wn.addAttribute("uv",new THREE.Float32BufferAttribute(Ft.array,Ft.stride)),en.array.length>0&&Wn.addAttribute("uv2",new THREE.Float32BufferAttribute(en.array,en.stride)),Bn.array.length>0&&Wn.addAttribute("skinIndex",new THREE.Float32BufferAttribute(Bn.array,Bn.stride)),ln.array.length>0&&Wn.addAttribute("skinWeight",new THREE.Float32BufferAttribute(ln.array,ln.stride)),Te.data=Wn,Te.type=me[0].type,Te.materialKeys=mr,Te}function It(me,be,Ee,Te){var Le=me.p,yt=me.stride,Ft=me.vcount;function en(ni){for(var Kr=Le[ni+Ee]*Bn,Ii=Kr+Bn;Kr<Ii;Kr++)Te.push(dn[Kr])}var dn=be.array,Bn=be.stride;if(me.vcount!==void 0)for(var ln=0,Wn=0,mr=Ft.length;Wn<mr;Wn++){var Hn=Ft[Wn];if(Hn===4){var fn=ln+yt*0,xn=ln+yt*1,Yn=ln+yt*2,cr=ln+yt*3;en(fn),en(xn),en(cr),en(xn),en(Yn),en(cr)}else if(Hn===3){var fn=ln+yt*0,xn=ln+yt*1,Yn=ln+yt*2;en(fn),en(xn),en(Yn)}else if(Hn>4)for(var gr=1,Or=Hn-2;gr<=Or;gr++){var fn=ln+yt*0,xn=ln+yt*gr,Yn=ln+yt*(gr+1);en(fn),en(xn),en(Yn)}ln+=yt*Hn}else for(var Wn=0,mr=Le.length;Wn<mr;Wn+=yt)en(Wn)}function kt(me){return y(at.geometries[me],Qe)}function Bt(me){for(var be={name:me.getAttribute("name")||"",joints:{},links:[]},Ee=0;Ee<me.childNodes.length;Ee++){var Te=me.childNodes[Ee];if(Te.nodeType===1)switch(Te.nodeName){case"technique_common":Lt(Te,be);break}}at.kinematicsModels[me.getAttribute("id")]=be}function jt(me){return me.build!==void 0?me.build:me}function Vt(me){return y(at.kinematicsModels[me],jt)}function Lt(me,be){for(var Ee=0;Ee<me.childNodes.length;Ee++){var Te=me.childNodes[Ee];if(Te.nodeType===1)switch(Te.nodeName){case"joint":be.joints[Te.getAttribute("sid")]=mt(Te);break;case"link":be.links.push(cn(Te));break}}}function mt(me){for(var be,Ee=0;Ee<me.childNodes.length;Ee++){var Te=me.childNodes[Ee];if(Te.nodeType===1)switch(Te.nodeName){case"prismatic":case"revolute":be=Nt(Te);break}}return be}function Nt(me,Ee){for(var Ee={sid:me.getAttribute("sid"),name:me.getAttribute("name")||"",axis:new THREE.Vector3,limits:{min:0,max:0},type:me.nodeName,static:!1,zeroPosition:0,middlePosition:0},Te=0;Te<me.childNodes.length;Te++){var Le=me.childNodes[Te];if(Le.nodeType===1)switch(Le.nodeName){case"axis":var yt=o(Le.textContent);Ee.axis.fromArray(yt);break;case"limits":var Ft=Le.getElementsByTagName("max")[0],en=Le.getElementsByTagName("min")[0];Ee.limits.max=parseFloat(Ft.textContent),Ee.limits.min=parseFloat(en.textContent);break}}return Ee.limits.min>=Ee.limits.max&&(Ee.static=!0),Ee.middlePosition=(Ee.limits.min+Ee.limits.max)/2,Ee}function cn(me){for(var be={sid:me.getAttribute("sid"),name:me.getAttribute("name")||"",attachments:[],transforms:[]},Ee=0;Ee<me.childNodes.length;Ee++){var Te=me.childNodes[Ee];if(Te.nodeType===1)switch(Te.nodeName){case"attachment_full":be.attachments.push(Jt(Te));break;case"matrix":case"translate":case"rotate":be.transforms.push(Sn(Te));break}}return be}function Jt(me){for(var be={joint:me.getAttribute("joint").split("/").pop(),transforms:[],links:[]},Ee=0;Ee<me.childNodes.length;Ee++){var Te=me.childNodes[Ee];if(Te.nodeType===1)switch(Te.nodeName){case"link":be.links.push(cn(Te));break;case"matrix":case"translate":case"rotate":be.transforms.push(Sn(Te));break}}return be}function Sn(me){var be={type:me.nodeName},Ee=o(me.textContent);switch(be.type){case"matrix":be.obj=new THREE.Matrix4,be.obj.fromArray(Ee).transpose();break;case"translate":be.obj=new THREE.Vector3,be.obj.fromArray(Ee);break;case"rotate":be.obj=new THREE.Vector3,be.obj.fromArray(Ee),be.angle=THREE.Math.degToRad(Ee[3]);break}return be}function yn(me){for(var be={name:me.getAttribute("name")||"",rigidBodies:{}},Ee=0;Ee<me.childNodes.length;Ee++){var Te=me.childNodes[Ee];if(Te.nodeType===1)switch(Te.nodeName){case"rigid_body":be.rigidBodies[Te.getAttribute("name")]={},Ln(Te,be.rigidBodies[Te.getAttribute("name")]);break}}at.physicsModels[me.getAttribute("id")]=be}function Ln(me,be){for(var Ee=0;Ee<me.childNodes.length;Ee++){var Te=me.childNodes[Ee];if(Te.nodeType===1)switch(Te.nodeName){case"technique_common":rr(Te,be);break}}}function rr(me,be){for(var Ee=0;Ee<me.childNodes.length;Ee++){var Te=me.childNodes[Ee];if(Te.nodeType===1)switch(Te.nodeName){case"inertia":be.inertia=o(Te.textContent);break;case"mass":be.mass=o(Te.textContent)[0];break}}}function jn(me){for(var be={bindJointAxis:[]},Ee=0;Ee<me.childNodes.length;Ee++){var Te=me.childNodes[Ee];if(Te.nodeType===1)switch(Te.nodeName){case"bind_joint_axis":be.bindJointAxis.push(Fn(Te));break}}at.kinematicsScenes[l(me.getAttribute("url"))]=be}function Fn(me){for(var be={target:me.getAttribute("target").split("/").pop()},Ee=0;Ee<me.childNodes.length;Ee++){var Te=me.childNodes[Ee];if(Te.nodeType===1)switch(Te.nodeName){case"axis":var Le=Te.getElementsByTagName("param")[0];be.axis=Le.textContent;var yt=be.axis.split("inst_").pop().split("axis")[0];be.jointIndex=yt.substr(0,yt.length-1);break}}return be}function Cn(me){return me.build!==void 0?me.build:me}function Oe(me){return y(at.kinematicsScenes[me],Cn)}function lt(){var me=Object.keys(at.kinematicsModels)[0],be=Object.keys(at.kinematicsScenes)[0],Ee=Object.keys(at.visualScenes)[0];if(me===void 0||be===void 0)return;for(var Te=Vt(me),Le=Oe(be),yt=sr(Ee),Ft=Le.bindJointAxis,en={},dn=0,Bn=Ft.length;dn<Bn;dn++){var ln=Ft[dn],Wn=bn.querySelector('[sid="'+ln.target+'"]');if(Wn){var mr=Wn.parentElement;Hn(ln.jointIndex,mr)}}function Hn(xn,Yn){var cr=Yn.getAttribute("name"),gr=Te.joints[xn];yt.traverse(function(Or){Or.name===cr&&(en[xn]={object:Or,transforms:wt(Yn),joint:gr,position:gr.zeroPosition})})}var fn=new THREE.Matrix4;Fe={joints:Te&&Te.joints,getJointValue:function(xn){var Yn=en[xn];if(Yn)return Yn.position;console.warn("THREE.ColladaLoader: Joint "+xn+" doesn't exist.")},setJointValue:function(xn,Yn){var cr=en[xn];if(cr){var gr=cr.joint;if(Yn>gr.limits.max||Yn<gr.limits.min)console.warn("THREE.ColladaLoader: Joint "+xn+" value "+Yn+" outside of limits (min: "+gr.limits.min+", max: "+gr.limits.max+").");else if(gr.static)console.warn("THREE.ColladaLoader: Joint "+xn+" is static.");else{var Or=cr.object,ni=gr.axis,Kr=cr.transforms;De.identity();for(var Ii=0;Ii<Kr.length;Ii++){var jr=Kr[Ii];if(jr.sid&&jr.sid.indexOf(xn)!==-1)switch(gr.type){case"revolute":De.multiply(fn.makeRotationAxis(ni,THREE.Math.degToRad(Yn)));break;case"prismatic":De.multiply(fn.makeTranslation(ni.x*Yn,ni.y*Yn,ni.z*Yn));break;default:console.warn("THREE.ColladaLoader: Unknown joint type: "+gr.type);break}else switch(jr.type){case"matrix":De.multiply(jr.obj);break;case"translate":De.multiply(fn.makeTranslation(jr.obj.x,jr.obj.y,jr.obj.z));break;case"scale":De.scale(jr.obj);break;case"rotate":De.multiply(fn.makeRotationAxis(jr.obj,jr.angle));break}}Or.matrix.copy(De),Or.matrix.decompose(Or.position,Or.quaternion,Or.scale),en[xn].position=Yn}}else console.log("THREE.ColladaLoader: "+xn+" does not exist.")}}}function wt(me){for(var be=[],Ee=bn.querySelector('[id="'+me.id+'"]'),Te=0;Te<Ee.childNodes.length;Te++){var Le=Ee.childNodes[Te];if(Le.nodeType===1)switch(Le.nodeName){case"matrix":var Ft=o(Le.textContent),yt=new THREE.Matrix4().fromArray(Ft).transpose();be.push({sid:Le.getAttribute("sid"),type:Le.nodeName,obj:yt});break;case"translate":case"scale":var Ft=o(Le.textContent),en=new THREE.Vector3().fromArray(Ft);be.push({sid:Le.getAttribute("sid"),type:Le.nodeName,obj:en});break;case"rotate":var Ft=o(Le.textContent),en=new THREE.Vector3().fromArray(Ft),dn=THREE.Math.degToRad(Ft[3]);be.push({sid:Le.getAttribute("sid"),type:Le.nodeName,obj:en,angle:dn});break}}return be}function xe(me){for(var be=me.getElementsByTagName("node"),Ee=0;Ee<be.length;Ee++){var Te=be[Ee];Te.hasAttribute("id")===!1&&Te.setAttribute("id",u())}}var De=new THREE.Matrix4,tt=new THREE.Vector3;function St(me){for(var be={name:me.getAttribute("name")||"",type:me.getAttribute("type"),id:me.getAttribute("id"),sid:me.getAttribute("sid"),matrix:new THREE.Matrix4,nodes:[],instanceCameras:[],instanceControllers:[],instanceLights:[],instanceGeometries:[],instanceNodes:[],transforms:{}},Ee=0;Ee<me.childNodes.length;Ee++){var Te=me.childNodes[Ee];if(Te.nodeType===1)switch(Te.nodeName){case"node":be.nodes.push(Te.getAttribute("id")),St(Te);break;case"instance_camera":be.instanceCameras.push(l(Te.getAttribute("url")));break;case"instance_controller":be.instanceControllers.push(Mt(Te));break;case"instance_light":be.instanceLights.push(l(Te.getAttribute("url")));break;case"instance_geometry":be.instanceGeometries.push(Mt(Te));break;case"instance_node":be.instanceNodes.push(l(Te.getAttribute("url")));break;case"matrix":var yt=o(Te.textContent);be.matrix.multiply(De.fromArray(yt).transpose()),be.transforms[Te.getAttribute("sid")]=Te.nodeName;break;case"translate":var yt=o(Te.textContent);tt.fromArray(yt),be.matrix.multiply(De.makeTranslation(tt.x,tt.y,tt.z)),be.transforms[Te.getAttribute("sid")]=Te.nodeName;break;case"rotate":var yt=o(Te.textContent),Le=THREE.Math.degToRad(yt[3]);be.matrix.multiply(De.makeRotationAxis(tt.fromArray(yt),Le)),be.transforms[Te.getAttribute("sid")]=Te.nodeName;break;case"scale":var yt=o(Te.textContent);be.matrix.scale(tt.fromArray(yt)),be.transforms[Te.getAttribute("sid")]=Te.nodeName;break;case"extra":break;default:console.log(Te)}}return Nn(be.id)?console.warn("THREE.ColladaLoader: There is already a node with ID %s. Exclude current node from further processing.",be.id):at.nodes[be.id]=be,be}function Mt(me){for(var be={id:l(me.getAttribute("url")),materials:{},skeletons:[]},Ee=0;Ee<me.childNodes.length;Ee++){var Te=me.childNodes[Ee];switch(Te.nodeName){case"bind_material":for(var Le=Te.getElementsByTagName("instance_material"),yt=0;yt<Le.length;yt++){var Ft=Le[yt],en=Ft.getAttribute("symbol"),dn=Ft.getAttribute("target");be.materials[en]=l(dn)}break;case"skeleton":be.skeletons.push(l(Te.textContent));break}}return be}function Ut(me,be){var Ee=[],Te=[],Le,yt,Ft;for(Le=0;Le<me.length;Le++){var en=me[Le],dn;if(Nn(en))dn=er(en),Kt(dn,be,Ee);else if(fr(en))for(var Bn=at.visualScenes[en],ln=Bn.children,yt=0;yt<ln.length;yt++){var Wn=ln[yt];if(Wn.type==="JOINT"){var dn=er(Wn.id);Kt(dn,be,Ee)}}else console.error("THREE.ColladaLoader: Unable to find root bone of skeleton with ID:",en)}for(Le=0;Le<be.length;Le++)for(yt=0;yt<Ee.length;yt++)if(Ft=Ee[yt],Ft.bone.name===be[Le].name){Te[Le]=Ft,Ft.processed=!0;break}for(Le=0;Le<Ee.length;Le++)Ft=Ee[Le],Ft.processed===!1&&(Te.push(Ft),Ft.processed=!0);var mr=[],Hn=[];for(Le=0;Le<Te.length;Le++)Ft=Te[Le],mr.push(Ft.bone),Hn.push(Ft.boneInverse);return new THREE.Skeleton(mr,Hn)}function Kt(me,be,Ee){me.traverse(function(Te){if(Te.isBone===!0){for(var Le,yt=0;yt<be.length;yt++){var Ft=be[yt];if(Ft.name===Te.name){Le=Ft.boneInverse;break}}Le===void 0&&(Le=new THREE.Matrix4),Ee.push({bone:Te,boneInverse:Le,processed:!1})}})}function gn(me){for(var be=[],Ee=me.matrix,Te=me.nodes,Le=me.type,yt=me.instanceCameras,Ft=me.instanceControllers,en=me.instanceLights,dn=me.instanceGeometries,Bn=me.instanceNodes,ln=0,Wn=Te.length;ln<Wn;ln++)be.push(er(Te[ln]));for(var ln=0,Wn=yt.length;ln<Wn;ln++){var mr=Ae(yt[ln]);mr!==null&&be.push(mr.clone())}for(var ln=0,Wn=Ft.length;ln<Wn;ln++)for(var Hn=Ft[ln],fn=oe(Hn.id),xn=kt(fn.id),Yn=$n(xn,Hn.materials),cr=Hn.skeletons,gr=fn.skin.joints,Or=Ut(cr,gr),ni=0,Kr=Yn.length;ni<Kr;ni++){var jr=Yn[ni];jr.isSkinnedMesh&&(jr.bind(Or,fn.skin.bindMatrix),jr.normalizeSkinWeights()),be.push(jr)}for(var ln=0,Wn=en.length;ln<Wn;ln++){var Ii=ne(en[ln]);Ii!==null&&be.push(Ii.clone())}for(var ln=0,Wn=dn.length;ln<Wn;ln++)for(var Hn=dn[ln],xn=kt(Hn.id),Yn=$n(xn,Hn.materials),ni=0,Kr=Yn.length;ni<Kr;ni++)be.push(Yn[ni]);for(var ln=0,Wn=Bn.length;ln<Wn;ln++)be.push(er(Bn[ln]).clone());var jr;if(Te.length===0&&be.length===1)jr=be[0];else{jr=Le==="JOINT"?new THREE.Bone:new THREE.Group;for(var ln=0;ln<be.length;ln++)jr.add(be[ln])}return jr.name===""&&(jr.name=Le==="JOINT"?me.sid:me.name),jr.matrix.copy(Ee),jr.matrix.decompose(jr.position,jr.quaternion,jr.scale),jr}var sn=new THREE.MeshBasicMaterial({color:16711935});function Xt(me,be){for(var Ee=[],Te=0,Le=me.length;Te<Le;Te++){var yt=be[me[Te]];yt===void 0?(console.warn("THREE.ColladaLoader: Material with key %s not found. Apply fallback material.",me[Te]),Ee.push(sn)):Ee.push(pe(yt))}return Ee}function $n(me,be){var Ee=[];for(var Te in me){var Le=me[Te],yt=Xt(Le.materialKeys,be);yt.length===0&&(Te==="lines"||Te==="linestrips"?yt.push(new THREE.LineBasicMaterial):yt.push(new THREE.MeshPhongMaterial));var Ft=Le.data.attributes.skinIndex!==void 0;if(Ft)for(var en=0,dn=yt.length;en<dn;en++)yt[en].skinning=!0;var Bn=yt.length===1?yt[0]:yt,ln;switch(Te){case"lines":ln=new THREE.LineSegments(Le.data,Bn);break;case"linestrips":ln=new THREE.Line(Le.data,Bn);break;case"triangles":case"polylist":Ft?ln=new THREE.SkinnedMesh(Le.data,Bn):ln=new THREE.Mesh(Le.data,Bn);break}Ee.push(ln)}return Ee}function Nn(me){return at.nodes[me]!==void 0}function er(me){return y(at.nodes[me],gn)}function br(me){var be={name:me.getAttribute("name"),children:[]};xe(me);for(var Ee=r(me,"node"),Te=0;Te<Ee.length;Te++)be.children.push(St(Ee[Te]));at.visualScenes[me.getAttribute("id")]=be}function kn(me){var be=new THREE.Group;be.name=me.name;for(var Ee=me.children,Te=0;Te<Ee.length;Te++){var Le=Ee[Te];be.add(er(Le.id))}return be}function fr(me){return at.visualScenes[me]!==void 0}function sr(me){return y(at.visualScenes[me],kn)}function Nr(me){var be=r(me,"instance_visual_scene")[0];return sr(l(be.getAttribute("url")))}function or(){var me=at.clips;if(c(me)===!0){if(c(at.animations)===!1){var be=[];for(var Ee in at.animations)for(var Te=E(Ee),Le=0,yt=Te.length;Le<yt;Le++)be.push(Te[Le]);Me.push(new THREE.AnimationClip("default",-1,be))}}else for(var Ee in me)Me.push(z(Ee))}if(n.length===0)return{scene:new THREE.Scene};var Zt=new DOMParser().parseFromString(n,"application/xml"),bn=r(Zt,"COLLADA")[0],qn=bn.getAttribute("version");console.log("THREE.ColladaLoader: File version",qn);var Gn=d(r(bn,"asset")[0]),re=new THREE.TextureLoader(this.manager);re.setPath(this.resourcePath||e).setCrossOrigin(this.crossOrigin);var se;THREE.TGALoader&&(se=new THREE.TGALoader(this.manager),se.setPath(this.resourcePath||e));var Me=[],Fe={},Je=0,at={animations:{},clips:{},controllers:{},images:{},effects:{},materials:{},cameras:{},lights:{},geometries:{},nodes:{},visualScenes:{},kinematicsModels:{},physicsModels:{},kinematicsScenes:{}};m(bn,"library_animations","animation",A),m(bn,"library_animation_clips","animation_clip",F),m(bn,"library_controllers","controller",j),m(bn,"library_images","image",ce),m(bn,"library_effects","effect",Re),m(bn,"library_materials","material",Ve),m(bn,"library_cameras","camera",_e),m(bn,"library_lights","light",Ue),m(bn,"library_geometries","geometry",Pe),m(bn,"library_nodes","node",St),m(bn,"library_visual_scenes","visual_scene",br),m(bn,"library_kinematics_models","kinematics_model",Bt),m(bn,"library_physics_models","physics_model",yn),m(bn,"scene","instance_kinematics_scene",jn),v(at.animations,w),v(at.clips,N),v(at.controllers,J),v(at.images,Be),v(at.effects,Dt),v(at.materials,fe),v(at.cameras,je),v(at.lights,Y),v(at.geometries,Qe),v(at.visualScenes,kn),or(),lt();var xt=Nr(r(bn,"scene")[0]);return Gn.upAxis==="Z_UP"&&xt.quaternion.setFromEuler(new THREE.Euler(-Math.PI/2,0,0)),xt.scale.multiplyScalar(Gn.unit),{animations:Me,kinematics:Fe,library:at,scene:xt}}};THREE.ColladaLoader=jRe;AFRAME.registerComponent("collada-model-legacy",{schema:{type:"asset"},init:function(){this.model=null,this.loader=new THREE.ColladaLoader},update:function(){var n=this,e=this.el,r=this.data,i=this.el.sceneEl.systems.renderer;r&&(this.remove(),this.loader.load(r,function(o){n.model=o.scene,n.model.traverse(function(s){if(s.isMesh){var l=s.material;l.color&&i.applyColorCorrection(l.color),l.map&&i.applyColorCorrection(l.map),l.emissive&&i.applyColorCorrection(l.emissive),l.emissiveMap&&i.applyColorCorrection(l.emissiveMap)}}),e.setObject3D("mesh",n.model),e.emit("model-loaded",{format:"collada",model:n.model})}))},remove:function(){this.model&&this.el.removeObject3D("mesh")}});var GRe=THREE.FBXLoader=function(){var n,e,r;function i(B){this.manager=B!==void 0?B:THREE.DefaultLoadingManager}i.prototype={constructor:i,crossOrigin:"anonymous",load:function(B,O,F,N){var z=this,j=THREE.LoaderUtils.extractUrlBase(B),G=new THREE.FileLoader(this.manager);G.setResponseType("arraybuffer"),G.load(B,function(Q){try{var X=z.parse(Q,j);O(X)}catch(J){setTimeout(function(){N&&N(J),z.manager.itemError(B)},0)}},F,N)},setCrossOrigin:function(B){return this.crossOrigin=B,this},parse:function(B,O){if(p(B))n=new c().parse(B);else{var F=T(B);if(!m(F))throw new Error("THREE.FBXLoader: Unknown format.");if(v(F)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+v(F));n=new u().parse(F)}var N=new THREE.TextureLoader(this.manager).setPath(O).setCrossOrigin(this.crossOrigin);return new o(N).parse(n)}};function o(B){this.textureLoader=B}o.prototype={constructor:o,parse:function(){e=this.parseConnections();var B=this.parseImages(),O=this.parseTextures(B),F=this.parseMaterials(O),N=this.parseDeformers(),z=new s().parse(N);return this.parseScene(N,z,F),r},parseConnections:function(){var B=new Map;if("Connections"in n){var O=n.Connections.connections;O.forEach(function(F){var N=F[0],z=F[1],j=F[2];B.has(N)||B.set(N,{parents:[],children:[]});var G={ID:z,relationship:j};B.get(N).parents.push(G),B.has(z)||B.set(z,{parents:[],children:[]});var Q={ID:N,relationship:j};B.get(z).children.push(Q)})}return B},parseImages:function(){var B={},O={};if("Video"in n.Objects){var F=n.Objects.Video;for(var N in F){var z=F[N],j=parseInt(N);if(B[j]=z.RelativeFilename||z.Filename,"Content"in z){var G=z.Content instanceof ArrayBuffer&&z.Content.byteLength>0,Q=typeof z.Content=="string"&&z.Content!=="";if(G||Q){var X=this.parseImage(F[N]);O[z.RelativeFilename||z.Filename]=X}}}}for(var j in B){var J=B[j];O[J]!==void 0?B[j]=O[J]:B[j]=B[j].split("\\").pop()}return B},parseImage:function(B){var O=B.Content,F=B.RelativeFilename||B.Filename,N=F.slice(F.lastIndexOf(".")+1).toLowerCase(),z;switch(N){case"bmp":z="image/bmp";break;case"jpg":case"jpeg":z="image/jpeg";break;case"png":z="image/png";break;case"tif":z="image/tiff";break;case"tga":if(typeof THREE.TGALoader!="function"){console.warn("FBXLoader: THREE.TGALoader is required to load TGA textures");return}else{THREE.Loader.Handlers.get(".tga")===null&&THREE.Loader.Handlers.add(/\.tga$/i,new THREE.TGALoader),z="image/tga";break}default:console.warn('FBXLoader: Image type "'+N+'" is not supported.');return}if(typeof O=="string")return"data:"+z+";base64,"+O;var j=new Uint8Array(O);return window.URL.createObjectURL(new Blob([j],{type:z}))},parseTextures:function(B){var O=new Map;if("Texture"in n.Objects){var F=n.Objects.Texture;for(var N in F){var z=this.parseTexture(F[N],B);O.set(parseInt(N),z)}}return O},parseTexture:function(B,O){var F=this.loadTexture(B,O);F.ID=B.id,F.name=B.attrName;var N=B.WrapModeU,z=B.WrapModeV,j=N!==void 0?N.value:0,G=z!==void 0?z.value:0;if(F.wrapS=j===0?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,F.wrapT=G===0?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,"Scaling"in B){var Q=B.Scaling.value;F.repeat.x=Q[0],F.repeat.y=Q[1]}return F},loadTexture:function(B,O){var F,N=this.textureLoader.path,z=e.get(B.id).children;z!==void 0&&z.length>0&&O[z[0].ID]!==void 0&&(F=O[z[0].ID],(F.indexOf("blob:")===0||F.indexOf("data:")===0)&&this.textureLoader.setPath(void 0));var j,G=B.FileName.slice(-3).toLowerCase();if(G==="tga"){var Q=THREE.Loader.Handlers.get(".tga");Q===null?(console.warn("FBXLoader: TGALoader not found, creating empty placeholder texture for",F),j=new THREE.Texture):j=Q.load(F)}else G==="psd"?(console.warn("FBXLoader: PSD textures are not supported, creating empty placeholder texture for",F),j=new THREE.Texture):j=this.textureLoader.load(F);return this.textureLoader.setPath(N),j},parseMaterials:function(B){var O=new Map;if("Material"in n.Objects){var F=n.Objects.Material;for(var N in F){var z=this.parseMaterial(F[N],B);z!==null&&O.set(parseInt(N),z)}}return O},parseMaterial:function(B,O){var F=B.id,N=B.attrName,z=B.ShadingModel;if(typeof z=="object"&&(z=z.value),!e.has(F))return null;var j=this.parseParameters(B,O,F),G;switch(z.toLowerCase()){case"phong":G=new THREE.MeshPhongMaterial;break;case"lambert":G=new THREE.MeshLambertMaterial;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',z),G=new THREE.MeshPhongMaterial({color:3342591});break}return G.setValues(j),G.name=N,G},parseParameters:function(B,O,F){var N={};B.BumpFactor&&(N.bumpScale=B.BumpFactor.value),B.Diffuse?N.color=new THREE.Color().fromArray(B.Diffuse.value):B.DiffuseColor&&B.DiffuseColor.type==="Color"&&(N.color=new THREE.Color().fromArray(B.DiffuseColor.value)),B.DisplacementFactor&&(N.displacementScale=B.DisplacementFactor.value),B.Emissive?N.emissive=new THREE.Color().fromArray(B.Emissive.value):B.EmissiveColor&&B.EmissiveColor.type==="Color"&&(N.emissive=new THREE.Color().fromArray(B.EmissiveColor.value)),B.EmissiveFactor&&(N.emissiveIntensity=parseFloat(B.EmissiveFactor.value)),B.Opacity&&(N.opacity=parseFloat(B.Opacity.value)),N.opacity<1&&(N.transparent=!0),B.ReflectionFactor&&(N.reflectivity=B.ReflectionFactor.value),B.Shininess&&(N.shininess=B.Shininess.value),B.Specular?N.specular=new THREE.Color().fromArray(B.Specular.value):B.SpecularColor&&B.SpecularColor.type==="Color"&&(N.specular=new THREE.Color().fromArray(B.SpecularColor.value));var z=this;return e.get(F).children.forEach(function(j){var G=j.relationship;switch(G){case"Bump":N.bumpMap=z.getTexture(O,j.ID);break;case"DiffuseColor":N.map=z.getTexture(O,j.ID);break;case"DisplacementColor":N.displacementMap=z.getTexture(O,j.ID);break;case"EmissiveColor":N.emissiveMap=z.getTexture(O,j.ID);break;case"NormalMap":N.normalMap=z.getTexture(O,j.ID);break;case"ReflectionColor":N.envMap=z.getTexture(O,j.ID),N.envMap.mapping=THREE.EquirectangularReflectionMapping;break;case"SpecularColor":N.specularMap=z.getTexture(O,j.ID);break;case"TransparentColor":N.alphaMap=z.getTexture(O,j.ID),N.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",G);break}}),N},getTexture:function(B,O){return"LayeredTexture"in n.Objects&&O in n.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),O=e.get(O).children[0].ID),B.get(O)},parseDeformers:function(){var B={},O={};if("Deformer"in n.Objects){var F=n.Objects.Deformer;for(var N in F){var z=F[N],j=e.get(parseInt(N));if(z.attrType==="Skin"){var G=this.parseSkeleton(j,F);G.ID=N,j.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),G.geometryID=j.parents[0].ID,B[N]=G}else if(z.attrType==="BlendShape"){var Q={id:N};Q.rawTargets=this.parseMorphTargets(j,F),Q.id=N,j.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),O[N]=Q}}}return{skeletons:B,morphTargets:O}},parseSkeleton:function(B,O){var F=[];return B.children.forEach(function(N){var z=O[N.ID];if(z.attrType==="Cluster"){var j={ID:N.ID,indices:[],weights:[],transform:new THREE.Matrix4().fromArray(z.Transform.a),transformLink:new THREE.Matrix4().fromArray(z.TransformLink.a),linkMode:z.Mode};"Indexes"in z&&(j.indices=z.Indexes.a,j.weights=z.Weights.a),F.push(j)}}),{rawBones:F,bones:[]}},parseMorphTargets:function(B,O){for(var F=[],N=0;N<B.children.length;N++){if(N===8){console.warn("FBXLoader: maximum of 8 morph targets supported. Ignoring additional targets.");break}var z=B.children[N],j=O[z.ID],G={name:j.attrName,initialWeight:j.DeformPercent,id:j.id,fullWeights:j.FullWeights.a};if(j.attrType!=="BlendShapeChannel")return;var Q=e.get(parseInt(z.ID));Q.children.forEach(function(X){X.relationship===void 0&&(G.geoID=X.ID)}),F.push(G)}return F},parseScene:function(B,O,F){r=new THREE.Group;var N=this.parseModels(B.skeletons,O,F),z=n.Objects.Model,j=this;N.forEach(function(Q){var X=z[Q.ID];j.setLookAtProperties(Q,X);var J=e.get(Q.ID).parents;J.forEach(function(Z){var oe=N.get(Z.ID);oe!==void 0&&oe.add(Q)}),Q.parent===null&&r.add(Q)}),this.bindSkeleton(B.skeletons,O,N),this.createAmbientLight(),this.setupMorphMaterials();var G=new l().parse();r.children.length===1&&r.children[0].isGroup&&(r.children[0].animations=G,r=r.children[0]),r.animations=G},parseModels:function(B,O,F){var N=new Map,z=n.Objects.Model;for(var j in z){var G=parseInt(j),Q=z[j],X=e.get(G),J=this.buildSkeleton(X,B,G,Q.attrName);if(!J){switch(Q.attrType){case"Camera":J=this.createCamera(X);break;case"Light":J=this.createLight(X);break;case"Mesh":J=this.createMesh(X,O,F);break;case"NurbsCurve":J=this.createCurve(X,O);break;case"LimbNode":case"Null":default:J=new THREE.Group;break}J.name=THREE.PropertyBinding.sanitizeNodeName(Q.attrName),J.ID=G}this.setModelTransforms(J,Q),N.set(G,J)}return N},buildSkeleton:function(B,O,F,N){var z=null;return B.parents.forEach(function(j){for(var G in O){var Q=O[G];Q.rawBones.forEach(function(X,J){if(X.ID===j.ID){var Z=z;z=new THREE.Bone,z.matrixWorld.copy(X.transformLink),z.name=THREE.PropertyBinding.sanitizeNodeName(N),z.ID=F,Q.bones[J]=z,Z!==null&&z.add(Z)}})}}),z},createCamera:function(B){var O,F;if(B.children.forEach(function(oe){var ce=n.Objects.NodeAttribute[oe.ID];ce!==void 0&&(F=ce)}),F===void 0)O=new THREE.Object3D;else{var N=0;F.CameraProjectionType!==void 0&&F.CameraProjectionType.value===1&&(N=1);var z=1;F.NearPlane!==void 0&&(z=F.NearPlane.value/1e3);var j=1e3;F.FarPlane!==void 0&&(j=F.FarPlane.value/1e3);var G=window.innerWidth,Q=window.innerHeight;F.AspectWidth!==void 0&&F.AspectHeight!==void 0&&(G=F.AspectWidth.value,Q=F.AspectHeight.value);var X=G/Q,J=45;F.FieldOfView!==void 0&&(J=F.FieldOfView.value);var Z=F.FocalLength?F.FocalLength.value:null;switch(N){case 0:O=new THREE.PerspectiveCamera(J,X,z,j),Z!==null&&O.setFocalLength(Z);break;case 1:O=new THREE.OrthographicCamera(-G/2,G/2,Q/2,-Q/2,z,j);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+N+"."),O=new THREE.Object3D;break}}return O},createLight:function(B){var O,F;if(B.children.forEach(function(Z){var oe=n.Objects.NodeAttribute[Z.ID];oe!==void 0&&(F=oe)}),F===void 0)O=new THREE.Object3D;else{var N;F.LightType===void 0?N=0:N=F.LightType.value;var z=16777215;F.Color!==void 0&&(z=new THREE.Color().fromArray(F.Color.value));var j=F.Intensity===void 0?1:F.Intensity.value/100;F.CastLightOnObject!==void 0&&F.CastLightOnObject.value===0&&(j=0);var G=0;F.FarAttenuationEnd!==void 0&&(F.EnableFarAttenuation!==void 0&&F.EnableFarAttenuation.value===0?G=0:G=F.FarAttenuationEnd.value);var Q=1;switch(N){case 0:O=new THREE.PointLight(z,j,G,Q);break;case 1:O=new THREE.DirectionalLight(z,j);break;case 2:var X=Math.PI/3;F.InnerAngle!==void 0&&(X=THREE.Math.degToRad(F.InnerAngle.value));var J=0;F.OuterAngle!==void 0&&(J=THREE.Math.degToRad(F.OuterAngle.value),J=Math.max(J,1)),O=new THREE.SpotLight(z,j,G,X,J,Q);break;default:console.warn("THREE.FBXLoader: Unknown light type "+F.LightType.value+", defaulting to a THREE.PointLight."),O=new THREE.PointLight(z,j);break}F.CastShadows!==void 0&&F.CastShadows.value===1&&(O.castShadow=!0)}return O},createMesh:function(B,O,F){var N,z=null,j=null,G=[];return B.children.forEach(function(Q){O.has(Q.ID)&&(z=O.get(Q.ID)),F.has(Q.ID)&&G.push(F.get(Q.ID))}),G.length>1?j=G:G.length>0?j=G[0]:(j=new THREE.MeshPhongMaterial({color:13421772}),G.push(j)),"color"in z.attributes&&G.forEach(function(Q){Q.vertexColors=THREE.VertexColors}),z.FBX_Deformer?(G.forEach(function(Q){Q.skinning=!0}),N=new THREE.SkinnedMesh(z,j)):N=new THREE.Mesh(z,j),N},createCurve:function(B,O){var F=B.children.reduce(function(z,j){return O.has(j.ID)&&(z=O.get(j.ID)),z},null),N=new THREE.LineBasicMaterial({color:3342591,linewidth:1});return new THREE.Line(F,N)},setModelTransforms:function(B,O){var F={};"RotationOrder"in O&&(F.eulerOrder=parseInt(O.RotationOrder.value)),"Lcl_Translation"in O&&(F.translation=O.Lcl_Translation.value),"RotationOffset"in O&&(F.rotationOffset=O.RotationOffset.value),"Lcl_Rotation"in O&&(F.rotation=O.Lcl_Rotation.value),"PreRotation"in O&&(F.preRotation=O.PreRotation.value),"PostRotation"in O&&(F.postRotation=O.PostRotation.value),"Lcl_Scaling"in O&&(F.scale=O.Lcl_Scaling.value);var N=P(F);B.applyMatrix(N)},setLookAtProperties:function(B,O){if("LookAtProperty"in O){var F=e.get(B.ID).children;F.forEach(function(N){if(N.relationship==="LookAtProperty"){var z=n.Objects.Model[N.ID];if("Lcl_Translation"in z){var j=z.Lcl_Translation.value;B.target!==void 0?(B.target.position.fromArray(j),r.add(B.target)):B.lookAt(new THREE.Vector3().fromArray(j))}}})}},bindSkeleton:function(B,O,F){var N=this.parsePoseNodes();for(var z in B){var j=B[z],G=e.get(parseInt(j.ID)).parents;G.forEach(function(Q){if(O.has(Q.ID)){var X=Q.ID,J=e.get(X);J.parents.forEach(function(Z){if(F.has(Z.ID)){var oe=F.get(Z.ID);oe.bind(new THREE.Skeleton(j.bones),N[Z.ID])}})}})}},parsePoseNodes:function(){var B={};if("Pose"in n.Objects){var O=n.Objects.Pose;for(var F in O)if(O[F].attrType==="BindPose"){var N=O[F].PoseNode;Array.isArray(N)?N.forEach(function(z){B[z.Node]=new THREE.Matrix4().fromArray(z.Matrix.a)}):B[N.Node]=new THREE.Matrix4().fromArray(N.Matrix.a)}}return B},createAmbientLight:function(){if("GlobalSettings"in n&&"AmbientColor"in n.GlobalSettings){var B=n.GlobalSettings.AmbientColor.value,O=B[0],F=B[1],N=B[2];if(O!==0||F!==0||N!==0){var z=new THREE.Color(O,F,N);r.add(new THREE.AmbientLight(z,1))}}},setupMorphMaterials:function(){r.traverse(function(B){if(B.isMesh&&(B.geometry.morphAttributes.position||B.geometry.morphAttributes.normal)){var O=B.uuid,F=B.material.uuid,N=!1;r.traverse(function(z){z.isMesh&&z.material.uuid===F&&z.uuid!==O&&(N=!0)}),N===!0&&(B.material=B.material.clone()),B.material.morphTargets=!0}})}};function s(){}s.prototype={constructor:s,parse:function(B){var O=new Map;if("Geometry"in n.Objects){var F=n.Objects.Geometry;for(var N in F){var z=e.get(parseInt(N)),j=this.parseGeometry(z,F[N],B);O.set(parseInt(N),j)}}return O},parseGeometry:function(B,O,F){switch(O.attrType){case"Mesh":return this.parseMeshGeometry(B,O,F);case"NurbsCurve":return this.parseNurbsGeometry(O)}},parseMeshGeometry:function(B,O,F){var N=F.skeletons,z=F.morphTargets,j=B.parents.map(function(oe){return n.Objects.Model[oe.ID]});if(j.length!==0){var G=B.children.reduce(function(oe,ce){return N[ce.ID]!==void 0&&(oe=N[ce.ID]),oe},null),Q=B.children.reduce(function(oe,ce){return z[ce.ID]!==void 0&&(oe=z[ce.ID]),oe},null),X=j[0],J={};"RotationOrder"in X&&(J.eulerOrder=X.RotationOrder.value),"GeometricTranslation"in X&&(J.translation=X.GeometricTranslation.value),"GeometricRotation"in X&&(J.rotation=X.GeometricRotation.value),"GeometricScaling"in X&&(J.scale=X.GeometricScaling.value);var Z=P(J);return this.genGeometry(O,G,Q,Z)}},genGeometry:function(B,O,F,N){var z=new THREE.BufferGeometry;B.attrName&&(z.name=B.attrName);var j=this.parseGeoNode(B,O),G=this.genBuffers(j),Q=new THREE.Float32BufferAttribute(G.vertex,3);if(N.applyToBufferAttribute(Q),z.addAttribute("position",Q),G.colors.length>0&&z.addAttribute("color",new THREE.Float32BufferAttribute(G.colors,3)),O&&(z.addAttribute("skinIndex",new THREE.Uint16BufferAttribute(G.weightsIndices,4)),z.addAttribute("skinWeight",new THREE.Float32BufferAttribute(G.vertexWeights,4)),z.FBX_Deformer=O),G.normal.length>0){var X=new THREE.Float32BufferAttribute(G.normal,3),J=new THREE.Matrix3().getNormalMatrix(N);J.applyToBufferAttribute(X),z.addAttribute("normal",X)}if(G.uvs.forEach(function(ge,Re){var $e="uv"+(Re+1).toString();Re===0&&($e="uv"),z.addAttribute($e,new THREE.Float32BufferAttribute(G.uvs[Re],2))}),j.material&&j.material.mappingType!=="AllSame"){var Z=G.materialIndex[0],oe=0;if(G.materialIndex.forEach(function(ge,Re){ge!==Z&&(z.addGroup(oe,Re-oe,Z),Z=ge,oe=Re)}),z.groups.length>0){var ce=z.groups[z.groups.length-1],Be=ce.start+ce.count;Be!==G.materialIndex.length&&z.addGroup(Be,G.materialIndex.length-Be,Z)}z.groups.length===0&&z.addGroup(0,G.materialIndex.length,G.materialIndex[0])}return this.addMorphTargets(z,B,F,N),z},parseGeoNode:function(B,O){var F={};if(F.vertexPositions=B.Vertices!==void 0?B.Vertices.a:[],F.vertexIndices=B.PolygonVertexIndex!==void 0?B.PolygonVertexIndex.a:[],B.LayerElementColor&&(F.color=this.parseVertexColors(B.LayerElementColor[0])),B.LayerElementMaterial&&(F.material=this.parseMaterialIndices(B.LayerElementMaterial[0])),B.LayerElementNormal&&(F.normal=this.parseNormals(B.LayerElementNormal[0])),B.LayerElementUV){F.uv=[];for(var N=0;B.LayerElementUV[N];)F.uv.push(this.parseUVs(B.LayerElementUV[N])),N++}return F.weightTable={},O!==null&&(F.skeleton=O,O.rawBones.forEach(function(z,j){z.indices.forEach(function(G,Q){F.weightTable[G]===void 0&&(F.weightTable[G]=[]),F.weightTable[G].push({id:j,weight:z.weights[Q]})})})),F},genBuffers:function(B){var O={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]},F=0,N=0,z=!1,j=[],G=[],Q=[],X=[],J=[],Z=[],oe=this;return B.vertexIndices.forEach(function(ce,Be){var ge=!1;ce<0&&(ce=ce^-1,ge=!0);var Re=[],$e=[];if(j.push(ce*3,ce*3+1,ce*3+2),B.color){var qe=b(Be,F,ce,B.color);Q.push(qe[0],qe[1],qe[2])}if(B.skeleton){if(B.weightTable[ce]!==void 0&&B.weightTable[ce].forEach(function(it){$e.push(it.weight),Re.push(it.id)}),$e.length>4){z||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),z=!0);var Ke=[0,0,0,0],ke=[0,0,0,0];$e.forEach(function(it,ft){var Et=it,gt=Re[ft];ke.forEach(function(Ct,Tt,Dt){if(Et>Ct){Dt[Tt]=Et,Et=Ct;var Yt=Ke[Tt];Ke[Tt]=gt,gt=Yt}})}),Re=Ke,$e=ke}for(;$e.length<4;)$e.push(0),Re.push(0);for(var st=0;st<4;++st)J.push($e[st]),Z.push(Re[st])}if(B.normal){var qe=b(Be,F,ce,B.normal);G.push(qe[0],qe[1],qe[2])}if(B.material&&B.material.mappingType!=="AllSame")var ot=b(Be,F,ce,B.material)[0];B.uv&&B.uv.forEach(function(it,ft){var Et=b(Be,F,ce,it);X[ft]===void 0&&(X[ft]=[]),X[ft].push(Et[0]),X[ft].push(Et[1])}),N++,ge&&(oe.genFace(O,B,j,ot,G,Q,X,J,Z,N),F++,N=0,j=[],G=[],Q=[],X=[],J=[],Z=[])}),O},genFace:function(B,O,F,N,z,j,G,Q,X,J){for(var Z=2;Z<J;Z++)B.vertex.push(O.vertexPositions[F[0]]),B.vertex.push(O.vertexPositions[F[1]]),B.vertex.push(O.vertexPositions[F[2]]),B.vertex.push(O.vertexPositions[F[(Z-1)*3]]),B.vertex.push(O.vertexPositions[F[(Z-1)*3+1]]),B.vertex.push(O.vertexPositions[F[(Z-1)*3+2]]),B.vertex.push(O.vertexPositions[F[Z*3]]),B.vertex.push(O.vertexPositions[F[Z*3+1]]),B.vertex.push(O.vertexPositions[F[Z*3+2]]),O.skeleton&&(B.vertexWeights.push(Q[0]),B.vertexWeights.push(Q[1]),B.vertexWeights.push(Q[2]),B.vertexWeights.push(Q[3]),B.vertexWeights.push(Q[(Z-1)*4]),B.vertexWeights.push(Q[(Z-1)*4+1]),B.vertexWeights.push(Q[(Z-1)*4+2]),B.vertexWeights.push(Q[(Z-1)*4+3]),B.vertexWeights.push(Q[Z*4]),B.vertexWeights.push(Q[Z*4+1]),B.vertexWeights.push(Q[Z*4+2]),B.vertexWeights.push(Q[Z*4+3]),B.weightsIndices.push(X[0]),B.weightsIndices.push(X[1]),B.weightsIndices.push(X[2]),B.weightsIndices.push(X[3]),B.weightsIndices.push(X[(Z-1)*4]),B.weightsIndices.push(X[(Z-1)*4+1]),B.weightsIndices.push(X[(Z-1)*4+2]),B.weightsIndices.push(X[(Z-1)*4+3]),B.weightsIndices.push(X[Z*4]),B.weightsIndices.push(X[Z*4+1]),B.weightsIndices.push(X[Z*4+2]),B.weightsIndices.push(X[Z*4+3])),O.color&&(B.colors.push(j[0]),B.colors.push(j[1]),B.colors.push(j[2]),B.colors.push(j[(Z-1)*3]),B.colors.push(j[(Z-1)*3+1]),B.colors.push(j[(Z-1)*3+2]),B.colors.push(j[Z*3]),B.colors.push(j[Z*3+1]),B.colors.push(j[Z*3+2])),O.material&&O.material.mappingType!=="AllSame"&&(B.materialIndex.push(N),B.materialIndex.push(N),B.materialIndex.push(N)),O.normal&&(B.normal.push(z[0]),B.normal.push(z[1]),B.normal.push(z[2]),B.normal.push(z[(Z-1)*3]),B.normal.push(z[(Z-1)*3+1]),B.normal.push(z[(Z-1)*3+2]),B.normal.push(z[Z*3]),B.normal.push(z[Z*3+1]),B.normal.push(z[Z*3+2])),O.uv&&O.uv.forEach(function(oe,ce){B.uvs[ce]===void 0&&(B.uvs[ce]=[]),B.uvs[ce].push(G[ce][0]),B.uvs[ce].push(G[ce][1]),B.uvs[ce].push(G[ce][(Z-1)*2]),B.uvs[ce].push(G[ce][(Z-1)*2+1]),B.uvs[ce].push(G[ce][Z*2]),B.uvs[ce].push(G[ce][Z*2+1])})},addMorphTargets:function(B,O,F,N){if(F!==null){B.morphAttributes.position=[],B.morphAttributes.normal=[];var z=this;F.rawTargets.forEach(function(j){var G=n.Objects.Geometry[j.geoID];G!==void 0&&z.genMorphGeometry(B,O,G,N)})}},genMorphGeometry:function(B,O,F,N){var z=new THREE.BufferGeometry;F.attrName&&(z.name=F.attrName);for(var j=O.PolygonVertexIndex!==void 0?O.PolygonVertexIndex.a:[],G=O.Vertices!==void 0?O.Vertices.a.slice():[],Q=F.Vertices!==void 0?F.Vertices.a:[],X=F.Indexes!==void 0?F.Indexes.a:[],J=0;J<X.length;J++){var Z=X[J]*3;G[Z]+=Q[J*3],G[Z+1]+=Q[J*3+1],G[Z+2]+=Q[J*3+2]}var oe={vertexIndices:j,vertexPositions:G},ce=this.genBuffers(oe),Be=new THREE.Float32BufferAttribute(ce.vertex,3);Be.name=F.attrName,N.applyToBufferAttribute(Be),B.morphAttributes.position.push(Be)},parseNormals:function(B){var O=B.MappingInformationType,F=B.ReferenceInformationType,N=B.Normals.a,z=[];return F==="IndexToDirect"&&("NormalIndex"in B?z=B.NormalIndex.a:"NormalsIndex"in B&&(z=B.NormalsIndex.a)),{dataSize:3,buffer:N,indices:z,mappingType:O,referenceType:F}},parseUVs:function(B){var O=B.MappingInformationType,F=B.ReferenceInformationType,N=B.UV.a,z=[];return F==="IndexToDirect"&&(z=B.UVIndex.a),{dataSize:2,buffer:N,indices:z,mappingType:O,referenceType:F}},parseVertexColors:function(B){var O=B.MappingInformationType,F=B.ReferenceInformationType,N=B.Colors.a,z=[];return F==="IndexToDirect"&&(z=B.ColorIndex.a),{dataSize:4,buffer:N,indices:z,mappingType:O,referenceType:F}},parseMaterialIndices:function(B){var O=B.MappingInformationType,F=B.ReferenceInformationType;if(O==="NoMappingInformation")return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:F};for(var N=B.Materials.a,z=[],j=0;j<N.length;++j)z.push(j);return{dataSize:1,buffer:N,indices:z,mappingType:O,referenceType:F}},parseNurbsGeometry:function(B){if(THREE.NURBSCurve===void 0)return console.error("THREE.FBXLoader: The loader relies on THREE.NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new THREE.BufferGeometry;var O=parseInt(B.Order);if(isNaN(O))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",B.Order,B.id),new THREE.BufferGeometry;for(var F=O-1,N=B.KnotVector.a,z=[],j=B.Points.a,G=0,Q=j.length;G<Q;G+=4)z.push(new THREE.Vector4().fromArray(j,G));var X,J;if(B.Form==="Closed")z.push(z[0]);else if(B.Form==="Periodic"){X=F,J=N.length-1-X;for(var G=0;G<F;++G)z.push(z[G])}var Z=new THREE.NURBSCurve(F,N,z,X,J),oe=Z.getPoints(z.length*7),ce=new Float32Array(oe.length*3);oe.forEach(function(ge,Re){ge.toArray(ce,Re*3)});var Be=new THREE.BufferGeometry;return Be.addAttribute("position",new THREE.BufferAttribute(ce,3)),Be}};function l(){}l.prototype={constructor:l,parse:function(){var B=[],O=this.parseClips();if(O===void 0)return B;for(var F in O){var N=O[F],z=this.addClip(N);B.push(z)}return B},parseClips:function(){if(n.Objects.AnimationCurve!==void 0){var B=this.parseAnimationCurveNodes();this.parseAnimationCurves(B);var O=this.parseAnimationLayers(B),F=this.parseAnimStacks(O);return F}},parseAnimationCurveNodes:function(){var B=n.Objects.AnimationCurveNode,O=new Map;for(var F in B){var N=B[F];if(N.attrName.match(/S|R|T|DeformPercent/)!==null){var z={id:N.id,attr:N.attrName,curves:{}};O.set(z.id,z)}}return O},parseAnimationCurves:function(B){var O=n.Objects.AnimationCurve;for(var F in O){var N={id:O[F].id,times:O[F].KeyTime.a.map(y),values:O[F].KeyValueFloat.a},z=e.get(N.id);if(z!==void 0){var j=z.parents[0].ID,G=z.parents[0].relationship;G.match(/X/)?B.get(j).curves.x=N:G.match(/Y/)?B.get(j).curves.y=N:G.match(/Z/)?B.get(j).curves.z=N:G.match(/d|DeformPercent/)&&B.has(j)&&(B.get(j).curves.morph=N)}}},parseAnimationLayers:function(B){var O=n.Objects.AnimationLayer,F=new Map;for(var N in O){var z=[],j=e.get(parseInt(N));if(j!==void 0){var G=j.children,Q=this;G.forEach(function(X,J){if(B.has(X.ID)){var Z=B.get(X.ID);if(Z.curves.x!==void 0||Z.curves.y!==void 0||Z.curves.z!==void 0){if(z[J]===void 0){var oe;e.get(X.ID).parents.forEach(function(qe){qe.relationship!==void 0&&(oe=qe.ID)});var ce=n.Objects.Model[oe.toString()],Be={modelName:THREE.PropertyBinding.sanitizeNodeName(ce.attrName),initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1],transform:Q.getModelAnimTransform(ce)};"PreRotation"in ce&&(Be.preRotations=ce.PreRotation.value),"PostRotation"in ce&&(Be.postRotations=ce.PostRotation.value),z[J]=Be}z[J][Z.attr]=Z}else if(Z.curves.morph!==void 0){if(z[J]===void 0){var ge;e.get(X.ID).parents.forEach(function(st){st.relationship!==void 0&&(ge=st.ID)});var Re=e.get(ge).parents[0].ID,$e=e.get(Re).parents[0].ID,oe=e.get($e).parents[0].ID,ce=n.Objects.Model[oe],Be={modelName:THREE.PropertyBinding.sanitizeNodeName(ce.attrName),morphName:n.Objects.Deformer[ge].attrName};z[J]=Be}z[J][Z.attr]=Z}}}),F.set(parseInt(N),z)}}return F},getModelAnimTransform:function(B){var O={};return"RotationOrder"in B&&(O.eulerOrder=parseInt(B.RotationOrder.value)),"Lcl_Translation"in B&&(O.translation=B.Lcl_Translation.value),"RotationOffset"in B&&(O.rotationOffset=B.RotationOffset.value),"Lcl_Rotation"in B&&(O.rotation=B.Lcl_Rotation.value),"PreRotation"in B&&(O.preRotation=B.PreRotation.value),"PostRotation"in B&&(O.postRotation=B.PostRotation.value),"Lcl_Scaling"in B&&(O.scale=B.Lcl_Scaling.value),P(O)},parseAnimStacks:function(B){var O=n.Objects.AnimationStack,F={};for(var N in O){var z=e.get(parseInt(N)).children;z.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");var j=B.get(z[0].ID);F[N]={name:O[N].attrName,layer:j}}return F},addClip:function(B){var O=[],F=this;return B.layer.forEach(function(N){O=O.concat(F.generateTracks(N))}),new THREE.AnimationClip(B.name,-1,O)},generateTracks:function(B){var O=[],F=new THREE.Vector3,N=new THREE.Quaternion,z=new THREE.Vector3;if(B.transform&&B.transform.decompose(F,N,z),F=F.toArray(),N=new THREE.Euler().setFromQuaternion(N).toArray(),z=z.toArray(),B.T!==void 0&&Object.keys(B.T.curves).length>0){var j=this.generateVectorTrack(B.modelName,B.T.curves,F,"position");j!==void 0&&O.push(j)}if(B.R!==void 0&&Object.keys(B.R.curves).length>0){var G=this.generateRotationTrack(B.modelName,B.R.curves,N,B.preRotations,B.postRotations);G!==void 0&&O.push(G)}if(B.S!==void 0&&Object.keys(B.S.curves).length>0){var Q=this.generateVectorTrack(B.modelName,B.S.curves,z,"scale");Q!==void 0&&O.push(Q)}if(B.DeformPercent!==void 0){var X=this.generateMorphTrack(B);X!==void 0&&O.push(X)}return O},generateVectorTrack:function(B,O,F,N){var z=this.getTimesForAllAxes(O),j=this.getKeyframeTrackValues(z,O,F);return new THREE.VectorKeyframeTrack(B+"."+N,z,j)},generateRotationTrack:function(B,O,F,N,z){O.x!==void 0&&(this.interpolateRotations(O.x),O.x.values=O.x.values.map(THREE.Math.degToRad)),O.y!==void 0&&(this.interpolateRotations(O.y),O.y.values=O.y.values.map(THREE.Math.degToRad)),O.z!==void 0&&(this.interpolateRotations(O.z),O.z.values=O.z.values.map(THREE.Math.degToRad));var j=this.getTimesForAllAxes(O),G=this.getKeyframeTrackValues(j,O,F);N!==void 0&&(N=N.map(THREE.Math.degToRad),N.push("ZYX"),N=new THREE.Euler().fromArray(N),N=new THREE.Quaternion().setFromEuler(N)),z!==void 0&&(z=z.map(THREE.Math.degToRad),z.push("ZYX"),z=new THREE.Euler().fromArray(z),z=new THREE.Quaternion().setFromEuler(z).inverse());for(var Q=new THREE.Quaternion,X=new THREE.Euler,J=[],Z=0;Z<G.length;Z+=3)X.set(G[Z],G[Z+1],G[Z+2],"ZYX"),Q.setFromEuler(X),N!==void 0&&Q.premultiply(N),z!==void 0&&Q.multiply(z),Q.toArray(J,Z/3*4);return new THREE.QuaternionKeyframeTrack(B+".quaternion",j,J)},generateMorphTrack:function(B){var O=B.DeformPercent.curves.morph,F=O.values.map(function(z){return z/100}),N=r.getObjectByName(B.modelName).morphTargetDictionary[B.morphName];return new THREE.NumberKeyframeTrack(B.modelName+".morphTargetInfluences["+N+"]",O.times,F)},getTimesForAllAxes:function(B){var O=[];return B.x!==void 0&&(O=O.concat(B.x.times)),B.y!==void 0&&(O=O.concat(B.y.times)),B.z!==void 0&&(O=O.concat(B.z.times)),O=O.sort(function(F,N){return F-N}).filter(function(F,N,z){return z.indexOf(F)==N}),O},getKeyframeTrackValues:function(B,O,F){var N=F,z=[],j=-1,G=-1,Q=-1;return B.forEach(function(X){if(O.x&&(j=O.x.times.indexOf(X)),O.y&&(G=O.y.times.indexOf(X)),O.z&&(Q=O.z.times.indexOf(X)),j!==-1){var J=O.x.values[j];z.push(J),N[0]=J}else z.push(N[0]);if(G!==-1){var Z=O.y.values[G];z.push(Z),N[1]=Z}else z.push(N[1]);if(Q!==-1){var oe=O.z.values[Q];z.push(oe),N[2]=oe}else z.push(N[2])}),z},interpolateRotations:function(B){for(var O=1;O<B.values.length;O++){var F=B.values[O-1],N=B.values[O]-F,z=Math.abs(N);if(z>=180){for(var j=z/180,G=N/j,Q=F+G,X=B.times[O-1],J=B.times[O]-X,Z=J/j,oe=X+Z,ce=[],Be=[];oe<B.times[O];)ce.push(oe),oe+=Z,Be.push(Q),Q+=G;B.times=V(B.times,O,ce),B.values=V(B.values,O,Be)}}}};function u(){}u.prototype={constructor:u,getPrevNode:function(){return this.nodeStack[this.currentIndent-2]},getCurrentNode:function(){return this.nodeStack[this.currentIndent-1]},getCurrentProp:function(){return this.currentProp},pushStack:function(B){this.nodeStack.push(B),this.currentIndent+=1},popStack:function(){this.nodeStack.pop(),this.currentIndent-=1},setCurrentProp:function(B,O){this.currentProp=B,this.currentPropName=O},parse:function(B){this.currentIndent=0,console.log("FBXTree: ",h),this.allNodes=new h,this.nodeStack=[],this.currentProp=[],this.currentPropName="";var O=this,F=B.split(/[\r\n]+/);return F.forEach(function(N,z){var j=N.match(/^[\s\t]*;/),G=N.match(/^[\s\t]*$/);if(!(j||G)){var Q=N.match("^\\t{"+O.currentIndent+"}(\\w+):(.*){",""),X=N.match("^\\t{"+O.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),J=N.match("^\\t{"+(O.currentIndent-1)+"}}");Q?O.parseNodeBegin(N,Q):X?O.parseNodeProperty(N,X,F[++z]):J?O.popStack():N.match(/^[^\s\t}]/)&&O.parseNodePropertyContinued(N)}}),this.allNodes},parseNodeBegin:function(B,O){var F=O[1].trim().replace(/^"/,"").replace(/"$/,""),N=O[2].split(",").map(function(Q){return Q.trim().replace(/^"/,"").replace(/"$/,"")}),z={name:F},j=this.parseNodeAttr(N),G=this.getCurrentNode();this.currentIndent===0?this.allNodes.add(F,z):F in G?(F==="PoseNode"?G.PoseNode.push(z):G[F].id!==void 0&&(G[F]={},G[F][G[F].id]=G[F]),j.id!==""&&(G[F][j.id]=z)):typeof j.id=="number"?(G[F]={},G[F][j.id]=z):F!=="Properties70"&&(F==="PoseNode"?G[F]=[z]:G[F]=z),typeof j.id=="number"&&(z.id=j.id),j.name!==""&&(z.attrName=j.name),j.type!==""&&(z.attrType=j.type),this.pushStack(z)},parseNodeAttr:function(B){var O=B[0];B[0]!==""&&(O=parseInt(B[0]),isNaN(O)&&(O=B[0]));var F="",N="";return B.length>1&&(F=B[1].replace(/^(\w+)::/,""),N=B[2]),{id:O,name:F,type:N}},parseNodeProperty:function(B,O,F){var N=O[1].replace(/^"/,"").replace(/"$/,"").trim(),z=O[2].replace(/^"/,"").replace(/"$/,"").trim();N==="Content"&&z===","&&(z=F.replace(/"/g,"").replace(/,$/,"").trim());var j=this.getCurrentNode(),G=j.name;if(G==="Properties70"){this.parseNodeSpecialProperty(B,N,z);return}if(N==="C"){var Q=z.split(",").slice(1),X=parseInt(Q[0]),J=parseInt(Q[1]),Z=z.split(",").slice(3);Z=Z.map(function(oe){return oe.trim().replace(/^"/,"")}),N="connections",z=[X,J],D(z,Z),j[N]===void 0&&(j[N]=[])}N==="Node"&&(j.id=z),N in j&&Array.isArray(j[N])?j[N].push(z):N!=="a"?j[N]=z:j.a=z,this.setCurrentProp(j,N),N==="a"&&z.slice(-1)!==","&&(j.a=L(z))},parseNodePropertyContinued:function(B){var O=this.getCurrentNode();O.a+=B,B.slice(-1)!==","&&(O.a=L(O.a))},parseNodeSpecialProperty:function(B,O,F){var N=F.split('",').map(function(J){return J.trim().replace(/^\"/,"").replace(/\s/,"_")}),z=N[0],j=N[1],G=N[2],Q=N[3],X=N[4];switch(j){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":X=parseFloat(X);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":X=L(X);break}this.getPrevNode()[z]={type:j,type2:G,flag:Q,value:X},this.setCurrentProp(this.getPrevNode(),z)}};function c(){}c.prototype={constructor:c,parse:function(B){var O=new d(B);O.skip(23);var F=O.getUint32();console.log("THREE.FBXLoader: FBX binary version: "+F);for(var N=new h;!this.endOfContent(O);){var z=this.parseNode(O,F);z!==null&&N.add(z.name,z)}return N},endOfContent:function(B){return B.size()%16===0?(B.getOffset()+160+16&-16)>=B.size():B.getOffset()+160+16>=B.size()},parseNode:function(B,O){var F={},N=O>=7500?B.getUint64():B.getUint32(),z=O>=7500?B.getUint64():B.getUint32();O>=7500?B.getUint64():B.getUint32();var j=B.getUint8(),G=B.getString(j);if(N===0)return null;for(var Q=[],X=0;X<z;X++)Q.push(this.parseProperty(B));var J=Q.length>0?Q[0]:"",Z=Q.length>1?Q[1]:"",oe=Q.length>2?Q[2]:"";for(F.singleProperty=z===1&&B.getOffset()===N;N>B.getOffset();){var ce=this.parseNode(B,O);ce!==null&&this.parseSubNode(G,F,ce)}return F.propertyList=Q,typeof J=="number"&&(F.id=J),Z!==""&&(F.attrName=Z),oe!==""&&(F.attrType=oe),G!==""&&(F.name=G),F},parseSubNode:function(B,O,F){if(F.singleProperty===!0){var N=F.propertyList[0];Array.isArray(N)?(O[F.name]=F,F.a=N):O[F.name]=N}else if(B==="Connections"&&F.name==="C"){var z=[];F.propertyList.forEach(function(oe,ce){ce!==0&&z.push(oe)}),O.connections===void 0&&(O.connections=[]),O.connections.push(z)}else if(F.name==="Properties70"){var j=Object.keys(F);j.forEach(function(oe){O[oe]=F[oe]})}else if(B==="Properties70"&&F.name==="P"){var G=F.propertyList[0],Q=F.propertyList[1],X=F.propertyList[2],J=F.propertyList[3],Z;G.indexOf("Lcl ")===0&&(G=G.replace("Lcl ","Lcl_")),Q.indexOf("Lcl ")===0&&(Q=Q.replace("Lcl ","Lcl_")),Q==="Color"||Q==="ColorRGB"||Q==="Vector"||Q==="Vector3D"||Q.indexOf("Lcl_")===0?Z=[F.propertyList[4],F.propertyList[5],F.propertyList[6]]:Z=F.propertyList[4],O[G]={type:Q,type2:X,flag:J,value:Z}}else O[F.name]===void 0?typeof F.id=="number"?(O[F.name]={},O[F.name][F.id]=F):O[F.name]=F:F.name==="PoseNode"?(Array.isArray(O[F.name])||(O[F.name]=[O[F.name]]),O[F.name].push(F)):O[F.name][F.id]===void 0&&(O[F.name][F.id]=F)},parseProperty:function(B){var O=B.getString(1);switch(O){case"C":return B.getBoolean();case"D":return B.getFloat64();case"F":return B.getFloat32();case"I":return B.getInt32();case"L":return B.getInt64();case"R":var F=B.getUint32();return B.getArrayBuffer(F);case"S":var F=B.getUint32();return B.getString(F);case"Y":return B.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":var N=B.getUint32(),z=B.getUint32(),j=B.getUint32();if(z===0)switch(O){case"b":case"c":return B.getBooleanArray(N);case"d":return B.getFloat64Array(N);case"f":return B.getFloat32Array(N);case"i":return B.getInt32Array(N);case"l":return B.getInt64Array(N)}typeof Zlib>"u"&&console.error("THREE.FBXLoader: External library Inflate.min.js required, obtain or import from https://github.com/imaya/zlib.js");var G=new Zlib.Inflate(new Uint8Array(B.getArrayBuffer(j))),Q=new d(G.decompress().buffer);switch(O){case"b":case"c":return Q.getBooleanArray(N);case"d":return Q.getFloat64Array(N);case"f":return Q.getFloat32Array(N);case"i":return Q.getInt32Array(N);case"l":return Q.getInt64Array(N)}default:throw new Error("THREE.FBXLoader: Unknown property type "+O)}}};function d(B,O){this.dv=new DataView(B),this.offset=0,this.littleEndian=O!==void 0?O:!0}d.prototype={constructor:d,getOffset:function(){return this.offset},size:function(){return this.dv.buffer.byteLength},skip:function(B){this.offset+=B},getBoolean:function(){return(this.getUint8()&1)===1},getBooleanArray:function(B){for(var O=[],F=0;F<B;F++)O.push(this.getBoolean());return O},getUint8:function(){var B=this.dv.getUint8(this.offset);return this.offset+=1,B},getInt16:function(){var B=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,B},getInt32:function(){var B=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,B},getInt32Array:function(B){for(var O=[],F=0;F<B;F++)O.push(this.getInt32());return O},getUint32:function(){var B=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,B},getInt64:function(){var B,O;return this.littleEndian?(B=this.getUint32(),O=this.getUint32()):(O=this.getUint32(),B=this.getUint32()),O&2147483648?(O=~O&4294967295,B=~B&4294967295,B===4294967295&&(O=O+1&4294967295),B=B+1&4294967295,-(O*4294967296+B)):O*4294967296+B},getInt64Array:function(B){for(var O=[],F=0;F<B;F++)O.push(this.getInt64());return O},getUint64:function(){var B,O;return this.littleEndian?(B=this.getUint32(),O=this.getUint32()):(O=this.getUint32(),B=this.getUint32()),O*4294967296+B},getFloat32:function(){var B=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,B},getFloat32Array:function(B){for(var O=[],F=0;F<B;F++)O.push(this.getFloat32());return O},getFloat64:function(){var B=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,B},getFloat64Array:function(B){for(var O=[],F=0;F<B;F++)O.push(this.getFloat64());return O},getArrayBuffer:function(B){var O=this.dv.buffer.slice(this.offset,this.offset+B);return this.offset+=B,O},getString:function(B){for(var O=[],F=0;F<B;F++)O[F]=this.getUint8();var N=O.indexOf(0);return N>=0&&(O=O.slice(0,N)),THREE.LoaderUtils.decodeText(new Uint8Array(O))}};function h(){}h.prototype={constructor:h,add:function(B,O){this[B]=O}};function p(B){var O="Kaydara FBX Binary  \0";return B.byteLength>=O.length&&O===T(B,0,O.length)}function m(B){var O=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"],F=0;function N(G){var Q=B[G-1];return B=B.slice(F+G),F++,Q}for(var z=0;z<O.length;++z){var j=N(1);if(j===O[z])return!1}return!0}function v(B){var O=/FBXVersion: (\d+)/,F=B.match(O);if(F){var N=parseInt(F[1]);return N}throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function y(B){return B/46186158e3}var A=[];function b(B,O,F,N){var z;switch(N.mappingType){case"ByPolygonVertex":z=B;break;case"ByPolygon":z=O;break;case"ByVertice":z=F;break;case"AllSame":z=N.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+N.mappingType)}N.referenceType==="IndexToDirect"&&(z=N.indices[z]);var j=z*N.dataSize,G=j+N.dataSize;return H(A,N.buffer,j,G)}var g=new THREE.Matrix4,w=new THREE.Euler,E=new THREE.Vector3,C=new THREE.Vector3,_=new THREE.Matrix4;function P(B){var O=new THREE.Matrix4;C.set(0,0,0),_.identity();var F=B.eulerOrder?R(B.eulerOrder):R(0);if(B.translation&&C.fromArray(B.translation),B.rotationOffset&&C.add(E.fromArray(B.rotationOffset)),B.rotation){var N=B.rotation.map(THREE.Math.degToRad);N.push(F),_.makeRotationFromEuler(w.fromArray(N))}if(B.preRotation){var N=B.preRotation.map(THREE.Math.degToRad);N.push(F),g.makeRotationFromEuler(w.fromArray(N)),_.premultiply(g)}if(B.postRotation){var N=B.postRotation.map(THREE.Math.degToRad);N.push(F),g.makeRotationFromEuler(w.fromArray(N)),g.getInverse(g),_.multiply(g)}return B.scale&&O.scale(E.fromArray(B.scale)),O.setPosition(C),O.multiply(_),O}function R(B){var O=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return B===6?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),O[0]):O[B]}function L(B){var O=B.split(",").map(function(F){return parseFloat(F)});return O}function T(B,O,F){return O===void 0&&(O=0),F===void 0&&(F=B.byteLength),THREE.LoaderUtils.decodeText(new Uint8Array(B,O,F))}function D(B,O){for(var F=0,N=B.length,z=O.length;F<z;F++,N++)B[N]=O[F]}function H(B,O,F,N){for(var z=F,j=0;z<N;z++,j++)B[j]=O[z];return B}function V(B,O,F){return B.slice(0,O).concat(F).concat(B.slice(O))}return i}();THREE.FBXLoader=GRe;AFRAME.registerComponent("fbx-model",{schema:{src:{type:"asset"},crossorigin:{default:""}},init:function(){this.model=null},update:function(){const n=this.data;if(!n.src)return;this.remove();const e=new THREE.FBXLoader;n.crossorigin&&e.setCrossOrigin(n.crossorigin),e.load(n.src,this.load.bind(this))},load:function(n){this.model=n,this.el.setObject3D("mesh",n),this.el.emit("model-loaded",{format:"fbx",model:n})},remove:function(){this.model&&this.el.removeObject3D("mesh")}});function VRe(){return"script_"+Date.now()+"_"+Math.ceil(Math.random()*1e5)}function WRe(n,e){var r=document.createElement("script");return r.type="text/javascript",r.async=!0,r.id=e,r.src=n,r}function iM(n){const e=document.getElementById(n),r=e.parentNode;try{r&&r.removeChild(e)}catch{}}function QRe(n){const e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)}function KRe(n,e,r){return new r(function(i,o){const s=e.timeout||5e3,l=VRe(),u=WRe(n,l),c=setTimeout(function(){o(new Error("Script request to "+n+" timed out")),iM(l)},s),d=function(h){clearTimeout(h)};u.addEventListener("load",function(h){i({ok:!0}),d(c),iM(l)}),u.addEventListener("error",function(h){o(new Error("Script request to "+n+" failed "+h)),d(c),iM(l)}),QRe(u)})}function XRe(n){return n=n||{},function(e,r){return r=r||{},KRe(e,r,n.Promise||Promise)}}var qRe=XRe;const YRe=qRe(),JRe="https://cdn.jsdelivr.net/gh/mrdoob/three.js@r86/examples/js/loaders/GLTFLoader.js",ZRe=function(){let n;return function(){return n=n||YRe(JRe),n}}();AFRAME.registerComponent("gltf-model-legacy",{schema:{type:"model"},init:function(){this.model=null,this.loader=null,this.loaderPromise=ZRe().then(()=>{this.loader=new THREE.GLTFLoader,this.loader.setCrossOrigin("Anonymous")})},update:function(){const n=this,e=this.el,r=this.data;r&&(this.remove(),this.loaderPromise.then(()=>{this.loader.load(r,function(o){n.model=o.scene,n.model.animations=o.animations,e.setObject3D("mesh",n.model),e.emit("model-loaded",{format:"gltf",model:n.model})})}))},remove:function(){this.model&&this.el.removeObject3D("mesh")}});AFRAME.registerComponent("object-model",{schema:{src:{type:"asset"},crossorigin:{default:""}},init:function(){this.model=null},update:function(){let n;const e=this.data;e.src&&(this.remove(),n=new THREE.ObjectLoader,e.crossorigin&&n.setCrossOrigin(e.crossorigin),n.load(e.src,r=>{r.traverse(i=>{i instanceof THREE.SkinnedMesh&&i.material&&(i.material.skinning=!!(i.geometry&&i.geometry.bones||[]).length)}),this.load(r)}))},load:function(n){this.model=n,this.el.setObject3D("mesh",n),this.el.emit("model-loaded",{format:"json",model:n})},remove:function(){this.model&&this.el.removeObject3D("mesh")}});AFRAME.registerComponent("checkpoint",{schema:{offset:{default:{x:0,y:0,z:0},type:"vec3"}},init:function(){this.active=!1,this.targetEl=null,this.fire=this.fire.bind(this),this.offset=new THREE.Vector3},update:function(){this.offset.copy(this.data.offset)},play:function(){this.el.addEventListener("click",this.fire)},pause:function(){this.el.removeEventListener("click",this.fire)},remove:function(){this.pause()},fire:function(){const n=this.el.sceneEl.querySelector("[checkpoint-controls]");if(!n)throw new Error("No `checkpoint-controls` component found.");n.components["checkpoint-controls"].setCheckpoint(this.el)},getOffset:function(){return this.offset.copy(this.data.offset)}});function eIe(n){return n?Array.isArray(n)?n:n.materials?n.materials:[n]:[]}function Gv(n,e,r,i){n&&(e=e||[],n.traverse(o=>{if(!o.isMesh)return;eIe(o.material).forEach(l=>{l&&!("envMap"in l)||e.length&&e.indexOf(l.name)===-1||(l.envMap=r,l.reflectivity=i,l.needsUpdate=!0)})}))}AFRAME.registerComponent("cube-env-map",{multiple:!0,schema:{path:{default:""},extension:{default:"jpg",oneOf:["jpg","png"]},format:{default:"RGBFormat",oneOf:["RGBFormat","RGBAFormat"]},enableBackground:{default:!1},reflectivity:{default:1,min:0,max:1},materials:{default:[]}},init:function(){const n=this.data;this.texture=new THREE.CubeTextureLoader().load([n.path+"posx."+n.extension,n.path+"negx."+n.extension,n.path+"posy."+n.extension,n.path+"negy."+n.extension,n.path+"posz."+n.extension,n.path+"negz."+n.extension]),this.texture.format=THREE[n.format],this.object3dsetHandler=()=>{const e=this.el.getObject3D("mesh"),r=this.data;Gv(e,r.materials,this.texture,r.reflectivity)},this.el.addEventListener("object3dset",this.object3dsetHandler)},update:function(n){const e=this.data,r=this.el.getObject3D("mesh");let i=[],o=[];if(e.materials.length&&(n.materials?(i=e.materials.filter(s=>!n.materials.includes(s)),o=n.materials.filter(s=>!e.materials.includes(s))):i=e.materials),i.length&&Gv(r,i,this.texture,e.reflectivity),o.length&&Gv(r,o,null,1),n.materials&&e.reflectivity!==n.reflectivity){const s=e.materials.filter(l=>n.materials.includes(l));s.length&&Gv(r,s,this.texture,e.reflectivity)}this.data.enableBackground&&!n.enableBackground?this.setBackground(this.texture):!this.data.enableBackground&&n.enableBackground&&this.setBackground(null)},remove:function(){this.el.removeEventListener("object3dset",this.object3dsetHandler);const n=this.el.getObject3D("mesh"),e=this.data;Gv(n,e.materials,null,1),e.enableBackground&&this.setBackground(null)},setBackground:function(n){this.el.sceneEl.object3D.background=n}});AFRAME.registerComponent("grab",{init:function(){this.system=this.el.sceneEl.systems.physics,this.GRABBED_STATE="grabbed",this.grabbing=!1,this.hitEl=null,this.physics=this.el.sceneEl.systems.physics,this.constraint=null,this.onHit=this.onHit.bind(this),this.onGripOpen=this.onGripOpen.bind(this),this.onGripClose=this.onGripClose.bind(this)},play:function(){const n=this.el;n.addEventListener("hit",this.onHit),n.addEventListener("gripdown",this.onGripClose),n.addEventListener("gripup",this.onGripOpen),n.addEventListener("trackpaddown",this.onGripClose),n.addEventListener("trackpadup",this.onGripOpen),n.addEventListener("triggerdown",this.onGripClose),n.addEventListener("triggerup",this.onGripOpen)},pause:function(){const n=this.el;n.removeEventListener("hit",this.onHit),n.removeEventListener("gripdown",this.onGripClose),n.removeEventListener("gripup",this.onGripOpen),n.removeEventListener("trackpaddown",this.onGripClose),n.removeEventListener("trackpadup",this.onGripOpen),n.removeEventListener("triggerdown",this.onGripClose),n.removeEventListener("triggerup",this.onGripOpen)},onGripClose:function(){this.grabbing=!0},onGripOpen:function(){const n=this.hitEl;this.grabbing=!1,n&&(n.removeState(this.GRABBED_STATE),this.hitEl=void 0,this.system.removeConstraint(this.constraint),this.constraint=null)},onHit:function(n){const e=n.detail.el;!e||e.is(this.GRABBED_STATE)||!this.grabbing||this.hitEl||(e.addState(this.GRABBED_STATE),this.hitEl=e,this.constraint=new CANNON.LockConstraint(this.el.body,e.body),this.system.addConstraint(this.constraint))}});const tIe=-9.8,nIe=-15;AFRAME.registerComponent("jump-ability",{dependencies:["velocity"],schema:{on:{default:"keydown:Space gamepadbuttondown:0"},playerHeight:{default:1.764},maxJumps:{default:1},distance:{default:5},debug:{default:!1}},init:function(){this.velocity=0,this.numJumps=0;const n=this.beginJump.bind(this),e=this.data.on.split(" ");this.bindings={};for(let r=0;r<e.length;r++)this.bindings[e[r]]=n,this.el.addEventListener(e[r],n);this.bindings.collide=this.onCollide.bind(this),this.el.addEventListener("collide",this.bindings.collide)},remove:function(){for(var n in this.bindings)this.bindings.hasOwnProperty(n)&&(this.el.removeEventListener(n,this.bindings[n]),delete this.bindings[n]);this.el.removeEventListener("collide",this.bindings.collide),delete this.bindings.collide},beginJump:function(){if(this.numJumps<this.data.maxJumps){const n=this.data,e=Math.sqrt(-2*n.distance*(tIe+nIe)),r=this.el.getAttribute("velocity");this.el.setAttribute("velocity",{x:r.x,y:e,z:r.z}),this.numJumps++,this.el.emit("jumpstart")}},onCollide:function(){this.numJumps>0&&this.el.emit("jumpend"),this.numJumps=0}});const x8=1e-6;AFRAME.registerComponent("kinematic-body",{dependencies:["velocity"],schema:{mass:{default:5},radius:{default:1.3},linearDamping:{default:.05},enableSlopes:{default:!0},enableJumps:{default:!1}},init:function(){this.system=this.el.sceneEl.systems.physics,this.system.addComponent(this);const n=this.el,e=this.data,r=new CANNON.Vec3().copy(n.object3D.getWorldPosition(new THREE.Vector3));this.body=new CANNON.Body({material:this.system.getMaterial("staticMaterial"),position:r,mass:e.mass,linearDamping:e.linearDamping,fixedRotation:!0}),this.body.addShape(new CANNON.Sphere(e.radius),new CANNON.Vec3(0,e.radius,0)),this.body.el=this.el,this.el.body=this.body,this.system.addBody(this.body),n.hasAttribute("wasd-controls")&&console.warn("[kinematic-body] Not compatible with wasd-controls, use movement-controls.")},remove:function(){this.system.removeBody(this.body),this.system.removeComponent(this),delete this.el.body},beforeStep:function(n,e){if(!e)return;const r=this.el,i=this.data,o=this.body;i.enableJumps||o.velocity.set(0,0,0),o.position.copy(r.getAttribute("position"))},step:function(){const n=new THREE.Vector3,e=new THREE.Vector3,r=new THREE.Vector3,i=new THREE.Vector3;return function(o,s){if(!s)return;let l=this.body,u=this.data,c=!1,d,h=-1/0,p,m=this.system.getContacts();s=Math.min(s,this.system.data.maxInterval*1e3),i.set(0,0,0),n.copy(this.el.getAttribute("velocity")),l.velocity.copy(n);for(var v=0,y;y=m[v];v++)if(y.enabled){if(l.id===y.bi.id)y.ni.negate(r);else if(l.id===y.bj.id)r.copy(y.ni);else continue;c=l.velocity.dot(r)<-x8,c&&r.y<=.5?n.projectOnPlane(r):r.y>.5&&(d=l.id===y.bi.id?Math.abs(y.rj.y+y.bj.position.y):Math.abs(y.ri.y+y.bi.position.y),d>h&&(h=d,i.copy(r),p=l.id===y.bi.id?y.bj:y.bi))}e.copy(n).normalize(),p&&(!u.enableJumps||e.y<.5)?(u.enableSlopes?i.y<1-x8&&i.copy(this.raycastToGround(p,i)):i.set(0,1,0),n.projectOnPlane(i)):this.system.driver.world&&n.add(this.system.driver.world.gravity.scale(s*4/1e3)),l.velocity.copy(n),this.el.setAttribute("velocity",l.velocity),this.el.setAttribute("position",l.position)}}(),raycastToGround:function(n,e){let r,i,o=this.body.position,s=this.body.position.clone();return r=new CANNON.Ray(o,s),r._updateDirection(),r.intersectBody(n),r.hasHit?(i=r.result.hitNormalWorld,Math.abs(i.y)>Math.abs(e.y)?i:e):e}});AFRAME.registerComponent("mesh-smooth",{init:function(){this.el.addEventListener("model-loaded",n=>{n.detail.model.traverse(e=>{e.isMesh&&e.geometry.computeVertexNormals()})})}});AFRAME.registerComponent("normal-material",{init:function(){this.material=new THREE.MeshNormalMaterial({flatShading:!0}),this.applyMaterial=this.applyMaterial.bind(this),this.el.addEventListener("object3dset",this.applyMaterial)},remove:function(){this.el.removeEventListener("object3dset",this.applyMaterial)},applyMaterial:function(){this.el.object3D.traverse(n=>{n.isMesh&&(n.material=this.material)})}});AFRAME.registerComponent("sphere-collider",{schema:{objects:{default:""},state:{default:"collided"},radius:{default:.05},watch:{default:!0}},init:function(){this.observer=null,this.els=[],this.collisions=[],this.handleHit=this.handleHit.bind(this),this.handleHitEnd=this.handleHitEnd.bind(this)},remove:function(){this.pause()},play:function(){const n=this.el.sceneEl;this.data.watch&&(this.observer=new MutationObserver(this.update.bind(this,null)),this.observer.observe(n,{childList:!0,subtree:!0}))},pause:function(){this.observer&&(this.observer.disconnect(),this.observer=null)},update:function(){const n=this.data;let e;n.objects?e=this.el.sceneEl.querySelectorAll(n.objects):e=this.el.sceneEl.children,this.els=Array.prototype.slice.call(e)},tick:function(){const n=new THREE.Vector3,e=new THREE.Vector3,r=new THREE.Vector3,i=new THREE.Vector3,o=new THREE.Box3,s=new Map;return function(){const l=this.el,u=this.data,c=l.getObject3D("mesh"),d=[];let h;if(!c)return;s.clear(),l.object3D.getWorldPosition(n),l.object3D.getWorldScale(r),h=u.radius*m(r),this.els.forEach(p),d.sort((v,y)=>s.get(v)>s.get(y)?1:-1).forEach(this.handleHit),d.length===0&&l.emit("hit",{el:null}),this.collisions.filter(v=>!s.has(v)).forEach(this.handleHitEnd),this.collisions=d;function p(v){let y,A,b,g;v.isEntity&&(A=v.getObject3D("mesh"),A&&(o.setFromObject(A).getSize(i),g=Math.max(i.x,i.y,i.z)/2,y=Math.sqrt(2*g*g),o.getCenter(e),y&&(b=n.distanceTo(e),b<y+h&&(d.push(v),s.set(v,b)))))}function m(v){return Math.max.apply(null,v.toArray())}}}(),handleHit:function(n){n.emit("hit"),n.addState(this.data.state),this.el.emit("hit",{el:n})},handleHitEnd:function(n){n.emit("hitend"),n.removeState(this.data.state),this.el.emit("hitend",{el:n})}});AFRAME.registerComponent("nav-mesh",{init:function(){this.system=this.el.sceneEl.systems.nav,this.hasLoadedNavMesh=!1,this.el.addEventListener("object3dset",this.loadNavMesh.bind(this))},play:function(){this.hasLoadedNavMesh||this.loadNavMesh()},loadNavMesh:function(){const n=this.el.getObject3D("mesh"),e=this.el.sceneEl.object3D;if(!n)return;let r;if(n.traverse(o=>{o.isMesh&&(r=o)}),!r)return;const i=r.geometry.isBufferGeometry?new THREE.Geometry().fromBufferGeometry(r.geometry):r.geometry.clone();e.updateMatrixWorld(),i.applyMatrix(r.matrixWorld),this.system.setNavMeshGeometry(i),this.hasLoadedNavMesh=!0}});AFRAME.registerComponent("nav-agent",{schema:{destination:{type:"vec3"},active:{default:!1},speed:{default:2}},init:function(){this.system=this.el.sceneEl.systems.nav,this.system.addAgent(this),this.group=null,this.path=[],this.raycaster=new THREE.Raycaster},remove:function(){this.system.removeAgent(this)},update:function(){this.path.length=0},updateNavLocation:function(){this.group=null,this.path=[]},tick:function(){const n=new THREE.Vector3,e=new THREE.Vector3,r=new THREE.Vector3;return function(i,o){const s=this.el,l=this.data,u=this.raycaster,c=l.speed*o/1e3;if(!l.active)return;if(!this.path.length){const y=this.el.object3D.position;this.group=this.group||this.system.getGroup(y),this.path=this.system.getPath(y,n.copy(l.destination),this.group)||[],s.emit("navigation-start")}if(!this.path.length){console.warn("[nav] Unable to find path to %o.",l.destination),this.el.setAttribute("nav-agent",{active:!1}),s.emit("navigation-end");return}const d=s.object3D.position,h=this.path[0];e.subVectors(h,d);const p=e.length();let m;if(p<c){if(this.path.shift(),!this.path.length){this.el.setAttribute("nav-agent",{active:!1}),s.emit("navigation-end");return}r.copy(d),m=this.path[0]}else r.copy(e.setLength(c)).add(d),m=h;m.y=d.y,s.object3D.lookAt(m),u.ray.origin.copy(r),u.ray.origin.y+=1.5,u.ray.direction.y=-1;const v=u.intersectObject(this.system.getNavMesh());v.length?(e.subVectors(v[0].point,d),d.add(e.setLength(c))):d.copy(r)}}()});var Bi=function(){};Bi.computeCentroids=function(n){var e,r,i;for(e=0,r=n.faces.length;e<r;e++)(i=n.faces[e]).centroid=new THREE.Vector3(0,0,0),i.centroid.add(n.vertices[i.a]),i.centroid.add(n.vertices[i.b]),i.centroid.add(n.vertices[i.c]),i.centroid.divideScalar(3)},Bi.roundNumber=function(n,e){return Number(n.toFixed(e))},Bi.sample=function(n){return n[Math.floor(Math.random()*n.length)]},Bi.mergeVertexIds=function(n,e){var r=[];if(n.forEach(function(c){e.indexOf(c)>=0&&r.push(c)}),r.length<2)return[];r.includes(n[0])&&r.includes(n[n.length-1])&&n.push(n.shift()),r.includes(e[0])&&r.includes(e[e.length-1])&&e.push(e.shift()),r=[],n.forEach(function(c){e.includes(c)&&r.push(c)});for(var i=r[1],o=r[0],s=n.slice();s[0]!==i;)s.push(s.shift());for(var l=0,u=e.slice();u[0]!==o;)if(u.push(u.shift()),l++>10)throw new Error("Unexpected state");return u.shift(),u.pop(),s=s.concat(u)},Bi.setPolygonCentroid=function(n,e){var r=new THREE.Vector3,i=e.vertices;n.vertexIds.forEach(function(o){r.add(i[o])}),r.divideScalar(n.vertexIds.length),n.centroid.copy(r)},Bi.cleanPolygon=function(n,e){for(var r=[],i=e.vertices,o=0;o<n.vertexIds.length;o++){var s,l,u,c=i[n.vertexIds[o]];o===0?(s=n.vertexIds[1],l=n.vertexIds[n.vertexIds.length-1]):o===n.vertexIds.length-1?(s=n.vertexIds[0],l=n.vertexIds[n.vertexIds.length-2]):(s=n.vertexIds[o+1],l=n.vertexIds[o-1]),u=i[l];var d=i[s].clone().sub(c),h=u.clone().sub(c),p=d.angleTo(h);if(p>Math.PI-.01&&p<Math.PI+.01){var m=[];n.neighbours.forEach(function(v){v.vertexIds.includes(n.vertexIds[o])||m.push(v)}),n.neighbours=m}else r.push(n.vertexIds[o])}n.vertexIds=r,this.setPolygonCentroid(n,e)},Bi.isConvex=function(n,e){var r=e.vertices;if(n.vertexIds.length<3)return!1;for(var i=!0,o=[],s=0;s<n.vertexIds.length;s++){var l,u,c=r[n.vertexIds[s]];s===0?(l=r[n.vertexIds[1]],u=r[n.vertexIds[n.vertexIds.length-1]]):s===n.vertexIds.length-1?(l=r[n.vertexIds[0]],u=r[n.vertexIds[n.vertexIds.length-2]]):(l=r[n.vertexIds[s+1]],u=r[n.vertexIds[s-1]]);var d=l.clone().sub(c),h=u.clone().sub(c),p=d.angleTo(h);if(p===Math.PI||p===0)return!1;var m=d.cross(h).y;o.push(m)}return o.forEach(function(v){v===0&&(i=!1)}),o.forEach(o[0]>0?function(v){v<0&&(i=!1)}:function(v){v>0&&(i=!1)}),i},Bi.distanceToSquared=function(n,e){var r=n.x-e.x,i=n.y-e.y,o=n.z-e.z;return r*r+i*i+o*o},Bi.isPointInPoly=function(n,e){for(var r=!1,i=-1,o=n.length,s=o-1;++i<o;s=i)(n[i].z<=e.z&&e.z<n[s].z||n[s].z<=e.z&&e.z<n[i].z)&&e.x<(n[s].x-n[i].x)*(e.z-n[i].z)/(n[s].z-n[i].z)+n[i].x&&(r=!r);return r},Bi.isVectorInPolygon=function(n,e,r){var i=1e5,o=-1e5,s=[];return e.vertexIds.forEach(function(l){i=Math.min(r[l].y,i),o=Math.max(r[l].y,o),s.push(r[l])}),!!(n.y<o+.5&&n.y>i-.5&&this.isPointInPoly(s,n))},Bi.triarea2=function(n,e,r){return(r.x-n.x)*(e.z-n.z)-(e.x-n.x)*(r.z-n.z)},Bi.vequal=function(n,e){return this.distanceToSquared(n,e)<1e-5};var bd=function(n){this.content=[],this.scoreFunction=n};bd.prototype.push=function(n){this.content.push(n),this.sinkDown(this.content.length-1)},bd.prototype.pop=function(){var n=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),n},bd.prototype.remove=function(n){var e=this.content.indexOf(n),r=this.content.pop();e!==this.content.length-1&&(this.content[e]=r,this.scoreFunction(r)<this.scoreFunction(n)?this.sinkDown(e):this.bubbleUp(e))},bd.prototype.size=function(){return this.content.length},bd.prototype.rescoreElement=function(n){this.sinkDown(this.content.indexOf(n))},bd.prototype.sinkDown=function(n){for(var e=this.content[n];n>0;){var r=(n+1>>1)-1,i=this.content[r];if(!(this.scoreFunction(e)<this.scoreFunction(i)))break;this.content[r]=e,this.content[n]=i,n=r}},bd.prototype.bubbleUp=function(n){for(var e=this.content.length,r=this.content[n],i=this.scoreFunction(r);;){var o=n+1<<1,s=o-1,l=null,u=void 0;if(s<e&&(u=this.scoreFunction(this.content[s]))<i&&(l=s),o<e&&this.scoreFunction(this.content[o])<(l===null?i:u)&&(l=o),l===null)break;this.content[n]=this.content[l],this.content[l]=r,n=l}};var Hf=function(){};Hf.init=function(n){for(var e=0;e<n.length;e++){var r=n[e];r.f=0,r.g=0,r.h=0,r.cost=1,r.visited=!1,r.closed=!1,r.parent=null}},Hf.cleanUp=function(n){for(var e=0;e<n.length;e++){var r=n[e];delete r.f,delete r.g,delete r.h,delete r.cost,delete r.visited,delete r.closed,delete r.parent}},Hf.heap=function(){return new bd(function(n){return n.f})},Hf.search=function(n,e,r){this.init(n);var i=this.heap();for(i.push(e);i.size()>0;){var o=i.pop();if(o===r){for(var s=o,l=[];s.parent;)l.push(s),s=s.parent;return this.cleanUp(l),l.reverse()}o.closed=!0;for(var u=this.neighbours(n,o),c=0,d=u.length;c<d;c++){var h=u[c];if(!h.closed){var p=o.g+h.cost,m=h.visited;if(!m||p<h.g){if(h.visited=!0,h.parent=o,!h.centroid||!r.centroid)throw new Error("Unexpected state");h.h=h.h||this.heuristic(h.centroid,r.centroid),h.g=p,h.f=h.g+h.h,m?i.rescoreElement(h):i.push(h)}}}}return[]},Hf.heuristic=function(n,e){return Bi.distanceToSquared(n,e)},Hf.neighbours=function(n,e){for(var r=[],i=0;i<e.neighbours.length;i++)r.push(n[e.neighbours[i]]);return r};var rIe=1,jf=function(){};jf.buildZone=function(n){var e=this,r=this._buildNavigationMesh(n),i={};r.vertices.forEach(function(l){l.x=Bi.roundNumber(l.x,2),l.y=Bi.roundNumber(l.y,2),l.z=Bi.roundNumber(l.z,2)}),i.vertices=r.vertices;var o=this._buildPolygonGroups(r);i.groups=[];var s=function(l,u){for(var c=0;c<l.length;c++)if(u===l[c])return c};return o.forEach(function(l){var u=[];l.forEach(function(c){var d=c.neighbours.map(function(p){return s(l,p)}),h=c.neighbours.map(function(p){return e._getSharedVerticesInOrder(c,p)});c.centroid.x=Bi.roundNumber(c.centroid.x,2),c.centroid.y=Bi.roundNumber(c.centroid.y,2),c.centroid.z=Bi.roundNumber(c.centroid.z,2),u.push({id:s(l,c),neighbours:d,vertexIds:c.vertexIds,centroid:c.centroid,portals:h})}),i.groups.push(u)}),i},jf._buildNavigationMesh=function(n){return Bi.computeCentroids(n),n.mergeVertices(),this._buildPolygonsFromGeometry(n)},jf._buildPolygonGroups=function(n){var e=[],r=0,i=function(o){o.neighbours.forEach(function(s){s.group===void 0&&(s.group=o.group,i(s))})};return n.polygons.forEach(function(o){o.group===void 0&&(o.group=r++,i(o)),e[o.group]||(e[o.group]=[]),e[o.group].push(o)}),e},jf._buildPolygonNeighbours=function(n,e,r){var i=new Set,o=r.get(n.vertexIds[0]),s=r.get(n.vertexIds[1]),l=r.get(n.vertexIds[2]);o.forEach(function(u){(s.has(u)||l.has(u))&&i.add(e.polygons[u])}),s.forEach(function(u){l.has(u)&&i.add(e.polygons[u])}),n.neighbours=Array.from(i)},jf._buildPolygonsFromGeometry=function(n){for(var e=this,r=[],i=n.vertices,o=n.faceVertexUvs,s=new Map,l=0;l<i.length;l++)s.set(l,new Set);n.faces.forEach(function(c){r.push({id:rIe++,vertexIds:[c.a,c.b,c.c],centroid:c.centroid,normal:c.normal,neighbours:[]}),s.get(c.a).add(r.length-1),s.get(c.b).add(r.length-1),s.get(c.c).add(r.length-1)});var u={polygons:r,vertices:i,faceVertexUvs:o};return r.forEach(function(c){e._buildPolygonNeighbours(c,u,s)}),u},jf._getSharedVerticesInOrder=function(n,e){var r=n.vertexIds,i=e.vertexIds,o=new Set;if(r.forEach(function(l){i.includes(l)&&o.add(l)}),o.size<2)return[];o.has(r[0])&&o.has(r[r.length-1])&&r.push(r.shift()),o.has(i[0])&&o.has(i[i.length-1])&&i.push(i.shift());var s=[];return r.forEach(function(l){i.includes(l)&&s.push(l)}),s};var cR=function(){this.portals=[]};cR.prototype.push=function(n,e){e===void 0&&(e=n),this.portals.push({left:n,right:e})},cR.prototype.stringPull=function(){var n,e,r,i=this.portals,o=[],s=0,l=0,u=0;e=i[0].left,r=i[0].right,o.push(n=i[0].left);for(var c=1;c<i.length;c++){var d=i[c].left,h=i[c].right;if(Bi.triarea2(n,r,h)<=0){if(!(Bi.vequal(n,r)||Bi.triarea2(n,e,h)>0)){o.push(e),e=n=e,r=n,l=s=l,u=s,c=s;continue}r=h,u=c}if(Bi.triarea2(n,e,d)>=0){if(!(Bi.vequal(n,e)||Bi.triarea2(n,r,d)<0)){o.push(r),e=n=r,r=n,l=s=u,u=s,c=s;continue}e=d,l=c}}return o.length!==0&&Bi.vequal(o[o.length-1],i[i.length-1].left)||o.push(i[i.length-1].left),this.path=o,o};var oM,aM,Nf,sM,lM,M1,xd=function(){this.zones={}};xd.createZone=function(n){return jf.buildZone(n)},xd.prototype.setZoneData=function(n,e){this.zones[n]=e},xd.prototype.getGroup=function(n,e){if(!this.zones[n])return null;var r=null,i=Math.pow(50,2);return this.zones[n].groups.forEach(function(o,s){o.forEach(function(l){var u=Bi.distanceToSquared(l.centroid,e);u<i&&(r=s,i=u)})}),r},xd.prototype.getRandomNode=function(n,e,r,i){if(!this.zones[n])return new THREE.Vector3;r=r||null,i=i||0;var o=[];return this.zones[n].groups[e].forEach(function(s){r&&i?Bi.distanceToSquared(r,s.centroid)<i*i&&o.push(s.centroid):o.push(s.centroid)}),Bi.sample(o)||new THREE.Vector3},xd.prototype.getClosestNode=function(n,e,r,i){i===void 0&&(i=!1);var o=this.zones[e].vertices,s=null,l=1/0;return this.zones[e].groups[r].forEach(function(u){var c=Bi.distanceToSquared(u.centroid,n);c<l&&(!i||Bi.isVectorInPolygon(n,u,o))&&(s=u,l=c)}),s},xd.prototype.findPath=function(n,e,r,i){var o=this.zones[r].groups[i],s=this.zones[r].vertices,l=this.getClosestNode(n,r,i),u=this.getClosestNode(e,r,i,!0);if(!l||!u)return null;var c=Hf.search(o,l,u),d=function(A,b){for(var g=0;g<A.neighbours.length;g++)if(A.neighbours[g]===b.id)return A.portals[g]},h=new cR;h.push(n);for(var p=0;p<c.length;p++){var m=c[p+1];if(m){var v=d(c[p],m);h.push(s[v[0]],s[v[1]])}}h.push(e),h.stringPull();var y=h.path.map(function(A){return new THREE.Vector3(A.x,A.y,A.z)});return y.shift(),y},xd.prototype.clampStep=(Nf=new THREE.Vector3,sM=new THREE.Plane,lM=new THREE.Triangle,M1=new THREE.Vector3,function(n,e,r,i,o,s){var l=this.zones[i].vertices,u=this.zones[i].groups[o],c=[r],d={};d[r.id]=0,oM=void 0,M1.set(0,0,0),aM=1/0,sM.setFromCoplanarPoints(l[r.vertexIds[0]],l[r.vertexIds[1]],l[r.vertexIds[2]]),sM.projectPoint(e,Nf),e.copy(Nf);for(var h=c.pop();h;h=c.pop()){lM.set(l[h.vertexIds[0]],l[h.vertexIds[1]],l[h.vertexIds[2]]),lM.closestPointToPoint(e,Nf),Nf.distanceToSquared(e)<aM&&(oM=h,M1.copy(Nf),aM=Nf.distanceToSquared(e));var p=d[h];if(!(p>2))for(var m=0;m<h.neighbours.length;m++){var v=u[h.neighbours[m]];v.id in d||(c.push(v),d[v.id]=p+1)}}return s.copy(M1),oM});const iIe=Object.freeze(Object.defineProperty({__proto__:null,Pathfinding:xd},Symbol.toStringTag,{value:"Module"})),oIe=kR(iIe),{Pathfinding:BG}=oIe,Vv=new BG,Wv="level";AFRAME.registerSystem("nav",{init:function(){this.navMesh=null,this.agents=new Set},setNavMeshGeometry:function(n){this.navMesh=new THREE.Mesh(n),Vv.setZoneData(Wv,BG.createZone(n)),Array.from(this.agents).forEach(e=>e.updateNavLocation())},getNavMesh:function(){return this.navMesh},addAgent:function(n){this.agents.add(n)},removeAgent:function(n){this.agents.delete(n)},getPath:function(n,e,r){return this.navMesh?Vv.findPath(n,e,Wv,r):null},getGroup:function(n){return this.navMesh?Vv.getGroup(Wv,n):null},getNode:function(n,e){return this.navMesh?Vv.getClosestNode(n,Wv,e,!0):null},clampStep:function(n,e,r,i,o){if(this.navMesh){if(!i)return o.copy(e),this.getNode(e,r)}else return o.copy(e),null;return Vv.clampStep(n,e,i,Wv,r,o)}});AFRAME.registerPrimitive("a-grid",{defaultComponents:{geometry:{primitive:"plane",width:75,height:75},rotation:{x:-90,y:0,z:0},material:{src:"url(https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v1.16.3/assets/grid.png)",repeat:"75 75"}},mappings:{width:"geometry.width",height:"geometry.height",src:"material.src"}});var OG={exports:{}},vn=OG.exports={VERSION:"0.1.1",PI:Math.PI,TAU:2*Math.PI,DEG_TO_RAD:.0174532925,RAD_TO_DEG:57.2957795,SQRT3:Math.sqrt(3),TILE:"tile",ENT:"entity",STR:"structure",HEX:"hex",SQR:"square",ABS:"abstract"};vn.Board=function(n,e){if(!n)throw new Error("You must pass in a grid system for the board to use.");this.tiles=[],this.tileGroup=null,this.group=new THREE.Object3D,this.grid=null,this.overlay=null,this.finder=new vn.AStarFinder(e),vn.Loader.init(),this.setGrid(n)},vn.Board.prototype={setEntityOnTile:function(n,e){var r=this.grid.cellToPixel(e.cell);n.position.copy(r),n.position.y+=n.heightOffset||0,n.tile&&(n.tile.entity=null),n.tile=e,e.entity=n},addTile:function(n){var e=this.tiles.indexOf(n);e===-1&&(this.tiles.push(n),this.snapTileToGrid(n),n.position.y=0,this.tileGroup.add(n.mesh),this.grid.add(n.cell),n.cell.tile=n)},removeTile:function(n){if(n){var e=this.tiles.indexOf(n);this.grid.remove(n.cell),e!==-1&&this.tiles.splice(e,1),n.dispose()}},removeAllTiles:function(){if(this.tileGroup)for(var n=this.tileGroup.children,e=0;e<n.length;e++)this.tileGroup.remove(n[e])},getTileAtCell:function(n){var e=this.grid.cellToHash(n);return n.tile||(typeof this.grid.cells[e]<"u"?this.grid.cells[e].tile:null)},snapToGrid:function(n){var e=this.grid.pixelToCell(n);n.copy(this.grid.cellToPixel(e))},snapTileToGrid:function(n){if(n.cell)n.position.copy(this.grid.cellToPixel(n.cell));else{var e=this.grid.pixelToCell(n.position);n.position.copy(this.grid.cellToPixel(e))}return n},getRandomTile:function(){var n=vn.Tools.randomInt(0,this.tiles.length-1);return this.tiles[n]},findPath:function(n,e,r){return this.finder.findPath(n.cell,e.cell,r,this.grid)},setGrid:function(n){this.group.remove(this.tileGroup),this.grid&&n!==this.grid&&(this.removeAllTiles(),this.tiles.forEach(function(e){this.grid.remove(e.cell),e.dispose()}),this.grid.dispose()),this.grid=n,this.tiles=[],this.tileGroup=new THREE.Object3D,this.group.add(this.tileGroup)},generateOverlay:function(n){var e=new THREE.LineBasicMaterial({color:0,opacity:.3});this.overlay&&this.group.remove(this.overlay),this.overlay=new THREE.Object3D,this.grid.generateOverlay(n,this.overlay,e),this.group.add(this.overlay)},generateTilemap:function(n){this.reset();var e=this.grid.generateTiles(n);this.tiles=e,this.tileGroup=new THREE.Object3D;for(var r=0;r<e.length;r++)this.tileGroup.add(e[r].mesh);this.group.add(this.tileGroup)},reset:function(){this.removeAllTiles(),this.tileGroup&&this.group.remove(this.tileGroup)}},vn.Board.prototype.constructor=vn.Board,vn.Cell=function(n,e,r,i){this.q=n||0,this.r=e||0,this.s=r||0,this.h=i||1,this.tile=null,this.userData={},this.walkable=!0,this._calcCost=0,this._priority=0,this._visited=!1,this._parent=null,this.uniqueID=vn.LinkedList.generateID()},vn.Cell.prototype={set:function(n,e,r){return this.q=n,this.r=e,this.s=r,this},copy:function(n){return this.q=n.q,this.r=n.r,this.s=n.s,this.h=n.h,this.tile=n.tile||null,this.userData=n.userData||{},this.walkable=n.walkable,this},add:function(n){return this.q+=n.q,this.r+=n.r,this.s+=n.s,this},equals:function(n){return this.q===n.q&&this.r===n.r&&this.s===n.s}},vn.Cell.prototype.constructor=vn.Cell,vn.HexGrid=function(n){n=n||{},this.type=vn.HEX,this.size=5,this.cellSize=typeof n.cellSize>"u"?10:n.cellSize,this.cells={},this.numCells=0,this.extrudeSettings=null,this.autogenerated=!1;var e,r=[];for(e=0;6>e;e++)r.push(this._createVertex(e));for(this.cellShape=new THREE.Shape,this.cellShape.moveTo(r[0].x,r[0].y),e=1;6>e;e++)this.cellShape.lineTo(r[e].x,r[e].y);this.cellShape.lineTo(r[0].x,r[0].y),this.cellShape.autoClose=!0,this.cellGeo=new THREE.Geometry,this.cellGeo.vertices=r,this.cellGeo.verticesNeedUpdate=!0,this.cellShapeGeo=new THREE.ShapeGeometry(this.cellShape),this._cellWidth=2*this.cellSize,this._cellLength=.5*vn.SQRT3*this._cellWidth,this._hashDelimeter=".",this._directions=[new vn.Cell(1,-1,0),new vn.Cell(1,0,-1),new vn.Cell(0,1,-1),new vn.Cell(-1,1,0),new vn.Cell(-1,0,1),new vn.Cell(0,-1,1)],this._diagonals=[new vn.Cell(2,-1,-1),new vn.Cell(1,1,-2),new vn.Cell(-1,2,-1),new vn.Cell(-2,1,1),new vn.Cell(-1,-1,2),new vn.Cell(1,-2,1)],this._list=[],this._vec3=new THREE.Vector3,this._cel=new vn.Cell,this._conversionVec=new THREE.Vector3,this._geoCache=[],this._matCache=[]},vn.HexGrid.TWO_THIRDS=2/3,vn.HexGrid.prototype={cellToPixel:function(n){return this._vec3.x=n.q*this._cellWidth*.75,this._vec3.y=n.h,this._vec3.z=-((n.s-n.r)*this._cellLength*.5),this._vec3},pixelToCell:function(n){var e=n.x*(vn.HexGrid.TWO_THIRDS/this.cellSize),r=(-n.x/3+vn.SQRT3/3*n.z)/this.cellSize;return this._cel.set(e,r,-e-r),this._cubeRound(this._cel)},getCellAt:function(n){var e=n.x*(vn.HexGrid.TWO_THIRDS/this.cellSize),r=(-n.x/3+vn.SQRT3/3*n.z)/this.cellSize;return this._cel.set(e,r,-e-r),this._cubeRound(this._cel),this.cells[this.cellToHash(this._cel)]},getNeighbors:function(n,e,r){var i,o,s=this._directions.length;for(this._list.length=0,i=0;s>i;i++)this._cel.copy(n),this._cel.add(this._directions[i]),o=this.cells[this.cellToHash(this._cel)],!o||r&&!r(n,o)||this._list.push(o);if(e)for(i=0;s>i;i++)this._cel.copy(n),this._cel.add(this._diagonals[i]),o=this.cells[this.cellToHash(this._cel)],!o||r&&!r(n,o)||this._list.push(o);return this._list},getRandomCell:function(){var n,e=0,r=vn.Tools.randomInt(0,this.numCells);for(n in this.cells){if(e===r)return this.cells[n];e++}return this.cells[n]},cellToHash:function(n){return n.q+this._hashDelimeter+n.r+this._hashDelimeter+n.s},distance:function(n,e){var r=Math.max(Math.abs(n.q-e.q),Math.abs(n.r-e.r),Math.abs(n.s-e.s));return r+=e.h-n.h},clearPath:function(){var n,e;for(n in this.cells)e=this.cells[n],e._calcCost=0,e._priority=0,e._parent=null,e._visited=!1},traverse:function(n){var e;for(e in this.cells)n(this.cells[e])},generateTile:function(n,e,r){var i=Math.abs(n.h);1>i&&(i=1);var o=this._geoCache[i];o||(this.extrudeSettings.amount=i,o=new THREE.ExtrudeGeometry(this.cellShape,this.extrudeSettings),this._geoCache[i]=o);var s=new vn.Tile({size:this.cellSize,scale:e,cell:n,geometry:o,material:r});return n.tile=s,s},generateTiles:function(n){n=n||{};var e=[],r={tileScale:.95,cellSize:this.cellSize,material:null,extrudeSettings:{amount:1,bevelEnabled:!0,bevelSegments:1,steps:1,bevelSize:.5,bevelThickness:.5}};r=vn.Tools.merge(r,n),this.cellSize=r.cellSize,this._cellWidth=2*this.cellSize,this._cellLength=.5*vn.SQRT3*this._cellWidth,this.autogenerated=!0,this.extrudeSettings=r.extrudeSettings;var i,o,s;for(i in this.cells)s=this.cells[i],o=this.generateTile(s,r.tileScale,r.material),o.position.copy(this.cellToPixel(s)),o.position.y=0,e.push(o);return e},generateTilePoly:function(n){n||(n=new THREE.MeshBasicMaterial({color:2405631}));var e=new THREE.Mesh(this.cellShapeGeo,n);return this._vec3.set(1,0,0),e.rotateOnAxis(this._vec3,vn.PI/2),e},generate:function(n){n=n||{},this.size=typeof n.size>"u"?this.size:n.size;var e,r,i,o;for(e=-this.size;e<this.size+1;e++)for(r=-this.size;r<this.size+1;r++)i=-e-r,Math.abs(e)<=this.size&&Math.abs(r)<=this.size&&Math.abs(i)<=this.size&&(o=new vn.Cell(e,r,i),this.add(o))},generateOverlay:function(n,e,r){var i,o,s,l=this.cellShape.createPointsGeometry();for(i=-n;n+1>i;i++)for(o=-n;n+1>o;o++)if(s=-i-o,Math.abs(i)<=n&&Math.abs(o)<=n&&Math.abs(s)<=n){this._cel.set(i,o,s);var u=new THREE.Line(l,r);u.position.copy(this.cellToPixel(this._cel)),u.rotation.x=90*vn.DEG_TO_RAD,e.add(u)}},add:function(n){var e=this.cellToHash(n);if(!this.cells[e])return this.cells[e]=n,this.numCells++,n},remove:function(n){var e=this.cellToHash(n);this.cells[e]&&(delete this.cells[e],this.numCells--)},dispose:function(){this.cells=null,this.numCells=0,this.cellShape=null,this.cellGeo.dispose(),this.cellGeo=null,this.cellShapeGeo.dispose(),this.cellShapeGeo=null,this._list=null,this._vec3=null,this._conversionVec=null,this._geoCache=null,this._matCache=null},load:function(n,e,r){var i=this;vn.Tools.getJSON({url:n,callback:function(o){i.fromJSON(o),e.call(r||null,o)},cache:!1,scope:i})},fromJSON:function(n){var e,r,i=n.cells;for(this.cells={},this.numCells=0,this.size=n.size,this.cellSize=n.cellSize,this._cellWidth=2*this.cellSize,this._cellLength=.5*vn.SQRT3*this._cellWidth,this.extrudeSettings=n.extrudeSettings,this.autogenerated=n.autogenerated,e=0;e<i.length;e++)r=new vn.Cell,r.copy(i[e]),this.add(r)},toJSON:function(){var n,e,r={size:this.size,cellSize:this.cellSize,extrudeSettings:this.extrudeSettings,autogenerated:this.autogenerated},i=[];for(e in this.cells)n=this.cells[e],i.push({q:n.q,r:n.r,s:n.s,h:n.h,walkable:n.walkable,userData:n.userData});return r.cells=i,r},_createVertex:function(n){var e=vn.TAU/6*n;return new THREE.Vector3(this.cellSize*Math.cos(e),this.cellSize*Math.sin(e),0)},_cubeRound:function(n){var e=Math.round(n.q),r=Math.round(n.r),i=Math.round(n.s),o=Math.abs(e-n.q),s=Math.abs(r-n.r),l=Math.abs(i-n.s);return o>s&&o>l?e=-r-i:s>l?r=-e-i:i=-e-r,this._cel.set(e,r,i)}},vn.HexGrid.prototype.constructor=vn.HexGrid,vn.SqrGrid=function(n){n=n||{},this.type=vn.SQR,this.size=5,this.cellSize=typeof n.cellSize>"u"?10:n.cellSize,this.cells={},this.numCells=0,this.extrudeSettings=null,this.autogenerated=!1;var e=[];e.push(new THREE.Vector3),e.push(new THREE.Vector3(-this.cellSize,this.cellSize)),e.push(new THREE.Vector3(this.cellSize,this.cellSize)),e.push(new THREE.Vector3(this.cellSize,-this.cellSize)),this.cellShape=new THREE.Shape,this.cellShape.moveTo(-this.cellSize,-this.cellSize),this.cellShape.lineTo(-this.cellSize,this.cellSize),this.cellShape.lineTo(this.cellSize,this.cellSize),this.cellShape.lineTo(this.cellSize,-this.cellSize),this.cellShape.lineTo(-this.cellSize,-this.cellSize),this.cellGeo=new THREE.Geometry,this.cellGeo.vertices=e,this.cellGeo.verticesNeedUpdate=!0,this.cellShapeGeo=new THREE.ShapeGeometry(this.cellShape),this._fullCellSize=2*this.cellSize,this._hashDelimeter=".",this._directions=[new vn.Cell(1,0,0),new vn.Cell(0,-1,0),new vn.Cell(-1,0,0),new vn.Cell(0,1,0)],this._diagonals=[new vn.Cell(-1,-1,0),new vn.Cell(-1,1,0),new vn.Cell(1,1,0),new vn.Cell(1,-1,0)],this._list=[],this._vec3=new THREE.Vector3,this._cel=new vn.Cell,this._conversionVec=new THREE.Vector3,this._geoCache=[],this._matCache=[]},vn.SqrGrid.prototype={cellToPixel:function(n){return this._vec3.x=n.q*this._fullCellSize,this._vec3.y=n.h,this._vec3.z=n.r*this._fullCellSize,this._vec3},pixelToCell:function(n){var e=Math.round(n.x/this._fullCellSize),r=Math.round(n.z/this._fullCellSize);return this._cel.set(e,r,0)},getCellAt:function(n){var e=Math.round(n.x/this._fullCellSize),r=Math.round(n.z/this._fullCellSize);return this._cel.set(e,r),this.cells[this.cellToHash(this._cel)]},getNeighbors:function(n,e,r){var i,o,s=this._directions.length;for(this._list.length=0,i=0;s>i;i++)this._cel.copy(n),this._cel.add(this._directions[i]),o=this.cells[this.cellToHash(this._cel)],!o||r&&!r(n,o)||this._list.push(o);if(e)for(i=0;s>i;i++)this._cel.copy(n),this._cel.add(this._diagonals[i]),o=this.cells[this.cellToHash(this._cel)],!o||r&&!r(n,o)||this._list.push(o);return this._list},getRandomCell:function(){var n,e=0,r=vn.Tools.randomInt(0,this.numCells);for(n in this.cells){if(e===r)return this.cells[n];e++}return this.cells[n]},cellToHash:function(n){return n.q+this._hashDelimeter+n.r},distance:function(n,e){var r=Math.max(Math.abs(n.q-e.q),Math.abs(n.r-e.r));return r+=e.h-n.h},clearPath:function(){var n,e;for(n in this.cells)e=this.cells[n],e._calcCost=0,e._priority=0,e._parent=null,e._visited=!1},traverse:function(n){var e;for(e in this.cells)n(this.cells[e])},generateTile:function(n,e,r){var i=Math.abs(n.h);1>i&&(i=1);var o=this._geoCache[i];o||(this.extrudeSettings.amount=i,o=new THREE.ExtrudeGeometry(this.cellShape,this.extrudeSettings),this._geoCache[i]=o);var s=new vn.Tile({size:this.cellSize,scale:e,cell:n,geometry:o,material:r});return n.tile=s,s},generateTiles:function(n){n=n||{};var e=[],r={tileScale:.95,cellSize:this.cellSize,material:null,extrudeSettings:{amount:1,bevelEnabled:!0,bevelSegments:1,steps:1,bevelSize:.5,bevelThickness:.5}};r=vn.Tools.merge(r,n),this.cellSize=r.cellSize,this._fullCellSize=2*this.cellSize,this.autogenerated=!0,this.extrudeSettings=r.extrudeSettings;var i,o,s;for(i in this.cells)s=this.cells[i],o=this.generateTile(s,r.tileScale,r.material),o.position.copy(this.cellToPixel(s)),o.position.y=0,e.push(o);return e},generateTilePoly:function(n){n||(n=new THREE.MeshBasicMaterial({color:2405631}));var e=new THREE.Mesh(this.cellShapeGeo,n);return this._vec3.set(1,0,0),e.rotateOnAxis(this._vec3,vn.PI/2),e},generate:function(n){n=n||{},this.size=typeof n.size>"u"?this.size:n.size;var e,r,i,o=Math.ceil(this.size/2);for(e=-o;o>e;e++)for(r=-o;o>r;r++)i=new vn.Cell(e,r+1),this.add(i)},generateOverlay:function(n,e,r){var i,o,s=Math.ceil(n/2);for(i=-s;s>i;i++)for(o=-s;s>o;o++){this._cel.set(i,o);var l=new THREE.Line(this.cellGeo,r);l.position.copy(this.cellToPixel(this._cel)),l.rotation.x=90*vn.DEG_TO_RAD,e.add(l)}},add:function(n){var e=this.cellToHash(n);if(!this.cells[e])return this.cells[e]=n,this.numCells++,n},remove:function(n){var e=this.cellToHash(n);this.cells[e]&&(delete this.cells[e],this.numCells--)},dispose:function(){this.cells=null,this.numCells=0,this.cellShape=null,this.cellGeo.dispose(),this.cellGeo=null,this.cellShapeGeo.dispose(),this.cellShapeGeo=null,this._list=null,this._vec3=null,this._conversionVec=null,this._geoCache=null,this._matCache=null},load:function(n,e,r){vn.Tools.getJSON({url:n,callback:function(i){this.fromJSON(i),e.call(r||null,i)},cache:!1,scope:this})},fromJSON:function(n){var e,r,i=n.cells;for(this.cells={},this.numCells=0,this.size=n.size,this.cellSize=n.cellSize,this._fullCellSize=2*this.cellSize,this.extrudeSettings=n.extrudeSettings,this.autogenerated=n.autogenerated,e=0;e<i.length;e++)r=new vn.Cell,r.copy(i[e]),this.add(r)},toJSON:function(){var n,e,r={size:this.size,cellSize:this.cellSize,extrudeSettings:this.extrudeSettings,autogenerated:this.autogenerated},i=[];for(e in this.cells)n=this.cells[e],i.push({q:n.q,r:n.r,s:n.s,h:n.h,walkable:n.walkable,userData:n.userData});return r.cells=i,r}},vn.SqrGrid.prototype.constructor=vn.SqrGrid,vn.Tile=function(n){n=n||{};var e={cell:null,geometry:null,material:null};if(e=vn.Tools.merge(e,n),!e.cell||!e.geometry)throw new Error("Missing vg.Tile configuration");this.cell=e.cell,this.cell.tile&&this.cell.tile!==this&&this.cell.tile.dispose(),this.cell.tile=this,this.uniqueID=vn.Tools.generateID(),this.geometry=e.geometry,this.material=e.material,this.material||(this.material=new THREE.MeshPhongMaterial({color:vn.Tools.randomizeRGB("30, 30, 30",13)})),this.objectType=vn.TILE,this.entity=null,this.userData={},this.selected=!1,this.highlight="0x0084cc",this.mesh=new THREE.Mesh(this.geometry,this.material),this.mesh.userData.structure=this,this.position=this.mesh.position,this.rotation=this.mesh.rotation,this.rotation.x=-90*vn.DEG_TO_RAD,this.mesh.scale.set(e.scale,e.scale,1),this.material.emissive?this._emissive=this.material.emissive.getHex():this._emissive=null},vn.Tile.prototype={select:function(){return this.material.emissive&&this.material.emissive.setHex(this.highlight),this.selected=!0,this},deselect:function(){return this._emissive!==null&&this.material.emissive&&this.material.emissive.setHex(this._emissive),this.selected=!1,this},toggle:function(){return this.selected?this.deselect():this.select(),this},dispose:function(){this.cell&&this.cell.tile&&(this.cell.tile=null),this.cell=null,this.position=null,this.rotation=null,this.mesh.parent&&this.mesh.parent.remove(this.mesh),this.mesh.userData.structure=null,this.mesh=null,this.material=null,this.userData=null,this.entity=null,this.geometry=null,this._emissive=null}},vn.Tile.prototype.constructor=vn.Tile,function(){var n=function(){this.obj=null,this.next=null,this.prev=null,this.free=!0},e=function(){this.first=null,this.last=null,this.length=0,this.objToNodeMap={},this.uniqueID=Date.now()+""+Math.floor(1e3*Math.random()),this.sortArray=[]};e.generateID=function(){return Math.random().toString(36).slice(2)+Date.now()},e.prototype={getNode:function(r){return this.objToNodeMap[r.uniqueID]},addNode:function(r){var i=new n;if(!r.uniqueID)try{r.uniqueID=e.generateID()}catch{return console.error("[LinkedList.addNode] obj passed is immutable: cannot attach necessary identifier"),null}return i.obj=r,i.free=!1,this.objToNodeMap[r.uniqueID]=i,i},swapObjects:function(r,i){this.objToNodeMap[r.obj.uniqueID]=null,this.objToNodeMap[i.uniqueID]=r,r.obj=i},add:function(r){var i=this.objToNodeMap[r.uniqueID];if(i){if(i.free===!1)return;i.obj=r,i.free=!1,i.next=null,i.prev=null}else i=this.addNode(r);if(this.first){if(!this.last)throw new Error("[LinkedList.add] No last in the list -- that shouldn't happen here");this.last.next=i,i.prev=this.last,this.last=i,i.next=null}else this.first=i,this.last=i,i.next=null,i.prev=null;this.length++,this.showDebug&&this.dump("after add")},has:function(r){return!!this.objToNodeMap[r.uniqueID]},moveUp:function(r){this.dump("before move up");var i=this.getNode(r);if(!i)throw"Oops, trying to move an object that isn't in the list";if(i.prev){var o=i.prev,s=o.prev;i==this.last&&(this.last=o);var l=i.next;s&&(s.next=i),i.next=o,i.prev=o.prev,o.next=l,o.prev=i,this.first==o&&(this.first=i)}},moveDown:function(r){var i=this.getNode(r);if(!i)throw"Oops, trying to move an object that isn't in the list";if(i.next){var o=i.next;this.moveUp(o.obj),this.last==o&&(this.last=i)}},sort:function(r){var i,o,s=this.sortArray,l=this.first;for(s.length=0;l;)s.push(l.obj),l=l.next;for(this.clear(),s.sort(r),o=s.length,i=0;o>i;i++)this.add(s[i])},remove:function(r){var i=this.getNode(r);return!i||i.free?!1:(i.prev&&(i.prev.next=i.next),i.next&&(i.next.prev=i.prev),i.prev||(this.first=i.next),i.next||(this.last=i.prev),i.free=!0,i.prev=null,i.next=null,this.length--,!0)},shift:function(){var r=this.first;return this.length===0?null:(r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),this.first=r.next,r.next||(this.last=null),r.free=!0,r.prev=null,r.next=null,this.length--,r.obj)},pop:function(){var r=this.last;return this.length===0?null:(r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),this.last=r.prev,r.prev||(this.first=null),r.free=!0,r.prev=null,r.next=null,this.length--,r.obj)},concat:function(r){for(var i=r.first;i;)this.add(i.obj),i=i.next},clear:function(){for(var r=this.first;r;)r.free=!0,r=r.next;this.first=null,this.length=0},dispose:function(){for(var r=this.first;r;)r.obj=null,r=r.next;this.first=null,this.objToNodeMap=null},dump:function(r){console.log("===================="+r+"=====================");for(var i=this.first;i;)console.log("{"+i.obj.toString()+"} previous="+(i.prev?i.prev.obj:"NULL")),i=i.next();console.log("==================================="),console.log("Last: {"+(this.last?this.last.obj:"NULL")+"} First: {"+(this.first?this.first.obj:"NULL")+"}")}},e.prototype.constructor=e,vn.LinkedList=e}(),function(){var n=function(r,i,o,s,l){this._listener=i,this.isOnce=o,this.context=s,this.signal=r,this._priority=l||0};n.prototype={active:!0,params:null,execute:function(r){var i,o;return this.active&&this._listener&&(o=this.params?this.params.concat(r):r,i=this._listener.apply(this.context,o),this.isOnce&&this.detach()),i},detach:function(){return this.isBound()?this.signal.remove(this._listener,this.context):null},isBound:function(){return!!this.signal&&!!this._listener},_destroy:function(){delete this.signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this.isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},n.prototype.constructor=n;var e=function(){this._bindings=[],this._prevParams=null;var r=this;this.dispatch=function(){e.prototype.dispatch.apply(r,arguments)}};e.prototype={memorize:!1,_shouldPropagate:!0,active:!0,validateListener:function(r,i){if(typeof r!="function")throw new Error("Signal: listener is a required param of {fn}() and should be a Function.".replace("{fn}",i))},_registerListener:function(r,i,o,s){var l,u=this._indexOfListener(r,o);if(u!==-1){if(l=this._bindings[u],l.isOnce!==i)throw new Error("You cannot add"+(i?"":"Once")+"() then add"+(i?"Once":"")+"() the same listener without removing the relationship first.")}else l=new n(this,r,i,o,s),this._addBinding(l);return this.memorize&&this._prevParams&&l.execute(this._prevParams),l},_addBinding:function(r){var i=this._bindings.length;do i--;while(this._bindings[i]&&r._priority<=this._bindings[i]._priority);this._bindings.splice(i+1,0,r)},_indexOfListener:function(r,i){for(var o,s=this._bindings.length;s--;)if(o=this._bindings[s],o._listener===r&&o.context===i)return s;return-1},has:function(r,i){return this._indexOfListener(r,i)!==-1},add:function(r,i,o){return this.validateListener(r,"add"),this._registerListener(r,!1,i,o)},addOnce:function(r,i,o){return this.validateListener(r,"addOnce"),this._registerListener(r,!0,i,o)},remove:function(r,i){this.validateListener(r,"remove");var o=this._indexOfListener(r,i);return o!==-1&&(this._bindings[o]._destroy(),this._bindings.splice(o,1)),r},removeAll:function(r){typeof r>"u"&&(r=null);for(var i=this._bindings.length;i--;)r?this._bindings[i].context===r&&(this._bindings[i]._destroy(),this._bindings.splice(i,1)):this._bindings[i]._destroy();r||(this._bindings.length=0)},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(){if(this.active){var r,i=Array.prototype.slice.call(arguments),o=this._bindings.length;if(this.memorize&&(this._prevParams=i),o){r=this._bindings.slice(),this._shouldPropagate=!0;do o--;while(r[o]&&this._shouldPropagate&&r[o].execute(i)!==!1)}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}},e.prototype.constructor=e,vn.Signal=e}(),vn.AStarFinder=function(n){n=n||{};var e={allowDiagonal:!1,heuristicFilter:null};e=vn.Tools.merge(e,n),this.allowDiagonal=e.allowDiagonal,this.heuristicFilter=e.heuristicFilter,this.list=new vn.LinkedList},vn.AStarFinder.prototype={findPath:function(n,e,r,i){var o,s,l,u,c,d;for(r=r||this.heuristicFilter,i.clearPath(),this.list.clear(),this.list.add(n);this.list.length>0;){if(this.list.sort(this.compare),o=this.list.shift(),o._visited=!0,o===e)return vn.PathUtil.backtrace(e);for(l=i.getNeighbors(o,this.allowDiagonal,r),c=0,d=l.length;d>c;c++)if(u=l[c],u.walkable&&(s=o._calcCost+i.distance(o,u),!u._visited||s<u._calcCost)){if(u._visited=!0,u._parent=o,u._calcCost=s,u._priority=s+i.distance(e,u),u===e)return vn.PathUtil.backtrace(e);this.list.add(u)}}return null},compare:function(n,e){return n._priority-e._priority}},vn.AStarFinder.prototype.constructor=vn.AStarFinder,vn.PathUtil={backtrace:function(n){for(var e=[n];n._parent;)n=n._parent,e.push(n);return e.reverse()},biBacktrace:function(n,e){var r=this.backtrace(n),i=this.backtrace(e);return r.concat(i.reverse())},pathLength:function(n){var e,r,i,o,s,l=0;for(e=1;e<n.length;++e)r=n[e-1],i=n[e],o=r[0]-i[0],s=r[1]-i[1],l+=Math.sqrt(o*o+s*s);return l},interpolate:function(n,e,r,i){var o,s,l,u,c,d,h=Math.abs,p=[];for(l=h(r-n),u=h(i-e),o=r>n?1:-1,s=i>e?1:-1,c=l-u;n!==r||e!==i;)p.push([n,e]),d=2*c,d>-u&&(c-=u,n+=o),l>d&&(c+=l,e+=s);return p},expandPath:function(n){var e,r,i,o,s,l,u=[],c=n.length;if(2>c)return u;for(s=0;c-1>s;++s)for(e=n[s],r=n[s+1],i=this.interpolate(e[0],e[1],r[0],r[1]),o=i.length,l=0;o-1>l;++l)u.push(i[l]);return u.push(n[c-1]),u},smoothenPath:function(n,e){var r,i,o,s,l,u,c,d,h,p,m,v,y=e.length,A=e[0][0],b=e[0][1],g=e[y-1][0],w=e[y-1][1];for(r=A,i=b,l=[[r,i]],c=2;y>c;++c){for(h=e[c],o=h[0],s=h[1],p=this.interpolate(r,i,o,s),v=!1,d=1;d<p.length;++d)if(m=p[d],!n.isWalkableAt(m[0],m[1])){v=!0;break}v&&(u=e[c-1],l.push(u),r=u[0],i=u[1])}return l.push([g,w]),l},compressPath:function(n){if(n.length<3)return n;var e,r,i,o,s,l,u=[],c=n[0][0],d=n[0][1],h=n[1][0],p=n[1][1],m=h-c,v=p-d;for(s=Math.sqrt(m*m+v*v),m/=s,v/=s,u.push([c,d]),l=2;l<n.length;l++)e=h,r=p,i=m,o=v,h=n[l][0],p=n[l][1],m=h-e,v=p-r,s=Math.sqrt(m*m+v*v),m/=s,v/=s,(m!==i||v!==o)&&u.push([e,r]);return u.push([h,p]),u}},vn.Loader={manager:null,imageLoader:null,crossOrigin:!1,init:function(n){this.crossOrigin=n||!1,this.manager=new THREE.LoadingManager(function(){},function(){},function(){console.warn("Error loading images")}),this.imageLoader=new THREE.ImageLoader(this.manager),this.imageLoader.crossOrigin=n},loadTexture:function(n,e,r,i){var o=new THREE.Texture(null,e);return this.imageLoader.load(n,function(s){o.image=s,o.needsUpdate=!0,r&&r(o)},null,function(s){i&&i(s)}),o.sourceFile=n,o}},vn.MouseCaster=function(n,e,r){this.down=!1,this.rightDown=!1,this.pickedObject=null,this.selectedObject=null,this.allHits=null,this.active=!0,this.shift=!1,this.ctrl=!1,this.wheel=0,this.position=new THREE.Vector3,this.screenPosition=new THREE.Vector2,this.signal=new vn.Signal,this.group=n,this._camera=e,this._raycaster=new THREE.Raycaster,this._preventDefault=!1,r=r||document,r.addEventListener("mousemove",this._onDocumentMouseMove.bind(this),!1),r.addEventListener("mousedown",this._onDocumentMouseDown.bind(this),!1),r.addEventListener("mouseup",this._onDocumentMouseUp.bind(this),!1),r.addEventListener("mousewheel",this._onMouseWheel.bind(this),!1),r.addEventListener("DOMMouseScroll",this._onMouseWheel.bind(this),!1)},vn.MouseCaster.OVER="over",vn.MouseCaster.OUT="out",vn.MouseCaster.DOWN="down",vn.MouseCaster.UP="up",vn.MouseCaster.CLICK="click",vn.MouseCaster.WHEEL="wheel",vn.MouseCaster.prototype={update:function(){if(this.active){this._raycaster.setFromCamera(this.screenPosition,this._camera);var n,e,r=this._raycaster.intersectObject(this.group,!0);r.length>0?(n=r[0],e=n.object.userData.structure,this.pickedObject!=e&&(this.pickedObject&&this.signal.dispatch(vn.MouseCaster.OUT,this.pickedObject),this.pickedObject=e,this.selectedObject=null,this.signal.dispatch(vn.MouseCaster.OVER,this.pickedObject)),this.position.copy(n.point),this.screenPosition.z=n.distance):(this.pickedObject&&this.signal.dispatch(vn.MouseCaster.OUT,this.pickedObject),this.pickedObject=null,this.selectedObject=null),this.allHits=r}},preventDefault:function(){this._preventDefault=!0},_onDocumentMouseDown:function(n){return n=n||window.event,n.preventDefault(),this._preventDefault?(this._preventDefault=!1,!1):(this.pickedObject&&(this.selectedObject=this.pickedObject),this.shift=n.shiftKey,this.ctrl=n.ctrlKey,this.down=n.which===1,this.rightDown=n.which===3,void this.signal.dispatch(vn.MouseCaster.DOWN,this.pickedObject))},_onDocumentMouseUp:function(n){return n.preventDefault(),this._preventDefault?(this._preventDefault=!1,!1):(this.shift=n.shiftKey,this.ctrl=n.ctrlKey,this.signal.dispatch(vn.MouseCaster.UP,this.pickedObject),this.selectedObject&&this.pickedObject&&this.selectedObject.uniqueID===this.pickedObject.uniqueID&&this.signal.dispatch(vn.MouseCaster.CLICK,this.pickedObject),this.down=n.which===1?!1:this.down,void(this.rightDown=n.which===3?!1:this.rightDown))},_onDocumentMouseMove:function(n){n.preventDefault(),this.screenPosition.x=n.clientX/window.innerWidth*2-1,this.screenPosition.y=2*-(n.clientY/window.innerHeight)+1},_onMouseWheel:function(n){if(this.active){n.preventDefault(),n.stopPropagation();var e=0;n.wheelDelta!==void 0?e=n.wheelDelta:n.detail!==void 0&&(e=-n.detail),e>0?this.wheel++:this.wheel--,this.signal.dispatch(vn.MouseCaster.WHEEL,this.wheel)}}},vn.MouseCaster.prototype.constructor=vn.MouseCaster,vn.Scene=function(n,e){var r={element:document.body,alpha:!0,antialias:!0,clearColor:"#fff",sortObjects:!1,fog:null,light:new THREE.DirectionalLight(16777215),lightPosition:null,cameraType:"PerspectiveCamera",cameraPosition:null,orthoZoom:4},i={minDistance:100,maxDistance:1e3,zoomSpeed:2,noZoom:!1};if(r=vn.Tools.merge(r,n),typeof e!="boolean"&&(i=vn.Tools.merge(i,e)),this.renderer=new THREE.WebGLRenderer({alpha:r.alpha,antialias:r.antialias}),this.renderer.setClearColor(r.clearColor,0),this.renderer.sortObjects=r.sortObjects,this.width=window.innerWidth,this.height=window.innerHeight,this.orthoZoom=r.orthoZoom,this.container=new THREE.Scene,this.container.fog=r.fog,this.container.add(new THREE.AmbientLight(14540253)),r.lightPosition||r.light.position.set(-1,1,-1).normalize(),this.container.add(r.light),r.cameraType==="OrthographicCamera"){var o=window.innerWidth/this.orthoZoom,s=window.innerHeight/this.orthoZoom;this.camera=new THREE.OrthographicCamera(o/-2,o/2,s/2,s/-2,1,5e3)}else this.camera=new THREE.PerspectiveCamera(50,this.width/this.height,1,5e3);this.contolled=!!e,this.contolled&&(this.controls=new THREE.OrbitControls(this.camera,this.renderer.domElement),this.controls.minDistance=i.minDistance,this.controls.maxDistance=i.maxDistance,this.controls.zoomSpeed=i.zoomSpeed,this.controls.noZoom=i.noZoom),r.cameraPosition&&this.camera.position.copy(r.cameraPosition),window.addEventListener("resize",(function(){if(this.width=window.innerWidth,this.height=window.innerHeight,this.camera.type==="OrthographicCamera"){var l=this.width/this.orthoZoom,u=this.height/this.orthoZoom;this.camera.left=l/-2,this.camera.right=l/2,this.camera.top=u/2,this.camera.bottom=u/-2}else this.camera.aspect=this.width/this.height;this.camera.updateProjectionMatrix(),this.renderer.setSize(this.width,this.height)}).bind(this),!1),this.attachTo(r.element)},vn.Scene.prototype={attachTo:function(n){n.style.width=this.width+"px",n.style.height=this.height+"px",this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.width,this.height),n.appendChild(this.renderer.domElement)},add:function(n){this.container.add(n)},remove:function(n){this.container.remove(n)},render:function(){this.contolled&&this.controls.update(),this.renderer.render(this.container,this.camera)},updateOrthoZoom:function(){if(this.orthoZoom<=0)return void(this.orthoZoom=0);var n=this.width/this.orthoZoom,e=this.height/this.orthoZoom;this.camera.left=n/-2,this.camera.right=n/2,this.camera.top=e/2,this.camera.bottom=e/-2,this.camera.updateProjectionMatrix()},focusOn:function(n){this.camera.lookAt(n.position)}},vn.Scene.prototype.constructor=vn.Scene,vn.SelectionManager=function(n){this.mouse=n,this.onSelect=new vn.Signal,this.onDeselect=new vn.Signal,this.selected=null,this.toggleSelection=!1,this.mouse.signal.add(this.onMouse,this)},vn.SelectionManager.prototype={select:function(n,e){n&&(e=e||!0,this.selected!==n&&this.clearSelection(e),n.selected?this.toggleSelection&&(e&&this.onDeselect.dispatch(n),n.deselect()):n.select(),this.selected=n,e&&this.onSelect.dispatch(n))},clearSelection:function(n){n=n||!0,this.selected&&(n&&this.onDeselect.dispatch(this.selected),this.selected.deselect()),this.selected=null},onMouse:function(n,e){switch(n){case vn.MouseCaster.DOWN:e||this.clearSelection();break;case vn.MouseCaster.CLICK:this.select(e)}}},vn.SelectionManager.prototype.constructor=vn.SelectionManager,vn.Tools={clamp:function(n,e,r){return Math.max(e,Math.min(r,n))},sign:function(n){return n&&n/Math.abs(n)},random:function(n,e){return arguments.length===1?Math.random()*n-.5*n:Math.random()*(e-n)+n},randomInt:function(n,e){return arguments.length===1?Math.random()*n-.5*n|0:Math.random()*(e-n+1)+n|0},normalize:function(n,e,r){return(n-e)/(r-e)},getShortRotation:function(n){return n%=this.TAU,n>this.PI?n-=this.TAU:n<-this.PI&&(n+=this.TAU),n},generateID:function(){return Math.random().toString(36).slice(2)+Date.now()},isPlainObject:function(n){if(typeof n!="object"||n.nodeType||n===n.window)return!1;try{if(n.constructor&&!Object.prototype.hasOwnProperty.call(n.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0},merge:function(n,e){var r=this,i=Array.isArray(e),o=i&&[]||{};return i?(n=n||[],o=o.concat(n),e.forEach(function(s,l){typeof o[l]>"u"?o[l]=s:r.isPlainObject(s)?o[l]=r.merge(n[l],s):n.indexOf(s)===-1&&o.push(s)}),o):(n&&r.isPlainObject(n)&&Object.keys(n).forEach(function(s){o[s]=n[s]}),Object.keys(e).forEach(function(s){e[s]&&r.isPlainObject(e[s])&&n[s]?o[s]=r.merge(n[s],e[s]):o[s]=e[s]}),o)},now:function(){return window.nwf?window.nwf.system.Performance.elapsedTime:window.performance.now()},empty:function(n){for(;n.lastChild;)n.removeChild(n.lastChild)},radixSort:function(n,e,r,i){if(e=e||0,r=r||n.length,i=i||31,!(e>=r-1||0>i)){for(var o=e,s=r,l=1<<i;s>o;)if(n[o]&l){--s;var u=n[o];n[o]=n[s],n[s]=u}else++o;this.radixSort(n,e,s,i-1),this.radixSort(n,s,r,i-1)}},randomizeRGB:function(n,e){var r,i,o=n.split(","),s="rgb(";for(e=this.randomInt(e),r=0;3>r;r++)i=parseInt(o[r])+e,0>i?i=0:i>255&&(i=255),s+=i+",";return s=s.substring(0,s.length-1),s+=")"},getJSON:function(n){var e=new XMLHttpRequest,r=typeof n.cache>"u"?!1:n.cache,i=r?n.url:n.url+"?t="+Math.floor(1e4*Math.random())+Date.now();e.onreadystatechange=function(){if(this.status===200){var o=null;try{o=JSON.parse(this.responseText)}catch{return}return void n.callback.call(n.scope||null,o)}this.status!==0&&console.warn("[Tools.getJSON] Error: "+this.status+" ("+this.statusText+") :: "+n.url)},e.open("GET",i,!0),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("Content-Type","application/json"),e.send("")}};var aIe=OG.exports,sIe={size:5,cellSize:10,extrudeSettings:{amount:1,bevelEnabled:!0,bevelSegments:1,steps:1,bevelSize:.5,bevelThickness:.5},autogenerated:!0,cells:[{q:-1,r:0,s:1,h:1,walkable:!0,userData:{}},{q:0,r:-1,s:1,h:1,walkable:!0,userData:{}},{q:0,r:0,s:0,h:1,walkable:!0,userData:{}},{q:1,r:-1,s:0,h:1,walkable:!0,userData:{}},{q:-1,r:1,s:0,h:0,walkable:!0,userData:{}},{q:0,r:1,s:-1,h:0,walkable:!0,userData:{}},{q:1,r:0,s:-1,h:0,walkable:!0,userData:{}}]};const E8=aIe,lIe=sIe;AFRAME.registerPrimitive("a-hexgrid",{defaultComponents:{hexgrid:{}},mappings:{src:"hexgrid.src"}});AFRAME.registerComponent("hexgrid",{dependencies:["material"],schema:{src:{type:"asset"}},init:function(){const n=this.data;n.src?fetch(n.src).then(e=>e.json()).then(e=>this.addMesh(e)):this.addMesh(lIe)},addMesh:function(n){const e=new E8.HexGrid;e.fromJSON(n);const r=new E8.Board(e);r.generateTilemap(),this.el.setObject3D("mesh",r.group),this.addMaterial()},addMaterial:function(){const e=(this.el.components.material||{}).material;e&&this.el.object3D.traverse(r=>{r.isMesh&&(r.material=e)})},remove:function(){this.el.removeObject3D("mesh")}});AFRAME.registerPrimitive("a-ocean",{defaultComponents:{ocean:{},rotation:{x:-90,y:0,z:0}},mappings:{width:"ocean.width",depth:"ocean.depth",density:"ocean.density",amplitude:"ocean.amplitude",amplitudeVariance:"ocean.amplitudeVariance",speed:"ocean.speed",speedVariance:"ocean.speedVariance",color:"ocean.color",opacity:"ocean.opacity"}});AFRAME.registerComponent("ocean",{schema:{width:{default:10,min:0},depth:{default:10,min:0},density:{default:10},amplitude:{default:.1},amplitudeVariance:{default:.3},speed:{default:1},speedVariance:{default:2},color:{default:"#7AD2F7",type:"color"},opacity:{default:.8}},play:function(){const n=this.el,e=this.data;let r=n.components.material;const i=new THREE.PlaneGeometry(e.width,e.depth,e.density,e.density);i.mergeVertices(),this.waves=[];for(let o,s=0,l=i.vertices.length;s<l;s++)o=i.vertices[s],this.waves.push({z:o.z,ang:Math.random()*Math.PI*2,amp:e.amplitude+Math.random()*e.amplitudeVariance,speed:(e.speed+Math.random()*e.speedVariance)/1e3});r||(r={},r.material=new THREE.MeshPhongMaterial({color:e.color,transparent:e.opacity<1,opacity:e.opacity,shading:THREE.FlatShading})),this.mesh=new THREE.Mesh(i,r.material),n.setObject3D("mesh",this.mesh)},remove:function(){this.el.removeObject3D("mesh")},tick:function(n,e){if(!e)return;const r=this.mesh.geometry.vertices;for(let i,o,s=0;i=r[s];s++)o=this.waves[s],i.z=o.z+Math.sin(o.ang)*o.amp,o.ang+=o.speed*e;this.mesh.geometry.verticesNeedUpdate=!0}});AFRAME.registerPrimitive("a-tube",{defaultComponents:{tube:{}},mappings:{path:"tube.path",segments:"tube.segments",radius:"tube.radius","radial-segments":"tube.radialSegments",closed:"tube.closed"}});AFRAME.registerComponent("tube",{schema:{path:{default:[]},segments:{default:64},radius:{default:1},radialSegments:{default:8},closed:{default:!1}},init:function(){const n=this.el,e=this.data;let r=n.components.material;if(!e.path.length){console.error("[a-tube] `path` property expected but not found.");return}const i=new THREE.CatmullRomCurve3(e.path.map(function(s){return s=s.split(" "),new THREE.Vector3(Number(s[0]),Number(s[1]),Number(s[2]))})),o=new THREE.TubeGeometry(i,e.segments,e.radius,e.radialSegments,e.closed);r||(r={},r.material=new THREE.MeshPhongMaterial),this.mesh=new THREE.Mesh(o,r.material),this.el.setObject3D("mesh",this.mesh)},update:function(n){Object.keys(n).length&&(this.remove(),this.init())},remove:function(){this.mesh&&this.el.removeObject3D("mesh")}});var Ir=function(n){return typeof n=="function"?n:typeof n=="string"?function(e){return e[n]}:function(e){return n}};const cIe=Object.freeze(Object.defineProperty({__proto__:null,default:Ir},Symbol.toStringTag,{value:"Module"})),uIe=kR(cIe);function DG(n,e,r){var i,o=1;n==null&&(n=0),e==null&&(e=0),r==null&&(r=0);function s(){var l,u=i.length,c,d=0,h=0,p=0;for(l=0;l<u;++l)c=i[l],d+=c.x||0,h+=c.y||0,p+=c.z||0;for(d=(d/u-n)*o,h=(h/u-e)*o,p=(p/u-r)*o,l=0;l<u;++l)c=i[l],d&&(c.x-=d),h&&(c.y-=h),p&&(c.z-=p)}return s.initialize=function(l){i=l},s.x=function(l){return arguments.length?(n=+l,s):n},s.y=function(l){return arguments.length?(e=+l,s):e},s.z=function(l){return arguments.length?(r=+l,s):r},s.strength=function(l){return arguments.length?(o=+l,s):o},s}function dIe(n){const e=+this._x.call(null,n);return NG(this.cover(e),e,n)}function NG(n,e,r){if(isNaN(e))return n;var i,o=n._root,s={data:r},l=n._x0,u=n._x1,c,d,h,p,m;if(!o)return n._root=s,n;for(;o.length;)if((h=e>=(c=(l+u)/2))?l=c:u=c,i=o,!(o=o[p=+h]))return i[p]=s,n;if(d=+n._x.call(null,o.data),e===d)return s.next=o,i?i[p]=s:n._root=s,n;do i=i?i[p]=new Array(2):n._root=new Array(2),(h=e>=(c=(l+u)/2))?l=c:u=c;while((p=+h)==(m=+(d>=c)));return i[m]=o,i[p]=s,n}function fIe(n){Array.isArray(n)||(n=Array.from(n));const e=n.length,r=new Float64Array(e);let i=1/0,o=-1/0;for(let s=0,l;s<e;++s)isNaN(l=+this._x.call(null,n[s]))||(r[s]=l,l<i&&(i=l),l>o&&(o=l));if(i>o)return this;this.cover(i).cover(o);for(let s=0;s<e;++s)NG(this,r[s],n[s]);return this}function hIe(n){if(isNaN(n=+n))return this;var e=this._x0,r=this._x1;if(isNaN(e))r=(e=Math.floor(n))+1;else{for(var i=r-e||1,o=this._root,s,l;e>n||n>=r;)switch(l=+(n<e),s=new Array(2),s[l]=o,o=s,i*=2,l){case 0:r=e+i;break;case 1:e=r-i;break}this._root&&this._root.length&&(this._root=o)}return this._x0=e,this._x1=r,this}function pIe(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function mIe(n){return arguments.length?this.cover(+n[0][0]).cover(+n[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function wu(n,e,r){this.node=n,this.x0=e,this.x1=r}function gIe(n,e){var r,i=this._x0,o,s,l=this._x1,u=[],c=this._root,d,h;for(c&&u.push(new wu(c,i,l)),e==null?e=1/0:(i=n-e,l=n+e);d=u.pop();)if(!(!(c=d.node)||(o=d.x0)>l||(s=d.x1)<i))if(c.length){var p=(o+s)/2;u.push(new wu(c[1],p,s),new wu(c[0],o,p)),(h=+(n>=p))&&(d=u[u.length-1],u[u.length-1]=u[u.length-1-h],u[u.length-1-h]=d)}else{var m=Math.abs(n-+this._x.call(null,c.data));m<e&&(e=m,i=n-m,l=n+m,r=c.data)}return r}function vIe(n){if(isNaN(c=+this._x.call(null,n)))return this;var e,r=this._root,i,o,s,l=this._x0,u=this._x1,c,d,h,p,m;if(!r)return this;if(r.length)for(;;){if((h=c>=(d=(l+u)/2))?l=d:u=d,e=r,!(r=r[p=+h]))return this;if(!r.length)break;e[p+1&1]&&(i=e,m=p)}for(;r.data!==n;)if(o=r,!(r=r.next))return this;return(s=r.next)&&delete r.next,o?(s?o.next=s:delete o.next,this):e?(s?e[p]=s:delete e[p],(r=e[0]||e[1])&&r===(e[1]||e[0])&&!r.length&&(i?i[m]=r:this._root=r),this):(this._root=s,this)}function AIe(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this}function yIe(){return this._root}function bIe(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function xIe(n){var e=[],r,i=this._root,o,s,l;for(i&&e.push(new wu(i,this._x0,this._x1));r=e.pop();)if(!n(i=r.node,s=r.x0,l=r.x1)&&i.length){var u=(s+l)/2;(o=i[1])&&e.push(new wu(o,u,l)),(o=i[0])&&e.push(new wu(o,s,u))}return this}function EIe(n){var e=[],r=[],i;for(this._root&&e.push(new wu(this._root,this._x0,this._x1));i=e.pop();){var o=i.node;if(o.length){var s,l=i.x0,u=i.x1,c=(l+u)/2;(s=o[0])&&e.push(new wu(s,l,c)),(s=o[1])&&e.push(new wu(s,c,u))}r.push(i)}for(;i=r.pop();)n(i.node,i.x0,i.x1);return this}function CIe(n){return n[0]}function wIe(n){return arguments.length?(this._x=n,this):this._x}function kG(n,e){var r=new bL(e??CIe,NaN,NaN);return n==null?r:r.addAll(n)}function bL(n,e,r){this._x=n,this._x0=e,this._x1=r,this._root=void 0}function C8(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var hs=kG.prototype=bL.prototype;hs.copy=function(){var n=new bL(this._x,this._x0,this._x1),e=this._root,r,i;if(!e)return n;if(!e.length)return n._root=C8(e),n;for(r=[{source:e,target:n._root=new Array(2)}];e=r.pop();)for(var o=0;o<2;++o)(i=e.source[o])&&(i.length?r.push({source:i,target:e.target[o]=new Array(2)}):e.target[o]=C8(i));return n};hs.add=dIe;hs.addAll=fIe;hs.cover=hIe;hs.data=pIe;hs.extent=mIe;hs.find=gIe;hs.remove=vIe;hs.removeAll=AIe;hs.root=yIe;hs.size=bIe;hs.visit=xIe;hs.visitAfter=EIe;hs.x=wIe;function SIe(n){const e=+this._x.call(null,n),r=+this._y.call(null,n);return FG(this.cover(e,r),e,r,n)}function FG(n,e,r,i){if(isNaN(e)||isNaN(r))return n;var o,s=n._root,l={data:i},u=n._x0,c=n._y0,d=n._x1,h=n._y1,p,m,v,y,A,b,g,w;if(!s)return n._root=l,n;for(;s.length;)if((A=e>=(p=(u+d)/2))?u=p:d=p,(b=r>=(m=(c+h)/2))?c=m:h=m,o=s,!(s=s[g=b<<1|A]))return o[g]=l,n;if(v=+n._x.call(null,s.data),y=+n._y.call(null,s.data),e===v&&r===y)return l.next=s,o?o[g]=l:n._root=l,n;do o=o?o[g]=new Array(4):n._root=new Array(4),(A=e>=(p=(u+d)/2))?u=p:d=p,(b=r>=(m=(c+h)/2))?c=m:h=m;while((g=b<<1|A)===(w=(y>=m)<<1|v>=p));return o[w]=s,o[g]=l,n}function _Ie(n){var e,r,i=n.length,o,s,l=new Array(i),u=new Array(i),c=1/0,d=1/0,h=-1/0,p=-1/0;for(r=0;r<i;++r)isNaN(o=+this._x.call(null,e=n[r]))||isNaN(s=+this._y.call(null,e))||(l[r]=o,u[r]=s,o<c&&(c=o),o>h&&(h=o),s<d&&(d=s),s>p&&(p=s));if(c>h||d>p)return this;for(this.cover(c,d).cover(h,p),r=0;r<i;++r)FG(this,l[r],u[r],n[r]);return this}function MIe(n,e){if(isNaN(n=+n)||isNaN(e=+e))return this;var r=this._x0,i=this._y0,o=this._x1,s=this._y1;if(isNaN(r))o=(r=Math.floor(n))+1,s=(i=Math.floor(e))+1;else{for(var l=o-r||1,u=this._root,c,d;r>n||n>=o||i>e||e>=s;)switch(d=(e<i)<<1|n<r,c=new Array(4),c[d]=u,u=c,l*=2,d){case 0:o=r+l,s=i+l;break;case 1:r=o-l,s=i+l;break;case 2:o=r+l,i=s-l;break;case 3:r=o-l,i=s-l;break}this._root&&this._root.length&&(this._root=u)}return this._x0=r,this._y0=i,this._x1=o,this._y1=s,this}function TIe(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function RIe(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Va(n,e,r,i,o){this.node=n,this.x0=e,this.y0=r,this.x1=i,this.y1=o}function IIe(n,e,r){var i,o=this._x0,s=this._y0,l,u,c,d,h=this._x1,p=this._y1,m=[],v=this._root,y,A;for(v&&m.push(new Va(v,o,s,h,p)),r==null?r=1/0:(o=n-r,s=e-r,h=n+r,p=e+r,r*=r);y=m.pop();)if(!(!(v=y.node)||(l=y.x0)>h||(u=y.y0)>p||(c=y.x1)<o||(d=y.y1)<s))if(v.length){var b=(l+c)/2,g=(u+d)/2;m.push(new Va(v[3],b,g,c,d),new Va(v[2],l,g,b,d),new Va(v[1],b,u,c,g),new Va(v[0],l,u,b,g)),(A=(e>=g)<<1|n>=b)&&(y=m[m.length-1],m[m.length-1]=m[m.length-1-A],m[m.length-1-A]=y)}else{var w=n-+this._x.call(null,v.data),E=e-+this._y.call(null,v.data),C=w*w+E*E;if(C<r){var _=Math.sqrt(r=C);o=n-_,s=e-_,h=n+_,p=e+_,i=v.data}}return i}function PIe(n){if(isNaN(h=+this._x.call(null,n))||isNaN(p=+this._y.call(null,n)))return this;var e,r=this._root,i,o,s,l=this._x0,u=this._y0,c=this._x1,d=this._y1,h,p,m,v,y,A,b,g;if(!r)return this;if(r.length)for(;;){if((y=h>=(m=(l+c)/2))?l=m:c=m,(A=p>=(v=(u+d)/2))?u=v:d=v,e=r,!(r=r[b=A<<1|y]))return this;if(!r.length)break;(e[b+1&3]||e[b+2&3]||e[b+3&3])&&(i=e,g=b)}for(;r.data!==n;)if(o=r,!(r=r.next))return this;return(s=r.next)&&delete r.next,o?(s?o.next=s:delete o.next,this):e?(s?e[b]=s:delete e[b],(r=e[0]||e[1]||e[2]||e[3])&&r===(e[3]||e[2]||e[1]||e[0])&&!r.length&&(i?i[g]=r:this._root=r),this):(this._root=s,this)}function LIe(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this}function BIe(){return this._root}function OIe(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function DIe(n){var e=[],r,i=this._root,o,s,l,u,c;for(i&&e.push(new Va(i,this._x0,this._y0,this._x1,this._y1));r=e.pop();)if(!n(i=r.node,s=r.x0,l=r.y0,u=r.x1,c=r.y1)&&i.length){var d=(s+u)/2,h=(l+c)/2;(o=i[3])&&e.push(new Va(o,d,h,u,c)),(o=i[2])&&e.push(new Va(o,s,h,d,c)),(o=i[1])&&e.push(new Va(o,d,l,u,h)),(o=i[0])&&e.push(new Va(o,s,l,d,h))}return this}function NIe(n){var e=[],r=[],i;for(this._root&&e.push(new Va(this._root,this._x0,this._y0,this._x1,this._y1));i=e.pop();){var o=i.node;if(o.length){var s,l=i.x0,u=i.y0,c=i.x1,d=i.y1,h=(l+c)/2,p=(u+d)/2;(s=o[0])&&e.push(new Va(s,l,u,h,p)),(s=o[1])&&e.push(new Va(s,h,u,c,p)),(s=o[2])&&e.push(new Va(s,l,p,h,d)),(s=o[3])&&e.push(new Va(s,h,p,c,d))}r.push(i)}for(;i=r.pop();)n(i.node,i.x0,i.y0,i.x1,i.y1);return this}function kIe(n){return n[0]}function FIe(n){return arguments.length?(this._x=n,this):this._x}function UIe(n){return n[1]}function zIe(n){return arguments.length?(this._y=n,this):this._y}function UG(n,e,r){var i=new xL(e??kIe,r??UIe,NaN,NaN,NaN,NaN);return n==null?i:i.addAll(n)}function xL(n,e,r,i,o,s){this._x=n,this._y=e,this._x0=r,this._y0=i,this._x1=o,this._y1=s,this._root=void 0}function w8(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var es=UG.prototype=xL.prototype;es.copy=function(){var n=new xL(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,r,i;if(!e)return n;if(!e.length)return n._root=w8(e),n;for(r=[{source:e,target:n._root=new Array(4)}];e=r.pop();)for(var o=0;o<4;++o)(i=e.source[o])&&(i.length?r.push({source:i,target:e.target[o]=new Array(4)}):e.target[o]=w8(i));return n};es.add=SIe;es.addAll=_Ie;es.cover=MIe;es.data=TIe;es.extent=RIe;es.find=IIe;es.remove=PIe;es.removeAll=LIe;es.root=BIe;es.size=OIe;es.visit=DIe;es.visitAfter=NIe;es.x=FIe;es.y=zIe;function $Ie(n){const e=+this._x.call(null,n),r=+this._y.call(null,n),i=+this._z.call(null,n);return zG(this.cover(e,r,i),e,r,i,n)}function zG(n,e,r,i,o){if(isNaN(e)||isNaN(r)||isNaN(i))return n;var s,l=n._root,u={data:o},c=n._x0,d=n._y0,h=n._z0,p=n._x1,m=n._y1,v=n._z1,y,A,b,g,w,E,C,_,P,R,L;if(!l)return n._root=u,n;for(;l.length;)if((C=e>=(y=(c+p)/2))?c=y:p=y,(_=r>=(A=(d+m)/2))?d=A:m=A,(P=i>=(b=(h+v)/2))?h=b:v=b,s=l,!(l=l[R=P<<2|_<<1|C]))return s[R]=u,n;if(g=+n._x.call(null,l.data),w=+n._y.call(null,l.data),E=+n._z.call(null,l.data),e===g&&r===w&&i===E)return u.next=l,s?s[R]=u:n._root=u,n;do s=s?s[R]=new Array(8):n._root=new Array(8),(C=e>=(y=(c+p)/2))?c=y:p=y,(_=r>=(A=(d+m)/2))?d=A:m=A,(P=i>=(b=(h+v)/2))?h=b:v=b;while((R=P<<2|_<<1|C)===(L=(E>=b)<<2|(w>=A)<<1|g>=y));return s[L]=l,s[R]=u,n}function HIe(n){Array.isArray(n)||(n=Array.from(n));const e=n.length,r=new Float64Array(e),i=new Float64Array(e),o=new Float64Array(e);let s=1/0,l=1/0,u=1/0,c=-1/0,d=-1/0,h=-1/0;for(let p=0,m,v,y,A;p<e;++p)isNaN(v=+this._x.call(null,m=n[p]))||isNaN(y=+this._y.call(null,m))||isNaN(A=+this._z.call(null,m))||(r[p]=v,i[p]=y,o[p]=A,v<s&&(s=v),v>c&&(c=v),y<l&&(l=y),y>d&&(d=y),A<u&&(u=A),A>h&&(h=A));if(s>c||l>d||u>h)return this;this.cover(s,l,u).cover(c,d,h);for(let p=0;p<e;++p)zG(this,r[p],i[p],o[p],n[p]);return this}function jIe(n,e,r){if(isNaN(n=+n)||isNaN(e=+e)||isNaN(r=+r))return this;var i=this._x0,o=this._y0,s=this._z0,l=this._x1,u=this._y1,c=this._z1;if(isNaN(i))l=(i=Math.floor(n))+1,u=(o=Math.floor(e))+1,c=(s=Math.floor(r))+1;else{for(var d=l-i||1,h=this._root,p,m;i>n||n>=l||o>e||e>=u||s>r||r>=c;)switch(m=(r<s)<<2|(e<o)<<1|n<i,p=new Array(8),p[m]=h,h=p,d*=2,m){case 0:l=i+d,u=o+d,c=s+d;break;case 1:i=l-d,u=o+d,c=s+d;break;case 2:l=i+d,o=u-d,c=s+d;break;case 3:i=l-d,o=u-d,c=s+d;break;case 4:l=i+d,u=o+d,s=c-d;break;case 5:i=l-d,u=o+d,s=c-d;break;case 6:l=i+d,o=u-d,s=c-d;break;case 7:i=l-d,o=u-d,s=c-d;break}this._root&&this._root.length&&(this._root=h)}return this._x0=i,this._y0=o,this._z0=s,this._x1=l,this._y1=u,this._z1=c,this}function GIe(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function VIe(n){return arguments.length?this.cover(+n[0][0],+n[0][1],+n[0][2]).cover(+n[1][0],+n[1][1],+n[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function Ki(n,e,r,i,o,s,l){this.node=n,this.x0=e,this.y0=r,this.z0=i,this.x1=o,this.y1=s,this.z1=l}function WIe(n,e,r,i){var o,s=this._x0,l=this._y0,u=this._z0,c,d,h,p,m,v,y=this._x1,A=this._y1,b=this._z1,g=[],w=this._root,E,C;for(w&&g.push(new Ki(w,s,l,u,y,A,b)),i==null?i=1/0:(s=n-i,l=e-i,u=r-i,y=n+i,A=e+i,b=r+i,i*=i);E=g.pop();)if(!(!(w=E.node)||(c=E.x0)>y||(d=E.y0)>A||(h=E.z0)>b||(p=E.x1)<s||(m=E.y1)<l||(v=E.z1)<u))if(w.length){var _=(c+p)/2,P=(d+m)/2,R=(h+v)/2;g.push(new Ki(w[7],_,P,R,p,m,v),new Ki(w[6],c,P,R,_,m,v),new Ki(w[5],_,d,R,p,P,v),new Ki(w[4],c,d,R,_,P,v),new Ki(w[3],_,P,h,p,m,R),new Ki(w[2],c,P,h,_,m,R),new Ki(w[1],_,d,h,p,P,R),new Ki(w[0],c,d,h,_,P,R)),(C=(r>=R)<<2|(e>=P)<<1|n>=_)&&(E=g[g.length-1],g[g.length-1]=g[g.length-1-C],g[g.length-1-C]=E)}else{var L=n-+this._x.call(null,w.data),T=e-+this._y.call(null,w.data),D=r-+this._z.call(null,w.data),H=L*L+T*T+D*D;if(H<i){var V=Math.sqrt(i=H);s=n-V,l=e-V,u=r-V,y=n+V,A=e+V,b=r+V,o=w.data}}return o}function QIe(n){if(isNaN(m=+this._x.call(null,n))||isNaN(v=+this._y.call(null,n))||isNaN(y=+this._z.call(null,n)))return this;var e,r=this._root,i,o,s,l=this._x0,u=this._y0,c=this._z0,d=this._x1,h=this._y1,p=this._z1,m,v,y,A,b,g,w,E,C,_,P;if(!r)return this;if(r.length)for(;;){if((w=m>=(A=(l+d)/2))?l=A:d=A,(E=v>=(b=(u+h)/2))?u=b:h=b,(C=y>=(g=(c+p)/2))?c=g:p=g,e=r,!(r=r[_=C<<2|E<<1|w]))return this;if(!r.length)break;(e[_+1&7]||e[_+2&7]||e[_+3&7]||e[_+4&7]||e[_+5&7]||e[_+6&7]||e[_+7&7])&&(i=e,P=_)}for(;r.data!==n;)if(o=r,!(r=r.next))return this;return(s=r.next)&&delete r.next,o?(s?o.next=s:delete o.next,this):e?(s?e[_]=s:delete e[_],(r=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&r===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!r.length&&(i?i[P]=r:this._root=r),this):(this._root=s,this)}function KIe(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this}function XIe(){return this._root}function qIe(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function YIe(n){var e=[],r,i=this._root,o,s,l,u,c,d,h;for(i&&e.push(new Ki(i,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=e.pop();)if(!n(i=r.node,s=r.x0,l=r.y0,u=r.z0,c=r.x1,d=r.y1,h=r.z1)&&i.length){var p=(s+c)/2,m=(l+d)/2,v=(u+h)/2;(o=i[7])&&e.push(new Ki(o,p,m,v,c,d,h)),(o=i[6])&&e.push(new Ki(o,s,m,v,p,d,h)),(o=i[5])&&e.push(new Ki(o,p,l,v,c,m,h)),(o=i[4])&&e.push(new Ki(o,s,l,v,p,m,h)),(o=i[3])&&e.push(new Ki(o,p,m,u,c,d,v)),(o=i[2])&&e.push(new Ki(o,s,m,u,p,d,v)),(o=i[1])&&e.push(new Ki(o,p,l,u,c,m,v)),(o=i[0])&&e.push(new Ki(o,s,l,u,p,m,v))}return this}function JIe(n){var e=[],r=[],i;for(this._root&&e.push(new Ki(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=e.pop();){var o=i.node;if(o.length){var s,l=i.x0,u=i.y0,c=i.z0,d=i.x1,h=i.y1,p=i.z1,m=(l+d)/2,v=(u+h)/2,y=(c+p)/2;(s=o[0])&&e.push(new Ki(s,l,u,c,m,v,y)),(s=o[1])&&e.push(new Ki(s,m,u,c,d,v,y)),(s=o[2])&&e.push(new Ki(s,l,v,c,m,h,y)),(s=o[3])&&e.push(new Ki(s,m,v,c,d,h,y)),(s=o[4])&&e.push(new Ki(s,l,u,y,m,v,p)),(s=o[5])&&e.push(new Ki(s,m,u,y,d,v,p)),(s=o[6])&&e.push(new Ki(s,l,v,y,m,h,p)),(s=o[7])&&e.push(new Ki(s,m,v,y,d,h,p))}r.push(i)}for(;i=r.pop();)n(i.node,i.x0,i.y0,i.z0,i.x1,i.y1,i.z1);return this}function ZIe(n){return n[0]}function ePe(n){return arguments.length?(this._x=n,this):this._x}function tPe(n){return n[1]}function nPe(n){return arguments.length?(this._y=n,this):this._y}function rPe(n){return n[2]}function iPe(n){return arguments.length?(this._z=n,this):this._z}function $G(n,e,r,i){var o=new EL(e??ZIe,r??tPe,i??rPe,NaN,NaN,NaN,NaN,NaN,NaN);return n==null?o:o.addAll(n)}function EL(n,e,r,i,o,s,l,u,c){this._x=n,this._y=e,this._z=r,this._x0=i,this._y0=o,this._z0=s,this._x1=l,this._y1=u,this._z1=c,this._root=void 0}function S8(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var Ba=$G.prototype=EL.prototype;Ba.copy=function(){var n=new EL(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),e=this._root,r,i;if(!e)return n;if(!e.length)return n._root=S8(e),n;for(r=[{source:e,target:n._root=new Array(8)}];e=r.pop();)for(var o=0;o<8;++o)(i=e.source[o])&&(i.length?r.push({source:i,target:e.target[o]=new Array(8)}):e.target[o]=S8(i));return n};Ba.add=$Ie;Ba.addAll=HIe;Ba.cover=jIe;Ba.data=GIe;Ba.extent=VIe;Ba.find=WIe;Ba.remove=QIe;Ba.removeAll=KIe;Ba.root=XIe;Ba.size=qIe;Ba.visit=YIe;Ba.visitAfter=JIe;Ba.x=ePe;Ba.y=nPe;Ba.z=iPe;function yu(n){return function(){return n}}function pu(n){return(n()-.5)*1e-6}function oPe(n){return n.index}function _8(n,e){var r=n.get(e);if(!r)throw new Error("node not found: "+e);return r}function HG(n){var e=oPe,r=m,i,o=yu(30),s,l,u,c,d,h,p=1;n==null&&(n=[]);function m(g){return 1/Math.min(c[g.source.index],c[g.target.index])}function v(g){for(var w=0,E=n.length;w<p;++w)for(var C=0,_,P,R,L=0,T=0,D=0,H,V;C<E;++C)_=n[C],P=_.source,R=_.target,L=R.x+R.vx-P.x-P.vx||pu(h),u>1&&(T=R.y+R.vy-P.y-P.vy||pu(h)),u>2&&(D=R.z+R.vz-P.z-P.vz||pu(h)),H=Math.sqrt(L*L+T*T+D*D),H=(H-s[C])/H*g*i[C],L*=H,T*=H,D*=H,R.vx-=L*(V=d[C]),u>1&&(R.vy-=T*V),u>2&&(R.vz-=D*V),P.vx+=L*(V=1-V),u>1&&(P.vy+=T*V),u>2&&(P.vz+=D*V)}function y(){if(l){var g,w=l.length,E=n.length,C=new Map(l.map((P,R)=>[e(P,R,l),P])),_;for(g=0,c=new Array(w);g<E;++g)_=n[g],_.index=g,typeof _.source!="object"&&(_.source=_8(C,_.source)),typeof _.target!="object"&&(_.target=_8(C,_.target)),c[_.source.index]=(c[_.source.index]||0)+1,c[_.target.index]=(c[_.target.index]||0)+1;for(g=0,d=new Array(E);g<E;++g)_=n[g],d[g]=c[_.source.index]/(c[_.source.index]+c[_.target.index]);i=new Array(E),A(),s=new Array(E),b()}}function A(){if(l)for(var g=0,w=n.length;g<w;++g)i[g]=+r(n[g],g,n)}function b(){if(l)for(var g=0,w=n.length;g<w;++g)s[g]=+o(n[g],g,n)}return v.initialize=function(g,...w){l=g,h=w.find(E=>typeof E=="function")||Math.random,u=w.find(E=>[1,2,3].includes(E))||2,y()},v.links=function(g){return arguments.length?(n=g,y(),v):n},v.id=function(g){return arguments.length?(e=g,v):e},v.iterations=function(g){return arguments.length?(p=+g,v):p},v.strength=function(g){return arguments.length?(r=typeof g=="function"?g:yu(+g),A(),v):r},v.distance=function(g){return arguments.length?(o=typeof g=="function"?g:yu(+g),b(),v):o},v}var aPe={value:()=>{}};function ay(){for(var n=0,e=arguments.length,r={},i;n<e;++n){if(!(i=arguments[n]+"")||i in r||/[\s.]/.test(i))throw new Error("illegal type: "+i);r[i]=[]}return new fx(r)}function fx(n){this._=n}function sPe(n,e){return n.trim().split(/^|\s+/).map(function(r){var i="",o=r.indexOf(".");if(o>=0&&(i=r.slice(o+1),r=r.slice(0,o)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:i}})}fx.prototype=ay.prototype={constructor:fx,on:function(n,e){var r=this._,i=sPe(n+"",r),o,s=-1,l=i.length;if(arguments.length<2){for(;++s<l;)if((o=(n=i[s]).type)&&(o=lPe(r[o],n.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<l;)if(o=(n=i[s]).type)r[o]=M8(r[o],n.name,e);else if(e==null)for(o in r)r[o]=M8(r[o],n.name,null);return this},copy:function(){var n={},e=this._;for(var r in e)n[r]=e[r].slice();return new fx(n)},call:function(n,e){if((o=arguments.length-2)>0)for(var r=new Array(o),i=0,o,s;i<o;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(s=this._[n],i=0,o=s.length;i<o;++i)s[i].value.apply(e,r)},apply:function(n,e,r){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],o=0,s=i.length;o<s;++o)i[o].value.apply(e,r)}};function lPe(n,e){for(var r=0,i=n.length,o;r<i;++r)if((o=n[r]).name===e)return o.value}function M8(n,e,r){for(var i=0,o=n.length;i<o;++i)if(n[i].name===e){n[i]=aPe,n=n.slice(0,i).concat(n.slice(i+1));break}return r!=null&&n.push({name:e,value:r}),n}var dg=0,g0=0,Qv=0,jG=1e3,CE,v0,wE=0,wh=0,ew=0,TA=typeof performance=="object"&&performance.now?performance:Date,GG=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function CL(){return wh||(GG(cPe),wh=TA.now()+ew)}function cPe(){wh=0}function SE(){this._call=this._time=this._next=null}SE.prototype=wL.prototype={constructor:SE,restart:function(n,e,r){if(typeof n!="function")throw new TypeError("callback is not a function");r=(r==null?CL():+r)+(e==null?0:+e),!this._next&&v0!==this&&(v0?v0._next=this:CE=this,v0=this),this._call=n,this._time=r,uR()},stop:function(){this._call&&(this._call=null,this._time=1/0,uR())}};function wL(n,e,r){var i=new SE;return i.restart(n,e,r),i}function uPe(){CL(),++dg;for(var n=CE,e;n;)(e=wh-n._time)>=0&&n._call.call(void 0,e),n=n._next;--dg}function T8(){wh=(wE=TA.now())+ew,dg=g0=0;try{uPe()}finally{dg=0,fPe(),wh=0}}function dPe(){var n=TA.now(),e=n-wE;e>jG&&(ew-=e,wE=n)}function fPe(){for(var n,e=CE,r,i=1/0;e;)e._call?(i>e._time&&(i=e._time),n=e,e=e._next):(r=e._next,e._next=null,e=n?n._next=r:CE=r);v0=n,uR(i)}function uR(n){if(!dg){g0&&(g0=clearTimeout(g0));var e=n-wh;e>24?(n<1/0&&(g0=setTimeout(T8,n-TA.now()-ew)),Qv&&(Qv=clearInterval(Qv))):(Qv||(wE=TA.now(),Qv=setInterval(dPe,jG)),dg=1,GG(T8))}}function R8(n,e,r){var i=new SE;return e=e==null?0:+e,i.restart(o=>{i.stop(),n(o+e)},e,r),i}const hPe=1664525,pPe=1013904223,I8=4294967296;function mPe(){let n=1;return()=>(n=(hPe*n+pPe)%I8)/I8}var P8=3;function cM(n){return n.x}function L8(n){return n.y}function gPe(n){return n.z}var vPe=10,APe=Math.PI*(3-Math.sqrt(5)),yPe=Math.PI*20/(9+Math.sqrt(221));function VG(n,e){e=e||2;var r=Math.min(P8,Math.max(1,Math.round(e))),i,o=1,s=.001,l=1-Math.pow(s,1/300),u=0,c=.6,d=new Map,h=wL(v),p=ay("tick","end"),m=mPe();n==null&&(n=[]);function v(){y(),p.call("tick",i),o<s&&(h.stop(),p.call("end",i))}function y(g){var w,E=n.length,C;g===void 0&&(g=1);for(var _=0;_<g;++_)for(o+=(u-o)*l,d.forEach(function(P){P(o)}),w=0;w<E;++w)C=n[w],C.fx==null?C.x+=C.vx*=c:(C.x=C.fx,C.vx=0),r>1&&(C.fy==null?C.y+=C.vy*=c:(C.y=C.fy,C.vy=0)),r>2&&(C.fz==null?C.z+=C.vz*=c:(C.z=C.fz,C.vz=0));return i}function A(){for(var g=0,w=n.length,E;g<w;++g){if(E=n[g],E.index=g,E.fx!=null&&(E.x=E.fx),E.fy!=null&&(E.y=E.fy),E.fz!=null&&(E.z=E.fz),isNaN(E.x)||r>1&&isNaN(E.y)||r>2&&isNaN(E.z)){var C=vPe*(r>2?Math.cbrt(.5+g):r>1?Math.sqrt(.5+g):g),_=g*APe,P=g*yPe;r===1?E.x=C:r===2?(E.x=C*Math.cos(_),E.y=C*Math.sin(_)):(E.x=C*Math.sin(_)*Math.cos(P),E.y=C*Math.cos(_),E.z=C*Math.sin(_)*Math.sin(P))}(isNaN(E.vx)||r>1&&isNaN(E.vy)||r>2&&isNaN(E.vz))&&(E.vx=0,r>1&&(E.vy=0),r>2&&(E.vz=0))}}function b(g){return g.initialize&&g.initialize(n,m,r),g}return A(),i={tick:y,restart:function(){return h.restart(v),i},stop:function(){return h.stop(),i},numDimensions:function(g){return arguments.length?(r=Math.min(P8,Math.max(1,Math.round(g))),d.forEach(b),i):r},nodes:function(g){return arguments.length?(n=g,A(),d.forEach(b),i):n},alpha:function(g){return arguments.length?(o=+g,i):o},alphaMin:function(g){return arguments.length?(s=+g,i):s},alphaDecay:function(g){return arguments.length?(l=+g,i):+l},alphaTarget:function(g){return arguments.length?(u=+g,i):u},velocityDecay:function(g){return arguments.length?(c=1-g,i):1-c},randomSource:function(g){return arguments.length?(m=g,d.forEach(b),i):m},force:function(g,w){return arguments.length>1?(w==null?d.delete(g):d.set(g,b(w)),i):d.get(g)},find:function(){var g=Array.prototype.slice.call(arguments),w=g.shift()||0,E=(r>1?g.shift():null)||0,C=(r>2?g.shift():null)||0,_=g.shift()||1/0,P=0,R=n.length,L,T,D,H,V,B;for(_*=_,P=0;P<R;++P)V=n[P],L=w-V.x,T=E-(V.y||0),D=C-(V.z||0),H=L*L+T*T+D*D,H<_&&(B=V,_=H);return B},on:function(g,w){return arguments.length>1?(p.on(g,w),i):p.on(g)}}}function WG(){var n,e,r,i,o,s=yu(-30),l,u=1,c=1/0,d=.81;function h(y){var A,b=n.length,g=(e===1?kG(n,cM):e===2?UG(n,cM,L8):e===3?$G(n,cM,L8,gPe):null).visitAfter(m);for(o=y,A=0;A<b;++A)r=n[A],g.visit(v)}function p(){if(n){var y,A=n.length,b;for(l=new Array(A),y=0;y<A;++y)b=n[y],l[b.index]=+s(b,y,n)}}function m(y){var A=0,b,g,w=0,E,C,_,P,R=y.length;if(R){for(E=C=_=P=0;P<R;++P)(b=y[P])&&(g=Math.abs(b.value))&&(A+=b.value,w+=g,E+=g*(b.x||0),C+=g*(b.y||0),_+=g*(b.z||0));A*=Math.sqrt(4/R),y.x=E/w,e>1&&(y.y=C/w),e>2&&(y.z=_/w)}else{b=y,b.x=b.data.x,e>1&&(b.y=b.data.y),e>2&&(b.z=b.data.z);do A+=l[b.data.index];while(b=b.next)}y.value=A}function v(y,A,b,g,w){if(!y.value)return!0;var E=[b,g,w][e-1],C=y.x-r.x,_=e>1?y.y-r.y:0,P=e>2?y.z-r.z:0,R=E-A,L=C*C+_*_+P*P;if(R*R/d<L)return L<c&&(C===0&&(C=pu(i),L+=C*C),e>1&&_===0&&(_=pu(i),L+=_*_),e>2&&P===0&&(P=pu(i),L+=P*P),L<u&&(L=Math.sqrt(u*L)),r.vx+=C*y.value*o/L,e>1&&(r.vy+=_*y.value*o/L),e>2&&(r.vz+=P*y.value*o/L)),!0;if(y.length||L>=c)return;(y.data!==r||y.next)&&(C===0&&(C=pu(i),L+=C*C),e>1&&_===0&&(_=pu(i),L+=_*_),e>2&&P===0&&(P=pu(i),L+=P*P),L<u&&(L=Math.sqrt(u*L)));do y.data!==r&&(R=l[y.data.index]*o/L,r.vx+=C*R,e>1&&(r.vy+=_*R),e>2&&(r.vz+=P*R));while(y=y.next)}return h.initialize=function(y,...A){n=y,i=A.find(b=>typeof b=="function")||Math.random,e=A.find(b=>[1,2,3].includes(b))||2,p()},h.strength=function(y){return arguments.length?(s=typeof y=="function"?y:yu(+y),p(),h):s},h.distanceMin=function(y){return arguments.length?(u=y*y,h):Math.sqrt(u)},h.distanceMax=function(y){return arguments.length?(c=y*y,h):Math.sqrt(c)},h.theta=function(y){return arguments.length?(d=y*y,h):Math.sqrt(d)},h}function QG(n,e,r,i){var o,s,l=yu(.1),u,c;typeof n!="function"&&(n=yu(+n)),e==null&&(e=0),r==null&&(r=0),i==null&&(i=0);function d(p){for(var m=0,v=o.length;m<v;++m){var y=o[m],A=y.x-e||1e-6,b=(y.y||0)-r||1e-6,g=(y.z||0)-i||1e-6,w=Math.sqrt(A*A+b*b+g*g),E=(c[m]-w)*u[m]*p/w;y.vx+=A*E,s>1&&(y.vy+=b*E),s>2&&(y.vz+=g*E)}}function h(){if(o){var p,m=o.length;for(u=new Array(m),c=new Array(m),p=0;p<m;++p)c[p]=+n(o[p],p,o),u[p]=isNaN(c[p])?0:+l(o[p],p,o)}}return d.initialize=function(p,...m){o=p,s=m.find(v=>[1,2,3].includes(v))||2,h()},d.strength=function(p){return arguments.length?(l=typeof p=="function"?p:yu(+p),h(),d):l},d.radius=function(p){return arguments.length?(n=typeof p=="function"?p:yu(+p),h(),d):n},d.x=function(p){return arguments.length?(e=+p,d):e},d.y=function(p){return arguments.length?(r=+p,d):r},d.z=function(p){return arguments.length?(i=+p,d):i},d}var SL=function(e){xPe(e);var r=bPe(e);return e.on=r.on,e.off=r.off,e.fire=r.fire,e};function bPe(n){var e=Object.create(null);return{on:function(r,i,o){if(typeof i!="function")throw new Error("callback is expected to be a function");var s=e[r];return s||(s=e[r]=[]),s.push({callback:i,ctx:o}),n},off:function(r,i){var o=typeof r>"u";if(o)return e=Object.create(null),n;if(e[r]){var s=typeof i!="function";if(s)delete e[r];else for(var l=e[r],u=0;u<l.length;++u)l[u].callback===i&&l.splice(u,1)}return n},fire:function(r){var i=e[r];if(!i)return n;var o;arguments.length>1&&(o=Array.prototype.splice.call(arguments,1));for(var s=0;s<i.length;++s){var l=i[s];l.callback.apply(l.ctx,o)}return n}}}function xPe(n){if(!n)throw new Error("Eventify cannot use falsy object as events subject");for(var e=["on","fire","off"],r=0;r<e.length;++r)if(n.hasOwnProperty(e[r]))throw new Error("Subject cannot be eventified, since it already has property '"+e[r]+"'")}var EPe=wPe,CPe=SL;function wPe(n){if(n=n||{},"uniqueLinkId"in n&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n",`
`,`Note: there is also change in default behavior: From now on each graph
is considered to be not a multigraph by default (each edge is unique).`),n.multigraph=n.uniqueLinkId),n.multigraph===void 0&&(n.multigraph=!1),typeof Map!="function")throw new Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var e=new Map,r=new Map,i={},o=0,s=n.multigraph?C:E,l=[],u=N,c=N,d=N,h=N,p={version:20,addNode:A,addLink:w,removeLink:L,removeNode:g,getNode:b,getNodeCount:_,getLinkCount:P,getEdgeCount:P,getLinksCount:P,getNodesCount:_,getLinks:R,forEachNode:G,forEachLinkedNode:B,forEachLink:V,beginUpdate:d,endUpdate:h,clear:H,hasLink:D,hasNode:b,getLink:D};return CPe(p),m(),p;function m(){var Q=p.on;p.on=X;function X(){return p.beginUpdate=d=z,p.endUpdate=h=j,u=v,c=y,p.on=Q,Q.apply(p,arguments)}}function v(Q,X){l.push({link:Q,changeType:X})}function y(Q,X){l.push({node:Q,changeType:X})}function A(Q,X){if(Q===void 0)throw new Error("Invalid node identifier");d();var J=b(Q);return J?(J.data=X,c(J,"update")):(J=new SPe(Q,X),c(J,"add")),e.set(Q,J),h(),J}function b(Q){return e.get(Q)}function g(Q){var X=b(Q);if(!X)return!1;d();var J=X.links;return J&&(J.forEach(T),X.links=null),e.delete(Q),c(X,"remove"),h(),!0}function w(Q,X,J){d();var Z=b(Q)||A(Q),oe=b(X)||A(X),ce=s(Q,X,J),Be=r.has(ce.id);return r.set(ce.id,ce),B8(Z,ce),Q!==X&&B8(oe,ce),u(ce,Be?"update":"add"),h(),ce}function E(Q,X,J){var Z=T1(Q,X),oe=r.get(Z);return oe?(oe.data=J,oe):new O8(Q,X,J,Z)}function C(Q,X,J){var Z=T1(Q,X),oe=i.hasOwnProperty(Z);if(oe||D(Q,X)){oe||(i[Z]=0);var ce="@"+ ++i[Z];Z=T1(Q+ce,X+ce)}return new O8(Q,X,J,Z)}function _(){return e.size}function P(){return r.size}function R(Q){var X=b(Q);return X?X.links:null}function L(Q,X){return X!==void 0&&(Q=D(Q,X)),T(Q)}function T(Q){if(!Q||!r.get(Q.id))return!1;d(),r.delete(Q.id);var X=b(Q.fromId),J=b(Q.toId);return X&&X.links.delete(Q),J&&J.links.delete(Q),u(Q,"remove"),h(),!0}function D(Q,X){if(!(Q===void 0||X===void 0))return r.get(T1(Q,X))}function H(){d(),G(function(Q){g(Q.id)}),h()}function V(Q){if(typeof Q=="function")for(var X=r.values(),J=X.next();!J.done;){if(Q(J.value))return!0;J=X.next()}}function B(Q,X,J){var Z=b(Q);if(Z&&Z.links&&typeof X=="function")return J?F(Z.links,Q,X):O(Z.links,Q,X)}function O(Q,X,J){for(var Z,oe=Q.values(),ce=oe.next();!ce.done;){var Be=ce.value,ge=Be.fromId===X?Be.toId:Be.fromId;if(Z=J(e.get(ge),Be),Z)return!0;ce=oe.next()}}function F(Q,X,J){for(var Z,oe=Q.values(),ce=oe.next();!ce.done;){var Be=ce.value;if(Be.fromId===X&&(Z=J(e.get(Be.toId),Be),Z))return!0;ce=oe.next()}}function N(){}function z(){o+=1}function j(){o-=1,o===0&&l.length>0&&(p.fire("changed",l),l.length=0)}function G(Q){if(typeof Q!="function")throw new Error("Function is expected to iterate over graph nodes. You passed "+Q);for(var X=e.values(),J=X.next();!J.done;){if(Q(J.value))return!0;J=X.next()}}}function SPe(n,e){this.id=n,this.links=null,this.data=e}function B8(n,e){n.links?n.links.add(e):n.links=new Set([e])}function O8(n,e,r,i){this.fromId=n,this.toId=e,this.data=r,this.id=i}function T1(n,e){return n.toString()+" "+e.toString()}const _Pe=Uu(EPe);var _L={exports:{}},sy={exports:{}},KG=function(e){return e===0?"x":e===1?"y":e===2?"z":"c"+(e+1)};const MPe=KG;var _g=function(e){return r;function r(i,o){let s=o&&o.indent||0,l=o&&o.join!==void 0?o.join:`
`,u=Array(s+1).join(" "),c=[];for(let d=0;d<e;++d){let h=MPe(d),p=d===0?"":u;c.push(p+i.replace(/{var}/g,h))}return c.join(l)}};const XG=_g;sy.exports=TPe;sy.exports.generateCreateBodyFunctionBody=qG;sy.exports.getVectorCode=JG;sy.exports.getBodyCode=YG;function TPe(n,e){let r=qG(n,e),{Body:i}=new Function(r)();return i}function qG(n,e){return`
${JG(n,e)}
${YG(n)}
return {Body: Body, Vector: Vector};
`}function YG(n){let e=XG(n),r=e("{var}",{join:", "});return`
function Body(${r}) {
  this.isPinned = false;
  this.pos = new Vector(${r});
  this.force = new Vector();
  this.velocity = new Vector();
  this.mass = 1;

  this.springCount = 0;
  this.springLength = 0;
}

Body.prototype.reset = function() {
  this.force.reset();
  this.springCount = 0;
  this.springLength = 0;
}

Body.prototype.setPosition = function (${r}) {
  ${e("this.pos.{var} = {var} || 0;",{indent:2})}
};`}function JG(n,e){let r=XG(n),i="";return e&&(i=`${r(`
   var v{var};
Object.defineProperty(this, '{var}', {
  set: function(v) { 
    if (!Number.isFinite(v)) throw new Error('Cannot set non-numbers to {var}');
    v{var} = v; 
  },
  get: function() { return v{var}; }
});`)}`),`function Vector(${r("{var}",{join:", "})}) {
  ${i}
    if (typeof arguments[0] === 'object') {
      // could be another vector
      let v = arguments[0];
      ${r('if (!Number.isFinite(v.{var})) throw new Error("Expected value is not a finite number at Vector constructor ({var})");',{indent:4})}
      ${r("this.{var} = v.{var};",{indent:4})}
    } else {
      ${r('this.{var} = typeof {var} === "number" ? {var} : 0;',{indent:4})}
    }
  }
  
  Vector.prototype.reset = function () {
    ${r("this.{var} = ",{join:""})}0;
  };`}var RPe=sy.exports,nf={exports:{}};const ML=_g,pd=KG;nf.exports=IPe;nf.exports.generateQuadTreeFunctionBody=ZG;nf.exports.getInsertStackCode=iV;nf.exports.getQuadNodeCode=rV;nf.exports.isSamePosition=eV;nf.exports.getChildBodyCode=nV;nf.exports.setChildBodyCode=tV;function IPe(n){let e=ZG(n);return new Function(e)()}function ZG(n){let e=ML(n),r=Math.pow(2,n);return`
${iV()}
${rV(n)}
${eV(n)}
${nV(n)}
${tV(n)}

function createQuadTree(options, random) {
  options = options || {};
  options.gravity = typeof options.gravity === 'number' ? options.gravity : -1;
  options.theta = typeof options.theta === 'number' ? options.theta : 0.8;

  var gravity = options.gravity;
  var updateQueue = [];
  var insertStack = new InsertStack();
  var theta = options.theta;

  var nodesCache = [];
  var currentInCache = 0;
  var root = newNode();

  return {
    insertBodies: insertBodies,

    /**
     * Gets root node if it is present
     */
    getRoot: function() {
      return root;
    },

    updateBodyForce: update,

    options: function(newOptions) {
      if (newOptions) {
        if (typeof newOptions.gravity === 'number') {
          gravity = newOptions.gravity;
        }
        if (typeof newOptions.theta === 'number') {
          theta = newOptions.theta;
        }

        return this;
      }

      return {
        gravity: gravity,
        theta: theta
      };
    }
  };

  function newNode() {
    // To avoid pressure on GC we reuse nodes.
    var node = nodesCache[currentInCache];
    if (node) {
${l("      node.")}
      node.body = null;
      node.mass = ${e("node.mass_{var} = ",{join:""})}0;
      ${e("node.min_{var} = node.max_{var} = ",{join:""})}0;
    } else {
      node = new QuadNode();
      nodesCache[currentInCache] = node;
    }

    ++currentInCache;
    return node;
  }

  function update(sourceBody) {
    var queue = updateQueue;
    var v;
    ${e("var d{var};",{indent:4})}
    var r; 
    ${e("var f{var} = 0;",{indent:4})}
    var queueLength = 1;
    var shiftIdx = 0;
    var pushIdx = 1;

    queue[0] = root;

    while (queueLength) {
      var node = queue[shiftIdx];
      var body = node.body;

      queueLength -= 1;
      shiftIdx += 1;
      var differentBody = (body !== sourceBody);
      if (body && differentBody) {
        // If the current node is a leaf node (and it is not source body),
        // calculate the force exerted by the current node on body, and add this
        // amount to body's net force.
        ${e("d{var} = body.pos.{var} - sourceBody.pos.{var};",{indent:8})}
        r = Math.sqrt(${e("d{var} * d{var}",{join:" + "})});

        if (r === 0) {
          // Poor man's protection against zero distance.
          ${e("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}
          r = Math.sqrt(${e("d{var} * d{var}",{join:" + "})});
        }

        // This is standard gravitation force calculation but we divide
        // by r^3 to save two operations when normalizing force vector.
        v = gravity * body.mass * sourceBody.mass / (r * r * r);
        ${e("f{var} += v * d{var};",{indent:8})}
      } else if (differentBody) {
        // Otherwise, calculate the ratio s / r,  where s is the width of the region
        // represented by the internal node, and r is the distance between the body
        // and the node's center-of-mass
        ${e("d{var} = node.mass_{var} / node.mass - sourceBody.pos.{var};",{indent:8})}
        r = Math.sqrt(${e("d{var} * d{var}",{join:" + "})});

        if (r === 0) {
          // Sorry about code duplication. I don't want to create many functions
          // right away. Just want to see performance first.
          ${e("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}
          r = Math.sqrt(${e("d{var} * d{var}",{join:" + "})});
        }
        // If s / r < , treat this internal node as a single body, and calculate the
        // force it exerts on sourceBody, and add this amount to sourceBody's net force.
        if ((node.max_${pd(0)} - node.min_${pd(0)}) / r < theta) {
          // in the if statement above we consider node's width only
          // because the region was made into square during tree creation.
          // Thus there is no difference between using width or height.
          v = gravity * node.mass * sourceBody.mass / (r * r * r);
          ${e("f{var} += v * d{var};",{indent:10})}
        } else {
          // Otherwise, run the procedure recursively on each of the current node's children.

          // I intentionally unfolded this loop, to save several CPU cycles.
${s()}
        }
      }
    }

    ${e("sourceBody.force.{var} += f{var};",{indent:4})}
  }

  function insertBodies(bodies) {
    ${e("var {var}min = Number.MAX_VALUE;",{indent:4})}
    ${e("var {var}max = Number.MIN_VALUE;",{indent:4})}
    var i = bodies.length;

    // To reduce quad tree depth we are looking for exact bounding box of all particles.
    while (i--) {
      var pos = bodies[i].pos;
      ${e("if (pos.{var} < {var}min) {var}min = pos.{var};",{indent:6})}
      ${e("if (pos.{var} > {var}max) {var}max = pos.{var};",{indent:6})}
    }

    // Makes the bounds square.
    var maxSideLength = -Infinity;
    ${e("if ({var}max - {var}min > maxSideLength) maxSideLength = {var}max - {var}min ;",{indent:4})}

    currentInCache = 0;
    root = newNode();
    ${e("root.min_{var} = {var}min;",{indent:4})}
    ${e("root.max_{var} = {var}min + maxSideLength;",{indent:4})}

    i = bodies.length - 1;
    if (i >= 0) {
      root.body = bodies[i];
    }
    while (i--) {
      insert(bodies[i], root);
    }
  }

  function insert(newBody) {
    insertStack.reset();
    insertStack.push(root, newBody);

    while (!insertStack.isEmpty()) {
      var stackItem = insertStack.pop();
      var node = stackItem.node;
      var body = stackItem.body;

      if (!node.body) {
        // This is internal node. Update the total mass of the node and center-of-mass.
        ${e("var {var} = body.pos.{var};",{indent:8})}
        node.mass += body.mass;
        ${e("node.mass_{var} += body.mass * {var};",{indent:8})}

        // Recursively insert the body in the appropriate quadrant.
        // But first find the appropriate quadrant.
        var quadIdx = 0; // Assume we are in the 0's quad.
        ${e("var min_{var} = node.min_{var};",{indent:8})}
        ${e("var max_{var} = (min_{var} + node.max_{var}) / 2;",{indent:8})}

${o(8)}

        var child = getChild(node, quadIdx);

        if (!child) {
          // The node is internal but this quadrant is not taken. Add
          // subnode to it.
          child = newNode();
          ${e("child.min_{var} = min_{var};",{indent:10})}
          ${e("child.max_{var} = max_{var};",{indent:10})}
          child.body = body;

          setChild(node, quadIdx, child);
        } else {
          // continue searching in this quadrant.
          insertStack.push(child, body);
        }
      } else {
        // We are trying to add to the leaf node.
        // We have to convert current leaf into internal node
        // and continue adding two nodes.
        var oldBody = node.body;
        node.body = null; // internal nodes do not cary bodies

        if (isSamePosition(oldBody.pos, body.pos)) {
          // Prevent infinite subdivision by bumping one node
          // anywhere in this quadrant
          var retriesCount = 3;
          do {
            var offset = random.nextDouble();
            ${e("var d{var} = (node.max_{var} - node.min_{var}) * offset;",{indent:12})}

            ${e("oldBody.pos.{var} = node.min_{var} + d{var};",{indent:12})}
            retriesCount -= 1;
            // Make sure we don't bump it out of the box. If we do, next iteration should fix it
          } while (retriesCount > 0 && isSamePosition(oldBody.pos, body.pos));

          if (retriesCount === 0 && isSamePosition(oldBody.pos, body.pos)) {
            // This is very bad, we ran out of precision.
            // if we do not return from the method we'll get into
            // infinite loop here. So we sacrifice correctness of layout, and keep the app running
            // Next layout iteration should get larger bounding box in the first step and fix this
            return;
          }
        }
        // Next iteration should subdivide node further.
        insertStack.push(node, oldBody);
        insertStack.push(node, body);
      }
    }
  }
}
return createQuadTree;

`;function o(u){let c=[],d=Array(u+1).join(" ");for(let h=0;h<n;++h)c.push(d+`if (${pd(h)} > max_${pd(h)}) {`),c.push(d+`  quadIdx = quadIdx + ${Math.pow(2,h)};`),c.push(d+`  min_${pd(h)} = max_${pd(h)};`),c.push(d+`  max_${pd(h)} = node.max_${pd(h)};`),c.push(d+"}");return c.join(`
`)}function s(){let u=Array(11).join(" "),c=[];for(let d=0;d<r;++d)c.push(u+`if (node.quad${d}) {`),c.push(u+`  queue[pushIdx] = node.quad${d};`),c.push(u+"  queueLength += 1;"),c.push(u+"  pushIdx += 1;"),c.push(u+"}");return c.join(`
`)}function l(u){let c=[];for(let d=0;d<r;++d)c.push(`${u}quad${d} = null;`);return c.join(`
`)}}function eV(n){let e=ML(n);return`
  function isSamePosition(point1, point2) {
    ${e("var d{var} = Math.abs(point1.{var} - point2.{var});",{indent:2})}
  
    return ${e("d{var} < 1e-8",{join:" && "})};
  }  
`}function tV(n){var e=Math.pow(2,n);return`
function setChild(node, idx, child) {
  ${r()}
}`;function r(){let i=[];for(let o=0;o<e;++o){let s=o===0?"  ":"  else ";i.push(`${s}if (idx === ${o}) node.quad${o} = child;`)}return i.join(`
`)}}function nV(n){return`function getChild(node, idx) {
${e()}
  return null;
}`;function e(){let r=[],i=Math.pow(2,n);for(let o=0;o<i;++o)r.push(`  if (idx === ${o}) return node.quad${o};`);return r.join(`
`)}}function rV(n){let e=ML(n),r=Math.pow(2,n);var i=`
function QuadNode() {
  // body stored inside this node. In quad tree only leaf nodes (by construction)
  // contain bodies:
  this.body = null;

  // Child nodes are stored in quads. Each quad is presented by number:
  // 0 | 1
  // -----
  // 2 | 3
${o("  this.")}

  // Total mass of current node
  this.mass = 0;

  // Center of mass coordinates
  ${e("this.mass_{var} = 0;",{indent:2})}

  // bounding box coordinates
  ${e("this.min_{var} = 0;",{indent:2})}
  ${e("this.max_{var} = 0;",{indent:2})}
}
`;return i;function o(s){let l=[];for(let u=0;u<r;++u)l.push(`${s}quad${u} = null;`);return l.join(`
`)}}function iV(){return`
/**
 * Our implementation of QuadTree is non-recursive to avoid GC hit
 * This data structure represent stack of elements
 * which we are trying to insert into quad tree.
 */
function InsertStack () {
    this.stack = [];
    this.popIdx = 0;
}

InsertStack.prototype = {
    isEmpty: function() {
        return this.popIdx === 0;
    },
    push: function (node, body) {
        var item = this.stack[this.popIdx];
        if (!item) {
            // we are trying to avoid memory pressure: create new element
            // only when absolutely necessary
            this.stack[this.popIdx] = new InsertStackElement(node, body);
        } else {
            item.node = node;
            item.body = body;
        }
        ++this.popIdx;
    },
    pop: function () {
        if (this.popIdx > 0) {
            return this.stack[--this.popIdx];
        }
    },
    reset: function () {
        this.popIdx = 0;
    }
};

function InsertStackElement(node, body) {
    this.node = node; // QuadTree node
    this.body = body; // physical body which needs to be inserted to node
}
`}var PPe=nf.exports,TL={exports:{}};TL.exports=BPe;TL.exports.generateFunctionBody=oV;const LPe=_g;function BPe(n){let e=oV(n);return new Function("bodies","settings","random",e)}function oV(n){let e=LPe(n);return`
  var boundingBox = {
    ${e("min_{var}: 0, max_{var}: 0,",{indent:4})}
  };

  return {
    box: boundingBox,

    update: updateBoundingBox,

    reset: resetBoundingBox,

    getBestNewPosition: function (neighbors) {
      var ${e("base_{var} = 0",{join:", "})};

      if (neighbors.length) {
        for (var i = 0; i < neighbors.length; ++i) {
          let neighborPos = neighbors[i].pos;
          ${e("base_{var} += neighborPos.{var};",{indent:10})}
        }

        ${e("base_{var} /= neighbors.length;",{indent:8})}
      } else {
        ${e("base_{var} = (boundingBox.min_{var} + boundingBox.max_{var}) / 2;",{indent:8})}
      }

      var springLength = settings.springLength;
      return {
        ${e("{var}: base_{var} + (random.nextDouble() - 0.5) * springLength,",{indent:8})}
      };
    }
  };

  function updateBoundingBox() {
    var i = bodies.length;
    if (i === 0) return; // No bodies - no borders.

    ${e("var max_{var} = -Infinity;",{indent:4})}
    ${e("var min_{var} = Infinity;",{indent:4})}

    while(i--) {
      // this is O(n), it could be done faster with quadtree, if we check the root node bounds
      var bodyPos = bodies[i].pos;
      ${e("if (bodyPos.{var} < min_{var}) min_{var} = bodyPos.{var};",{indent:6})}
      ${e("if (bodyPos.{var} > max_{var}) max_{var} = bodyPos.{var};",{indent:6})}
    }

    ${e("boundingBox.min_{var} = min_{var};",{indent:4})}
    ${e("boundingBox.max_{var} = max_{var};",{indent:4})}
  }

  function resetBoundingBox() {
    ${e("boundingBox.min_{var} = boundingBox.max_{var} = 0;",{indent:4})}
  }
`}var OPe=TL.exports,RL={exports:{}};const DPe=_g;RL.exports=NPe;RL.exports.generateCreateDragForceFunctionBody=aV;function NPe(n){let e=aV(n);return new Function("options",e)}function aV(n){return`
  if (!Number.isFinite(options.dragCoefficient)) throw new Error('dragCoefficient is not a finite number');

  return {
    update: function(body) {
      ${DPe(n)("body.force.{var} -= options.dragCoefficient * body.velocity.{var};",{indent:6})}
    }
  };
`}var kPe=RL.exports,IL={exports:{}};const FPe=_g;IL.exports=UPe;IL.exports.generateCreateSpringForceFunctionBody=sV;function UPe(n){let e=sV(n);return new Function("options","random",e)}function sV(n){let e=FPe(n);return`
  if (!Number.isFinite(options.springCoefficient)) throw new Error('Spring coefficient is not a number');
  if (!Number.isFinite(options.springLength)) throw new Error('Spring length is not a number');

  return {
    /**
     * Updates forces acting on a spring
     */
    update: function (spring) {
      var body1 = spring.from;
      var body2 = spring.to;
      var length = spring.length < 0 ? options.springLength : spring.length;
      ${e("var d{var} = body2.pos.{var} - body1.pos.{var};",{indent:6})}
      var r = Math.sqrt(${e("d{var} * d{var}",{join:" + "})});

      if (r === 0) {
        ${e("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:8})}
        r = Math.sqrt(${e("d{var} * d{var}",{join:" + "})});
      }

      var d = r - length;
      var coefficient = ((spring.coefficient > 0) ? spring.coefficient : options.springCoefficient) * d / r;

      ${e("body1.force.{var} += coefficient * d{var}",{indent:6})};
      body1.springCount += 1;
      body1.springLength += r;

      ${e("body2.force.{var} -= coefficient * d{var}",{indent:6})};
      body2.springCount += 1;
      body2.springLength += r;
    }
  };
`}var zPe=IL.exports,PL={exports:{}};const $Pe=_g;PL.exports=HPe;PL.exports.generateIntegratorFunctionBody=lV;function HPe(n){let e=lV(n);return new Function("bodies","timeStep","adaptiveTimeStepWeight",e)}function lV(n){let e=$Pe(n);return`
  var length = bodies.length;
  if (length === 0) return 0;

  ${e("var d{var} = 0, t{var} = 0;",{indent:2})}

  for (var i = 0; i < length; ++i) {
    var body = bodies[i];
    if (body.isPinned) continue;

    if (adaptiveTimeStepWeight && body.springCount) {
      timeStep = (adaptiveTimeStepWeight * body.springLength/body.springCount);
    }

    var coeff = timeStep / body.mass;

    ${e("body.velocity.{var} += coeff * body.force.{var};",{indent:4})}
    ${e("var v{var} = body.velocity.{var};",{indent:4})}
    var v = Math.sqrt(${e("v{var} * v{var}",{join:" + "})});

    if (v > 1) {
      // We normalize it so that we move within timeStep range. 
      // for the case when v <= 1 - we let velocity to fade out.
      ${e("body.velocity.{var} = v{var} / v;",{indent:6})}
    }

    ${e("d{var} = timeStep * body.velocity.{var};",{indent:4})}

    ${e("body.pos.{var} += d{var};",{indent:4})}

    ${e("t{var} += Math.abs(d{var});",{indent:4})}
  }

  return (${e("t{var} * t{var}",{join:" + "})})/length;
`}var jPe=PL.exports,uM,D8;function GPe(){if(D8)return uM;D8=1,uM=n;function n(e,r,i,o){this.from=e,this.to=r,this.length=i,this.coefficient=o}return uM}var dM,N8;function VPe(){if(N8)return dM;N8=1,dM=n;function n(e,r){var i;if(e||(e={}),r){for(i in r)if(r.hasOwnProperty(i)){var o=e.hasOwnProperty(i),s=typeof r[i],l=!o||typeof e[i]!==s;l?e[i]=r[i]:s==="object"&&(e[i]=n(e[i],r[i]))}}return e}return dM}var Kv={exports:{}},k8;function WPe(){if(k8)return Kv.exports;k8=1,Kv.exports=n,Kv.exports.random=n,Kv.exports.randomIterator=u;function n(c){var d=typeof c=="number"?c:+new Date;return new e(d)}function e(c){this.seed=c}e.prototype.next=l,e.prototype.nextDouble=s,e.prototype.uniform=s,e.prototype.gaussian=r;function r(){var c,d,h;do d=this.nextDouble()*2-1,h=this.nextDouble()*2-1,c=d*d+h*h;while(c>=1||c===0);return d*Math.sqrt(-2*Math.log(c)/c)}e.prototype.levy=i;function i(){var c=1.5,d=Math.pow(o(1+c)*Math.sin(Math.PI*c/2)/(o((1+c)/2)*c*Math.pow(2,(c-1)/2)),1/c);return this.gaussian()*d/Math.pow(Math.abs(this.gaussian()),1/c)}function o(c){return Math.sqrt(2*Math.PI/c)*Math.pow(1/Math.E*(c+1/(12*c-1/(10*c))),c)}function s(){var c=this.seed;return c=c+2127912214+(c<<12)&4294967295,c=(c^3345072700^c>>>19)&4294967295,c=c+374761393+(c<<5)&4294967295,c=(c+3550635116^c<<9)&4294967295,c=c+4251993797+(c<<3)&4294967295,c=(c^3042594569^c>>>16)&4294967295,this.seed=c,(c&268435455)/268435456}function l(c){return Math.floor(this.nextDouble()*c)}function u(c,d){var h=d||n();if(typeof h.next!="function")throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:m,shuffle:p};function p(){var v,y,A;for(v=c.length-1;v>0;--v)y=h.next(v+1),A=c[y],c[y]=c[v],c[v]=A;return c}function m(v){var y,A,b;for(y=c.length-1;y>0;--y)A=h.next(y+1),b=c[A],c[A]=c[y],c[y]=b,v(b);c.length&&v(c[0])}}return Kv.exports}var cV=ZPe,QPe=RPe,KPe=PPe,XPe=OPe,qPe=kPe,YPe=zPe,JPe=jPe,F8={};function ZPe(n){var e=GPe(),r=VPe(),i=SL;if(n){if(n.springCoeff!==void 0)throw new Error("springCoeff was renamed to springCoefficient");if(n.dragCoeff!==void 0)throw new Error("dragCoeff was renamed to dragCoefficient")}n=r(n,{springLength:10,springCoefficient:.8,gravity:-12,theta:.8,dragCoefficient:.9,timeStep:.5,adaptiveTimeStepWeight:0,dimensions:2,debug:!1});var o=F8[n.dimensions];if(!o){var s=n.dimensions;o={Body:QPe(s,n.debug),createQuadTree:KPe(s),createBounds:XPe(s),createDragForce:qPe(s),createSpringForce:YPe(s),integrate:JPe(s)},F8[s]=o}var l=o.Body,u=o.createQuadTree,c=o.createBounds,d=o.createDragForce,h=o.createSpringForce,p=o.integrate,m=F=>new l(F),v=WPe().random(42),y=[],A=[],b=u(n,v),g=c(y,n,v),w=h(n,v),E=d(n),C=0,_=[],P=new Map,R=0;D("nbody",B),D("spring",O);var L={bodies:y,quadTree:b,springs:A,settings:n,addForce:D,removeForce:H,getForces:V,step:function(){for(var F=0;F<_.length;++F)_[F](R);var N=p(y,n.timeStep,n.adaptiveTimeStepWeight);return R+=1,N},addBody:function(F){if(!F)throw new Error("Body is required");return y.push(F),F},addBodyAt:function(F){if(!F)throw new Error("Body position is required");var N=m(F);return y.push(N),N},removeBody:function(F){if(F){var N=y.indexOf(F);if(!(N<0))return y.splice(N,1),y.length===0&&g.reset(),!0}},addSpring:function(F,N,z,j){if(!F||!N)throw new Error("Cannot add null spring to force simulator");typeof z!="number"&&(z=-1);var G=new e(F,N,z,j>=0?j:-1);return A.push(G),G},getTotalMovement:function(){return C},removeSpring:function(F){if(F){var N=A.indexOf(F);if(N>-1)return A.splice(N,1),!0}},getBestNewBodyPosition:function(F){return g.getBestNewPosition(F)},getBBox:T,getBoundingBox:T,invalidateBBox:function(){console.warn("invalidateBBox() is deprecated, bounds always recomputed on `getBBox()` call")},gravity:function(F){return F!==void 0?(n.gravity=F,b.options({gravity:F}),this):n.gravity},theta:function(F){return F!==void 0?(n.theta=F,b.options({theta:F}),this):n.theta},random:v};return eLe(n,L),i(L),L;function T(){return g.update(),g.box}function D(F,N){if(P.has(F))throw new Error("Force "+F+" is already added");P.set(F,N),_.push(N)}function H(F){var N=_.indexOf(P.get(F));N<0||(_.splice(N,1),P.delete(F))}function V(){return P}function B(){if(y.length!==0){b.insertBodies(y);for(var F=y.length;F--;){var N=y[F];N.isPinned||(N.reset(),b.updateBodyForce(N),E.update(N))}}}function O(){for(var F=A.length;F--;)w.update(A[F])}}function eLe(n,e){for(var r in n)tLe(n,e,r)}function tLe(n,e,r){if(n.hasOwnProperty(r)&&typeof e[r]!="function"){var i=Number.isFinite(n[r]);i?e[r]=function(o){if(o!==void 0){if(!Number.isFinite(o))throw new Error("Value of "+r+" should be a valid number.");return n[r]=o,e}return n[r]}:e[r]=function(o){return o!==void 0?(n[r]=o,e):n[r]}}}_L.exports=rLe;_L.exports.simulator=cV;var nLe=SL;function rLe(n,e){if(!n)throw new Error("Graph structure cannot be undefined");var r=e&&e.createSimulator||cV,i=r(e);if(Array.isArray(e))throw new Error("Physics settings is expected to be an object");var o=n.version>19?B:V;e&&typeof e.nodeMass=="function"&&(o=e.nodeMass);var s=new Map,l={},u=0,c=i.settings.springTransform||iLe;E(),b();var d=!1,h={step:function(){if(u===0)return p(!0),!0;var O=i.step();h.lastMove=O,h.fire("step");var F=O/u,N=F<=.01;return p(N),N},getNodePosition:function(O){return H(O).pos},setNodePosition:function(O){var F=H(O);F.setPosition.apply(F,Array.prototype.slice.call(arguments,1))},getLinkPosition:function(O){var F=l[O];if(F)return{from:F.from.pos,to:F.to.pos}},getGraphRect:function(){return i.getBBox()},forEachBody:m,pinNode:function(O,F){var N=H(O.id);N.isPinned=!!F},isNodePinned:function(O){return H(O.id).isPinned},dispose:function(){n.off("changed",w),h.fire("disposed")},getBody:A,getSpring:y,getForceVectorLength:v,simulator:i,graph:n,lastMove:0};return nLe(h),h;function p(O){d!==O&&(d=O,g(O))}function m(O){s.forEach(O)}function v(){var O=0,F=0;return m(function(N){O+=Math.abs(N.force.x),F+=Math.abs(N.force.y)}),Math.sqrt(O*O+F*F)}function y(O,F){var N;if(F===void 0)typeof O!="object"?N=O:N=O.id;else{var z=n.hasLink(O,F);if(!z)return;N=z.id}return l[N]}function A(O){return s.get(O)}function b(){n.on("changed",w)}function g(O){h.fire("stable",O)}function w(O){for(var F=0;F<O.length;++F){var N=O[F];N.changeType==="add"?(N.node&&C(N.node.id),N.link&&P(N.link)):N.changeType==="remove"&&(N.node&&_(N.node),N.link&&R(N.link))}u=n.getNodesCount()}function E(){u=0,n.forEachNode(function(O){C(O.id),u+=1}),n.forEachLink(P)}function C(O){var F=s.get(O);if(!F){var N=n.getNode(O);if(!N)throw new Error("initBody() was called with unknown node id");var z=N.position;if(!z){var j=L(N);z=i.getBestNewBodyPosition(j)}F=i.addBodyAt(z),F.id=O,s.set(O,F),T(O),D(N)&&(F.isPinned=!0)}}function _(O){var F=O.id,N=s.get(F);N&&(s.delete(F),i.removeBody(N))}function P(O){T(O.fromId),T(O.toId);var F=s.get(O.fromId),N=s.get(O.toId),z=i.addSpring(F,N,O.length);c(O,z),l[O.id]=z}function R(O){var F=l[O.id];if(F){var N=n.getNode(O.fromId),z=n.getNode(O.toId);N&&T(N.id),z&&T(z.id),delete l[O.id],i.removeSpring(F)}}function L(O){var F=[];if(!O.links)return F;for(var N=Math.min(O.links.length,2),z=0;z<N;++z){var j=O.links[z],G=j.fromId!==O.id?s.get(j.fromId):s.get(j.toId);G&&G.pos&&F.push(G)}return F}function T(O){var F=s.get(O);if(F.mass=o(O),Number.isNaN(F.mass))throw new Error("Node mass should be a number")}function D(O){return O&&(O.isPinned||O.data&&O.data.isPinned)}function H(O){var F=s.get(O);return F||(C(O),F=s.get(O)),F}function V(O){var F=n.getLinks(O);return F?1+F.length/3:1}function B(O){var F=n.getLinks(O);return F?1+F.size/3:1}}function iLe(){}var oLe=_L.exports;const aLe=Uu(oLe);function _E(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var sLe=typeof global=="object"&&global&&global.Object===Object&&global;const lLe=sLe;var cLe=typeof self=="object"&&self&&self.Object===Object&&self,uLe=lLe||cLe||Function("return this")();const uV=uLe;var dLe=function(){return uV.Date.now()};const fM=dLe;var fLe=/\s/;function hLe(n){for(var e=n.length;e--&&fLe.test(n.charAt(e)););return e}var pLe=/^\s+/;function mLe(n){return n&&n.slice(0,hLe(n)+1).replace(pLe,"")}var gLe=uV.Symbol;const ME=gLe;var dV=Object.prototype,vLe=dV.hasOwnProperty,ALe=dV.toString,Xv=ME?ME.toStringTag:void 0;function yLe(n){var e=vLe.call(n,Xv),r=n[Xv];try{n[Xv]=void 0;var i=!0}catch{}var o=ALe.call(n);return i&&(e?n[Xv]=r:delete n[Xv]),o}var bLe=Object.prototype,xLe=bLe.toString;function ELe(n){return xLe.call(n)}var CLe="[object Null]",wLe="[object Undefined]",U8=ME?ME.toStringTag:void 0;function SLe(n){return n==null?n===void 0?wLe:CLe:U8&&U8 in Object(n)?yLe(n):ELe(n)}function _Le(n){return n!=null&&typeof n=="object"}var MLe="[object Symbol]";function TLe(n){return typeof n=="symbol"||_Le(n)&&SLe(n)==MLe}var z8=0/0,RLe=/^[-+]0x[0-9a-f]+$/i,ILe=/^0b[01]+$/i,PLe=/^0o[0-7]+$/i,LLe=parseInt;function $8(n){if(typeof n=="number")return n;if(TLe(n))return z8;if(_E(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=_E(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=mLe(n);var r=ILe.test(n);return r||PLe.test(n)?LLe(n.slice(2),r?2:8):RLe.test(n)?z8:+n}var BLe="Expected a function",OLe=Math.max,DLe=Math.min;function fV(n,e,r){var i,o,s,l,u,c,d=0,h=!1,p=!1,m=!0;if(typeof n!="function")throw new TypeError(BLe);e=$8(e)||0,_E(r)&&(h=!!r.leading,p="maxWait"in r,s=p?OLe($8(r.maxWait)||0,e):s,m="trailing"in r?!!r.trailing:m);function v(P){var R=i,L=o;return i=o=void 0,d=P,l=n.apply(L,R),l}function y(P){return d=P,u=setTimeout(g,e),h?v(P):l}function A(P){var R=P-c,L=P-d,T=e-R;return p?DLe(T,s-L):T}function b(P){var R=P-c,L=P-d;return c===void 0||R>=e||R<0||p&&L>=s}function g(){var P=fM();if(b(P))return w(P);u=setTimeout(g,A(P))}function w(P){return u=void 0,m&&i?v(P):(i=o=void 0,l)}function E(){u!==void 0&&clearTimeout(u),d=0,i=c=o=u=void 0}function C(){return u===void 0?l:w(fM())}function _(){var P=fM(),R=b(P);if(i=arguments,o=this,c=P,R){if(u===void 0)return y(c);if(p)return clearTimeout(u),u=setTimeout(g,e),v(c)}return u===void 0&&(u=setTimeout(g,e)),l}return _.cancel=E,_.flush=C,_}function NLe(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,s,l,u=[],c=!0,d=!1;try{if(s=(r=r.call(n)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(i=s.call(r)).done)&&(u.push(i.value),u.length!==e);c=!0);}catch(h){d=!0,o=h}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw o}}return u}}function kLe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function H8(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,GLe(i.key),i)}}function FLe(n,e,r){return e&&H8(n.prototype,e),r&&H8(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}function ULe(n,e){return zLe(n)||NLe(n,e)||$Le(n,e)||HLe()}function zLe(n){if(Array.isArray(n))return n}function $Le(n,e){if(n){if(typeof n=="string")return j8(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j8(n,e)}}function j8(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function HLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jLe(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function GLe(n){var e=jLe(n,"string");return typeof e=="symbol"?e:String(e)}var VLe=FLe(function n(e,r){var i=r.default,o=i===void 0?null:i,s=r.triggerUpdate,l=s===void 0?!0:s,u=r.onChange,c=u===void 0?function(d,h){}:u;kLe(this,n),this.name=e,this.defaultVal=o,this.triggerUpdate=l,this.onChange=c});function Oh(n){var e=n.stateInit,r=e===void 0?function(){return{}}:e,i=n.props,o=i===void 0?{}:i,s=n.methods,l=s===void 0?{}:s,u=n.aliases,c=u===void 0?{}:u,d=n.init,h=d===void 0?function(){}:d,p=n.update,m=p===void 0?function(){}:p,v=Object.keys(o).map(function(y){return new VLe(y,o[y])});return function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=Object.assign({},r instanceof Function?r(y):r,{initialised:!1}),b={};function g(C){return w(C,y),E(),g}var w=function(_,P){h.call(g,_,A,P),A.initialised=!0},E=fV(function(){A.initialised&&(m.call(g,A,b),b={})},1);return v.forEach(function(C){g[C.name]=_(C);function _(P){var R=P.name,L=P.triggerUpdate,T=L===void 0?!1:L,D=P.onChange,H=D===void 0?function(O,F){}:D,V=P.defaultVal,B=V===void 0?null:V;return function(O){var F=A[R];if(!arguments.length)return F;var N=O===void 0?B:O;return A[R]=N,H.call(g,N,A,F),!b.hasOwnProperty(R)&&(b[R]=F),T&&E(),g}}}),Object.keys(l).forEach(function(C){g[C]=function(){for(var _,P=arguments.length,R=new Array(P),L=0;L<P;L++)R[L]=arguments[L];return(_=l[C]).call.apply(_,[g,A].concat(R))}}),Object.entries(c).forEach(function(C){var _=ULe(C,2),P=_[0],R=_[1];return g[P]=g[R]}),g.resetProps=function(){return v.forEach(function(C){g[C.name](C.defaultVal)}),g},g.resetProps(),A._rerender=E,g}}class G8 extends Map{constructor(e,r=KLe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[i,o]of e)this.set(i,o)}get(e){return super.get(V8(this,e))}has(e){return super.has(V8(this,e))}set(e,r){return super.set(WLe(this,e),r)}delete(e){return super.delete(QLe(this,e))}}function V8({_intern:n,_key:e},r){const i=e(r);return n.has(i)?n.get(i):r}function WLe({_intern:n,_key:e},r){const i=e(r);return n.has(i)?n.get(i):(n.set(i,r),r)}function QLe({_intern:n,_key:e},r){const i=e(r);return n.has(i)&&(r=n.get(i),n.delete(i)),r}function KLe(n){return n!==null&&typeof n=="object"?n.valueOf():n}function dR(n,e){let r;if(e===void 0)for(const i of n)i!=null&&(r<i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let o of n)(o=e(o,++i,n))!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}return r}function fR(n,e){let r;if(e===void 0)for(const i of n)i!=null&&(r>i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let o of n)(o=e(o,++i,n))!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}return r}function XLe(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,s,l,u=[],c=!0,d=!1;try{if(s=(r=r.call(n)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(i=s.call(r)).done)&&(u.push(i.value),u.length!==e);c=!0);}catch(h){d=!0,o=h}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw o}}return u}}function qLe(n,e){if(n==null)return{};var r={},i=Object.keys(n),o,s;for(s=0;s<i.length;s++)o=i[s],!(e.indexOf(o)>=0)&&(r[o]=n[o]);return r}function YLe(n,e){if(n==null)return{};var r=qLe(n,e),i,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(o=0;o<s.length;o++)i=s[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(r[i]=n[i])}return r}function JLe(n,e){return tBe(n)||XLe(n,e)||hV(n,e)||iBe()}function ZLe(n){return eBe(n)||nBe(n)||hV(n)||rBe()}function eBe(n){if(Array.isArray(n))return hR(n)}function tBe(n){if(Array.isArray(n))return n}function nBe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function hV(n,e){if(n){if(typeof n=="string")return hR(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hR(n,e)}}function hR(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function rBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oBe(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function aBe(n){var e=oBe(n,"string");return typeof e=="symbol"?e:String(e)}var pR=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=(e instanceof Array?e.length?e:[void 0]:[e]).map(function(u){return{keyAccessor:u,isProp:!(u instanceof Function)}}),s=n.reduce(function(u,c){var d=u,h=c;return o.forEach(function(p,m){var v=p.keyAccessor,y=p.isProp,A;if(y){var b=h,g=b[v],w=YLe(b,[v].map(aBe));A=g,h=w}else A=v(h,m);m+1<o.length?(d.hasOwnProperty(A)||(d[A]={}),d=d[A]):r?(d.hasOwnProperty(A)||(d[A]=[]),d[A].push(h)):d[A]=h}),u},{});r instanceof Function&&function u(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;d===o.length?Object.keys(c).forEach(function(h){return c[h]=r(c[h])}):Object.values(c).forEach(function(h){return u(h,d+1)})}(s);var l=s;return i&&(l=[],function u(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];d.length===o.length?l.push({keys:d,vals:c}):Object.entries(c).forEach(function(h){var p=JLe(h,2),m=p[0],v=p[1];return u(v,[].concat(ZLe(d),[m]))})}(s),e instanceof Array&&e.length===0&&l.length===1&&(l[0].keys=[])),l};function sBe(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,s,l,u=[],c=!0,d=!1;try{if(s=(r=r.call(n)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(i=s.call(r)).done)&&(u.push(i.value),u.length!==e);c=!0);}catch(h){d=!0,o=h}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw o}}return u}}function W8(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function lBe(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W8(Object(r),!0).forEach(function(i){pV(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):W8(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function pV(n,e,r){return e=vBe(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function cBe(n,e){if(n==null)return{};var r={},i=Object.keys(n),o,s;for(s=0;s<i.length;s++)o=i[s],!(e.indexOf(o)>=0)&&(r[o]=n[o]);return r}function uBe(n,e){if(n==null)return{};var r=cBe(n,e),i,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(o=0;o<s.length;o++)i=s[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(r[i]=n[i])}return r}function mV(n,e){return fBe(n)||sBe(n,e)||gV(n,e)||mBe()}function TE(n){return dBe(n)||hBe(n)||gV(n)||pBe()}function dBe(n){if(Array.isArray(n))return mR(n)}function fBe(n){if(Array.isArray(n))return n}function hBe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function gV(n,e){if(n){if(typeof n=="string")return mR(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mR(n,e)}}function mR(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function pBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gBe(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function vBe(n){var e=gBe(n,"string");return typeof e=="symbol"?e:String(e)}var ABe=["createObj","updateObj","exitObj","objBindAttr","dataBindAttr"];function yBe(n,e,r){var i={enter:[],update:[],exit:[]};if(r){var l=pR(n,r,!1),u=pR(e,r,!1),c=Object.assign({},l,u);Object.entries(c).forEach(function(d){var h=mV(d,2),p=h[0],m=h[1],v=l.hasOwnProperty(p)?u.hasOwnProperty(p)?"update":"exit":"enter";i[v].push(v==="update"?[l[p],u[p]]:m)})}else{var o=new Set(n),s=new Set(e);new Set([].concat(TE(o),TE(s))).forEach(function(d){var h=o.has(d)?s.has(d)?"update":"exit":"enter";i[h].push(h==="update"?[d,d]:d)})}return i}function bBe(n,e,r){var i=r.objBindAttr,o=i===void 0?"__obj":i,s=r.dataBindAttr,l=s===void 0?"__data":s,u=r.idAccessor,c=r.purge,d=c===void 0?!1:c,h=function(b){return b.hasOwnProperty(l)},p=e.filter(function(A){return!h(A)}),m=e.filter(h).map(function(A){return A[l]}),v=n,y=d?{enter:v,exit:m,update:[]}:yBe(m,v,u);return y.update=y.update.map(function(A){var b=mV(A,2),g=b[0],w=b[1];return g!==w&&(w[o]=g[o],w[o][l]=w),w}),y.exit=y.exit.concat(p.map(function(A){return pV({},o,A)})),y}function xBe(n,e,r,i,o){var s=o.createObj,l=s===void 0?function(L){return{}}:s,u=o.updateObj,c=u===void 0?function(L,T){}:u,d=o.exitObj,h=d===void 0?function(L){}:d,p=o.objBindAttr,m=p===void 0?"__obj":p,v=o.dataBindAttr,y=v===void 0?"__data":v,A=uBe(o,ABe),b=bBe(n,e,lBe({objBindAttr:m,dataBindAttr:y},A)),g=b.enter,w=b.update,E=b.exit;E.forEach(function(L){var T=L[m];delete L[m],h(T),i(T)});var C=P(g),_=[].concat(TE(g),TE(w));R(_),C.forEach(r);function P(L){var T=[];return L.forEach(function(D){var H=l(D);H&&(H[y]=D,D[m]=H,T.push(H))}),T}function R(L){L.forEach(function(T){var D=T[m];D&&(D[y]=T,c(D,T))})}}function EBe(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}const Q8=Symbol("implicit");function LL(){var n=new G8,e=[],r=[],i=Q8;function o(s){let l=n.get(s);if(l===void 0){if(i!==Q8)return i;n.set(s,l=e.push(s)-1)}return r[l%r.length]}return o.domain=function(s){if(!arguments.length)return e.slice();e=[],n=new G8;for(const l of s)n.has(l)||n.set(l,e.push(l)-1);return o},o.range=function(s){return arguments.length?(r=Array.from(s),o):r.slice()},o.unknown=function(s){return arguments.length?(i=s,o):i},o.copy=function(){return LL(e,r).unknown(i)},EBe.apply(o,arguments),o}function BL(n,e,r){n.prototype=e.prototype=r,r.constructor=n}function vV(n,e){var r=Object.create(n.prototype);for(var i in e)r[i]=e[i];return r}function ly(){}var RA=.7,RE=1/RA,Fm="\\s*([+-]?\\d+)\\s*",IA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",CBe=/^#([0-9a-f]{3,8})$/,wBe=new RegExp(`^rgb\\(${Fm},${Fm},${Fm}\\)$`),SBe=new RegExp(`^rgb\\(${yc},${yc},${yc}\\)$`),_Be=new RegExp(`^rgba\\(${Fm},${Fm},${Fm},${IA}\\)$`),MBe=new RegExp(`^rgba\\(${yc},${yc},${yc},${IA}\\)$`),TBe=new RegExp(`^hsl\\(${IA},${yc},${yc}\\)$`),RBe=new RegExp(`^hsla\\(${IA},${yc},${yc},${IA}\\)$`),K8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};BL(ly,PA,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:X8,formatHex:X8,formatHex8:IBe,formatHsl:PBe,formatRgb:q8,toString:q8});function X8(){return this.rgb().formatHex()}function IBe(){return this.rgb().formatHex8()}function PBe(){return AV(this).formatHsl()}function q8(){return this.rgb().formatRgb()}function PA(n){var e,r;return n=(n+"").trim().toLowerCase(),(e=CBe.exec(n))?(r=e[1].length,e=parseInt(e[1],16),r===6?Y8(e):r===3?new as(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?R1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?R1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=wBe.exec(n))?new as(e[1],e[2],e[3],1):(e=SBe.exec(n))?new as(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=_Be.exec(n))?R1(e[1],e[2],e[3],e[4]):(e=MBe.exec(n))?R1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=TBe.exec(n))?e6(e[1],e[2]/100,e[3]/100,1):(e=RBe.exec(n))?e6(e[1],e[2]/100,e[3]/100,e[4]):K8.hasOwnProperty(n)?Y8(K8[n]):n==="transparent"?new as(NaN,NaN,NaN,0):null}function Y8(n){return new as(n>>16&255,n>>8&255,n&255,1)}function R1(n,e,r,i){return i<=0&&(n=e=r=NaN),new as(n,e,r,i)}function LBe(n){return n instanceof ly||(n=PA(n)),n?(n=n.rgb(),new as(n.r,n.g,n.b,n.opacity)):new as}function gR(n,e,r,i){return arguments.length===1?LBe(n):new as(n,e,r,i??1)}function as(n,e,r,i){this.r=+n,this.g=+e,this.b=+r,this.opacity=+i}BL(as,gR,vV(ly,{brighter(n){return n=n==null?RE:Math.pow(RE,n),new as(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?RA:Math.pow(RA,n),new as(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new as(mh(this.r),mh(this.g),mh(this.b),IE(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:J8,formatHex:J8,formatHex8:BBe,formatRgb:Z8,toString:Z8}));function J8(){return`#${rh(this.r)}${rh(this.g)}${rh(this.b)}`}function BBe(){return`#${rh(this.r)}${rh(this.g)}${rh(this.b)}${rh((isNaN(this.opacity)?1:this.opacity)*255)}`}function Z8(){const n=IE(this.opacity);return`${n===1?"rgb(":"rgba("}${mh(this.r)}, ${mh(this.g)}, ${mh(this.b)}${n===1?")":`, ${n})`}`}function IE(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function mh(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function rh(n){return n=mh(n),(n<16?"0":"")+n.toString(16)}function e6(n,e,r,i){return i<=0?n=e=r=NaN:r<=0||r>=1?n=e=NaN:e<=0&&(n=NaN),new Ul(n,e,r,i)}function AV(n){if(n instanceof Ul)return new Ul(n.h,n.s,n.l,n.opacity);if(n instanceof ly||(n=PA(n)),!n)return new Ul;if(n instanceof Ul)return n;n=n.rgb();var e=n.r/255,r=n.g/255,i=n.b/255,o=Math.min(e,r,i),s=Math.max(e,r,i),l=NaN,u=s-o,c=(s+o)/2;return u?(e===s?l=(r-i)/u+(r<i)*6:r===s?l=(i-e)/u+2:l=(e-r)/u+4,u/=c<.5?s+o:2-s-o,l*=60):u=c>0&&c<1?0:l,new Ul(l,u,c,n.opacity)}function OBe(n,e,r,i){return arguments.length===1?AV(n):new Ul(n,e,r,i??1)}function Ul(n,e,r,i){this.h=+n,this.s=+e,this.l=+r,this.opacity=+i}BL(Ul,OBe,vV(ly,{brighter(n){return n=n==null?RE:Math.pow(RE,n),new Ul(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?RA:Math.pow(RA,n),new Ul(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*e,o=2*r-i;return new as(hM(n>=240?n-240:n+120,o,i),hM(n,o,i),hM(n<120?n+240:n-120,o,i),this.opacity)},clamp(){return new Ul(t6(this.h),I1(this.s),I1(this.l),IE(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=IE(this.opacity);return`${n===1?"hsl(":"hsla("}${t6(this.h)}, ${I1(this.s)*100}%, ${I1(this.l)*100}%${n===1?")":`, ${n})`}`}}));function t6(n){return n=(n||0)%360,n<0?n+360:n}function I1(n){return Math.max(0,Math.min(1,n||0))}function hM(n,e,r){return(n<60?e+(r-e)*n/60:n<180?r:n<240?e+(r-e)*(240-n)/60:e)*255}const yV=n=>()=>n;function DBe(n,e){return function(r){return n+r*e}}function NBe(n,e,r){return n=Math.pow(n,r),e=Math.pow(e,r)-n,r=1/r,function(i){return Math.pow(n+i*e,r)}}function kBe(n){return(n=+n)==1?bV:function(e,r){return r-e?NBe(e,r,n):yV(isNaN(e)?r:e)}}function bV(n,e){var r=e-n;return r?DBe(n,r):yV(isNaN(n)?e:n)}const n6=function n(e){var r=kBe(e);function i(o,s){var l=r((o=gR(o)).r,(s=gR(s)).r),u=r(o.g,s.g),c=r(o.b,s.b),d=bV(o.opacity,s.opacity);return function(h){return o.r=l(h),o.g=u(h),o.b=c(h),o.opacity=d(h),o+""}}return i.gamma=n,i}(1);function _d(n,e){return n=+n,e=+e,function(r){return n*(1-r)+e*r}}var vR=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pM=new RegExp(vR.source,"g");function FBe(n){return function(){return n}}function UBe(n){return function(e){return n(e)+""}}function zBe(n,e){var r=vR.lastIndex=pM.lastIndex=0,i,o,s,l=-1,u=[],c=[];for(n=n+"",e=e+"";(i=vR.exec(n))&&(o=pM.exec(e));)(s=o.index)>r&&(s=e.slice(r,s),u[l]?u[l]+=s:u[++l]=s),(i=i[0])===(o=o[0])?u[l]?u[l]+=o:u[++l]=o:(u[++l]=null,c.push({i:l,x:_d(i,o)})),r=pM.lastIndex;return r<e.length&&(s=e.slice(r),u[l]?u[l]+=s:u[++l]=s),u.length<2?c[0]?UBe(c[0].x):FBe(e):(e=c.length,function(d){for(var h=0,p;h<e;++h)u[(p=c[h]).i]=p.x(d);return u.join("")})}var r6=180/Math.PI,AR={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function xV(n,e,r,i,o,s){var l,u,c;return(l=Math.sqrt(n*n+e*e))&&(n/=l,e/=l),(c=n*r+e*i)&&(r-=n*c,i-=e*c),(u=Math.sqrt(r*r+i*i))&&(r/=u,i/=u,c/=u),n*i<e*r&&(n=-n,e=-e,c=-c,l=-l),{translateX:o,translateY:s,rotate:Math.atan2(e,n)*r6,skewX:Math.atan(c)*r6,scaleX:l,scaleY:u}}var P1;function $Be(n){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?AR:xV(e.a,e.b,e.c,e.d,e.e,e.f)}function HBe(n){return n==null||(P1||(P1=document.createElementNS("http://www.w3.org/2000/svg","g")),P1.setAttribute("transform",n),!(n=P1.transform.baseVal.consolidate()))?AR:(n=n.matrix,xV(n.a,n.b,n.c,n.d,n.e,n.f))}function EV(n,e,r,i){function o(d){return d.length?d.pop()+" ":""}function s(d,h,p,m,v,y){if(d!==p||h!==m){var A=v.push("translate(",null,e,null,r);y.push({i:A-4,x:_d(d,p)},{i:A-2,x:_d(h,m)})}else(p||m)&&v.push("translate("+p+e+m+r)}function l(d,h,p,m){d!==h?(d-h>180?h+=360:h-d>180&&(d+=360),m.push({i:p.push(o(p)+"rotate(",null,i)-2,x:_d(d,h)})):h&&p.push(o(p)+"rotate("+h+i)}function u(d,h,p,m){d!==h?m.push({i:p.push(o(p)+"skewX(",null,i)-2,x:_d(d,h)}):h&&p.push(o(p)+"skewX("+h+i)}function c(d,h,p,m,v,y){if(d!==p||h!==m){var A=v.push(o(v)+"scale(",null,",",null,")");y.push({i:A-4,x:_d(d,p)},{i:A-2,x:_d(h,m)})}else(p!==1||m!==1)&&v.push(o(v)+"scale("+p+","+m+")")}return function(d,h){var p=[],m=[];return d=n(d),h=n(h),s(d.translateX,d.translateY,h.translateX,h.translateY,p,m),l(d.rotate,h.rotate,p,m),u(d.skewX,h.skewX,p,m),c(d.scaleX,d.scaleY,h.scaleX,h.scaleY,p,m),d=h=null,function(v){for(var y=-1,A=m.length,b;++y<A;)p[(b=m[y]).i]=b.x(v);return p.join("")}}}var jBe=EV($Be,"px, ","px)","deg)"),GBe=EV(HBe,", ",")",")"),VBe=1e-12;function i6(n){return((n=Math.exp(n))+1/n)/2}function WBe(n){return((n=Math.exp(n))-1/n)/2}function QBe(n){return((n=Math.exp(2*n))-1)/(n+1)}const KBe=function n(e,r,i){function o(s,l){var u=s[0],c=s[1],d=s[2],h=l[0],p=l[1],m=l[2],v=h-u,y=p-c,A=v*v+y*y,b,g;if(A<VBe)g=Math.log(m/d)/e,b=function(R){return[u+R*v,c+R*y,d*Math.exp(e*R*g)]};else{var w=Math.sqrt(A),E=(m*m-d*d+i*A)/(2*d*r*w),C=(m*m-d*d-i*A)/(2*m*r*w),_=Math.log(Math.sqrt(E*E+1)-E),P=Math.log(Math.sqrt(C*C+1)-C);g=(P-_)/e,b=function(R){var L=R*g,T=i6(_),D=d/(r*w)*(T*QBe(e*L+_)-WBe(_));return[u+D*v,c+D*y,d*T/i6(e*L+_)]}}return b.duration=g*1e3*e/Math.SQRT2,b}return o.rho=function(s){var l=Math.max(.001,+s),u=l*l,c=u*u;return n(l,u,c)},o}(Math.SQRT2,2,4);function XBe(n){for(var e=n.length/6|0,r=new Array(e),i=0;i<e;)r[i]="#"+n.slice(i*6,++i*6);return r}const CV=XBe("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function PE(n){"@babel/helpers - typeof";return PE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PE(n)}var qBe=/^\s+/,YBe=/\s+$/;function Lr(n,e){if(n=n||"",e=e||{},n instanceof Lr)return n;if(!(this instanceof Lr))return new Lr(n,e);var r=JBe(n);this._originalInput=n,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}Lr.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),r,i,o,s,l,u;return r=e.r/255,i=e.g/255,o=e.b/255,r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),i<=.03928?l=i/12.92:l=Math.pow((i+.055)/1.055,2.4),o<=.03928?u=o/12.92:u=Math.pow((o+.055)/1.055,2.4),.2126*s+.7152*l+.0722*u},setAlpha:function(e){return this._a=wV(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=a6(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=a6(this._r,this._g,this._b),r=Math.round(e.h*360),i=Math.round(e.s*100),o=Math.round(e.v*100);return this._a==1?"hsv("+r+", "+i+"%, "+o+"%)":"hsva("+r+", "+i+"%, "+o+"%, "+this._roundA+")"},toHsl:function(){var e=o6(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=o6(this._r,this._g,this._b),r=Math.round(e.h*360),i=Math.round(e.s*100),o=Math.round(e.l*100);return this._a==1?"hsl("+r+", "+i+"%, "+o+"%)":"hsla("+r+", "+i+"%, "+o+"%, "+this._roundA+")"},toHex:function(e){return s6(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return nOe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(ao(this._r,255)*100)+"%",g:Math.round(ao(this._g,255)*100)+"%",b:Math.round(ao(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(ao(this._r,255)*100)+"%, "+Math.round(ao(this._g,255)*100)+"%, "+Math.round(ao(this._b,255)*100)+"%)":"rgba("+Math.round(ao(this._r,255)*100)+"%, "+Math.round(ao(this._g,255)*100)+"%, "+Math.round(ao(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:pOe[s6(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var r="#"+l6(this._r,this._g,this._b,this._a),i=r,o=this._gradientType?"GradientType = 1, ":"";if(e){var s=Lr(e);i="#"+l6(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+r+",endColorstr="+i+")"},toString:function(e){var r=!!e;e=e||this._format;var i=!1,o=this._a<1&&this._a>=0,s=!r&&o&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return Lr(this.toString())},_applyModification:function(e,r){var i=e.apply(null,[this].concat([].slice.call(r)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(aOe,arguments)},brighten:function(){return this._applyModification(sOe,arguments)},darken:function(){return this._applyModification(lOe,arguments)},desaturate:function(){return this._applyModification(rOe,arguments)},saturate:function(){return this._applyModification(iOe,arguments)},greyscale:function(){return this._applyModification(oOe,arguments)},spin:function(){return this._applyModification(cOe,arguments)},_applyCombination:function(e,r){return e.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(fOe,arguments)},complement:function(){return this._applyCombination(uOe,arguments)},monochromatic:function(){return this._applyCombination(hOe,arguments)},splitcomplement:function(){return this._applyCombination(dOe,arguments)},triad:function(){return this._applyCombination(c6,[3])},tetrad:function(){return this._applyCombination(c6,[4])}};Lr.fromRatio=function(n,e){if(PE(n)=="object"){var r={};for(var i in n)n.hasOwnProperty(i)&&(i==="a"?r[i]=n[i]:r[i]=A0(n[i]));n=r}return Lr(n,e)};function JBe(n){var e={r:0,g:0,b:0},r=1,i=null,o=null,s=null,l=!1,u=!1;return typeof n=="string"&&(n=AOe(n)),PE(n)=="object"&&(ru(n.r)&&ru(n.g)&&ru(n.b)?(e=ZBe(n.r,n.g,n.b),l=!0,u=String(n.r).substr(-1)==="%"?"prgb":"rgb"):ru(n.h)&&ru(n.s)&&ru(n.v)?(i=A0(n.s),o=A0(n.v),e=tOe(n.h,i,o),l=!0,u="hsv"):ru(n.h)&&ru(n.s)&&ru(n.l)&&(i=A0(n.s),s=A0(n.l),e=eOe(n.h,i,s),l=!0,u="hsl"),n.hasOwnProperty("a")&&(r=n.a)),r=wV(r),{ok:l,format:n.format||u,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}function ZBe(n,e,r){return{r:ao(n,255)*255,g:ao(e,255)*255,b:ao(r,255)*255}}function o6(n,e,r){n=ao(n,255),e=ao(e,255),r=ao(r,255);var i=Math.max(n,e,r),o=Math.min(n,e,r),s,l,u=(i+o)/2;if(i==o)s=l=0;else{var c=i-o;switch(l=u>.5?c/(2-i-o):c/(i+o),i){case n:s=(e-r)/c+(e<r?6:0);break;case e:s=(r-n)/c+2;break;case r:s=(n-e)/c+4;break}s/=6}return{h:s,s:l,l:u}}function eOe(n,e,r){var i,o,s;n=ao(n,360),e=ao(e,100),r=ao(r,100);function l(d,h,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?d+(h-d)*6*p:p<1/2?h:p<2/3?d+(h-d)*(2/3-p)*6:d}if(e===0)i=o=s=r;else{var u=r<.5?r*(1+e):r+e-r*e,c=2*r-u;i=l(c,u,n+1/3),o=l(c,u,n),s=l(c,u,n-1/3)}return{r:i*255,g:o*255,b:s*255}}function a6(n,e,r){n=ao(n,255),e=ao(e,255),r=ao(r,255);var i=Math.max(n,e,r),o=Math.min(n,e,r),s,l,u=i,c=i-o;if(l=i===0?0:c/i,i==o)s=0;else{switch(i){case n:s=(e-r)/c+(e<r?6:0);break;case e:s=(r-n)/c+2;break;case r:s=(n-e)/c+4;break}s/=6}return{h:s,s:l,v:u}}function tOe(n,e,r){n=ao(n,360)*6,e=ao(e,100),r=ao(r,100);var i=Math.floor(n),o=n-i,s=r*(1-e),l=r*(1-o*e),u=r*(1-(1-o)*e),c=i%6,d=[r,l,s,s,u,r][c],h=[u,r,r,l,s,s][c],p=[s,s,u,r,r,l][c];return{r:d*255,g:h*255,b:p*255}}function s6(n,e,r,i){var o=[Hl(Math.round(n).toString(16)),Hl(Math.round(e).toString(16)),Hl(Math.round(r).toString(16))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function nOe(n,e,r,i,o){var s=[Hl(Math.round(n).toString(16)),Hl(Math.round(e).toString(16)),Hl(Math.round(r).toString(16)),Hl(SV(i))];return o&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function l6(n,e,r,i){var o=[Hl(SV(i)),Hl(Math.round(n).toString(16)),Hl(Math.round(e).toString(16)),Hl(Math.round(r).toString(16))];return o.join("")}Lr.equals=function(n,e){return!n||!e?!1:Lr(n).toRgbString()==Lr(e).toRgbString()};Lr.random=function(){return Lr.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function rOe(n,e){e=e===0?0:e||10;var r=Lr(n).toHsl();return r.s-=e/100,r.s=tw(r.s),Lr(r)}function iOe(n,e){e=e===0?0:e||10;var r=Lr(n).toHsl();return r.s+=e/100,r.s=tw(r.s),Lr(r)}function oOe(n){return Lr(n).desaturate(100)}function aOe(n,e){e=e===0?0:e||10;var r=Lr(n).toHsl();return r.l+=e/100,r.l=tw(r.l),Lr(r)}function sOe(n,e){e=e===0?0:e||10;var r=Lr(n).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),Lr(r)}function lOe(n,e){e=e===0?0:e||10;var r=Lr(n).toHsl();return r.l-=e/100,r.l=tw(r.l),Lr(r)}function cOe(n,e){var r=Lr(n).toHsl(),i=(r.h+e)%360;return r.h=i<0?360+i:i,Lr(r)}function uOe(n){var e=Lr(n).toHsl();return e.h=(e.h+180)%360,Lr(e)}function c6(n,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var r=Lr(n).toHsl(),i=[Lr(n)],o=360/e,s=1;s<e;s++)i.push(Lr({h:(r.h+s*o)%360,s:r.s,l:r.l}));return i}function dOe(n){var e=Lr(n).toHsl(),r=e.h;return[Lr(n),Lr({h:(r+72)%360,s:e.s,l:e.l}),Lr({h:(r+216)%360,s:e.s,l:e.l})]}function fOe(n,e,r){e=e||6,r=r||30;var i=Lr(n).toHsl(),o=360/r,s=[Lr(n)];for(i.h=(i.h-(o*e>>1)+720)%360;--e;)i.h=(i.h+o)%360,s.push(Lr(i));return s}function hOe(n,e){e=e||6;for(var r=Lr(n).toHsv(),i=r.h,o=r.s,s=r.v,l=[],u=1/e;e--;)l.push(Lr({h:i,s:o,v:s})),s=(s+u)%1;return l}Lr.mix=function(n,e,r){r=r===0?0:r||50;var i=Lr(n).toRgb(),o=Lr(e).toRgb(),s=r/100,l={r:(o.r-i.r)*s+i.r,g:(o.g-i.g)*s+i.g,b:(o.b-i.b)*s+i.b,a:(o.a-i.a)*s+i.a};return Lr(l)};Lr.readability=function(n,e){var r=Lr(n),i=Lr(e);return(Math.max(r.getLuminance(),i.getLuminance())+.05)/(Math.min(r.getLuminance(),i.getLuminance())+.05)};Lr.isReadable=function(n,e,r){var i=Lr.readability(n,e),o,s;switch(s=!1,o=yOe(r),o.level+o.size){case"AAsmall":case"AAAlarge":s=i>=4.5;break;case"AAlarge":s=i>=3;break;case"AAAsmall":s=i>=7;break}return s};Lr.mostReadable=function(n,e,r){var i=null,o=0,s,l,u,c;r=r||{},l=r.includeFallbackColors,u=r.level,c=r.size;for(var d=0;d<e.length;d++)s=Lr.readability(n,e[d]),s>o&&(o=s,i=Lr(e[d]));return Lr.isReadable(n,i,{level:u,size:c})||!l?i:(r.includeFallbackColors=!1,Lr.mostReadable(n,["#fff","#000"],r))};var yR=Lr.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},pOe=Lr.hexNames=mOe(yR);function mOe(n){var e={};for(var r in n)n.hasOwnProperty(r)&&(e[n[r]]=r);return e}function wV(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function ao(n,e){gOe(n)&&(n="100%");var r=vOe(n);return n=Math.min(e,Math.max(0,parseFloat(n))),r&&(n=parseInt(n*e,10)/100),Math.abs(n-e)<1e-6?1:n%e/parseFloat(e)}function tw(n){return Math.min(1,Math.max(0,n))}function Ms(n){return parseInt(n,16)}function gOe(n){return typeof n=="string"&&n.indexOf(".")!=-1&&parseFloat(n)===1}function vOe(n){return typeof n=="string"&&n.indexOf("%")!=-1}function Hl(n){return n.length==1?"0"+n:""+n}function A0(n){return n<=1&&(n=n*100+"%"),n}function SV(n){return Math.round(parseFloat(n)*255).toString(16)}function u6(n){return Ms(n)/255}var Tl=function(){var n="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",r="(?:"+e+")|(?:"+n+")",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",o="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+o),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ru(n){return!!Tl.CSS_UNIT.exec(n)}function AOe(n){n=n.replace(qBe,"").replace(YBe,"").toLowerCase();var e=!1;if(yR[n])n=yR[n],e=!0;else if(n=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=Tl.rgb.exec(n))?{r:r[1],g:r[2],b:r[3]}:(r=Tl.rgba.exec(n))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Tl.hsl.exec(n))?{h:r[1],s:r[2],l:r[3]}:(r=Tl.hsla.exec(n))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Tl.hsv.exec(n))?{h:r[1],s:r[2],v:r[3]}:(r=Tl.hsva.exec(n))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Tl.hex8.exec(n))?{r:Ms(r[1]),g:Ms(r[2]),b:Ms(r[3]),a:u6(r[4]),format:e?"name":"hex8"}:(r=Tl.hex6.exec(n))?{r:Ms(r[1]),g:Ms(r[2]),b:Ms(r[3]),format:e?"name":"hex"}:(r=Tl.hex4.exec(n))?{r:Ms(r[1]+""+r[1]),g:Ms(r[2]+""+r[2]),b:Ms(r[3]+""+r[3]),a:u6(r[4]+""+r[4]),format:e?"name":"hex8"}:(r=Tl.hex3.exec(n))?{r:Ms(r[1]+""+r[1]),g:Ms(r[2]+""+r[2]),b:Ms(r[3]+""+r[3]),format:e?"name":"hex"}:!1}function yOe(n){var e,r;return n=n||{level:"AA",size:"small"},e=(n.level||"AA").toUpperCase(),r=(n.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:e,size:r}}function bOe(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,s,l,u=[],c=!0,d=!1;try{if(s=(r=r.call(n)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(i=s.call(r)).done)&&(u.push(i.value),u.length!==e);c=!0);}catch(h){d=!0,o=h}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw o}}return u}}function d6(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function _V(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d6(Object(r),!0).forEach(function(i){OL(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):d6(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function bR(n){"@babel/helpers - typeof";return bR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bR(n)}function xOe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function f6(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,IV(i.key),i)}}function EOe(n,e,r){return e&&f6(n.prototype,e),r&&f6(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}function OL(n,e,r){return e=IV(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function COe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&BE(n,e)}function LE(n){return LE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},LE(n)}function BE(n,e){return BE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},BE(n,e)}function MV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hx(n,e,r){return MV()?hx=Reflect.construct.bind():hx=function(o,s,l){var u=[null];u.push.apply(u,s);var c=Function.bind.apply(o,u),d=new c;return l&&BE(d,l.prototype),d},hx.apply(null,arguments)}function wOe(n,e){if(n==null)return{};var r={},i=Object.keys(n),o,s;for(s=0;s<i.length;s++)o=i[s],!(e.indexOf(o)>=0)&&(r[o]=n[o]);return r}function SOe(n,e){if(n==null)return{};var r=wOe(n,e),i,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(o=0;o<s.length;o++)i=s[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(r[i]=n[i])}return r}function TV(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _Oe(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TV(n)}function MOe(n){var e=MV();return function(){var i=LE(n),o;if(e){var s=LE(this).constructor;o=Reflect.construct(i,arguments,s)}else o=i.apply(this,arguments);return _Oe(this,o)}}function h6(n,e){return ROe(n)||bOe(n,e)||RV(n,e)||LOe()}function Dl(n){return TOe(n)||IOe(n)||RV(n)||POe()}function TOe(n){if(Array.isArray(n))return xR(n)}function ROe(n){if(Array.isArray(n))return n}function IOe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function RV(n,e){if(n){if(typeof n=="string")return xR(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xR(n,e)}}function xR(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function POe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BOe(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function IV(n){var e=BOe(n,"string");return typeof e=="symbol"?e:String(e)}var OOe=function n(e){e instanceof Array?e.forEach(n):(e.map&&e.map.dispose(),e.dispose())},DOe=function n(e){e.geometry&&e.geometry.dispose(),e.material&&OOe(e.material),e.texture&&e.texture.dispose(),e.children&&e.children.forEach(n)},ER=function(e){for(;e.children.length;){var r=e.children[0];e.remove(r),DOe(r)}},NOe=["objFilter"];function qv(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.objFilter,o=i===void 0?function(){return!0}:i,s=SOe(r,NOe);return xBe(n,e.children.filter(o),function(l){return e.add(l)},function(l){e.remove(l),ER(l)},_V({objBindAttr:"__threeObj"},s))}var Yv=function(e){return isNaN(e)?parseInt(Lr(e).toHex(),16):e},mM=function(e){return isNaN(e)?Lr(e).getAlpha():1},kOe=LL(CV);function p6(n,e,r){!e||typeof r!="string"||n.filter(function(i){return!i[r]}).forEach(function(i){i[r]=kOe(e(i))})}function FOe(n,e){var r=n.nodes,i=n.links,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=o.nodeFilter,l=s===void 0?function(){return!0}:s,u=o.onLoopError,c=u===void 0?function(v){throw"Invalid DAG structure! Found cycle in node path: ".concat(v.join(" -> "),".")}:u,d={};r.forEach(function(v){return d[e(v)]={data:v,out:[],depth:-1,skip:!l(v)}}),i.forEach(function(v){var y=v.source,A=v.target,b=C(y),g=C(A);if(!d.hasOwnProperty(b))throw"Missing source node with id: ".concat(b);if(!d.hasOwnProperty(g))throw"Missing target node with id: ".concat(g);var w=d[b],E=d[g];w.out.push(E);function C(_){return bR(_)==="object"?e(_):_}});var h=[];m(Object.values(d));var p=Object.assign.apply(Object,[{}].concat(Dl(Object.entries(d).filter(function(v){var y=h6(v,2),A=y[1];return!A.skip}).map(function(v){var y=h6(v,2),A=y[0],b=y[1];return OL({},A,b.depth)}))));return p;function m(v){for(var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,b=function(){var _=v[g];if(y.indexOf(_)!==-1){var P=[].concat(Dl(y.slice(y.indexOf(_))),[_]).map(function(R){return e(R.data)});return h.some(function(R){return R.length===P.length&&R.every(function(L,T){return L===P[T]})})||(h.push(P),c(P)),"continue"}A>_.depth&&(_.depth=A,m(_.out,[].concat(Dl(y),[_]),A+(_.skip?0:1)))},g=0,w=v.length;g<w;g++)var E=b()}}var Qr=window.THREE?window.THREE:{Group:ym,Mesh:$l,MeshLambertMaterial:G3e,Color:gi,BufferGeometry:fs,BufferAttribute:ll,Matrix4:lo,Vector3:Rt,SphereGeometry:JC,CylinderGeometry:YC,TubeGeometry:AL,ConeGeometry:vL,Line:T3e,LineBasicMaterial:CG,QuadraticBezierCurve3:gL,CubicBezierCurve3:SG,Box3:Lh},m6={graph:_Pe,forcelayout:aLe},UOe=2,g6=new Qr.BufferGeometry().setAttribute?"setAttribute":"addAttribute",L1=new Qr.BufferGeometry().applyMatrix4?"applyMatrix4":"applyMatrix",zOe=Oh({props:{jsonUrl:{onChange:function(e,r){var i=this;e&&!r.fetchingJson&&(r.fetchingJson=!0,r.onLoading(),fetch(e).then(function(o){return o.json()}).then(function(o){r.fetchingJson=!1,r.onFinishLoading(o),i.graphData(o)}))},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,r){r.engineRunning=!1}},numDimensions:{default:3,onChange:function(e,r){var i=r.d3ForceLayout.force("charge");i&&i.strength(e>2?-60:-30),e<3&&o(r.graphData.nodes,"z"),e<2&&o(r.graphData.nodes,"y");function o(s,l){s.forEach(function(u){delete u[l],delete u["v".concat(l)]})}}},dagMode:{onChange:function(e,r){!e&&r.forceEngine==="d3"&&(r.graphData.nodes||[]).forEach(function(i){return i.fx=i.fy=i.fz=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(e){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4},nodeId:{default:"id"},nodeVal:{default:"val"},nodeResolution:{default:8},nodeColor:{default:"color"},nodeAutoColorBy:{},nodeOpacity:{default:.75},nodeVisibility:{default:!0},nodeThreeObject:{},nodeThreeObjectExtend:{default:!1},nodePositionUpdate:{triggerUpdate:!1},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0},linkColor:{default:"color"},linkAutoColorBy:{},linkOpacity:{default:.2},linkWidth:{},linkResolution:{default:6},linkCurvature:{default:0,triggerUpdate:!1},linkCurveRotation:{default:0,triggerUpdate:!1},linkMaterial:{},linkThreeObject:{},linkThreeObjectExtend:{default:!1},linkPositionUpdate:{triggerUpdate:!1},linkDirectionalArrowLength:{default:0},linkDirectionalArrowColor:{},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1},linkDirectionalArrowResolution:{default:8},linkDirectionalParticles:{default:0},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:.5},linkDirectionalParticleColor:{},linkDirectionalParticleResolution:{default:4},forceEngine:{default:"d3"},d3AlphaMin:{default:0},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,r){r.d3ForceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,r){r.d3ForceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,r){r.d3ForceLayout.velocityDecay(e)}},ngraphPhysics:{default:{timeStep:20,gravity:-1.2,theta:.8,springLength:30,springCoefficient:8e-4,dragCoefficient:.02}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onLoading:{default:function(){},triggerUpdate:!1},onFinishLoading:{default:function(){},triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1}},methods:{refresh:function(e){return e._flushObjects=!0,e._rerender(),this},d3Force:function(e,r,i){return i===void 0?e.d3ForceLayout.force(r):(e.d3ForceLayout.force(r,i),this)},d3ReheatSimulation:function(e){return e.d3ForceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},tickFrame:function(e){var r=e.forceEngine!=="ngraph";return e.engineRunning&&i(),o(),s(),this;function i(){++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime||r&&e.d3AlphaMin>0&&e.d3ForceLayout.alpha()<e.d3AlphaMin?(e.engineRunning=!1,e.onEngineStop()):(e.layout[r?"tick":"step"](),e.onEngineTick());var l=Ir(e.nodeThreeObjectExtend);e.graphData.nodes.forEach(function(m){var v=m.__threeObj;if(v){var y=r?m:e.layout.getNodePosition(m[e.nodeId]),A=l(m);(!e.nodePositionUpdate||!e.nodePositionUpdate(A?v.children[0]:v,{x:y.x,y:y.y,z:y.z},m)||A)&&(v.position.x=y.x,v.position.y=y.y||0,v.position.z=y.z||0)}});var u=Ir(e.linkWidth),c=Ir(e.linkCurvature),d=Ir(e.linkCurveRotation),h=Ir(e.linkThreeObjectExtend);e.graphData.links.forEach(function(m){var v=m.__lineObj;if(v){var y=r?m:e.layout.getLinkPosition(e.layout.graph.getLink(m.source,m.target).id),A=y[r?"source":"from"],b=y[r?"target":"to"];if(!(!A||!b||!A.hasOwnProperty("x")||!b.hasOwnProperty("x"))){p(m);var g=h(m);if(!(e.linkPositionUpdate&&e.linkPositionUpdate(g?v.children[1]:v,{start:{x:A.x,y:A.y,z:A.z},end:{x:b.x,y:b.y,z:b.z}},m)&&!g)){var w=30,E=m.__curve,C=v.children.length?v.children[0]:v;if(C.type==="Line"){if(E)C.geometry.setFromPoints(E.getPoints(w));else{var _=C.geometry.getAttribute("position");(!_||!_.array||_.array.length!==6)&&C.geometry[g6]("position",_=new Qr.BufferAttribute(new Float32Array(2*3),3)),_.array[0]=A.x,_.array[1]=A.y||0,_.array[2]=A.z||0,_.array[3]=b.x,_.array[4]=b.y||0,_.array[5]=b.z||0,_.needsUpdate=!0}C.geometry.computeBoundingSphere()}else if(C.type==="Mesh")if(E){C.geometry.type.match(/^Tube(Buffer)?Geometry$/)||(C.position.set(0,0,0),C.rotation.set(0,0,0),C.scale.set(1,1,1));var V=Math.ceil(u(m)*10)/10,B=V/2,O=new Qr.TubeGeometry(E,w,B,e.linkResolution,!1);C.geometry.dispose(),C.geometry=O}else{if(!C.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)){var P=Math.ceil(u(m)*10)/10,R=P/2,L=new Qr.CylinderGeometry(R,R,1,e.linkResolution,1,!1);L[L1](new Qr.Matrix4().makeTranslation(0,1/2,0)),L[L1](new Qr.Matrix4().makeRotationX(Math.PI/2)),C.geometry.dispose(),C.geometry=L}var T=new Qr.Vector3(A.x,A.y||0,A.z||0),D=new Qr.Vector3(b.x,b.y||0,b.z||0),H=T.distanceTo(D);C.position.x=T.x,C.position.y=T.y,C.position.z=T.z,C.scale.z=H,C.parent.localToWorld(D),C.lookAt(D)}}}}});function p(m){var v=r?m:e.layout.getLinkPosition(e.layout.graph.getLink(m.source,m.target).id),y=v[r?"source":"from"],A=v[r?"target":"to"];if(!(!y||!A||!y.hasOwnProperty("x")||!A.hasOwnProperty("x"))){var b=c(m);if(!b)m.__curve=null;else{var g=new Qr.Vector3(y.x,y.y||0,y.z||0),w=new Qr.Vector3(A.x,A.y||0,A.z||0),E=g.distanceTo(w),C,_=d(m);if(E>0){var P=A.x-y.x,R=A.y-y.y||0,L=new Qr.Vector3().subVectors(w,g),T=L.clone().multiplyScalar(b).cross(P!==0||R!==0?new Qr.Vector3(0,0,1):new Qr.Vector3(0,1,0)).applyAxisAngle(L.normalize(),_).add(new Qr.Vector3().addVectors(g,w).divideScalar(2));C=new Qr.QuadraticBezierCurve3(g,T,w)}else{var D=b*70,H=-_,V=H+Math.PI/2;C=new Qr.CubicBezierCurve3(g,new Qr.Vector3(D*Math.cos(V),D*Math.sin(V),0).add(g),new Qr.Vector3(D*Math.cos(H),D*Math.sin(H),0).add(g),w)}m.__curve=C}}}}function o(){var l=Ir(e.linkDirectionalArrowRelPos),u=Ir(e.linkDirectionalArrowLength),c=Ir(e.nodeVal);e.graphData.links.forEach(function(d){var h=d.__arrowObj;if(h){var p=r?d:e.layout.getLinkPosition(e.layout.graph.getLink(d.source,d.target).id),m=p[r?"source":"from"],v=p[r?"target":"to"];if(!(!m||!v||!m.hasOwnProperty("x")||!v.hasOwnProperty("x"))){var y=Math.cbrt(Math.max(0,c(m)||1))*e.nodeRelSize,A=Math.cbrt(Math.max(0,c(v)||1))*e.nodeRelSize,b=u(d),g=l(d),w=d.__curve?function(L){return d.__curve.getPoint(L)}:function(L){var T=function(H,V,B,O){return V[H]+(B[H]-V[H])*O||0};return{x:T("x",m,v,L),y:T("y",m,v,L),z:T("z",m,v,L)}},E=d.__curve?d.__curve.getLength():Math.sqrt(["x","y","z"].map(function(L){return Math.pow((v[L]||0)-(m[L]||0),2)}).reduce(function(L,T){return L+T},0)),C=y+b+(E-y-A-b)*g,_=w(C/E),P=w((C-b)/E);["x","y","z"].forEach(function(L){return h.position[L]=P[L]});var R=hx(Qr.Vector3,Dl(["x","y","z"].map(function(L){return _[L]})));h.parent.localToWorld(R),h.lookAt(R)}}})}function s(){var l=Ir(e.linkDirectionalParticleSpeed);e.graphData.links.forEach(function(u){var c=u.__photonsObj&&u.__photonsObj.children,d=u.__singleHopPhotonsObj&&u.__singleHopPhotonsObj.children;if(!((!d||!d.length)&&(!c||!c.length))){var h=r?u:e.layout.getLinkPosition(e.layout.graph.getLink(u.source,u.target).id),p=h[r?"source":"from"],m=h[r?"target":"to"];if(!(!p||!m||!p.hasOwnProperty("x")||!m.hasOwnProperty("x"))){var v=l(u),y=u.__curve?function(b){return u.__curve.getPoint(b)}:function(b){var g=function(E,C,_,P){return C[E]+(_[E]-C[E])*P||0};return{x:g("x",p,m,b),y:g("y",p,m,b),z:g("z",p,m,b)}},A=[].concat(Dl(c||[]),Dl(d||[]));A.forEach(function(b,g){var w=b.parent.__linkThreeObjType==="singleHopPhotons";if(b.hasOwnProperty("__progressRatio")||(b.__progressRatio=w?0:g/c.length),b.__progressRatio+=v,b.__progressRatio>=1)if(!w)b.__progressRatio=b.__progressRatio%1;else{b.parent.remove(b),ER(b);return}var E=b.__progressRatio,C=y(E);["x","y","z"].forEach(function(_){return b.position[_]=C[_]})})}}})}},emitParticle:function(e,r){if(r&&e.graphData.links.includes(r)){if(!r.__singleHopPhotonsObj){var i=new Qr.Group;i.__linkThreeObjType="singleHopPhotons",r.__singleHopPhotonsObj=i,e.graphScene.add(i)}var o=Ir(e.linkDirectionalParticleWidth),s=Math.ceil(o(r)*10)/10/2,l=e.linkDirectionalParticleResolution,u=new Qr.SphereGeometry(s,l,l),c=Ir(e.linkColor),d=Ir(e.linkDirectionalParticleColor),h=d(r)||c(r)||"#f0f0f0",p=new Qr.Color(Yv(h)),m=e.linkOpacity*3,v=new Qr.MeshLambertMaterial({color:p,transparent:!0,opacity:m});r.__singleHopPhotonsObj.add(new Qr.Mesh(u,v))}return this},getGraphBbox:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0};if(!e.initialised)return null;var i=function o(s){var l=[];if(s.geometry){s.geometry.computeBoundingBox();var u=new Qr.Box3;u.copy(s.geometry.boundingBox).applyMatrix4(s.matrixWorld),l.push(u)}return l.concat.apply(l,Dl((s.children||[]).filter(function(c){return!c.hasOwnProperty("__graphObjType")||c.__graphObjType==="node"&&r(c.__data)}).map(o)))}(e.graphScene);return i.length?Object.assign.apply(Object,Dl(["x","y","z"].map(function(o){return OL({},o,[fR(i,function(s){return s.min[o]}),dR(i,function(s){return s.max[o]})])}))):null}},stateInit:function(){return{d3ForceLayout:VG().force("link",HG()).force("charge",WG()).force("center",DG()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(e,r){r.graphScene=e},update:function(e,r){var i=function(ce){return ce.some(function(Be){return r.hasOwnProperty(Be)})};if(e.engineRunning=!1,e.onUpdate(),e.nodeAutoColorBy!==null&&i(["nodeAutoColorBy","graphData","nodeColor"])&&p6(e.graphData.nodes,Ir(e.nodeAutoColorBy),e.nodeColor),e.linkAutoColorBy!==null&&i(["linkAutoColorBy","graphData","linkColor"])&&p6(e.graphData.links,Ir(e.linkAutoColorBy),e.linkColor),e._flushObjects||i(["graphData","nodeThreeObject","nodeThreeObjectExtend","nodeVal","nodeColor","nodeVisibility","nodeRelSize","nodeResolution","nodeOpacity"])){var o=Ir(e.nodeThreeObject),s=Ir(e.nodeThreeObjectExtend),l=Ir(e.nodeVal),u=Ir(e.nodeColor),c=Ir(e.nodeVisibility),d={},h={};qv(e.graphData.nodes.filter(c),e.graphScene,{purge:e._flushObjects||i(["nodeThreeObject","nodeThreeObjectExtend"]),objFilter:function(ce){return ce.__graphObjType==="node"},createObj:function(ce){var Be=o(ce),ge=s(ce);Be&&e.nodeThreeObject===Be&&(Be=Be.clone());var Re;return Be&&!ge?Re=Be:(Re=new Qr.Mesh,Re.__graphDefaultObj=!0,Be&&ge&&Re.add(Be)),Re.__graphObjType="node",Re},updateObj:function(ce,Be){if(ce.__graphDefaultObj){var ge=l(Be)||1,Re=Math.cbrt(ge)*e.nodeRelSize,$e=e.nodeResolution;(!ce.geometry.type.match(/^Sphere(Buffer)?Geometry$/)||ce.geometry.parameters.radius!==Re||ce.geometry.parameters.widthSegments!==$e)&&(d.hasOwnProperty(ge)||(d[ge]=new Qr.SphereGeometry(Re,$e,$e)),ce.geometry.dispose(),ce.geometry=d[ge]);var qe=u(Be),Ke=new Qr.Color(Yv(qe||"#ffffaa")),ke=e.nodeOpacity*mM(qe);(ce.material.type!=="MeshLambertMaterial"||!ce.material.color.equals(Ke)||ce.material.opacity!==ke)&&(h.hasOwnProperty(qe)||(h[qe]=new Qr.MeshLambertMaterial({color:Ke,transparent:!0,opacity:ke})),ce.material.dispose(),ce.material=h[qe])}}})}if(e._flushObjects||i(["graphData","linkThreeObject","linkThreeObjectExtend","linkMaterial","linkColor","linkWidth","linkVisibility","linkResolution","linkOpacity","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution"])){var p=Ir(e.linkThreeObject),m=Ir(e.linkThreeObjectExtend),v=Ir(e.linkMaterial),y=Ir(e.linkVisibility),A=Ir(e.linkColor),b=Ir(e.linkWidth),g={},w={},E={},C=e.graphData.links.filter(y);if(qv(C,e.graphScene,{objBindAttr:"__lineObj",purge:e._flushObjects||i(["linkThreeObject","linkThreeObjectExtend","linkWidth"]),objFilter:function(ce){return ce.__graphObjType==="link"},exitObj:function(ce){var Be=ce.__data&&ce.__data.__singleHopPhotonsObj;Be&&(Be.parent.remove(Be),ER(Be),delete ce.__data.__singleHopPhotonsObj)},createObj:function(ce){var Be=p(ce),ge=m(ce);Be&&e.linkThreeObject===Be&&(Be=Be.clone());var Re;if(!Be||ge){var $e=!!b(ce);if($e)Re=new Qr.Mesh;else{var qe=new Qr.BufferGeometry;qe[g6]("position",new Qr.BufferAttribute(new Float32Array(2*3),3)),Re=new Qr.Line(qe)}}var Ke;return Be?ge?(Ke=new Qr.Group,Ke.__graphDefaultObj=!0,Ke.add(Re),Ke.add(Be)):Ke=Be:(Ke=Re,Ke.__graphDefaultObj=!0),Ke.renderOrder=10,Ke.__graphObjType="link",Ke},updateObj:function(ce,Be){if(ce.__graphDefaultObj){var ge=ce.children.length?ce.children[0]:ce,Re=Math.ceil(b(Be)*10)/10,$e=!!Re;if($e){var qe=Re/2,Ke=e.linkResolution;if(!ge.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)||ge.geometry.parameters.radiusTop!==qe||ge.geometry.parameters.radialSegments!==Ke){if(!g.hasOwnProperty(Re)){var ke=new Qr.CylinderGeometry(qe,qe,1,Ke,1,!1);ke[L1](new Qr.Matrix4().makeTranslation(0,1/2,0)),ke[L1](new Qr.Matrix4().makeRotationX(Math.PI/2)),g[Re]=ke}ge.geometry.dispose(),ge.geometry=g[Re]}}var st=v(Be);if(st)ge.material=st;else{var ot=A(Be),it=new Qr.Color(Yv(ot||"#f0f0f0")),ft=e.linkOpacity*mM(ot),Et=$e?"MeshLambertMaterial":"LineBasicMaterial";if(ge.material.type!==Et||!ge.material.color.equals(it)||ge.material.opacity!==ft){var gt=$e?w:E;gt.hasOwnProperty(ot)||(gt[ot]=new Qr[Et]({color:it,transparent:ft<1,opacity:ft,depthWrite:ft>=1})),ge.material.dispose(),ge.material=gt[ot]}}}}}),e.linkDirectionalArrowLength||r.hasOwnProperty("linkDirectionalArrowLength")){var _=Ir(e.linkDirectionalArrowLength),P=Ir(e.linkDirectionalArrowColor);qv(C.filter(_),e.graphScene,{objBindAttr:"__arrowObj",objFilter:function(ce){return ce.__linkThreeObjType==="arrow"},createObj:function(){var ce=new Qr.Mesh(void 0,new Qr.MeshLambertMaterial({transparent:!0}));return ce.__linkThreeObjType="arrow",ce},updateObj:function(ce,Be){var ge=_(Be),Re=e.linkDirectionalArrowResolution;if(!ce.geometry.type.match(/^Cone(Buffer)?Geometry$/)||ce.geometry.parameters.height!==ge||ce.geometry.parameters.radialSegments!==Re){var $e=new Qr.ConeGeometry(ge*.25,ge,Re);$e.translate(0,ge/2,0),$e.rotateX(Math.PI/2),ce.geometry.dispose(),ce.geometry=$e}var qe=P(Be)||A(Be)||"#f0f0f0";ce.material.color=new Qr.Color(Yv(qe)),ce.material.opacity=e.linkOpacity*3*mM(qe)}})}if(e.linkDirectionalParticles||r.hasOwnProperty("linkDirectionalParticles")){var R=Ir(e.linkDirectionalParticles),L=Ir(e.linkDirectionalParticleWidth),T=Ir(e.linkDirectionalParticleColor),D={},H={};qv(C.filter(R),e.graphScene,{objBindAttr:"__photonsObj",objFilter:function(ce){return ce.__linkThreeObjType==="photons"},createObj:function(){var ce=new Qr.Group;return ce.__linkThreeObjType="photons",ce},updateObj:function(ce,Be){var ge=Math.round(Math.abs(R(Be))),Re=!!ce.children.length&&ce.children[0],$e=Math.ceil(L(Be)*10)/10/2,qe=e.linkDirectionalParticleResolution,Ke;Re&&Re.geometry.parameters.radius===$e&&Re.geometry.parameters.widthSegments===qe?Ke=Re.geometry:(H.hasOwnProperty($e)||(H[$e]=new Qr.SphereGeometry($e,qe,qe)),Ke=H[$e],Re&&Re.geometry.dispose());var ke=T(Be)||A(Be)||"#f0f0f0",st=new Qr.Color(Yv(ke)),ot=e.linkOpacity*3,it;Re&&Re.material.color.equals(st)&&Re.material.opacity===ot?it=Re.material:(D.hasOwnProperty(ke)||(D[ke]=new Qr.MeshLambertMaterial({color:st,transparent:!0,opacity:ot})),it=D[ke],Re&&Re.material.dispose()),qv(Dl(new Array(ge)).map(function(ft,Et){return{idx:Et}}),ce,{idAccessor:function(Et){return Et.idx},createObj:function(){return new Qr.Mesh(Ke,it)},updateObj:function(Et){Et.geometry=Ke,Et.material=it}})}})}}if(e._flushObjects=!1,i(["graphData","nodeId","linkSource","linkTarget","numDimensions","forceEngine","dagMode","dagNodeFilter","dagLevelDistance"])){e.engineRunning=!1,e.graphData.links.forEach(function(oe){oe.source=oe[e.linkSource],oe.target=oe[e.linkTarget]});var V=e.forceEngine!=="ngraph",B;if(V){(B=e.d3ForceLayout).stop().alpha(1).numDimensions(e.numDimensions).nodes(e.graphData.nodes);var O=e.d3ForceLayout.force("link");O&&O.id(function(oe){return oe[e.nodeId]}).links(e.graphData.links);var F=e.dagMode&&FOe(e.graphData,function(oe){return oe[e.nodeId]},{nodeFilter:e.dagNodeFilter,onLoopError:e.onDagError||void 0}),N=Math.max.apply(Math,Dl(Object.values(F||[]))),z=e.dagLevelDistance||e.graphData.nodes.length/(N||1)*UOe*(["radialin","radialout"].indexOf(e.dagMode)!==-1?.7:1);if(e.dagMode){var j=function(ce,Be){return function(ge){return ce?(F[ge[e.nodeId]]-N/2)*z*(Be?-1:1):void 0}},G=j(["lr","rl"].indexOf(e.dagMode)!==-1,e.dagMode==="rl"),Q=j(["td","bu"].indexOf(e.dagMode)!==-1,e.dagMode==="td"),X=j(["zin","zout"].indexOf(e.dagMode)!==-1,e.dagMode==="zout");e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(oe){oe.fx=G(oe),oe.fy=Q(oe),oe.fz=X(oe)})}e.d3ForceLayout.force("dagRadial",["radialin","radialout"].indexOf(e.dagMode)!==-1?QG(function(oe){var ce=F[oe[e.nodeId]]||-1;return(e.dagMode==="radialin"?N-ce:ce)*z}).strength(function(oe){return e.dagNodeFilter(oe)?1:0}):null)}else{var J=m6.graph();e.graphData.nodes.forEach(function(oe){J.addNode(oe[e.nodeId])}),e.graphData.links.forEach(function(oe){J.addLink(oe.source,oe.target)}),B=m6.forcelayout(J,_V({dimensions:e.numDimensions},e.ngraphPhysics)),B.graph=J}for(var Z=0;Z<e.warmupTicks&&!(V&&e.d3AlphaMin>0&&e.d3ForceLayout.alpha()<e.d3AlphaMin);Z++)B[V?"tick":"step"]();e.layout=B,this.resetCountdown()}e.engineRunning=!0,e.onFinishUpdate()}});function $Oe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=function(o){COe(l,o);var s=MOe(l);function l(){var u;xOe(this,l);for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];return u=s.call.apply(s,[this].concat(d)),u.__kapsuleInstance=n().apply(void 0,[].concat(Dl(r?[TV(u)]:[]),d)),u}return EOe(l)}(e);return Object.keys(n()).forEach(function(o){return i.prototype[o]=function(){var s,l=(s=this.__kapsuleInstance)[o].apply(s,arguments);return l===this.__kapsuleInstance?this:l}}),i}var HOe=window.THREE?window.THREE:{Group:ym},DL=$Oe(zOe,HOe.Group,!0);const jOe=Object.freeze(Object.defineProperty({__proto__:null,default:DL},Symbol.toStringTag,{value:"Module"})),GOe=kR(jOe);if(typeof AFRAME>"u")throw new Error("Component attempted to register before AFRAME was available.");let gM=uIe;"default"in gM&&(gM=gM.default);let ih=GOe;"default"in ih&&(ih=ih.default);const vM=function(n){return typeof n=="string"?JSON.parse(n):n},Rl=function(n){if(typeof n=="function")return n;const e=eval;try{return e("("+n+")")}catch{}return null},bo=function(n){return isNaN(parseFloat(n))?Rl(n)?Rl(n):n:parseFloat(n)};AFRAME.registerComponent("forcegraph",{schema:{jsonUrl:{type:"string",default:""},nodes:{parse:vM,default:[]},links:{parse:vM,default:[]},numDimensions:{type:"number",default:3},dagMode:{type:"string",default:""},dagLevelDistance:{type:"number",default:0},dagNodeFilter:{parse:Rl,default:function(){return!0}},onDagError:{parse:Rl,default:void 0},nodeRelSize:{type:"number",default:4},nodeId:{type:"string",default:"id"},nodeVal:{parse:bo,default:"val"},nodeResolution:{type:"number",default:8},nodeVisibility:{parse:bo,default:!0},nodeColor:{parse:bo,default:"color"},nodeAutoColorBy:{parse:bo,default:""},nodeOpacity:{type:"number",default:.75},nodeThreeObject:{parse:bo,default:null},nodeThreeObjectExtend:{parse:bo,default:!1},linkSource:{type:"string",default:"source"},linkTarget:{type:"string",default:"target"},linkVisibility:{parse:bo,default:!0},linkColor:{parse:bo,default:"color"},linkAutoColorBy:{parse:bo,default:""},linkOpacity:{type:"number",default:.2},linkWidth:{parse:bo,default:0},linkResolution:{type:"number",default:6},linkCurvature:{parse:bo,default:0},linkCurveRotation:{parse:bo,default:0},linkMaterial:{parse:bo,default:null},linkThreeObject:{parse:bo,default:null},linkThreeObjectExtend:{parse:bo,default:!1},linkPositionUpdate:{parse:Rl,default:null},linkDirectionalArrowLength:{parse:bo,default:0},linkDirectionalArrowColor:{parse:bo,default:null},linkDirectionalArrowRelPos:{parse:bo,default:.5},linkDirectionalArrowResolution:{type:"number",default:8},linkDirectionalParticles:{parse:bo,default:0},linkDirectionalParticleSpeed:{parse:bo,default:.01},linkDirectionalParticleWidth:{parse:bo,default:.5},linkDirectionalParticleColor:{parse:bo,default:null},linkDirectionalParticleResolution:{type:"number",default:4},onNodeHover:{parse:Rl,default:()=>{}},onLinkHover:{parse:Rl,default:()=>{}},onNodeClick:{parse:Rl,default:()=>{}},onLinkClick:{parse:Rl,default:()=>{}},forceEngine:{type:"string",default:"d3"},d3AlphaMin:{type:"number",default:0},d3AlphaDecay:{type:"number",default:.0228},d3VelocityDecay:{type:"number",default:.4},ngraphPhysics:{parse:vM,default:null},warmupTicks:{type:"int",default:0},cooldownTicks:{type:"int",default:1e18},cooldownTime:{type:"int",default:15e3},onEngineTick:{parse:Rl,default:function(){}},onEngineStop:{parse:Rl,default:function(){}}},getGraphBbox:function(){return this.forceGraph||(this.forceGraph=new ih),this.forceGraph.getGraphBbox()},emitParticle:function(){this.forceGraph||(this.forceGraph=new ih);const n=this.forceGraph,e=n.emitParticle.apply(n,arguments);return e===n?this:e},d3Force:function(){this.forceGraph||(this.forceGraph=new ih);const n=this.forceGraph,e=n.d3Force.apply(n,arguments);return e===n?this:e},d3ReheatSimulation:function(){return this.forceGraph&&this.forceGraph.d3ReheatSimulation(),this},refresh:function(){return this.forceGraph&&this.forceGraph.refresh(),this},init:function(){const n=this.state={};n.infoEl=document.createElement("a-text"),n.infoEl.setAttribute("position","0 -0.1 -1"),n.infoEl.setAttribute("width",1),n.infoEl.setAttribute("align","center"),n.infoEl.setAttribute("color","lavender");const e=document.querySelector("a-entity[camera], a-camera");e.appendChild(n.infoEl),n.cameraObj=e.object3D.children.filter(function(r){return r.type==="PerspectiveCamera"})[0],this.el.sceneEl.addEventListener("camera-set-active",function(r){n.cameraObj=r.detail.cameraEl.components.camera.camera}),this.forceGraph||(this.forceGraph=new ih),this.forceGraph.onFinishUpdate(()=>this.el.setObject3D("forcegraphGroup",this.forceGraph)).onLoading(()=>n.infoEl.setAttribute("value","Loading...")).onFinishLoading(()=>n.infoEl.setAttribute("value","")),this.el.addEventListener("raycaster-intersected",r=>n.hoverDetail=r.detail),this.el.addEventListener("raycaster-intersected-cleared",r=>n.hoverDetail=r.detail),this.el.addEventListener("click",()=>n.hoverObj&&this.data["on"+(n.hoverObj.__graphObjType==="node"?"Node":"Link")+"Click"](n.hoverObj.__data))},remove:function(){this.state.infoEl.remove(),this.el.removeObject3D("forcegraphGroup")},update:function(n){const e=this,r=this.data,i=AFRAME.utils.diff(r,n);["jsonUrl","numDimensions","dagMode","dagLevelDistance","dagNodeFilter","onDagError","nodeRelSize","nodeId","nodeVal","nodeResolution","nodeVisibility","nodeColor","nodeAutoColorBy","nodeOpacity","nodeThreeObject","nodeThreeObjectExtend","linkSource","linkTarget","linkVisibility","linkColor","linkAutoColorBy","linkOpacity","linkWidth","linkResolution","linkCurvature","linkCurveRotation","linkMaterial","linkThreeObject","linkThreeObjectExtend","linkPositionUpdate","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution","forceEngine","d3AlphaMin","d3AphaDecay","d3VelocityDecay","ngraphPhysics","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].filter(function(s){return s in i}).forEach(function(s){e.forceGraph[s](r[s]!==""?r[s]:null)}),("nodes"in i||"links"in i)&&e.forceGraph.graphData({nodes:r.nodes,links:r.links})},tick:function(n,e){const r=this.state,i=this.data,o=r.hoverDetail?r.hoverDetail.getIntersection?r.hoverDetail.getIntersection(this.el):r.hoverDetail.intersection||void 0:void 0;let s=o?o.object:void 0;for(;s&&!s.hasOwnProperty("__graphObjType");)s=s.parent;if(s!==r.hoverObj){const l=r.hoverObj?r.hoverObj.__graphObjType:null,u=r.hoverObj?r.hoverObj.__data:null,c=s?s.__graphObjType:null,d=s?s.__data:null;l&&l!==c&&i["on"+(l==="node"?"Node":"Link")+"Hover"](null,u),c&&i["on"+(c==="node"?"Node":"Link")+"Hover"](d,l===c?u:null),r.hoverObj=s}this.forceGraph.tickFrame()}});function VOe(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,qm(n,e)}function WOe(n){try{return Function.toString.call(n).indexOf("[native code]")!==-1}catch{return typeof n=="function"}}function px(n,e,r){return Nz()?px=Reflect.construct.bind():px=function(o,s,l){var u=[null];u.push.apply(u,s);var c=Function.bind.apply(o,u),d=new c;return l&&qm(d,l.prototype),d},px.apply(null,arguments)}function CR(n){var e=typeof Map=="function"?new Map:void 0;return CR=function(i){if(i===null||!WOe(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(i))return e.get(i);e.set(i,o)}function o(){return px(i,arguments,pA(this).constructor)}return o.prototype=Object.create(i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),qm(o,i)},CR(n)}var bm=function(n){VOe(e,n);function e(r){var i;return i=n.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+r+" for more information.")||this,ti(i)}return e}(CR(Error));function AM(n){return Math.round(n*255)}function QOe(n,e,r){return AM(n)+","+AM(e)+","+AM(r)}function v6(n,e,r,i){if(i===void 0&&(i=QOe),e===0)return i(r,r,r);var o=(n%360+360)%360/60,s=(1-Math.abs(2*r-1))*e,l=s*(1-Math.abs(o%2-1)),u=0,c=0,d=0;o>=0&&o<1?(u=s,c=l):o>=1&&o<2?(u=l,c=s):o>=2&&o<3?(c=s,d=l):o>=3&&o<4?(c=l,d=s):o>=4&&o<5?(u=l,d=s):o>=5&&o<6&&(u=s,d=l);var h=r-s/2,p=u+h,m=c+h,v=d+h;return i(p,m,v)}var A6={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};function KOe(n){if(typeof n!="string")return n;var e=n.toLowerCase();return A6[e]?"#"+A6[e]:n}var XOe=/^#[a-fA-F0-9]{6}$/,qOe=/^#[a-fA-F0-9]{8}$/,YOe=/^#[a-fA-F0-9]{3}$/,JOe=/^#[a-fA-F0-9]{4}$/,yM=/^rgb\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*\)$/i,ZOe=/^rgb(?:a)?\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i,eDe=/^hsl\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,tDe=/^hsl(?:a)?\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i;function nw(n){if(typeof n!="string")throw new bm(3);var e=KOe(n);if(e.match(XOe))return{red:parseInt(""+e[1]+e[2],16),green:parseInt(""+e[3]+e[4],16),blue:parseInt(""+e[5]+e[6],16)};if(e.match(qOe)){var r=parseFloat((parseInt(""+e[7]+e[8],16)/255).toFixed(2));return{red:parseInt(""+e[1]+e[2],16),green:parseInt(""+e[3]+e[4],16),blue:parseInt(""+e[5]+e[6],16),alpha:r}}if(e.match(YOe))return{red:parseInt(""+e[1]+e[1],16),green:parseInt(""+e[2]+e[2],16),blue:parseInt(""+e[3]+e[3],16)};if(e.match(JOe)){var i=parseFloat((parseInt(""+e[4]+e[4],16)/255).toFixed(2));return{red:parseInt(""+e[1]+e[1],16),green:parseInt(""+e[2]+e[2],16),blue:parseInt(""+e[3]+e[3],16),alpha:i}}var o=yM.exec(e);if(o)return{red:parseInt(""+o[1],10),green:parseInt(""+o[2],10),blue:parseInt(""+o[3],10)};var s=ZOe.exec(e.substring(0,50));if(s)return{red:parseInt(""+s[1],10),green:parseInt(""+s[2],10),blue:parseInt(""+s[3],10),alpha:parseFloat(""+s[4])>1?parseFloat(""+s[4])/100:parseFloat(""+s[4])};var l=eDe.exec(e);if(l){var u=parseInt(""+l[1],10),c=parseInt(""+l[2],10)/100,d=parseInt(""+l[3],10)/100,h="rgb("+v6(u,c,d)+")",p=yM.exec(h);if(!p)throw new bm(4,e,h);return{red:parseInt(""+p[1],10),green:parseInt(""+p[2],10),blue:parseInt(""+p[3],10)}}var m=tDe.exec(e.substring(0,50));if(m){var v=parseInt(""+m[1],10),y=parseInt(""+m[2],10)/100,A=parseInt(""+m[3],10)/100,b="rgb("+v6(v,y,A)+")",g=yM.exec(b);if(!g)throw new bm(4,e,b);return{red:parseInt(""+g[1],10),green:parseInt(""+g[2],10),blue:parseInt(""+g[3],10),alpha:parseFloat(""+m[4])>1?parseFloat(""+m[4])/100:parseFloat(""+m[4])}}throw new bm(5)}var nDe=function(e){return e.length===7&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e},y6=nDe;function Xp(n){var e=n.toString(16);return e.length===1?"0"+e:e}function b6(n,e,r){if(typeof n=="number"&&typeof e=="number"&&typeof r=="number")return y6("#"+Xp(n)+Xp(e)+Xp(r));if(typeof n=="object"&&e===void 0&&r===void 0)return y6("#"+Xp(n.red)+Xp(n.green)+Xp(n.blue));throw new bm(6)}function rDe(n,e,r,i){if(typeof n=="string"&&typeof e=="number"){var o=nw(n);return"rgba("+o.red+","+o.green+","+o.blue+","+e+")"}else{if(typeof n=="number"&&typeof e=="number"&&typeof r=="number"&&typeof i=="number")return i>=1?b6(n,e,r):"rgba("+n+","+e+","+r+","+i+")";if(typeof n=="object"&&e===void 0&&r===void 0&&i===void 0)return n.alpha>=1?b6(n.red,n.green,n.blue):"rgba("+n.red+","+n.green+","+n.blue+","+n.alpha+")"}throw new bm(7)}function PV(n,e,r){return function(){var o=r.concat(Array.prototype.slice.call(arguments));return o.length>=e?n.apply(this,o):PV(n,e,o)}}function iDe(n){return PV(n,n.length,[])}function oDe(n,e,r){return Math.max(n,Math.min(e,r))}function aDe(n,e){if(e==="transparent")return e;var r=nw(e),i=typeof r.alpha=="number"?r.alpha:1,o=rn({},r,{alpha:oDe(0,1,(i*100+parseFloat(n)*100)/100)});return rDe(o)}var sDe=iDe(aDe),LV=sDe;function lDe(n,e){e===void 0&&(e={});var r=e.insertAt;if(!(!n||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",r==="top"&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}}var cDe=`.graph-nav-info {
  position: absolute;
  bottom: 5px;
  width: 100%;
  text-align: center;
  color: slategrey;
  opacity: 0.7;
  font-size: 10px;
  font-family: Sans-serif;
  z-index: 1000;
}`;lDe(cDe);function uDe(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,s,l,u=[],c=!0,d=!1;try{if(s=(r=r.call(n)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(i=s.call(r)).done)&&(u.push(i.value),u.length!==e);c=!0);}catch(h){d=!0,o=h}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw o}}return u}}function x6(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function E6(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x6(Object(r),!0).forEach(function(i){y0(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):x6(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function y0(n,e,r){return e=vDe(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function bM(n,e){return fDe(n)||uDe(n,e)||BV(n,e)||mDe()}function B1(n){return dDe(n)||hDe(n)||BV(n)||pDe()}function dDe(n){if(Array.isArray(n))return wR(n)}function fDe(n){if(Array.isArray(n))return n}function hDe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function BV(n,e){if(n){if(typeof n=="string")return wR(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wR(n,e)}}function wR(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function pDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gDe(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function vDe(n){var e=gDe(n,"string");return typeof e=="symbol"?e:String(e)}THREE&&THREE.MathUtils&&THREE.MathUtils.degToRad&&(THREE.Math={degToRad:THREE.MathUtils.degToRad});var ADe=Oh({props:{width:{default:window.innerWidth,triggerUpdate:!1,onChange:function(e,r){r.container&&(r.container.style.width="".concat(e,"px"))}},height:{default:window.innerHeight,triggerUpdate:!1,onChange:function(e,r){r.container&&(r.container.style.height="".concat(e,"px"))}},jsonUrl:{},graphData:{default:{nodes:[],links:[]}},numDimensions:{default:3},dagMode:{},dagLevelDistance:{},dagNodeFilter:{default:function(){return!0}},onDagError:{default:void 0},backgroundColor:{default:"#002"},showNavInfo:{default:!0},nodeRelSize:{default:4},nodeId:{default:"id"},nodeLabel:{default:"name"},nodeDesc:{default:"desc"},onNodeHover:{},onNodeClick:{},nodeVal:{default:"val"},nodeResolution:{default:8},nodeVisibility:{default:!0},nodeColor:{default:"color"},nodeAutoColorBy:{},nodeOpacity:{default:.75},nodeThreeObject:{},nodeThreeObjectExtend:{default:!1},linkSource:{default:"source"},linkTarget:{default:"target"},linkLabel:{default:"name"},linkDesc:{default:"desc"},onLinkHover:{},onLinkClick:{},linkVisibility:{default:!0},linkColor:{default:"color"},linkAutoColorBy:{},linkOpacity:{default:.2},linkWidth:{default:0},linkResolution:{default:6},linkCurvature:{default:0},linkCurveRotation:{default:0},linkMaterial:{},linkThreeObject:{},linkThreeObjectExtend:{default:!1},linkPositionUpdate:{},linkDirectionalArrowLength:{default:0},linkDirectionalArrowColor:{},linkDirectionalArrowRelPos:{default:.5},linkDirectionalArrowResolution:{default:8},linkDirectionalParticles:{default:0},linkDirectionalParticleSpeed:{default:.01},linkDirectionalParticleWidth:{default:.5},linkDirectionalParticleColor:{},linkDirectionalParticleResolution:{default:4},forceEngine:{default:"d3"},d3AlphaMin:{default:0},d3AlphaDecay:{default:.0228},d3VelocityDecay:{default:.4},ngraphPhysics:{},warmupTicks:{default:0},cooldownTicks:{},cooldownTime:{default:15e3},onEngineTick:{},onEngineStop:{}},methods:E6(E6({},Object.assign.apply(Object,[{}].concat(B1(["getGraphBbox","emitParticle","d3Force","d3ReheatSimulation","refresh"].map(function(n){return y0({},n,function(e){for(var r=e.forcegraph.components.forcegraph,i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];var l=r[n].apply(r,o);return l===r?this:l})}))))),{},{_destructor:function(){this.graphData({nodes:[],links:[]})}}),init:function(e,r){e.innerHTML="",r.container=document.createElement("div"),e.appendChild(r.container),r.container.style.position="relative",r.container.style.width="".concat(r.width,"px"),r.container.style.height="".concat(r.height,"px"),r.container.appendChild(r.navInfo=document.createElement("div")),r.navInfo.className="graph-nav-info",r.navInfo.textContent="Mouse drag: look, gamepad/arrow/wasd keys: move";var i=document.createElement("a-scene");i.setAttribute("embedded",""),i.appendChild(r.sky=document.createElement("a-sky")),r.sky.setAttribute("radius",3e3);var o;i.appendChild(o=document.createElement("a-entity")),o.setAttribute("position","0 0 300"),o.setAttribute("movement-controls","controls: gamepad; fly: true; speed: 7");var s;o.appendChild(s=document.createElement("a-entity")),s.setAttribute("camera",""),s.setAttribute("position","0 0 0"),s.setAttribute("look-controls","pointerLockEnabled: false"),s.setAttribute("wasd-controls","fly: true; acceleration: 700");var l;s.appendChild(l=document.createElement("a-text")),l.setAttribute("position","0 -0.3 -1"),l.setAttribute("width",2),l.setAttribute("align","center"),l.setAttribute("color","lavender"),l.setAttribute("value","");var u;s.appendChild(u=document.createElement("a-text")),u.setAttribute("position","0 -0.4 -1"),u.setAttribute("width",1.3),u.setAttribute("align","center"),u.setAttribute("color","lavender"),u.setAttribute("value",""),r.raycasterEls=[];var c;i.appendChild(c=document.createElement("a-entity")),c.setAttribute("cursor","rayOrigin: mouse; mouseCursorStylesEnabled: true"),c.setAttribute("raycaster","objects: [forcegraph]; interval: 100"),r.raycasterEls.push(c),["left","right"].forEach(function(d){var h;o.appendChild(h=document.createElement("a-entity")),h.setAttribute("laser-controls","hand: ".concat(d,"; model: false;")),h.setAttribute("raycaster","objects: [forcegraph]; interval: 100; lineColor: steelblue; lineOpacity: 0.85"),r.raycasterEls.push(h)}),i.appendChild(r.forcegraph=document.createElement("a-entity")),r.forcegraph.setAttribute("forcegraph",null),r.container.appendChild(i),r.forcegraph.setAttribute("forcegraph",Object.assign.apply(Object,B1(["node","link"].map(function(d){var h={node:"Node",link:"Link"}[d];return y0({},"on".concat(h,"Hover"),function(m,v){var y=m&&Ir(r["".concat(d,"Label")])(m)||"",A=m&&Ir(r["".concat(d,"Desc")])(m)||"";l.setAttribute("value",y),u.setAttribute("value",A),r["on".concat(h,"Hover")]&&r["on".concat(h,"Hover")](m,v)})}))))},update:function(e,r){if(r.hasOwnProperty("backgroundColor")){var i=nw(e.backgroundColor).alpha;i===void 0&&(i=1),e.sky.setAttribute("color",LV(1,e.backgroundColor)),e.sky.setAttribute("opacity",i)}r.hasOwnProperty("showNavInfo")&&(e.navInfo.style.display=e.showNavInfo?null:"none");var o=["onNodeHover","onLinkHover","onNodeClick","onLinkClick"].some(function(u){return e[u]})||["nodeLabel","linkLabel"].some(function(u){return e[u]!=="name"})||["nodeDesc","linkDesc"].some(function(u){return e[u]!=="desc"});e.raycasterEls.forEach(function(u){return u.setAttribute("raycaster",o?"objects: [forcegraph]; interval: 100":"objects: __none__")});var s=["jsonUrl","numDimensions","dagMode","dagLevelDistance","dagNodeFilter","onDagError","nodeRelSize","nodeId","onNodeClick","nodeVal","nodeResolution","nodeVisibility","nodeColor","nodeAutoColorBy","nodeOpacity","nodeThreeObject","nodeThreeObjectExtend","linkSource","linkTarget","onLinkClick","linkVisibility","linkColor","linkAutoColorBy","linkOpacity","linkWidth","linkResolution","linkCurvature","linkCurveRotation","linkMaterial","linkThreeObject","linkThreeObjectExtend","linkPositionUpdate","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution","forceEngine","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","ngraphPhysics","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"],l=Object.assign.apply(Object,[{}].concat(B1(Object.entries(e).filter(function(u){var c=bM(u,2),d=c[0],h=c[1];return r.hasOwnProperty(d)&&s.indexOf(d)!==-1&&h!==void 0&&h!==null}).map(function(u){var c=bM(u,2),d=c[0],h=c[1];return y0({},d,h)})),B1(Object.entries(e.graphData).map(function(u){var c=bM(u,2),d=c[0],h=c[1];return y0({},d,h)}))));e.forcegraph.setAttribute("forcegraph",l)}}),OV={exports:{}},yDe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",bDe=yDe,xDe=bDe;function DV(){}function NV(){}NV.resetWarningCache=DV;var EDe=function(){function n(i,o,s,l,u,c){if(c!==xDe){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}n.isRequired=n;function e(){return n}var r={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:NV,resetWarningCache:DV};return r.PropTypes=r,r};OV.exports=EDe();var CDe=OV.exports;const Ht=Uu(CDe);function wDe(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,s,l,u=[],c=!0,d=!1;try{if(s=(r=r.call(n)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(i=s.call(r)).done)&&(u.push(i.value),u.length!==e);c=!0);}catch(h){d=!0,o=h}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw o}}return u}}function C6(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function w6(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C6(Object(r),!0).forEach(function(i){mx(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):C6(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function mx(n,e,r){return e=PDe(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function O1(n,e){return _De(n)||wDe(n,e)||kV(n,e)||RDe()}function D1(n){return SDe(n)||MDe(n)||kV(n)||TDe()}function SDe(n){if(Array.isArray(n))return SR(n)}function _De(n){if(Array.isArray(n))return n}function MDe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function kV(n,e){if(n){if(typeof n=="string")return SR(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SR(n,e)}}function SR(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function TDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IDe(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function PDe(n){var e=IDe(n,"string");return typeof e=="symbol"?e:String(e)}var LDe=Oh({props:{width:{},height:{},yOffset:{default:1.5},glScale:{default:200},jsonUrl:{},graphData:{default:{nodes:[],links:[]}},numDimensions:{default:3},dagMode:{},dagLevelDistance:{},dagNodeFilter:{default:function(){return!0}},onDagError:{default:void 0},nodeRelSize:{default:4},nodeId:{default:"id"},nodeVal:{default:"val"},nodeResolution:{default:8},nodeVisibility:{default:!0},nodeColor:{default:"color"},nodeAutoColorBy:{},nodeOpacity:{default:.75},nodeThreeObject:{},nodeThreeObjectExtend:{default:!1},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0},linkColor:{default:"color"},linkAutoColorBy:{},linkOpacity:{default:.2},linkWidth:{default:0},linkResolution:{default:6},linkCurvature:{default:0},linkCurveRotation:{default:0},linkMaterial:{},linkThreeObject:{},linkThreeObjectExtend:{default:!1},linkPositionUpdate:{},linkDirectionalArrowLength:{default:0},linkDirectionalArrowColor:{},linkDirectionalArrowRelPos:{default:.5},linkDirectionalArrowResolution:{default:8},linkDirectionalParticles:{default:0},linkDirectionalParticleSpeed:{default:.01},linkDirectionalParticleWidth:{default:.5},linkDirectionalParticleColor:{},linkDirectionalParticleResolution:{default:4},onNodeHover:{},onNodeClick:{},onLinkHover:{},onLinkClick:{},forceEngine:{default:"d3"},d3AlphaMin:{default:0},d3AlphaDecay:{default:.0228},d3VelocityDecay:{default:.4},ngraphPhysics:{},warmupTicks:{default:0},cooldownTicks:{},cooldownTime:{default:15e3},onEngineTick:{},onEngineStop:{}},methods:w6(w6({},Object.assign.apply(Object,[{}].concat(D1(["getGraphBbox","emitParticle","d3Force","d3ReheatSimulation","refresh"].map(function(n){return mx({},n,function(e){for(var r=e.forcegraph.components.forcegraph,i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];var l=r[n].apply(r,o);return l===r?this:l})}))))),{},{_destructor:function(){this.graphData({nodes:[],links:[]})}}),init:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=i.markerAttrs,s=o===void 0?{preset:"hiro"}:o;e.innerHTML="",r.container=document.createElement("div"),e.appendChild(r.container);var l=document.createElement("a-scene");l.setAttribute("embedded",""),l.setAttribute("vr-mode-ui","enabled: false"),l.setAttribute("arjs","debugUIEnabled: false;");var u=document.createElement("a-marker");Object.entries(s).forEach(function(h){var p=O1(h,2),m=p[0],v=p[1];return u.setAttribute(m,v)}),l.appendChild(u);var c;l.appendChild(c=document.createElement("a-entity")),c.setAttribute("cursor"),c.setAttribute("raycaster","objects: [forcegraph]"),r.forcegraph=document.createElement("a-entity"),r.forcegraph.setAttribute("forcegraph",null),u.appendChild(r.forcegraph);var d=document.createElement("a-entity");d.setAttribute("camera",""),l.appendChild(d),r.container.appendChild(l)},update:function(e,r){r.hasOwnProperty("width")&&e.width&&(e.container.style.width="".concat(e.width,"px")),r.hasOwnProperty("height")&&e.height&&(e.container.style.height="".concat(e.height,"px")),r.hasOwnProperty("glScale")&&e.forcegraph.setAttribute("scale",D1(new Array(3)).map(function(){return 1/e.glScale}).join(" ")),r.hasOwnProperty("yOffset")&&e.forcegraph.setAttribute("position","0 ".concat(e.yOffset," 0"));var i=["jsonUrl","numDimensions","dagMode","dagLevelDistance","dagNodeFilter","onDagError","nodeRelSize","nodeId","nodeVal","nodeResolution","nodeVisibility","nodeColor","nodeAutoColorBy","nodeOpacity","nodeThreeObject","nodeThreeObjectExtend","linkSource","linkTarget","linkVisibility","linkColor","linkAutoColorBy","linkOpacity","linkWidth","linkResolution","linkCurvature","linkCurveRotation","linkMaterial","linkThreeObject","linkThreeObjectExtend","linkPositionUpdate","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution","onNodeHover","onNodeClick","onLinkHover","onLinkClick","forceEngine","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","ngraphPhysics","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"],o=Object.assign.apply(Object,[{}].concat(D1(Object.entries(e).filter(function(s){var l=O1(s,2),u=l[0],c=l[1];return r.hasOwnProperty(u)&&i.indexOf(u)!==-1&&c!==void 0&&c!==null}).map(function(s){var l=O1(s,2),u=l[0],c=l[1];return mx({},u,c)})),D1(Object.entries(e.graphData).map(function(s){var l=O1(s,2),u=l[0],c=l[1];return mx({},u,c)}))));e.forcegraph.setAttribute("forcegraph",o)}});const qp=new hu,md=new TG,Jv=new tr,S6=new Rt,N1=new Rt,xM=new Rt,_6=new lo;class BDe extends Zl{constructor(e,r,i){super(),i.style.touchAction="none";let o=null,s=null;const l=[],u=this;function c(){i.addEventListener("pointermove",v),i.addEventListener("pointerdown",y),i.addEventListener("pointerup",A),i.addEventListener("pointerleave",A)}function d(){i.removeEventListener("pointermove",v),i.removeEventListener("pointerdown",y),i.removeEventListener("pointerup",A),i.removeEventListener("pointerleave",A),i.style.cursor=""}function h(){d()}function p(){return e}function m(){return md}function v(g){if(u.enabled!==!1){if(b(g),md.setFromCamera(Jv,r),o){md.ray.intersectPlane(qp,N1)&&o.position.copy(N1.sub(S6).applyMatrix4(_6)),u.dispatchEvent({type:"drag",object:o});return}if(g.pointerType==="mouse"||g.pointerType==="pen")if(l.length=0,md.setFromCamera(Jv,r),md.intersectObjects(e,u.recursive,l),l.length>0){const w=l[0].object;qp.setFromNormalAndCoplanarPoint(r.getWorldDirection(qp.normal),xM.setFromMatrixPosition(w.matrixWorld)),s!==w&&s!==null&&(u.dispatchEvent({type:"hoveroff",object:s}),i.style.cursor="auto",s=null),s!==w&&(u.dispatchEvent({type:"hoveron",object:w}),i.style.cursor="pointer",s=w)}else s!==null&&(u.dispatchEvent({type:"hoveroff",object:s}),i.style.cursor="auto",s=null)}}function y(g){u.enabled!==!1&&(b(g),l.length=0,md.setFromCamera(Jv,r),md.intersectObjects(e,u.recursive,l),l.length>0&&(o=u.transformGroup===!0?e[0]:l[0].object,qp.setFromNormalAndCoplanarPoint(r.getWorldDirection(qp.normal),xM.setFromMatrixPosition(o.matrixWorld)),md.ray.intersectPlane(qp,N1)&&(_6.copy(o.parent.matrixWorld).invert(),S6.copy(N1).sub(xM.setFromMatrixPosition(o.matrixWorld))),i.style.cursor="move",u.dispatchEvent({type:"dragstart",object:o})))}function A(){u.enabled!==!1&&(o&&(u.dispatchEvent({type:"dragend",object:o}),o=null),i.style.cursor=s?"pointer":"auto")}function b(g){const w=i.getBoundingClientRect();Jv.x=(g.clientX-w.left)/w.width*2-1,Jv.y=-(g.clientY-w.top)/w.height*2+1}c(),this.enabled=!0,this.recursive=!0,this.transformGroup=!1,this.activate=c,this.deactivate=d,this.dispose=h,this.getObjects=p,this.getRaycaster=m}}const EM={type:"change"},CM={type:"start"},wM={type:"end"};class ODe extends Zl{constructor(e,r){super();const i=this,o={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4};this.object=e,this.domElement=r,this.domElement.style.touchAction="none",this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.keys=["KeyA","KeyS","KeyD"],this.mouseButtons={LEFT:fc.ROTATE,MIDDLE:fc.DOLLY,RIGHT:fc.PAN},this.target=new Rt;const s=1e-6,l=new Rt;let u=1,c=o.NONE,d=o.NONE,h=0,p=0,m=0;const v=new Rt,y=new tr,A=new tr,b=new Rt,g=new tr,w=new tr,E=new tr,C=new tr,_=[],P={};this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom,this.handleResize=function(){const ge=i.domElement.getBoundingClientRect(),Re=i.domElement.ownerDocument.documentElement;i.screen.left=ge.left+window.pageXOffset-Re.clientLeft,i.screen.top=ge.top+window.pageYOffset-Re.clientTop,i.screen.width=ge.width,i.screen.height=ge.height};const R=function(){const ge=new tr;return function($e,qe){return ge.set(($e-i.screen.left)/i.screen.width,(qe-i.screen.top)/i.screen.height),ge}}(),L=function(){const ge=new tr;return function($e,qe){return ge.set(($e-i.screen.width*.5-i.screen.left)/(i.screen.width*.5),(i.screen.height+2*(i.screen.top-qe))/i.screen.width),ge}}();this.rotateCamera=function(){const ge=new Rt,Re=new Xl,$e=new Rt,qe=new Rt,Ke=new Rt,ke=new Rt;return function(){ke.set(A.x-y.x,A.y-y.y,0);let ot=ke.length();ot?(v.copy(i.object.position).sub(i.target),$e.copy(v).normalize(),qe.copy(i.object.up).normalize(),Ke.crossVectors(qe,$e).normalize(),qe.setLength(A.y-y.y),Ke.setLength(A.x-y.x),ke.copy(qe.add(Ke)),ge.crossVectors(ke,v).normalize(),ot*=i.rotateSpeed,Re.setFromAxisAngle(ge,ot),v.applyQuaternion(Re),i.object.up.applyQuaternion(Re),b.copy(ge),m=ot):!i.staticMoving&&m&&(m*=Math.sqrt(1-i.dynamicDampingFactor),v.copy(i.object.position).sub(i.target),Re.setFromAxisAngle(b,m),v.applyQuaternion(Re),i.object.up.applyQuaternion(Re)),y.copy(A)}}(),this.zoomCamera=function(){let ge;c===o.TOUCH_ZOOM_PAN?(ge=h/p,h=p,i.object.isPerspectiveCamera?v.multiplyScalar(ge):i.object.isOrthographicCamera?(i.object.zoom=eR.clamp(i.object.zoom/ge,i.minZoom,i.maxZoom),u!==i.object.zoom&&i.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(ge=1+(w.y-g.y)*i.zoomSpeed,ge!==1&&ge>0&&(i.object.isPerspectiveCamera?v.multiplyScalar(ge):i.object.isOrthographicCamera?(i.object.zoom=eR.clamp(i.object.zoom/ge,i.minZoom,i.maxZoom),u!==i.object.zoom&&i.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),i.staticMoving?g.copy(w):g.y+=(w.y-g.y)*this.dynamicDampingFactor)},this.panCamera=function(){const ge=new tr,Re=new Rt,$e=new Rt;return function(){if(ge.copy(C).sub(E),ge.lengthSq()){if(i.object.isOrthographicCamera){const Ke=(i.object.right-i.object.left)/i.object.zoom/i.domElement.clientWidth,ke=(i.object.top-i.object.bottom)/i.object.zoom/i.domElement.clientWidth;ge.x*=Ke,ge.y*=ke}ge.multiplyScalar(v.length()*i.panSpeed),$e.copy(v).cross(i.object.up).setLength(ge.x),$e.add(Re.copy(i.object.up).setLength(ge.y)),i.object.position.add($e),i.target.add($e),i.staticMoving?E.copy(C):E.add(ge.subVectors(C,E).multiplyScalar(i.dynamicDampingFactor))}}}(),this.checkDistances=function(){(!i.noZoom||!i.noPan)&&(v.lengthSq()>i.maxDistance*i.maxDistance&&(i.object.position.addVectors(i.target,v.setLength(i.maxDistance)),g.copy(w)),v.lengthSq()<i.minDistance*i.minDistance&&(i.object.position.addVectors(i.target,v.setLength(i.minDistance)),g.copy(w)))},this.update=function(){v.subVectors(i.object.position,i.target),i.noRotate||i.rotateCamera(),i.noZoom||i.zoomCamera(),i.noPan||i.panCamera(),i.object.position.addVectors(i.target,v),i.object.isPerspectiveCamera?(i.checkDistances(),i.object.lookAt(i.target),l.distanceToSquared(i.object.position)>s&&(i.dispatchEvent(EM),l.copy(i.object.position))):i.object.isOrthographicCamera?(i.object.lookAt(i.target),(l.distanceToSquared(i.object.position)>s||u!==i.object.zoom)&&(i.dispatchEvent(EM),l.copy(i.object.position),u=i.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")},this.reset=function(){c=o.NONE,d=o.NONE,i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.up.copy(i.up0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),v.subVectors(i.object.position,i.target),i.object.lookAt(i.target),i.dispatchEvent(EM),l.copy(i.object.position),u=i.object.zoom};function T(ge){i.enabled!==!1&&(_.length===0&&(i.domElement.setPointerCapture(ge.pointerId),i.domElement.addEventListener("pointermove",D),i.domElement.addEventListener("pointerup",H)),Z(ge),ge.pointerType==="touch"?G(ge):F(ge))}function D(ge){i.enabled!==!1&&(ge.pointerType==="touch"?Q(ge):N(ge))}function H(ge){i.enabled!==!1&&(ge.pointerType==="touch"?X(ge):z(),oe(ge),_.length===0&&(i.domElement.releasePointerCapture(ge.pointerId),i.domElement.removeEventListener("pointermove",D),i.domElement.removeEventListener("pointerup",H)))}function V(ge){oe(ge)}function B(ge){i.enabled!==!1&&(window.removeEventListener("keydown",B),d===o.NONE&&(ge.code===i.keys[o.ROTATE]&&!i.noRotate?d=o.ROTATE:ge.code===i.keys[o.ZOOM]&&!i.noZoom?d=o.ZOOM:ge.code===i.keys[o.PAN]&&!i.noPan&&(d=o.PAN)))}function O(){i.enabled!==!1&&(d=o.NONE,window.addEventListener("keydown",B))}function F(ge){if(c===o.NONE)switch(ge.button){case i.mouseButtons.LEFT:c=o.ROTATE;break;case i.mouseButtons.MIDDLE:c=o.ZOOM;break;case i.mouseButtons.RIGHT:c=o.PAN;break}const Re=d!==o.NONE?d:c;Re===o.ROTATE&&!i.noRotate?(A.copy(L(ge.pageX,ge.pageY)),y.copy(A)):Re===o.ZOOM&&!i.noZoom?(g.copy(R(ge.pageX,ge.pageY)),w.copy(g)):Re===o.PAN&&!i.noPan&&(E.copy(R(ge.pageX,ge.pageY)),C.copy(E)),i.dispatchEvent(CM)}function N(ge){const Re=d!==o.NONE?d:c;Re===o.ROTATE&&!i.noRotate?(y.copy(A),A.copy(L(ge.pageX,ge.pageY))):Re===o.ZOOM&&!i.noZoom?w.copy(R(ge.pageX,ge.pageY)):Re===o.PAN&&!i.noPan&&C.copy(R(ge.pageX,ge.pageY))}function z(){c=o.NONE,i.dispatchEvent(wM)}function j(ge){if(i.enabled!==!1&&i.noZoom!==!0){switch(ge.preventDefault(),ge.deltaMode){case 2:g.y-=ge.deltaY*.025;break;case 1:g.y-=ge.deltaY*.01;break;default:g.y-=ge.deltaY*25e-5;break}i.dispatchEvent(CM),i.dispatchEvent(wM)}}function G(ge){switch(ce(ge),_.length){case 1:c=o.TOUCH_ROTATE,A.copy(L(_[0].pageX,_[0].pageY)),y.copy(A);break;default:c=o.TOUCH_ZOOM_PAN;const Re=_[0].pageX-_[1].pageX,$e=_[0].pageY-_[1].pageY;p=h=Math.sqrt(Re*Re+$e*$e);const qe=(_[0].pageX+_[1].pageX)/2,Ke=(_[0].pageY+_[1].pageY)/2;E.copy(R(qe,Ke)),C.copy(E);break}i.dispatchEvent(CM)}function Q(ge){switch(ce(ge),_.length){case 1:y.copy(A),A.copy(L(ge.pageX,ge.pageY));break;default:const Re=Be(ge),$e=ge.pageX-Re.x,qe=ge.pageY-Re.y;p=Math.sqrt($e*$e+qe*qe);const Ke=(ge.pageX+Re.x)/2,ke=(ge.pageY+Re.y)/2;C.copy(R(Ke,ke));break}}function X(ge){switch(_.length){case 0:c=o.NONE;break;case 1:c=o.TOUCH_ROTATE,A.copy(L(ge.pageX,ge.pageY)),y.copy(A);break;case 2:c=o.TOUCH_ZOOM_PAN;for(let Re=0;Re<_.length;Re++)if(_[Re].pointerId!==ge.pointerId){const $e=P[_[Re].pointerId];A.copy(L($e.x,$e.y)),y.copy(A);break}break}i.dispatchEvent(wM)}function J(ge){i.enabled!==!1&&ge.preventDefault()}function Z(ge){_.push(ge)}function oe(ge){delete P[ge.pointerId];for(let Re=0;Re<_.length;Re++)if(_[Re].pointerId==ge.pointerId){_.splice(Re,1);return}}function ce(ge){let Re=P[ge.pointerId];Re===void 0&&(Re=new tr,P[ge.pointerId]=Re),Re.set(ge.pageX,ge.pageY)}function Be(ge){const Re=ge.pointerId===_[0].pointerId?_[1]:_[0];return P[Re.pointerId]}this.dispose=function(){i.domElement.removeEventListener("contextmenu",J),i.domElement.removeEventListener("pointerdown",T),i.domElement.removeEventListener("pointercancel",V),i.domElement.removeEventListener("wheel",j),i.domElement.removeEventListener("pointermove",D),i.domElement.removeEventListener("pointerup",H),window.removeEventListener("keydown",B),window.removeEventListener("keyup",O)},this.domElement.addEventListener("contextmenu",J),this.domElement.addEventListener("pointerdown",T),this.domElement.addEventListener("pointercancel",V),this.domElement.addEventListener("wheel",j,{passive:!1}),window.addEventListener("keydown",B),window.addEventListener("keyup",O),this.handleResize(),this.update()}}const M6={type:"change"},SM={type:"start"},T6={type:"end"},k1=new KC,R6=new hu,DDe=Math.cos(70*eR.DEG2RAD);class NDe extends Zl{constructor(e,r){super(),this.object=e,this.domElement=r,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new Rt,this.cursor=new Rt,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:fc.ROTATE,MIDDLE:fc.DOLLY,RIGHT:fc.PAN},this.touches={ONE:_p.ROTATE,TWO:_p.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return u.phi},this.getAzimuthalAngle=function(){return u.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(Ae){Ae.addEventListener("keydown",ye),this._domElementKeyEvents=Ae},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",ye),this._domElementKeyEvents=null},this.saveState=function(){i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=function(){i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(M6),i.update(),s=o.NONE},this.update=function(){const Ae=new Rt,Ue=new Xl().setFromUnitVectors(e.up,new Rt(0,1,0)),et=Ue.clone().invert(),ue=new Rt,Y=new Xl,ne=new Rt,Pe=2*Math.PI;return function(ve=null){const he=i.object.position;Ae.copy(he).sub(i.target),Ae.applyQuaternion(Ue),u.setFromVector3(Ae),i.autoRotate&&s===o.NONE&&H(T(ve)),i.enableDamping?(u.theta+=c.theta*i.dampingFactor,u.phi+=c.phi*i.dampingFactor):(u.theta+=c.theta,u.phi+=c.phi);let Ye=i.minAzimuthAngle,Ze=i.maxAzimuthAngle;isFinite(Ye)&&isFinite(Ze)&&(Ye<-Math.PI?Ye+=Pe:Ye>Math.PI&&(Ye-=Pe),Ze<-Math.PI?Ze+=Pe:Ze>Math.PI&&(Ze-=Pe),Ye<=Ze?u.theta=Math.max(Ye,Math.min(Ze,u.theta)):u.theta=u.theta>(Ye+Ze)/2?Math.max(Ye,u.theta):Math.min(Ze,u.theta)),u.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,u.phi)),u.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(h,i.dampingFactor):i.target.add(h),i.target.sub(i.cursor),i.target.clampLength(i.minTargetRadius,i.maxTargetRadius),i.target.add(i.cursor),i.zoomToCursor&&P||i.object.isOrthographicCamera?u.radius=G(u.radius):u.radius=G(u.radius*d),Ae.setFromSpherical(u),Ae.applyQuaternion(et),he.copy(i.target).add(Ae),i.object.lookAt(i.target),i.enableDamping===!0?(c.theta*=1-i.dampingFactor,c.phi*=1-i.dampingFactor,h.multiplyScalar(1-i.dampingFactor)):(c.set(0,0,0),h.set(0,0,0));let Qe=!1;if(i.zoomToCursor&&P){let nt=null;if(i.object.isPerspectiveCamera){const It=Ae.length();nt=G(It*d);const kt=It-nt;i.object.position.addScaledVector(C,kt),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const It=new Rt(_.x,_.y,0);It.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/d)),i.object.updateProjectionMatrix(),Qe=!0;const kt=new Rt(_.x,_.y,0);kt.unproject(i.object),i.object.position.sub(kt).add(It),i.object.updateMatrixWorld(),nt=Ae.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;nt!==null&&(this.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(nt).add(i.object.position):(k1.origin.copy(i.object.position),k1.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(k1.direction))<DDe?e.lookAt(i.target):(R6.setFromNormalAndCoplanarPoint(i.object.up,i.target),k1.intersectPlane(R6,i.target))))}else i.object.isOrthographicCamera&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/d)),i.object.updateProjectionMatrix(),Qe=!0);return d=1,P=!1,Qe||ue.distanceToSquared(i.object.position)>l||8*(1-Y.dot(i.object.quaternion))>l||ne.distanceToSquared(i.target)>0?(i.dispatchEvent(M6),ue.copy(i.object.position),Y.copy(i.object.quaternion),ne.copy(i.target),Qe=!1,!0):!1}}(),this.dispose=function(){i.domElement.removeEventListener("contextmenu",_e),i.domElement.removeEventListener("pointerdown",gt),i.domElement.removeEventListener("pointercancel",Tt),i.domElement.removeEventListener("wheel",Ve),i.domElement.removeEventListener("pointermove",Ct),i.domElement.removeEventListener("pointerup",Tt),i._domElementKeyEvents!==null&&(i._domElementKeyEvents.removeEventListener("keydown",ye),i._domElementKeyEvents=null)};const i=this,o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let s=o.NONE;const l=1e-6,u=new rR,c=new rR;let d=1;const h=new Rt,p=new tr,m=new tr,v=new tr,y=new tr,A=new tr,b=new tr,g=new tr,w=new tr,E=new tr,C=new Rt,_=new tr;let P=!1;const R=[],L={};function T(Ae){return Ae!==null?2*Math.PI/60*i.autoRotateSpeed*Ae:2*Math.PI/60/60*i.autoRotateSpeed}function D(){return Math.pow(.95,i.zoomSpeed)}function H(Ae){c.theta-=Ae}function V(Ae){c.phi-=Ae}const B=function(){const Ae=new Rt;return function(et,ue){Ae.setFromMatrixColumn(ue,0),Ae.multiplyScalar(-et),h.add(Ae)}}(),O=function(){const Ae=new Rt;return function(et,ue){i.screenSpacePanning===!0?Ae.setFromMatrixColumn(ue,1):(Ae.setFromMatrixColumn(ue,0),Ae.crossVectors(i.object.up,Ae)),Ae.multiplyScalar(et),h.add(Ae)}}(),F=function(){const Ae=new Rt;return function(et,ue){const Y=i.domElement;if(i.object.isPerspectiveCamera){const ne=i.object.position;Ae.copy(ne).sub(i.target);let Pe=Ae.length();Pe*=Math.tan(i.object.fov/2*Math.PI/180),B(2*et*Pe/Y.clientHeight,i.object.matrix),O(2*ue*Pe/Y.clientHeight,i.object.matrix)}else i.object.isOrthographicCamera?(B(et*(i.object.right-i.object.left)/i.object.zoom/Y.clientWidth,i.object.matrix),O(ue*(i.object.top-i.object.bottom)/i.object.zoom/Y.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}}();function N(Ae){i.object.isPerspectiveCamera||i.object.isOrthographicCamera?d/=Ae:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function z(Ae){i.object.isPerspectiveCamera||i.object.isOrthographicCamera?d*=Ae:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function j(Ae){if(!i.zoomToCursor)return;P=!0;const Ue=i.domElement.getBoundingClientRect(),et=Ae.clientX-Ue.left,ue=Ae.clientY-Ue.top,Y=Ue.width,ne=Ue.height;_.x=et/Y*2-1,_.y=-(ue/ne)*2+1,C.set(_.x,_.y,1).unproject(i.object).sub(i.object.position).normalize()}function G(Ae){return Math.max(i.minDistance,Math.min(i.maxDistance,Ae))}function Q(Ae){p.set(Ae.clientX,Ae.clientY)}function X(Ae){j(Ae),g.set(Ae.clientX,Ae.clientY)}function J(Ae){y.set(Ae.clientX,Ae.clientY)}function Z(Ae){m.set(Ae.clientX,Ae.clientY),v.subVectors(m,p).multiplyScalar(i.rotateSpeed);const Ue=i.domElement;H(2*Math.PI*v.x/Ue.clientHeight),V(2*Math.PI*v.y/Ue.clientHeight),p.copy(m),i.update()}function oe(Ae){w.set(Ae.clientX,Ae.clientY),E.subVectors(w,g),E.y>0?N(D()):E.y<0&&z(D()),g.copy(w),i.update()}function ce(Ae){A.set(Ae.clientX,Ae.clientY),b.subVectors(A,y).multiplyScalar(i.panSpeed),F(b.x,b.y),y.copy(A),i.update()}function Be(Ae){j(Ae),Ae.deltaY<0?z(D()):Ae.deltaY>0&&N(D()),i.update()}function ge(Ae){let Ue=!1;switch(Ae.code){case i.keys.UP:Ae.ctrlKey||Ae.metaKey||Ae.shiftKey?V(2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):F(0,i.keyPanSpeed),Ue=!0;break;case i.keys.BOTTOM:Ae.ctrlKey||Ae.metaKey||Ae.shiftKey?V(-2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):F(0,-i.keyPanSpeed),Ue=!0;break;case i.keys.LEFT:Ae.ctrlKey||Ae.metaKey||Ae.shiftKey?H(2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):F(i.keyPanSpeed,0),Ue=!0;break;case i.keys.RIGHT:Ae.ctrlKey||Ae.metaKey||Ae.shiftKey?H(-2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):F(-i.keyPanSpeed,0),Ue=!0;break}Ue&&(Ae.preventDefault(),i.update())}function Re(){if(R.length===1)p.set(R[0].pageX,R[0].pageY);else{const Ae=.5*(R[0].pageX+R[1].pageX),Ue=.5*(R[0].pageY+R[1].pageY);p.set(Ae,Ue)}}function $e(){if(R.length===1)y.set(R[0].pageX,R[0].pageY);else{const Ae=.5*(R[0].pageX+R[1].pageX),Ue=.5*(R[0].pageY+R[1].pageY);y.set(Ae,Ue)}}function qe(){const Ae=R[0].pageX-R[1].pageX,Ue=R[0].pageY-R[1].pageY,et=Math.sqrt(Ae*Ae+Ue*Ue);g.set(0,et)}function Ke(){i.enableZoom&&qe(),i.enablePan&&$e()}function ke(){i.enableZoom&&qe(),i.enableRotate&&Re()}function st(Ae){if(R.length==1)m.set(Ae.pageX,Ae.pageY);else{const et=je(Ae),ue=.5*(Ae.pageX+et.x),Y=.5*(Ae.pageY+et.y);m.set(ue,Y)}v.subVectors(m,p).multiplyScalar(i.rotateSpeed);const Ue=i.domElement;H(2*Math.PI*v.x/Ue.clientHeight),V(2*Math.PI*v.y/Ue.clientHeight),p.copy(m)}function ot(Ae){if(R.length===1)A.set(Ae.pageX,Ae.pageY);else{const Ue=je(Ae),et=.5*(Ae.pageX+Ue.x),ue=.5*(Ae.pageY+Ue.y);A.set(et,ue)}b.subVectors(A,y).multiplyScalar(i.panSpeed),F(b.x,b.y),y.copy(A)}function it(Ae){const Ue=je(Ae),et=Ae.pageX-Ue.x,ue=Ae.pageY-Ue.y,Y=Math.sqrt(et*et+ue*ue);w.set(0,Y),E.set(0,Math.pow(w.y/g.y,i.zoomSpeed)),N(E.y),g.copy(w)}function ft(Ae){i.enableZoom&&it(Ae),i.enablePan&&ot(Ae)}function Et(Ae){i.enableZoom&&it(Ae),i.enableRotate&&st(Ae)}function gt(Ae){i.enabled!==!1&&(R.length===0&&(i.domElement.setPointerCapture(Ae.pointerId),i.domElement.addEventListener("pointermove",Ct),i.domElement.addEventListener("pointerup",Tt)),Ce(Ae),Ae.pointerType==="touch"?fe(Ae):Dt(Ae))}function Ct(Ae){i.enabled!==!1&&(Ae.pointerType==="touch"?pe(Ae):Yt(Ae))}function Tt(Ae){Se(Ae),R.length===0&&(i.domElement.releasePointerCapture(Ae.pointerId),i.domElement.removeEventListener("pointermove",Ct),i.domElement.removeEventListener("pointerup",Tt)),i.dispatchEvent(T6),s=o.NONE}function Dt(Ae){let Ue;switch(Ae.button){case 0:Ue=i.mouseButtons.LEFT;break;case 1:Ue=i.mouseButtons.MIDDLE;break;case 2:Ue=i.mouseButtons.RIGHT;break;default:Ue=-1}switch(Ue){case fc.DOLLY:if(i.enableZoom===!1)return;X(Ae),s=o.DOLLY;break;case fc.ROTATE:if(Ae.ctrlKey||Ae.metaKey||Ae.shiftKey){if(i.enablePan===!1)return;J(Ae),s=o.PAN}else{if(i.enableRotate===!1)return;Q(Ae),s=o.ROTATE}break;case fc.PAN:if(Ae.ctrlKey||Ae.metaKey||Ae.shiftKey){if(i.enableRotate===!1)return;Q(Ae),s=o.ROTATE}else{if(i.enablePan===!1)return;J(Ae),s=o.PAN}break;default:s=o.NONE}s!==o.NONE&&i.dispatchEvent(SM)}function Yt(Ae){switch(s){case o.ROTATE:if(i.enableRotate===!1)return;Z(Ae);break;case o.DOLLY:if(i.enableZoom===!1)return;oe(Ae);break;case o.PAN:if(i.enablePan===!1)return;ce(Ae);break}}function Ve(Ae){i.enabled===!1||i.enableZoom===!1||s!==o.NONE||(Ae.preventDefault(),i.dispatchEvent(SM),Be(Ae),i.dispatchEvent(T6))}function ye(Ae){i.enabled===!1||i.enablePan===!1||ge(Ae)}function fe(Ae){switch(we(Ae),R.length){case 1:switch(i.touches.ONE){case _p.ROTATE:if(i.enableRotate===!1)return;Re(),s=o.TOUCH_ROTATE;break;case _p.PAN:if(i.enablePan===!1)return;$e(),s=o.TOUCH_PAN;break;default:s=o.NONE}break;case 2:switch(i.touches.TWO){case _p.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Ke(),s=o.TOUCH_DOLLY_PAN;break;case _p.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;ke(),s=o.TOUCH_DOLLY_ROTATE;break;default:s=o.NONE}break;default:s=o.NONE}s!==o.NONE&&i.dispatchEvent(SM)}function pe(Ae){switch(we(Ae),s){case o.TOUCH_ROTATE:if(i.enableRotate===!1)return;st(Ae),i.update();break;case o.TOUCH_PAN:if(i.enablePan===!1)return;ot(Ae),i.update();break;case o.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;ft(Ae),i.update();break;case o.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Et(Ae),i.update();break;default:s=o.NONE}}function _e(Ae){i.enabled!==!1&&Ae.preventDefault()}function Ce(Ae){R.push(Ae)}function Se(Ae){delete L[Ae.pointerId];for(let Ue=0;Ue<R.length;Ue++)if(R[Ue].pointerId==Ae.pointerId){R.splice(Ue,1);return}}function we(Ae){let Ue=L[Ae.pointerId];Ue===void 0&&(Ue=new tr,L[Ae.pointerId]=Ue),Ue.set(Ae.pageX,Ae.pageY)}function je(Ae){const Ue=Ae.pointerId===R[0].pointerId?R[1]:R[0];return L[Ue.pointerId]}i.domElement.addEventListener("contextmenu",_e),i.domElement.addEventListener("pointerdown",gt),i.domElement.addEventListener("pointercancel",Tt),i.domElement.addEventListener("wheel",Ve,{passive:!1}),this.update()}}const kDe={type:"change"};class FDe extends Zl{constructor(e,r){super(),this.object=e,this.domElement=r,this.enabled=!0,this.movementSpeed=1,this.rollSpeed=.005,this.dragToLook=!1,this.autoForward=!1;const i=this,o=1e-6,s=new Xl,l=new Rt;this.tmpQuaternion=new Xl,this.status=0,this.moveState={up:0,down:0,left:0,right:0,forward:0,back:0,pitchUp:0,pitchDown:0,yawLeft:0,yawRight:0,rollLeft:0,rollRight:0},this.moveVector=new Rt(0,0,0),this.rotationVector=new Rt(0,0,0),this.keydown=function(y){if(!(y.altKey||this.enabled===!1)){switch(y.code){case"ShiftLeft":case"ShiftRight":this.movementSpeedMultiplier=.1;break;case"KeyW":this.moveState.forward=1;break;case"KeyS":this.moveState.back=1;break;case"KeyA":this.moveState.left=1;break;case"KeyD":this.moveState.right=1;break;case"KeyR":this.moveState.up=1;break;case"KeyF":this.moveState.down=1;break;case"ArrowUp":this.moveState.pitchUp=1;break;case"ArrowDown":this.moveState.pitchDown=1;break;case"ArrowLeft":this.moveState.yawLeft=1;break;case"ArrowRight":this.moveState.yawRight=1;break;case"KeyQ":this.moveState.rollLeft=1;break;case"KeyE":this.moveState.rollRight=1;break}this.updateMovementVector(),this.updateRotationVector()}},this.keyup=function(y){if(this.enabled!==!1){switch(y.code){case"ShiftLeft":case"ShiftRight":this.movementSpeedMultiplier=1;break;case"KeyW":this.moveState.forward=0;break;case"KeyS":this.moveState.back=0;break;case"KeyA":this.moveState.left=0;break;case"KeyD":this.moveState.right=0;break;case"KeyR":this.moveState.up=0;break;case"KeyF":this.moveState.down=0;break;case"ArrowUp":this.moveState.pitchUp=0;break;case"ArrowDown":this.moveState.pitchDown=0;break;case"ArrowLeft":this.moveState.yawLeft=0;break;case"ArrowRight":this.moveState.yawRight=0;break;case"KeyQ":this.moveState.rollLeft=0;break;case"KeyE":this.moveState.rollRight=0;break}this.updateMovementVector(),this.updateRotationVector()}},this.pointerdown=function(y){if(this.enabled!==!1)if(this.dragToLook)this.status++;else{switch(y.button){case 0:this.moveState.forward=1;break;case 2:this.moveState.back=1;break}this.updateMovementVector()}},this.pointermove=function(y){if(this.enabled!==!1&&(!this.dragToLook||this.status>0)){const A=this.getContainerDimensions(),b=A.size[0]/2,g=A.size[1]/2;this.moveState.yawLeft=-(y.pageX-A.offset[0]-b)/b,this.moveState.pitchDown=(y.pageY-A.offset[1]-g)/g,this.updateRotationVector()}},this.pointerup=function(y){if(this.enabled!==!1){if(this.dragToLook)this.status--,this.moveState.yawLeft=this.moveState.pitchDown=0;else{switch(y.button){case 0:this.moveState.forward=0;break;case 2:this.moveState.back=0;break}this.updateMovementVector()}this.updateRotationVector()}},this.pointercancel=function(){this.enabled!==!1&&(this.dragToLook?(this.status=0,this.moveState.yawLeft=this.moveState.pitchDown=0):(this.moveState.forward=0,this.moveState.back=0,this.updateMovementVector()),this.updateRotationVector())},this.contextMenu=function(y){this.enabled!==!1&&y.preventDefault()},this.update=function(y){if(this.enabled===!1)return;const A=y*i.movementSpeed,b=y*i.rollSpeed;i.object.translateX(i.moveVector.x*A),i.object.translateY(i.moveVector.y*A),i.object.translateZ(i.moveVector.z*A),i.tmpQuaternion.set(i.rotationVector.x*b,i.rotationVector.y*b,i.rotationVector.z*b,1).normalize(),i.object.quaternion.multiply(i.tmpQuaternion),(l.distanceToSquared(i.object.position)>o||8*(1-s.dot(i.object.quaternion))>o)&&(i.dispatchEvent(kDe),s.copy(i.object.quaternion),l.copy(i.object.position))},this.updateMovementVector=function(){const y=this.moveState.forward||this.autoForward&&!this.moveState.back?1:0;this.moveVector.x=-this.moveState.left+this.moveState.right,this.moveVector.y=-this.moveState.down+this.moveState.up,this.moveVector.z=-y+this.moveState.back},this.updateRotationVector=function(){this.rotationVector.x=-this.moveState.pitchDown+this.moveState.pitchUp,this.rotationVector.y=-this.moveState.yawRight+this.moveState.yawLeft,this.rotationVector.z=-this.moveState.rollRight+this.moveState.rollLeft},this.getContainerDimensions=function(){return this.domElement!=document?{size:[this.domElement.offsetWidth,this.domElement.offsetHeight],offset:[this.domElement.offsetLeft,this.domElement.offsetTop]}:{size:[window.innerWidth,window.innerHeight],offset:[0,0]}},this.dispose=function(){this.domElement.removeEventListener("contextmenu",u),this.domElement.removeEventListener("pointerdown",d),this.domElement.removeEventListener("pointermove",c),this.domElement.removeEventListener("pointerup",h),this.domElement.removeEventListener("pointercancel",p),window.removeEventListener("keydown",m),window.removeEventListener("keyup",v)};const u=this.contextMenu.bind(this),c=this.pointermove.bind(this),d=this.pointerdown.bind(this),h=this.pointerup.bind(this),p=this.pointercancel.bind(this),m=this.keydown.bind(this),v=this.keyup.bind(this);this.domElement.addEventListener("contextmenu",u),this.domElement.addEventListener("pointerdown",d),this.domElement.addEventListener("pointermove",c),this.domElement.addEventListener("pointerup",h),this.domElement.addEventListener("pointercancel",p),window.addEventListener("keydown",m),window.addEventListener("keyup",v),this.updateMovementVector(),this.updateRotationVector()}}const UDe={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`};class rw{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const zDe=new hL(-1,1,1,-1,0,1);class $De extends fs{constructor(){super(),this.setAttribute("position",new Wo([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new Wo([0,2,0,0,2,0],2))}}const HDe=new $De;class jDe{constructor(e){this._mesh=new $l(HDe,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,zDe)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}class GDe extends rw{constructor(e,r){super(),this.textureID=r!==void 0?r:"tDiffuse",e instanceof ku?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=fG.clone(e.uniforms),this.material=new ku({name:e.name!==void 0?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new jDe(this.material)}render(e,r,i){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=i.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(r),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class I6 extends rw{constructor(e,r){super(),this.scene=e,this.camera=r,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,r,i){const o=e.getContext(),s=e.state;s.buffers.color.setMask(!1),s.buffers.depth.setMask(!1),s.buffers.color.setLocked(!0),s.buffers.depth.setLocked(!0);let l,u;this.inverse?(l=0,u=1):(l=1,u=0),s.buffers.stencil.setTest(!0),s.buffers.stencil.setOp(o.REPLACE,o.REPLACE,o.REPLACE),s.buffers.stencil.setFunc(o.ALWAYS,l,4294967295),s.buffers.stencil.setClear(u),s.buffers.stencil.setLocked(!0),e.setRenderTarget(i),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(r),this.clear&&e.clear(),e.render(this.scene,this.camera),s.buffers.color.setLocked(!1),s.buffers.depth.setLocked(!1),s.buffers.color.setMask(!0),s.buffers.depth.setMask(!0),s.buffers.stencil.setLocked(!1),s.buffers.stencil.setFunc(o.EQUAL,1,4294967295),s.buffers.stencil.setOp(o.KEEP,o.KEEP,o.KEEP),s.buffers.stencil.setLocked(!0)}}class VDe extends rw{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class WDe{constructor(e,r){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),r===void 0){const i=e.getSize(new tr);this._width=i.width,this._height=i.height,r=new qd(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:lg}),r.texture.name="EffectComposer.rt1"}else this._width=r.width,this._height=r.height;this.renderTarget1=r,this.renderTarget2=r.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new GDe(UDe),this.copyPass.material.blending=Eu,this.clock=new MG}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,r){this.passes.splice(r,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const r=this.passes.indexOf(e);r!==-1&&this.passes.splice(r,1)}isLastEnabledPass(e){for(let r=e+1;r<this.passes.length;r++)if(this.passes[r].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const r=this.renderer.getRenderTarget();let i=!1;for(let o=0,s=this.passes.length;o<s;o++){const l=this.passes[o];if(l.enabled!==!1){if(l.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(o),l.render(this.renderer,this.writeBuffer,this.readBuffer,e,i),l.needsSwap){if(i){const u=this.renderer.getContext(),c=this.renderer.state.buffers.stencil;c.setFunc(u.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),c.setFunc(u.EQUAL,1,4294967295)}this.swapBuffers()}I6!==void 0&&(l instanceof I6?i=!0:l instanceof VDe&&(i=!1))}}this.renderer.setRenderTarget(r)}reset(e){if(e===void 0){const r=this.renderer.getSize(new tr);this._pixelRatio=this.renderer.getPixelRatio(),this._width=r.width,this._height=r.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,r){this._width=e,this._height=r;const i=this._width*this._pixelRatio,o=this._height*this._pixelRatio;this.renderTarget1.setSize(i,o),this.renderTarget2.setSize(i,o);for(let s=0;s<this.passes.length;s++)this.passes[s].setSize(i,o)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class QDe extends rw{constructor(e,r,i=null,o=null,s=null){super(),this.scene=e,this.camera=r,this.overrideMaterial=i,this.clearColor=o,this.clearAlpha=s,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new gi}render(e,r,i){const o=e.autoClear;e.autoClear=!1;let s,l;this.overrideMaterial!==null&&(l=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor)),this.clearAlpha!==null&&(s=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),this.clearDepth==!0&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:i),this.clear===!0&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor!==null&&e.setClearColor(this._oldClearColor),this.clearAlpha!==null&&e.setClearAlpha(s),this.overrideMaterial!==null&&(this.scene.overrideMaterial=l),e.autoClear=o}}var Su=Object.freeze({Linear:Object.freeze({None:function(n){return n},In:function(n){return this.None(n)},Out:function(n){return this.None(n)},InOut:function(n){return this.None(n)}}),Quadratic:Object.freeze({In:function(n){return n*n},Out:function(n){return n*(2-n)},InOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)}}),Cubic:Object.freeze({In:function(n){return n*n*n},Out:function(n){return--n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)}}),Quartic:Object.freeze({In:function(n){return n*n*n*n},Out:function(n){return 1- --n*n*n*n},InOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)}}),Quintic:Object.freeze({In:function(n){return n*n*n*n*n},Out:function(n){return--n*n*n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)}}),Sinusoidal:Object.freeze({In:function(n){return 1-Math.sin((1-n)*Math.PI/2)},Out:function(n){return Math.sin(n*Math.PI/2)},InOut:function(n){return .5*(1-Math.sin(Math.PI*(.5-n)))}}),Exponential:Object.freeze({In:function(n){return n===0?0:Math.pow(1024,n-1)},Out:function(n){return n===1?1:1-Math.pow(2,-10*n)},InOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)}}),Circular:Object.freeze({In:function(n){return 1-Math.sqrt(1-n*n)},Out:function(n){return Math.sqrt(1- --n*n)},InOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)}}),Elastic:Object.freeze({In:function(n){return n===0?0:n===1?1:-Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI)},Out:function(n){return n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n-.1)*5*Math.PI)+1},InOut:function(n){return n===0?0:n===1?1:(n*=2,n<1?-.5*Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI):.5*Math.pow(2,-10*(n-1))*Math.sin((n-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(n){var e=1.70158;return n===1?1:n*n*((e+1)*n-e)},Out:function(n){var e=1.70158;return n===0?0:--n*n*((e+1)*n+e)+1},InOut:function(n){var e=2.5949095;return(n*=2)<1?.5*(n*n*((e+1)*n-e)):.5*((n-=2)*n*((e+1)*n+e)+2)}}),Bounce:Object.freeze({In:function(n){return 1-Su.Bounce.Out(1-n)},Out:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},InOut:function(n){return n<.5?Su.Bounce.In(n*2)*.5:Su.Bounce.Out(n*2-1)*.5+.5}}),generatePow:function(n){return n===void 0&&(n=4),n=n<Number.EPSILON?Number.EPSILON:n,n=n>1e4?1e4:n,{In:function(e){return Math.pow(e,n)},Out:function(e){return 1-Math.pow(1-e,n)},InOut:function(e){return e<.5?Math.pow(e*2,n)/2:(1-Math.pow(2-e*2,n))/2+.5}}}}),b0=function(){return performance.now()},KDe=function(){function n(){this._tweens={},this._tweensAddedDuringUpdate={}}return n.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(r){return e._tweens[r]})},n.prototype.removeAll=function(){this._tweens={}},n.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},n.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},n.prototype.update=function(e,r){e===void 0&&(e=b0()),r===void 0&&(r=!1);var i=Object.keys(this._tweens);if(i.length===0)return!1;for(;i.length>0;){this._tweensAddedDuringUpdate={};for(var o=0;o<i.length;o++){var s=this._tweens[i[o]],l=!r;s&&s.update(e,l)===!1&&!r&&delete this._tweens[i[o]]}i=Object.keys(this._tweensAddedDuringUpdate)}return!0},n}(),xm={Linear:function(n,e){var r=n.length-1,i=r*e,o=Math.floor(i),s=xm.Utils.Linear;return e<0?s(n[0],n[1],i):e>1?s(n[r],n[r-1],r-i):s(n[o],n[o+1>r?r:o+1],i-o)},Bezier:function(n,e){for(var r=0,i=n.length-1,o=Math.pow,s=xm.Utils.Bernstein,l=0;l<=i;l++)r+=o(1-e,i-l)*o(e,l)*n[l]*s(i,l);return r},CatmullRom:function(n,e){var r=n.length-1,i=r*e,o=Math.floor(i),s=xm.Utils.CatmullRom;return n[0]===n[r]?(e<0&&(o=Math.floor(i=r*(1+e))),s(n[(o-1+r)%r],n[o],n[(o+1)%r],n[(o+2)%r],i-o)):e<0?n[0]-(s(n[0],n[0],n[1],n[1],-i)-n[0]):e>1?n[r]-(s(n[r],n[r],n[r-1],n[r-1],i-r)-n[r]):s(n[o?o-1:0],n[o],n[r<o+1?r:o+1],n[r<o+2?r:o+2],i-o)},Utils:{Linear:function(n,e,r){return(e-n)*r+n},Bernstein:function(n,e){var r=xm.Utils.Factorial;return r(n)/r(e)/r(n-e)},Factorial:function(){var n=[1];return function(e){var r=1;if(n[e])return n[e];for(var i=e;i>1;i--)r*=i;return n[e]=r,r}}(),CatmullRom:function(n,e,r,i,o){var s=(r-n)*.5,l=(i-e)*.5,u=o*o,c=o*u;return(2*e-2*r+s+l)*c+(-3*e+3*r-2*s-l)*u+s*o+e}}},XDe=function(){function n(){}return n.nextId=function(){return n._nextId++},n._nextId=0,n}(),_R=new KDe,OE=function(){function n(e,r){r===void 0&&(r=_R),this._object=e,this._group=r,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Su.Linear.None,this._interpolationFunction=xm.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=XDe.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return n.prototype.getId=function(){return this._id},n.prototype.isPlaying=function(){return this._isPlaying},n.prototype.isPaused=function(){return this._isPaused},n.prototype.to=function(e,r){if(r===void 0&&(r=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=r,this},n.prototype.duration=function(e){return e===void 0&&(e=1e3),this._duration=e,this},n.prototype.dynamic=function(e){return e===void 0&&(e=!1),this._isDynamic=e,this},n.prototype.start=function(e,r){if(e===void 0&&(e=b0()),r===void 0&&(r=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var i in this._valuesStartRepeat)this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||r){if(this._propertiesAreSetUp=!0,!this._isDynamic){var o={};for(var s in this._valuesEnd)o[s]=this._valuesEnd[s];this._valuesEnd=o}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,r)}return this},n.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},n.prototype._setupProperties=function(e,r,i,o,s){for(var l in i){var u=e[l],c=Array.isArray(u),d=c?"array":typeof u,h=!c&&Array.isArray(i[l]);if(!(d==="undefined"||d==="function")){if(h){var p=i[l];if(p.length===0)continue;for(var m=[u],v=0,y=p.length;v<y;v+=1){var A=this._handleRelativeValue(u,p[v]);if(isNaN(A)){h=!1,console.warn("Found invalid interpolation list. Skipping.");break}m.push(A)}h&&(i[l]=m)}if((d==="object"||c)&&u&&!h){r[l]=c?[]:{};var b=u;for(var g in b)r[l][g]=b[g];o[l]=c?[]:{};var p=i[l];if(!this._isDynamic){var w={};for(var g in p)w[g]=p[g];i[l]=p=w}this._setupProperties(b,r[l],p,o[l],s)}else(typeof r[l]>"u"||s)&&(r[l]=u),c||(r[l]*=1),h?o[l]=i[l].slice().reverse():o[l]=r[l]||0}}},n.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},n.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},n.prototype.pause=function(e){return e===void 0&&(e=b0()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this),this)},n.prototype.resume=function(e){return e===void 0&&(e=b0()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},n.prototype.stopChainedTweens=function(){for(var e=0,r=this._chainedTweens.length;e<r;e++)this._chainedTweens[e].stop();return this},n.prototype.group=function(e){return e===void 0&&(e=_R),this._group=e,this},n.prototype.delay=function(e){return e===void 0&&(e=0),this._delayTime=e,this},n.prototype.repeat=function(e){return e===void 0&&(e=0),this._initialRepeat=e,this._repeat=e,this},n.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},n.prototype.yoyo=function(e){return e===void 0&&(e=!1),this._yoyo=e,this},n.prototype.easing=function(e){return e===void 0&&(e=Su.Linear.None),this._easingFunction=e,this},n.prototype.interpolation=function(e){return e===void 0&&(e=xm.Linear),this._interpolationFunction=e,this},n.prototype.chain=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this._chainedTweens=e,this},n.prototype.onStart=function(e){return this._onStartCallback=e,this},n.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},n.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},n.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},n.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},n.prototype.onStop=function(e){return this._onStopCallback=e,this},n.prototype.update=function(e,r){if(e===void 0&&(e=b0()),r===void 0&&(r=!0),this._isPaused)return!0;var i,o,s=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>s)return!1;r&&this.start(e,!0)}if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0),o=(e-this._startTime)/this._duration,o=this._duration===0||o>1?1:o;var l=this._easingFunction(o);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,l),this._onUpdateCallback&&this._onUpdateCallback(this._object,o),o===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(i in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[i]=="string"&&(this._valuesStartRepeat[i]=this._valuesStartRepeat[i]+parseFloat(this._valuesEnd[i])),this._yoyo&&this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var u=0,c=this._chainedTweens.length;u<c;u++)this._chainedTweens[u].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},n.prototype._updateProperties=function(e,r,i,o){for(var s in i)if(r[s]!==void 0){var l=r[s]||0,u=i[s],c=Array.isArray(e[s]),d=Array.isArray(u),h=!c&&d;h?e[s]=this._interpolationFunction(u,o):typeof u=="object"&&u?this._updateProperties(e[s],l,u,o):(u=this._handleRelativeValue(l,u),typeof u=="number"&&(e[s]=l+(u-l)*o))}},n.prototype._handleRelativeValue=function(e,r){return typeof r!="string"?r:r.charAt(0)==="+"||r.charAt(0)==="-"?e+parseFloat(r):parseFloat(r)},n.prototype._swapEndStartRepeatValues=function(e){var r=this._valuesStartRepeat[e],i=this._valuesEnd[e];typeof i=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(i):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=r},n}(),wc=_R;wc.getAll.bind(wc);wc.removeAll.bind(wc);wc.add.bind(wc);wc.remove.bind(wc);var FV=wc.update.bind(wc);function qDe(n,e){e===void 0&&(e={});var r=e.insertAt;if(!(!n||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",r==="top"&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}}var YDe=`.scene-nav-info {
  bottom: 5px;
  width: 100%;
  text-align: center;
  color: slategrey;
  opacity: 0.7;
  font-size: 10px;
}

.scene-tooltip {
  top: 0;
  color: lavender;
  font-size: 15px;
}

.scene-nav-info, .scene-tooltip {
  position: absolute;
  font-family: sans-serif;
  pointer-events: none;
  user-select: none;
}

.scene-container canvas:focus {
  outline: none;
}`;qDe(YDe);function JDe(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,s,l,u=[],c=!0,d=!1;try{if(s=(r=r.call(n)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(i=s.call(r)).done)&&(u.push(i.value),u.length!==e);c=!0);}catch(h){d=!0,o=h}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw o}}return u}}function ZDe(n,e,r){return e=s4e(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function e4e(n,e){return n4e(n)||JDe(n,e)||UV(n,e)||o4e()}function Zv(n){return t4e(n)||r4e(n)||UV(n)||i4e()}function t4e(n){if(Array.isArray(n))return MR(n)}function n4e(n){if(Array.isArray(n))return n}function r4e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function UV(n,e){if(n){if(typeof n=="string")return MR(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MR(n,e)}}function MR(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function i4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a4e(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function s4e(n){var e=a4e(n,"string");return typeof e=="symbol"?e:String(e)}var oo=window.THREE?window.THREE:{WebGLRenderer:bG,Scene:S3e,PerspectiveCamera:rl,Raycaster:TG,SRGBColorSpace:Go,TextureLoader:K3e,Vector2:tr,Vector3:Rt,Box3:Lh,Color:gi,Mesh:$l,SphereGeometry:JC,MeshBasicMaterial:uL,BackSide:Ka,EventDispatcher:Zl,MOUSE:fc,Quaternion:Xl,Spherical:rR,Clock:MG},zV=Oh({props:{width:{default:window.innerWidth,onChange:function(e,r,i){isNaN(e)&&(r.width=i)}},height:{default:window.innerHeight,onChange:function(e,r,i){isNaN(e)&&(r.height=i)}},backgroundColor:{default:"#000011"},backgroundImageUrl:{},onBackgroundImageLoaded:{},showNavInfo:{default:!0},skyRadius:{default:5e4},objects:{default:[]},lights:{default:[]},enablePointerInteraction:{default:!0,onChange:function(e,r){r.hoverObj=null,r.toolTipElem&&(r.toolTipElem.innerHTML="")},triggerUpdate:!1},lineHoverPrecision:{default:1,triggerUpdate:!1},hoverOrderComparator:{default:function(){return-1},triggerUpdate:!1},hoverFilter:{default:function(){return!0},triggerUpdate:!1},tooltipContent:{triggerUpdate:!1},hoverDuringDrag:{default:!1,triggerUpdate:!1},clickAfterDrag:{default:!1,triggerUpdate:!1},onHover:{default:function(){},triggerUpdate:!1},onClick:{default:function(){},triggerUpdate:!1},onRightClick:{triggerUpdate:!1}},methods:{tick:function(e){if(e.initialised){if(e.controls.update&&e.controls.update(e.clock.getDelta()),e.postProcessingComposer?e.postProcessingComposer.render():e.renderer.render(e.scene,e.camera),e.extraRenderers.forEach(function(s){return s.render(e.scene,e.camera)}),e.enablePointerInteraction){var r=null;if(e.hoverDuringDrag||!e.isPointerDragging){var i=this.intersectingObjects(e.pointerPos.x,e.pointerPos.y).filter(function(s){return e.hoverFilter(s.object)}).sort(function(s,l){return e.hoverOrderComparator(s.object,l.object)}),o=i.length?i[0]:null;r=o?o.object:null,e.intersectionPoint=o?o.point:null}r!==e.hoverObj&&(e.onHover(r,e.hoverObj),e.toolTipElem.innerHTML=r&&Ir(e.tooltipContent)(r)||"",e.hoverObj=r)}FV()}return this},getPointerPos:function(e){var r=e.pointerPos,i=r.x,o=r.y;return{x:i,y:o}},cameraPosition:function(e,r,i,o){var s=e.camera;if(r&&e.initialised){var l=r,u=i||{x:0,y:0,z:0};if(!o)h(l),p(u);else{var c=Object.assign({},s.position),d=m();new OE(c).to(l,o).easing(Su.Quadratic.Out).onUpdate(h).start(),new OE(d).to(u,o/3).easing(Su.Quadratic.Out).onUpdate(p).start()}return this}return Object.assign({},s.position,{lookAt:m()});function h(v){var y=v.x,A=v.y,b=v.z;y!==void 0&&(s.position.x=y),A!==void 0&&(s.position.y=A),b!==void 0&&(s.position.z=b)}function p(v){var y=new oo.Vector3(v.x,v.y,v.z);e.controls.target?e.controls.target=y:s.lookAt(y)}function m(){return Object.assign(new oo.Vector3(0,0,-1e3).applyQuaternion(s.quaternion).add(s.position))}},zoomToFit:function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,o=arguments.length,s=new Array(o>3?o-3:0),l=3;l<o;l++)s[l-3]=arguments[l];return this.fitToBbox(this.getBbox.apply(this,s),r,i)},fitToBbox:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:10,s=e.camera;if(r){var l=new oo.Vector3(0,0,0),u=Math.max.apply(Math,Zv(Object.entries(r).map(function(v){var y=e4e(v,2),A=y[0],b=y[1];return Math.max.apply(Math,Zv(b.map(function(g){return Math.abs(l[A]-g)})))})))*2,c=(1-o*2/e.height)*s.fov,d=u/Math.atan(c*Math.PI/180),h=d/s.aspect,p=Math.max(d,h);if(p>0){var m=l.clone().sub(s.position).normalize().multiplyScalar(-p);this.cameraPosition(m,l,i)}}return this},getBbox:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},i=new oo.Box3(new oo.Vector3(0,0,0),new oo.Vector3(0,0,0)),o=e.objects.filter(r);return o.length?(o.forEach(function(s){return i.expandByObject(s)}),Object.assign.apply(Object,Zv(["x","y","z"].map(function(s){return ZDe({},s,[i.min[s],i.max[s]])})))):null},getScreenCoords:function(e,r,i,o){var s=new oo.Vector3(r,i,o);return s.project(this.camera()),{x:(s.x+1)*e.width/2,y:-(s.y-1)*e.height/2}},getSceneCoords:function(e,r,i){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=new oo.Vector2(r/e.width*2-1,-(i/e.height)*2+1),l=new oo.Raycaster;return l.setFromCamera(s,e.camera),Object.assign({},l.ray.at(o,new oo.Vector3))},intersectingObjects:function(e,r,i){var o=new oo.Vector2(r/e.width*2-1,-(i/e.height)*2+1),s=new oo.Raycaster;return s.params.Line.threshold=e.lineHoverPrecision,s.setFromCamera(o,e.camera),s.intersectObjects(e.objects,!0)},renderer:function(e){return e.renderer},scene:function(e){return e.scene},camera:function(e){return e.camera},postProcessingComposer:function(e){return e.postProcessingComposer},controls:function(e){return e.controls},tbControls:function(e){return e.controls}},stateInit:function(){return{scene:new oo.Scene,camera:new oo.PerspectiveCamera,clock:new oo.Clock}},init:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=i.controlType,s=o===void 0?"trackball":o,l=i.rendererConfig,u=l===void 0?{}:l,c=i.extraRenderers,d=c===void 0?[]:c,h=i.waitForLoadComplete,p=h===void 0?!0:h;e.innerHTML="",e.appendChild(r.container=document.createElement("div")),r.container.className="scene-container",r.container.style.position="relative",r.container.appendChild(r.navInfo=document.createElement("div")),r.navInfo.className="scene-nav-info",r.navInfo.textContent={orbit:"Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan",trackball:"Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan",fly:"WASD: move, R|F: up | down, Q|E: roll, up|down: pitch, left|right: yaw"}[s]||"",r.navInfo.style.display=r.showNavInfo?null:"none",r.toolTipElem=document.createElement("div"),r.toolTipElem.classList.add("scene-tooltip"),r.container.appendChild(r.toolTipElem),r.pointerPos=new oo.Vector2,r.pointerPos.x=-2,r.pointerPos.y=-2,["pointermove","pointerdown"].forEach(function(m){return r.container.addEventListener(m,function(v){if(m==="pointerdown"&&(r.isPointerPressed=!0),!r.isPointerDragging&&v.type==="pointermove"&&(v.pressure>0||r.isPointerPressed)&&(v.pointerType!=="touch"||v.movementX===void 0||[v.movementX,v.movementY].some(function(b){return Math.abs(b)>1}))&&(r.isPointerDragging=!0),r.enablePointerInteraction){var y=A(r.container);r.pointerPos.x=v.pageX-y.left,r.pointerPos.y=v.pageY-y.top,r.toolTipElem.style.top="".concat(r.pointerPos.y,"px"),r.toolTipElem.style.left="".concat(r.pointerPos.x,"px"),r.toolTipElem.style.transform="translate(-".concat(r.pointerPos.x/r.width*100,"%, ").concat(r.height-r.pointerPos.y<100?"calc(-100% - 8px)":"21px",")")}function A(b){var g=b.getBoundingClientRect(),w=window.pageXOffset||document.documentElement.scrollLeft,E=window.pageYOffset||document.documentElement.scrollTop;return{top:g.top+E,left:g.left+w}}},{passive:!0})}),r.container.addEventListener("pointerup",function(m){r.isPointerPressed=!1,!(r.isPointerDragging&&(r.isPointerDragging=!1,!r.clickAfterDrag))&&requestAnimationFrame(function(){m.button===0&&r.onClick(r.hoverObj||null,m,r.intersectionPoint),m.button===2&&r.onRightClick&&r.onRightClick(r.hoverObj||null,m,r.intersectionPoint)})},{passive:!0,capture:!0}),r.container.addEventListener("contextmenu",function(m){r.onRightClick&&m.preventDefault()}),r.renderer=new oo.WebGLRenderer(Object.assign({antialias:!0,alpha:!0},u)),r.renderer.setPixelRatio(Math.min(2,window.devicePixelRatio)),r.container.appendChild(r.renderer.domElement),r.extraRenderers=d,r.extraRenderers.forEach(function(m){m.domElement.style.position="absolute",m.domElement.style.top="0px",m.domElement.style.pointerEvents="none",r.container.appendChild(m.domElement)}),r.postProcessingComposer=new WDe(r.renderer),r.postProcessingComposer.addPass(new QDe(r.scene,r.camera)),r.controls=new{trackball:ODe,orbit:NDe,fly:FDe}[s](r.camera,r.renderer.domElement),s==="fly"&&(r.controls.movementSpeed=300,r.controls.rollSpeed=Math.PI/6,r.controls.dragToLook=!0),(s==="trackball"||s==="orbit")&&(r.controls.minDistance=.1,r.controls.maxDistance=r.skyRadius,r.controls.addEventListener("start",function(){r.controlsEngaged=!0}),r.controls.addEventListener("change",function(){r.controlsEngaged&&(r.controlsDragging=!0)}),r.controls.addEventListener("end",function(){r.controlsEngaged=!1,r.controlsDragging=!1})),[r.renderer,r.postProcessingComposer].concat(Zv(r.extraRenderers)).forEach(function(m){return m.setSize(r.width,r.height)}),r.camera.aspect=r.width/r.height,r.camera.updateProjectionMatrix(),r.camera.position.z=1e3,r.scene.add(r.skysphere=new oo.Mesh),r.skysphere.visible=!1,r.loadComplete=r.scene.visible=!p,window.scene=r.scene},update:function(e,r){if(e.width&&e.height&&(r.hasOwnProperty("width")||r.hasOwnProperty("height"))&&(e.container.style.width="".concat(e.width,"px"),e.container.style.height="".concat(e.height,"px"),[e.renderer,e.postProcessingComposer].concat(Zv(e.extraRenderers)).forEach(function(s){return s.setSize(e.width,e.height)}),e.camera.aspect=e.width/e.height,e.camera.updateProjectionMatrix()),r.hasOwnProperty("skyRadius")&&e.skyRadius&&(e.controls.hasOwnProperty("maxDistance")&&r.skyRadius&&(e.controls.maxDistance=Math.min(e.controls.maxDistance,e.skyRadius)),e.camera.far=e.skyRadius*2.5,e.camera.updateProjectionMatrix(),e.skysphere.geometry=new oo.SphereGeometry(e.skyRadius)),r.hasOwnProperty("backgroundColor")){var i=nw(e.backgroundColor).alpha;i===void 0&&(i=1),e.renderer.setClearColor(new oo.Color(LV(1,e.backgroundColor)),i)}r.hasOwnProperty("backgroundImageUrl")&&(e.backgroundImageUrl?new oo.TextureLoader().load(e.backgroundImageUrl,function(s){s.colorSpace=oo.SRGBColorSpace,e.skysphere.material=new oo.MeshBasicMaterial({map:s,side:oo.BackSide}),e.skysphere.visible=!0,e.onBackgroundImageLoaded&&setTimeout(e.onBackgroundImageLoaded),!e.loadComplete&&o()}):(e.skysphere.visible=!1,e.skysphere.material.map=null,!e.loadComplete&&o())),r.hasOwnProperty("showNavInfo")&&(e.navInfo.style.display=e.showNavInfo?null:"none"),r.hasOwnProperty("lights")&&((r.lights||[]).forEach(function(s){return e.scene.remove(s)}),e.lights.forEach(function(s){return e.scene.add(s)})),r.hasOwnProperty("objects")&&((r.objects||[]).forEach(function(s){return e.scene.remove(s)}),e.objects.forEach(function(s){return e.scene.add(s)}));function o(){e.loadComplete=e.scene.visible=!0}}});function l4e(n,e){e===void 0&&(e={});var r=e.insertAt;if(!(!n||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",r==="top"&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}}var c4e=`.graph-info-msg {
  top: 50%;
  width: 100%;
  text-align: center;
  color: lavender;
  opacity: 0.7;
  font-size: 22px;
  position: absolute;
  font-family: Sans-serif;
}

.scene-container .clickable {
  cursor: pointer;
}

.scene-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.scene-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}`;l4e(c4e);function P6(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function F1(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P6(Object(r),!0).forEach(function(i){cy(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):P6(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function cy(n,e,r){return e=m4e(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function iw(n){return u4e(n)||d4e(n)||f4e(n)||h4e()}function u4e(n){if(Array.isArray(n))return TR(n)}function d4e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function f4e(n,e){if(n){if(typeof n=="string")return TR(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TR(n,e)}}function TR(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function h4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p4e(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function m4e(n){var e=p4e(n,"string");return typeof e=="symbol"?e:String(e)}function $V(n,e){var r=new e;return r._destructor&&r._destructor(),{linkProp:function(o){return{default:r[o](),onChange:function(l,u){u[n][o](l)},triggerUpdate:!1}},linkMethod:function(o){return function(s){for(var l=s[n],u=arguments.length,c=new Array(u>1?u-1:0),d=1;d<u;d++)c[d-1]=arguments[d];var h=l[o].apply(l,c);return h===l?this:h}}}}var L6=window.THREE?window.THREE:{AmbientLight:J3e,DirectionalLight:Y3e,Vector3:Rt},g4e=170,HV=$V("forceGraph",DL),v4e=Object.assign.apply(Object,iw(["jsonUrl","graphData","numDimensions","dagMode","dagLevelDistance","dagNodeFilter","onDagError","nodeRelSize","nodeId","nodeVal","nodeResolution","nodeColor","nodeAutoColorBy","nodeOpacity","nodeVisibility","nodeThreeObject","nodeThreeObjectExtend","linkSource","linkTarget","linkVisibility","linkColor","linkAutoColorBy","linkOpacity","linkWidth","linkResolution","linkCurvature","linkCurveRotation","linkMaterial","linkThreeObject","linkThreeObjectExtend","linkPositionUpdate","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution","forceEngine","d3AlphaDecay","d3VelocityDecay","d3AlphaMin","ngraphPhysics","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(n){return cy({},n,HV.linkProp(n))}))),A4e=Object.assign.apply(Object,iw(["refresh","getGraphBbox","d3Force","d3ReheatSimulation","emitParticle"].map(function(n){return cy({},n,HV.linkMethod(n))}))),gx=$V("renderObjs",zV),y4e=Object.assign.apply(Object,iw(["width","height","backgroundColor","showNavInfo","enablePointerInteraction"].map(function(n){return cy({},n,gx.linkProp(n))}))),b4e=Object.assign.apply(Object,iw(["lights","cameraPosition","postProcessingComposer"].map(function(n){return cy({},n,gx.linkMethod(n))})).concat([{graph2ScreenCoords:gx.linkMethod("getScreenCoords"),screen2GraphCoords:gx.linkMethod("getSceneCoords")}])),x4e=Oh({props:F1(F1({nodeLabel:{default:"name",triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:1,onChange:function(e,r){return r.renderObjs.lineHoverPrecision(e)},triggerUpdate:!1},enableNavigationControls:{default:!0,onChange:function(e,r){var i=r.renderObjs.controls();i&&(i.enabled=e,e&&i.domElement&&i.domElement.dispatchEvent(new PointerEvent("pointerup")))},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1}},v4e),y4e),methods:F1(F1({zoomToFit:function(e,r,i){for(var o,s=arguments.length,l=new Array(s>3?s-3:0),u=3;u<s;u++)l[u-3]=arguments[u];return e.renderObjs.fitToBbox((o=e.forceGraph).getGraphBbox.apply(o,l),r,i),this},pauseAnimation:function(e){return e.animationFrameRequestId!==null&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),this},resumeAnimation:function(e){return e.animationFrameRequestId===null&&this._animationCycle(),this},_animationCycle:function(e){e.enablePointerInteraction&&(this.renderer().domElement.style.cursor=null),e.forceGraph.tickFrame(),e.renderObjs.tick(),e.animationFrameRequestId=requestAnimationFrame(this._animationCycle)},scene:function(e){return e.renderObjs.scene()},camera:function(e){return e.renderObjs.camera()},renderer:function(e){return e.renderObjs.renderer()},controls:function(e){return e.renderObjs.controls()},tbControls:function(e){return e.renderObjs.tbControls()},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},A4e),b4e),stateInit:function(e){var r=e.controlType,i=e.rendererConfig,o=e.extraRenderers,s=new DL;return{forceGraph:s,renderObjs:zV({controlType:r,rendererConfig:i,extraRenderers:o}).objects([s]).lights([new L6.AmbientLight(13421772,Math.PI),new L6.DirectionalLight(16777215,.6*Math.PI)])}},init:function(e,r){e.innerHTML="",e.appendChild(r.container=document.createElement("div")),r.container.style.position="relative";var i=document.createElement("div");r.container.appendChild(i),r.renderObjs(i);var o=r.renderObjs.camera(),s=r.renderObjs.renderer(),l=r.renderObjs.controls();l.enabled=!!r.enableNavigationControls,r.lastSetCameraZ=o.position.z;var u;r.container.appendChild(u=document.createElement("div")),u.className="graph-info-msg",u.textContent="",r.forceGraph.onLoading(function(){u.textContent="Loading..."}).onFinishLoading(function(){u.textContent=""}).onUpdate(function(){r.graphData=r.forceGraph.graphData(),o.position.x===0&&o.position.y===0&&o.position.z===r.lastSetCameraZ&&r.graphData.nodes.length&&(o.lookAt(r.forceGraph.position),r.lastSetCameraZ=o.position.z=Math.cbrt(r.graphData.nodes.length)*g4e)}).onFinishUpdate(function(){if(r._dragControls){var c=r.graphData.nodes.find(function(h){return h.__initialFixedPos&&!h.__disposeControlsAfterDrag});c?c.__disposeControlsAfterDrag=!0:r._dragControls.dispose(),r._dragControls=void 0}if(r.enableNodeDrag&&r.enablePointerInteraction&&r.forceEngine==="d3"){var d=r._dragControls=new BDe(r.graphData.nodes.map(function(h){return h.__threeObj}).filter(function(h){return h}),o,s.domElement);d.addEventListener("dragstart",function(h){l.enabled=!1,h.object.__initialPos=h.object.position.clone(),h.object.__prevPos=h.object.position.clone();var p=iu(h.object).__data;!p.__initialFixedPos&&(p.__initialFixedPos={fx:p.fx,fy:p.fy,fz:p.fz}),!p.__initialPos&&(p.__initialPos={x:p.x,y:p.y,z:p.z}),["x","y","z"].forEach(function(m){return p["f".concat(m)]=p[m]}),s.domElement.classList.add("grabbable")}),d.addEventListener("drag",function(h){var p=iu(h.object);if(!h.object.hasOwnProperty("__graphObjType")){var m=h.object.__initialPos,v=h.object.__prevPos,y=h.object.position;p.position.add(y.clone().sub(v)),v.copy(y),y.copy(m)}var A=p.__data,b=p.position,g={x:b.x-A.x,y:b.y-A.y,z:b.z-A.z};["x","y","z"].forEach(function(w){return A["f".concat(w)]=A[w]=b[w]}),r.forceGraph.d3AlphaTarget(.3).resetCountdown(),A.__dragged=!0,r.onNodeDrag(A,g)}),d.addEventListener("dragend",function(h){delete h.object.__initialPos,delete h.object.__prevPos;var p=iu(h.object).__data;p.__disposeControlsAfterDrag&&(d.dispose(),delete p.__disposeControlsAfterDrag);var m=p.__initialFixedPos,v=p.__initialPos,y={x:v.x-p.x,y:v.y-p.y,z:v.z-p.z};m&&(["x","y","z"].forEach(function(A){var b="f".concat(A);m[b]===void 0&&delete p[b]}),delete p.__initialFixedPos,delete p.__initialPos,p.__dragged&&(delete p.__dragged,r.onNodeDragEnd(p,y))),r.forceGraph.d3AlphaTarget(0).resetCountdown(),r.enableNavigationControls&&(l.enabled=!0,l.domElement&&l.domElement.ownerDocument&&l.domElement.ownerDocument.dispatchEvent(new PointerEvent("pointerup",{pointerType:"touch"}))),s.domElement.classList.remove("grabbable")})}}),r.renderObjs.renderer().useLegacyLights=!1,r.renderObjs.hoverOrderComparator(function(c,d){var h=iu(c);if(!h)return 1;var p=iu(d);if(!p)return-1;var m=function(y){return y.__graphObjType==="node"};return m(p)-m(h)}).tooltipContent(function(c){var d=iu(c);return d&&Ir(r["".concat(d.__graphObjType,"Label")])(d.__data)||""}).hoverDuringDrag(!1).onHover(function(c){var d=iu(c);if(d!==r.hoverObj){var h=r.hoverObj?r.hoverObj.__graphObjType:null,p=r.hoverObj?r.hoverObj.__data:null,m=d?d.__graphObjType:null,v=d?d.__data:null;if(h&&h!==m){var y=r["on".concat(h==="node"?"Node":"Link","Hover")];y&&y(null,p)}if(m){var A=r["on".concat(m==="node"?"Node":"Link","Hover")];A&&A(v,h===m?p:null)}s.domElement.classList[d&&r["on".concat(m==="node"?"Node":"Link","Click")]||!d&&r.onBackgroundClick?"add":"remove"]("clickable"),r.hoverObj=d}}).clickAfterDrag(!1).onClick(function(c,d){var h=iu(c);if(h){var p=r["on".concat(h.__graphObjType==="node"?"Node":"Link","Click")];p&&p(h.__data,d)}else r.onBackgroundClick&&r.onBackgroundClick(d)}).onRightClick(function(c,d){var h=iu(c);if(h){var p=r["on".concat(h.__graphObjType==="node"?"Node":"Link","RightClick")];p&&p(h.__data,d)}else r.onBackgroundRightClick&&r.onBackgroundRightClick(d)}),this._animationCycle()}});function iu(n){for(var e=n;e&&!e.hasOwnProperty("__graphObjType");)e=e.parent;return e}var RR="http://www.w3.org/1999/xhtml";const B6={svg:"http://www.w3.org/2000/svg",xhtml:RR,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ow(n){var e=n+="",r=e.indexOf(":");return r>=0&&(e=n.slice(0,r))!=="xmlns"&&(n=n.slice(r+1)),B6.hasOwnProperty(e)?{space:B6[e],local:n}:n}function E4e(n){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===RR&&e.documentElement.namespaceURI===RR?e.createElement(n):e.createElementNS(r,n)}}function C4e(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function jV(n){var e=ow(n);return(e.local?C4e:E4e)(e)}function w4e(){}function NL(n){return n==null?w4e:function(){return this.querySelector(n)}}function S4e(n){typeof n!="function"&&(n=NL(n));for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o)for(var s=e[o],l=s.length,u=i[o]=new Array(l),c,d,h=0;h<l;++h)(c=s[h])&&(d=n.call(c,c.__data__,h,s))&&("__data__"in c&&(d.__data__=c.__data__),u[h]=d);return new ks(i,this._parents)}function _4e(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function M4e(){return[]}function GV(n){return n==null?M4e:function(){return this.querySelectorAll(n)}}function T4e(n){return function(){return _4e(n.apply(this,arguments))}}function R4e(n){typeof n=="function"?n=T4e(n):n=GV(n);for(var e=this._groups,r=e.length,i=[],o=[],s=0;s<r;++s)for(var l=e[s],u=l.length,c,d=0;d<u;++d)(c=l[d])&&(i.push(n.call(c,c.__data__,d,l)),o.push(c));return new ks(i,o)}function VV(n){return function(){return this.matches(n)}}function WV(n){return function(e){return e.matches(n)}}var I4e=Array.prototype.find;function P4e(n){return function(){return I4e.call(this.children,n)}}function L4e(){return this.firstElementChild}function B4e(n){return this.select(n==null?L4e:P4e(typeof n=="function"?n:WV(n)))}var O4e=Array.prototype.filter;function D4e(){return Array.from(this.children)}function N4e(n){return function(){return O4e.call(this.children,n)}}function k4e(n){return this.selectAll(n==null?D4e:N4e(typeof n=="function"?n:WV(n)))}function F4e(n){typeof n!="function"&&(n=VV(n));for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o)for(var s=e[o],l=s.length,u=i[o]=[],c,d=0;d<l;++d)(c=s[d])&&n.call(c,c.__data__,d,s)&&u.push(c);return new ks(i,this._parents)}function QV(n){return new Array(n.length)}function U4e(){return new ks(this._enter||this._groups.map(QV),this._parents)}function DE(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}DE.prototype={constructor:DE,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function z4e(n){return function(){return n}}function $4e(n,e,r,i,o,s){for(var l=0,u,c=e.length,d=s.length;l<d;++l)(u=e[l])?(u.__data__=s[l],i[l]=u):r[l]=new DE(n,s[l]);for(;l<c;++l)(u=e[l])&&(o[l]=u)}function H4e(n,e,r,i,o,s,l){var u,c,d=new Map,h=e.length,p=s.length,m=new Array(h),v;for(u=0;u<h;++u)(c=e[u])&&(m[u]=v=l.call(c,c.__data__,u,e)+"",d.has(v)?o[u]=c:d.set(v,c));for(u=0;u<p;++u)v=l.call(n,s[u],u,s)+"",(c=d.get(v))?(i[u]=c,c.__data__=s[u],d.delete(v)):r[u]=new DE(n,s[u]);for(u=0;u<h;++u)(c=e[u])&&d.get(m[u])===c&&(o[u]=c)}function j4e(n){return n.__data__}function G4e(n,e){if(!arguments.length)return Array.from(this,j4e);var r=e?H4e:$4e,i=this._parents,o=this._groups;typeof n!="function"&&(n=z4e(n));for(var s=o.length,l=new Array(s),u=new Array(s),c=new Array(s),d=0;d<s;++d){var h=i[d],p=o[d],m=p.length,v=V4e(n.call(h,h&&h.__data__,d,i)),y=v.length,A=u[d]=new Array(y),b=l[d]=new Array(y),g=c[d]=new Array(m);r(h,p,A,b,g,v,e);for(var w=0,E=0,C,_;w<y;++w)if(C=A[w]){for(w>=E&&(E=w+1);!(_=b[E])&&++E<y;);C._next=_||null}}return l=new ks(l,i),l._enter=u,l._exit=c,l}function V4e(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function W4e(){return new ks(this._exit||this._groups.map(QV),this._parents)}function Q4e(n,e,r){var i=this.enter(),o=this,s=this.exit();return typeof n=="function"?(i=n(i),i&&(i=i.selection())):i=i.append(n+""),e!=null&&(o=e(o),o&&(o=o.selection())),r==null?s.remove():r(s),i&&o?i.merge(o).order():o}function K4e(n){for(var e=n.selection?n.selection():n,r=this._groups,i=e._groups,o=r.length,s=i.length,l=Math.min(o,s),u=new Array(o),c=0;c<l;++c)for(var d=r[c],h=i[c],p=d.length,m=u[c]=new Array(p),v,y=0;y<p;++y)(v=d[y]||h[y])&&(m[y]=v);for(;c<o;++c)u[c]=r[c];return new ks(u,this._parents)}function X4e(){for(var n=this._groups,e=-1,r=n.length;++e<r;)for(var i=n[e],o=i.length-1,s=i[o],l;--o>=0;)(l=i[o])&&(s&&l.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(l,s),s=l);return this}function q4e(n){n||(n=Y4e);function e(p,m){return p&&m?n(p.__data__,m.__data__):!p-!m}for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s){for(var l=r[s],u=l.length,c=o[s]=new Array(u),d,h=0;h<u;++h)(d=l[h])&&(c[h]=d);c.sort(e)}return new ks(o,this._parents).order()}function Y4e(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function J4e(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function Z4e(){return Array.from(this)}function eNe(){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,s=i.length;o<s;++o){var l=i[o];if(l)return l}return null}function tNe(){let n=0;for(const e of this)++n;return n}function nNe(){return!this.node()}function rNe(n){for(var e=this._groups,r=0,i=e.length;r<i;++r)for(var o=e[r],s=0,l=o.length,u;s<l;++s)(u=o[s])&&n.call(u,u.__data__,s,o);return this}function iNe(n){return function(){this.removeAttribute(n)}}function oNe(n){return function(){this.removeAttributeNS(n.space,n.local)}}function aNe(n,e){return function(){this.setAttribute(n,e)}}function sNe(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function lNe(n,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(n):this.setAttribute(n,r)}}function cNe(n,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,r)}}function uNe(n,e){var r=ow(n);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((e==null?r.local?oNe:iNe:typeof e=="function"?r.local?cNe:lNe:r.local?sNe:aNe)(r,e))}function KV(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function dNe(n){return function(){this.style.removeProperty(n)}}function fNe(n,e,r){return function(){this.style.setProperty(n,e,r)}}function hNe(n,e,r){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(n):this.style.setProperty(n,i,r)}}function pNe(n,e,r){return arguments.length>1?this.each((e==null?dNe:typeof e=="function"?hNe:fNe)(n,e,r??"")):fg(this.node(),n)}function fg(n,e){return n.style.getPropertyValue(e)||KV(n).getComputedStyle(n,null).getPropertyValue(e)}function mNe(n){return function(){delete this[n]}}function gNe(n,e){return function(){this[n]=e}}function vNe(n,e){return function(){var r=e.apply(this,arguments);r==null?delete this[n]:this[n]=r}}function ANe(n,e){return arguments.length>1?this.each((e==null?mNe:typeof e=="function"?vNe:gNe)(n,e)):this.node()[n]}function XV(n){return n.trim().split(/^|\s+/)}function kL(n){return n.classList||new qV(n)}function qV(n){this._node=n,this._names=XV(n.getAttribute("class")||"")}qV.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function YV(n,e){for(var r=kL(n),i=-1,o=e.length;++i<o;)r.add(e[i])}function JV(n,e){for(var r=kL(n),i=-1,o=e.length;++i<o;)r.remove(e[i])}function yNe(n){return function(){YV(this,n)}}function bNe(n){return function(){JV(this,n)}}function xNe(n,e){return function(){(e.apply(this,arguments)?YV:JV)(this,n)}}function ENe(n,e){var r=XV(n+"");if(arguments.length<2){for(var i=kL(this.node()),o=-1,s=r.length;++o<s;)if(!i.contains(r[o]))return!1;return!0}return this.each((typeof e=="function"?xNe:e?yNe:bNe)(r,e))}function CNe(){this.textContent=""}function wNe(n){return function(){this.textContent=n}}function SNe(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function _Ne(n){return arguments.length?this.each(n==null?CNe:(typeof n=="function"?SNe:wNe)(n)):this.node().textContent}function MNe(){this.innerHTML=""}function TNe(n){return function(){this.innerHTML=n}}function RNe(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function INe(n){return arguments.length?this.each(n==null?MNe:(typeof n=="function"?RNe:TNe)(n)):this.node().innerHTML}function PNe(){this.nextSibling&&this.parentNode.appendChild(this)}function LNe(){return this.each(PNe)}function BNe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ONe(){return this.each(BNe)}function DNe(n){var e=typeof n=="function"?n:jV(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function NNe(){return null}function kNe(n,e){var r=typeof n=="function"?n:jV(n),i=e==null?NNe:typeof e=="function"?e:NL(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)})}function FNe(){var n=this.parentNode;n&&n.removeChild(this)}function UNe(){return this.each(FNe)}function zNe(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function $Ne(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function HNe(n){return this.select(n?$Ne:zNe)}function jNe(n){return arguments.length?this.property("__data__",n):this.node().__data__}function GNe(n){return function(e){n.call(this,e,this.__data__)}}function VNe(n){return n.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");return i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),{type:e,name:r}})}function WNe(n){return function(){var e=this.__on;if(e){for(var r=0,i=-1,o=e.length,s;r<o;++r)s=e[r],(!n.type||s.type===n.type)&&s.name===n.name?this.removeEventListener(s.type,s.listener,s.options):e[++i]=s;++i?e.length=i:delete this.__on}}}function QNe(n,e,r){return function(){var i=this.__on,o,s=GNe(e);if(i){for(var l=0,u=i.length;l<u;++l)if((o=i[l]).type===n.type&&o.name===n.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=s,o.options=r),o.value=e;return}}this.addEventListener(n.type,s,r),o={type:n.type,name:n.name,value:e,listener:s,options:r},i?i.push(o):this.__on=[o]}}function KNe(n,e,r){var i=VNe(n+""),o,s=i.length,l;if(arguments.length<2){var u=this.node().__on;if(u){for(var c=0,d=u.length,h;c<d;++c)for(o=0,h=u[c];o<s;++o)if((l=i[o]).type===h.type&&l.name===h.name)return h.value}return}for(u=e?QNe:WNe,o=0;o<s;++o)this.each(u(i[o],e,r));return this}function ZV(n,e,r){var i=KV(n),o=i.CustomEvent;typeof o=="function"?o=new o(e,r):(o=i.document.createEvent("Event"),r?(o.initEvent(e,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(e,!1,!1)),n.dispatchEvent(o)}function XNe(n,e){return function(){return ZV(this,n,e)}}function qNe(n,e){return function(){return ZV(this,n,e.apply(this,arguments))}}function YNe(n,e){return this.each((typeof e=="function"?qNe:XNe)(n,e))}function*JNe(){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,s=i.length,l;o<s;++o)(l=i[o])&&(yield l)}var eW=[null];function ks(n,e){this._groups=n,this._parents=e}function uy(){return new ks([[document.documentElement]],eW)}function ZNe(){return this}ks.prototype=uy.prototype={constructor:ks,select:S4e,selectAll:R4e,selectChild:B4e,selectChildren:k4e,filter:F4e,data:G4e,enter:U4e,exit:W4e,join:Q4e,merge:K4e,selection:ZNe,order:X4e,sort:q4e,call:J4e,nodes:Z4e,node:eNe,size:tNe,empty:nNe,each:rNe,attr:uNe,style:pNe,property:ANe,classed:ENe,text:_Ne,html:INe,raise:LNe,lower:ONe,append:DNe,insert:kNe,remove:UNe,clone:HNe,datum:jNe,on:KNe,dispatch:YNe,[Symbol.iterator]:JNe};function zl(n){return typeof n=="string"?new ks([[document.querySelector(n)]],[document.documentElement]):new ks([[n]],eW)}function eke(n){let e;for(;e=n.sourceEvent;)n=e;return n}function du(n,e){if(n=eke(n),e===void 0&&(e=n.currentTarget),e){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var i=r.createSVGPoint();return i.x=n.clientX,i.y=n.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[n.clientX-o.left-e.clientLeft,n.clientY-o.top-e.clientTop]}}return[n.pageX,n.pageY]}const tke={passive:!1},LA={capture:!0,passive:!1};function _M(n){n.stopImmediatePropagation()}function Um(n){n.preventDefault(),n.stopImmediatePropagation()}function tW(n){var e=n.document.documentElement,r=zl(n).on("dragstart.drag",Um,LA);"onselectstart"in e?r.on("selectstart.drag",Um,LA):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function nW(n,e){var r=n.document.documentElement,i=zl(n).on("dragstart.drag",null);e&&(i.on("click.drag",Um,LA),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const U1=n=>()=>n;function IR(n,{sourceEvent:e,subject:r,target:i,identifier:o,active:s,x:l,y:u,dx:c,dy:d,dispatch:h}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:h}})}IR.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function nke(n){return!n.ctrlKey&&!n.button}function rke(){return this.parentNode}function ike(n,e){return e??{x:n.x,y:n.y}}function oke(){return navigator.maxTouchPoints||"ontouchstart"in this}function ake(){var n=nke,e=rke,r=ike,i=oke,o={},s=ay("start","drag","end"),l=0,u,c,d,h,p=0;function m(C){C.on("mousedown.drag",v).filter(i).on("touchstart.drag",b).on("touchmove.drag",g,tke).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(C,_){if(!(h||!n.call(this,C,_))){var P=E(this,e.call(this,C,_),C,_,"mouse");P&&(zl(C.view).on("mousemove.drag",y,LA).on("mouseup.drag",A,LA),tW(C.view),_M(C),d=!1,u=C.clientX,c=C.clientY,P("start",C))}}function y(C){if(Um(C),!d){var _=C.clientX-u,P=C.clientY-c;d=_*_+P*P>p}o.mouse("drag",C)}function A(C){zl(C.view).on("mousemove.drag mouseup.drag",null),nW(C.view,d),Um(C),o.mouse("end",C)}function b(C,_){if(n.call(this,C,_)){var P=C.changedTouches,R=e.call(this,C,_),L=P.length,T,D;for(T=0;T<L;++T)(D=E(this,R,C,_,P[T].identifier,P[T]))&&(_M(C),D("start",C,P[T]))}}function g(C){var _=C.changedTouches,P=_.length,R,L;for(R=0;R<P;++R)(L=o[_[R].identifier])&&(Um(C),L("drag",C,_[R]))}function w(C){var _=C.changedTouches,P=_.length,R,L;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),R=0;R<P;++R)(L=o[_[R].identifier])&&(_M(C),L("end",C,_[R]))}function E(C,_,P,R,L,T){var D=s.copy(),H=du(T||P,_),V,B,O;if((O=r.call(C,new IR("beforestart",{sourceEvent:P,target:m,identifier:L,active:l,x:H[0],y:H[1],dx:0,dy:0,dispatch:D}),R))!=null)return V=O.x-H[0]||0,B=O.y-H[1]||0,function F(N,z,j){var G=H,Q;switch(N){case"start":o[L]=F,Q=l++;break;case"end":delete o[L],--l;case"drag":H=du(j||z,_),Q=l;break}D.call(N,C,new IR(N,{sourceEvent:z,subject:O,target:m,identifier:L,active:Q,x:H[0]+V,y:H[1]+B,dx:H[0]-G[0],dy:H[1]-G[1],dispatch:D}),R)}}return m.filter=function(C){return arguments.length?(n=typeof C=="function"?C:U1(!!C),m):n},m.container=function(C){return arguments.length?(e=typeof C=="function"?C:U1(C),m):e},m.subject=function(C){return arguments.length?(r=typeof C=="function"?C:U1(C),m):r},m.touchable=function(C){return arguments.length?(i=typeof C=="function"?C:U1(!!C),m):i},m.on=function(){var C=s.on.apply(s,arguments);return C===s?m:C},m.clickDistance=function(C){return arguments.length?(p=(C=+C)*C,m):Math.sqrt(p)},m}var ske=ay("start","end","cancel","interrupt"),lke=[],rW=0,O6=1,PR=2,vx=3,D6=4,LR=5,Ax=6;function aw(n,e,r,i,o,s){var l=n.__transition;if(!l)n.__transition={};else if(r in l)return;cke(n,r,{name:e,index:i,group:o,on:ske,tween:lke,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:rW})}function FL(n,e){var r=ec(n,e);if(r.state>rW)throw new Error("too late; already scheduled");return r}function Mc(n,e){var r=ec(n,e);if(r.state>vx)throw new Error("too late; already running");return r}function ec(n,e){var r=n.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function cke(n,e,r){var i=n.__transition,o;i[e]=r,r.timer=wL(s,0,r.time);function s(d){r.state=O6,r.timer.restart(l,r.delay,r.time),r.delay<=d&&l(d-r.delay)}function l(d){var h,p,m,v;if(r.state!==O6)return c();for(h in i)if(v=i[h],v.name===r.name){if(v.state===vx)return R8(l);v.state===D6?(v.state=Ax,v.timer.stop(),v.on.call("interrupt",n,n.__data__,v.index,v.group),delete i[h]):+h<e&&(v.state=Ax,v.timer.stop(),v.on.call("cancel",n,n.__data__,v.index,v.group),delete i[h])}if(R8(function(){r.state===vx&&(r.state=D6,r.timer.restart(u,r.delay,r.time),u(d))}),r.state=PR,r.on.call("start",n,n.__data__,r.index,r.group),r.state===PR){for(r.state=vx,o=new Array(m=r.tween.length),h=0,p=-1;h<m;++h)(v=r.tween[h].value.call(n,n.__data__,r.index,r.group))&&(o[++p]=v);o.length=p+1}}function u(d){for(var h=d<r.duration?r.ease.call(null,d/r.duration):(r.timer.restart(c),r.state=LR,1),p=-1,m=o.length;++p<m;)o[p].call(n,h);r.state===LR&&(r.on.call("end",n,n.__data__,r.index,r.group),c())}function c(){r.state=Ax,r.timer.stop(),delete i[e];for(var d in i)return;delete n.__transition}}function yx(n,e){var r=n.__transition,i,o,s=!0,l;if(r){e=e==null?null:e+"";for(l in r){if((i=r[l]).name!==e){s=!1;continue}o=i.state>PR&&i.state<LR,i.state=Ax,i.timer.stop(),i.on.call(o?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete r[l]}s&&delete n.__transition}}function uke(n){return this.each(function(){yx(this,n)})}function dke(n,e){var r,i;return function(){var o=Mc(this,n),s=o.tween;if(s!==r){i=r=s;for(var l=0,u=i.length;l<u;++l)if(i[l].name===e){i=i.slice(),i.splice(l,1);break}}o.tween=i}}function fke(n,e,r){var i,o;if(typeof r!="function")throw new Error;return function(){var s=Mc(this,n),l=s.tween;if(l!==i){o=(i=l).slice();for(var u={name:e,value:r},c=0,d=o.length;c<d;++c)if(o[c].name===e){o[c]=u;break}c===d&&o.push(u)}s.tween=o}}function hke(n,e){var r=this._id;if(n+="",arguments.length<2){for(var i=ec(this.node(),r).tween,o=0,s=i.length,l;o<s;++o)if((l=i[o]).name===n)return l.value;return null}return this.each((e==null?dke:fke)(r,n,e))}function UL(n,e,r){var i=n._id;return n.each(function(){var o=Mc(this,i);(o.value||(o.value={}))[e]=r.apply(this,arguments)}),function(o){return ec(o,i).value[e]}}function iW(n,e){var r;return(typeof e=="number"?_d:e instanceof PA?n6:(r=PA(e))?(e=r,n6):zBe)(n,e)}function pke(n){return function(){this.removeAttribute(n)}}function mke(n){return function(){this.removeAttributeNS(n.space,n.local)}}function gke(n,e,r){var i,o=r+"",s;return function(){var l=this.getAttribute(n);return l===o?null:l===i?s:s=e(i=l,r)}}function vke(n,e,r){var i,o=r+"",s;return function(){var l=this.getAttributeNS(n.space,n.local);return l===o?null:l===i?s:s=e(i=l,r)}}function Ake(n,e,r){var i,o,s;return function(){var l,u=r(this),c;return u==null?void this.removeAttribute(n):(l=this.getAttribute(n),c=u+"",l===c?null:l===i&&c===o?s:(o=c,s=e(i=l,u)))}}function yke(n,e,r){var i,o,s;return function(){var l,u=r(this),c;return u==null?void this.removeAttributeNS(n.space,n.local):(l=this.getAttributeNS(n.space,n.local),c=u+"",l===c?null:l===i&&c===o?s:(o=c,s=e(i=l,u)))}}function bke(n,e){var r=ow(n),i=r==="transform"?GBe:iW;return this.attrTween(n,typeof e=="function"?(r.local?yke:Ake)(r,i,UL(this,"attr."+n,e)):e==null?(r.local?mke:pke)(r):(r.local?vke:gke)(r,i,e))}function xke(n,e){return function(r){this.setAttribute(n,e.call(this,r))}}function Eke(n,e){return function(r){this.setAttributeNS(n.space,n.local,e.call(this,r))}}function Cke(n,e){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&Eke(n,s)),r}return o._value=e,o}function wke(n,e){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&xke(n,s)),r}return o._value=e,o}function Ske(n,e){var r="attr."+n;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var i=ow(n);return this.tween(r,(i.local?Cke:wke)(i,e))}function _ke(n,e){return function(){FL(this,n).delay=+e.apply(this,arguments)}}function Mke(n,e){return e=+e,function(){FL(this,n).delay=e}}function Tke(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?_ke:Mke)(e,n)):ec(this.node(),e).delay}function Rke(n,e){return function(){Mc(this,n).duration=+e.apply(this,arguments)}}function Ike(n,e){return e=+e,function(){Mc(this,n).duration=e}}function Pke(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?Rke:Ike)(e,n)):ec(this.node(),e).duration}function Lke(n,e){if(typeof e!="function")throw new Error;return function(){Mc(this,n).ease=e}}function Bke(n){var e=this._id;return arguments.length?this.each(Lke(e,n)):ec(this.node(),e).ease}function Oke(n,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;Mc(this,n).ease=r}}function Dke(n){if(typeof n!="function")throw new Error;return this.each(Oke(this._id,n))}function Nke(n){typeof n!="function"&&(n=VV(n));for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o)for(var s=e[o],l=s.length,u=i[o]=[],c,d=0;d<l;++d)(c=s[d])&&n.call(c,c.__data__,d,s)&&u.push(c);return new Fu(i,this._parents,this._name,this._id)}function kke(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,r=n._groups,i=e.length,o=r.length,s=Math.min(i,o),l=new Array(i),u=0;u<s;++u)for(var c=e[u],d=r[u],h=c.length,p=l[u]=new Array(h),m,v=0;v<h;++v)(m=c[v]||d[v])&&(p[v]=m);for(;u<i;++u)l[u]=e[u];return new Fu(l,this._parents,this._name,this._id)}function Fke(n){return(n+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function Uke(n,e,r){var i,o,s=Fke(e)?FL:Mc;return function(){var l=s(this,n),u=l.on;u!==i&&(o=(i=u).copy()).on(e,r),l.on=o}}function zke(n,e){var r=this._id;return arguments.length<2?ec(this.node(),r).on.on(n):this.each(Uke(r,n,e))}function $ke(n){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==n)return;e&&e.removeChild(this)}}function Hke(){return this.on("end.remove",$ke(this._id))}function jke(n){var e=this._name,r=this._id;typeof n!="function"&&(n=NL(n));for(var i=this._groups,o=i.length,s=new Array(o),l=0;l<o;++l)for(var u=i[l],c=u.length,d=s[l]=new Array(c),h,p,m=0;m<c;++m)(h=u[m])&&(p=n.call(h,h.__data__,m,u))&&("__data__"in h&&(p.__data__=h.__data__),d[m]=p,aw(d[m],e,r,m,d,ec(h,r)));return new Fu(s,this._parents,e,r)}function Gke(n){var e=this._name,r=this._id;typeof n!="function"&&(n=GV(n));for(var i=this._groups,o=i.length,s=[],l=[],u=0;u<o;++u)for(var c=i[u],d=c.length,h,p=0;p<d;++p)if(h=c[p]){for(var m=n.call(h,h.__data__,p,c),v,y=ec(h,r),A=0,b=m.length;A<b;++A)(v=m[A])&&aw(v,e,r,A,m,y);s.push(m),l.push(h)}return new Fu(s,l,e,r)}var Vke=uy.prototype.constructor;function Wke(){return new Vke(this._groups,this._parents)}function Qke(n,e){var r,i,o;return function(){var s=fg(this,n),l=(this.style.removeProperty(n),fg(this,n));return s===l?null:s===r&&l===i?o:o=e(r=s,i=l)}}function oW(n){return function(){this.style.removeProperty(n)}}function Kke(n,e,r){var i,o=r+"",s;return function(){var l=fg(this,n);return l===o?null:l===i?s:s=e(i=l,r)}}function Xke(n,e,r){var i,o,s;return function(){var l=fg(this,n),u=r(this),c=u+"";return u==null&&(c=u=(this.style.removeProperty(n),fg(this,n))),l===c?null:l===i&&c===o?s:(o=c,s=e(i=l,u))}}function qke(n,e){var r,i,o,s="style."+e,l="end."+s,u;return function(){var c=Mc(this,n),d=c.on,h=c.value[s]==null?u||(u=oW(e)):void 0;(d!==r||o!==h)&&(i=(r=d).copy()).on(l,o=h),c.on=i}}function Yke(n,e,r){var i=(n+="")=="transform"?jBe:iW;return e==null?this.styleTween(n,Qke(n,i)).on("end.style."+n,oW(n)):typeof e=="function"?this.styleTween(n,Xke(n,i,UL(this,"style."+n,e))).each(qke(this._id,n)):this.styleTween(n,Kke(n,i,e),r).on("end.style."+n,null)}function Jke(n,e,r){return function(i){this.style.setProperty(n,e.call(this,i),r)}}function Zke(n,e,r){var i,o;function s(){var l=e.apply(this,arguments);return l!==o&&(i=(o=l)&&Jke(n,l,r)),i}return s._value=e,s}function eFe(n,e,r){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,Zke(n,e,r??""))}function tFe(n){return function(){this.textContent=n}}function nFe(n){return function(){var e=n(this);this.textContent=e??""}}function rFe(n){return this.tween("text",typeof n=="function"?nFe(UL(this,"text",n)):tFe(n==null?"":n+""))}function iFe(n){return function(e){this.textContent=n.call(this,e)}}function oFe(n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&iFe(o)),e}return i._value=n,i}function aFe(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;return this.tween(e,oFe(n))}function sFe(){for(var n=this._name,e=this._id,r=aW(),i=this._groups,o=i.length,s=0;s<o;++s)for(var l=i[s],u=l.length,c,d=0;d<u;++d)if(c=l[d]){var h=ec(c,e);aw(c,n,r,d,l,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Fu(i,this._parents,n,r)}function lFe(){var n,e,r=this,i=r._id,o=r.size();return new Promise(function(s,l){var u={value:l},c={value:function(){--o===0&&s()}};r.each(function(){var d=Mc(this,i),h=d.on;h!==n&&(e=(n=h).copy(),e._.cancel.push(u),e._.interrupt.push(u),e._.end.push(c)),d.on=e}),o===0&&s()})}var cFe=0;function Fu(n,e,r,i){this._groups=n,this._parents=e,this._name=r,this._id=i}function aW(){return++cFe}var ou=uy.prototype;Fu.prototype={constructor:Fu,select:jke,selectAll:Gke,selectChild:ou.selectChild,selectChildren:ou.selectChildren,filter:Nke,merge:kke,selection:Wke,transition:sFe,call:ou.call,nodes:ou.nodes,node:ou.node,size:ou.size,empty:ou.empty,each:ou.each,on:zke,attr:bke,attrTween:Ske,style:Yke,styleTween:eFe,text:rFe,textTween:aFe,remove:Hke,tween:hke,delay:Tke,duration:Pke,ease:Bke,easeVarying:Dke,end:lFe,[Symbol.iterator]:ou[Symbol.iterator]};function uFe(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var dFe={time:null,delay:0,duration:250,ease:uFe};function fFe(n,e){for(var r;!(r=n.__transition)||!(r=r[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return r}function hFe(n){var e,r;n instanceof Fu?(e=n._id,n=n._name):(e=aW(),(r=dFe).time=CL(),n=n==null?null:n+"");for(var i=this._groups,o=i.length,s=0;s<o;++s)for(var l=i[s],u=l.length,c,d=0;d<u;++d)(c=l[d])&&aw(c,n,e,d,l,r||fFe(c,e));return new Fu(i,this._parents,n,e)}uy.prototype.interrupt=uke;uy.prototype.transition=hFe;const z1=n=>()=>n;function pFe(n,{sourceEvent:e,target:r,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function bu(n,e,r){this.k=n,this.x=e,this.y=r}bu.prototype={constructor:bu,scale:function(n){return n===1?this:new bu(this.k*n,this.x,this.y)},translate:function(n,e){return n===0&e===0?this:new bu(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var zL=new bu(1,0,0);dc.prototype=bu.prototype;function dc(n){for(;!n.__zoom;)if(!(n=n.parentNode))return zL;return n.__zoom}function MM(n){n.stopImmediatePropagation()}function e0(n){n.preventDefault(),n.stopImmediatePropagation()}function mFe(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function gFe(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function N6(){return this.__zoom||zL}function vFe(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function AFe(){return navigator.maxTouchPoints||"ontouchstart"in this}function yFe(n,e,r){var i=n.invertX(e[0][0])-r[0][0],o=n.invertX(e[1][0])-r[1][0],s=n.invertY(e[0][1])-r[0][1],l=n.invertY(e[1][1])-r[1][1];return n.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),l>s?(s+l)/2:Math.min(0,s)||Math.max(0,l))}function bFe(){var n=mFe,e=gFe,r=yFe,i=vFe,o=AFe,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],u=250,c=KBe,d=ay("start","zoom","end"),h,p,m,v=500,y=150,A=0,b=10;function g(O){O.property("__zoom",N6).on("wheel.zoom",L,{passive:!1}).on("mousedown.zoom",T).on("dblclick.zoom",D).filter(o).on("touchstart.zoom",H).on("touchmove.zoom",V).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(O,F,N,z){var j=O.selection?O.selection():O;j.property("__zoom",N6),O!==j?_(O,F,N,z):j.interrupt().each(function(){P(this,arguments).event(z).start().zoom(null,typeof F=="function"?F.apply(this,arguments):F).end()})},g.scaleBy=function(O,F,N,z){g.scaleTo(O,function(){var j=this.__zoom.k,G=typeof F=="function"?F.apply(this,arguments):F;return j*G},N,z)},g.scaleTo=function(O,F,N,z){g.transform(O,function(){var j=e.apply(this,arguments),G=this.__zoom,Q=N==null?C(j):typeof N=="function"?N.apply(this,arguments):N,X=G.invert(Q),J=typeof F=="function"?F.apply(this,arguments):F;return r(E(w(G,J),Q,X),j,l)},N,z)},g.translateBy=function(O,F,N,z){g.transform(O,function(){return r(this.__zoom.translate(typeof F=="function"?F.apply(this,arguments):F,typeof N=="function"?N.apply(this,arguments):N),e.apply(this,arguments),l)},null,z)},g.translateTo=function(O,F,N,z,j){g.transform(O,function(){var G=e.apply(this,arguments),Q=this.__zoom,X=z==null?C(G):typeof z=="function"?z.apply(this,arguments):z;return r(zL.translate(X[0],X[1]).scale(Q.k).translate(typeof F=="function"?-F.apply(this,arguments):-F,typeof N=="function"?-N.apply(this,arguments):-N),G,l)},z,j)};function w(O,F){return F=Math.max(s[0],Math.min(s[1],F)),F===O.k?O:new bu(F,O.x,O.y)}function E(O,F,N){var z=F[0]-N[0]*O.k,j=F[1]-N[1]*O.k;return z===O.x&&j===O.y?O:new bu(O.k,z,j)}function C(O){return[(+O[0][0]+ +O[1][0])/2,(+O[0][1]+ +O[1][1])/2]}function _(O,F,N,z){O.on("start.zoom",function(){P(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){P(this,arguments).event(z).end()}).tween("zoom",function(){var j=this,G=arguments,Q=P(j,G).event(z),X=e.apply(j,G),J=N==null?C(X):typeof N=="function"?N.apply(j,G):N,Z=Math.max(X[1][0]-X[0][0],X[1][1]-X[0][1]),oe=j.__zoom,ce=typeof F=="function"?F.apply(j,G):F,Be=c(oe.invert(J).concat(Z/oe.k),ce.invert(J).concat(Z/ce.k));return function(ge){if(ge===1)ge=ce;else{var Re=Be(ge),$e=Z/Re[2];ge=new bu($e,J[0]-Re[0]*$e,J[1]-Re[1]*$e)}Q.zoom(null,ge)}})}function P(O,F,N){return!N&&O.__zooming||new R(O,F)}function R(O,F){this.that=O,this.args=F,this.active=0,this.sourceEvent=null,this.extent=e.apply(O,F),this.taps=0}R.prototype={event:function(O){return O&&(this.sourceEvent=O),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(O,F){return this.mouse&&O!=="mouse"&&(this.mouse[1]=F.invert(this.mouse[0])),this.touch0&&O!=="touch"&&(this.touch0[1]=F.invert(this.touch0[0])),this.touch1&&O!=="touch"&&(this.touch1[1]=F.invert(this.touch1[0])),this.that.__zoom=F,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(O){var F=zl(this.that).datum();d.call(O,this.that,new pFe(O,{sourceEvent:this.sourceEvent,target:g,type:O,transform:this.that.__zoom,dispatch:d}),F)}};function L(O,...F){if(!n.apply(this,arguments))return;var N=P(this,F).event(O),z=this.__zoom,j=Math.max(s[0],Math.min(s[1],z.k*Math.pow(2,i.apply(this,arguments)))),G=du(O);if(N.wheel)(N.mouse[0][0]!==G[0]||N.mouse[0][1]!==G[1])&&(N.mouse[1]=z.invert(N.mouse[0]=G)),clearTimeout(N.wheel);else{if(z.k===j)return;N.mouse=[G,z.invert(G)],yx(this),N.start()}e0(O),N.wheel=setTimeout(Q,y),N.zoom("mouse",r(E(w(z,j),N.mouse[0],N.mouse[1]),N.extent,l));function Q(){N.wheel=null,N.end()}}function T(O,...F){if(m||!n.apply(this,arguments))return;var N=O.currentTarget,z=P(this,F,!0).event(O),j=zl(O.view).on("mousemove.zoom",J,!0).on("mouseup.zoom",Z,!0),G=du(O,N),Q=O.clientX,X=O.clientY;tW(O.view),MM(O),z.mouse=[G,this.__zoom.invert(G)],yx(this),z.start();function J(oe){if(e0(oe),!z.moved){var ce=oe.clientX-Q,Be=oe.clientY-X;z.moved=ce*ce+Be*Be>A}z.event(oe).zoom("mouse",r(E(z.that.__zoom,z.mouse[0]=du(oe,N),z.mouse[1]),z.extent,l))}function Z(oe){j.on("mousemove.zoom mouseup.zoom",null),nW(oe.view,z.moved),e0(oe),z.event(oe).end()}}function D(O,...F){if(n.apply(this,arguments)){var N=this.__zoom,z=du(O.changedTouches?O.changedTouches[0]:O,this),j=N.invert(z),G=N.k*(O.shiftKey?.5:2),Q=r(E(w(N,G),z,j),e.apply(this,F),l);e0(O),u>0?zl(this).transition().duration(u).call(_,Q,z,O):zl(this).call(g.transform,Q,z,O)}}function H(O,...F){if(n.apply(this,arguments)){var N=O.touches,z=N.length,j=P(this,F,O.changedTouches.length===z).event(O),G,Q,X,J;for(MM(O),Q=0;Q<z;++Q)X=N[Q],J=du(X,this),J=[J,this.__zoom.invert(J),X.identifier],j.touch0?!j.touch1&&j.touch0[2]!==J[2]&&(j.touch1=J,j.taps=0):(j.touch0=J,G=!0,j.taps=1+!!h);h&&(h=clearTimeout(h)),G&&(j.taps<2&&(p=J[0],h=setTimeout(function(){h=null},v)),yx(this),j.start())}}function V(O,...F){if(this.__zooming){var N=P(this,F).event(O),z=O.changedTouches,j=z.length,G,Q,X,J;for(e0(O),G=0;G<j;++G)Q=z[G],X=du(Q,this),N.touch0&&N.touch0[2]===Q.identifier?N.touch0[0]=X:N.touch1&&N.touch1[2]===Q.identifier&&(N.touch1[0]=X);if(Q=N.that.__zoom,N.touch1){var Z=N.touch0[0],oe=N.touch0[1],ce=N.touch1[0],Be=N.touch1[1],ge=(ge=ce[0]-Z[0])*ge+(ge=ce[1]-Z[1])*ge,Re=(Re=Be[0]-oe[0])*Re+(Re=Be[1]-oe[1])*Re;Q=w(Q,Math.sqrt(ge/Re)),X=[(Z[0]+ce[0])/2,(Z[1]+ce[1])/2],J=[(oe[0]+Be[0])/2,(oe[1]+Be[1])/2]}else if(N.touch0)X=N.touch0[0],J=N.touch0[1];else return;N.zoom("touch",r(E(Q,X,J),N.extent,l))}}function B(O,...F){if(this.__zooming){var N=P(this,F).event(O),z=O.changedTouches,j=z.length,G,Q;for(MM(O),m&&clearTimeout(m),m=setTimeout(function(){m=null},v),G=0;G<j;++G)Q=z[G],N.touch0&&N.touch0[2]===Q.identifier?delete N.touch0:N.touch1&&N.touch1[2]===Q.identifier&&delete N.touch1;if(N.touch1&&!N.touch0&&(N.touch0=N.touch1,delete N.touch1),N.touch0)N.touch0[1]=this.__zoom.invert(N.touch0[0]);else if(N.end(),N.taps===2&&(Q=du(Q,this),Math.hypot(p[0]-Q[0],p[1]-Q[1])<b)){var X=zl(this).on("dblclick.zoom");X&&X.apply(this,arguments)}}}return g.wheelDelta=function(O){return arguments.length?(i=typeof O=="function"?O:z1(+O),g):i},g.filter=function(O){return arguments.length?(n=typeof O=="function"?O:z1(!!O),g):n},g.touchable=function(O){return arguments.length?(o=typeof O=="function"?O:z1(!!O),g):o},g.extent=function(O){return arguments.length?(e=typeof O=="function"?O:z1([[+O[0][0],+O[0][1]],[+O[1][0],+O[1][1]]]),g):e},g.scaleExtent=function(O){return arguments.length?(s[0]=+O[0],s[1]=+O[1],g):[s[0],s[1]]},g.translateExtent=function(O){return arguments.length?(l[0][0]=+O[0][0],l[1][0]=+O[1][0],l[0][1]=+O[0][1],l[1][1]=+O[1][1],g):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},g.constrain=function(O){return arguments.length?(r=O,g):r},g.duration=function(O){return arguments.length?(u=+O,g):u},g.interpolate=function(O){return arguments.length?(c=O,g):c},g.on=function(){var O=d.on.apply(d,arguments);return O===d?g:O},g.clickDistance=function(O){return arguments.length?(A=(O=+O)*O,g):Math.sqrt(A)},g.tapDistance=function(O){return arguments.length?(b=+O,g):b},g}var xFe="Expected a function";function EFe(n,e,r){var i=!0,o=!0;if(typeof n!="function")throw new TypeError(xFe);return _E(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),fV(n,e,{leading:i,maxWait:e,trailing:o})}function CFe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function k6(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,PFe(i.key),i)}}function wFe(n,e,r){return e&&k6(n.prototype,e),r&&k6(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}function SFe(n){return _Fe(n)||MFe(n)||TFe(n)||RFe()}function _Fe(n){if(Array.isArray(n))return BR(n)}function MFe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function TFe(n,e){if(n){if(typeof n=="string")return BR(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BR(n,e)}}function BR(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function RFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IFe(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function PFe(n){var e=IFe(n,"string");return typeof e=="symbol"?e:String(e)}var LFe=123,BFe=function(e){return"#".concat(Math.min(e,Math.pow(2,24)).toString(16).padStart(6,"0"))},sW=function(e,r,i){return(e<<16)+(r<<8)+i},OFe=function(e){var r=Lr(e).toRgb(),i=r.r,o=r.g,s=r.b;return sW(i,o,s)},F6=function(e,r){return e*LFe%Math.pow(2,r)},DFe=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;CFe(this,n),this.csBits=e,this.registry=["__reserved for background__"]}return wFe(n,[{key:"register",value:function(r){if(this.registry.length>=Math.pow(2,24-this.csBits))return null;var i=this.registry.length,o=F6(i,this.csBits),s=BFe(i+(o<<24-this.csBits));return this.registry.push(r),s}},{key:"lookup",value:function(r){var i=typeof r=="string"?OFe(r):sW.apply(void 0,SFe(r));if(!i)return null;var o=i&Math.pow(2,24-this.csBits)-1,s=i>>24-this.csBits&Math.pow(2,this.csBits)-1;return F6(o,this.csBits)!==s||o>=this.registry.length?null:this.registry[o]}}]),n}();const{abs:t0,cos:au,sin:Yp,acos:NFe,atan2:n0,sqrt:gd,pow:Ys}=Math;function r0(n){return n<0?-Ys(-n,1/3):Ys(n,1/3)}const lW=Math.PI,$1=2*lW,vd=lW/2,kFe=1e-6,TM=Number.MAX_SAFE_INTEGER||9007199254740991,RM=Number.MIN_SAFE_INTEGER||-9007199254740991,FFe={x:0,y:0,z:0},Xn={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(n,e){const r=e(n);let i=r.x*r.x+r.y*r.y;return typeof r.z<"u"&&(i+=r.z*r.z),gd(i)},compute:function(n,e,r){if(n===0)return e[0].t=0,e[0];const i=e.length-1;if(n===1)return e[i].t=1,e[i];const o=1-n;let s=e;if(i===0)return e[0].t=n,e[0];if(i===1){const u={x:o*s[0].x+n*s[1].x,y:o*s[0].y+n*s[1].y,t:n};return r&&(u.z=o*s[0].z+n*s[1].z),u}if(i<4){let u=o*o,c=n*n,d,h,p,m=0;i===2?(s=[s[0],s[1],s[2],FFe],d=u,h=o*n*2,p=c):i===3&&(d=u*o,h=u*n*3,p=o*c*3,m=n*c);const v={x:d*s[0].x+h*s[1].x+p*s[2].x+m*s[3].x,y:d*s[0].y+h*s[1].y+p*s[2].y+m*s[3].y,t:n};return r&&(v.z=d*s[0].z+h*s[1].z+p*s[2].z+m*s[3].z),v}const l=JSON.parse(JSON.stringify(e));for(;l.length>1;){for(let u=0;u<l.length-1;u++)l[u]={x:l[u].x+(l[u+1].x-l[u].x)*n,y:l[u].y+(l[u+1].y-l[u].y)*n},typeof l[u].z<"u"&&(l[u].z=l[u].z+(l[u+1].z-l[u].z)*n);l.splice(l.length-1,1)}return l[0].t=n,l[0]},computeWithRatios:function(n,e,r,i){const o=1-n,s=r,l=e;let u=s[0],c=s[1],d=s[2],h=s[3],p;if(u*=o,c*=n,l.length===2)return p=u+c,{x:(u*l[0].x+c*l[1].x)/p,y:(u*l[0].y+c*l[1].y)/p,z:i?(u*l[0].z+c*l[1].z)/p:!1,t:n};if(u*=o,c*=2*o,d*=n*n,l.length===3)return p=u+c+d,{x:(u*l[0].x+c*l[1].x+d*l[2].x)/p,y:(u*l[0].y+c*l[1].y+d*l[2].y)/p,z:i?(u*l[0].z+c*l[1].z+d*l[2].z)/p:!1,t:n};if(u*=o,c*=1.5*o,d*=3*o,h*=n*n*n,l.length===4)return p=u+c+d+h,{x:(u*l[0].x+c*l[1].x+d*l[2].x+h*l[3].x)/p,y:(u*l[0].y+c*l[1].y+d*l[2].y+h*l[3].y)/p,z:i?(u*l[0].z+c*l[1].z+d*l[2].z+h*l[3].z)/p:!1,t:n}},derive:function(n,e){const r=[];for(let i=n,o=i.length,s=o-1;o>1;o--,s--){const l=[];for(let u=0,c;u<s;u++)c={x:s*(i[u+1].x-i[u].x),y:s*(i[u+1].y-i[u].y)},e&&(c.z=s*(i[u+1].z-i[u].z)),l.push(c);r.push(l),i=l}return r},between:function(n,e,r){return e<=n&&n<=r||Xn.approximately(n,e)||Xn.approximately(n,r)},approximately:function(n,e,r){return t0(n-e)<=(r||kFe)},length:function(n){const r=Xn.Tvalues.length;let i=0;for(let o=0,s;o<r;o++)s=.5*Xn.Tvalues[o]+.5,i+=Xn.Cvalues[o]*Xn.arcfn(s,n);return .5*i},map:function(n,e,r,i,o){const s=r-e,l=o-i,u=n-e,c=u/s;return i+l*c},lerp:function(n,e,r){const i={x:e.x+n*(r.x-e.x),y:e.y+n*(r.y-e.y)};return e.z!==void 0&&r.z!==void 0&&(i.z=e.z+n*(r.z-e.z)),i},pointToString:function(n){let e=n.x+"/"+n.y;return typeof n.z<"u"&&(e+="/"+n.z),e},pointsToString:function(n){return"["+n.map(Xn.pointToString).join(", ")+"]"},copy:function(n){return JSON.parse(JSON.stringify(n))},angle:function(n,e,r){const i=e.x-n.x,o=e.y-n.y,s=r.x-n.x,l=r.y-n.y,u=i*l-o*s,c=i*s+o*l;return n0(u,c)},round:function(n,e){const r=""+n,i=r.indexOf(".");return parseFloat(r.substring(0,i+1+e))},dist:function(n,e){const r=n.x-e.x,i=n.y-e.y;return gd(r*r+i*i)},closest:function(n,e){let r=Ys(2,63),i,o;return n.forEach(function(s,l){o=Xn.dist(e,s),o<r&&(r=o,i=l)}),{mdist:r,mpos:i}},abcratio:function(n,e){if(e!==2&&e!==3)return!1;if(typeof n>"u")n=.5;else if(n===0||n===1)return n;const r=Ys(n,e)+Ys(1-n,e),i=r-1;return t0(i/r)},projectionratio:function(n,e){if(e!==2&&e!==3)return!1;if(typeof n>"u")n=.5;else if(n===0||n===1)return n;const r=Ys(1-n,e),i=Ys(n,e)+r;return r/i},lli8:function(n,e,r,i,o,s,l,u){const c=(n*i-e*r)*(o-l)-(n-r)*(o*u-s*l),d=(n*i-e*r)*(s-u)-(e-i)*(o*u-s*l),h=(n-r)*(s-u)-(e-i)*(o-l);return h==0?!1:{x:c/h,y:d/h}},lli4:function(n,e,r,i){const o=n.x,s=n.y,l=e.x,u=e.y,c=r.x,d=r.y,h=i.x,p=i.y;return Xn.lli8(o,s,l,u,c,d,h,p)},lli:function(n,e){return Xn.lli4(n,n.c,e,e.c)},makeline:function(n,e){return new Zi(n.x,n.y,(n.x+e.x)/2,(n.y+e.y)/2,e.x,e.y)},findbbox:function(n){let e=TM,r=TM,i=RM,o=RM;return n.forEach(function(s){const l=s.bbox();e>l.x.min&&(e=l.x.min),r>l.y.min&&(r=l.y.min),i<l.x.max&&(i=l.x.max),o<l.y.max&&(o=l.y.max)}),{x:{min:e,mid:(e+i)/2,max:i,size:i-e},y:{min:r,mid:(r+o)/2,max:o,size:o-r}}},shapeintersections:function(n,e,r,i,o){if(!Xn.bboxoverlap(e,i))return[];const s=[],l=[n.startcap,n.forward,n.back,n.endcap],u=[r.startcap,r.forward,r.back,r.endcap];return l.forEach(function(c){c.virtual||u.forEach(function(d){if(d.virtual)return;const h=c.intersects(d,o);h.length>0&&(h.c1=c,h.c2=d,h.s1=n,h.s2=r,s.push(h))})}),s},makeshape:function(n,e,r){const i=e.points.length,o=n.points.length,s=Xn.makeline(e.points[i-1],n.points[0]),l=Xn.makeline(n.points[o-1],e.points[0]),u={startcap:s,forward:n,back:e,endcap:l,bbox:Xn.findbbox([s,n,e,l])};return u.intersections=function(c){return Xn.shapeintersections(u,u.bbox,c,c.bbox,r)},u},getminmax:function(n,e,r){if(!r)return{min:0,max:0};let i=TM,o=RM,s,l;r.indexOf(0)===-1&&(r=[0].concat(r)),r.indexOf(1)===-1&&r.push(1);for(let u=0,c=r.length;u<c;u++)s=r[u],l=n.get(s),l[e]<i&&(i=l[e]),l[e]>o&&(o=l[e]);return{min:i,mid:(i+o)/2,max:o,size:o-i}},align:function(n,e){const r=e.p1.x,i=e.p1.y,o=-n0(e.p2.y-i,e.p2.x-r),s=function(l){return{x:(l.x-r)*au(o)-(l.y-i)*Yp(o),y:(l.x-r)*Yp(o)+(l.y-i)*au(o)}};return n.map(s)},roots:function(n,e){e=e||{p1:{x:0,y:0},p2:{x:1,y:0}};const r=n.length-1,i=Xn.align(n,e),o=function(R){return 0<=R&&R<=1};if(r===2){const R=i[0].y,L=i[1].y,T=i[2].y,D=R-2*L+T;if(D!==0){const H=-gd(L*L-R*T),V=-R+L,B=-(H+V)/D,O=-(-H+V)/D;return[B,O].filter(o)}else if(L!==T&&D===0)return[(2*L-T)/(2*L-2*T)].filter(o);return[]}const s=i[0].y,l=i[1].y,u=i[2].y,c=i[3].y;let d=-s+3*l-3*u+c,h=3*s-6*l+3*u,p=-3*s+3*l,m=s;if(Xn.approximately(d,0)){if(Xn.approximately(h,0))return Xn.approximately(p,0)?[]:[-m/p].filter(o);const R=gd(p*p-4*h*m),L=2*h;return[(R-p)/L,(-p-R)/L].filter(o)}h/=d,p/=d,m/=d;const v=(3*p-h*h)/3,y=v/3,A=(2*h*h*h-9*h*p+27*m)/27,b=A/2,g=b*b+y*y*y;let w,E,C,_,P;if(g<0){const R=-v/3,L=R*R*R,T=gd(L),D=-A/(2*T),H=D<-1?-1:D>1?1:D,V=NFe(H),B=r0(T),O=2*B;return C=O*au(V/3)-h/3,_=O*au((V+$1)/3)-h/3,P=O*au((V+2*$1)/3)-h/3,[C,_,P].filter(o)}else{if(g===0)return w=b<0?r0(-b):-r0(b),C=2*w-h/3,_=-w-h/3,[C,_].filter(o);{const R=gd(g);return w=r0(-b+R),E=r0(b+R),[w-E-h/3].filter(o)}}},droots:function(n){if(n.length===3){const e=n[0],r=n[1],i=n[2],o=e-2*r+i;if(o!==0){const s=-gd(r*r-e*i),l=-e+r,u=-(s+l)/o,c=-(-s+l)/o;return[u,c]}else if(r!==i&&o===0)return[(2*r-i)/(2*(r-i))];return[]}if(n.length===2){const e=n[0],r=n[1];return e!==r?[e/(e-r)]:[]}return[]},curvature:function(n,e,r,i,o){let s,l,u,c,d=0,h=0;const p=Xn.compute(n,e),m=Xn.compute(n,r),v=p.x*p.x+p.y*p.y;if(i?(s=gd(Ys(p.y*m.z-m.y*p.z,2)+Ys(p.z*m.x-m.z*p.x,2)+Ys(p.x*m.y-m.x*p.y,2)),l=Ys(v+p.z*p.z,3/2)):(s=p.x*m.y-p.y*m.x,l=Ys(v,3/2)),s===0||l===0)return{k:0,r:0};if(d=s/l,h=l/s,!o){const y=Xn.curvature(n-.001,e,r,i,!0).k,A=Xn.curvature(n+.001,e,r,i,!0).k;c=(A-d+(d-y))/2,u=(t0(A-d)+t0(d-y))/2}return{k:d,r:h,dk:c,adk:u}},inflections:function(n){if(n.length<4)return[];const e=Xn.align(n,{p1:n[0],p2:n.slice(-1)[0]}),r=e[2].x*e[1].y,i=e[3].x*e[1].y,o=e[1].x*e[2].y,s=e[3].x*e[2].y,l=18*(-3*r+2*i+3*o-s),u=18*(3*r-i-3*o),c=18*(o-r);if(Xn.approximately(l,0)){if(!Xn.approximately(u,0)){let m=-c/u;if(0<=m&&m<=1)return[m]}return[]}const d=2*l;if(Xn.approximately(d,0))return[];const h=u*u-4*l*c;if(h<0)return[];const p=Math.sqrt(h);return[(p-u)/d,-(u+p)/d].filter(function(m){return 0<=m&&m<=1})},bboxoverlap:function(n,e){const r=["x","y"],i=r.length;for(let o=0,s,l,u,c;o<i;o++)if(s=r[o],l=n[s].mid,u=e[s].mid,c=(n[s].size+e[s].size)/2,t0(l-u)>=c)return!1;return!0},expandbox:function(n,e){e.x.min<n.x.min&&(n.x.min=e.x.min),e.y.min<n.y.min&&(n.y.min=e.y.min),e.z&&e.z.min<n.z.min&&(n.z.min=e.z.min),e.x.max>n.x.max&&(n.x.max=e.x.max),e.y.max>n.y.max&&(n.y.max=e.y.max),e.z&&e.z.max>n.z.max&&(n.z.max=e.z.max),n.x.mid=(n.x.min+n.x.max)/2,n.y.mid=(n.y.min+n.y.max)/2,n.z&&(n.z.mid=(n.z.min+n.z.max)/2),n.x.size=n.x.max-n.x.min,n.y.size=n.y.max-n.y.min,n.z&&(n.z.size=n.z.max-n.z.min)},pairiteration:function(n,e,r){const i=n.bbox(),o=e.bbox(),s=1e5,l=r||.5;if(i.x.size+i.y.size<l&&o.x.size+o.y.size<l)return[(s*(n._t1+n._t2)/2|0)/s+"/"+(s*(e._t1+e._t2)/2|0)/s];let u=n.split(.5),c=e.split(.5),d=[{left:u.left,right:c.left},{left:u.left,right:c.right},{left:u.right,right:c.right},{left:u.right,right:c.left}];d=d.filter(function(p){return Xn.bboxoverlap(p.left.bbox(),p.right.bbox())});let h=[];return d.length===0||(d.forEach(function(p){h=h.concat(Xn.pairiteration(p.left,p.right,l))}),h=h.filter(function(p,m){return h.indexOf(p)===m})),h},getccenter:function(n,e,r){const i=e.x-n.x,o=e.y-n.y,s=r.x-e.x,l=r.y-e.y,u=i*au(vd)-o*Yp(vd),c=i*Yp(vd)+o*au(vd),d=s*au(vd)-l*Yp(vd),h=s*Yp(vd)+l*au(vd),p=(n.x+e.x)/2,m=(n.y+e.y)/2,v=(e.x+r.x)/2,y=(e.y+r.y)/2,A=p+u,b=m+c,g=v+d,w=y+h,E=Xn.lli8(p,m,A,b,v,y,g,w),C=Xn.dist(E,n);let _=n0(n.y-E.y,n.x-E.x),P=n0(e.y-E.y,e.x-E.x),R=n0(r.y-E.y,r.x-E.x),L;return _<R?((_>P||P>R)&&(_+=$1),_>R&&(L=R,R=_,_=L)):R<P&&P<_?(L=R,R=_,_=L):R+=$1,E.s=_,E.e=R,E.r=C,E},numberSort:function(n,e){return n-e}};class W0{constructor(e){this.curves=[],this._3d=!1,e&&(this.curves=e,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(e){return Xn.pointsToString(e.points)}).join(", ")+"]"}addCurve(e){this.curves.push(e),this._3d=this._3d||e._3d}length(){return this.curves.map(function(e){return e.length()}).reduce(function(e,r){return e+r})}curve(e){return this.curves[e]}bbox(){const e=this.curves;for(var r=e[0].bbox(),i=1;i<e.length;i++)Xn.expandbox(r,e[i].bbox());return r}offset(e){const r=[];return this.curves.forEach(function(i){r.push(...i.offset(e))}),new W0(r)}}const{abs:i0,min:U6,max:z6,cos:UFe,sin:zFe,acos:$Fe,sqrt:o0}=Math,HFe=Math.PI;class Zi{constructor(e){let r=e&&e.forEach?e:Array.from(arguments).slice(),i=!1;if(typeof r[0]=="object"){i=r.length;const v=[];r.forEach(function(y){["x","y","z"].forEach(function(A){typeof y[A]<"u"&&v.push(y[A])})}),r=v}let o=!1;const s=r.length;if(i){if(i>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");o=!0}}else if(s!==6&&s!==8&&s!==9&&s!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const l=this._3d=!o&&(s===9||s===12)||e&&e[0]&&typeof e[0].z<"u",u=this.points=[];for(let v=0,y=l?3:2;v<s;v+=y){var c={x:r[v],y:r[v+1]};l&&(c.z=r[v+2]),u.push(c)}const d=this.order=u.length-1,h=this.dims=["x","y"];l&&h.push("z"),this.dimlen=h.length;const p=Xn.align(u,{p1:u[0],p2:u[d]}),m=Xn.dist(u[0],u[d]);this._linear=p.reduce((v,y)=>v+i0(y.y),0)<m/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(e,r,i,o){if(typeof o>"u"&&(o=.5),o===0)return new Zi(r,r,i);if(o===1)return new Zi(e,r,r);const s=Zi.getABC(2,e,r,i,o);return new Zi(e,s.A,i)}static cubicFromPoints(e,r,i,o,s){typeof o>"u"&&(o=.5);const l=Zi.getABC(3,e,r,i,o);typeof s>"u"&&(s=Xn.dist(r,l.C));const u=s*(1-o)/o,c=Xn.dist(e,i),d=(i.x-e.x)/c,h=(i.y-e.y)/c,p=s*d,m=s*h,v=u*d,y=u*h,A={x:r.x-p,y:r.y-m},b={x:r.x+v,y:r.y+y},g=l.A,w={x:g.x+(A.x-g.x)/(1-o),y:g.y+(A.y-g.y)/(1-o)},E={x:g.x+(b.x-g.x)/o,y:g.y+(b.y-g.y)/o},C={x:e.x+(w.x-e.x)/o,y:e.y+(w.y-e.y)/o},_={x:i.x+(E.x-i.x)/(1-o),y:i.y+(E.y-i.y)/(1-o)};return new Zi(e,C,_,i)}static getUtils(){return Xn}getUtils(){return Zi.getUtils()}static get PolyBezier(){return W0}valueOf(){return this.toString()}toString(){return Xn.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const e=this.points,r=e[0].x,i=e[0].y,o=["M",r,i,this.order===2?"Q":"C"];for(let s=1,l=e.length;s<l;s++)o.push(e[s].x),o.push(e[s].y);return o.join(" ")}setRatios(e){if(e.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=e,this._lut=[]}verify(){const e=this.coordDigest();e!==this._print&&(this._print=e,this.update())}coordDigest(){return this.points.map(function(e,r){return""+r+e.x+e.y+(e.z?e.z:0)}).join("")}update(){this._lut=[],this.dpoints=Xn.derive(this.points,this._3d),this.computedirection()}computedirection(){const e=this.points,r=Xn.angle(e[0],e[this.order],e[1]);this.clockwise=r>0}length(){return Xn.length(this.derivative.bind(this))}static getABC(e=2,r,i,o,s=.5){const l=Xn.projectionratio(s,e),u=1-l,c={x:l*r.x+u*o.x,y:l*r.y+u*o.y},d=Xn.abcratio(s,e);return{A:{x:i.x+(i.x-c.x)/d,y:i.y+(i.y-c.y)/d},B:i,C:c,S:r,E:o}}getABC(e,r){r=r||this.get(e);let i=this.points[0],o=this.points[this.order];return Zi.getABC(this.order,i,r,o,e)}getLUT(e){if(this.verify(),e=e||100,this._lut.length===e+1)return this._lut;this._lut=[],e++,this._lut=[];for(let r=0,i,o;r<e;r++)o=r/(e-1),i=this.compute(o),i.t=o,this._lut.push(i);return this._lut}on(e,r){r=r||5;const i=this.getLUT(),o=[];for(let s=0,l,u=0;s<i.length;s++)l=i[s],Xn.dist(l,e)<r&&(o.push(l),u+=s/i.length);return o.length?t/=o.length:!1}project(e){const r=this.getLUT(),i=r.length-1,o=Xn.closest(r,e),s=o.mpos,l=(s-1)/i,u=(s+1)/i,c=.1/i;let d=o.mdist,h=l,p=h,m;d+=1;for(let v;h<u+c;h+=c)m=this.compute(h),v=Xn.dist(e,m),v<d&&(d=v,p=h);return p=p<0?0:p>1?1:p,m=this.compute(p),m.t=p,m.d=d,m}get(e){return this.compute(e)}point(e){return this.points[e]}compute(e){return this.ratios?Xn.computeWithRatios(e,this.points,this.ratios,this._3d):Xn.compute(e,this.points,this._3d,this.ratios)}raise(){const e=this.points,r=[e[0]],i=e.length;for(let o=1,s,l;o<i;o++)s=e[o],l=e[o-1],r[o]={x:(i-o)/i*s.x+o/i*l.x,y:(i-o)/i*s.y+o/i*l.y};return r[i]=e[i-1],new Zi(r)}derivative(e){return Xn.compute(e,this.dpoints[0],this._3d)}dderivative(e){return Xn.compute(e,this.dpoints[1],this._3d)}align(){let e=this.points;return new Zi(Xn.align(e,{p1:e[0],p2:e[e.length-1]}))}curvature(e){return Xn.curvature(e,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return Xn.inflections(this.points)}normal(e){return this._3d?this.__normal3(e):this.__normal2(e)}__normal2(e){const r=this.derivative(e),i=o0(r.x*r.x+r.y*r.y);return{t:e,x:-r.y/i,y:r.x/i}}__normal3(e){const r=this.derivative(e),i=this.derivative(e+.01),o=o0(r.x*r.x+r.y*r.y+r.z*r.z),s=o0(i.x*i.x+i.y*i.y+i.z*i.z);r.x/=o,r.y/=o,r.z/=o,i.x/=s,i.y/=s,i.z/=s;const l={x:i.y*r.z-i.z*r.y,y:i.z*r.x-i.x*r.z,z:i.x*r.y-i.y*r.x},u=o0(l.x*l.x+l.y*l.y+l.z*l.z);l.x/=u,l.y/=u,l.z/=u;const c=[l.x*l.x,l.x*l.y-l.z,l.x*l.z+l.y,l.x*l.y+l.z,l.y*l.y,l.y*l.z-l.x,l.x*l.z-l.y,l.y*l.z+l.x,l.z*l.z];return{t:e,x:c[0]*r.x+c[1]*r.y+c[2]*r.z,y:c[3]*r.x+c[4]*r.y+c[5]*r.z,z:c[6]*r.x+c[7]*r.y+c[8]*r.z}}hull(e){let r=this.points,i=[],o=[],s=0;for(o[s++]=r[0],o[s++]=r[1],o[s++]=r[2],this.order===3&&(o[s++]=r[3]);r.length>1;){i=[];for(let l=0,u,c=r.length-1;l<c;l++)u=Xn.lerp(e,r[l],r[l+1]),o[s++]=u,i.push(u);r=i}return o}split(e,r){if(e===0&&r)return this.split(r).left;if(r===1)return this.split(e).right;const i=this.hull(e),o={left:this.order===2?new Zi([i[0],i[3],i[5]]):new Zi([i[0],i[4],i[7],i[9]]),right:this.order===2?new Zi([i[5],i[4],i[2]]):new Zi([i[9],i[8],i[6],i[3]]),span:i};return o.left._t1=Xn.map(0,0,1,this._t1,this._t2),o.left._t2=Xn.map(e,0,1,this._t1,this._t2),o.right._t1=Xn.map(e,0,1,this._t1,this._t2),o.right._t2=Xn.map(1,0,1,this._t1,this._t2),r?(r=Xn.map(r,e,1,0,1),o.right.split(r).left):o}extrema(){const e={};let r=[];return this.dims.forEach((function(i){let o=function(l){return l[i]},s=this.dpoints[0].map(o);e[i]=Xn.droots(s),this.order===3&&(s=this.dpoints[1].map(o),e[i]=e[i].concat(Xn.droots(s))),e[i]=e[i].filter(function(l){return l>=0&&l<=1}),r=r.concat(e[i].sort(Xn.numberSort))}).bind(this)),e.values=r.sort(Xn.numberSort).filter(function(i,o){return r.indexOf(i)===o}),e}bbox(){const e=this.extrema(),r={};return this.dims.forEach((function(i){r[i]=Xn.getminmax(this,i,e[i])}).bind(this)),r}overlaps(e){const r=this.bbox(),i=e.bbox();return Xn.bboxoverlap(r,i)}offset(e,r){if(typeof r<"u"){const i=this.get(e),o=this.normal(e),s={c:i,n:o,x:i.x+o.x*r,y:i.y+o.y*r};return this._3d&&(s.z=i.z+o.z*r),s}if(this._linear){const i=this.normal(0),o=this.points.map(function(s){const l={x:s.x+e*i.x,y:s.y+e*i.y};return s.z&&i.z&&(l.z=s.z+e*i.z),l});return[new Zi(o)]}return this.reduce().map(function(i){return i._linear?i.offset(e)[0]:i.scale(e)})}simple(){if(this.order===3){const o=Xn.angle(this.points[0],this.points[3],this.points[1]),s=Xn.angle(this.points[0],this.points[3],this.points[2]);if(o>0&&s<0||o<0&&s>0)return!1}const e=this.normal(0),r=this.normal(1);let i=e.x*r.x+e.y*r.y;return this._3d&&(i+=e.z*r.z),i0($Fe(i))<HFe/3}reduce(){let e,r=0,i=0,o=.01,s,l=[],u=[],c=this.extrema().values;for(c.indexOf(0)===-1&&(c=[0].concat(c)),c.indexOf(1)===-1&&c.push(1),r=c[0],e=1;e<c.length;e++)i=c[e],s=this.split(r,i),s._t1=r,s._t2=i,l.push(s),r=i;return l.forEach(function(d){for(r=0,i=0;i<=1;)for(i=r+o;i<=1+o;i+=o)if(s=d.split(r,i),!s.simple()){if(i-=o,i0(r-i)<o)return[];s=d.split(r,i),s._t1=Xn.map(r,0,1,d._t1,d._t2),s._t2=Xn.map(i,0,1,d._t1,d._t2),u.push(s),r=i;break}r<1&&(s=d.split(r,1),s._t1=Xn.map(r,0,1,d._t1,d._t2),s._t2=d._t2,u.push(s))}),u}translate(e,r,i){i=typeof i=="number"?i:r;const o=this.order;let s=this.points.map((l,u)=>(1-u/o)*r+u/o*i);return new Zi(this.points.map((l,u)=>({x:l.x+e.x*s[u],y:l.y+e.y*s[u]})))}scale(e){const r=this.order;let i=!1;if(typeof e=="function"&&(i=e),i&&r===2)return this.raise().scale(i);const o=this.clockwise,s=this.points;if(this._linear)return this.translate(this.normal(0),i?i(0):e,i?i(1):e);const l=i?i(0):e,u=i?i(1):e,c=[this.offset(0,10),this.offset(1,10)],d=[],h=Xn.lli4(c[0],c[0].c,c[1],c[1].c);if(!h)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(p){const m=d[p*r]=Xn.copy(s[p*r]);m.x+=(p?u:l)*c[p].n.x,m.y+=(p?u:l)*c[p].n.y}),i?([0,1].forEach(function(p){if(!(r===2&&p)){var m=s[p+1],v={x:m.x-h.x,y:m.y-h.y},y=i?i((p+1)/r):e;i&&!o&&(y=-y);var A=o0(v.x*v.x+v.y*v.y);v.x/=A,v.y/=A,d[p+1]={x:m.x+y*v.x,y:m.y+y*v.y}}}),new Zi(d)):([0,1].forEach(p=>{if(r===2&&p)return;const m=d[p*r],v=this.derivative(p),y={x:m.x+v.x,y:m.y+v.y};d[p+1]=Xn.lli4(m,y,h,s[p+1])}),new Zi(d))}outline(e,r,i,o){if(r=r===void 0?e:r,this._linear){const _=this.normal(0),P=this.points[0],R=this.points[this.points.length-1];let L,T,D;i===void 0&&(i=e,o=r),L={x:P.x+_.x*e,y:P.y+_.y*e},D={x:R.x+_.x*i,y:R.y+_.y*i},T={x:(L.x+D.x)/2,y:(L.y+D.y)/2};const H=[L,T,D];L={x:P.x-_.x*r,y:P.y-_.y*r},D={x:R.x-_.x*o,y:R.y-_.y*o},T={x:(L.x+D.x)/2,y:(L.y+D.y)/2};const V=[D,T,L],B=Xn.makeline(V[2],H[0]),O=Xn.makeline(H[2],V[0]),F=[B,new Zi(H),O,new Zi(V)];return new W0(F)}const s=this.reduce(),l=s.length,u=[];let c=[],d,h=0,p=this.length();const m=typeof i<"u"&&typeof o<"u";function v(_,P,R,L,T){return function(D){const H=L/R,V=(L+T)/R,B=P-_;return Xn.map(D,0,1,_+H*B,_+V*B)}}s.forEach(function(_){const P=_.length();m?(u.push(_.scale(v(e,i,p,h,P))),c.push(_.scale(v(-r,-o,p,h,P)))):(u.push(_.scale(e)),c.push(_.scale(-r))),h+=P}),c=c.map(function(_){return d=_.points,d[3]?_.points=[d[3],d[2],d[1],d[0]]:_.points=[d[2],d[1],d[0]],_}).reverse();const y=u[0].points[0],A=u[l-1].points[u[l-1].points.length-1],b=c[l-1].points[c[l-1].points.length-1],g=c[0].points[0],w=Xn.makeline(b,y),E=Xn.makeline(A,g),C=[w].concat(u).concat([E]).concat(c);return new W0(C)}outlineshapes(e,r,i){r=r||e;const o=this.outline(e,r).curves,s=[];for(let l=1,u=o.length;l<u/2;l++){const c=Xn.makeshape(o[l],o[u-l],i);c.startcap.virtual=l>1,c.endcap.virtual=l<u/2-1,s.push(c)}return s}intersects(e,r){return e?e.p1&&e.p2?this.lineIntersects(e):(e instanceof Zi&&(e=e.reduce()),this.curveintersects(this.reduce(),e,r)):this.selfintersects(r)}lineIntersects(e){const r=U6(e.p1.x,e.p2.x),i=U6(e.p1.y,e.p2.y),o=z6(e.p1.x,e.p2.x),s=z6(e.p1.y,e.p2.y);return Xn.roots(this.points,e).filter(l=>{var u=this.get(l);return Xn.between(u.x,r,o)&&Xn.between(u.y,i,s)})}selfintersects(e){const r=this.reduce(),i=r.length-2,o=[];for(let s=0,l,u,c;s<i;s++)u=r.slice(s,s+1),c=r.slice(s+2),l=this.curveintersects(u,c,e),o.push(...l);return o}curveintersects(e,r,i){const o=[];e.forEach(function(l){r.forEach(function(u){l.overlaps(u)&&o.push({left:l,right:u})})});let s=[];return o.forEach(function(l){const u=Xn.pairiteration(l.left,l.right,i);u.length>0&&(s=s.concat(u))}),s}arcs(e){return e=e||.5,this._iterate(e,[])}_error(e,r,i,o){const s=(o-i)/4,l=this.get(i+s),u=this.get(o-s),c=Xn.dist(e,r),d=Xn.dist(e,l),h=Xn.dist(e,u);return i0(d-c)+i0(h-c)}_iterate(e,r){let i=0,o=1,s;do{s=0,o=1;let l=this.get(i),u,c,d,h,p=!1,m=!1,v,y=o,A=1;do if(m=p,h=d,y=(i+o)/2,u=this.get(y),c=this.get(o),d=Xn.getccenter(l,u,c),d.interval={start:i,end:o},p=this._error(d,l,i,o)<=e,v=m&&!p,v||(A=o),p){if(o>=1){if(d.interval.end=A=1,h=d,o>1){let g={x:d.x+d.r*UFe(d.e),y:d.y+d.r*zFe(d.e)};d.e+=Xn.angle({x:d.x,y:d.y},g,this.get(1))}break}o=o+(o-i)/2}else o=y;while(!v&&s++<100);if(s>=100)break;h=h||d,r.push(h),i=A}while(o<1);return r}}function jFe(n,e){e===void 0&&(e={});var r=e.insertAt;if(!(!n||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",r==="top"&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}}var GFe=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .graph-tooltip {
  position: absolute;
  top: 0;
  font-family: sans-serif;
  font-size: 16px;
  padding: 4px;
  border-radius: 3px;
  color: #eee;
  background: rgba(0,0,0,0.65);
  visibility: hidden; /* by default */
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;jFe(GFe);function VFe(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,s,l,u=[],c=!0,d=!1;try{if(s=(r=r.call(n)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(i=s.call(r)).done)&&(u.push(i.value),u.length!==e);c=!0);}catch(h){d=!0,o=h}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw o}}return u}}function $6(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function Jp(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$6(Object(r),!0).forEach(function(i){BA(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):$6(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function OR(n){"@babel/helpers - typeof";return OR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OR(n)}function BA(n,e,r){return e=ZFe(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function DR(n,e){return DR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},DR(n,e)}function WFe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Q0(n,e,r){return WFe()?Q0=Reflect.construct.bind():Q0=function(o,s,l){var u=[null];u.push.apply(u,s);var c=Function.bind.apply(o,u),d=new c;return l&&DR(d,l.prototype),d},Q0.apply(null,arguments)}function K0(n,e){return KFe(n)||VFe(n,e)||cW(n,e)||YFe()}function ol(n){return QFe(n)||XFe(n)||cW(n)||qFe()}function QFe(n){if(Array.isArray(n))return NR(n)}function KFe(n){if(Array.isArray(n))return n}function XFe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function cW(n,e){if(n){if(typeof n=="string")return NR(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NR(n,e)}}function NR(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function qFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JFe(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ZFe(n){var e=JFe(n,"string");return typeof e=="symbol"?e:String(e)}var e5e=LL(CV);function H6(n,e,r){!e||typeof r!="string"||n.filter(function(i){return!i[r]}).forEach(function(i){i[r]=e5e(e(i))})}function t5e(n,e){var r=n.nodes,i=n.links,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=o.nodeFilter,l=s===void 0?function(){return!0}:s,u=o.onLoopError,c=u===void 0?function(v){throw"Invalid DAG structure! Found cycle in node path: ".concat(v.join(" -> "),".")}:u,d={};r.forEach(function(v){return d[e(v)]={data:v,out:[],depth:-1,skip:!l(v)}}),i.forEach(function(v){var y=v.source,A=v.target,b=C(y),g=C(A);if(!d.hasOwnProperty(b))throw"Missing source node with id: ".concat(b);if(!d.hasOwnProperty(g))throw"Missing target node with id: ".concat(g);var w=d[b],E=d[g];w.out.push(E);function C(_){return OR(_)==="object"?e(_):_}});var h=[];m(Object.values(d));var p=Object.assign.apply(Object,[{}].concat(ol(Object.entries(d).filter(function(v){var y=K0(v,2),A=y[1];return!A.skip}).map(function(v){var y=K0(v,2),A=y[0],b=y[1];return BA({},A,b.depth)}))));return p;function m(v){for(var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,b=function(){var C=v[g];if(y.indexOf(C)!==-1){var _=[].concat(ol(y.slice(y.indexOf(C))),[C]).map(function(P){return e(P.data)});return h.some(function(P){return P.length===_.length&&P.every(function(R,L){return R===_[L]})})||(h.push(_),c(_)),1}A>C.depth&&(C.depth=A,m(C.out,[].concat(ol(y),[C]),A+(C.skip?0:1)))},g=0,w=v.length;g<w;g++)b()}}var n5e=2,Ra=function(e,r){return r.onNeedsRedraw&&r.onNeedsRedraw()},j6=function(e,r){if(!r.isShadow){var i=Ir(r.linkDirectionalParticles);r.graphData.links.forEach(function(o){var s=Math.round(Math.abs(i(o)));s?o.__photons=ol(Array(s)).map(function(){return{}}):delete o.__photons})}},NE=Oh({props:{graphData:{default:{nodes:[],links:[]},onChange:function(e,r){r.engineRunning=!1,j6(e,r)}},dagMode:{onChange:function(e,r){!e&&(r.graphData.nodes||[]).forEach(function(i){return i.fx=i.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(e){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:Ra},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:Ra},nodeColor:{default:"color",triggerUpdate:!1,onChange:Ra},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:Ra},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:Ra},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:Ra},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:Ra},linkColor:{default:"color",triggerUpdate:!1,onChange:Ra},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:Ra},linkWidth:{default:1,triggerUpdate:!1,onChange:Ra},linkCurvature:{default:0,triggerUpdate:!1,onChange:Ra},linkCanvasObject:{triggerUpdate:!1,onChange:Ra},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:Ra},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:Ra},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:Ra},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:Ra},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:j6},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,r){r.forceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,r){r.forceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,r){r.forceLayout.velocityDecay(e)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(e,r,i){return i===void 0?e.forceLayout.force(r):(e.forceLayout.force(r,i),this)},d3ReheatSimulation:function(e){return e.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},isEngineRunning:function(e){return!!e.engineRunning},tickFrame:function(e){return!e.isShadow&&r(),o(),!e.isShadow&&s(),!e.isShadow&&l(),i(),this;function r(){e.engineRunning&&(++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime||e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin?(e.engineRunning=!1,e.onEngineStop()):(e.forceLayout.tick(),e.onEngineTick()))}function i(){var u=Ir(e.nodeVisibility),c=Ir(e.nodeVal),d=Ir(e.nodeColor),h=Ir(e.nodeCanvasObjectMode),p=e.ctx,m=e.isShadow/e.globalScale,v=e.graphData.nodes.filter(u);p.save(),v.forEach(function(y){var A=h(y);if(e.nodeCanvasObject&&(A==="before"||A==="replace")&&(e.nodeCanvasObject(y,p,e.globalScale),A==="replace")){p.restore();return}var b=Math.sqrt(Math.max(0,c(y)||1))*e.nodeRelSize+m;p.beginPath(),p.arc(y.x,y.y,b,0,2*Math.PI,!1),p.fillStyle=d(y)||"rgba(31, 120, 180, 0.92)",p.fill(),e.nodeCanvasObject&&A==="after"&&e.nodeCanvasObject(y,e.ctx,e.globalScale)}),p.restore()}function o(){var u=Ir(e.linkVisibility),c=Ir(e.linkColor),d=Ir(e.linkWidth),h=Ir(e.linkLineDash),p=Ir(e.linkCurvature),m=Ir(e.linkCanvasObjectMode),v=e.ctx,y=e.isShadow*2,A=e.graphData.links.filter(u);A.forEach(P);var b=[],g=[],w=A;if(e.linkCanvasObject){var E=[],C=[];A.forEach(function(R){return({before:b,after:g,replace:E}[m(R)]||C).push(R)}),w=[].concat(ol(b),g,C),b=b.concat(E)}v.save(),b.forEach(function(R){return e.linkCanvasObject(R,v,e.globalScale)}),v.restore();var _=pR(w,[c,d,h]);v.save(),Object.entries(_).forEach(function(R){var L=K0(R,2),T=L[0],D=L[1],H=!T||T==="undefined"?"rgba(0,0,0,0.15)":T;Object.entries(D).forEach(function(V){var B=K0(V,2),O=B[0],F=B[1],N=(O||1)/e.globalScale+y;Object.entries(F).forEach(function(z){var j=K0(z,2);j[0];var G=j[1],Q=h(G[0]);v.beginPath(),G.forEach(function(X){var J=X.source,Z=X.target;if(!(!J||!Z||!J.hasOwnProperty("x")||!Z.hasOwnProperty("x"))){v.moveTo(J.x,J.y);var oe=X.__controlPoints;oe?v[oe.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(v,ol(oe).concat([Z.x,Z.y])):v.lineTo(Z.x,Z.y)}}),v.strokeStyle=H,v.lineWidth=N,v.setLineDash(Q||[]),v.stroke()})})}),v.restore(),v.save(),g.forEach(function(R){return e.linkCanvasObject(R,v,e.globalScale)}),v.restore();function P(R){var L=p(R);if(!L){R.__controlPoints=null;return}var T=R.source,D=R.target;if(!(!T||!D||!T.hasOwnProperty("x")||!D.hasOwnProperty("x"))){var H=Math.sqrt(Math.pow(D.x-T.x,2)+Math.pow(D.y-T.y,2));if(H>0){var V=Math.atan2(D.y-T.y,D.x-T.x),B=H*L,O={x:(T.x+D.x)/2+B*Math.cos(V-Math.PI/2),y:(T.y+D.y)/2+B*Math.sin(V-Math.PI/2)};R.__controlPoints=[O.x,O.y]}else{var F=L*70;R.__controlPoints=[D.x,D.y-F,D.x+F,D.y]}}}}function s(){var u=1.6,c=.2,d=Ir(e.linkDirectionalArrowLength),h=Ir(e.linkDirectionalArrowRelPos),p=Ir(e.linkVisibility),m=Ir(e.linkDirectionalArrowColor||e.linkColor),v=Ir(e.nodeVal),y=e.ctx;y.save(),e.graphData.links.filter(p).forEach(function(A){var b=d(A);if(!(!b||b<0)){var g=A.source,w=A.target;if(!(!g||!w||!g.hasOwnProperty("x")||!w.hasOwnProperty("x"))){var E=Math.sqrt(Math.max(0,v(g)||1))*e.nodeRelSize,C=Math.sqrt(Math.max(0,v(w)||1))*e.nodeRelSize,_=Math.min(1,Math.max(0,h(A))),P=m(A)||"rgba(0,0,0,0.28)",R=b/u/2,L=A.__controlPoints&&Q0(Zi,[g.x,g.y].concat(ol(A.__controlPoints),[w.x,w.y])),T=L?function(N){return L.get(N)}:function(N){return{x:g.x+(w.x-g.x)*N||0,y:g.y+(w.y-g.y)*N||0}},D=L?L.length():Math.sqrt(Math.pow(w.x-g.x,2)+Math.pow(w.y-g.y,2)),H=E+b+(D-E-C-b)*_,V=T(H/D),B=T((H-b)/D),O=T((H-b*(1-c))/D),F=Math.atan2(V.y-B.y,V.x-B.x)-Math.PI/2;y.beginPath(),y.moveTo(V.x,V.y),y.lineTo(B.x+R*Math.cos(F),B.y+R*Math.sin(F)),y.lineTo(O.x,O.y),y.lineTo(B.x-R*Math.cos(F),B.y-R*Math.sin(F)),y.fillStyle=P,y.fill()}}}),y.restore()}function l(){var u=Ir(e.linkDirectionalParticles),c=Ir(e.linkDirectionalParticleSpeed),d=Ir(e.linkDirectionalParticleWidth),h=Ir(e.linkVisibility),p=Ir(e.linkDirectionalParticleColor||e.linkColor),m=e.ctx;m.save(),e.graphData.links.filter(h).forEach(function(v){var y=u(v);if(!(!v.hasOwnProperty("__photons")||!v.__photons.length)){var A=v.source,b=v.target;if(!(!A||!b||!A.hasOwnProperty("x")||!b.hasOwnProperty("x"))){var g=c(v),w=v.__photons||[],E=Math.max(0,d(v)/2)/Math.sqrt(e.globalScale),C=p(v)||"rgba(0,0,0,0.28)";m.fillStyle=C;var _=v.__controlPoints?Q0(Zi,[A.x,A.y].concat(ol(v.__controlPoints),[b.x,b.y])):null,P=0,R=!1;w.forEach(function(L){var T=!!L.__singleHop;if(L.hasOwnProperty("__progressRatio")||(L.__progressRatio=T?0:P/y),!T&&P++,L.__progressRatio+=g,L.__progressRatio>=1)if(!T)L.__progressRatio=L.__progressRatio%1;else{R=!0;return}var D=L.__progressRatio,H=_?_.get(D):{x:A.x+(b.x-A.x)*D||0,y:A.y+(b.y-A.y)*D||0};m.beginPath(),m.arc(H.x,H.y,E,0,2*Math.PI,!1),m.fill()}),R&&(v.__photons=v.__photons.filter(function(L){return!L.__singleHop||L.__progressRatio<=1}))}}}),m.restore()}},emitParticle:function(e,r){return r&&(!r.__photons&&(r.__photons=[]),r.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:VG().force("link",HG()).force("charge",WG()).force("center",DG()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(e,r){r.ctx=e},update:function(e){e.engineRunning=!1,e.onUpdate(),e.nodeAutoColorBy!==null&&H6(e.graphData.nodes,Ir(e.nodeAutoColorBy),e.nodeColor),e.linkAutoColorBy!==null&&H6(e.graphData.links,Ir(e.linkAutoColorBy),e.linkColor),e.graphData.links.forEach(function(h){h.source=h[e.linkSource],h.target=h[e.linkTarget]}),e.forceLayout.stop().alpha(1).nodes(e.graphData.nodes);var r=e.forceLayout.force("link");r&&r.id(function(h){return h[e.nodeId]}).links(e.graphData.links);var i=e.dagMode&&t5e(e.graphData,function(h){return h[e.nodeId]},{nodeFilter:e.dagNodeFilter,onLoopError:e.onDagError||void 0}),o=Math.max.apply(Math,ol(Object.values(i||[]))),s=e.dagLevelDistance||e.graphData.nodes.length/(o||1)*n5e*(["radialin","radialout"].indexOf(e.dagMode)!==-1?.7:1);if(e.dagMode){var l=function(p,m){return function(v){return p?(i[v[e.nodeId]]-o/2)*s*(m?-1:1):void 0}},u=l(["lr","rl"].indexOf(e.dagMode)!==-1,e.dagMode==="rl"),c=l(["td","bu"].indexOf(e.dagMode)!==-1,e.dagMode==="bu");e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(h){h.fx=u(h),h.fy=c(h)})}e.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(e.dagMode)!==-1?QG(function(h){var p=i[h[e.nodeId]]||-1;return(e.dagMode==="radialin"?o-p:p)*s}).strength(function(h){return e.dagNodeFilter(h)?1:0}):null);for(var d=0;d<e.warmupTicks&&!(e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin);d++)e.forceLayout.tick();this.resetCountdown(),e.onFinishUpdate()}});function uW(n,e){var r=n instanceof Array?n:[n],i=new e;return i._destructor&&i._destructor(),{linkProp:function(s){return{default:i[s](),onChange:function(u,c){r.forEach(function(d){return c[d][s](u)})},triggerUpdate:!1}},linkMethod:function(s){return function(l){for(var u=arguments.length,c=new Array(u>1?u-1:0),d=1;d<u;d++)c[d-1]=arguments[d];var h=[];return r.forEach(function(p){var m=l[p],v=m[s].apply(m,c);v!==m&&h.push(v)}),h.length?h[0]:this}}}}var r5e=800,i5e=4,dW=uW("forceGraph",NE),o5e=uW(["forceGraph","shadowGraph"],NE),a5e=Object.assign.apply(Object,ol(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(n){return BA({},n,dW.linkProp(n))})).concat(ol(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(n){return BA({},n,o5e.linkProp(n))})))),s5e=Object.assign.apply(Object,ol(["d3Force","d3ReheatSimulation","emitParticle"].map(function(n){return BA({},n,dW.linkMethod(n))})));function IM(n){if(n.canvas){var e=n.canvas.width,r=n.canvas.height;e===300&&r===150&&(e=r=0);var i=window.devicePixelRatio;e/=i,r/=i,[n.canvas,n.shadowCanvas].forEach(function(s){s.style.width="".concat(n.width,"px"),s.style.height="".concat(n.height,"px"),s.width=n.width*i,s.height=n.height*i,!e&&!r&&s.getContext("2d").scale(i,i)});var o=dc(n.canvas).k;n.zoom.translateBy(n.zoom.__baseElem,(n.width-e)/2/o,(n.height-r)/2/o),n.needsRedraw=!0}}function fW(n){var e=window.devicePixelRatio;n.setTransform(e,0,0,e,0,0)}function G6(n,e,r){n.save(),fW(n),n.clearRect(0,0,e,r),n.restore()}var l5e=Oh({props:Jp({width:{default:window.innerWidth,onChange:function(e,r){return IM(r)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(e,r){return IM(r)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,r){[{type:"Node",objs:e.nodes},{type:"Link",objs:e.links}].forEach(i),r.forceGraph.graphData(e),r.shadowGraph.graphData(e);function i(o){var s=o.type,l=o.objs;l.filter(function(u){if(!u.hasOwnProperty("__indexColor"))return!0;var c=r.colorTracker.lookup(u.__indexColor);return!c||!c.hasOwnProperty("d")||c.d!==u}).forEach(function(u){u.__indexColor=r.colorTracker.register({type:s,d:u})})}},triggerUpdate:!1},backgroundColor:{onChange:function(e,r){r.canvas&&e&&(r.canvas.style.background=e)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(e,r){r.shadowGraph.nodeCanvasObject(e?function(i,o,s){return e(i,i.__indexColor,o,s)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(e,r){r.shadowGraph.linkCanvasObject(e?function(i,o,s){return e(i,i.__indexColor,o,s)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(e,r){r.zoom.scaleExtent([e,r.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(e,r){r.zoom.scaleExtent([r.zoom.scaleExtent()[0],e])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(e,r){r.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},a5e),aliases:{stopAnimation:"pauseAnimation"},methods:Jp({graph2ScreenCoords:function(e,r,i){var o=dc(e.canvas);return{x:r*o.k+o.x,y:i*o.k+o.y}},screen2GraphCoords:function(e,r,i){var o=dc(e.canvas);return{x:(r-o.x)/o.k,y:(i-o.y)/o.k}},centerAt:function(e,r,i,o){if(!e.canvas)return null;if(r!==void 0||i!==void 0){var s=Object.assign({},r!==void 0?{x:r}:{},i!==void 0?{y:i}:{});return o?new OE(l()).to(s,o).easing(Su.Quadratic.Out).onUpdate(u).start():u(s),this}return l();function l(){var c=dc(e.canvas);return{x:(e.width/2-c.x)/c.k,y:(e.height/2-c.y)/c.k}}function u(c){var d=c.x,h=c.y;e.zoom.translateTo(e.zoom.__baseElem,d===void 0?l().x:d,h===void 0?l().y:h),e.needsRedraw=!0}},zoom:function(e,r,i){if(!e.canvas)return null;if(r!==void 0)return i?new OE({k:o()}).to({k:r},i).easing(Su.Quadratic.Out).onUpdate(function(l){var u=l.k;return s(u)}).start():s(r),this;return o();function o(){return dc(e.canvas).k}function s(l){e.zoom.scaleTo(e.zoom.__baseElem,l),e.needsRedraw=!0}},zoomToFit:function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,o=arguments.length,s=new Array(o>3?o-3:0),l=3;l<o;l++)s[l-3]=arguments[l];var u=this.getGraphBbox.apply(this,s);if(u){var c={x:(u.x[0]+u.x[1])/2,y:(u.y[0]+u.y[1])/2},d=Math.max(1e-12,Math.min(1e12,(e.width-i*2)/(u.x[1]-u.x[0]),(e.height-i*2)/(u.y[1]-u.y[0])));this.centerAt(c.x,c.y,r),this.zoom(d,r)}return this},getGraphBbox:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},i=Ir(e.nodeVal),o=function(u){return Math.sqrt(Math.max(0,i(u)||1))*e.nodeRelSize},s=e.graphData.nodes.filter(r).map(function(l){return{x:l.x,y:l.y,r:o(l)}});return s.length?{x:[fR(s,function(l){return l.x-l.r}),dR(s,function(l){return l.x+l.r})],y:[fR(s,function(l){return l.y-l.r}),dR(s,function(l){return l.y+l.r})]}:null},pauseAnimation:function(e){return e.animationFrameRequestId&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),this},resumeAnimation:function(e){return e.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},s5e),stateInit:function(){return{lastSetZoom:1,zoom:bFe(),forceGraph:new NE,shadowGraph:new NE().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new DFe}},init:function(e,r){var i=this;e.innerHTML="";var o=document.createElement("div");o.classList.add("force-graph-container"),o.style.position="relative",e.appendChild(o),r.canvas=document.createElement("canvas"),r.backgroundColor&&(r.canvas.style.background=r.backgroundColor),o.appendChild(r.canvas),r.shadowCanvas=document.createElement("canvas");var s=r.canvas.getContext("2d"),l=r.shadowCanvas.getContext("2d",{willReadFrequently:!0}),u={x:-1e12,y:-1e12},c=function(){var m=null,v=window.devicePixelRatio,y=u.x>0&&u.y>0?l.getImageData(u.x*v,u.y*v,1,1):null;return y&&(m=r.colorTracker.lookup(y.data)),m};zl(r.canvas).call(ake().subject(function(){if(!r.enableNodeDrag)return null;var p=c();return p&&p.type==="Node"?p.d:null}).on("start",function(p){var m=p.subject;m.__initialDragPos={x:m.x,y:m.y,fx:m.fx,fy:m.fy},p.active||(m.fx=m.x,m.fy=m.y),r.canvas.classList.add("grabbable")}).on("drag",function(p){var m=p.subject,v=m.__initialDragPos,y=p,A=dc(r.canvas).k,b={x:v.x+(y.x-v.x)/A-m.x,y:v.y+(y.y-v.y)/A-m.y};["x","y"].forEach(function(g){return m["f".concat(g)]=m[g]=v[g]+(y[g]-v[g])/A}),r.forceGraph.d3AlphaTarget(.3).resetCountdown(),r.isPointerDragging=!0,m.__dragged=!0,r.onNodeDrag(m,b)}).on("end",function(p){var m=p.subject,v=m.__initialDragPos,y={x:m.x-v.x,y:m.y-v.y};v.fx===void 0&&(m.fx=void 0),v.fy===void 0&&(m.fy=void 0),delete m.__initialDragPos,r.forceGraph.d3AlphaTarget()&&r.forceGraph.d3AlphaTarget(0).resetCountdown(),r.canvas.classList.remove("grabbable"),r.isPointerDragging=!1,m.__dragged&&(delete m.__dragged,r.onNodeDragEnd(m,y))})),r.zoom(r.zoom.__baseElem=zl(r.canvas)),r.zoom.__baseElem.on("dblclick.zoom",null),r.zoom.filter(function(p){return!p.button&&r.enableZoomPanInteraction&&(r.enableZoomInteraction||p.type!=="wheel")&&(r.enablePanInteraction||p.type==="wheel")}).on("zoom",function(p){var m=p.transform;[s,l].forEach(function(v){fW(v),v.translate(m.x,m.y),v.scale(m.k,m.k)}),r.onZoom&&r.onZoom(Jp(Jp({},m),i.centerAt())),r.needsRedraw=!0}).on("end",function(p){return r.onZoomEnd&&r.onZoomEnd(Jp(Jp({},p.transform),i.centerAt()))}),IM(r),r.forceGraph.onNeedsRedraw(function(){return r.needsRedraw=!0}).onFinishUpdate(function(){dc(r.canvas).k===r.lastSetZoom&&r.graphData.nodes.length&&(r.zoom.scaleTo(r.zoom.__baseElem,r.lastSetZoom=i5e/Math.cbrt(r.graphData.nodes.length)),r.needsRedraw=!0)});var d=document.createElement("div");d.classList.add("graph-tooltip"),o.appendChild(d),["pointermove","pointerdown"].forEach(function(p){return o.addEventListener(p,function(m){p==="pointerdown"&&(r.isPointerPressed=!0,r.pointerDownEvent=m),!r.isPointerDragging&&m.type==="pointermove"&&r.onBackgroundClick&&(m.pressure>0||r.isPointerPressed)&&(m.pointerType!=="touch"||m.movementX===void 0||[m.movementX,m.movementY].some(function(A){return Math.abs(A)>1}))&&(r.isPointerDragging=!0);var v=y(o);u.x=m.pageX-v.left,u.y=m.pageY-v.top,d.style.top="".concat(u.y,"px"),d.style.left="".concat(u.x,"px"),d.style.transform="translate(-".concat(u.x/r.width*100,"%, ").concat(r.height-u.y<100?"calc(-100% - 8px)":"21px",")");function y(A){var b=A.getBoundingClientRect(),g=window.pageXOffset||document.documentElement.scrollLeft,w=window.pageYOffset||document.documentElement.scrollTop;return{top:b.top+w,left:b.left+g}}},{passive:!0})}),o.addEventListener("pointerup",function(p){if(r.isPointerPressed=!1,r.isPointerDragging){r.isPointerDragging=!1;return}var m=[p,r.pointerDownEvent];requestAnimationFrame(function(){if(p.button===0)if(r.hoverObj){var v=r["on".concat(r.hoverObj.type,"Click")];v&&v.apply(void 0,[r.hoverObj.d].concat(m))}else r.onBackgroundClick&&r.onBackgroundClick.apply(r,m);if(p.button===2)if(r.hoverObj){var y=r["on".concat(r.hoverObj.type,"RightClick")];y&&y.apply(void 0,[r.hoverObj.d].concat(m))}else r.onBackgroundRightClick&&r.onBackgroundRightClick.apply(r,m)})},{passive:!0}),o.addEventListener("contextmenu",function(p){return!r.onBackgroundRightClick&&!r.onNodeRightClick&&!r.onLinkRightClick?!0:(p.preventDefault(),!1)}),r.forceGraph(s),r.shadowGraph(l);var h=EFe(function(){G6(l,r.width,r.height),r.shadowGraph.linkWidth(function(m){return Ir(r.linkWidth)(m)+r.linkHoverPrecision});var p=dc(r.canvas);r.shadowGraph.globalScale(p.k).tickFrame()},r5e);r.flushShadowCanvas=h.flush,(this._animationCycle=function p(){var m=!r.autoPauseRedraw||!!r.needsRedraw||r.forceGraph.isEngineRunning()||r.graphData.links.some(function(_){return _.__photons&&_.__photons.length});if(r.needsRedraw=!1,r.enablePointerInteraction){var v=r.isPointerDragging?null:c();if(v!==r.hoverObj){var y=r.hoverObj,A=y?y.type:null,b=v?v.type:null;if(A&&A!==b){var g=r["on".concat(A,"Hover")];g&&g(null,y.d)}if(b){var w=r["on".concat(b,"Hover")];w&&w(v.d,A===b?y.d:null)}var E=v&&Ir(r["".concat(v.type.toLowerCase(),"Label")])(v.d)||"";d.style.visibility=E?"visible":"hidden",d.innerHTML=E,r.canvas.classList[v&&r["on".concat(b,"Click")]||!v&&r.onBackgroundClick?"add":"remove"]("clickable"),r.hoverObj=v}m&&h()}if(m){G6(s,r.width,r.height);var C=dc(r.canvas).k;r.onRenderFramePre&&r.onRenderFramePre(s,C),r.forceGraph.globalScale(C).tickFrame(),r.onRenderFramePost&&r.onRenderFramePost(s,C)}FV(),r.animationFrameRequestId=requestAnimationFrame(p)})()},update:function(e){}}),sw={width:Ht.number,height:Ht.number,graphData:Ht.shape({nodes:Ht.arrayOf(Ht.object).isRequired,links:Ht.arrayOf(Ht.object).isRequired}),backgroundColor:Ht.string,nodeRelSize:Ht.number,nodeId:Ht.string,nodeLabel:Ht.oneOfType([Ht.string,Ht.func]),nodeVal:Ht.oneOfType([Ht.number,Ht.string,Ht.func]),nodeVisibility:Ht.oneOfType([Ht.bool,Ht.string,Ht.func]),nodeColor:Ht.oneOfType([Ht.string,Ht.func]),nodeAutoColorBy:Ht.oneOfType([Ht.string,Ht.func]),onNodeHover:Ht.func,onNodeClick:Ht.func,linkSource:Ht.string,linkTarget:Ht.string,linkLabel:Ht.oneOfType([Ht.string,Ht.func]),linkVisibility:Ht.oneOfType([Ht.bool,Ht.string,Ht.func]),linkColor:Ht.oneOfType([Ht.string,Ht.func]),linkAutoColorBy:Ht.oneOfType([Ht.string,Ht.func]),linkWidth:Ht.oneOfType([Ht.number,Ht.string,Ht.func]),linkCurvature:Ht.oneOfType([Ht.number,Ht.string,Ht.func]),linkDirectionalArrowLength:Ht.oneOfType([Ht.number,Ht.string,Ht.func]),linkDirectionalArrowColor:Ht.oneOfType([Ht.string,Ht.func]),linkDirectionalArrowRelPos:Ht.oneOfType([Ht.number,Ht.string,Ht.func]),linkDirectionalParticles:Ht.oneOfType([Ht.number,Ht.string,Ht.func]),linkDirectionalParticleSpeed:Ht.oneOfType([Ht.number,Ht.string,Ht.func]),linkDirectionalParticleWidth:Ht.oneOfType([Ht.number,Ht.string,Ht.func]),linkDirectionalParticleColor:Ht.oneOfType([Ht.string,Ht.func]),onLinkHover:Ht.func,onLinkClick:Ht.func,dagMode:Ht.oneOf(["td","bu","lr","rl","zin","zout","radialin","radialout"]),dagLevelDistance:Ht.number,dagNodeFilter:Ht.func,onDagError:Ht.func,d3AlphaMin:Ht.number,d3AlphaDecay:Ht.number,d3VelocityDecay:Ht.number,warmupTicks:Ht.number,cooldownTicks:Ht.number,cooldownTime:Ht.number,onEngineTick:Ht.func,onEngineStop:Ht.func,getGraphBbox:Ht.func},hW={zoomToFit:Ht.func,onNodeRightClick:Ht.func,onNodeDrag:Ht.func,onNodeDragEnd:Ht.func,onLinkRightClick:Ht.func,linkHoverPrecision:Ht.number,onBackgroundClick:Ht.func,onBackgroundRightClick:Ht.func,enablePointerInteraction:Ht.bool,enableNodeDrag:Ht.bool},$L={showNavInfo:Ht.bool,nodeOpacity:Ht.number,nodeResolution:Ht.number,nodeThreeObject:Ht.oneOfType([Ht.object,Ht.string,Ht.func]),nodeThreeObjectExtend:Ht.oneOfType([Ht.bool,Ht.string,Ht.func]),linkOpacity:Ht.number,linkResolution:Ht.number,linkCurveRotation:Ht.oneOfType([Ht.number,Ht.string,Ht.func]),linkMaterial:Ht.oneOfType([Ht.object,Ht.string,Ht.func]),linkThreeObject:Ht.oneOfType([Ht.object,Ht.string,Ht.func]),linkThreeObjectExtend:Ht.oneOfType([Ht.bool,Ht.string,Ht.func]),linkPositionUpdate:Ht.func,linkDirectionalArrowResolution:Ht.number,linkDirectionalParticleResolution:Ht.number,forceEngine:Ht.oneOf(["d3","ngraph"]),ngraphPhysics:Ht.object,numDimensions:Ht.oneOf([1,2,3])},c5e=Object.assign({},sw,hW,{linkLineDash:Ht.oneOfType([Ht.arrayOf(Ht.number),Ht.string,Ht.func]),nodeCanvasObjectMode:Ht.oneOfType([Ht.string,Ht.func]),nodeCanvasObject:Ht.func,nodePointerAreaPaint:Ht.func,linkCanvasObjectMode:Ht.oneOfType([Ht.string,Ht.func]),linkCanvasObject:Ht.func,linkPointerAreaPaint:Ht.func,autoPauseRedraw:Ht.bool,minZoom:Ht.number,maxZoom:Ht.number,enableZoomInteraction:Ht.bool,enablePanInteraction:Ht.bool,onZoom:Ht.func,onZoomEnd:Ht.func,onRenderFramePre:Ht.func,onRenderFramePost:Ht.func}),u5e=Object.assign({},sw,hW,$L,{enableNavigationControls:Ht.bool,controlType:Ht.oneOf(["trackball","orbit","fly"]),rendererConfig:Ht.object,extraRenderers:Ht.arrayOf(Ht.shape({render:Ht.func.isRequired}))}),d5e=Object.assign({},sw,$L,{nodeDesc:Ht.oneOfType([Ht.string,Ht.func]),linkDesc:Ht.oneOfType([Ht.string,Ht.func])}),f5e=Object.assign({},sw,$L,{markerAttrs:Ht.object,yOffset:Ht.number,glScale:Ht.number});const pW=ZC(ADe,{methodNames:["getGraphBbox","emitParticle","d3Force","d3ReheatSimulation","refresh"]});pW.displayName="ForceGraphVR";pW.propTypes=d5e;const mW=ZC(LDe,{methodNames:["getGraphBbox","emitParticle","d3Force","d3ReheatSimulation","refresh"],initPropNames:["markerAttrs"]});mW.displayName="ForceGraphAR";mW.propTypes=f5e;const HL=ZC(x4e,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","stopAnimation","pauseAnimation","resumeAnimation","cameraPosition","zoomToFit","getGraphBbox","screen2GraphCoords","graph2ScreenCoords","postProcessingComposer","lights","scene","camera","renderer","controls","refresh"],initPropNames:["controlType","rendererConfig","extraRenderers"]});HL.displayName="ForceGraph3D";HL.propTypes=u5e;const gW=ZC(l5e,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","stopAnimation","pauseAnimation","resumeAnimation","centerAt","zoom","zoomToFit","getGraphBbox","screen2GraphCoords","graph2ScreenCoords"]});gW.displayName="ForceGraph2D";gW.propTypes=c5e;function h5e({tourRef:n}){const e=og(m=>m.model_content),r=og(m=>m.setHighlightNodes),[i,o]=M.useState(null),[s,l]=M.useState({nodes:[],links:[]});M.useEffect(()=>(l(d(e)),()=>{}),[e]);const u=M.useCallback(m=>{m!==null&&o(m.getBoundingClientRect().width)},[]),c={TABLE:{color:"EF8354",size:10},MEASURE:{color:"BFFFBC",size:5},COLUMN:{color:"F6BBA2",size:5}},d=m=>{const v=[],y=[];return((m==null?void 0:m.tables)||[]).forEach(g=>{v.push({id:g.uuid,color:c[g.entity_type].color,name:g.name,size:c[g.entity_type].size,e_type:g.entity_type,e_table:g.name}),[...g.measures,...g.columns].forEach(w=>{v.push({id:w.uuid,color:c[w.entity_type].color,name:w.name,size:c[w.entity_type].size,e_type:w.entity_type,e_table:g.name}),y.push({source:g.uuid,target:w.uuid,label:"",color:"F1E4E8"})})}),((m==null?void 0:m.relationships)||[]).forEach(g=>{const w=`[T]${g.fromTable}[C]${g.fromColumn}`,E=`[T]${g.toTable}[C]${g.toColumn}`;y.push({source:w,target:E,label:"relationship",color:"EF8354"})}),{links:y,nodes:v}},h=m=>{const v=new Map;m&&(s.links.filter(A=>A.source.id==m.id||A.target.id==m.id).forEach(A=>{v.set(A.source.id,A.source),v.set(A.target.id,A.target)}),r(Array.from(v.values())))},p=()=>{r([])};return lr.jsx(tg,{ref:u,children:lr.jsx(tg,{ref:n,bordered:!1,style:{margin:0,padding:0},bodyStyle:{margin:0,padding:0},children:lr.jsx(HL,{height:700,width:i-50,graphData:s,linkThreeObjectExtend:!0,onNodeClick:h,onBackgroundClick:p,linkDirectionalParticles:1,linkWidth:2,linkOpacity:.4,linkColor:"color",nodeThreeObject:m=>{const v=m.size,y=new THREE.SphereGeometry(v,32,16),A=new THREE.MeshBasicMaterial({color:"#"+m.color});return new THREE.Mesh(y,A)},linkThreeObject:m=>{const v=new pRe(`${m.label}`);return v.color="white",v.textHeight=3.5,v},linkPositionUpdate:(m,{start:v,end:y})=>{const A=Object.assign(...["x","y","z"].map(b=>({[b]:v[b]+(y[b]-v[b])/2})));Object.assign(m.position,A)}})})})}function p5e({tourRef:n}){const e=og(i=>i.highlightNodes),r=[{title:"Name",dataIndex:"name",key:"name"},{title:"Table",dataIndex:"e_table",key:"e_table"},{title:"Type",dataIndex:"e_type",key:"e_type",filters:[{text:"Table",value:"TABLE"},{text:"Column",value:"COLUMN"},{text:"Measure",value:"MEASURE"}],render:i=>lr.jsx(A1e,{children:i}),onFilter:(i,o)=>o.e_type===i}];return lr.jsx(tg,{ref:n,children:lr.jsx(s1e,{columns:r,dataSource:e})})}function m5e({tourRef:n}){const e=og(l=>l.model_content),r=og(l=>l.highlightNodes),{tables:i,measures:o,columns:s}=e;return lr.jsx(tg,{ref:n,children:lr.jsxs(yH,{gutter:[16,8],justify:"center",children:[lr.jsx(eh,{span:24,children:lr.jsx(gm,{title:"Tables",value:(i==null?void 0:i.length)||0,valueStyle:{textAlign:"center"},style:{textAlign:"center"}})}),lr.jsx(eh,{span:12,children:lr.jsx(gm,{title:"Columns",value:(s==null?void 0:s.length)||0,style:{textAlign:"center"}})}),lr.jsx(eh,{span:12,children:lr.jsx(gm,{title:"Measures",value:(o==null?void 0:o.length)||0,style:{textAlign:"center"}})}),lr.jsx(eh,{span:24,children:lr.jsx(gm,{title:"Selected Nodes",value:(r==null?void 0:r.length)||0,valueStyle:{color:(r==null?void 0:r.length)>4?"#cf1322":"#3f8600"},style:{textAlign:"center"},prefix:lr.jsx(Mz,{})})})]})})}function g5e(){const[n,e]=M.useState(!1),r=M.useRef(null),i=M.useRef(null),o=M.useRef(null),s=M.useRef(null),l=[{title:"Upload Model File",description:"To start select your model.bim file and load it.",placement:"left",target:()=>r.current},{title:"View your 3D Model",description:"You can view your model and even select a Node by clicking to highlicht related nodes.",placement:"right",target:()=>i.current},{title:"General statistics",description:"View general information about your model and how many Nodes would be affected by changes to the selected node.",placement:"left",target:()=>o.current},{title:"Highlighted Nodes",description:"Depending on your selected node, which measures/columns would be affected by changes.",placement:"top",target:()=>s.current}];return lr.jsxs(yH,{gutter:[16,8],children:[lr.jsx(eh,{span:20,children:lr.jsx(h5e,{tourRef:i})}),lr.jsxs(eh,{span:4,children:[lr.jsx(Cc,{type:"primary",onClick:()=>e(!0),size:"small",style:{width:"100%"},children:"Begin Tour"}),lr.jsx(Sk,{}),lr.jsx(swe,{tourRef:r}),lr.jsx(Sk,{}),lr.jsx(m5e,{tourRef:o})]}),lr.jsx(eh,{span:24,children:lr.jsx(p5e,{tourRef:s})}),lr.jsx(W1e,{open:n,onClose:()=>e(!1),steps:l})]})}const{Title:V6,Paragraph:a0,Text:W6,Link:PM}=Mj;function v5e(){return lr.jsx(tg,{children:lr.jsxs(Mj,{children:[lr.jsx(V6,{children:"Welcome"}),lr.jsx(a0,{children:"The recent update of PowerBI enabled the use of PowerBI Project files. This change enables a long list of use-cases for advanced custom developed tools around the use of PowerBI data models."}),lr.jsxs(a0,{children:["To explore the possibilities of these new functionalities i created this proof of concept tool to show 3 different creative use-cases.",lr.jsx(W6,{strong:!0,children:"Please be aware that these tools are not heavily tested but serve a demonstration purpose."})]}),lr.jsx(V6,{level:2,children:"Available Modules"}),lr.jsx(a0,{children:lr.jsxs("ul",{children:[lr.jsx("li",{children:lr.jsx(PM,{href:"#/forcegraph",children:"Force Graph"})}),lr.jsx("li",{children:lr.jsx(PM,{href:"#/autoformat",children:"Auto Formatter"})}),lr.jsx("li",{children:lr.jsx(PM,{href:"#/springboot",children:"Springboot"})})]})}),lr.jsx(a0,{children:"please enjoy and let me know if you have any suggestions or remarks."}),lr.jsx(a0,{children:lr.jsx(W6,{strong:!0,children:"Halil Trk"})})]})})}const A5e=wCe([{path:"/",element:lr.jsx(v5e,{})},{path:"/forcegraph",element:lr.jsx(g5e,{})},{path:"/autoformat",element:lr.jsx(lr.Fragment,{children:"autoformat"})},{path:"/springboot",element:lr.jsx(lr.Fragment,{children:"springboot"})}]);function y5e(){return lr.jsx(LCe,{router:A5e})}const{Header:b5e,Content:x5e,Footer:E5e,Sider:C5e}=_3;function LM(n,e,r,i,o){return{key:e,icon:r,children:o,label:lr.jsx(Sj,{disabled:i,href:e,children:n})}}const w5e=[LM("Force Graph","#/forcegraph",lr.jsx(Mz,{}),!1),LM("Auto Formatter","#/autoformat",lr.jsx(Pre,{}),!0),LM("Springboot","#/springboot",lr.jsx(Gie,{}),!0)],S5e=()=>{const[n,e]=M.useState(!1);R1e.useToken();const r=i=>{console.log(i)};return lr.jsxs(_3,{style:{minHeight:"100vh"},children:[lr.jsx(C5e,{collapsible:!0,collapsed:n,onCollapse:i=>e(i),children:lr.jsx(BP,{theme:"dark",mode:"inline",onClick:r,items:w5e})}),lr.jsxs(_3,{children:[lr.jsx(b5e,{style:{padding:0,background:"#002140"},children:lr.jsx(_j,{level:4,style:{margin:0,padding:15,color:"white"},children:"PBIP proof of concept tool"})}),lr.jsx(x5e,{style:{margin:"0 0",padding:"15px 15px"},children:lr.jsx(y5e,{})}),lr.jsx(E5e,{style:{textAlign:"center"},children:"pbip poc 2023 by Halil Trk"})]})]})};BM.createRoot(document.getElementById("root")).render(lr.jsx(Wt.StrictMode,{children:lr.jsx(S5e,{})}));
